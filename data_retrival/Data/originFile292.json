{"items":[{"tags":["java","quarkus-oidc","qarkus"],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690131509,"creation_date":1690131509,"question_id":76749396,"body_markdown":"I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints. \r\n\r\nI noticed that `quarkus.oidc.application-type` has the `hybrid` value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what `hybrid` is made for?\r\n\r\nI noticed there is `@Authenticated`, `@OAuthFlow(s)`, `@OAuthScope`, but it isn&#39;t clear how these fit together.\r\n","title":"Quarkus OIDC- Hybrid application type. How to specify type at endpoint level","body":"<p>I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints.</p>\n<p>I noticed that <code>quarkus.oidc.application-type</code> has the <code>hybrid</code> value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what <code>hybrid</code> is made for?</p>\n<p>I noticed there is <code>@Authenticated</code>, <code>@OAuthFlow(s)</code>, <code>@OAuthScope</code>, but it isn't clear how these fit together.</p>\n"},{"tags":["java","macos","swing","look-and-feel"],"comments":[{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":1,"creation_date":1354984575,"post_id":13777067,"comment_id":18946810,"body_markdown":"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html - samples","body":"<a href=\"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/lordy/archive/2006/08/&hellip;</a> - samples"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355074039,"creation_date":1354983468,"answer_id":13779287,"question_id":13777067,"body_markdown":"I haven&#39;t tried it, but [*Java on OS X v10.5 Update 1*][1] says, &quot;*Document Modal Sheets* can be created by setting the the `apple.awt.documentModalSheet` client property to `Boolean.TRUE` on the `JRootPane` of `JDialog`.&quot; I&#39;m guessing something like this:\r\n\r\n    rootPanel.putClientProperty(&quot;apple.awt.documentModalSheet&quot;, Boolean.TRUE);\r\n\r\nYou might also see if [*Mac Widgets for Java*][2] has added anything recently.\r\n\r\n  [1]: https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\r\n  [2]: http://code.google.com/p/macwidgets/","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I haven't tried it, but <a href=\"https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\" rel=\"nofollow\"><em>Java on OS X v10.5 Update 1</em></a> says, \"<em>Document Modal Sheets</em> can be created by setting the the <code>apple.awt.documentModalSheet</code> client property to <code>Boolean.TRUE</code> on the <code>JRootPane</code> of <code>JDialog</code>.\" I'm guessing something like this:</p>\n\n<pre><code>rootPanel.putClientProperty(\"apple.awt.documentModalSheet\", Boolean.TRUE);\n</code></pre>\n\n<p>You might also see if <a href=\"http://code.google.com/p/macwidgets/\" rel=\"nofollow\"><em>Mac Widgets for Java</em></a> has added anything recently.</p>\n"},{"tags":[],"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690130916,"creation_date":1690121398,"answer_id":76748659,"question_id":13777067,"body_markdown":"I am the author of a Swing look and feel called [VAqua][1], which supports displaying windows as native sheets using an associated client library.\r\n\r\nFor example:\r\n\r\n        JFrame owner = ...;\r\n        JWindow w = new JWindow(owner);\r\n        try {\r\n            VSheet.displayAsSheet(w, null);\r\n        } catch (UnsupportedOperationException ex) {\r\n            ...\r\n        }\r\n\r\nDetails [here][2].\r\n\r\n\r\n  [1]: https://violetlib.org/vaqua/clientlibrary.html\r\n  [2]: https://violetlib.org/vaqua/sheets.html","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I am the author of a Swing look and feel called <a href=\"https://violetlib.org/vaqua/clientlibrary.html\" rel=\"nofollow noreferrer\">VAqua</a>, which supports displaying windows as native sheets using an associated client library.</p>\n<p>For example:</p>\n<pre><code>    JFrame owner = ...;\n    JWindow w = new JWindow(owner);\n    try {\n        VSheet.displayAsSheet(w, null);\n    } catch (UnsupportedOperationException ex) {\n        ...\n    }\n</code></pre>\n<p>Details <a href=\"https://violetlib.org/vaqua/sheets.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":13779287,"answer_count":2,"score":1,"last_activity_date":1690130916,"creation_date":1354966467,"question_id":13777067,"body_markdown":"Does `Swing` support native dialog like below:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wQWrS.png\r\n\r\nOr maybe exists some third party&#39;s `JNI` library? ","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>Does <code>Swing</code> support native dialog like below:\n<img src=\"https://i.stack.imgur.com/wQWrS.png\" alt=\"enter image description here\"></p>\n\n<p>Or maybe exists some third party's <code>JNI</code> library? </p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690114777,"creation_date":1690112736,"answer_id":76748047,"question_id":76747554,"body_markdown":"**Here is full java based solution:** \r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    class ArrayOperations {\r\n\r\n         public static void main(String[] args) {\r\n            int[][] multiDimensionalArray1 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}\r\n            };\r\n            \r\n            int[][] multiDimensionalArray2 = {\r\n                {1, 2},\r\n                {4, 5}\r\n            };\r\n    \r\n            int[][] multiDimensionalArray3 = {\r\n                {1}\r\n            };\r\n            \r\n            \r\n            \r\n            int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\r\n            int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\r\n            int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\r\n       \r\n            for (int[] subarray : transformedArray1) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n         \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray2) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n    \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray3) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\r\n            int rows = matrix.length;\r\n            int cols = matrix[0].length;\r\n    \r\n            if (rows == 1 &amp;&amp; cols == 1) {\r\n                return new int[][]{{matrix[0][0]}};\r\n            }\r\n    \r\n            List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\r\n    \r\n            for (int row = 0; row &lt; rows; row++) {\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    if (row == 0 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element first row\r\n                    } else if (row == 0 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element first row\r\n                    } else if (row == rows - 1 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element last row\r\n                    } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element last row\r\n                    }\r\n                }\r\n            }\r\n    \r\n            int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\r\n            for (int i = 0; i &lt; corners.size(); i++) {\r\n                int row = i / elementsPerSubarray;\r\n                int col = i % elementsPerSubarray;\r\n                multiDimensionalArray[row][col] = corners.get(i);\r\n            }\r\n    \r\n            return multiDimensionalArray;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**This is not from Java. I&#39;ve used javascript. For presentational purposes, I&#39;ve adopted javascript based answer for this. But logic remains the same as above java solution.**\r\n\r\nRefer the code below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function printCornerElements(matrix, elementsPerSubarray) {\r\n      let rows = matrix.length;\r\n      let cols = matrix[0].length;\r\n\r\n      if (rows === 1 &amp;&amp; cols === 1) { \r\n        return [matrix[0][0]];\r\n      }\r\n\r\n      let corners = [];\r\n\r\n      for (let row = 0; row &lt; rows; row++) {\r\n        for (let col = 0; col &lt; cols; col++) {\r\n          if (row === 0 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element first row\r\n          } else if (row === 0 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element first row\r\n          } else if (row === rows - 1 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element last row\r\n          } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element last row\r\n          }\r\n        }\r\n      }\r\n      \r\n      let multiDimensionalArray = [];\r\n      for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\r\n        let subarray = corners.slice(i, i + elementsPerSubarray);\r\n        multiDimensionalArray.push(subarray);\r\n      }\r\n\r\n      return multiDimensionalArray;\r\n    }\r\n\r\n    const multiDimensionalArray1 = [\r\n      [1, 2,3],\r\n      [4, 5,6],\r\n      [7, 8,9],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray2 = [\r\n      [1, 2],\r\n      [4, 5],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray3 = [\r\n      [1]\r\n    ];\r\n\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Multidimensional array - dimmension of input array","body":"<p><strong>Here is full java based solution:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass ArrayOperations {\n\n     public static void main(String[] args) {\n        int[][] multiDimensionalArray1 = {\n            {1, 2, 3},\n            {4, 5, 6},\n            {7, 8, 9}\n        };\n        \n        int[][] multiDimensionalArray2 = {\n            {1, 2},\n            {4, 5}\n        };\n\n        int[][] multiDimensionalArray3 = {\n            {1}\n        };\n        \n        \n        \n        int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\n        int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\n        int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\n   \n        for (int[] subarray : transformedArray1) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n     \n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray2) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n\n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray3) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\n        int rows = matrix.length;\n        int cols = matrix[0].length;\n\n        if (rows == 1 &amp;&amp; cols == 1) {\n            return new int[][]{{matrix[0][0]}};\n        }\n\n        List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\n\n        for (int row = 0; row &lt; rows; row++) {\n            for (int col = 0; col &lt; cols; col++) {\n                if (row == 0 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element first row\n                } else if (row == 0 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element first row\n                } else if (row == rows - 1 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element last row\n                } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element last row\n                }\n            }\n        }\n\n        int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\n        for (int i = 0; i &lt; corners.size(); i++) {\n            int row = i / elementsPerSubarray;\n            int col = i % elementsPerSubarray;\n            multiDimensionalArray[row][col] = corners.get(i);\n        }\n\n        return multiDimensionalArray;\n    }\n}\n</code></pre>\n<p><strong>This is not from Java. I've used javascript. For presentational purposes, I've adopted javascript based answer for this. But logic remains the same as above java solution.</strong></p>\n<p>Refer the code below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function printCornerElements(matrix, elementsPerSubarray) {\n  let rows = matrix.length;\n  let cols = matrix[0].length;\n\n  if (rows === 1 &amp;&amp; cols === 1) { \n    return [matrix[0][0]];\n  }\n\n  let corners = [];\n\n  for (let row = 0; row &lt; rows; row++) {\n    for (let col = 0; col &lt; cols; col++) {\n      if (row === 0 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element first row\n      } else if (row === 0 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element first row\n      } else if (row === rows - 1 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element last row\n      } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element last row\n      }\n    }\n  }\n  \n  let multiDimensionalArray = [];\n  for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\n    let subarray = corners.slice(i, i + elementsPerSubarray);\n    multiDimensionalArray.push(subarray);\n  }\n\n  return multiDimensionalArray;\n}\n\nconst multiDimensionalArray1 = [\n  [1, 2,3],\n  [4, 5,6],\n  [7, 8,9],\n\n];\n\nconst multiDimensionalArray2 = [\n  [1, 2],\n  [4, 5],\n\n];\n\nconst multiDimensionalArray3 = [\n  [1]\n];\n\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690115355,"creation_date":1690115355,"answer_id":76748236,"question_id":76747554,"body_markdown":"You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:\r\n- top left = 0, 0\r\n- top right = 0, length of row minus one\r\n- bottom left = number of rows minus one, 0\r\n- bottom right = number of rows minus one, length of row minus one\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        myTable[0][0] = twoDimArray[0][0];\r\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\r\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\r\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\r\n        for (int row = 0; row &lt; 2; row++) {\r\n            for (int col = 0; col &lt; 2; col++) {\r\n                System.out.print(myTable[row][col] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printCorners(new int[][]{{1}, {2}, {3}});\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        printCorners(new int[][]{{1, 0, 2},\r\n                                 {0, 0, 0},\r\n                                 {3, 0, 4}});\r\n    }\r\n}\r\n```\r\nRunning above code produces following output:\r\n```none\r\n1 1 \r\n3 3 \r\n====================================================================\r\n1 2 \r\n3 4\r\n```","title":"Multidimensional array - dimmension of input array","body":"<p>You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:</p>\n<ul>\n<li>top left = 0, 0</li>\n<li>top right = 0, length of row minus one</li>\n<li>bottom left = number of rows minus one, 0</li>\n<li>bottom right = number of rows minus one, length of row minus one</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        myTable[0][0] = twoDimArray[0][0];\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\n        for (int row = 0; row &lt; 2; row++) {\n            for (int col = 0; col &lt; 2; col++) {\n                System.out.print(myTable[row][col] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void main(String[] args) {\n        printCorners(new int[][]{{1}, {2}, {3}});\n        System.out.println(&quot;====================================================================&quot;);\n        printCorners(new int[][]{{1, 0, 2},\n                                 {0, 0, 0},\n                                 {3, 0, 4}});\n    }\n}\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 1 \n3 3 \n====================================================================\n1 2 \n3 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690130732,"creation_date":1690125942,"answer_id":76749026,"question_id":76747554,"body_markdown":"&gt;You need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nSince all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.\r\n\r\n**Some test Data**\r\n```\r\nint[][] a1 = {{1},{2},{3}};\r\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\r\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\r\n```\r\n**The Method**\r\n\r\nTo make it easy, define some positions\r\n- `lri` -  last row index\r\n- `lifr` - last index of first row\r\n- `lilr` - last index of last row\r\n```\r\npublic static void printCorners(int[][] arr) {\r\n    int lri = arr.length-1;\r\n    int lifr = arr[0].length-1;\r\n    int lilr = arr[lri].length-1;\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\r\n}\r\nprintCorners(a1);  System.out.println();\r\nprintCorners(a2);  System.out.println();\r\nprintCorners(jagged);  System.out.println();\r\n```\r\nprints\r\n```\r\n1 1\r\n3 3\r\n\r\n1 4\r\n4 7\r\n\r\n1 1\r\n5 7\r\n","title":"Multidimensional array - dimmension of input array","body":"<blockquote>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n</blockquote>\n<p>Since all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.</p>\n<p><strong>Some test Data</strong></p>\n<pre><code>int[][] a1 = {{1},{2},{3}};\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\n</code></pre>\n<p><strong>The Method</strong></p>\n<p>To make it easy, define some positions</p>\n<ul>\n<li><code>lri</code> -  last row index</li>\n<li><code>lifr</code> - last index of first row</li>\n<li><code>lilr</code> - last index of last row</li>\n</ul>\n<pre><code>public static void printCorners(int[][] arr) {\n    int lri = arr.length-1;\n    int lifr = arr[0].length-1;\n    int lilr = arr[lri].length-1;\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\n}\nprintCorners(a1);  System.out.println();\nprintCorners(a2);  System.out.println();\nprintCorners(jagged);  System.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>1 1\n3 3\n\n1 4\n4 7\n\n1 1\n5 7\n</code></pre>\n"}],"owner":{"account_id":25716889,"reputation":13,"user_id":19474511,"display_name":"Krystian Kowalczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76748236,"answer_count":3,"score":0,"last_activity_date":1690130732,"creation_date":1690105287,"question_id":76747554,"body_markdown":"I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (**Failed test #6 of 8. Wrong answer**)\r\n\r\nWould you be able to look into my code and help me?\r\n\r\nPlease see the task description.\r\n\r\nYou need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nThe elements must be separated by space and printed as an example below.\r\n\r\nInput array:\r\n\r\n    1 0 2\r\n    0 0 0\r\n    3 0 4\r\n\r\nPrinted corners:\r\n\r\n    1 2\r\n    3 4\r\n\r\nNotice, that you must always print 4 corners, for example:\r\n\r\nInput array:\r\n\r\n    1\r\n    2\r\n    3\r\n\r\nPrinted corners:\r\n\r\n    1 1\r\n    3 3\r\n\r\ncode:\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        int cols = twoDimArray[0].length;\r\n        if (cols == 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                if (i == 0) {\r\n                    myTable[0][0] = twoDimArray[i][0];\r\n                    myTable[0][1] = twoDimArray[i][0];\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n                else if (i &lt; twoDimArray.length - 1) {\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n            }\r\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\r\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\r\n        }\r\n        else if (cols &gt; 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\r\n                    if (i == 0 &amp;&amp; j == 0) {\r\n                        myTable[0][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[0][1] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\r\n                        myTable[1][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[1][1] = twoDimArray[i][j];\r\n                    }\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; myTable.length; i++) {\r\n                for (int j = 0; j &lt; myTable[i].length; j++) {\r\n                    System.out.print(myTable[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Multidimensional array - dimmension of input array","body":"<p>I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (<strong>Failed test #6 of 8. Wrong answer</strong>)</p>\n<p>Would you be able to look into my code and help me?</p>\n<p>Please see the task description.</p>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n<p>The elements must be separated by space and printed as an example below.</p>\n<p>Input array:</p>\n<pre><code>1 0 2\n0 0 0\n3 0 4\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 2\n3 4\n</code></pre>\n<p>Notice, that you must always print 4 corners, for example:</p>\n<p>Input array:</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 1\n3 3\n</code></pre>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        int cols = twoDimArray[0].length;\n        if (cols == 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                if (i == 0) {\n                    myTable[0][0] = twoDimArray[i][0];\n                    myTable[0][1] = twoDimArray[i][0];\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n                else if (i &lt; twoDimArray.length - 1) {\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n            }\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\n        }\n        else if (cols &gt; 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\n                    if (i == 0 &amp;&amp; j == 0) {\n                        myTable[0][0] = twoDimArray[i][j];\n                    }\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[0][1] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\n                        myTable[1][0] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[1][1] = twoDimArray[i][j];\n                    }\n                }\n            }\n            for (int i = 0; i &lt; myTable.length; i++) {\n                for (int j = 0; j &lt; myTable[i].length; j++) {\n                    System.out.print(myTable[i][j] + &quot; &quot;);\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graphics","colors"],"answers":[{"tags":[],"owner":{"account_id":2034607,"reputation":9202,"user_id":1817269,"display_name":"username tbd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354074485,"creation_date":1354074485,"answer_id":13597469,"question_id":13597454,"body_markdown":"Instead of this:\r\n\r\n    int colorValue1 = (int)(Math.random() * 256);\r\n    int colorValue2 = (int)(Math.random() * 256);\r\n    int colorValue3 = (int)(Math.random() * 256);\r\n\r\n    Color random = new Color(colorValue1, colorValue2, colorValue3);\r\n    window.setColor(random);\r\n    //for loop to to across the x - getWidth() might be useful\r\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n            window.fillRect(x, y, 8, 8);\r\n        }\r\n    }\r\n\r\nTry this:\r\n\r\n    //for loop to to across the x - getWidth() might be useful\r\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n            int colorValue1 = (int)(Math.random() * 256);\r\n            int colorValue2 = (int)(Math.random() * 256);\r\n            int colorValue3 = (int)(Math.random() * 256);\r\n        \r\n            Color random = new Color(colorValue1, colorValue2, colorValue3);\r\n            window.setColor(random);\r\n    \r\n            window.fillRect(x, y, 8, 8);\r\n        }\r\n    }\r\n\r\nThe basic difference is creating the new color (and calling `window.setColor` as well) from inside the loop- that way each time the loop starts, before drawing in the box, a new random color will be used.","title":"How can I make my code to where each square is a different color from the other?","body":"<p>Instead of this:</p>\n\n<pre><code>int colorValue1 = (int)(Math.random() * 256);\nint colorValue2 = (int)(Math.random() * 256);\nint colorValue3 = (int)(Math.random() * 256);\n\nColor random = new Color(colorValue1, colorValue2, colorValue3);\nwindow.setColor(random);\n//for loop to to across the x - getWidth() might be useful\nfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\n    for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n        window.fillRect(x, y, 8, 8);\n    }\n}\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>//for loop to to across the x - getWidth() might be useful\nfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\n    for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n        int colorValue1 = (int)(Math.random() * 256);\n        int colorValue2 = (int)(Math.random() * 256);\n        int colorValue3 = (int)(Math.random() * 256);\n\n        Color random = new Color(colorValue1, colorValue2, colorValue3);\n        window.setColor(random);\n\n        window.fillRect(x, y, 8, 8);\n    }\n}\n</code></pre>\n\n<p>The basic difference is creating the new color (and calling <code>window.setColor</code> as well) from inside the loop- that way each time the loop starts, before drawing in the box, a new random color will be used.</p>\n"},{"tags":[],"owner":{"account_id":29075306,"reputation":1,"user_id":22272629,"display_name":"user22272629"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690130336,"creation_date":1690130336,"answer_id":76749319,"question_id":13597454,"body_markdown":"#Python program to demonstrate\r\n#Circle drawing\r\n\r\nimport turtle\r\n\r\n#Initializing the turtle\r\nt=turtle.Turtle()\r\n\r\nr=50\r\nt.circle(r)","title":"How can I make my code to where each square is a different color from the other?","body":"<p>#Python program to demonstrate\n#Circle drawing</p>\n<p>import turtle</p>\n<p>#Initializing the turtle\nt=turtle.Turtle()</p>\n<p>r=50\nt.circle(r)</p>\n"}],"owner":{"account_id":1217036,"reputation":229,"user_id":1184413,"accept_rate":100,"display_name":"tech_geek23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13597469,"answer_count":2,"score":0,"last_activity_date":1690130336,"creation_date":1354074361,"question_id":13597454,"body_markdown":"I&#39;ve got my code functioning and repeatedly changing the colors of the squares in my code, but all the squares are the same colors when the change.\r\n\r\nMain program:\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.util.Random;\r\n    import javax.swing.Timer;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.Canvas;\r\n    import javax.swing.JPanel;\r\n\r\n    public class RandomColoredBoxes extends JPanel\r\n    {\r\n\tprivate Timer timer;\r\n\tprivate final static int SLEEP = 110;\r\n\t\r\n\tpublic RandomColoredBoxes()\r\n\t{\t\t\r\n\t\tsetBackground(Color.BLACK);\r\n\t\tsetVisible(true);\r\n\r\n\t\tActionListener paintCaller = new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event)\r\n\t\t\t{\r\n\t\t\t\trepaint();  \r\n\t\t\t}\r\n\t\t};\r\n\t\ttimer = new Timer(SLEEP, paintCaller);\r\n\t\ttimer.start();\r\n\t}\t\r\n\r\n\tpublic void paintComponent( Graphics window )\r\n\t{\r\n\t\tsuper.paintComponent(window);\r\n\t\t\r\n\t\twindow.setColor(Color.RED);\r\n\t\twindow.setFont(new Font(&quot;TAHOMA&quot;,Font.BOLD,12));\r\n\t  \twindow.drawString(&quot;Graphics Lab Lab11k &quot;, 20, 40);\r\n\t  \twindow.drawString(&quot;Drawing boxes with nested loops &quot;, 20, 80);\r\n\r\n\t  \tdrawBoxes(window);\r\n\t}\r\n\r\n\tpublic void drawBoxes(Graphics window)\r\n\t{\r\n\t\tint colorValue1 = (int)(Math.random() * 256);\r\n\t\tint colorValue2 = (int)(Math.random() * 256);\r\n\t\tint colorValue3 = (int)(Math.random() * 256);\r\n\t\r\n\t\tColor random = new Color(colorValue1, colorValue2, colorValue3);\r\n\t\twindow.setColor(random);\r\n\t\t//for loop to to across the x - getWidth() might be useful\r\n\t\tfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n\t\t\tfor(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n\t\t\t\twindow.fillRect(x, y, 8, 8);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t//for loop to go down the y - getHeight() might be useful\r\n\t\t\t\r\n\t\t\t\t//draw random colored boxes\r\n\t}\r\n    }\r\n\r\n\r\nAnd my graphics runner class:\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class GraphicsRunnerRandom extends JFrame\r\n    {\r\n\tprivate static final int WIDTH = 800;\r\n\tprivate static final int HEIGHT = 600;\r\n\r\n\tpublic GraphicsRunnerRandom()\r\n\t{\r\n\t\tsuper(&quot;Graphics Runner&quot;);\r\n\t\tsetSize(WIDTH,HEIGHT);\r\n\t\t\t\t\t\t\r\n\t\tgetContentPane().add(new RandomColoredBoxes());\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t//getContentPane().add(new RandomColoredBoxes());\r\n\t\t\t\t\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main( String args[] )\r\n\t{\r\n\t\tGraphicsRunnerRandom run = new GraphicsRunnerRandom();\r\n\t}\r\n    }\r\n\r\nother than the squares changing all-together, everything else is functioning as it should","title":"How can I make my code to where each square is a different color from the other?","body":"<p>I've got my code functioning and repeatedly changing the colors of the squares in my code, but all the squares are the same colors when the change.</p>\n\n<p>Main program:</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.util.Random;\nimport javax.swing.Timer;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.Canvas;\nimport javax.swing.JPanel;\n\npublic class RandomColoredBoxes extends JPanel\n{\nprivate Timer timer;\nprivate final static int SLEEP = 110;\n\npublic RandomColoredBoxes()\n{       \n    setBackground(Color.BLACK);\n    setVisible(true);\n\n    ActionListener paintCaller = new ActionListener(){\n        public void actionPerformed(ActionEvent event)\n        {\n            repaint();  \n        }\n    };\n    timer = new Timer(SLEEP, paintCaller);\n    timer.start();\n}   \n\npublic void paintComponent( Graphics window )\n{\n    super.paintComponent(window);\n\n    window.setColor(Color.RED);\n    window.setFont(new Font(\"TAHOMA\",Font.BOLD,12));\n    window.drawString(\"Graphics Lab Lab11k \", 20, 40);\n    window.drawString(\"Drawing boxes with nested loops \", 20, 80);\n\n    drawBoxes(window);\n}\n\npublic void drawBoxes(Graphics window)\n{\n    int colorValue1 = (int)(Math.random() * 256);\n    int colorValue2 = (int)(Math.random() * 256);\n    int colorValue3 = (int)(Math.random() * 256);\n\n    Color random = new Color(colorValue1, colorValue2, colorValue3);\n    window.setColor(random);\n    //for loop to to across the x - getWidth() might be useful\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n            window.fillRect(x, y, 8, 8);\n        }\n    }\n        //for loop to go down the y - getHeight() might be useful\n\n            //draw random colored boxes\n}\n}\n</code></pre>\n\n<p>And my graphics runner class:</p>\n\n<pre><code>import javax.swing.JFrame;\n\npublic class GraphicsRunnerRandom extends JFrame\n{\nprivate static final int WIDTH = 800;\nprivate static final int HEIGHT = 600;\n\npublic GraphicsRunnerRandom()\n{\n    super(\"Graphics Runner\");\n    setSize(WIDTH,HEIGHT);\n\n    getContentPane().add(new RandomColoredBoxes());                 \n\n    //getContentPane().add(new RandomColoredBoxes());\n\n    setVisible(true);\n}\n\npublic static void main( String args[] )\n{\n    GraphicsRunnerRandom run = new GraphicsRunnerRandom();\n}\n}\n</code></pre>\n\n<p>other than the squares changing all-together, everything else is functioning as it should</p>\n"},{"tags":["java","inner-classes","static-members"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690125370,"post_id":76748971,"comment_id":135306551,"body_markdown":"Which document are you talking about? The JLS [specifies](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3) static members of inner classes.","body":"Which document are you talking about? The JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">specifies</a> static members of inner classes."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690125504,"post_id":76748971,"comment_id":135306570,"body_markdown":"Just read about JEP395 and see also other questions [like this](https://stackoverflow.com/questions/66734377/what-is-the-true-reason-of-inner-classes-not-able-to-contain-static-fields-or-me)","body":"Just read about JEP395 and see also other questions <a href=\"https://stackoverflow.com/questions/66734377/what-is-the-true-reason-of-inner-classes-not-able-to-contain-static-fields-or-me\">like this</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1690128649,"post_id":76748971,"comment_id":135306981,"body_markdown":"I&#39;m a bit confused why this is being downvoted. OP described the context, described what they expected and why (citing the official docs, no less!), described what happened instead, and provided a minimal yet working code snippet along with their Java version. It seems like a perfect question to me, tbh. Downvoted shouldn&#39;t be shorthand for &quot;I the voter already know the answer to this question.&quot;","body":"I&#39;m a bit confused why this is being downvoted. OP described the context, described what they expected and why (citing the official docs, no less!), described what happened instead, and provided a minimal yet working code snippet along with their Java version. It seems like a perfect question to me, tbh. Downvoted shouldn&#39;t be shorthand for &quot;I the voter already know the answer to this question.&quot;"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1690128984,"post_id":76748971,"comment_id":135307049,"body_markdown":"Adding: maybe it&#39;s because it&#39;s a duplicate? If so, just mark it as a duplicate.","body":"Adding: maybe it&#39;s because it&#39;s a duplicate? If so, just mark it as a duplicate."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697900015,"post_id":76748971,"comment_id":136338830,"body_markdown":"Maybe because he didn’t cite his ‘articles’ and ‘documents’?","body":"Maybe because he didn’t cite his ‘articles’ and ‘documents’?"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690126061,"creation_date":1690126061,"answer_id":76749037,"question_id":76748971,"body_markdown":"From the Oracle docs:\r\n\r\n&gt; The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.\r\n\r\nAnd a proposal to relax rules of static members, from [openjdk.org][1]:\r\n\r\n&gt; Resolution: Approved. \r\n&gt; Fix Version/s: 16\r\n\r\nSo, yeah, it&#39;s allowed for inner classes to have static members, but the Oracle documentation was written to include features of up to Java 8. The rules have changed since Java 16.\r\n\r\n[1]: https://bugs.openjdk.org/browse/JDK-8254321","title":"Inner classes can have the static members inside it in java 17?","body":"<p>From the Oracle docs:</p>\n<blockquote>\n<p>The Java Tutorials have been written for JDK 8. Examples and practices described in this page don't take advantage of improvements introduced in later releases and might use technology no longer available.</p>\n</blockquote>\n<p>And a proposal to relax rules of static members, from <a href=\"https://bugs.openjdk.org/browse/JDK-8254321\" rel=\"nofollow noreferrer\">openjdk.org</a>:</p>\n<blockquote>\n<p>Resolution: Approved.\nFix Version/s: 16</p>\n</blockquote>\n<p>So, yeah, it's allowed for inner classes to have static members, but the Oracle documentation was written to include features of up to Java 8. The rules have changed since Java 16.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690129945,"creation_date":1690128019,"answer_id":76749158,"question_id":76748971,"body_markdown":"From Java 6 language specification.\r\n\r\n&gt; An inner class is a nested class that is not explicitly or implicitly declared static. Inner classes may not declare static initializers (&#167;8.7) or member interfaces. Inner classes may not declare static members, unless they are compile-time constant fields (&#167;15.28).\r\n\r\nTo illustrate these rules, consider the example below: (Taken from the Java 6 LS)\r\n```\r\nclass HasStatic{\r\n\tstatic int j = 100;\r\n}\r\nclass Outer{\r\n\tclass Inner extends HasStatic{\r\n\t\tstatic final int x = 3;\t\t\t// ok - compile-time constant\r\n\t\tstatic int y = 4; \t\t\t// compile-time error, an inner class\r\n\t}\r\n\tstatic class NestedButNotInner{\r\n\t\tstatic int z = 5; \t\t\t// ok, not an inner class\r\n\t}\r\n\tinterface NeverInner{}\t\t\t\t// interfaces are never inner\r\n}\r\n```\r\nThis was relaxed in [JEP 395](https://openjdk.org/jeps/395) that finalized the inclusion of `record` as a standard feature of the language. The statement reads:\r\n\r\n&gt;This JEP proposes to finalize the feature in JDK 16, with the following refinement:\r\n&gt; \r\n&gt;Relax the longstanding restriction whereby an inner class cannot declare a member that is explicitly or implicitly static. This will become legal and, in particular, will allow an inner class to declare a member that is a record class.","title":"Inner classes can have the static members inside it in java 17?","body":"<p>From Java 6 language specification.</p>\n<blockquote>\n<p>An inner class is a nested class that is not explicitly or implicitly declared static. Inner classes may not declare static initializers (§8.7) or member interfaces. Inner classes may not declare static members, unless they are compile-time constant fields (§15.28).</p>\n</blockquote>\n<p>To illustrate these rules, consider the example below: (Taken from the Java 6 LS)</p>\n<pre><code>class HasStatic{\n    static int j = 100;\n}\nclass Outer{\n    class Inner extends HasStatic{\n        static final int x = 3;         // ok - compile-time constant\n        static int y = 4;           // compile-time error, an inner class\n    }\n    static class NestedButNotInner{\n        static int z = 5;           // ok, not an inner class\n    }\n    interface NeverInner{}              // interfaces are never inner\n}\n</code></pre>\n<p>This was relaxed in <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a> that finalized the inclusion of <code>record</code> as a standard feature of the language. The statement reads:</p>\n<blockquote>\n<p>This JEP proposes to finalize the feature in JDK 16, with the following refinement:</p>\n<p>Relax the longstanding restriction whereby an inner class cannot declare a member that is explicitly or implicitly static. This will become legal and, in particular, will allow an inner class to declare a member that is a record class.</p>\n</blockquote>\n"}],"owner":{"account_id":15237582,"reputation":9,"user_id":10994795,"display_name":"Rishi Bharadwaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1690129041,"answer_count":2,"score":-2,"last_activity_date":1690129945,"creation_date":1690125122,"question_id":76748971,"body_markdown":"I was reading the articles regarding the inner classes and out of curiosity I declared the static members within the inner class. Strangely no compile time error was shown and the code just executed fine.\r\n\r\nI referred back the oracle documents and could still found the statement : &#39;because an inner class is associated with an instance, it cannot define any static members itself.&#39;\r\n\r\nI am really confused, if there is an enhancement to the inner classes done with the later versions of java where we can now declare the static members within the inner classes as well?\r\n\r\nAny light on that will be appreciated.\r\n\r\nHere is the code snippet you may try with Java 17:\r\n\r\n\r\n```\r\nclass Outer{\r\n     class Inner{\r\n          static int i =10;\r\n          public static void method(){\r\n              System.out.println(&quot;The static members can be now declared within Inner classes!!!!&quot;);\r\n          }\r\n     }\r\n}\r\n```\r\n","title":"Inner classes can have the static members inside it in java 17?","body":"<p>I was reading the articles regarding the inner classes and out of curiosity I declared the static members within the inner class. Strangely no compile time error was shown and the code just executed fine.</p>\n<p>I referred back the oracle documents and could still found the statement : 'because an inner class is associated with an instance, it cannot define any static members itself.'</p>\n<p>I am really confused, if there is an enhancement to the inner classes done with the later versions of java where we can now declare the static members within the inner classes as well?</p>\n<p>Any light on that will be appreciated.</p>\n<p>Here is the code snippet you may try with Java 17:</p>\n<pre><code>class Outer{\n     class Inner{\n          static int i =10;\n          public static void method(){\n              System.out.println(&quot;The static members can be now declared within Inner classes!!!!&quot;);\n          }\n     }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1690037738,"post_id":76744392,"comment_id":135298568,"body_markdown":"Either use a Cache or store that data somewhere else (not in-memory) like a database, a file, ...","body":"Either use a Cache or store that data somewhere else (not in-memory) like a database, a file, ..."}],"answers":[{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690129556,"creation_date":1690080027,"answer_id":76746471,"question_id":76744392,"body_markdown":"Well 20k objects in a list may NOT be too much to just keep in memory.  That would depend on the size of each object.  For example, if each object only uses 1k I&#39;d say using 20k in memory is likely fine and would keep things nice and fast.\r\n\r\nIf it is too much to just leave in RAM, then your best bet for performance is something local, like a file on disk.  Anything that needs to call out over the wire to another system is likely to incur a bigger performance hit.  However...\r\n\r\nIf you are in a hosted environment like, say, GCP, then network calls within that environment may be very fast.  In this case you could consider other options.  In the case of GCP you might look at Google&#39;s hosted Memcached service.  That would likely get you very close to in-memory performance (Memcached is, in fact, in memory, just not yours, and is designed to hold huge amounts of data in-memory).","title":"Where to store the intermediate data","body":"<p>Well 20k objects in a list may NOT be too much to just keep in memory.  That would depend on the size of each object.  For example, if each object only uses 1k I'd say using 20k in memory is likely fine and would keep things nice and fast.</p>\n<p>If it is too much to just leave in RAM, then your best bet for performance is something local, like a file on disk.  Anything that needs to call out over the wire to another system is likely to incur a bigger performance hit.  However...</p>\n<p>If you are in a hosted environment like, say, GCP, then network calls within that environment may be very fast.  In this case you could consider other options.  In the case of GCP you might look at Google's hosted Memcached service.  That would likely get you very close to in-memory performance (Memcached is, in fact, in memory, just not yours, and is designed to hold huge amounts of data in-memory).</p>\n"}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690129556,"creation_date":1690037635,"question_id":76744392,"body_markdown":"I need to develop an application which fetches data from an external system. The data returned is huge like a List of 10k to 20k objects or more. Now the user can click on info button and the data matching from that earlier list needs to be displayed to the user. Retrieving data from external system is costly. So what options do I have to store that list. I am using Spring Boot framework.\r\nI guess session should not be used.\r\n","title":"Where to store the intermediate data","body":"<p>I need to develop an application which fetches data from an external system. The data returned is huge like a List of 10k to 20k objects or more. Now the user can click on info button and the data matching from that earlier list needs to be displayed to the user. Retrieving data from external system is costly. So what options do I have to store that list. I am using Spring Boot framework.\nI guess session should not be used.</p>\n"},{"tags":["java","arrays","list","arraylist","integer"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1690061165,"post_id":76745830,"comment_id":135301336,"body_markdown":"Try looking at [Removing an element from an Array(Java)](https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java\">Removing an element from an Array(Java)</a>."},{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690061630,"post_id":76745830,"comment_id":135301379,"body_markdown":"apologies for that.i did correct it","body":"apologies for that.i did correct it"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690061185,"creation_date":1690061185,"answer_id":76745845,"question_id":76745830,"body_markdown":"You have the line `returnarrayList = null;`, then you attempt to invoke a method on `null` at the next line. I would just create a new array of `myArray.length - 1` (because you&#39;re removing one element); then copy from `0` to `index` and then from `index + 1` to the new array. Like,\r\n\r\n\tstatic int[] arrayRemover(int[] myArray, int index) {\r\n\t\tif (myArray == null || myArray.length &lt; 2) {\r\n\t\t\treturn myArray;\r\n\t\t}\r\n\t\tint[] r = new int[myArray.length - 1];\r\n\t\tSystem.arraycopy(myArray, 0, r, 0, index);\r\n\t\tSystem.arraycopy(myArray, index + 1, r, index, myArray.length - index - 1);\r\n\t\treturn r;\r\n\t}","title":"removing an element from an array using ArrayList(java)","body":"<p>You have the line <code>returnarrayList = null;</code>, then you attempt to invoke a method on <code>null</code> at the next line. I would just create a new array of <code>myArray.length - 1</code> (because you're removing one element); then copy from <code>0</code> to <code>index</code> and then from <code>index + 1</code> to the new array. Like,</p>\n<pre><code>static int[] arrayRemover(int[] myArray, int index) {\n    if (myArray == null || myArray.length &lt; 2) {\n        return myArray;\n    }\n    int[] r = new int[myArray.length - 1];\n    System.arraycopy(myArray, 0, r, 0, index);\n    System.arraycopy(myArray, index + 1, r, index, myArray.length - index - 1);\n    return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690129011,"creation_date":1690078155,"answer_id":76746424,"question_id":76745830,"body_markdown":"I&#39;ve become a big fan of streams for this sort of thing if you&#39;re on java 8 or later.  It collapses a lot of boilerplate code, often down to one line.  Here is a working unit test I put together demonstrating doing this with streams.\r\n\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.stream.IntStream;\r\n\r\nThose are the imports for the code inside the test method.  If you are actually recreating the test itself place the method in a class and include  your favorite unit test framework (in my case `import org.junit.jupiter.api.Test;`).\r\n\r\n\t@Test\r\n\tpublic void testRemoveArrayElement() throws IOException {\r\n\t\tint[] myArray = new int[] { 10, 20, 30, 40, 50, 60 };\r\n\t\tint indexToRemove = 3;\r\n\r\n\t\tSystem.out.println(Arrays.toString(myArray));    // Prints: [10, 20, 30, 40, 50, 60]\r\n\t\tint[] myFilteredArray = IntStream.range(0, myArray.length).filter(i -&gt; i != indexToRemove).map(i -&gt; myArray[i]).toArray();\r\n\t\tSystem.out.println(Arrays.toString(myFilteredArray));    // Prints: [10, 20, 30, 50, 60]\r\n\t}\r\n\r\n","title":"removing an element from an array using ArrayList(java)","body":"<p>I've become a big fan of streams for this sort of thing if you're on java 8 or later.  It collapses a lot of boilerplate code, often down to one line.  Here is a working unit test I put together demonstrating doing this with streams.</p>\n<pre><code>import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.stream.IntStream;\n</code></pre>\n<p>Those are the imports for the code inside the test method.  If you are actually recreating the test itself place the method in a class and include  your favorite unit test framework (in my case <code>import org.junit.jupiter.api.Test;</code>).</p>\n<pre><code>@Test\npublic void testRemoveArrayElement() throws IOException {\n    int[] myArray = new int[] { 10, 20, 30, 40, 50, 60 };\n    int indexToRemove = 3;\n\n    System.out.println(Arrays.toString(myArray));    // Prints: [10, 20, 30, 40, 50, 60]\n    int[] myFilteredArray = IntStream.range(0, myArray.length).filter(i -&gt; i != indexToRemove).map(i -&gt; myArray[i]).toArray();\n    System.out.println(Arrays.toString(myFilteredArray));    // Prints: [10, 20, 30, 50, 60]\n}\n</code></pre>\n"}],"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690083018,"accepted_answer_id":76745845,"answer_count":2,"score":-2,"last_activity_date":1690129011,"creation_date":1690060901,"question_id":76745830,"body_markdown":"I am trying to remove an element from an array using **ArrayList**. however I cannot seem to get it to work. I&#39;m new to java.\r\nHere is the code what i do\r\n\r\n```\r\npackage workspace;\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\npublic class Worksapce{\r\n\tprivate static Collection&lt;Integer&gt; returnarrayList;\r\n\tstatic int[] arrayRemover(int[] myArray,int index) {\r\n\t\tList&lt;Integer&gt;arrayList = IntStream.of(myArray) .boxed().collect(Collectors.toList()); \r\n\t \tarrayList.remove(2); \r\n\t \treturnarrayList = null;\r\n\t \treturn returnarrayList.stream().mapToInt(Integer::intValue).toArray(); \r\n\t}\r\npublic static void main(String[] args)  { \r\n\tint myArray[]= {1,2,3,4};\r\n\tint index=2;\r\n\tmyArray=arrayRemover(myArray,index);\r\n\tSystem.out.println(Arrays.toString(myArray));\r\n}\r\n}\r\n```\r\nHere is the error showing\r\n\r\n[![enter image description here](https://i.stack.imgur.com/rwqzs.png)](https://i.stack.imgur.com/rwqzs.png)\r\n\r\nI want to remove an element from the array.I know there is&#39;nt a direct method in java to remove an element from the array.But there are exist several indirect methods.There I&#39;m trying to remove element using **arraylist**. I didnt get the result. What are the mistakes in it? What i need to change?","title":"removing an element from an array using ArrayList(java)","body":"<p>I am trying to remove an element from an array using <strong>ArrayList</strong>. however I cannot seem to get it to work. I'm new to java.\nHere is the code what i do</p>\n<pre><code>package workspace;\nimport java.util.*;\nimport java.util.stream.*;\npublic class Worksapce{\n    private static Collection&lt;Integer&gt; returnarrayList;\n    static int[] arrayRemover(int[] myArray,int index) {\n        List&lt;Integer&gt;arrayList = IntStream.of(myArray) .boxed().collect(Collectors.toList()); \n        arrayList.remove(2); \n        returnarrayList = null;\n        return returnarrayList.stream().mapToInt(Integer::intValue).toArray(); \n    }\npublic static void main(String[] args)  { \n    int myArray[]= {1,2,3,4};\n    int index=2;\n    myArray=arrayRemover(myArray,index);\n    System.out.println(Arrays.toString(myArray));\n}\n}\n</code></pre>\n<p>Here is the error showing</p>\n<p><a href=\"https://i.stack.imgur.com/rwqzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rwqzs.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to remove an element from the array.I know there is'nt a direct method in java to remove an element from the array.But there are exist several indirect methods.There I'm trying to remove element using <strong>arraylist</strong>. I didnt get the result. What are the mistakes in it? What i need to change?</p>\n"},{"tags":["java","maven","mapstruct","annotation-processing","mapper"],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690128931,"creation_date":1690128931,"answer_id":76749225,"question_id":76748919,"body_markdown":"The `RoomFullDto#participant` field type is `java.util.List&lt;ParticipantDto&gt;` (not `ParticipantDto`)\r\n\r\nThe `ParticipantEntity#participant` field type `is java.util.Set&lt;ParticipantEntity&gt;` (not `ParticipantEntity`)\r\n\r\nWe need to declare the mapping process between two **different types**: `Set&lt;ParticipantEntity&gt;` and `List&lt;ParticipantDto&gt;`\r\n\r\n 1. `Set&lt;ParticipantEntity&gt;` -&gt; `List&lt;ParticipantDto&gt;` transformation\r\n 2. `List&lt;ParticipantDto&gt;` -&gt; `Set&lt;ParticipantEntity&gt;` transformation\r\n\r\nPlease try to add 2 more methods for ParticipantMapper.java:\r\n------------------------------------------------------------\r\n\r\n  Create a new method ParticipantMapper#mapToList:\r\n\r\n    @Mapper\r\n    public interface ParticipantMapper {\r\n      \r\n\r\n        ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\r\n\r\n        @Named(&quot;DataToEntity&quot;)\r\n        @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\r\n        @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\r\n        @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\r\n        ParticipantEntity dtoToEntity (ParticipantDto participantDto);\r\n\r\n        @Named(&quot;EntityToData&quot;)\r\n        @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\r\n        @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\r\n        @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\r\n        ParticipantDto entityToDto (ParticipantEntity participantDto);\r\n      \r\n    \r\n        //+ 2 additional mapping methods without any annota\r\n        List&lt;ParticipantDto&gt; mapToDtoList(Set&lt;ParticipantEntity&gt; set);\r\n\r\n        Set&lt;ParticipantEntity&gt; mapToEntitySet(List&lt;ParticipantDto&gt; list);\r\n    }\r\n\r\n[MapStruct Documentation: 6. Mapping collections ][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-collections","title":"Mapstruct uses not working, how to make mapstruct &quot;uses&quot; use other mapper for inner fields","body":"<p>The <code>RoomFullDto#participant</code> field type is <code>java.util.List&lt;ParticipantDto&gt;</code> (not <code>ParticipantDto</code>)</p>\n<p>The <code>ParticipantEntity#participant</code> field type <code>is java.util.Set&lt;ParticipantEntity&gt;</code> (not <code>ParticipantEntity</code>)</p>\n<p>We need to declare the mapping process between two <strong>different types</strong>: <code>Set&lt;ParticipantEntity&gt;</code> and <code>List&lt;ParticipantDto&gt;</code></p>\n<ol>\n<li><code>Set&lt;ParticipantEntity&gt;</code> -&gt; <code>List&lt;ParticipantDto&gt;</code> transformation</li>\n<li><code>List&lt;ParticipantDto&gt;</code> -&gt; <code>Set&lt;ParticipantEntity&gt;</code> transformation</li>\n</ol>\n<h2>Please try to add 2 more methods for ParticipantMapper.java:</h2>\n<p>Create a new method ParticipantMapper#mapToList:</p>\n<pre><code>@Mapper\npublic interface ParticipantMapper {\n  \n\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\n\n    @Named(&quot;DataToEntity&quot;)\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\n\n    @Named(&quot;EntityToData&quot;)\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\n  \n\n    //+ 2 additional mapping methods without any annota\n    List&lt;ParticipantDto&gt; mapToDtoList(Set&lt;ParticipantEntity&gt; set);\n\n    Set&lt;ParticipantEntity&gt; mapToEntitySet(List&lt;ParticipantDto&gt; list);\n}\n</code></pre>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-collections\" rel=\"nofollow noreferrer\">MapStruct Documentation: 6. Mapping collections </a></p>\n"}],"owner":{"account_id":11882388,"reputation":13,"user_id":8695753,"display_name":"Sergey Gotsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76749225,"answer_count":1,"score":1,"last_activity_date":1690128931,"creation_date":1690124461,"question_id":76748919,"body_markdown":"Mapstruct &quot;uses&quot; not working, it maps all entities in one mapper, instead of using different mappers for different entities\r\nI have pom \r\n```\r\n`&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${compiler.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;17&lt;/source&gt;\r\n                &lt;target&gt;17&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.2.0&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;`\r\n```\r\n\r\n```\r\n@Mapper(uses = {ParticipantMapper.class})\r\npublic interface RoomMapper {\r\n\r\n    RoomMapper INSTANCE = Mappers.getMapper(RoomMapper.class);\r\n\r\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\r\n    RoomFullDto entityToData(RoomEntity entity);\r\n\r\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\r\n    RoomEntity dataToEntity(RoomFullDto entity);\r\n\r\n    @Named(&quot;EntityToShortData&quot;)\r\n    RoomShortDto entityToShortData(RoomEntity entity);\r\n\r\n    @Named(&quot;DataToEntity&quot;)\r\n    RoomEntity shortDataToEntity(RoomShortDto entity);\r\n}\r\n```\r\n\r\nand \r\n```\r\n@Mapper\r\npublic interface ParticipantMapper {\r\n\r\n\r\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\r\n\r\n    @Named(&quot;DataToEntity&quot;)\r\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\r\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\r\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\r\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\r\n\r\n    @Named(&quot;EntityToData&quot;)\r\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\r\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\r\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\r\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\r\n}\r\n```\r\n\r\nin RoomMapperImpl mapstruct generate without using ParticipantMapper, so i cant&#39;t configure how to map fields and it ignores some fields \r\n```\r\npublic RoomFullDto entityToData(RoomEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        RoomFullDto roomFullDto = new RoomFullDto();\r\n\r\n        roomFullDto.setParticipant( participantEntitySetToParticipantDtoList( entity.getParticipant() ) );\r\n        roomFullDto.setId( entity.getId() );\r\n        roomFullDto.setName( entity.getName() );\r\n\r\n        return roomFullDto;\r\n    }\r\n\r\nprotected List&lt;ParticipantDto&gt; participantEntitySetToParticipantDtoList(Set&lt;ParticipantEntity&gt; set) {\r\n        if ( set == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;ParticipantDto&gt; list = new ArrayList&lt;ParticipantDto&gt;( set.size() );\r\n        for ( ParticipantEntity participantEntity : set ) {\r\n            list.add( participantEntityToParticipantDto( participantEntity ) );\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\nParticipantDto participantEntityToParticipantDto(ParticipantEntity participantEntity) {\r\n        if ( participantEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ParticipantDto participantDto = new ParticipantDto();\r\n\r\n        participantDto.setId( participantEntity.getId() );\r\n        participantDto.setIsBanned( participantEntity.getIsBanned() );\r\n        if ( participantEntity.getRole() != null ) {\r\n            participantDto.setRole( participantEntity.getRole().name() );\r\n        }\r\n\r\n        return participantDto;\r\n    }\r\n```\r\n\r\nI tried to configure different versions of dependencies and annotationProcessors, it dont works","title":"Mapstruct uses not working, how to make mapstruct &quot;uses&quot; use other mapper for inner fields","body":"<p>Mapstruct &quot;uses&quot; not working, it maps all entities in one mapper, instead of using different mappers for different entities\nI have pom</p>\n<pre><code>`&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;`\n</code></pre>\n<pre><code>@Mapper(uses = {ParticipantMapper.class})\npublic interface RoomMapper {\n\n    RoomMapper INSTANCE = Mappers.getMapper(RoomMapper.class);\n\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\n    RoomFullDto entityToData(RoomEntity entity);\n\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\n    RoomEntity dataToEntity(RoomFullDto entity);\n\n    @Named(&quot;EntityToShortData&quot;)\n    RoomShortDto entityToShortData(RoomEntity entity);\n\n    @Named(&quot;DataToEntity&quot;)\n    RoomEntity shortDataToEntity(RoomShortDto entity);\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Mapper\npublic interface ParticipantMapper {\n\n\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\n\n    @Named(&quot;DataToEntity&quot;)\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\n\n    @Named(&quot;EntityToData&quot;)\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\n}\n</code></pre>\n<p>in RoomMapperImpl mapstruct generate without using ParticipantMapper, so i cant't configure how to map fields and it ignores some fields</p>\n<pre><code>public RoomFullDto entityToData(RoomEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        RoomFullDto roomFullDto = new RoomFullDto();\n\n        roomFullDto.setParticipant( participantEntitySetToParticipantDtoList( entity.getParticipant() ) );\n        roomFullDto.setId( entity.getId() );\n        roomFullDto.setName( entity.getName() );\n\n        return roomFullDto;\n    }\n\nprotected List&lt;ParticipantDto&gt; participantEntitySetToParticipantDtoList(Set&lt;ParticipantEntity&gt; set) {\n        if ( set == null ) {\n            return null;\n        }\n\n        List&lt;ParticipantDto&gt; list = new ArrayList&lt;ParticipantDto&gt;( set.size() );\n        for ( ParticipantEntity participantEntity : set ) {\n            list.add( participantEntityToParticipantDto( participantEntity ) );\n        }\n\n        return list;\n    }\n\nParticipantDto participantEntityToParticipantDto(ParticipantEntity participantEntity) {\n        if ( participantEntity == null ) {\n            return null;\n        }\n\n        ParticipantDto participantDto = new ParticipantDto();\n\n        participantDto.setId( participantEntity.getId() );\n        participantDto.setIsBanned( participantEntity.getIsBanned() );\n        if ( participantEntity.getRole() != null ) {\n            participantDto.setRole( participantEntity.getRole().name() );\n        }\n\n        return participantDto;\n    }\n</code></pre>\n<p>I tried to configure different versions of dependencies and annotationProcessors, it dont works</p>\n"},{"tags":["java","mysql","amazon-web-services","spring-boot","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":3364774,"reputation":141,"user_id":2825691,"display_name":"cloudyian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690102234,"creation_date":1690102234,"answer_id":76747368,"question_id":76746527,"body_markdown":"Notice the highlighted part from what you&#39;ve mentioned\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/K9929.png\r\n\r\nI don&#39;t think this is properly set. \r\nFirst of of, the port should be 3306. I believe this is a typo, you might have set the port to 3306.    \r\nYet there is another problem, you might want to set the rule like this: (assuming your ec2 secuirty group id is sg-1234abcd)\r\n\r\n| MySQL/Aurora | TCP | 3306 | sg-1234abcd |\r\n\r\nthe source is &#39;sg-1234abcd&#39;, which means you want all ec2 in this security group have the permissions to access the mysql.\r\n","title":"Java SpringBoot MySQL, AWS EC2 Ubuntu Instance Deployment, EntityNotFoundException, Unable to connect to MySQL DB","body":"<p>Notice the highlighted part from what you've mentioned\n<a href=\"https://i.stack.imgur.com/K9929.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K9929.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't think this is properly set.\nFirst of of, the port should be 3306. I believe this is a typo, you might have set the port to 3306.<br />\nYet there is another problem, you might want to set the rule like this: (assuming your ec2 secuirty group id is sg-1234abcd)</p>\n<p>| MySQL/Aurora | TCP | 3306 | sg-1234abcd |</p>\n<p>the source is 'sg-1234abcd', which means you want all ec2 in this security group have the permissions to access the mysql.</p>\n"}],"owner":{"account_id":27874325,"reputation":11,"user_id":21284127,"display_name":"it_tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690127636,"creation_date":1690081929,"question_id":76746527,"body_markdown":"I have deployed a Java SpringBoot project utilizing AWS EC2 Ubuntu instance and am receiving the error:\r\n\r\nServlet.service() for servlet [jsp] threw exception: jakarta.persistence.EntityNotFoundException\r\n\r\nI am new to AWS deployment and this is my first time using it, so I am unsure where to even begin in finding the cause for the error. The nature of the error leads me to believe that the server cannot communicate with MySQL. I presume that is due to a missing/improper security group within my EC2 instance, or a missing connection from MySQL to the server. Attached is the relevant code:\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.anthony.messagingapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MessagingApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;MessagingApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n        &lt;version&gt;0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\n    spring.mvc.view.prefix=/WEB-INF/\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/liaisonmessaging\r\n    spring.datasource.username=root\r\n    spring.datasource.password=rootroot\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.mvc.hiddenmethod.filter.enabled=true\r\n```\r\n\r\nApplication.java file\r\n\r\n```\r\npackage com.anthony.messagingapp;\r\n\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.coyote.ajp.AbstractAjpProtocol;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class MessagingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MessagingAppApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public TomcatServletWebServerFactory servletContainer() {\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n        Connector ajpConnector = new Connector(&quot;AJP/1.3&quot;);\r\n        ajpConnector.setPort(9090);\r\n        ajpConnector.setSecure(false);\r\n        ajpConnector.setAllowTrace(false);\r\n        ajpConnector.setScheme(&quot;http&quot;);\r\n((AbstractAjpProtocol)ajpConnector.getProtocolHandler()).setSecretRequired(false);\r\n        tomcat.addAdditionalTomcatConnectors(ajpConnector);\r\n        return tomcat;\r\n\r\n}\r\n```\r\nInbound Security Groups on EC2 instance\r\n\r\n1. Port Range: **9090**\r\n- Type: TCP\r\n- Source: 0.0.0.0/0\r\n2. Port Range: **80**\r\n- Type: HTTP\r\n- Source: ::/0\r\n3. Port Range: **22**\r\n- Type: SSH\r\n- Source: My private IP\r\n4. Port Range: **3306**\r\n- MYSQL/Aurora\r\n- Source: 0.0.0.0/0\r\n5. Port Range: **443**\r\n- Type: HTTPS\r\n6. Port Range: **9090**\r\n- Type: TCP\r\n- Source: ::/0\r\n7. Port Range: **80**\r\n- Type: HTTP\r\n- Source: 0.0.0.0/0\r\n8. Port Range: **3306**\r\n- Type: MYSQL/Aurora\r\n- Source: ::/0\r\n9. Port Range: **8888**\r\n- Type: Custom TCP \r\n- Source: 0.0.0.0/0\r\n\r\nMy process to deploy is as follows: \r\n1. Create instance with the following details:\r\n- Ubuntu AMI, x64 bit architecture\r\n- Instance Type: t2.micro\r\n- Key Pair: RSA, .pem\r\n- Allowing SSH traffic from my IP, HTTP &amp; HTTPS traffic from the internet\r\n2. SSH into the instance from my terminal\r\n- update &amp; upgrade dependencies\r\n3. Install MySQL Server &amp; connect\r\n- sudo apt-get install mysql-server\r\n- sudo apt-get update \r\n- sudo mysql -uroot -p\r\n- within sql shell: ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;*mysql_password*&#39;;\r\n- within sql shell: FLUSH PRIVILEGES;\r\n- outside of sql shell: sudo mysql_secure_installation\r\n- I then configure security settings \r\n- Finally, I export my database into a dump file, and then paste the contents of the dump file in the sql shell in the server\r\n4. Install Apache\r\n- sudo apt-get install apache2\r\n5. Create a .war file of my SpringBoot application and secure copy it into my instance \r\n6. Create proxy in server \r\n- sudo a2enmod proxy \r\n- sudo a2enmod ajp-proxy\r\n7. add ProxyPass into the virtual host conf file\r\n- cd etc/apache2/sites-available\r\n- sudo vim 000-default.conf\r\n- INSERT ProxyPass / ajp://localhost:9090/\r\n- INSERT ProxyPassReverse / ajp://localhost:9090/\r\n8. Restart Apache\r\n- sudo service apache2 restart\r\n9. Install Java JDK\r\n- sudo apt install openjdk-17-jdk\r\n10. Run .war file \r\n- java -jar MessagingApp-0.0.1-SNAPSHOT.war\r\n\r\nMy application runs without issue when deployed on my local server, but runs with EntityNotFoundException when deployed and accessed through public AWS EC2 instance IP address. I confirmed in the terminal that the server is listening on port 80, and I am able to access the root route when requesting http://{PUBLIC.IP}\r\nAny and all help is greatly appreciated. Thank you!","title":"Java SpringBoot MySQL, AWS EC2 Ubuntu Instance Deployment, EntityNotFoundException, Unable to connect to MySQL DB","body":"<p>I have deployed a Java SpringBoot project utilizing AWS EC2 Ubuntu instance and am receiving the error:</p>\n<p>Servlet.service() for servlet [jsp] threw exception: jakarta.persistence.EntityNotFoundException</p>\n<p>I am new to AWS deployment and this is my first time using it, so I am unsure where to even begin in finding the cause for the error. The nature of the error leads me to believe that the server cannot communicate with MySQL. I presume that is due to a missing/improper security group within my EC2 instance, or a missing connection from MySQL to the server. Attached is the relevant code:</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.anthony.messagingapp&lt;/groupId&gt;\n    &lt;artifactId&gt;MessagingApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;MessagingApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;4.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>    spring.mvc.view.prefix=/WEB-INF/\n    spring.datasource.url=jdbc:mysql://localhost:3306/liaisonmessaging\n    spring.datasource.username=root\n    spring.datasource.password=rootroot\n    spring.jpa.hibernate.ddl-auto=update\n    spring.mvc.hiddenmethod.filter.enabled=true\n</code></pre>\n<p>Application.java file</p>\n<pre><code>package com.anthony.messagingapp;\n\nimport org.apache.catalina.connector.Connector;\nimport org.apache.coyote.ajp.AbstractAjpProtocol;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class MessagingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MessagingAppApplication.class, args);\n    }\n    \n    @Bean\n    public TomcatServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        Connector ajpConnector = new Connector(&quot;AJP/1.3&quot;);\n        ajpConnector.setPort(9090);\n        ajpConnector.setSecure(false);\n        ajpConnector.setAllowTrace(false);\n        ajpConnector.setScheme(&quot;http&quot;);\n((AbstractAjpProtocol)ajpConnector.getProtocolHandler()).setSecretRequired(false);\n        tomcat.addAdditionalTomcatConnectors(ajpConnector);\n        return tomcat;\n\n}\n</code></pre>\n<p>Inbound Security Groups on EC2 instance</p>\n<ol>\n<li>Port Range: <strong>9090</strong></li>\n</ol>\n<ul>\n<li>Type: TCP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"2\">\n<li>Port Range: <strong>80</strong></li>\n</ol>\n<ul>\n<li>Type: HTTP</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"3\">\n<li>Port Range: <strong>22</strong></li>\n</ol>\n<ul>\n<li>Type: SSH</li>\n<li>Source: My private IP</li>\n</ul>\n<ol start=\"4\">\n<li>Port Range: <strong>3306</strong></li>\n</ol>\n<ul>\n<li>MYSQL/Aurora</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"5\">\n<li>Port Range: <strong>443</strong></li>\n</ol>\n<ul>\n<li>Type: HTTPS</li>\n</ul>\n<ol start=\"6\">\n<li>Port Range: <strong>9090</strong></li>\n</ol>\n<ul>\n<li>Type: TCP</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"7\">\n<li>Port Range: <strong>80</strong></li>\n</ol>\n<ul>\n<li>Type: HTTP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"8\">\n<li>Port Range: <strong>3306</strong></li>\n</ol>\n<ul>\n<li>Type: MYSQL/Aurora</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"9\">\n<li>Port Range: <strong>8888</strong></li>\n</ol>\n<ul>\n<li>Type: Custom TCP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<p>My process to deploy is as follows:</p>\n<ol>\n<li>Create instance with the following details:</li>\n</ol>\n<ul>\n<li>Ubuntu AMI, x64 bit architecture</li>\n<li>Instance Type: t2.micro</li>\n<li>Key Pair: RSA, .pem</li>\n<li>Allowing SSH traffic from my IP, HTTP &amp; HTTPS traffic from the internet</li>\n</ul>\n<ol start=\"2\">\n<li>SSH into the instance from my terminal</li>\n</ol>\n<ul>\n<li>update &amp; upgrade dependencies</li>\n</ul>\n<ol start=\"3\">\n<li>Install MySQL Server &amp; connect</li>\n</ol>\n<ul>\n<li>sudo apt-get install mysql-server</li>\n<li>sudo apt-get update</li>\n<li>sudo mysql -uroot -p</li>\n<li>within sql shell: ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '<em>mysql_password</em>';</li>\n<li>within sql shell: FLUSH PRIVILEGES;</li>\n<li>outside of sql shell: sudo mysql_secure_installation</li>\n<li>I then configure security settings</li>\n<li>Finally, I export my database into a dump file, and then paste the contents of the dump file in the sql shell in the server</li>\n</ul>\n<ol start=\"4\">\n<li>Install Apache</li>\n</ol>\n<ul>\n<li>sudo apt-get install apache2</li>\n</ul>\n<ol start=\"5\">\n<li>Create a .war file of my SpringBoot application and secure copy it into my instance</li>\n<li>Create proxy in server</li>\n</ol>\n<ul>\n<li>sudo a2enmod proxy</li>\n<li>sudo a2enmod ajp-proxy</li>\n</ul>\n<ol start=\"7\">\n<li>add ProxyPass into the virtual host conf file</li>\n</ol>\n<ul>\n<li>cd etc/apache2/sites-available</li>\n<li>sudo vim 000-default.conf</li>\n<li>INSERT ProxyPass / ajp://localhost:9090/</li>\n<li>INSERT ProxyPassReverse / ajp://localhost:9090/</li>\n</ul>\n<ol start=\"8\">\n<li>Restart Apache</li>\n</ol>\n<ul>\n<li>sudo service apache2 restart</li>\n</ul>\n<ol start=\"9\">\n<li>Install Java JDK</li>\n</ol>\n<ul>\n<li>sudo apt install openjdk-17-jdk</li>\n</ul>\n<ol start=\"10\">\n<li>Run .war file</li>\n</ol>\n<ul>\n<li>java -jar MessagingApp-0.0.1-SNAPSHOT.war</li>\n</ul>\n<p>My application runs without issue when deployed on my local server, but runs with EntityNotFoundException when deployed and accessed through public AWS EC2 instance IP address. I confirmed in the terminal that the server is listening on port 80, and I am able to access the root route when requesting http://{PUBLIC.IP}\nAny and all help is greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":16761030,"reputation":8819,"user_id":12115778,"display_name":"richyen"},"score":0,"creation_date":1663100062,"post_id":73708502,"comment_id":130159075,"body_markdown":"Which method in `ArtifactBlobs` class is failing? I think it&#39;s a bit hard to help if we don&#39;t know which method is being called","body":"Which method in <code>ArtifactBlobs</code> class is failing? I think it&#39;s a bit hard to help if we don&#39;t know which method is being called"},{"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"score":0,"creation_date":1663120220,"post_id":73708502,"comment_id":130162654,"body_markdown":"private ArtifactsBlobs \n\t\tgetArtifactBlobById(\n\t\t\tString workspaceId,\n\t\t\tString blobId) \n\t{\n\t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\n\t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId);\n\t\tvaluesMap.put(&quot;blobId&quot;, blobId);\n\t\tArtifactsBlobs artifactBlob = \n\t\t\tiGenericDAO.getEntity(\n\t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID,\n\t\t\t\tvaluesMap);\n\t\t\n\t\tif (artifactBlob == null) \n\t\t{\n\t\t\tthrow new DataIntegrityViolationException(\n\t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\n\t\t}\n\t\t\n\t\treturn artifactBlob;\n\t}","body":"private ArtifactsBlobs  \t\tgetArtifactBlobById( \t\t\tString workspaceId, \t\t\tString blobId)  \t{ \t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;(); \t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId); \t\tvaluesMap.put(&quot;blobId&quot;, blobId); \t\tArtifactsBlobs artifactBlob =  \t\t\tiGenericDAO.getEntity( \t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID, \t\t\t\tvaluesMap); \t\t \t\tif (artifactBlob == null)  \t\t{ \t\t\tthrow new DataIntegrityViolationException( \t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;); \t\t} \t\t \t\treturn artifactBlob; \t}"},{"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"score":0,"creation_date":1663120321,"post_id":73708502,"comment_id":130162675,"body_markdown":"And the sql query is\n public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;","body":"And the sql query is  public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":476510,"reputation":156,"user_id":887462,"display_name":"Ratman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690126646,"creation_date":1690126646,"answer_id":76749077,"question_id":73708502,"body_markdown":"Your artifact blob column stores a byte array. In Postgresql, this is commonly managed using a LOB locator, which is an ID of type long. This ID is then used to retrieve the actual blob from another table. All of this is handled behind the scenes, but the retrieved data cannot be converted to a blob without a hint regarding the data type.\r\n\r\nTo map the blob property in your ArtifactBlobs class using annotations, try this:\r\n\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.BinaryType&quot;)\r\n    private Blob artifactBlobValue;\r\n\r\nFor a clob, which is a blob containing only text data:\r\n\r\n    @Type(type = &quot;org.hibernate.type.TextType&quot;)\r\n\r\nI am unsure about how to translate this annotation into XML mapping. I recommend switching to Java annotation mapping, as it is a straightforward process.","title":"Bad value for type long in postgres","body":"<p>Your artifact blob column stores a byte array. In Postgresql, this is commonly managed using a LOB locator, which is an ID of type long. This ID is then used to retrieve the actual blob from another table. All of this is handled behind the scenes, but the retrieved data cannot be converted to a blob without a hint regarding the data type.</p>\n<p>To map the blob property in your ArtifactBlobs class using annotations, try this:</p>\n<pre><code>@Lob\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\nprivate Blob artifactBlobValue;\n</code></pre>\n<p>For a clob, which is a blob containing only text data:</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TextType&quot;)\n</code></pre>\n<p>I am unsure about how to translate this annotation into XML mapping. I recommend switching to Java annotation mapping, as it is a straightforward process.</p>\n"}],"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690126646,"creation_date":1663098296,"question_id":73708502,"body_markdown":"I am having a java application with Pojo being \r\n\r\n     public class ArtifactBlobs{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String guid;\r\n    \tprivate String workspaceId;\r\n    \tprivate Blob artifactBlobValue;\r\n    \tprivate Date createdAt;\r\n    \tprivate Long createdBy;\r\n    \tprivate Date updatedAt;\r\n    \tprivate Long updatedBy;\r\n    \tprivate Set waasArtifactsBlobsMetas = new HashSet(0);\r\n    \r\n    \tpublic ArtifactsBlobs() {\r\n    \t}\r\n    \r\n    \tpublic ArtifactsBlobs(String guid, Date createdAt, Date updatedAt) {\r\n    \t\tthis.guid = guid;\r\n    \t\tthis.createdAt = createdAt;\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t}\r\n    \r\n    \tpublic ArtifactsBlobs(String guid, String workspaceId,\r\n    \t\t\tBlob artifactBlobValue, Date createdAt, Long createdBy,\r\n    \t\t\tDate updatedAt, Long updatedBy) {\r\n    \t\tthis.guid = guid;\r\n    \t\tthis.workspaceId = workspaceId;\r\n    \t\tthis.artifactBlobValue = artifactBlobValue;\r\n    \t\tthis.createdAt = createdAt;\r\n    \t\tthis.createdBy = createdBy;\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t\tthis.updatedBy = updatedBy;\r\n    \t}\r\n    \r\n    \tpublic String getGuid() {\r\n    \t\treturn this.guid;\r\n    \t}\r\n    \r\n    \tpublic void setGuid(String guid) {\r\n    \t\tthis.guid = guid;\r\n    \t}\r\n    \r\n    \tpublic String getWorkspaceId() {\r\n    \t\treturn this.workspaceId;\r\n    \t}\r\n    \r\n    \tpublic void setWorkspaceId(String workspaceId) {\r\n    \t\tthis.workspaceId = workspaceId;\r\n    \t}\r\n    \r\n    \tpublic Blob getArtifactBlobValue() {\r\n    \t\treturn this.artifactBlobValue;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;CPD-START&quot;)\r\n    \tpublic void setArtifactBlobValue(Blob artifactBlobValue) {\r\n    \t\tthis.artifactBlobValue = artifactBlobValue;\r\n    \t}\r\n    \r\n    \tpublic Date getCreatedAt() {\r\n    \t\treturn this.createdAt;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedAt(Date createdAt) {\r\n    \t\tthis.createdAt = createdAt;\r\n    \t}\r\n    \r\n    \tpublic Long getCreatedBy() {\r\n    \t\treturn this.createdBy;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedBy(Long createdBy) {\r\n    \t\tthis.createdBy = createdBy;\r\n    \t}\r\n    \r\n    \tpublic Date getUpdatedAt() {\r\n    \t\treturn this.updatedAt;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedAt(Date updatedAt) {\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t}\r\n    \r\n    \tpublic Long getUpdatedBy() {\r\n    \t\treturn this.updatedBy;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedBy(Long updatedBy) {\r\n    \t\tthis.updatedBy = updatedBy;\r\n    \t}\r\n    \r\n    \tpublic Set getWaasArtifactsBlobsMetas() {\r\n    \t\treturn this.waasArtifactsBlobsMetas;\r\n    \t}\r\n    \r\n    \tpublic void setWaasArtifactsBlobsMetas(Set waasArtifactsBlobsMetas) {\r\n    \t\tthis.waasArtifactsBlobsMetas = waasArtifactsBlobsMetas;\r\n    \t}\r\n                         }\r\nExactly this method was failing\r\n\r\n    private ArtifactsBlobs \r\n    \t\tgetArtifactBlobById(\r\n    \t\t\tString workspaceId,\r\n    \t\t\tString blobId) \r\n    \t{\r\n    public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;\r\n    \t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\r\n    \t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId);\r\n    \t\tvaluesMap.put(&quot;blobId&quot;, blobId);\r\n    \t\tArtifactsBlobs artifactBlob = \r\n    \t\t\tiGenericDAO.getEntity(\r\n    \t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID,\r\n    \t\t\t\tvaluesMap);\r\n    \t\t\r\n    \t\tif (artifactBlob == null) \r\n    \t\t{\r\n    \t\t\t// Since the blobId is derived from data stored in artifacts table, \r\n    \t\t\t// absence of corr. entry in blobs table indicates data is incorrect in DB\r\n    \t\t\tthrow new DataIntegrityViolationException(\r\n    \t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn artifactBlob;\r\n    \t}\r\n\r\nAnd the hibernate bean configuration being \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated 23 Sep, 2014 12:10:11 PM by Hibernate Tools 3.4.0.CR1 --&gt;\r\n        &lt;hibernate-mapping&gt;\r\n            &lt;class name=&quot;com.db.entity.autogen.ArtifactsBlobs&quot; table=&quot;artifacts_blobs&quot;&gt;\r\n                &lt;id name=&quot;guid&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;id&quot; length=&quot;36&quot; /&gt;\r\n                    &lt;generator class=&quot;assigned&quot; /&gt;\r\n                &lt;/id&gt;\r\n                &lt;property name=&quot;workspaceId&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;workspace_id&quot; length=&quot;36&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;artifactBlobValue&quot; type=&quot;blob&quot;&gt;\r\n                    &lt;column name=&quot;artifact_blob_value&quot; not-null=&quot;true&quot;/&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;createdAt&quot; type=&quot;timestamp&quot;&gt;\r\n                    &lt;column name=&quot;created_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;createdBy&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                    &lt;column name=&quot;created_by&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;updatedAt&quot; type=&quot;timestamp&quot;&gt;\r\n                    &lt;column name=&quot;updated_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;updatedBy&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                    &lt;column name=&quot;updated_by&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;set name=&quot;waasArtifactsBlobsMetas&quot; table=&quot;waas_artifacts_blobs_meta&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n                    &lt;key&gt;\r\n                        &lt;column name=&quot;blob_id&quot; length=&quot;36&quot; not-null=&quot;true&quot; /&gt;\r\n                    &lt;/key&gt;\r\n                    &lt;one-to-many class=&quot;com.kony.waas.db.entity.autogen.WaasArtifactsBlobsMeta&quot; /&gt;\r\n                &lt;/set&gt;\r\n            &lt;/class&gt;\r\n        &lt;/hibernate-mapping&gt;\r\n    \r\n    and the Db Structure is \r\n    \r\n        CREATE TABLE artifacts_blobs (\r\n          id varchar(36) NOT NULL,\r\n          workspace_id varchar(36) NOT NULL,\r\n          artifact_blob_value bytea NOT NULL,\r\n          created_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n          created_by bigint NOT NULL,\r\n          updated_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n          updated_by bigint NOT NULL,\r\n          PRIMARY KEY (id)\r\n        ) ;\r\n    \r\n    The saving of the POJO class is going fine but while retrieving I am facing this error\r\n   \r\n    \r\n\r\njavax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute query\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1608) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n\r\nCaused by: org.postgresql.util.PSQLException: Bad value for type long : \\x35313162373838396435613932383937613638303266336663303236633964366332393838393638356663613039323163623538383562666164366163643039306633656335613162333734313638353539303335343662306336666164343232353362306261306\r\n\tat org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:456) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:442) ~[postgresql-42.5.0.jar:42.5.0]\r\n\r\n\r\n\r\n\r\n","title":"Bad value for type long in postgres","body":"<p>I am having a java application with Pojo being</p>\n<pre><code> public class ArtifactBlobs{\n    private static final long serialVersionUID = 1L;\n    private String guid;\n    private String workspaceId;\n    private Blob artifactBlobValue;\n    private Date createdAt;\n    private Long createdBy;\n    private Date updatedAt;\n    private Long updatedBy;\n    private Set waasArtifactsBlobsMetas = new HashSet(0);\n\n    public ArtifactsBlobs() {\n    }\n\n    public ArtifactsBlobs(String guid, Date createdAt, Date updatedAt) {\n        this.guid = guid;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n\n    public ArtifactsBlobs(String guid, String workspaceId,\n            Blob artifactBlobValue, Date createdAt, Long createdBy,\n            Date updatedAt, Long updatedBy) {\n        this.guid = guid;\n        this.workspaceId = workspaceId;\n        this.artifactBlobValue = artifactBlobValue;\n        this.createdAt = createdAt;\n        this.createdBy = createdBy;\n        this.updatedAt = updatedAt;\n        this.updatedBy = updatedBy;\n    }\n\n    public String getGuid() {\n        return this.guid;\n    }\n\n    public void setGuid(String guid) {\n        this.guid = guid;\n    }\n\n    public String getWorkspaceId() {\n        return this.workspaceId;\n    }\n\n    public void setWorkspaceId(String workspaceId) {\n        this.workspaceId = workspaceId;\n    }\n\n    public Blob getArtifactBlobValue() {\n        return this.artifactBlobValue;\n    }\n\n    @SuppressWarnings(&quot;CPD-START&quot;)\n    public void setArtifactBlobValue(Blob artifactBlobValue) {\n        this.artifactBlobValue = artifactBlobValue;\n    }\n\n    public Date getCreatedAt() {\n        return this.createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Long getCreatedBy() {\n        return this.createdBy;\n    }\n\n    public void setCreatedBy(Long createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Date getUpdatedAt() {\n        return this.updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public Long getUpdatedBy() {\n        return this.updatedBy;\n    }\n\n    public void setUpdatedBy(Long updatedBy) {\n        this.updatedBy = updatedBy;\n    }\n\n    public Set getWaasArtifactsBlobsMetas() {\n        return this.waasArtifactsBlobsMetas;\n    }\n\n    public void setWaasArtifactsBlobsMetas(Set waasArtifactsBlobsMetas) {\n        this.waasArtifactsBlobsMetas = waasArtifactsBlobsMetas;\n    }\n                     }\n</code></pre>\n<p>Exactly this method was failing</p>\n<pre><code>private ArtifactsBlobs \n        getArtifactBlobById(\n            String workspaceId,\n            String blobId) \n    {\npublic static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;\n        Map&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\n        valuesMap.put(&quot;workspaceId&quot;, workspaceId);\n        valuesMap.put(&quot;blobId&quot;, blobId);\n        ArtifactsBlobs artifactBlob = \n            iGenericDAO.getEntity(\n                SqlQuery.GET_ARTIFACT_BLOB_BY_ID,\n                valuesMap);\n        \n        if (artifactBlob == null) \n        {\n            // Since the blobId is derived from data stored in artifacts table, \n            // absence of corr. entry in blobs table indicates data is incorrect in DB\n            throw new DataIntegrityViolationException(\n                &quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\n        }\n        \n        return artifactBlob;\n    }\n</code></pre>\n<p>And the hibernate bean configuration being</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;!-- Generated 23 Sep, 2014 12:10:11 PM by Hibernate Tools 3.4.0.CR1 --&gt;\n    &lt;hibernate-mapping&gt;\n        &lt;class name=&quot;com.db.entity.autogen.ArtifactsBlobs&quot; table=&quot;artifacts_blobs&quot;&gt;\n            &lt;id name=&quot;guid&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;id&quot; length=&quot;36&quot; /&gt;\n                &lt;generator class=&quot;assigned&quot; /&gt;\n            &lt;/id&gt;\n            &lt;property name=&quot;workspaceId&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;workspace_id&quot; length=&quot;36&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;artifactBlobValue&quot; type=&quot;blob&quot;&gt;\n                &lt;column name=&quot;artifact_blob_value&quot; not-null=&quot;true&quot;/&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;createdAt&quot; type=&quot;timestamp&quot;&gt;\n                &lt;column name=&quot;created_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;createdBy&quot; type=&quot;java.lang.Long&quot;&gt;\n                &lt;column name=&quot;created_by&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;updatedAt&quot; type=&quot;timestamp&quot;&gt;\n                &lt;column name=&quot;updated_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;updatedBy&quot; type=&quot;java.lang.Long&quot;&gt;\n                &lt;column name=&quot;updated_by&quot; /&gt;\n            &lt;/property&gt;\n            &lt;set name=&quot;waasArtifactsBlobsMetas&quot; table=&quot;waas_artifacts_blobs_meta&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\n                &lt;key&gt;\n                    &lt;column name=&quot;blob_id&quot; length=&quot;36&quot; not-null=&quot;true&quot; /&gt;\n                &lt;/key&gt;\n                &lt;one-to-many class=&quot;com.kony.waas.db.entity.autogen.WaasArtifactsBlobsMeta&quot; /&gt;\n            &lt;/set&gt;\n        &lt;/class&gt;\n    &lt;/hibernate-mapping&gt;\n\nand the Db Structure is \n\n    CREATE TABLE artifacts_blobs (\n      id varchar(36) NOT NULL,\n      workspace_id varchar(36) NOT NULL,\n      artifact_blob_value bytea NOT NULL,\n      created_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n      created_by bigint NOT NULL,\n      updated_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n      updated_by bigint NOT NULL,\n      PRIMARY KEY (id)\n    ) ;\n\nThe saving of the POJO class is going fine but while retrieving I am facing this error\n</code></pre>\n<p>javax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute query\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1608) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]</p>\n<p>Caused by: org.postgresql.util.PSQLException: Bad value for type long : \\x35313162373838396435613932383937613638303266336663303236633964366332393838393638356663613039323163623538383562666164366163643039306633656335613162333734313638353539303335343662306336666164343232353362306261306\nat org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:456) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:442) ~[postgresql-42.5.0.jar:42.5.0]</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690107975,"post_id":18389064,"comment_id":135304518,"body_markdown":"Doing this so it works in every scenario is not at all trivial. Plugins, BOMs jar/aar differences (if using Android), can all make this difficult. When we faced the issue, we ended up making a Gradle script, defining a custom repository, and having a proxy to capture all URLs as they were resolved.","body":"Doing this so it works in every scenario is not at all trivial. Plugins, BOMs jar/aar differences (if using Android), can all make this difficult. When we faced the issue, we ended up making a Gradle script, defining a custom repository, and having a proxy to capture all URLs as they were resolved."}],"answers":[{"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377199299,"creation_date":1377199299,"answer_id":18389128,"question_id":18389064,"body_markdown":"Something like [ivy](http://ant.apache.org/ivy/) would be more easily embedded in the manner you are suggesting. Ivy can use the same layout as maven, or a custom layout.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Something like <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">ivy</a> would be more easily embedded in the manner you are suggesting. Ivy can use the same layout as maven, or a custom layout.</p>\n"},{"tags":[],"owner":{"account_id":1770094,"reputation":13649,"user_id":1615086,"display_name":"andersschuller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377199725,"creation_date":1377199725,"answer_id":18389231,"question_id":18389064,"body_markdown":"Many Maven repositories have an API that you can use to search for artifacts. For example, the central Maven repository has one, for which the documentation is [here](http://search.maven.org/#api).\r\n\r\nFor your example, the API of the central repository serves the following URL for linking directly to a search: \r\n\r\n[http://search.maven.org/#search|ga|1|g:&quot;org.apache.maven&quot; AND a:&quot;maven-core&quot; AND v:&quot;3.0&quot;](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.maven%22%20AND%20a%3A%22maven-core%22%20AND%20v%3A%223.0%22)\r\n\r\nAnd the following URL for returning XML data (or JSON, by changing the last parameter):\r\n\r\n[http://search.maven.org/solrsearch/select?q=g:&quot;org.apache.maven&quot; AND a:&quot;maven-core&quot; AND v:&quot;3.0&quot;&amp;wt=xml](http://search.maven.org/solrsearch/select?q=g:%22org.apache.maven%22%20AND%20a:%22maven-core%22%20AND%20v:%223.0%22&amp;wt=xml)\r\n\r\nIn this case, you still have to create a URL for the JAR manually (or scrape the search results for it), but other repositories (like [Nexus](http://www.sonatype.org/nexus/)) provide this in the API results directly.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Many Maven repositories have an API that you can use to search for artifacts. For example, the central Maven repository has one, for which the documentation is <a href=\"http://search.maven.org/#api\" rel=\"nofollow\">here</a>.</p>\n\n<p>For your example, the API of the central repository serves the following URL for linking directly to a search: </p>\n\n<p><a href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.maven%22%20AND%20a%3A%22maven-core%22%20AND%20v%3A%223.0%22\" rel=\"nofollow\">http://search.maven.org/#search|ga|1|g:\"org.apache.maven\" AND a:\"maven-core\" AND v:\"3.0\"</a></p>\n\n<p>And the following URL for returning XML data (or JSON, by changing the last parameter):</p>\n\n<p><a href=\"http://search.maven.org/solrsearch/select?q=g%3a%22org.apache.maven%22%20AND%20a%3a%22maven-core%22%20AND%20v%3a%223.0%22&amp;wt=xml\" rel=\"nofollow\">http://search.maven.org/solrsearch/select?q=g:\"org.apache.maven\" AND a:\"maven-core\" AND v:\"3.0\"&amp;wt=xml</a></p>\n\n<p>In this case, you still have to create a URL for the JAR manually (or scrape the search results for it), but other repositories (like <a href=\"http://www.sonatype.org/nexus/\" rel=\"nofollow\">Nexus</a>) provide this in the API results directly.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690126186,"creation_date":1690067307,"answer_id":76746092,"question_id":18389064,"body_markdown":"Please, consider running the following command:\r\n\r\n```\r\nmvn -X -U compile\r\n```\r\n\r\nusing this test `pom.xml` (note that the provided Jackson version not - yet - exists):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mvn-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;20.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nPlease, note that among information Maven will provide the following logs:\r\n\r\n```\r\n[DEBUG] =======================================================================\r\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\r\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\r\nDownloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom\r\n[DEBUG] Writing tracking file /Users/jccampanero/.m2/repository/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom.lastUpdated\r\n...\r\n```\r\n\r\nand this error trace:\r\n\r\n```\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.fasterxml.jackson.core:jackson-databind:jar:20.14.2 in central (https://repo.maven.apache.org/maven2)\r\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\r\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\r\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\r\n```\r\n\r\nAs you can see, by default Maven uses [`BasicRepositoryConnector`](https://github.com/apache/maven-resolver/blob/master/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java) and [`Wagon`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-transport-wagon/src/main/java/org/eclipse/aether/transport/wagon/WagonTransporter.java#L67) to download the requested artifacts.\r\n\r\nThe actual download is performed in the [`get`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java#L179) method: please, note it within the provided error trace.\r\n\r\nFor the actual download, among other things, it will use a [`RepositoryLayout`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L35) provided by the configured [`RepositoryLayoutFactory`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayoutFactory.java) by default, see [here](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189) and [here](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/guice/AetherModule.java#L177-L180), [`Maven2RepositoryLayoutFactory`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189).\r\n\r\nPlease, consider review the implemented [`getLocation`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/internal/impl/Maven2RepositoryLayoutFactory.java#L172-L213) methods for the default `Maven2RepositoryLayoutFactory`, written partially here for completeness:\r\n\r\n```java\r\npublic URI getLocation(Artifact artifact, boolean upload) {\r\n    StringBuilder path = new StringBuilder(128);\r\n\r\n\r\n    path.append(artifact.getGroupId().replace(&#39;.&#39;, &#39;/&#39;)).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getArtifactId()).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getBaseVersion()).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getArtifactId()).append(&#39;-&#39;).append(artifact.getVersion());\r\n\r\n\r\n    if (artifact.getClassifier().length() &gt; 0) {\r\n        path.append(&#39;-&#39;).append(artifact.getClassifier());\r\n    }\r\n\r\n\r\n    if (artifact.getExtension().length() &gt; 0) {\r\n        path.append(&#39;.&#39;).append(artifact.getExtension());\r\n    }\r\n\r\n\r\n    return toUri(path.toString());\r\n}\r\n```\r\n\r\nAs you can see it matches exactly the path of the URL used for the actual download:\r\n\r\n```\r\nhttps://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.jar\r\n```\r\n\r\nYou can include new repository layouts if required although I never did myself: I came across some blogs like [this one](https://kthoms.wordpress.com/2009/10/13/how-to-register-a-custom-maven-repository-layout/) that could be of help.\r\n\r\nI am aware that the repository layout is typically conceived for local directory structure, but as described in the `RepositoryLayoutFactory` interface javadoc:\r\n\r\n```java\r\n/**\r\n * A factory to obtain repository layouts. A repository layout is responsible to map an artifact or some metadata to a\r\n * URI relative to the repository root where the resource resides. When the repository system needs to access a given\r\n * remote repository, it iterates the registered factories in descending order of their priority and calls\r\n * {@link #newInstance(RepositorySystemSession, RemoteRepository)} on them. The first layout returned by a factory will\r\n * then be used for transferring artifacts/metadata.\r\n */\r\n```\r\n\r\nAnd the description of the [`getLocation` methods](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L147-L167) in `RepositoryLayout`:\r\n\r\n```java\r\n/**\r\n * Gets the location within a remote repository where the specified artifact resides. The URI is relative to the\r\n * root directory of the repository.\r\n *\r\n * @param artifact The artifact to get the URI for, must not be {@code null}.\r\n * @param upload   {@code false} if the artifact is being downloaded, {@code true} if the artifact is being\r\n *                 uploaded.\r\n * @return The relative URI to the artifact, never {@code null}.\r\n */\r\nURI getLocation(Artifact artifact, boolean upload);\r\n\r\n\r\n/**\r\n * Gets the location within a remote repository where the specified metadata resides. The URI is relative to the\r\n * root directory of the repository.\r\n *\r\n * @param metadata The metadata to get the URI for, must not be {@code null}.\r\n * @param upload   {@code false} if the metadata is being downloaded, {@code true} if the metadata is being\r\n *                 uploaded.\r\n * @return The relative URI to the metadata, never {@code null}.\r\n */\r\nURI getLocation(Metadata metadata, boolean upload);\r\n```\r\n\r\nThat means that in order to resolve the URL of a certain artifact there is not a single answer, it will depend on the Maven Repository Layout provided.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Please, consider running the following command:</p>\n<pre><code>mvn -X -U compile\n</code></pre>\n<p>using this test <code>pom.xml</code> (note that the provided Jackson version not - yet - exists):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mvn-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;20.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please, note that among information Maven will provide the following logs:</p>\n<pre><code>[DEBUG] =======================================================================\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\nDownloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom\n[DEBUG] Writing tracking file /Users/jccampanero/.m2/repository/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom.lastUpdated\n...\n</code></pre>\n<p>and this error trace:</p>\n<pre><code>Caused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.fasterxml.jackson.core:jackson-databind:jar:20.14.2 in central (https://repo.maven.apache.org/maven2)\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\n</code></pre>\n<p>As you can see, by default Maven uses <a href=\"https://github.com/apache/maven-resolver/blob/master/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java\" rel=\"nofollow noreferrer\"><code>BasicRepositoryConnector</code></a> and <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-transport-wagon/src/main/java/org/eclipse/aether/transport/wagon/WagonTransporter.java#L67\" rel=\"nofollow noreferrer\"><code>Wagon</code></a> to download the requested artifacts.</p>\n<p>The actual download is performed in the <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java#L179\" rel=\"nofollow noreferrer\"><code>get</code></a> method: please, note it within the provided error trace.</p>\n<p>For the actual download, among other things, it will use a <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L35\" rel=\"nofollow noreferrer\"><code>RepositoryLayout</code></a> provided by the configured <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayoutFactory.java\" rel=\"nofollow noreferrer\"><code>RepositoryLayoutFactory</code></a> by default, see <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/guice/AetherModule.java#L177-L180\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189\" rel=\"nofollow noreferrer\"><code>Maven2RepositoryLayoutFactory</code></a>.</p>\n<p>Please, consider review the implemented <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/internal/impl/Maven2RepositoryLayoutFactory.java#L172-L213\" rel=\"nofollow noreferrer\"><code>getLocation</code></a> methods for the default <code>Maven2RepositoryLayoutFactory</code>, written partially here for completeness:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public URI getLocation(Artifact artifact, boolean upload) {\n    StringBuilder path = new StringBuilder(128);\n\n\n    path.append(artifact.getGroupId().replace('.', '/')).append('/');\n\n\n    path.append(artifact.getArtifactId()).append('/');\n\n\n    path.append(artifact.getBaseVersion()).append('/');\n\n\n    path.append(artifact.getArtifactId()).append('-').append(artifact.getVersion());\n\n\n    if (artifact.getClassifier().length() &gt; 0) {\n        path.append('-').append(artifact.getClassifier());\n    }\n\n\n    if (artifact.getExtension().length() &gt; 0) {\n        path.append('.').append(artifact.getExtension());\n    }\n\n\n    return toUri(path.toString());\n}\n</code></pre>\n<p>As you can see it matches exactly the path of the URL used for the actual download:</p>\n<pre><code>https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.jar\n</code></pre>\n<p>You can include new repository layouts if required although I never did myself: I came across some blogs like <a href=\"https://kthoms.wordpress.com/2009/10/13/how-to-register-a-custom-maven-repository-layout/\" rel=\"nofollow noreferrer\">this one</a> that could be of help.</p>\n<p>I am aware that the repository layout is typically conceived for local directory structure, but as described in the <code>RepositoryLayoutFactory</code> interface javadoc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * A factory to obtain repository layouts. A repository layout is responsible to map an artifact or some metadata to a\n * URI relative to the repository root where the resource resides. When the repository system needs to access a given\n * remote repository, it iterates the registered factories in descending order of their priority and calls\n * {@link #newInstance(RepositorySystemSession, RemoteRepository)} on them. The first layout returned by a factory will\n * then be used for transferring artifacts/metadata.\n */\n</code></pre>\n<p>And the description of the <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L147-L167\" rel=\"nofollow noreferrer\"><code>getLocation</code> methods</a> in <code>RepositoryLayout</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Gets the location within a remote repository where the specified artifact resides. The URI is relative to the\n * root directory of the repository.\n *\n * @param artifact The artifact to get the URI for, must not be {@code null}.\n * @param upload   {@code false} if the artifact is being downloaded, {@code true} if the artifact is being\n *                 uploaded.\n * @return The relative URI to the artifact, never {@code null}.\n */\nURI getLocation(Artifact artifact, boolean upload);\n\n\n/**\n * Gets the location within a remote repository where the specified metadata resides. The URI is relative to the\n * root directory of the repository.\n *\n * @param metadata The metadata to get the URI for, must not be {@code null}.\n * @param upload   {@code false} if the metadata is being downloaded, {@code true} if the metadata is being\n *                 uploaded.\n * @return The relative URI to the metadata, never {@code null}.\n */\nURI getLocation(Metadata metadata, boolean upload);\n</code></pre>\n<p>That means that in order to resolve the URL of a certain artifact there is not a single answer, it will depend on the Maven Repository Layout provided.</p>\n"}],"owner":{"account_id":3207984,"reputation":51,"user_id":2708622,"display_name":"Shashir Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2523,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690126186,"creation_date":1377198990,"question_id":18389064,"body_markdown":"**Short:** Given (groupId, artifactId, version, repository URL) can I programmatically have Maven resolve the artifact URL? \r\n\r\n**Long:** Given (groupId, artifactId, version, repository URL), one can download a Maven artifact. Usually the URL to the artifact looks like:\r\n\r\nscheme://{repository}/{groupId}/{artifactId}/{version}/{artifactId}-{version}.jar\r\n\r\nFor (org.apache.maven, maven-core, 3.0.0, http://repo.maven.org/maven2), the artifact URL resolves to:\r\n\r\nhttp://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar\r\n\r\nUsing the inferred pattern above, I can use string concatenations to produce the artifact URL for any given (groupId, artifactId, version, repository URL). However, I do not want to rely on this inferred pattern since it is subject to change in future versions of Maven.\r\n\r\nCan I programmatically have Maven resolve the artifact URL for me given (groupId, artifactId, version, repository URL)?","title":"Resolving Maven artifact URLs programmatically","body":"<p><strong>Short:</strong> Given (groupId, artifactId, version, repository URL) can I programmatically have Maven resolve the artifact URL? </p>\n\n<p><strong>Long:</strong> Given (groupId, artifactId, version, repository URL), one can download a Maven artifact. Usually the URL to the artifact looks like:</p>\n\n<p>scheme://{repository}/{groupId}/{artifactId}/{version}/{artifactId}-{version}.jar</p>\n\n<p>For (org.apache.maven, maven-core, 3.0.0, <a href=\"http://repo.maven.org/maven2\" rel=\"nofollow\">http://repo.maven.org/maven2</a>), the artifact URL resolves to:</p>\n\n<p><a href=\"http://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar\" rel=\"nofollow\">http://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar</a></p>\n\n<p>Using the inferred pattern above, I can use string concatenations to produce the artifact URL for any given (groupId, artifactId, version, repository URL). However, I do not want to rely on this inferred pattern since it is subject to change in future versions of Maven.</p>\n\n<p>Can I programmatically have Maven resolve the artifact URL for me given (groupId, artifactId, version, repository URL)?</p>\n"},{"tags":["java","anylogic","pojo"],"comments":[{"owner":{"account_id":4196914,"reputation":8751,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1690177371,"post_id":76749021,"comment_id":135311367,"body_markdown":"i would say that this is probably completely determined by programmer style and the context of what needs to be done, hence it&#39;s just about opinion and doesn&#39;t have a definitive answer.","body":"i would say that this is probably completely determined by programmer style and the context of what needs to be done, hence it&#39;s just about opinion and doesn&#39;t have a definitive answer."}],"owner":{"account_id":27475771,"reputation":11,"user_id":20963792,"display_name":"Sharif Khaleghparast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690125862,"creation_date":1690125862,"question_id":76749021,"body_markdown":"In Anylogic, I use a POJO class that keeps the input data of an agent. I instantiate a POJO object for an agent and feed it to that agent as a parameter. After I instantiate a POJO object for an agent, fill the POJO with the agent&#39;s input data, and feed it to the agent as a parameter, there are 3 ways to process that parameter:\r\n\r\n 1. **Assign Parameter to Agent Field and Use Getters:** Assign the POJO parameter to an agent field and use getter methods to retrieve specific data from that field. This approach allows you to encapsulate the POJO data within the agent while providing controlled access to the data through getters and promotes information hiding.\r\n\r\n        public class MyAgent extends Agent {\r\n            private InputData inputData; // Assuming InputData is the POJO class\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.inputData = inputData;\r\n            }\r\n            \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n        }\r\n\r\n 2. **Assign Parameter to Agent Field and Define Other Fields:** Assign the POJO parameter to an agent field, but you also define other fields in the agent to directly store relevant data from the POJO. This approach allows you to extract and store specific data from the POJO upfront, potentially providing faster access during simulation.\r\n\r\n        public class MyAgent extends Agent {\r\n            private InputData inputData; // Assuming InputData is the POJO class\r\n            private double someValue; // Other field to store a specific value from the POJO\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.inputData = inputData;\r\n                this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n            \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return someValue;\r\n            }\r\n        }\r\n\r\n 3. **Directly Assign Parameter Data to Agent Fields:** Directly assign specific data from the POJO parameter to corresponding agent fields without storing the entire POJO within the agent. This approach provides direct access to the necessary data while avoiding additional indirection.\r\n\r\n        public class MyAgent extends Agent {\r\n            private double someValue; // Agent field to store a specific value from the POJO\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n        \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return someValue;\r\n            }\r\n        }\r\n\r\nAs we normally have data fields in the POJO that directly map to agent fields, the second or third approach may be more suitable. I am wondering what is the best practice inline with OOP principles in this context?","title":"Should input POJOs be assigned to an agent field (variable) and define other fields (variables)?","body":"<p>In Anylogic, I use a POJO class that keeps the input data of an agent. I instantiate a POJO object for an agent and feed it to that agent as a parameter. After I instantiate a POJO object for an agent, fill the POJO with the agent's input data, and feed it to the agent as a parameter, there are 3 ways to process that parameter:</p>\n<ol>\n<li><p><strong>Assign Parameter to Agent Field and Use Getters:</strong> Assign the POJO parameter to an agent field and use getter methods to retrieve specific data from that field. This approach allows you to encapsulate the POJO data within the agent while providing controlled access to the data through getters and promotes information hiding.</p>\n<pre><code>public class MyAgent extends Agent {\n    private InputData inputData; // Assuming InputData is the POJO class\n\n    public MyAgent(InputData inputData) {\n        this.inputData = inputData;\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>Assign Parameter to Agent Field and Define Other Fields:</strong> Assign the POJO parameter to an agent field, but you also define other fields in the agent to directly store relevant data from the POJO. This approach allows you to extract and store specific data from the POJO upfront, potentially providing faster access during simulation.</p>\n<pre><code>public class MyAgent extends Agent {\n    private InputData inputData; // Assuming InputData is the POJO class\n    private double someValue; // Other field to store a specific value from the POJO\n\n    public MyAgent(InputData inputData) {\n        this.inputData = inputData;\n        this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return someValue;\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>Directly Assign Parameter Data to Agent Fields:</strong> Directly assign specific data from the POJO parameter to corresponding agent fields without storing the entire POJO within the agent. This approach provides direct access to the necessary data while avoiding additional indirection.</p>\n<pre><code>public class MyAgent extends Agent {\n    private double someValue; // Agent field to store a specific value from the POJO\n\n    public MyAgent(InputData inputData) {\n        this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return someValue;\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>As we normally have data fields in the POJO that directly map to agent fields, the second or third approach may be more suitable. I am wondering what is the best practice inline with OOP principles in this context?</p>\n"},{"tags":["java","android","audio","webrtc","webrtc-android"],"owner":{"account_id":6413964,"reputation":101,"user_id":5058118,"display_name":"Dan Burdetsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690123645,"creation_date":1690123645,"question_id":76748860,"body_markdown":"I am currently experiencing an issue with my Android STB device when I attempt to play a WebRTC stream with stereo audio (two audio channels). The main issue is that the device always downmixes the Left/Right channels to mono, regardless of the different tests and actions I&#39;ve taken.\r\n\r\nThe WebRTC stream is received from Red5 Stream Manager servers, and I&#39;m using the org.webrtc:google-webrtc:1.0.32006 library.\r\n\r\nHere&#39;s a summary of the actions I&#39;ve undertaken and the corresponding findings:\r\n\r\n - I tested the source audio on both the PC Chrome browser and Android Chrome browser on the STB. The audio played correctly in stereo on both, confirming that the source audio is functioning properly.\r\n \r\n - To confirm that the audio stream arrives in stereo, I implemented additional logging. The analysis confirmed that the audio stream does indeed arrive with two channels:\r\n\r\n&gt;  Stats ID: RTCCodec_audio_Outbound_111\r\n&gt;                                                                                                     Stats Type: codec\r\n&gt;                                                                                                     payloadType: 111\r\n&gt;                                                                                                     mimeType: audio/opus\r\n&gt;                                                                                                     clockRate: 48000\r\n&gt;                                                                                                     channels: 2\r\n&gt;                                                                                                     sdpFmtpLine:\r\n&gt; maxaveragebitrate=128000;maxplaybackrate=48000;minptime=10;sprop-stereo=1;stereo=1;useinbandfec=1\r\n&gt;                                                                                                     --------------------------------------------------\r\n\r\n - I tried various audio-related implementations, but the audio output continued to play in mono, so decided to stick with ***javaAudioDeviceModule***\r\n\r\n - I also attempted SDP munging manipulation and performed component updates, but neither action resolved the issue.\r\n\r\n - I made adjustments to audio parameters within the app, but the desired stereo output remained elusive:\r\n\r\n&gt;          JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\r\n&gt;                 .setSamplesReadyCallback(null)\r\n&gt;                 .setUseHardwareAcousticEchoCanceler(false)\r\n&gt;                 .setUseHardwareNoiseSuppressor(false)\r\n&gt;                 .setAudioRecordErrorCallback(null)\r\n&gt;                 .setAudioTrackErrorCallback(null)\r\n&gt;                 .setUseStereoInput(true)\r\n&gt;                 .setUseStereoOutput(true)\r\n&gt;                 .createAudioDeviceModule();\r\n\r\n - The issue persists across various devices, including the Amino Amigo, Amino H-200, and an XIAOMI Android cell phone.\r\n\r\nBelow is the relevant code class that I&#39;m working with:\r\n\r\n    package com.twizted.videoflowplayer.webrtc;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    \r\n    import org.webrtc.AudioSource;\r\n    import org.webrtc.AudioTrack;\r\n    import org.webrtc.CandidatePairChangeEvent;\r\n    import org.webrtc.DataChannel;\r\n    import org.webrtc.DefaultVideoDecoderFactory;\r\n    import org.webrtc.DefaultVideoEncoderFactory;\r\n    import org.webrtc.EglBase;\r\n    import org.webrtc.IceCandidate;\r\n    import org.webrtc.MediaConstraints;\r\n    import org.webrtc.MediaStream;\r\n    import org.webrtc.PeerConnection;\r\n    import org.webrtc.PeerConnectionFactory;\r\n    import org.webrtc.RTCStats;\r\n    import org.webrtc.RTCStatsCollectorCallback;\r\n    import org.webrtc.RTCStatsReport;\r\n    import org.webrtc.RendererCommon;\r\n    import org.webrtc.RtpReceiver;\r\n    import org.webrtc.RtpTransceiver;\r\n    import org.webrtc.SessionDescription;\r\n    import org.webrtc.SurfaceViewRenderer;\r\n    import org.webrtc.VideoTrack;\r\n    import org.webrtc.audio.JavaAudioDeviceModule;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    \r\n    public class WebRTCNativeClient implements PeerConnection.Observer, Red5MediaSignallingEvents {\r\n        private static final String TAG = &quot;WebRTCNativeClient&quot;;\r\n    \r\n        private Handler handler = new Handler(Looper.getMainLooper());\r\n    \r\n        private Context context;\r\n        private final IWebRTCListener webRTCListener;\r\n    \r\n        private String stunServerUri = &quot;stun:stun.l.google.com:19302&quot;;\r\n        private List&lt;PeerConnection.IceServer&gt; peerIceServers = new ArrayList&lt;&gt;();\r\n    \r\n        private PeerConnection peerConnection;\r\n        private PeerConnectionFactory peerConnectionFactory;\r\n        private EglBase rootEglBase;\r\n        private SurfaceViewRenderer renderer;\r\n        private MediaConstraints sdpMediaConstraints;\r\n        private boolean iceConnected;\r\n    \r\n        private WebSocketHandler wsHandler;\r\n        private Timer statsTimer;\r\n    \r\n        private String streamId;\r\n        private boolean debug;\r\n        private String url;\r\n    \r\n        private AudioTrack localAudioTrack;\r\n    \r\n        public WebRTCNativeClient(IWebRTCListener webRTCListener, Context context) {\r\n            this.webRTCListener = webRTCListener;\r\n            this.context = context;\r\n        }\r\n    \r\n        public void setRenderer(SurfaceViewRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n    \r\n        public void init(String url, String streamId, boolean debug) {\r\n            if (peerConnection != null) {\r\n                Log.w(TAG, &quot;There is already an active peerconnection client &quot;);\r\n                return;\r\n            }\r\n    \r\n            if (url == null) {\r\n                Log.e(TAG, &quot;Didn&#39;t get any URL!&quot;);\r\n                return;\r\n            }\r\n    \r\n            this.url = url;\r\n            this.streamId = streamId;\r\n            this.debug = debug;\r\n            iceConnected = false;\r\n    \r\n            sdpMediaConstraints = new MediaConstraints();\r\n            sdpMediaConstraints.mandatory.add(\r\n                    new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n            sdpMediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(\r\n                    &quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n    \r\n            PeerConnection.IceServer peerIceServer = PeerConnection.IceServer.builder(stunServerUri).createIceServer();\r\n            peerIceServers.add(peerIceServer);\r\n    \r\n            rootEglBase = EglBase.create();\r\n            renderer.init(rootEglBase.getEglBaseContext(), null);\r\n            renderer.setZOrderMediaOverlay(true);\r\n            renderer.setScalingType(RendererCommon.ScalingType.SCALE_ASPECT_FIT);\r\n    \r\n            // Initialize PeerConnectionFactory globals.\r\n            PeerConnectionFactory.InitializationOptions initializationOptions =\r\n                    PeerConnectionFactory.InitializationOptions.builder(context)\r\n                            .createInitializationOptions();\r\n            PeerConnectionFactory.initialize(initializationOptions);\r\n    \r\n            // Create a new PeerConnectionFactory instance - using Hardware encoder and decoder.\r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n    \r\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\r\n                    rootEglBase.getEglBaseContext(), true, true);\r\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n    \r\n            JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\r\n                    .setSamplesReadyCallback(null)\r\n                    .setUseHardwareAcousticEchoCanceler(false)\r\n                    .setUseHardwareNoiseSuppressor(false)\r\n                    .setAudioRecordErrorCallback(null)\r\n                    .setAudioTrackErrorCallback(null)\r\n                    .setUseStereoInput(true)\r\n                    .setUseStereoOutput(true)\r\n                    .createAudioDeviceModule();\r\n    \r\n            peerConnectionFactory = PeerConnectionFactory.builder()\r\n                    .setOptions(options)\r\n                    .setAudioDeviceModule(javaAudioDeviceModule)\r\n                    .setVideoEncoderFactory(defaultVideoEncoderFactory)\r\n                    .setVideoDecoderFactory(defaultVideoDecoderFactory)\r\n                    .createPeerConnectionFactory();\r\n    \r\n            createPeerConnection();\r\n        }\r\n    \r\n        private void createPeerConnection() {\r\n            PeerConnection.RTCConfiguration rtcConfig =\r\n                    new PeerConnection.RTCConfiguration(peerIceServers);\r\n            rtcConfig.iceTransportsType = PeerConnection.IceTransportsType.ALL;\r\n            rtcConfig.tcpCandidatePolicy = PeerConnection.TcpCandidatePolicy.DISABLED;\r\n            rtcConfig.bundlePolicy = PeerConnection.BundlePolicy.MAXBUNDLE;\r\n            rtcConfig.rtcpMuxPolicy = PeerConnection.RtcpMuxPolicy.REQUIRE;\r\n            rtcConfig.continualGatheringPolicy = PeerConnection.ContinualGatheringPolicy.GATHER_CONTINUALLY;\r\n            rtcConfig.keyType = PeerConnection.KeyType.ECDSA;\r\n            peerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, this);\r\n    \r\n            // Set up audio track\r\n    //        final AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n    //        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;my-audio-track&quot;, audioSource);\r\n    //\r\n    //        if (peerConnection != null) {\r\n    //            peerConnection.addTrack(localAudioTrack);\r\n    //        }\r\n        }\r\n    \r\n        public void startStream(String url, String streamId, boolean debug) {\r\n            init(url, streamId, debug);\r\n            if (wsHandler == null) {\r\n                wsHandler = new WebSocketHandler(this, handler, this.streamId);\r\n                wsHandler.connect(url);\r\n            } else if (!wsHandler.isConnected()) {\r\n                wsHandler.disconnect(true);\r\n                wsHandler = new WebSocketHandler(this, handler, this.streamId);\r\n                wsHandler.connect(url);\r\n            }\r\n            wsHandler.startPlay();\r\n        }\r\n    \r\n        public void stopStream() {\r\n            disconnect();\r\n        }\r\n    \r\n        public void disconnect() {\r\n            release();\r\n        }\r\n    \r\n        private void release() {\r\n            iceConnected = false;\r\n            cancelTimer();\r\n            if (wsHandler != null &amp;&amp; wsHandler.getSignallingListener().equals(this)) {\r\n                wsHandler.disconnect(true);\r\n                wsHandler = null;\r\n            }\r\n    \r\n            if (renderer != null) {\r\n                renderer.release();\r\n            }\r\n    \r\n            if (peerConnection != null) {\r\n                peerConnection.close();\r\n                peerConnection = null;\r\n            }\r\n        }\r\n    \r\n        private void cancelTimer() {\r\n            if (statsTimer != null) {\r\n                statsTimer.cancel();\r\n                statsTimer = null;\r\n            }\r\n        }\r\n    \r\n        public boolean isStreaming() {\r\n            return iceConnected;\r\n        }\r\n    \r\n        private void gotRemoteStream(MediaStream stream) {\r\n            final VideoTrack videoTrack = stream.videoTracks.get(0);\r\n            handler.post(() -&gt; {\r\n                try {\r\n                    videoTrack.addSink(renderer);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onSignalingChange(PeerConnection.SignalingState signalingState) {\r\n            Log.d(TAG, &quot;onSignalingChange() called with: signalingState = [&quot; + signalingState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\r\n            Log.d(TAG, &quot;onIceConnectionChange() called with: iceConnectionState = [&quot; + iceConnectionState + &quot;]&quot;);\r\n            handler.post(() -&gt; {\r\n                if (iceConnectionState == PeerConnection.IceConnectionState.CONNECTED) {\r\n                    iceConnected = true;\r\n                    enableStatsEvents(debug, 1000);\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onIceConnected();\r\n                    }\r\n                } else if (iceConnectionState == PeerConnection.IceConnectionState.DISCONNECTED ||\r\n                        iceConnectionState == PeerConnection.IceConnectionState.CLOSED) {\r\n                    iceConnected = false;\r\n                    disconnect();\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onIceDisconnected();\r\n                    }\r\n                } else if (iceConnectionState == PeerConnection.IceConnectionState.FAILED) {\r\n                    iceConnected = false;\r\n                    disconnect();\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onError(&quot;ICE connection failed.&quot;);\r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public void enableStatsEvents(boolean enable, int periodMs) {\r\n            Log.d(TAG, &quot;enableStatsEvents() called with: enabled = [&quot; + enable + &quot;]  --- [&quot; + handler + &quot;]  --- [&quot; + peerConnection + &quot;]  --- [&quot; + webRTCListener + &quot;]&quot;);\r\n            if (enable) {\r\n                try {\r\n                    if (statsTimer == null) statsTimer = new Timer();\r\n                    statsTimer.schedule(new TimerTask() {\r\n                        @Override\r\n                        public void run() {\r\n                            handler.post(() -&gt; {\r\n                                if (peerConnection == null) return;\r\n                                peerConnection.getStats(new RTCStatsCollectorCallback() {\r\n                                    @Override\r\n                                    public void onStatsDelivered(RTCStatsReport rtcStatsReport) {\r\n                                        if (webRTCListener != null)\r\n                                            webRTCListener.onReport(rtcStatsReport);\r\n                                        printAudioStats(rtcStatsReport);\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                    }, 0, periodMs);\r\n                } catch (Exception e) {\r\n                    Log.e(TAG, &quot;Can not schedule statistics timer&quot;, e);\r\n                }\r\n            } else {\r\n                cancelTimer();\r\n            }\r\n        }\r\n    \r\n        private void printAudioStats(RTCStatsReport rtcStatsReport) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            stringBuilder.append(&quot;Audio Statistics:\\n&quot;);\r\n            for (RTCStats stats : rtcStatsReport.getStatsMap().values()) {\r\n                stringBuilder.append(&quot;Stats ID: &quot;).append(stats.getId()).append(&quot;\\n&quot;);\r\n                stringBuilder.append(&quot;Stats Type: &quot;).append(stats.getType()).append(&quot;\\n&quot;);\r\n                Map&lt;String, Object&gt; members = stats.getMembers();\r\n                for (String statKey : members.keySet()) {\r\n                    stringBuilder.append(statKey).append(&quot;: &quot;).append(members.get(statKey)).append(&quot;\\n&quot;);\r\n                }\r\n                stringBuilder.append(&quot;--------------------------------------------------\\n&quot;);\r\n            }\r\n            Log.d(TAG, stringBuilder.toString());\r\n        }\r\n    \r\n        @Override\r\n        public void onStandardizedIceConnectionChange(PeerConnection.IceConnectionState newState) {\r\n            Log.d(TAG, &quot;onStandardizedIceConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onConnectionChange(PeerConnection.PeerConnectionState newState) {\r\n            Log.d(TAG, &quot;onConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceConnectionReceivingChange(boolean b) {\r\n            Log.d(TAG, &quot;onIceConnectionReceivingChange() called with: b = [&quot; + b + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\r\n            Log.d(TAG, &quot;onIceGatheringChange() called with: iceGatheringState = [&quot; + iceGatheringState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceCandidate(IceCandidate iceCandidate) {\r\n            Log.d(TAG, &quot;onIceCandidate() called with: iceCandidate = [&quot; + iceCandidate + &quot;]&quot;);\r\n            handler.post(() -&gt; {\r\n                if (wsHandler != null) wsHandler.sendLocalIceCandidate(iceCandidate);\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\r\n            Log.d(TAG, &quot;onIceCandidatesRemoved() called with: iceCandidates = [&quot; + iceCandidates + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onSelectedCandidatePairChanged(CandidatePairChangeEvent event) {\r\n            Log.d(TAG, &quot;onSelectedCandidatePairChanged() called with: event = [&quot; + event + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAddStream(MediaStream mediaStream) {\r\n            Log.d(TAG, &quot;onAddStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\r\n            gotRemoteStream(mediaStream);\r\n        }\r\n    \r\n        @Override\r\n        public void onRemoveStream(MediaStream mediaStream) {\r\n            Log.d(TAG, &quot;onRemoveStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDataChannel(DataChannel dataChannel) {\r\n            Log.d(TAG, &quot;onDataChannel() called with: dataChannel = [&quot; + dataChannel + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRenegotiationNeeded() {\r\n            Log.d(TAG, &quot;onRenegotiationNeeded() called&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\r\n            Log.d(TAG, &quot;onAddTrack() called with: rtpReceiver = [&quot; + rtpReceiver + &quot;]  -- mediaStreams = [&quot; + mediaStreams + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onTrack(RtpTransceiver transceiver) {\r\n            Log.d(TAG, &quot;onTrack() called with: transceiver = [&quot; + transceiver + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRemoteIceCandidate(String streamId, IceCandidate candidate) {\r\n            handler.post(() -&gt; {\r\n                if (peerConnection == null) {\r\n                    Log.e(TAG, &quot;Received ICE candidate for a non-initialized peer connection.&quot;);\r\n                    return;\r\n                }\r\n                peerConnection.addIceCandidate(candidate);\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onTakeConfiguration(String streamId, SessionDescription sdp) {\r\n            handler.post(() -&gt; {\r\n                if (sdp.type == SessionDescription.Type.OFFER) {\r\n                    peerConnection.setRemoteDescription(new CustomSdpObserver(&quot;remoteDesc&quot;), sdp);\r\n    \r\n                    peerConnection.createAnswer(new CustomSdpObserver(&quot;createAnswer&quot;) {\r\n                        @Override\r\n                        public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                            super.onCreateSuccess(sessionDescription);\r\n                            peerConnection.setLocalDescription(new CustomSdpObserver(&quot;setLocalDescription&quot;), sessionDescription);\r\n                            handler.post(() -&gt; wsHandler.sendConfiguration(sessionDescription, WebSocketConstants.ANSWER));\r\n                        }\r\n                    }, sdpMediaConstraints);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onPlayStarted(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.onPlayStarted();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onPlayFinished(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.onPlayFinished();\r\n                }\r\n                disconnect();\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void noStreamExistsToPlay(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.noStreamExistsToPlay();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamLeaved(String streamId) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBitrateMeasurement(String streamId, int targetBitrate, int videoBitrate, int audioBitrate) {\r\n    \r\n        }\r\n    }\r\n\r\nCan anyone help me understand why the device continues to downmix the stereo audio to mono, and how I might fix this issue? Any guidance or suggestions would be greatly appreciated. Thanks in advance!\r\n","title":"Android WebRTC stream always downmixes stereo audio to mono","body":"<p>I am currently experiencing an issue with my Android STB device when I attempt to play a WebRTC stream with stereo audio (two audio channels). The main issue is that the device always downmixes the Left/Right channels to mono, regardless of the different tests and actions I've taken.</p>\n<p>The WebRTC stream is received from Red5 Stream Manager servers, and I'm using the org.webrtc:google-webrtc:1.0.32006 library.</p>\n<p>Here's a summary of the actions I've undertaken and the corresponding findings:</p>\n<ul>\n<li><p>I tested the source audio on both the PC Chrome browser and Android Chrome browser on the STB. The audio played correctly in stereo on both, confirming that the source audio is functioning properly.</p>\n</li>\n<li><p>To confirm that the audio stream arrives in stereo, I implemented additional logging. The analysis confirmed that the audio stream does indeed arrive with two channels:</p>\n</li>\n</ul>\n<blockquote>\n<p>Stats ID: RTCCodec_audio_Outbound_111\nStats Type: codec\npayloadType: 111\nmimeType: audio/opus\nclockRate: 48000\nchannels: 2\nsdpFmtpLine:\nmaxaveragebitrate=128000;maxplaybackrate=48000;minptime=10;sprop-stereo=1;stereo=1;useinbandfec=1\n--------------------------------------------------</p>\n</blockquote>\n<ul>\n<li><p>I tried various audio-related implementations, but the audio output continued to play in mono, so decided to stick with <em><strong>javaAudioDeviceModule</strong></em></p>\n</li>\n<li><p>I also attempted SDP munging manipulation and performed component updates, but neither action resolved the issue.</p>\n</li>\n<li><p>I made adjustments to audio parameters within the app, but the desired stereo output remained elusive:</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>     JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\n            .setSamplesReadyCallback(null)\n            .setUseHardwareAcousticEchoCanceler(false)\n            .setUseHardwareNoiseSuppressor(false)\n            .setAudioRecordErrorCallback(null)\n            .setAudioTrackErrorCallback(null)\n            .setUseStereoInput(true)\n            .setUseStereoOutput(true)\n            .createAudioDeviceModule();\n</code></pre>\n</blockquote>\n<ul>\n<li>The issue persists across various devices, including the Amino Amigo, Amino H-200, and an XIAOMI Android cell phone.</li>\n</ul>\n<p>Below is the relevant code class that I'm working with:</p>\n<pre><code>package com.twizted.videoflowplayer.webrtc;\n\nimport android.content.Context;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\n\nimport org.webrtc.AudioSource;\nimport org.webrtc.AudioTrack;\nimport org.webrtc.CandidatePairChangeEvent;\nimport org.webrtc.DataChannel;\nimport org.webrtc.DefaultVideoDecoderFactory;\nimport org.webrtc.DefaultVideoEncoderFactory;\nimport org.webrtc.EglBase;\nimport org.webrtc.IceCandidate;\nimport org.webrtc.MediaConstraints;\nimport org.webrtc.MediaStream;\nimport org.webrtc.PeerConnection;\nimport org.webrtc.PeerConnectionFactory;\nimport org.webrtc.RTCStats;\nimport org.webrtc.RTCStatsCollectorCallback;\nimport org.webrtc.RTCStatsReport;\nimport org.webrtc.RendererCommon;\nimport org.webrtc.RtpReceiver;\nimport org.webrtc.RtpTransceiver;\nimport org.webrtc.SessionDescription;\nimport org.webrtc.SurfaceViewRenderer;\nimport org.webrtc.VideoTrack;\nimport org.webrtc.audio.JavaAudioDeviceModule;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class WebRTCNativeClient implements PeerConnection.Observer, Red5MediaSignallingEvents {\n    private static final String TAG = &quot;WebRTCNativeClient&quot;;\n\n    private Handler handler = new Handler(Looper.getMainLooper());\n\n    private Context context;\n    private final IWebRTCListener webRTCListener;\n\n    private String stunServerUri = &quot;stun:stun.l.google.com:19302&quot;;\n    private List&lt;PeerConnection.IceServer&gt; peerIceServers = new ArrayList&lt;&gt;();\n\n    private PeerConnection peerConnection;\n    private PeerConnectionFactory peerConnectionFactory;\n    private EglBase rootEglBase;\n    private SurfaceViewRenderer renderer;\n    private MediaConstraints sdpMediaConstraints;\n    private boolean iceConnected;\n\n    private WebSocketHandler wsHandler;\n    private Timer statsTimer;\n\n    private String streamId;\n    private boolean debug;\n    private String url;\n\n    private AudioTrack localAudioTrack;\n\n    public WebRTCNativeClient(IWebRTCListener webRTCListener, Context context) {\n        this.webRTCListener = webRTCListener;\n        this.context = context;\n    }\n\n    public void setRenderer(SurfaceViewRenderer renderer) {\n        this.renderer = renderer;\n    }\n\n    public void init(String url, String streamId, boolean debug) {\n        if (peerConnection != null) {\n            Log.w(TAG, &quot;There is already an active peerconnection client &quot;);\n            return;\n        }\n\n        if (url == null) {\n            Log.e(TAG, &quot;Didn't get any URL!&quot;);\n            return;\n        }\n\n        this.url = url;\n        this.streamId = streamId;\n        this.debug = debug;\n        iceConnected = false;\n\n        sdpMediaConstraints = new MediaConstraints();\n        sdpMediaConstraints.mandatory.add(\n                new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n        sdpMediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(\n                &quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n\n        PeerConnection.IceServer peerIceServer = PeerConnection.IceServer.builder(stunServerUri).createIceServer();\n        peerIceServers.add(peerIceServer);\n\n        rootEglBase = EglBase.create();\n        renderer.init(rootEglBase.getEglBaseContext(), null);\n        renderer.setZOrderMediaOverlay(true);\n        renderer.setScalingType(RendererCommon.ScalingType.SCALE_ASPECT_FIT);\n\n        // Initialize PeerConnectionFactory globals.\n        PeerConnectionFactory.InitializationOptions initializationOptions =\n                PeerConnectionFactory.InitializationOptions.builder(context)\n                        .createInitializationOptions();\n        PeerConnectionFactory.initialize(initializationOptions);\n\n        // Create a new PeerConnectionFactory instance - using Hardware encoder and decoder.\n        PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n\n        DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\n                rootEglBase.getEglBaseContext(), true, true);\n        DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n\n        JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\n                .setSamplesReadyCallback(null)\n                .setUseHardwareAcousticEchoCanceler(false)\n                .setUseHardwareNoiseSuppressor(false)\n                .setAudioRecordErrorCallback(null)\n                .setAudioTrackErrorCallback(null)\n                .setUseStereoInput(true)\n                .setUseStereoOutput(true)\n                .createAudioDeviceModule();\n\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setOptions(options)\n                .setAudioDeviceModule(javaAudioDeviceModule)\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\n                .createPeerConnectionFactory();\n\n        createPeerConnection();\n    }\n\n    private void createPeerConnection() {\n        PeerConnection.RTCConfiguration rtcConfig =\n                new PeerConnection.RTCConfiguration(peerIceServers);\n        rtcConfig.iceTransportsType = PeerConnection.IceTransportsType.ALL;\n        rtcConfig.tcpCandidatePolicy = PeerConnection.TcpCandidatePolicy.DISABLED;\n        rtcConfig.bundlePolicy = PeerConnection.BundlePolicy.MAXBUNDLE;\n        rtcConfig.rtcpMuxPolicy = PeerConnection.RtcpMuxPolicy.REQUIRE;\n        rtcConfig.continualGatheringPolicy = PeerConnection.ContinualGatheringPolicy.GATHER_CONTINUALLY;\n        rtcConfig.keyType = PeerConnection.KeyType.ECDSA;\n        peerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, this);\n\n        // Set up audio track\n//        final AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n//        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;my-audio-track&quot;, audioSource);\n//\n//        if (peerConnection != null) {\n//            peerConnection.addTrack(localAudioTrack);\n//        }\n    }\n\n    public void startStream(String url, String streamId, boolean debug) {\n        init(url, streamId, debug);\n        if (wsHandler == null) {\n            wsHandler = new WebSocketHandler(this, handler, this.streamId);\n            wsHandler.connect(url);\n        } else if (!wsHandler.isConnected()) {\n            wsHandler.disconnect(true);\n            wsHandler = new WebSocketHandler(this, handler, this.streamId);\n            wsHandler.connect(url);\n        }\n        wsHandler.startPlay();\n    }\n\n    public void stopStream() {\n        disconnect();\n    }\n\n    public void disconnect() {\n        release();\n    }\n\n    private void release() {\n        iceConnected = false;\n        cancelTimer();\n        if (wsHandler != null &amp;&amp; wsHandler.getSignallingListener().equals(this)) {\n            wsHandler.disconnect(true);\n            wsHandler = null;\n        }\n\n        if (renderer != null) {\n            renderer.release();\n        }\n\n        if (peerConnection != null) {\n            peerConnection.close();\n            peerConnection = null;\n        }\n    }\n\n    private void cancelTimer() {\n        if (statsTimer != null) {\n            statsTimer.cancel();\n            statsTimer = null;\n        }\n    }\n\n    public boolean isStreaming() {\n        return iceConnected;\n    }\n\n    private void gotRemoteStream(MediaStream stream) {\n        final VideoTrack videoTrack = stream.videoTracks.get(0);\n        handler.post(() -&gt; {\n            try {\n                videoTrack.addSink(renderer);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    @Override\n    public void onSignalingChange(PeerConnection.SignalingState signalingState) {\n        Log.d(TAG, &quot;onSignalingChange() called with: signalingState = [&quot; + signalingState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\n        Log.d(TAG, &quot;onIceConnectionChange() called with: iceConnectionState = [&quot; + iceConnectionState + &quot;]&quot;);\n        handler.post(() -&gt; {\n            if (iceConnectionState == PeerConnection.IceConnectionState.CONNECTED) {\n                iceConnected = true;\n                enableStatsEvents(debug, 1000);\n                if (webRTCListener != null) {\n                    webRTCListener.onIceConnected();\n                }\n            } else if (iceConnectionState == PeerConnection.IceConnectionState.DISCONNECTED ||\n                    iceConnectionState == PeerConnection.IceConnectionState.CLOSED) {\n                iceConnected = false;\n                disconnect();\n                if (webRTCListener != null) {\n                    webRTCListener.onIceDisconnected();\n                }\n            } else if (iceConnectionState == PeerConnection.IceConnectionState.FAILED) {\n                iceConnected = false;\n                disconnect();\n                if (webRTCListener != null) {\n                    webRTCListener.onError(&quot;ICE connection failed.&quot;);\n                }\n            }\n        });\n\n    }\n\n    public void enableStatsEvents(boolean enable, int periodMs) {\n        Log.d(TAG, &quot;enableStatsEvents() called with: enabled = [&quot; + enable + &quot;]  --- [&quot; + handler + &quot;]  --- [&quot; + peerConnection + &quot;]  --- [&quot; + webRTCListener + &quot;]&quot;);\n        if (enable) {\n            try {\n                if (statsTimer == null) statsTimer = new Timer();\n                statsTimer.schedule(new TimerTask() {\n                    @Override\n                    public void run() {\n                        handler.post(() -&gt; {\n                            if (peerConnection == null) return;\n                            peerConnection.getStats(new RTCStatsCollectorCallback() {\n                                @Override\n                                public void onStatsDelivered(RTCStatsReport rtcStatsReport) {\n                                    if (webRTCListener != null)\n                                        webRTCListener.onReport(rtcStatsReport);\n                                    printAudioStats(rtcStatsReport);\n                                }\n                            });\n                        });\n                    }\n                }, 0, periodMs);\n            } catch (Exception e) {\n                Log.e(TAG, &quot;Can not schedule statistics timer&quot;, e);\n            }\n        } else {\n            cancelTimer();\n        }\n    }\n\n    private void printAudioStats(RTCStatsReport rtcStatsReport) {\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append(&quot;Audio Statistics:\\n&quot;);\n        for (RTCStats stats : rtcStatsReport.getStatsMap().values()) {\n            stringBuilder.append(&quot;Stats ID: &quot;).append(stats.getId()).append(&quot;\\n&quot;);\n            stringBuilder.append(&quot;Stats Type: &quot;).append(stats.getType()).append(&quot;\\n&quot;);\n            Map&lt;String, Object&gt; members = stats.getMembers();\n            for (String statKey : members.keySet()) {\n                stringBuilder.append(statKey).append(&quot;: &quot;).append(members.get(statKey)).append(&quot;\\n&quot;);\n            }\n            stringBuilder.append(&quot;--------------------------------------------------\\n&quot;);\n        }\n        Log.d(TAG, stringBuilder.toString());\n    }\n\n    @Override\n    public void onStandardizedIceConnectionChange(PeerConnection.IceConnectionState newState) {\n        Log.d(TAG, &quot;onStandardizedIceConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onConnectionChange(PeerConnection.PeerConnectionState newState) {\n        Log.d(TAG, &quot;onConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceConnectionReceivingChange(boolean b) {\n        Log.d(TAG, &quot;onIceConnectionReceivingChange() called with: b = [&quot; + b + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\n        Log.d(TAG, &quot;onIceGatheringChange() called with: iceGatheringState = [&quot; + iceGatheringState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceCandidate(IceCandidate iceCandidate) {\n        Log.d(TAG, &quot;onIceCandidate() called with: iceCandidate = [&quot; + iceCandidate + &quot;]&quot;);\n        handler.post(() -&gt; {\n            if (wsHandler != null) wsHandler.sendLocalIceCandidate(iceCandidate);\n        });\n    }\n\n    @Override\n    public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\n        Log.d(TAG, &quot;onIceCandidatesRemoved() called with: iceCandidates = [&quot; + iceCandidates + &quot;]&quot;);\n    }\n\n    @Override\n    public void onSelectedCandidatePairChanged(CandidatePairChangeEvent event) {\n        Log.d(TAG, &quot;onSelectedCandidatePairChanged() called with: event = [&quot; + event + &quot;]&quot;);\n    }\n\n    @Override\n    public void onAddStream(MediaStream mediaStream) {\n        Log.d(TAG, &quot;onAddStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\n        gotRemoteStream(mediaStream);\n    }\n\n    @Override\n    public void onRemoveStream(MediaStream mediaStream) {\n        Log.d(TAG, &quot;onRemoveStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\n    }\n\n    @Override\n    public void onDataChannel(DataChannel dataChannel) {\n        Log.d(TAG, &quot;onDataChannel() called with: dataChannel = [&quot; + dataChannel + &quot;]&quot;);\n    }\n\n    @Override\n    public void onRenegotiationNeeded() {\n        Log.d(TAG, &quot;onRenegotiationNeeded() called&quot;);\n    }\n\n    @Override\n    public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\n        Log.d(TAG, &quot;onAddTrack() called with: rtpReceiver = [&quot; + rtpReceiver + &quot;]  -- mediaStreams = [&quot; + mediaStreams + &quot;]&quot;);\n    }\n\n    @Override\n    public void onTrack(RtpTransceiver transceiver) {\n        Log.d(TAG, &quot;onTrack() called with: transceiver = [&quot; + transceiver + &quot;]&quot;);\n    }\n\n    @Override\n    public void onRemoteIceCandidate(String streamId, IceCandidate candidate) {\n        handler.post(() -&gt; {\n            if (peerConnection == null) {\n                Log.e(TAG, &quot;Received ICE candidate for a non-initialized peer connection.&quot;);\n                return;\n            }\n            peerConnection.addIceCandidate(candidate);\n        });\n    }\n\n    @Override\n    public void onTakeConfiguration(String streamId, SessionDescription sdp) {\n        handler.post(() -&gt; {\n            if (sdp.type == SessionDescription.Type.OFFER) {\n                peerConnection.setRemoteDescription(new CustomSdpObserver(&quot;remoteDesc&quot;), sdp);\n\n                peerConnection.createAnswer(new CustomSdpObserver(&quot;createAnswer&quot;) {\n                    @Override\n                    public void onCreateSuccess(SessionDescription sessionDescription) {\n                        super.onCreateSuccess(sessionDescription);\n                        peerConnection.setLocalDescription(new CustomSdpObserver(&quot;setLocalDescription&quot;), sessionDescription);\n                        handler.post(() -&gt; wsHandler.sendConfiguration(sessionDescription, WebSocketConstants.ANSWER));\n                    }\n                }, sdpMediaConstraints);\n            }\n        });\n    }\n\n    @Override\n    public void onPlayStarted(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.onPlayStarted();\n            }\n        });\n    }\n\n    @Override\n    public void onPlayFinished(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.onPlayFinished();\n            }\n            disconnect();\n        });\n    }\n\n    @Override\n    public void noStreamExistsToPlay(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.noStreamExistsToPlay();\n            }\n        });\n    }\n\n    @Override\n    public void onStreamLeaved(String streamId) {\n\n    }\n\n    @Override\n    public void onBitrateMeasurement(String streamId, int targetBitrate, int videoBitrate, int audioBitrate) {\n\n    }\n}\n</code></pre>\n<p>Can anyone help me understand why the device continues to downmix the stereo audio to mono, and how I might fix this issue? Any guidance or suggestions would be greatly appreciated. Thanks in advance!</p>\n"},{"tags":["java","integer","css-float"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689704607,"creation_date":1689704607,"answer_id":76715614,"question_id":76715500,"body_markdown":"In the if block for `if (input.hasNextInt())` (i.e. the first input is an integer), you only try to read two ints (using `input.nextInt()`), so inputs with decimals will not be accepted for the second number. \r\n\r\nOne way to fix this is to use `float second = input.nextFloat();` and just use the `+` operator to sum `first` and `second`.\r\n\r\nSince integers can be considered real numbers with no fractional part, you can also simply read two floats (or doubles, for higher precision) and add them with the `+` operator.","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>In the if block for <code>if (input.hasNextInt())</code> (i.e. the first input is an integer), you only try to read two ints (using <code>input.nextInt()</code>), so inputs with decimals will not be accepted for the second number.</p>\n<p>One way to fix this is to use <code>float second = input.nextFloat();</code> and just use the <code>+</code> operator to sum <code>first</code> and <code>second</code>.</p>\n<p>Since integers can be considered real numbers with no fractional part, you can also simply read two floats (or doubles, for higher precision) and add them with the <code>+</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690123617,"creation_date":1689705801,"answer_id":76715738,"question_id":76715500,"body_markdown":"I updated my code and thanks to the responses. I decided to stick with floats. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\n// Basic Intro/ Refresher for Sums using User Input\r\npublic class BasicSums {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// User input \r\n\t\tScanner input = new Scanner (System.in);\r\n\t\tSystem.out.println(&quot;Enter the first number: &quot;);\r\n\t\t//Using Float to consider possibility of decimal values \r\n\t\tfloat first = input.nextFloat();\r\n\t\tSystem.out.println(&quot;Enter the second number: &quot;);\r\n\t\tfloat second = input.nextFloat();\t\r\n\t\tSystem.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n}\r\n```\r\nThis allows for either. ","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>I updated my code and thanks to the responses. I decided to stick with floats.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\n// Basic Intro/ Refresher for Sums using User Input\npublic class BasicSums {\n    \n    public static void main(String[] args) {\n        \n        // User input \n        Scanner input = new Scanner (System.in);\n        System.out.println(&quot;Enter the first number: &quot;);\n        //Using Float to consider possibility of decimal values \n        float first = input.nextFloat();\n        System.out.println(&quot;Enter the second number: &quot;);\n        float second = input.nextFloat();   \n        System.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));  \n        \n        \n        }\n}\n</code></pre>\n<p>This allows for either.</p>\n"}],"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715614,"answer_count":2,"score":0,"last_activity_date":1690123617,"creation_date":1689703392,"question_id":76715500,"body_markdown":"So I am working on a project and my code works when I put a float or int in the first input and then add with an int in second input. But if I try to add a int in the first input and a float in the second input it does not work. \r\n\r\nFor example, \r\nEnter the first number: \r\n34.6\r\nThis input is of type float.\r\n\r\nEnter the second number: \r\n90\r\nYour answer is: 124.6\r\nThe above works. \r\n\r\n\r\nBelow does not work. \r\nEnter the first number: \r\n90\r\n\r\nEnter the second number: \r\n34.7\r\n\r\n\r\nHere is my code: \r\n&gt; import java.util.Scanner;\r\n\r\n// Basic Intro/ Refresher for Sums using User Input\r\npublic class BasicSums {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// User input \r\n\t\tScanner input = new Scanner (System.in);\r\n\t\tSystem.out.println(&quot;Enter the first number: &quot;);\r\n\t\t\r\n\t\t\r\n\t\tif (input.hasNextInt()) {\r\n\t\t\tint initial = input.nextInt();\r\n\t\t\tSystem.out.println(&quot;\\nEnter the second number: &quot;);\r\n\t\t\tint second = input.nextInt();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Your answer is: &quot; + Integer.sum(initial, second));\r\n\t\t\r\n\t\t//Considering the possibility of the user entering a decimal value \t\r\n\t\t} else if (input.hasNextFloat()) {\r\n\t\t\tSystem.out.println(&quot;This input is of type float.\\n&quot;);\r\n\t\t\tfloat first = input.nextFloat();\r\n\t\t\tSystem.out.println(&quot;Enter the second number: &quot;);\r\n\t\t\tfloat second = input.nextFloat();\t\r\n\t\t\tSystem.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));\t\t\t\r\n\t\t} \r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n}\r\n","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>So I am working on a project and my code works when I put a float or int in the first input and then add with an int in second input. But if I try to add a int in the first input and a float in the second input it does not work.</p>\n<p>For example,\nEnter the first number:\n34.6\nThis input is of type float.</p>\n<p>Enter the second number:\n90\nYour answer is: 124.6\nThe above works.</p>\n<p>Below does not work.\nEnter the first number:\n90</p>\n<p>Enter the second number:\n34.7</p>\n<p>Here is my code:</p>\n<blockquote>\n<p>import java.util.Scanner;</p>\n</blockquote>\n<p>// Basic Intro/ Refresher for Sums using User Input\npublic class BasicSums {</p>\n<pre><code>public static void main(String[] args) {\n    \n    // User input \n    Scanner input = new Scanner (System.in);\n    System.out.println(&quot;Enter the first number: &quot;);\n    \n    \n    if (input.hasNextInt()) {\n        int initial = input.nextInt();\n        System.out.println(&quot;\\nEnter the second number: &quot;);\n        int second = input.nextInt();\n        \n        System.out.println(&quot;Your answer is: &quot; + Integer.sum(initial, second));\n    \n    //Considering the possibility of the user entering a decimal value  \n    } else if (input.hasNextFloat()) {\n        System.out.println(&quot;This input is of type float.\\n&quot;);\n        float first = input.nextFloat();\n        System.out.println(&quot;Enter the second number: &quot;);\n        float second = input.nextFloat();   \n        System.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));          \n    } \n    \n    \n    \n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","eclipse","maven","spring-boot","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1520411873,"creation_date":1520411873,"answer_id":49147397,"question_id":49133904,"body_markdown":"Yes, you can. Right click on the pom of the generated project and choose `Spring -&gt; Edit Starters` from the context-menu. It opens up the same dialog and lets you add additional dependencies.\r\n\r\nYou just need to take care of the correct Spring Boot version yourself, it isn&#39;t set automatically to the version that you chose when you created the project. It doesn&#39;t cause any huge trouble if you choose the wrong version, but spring starter modules might show up that aren&#39;t compatible with your project.","title":"Eclipse Spring Tool Suite add dependencies using GUI after project creation","body":"<p>Yes, you can. Right click on the pom of the generated project and choose <code>Spring -&gt; Edit Starters</code> from the context-menu. It opens up the same dialog and lets you add additional dependencies.</p>\n\n<p>You just need to take care of the correct Spring Boot version yourself, it isn't set automatically to the version that you chose when you created the project. It doesn't cause any huge trouble if you choose the wrong version, but spring starter modules might show up that aren't compatible with your project.</p>\n"}],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12346,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":49147397,"answer_count":1,"score":12,"last_activity_date":1690123523,"creation_date":1520348571,"question_id":49133904,"body_markdown":"Every time I start a new `Spring Boot` project - using _Spring Tool Suite_ and now as _STS4_ - through `Spring Starter Project` I can add dependencies using GUI like on the screenshot below. \r\n\r\n[![Adding dependencies in GUI][1]][1]\r\n\r\nIt&#39;s very convenient to choose dependencies in GUI. But sometimes I forget to add some dependencies and have to add them to the `pom.xml` file manually. \r\n\r\nIs it possible to add new dependencies using GUI the same way like during `Spring Starter Project` configuration after project creation?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xRRzf.png","title":"Eclipse Spring Tool Suite add dependencies using GUI after project creation","body":"<p>Every time I start a new <code>Spring Boot</code> project - using <em>Spring Tool Suite</em> and now as <em>STS4</em> - through <code>Spring Starter Project</code> I can add dependencies using GUI like on the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/xRRzf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xRRzf.png\" alt=\"Adding dependencies in GUI\" /></a></p>\n<p>It's very convenient to choose dependencies in GUI. But sometimes I forget to add some dependencies and have to add them to the <code>pom.xml</code> file manually.</p>\n<p>Is it possible to add new dependencies using GUI the same way like during <code>Spring Starter Project</code> configuration after project creation?</p>\n"},{"tags":["java","spring-boot","spring-data-redis","lettuce"],"owner":{"account_id":21725914,"reputation":3,"user_id":22272154,"display_name":"Ajay Pilaniya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690123168,"creation_date":1690123168,"question_id":76748818,"body_markdown":"I am using spring-boot-starter-cache for redis interaction and below is the code which I am using to intialize the configurations :\r\n\r\n```\r\n@Autowired\r\n    private LettuceConfigProperties lettuceConfigProperties;\r\n\r\n    @Bean\r\n    public RedisConnectionFactory redisConnectionFactory() {\r\n        RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\r\n\r\n        for (RedisNodeDetails nodeDetails : lettuceConfigProperties.getServers()) {\r\n            if (nodeDetails.getPort() == null) {\r\n                nodeDetails.setPort(lettuceConfigProperties.getDefaultPort());\r\n            }\r\n            clusterConfiguration.addClusterNode(new RedisNode(nodeDetails.getHost(), nodeDetails.getPort()));\r\n        }\r\n        clusterConfiguration.setPassword(lettuceConfigProperties.getPassword());\r\n\r\n        if (clusterConfiguration.getClusterNodes().size() == 1) {\r\n            RedisStandaloneConfiguration standaloneConfiguration = new RedisStandaloneConfiguration();\r\n            standaloneConfiguration.setPassword(lettuceConfigProperties.getPassword());\r\n            standaloneConfiguration.setHostName(lettuceConfigProperties.getServers().get(0).getHost());\r\n            standaloneConfiguration.setPort(lettuceConfigProperties.getServers().get(0).getPort());\r\n            var lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration, createLettuceClientConfiguration());\r\n            lettuceConnectionFactory.setShareNativeConnection(false);\r\n            return lettuceConnectionFactory;\r\n        }\r\n\r\n        var lettuceConnectionFactory = new LettuceConnectionFactory(clusterConfiguration, createLettuceClientConfiguration());\r\n        lettuceConnectionFactory.setShareNativeConnection(false);\r\n        return lettuceConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(redisConnectionFactory());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class)); // Customize based on your needs\r\n        template.afterPropertiesSet();\r\n        return template;\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\r\n        RedisCacheConfiguration cacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .disableCachingNullValues()\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class))); // Customize based on your needs\r\n        log.info(&quot;[LETTUCE] Initializing.....&quot;);\r\n        return RedisCacheManager.builder(connectionFactory)\r\n                .cacheDefaults(cacheConfiguration)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public LettuceClientConfiguration createLettuceClientConfiguration() {\r\n        return LettucePoolingClientConfiguration.builder()\r\n                .poolConfig(createPoolConfig())\r\n                .clientOptions(clientOptions())\r\n                .clientResources(lettuceClientResources())\r\n                .commandTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getCommandTimeout()))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ClientOptions clientOptions() {\r\n        return ClientOptions.builder()\r\n                //Controls auto-reconnect behavior on connections. If auto-reconnect is true (default), it is enabled.\r\n                //As soon as a connection gets closed/reset without the intention to close it, the client will try to reconnect and re-issue any queued commands. This flag has also the effect that disconnected connections will refuse commands and cancel these with an exception.\r\n                .autoReconnect(true)\r\n                //Request queue size for a connection. This value applies per connection. The command invocation will throw a RedisException if the queue size is exceeded and a new command is requested. Defaults to Integer.MAX_VALUE.\r\n                .requestQueueSize(lettuceConfigProperties.getMaxRequestQueueSize())\r\n                .socketOptions(SocketOptions.builder()\r\n                        .connectTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getSocketTimeout()))\r\n                        .keepAlive(SocketOptions.KeepAliveOptions.builder()\r\n                                .enable().idle(Duration.ofMillis(lettuceConfigProperties.getConnections().getKeepAliveIdleTimeout())).build())\r\n                        /**\r\n                         * true to disable Nagle&#39;s algorithm, false to enable Nagle&#39;s algorithm.\r\n                         * The Nagle algorithm processes data on the sending side of TCP applications by a method called Nagling.\r\n                         * It detects small-sized messages and accumulates those messages into larger TCP packets before sending data across the wire.\r\n                         * This process avoids the generation of unnecessarily large numbers of small packets.\r\n                         * But this adds some latency sp we are disabling this\r\n                         */\r\n                        .tcpNoDelay(true)\r\n                        .build())\r\n                .timeoutOptions(\r\n                        /**\r\n                         * Options for command timeouts. These options configure how and whether commands time out once they were dispatched. Command timeout begins:\r\n                         * When the command is sent successfully to the transport\r\n                         * Queued while the connection was inactive\r\n                         * The timeout is canceled upon command completion/cancellation. Timeouts are not tied to a specific API and expire commands regardless of the synchronization method provided by the API that was used to enqueue the command.\r\n                         */\r\n                        TimeoutOptions.builder()\r\n                                .timeoutCommands() //true if commands should time out.\r\n                                .connectionTimeout() //To apply connection timeouts declared on connection level. This will apply -1 as connection timeout in which case connection level configuration will be applied for command connections timeouts\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n    /**\r\n     * Strategy interface to provide all the infrastructure building blocks like environment settings and thread pools so that the client can work with it properly.\r\n     * ClientResources can be shared amongst multiple client instances if created outside the client creation. Implementations of ClientResources are stateful and must be shutdown() after they are no longer in use.\r\n     */\r\n    @Bean(destroyMethod = &quot;shutdown&quot;)\r\n    public ClientResources lettuceClientResources() {\r\n        return DefaultClientResources.create();\r\n    }\r\n\r\n    private GenericObjectPoolConfig&lt;?&gt; createPoolConfig() {\r\n        GenericObjectPoolConfig&lt;?&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\n\r\n        // Maximum number of idle connections in the pool\r\n        poolConfig.setMaxIdle(lettuceConfigProperties.getConnections().getMaxIdle());\r\n\r\n        // Maximum number of connections that can be created in the pool\r\n        poolConfig.setMaxTotal(lettuceConfigProperties.getConnections().getMax());\r\n\r\n        //Minimum number of idle connections in the pool\r\n        poolConfig.setMinIdle(lettuceConfigProperties.getConnections().getMinIdle());\r\n\r\n        //The maximum number of milliseconds that the pool will wait (when there are no available connections and the getMaxActive() has been reached) for a connection to be returned before throwing an exception.\r\n        poolConfig.setMaxWait(Duration.ofMillis(lettuceConfigProperties.getConnections().getMaxWait()));\r\n\r\n        //The minimum amount of time an object must sit idle in the pool before it is eligible for eviction.\r\n        poolConfig.setMinEvictableIdleTime(Duration.ofMillis(lettuceConfigProperties.getConnections().getMinIdleEvictTime()));\r\n\r\n        //Whether to test idle connections for eviction\r\n        poolConfig.setTestWhileIdle(true);\r\n\r\n        //The indication of whether objects will be validated before being borrowed from the pool. Keep this false as it will add some latency for every request\r\n        poolConfig.setTestOnBorrow(false);\r\n\r\n        // Whether to test connections when they are returned to the pool\r\n        poolConfig.setTestOnReturn(false);\r\n\r\n        // Whether to test connections during the eviction process\r\n        poolConfig.setTestOnCreate(false);\r\n\r\n        // Whether the pool uses LIFO (last in, first out) or FIFO (first in, first out) for ordering idle objects\r\n        poolConfig.setLifo(true);\r\n\r\n        //If the pool is exhausted (no available idle instances and no capacity to create new ones), this method will either block if set to true\r\n        //Or throw a NoSuchElementException if set to false\r\n        poolConfig.setBlockWhenExhausted(true);\r\n\r\n        return poolConfig;\r\n    }\r\n```\r\n\r\nWhen I am listing all active threads for lettuce only below threads were found :\r\n```\r\n&quot;lettuce-eventExecutorLoop-1-1&quot;,\r\n&quot;lettuce-timer-3-1&quot;,\r\n&quot;lettuce-nioEventLoop-4-1&quot;,\r\n&quot;lettuce-eventExecutorLoop-1-2&quot;\r\n```\r\n\r\nI am using below properties for connection pool :\r\n```\r\n  default_port: 6379\r\n  password: ********\r\n  maxRequestQueueSize: 200000\r\n  servers:\r\n    - host: *.*.*.*\r\n      port: 6379\r\n  connections:\r\n    max: 20\r\n    minIdle: 5\r\n    maxIdle: 10\r\n    commandTimeout : 1000\r\n    socketTimeout: 1000\r\n    keepAliveIdleTimeout: 60000\r\n    maxWait: 5000\r\n    minIdleEvictTime: 60000\r\n```\r\n\r\nI have checked that LettuceClientConfiguration are intialized correctly and all properties are set accordingly but still it is not initializing connection pool. What could be the possible reason here? I have gone through all the documentations and only thing I found that we need to set property to false of shareNativeConnection which I already did. Any help would be appreciated.","title":"Spring Boot Redis - Lettuce is not creating connection pool","body":"<p>I am using spring-boot-starter-cache for redis interaction and below is the code which I am using to intialize the configurations :</p>\n<pre><code>@Autowired\n    private LettuceConfigProperties lettuceConfigProperties;\n\n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\n\n        for (RedisNodeDetails nodeDetails : lettuceConfigProperties.getServers()) {\n            if (nodeDetails.getPort() == null) {\n                nodeDetails.setPort(lettuceConfigProperties.getDefaultPort());\n            }\n            clusterConfiguration.addClusterNode(new RedisNode(nodeDetails.getHost(), nodeDetails.getPort()));\n        }\n        clusterConfiguration.setPassword(lettuceConfigProperties.getPassword());\n\n        if (clusterConfiguration.getClusterNodes().size() == 1) {\n            RedisStandaloneConfiguration standaloneConfiguration = new RedisStandaloneConfiguration();\n            standaloneConfiguration.setPassword(lettuceConfigProperties.getPassword());\n            standaloneConfiguration.setHostName(lettuceConfigProperties.getServers().get(0).getHost());\n            standaloneConfiguration.setPort(lettuceConfigProperties.getServers().get(0).getPort());\n            var lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration, createLettuceClientConfiguration());\n            lettuceConnectionFactory.setShareNativeConnection(false);\n            return lettuceConnectionFactory;\n        }\n\n        var lettuceConnectionFactory = new LettuceConnectionFactory(clusterConfiguration, createLettuceClientConfiguration());\n        lettuceConnectionFactory.setShareNativeConnection(false);\n        return lettuceConnectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class)); // Customize based on your needs\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    @Bean\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\n        RedisCacheConfiguration cacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class))); // Customize based on your needs\n        log.info(&quot;[LETTUCE] Initializing.....&quot;);\n        return RedisCacheManager.builder(connectionFactory)\n                .cacheDefaults(cacheConfiguration)\n                .build();\n    }\n\n    @Bean\n    @Primary\n    public LettuceClientConfiguration createLettuceClientConfiguration() {\n        return LettucePoolingClientConfiguration.builder()\n                .poolConfig(createPoolConfig())\n                .clientOptions(clientOptions())\n                .clientResources(lettuceClientResources())\n                .commandTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getCommandTimeout()))\n                .build();\n    }\n\n    @Bean\n    public ClientOptions clientOptions() {\n        return ClientOptions.builder()\n                //Controls auto-reconnect behavior on connections. If auto-reconnect is true (default), it is enabled.\n                //As soon as a connection gets closed/reset without the intention to close it, the client will try to reconnect and re-issue any queued commands. This flag has also the effect that disconnected connections will refuse commands and cancel these with an exception.\n                .autoReconnect(true)\n                //Request queue size for a connection. This value applies per connection. The command invocation will throw a RedisException if the queue size is exceeded and a new command is requested. Defaults to Integer.MAX_VALUE.\n                .requestQueueSize(lettuceConfigProperties.getMaxRequestQueueSize())\n                .socketOptions(SocketOptions.builder()\n                        .connectTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getSocketTimeout()))\n                        .keepAlive(SocketOptions.KeepAliveOptions.builder()\n                                .enable().idle(Duration.ofMillis(lettuceConfigProperties.getConnections().getKeepAliveIdleTimeout())).build())\n                        /**\n                         * true to disable Nagle's algorithm, false to enable Nagle's algorithm.\n                         * The Nagle algorithm processes data on the sending side of TCP applications by a method called Nagling.\n                         * It detects small-sized messages and accumulates those messages into larger TCP packets before sending data across the wire.\n                         * This process avoids the generation of unnecessarily large numbers of small packets.\n                         * But this adds some latency sp we are disabling this\n                         */\n                        .tcpNoDelay(true)\n                        .build())\n                .timeoutOptions(\n                        /**\n                         * Options for command timeouts. These options configure how and whether commands time out once they were dispatched. Command timeout begins:\n                         * When the command is sent successfully to the transport\n                         * Queued while the connection was inactive\n                         * The timeout is canceled upon command completion/cancellation. Timeouts are not tied to a specific API and expire commands regardless of the synchronization method provided by the API that was used to enqueue the command.\n                         */\n                        TimeoutOptions.builder()\n                                .timeoutCommands() //true if commands should time out.\n                                .connectionTimeout() //To apply connection timeouts declared on connection level. This will apply -1 as connection timeout in which case connection level configuration will be applied for command connections timeouts\n                                .build()\n                )\n                .build();\n    }\n\n    /**\n     * Strategy interface to provide all the infrastructure building blocks like environment settings and thread pools so that the client can work with it properly.\n     * ClientResources can be shared amongst multiple client instances if created outside the client creation. Implementations of ClientResources are stateful and must be shutdown() after they are no longer in use.\n     */\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public ClientResources lettuceClientResources() {\n        return DefaultClientResources.create();\n    }\n\n    private GenericObjectPoolConfig&lt;?&gt; createPoolConfig() {\n        GenericObjectPoolConfig&lt;?&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\n\n        // Maximum number of idle connections in the pool\n        poolConfig.setMaxIdle(lettuceConfigProperties.getConnections().getMaxIdle());\n\n        // Maximum number of connections that can be created in the pool\n        poolConfig.setMaxTotal(lettuceConfigProperties.getConnections().getMax());\n\n        //Minimum number of idle connections in the pool\n        poolConfig.setMinIdle(lettuceConfigProperties.getConnections().getMinIdle());\n\n        //The maximum number of milliseconds that the pool will wait (when there are no available connections and the getMaxActive() has been reached) for a connection to be returned before throwing an exception.\n        poolConfig.setMaxWait(Duration.ofMillis(lettuceConfigProperties.getConnections().getMaxWait()));\n\n        //The minimum amount of time an object must sit idle in the pool before it is eligible for eviction.\n        poolConfig.setMinEvictableIdleTime(Duration.ofMillis(lettuceConfigProperties.getConnections().getMinIdleEvictTime()));\n\n        //Whether to test idle connections for eviction\n        poolConfig.setTestWhileIdle(true);\n\n        //The indication of whether objects will be validated before being borrowed from the pool. Keep this false as it will add some latency for every request\n        poolConfig.setTestOnBorrow(false);\n\n        // Whether to test connections when they are returned to the pool\n        poolConfig.setTestOnReturn(false);\n\n        // Whether to test connections during the eviction process\n        poolConfig.setTestOnCreate(false);\n\n        // Whether the pool uses LIFO (last in, first out) or FIFO (first in, first out) for ordering idle objects\n        poolConfig.setLifo(true);\n\n        //If the pool is exhausted (no available idle instances and no capacity to create new ones), this method will either block if set to true\n        //Or throw a NoSuchElementException if set to false\n        poolConfig.setBlockWhenExhausted(true);\n\n        return poolConfig;\n    }\n</code></pre>\n<p>When I am listing all active threads for lettuce only below threads were found :</p>\n<pre><code>&quot;lettuce-eventExecutorLoop-1-1&quot;,\n&quot;lettuce-timer-3-1&quot;,\n&quot;lettuce-nioEventLoop-4-1&quot;,\n&quot;lettuce-eventExecutorLoop-1-2&quot;\n</code></pre>\n<p>I am using below properties for connection pool :</p>\n<pre><code>  default_port: 6379\n  password: ********\n  maxRequestQueueSize: 200000\n  servers:\n    - host: *.*.*.*\n      port: 6379\n  connections:\n    max: 20\n    minIdle: 5\n    maxIdle: 10\n    commandTimeout : 1000\n    socketTimeout: 1000\n    keepAliveIdleTimeout: 60000\n    maxWait: 5000\n    minIdleEvictTime: 60000\n</code></pre>\n<p>I have checked that LettuceClientConfiguration are intialized correctly and all properties are set accordingly but still it is not initializing connection pool. What could be the possible reason here? I have gone through all the documentations and only thing I found that we need to set property to false of shareNativeConnection which I already did. Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","oauth2client"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687827873,"creation_date":1687622769,"answer_id":76546907,"question_id":76543725,"body_markdown":"You can&#39;t have all routes requiring an authenticated user in an OAuth2 client using authorization code flow: in your case (which is following the default Spring Boot convention) `/login/**` and `/oauth2/**` are accessed during the user authentication process, which means before the user is authenticated.\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.oauth2Client(withDefaults())\r\n            .oauth2Login(oauth2Login -&gt;\r\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\r\n            );\r\n        \r\n        http.authorizeHttpRequests(authorize -&gt;\r\n                authorize\r\n                    .requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\nBut this requires to meet the requirements when providing a `loginPage` (providing with a `@Controller` for it, to start with).\r\n\r\nProvided that you have `spring-boot-starter-oauth2-client` in the classpath and Spring Boot OAuth2 client properties in `application.properties` (or yaml), it seems that this would be just fine:\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n\r\nI suggest you have a look at [my tutorials][1] for your clients (and resource servers) configuration.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>You can't have all routes requiring an authenticated user in an OAuth2 client using authorization code flow: in your case (which is following the default Spring Boot convention) <code>/login/**</code> and <code>/oauth2/**</code> are accessed during the user authentication process, which means before the user is authenticated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n    \n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.oauth2Client(withDefaults())\n            .oauth2Login(oauth2Login -&gt;\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\n            );\n        \n        http.authorizeHttpRequests(authorize -&gt;\n                authorize\n                    .requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            );\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>But this requires to meet the requirements when providing a <code>loginPage</code> (providing with a <code>@Controller</code> for it, to start with).</p>\n<p>Provided that you have <code>spring-boot-starter-oauth2-client</code> in the classpath and Spring Boot OAuth2 client properties in <code>application.properties</code> (or yaml), it seems that this would be just fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<p>I suggest you have a look at <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">my tutorials</a> for your clients (and resource servers) configuration.</p>\n"},{"tags":[],"owner":{"account_id":28576136,"reputation":131,"user_id":21877718,"display_name":"Will Phi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689608874,"creation_date":1689608874,"answer_id":76706154,"question_id":76543725,"body_markdown":"That is usually because of cookie overwriting, see:\r\n\r\nhttps://github.com/spring-projects/spring-security/issues/5946\r\n\r\nAdd a line to hosts file:\r\n\r\n    127.0.0.1 auth-server\r\n\r\nAnd then change &quot;localhost:8080&quot; to &quot;auth-server:8080&quot; in ClientsConfig.\r\n\r\n","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>That is usually because of cookie overwriting, see:</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/5946\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/5946</a></p>\n<p>Add a line to hosts file:</p>\n<pre><code>127.0.0.1 auth-server\n</code></pre>\n<p>And then change &quot;localhost:8080&quot; to &quot;auth-server:8080&quot; in ClientsConfig.</p>\n"},{"tags":[],"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690123127,"creation_date":1690123127,"answer_id":76748814,"question_id":76543725,"body_markdown":"The [answer](https://stackoverflow.com/a/76706154/22120450) provided by *Will Phi* is correct. \r\n\r\nBrowsers map cookies to the **host** (port is not taken into account), therefore after redirect to `localhost:8080` JSESSIONID cookie gets overwritten and the client is not able to recognize it.\r\n\r\nAs *Will Phi* has pointed out, to resolve the problem we can set an alias to `127.0.0.1` in the `hosts` file (`/etc/hosts` - Linux, `Windows\\System32\\drivers\\etc\\hosts` - Windows).\r\n\r\nThere&#39;s another solution, instead we can simply use paths starting with `127.0.0.1:7070` for client and paths starting with `localhost:8080` for authorization server. I.e. client registration would look like that:\r\n\r\n    @Bean\r\n    public ClientRegistration mainWebClient() {\r\n\r\n        return ClientRegistration\r\n            .withRegistrationId(&quot;main-client&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientName(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .scope(OidcScopes.OPENID)\r\n            .redirectUri(&quot;http://127.0.0.1:7070/login/oauth2/code/main-client&quot;)\r\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\r\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\r\n            .build();\r\n    }\r\n\r\nAnd `127.0.0.1:7070` also should be used in the redirect URI in client-configuration of the authorization server.","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>The <a href=\"https://stackoverflow.com/a/76706154/22120450\">answer</a> provided by <em>Will Phi</em> is correct.</p>\n<p>Browsers map cookies to the <strong>host</strong> (port is not taken into account), therefore after redirect to <code>localhost:8080</code> JSESSIONID cookie gets overwritten and the client is not able to recognize it.</p>\n<p>As <em>Will Phi</em> has pointed out, to resolve the problem we can set an alias to <code>127.0.0.1</code> in the <code>hosts</code> file (<code>/etc/hosts</code> - Linux, <code>Windows\\System32\\drivers\\etc\\hosts</code> - Windows).</p>\n<p>There's another solution, instead we can simply use paths starting with <code>127.0.0.1:7070</code> for client and paths starting with <code>localhost:8080</code> for authorization server. I.e. client registration would look like that:</p>\n<pre><code>@Bean\npublic ClientRegistration mainWebClient() {\n\n    return ClientRegistration\n        .withRegistrationId(&quot;main-client&quot;)\n        .clientId(&quot;test_web_client&quot;)\n        .clientName(&quot;test_web_client&quot;)\n        .clientSecret(&quot;secret&quot;)\n        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n        .scope(OidcScopes.OPENID)\n        .redirectUri(&quot;http://127.0.0.1:7070/login/oauth2/code/main-client&quot;)\n        .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\n        .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\n        .build();\n}\n</code></pre>\n<p>And <code>127.0.0.1:7070</code> also should be used in the redirect URI in client-configuration of the authorization server.</p>\n"}],"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76706154,"answer_count":3,"score":0,"last_activity_date":1690123127,"creation_date":1687558292,"question_id":76543725,"body_markdown":"Suppose we have a confidential *OAuth2 Client* performing authorization against the *Authorization Server* using *authorization code* grant type.\r\n\r\nHere&#39;s a minimal reproducible example.\r\n\r\nClient application is running on port `7070`, authorization server on `8080`.\r\n\r\nClient configuration:\r\n\r\n```\r\n@Configuration\r\npublic class ClientsConfig {\r\n    \r\n    @Bean\r\n    public ClientRegistration mainWebClient() {\r\n        \r\n        return ClientRegistration\r\n            .withRegistrationId(&quot;main-client&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientName(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .scope(OidcScopes.OPENID)\r\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\r\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\r\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\r\n            .build();\r\n    }\r\n    \r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationRepository() {\r\n        \r\n        return new InMemoryClientRegistrationRepository(\r\n            mainWebClient()\r\n        );\r\n    }\r\n    \r\n    @Bean\r\n    public OAuth2AuthorizedClientManager oauth2AuthorizedClientManager(\r\n        OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n        \r\n        var clientManager =\r\n            new DefaultOAuth2AuthorizedClientManager(\r\n                clientRegistrationRepository(),\r\n                authorizedClientRepository\r\n            );\r\n        \r\n        clientManager\r\n            .setAuthorizedClientProvider(\r\n                OAuth2AuthorizedClientProviderBuilder.builder()\r\n                    .authorizationCode()\r\n                    .refreshToken()\r\n                    .build()\r\n            );\r\n        \r\n        return clientManager;\r\n    }\r\n}\r\n```\r\n\r\n`SecurityFilterChain` - configured login page and for simplicity every request is permitted (`OAuth2AuthorizedClient` client injected in controller as a method argument would trigger the authorization flow):\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.oauth2Client(withDefaults())\r\n            .oauth2Login(oauth2Login -&gt;\r\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\r\n            );\r\n        \r\n        http.authorizeHttpRequests(authorize -&gt;\r\n                authorize.anyRequest().permitAll()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nSimplistic controller with `OAuth2AuthorizedClient` injected:\r\n\r\n```\r\n@RestController\r\npublic class TokenController {\r\n    \r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String getToken(\r\n        @RegisteredOAuth2AuthorizedClient(&quot;main-client&quot;)\r\n        OAuth2AuthorizedClient client) {\r\n        \r\n        return &quot;access token: &quot; +\r\n            client.getAccessToken().getTokenType() + &quot; &quot; +\r\n            client.getAccessToken().getTokenValue();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s important to emphasize that the **problem is rooted in the client&#39;s configuration**.\r\n\r\nAuthorization server does its job **flawlessly** issuing codes and tokens (specifically for the client shown above, server behavior was verified using browser to obtain authorization code and Postman to exchange the code for an access token).\r\n\r\nFor some reason, the client application is not capable to complete the authorization flow. It receives an authorization code from the authorization server but fails to exchange it.\r\n\r\nHere&#39;s what happens. Firstly, as expected, the unauthorized request gets redirected to the authorization server running on port 8080.\r\n\r\n[![Redirect to Authorization server][1]][1]\r\n\r\nUser credentials provided to the server, and it responds with the authorization code, after receiving the code authorization attempt fails and client application perform the second redirect to the authorization server.\r\n\r\n[![Authorization attempt fails, second redirect][2]][2]\r\n\r\nIn the client&#39;s logs I found that an `OAuth2AuthenticationException` with the error-code `authorization_request_not_found` occurred in the `OAuth2LoginAuthenticationFilter` while invoking `attemptAuthentication()` method.\r\n\r\nHere are log-messages starting from the point when authorization code was received:\r\n\r\n&gt; 2023-06-15T22:28:23.268+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/main-client?code=Dpv-xhYJZcdp4T6B3VoRQZ1UzXR7w9SR2rWYiEUUO5XtGWwJvzxV-WqR2hVwG5Sc1OmsciBkGau65d4Lf7RX5YIoTseudmI6qJbdsBMM7dN2iHnDwXLnsSCAu0WhbS6_&amp;state=EKLnVsMKTT6jx4RrBn3wCbJ-a7mT0ee4xHwgAmEPI5o%3D\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match CsrfNotRequired [TRACE, HEAD, GET, OPTIONS]\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern=&#39;/logout&#39;, POST]\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (8/15)\r\n&gt; 2023-06-15T22:28:23.270+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (9/15)\r\n&gt; 2023-06-15T22:28:23.271+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Failed to process authentication request\r\n&gt; \r\n&gt; org.springframework.security.oauth2.core.OAuth2AuthenticationException: [authorization_request_not_found]\r\n&gt; at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:173) ~[spring-security-oauth2-client-6.1.0.jar:6.1.0]\r\n&gt; at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.1.0.jar:6.1.0]\r\n&gt; at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.0.jar:6.1.0]\r\n&gt; \r\n&gt; *** few lines omitted ***\r\n&gt; \r\n&gt; 2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Cleared SecurityContextHolder\r\n&gt; 2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Handling authentication failure\r\n&gt; 2023-06-15T22:28:23.272+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /oauth2/authorization/main-client?error\r\n&gt; \r\n&gt; *** few lines omitted ***\r\n&gt; \r\n&gt; 2023-06-15T22:28:23.304+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\r\n&gt; 2023-06-15T22:28:23.305+03:00 DEBUG 7732 --- [nio-7070-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&amp;client_id=test_web_client&amp;scope=openid&amp;state=norrUwgtNOpX4olrhN7-nPyVoBhmGYWSU5NJppnjxGA%3D&amp;redirect_uri=http://localhost:7070/login/oauth2/code/main-client&amp;nonce=6fiTfM0ul1ASzKKf581SUvy092AN4Jq1Vg_a97FMMqs\r\n&gt; 2023-06-15T22:28:23.305+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n&gt; \r\n\r\nCan you please give me hint how can it be fixed?\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nTo verify the behavior I&#39;ve described, **any** sort of OAuth2 authorization server can be used.\r\n\r\nJust for the sake of completeness, here&#39;s a minimal configuration of the Spring OAuth2 **Authorization Server** which is aware of the client shown previously.\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Order(1)\r\n    @Bean\r\n    public SecurityFilterChain authSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        \r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n            .authorizationEndpoint(endPoint -&gt; endPoint\r\n                .authenticationProviders(LocalhostCompliantValidator::apply)\r\n            )\r\n            .oidc(Customizer.withDefaults());\r\n        \r\n        http.exceptionHandling(c -&gt;\r\n            c.authenticationEntryPoint(\r\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)\r\n            )\r\n        );\r\n        \r\n        return http.build();\r\n    }\r\n    \r\n    @Order(2)\r\n    @Bean\r\n    public SecurityFilterChain appSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.formLogin(Customizer.withDefaults());\r\n        \r\n        http.authorizeHttpRequests(auth -&gt;\r\n            auth.anyRequest().authenticated()\r\n        );\r\n        \r\n        return http.build();\r\n    }\r\n    \r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n    \r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        var user = User.withUsername(&quot;user&quot;)\r\n            .password(&quot;password&quot;)\r\n            .authorities(&quot;read&quot;, &quot;write&quot;)\r\n            .build();\r\n        \r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n    \r\n    @Bean\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n    \r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        RegisteredClient mainClient = RegisteredClient.withId(&quot;1&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .scope(OidcScopes.OPENID)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\r\n            .tokenSettings(\r\n                TokenSettings.builder()\r\n                    .accessTokenFormat(OAuth2TokenFormat.REFERENCE)\r\n                    .accessTokenTimeToLive(Duration.ofHours(24))\r\n                    .build()\r\n            )\r\n            .clientSettings(\r\n                ClientSettings.builder()\r\n                    .requireProofKey(false)\r\n                    .requireAuthorizationConsent(false)\r\n                    .build()\r\n            )\r\n            .build();\r\n        \r\n        return new InMemoryRegisteredClientRepository(mainClient);\r\n    }\r\n}\r\n```\r\n\r\nUsing `localhost` as a redirect URI is against specification and therefore in order to work with the client on `localhost:7070` requires implementing a custom validator, which might look like this:\r\n\r\n```\r\npublic class LocalhostCompliantValidator implements Consumer&lt;OAuth2AuthorizationCodeRequestAuthenticationContext&gt; {\r\n    public static void apply(List&lt;AuthenticationProvider&gt; providers) {\r\n        \r\n        for (var provider: providers) {\r\n            if (provider instanceof OAuth2AuthorizationCodeRequestAuthenticationProvider oauth2Provider) {\r\n                oauth2Provider.setAuthenticationValidator(new LocalhostCompliantValidator());\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void accept(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        \r\n        var token = getAuthenticationToken(context);\r\n        \r\n        boolean clientHasRequestedUri = getRegisteredUris(context)\r\n            .contains(token.getRedirectUri());\r\n        \r\n        if (!clientHasRequestedUri) {\r\n            throwAuthenticationException(token);\r\n        }\r\n    }\r\n    \r\n    private static Set&lt;String&gt; getRegisteredUris(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        return context\r\n            .getRegisteredClient()\r\n            .getRedirectUris();\r\n    }\r\n    \r\n    private static OAuth2AuthorizationCodeRequestAuthenticationToken getAuthenticationToken(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        \r\n        return context.getAuthentication();\r\n    }\r\n    \r\n    private static void throwAuthenticationException(OAuth2AuthorizationCodeRequestAuthenticationToken token) {\r\n        throw new OAuth2AuthorizationCodeRequestAuthenticationException(\r\n            new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST), token\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZIGv.jpg\r\n  [2]: https://i.stack.imgur.com/DuA8t.jpg","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>Suppose we have a confidential <em>OAuth2 Client</em> performing authorization against the <em>Authorization Server</em> using <em>authorization code</em> grant type.</p>\n<p>Here's a minimal reproducible example.</p>\n<p>Client application is running on port <code>7070</code>, authorization server on <code>8080</code>.</p>\n<p>Client configuration:</p>\n<pre><code>@Configuration\npublic class ClientsConfig {\n    \n    @Bean\n    public ClientRegistration mainWebClient() {\n        \n        return ClientRegistration\n            .withRegistrationId(&quot;main-client&quot;)\n            .clientId(&quot;test_web_client&quot;)\n            .clientName(&quot;test_web_client&quot;)\n            .clientSecret(&quot;secret&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n            .scope(OidcScopes.OPENID)\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\n            .build();\n    }\n    \n    @Bean\n    public ClientRegistrationRepository clientRegistrationRepository() {\n        \n        return new InMemoryClientRegistrationRepository(\n            mainWebClient()\n        );\n    }\n    \n    @Bean\n    public OAuth2AuthorizedClientManager oauth2AuthorizedClientManager(\n        OAuth2AuthorizedClientRepository authorizedClientRepository) {\n        \n        var clientManager =\n            new DefaultOAuth2AuthorizedClientManager(\n                clientRegistrationRepository(),\n                authorizedClientRepository\n            );\n        \n        clientManager\n            .setAuthorizedClientProvider(\n                OAuth2AuthorizedClientProviderBuilder.builder()\n                    .authorizationCode()\n                    .refreshToken()\n                    .build()\n            );\n        \n        return clientManager;\n    }\n}\n</code></pre>\n<p><code>SecurityFilterChain</code> - configured login page and for simplicity every request is permitted (<code>OAuth2AuthorizedClient</code> client injected in controller as a method argument would trigger the authorization flow):</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    \n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.oauth2Client(withDefaults())\n            .oauth2Login(oauth2Login -&gt;\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\n            );\n        \n        http.authorizeHttpRequests(authorize -&gt;\n                authorize.anyRequest().permitAll()\n            );\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>Simplistic controller with <code>OAuth2AuthorizedClient</code> injected:</p>\n<pre><code>@RestController\npublic class TokenController {\n    \n    @GetMapping(&quot;/hello&quot;)\n    public String getToken(\n        @RegisteredOAuth2AuthorizedClient(&quot;main-client&quot;)\n        OAuth2AuthorizedClient client) {\n        \n        return &quot;access token: &quot; +\n            client.getAccessToken().getTokenType() + &quot; &quot; +\n            client.getAccessToken().getTokenValue();\n    }\n}\n</code></pre>\n<p>It's important to emphasize that the <strong>problem is rooted in the client's configuration</strong>.</p>\n<p>Authorization server does its job <strong>flawlessly</strong> issuing codes and tokens (specifically for the client shown above, server behavior was verified using browser to obtain authorization code and Postman to exchange the code for an access token).</p>\n<p>For some reason, the client application is not capable to complete the authorization flow. It receives an authorization code from the authorization server but fails to exchange it.</p>\n<p>Here's what happens. Firstly, as expected, the unauthorized request gets redirected to the authorization server running on port 8080.</p>\n<p><a href=\"https://i.stack.imgur.com/yZIGv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZIGv.jpg\" alt=\"Redirect to Authorization server\" /></a></p>\n<p>User credentials provided to the server, and it responds with the authorization code, after receiving the code authorization attempt fails and client application perform the second redirect to the authorization server.</p>\n<p><a href=\"https://i.stack.imgur.com/DuA8t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DuA8t.jpg\" alt=\"Authorization attempt fails, second redirect\" /></a></p>\n<p>In the client's logs I found that an <code>OAuth2AuthenticationException</code> with the error-code <code>authorization_request_not_found</code> occurred in the <code>OAuth2LoginAuthenticationFilter</code> while invoking <code>attemptAuthentication()</code> method.</p>\n<p>Here are log-messages starting from the point when authorization code was received:</p>\n<blockquote>\n<p>2023-06-15T22:28:23.268+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/main-client?code=Dpv-xhYJZcdp4T6B3VoRQZ1UzXR7w9SR2rWYiEUUO5XtGWwJvzxV-WqR2hVwG5Sc1OmsciBkGau65d4Lf7RX5YIoTseudmI6qJbdsBMM7dN2iHnDwXLnsSCAu0WhbS6_&amp;state=EKLnVsMKTT6jx4RrBn3wCbJ-a7mT0ee4xHwgAmEPI5o%3D\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match CsrfNotRequired [TRACE, HEAD, GET, OPTIONS]\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (8/15)\n2023-06-15T22:28:23.270+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (9/15)\n2023-06-15T22:28:23.271+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Failed to process authentication request</p>\n<p>org.springframework.security.oauth2.core.OAuth2AuthenticationException: [authorization_request_not_found]\nat org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:173) ~[spring-security-oauth2-client-6.1.0.jar:6.1.0]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.1.0.jar:6.1.0]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.0.jar:6.1.0]</p>\n<p>*** few lines omitted ***</p>\n<p>2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Cleared SecurityContextHolder\n2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Handling authentication failure\n2023-06-15T22:28:23.272+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /oauth2/authorization/main-client?error</p>\n<p>*** few lines omitted ***</p>\n<p>2023-06-15T22:28:23.304+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\n2023-06-15T22:28:23.305+03:00 DEBUG 7732 --- [nio-7070-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&amp;client_id=test_web_client&amp;scope=openid&amp;state=norrUwgtNOpX4olrhN7-nPyVoBhmGYWSU5NJppnjxGA%3D&amp;redirect_uri=http://localhost:7070/login/oauth2/code/main-client&amp;nonce=6fiTfM0ul1ASzKKf581SUvy092AN4Jq1Vg_a97FMMqs\n2023-06-15T22:28:23.305+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]</p>\n</blockquote>\n<p>Can you please give me hint how can it be fixed?</p>\n<h3>Note</h3>\n<p>To verify the behavior I've described, <strong>any</strong> sort of OAuth2 authorization server can be used.</p>\n<p>Just for the sake of completeness, here's a minimal configuration of the Spring OAuth2 <strong>Authorization Server</strong> which is aware of the client shown previously.</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    \n    @Order(1)\n    @Bean\n    public SecurityFilterChain authSecurityFilterChain(HttpSecurity http) throws Exception {\n        \n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        \n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n            .authorizationEndpoint(endPoint -&gt; endPoint\n                .authenticationProviders(LocalhostCompliantValidator::apply)\n            )\n            .oidc(Customizer.withDefaults());\n        \n        http.exceptionHandling(c -&gt;\n            c.authenticationEntryPoint(\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)\n            )\n        );\n        \n        return http.build();\n    }\n    \n    @Order(2)\n    @Bean\n    public SecurityFilterChain appSecurityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.formLogin(Customizer.withDefaults());\n        \n        http.authorizeHttpRequests(auth -&gt;\n            auth.anyRequest().authenticated()\n        );\n        \n        return http.build();\n    }\n    \n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        var user = User.withUsername(&quot;user&quot;)\n            .password(&quot;password&quot;)\n            .authorities(&quot;read&quot;, &quot;write&quot;)\n            .build();\n        \n        return new InMemoryUserDetailsManager(user);\n    }\n    \n    @Bean\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n    \n    @Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        RegisteredClient mainClient = RegisteredClient.withId(&quot;1&quot;)\n            .clientId(&quot;test_web_client&quot;)\n            .clientSecret(&quot;secret&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .scope(OidcScopes.OPENID)\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n            .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\n            .tokenSettings(\n                TokenSettings.builder()\n                    .accessTokenFormat(OAuth2TokenFormat.REFERENCE)\n                    .accessTokenTimeToLive(Duration.ofHours(24))\n                    .build()\n            )\n            .clientSettings(\n                ClientSettings.builder()\n                    .requireProofKey(false)\n                    .requireAuthorizationConsent(false)\n                    .build()\n            )\n            .build();\n        \n        return new InMemoryRegisteredClientRepository(mainClient);\n    }\n}\n</code></pre>\n<p>Using <code>localhost</code> as a redirect URI is against specification and therefore in order to work with the client on <code>localhost:7070</code> requires implementing a custom validator, which might look like this:</p>\n<pre><code>public class LocalhostCompliantValidator implements Consumer&lt;OAuth2AuthorizationCodeRequestAuthenticationContext&gt; {\n    public static void apply(List&lt;AuthenticationProvider&gt; providers) {\n        \n        for (var provider: providers) {\n            if (provider instanceof OAuth2AuthorizationCodeRequestAuthenticationProvider oauth2Provider) {\n                oauth2Provider.setAuthenticationValidator(new LocalhostCompliantValidator());\n            }\n        }\n    }\n    \n    @Override\n    public void accept(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        \n        var token = getAuthenticationToken(context);\n        \n        boolean clientHasRequestedUri = getRegisteredUris(context)\n            .contains(token.getRedirectUri());\n        \n        if (!clientHasRequestedUri) {\n            throwAuthenticationException(token);\n        }\n    }\n    \n    private static Set&lt;String&gt; getRegisteredUris(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        return context\n            .getRegisteredClient()\n            .getRedirectUris();\n    }\n    \n    private static OAuth2AuthorizationCodeRequestAuthenticationToken getAuthenticationToken(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        \n        return context.getAuthentication();\n    }\n    \n    private static void throwAuthenticationException(OAuth2AuthorizationCodeRequestAuthenticationToken token) {\n        throw new OAuth2AuthorizationCodeRequestAuthenticationException(\n            new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST), token\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","audio","inputstream","openai-api"],"owner":{"account_id":29067499,"reputation":3,"user_id":22266706,"display_name":"Subhash-23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690122828,"creation_date":1690122767,"question_id":76748782,"body_markdown":"CONTROLLER CLASS\r\n~~~\r\n@RestController\r\n@RequestMapping(&quot;/bot&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\npublic class SttController {\r\n\r\n\t@Autowired\r\n\tSttService service;\r\n\t\r\n\t@PostMapping(value = &quot;/transcribeAudio&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\tpublic Flux&lt;SttResponse&gt; transcription(@ModelAttribute SttRequest sttRequest){\r\n\t\treturn service.transcribeAudio(sttRequest);\r\n\t}\r\n}\r\n~~~\r\n\r\nSERVICE LAYER\r\n~~~\r\n@Service\r\npublic class SttService {\r\n\r\n\t@Value(&quot;${openai.api.model}&quot;)\r\n\tprivate String model;\r\n\t\r\n\t@Value(&quot;${openai.api.url}&quot;)\r\n\tprivate String apiURL;\r\n\t\r\n\tWebClient builder = WebClient.create();\r\n\t\r\n\tpublic Flux&lt;SttResponse&gt; transcribeAudio(SttRequest sttRequest){\r\n\t\tSttRequest audioRequest = SttRequest.builder()\r\n\t              .model(model)\r\n\t              .file(sttRequest.getFile())\r\n\t              .build();\r\n\t\treturn builder.post().uri(apiURL).bodyValue(audioRequest).retrieve().bodyToFlux(SttResponse.class);\r\n\t}\r\n}\r\n~~~\r\n\r\n~~~\r\n2023-07-23T19:55:28.513+05:30 ERROR 215000 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:252) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.doOnRequest(MonoSingle.java:103) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MonoInnerProducerBase.request(Operators.java:2878) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.onSubscribe(MonoSingle.java:115) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxFromMonoOperator.subscribe(FluxFromMonoOperator.java:83) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:445) ~[reactor-netty-http-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:211) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:260) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:856) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1848) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:952) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1419) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n~~~\r\n\r\n\r\nI am trying to use openAI&#39;s whisper-1 API to transcribe audio to text using springboot. I am using webflux to hit the whisper-1 API&#39;s endpoint, which I specified in the application properties.  But I am getting this error: \r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n","title":"Error while using Whisper-1 API for audio transcription in SpringBoot webapplication","body":"<p>CONTROLLER CLASS</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/bot&quot;)\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\npublic class SttController {\n\n    @Autowired\n    SttService service;\n    \n    @PostMapping(value = &quot;/transcribeAudio&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Flux&lt;SttResponse&gt; transcription(@ModelAttribute SttRequest sttRequest){\n        return service.transcribeAudio(sttRequest);\n    }\n}\n</code></pre>\n<p>SERVICE LAYER</p>\n<pre><code>@Service\npublic class SttService {\n\n    @Value(&quot;${openai.api.model}&quot;)\n    private String model;\n    \n    @Value(&quot;${openai.api.url}&quot;)\n    private String apiURL;\n    \n    WebClient builder = WebClient.create();\n    \n    public Flux&lt;SttResponse&gt; transcribeAudio(SttRequest sttRequest){\n        SttRequest audioRequest = SttRequest.builder()\n                  .model(model)\n                  .file(sttRequest.getFile())\n                  .build();\n        return builder.post().uri(apiURL).bodyValue(audioRequest).retrieve().bodyToFlux(SttResponse.class);\n    }\n}\n</code></pre>\n<pre><code>2023-07-23T19:55:28.513+05:30 ERROR 215000 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:252) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.11.jar:6.0.11]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.doOnRequest(MonoSingle.java:103) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MonoInnerProducerBase.request(Operators.java:2878) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.onSubscribe(MonoSingle.java:115) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxFromMonoOperator.subscribe(FluxFromMonoOperator.java:83) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:445) ~[reactor-netty-http-1.1.9.jar:1.1.9]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:211) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:260) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:856) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1848) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:952) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1419) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I am trying to use openAI's whisper-1 API to transcribe audio to text using springboot. I am using webflux to hit the whisper-1 API's endpoint, which I specified in the application properties.  But I am getting this error:</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":21733129,"reputation":95,"user_id":16041552,"display_name":"Fullaccess "},"score":0,"creation_date":1691629558,"post_id":76748683,"comment_id":135518670,"body_markdown":"I had a [similar problem](https://stackoverflow.com/questions/76863861/what-are-the-use-cases-for-the-tiledmap-class), I managed to &quot;fix&quot; it by changing the layer&#39;s offset each frame.","body":"I had a <a href=\"https://stackoverflow.com/questions/76863861/what-are-the-use-cases-for-the-tiledmap-class\">similar problem</a>, I managed to &quot;fix&quot; it by changing the layer&#39;s offset each frame."}],"owner":{"account_id":7498844,"reputation":11,"user_id":5698035,"display_name":"Sagnik Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690122131,"creation_date":1690121612,"question_id":76748683,"body_markdown":"I have the following code for rendering a TiledMap and moving around a Texture representing the player on top of it and the camera is setup to follow the texture around. \r\n\r\nHowever, when I try to move the player which in turn moves the camera, it seems like the tilemap moves as well resulting in the player not moving at all. Here&#39;s a gif showing the problem: [Video](https://i.imgur.com/RJdimlZ.gif) \r\n\r\nI am not sure what I am doing wrong but I would appreciate if anyone could help me out.\r\n\r\n```\r\npackage com.worldgen.game;\r\n\r\nimport com.badlogic.gdx.ApplicationAdapter;\r\nimport com.badlogic.gdx.Gdx;\r\nimport com.badlogic.gdx.Input;\r\nimport com.badlogic.gdx.graphics.OrthographicCamera;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.maps.tiled.TiledMapRenderer;\r\nimport com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;\r\nimport com.badlogic.gdx.math.Rectangle;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\nimport com.worldgen.map.WorldMap;\r\n\r\npublic class WorldGenGame extends ApplicationAdapter {\r\n\tprivate static final int MAP_WIDTH = 512;\r\n\tprivate static final int MAP_HEIGHT = 512;\r\n\tprivate static final int TILE_SIZE = 16;\r\n\tpublic final static float VP_WIDTH = 32;\r\n\tpublic final static float VP_HEIGHT = 18;\r\n\r\n\tprivate SpriteBatch batch;\r\n\tprivate OrthographicCamera camera;\r\n\r\n\tWorldMap worldMap;\r\n\tprivate TiledMapRenderer tiledMapRenderer;\r\n\r\n\tprivate Texture playerTexture;\r\n\tprivate Rectangle player;\r\n\t\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\t\tplayerTexture = new Texture(Gdx.files.internal(&quot;badlogic.jpg&quot;));\r\n\t\tplayer = new Rectangle(0, 0, 1, 1);\r\n\r\n\t\tcamera = new OrthographicCamera();\r\n\t\tcamera.setToOrtho(false, VP_WIDTH, VP_HEIGHT);\r\n\r\n\t\tworldMap = new WorldMap(MAP_WIDTH, MAP_HEIGHT, TILE_SIZE, TILE_SIZE);\r\n\t\ttiledMapRenderer = new OrthogonalTiledMapRenderer(worldMap.getMap(), 1f/TILE_SIZE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tScreenUtils.clear(0, 0, 0, 1, true);\r\n\t\t// Update\r\n\t\tfloat deltaTime = Gdx.graphics.getDeltaTime();\r\n\t\tupdateCamera(deltaTime);\r\n\t\tupdatePlayer(deltaTime);\r\n\r\n\t\t//Draw map\r\n\t\ttiledMapRenderer.setView(camera);\r\n\t\ttiledMapRenderer.render();\r\n\r\n\t\t//Draw player\r\n\t\tbatch.setProjectionMatrix(camera.combined);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(playerTexture, player.x, player.y, player.width, player.height);\r\n\t\tbatch.end();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t\tworldMap.dispose();\r\n\t\tplayerTexture.dispose();\r\n\t}\r\n\r\n\tprivate void updatePlayer(float deltaTime) {\r\n\t\tfloat movementAmount = 4 * deltaTime;\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.A)) {\r\n\t\t\tplayer.x -= movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.D)) {\r\n\t\t\tplayer.x += movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.W)) {\r\n\t\t\tplayer.y += movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.S)) {\r\n\t\t\tplayer.y -= movementAmount;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void updateCamera(float deltaTime) {\r\n\t\tcamera.position.set(player.getX(), player.getY(), 0);\r\n\t\tcamera.update();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI suspect the camera position update is where the problem lies because if I comment out the camera update code, I can move around the player on the tilemap. Result: [Video](https://i.imgur.com/ZkEQcUo.gif)\r\n\r\n```\r\n\tprivate void updateCamera(float deltaTime) {\r\n//\t\tcamera.position.set(player.getX(), player.getY(), 0);\r\n\t\tcamera.update();\r\n\t}\r\n```","title":"How do I move a camera around a tiledmap in Libgdx?","body":"<p>I have the following code for rendering a TiledMap and moving around a Texture representing the player on top of it and the camera is setup to follow the texture around.</p>\n<p>However, when I try to move the player which in turn moves the camera, it seems like the tilemap moves as well resulting in the player not moving at all. Here's a gif showing the problem: <a href=\"https://i.imgur.com/RJdimlZ.gif\" rel=\"nofollow noreferrer\">Video</a></p>\n<p>I am not sure what I am doing wrong but I would appreciate if anyone could help me out.</p>\n<pre><code>package com.worldgen.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.maps.tiled.TiledMapRenderer;\nimport com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.worldgen.map.WorldMap;\n\npublic class WorldGenGame extends ApplicationAdapter {\n    private static final int MAP_WIDTH = 512;\n    private static final int MAP_HEIGHT = 512;\n    private static final int TILE_SIZE = 16;\n    public final static float VP_WIDTH = 32;\n    public final static float VP_HEIGHT = 18;\n\n    private SpriteBatch batch;\n    private OrthographicCamera camera;\n\n    WorldMap worldMap;\n    private TiledMapRenderer tiledMapRenderer;\n\n    private Texture playerTexture;\n    private Rectangle player;\n    \n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        playerTexture = new Texture(Gdx.files.internal(&quot;badlogic.jpg&quot;));\n        player = new Rectangle(0, 0, 1, 1);\n\n        camera = new OrthographicCamera();\n        camera.setToOrtho(false, VP_WIDTH, VP_HEIGHT);\n\n        worldMap = new WorldMap(MAP_WIDTH, MAP_HEIGHT, TILE_SIZE, TILE_SIZE);\n        tiledMapRenderer = new OrthogonalTiledMapRenderer(worldMap.getMap(), 1f/TILE_SIZE);\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(0, 0, 0, 1, true);\n        // Update\n        float deltaTime = Gdx.graphics.getDeltaTime();\n        updateCamera(deltaTime);\n        updatePlayer(deltaTime);\n\n        //Draw map\n        tiledMapRenderer.setView(camera);\n        tiledMapRenderer.render();\n\n        //Draw player\n        batch.setProjectionMatrix(camera.combined);\n        batch.begin();\n        batch.draw(playerTexture, player.x, player.y, player.width, player.height);\n        batch.end();\n    }\n    \n    @Override\n    public void dispose () {\n        batch.dispose();\n        worldMap.dispose();\n        playerTexture.dispose();\n    }\n\n    private void updatePlayer(float deltaTime) {\n        float movementAmount = 4 * deltaTime;\n        if (Gdx.input.isKeyPressed(Input.Keys.A)) {\n            player.x -= movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.D)) {\n            player.x += movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.W)) {\n            player.y += movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.S)) {\n            player.y -= movementAmount;\n        }\n    }\n\n    private void updateCamera(float deltaTime) {\n        camera.position.set(player.getX(), player.getY(), 0);\n        camera.update();\n    }\n}\n</code></pre>\n<p>I suspect the camera position update is where the problem lies because if I comment out the camera update code, I can move around the player on the tilemap. Result: <a href=\"https://i.imgur.com/ZkEQcUo.gif\" rel=\"nofollow noreferrer\">Video</a></p>\n<pre><code>    private void updateCamera(float deltaTime) {\n//      camera.position.set(player.getX(), player.getY(), 0);\n        camera.update();\n    }\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":0,"creation_date":1576508586,"post_id":59359076,"comment_id":104912607,"body_markdown":"Did you try commenting out this line and testing it yourself, and checking the result?","body":"Did you try commenting out this line and testing it yourself, and checking the result?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690071488,"post_id":59359076,"comment_id":135302069,"body_markdown":"See [Backtracking](https://en.wikipedia.org/wiki/Backtracking).","body":"See <a href=\"https://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow noreferrer\">Backtracking</a>."}],"answers":[{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576509196,"creation_date":1576508895,"answer_id":59359308,"question_id":59359076,"body_markdown":"It is backtracking logic. See those instruction this way (comments added):\r\n\r\n    sb.append(board[i][j]); // Mark\r\n    if(i == rows-1 &amp;&amp; j == cols-1){\r\n        out.add(sb.toString());\r\n        \r\n       /*\r\n       Here, you reached the bottom-right element of the matrix. \r\n       You can no longer go down or right, so you perform a backtracking \r\n       by deleting the last element read. \r\n       */\r\n        sb.deleteCharAt(sb.length()-1);\r\n        return;\r\n    }\r\n    search(i+1,j,board,sb,out); // Search Down\r\n    search(i,j+1,board,sb,out); // Search Right\r\n\r\n    /*\r\n    Here, you exhausted the elements on bottom and right \r\n    (because you just returned from the two search() calls). Perform a backtracking by\r\n    removing the last element (which is a dead end) before returning to the calling \r\n    recursion step:\r\n    */\r\n    sb.deleteCharAt(sb.length()-1); // Un-Mark","title":"It is backtracking logic. See those instruction this way (comments added):","body":"<p>It is backtracking logic. See those instruction this way (comments added):</p>\n\n<pre><code>sb.append(board[i][j]); // Mark\nif(i == rows-1 &amp;&amp; j == cols-1){\n    out.add(sb.toString());\n\n   /*\n   Here, you reached the bottom-right element of the matrix. \n   You can no longer go down or right, so you perform a backtracking \n   by deleting the last element read. \n   */\n    sb.deleteCharAt(sb.length()-1);\n    return;\n}\nsearch(i+1,j,board,sb,out); // Search Down\nsearch(i,j+1,board,sb,out); // Search Right\n\n/*\nHere, you exhausted the elements on bottom and right \n(because you just returned from the two search() calls). Perform a backtracking by\nremoving the last element (which is a dead end) before returning to the calling \nrecursion step:\n*/\nsb.deleteCharAt(sb.length()-1); // Un-Mark\n</code></pre>\n"}],"owner":{"account_id":16654557,"reputation":1,"user_id":12383032,"display_name":"freudianrudin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690121903,"creation_date":1576508011,"question_id":59359076,"body_markdown":"It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):","title":"It is backtracking logic. See those instruction this way (comments added):","body":"<p>It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):</p>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","image-classification"],"owner":{"account_id":26890258,"reputation":1,"user_id":20469144,"display_name":"Promatheuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690121883,"creation_date":1680070119,"question_id":75873685,"body_markdown":"This is my image classifier code in java. When I upload anything to the app, every time I get result Tuberkuloz because every time MaxPos value is 0.     \r\n\r\n```java\r\npublic void classifyImage(Bitmap image) {\r\n    int imageSize = 180;\r\n    try {\r\n        Model model = Model.newInstance(getApplicationContext());\r\n\r\n        TensorBuffer inputFeature0 = createFixedSize(new int[]{1, 180, 180, 3}, DataType.FLOAT32);\r\n\r\n        ByteBuffer byteBuffer;\r\n        byteBuffer = ByteBuffer.allocateDirect(4 * 180 * 180 * 3);\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n        int[] intValues = new int[180 * 180];\r\n        image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n        int pixel = 0;\r\n        for (int i = 0; i &lt; 180; i++) {\r\n            for (int j = 0; j &lt; 180; j++) {\r\n                int val = intValues[pixel++]; //RGB values\r\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 1));\r\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 1));\r\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 1));\r\n            }\r\n        }\r\n\r\n        inputFeature0.loadBuffer(byteBuffer);\r\n\r\n        Model.Outputs outputs = model.process(inputFeature0);\r\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n        float[] confidences = outputFeature0.getFloatArray();\r\n        int maxPos = 0;\r\n        float maxConfidence = 0;\r\n        for (int i = 0; i &lt; confidences.length; i++) {\r\n            if (confidences[i] &gt; maxConfidence) {\r\n                maxConfidence = confidences[i];\r\n                maxPos = i;\r\n            }\r\n        }\r\n        String[] classes = {&quot;Tuberkuloz&quot;, &quot;Covid-19&quot;, &quot;Zaturre&quot;,&quot;Normal&quot;};\r\n        binding.result.setText(classes[maxPos]);\r\n\r\n\r\n        // Releases model resources if no longer used.\r\n        model.close();\r\n    } catch (IOException e) {\r\n        // TODO Handle the exception\r\n    }\r\n}\r\n```\r\n\r\nI think my code can&#39;t get model. My model path is &quot;HST2(my apps name)/app/src/main/ml/model.tflite\r\n","title":"Different input but same output every time in my image classification Android app","body":"<p>This is my image classifier code in java. When I upload anything to the app, every time I get result Tuberkuloz because every time MaxPos value is 0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void classifyImage(Bitmap image) {\n    int imageSize = 180;\n    try {\n        Model model = Model.newInstance(getApplicationContext());\n\n        TensorBuffer inputFeature0 = createFixedSize(new int[]{1, 180, 180, 3}, DataType.FLOAT32);\n\n        ByteBuffer byteBuffer;\n        byteBuffer = ByteBuffer.allocateDirect(4 * 180 * 180 * 3);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        int[] intValues = new int[180 * 180];\n        image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n        int pixel = 0;\n        for (int i = 0; i &lt; 180; i++) {\n            for (int j = 0; j &lt; 180; j++) {\n                int val = intValues[pixel++]; //RGB values\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 1));\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 1));\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 1));\n            }\n        }\n\n        inputFeature0.loadBuffer(byteBuffer);\n\n        Model.Outputs outputs = model.process(inputFeature0);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n        float[] confidences = outputFeature0.getFloatArray();\n        int maxPos = 0;\n        float maxConfidence = 0;\n        for (int i = 0; i &lt; confidences.length; i++) {\n            if (confidences[i] &gt; maxConfidence) {\n                maxConfidence = confidences[i];\n                maxPos = i;\n            }\n        }\n        String[] classes = {&quot;Tuberkuloz&quot;, &quot;Covid-19&quot;, &quot;Zaturre&quot;,&quot;Normal&quot;};\n        binding.result.setText(classes[maxPos]);\n\n\n        // Releases model resources if no longer used.\n        model.close();\n    } catch (IOException e) {\n        // TODO Handle the exception\n    }\n}\n</code></pre>\n<p>I think my code can't get model. My model path is &quot;HST2(my apps name)/app/src/main/ml/model.tflite</p>\n"},{"tags":["java","android-studio","kotlin","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":13947824,"reputation":53,"user_id":10072131,"display_name":"Amine Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597636932,"creation_date":1597636932,"answer_id":63444407,"question_id":63444406,"body_markdown":"I used multiple emulator versions but the weird thing is that some devices couldn&#39;t either load the video (sudden stop) or it loads it till showing the thumbnail and it freezes, so the answer is basically that nothing is wrong with ExoPlayer, it&#39;s just the emulator that cannot play the media with an emulator with lower API than 23 due to a decoder issue but mainly on a usual use ExoPlayer will function properly with android devices of 16+ API. you can check the [DOCUMENTATION](https://exoplayer.dev/supported-devices.html) for more details.","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>I used multiple emulator versions but the weird thing is that some devices couldn't either load the video (sudden stop) or it loads it till showing the thumbnail and it freezes, so the answer is basically that nothing is wrong with ExoPlayer, it's just the emulator that cannot play the media with an emulator with lower API than 23 due to a decoder issue but mainly on a usual use ExoPlayer will function properly with android devices of 16+ API. you can check the <a href=\"https://exoplayer.dev/supported-devices.html\" rel=\"nofollow noreferrer\">DOCUMENTATION</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":13814681,"reputation":142,"user_id":9971552,"display_name":"welcomeworld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690121590,"creation_date":1690121590,"answer_id":76748682,"question_id":63444406,"body_markdown":"It might be late,but hope help someone.  \r\nExcerpt from [ExoPlayer Doc](https://exoplayer.dev/supported-devices.html). Some Android emulators do not properly implement components of Android’s media stack, and as a result do not support ExoPlayer. This is an issue with the emulator, not with ExoPlayer. Android’s official emulator (“Virtual Devices” in Android Studio) supports ExoPlayer provided the system image has an API level of at least 23. System images with earlier API levels do not support ExoPlayer. The level of support provided by third party emulators varies. Issues running ExoPlayer on third party emulators should be reported to the developer of the emulator rather than to the ExoPlayer team. Where possible, we recommend testing media applications on physical devices rather than emulators.","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>It might be late,but hope help someone.<br />\nExcerpt from <a href=\"https://exoplayer.dev/supported-devices.html\" rel=\"nofollow noreferrer\">ExoPlayer Doc</a>. Some Android emulators do not properly implement components of Android’s media stack, and as a result do not support ExoPlayer. This is an issue with the emulator, not with ExoPlayer. Android’s official emulator (“Virtual Devices” in Android Studio) supports ExoPlayer provided the system image has an API level of at least 23. System images with earlier API levels do not support ExoPlayer. The level of support provided by third party emulators varies. Issues running ExoPlayer on third party emulators should be reported to the developer of the emulator rather than to the ExoPlayer team. Where possible, we recommend testing media applications on physical devices rather than emulators.</p>\n"}],"owner":{"account_id":13947824,"reputation":53,"user_id":10072131,"display_name":"Amine Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690121590,"creation_date":1597636932,"question_id":63444406,"body_markdown":"it took quite a few days to realize that something wrong is going on with old devices with API lower than 23 and I searched intensively but without an answer. So when I found my answer I thought that it&#39;s worth sharing with the community","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>it took quite a few days to realize that something wrong is going on with old devices with API lower than 23 and I searched intensively but without an answer. So when I found my answer I thought that it's worth sharing with the community</p>\n"},{"tags":["java","mysql","spring","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690110106,"post_id":76747674,"comment_id":135304736,"body_markdown":"Spring is complaining that it can&#39;t find an instance of `IpBlockedAddressesRepository` in between your `@Configuration` classes and anything `@ComponentScan` turns up.  This isn&#39;t obviously a Docker-related problem (though it happens the `spring.datasource.url` is visibly wrong); does the application start without Docker?","body":"Spring is complaining that it can&#39;t find an instance of <code>IpBlockedAddressesRepository</code> in between your <code>@Configuration</code> classes and anything <code>@ComponentScan</code> turns up.  This isn&#39;t obviously a Docker-related problem (though it happens the <code>spring.datasource.url</code> is visibly wrong); does the application start without Docker?"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690111288,"post_id":76747674,"comment_id":135304850,"body_markdown":"I add some comments for the issue, can you see them? And the YES app starts normally without Docker, what is should be spring. datasource.url  @David Maze","body":"I add some comments for the issue, can you see them? And the YES app starts normally without Docker, what is should be spring. datasource.url  @David Maze"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690114016,"post_id":76747674,"comment_id":135305145,"body_markdown":"You might set an environment variable `DEBUG=true` (with a `docker run -e` option or Compose `environment:`), which will cause Spring to print out more diagnostics about the bean initialization process.  For the other issue, see for example [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection).","body":"You might set an environment variable <code>DEBUG=true</code> (with a <code>docker run -e</code> option or Compose <code>environment:</code>), which will cause Spring to print out more diagnostics about the bean initialization process.  For the other issue, see for example <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a>."},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115004,"post_id":76747674,"comment_id":135305252,"body_markdown":"This is error in debug mode -&gt; 15:20:00.376 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/Users/stoiandelev/Desktop/Favourite-place-in-the-world/target/School.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1;","body":"This is error in debug mode -&gt; 15:20:00.376 [main] WARN org.springframework.context.annotation.AnnotationConfigAppli&zwnj;&#8203;cationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/Users/stoiandelev/Desktop/Favourite-place-in-the-&zwnj;&#8203;world/target/School.&zwnj;&#8203;jar!/com/example/fav&zwnj;&#8203;ouritePlaceInTheWorl&zwnj;&#8203;d/config/WebConfigur&zwnj;&#8203;ationInterceptor.cla&zwnj;&#8203;ss]: Unsatisfied dependency expressed through constructor parameter 1;"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115043,"post_id":76747674,"comment_id":135305260,"body_markdown":"I think is some problem with WebConfigurationInterceptor.class","body":"I think is some problem with WebConfigurationInterceptor.class"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690115117,"post_id":76747674,"comment_id":135305267,"body_markdown":"That seems like the same exception you quoted in the question; it can&#39;t find an `IpBlockedAddressesRepository` and I&#39;d try to figure out why.  This looks like a class in your code.  If it&#39;s a Spring Data JPA repository, then the incorrect database URL could in fact be a root cause.","body":"That seems like the same exception you quoted in the question; it can&#39;t find an <code>IpBlockedAddressesRepository</code> and I&#39;d try to figure out why.  This looks like a class in your code.  If it&#39;s a Spring Data JPA repository, then the incorrect database URL could in fact be a root cause."},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115628,"post_id":76747674,"comment_id":135305312,"body_markdown":"Yes is Spring Data JPA repository, I try with this:         url: jdbc:mysql://localhost:3306\nbut the some issue","body":"Yes is Spring Data JPA repository, I try with this:         url: jdbc:mysql://localhost:3306 but the some issue"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690121903,"post_id":76747674,"comment_id":135306123,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690121389,"creation_date":1690121389,"answer_id":76748658,"question_id":76747674,"body_markdown":"docker url of your db connection needs to be changed:\r\n\r\ninside a docker container, the url should be (if you start it with docker-compose and the service of mysql is called &quot;mysql&quot;):\r\n\r\n    jdbc:mysql://mysql:3306 \r\n\r\nLocalhost inside a docker container is not the localhost of your computer.\r\n\r\nWithin a docker-compose network you access the service by its service name\r\n","title":"Issue launching the Docker with Spring-boot and MySQL","body":"<p>docker url of your db connection needs to be changed:</p>\n<p>inside a docker container, the url should be (if you start it with docker-compose and the service of mysql is called &quot;mysql&quot;):</p>\n<pre><code>jdbc:mysql://mysql:3306 \n</code></pre>\n<p>Localhost inside a docker container is not the localhost of your computer.</p>\n<p>Within a docker-compose network you access the service by its service name</p>\n"}],"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690121389,"creation_date":1690106867,"question_id":76747674,"body_markdown":"I create a spring app with the database MySQL. When I run normally is works fine. But I want to use docker for the app. \r\n\r\nWhen I launch the  spring-boot application I receive this error:\r\n\r\n```\r\n09:53:56.898 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n09:53:56.931 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n        at com.example.favouritePlaceInTheWorld.FavouritePlaceApplication.main(FavouritePlaceApplication.java:12)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 32 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 46 common frames omitted\r\n\r\n```\r\n\r\nThis is my Dockerfile:\r\n\r\nFROM openjdk:17  \r\nADD target/School.jar app.jar  \r\nENTRYPOINT \\[&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\\]\r\n\r\nMy Application.yml\r\n\r\n```\r\nspring:\r\n    datasource:\r\n        driverClassName: com.mysql.cj.jdbc.Driver\r\n        username: root\r\n        password: 12345678\r\n        url: jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL=false&amp;createDatabaseIfNotExist=true\r\n    jpa:\r\n        hibernate:\r\n            ddl-auto: update\r\n        open-in-view: false\r\n        properties:\r\n            hibernate:\r\n                dialect: org.hibernate.dialect.MySQL8Dialect\r\n                format_sql: true\r\n    mvc:\r\n        hiddenmethod:\r\n            filter:\r\n                enabled: true\r\n\r\n#this is for mailHog SMTP server test\r\nmail:\r\n    host: &quot;localhost&quot;\r\n    port: 1025\r\n    username: ${mailHog_username}\r\n    password: ${mailHog_password}\r\n\r\n#this is for check the time AOP SLO in MilliSeconds 1000 ms = 1s\r\n#ex -&gt; 60 for local. 500 for remote\r\nslos-config:\r\n    slos:\r\n        -\r\n            id: local_operation\r\n            threshold: 60\r\n        -\r\n            id: remote_operation\r\n            threshold: 5\r\n\r\n#for actuator endpoint\r\nmanagement:\r\n    server:\r\n        port: 8081\r\n    metrics:\r\n        enabled: true\r\n        export:\r\n            prometheus:\r\n                enabled: true\r\n    endpoint:\r\n        web:\r\n            base-path: /actuator\r\n        prometheus:\r\n            enabled: true\r\n    endpoints:\r\n        jmx:\r\n            exposure:\r\n                include: &quot;*&quot;\r\n        web:\r\n            exposure:\r\n                include: &quot;*&quot;\r\n    info:\r\n        env:\r\n            enabled: true\r\n\r\n#for grafana and prometheus\r\nglobal:\r\n    scrape_interval: 5s\r\n    evaluation_interval: 15s\r\n\r\nscrape_configs:\r\n    - job_name: &#39;prometheus&#39;\r\n\r\n      honor_labels: true\r\n\r\n      metric_path: /actuator/prometheus\r\n      scheme: http\r\n\r\n      static_configs:\r\n          - targets: [&#39;localhost:8080&#39;]\r\n\r\n\r\n# data_source=jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL\\=false&amp;createDatabaseIfNotExist\\=true\r\n# mailHog_username=favourite-place@favourite-place.com\r\n```\r\n\r\nMy pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;School&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;School&lt;/name&gt;\r\n    &lt;description&gt;School&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        for configuration in SLO config--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for actuator --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!--for prometheus --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nAlso i connect docker container with mysql with \r\ncreate network\r\ndocker network create spring-net\r\ndocker network connect spring-net mysqldb\r\n\r\nI check is work find with - docker container inspect mysqldb\r\n\r\nBut when i start with - \r\n docker run -p 9000:8080 --name app --net spring-net -e MYSQL_HOST=mysqldb -e MYSQL_USER=root -e MYSQL_PASSWORD=12345678 -e MYSQL_PORT=3306 app\r\n is generate this issue.\r\n\r\n\r\n\r\nThis is my configuration file:\r\n\r\n@Configuration\r\npublic class WebConfigurationInterceptor implements WebMvcConfigurer {\r\n\r\n    private final StatsInterceptor statsInterceptor;\r\n    private final IpBlackListInterceptor ipBlackListInterceptor;\r\n    private final MaintenanceInterceptor maintenanceInterceptor;\r\n\r\n    public WebConfigurationInterceptor(StatsInterceptor statsInterceptor,\r\n                                       IpBlackListInterceptor ipBlackListInterceptor,\r\n                                       MaintenanceInterceptor maintenanceInterceptor) {\r\n        this.statsInterceptor = statsInterceptor;\r\n        this.ipBlackListInterceptor = ipBlackListInterceptor;\r\n        this.maintenanceInterceptor = maintenanceInterceptor;\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(statsInterceptor);\r\n        registry.addInterceptor(ipBlackListInterceptor);\r\n        registry.addInterceptor(maintenanceInterceptor);\r\n    }\r\n}\r\n\r\n\r\nEntity for class\r\n\r\n@Entity\r\n@Table(name = &quot;ip_blocked_address&quot;)\r\npublic class IpBlockedAddress extends BaseEntity{\r\n\r\n    private String name;\r\n\r\n    public IpBlockedAddress() {\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public IpBlockedAddress setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n}\r\n\r\nService for model entity\r\n\r\npublic class IpBlockedAddressServiceModel {\r\n\r\n    @NotBlank\r\n    @Size(min = 10)\r\n    private String textContent;\r\n\r\n    public IpBlockedAddressServiceModel() {\r\n    }\r\n\r\n    public String getTextContent() {\r\n        return textContent;\r\n    }\r\n\r\n    public IpBlockedAddressServiceModel setTextContent(String textContent) {\r\n        this.textContent = textContent;\r\n        return this;\r\n    }\r\n}\r\n\r\n\r\nRepository\r\n\r\n@Repository\r\npublic interface IpBlockedAddressesRepository extends JpaRepository&lt;IpBlockedAddress, Long&gt; {\r\n\r\n    Optional&lt;IpBlockedAddress&gt; findByName(String name);\r\n}\r\n\r\nInterface:\r\n\r\npublic interface IpBlockedAddressesService {\r\n\r\n    IpBlockedAddress findByName(String name);\r\n\r\n    void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel);\r\n}\r\n\r\n\r\nImplementation of Interface\r\n\r\npackage com.example.favouritePlaceInTheWorld.service.impl;\r\n\r\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\r\nimport com.example.favouritePlaceInTheWorld.model.service.IpBlockedAddressServiceModel;\r\nimport com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository;\r\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class IpBlockedAddressesServiceImpl implements IpBlockedAddressesService {\r\n\r\n    private final IpBlockedAddressesRepository ipBlockedAddressesRepository;\r\n\r\n    public IpBlockedAddressesServiceImpl(IpBlockedAddressesRepository ipBlockedAddressesRepository) {\r\n        this.ipBlockedAddressesRepository = ipBlockedAddressesRepository;\r\n    }\r\n\r\n    @Override\r\n    public IpBlockedAddress findByName(String name) {\r\n        return ipBlockedAddressesRepository\r\n                .findByName(name)\r\n                .orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel) {\r\n        IpBlockedAddress ipBlockedAddress = new IpBlockedAddress();\r\n\r\n        ipBlockedAddress.setName(ipBlockedAddressServiceModel.getTextContent());\r\n\r\n        ipBlockedAddressesRepository.save(ipBlockedAddress);\r\n    }\r\n}\r\n\r\n\r\nAnd Interceptor\r\n\r\npackage com.example.favouritePlaceInTheWorld.web.interceptors;\r\n\r\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\r\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class IpBlackListInterceptor implements HandlerInterceptor {\r\n\r\n\r\n    private final IpBlockedAddressesService ipBlockedAddressesService;\r\n\r\n    public IpBlackListInterceptor(IpBlockedAddressesService ipBlockedAddressesService) {\r\n        this.ipBlockedAddressesService = ipBlockedAddressesService;\r\n    }\r\n\r\n    /**\r\n     * this is method from HandlerInterceptor interface\r\n     * request is have method getRemoteAddr()\r\n     */\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        String ipAddress = request.getRemoteAddr();\r\n        IpBlockedAddress blockedIp = ipBlockedAddressesService.findByName(ipAddress);\r\n        return blockedIp == null;\r\n    }\r\n}\r\n\r\n```","title":"Issue launching the Docker with Spring-boot and MySQL","body":"<p>I create a spring app with the database MySQL. When I run normally is works fine. But I want to use docker for the app.</p>\n<p>When I launch the  spring-boot application I receive this error:</p>\n<pre><code>09:53:56.898 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurationInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n09:53:56.931 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurationInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n        at com.example.favouritePlaceInTheWorld.FavouritePlaceApplication.main(FavouritePlaceApplication.java:12)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 32 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 46 common frames omitted\n\n</code></pre>\n<p>This is my Dockerfile:</p>\n<p>FROM openjdk:17<br />\nADD target/School.jar app.jar<br />\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]</p>\n<p>My Application.yml</p>\n<pre><code>spring:\n    datasource:\n        driverClassName: com.mysql.cj.jdbc.Driver\n        username: root\n        password: 12345678\n        url: jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL=false&amp;createDatabaseIfNotExist=true\n    jpa:\n        hibernate:\n            ddl-auto: update\n        open-in-view: false\n        properties:\n            hibernate:\n                dialect: org.hibernate.dialect.MySQL8Dialect\n                format_sql: true\n    mvc:\n        hiddenmethod:\n            filter:\n                enabled: true\n\n#this is for mailHog SMTP server test\nmail:\n    host: &quot;localhost&quot;\n    port: 1025\n    username: ${mailHog_username}\n    password: ${mailHog_password}\n\n#this is for check the time AOP SLO in MilliSeconds 1000 ms = 1s\n#ex -&gt; 60 for local. 500 for remote\nslos-config:\n    slos:\n        -\n            id: local_operation\n            threshold: 60\n        -\n            id: remote_operation\n            threshold: 5\n\n#for actuator endpoint\nmanagement:\n    server:\n        port: 8081\n    metrics:\n        enabled: true\n        export:\n            prometheus:\n                enabled: true\n    endpoint:\n        web:\n            base-path: /actuator\n        prometheus:\n            enabled: true\n    endpoints:\n        jmx:\n            exposure:\n                include: &quot;*&quot;\n        web:\n            exposure:\n                include: &quot;*&quot;\n    info:\n        env:\n            enabled: true\n\n#for grafana and prometheus\nglobal:\n    scrape_interval: 5s\n    evaluation_interval: 15s\n\nscrape_configs:\n    - job_name: 'prometheus'\n\n      honor_labels: true\n\n      metric_path: /actuator/prometheus\n      scheme: http\n\n      static_configs:\n          - targets: ['localhost:8080']\n\n\n# data_source=jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL\\=false&amp;createDatabaseIfNotExist\\=true\n# mailHog_username=favourite-place@favourite-place.com\n</code></pre>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;School&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;School&lt;/name&gt;\n    &lt;description&gt;School&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        for configuration in SLO config--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--for prometheus --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n\n\nAlso i connect docker container with mysql with \ncreate network\ndocker network create spring-net\ndocker network connect spring-net mysqldb\n\nI check is work find with - docker container inspect mysqldb\n\nBut when i start with - \n docker run -p 9000:8080 --name app --net spring-net -e MYSQL_HOST=mysqldb -e MYSQL_USER=root -e MYSQL_PASSWORD=12345678 -e MYSQL_PORT=3306 app\n is generate this issue.\n\n\n\nThis is my configuration file:\n\n@Configuration\npublic class WebConfigurationInterceptor implements WebMvcConfigurer {\n\n    private final StatsInterceptor statsInterceptor;\n    private final IpBlackListInterceptor ipBlackListInterceptor;\n    private final MaintenanceInterceptor maintenanceInterceptor;\n\n    public WebConfigurationInterceptor(StatsInterceptor statsInterceptor,\n                                       IpBlackListInterceptor ipBlackListInterceptor,\n                                       MaintenanceInterceptor maintenanceInterceptor) {\n        this.statsInterceptor = statsInterceptor;\n        this.ipBlackListInterceptor = ipBlackListInterceptor;\n        this.maintenanceInterceptor = maintenanceInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(statsInterceptor);\n        registry.addInterceptor(ipBlackListInterceptor);\n        registry.addInterceptor(maintenanceInterceptor);\n    }\n}\n\n\nEntity for class\n\n@Entity\n@Table(name = &quot;ip_blocked_address&quot;)\npublic class IpBlockedAddress extends BaseEntity{\n\n    private String name;\n\n    public IpBlockedAddress() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public IpBlockedAddress setName(String name) {\n        this.name = name;\n        return this;\n    }\n}\n\nService for model entity\n\npublic class IpBlockedAddressServiceModel {\n\n    @NotBlank\n    @Size(min = 10)\n    private String textContent;\n\n    public IpBlockedAddressServiceModel() {\n    }\n\n    public String getTextContent() {\n        return textContent;\n    }\n\n    public IpBlockedAddressServiceModel setTextContent(String textContent) {\n        this.textContent = textContent;\n        return this;\n    }\n}\n\n\nRepository\n\n@Repository\npublic interface IpBlockedAddressesRepository extends JpaRepository&lt;IpBlockedAddress, Long&gt; {\n\n    Optional&lt;IpBlockedAddress&gt; findByName(String name);\n}\n\nInterface:\n\npublic interface IpBlockedAddressesService {\n\n    IpBlockedAddress findByName(String name);\n\n    void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel);\n}\n\n\nImplementation of Interface\n\npackage com.example.favouritePlaceInTheWorld.service.impl;\n\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\nimport com.example.favouritePlaceInTheWorld.model.service.IpBlockedAddressServiceModel;\nimport com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository;\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class IpBlockedAddressesServiceImpl implements IpBlockedAddressesService {\n\n    private final IpBlockedAddressesRepository ipBlockedAddressesRepository;\n\n    public IpBlockedAddressesServiceImpl(IpBlockedAddressesRepository ipBlockedAddressesRepository) {\n        this.ipBlockedAddressesRepository = ipBlockedAddressesRepository;\n    }\n\n    @Override\n    public IpBlockedAddress findByName(String name) {\n        return ipBlockedAddressesRepository\n                .findByName(name)\n                .orElse(null);\n    }\n\n    @Override\n    public void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel) {\n        IpBlockedAddress ipBlockedAddress = new IpBlockedAddress();\n\n        ipBlockedAddress.setName(ipBlockedAddressServiceModel.getTextContent());\n\n        ipBlockedAddressesRepository.save(ipBlockedAddress);\n    }\n}\n\n\nAnd Interceptor\n\npackage com.example.favouritePlaceInTheWorld.web.interceptors;\n\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.HandlerInterceptor;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@Component\npublic class IpBlackListInterceptor implements HandlerInterceptor {\n\n\n    private final IpBlockedAddressesService ipBlockedAddressesService;\n\n    public IpBlackListInterceptor(IpBlockedAddressesService ipBlockedAddressesService) {\n        this.ipBlockedAddressesService = ipBlockedAddressesService;\n    }\n\n    /**\n     * this is method from HandlerInterceptor interface\n     * request is have method getRemoteAddr()\n     */\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        String ipAddress = request.getRemoteAddr();\n        IpBlockedAddress blockedIp = ipBlockedAddressesService.findByName(ipAddress);\n        return blockedIp == null;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","itext","font-embedding"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1690014130,"post_id":76737422,"comment_id":135296191,"body_markdown":"Have you added the *pdfCalligraph* add-on? It&#39;s necessary for properly displaying text of many languages...","body":"Have you added the <i>pdfCalligraph</i> add-on? It&#39;s necessary for properly displaying text of many languages..."},{"owner":{"account_id":29061695,"reputation":1,"user_id":22262182,"display_name":"Madushanka Gamlath"},"score":0,"creation_date":1690195963,"post_id":76737422,"comment_id":135314826,"body_markdown":"Could you please tell me how to type &quot;ම් &quot; like letters??","body":"Could you please tell me how to type &quot;ම් &quot; like letters??"}],"owner":{"account_id":29061695,"reputation":1,"user_id":22262182,"display_name":"Madushanka Gamlath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690120475,"creation_date":1689937688,"question_id":76737422,"body_markdown":"I&#39;m using the iText7 library in Java to generate a PDF document that contains Sinhala text.&lt;br&gt;\r\nI&#39;ve followed the code example below to embed a custom Sinhala font and render the text properly. &lt;br&gt;\r\nHowever, when I run the code, the Sinhala text doesn&#39;t render correctly in the output PDF. Instead, it appears as garbled characters or boxes. &lt;br&gt;\r\nI&#39;ve verified that the font file (NotoSansSinhala-VariableFont_wdth,wght.ttf) is present at the specified path. &lt;br&gt;&lt;br&gt; \r\nCan someone help me identify what I might be doing wrong in my code or suggest a solution to properly render Sinhala text in the generated PDF using iText? &lt;br&gt; \r\nAny insights or corrections to my code would be greatly appreciated. Thank you!\r\n\r\n\r\n```\r\npackage mlib;\r\n\r\nimport com.itextpdf.io.font.PdfEncodings;\r\nimport com.itextpdf.kernel.font.PdfFont;\r\nimport com.itextpdf.kernel.font.PdfFontFactory;\r\nimport com.itextpdf.kernel.font.PdfFontFactory.EmbeddingStrategy;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Paragraph;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (PdfWriter writer = new PdfWriter(&quot;output.pdf&quot;);\r\n             PdfDocument pdfDocument = new PdfDocument(writer)) {\r\n\r\n            // Load font data and create a PdfFont object with the desired Sinhala font\r\n            byte[] fontData = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\madushankag\\\\Desktop\\\\Sinhala_iText\\\\NotoSansSinhala-VariableFont_wdth,wght.ttf&quot;));\r\n            PdfFont sinhalaFont = PdfFontFactory.createFont(fontData, PdfEncodings.IDENTITY_H, EmbeddingStrategy.FORCE_EMBEDDED, false);\r\n            \r\n\r\n            // Open the document\r\n            Document document = new Document(pdfDocument);\r\n\r\n            //Add content with the Sinhala font\r\n            String sinhalaText = &quot;කොහොමද සැප සනිප?&quot;;\r\n            Paragraph paragraph = new Paragraph(sinhalaText).setFont(sinhalaFont);\r\n            document.add(paragraph);\r\n\r\n            //Close the document\r\n            document.close();\r\n\r\n            System.out.println(&quot;PDF generation completed successfully.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOutput pdf file:\r\n\r\n[![Output pdf file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EbMMC.png","title":"Sinhala text not properly rendering in PDF output using iText7 in Java","body":"<p>I'm using the iText7 library in Java to generate a PDF document that contains Sinhala text.<br>\nI've followed the code example below to embed a custom Sinhala font and render the text properly. <br>\nHowever, when I run the code, the Sinhala text doesn't render correctly in the output PDF. Instead, it appears as garbled characters or boxes. <br>\nI've verified that the font file (NotoSansSinhala-VariableFont_wdth,wght.ttf) is present at the specified path. <br><br>\nCan someone help me identify what I might be doing wrong in my code or suggest a solution to properly render Sinhala text in the generated PDF using iText? <br>\nAny insights or corrections to my code would be greatly appreciated. Thank you!</p>\n<pre><code>package mlib;\n\nimport com.itextpdf.io.font.PdfEncodings;\nimport com.itextpdf.kernel.font.PdfFont;\nimport com.itextpdf.kernel.font.PdfFontFactory;\nimport com.itextpdf.kernel.font.PdfFontFactory.EmbeddingStrategy;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Paragraph;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        try (PdfWriter writer = new PdfWriter(&quot;output.pdf&quot;);\n             PdfDocument pdfDocument = new PdfDocument(writer)) {\n\n            // Load font data and create a PdfFont object with the desired Sinhala font\n            byte[] fontData = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\madushankag\\\\Desktop\\\\Sinhala_iText\\\\NotoSansSinhala-VariableFont_wdth,wght.ttf&quot;));\n            PdfFont sinhalaFont = PdfFontFactory.createFont(fontData, PdfEncodings.IDENTITY_H, EmbeddingStrategy.FORCE_EMBEDDED, false);\n            \n\n            // Open the document\n            Document document = new Document(pdfDocument);\n\n            //Add content with the Sinhala font\n            String sinhalaText = &quot;කොහොමද සැප සනිප?&quot;;\n            Paragraph paragraph = new Paragraph(sinhalaText).setFont(sinhalaFont);\n            document.add(paragraph);\n\n            //Close the document\n            document.close();\n\n            System.out.println(&quot;PDF generation completed successfully.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Output pdf file:</p>\n<p><a href=\"https://i.stack.imgur.com/EbMMC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbMMC.png\" alt=\"Output pdf file\" /></a></p>\n"},{"tags":["java","jframe","jpanel","netbeans-8.2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690119238,"post_id":76748480,"comment_id":135305773,"body_markdown":"Sounds like you need a `CardLayout`","body":"Sounds like you need a <code>CardLayout</code>"}],"owner":{"account_id":29074159,"reputation":1,"user_id":22271760,"display_name":"papa-jayy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690120189,"answer_count":0,"score":0,"last_activity_date":1690120225,"creation_date":1690118728,"question_id":76748480,"body_markdown":"i coded a game in java (the crome offline game but with my own textures). The the game screen incoded in a class that extends a jPanel and it is called by a different class that extends a jFrame. \r\nThe other screens, e.g. highscore screen and the title screen were created in a jPanel form design in NetBeans IDE 8.2 (it allowed me design the gui&#39;s by dragging and droping while it made uneditable auto-generated code for the Panels)\r\nEach jPanel form it&#39;s own class and as i did with the game screen called by the JFrame class by instantiating and using: \r\n```\r\nadd(*jPanelName*);\r\n```\r\ni did this for all my screens and to switch between them ive been closing the window, commenting out all panels excluding the one i want to see when i run and clicking run again.\r\n\r\nhow can i switch between them using thier respective buttons?\r\n\r\nim sorry for my post being so long and for if im not punctual.\r\n\r\ni tried a switch statment that would change depending on a variable (currentScreen) that i made public in hopes that if i changed it upon clicking a button, it would trigger the switch statment and the screen would change. this is what the code in the buttons looks like: \r\n```\r\nprivate void jHighScoresActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        GameWindow.currentScreen = 2;\r\n        System.out.println(GameWindow.currentScreen); //confirms if it changes when clicked (it does)\r\n```\r\nthe attenpted switch statment:\r\n\r\n```\r\n    private PlayScreen playScreen;\r\n    private TitleScreen titleScreen;\r\n    private HighScoreScreen highScoreScreen;\r\n    \r\n    private final int TITLE = 0;\r\n    private final int PLAY = 1;\r\n    private final int HISHSCORE = 2;\r\n    \r\n    public static int currentScreen;\r\n\r\npublic GameWindow() {\r\n        ...code to set the frame...\r\n        \r\n        \r\n        playScreen = new PlayScreen();\r\n        titleScreen = new TitleScreen();\r\n        highScoreScreen = new HighScoreScreen();\r\n        \r\n                highScoreScreen.setVisible(false);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(false);\r\n\r\n        setScreen();\r\n    }\r\n\r\n\r\npublic void setScreen(){\r\n        switch(currentScreen){\r\n            case TITLE:\r\n                remove(playScreen);\r\n                remove(highScoreScreen);\r\n                add(titleScreen);\r\n                playScreen.setVisible(true);\r\n            case PLAY:\r\n                remove(titleScreen);\r\n                add(playScreen);\r\n                addKeyListener(playScreen);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(true);\r\n                break;\r\n            case HISHSCORE:\r\n                remove(titleScreen);\r\n                add(highScoreScreen);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(true);\r\n                break;\r\n        }\r\n    }\r\n```","title":"Switch between JPanels, that are in different classes, within a JFrame class, using JButtonsb (sorry)","body":"<p>i coded a game in java (the crome offline game but with my own textures). The the game screen incoded in a class that extends a jPanel and it is called by a different class that extends a jFrame.\nThe other screens, e.g. highscore screen and the title screen were created in a jPanel form design in NetBeans IDE 8.2 (it allowed me design the gui's by dragging and droping while it made uneditable auto-generated code for the Panels)\nEach jPanel form it's own class and as i did with the game screen called by the JFrame class by instantiating and using:</p>\n<pre><code>add(*jPanelName*);\n</code></pre>\n<p>i did this for all my screens and to switch between them ive been closing the window, commenting out all panels excluding the one i want to see when i run and clicking run again.</p>\n<p>how can i switch between them using thier respective buttons?</p>\n<p>im sorry for my post being so long and for if im not punctual.</p>\n<p>i tried a switch statment that would change depending on a variable (currentScreen) that i made public in hopes that if i changed it upon clicking a button, it would trigger the switch statment and the screen would change. this is what the code in the buttons looks like:</p>\n<pre><code>private void jHighScoresActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        GameWindow.currentScreen = 2;\n        System.out.println(GameWindow.currentScreen); //confirms if it changes when clicked (it does)\n</code></pre>\n<p>the attenpted switch statment:</p>\n<pre><code>    private PlayScreen playScreen;\n    private TitleScreen titleScreen;\n    private HighScoreScreen highScoreScreen;\n    \n    private final int TITLE = 0;\n    private final int PLAY = 1;\n    private final int HISHSCORE = 2;\n    \n    public static int currentScreen;\n\npublic GameWindow() {\n        ...code to set the frame...\n        \n        \n        playScreen = new PlayScreen();\n        titleScreen = new TitleScreen();\n        highScoreScreen = new HighScoreScreen();\n        \n                highScoreScreen.setVisible(false);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(false);\n\n        setScreen();\n    }\n\n\npublic void setScreen(){\n        switch(currentScreen){\n            case TITLE:\n                remove(playScreen);\n                remove(highScoreScreen);\n                add(titleScreen);\n                playScreen.setVisible(true);\n            case PLAY:\n                remove(titleScreen);\n                add(playScreen);\n                addKeyListener(playScreen);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(true);\n                break;\n            case HISHSCORE:\n                remove(titleScreen);\n                add(highScoreScreen);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(true);\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1690120074,"post_id":76748560,"comment_id":135305889,"body_markdown":"Please read https://poi.apache.org/components/spreadsheet/quick-guide.html. Especially https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents","body":"Please read <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/quick-guide.html</a>. Especially <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690149683,"post_id":76748560,"comment_id":135309358,"body_markdown":"See also [_Can I access/modify workbooks/documents/slideshows in multiple threads?_](https://poi.apache.org/help/faq.html#faq-N10224)","body":"See also <a href=\"https://poi.apache.org/help/faq.html#faq-N10224\" rel=\"nofollow noreferrer\"><i>Can I access/modify workbooks/documents/slideshows in multiple threads?</i></a>"}],"owner":{"account_id":21852678,"reputation":1,"user_id":16144524,"display_name":"QasyeefSunnymizer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690119816,"creation_date":1690119816,"question_id":76748560,"body_markdown":"I&#39;m having issues with &quot;Cannot get a NUMERIC value from a STRING cell&quot;. Sorry for the bad explanation, I am a new student to CS. I have just learned to include Apache POI into the IntelliJ project and finally understanding how to put in the file directory. I still am having issues with the entirety of Apache POI in a whole.\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport org.apache.poi.ss.usermodel.*;\r\n\r\npublic class DataSetTest {\r\n    private static final String EXCEL_FILE_PATH = &quot;C:/Users/assignment/src/dataset.xlsx&quot;;\r\n    private static final int NUM_THREADS = 4;\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(NUM_THREADS);\r\n\r\n        Map&lt;String, Double&gt; userSpendingMap = new HashMap&lt;&gt;();\r\n        double totalMoneySpent = 0.0;\r\n\r\n        try (InputStream fis = new FileInputStream(EXCEL_FILE_PATH);\r\n             Workbook workbook = new XSSFWorkbook(fis)) {\r\n\r\n            Sheet sheet = workbook.getSheetAt(0);\r\n\r\n            for (Row row : sheet) {\r\n                executorService.execute(() -&gt; processTransaction(row, userSpendingMap));\r\n            }\r\n\r\n            executorService.shutdown();\r\n\r\n            while (!executorService.isTerminated()) {\r\n                Thread.sleep(100); // Sleep for a short interval to avoid busy waiting\r\n            }\r\n\r\n            for (Double amount : userSpendingMap.values()) {\r\n                totalMoneySpent += amount;\r\n            }\r\n\r\n            System.out.println(&quot;User ID\\tTotal Money Spent&quot;);\r\n            for (Map.Entry&lt;String, Double&gt; entry : userSpendingMap.entrySet()) {\r\n                System.out.println(entry.getKey() + &quot;\\t&quot; + entry.getValue());\r\n            }\r\n\r\n            System.out.println(&quot;Total money spent by all users: &quot; + totalMoneySpent);\r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void processTransaction(Row row, Map&lt;String, Double&gt; userSpendingMap) {\r\n        Cell userIdCell = row.getCell(1);\r\n        Cell sharePriceCell = row.getCell(2);\r\n        Cell shareBoughtCell = row.getCell(3);\r\n\r\n        if (userIdCell != null &amp;&amp; sharePriceCell != null &amp;&amp; shareBoughtCell != null) {\r\n            String userId = userIdCell.getStringCellValue();\r\n            double sharePrice = sharePriceCell.getNumericCellValue();\r\n            int shareBought = (int) shareBoughtCell.getNumericCellValue();\r\n\r\n            double transactionAmount = sharePrice * shareBought;\r\n\r\n            synchronized (userSpendingMap) {\r\n                userSpendingMap.put(userId, userSpendingMap.getOrDefault(userId, 0.0) + transactionAmount);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Issues with .xlxs file using Apache POI","body":"<p>I'm having issues with &quot;Cannot get a NUMERIC value from a STRING cell&quot;. Sorry for the bad explanation, I am a new student to CS. I have just learned to include Apache POI into the IntelliJ project and finally understanding how to put in the file directory. I still am having issues with the entirety of Apache POI in a whole.</p>\n<pre><code>import java.io.FileInputStream;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport org.apache.poi.ss.usermodel.*;\n\npublic class DataSetTest {\n    private static final String EXCEL_FILE_PATH = &quot;C:/Users/assignment/src/dataset.xlsx&quot;;\n    private static final int NUM_THREADS = 4;\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(NUM_THREADS);\n\n        Map&lt;String, Double&gt; userSpendingMap = new HashMap&lt;&gt;();\n        double totalMoneySpent = 0.0;\n\n        try (InputStream fis = new FileInputStream(EXCEL_FILE_PATH);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheetAt(0);\n\n            for (Row row : sheet) {\n                executorService.execute(() -&gt; processTransaction(row, userSpendingMap));\n            }\n\n            executorService.shutdown();\n\n            while (!executorService.isTerminated()) {\n                Thread.sleep(100); // Sleep for a short interval to avoid busy waiting\n            }\n\n            for (Double amount : userSpendingMap.values()) {\n                totalMoneySpent += amount;\n            }\n\n            System.out.println(&quot;User ID\\tTotal Money Spent&quot;);\n            for (Map.Entry&lt;String, Double&gt; entry : userSpendingMap.entrySet()) {\n                System.out.println(entry.getKey() + &quot;\\t&quot; + entry.getValue());\n            }\n\n            System.out.println(&quot;Total money spent by all users: &quot; + totalMoneySpent);\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void processTransaction(Row row, Map&lt;String, Double&gt; userSpendingMap) {\n        Cell userIdCell = row.getCell(1);\n        Cell sharePriceCell = row.getCell(2);\n        Cell shareBoughtCell = row.getCell(3);\n\n        if (userIdCell != null &amp;&amp; sharePriceCell != null &amp;&amp; shareBoughtCell != null) {\n            String userId = userIdCell.getStringCellValue();\n            double sharePrice = sharePriceCell.getNumericCellValue();\n            int shareBought = (int) shareBoughtCell.getNumericCellValue();\n\n            double transactionAmount = sharePrice * shareBought;\n\n            synchronized (userSpendingMap) {\n                userSpendingMap.put(userId, userSpendingMap.getOrDefault(userId, 0.0) + transactionAmount);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","git","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1628922061,"post_id":68780779,"comment_id":121554408,"body_markdown":"http://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#goals","body":"<a href=\"http://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#goals\" rel=\"nofollow noreferrer\">maven.apache.org/maven-release/maven-release-plugin/&hellip;</a>"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1628922538,"post_id":68780779,"comment_id":121554483,"body_markdown":"@BoristheSpider, do I need to set the &lt;configuration.goal&gt; to something specific?","body":"@BoristheSpider, do I need to set the &lt;configuration.goal&gt; to something specific?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1628922574,"post_id":68780779,"comment_id":121554490,"body_markdown":"I’ll leave that as an exercise to the reader. Hint: what is it set to by default and what behaviour do you want to change?","body":"I’ll leave that as an exercise to the reader. Hint: what is it set to by default and what behaviour do you want to change?"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":1,"creation_date":1628922779,"post_id":68780779,"comment_id":121554524,"body_markdown":"@BoristheSpider From deploy to install?","body":"@BoristheSpider From deploy to install?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1628926155,"post_id":68780779,"comment_id":121555104,"body_markdown":"Does this answer your question? [Updating version numbers of modules in a multi-module Maven project](https://stackoverflow.com/questions/5726291/updating-version-numbers-of-modules-in-a-multi-module-maven-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5726291/updating-version-numbers-of-modules-in-a-multi-module-maven-project\">Updating version numbers of modules in a multi-module Maven project</a>"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1629136067,"post_id":68780779,"comment_id":121602214,"body_markdown":"@Joe nope......","body":"@Joe nope......"}],"answers":[{"tags":[],"owner":{"account_id":17598442,"reputation":21,"user_id":13287589,"display_name":"Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690119676,"creation_date":1690119676,"answer_id":76748550,"question_id":68780779,"body_markdown":"remove the release:perform and only run with release:prepare , it is enough for your usecase.\r\n\r\nif you want to re-run release from the beginning at every run, add release:clean :\r\n\r\nmvn release:clean release:prepare","title":"How to only bump up the maven project version on git with maven release plugin?","body":"<p>remove the release:perform and only run with release:prepare , it is enough for your usecase.</p>\n<p>if you want to re-run release from the beginning at every run, add release:clean :</p>\n<p>mvn release:clean release:prepare</p>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690119676,"creation_date":1628921283,"question_id":68780779,"body_markdown":"I want to automatically bump up the version, such that on each release a new version is tagged on the commit and the main branch is set to the next SNAPSHOT version.\r\n\r\nThe usual release:prepare, release:perform also deploys the artifacts to a binary repository. However, I only want to bump up the version and push to git and not deploy the artifacts anywhere. I get the following error as I don&#39;t have a &lt;distributionManagement&gt; in my pom.xml (as my intention is not to deploy anywhere).\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project rp-demo-app: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n```\r\n\r\nI am running `$ mvn release:prepare release:perform`","title":"How to only bump up the maven project version on git with maven release plugin?","body":"<p>I want to automatically bump up the version, such that on each release a new version is tagged on the commit and the main branch is set to the next SNAPSHOT version.</p>\n<p>The usual release:prepare, release:perform also deploys the artifacts to a binary repository. However, I only want to bump up the version and push to git and not deploy the artifacts anywhere. I get the following error as I don't have a  in my pom.xml (as my intention is not to deploy anywhere).</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project rp-demo-app: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\n</code></pre>\n<p>I am running <code>$ mvn release:prepare release:perform</code></p>\n"},{"tags":["java","android","memcached","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":14846069,"reputation":11,"user_id":10721354,"display_name":"Mohammad Karami Darabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657084804,"creation_date":1657084366,"answer_id":72878210,"question_id":72878109,"body_markdown":"Use Builder class to create player object and set MediaSourceFactory to caching like this:\r\n\r\n                val databaseProvider = StandaloneDatabaseProvider(context)\r\n            context.getExternalFilesDir(&quot;voice/$artistId/$albumNumber&quot;)?.let {\r\n                simpleCache = SimpleCache(\r\n                    it,\r\n                    NoOpCacheEvictor(),\r\n                    databaseProvider\r\n                )\r\n                val defaultDataSourceFactory = DefaultDataSource.Factory(context)\r\n                val cacheDataSourceFactory = CacheDataSource.Factory()\r\n                    .setCache(simpleCache!!)\r\n                    .setUpstreamDataSourceFactory(defaultDataSourceFactory)\r\n                player = ExoPlayer\r\n                    .Builder(context)\r\n                    .setMediaSourceFactory(DefaultMediaSourceFactory(cacheDataSourceFactory))\r\n                    .build()\r\n            } ?: kotlin.run {\r\n                player = ExoPlayer.Builder(context).build()\r\n            }","title":"Video Cache In ExoPlayer","body":"<p>Use Builder class to create player object and set MediaSourceFactory to caching like this:</p>\n<pre><code>            val databaseProvider = StandaloneDatabaseProvider(context)\n        context.getExternalFilesDir(&quot;voice/$artistId/$albumNumber&quot;)?.let {\n            simpleCache = SimpleCache(\n                it,\n                NoOpCacheEvictor(),\n                databaseProvider\n            )\n            val defaultDataSourceFactory = DefaultDataSource.Factory(context)\n            val cacheDataSourceFactory = CacheDataSource.Factory()\n                .setCache(simpleCache!!)\n                .setUpstreamDataSourceFactory(defaultDataSourceFactory)\n            player = ExoPlayer\n                .Builder(context)\n                .setMediaSourceFactory(DefaultMediaSourceFactory(cacheDataSourceFactory))\n                .build()\n        } ?: kotlin.run {\n            player = ExoPlayer.Builder(context).build()\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7864640,"reputation":2014,"user_id":10109704,"display_name":"Hadi Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690118399,"creation_date":1690118399,"answer_id":76748455,"question_id":72878109,"body_markdown":"    const val CACHE_DIR_NAME = &quot;cached_audio&quot;\r\n    const val MAX_CACHE_SIZE = 256 * 1024 * 1024L//256MB\r\n    \r\n    class MediaCache private constructor(context: Context) {\r\n    \r\n        val cacheFactory: CacheDataSource.Factory\r\n    \r\n        init {\r\n            cacheFactory = setupExoPlayerCache(context)\r\n        }\r\n    \r\n        companion object {\r\n            @Volatile\r\n            private lateinit var instance: MediaCache\r\n    \r\n            fun getInstance(context: Context): MediaCache {\r\n                synchronized(this) {\r\n                    if (!::instance.isInitialized) {\r\n                        instance = MediaCache(context)\r\n                    }\r\n                    return instance\r\n                }\r\n            }\r\n        }\r\n    \r\n        @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n        private fun setupExoPlayerCache(context: Context): CacheDataSource.Factory {\r\n            val cacheEvictor = LeastRecentlyUsedCacheEvictor(MAX_CACHE_SIZE)\r\n            val databaseProvider = StandaloneDatabaseProvider(context)\r\n            val cache = SimpleCache(\r\n                File(context.cacheDir, CACHE_DIR_NAME),\r\n                cacheEvictor, databaseProvider\r\n            )\r\n            val upstreamFactory = DefaultDataSource.Factory(context)\r\n            return CacheDataSource.Factory().apply {\r\n                setCache(cache)\r\n                setUpstreamDataSourceFactory(upstreamFactory)\r\n                setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\r\n            }\r\n        }\r\n    }\r\n\r\nand then everywhere you pass media source to exoplayer:\r\n\r\n                val mediaItem = MediaItem.fromUri(uri)\r\n    \r\n                val mediaSourceFactory =\r\n                    ProgressiveMediaSource.Factory(MediaCache.getInstance(this@PlaybackService).cacheFactory)\r\n                val mediaSource = mediaSourceFactory.createMediaSource(mediaItem)\r\n    \r\n                player.setMediaSource(mediaSource, true)","title":"Video Cache In ExoPlayer","body":"<pre><code>const val CACHE_DIR_NAME = &quot;cached_audio&quot;\nconst val MAX_CACHE_SIZE = 256 * 1024 * 1024L//256MB\n\nclass MediaCache private constructor(context: Context) {\n\n    val cacheFactory: CacheDataSource.Factory\n\n    init {\n        cacheFactory = setupExoPlayerCache(context)\n    }\n\n    companion object {\n        @Volatile\n        private lateinit var instance: MediaCache\n\n        fun getInstance(context: Context): MediaCache {\n            synchronized(this) {\n                if (!::instance.isInitialized) {\n                    instance = MediaCache(context)\n                }\n                return instance\n            }\n        }\n    }\n\n    @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n    private fun setupExoPlayerCache(context: Context): CacheDataSource.Factory {\n        val cacheEvictor = LeastRecentlyUsedCacheEvictor(MAX_CACHE_SIZE)\n        val databaseProvider = StandaloneDatabaseProvider(context)\n        val cache = SimpleCache(\n            File(context.cacheDir, CACHE_DIR_NAME),\n            cacheEvictor, databaseProvider\n        )\n        val upstreamFactory = DefaultDataSource.Factory(context)\n        return CacheDataSource.Factory().apply {\n            setCache(cache)\n            setUpstreamDataSourceFactory(upstreamFactory)\n            setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\n        }\n    }\n}\n</code></pre>\n<p>and then everywhere you pass media source to exoplayer:</p>\n<pre><code>            val mediaItem = MediaItem.fromUri(uri)\n\n            val mediaSourceFactory =\n                ProgressiveMediaSource.Factory(MediaCache.getInstance(this@PlaybackService).cacheFactory)\n            val mediaSource = mediaSourceFactory.createMediaSource(mediaItem)\n\n            player.setMediaSource(mediaSource, true)\n</code></pre>\n"}],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690118399,"creation_date":1657083291,"question_id":72878109,"body_markdown":"I have searched for cache in/of `ExoPlayer` but i neither understoond them nor could implement them correctly.\r\n\r\n[In this asked question][1] for ***using cache in Exoplayer*** there are some answers with sample code. [The first answer][2] that i&#39;m not able to implement it is in part two of sample code which said to use the class `DefaultHttpDataSourceFactory` that i suppose it was changed with the class `DefaultHttpDataSource.Factory()` that does not seem much of a problem but the main problem i faced was this line of code\r\n\r\n    BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n    TrackSelection.Factory videoTrackSelectionFactory =\r\n        new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n    TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n\r\n    SimpleExoPlayer exoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\r\n    MediaSource audioSource = new ExtractorMediaSource(Uri.parse(url),\r\n            new CacheDataSourceFactory(context, 100 * 1024 * 1024, 5 * 1024 * 1024), new DefaultExtractorsFactory(), null, null);\r\n    exoPlayer.setPlayWhenReady(true); \r\n    exoPlayer.prepare(audioSource);\r\n\r\nthat says use class `ExtractorMediaSource` which there is not calss by this name, i even did not find in `depricated` classes of exoplayer document. Almost evetything has changed in exoplayer in version `2.18.0`. For instance, the part that we should set `MediaSource` for exoplayer now it is sepreated into two parts:\r\n\r\n    final DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(context, &quot;agent name&quot;); //part one\r\n    final ProgressiveMediaSource.Factory mediaSourceFactory = new ProgressiveMediaSource.Factory(dataSourceFactory); //part two\r\nI hope you have seen the differences and my problem with this solution\r\n\r\nAnd now next solution and its problem: [This dear friend][3] suggest to use [This Library][4] which sound good and some how solved my problem but what this dependency `compile &#39;com.danikula:videocache:2.7.1&#39;` actually does is to download the video and save it in app folder. since android `Pie(9)` and new privacy plicy of google and android phone producers, they do not allow to access app folder.\r\n\r\nAnd the same issue with other solutions that are in Kotlin, the classes in exoplayer are missing.\r\n\r\n**What i want:**\r\nI want to use cache in exoplayer2(or cache of exoplayer2) like `Glide` that save image in app cache i want to implement similar functionality for my exoplayer2, i have searched almost everywhere.\r\n\r\n***Note:***\r\nI use these dependecies of `ExoPlayer`:\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.0&#39;\r\n\r\nI am finished with my app just need to figure out this part of it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28700391/using-cache-in-exoplayer\r\n  [2]: https://stackoverflow.com/a/45488510/13634739\r\n  [3]: https://stackoverflow.com/a/58678208/13634739\r\n  [4]: https://github.com/danikula/AndroidVideoCache","title":"Video Cache In ExoPlayer","body":"<p>I have searched for cache in/of <code>ExoPlayer</code> but i neither understoond them nor could implement them correctly.</p>\n<p><a href=\"https://stackoverflow.com/questions/28700391/using-cache-in-exoplayer\">In this asked question</a> for <em><strong>using cache in Exoplayer</strong></em> there are some answers with sample code. <a href=\"https://stackoverflow.com/a/45488510/13634739\">The first answer</a> that i'm not able to implement it is in part two of sample code which said to use the class <code>DefaultHttpDataSourceFactory</code> that i suppose it was changed with the class <code>DefaultHttpDataSource.Factory()</code> that does not seem much of a problem but the main problem i faced was this line of code</p>\n<pre><code>BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\nTrackSelection.Factory videoTrackSelectionFactory =\n    new AdaptiveTrackSelection.Factory(bandwidthMeter);\nTrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n\nSimpleExoPlayer exoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\nMediaSource audioSource = new ExtractorMediaSource(Uri.parse(url),\n        new CacheDataSourceFactory(context, 100 * 1024 * 1024, 5 * 1024 * 1024), new DefaultExtractorsFactory(), null, null);\nexoPlayer.setPlayWhenReady(true); \nexoPlayer.prepare(audioSource);\n</code></pre>\n<p>that says use class <code>ExtractorMediaSource</code> which there is not calss by this name, i even did not find in <code>depricated</code> classes of exoplayer document. Almost evetything has changed in exoplayer in version <code>2.18.0</code>. For instance, the part that we should set <code>MediaSource</code> for exoplayer now it is sepreated into two parts:</p>\n<pre><code>final DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(context, &quot;agent name&quot;); //part one\nfinal ProgressiveMediaSource.Factory mediaSourceFactory = new ProgressiveMediaSource.Factory(dataSourceFactory); //part two\n</code></pre>\n<p>I hope you have seen the differences and my problem with this solution</p>\n<p>And now next solution and its problem: <a href=\"https://stackoverflow.com/a/58678208/13634739\">This dear friend</a> suggest to use <a href=\"https://github.com/danikula/AndroidVideoCache\" rel=\"nofollow noreferrer\">This Library</a> which sound good and some how solved my problem but what this dependency <code>compile 'com.danikula:videocache:2.7.1'</code> actually does is to download the video and save it in app folder. since android <code>Pie(9)</code> and new privacy plicy of google and android phone producers, they do not allow to access app folder.</p>\n<p>And the same issue with other solutions that are in Kotlin, the classes in exoplayer are missing.</p>\n<p><strong>What i want:</strong>\nI want to use cache in exoplayer2(or cache of exoplayer2) like <code>Glide</code> that save image in app cache i want to implement similar functionality for my exoplayer2, i have searched almost everywhere.</p>\n<p><em><strong>Note:</strong></em>\nI use these dependecies of <code>ExoPlayer</code>:</p>\n<pre><code>implementation 'com.google.android.exoplayer:exoplayer-core:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer-dash:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer-ui:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer:2.18.0'\n</code></pre>\n<p>I am finished with my app just need to figure out this part of it.</p>\n"},{"tags":["java","json","spring-mvc","properties","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":7812117,"reputation":2519,"user_id":5908014,"display_name":"tpschmidt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594652133,"creation_date":1594652133,"answer_id":62878516,"question_id":62878259,"body_markdown":"1. If you want to hide something from Swagger you can use `@ApiModelProperty(hidden = true)`.\r\n2. If you want to completely remove the field from being serialized by jackson you can do `@JsonIgnore` on your response DTO.\r\n\r\nDoes this help?","title":"How to hide a JsonProperty in the DTO?","body":"<ol>\n<li>If you want to hide something from Swagger you can use <code>@ApiModelProperty(hidden = true)</code>.</li>\n<li>If you want to completely remove the field from being serialized by jackson you can do <code>@JsonIgnore</code> on your response DTO.</li>\n</ol>\n<p>Does this help?</p>\n"},{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690118142,"creation_date":1594976399,"answer_id":62950634,"question_id":62878259,"body_markdown":"The best solution, as mentioned by @tpschmidt, is to split the DTOs.\r\n\r\nBut if you still want to use the same DTO, you can solve the problem by adding @ReadOnlyProperty and @ApiModelProperty(hidden = true):\r\n\r\n    @JsonProperty(&quot;sosPast&quot;)\r\n    @ReadOnlyProperty\r\n    @ApiModelProperty(hidden = true)\r\n    private List&lt;aDTO&gt; sosPast;\r\n    \r\n    @JsonProperty(&quot;sosPresentFuture&quot;)\r\n    @ReadOnlyProperty\r\n    @ApiModelProperty(hidden = true)\r\n    private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\nNote that in newer version of swagger-annotations @ApiModelProperty is replaced by @Schema","title":"How to hide a JsonProperty in the DTO?","body":"<p>The best solution, as mentioned by @tpschmidt, is to split the DTOs.</p>\n<p>But if you still want to use the same DTO, you can solve the problem by adding @ReadOnlyProperty and @ApiModelProperty(hidden = true):</p>\n<pre><code>@JsonProperty(&quot;sosPast&quot;)\n@ReadOnlyProperty\n@ApiModelProperty(hidden = true)\nprivate List&lt;aDTO&gt; sosPast;\n\n@JsonProperty(&quot;sosPresentFuture&quot;)\n@ReadOnlyProperty\n@ApiModelProperty(hidden = true)\nprivate List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>Note that in newer version of swagger-annotations @ApiModelProperty is replaced by @Schema</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3901,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62950634,"answer_count":2,"score":2,"last_activity_date":1690118142,"creation_date":1594651256,"question_id":62878259,"body_markdown":"I am using a DTO for both the insertion of an object and for the search that returns the data.\r\n\r\nin particular, I was interested to understand if there is a way to hide some fields:\r\n\r\n        private List &lt;aDTO&gt; sos;\r\n\r\n        private List &lt;aDTO&gt; sosPast;\r\n    \r\n        private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\nsos is used in writing to insert a list of objects.\r\nin the research, I need two separate elements, one that returns the past objects, one that returns the present and/or future objects.\r\n\r\nso in insertion, I will have to show only\r\n\r\n        private List &lt;aDTO&gt; sos;\r\n\r\nin the research, I will have to show only\r\n\r\n        private List &lt;aDTO&gt; sosPast;\r\n        private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\n(In research the problem was solved by \r\n\r\n        @Mapping(target = &quot;sos&quot;, ignore = true)\r\n\r\nin the mapper)\r\n\r\nNow I need something to hide the two lists (sosPast and sosPresentFuture) in order to leave only the sos list.","title":"How to hide a JsonProperty in the DTO?","body":"<p>I am using a DTO for both the insertion of an object and for the search that returns the data.</p>\n<p>in particular, I was interested to understand if there is a way to hide some fields:</p>\n<pre><code>    private List &lt;aDTO&gt; sos;\n\n    private List &lt;aDTO&gt; sosPast;\n\n    private List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>sos is used in writing to insert a list of objects.\nin the research, I need two separate elements, one that returns the past objects, one that returns the present and/or future objects.</p>\n<p>so in insertion, I will have to show only</p>\n<pre><code>    private List &lt;aDTO&gt; sos;\n</code></pre>\n<p>in the research, I will have to show only</p>\n<pre><code>    private List &lt;aDTO&gt; sosPast;\n    private List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>(In research the problem was solved by</p>\n<pre><code>    @Mapping(target = &quot;sos&quot;, ignore = true)\n</code></pre>\n<p>in the mapper)</p>\n<p>Now I need something to hide the two lists (sosPast and sosPresentFuture) in order to leave only the sos list.</p>\n"},{"tags":["java","android","android-edittext","text-processing","text-extraction"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688913039,"post_id":76647316,"comment_id":135135153,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27959544,"reputation":21,"user_id":21351661,"display_name":"fkybrd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690116380,"creation_date":1688903447,"question_id":76647316,"body_markdown":"I&#39;m looking for customizable shortcut text in Android Java. I tried this:\r\n\r\n```\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    String strxd = &quot;Hello World XD&quot;;\r\n    int xdindex = strxd.indexOf(&quot;XD&quot;);\r\n    EditText et = new EditText(IssueActivity.this);\r\n    SpannableString ss = new SpannableString(strxd);\r\n    ss.setSpan(\r\n        new ImageSpan(\r\n            IssueActivity.this,\r\n            R.drawable.xd_emoji,\r\n            DynamicDrawableSpan.ALIGN_BASELINE\r\n            ),\r\n        xdindex,\r\n        xdindex + 2,\r\n        0\r\n        );\r\n    et.setText(ss);\r\n    setContentView(et);\r\n    }\r\n```\r\n\r\nor like this:\r\n\r\n```\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    RelativeLayout rl = new RelativeLayout(IssueActivity.this);\r\n    rl.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    EditText publicEditor = new EditText(IssueActivity.this);\r\n    publicEditor.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    publicEditor.setBackgroundColor(Color.TRANSPARENT);\r\n    EditText hintEditor = new EditText(IssueActivity.this);\r\n    hintEditor.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    hintEditor.setBackgroundColor(Color.TRANSPARENT); \r\n    hintEditor.setTextColor(Color.GRAY);\r\n    String publicText = &quot;Hello World&quot;;\r\n    ArrayList&lt;Integer&gt; spaceIndexes = new ArrayList&lt;Integer&gt;();\r\n    int nextIndex = 0;\r\n    int tmpIndex = 0;\r\n    while (nextIndex != -1) {\r\n        tmpIndex =  publicText.substring(nextIndex).indexOf(&quot; &quot;);\r\n        if (tmpIndex == -1) {\r\n            nextIndex = -1;\r\n            }\r\n        else {\r\n            nextIndex += tmpIndex;\r\n            spaceIndexes.add(nextIndex);\r\n            nextIndex++;\r\n            }\r\n        }\r\n    String hintText = &quot;&quot;;\r\n    int loop = spaceIndexes.size();\r\n    int j = 0;\r\n    int k = 0;\r\n    for (int i = 0; i &lt; loop; i++) {\r\n        k = i == 0 ? spaceIndexes.get(i) : (spaceIndexes.get(i) - spaceIndexes.get(i - 1) - 1);\r\n        for (j = 0; j &lt; k; j++) {\r\n            hintText += &quot; &quot;;\r\n            }\r\n        hintText += &quot;•&quot;;\r\n        }\r\n    publicEditor.setText(publicText);\r\n    hintEditor.setText(hintText);\r\n    rl.addView(hintEditor);\r\n    rl.addView(publicEditor);\r\n    setContentView(rl);\r\n    }\r\n```\r\n\r\nThere is a problem here. Everything is working successful but can this reference of shortened text be to typeface graphics, layout widgets or like `ReplacementSpan` objects as shortcut and acceptable?\r\n\r\nOr in alternative code, spanned text printed on two `EditText`. The method will be bottleneck for long texts. If I call `Editable` object of `publicEditor` with `getText()`, code not returned masked text object. Is this job possible with one `EditText`.\r\n\r\nShortened text issue","title":"Easy way shortened text in EditText","body":"<p>I'm looking for customizable shortcut text in Android Java. I tried this:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    String strxd = &quot;Hello World XD&quot;;\n    int xdindex = strxd.indexOf(&quot;XD&quot;);\n    EditText et = new EditText(IssueActivity.this);\n    SpannableString ss = new SpannableString(strxd);\n    ss.setSpan(\n        new ImageSpan(\n            IssueActivity.this,\n            R.drawable.xd_emoji,\n            DynamicDrawableSpan.ALIGN_BASELINE\n            ),\n        xdindex,\n        xdindex + 2,\n        0\n        );\n    et.setText(ss);\n    setContentView(et);\n    }\n</code></pre>\n<p>or like this:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    RelativeLayout rl = new RelativeLayout(IssueActivity.this);\n    rl.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    EditText publicEditor = new EditText(IssueActivity.this);\n    publicEditor.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    publicEditor.setBackgroundColor(Color.TRANSPARENT);\n    EditText hintEditor = new EditText(IssueActivity.this);\n    hintEditor.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    hintEditor.setBackgroundColor(Color.TRANSPARENT); \n    hintEditor.setTextColor(Color.GRAY);\n    String publicText = &quot;Hello World&quot;;\n    ArrayList&lt;Integer&gt; spaceIndexes = new ArrayList&lt;Integer&gt;();\n    int nextIndex = 0;\n    int tmpIndex = 0;\n    while (nextIndex != -1) {\n        tmpIndex =  publicText.substring(nextIndex).indexOf(&quot; &quot;);\n        if (tmpIndex == -1) {\n            nextIndex = -1;\n            }\n        else {\n            nextIndex += tmpIndex;\n            spaceIndexes.add(nextIndex);\n            nextIndex++;\n            }\n        }\n    String hintText = &quot;&quot;;\n    int loop = spaceIndexes.size();\n    int j = 0;\n    int k = 0;\n    for (int i = 0; i &lt; loop; i++) {\n        k = i == 0 ? spaceIndexes.get(i) : (spaceIndexes.get(i) - spaceIndexes.get(i - 1) - 1);\n        for (j = 0; j &lt; k; j++) {\n            hintText += &quot; &quot;;\n            }\n        hintText += &quot;•&quot;;\n        }\n    publicEditor.setText(publicText);\n    hintEditor.setText(hintText);\n    rl.addView(hintEditor);\n    rl.addView(publicEditor);\n    setContentView(rl);\n    }\n</code></pre>\n<p>There is a problem here. Everything is working successful but can this reference of shortened text be to typeface graphics, layout widgets or like <code>ReplacementSpan</code> objects as shortcut and acceptable?</p>\n<p>Or in alternative code, spanned text printed on two <code>EditText</code>. The method will be bottleneck for long texts. If I call <code>Editable</code> object of <code>publicEditor</code> with <code>getText()</code>, code not returned masked text object. Is this job possible with one <code>EditText</code>.</p>\n<p>Shortened text issue</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1619015242,"post_id":67197737,"comment_id":118777837,"body_markdown":"I assume your `spring.jpa.open-in-view` configuration property is set to false? I also wonder if the relation  is loaded successfully in the response, or if it also fails?","body":"I assume your <code>spring.jpa.open-in-view</code> configuration property is set to false? I also wonder if the relation  is loaded successfully in the response, or if it also fails?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1619018928,"post_id":67197737,"comment_id":118779608,"body_markdown":"Does this answer your question? [How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session](https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox\">How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session</a>"}],"answers":[{"tags":[],"owner":{"account_id":5892758,"reputation":291,"user_id":4638830,"display_name":"Andres Herrero"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1619040996,"creation_date":1619040996,"answer_id":67203798,"question_id":67197737,"body_markdown":"You are trying to use lazy data after closing a transaction, and yes, one of the ways is usage EAGER.\r\nAnother way - usage @Transactional on a method that using this data.","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>You are trying to use lazy data after closing a transaction, and yes, one of the ways is usage EAGER.\nAnother way - usage @Transactional on a method that using this data.</p>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1640166017,"creation_date":1640166017,"answer_id":70447006,"question_id":67197737,"body_markdown":"I was getting this error: \r\n&gt; Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. \r\n\r\nThis is because currently there is no session present. Hibernate opens a session and closes it, but for &quot;lazy = true&quot; or &quot;fetch = FetchType.LAZY&quot; such fields are populated by proxies. When you try to find the value for such a field, it will attempt to go to the database using the active session to retrieve the data. If no such session can be found, you get this exception.\r\n \r\nYou can fix it using &quot;lazy=false&quot; or check whether you have used @Transcational properly (try to use this in your service layer than your data access layer), you can also use\r\n\r\n\r\n&gt; @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\n\r\nOR\r\n\r\n&gt; @Transactional","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>I was getting this error:</p>\n<blockquote>\n<p>Method threw 'org.hibernate.LazyInitializationException' exception.</p>\n</blockquote>\n<p>This is because currently there is no session present. Hibernate opens a session and closes it, but for &quot;lazy = true&quot; or &quot;fetch = FetchType.LAZY&quot; such fields are populated by proxies. When you try to find the value for such a field, it will attempt to go to the database using the active session to retrieve the data. If no such session can be found, you get this exception.</p>\n<p>You can fix it using &quot;lazy=false&quot; or check whether you have used @Transcational properly (try to use this in your service layer than your data access layer), you can also use</p>\n<blockquote>\n<p>@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)</p>\n</blockquote>\n<p>OR</p>\n<blockquote>\n<p>@Transactional</p>\n</blockquote>\n"}],"owner":{"account_id":21352087,"reputation":151,"user_id":15721496,"display_name":"Skysenzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36594,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1690115582,"creation_date":1619014751,"question_id":67197737,"body_markdown":"I&#39;ve got two classes **Participant** and **TimeWindow**.\r\nMultiple participants can register for multiple TimeWindow, hence the ManyToMany relation\r\n```java\r\n@Entity\r\n@Table\r\npublic class Participant {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;participant_sequence&quot;,\r\n            sequenceName = &quot;particant_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;participant_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private String number;\r\n    private String details;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;ParticipantCreneaux&quot;)\r\n    private Collection&lt;TimeWindow&gt; registeredTimeWindow;\r\n\r\n\r\n    public Participant() {\r\n\r\n    }\r\n    public Participant(String nom, String num, String details) {\r\n        this.name = nom;\r\n        this.number = num;\r\n        this.details = details;\r\n        this.registeredTimeWindow = new ArrayList&lt;&gt;();\r\n    }\r\n    public void addTimeWindow(TimeWindow c){\r\n        registeredTimeWindow.add(c);\r\n    }\r\n    public void removeTimeWindow(TimeWindow c){\r\n        registeredTimeWindow.remove(c);\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public void setNumber(String number) {\r\n        this.number = number;\r\n    }\r\n\r\n    public String getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(String details) {\r\n        this.details = details;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public Collection&lt;TimeWindow&gt; getRegisteredTimeWindow() {\r\n        return registeredTimeWindow;\r\n    }\r\n}\r\n```\r\n\r\nAnd the TimeWindow class:\r\n```java\r\n@Entity\r\n@Table\r\npublic class TimeWindow {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;creneau_sequence&quot;,\r\n            sequenceName = &quot;creneau_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;creneau_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private LocalTime hourStart;\r\n    private LocalTime hourEnd;\r\n\r\n    public Collection&lt;Participant&gt; getListParticipants() {\r\n        return listParticipants;\r\n    }\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY,cascade=CascadeType.ALL,mappedBy = &quot;registeredTimeWindow&quot;)\r\n    private Collection&lt;Participant&gt; listParticipants;\r\n\r\n    public TimeWindow(LocalTime hourStart, LocalTime hourEnd) {\r\n        this.hourStart = hourStart;\r\n        this.hourEnd = hourEnd;\r\n        this.listParticipants = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public TimeWindow() { }\r\n\r\n    public LocalTime getHourEnd() {\r\n        return hourEnd;\r\n    }\r\n\r\n    public void setHourStart(LocalTime hourStart) {\r\n        this.hourStart = hourStart;\r\n    }\r\n\r\n    public void setHourEnd(LocalTime hourEnd) {\r\n        this.hourEnd = hourEnd;\r\n    }\r\n\r\n    public LocalTime getHourStart() {\r\n        return hourStart;\r\n    }\r\n\r\n    public int getNbParticipants(){\r\n        return listParticipants.size();\r\n    }\r\n    public void addParticipant(Participant participant){\r\n        this.listParticipants.add(participant);\r\n    }\r\n    public void removeParticipant(Participant participant){\r\n        this.listParticipants.remove(participant);\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\nRight now I&#39;m still learning Spring boot, I haven&#39;t found anything about it so far or anything that helped me. \r\n\r\nThe error is when I summon my participant&#39;s TimeWindow Collection that i&#39;ve gotten through the DataBase in the Config class. In the debugger my Participant looks like this \r\n```\r\nid:123\r\nname:&quot;hisName&quot;\r\nnumber:&quot;321&quot;\r\ndetails:&quot;some details&quot;\r\nregisteredTimeWindow:{PersistentBag@10927}Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception.\r\n```\r\nAt first i thought it was normal because of the Lazy option, i had to invoke the array through the getter, however it is wrong and the getter give me the exact same object.\r\n\r\n\r\nFetchType.EAGER works fine, however I can&#39;t afford to do it. I&#39;ve tried to get some help from someone a bit more experienced than I am, but without success. It should be possible to work around that issue within the JPA Repositories, but it feels like such a waste not to be able to use the getter.","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>I've got two classes <strong>Participant</strong> and <strong>TimeWindow</strong>.\nMultiple participants can register for multiple TimeWindow, hence the ManyToMany relation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Participant {\n    @Id\n    @SequenceGenerator(\n            name = &quot;participant_sequence&quot;,\n            sequenceName = &quot;particant_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;participant_sequence&quot;\n    )\n    private Long id;\n    private String name;\n    private String number;\n    private String details;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;ParticipantCreneaux&quot;)\n    private Collection&lt;TimeWindow&gt; registeredTimeWindow;\n\n\n    public Participant() {\n\n    }\n    public Participant(String nom, String num, String details) {\n        this.name = nom;\n        this.number = num;\n        this.details = details;\n        this.registeredTimeWindow = new ArrayList&lt;&gt;();\n    }\n    public void addTimeWindow(TimeWindow c){\n        registeredTimeWindow.add(c);\n    }\n    public void removeTimeWindow(TimeWindow c){\n        registeredTimeWindow.remove(c);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public String getDetails() {\n        return details;\n    }\n\n    public void setDetails(String details) {\n        this.details = details;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Collection&lt;TimeWindow&gt; getRegisteredTimeWindow() {\n        return registeredTimeWindow;\n    }\n}\n</code></pre>\n<p>And the TimeWindow class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class TimeWindow {\n    @Id\n    @SequenceGenerator(\n            name = &quot;creneau_sequence&quot;,\n            sequenceName = &quot;creneau_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;creneau_sequence&quot;\n    )\n    private Long id;\n    private LocalTime hourStart;\n    private LocalTime hourEnd;\n\n    public Collection&lt;Participant&gt; getListParticipants() {\n        return listParticipants;\n    }\n\n    @ManyToMany(fetch = FetchType.LAZY,cascade=CascadeType.ALL,mappedBy = &quot;registeredTimeWindow&quot;)\n    private Collection&lt;Participant&gt; listParticipants;\n\n    public TimeWindow(LocalTime hourStart, LocalTime hourEnd) {\n        this.hourStart = hourStart;\n        this.hourEnd = hourEnd;\n        this.listParticipants = new ArrayList&lt;&gt;();\n    }\n\n    public TimeWindow() { }\n\n    public LocalTime getHourEnd() {\n        return hourEnd;\n    }\n\n    public void setHourStart(LocalTime hourStart) {\n        this.hourStart = hourStart;\n    }\n\n    public void setHourEnd(LocalTime hourEnd) {\n        this.hourEnd = hourEnd;\n    }\n\n    public LocalTime getHourStart() {\n        return hourStart;\n    }\n\n    public int getNbParticipants(){\n        return listParticipants.size();\n    }\n    public void addParticipant(Participant participant){\n        this.listParticipants.add(participant);\n    }\n    public void removeParticipant(Participant participant){\n        this.listParticipants.remove(participant);\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>Right now I'm still learning Spring boot, I haven't found anything about it so far or anything that helped me.</p>\n<p>The error is when I summon my participant's TimeWindow Collection that i've gotten through the DataBase in the Config class. In the debugger my Participant looks like this</p>\n<pre><code>id:123\nname:&quot;hisName&quot;\nnumber:&quot;321&quot;\ndetails:&quot;some details&quot;\nregisteredTimeWindow:{PersistentBag@10927}Unable to evaluate the expression Method threw 'org.hibernate.LazyInitializationException' exception.\n</code></pre>\n<p>At first i thought it was normal because of the Lazy option, i had to invoke the array through the getter, however it is wrong and the getter give me the exact same object.</p>\n<p>FetchType.EAGER works fine, however I can't afford to do it. I've tried to get some help from someone a bit more experienced than I am, but without success. It should be possible to work around that issue within the JPA Repositories, but it feels like such a waste not to be able to use the getter.</p>\n"},{"tags":["java","arrays","exception","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":74379,"reputation":14630,"user_id":213758,"accept_rate":100,"display_name":"justkt"},"score":1,"creation_date":1302019079,"post_id":5554734,"comment_id":6316063,"body_markdown":"In reference to the last question, code would be helpful.  Are you accessing the array with a known index, or do you have to start debugging to figure out how the index is calculated when the error occurs?","body":"In reference to the last question, code would be helpful.  Are you accessing the array with a known index, or do you have to start debugging to figure out how the index is calculated when the error occurs?"},{"owner":{"account_id":39267,"reputation":16578,"user_id":113158,"accept_rate":88,"display_name":"Jean Hominal"},"score":51,"creation_date":1302020051,"post_id":5554734,"comment_id":6316363,"body_markdown":"Replace `i &lt;= name.length` with `i &lt; name.length` - or better, write an enhanced for loop. (`for (String aName : name) { ... }`)","body":"Replace <code>i &lt;= name.length</code> with <code>i &lt; name.length</code> - or better, write an enhanced for loop. (<code>for (String aName : name) { ... }</code>)"},{"owner":{"account_id":2288786,"reputation":10956,"user_id":2012219,"accept_rate":83,"display_name":"hbk"},"score":2,"creation_date":1361555446,"post_id":5554734,"comment_id":21121330,"body_markdown":"it means, that you want to get element of array that not exist, &#39;i&lt;=name.length&#39; means that you want to get element length+1 - its not exist.","body":"it means, that you want to get element of array that not exist, &#39;i&lt;=name.length&#39; means that you want to get element length+1 - its not exist."},{"owner":{"account_id":181829,"reputation":14000,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":1,"creation_date":1492491928,"post_id":5554734,"comment_id":73983425,"body_markdown":"https://en.wikipedia.org/wiki/Off-by-one_error","body":"<a href=\"https://en.wikipedia.org/wiki/Off-by-one_error\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Off-by-one_error</a>"},{"owner":{"account_id":13748957,"reputation":544,"user_id":10940547,"display_name":"Jyotirmay"},"score":0,"creation_date":1585197615,"post_id":5554734,"comment_id":107679581,"body_markdown":"The array goes out of bounds when the index you try to manipulate is more than the length of the array. For correctness, your indices should always be one less than the total no. of array elements because the array index starts from 0 and not 1.","body":"The array goes out of bounds when the index you try to manipulate is more than the length of the array. For correctness, your indices should always be one less than the total no. of array elements because the array index starts from 0 and not 1."}],"answers":[{"tags":[],"owner":{"account_id":183046,"reputation":39445,"user_id":418183,"accept_rate":100,"display_name":"Octavian Helm"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1302019291,"creation_date":1302018957,"answer_id":5554757,"question_id":5554734,"body_markdown":"It means that you are trying to access an index of an array which is not valid as it is not in between the bounds.\r\n\r\nFor example this would initialize a primitive integer array with the upper bound 4.\r\n\r\n    int intArray[] = new int[5];\r\n\r\nProgrammers count from zero. So this for example would throw an `ArrayIndexOutOfBoundsException` as the upper bound is 4 and not 5.\r\n\r\n    intArray[5];","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>It means that you are trying to access an index of an array which is not valid as it is not in between the bounds.</p>\n\n<p>For example this would initialize a primitive integer array with the upper bound 4.</p>\n\n<pre><code>int intArray[] = new int[5];\n</code></pre>\n\n<p>Programmers count from zero. So this for example would throw an <code>ArrayIndexOutOfBoundsException</code> as the upper bound is 4 and not 5.</p>\n\n<pre><code>intArray[5];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":345,"is_accepted":true,"score":345,"last_activity_date":1445031506,"creation_date":1302019067,"answer_id":5554781,"question_id":5554734,"body_markdown":"Your first port of call should be the [documentation][1] which explains it reasonably clearly:\r\n\r\n&gt; Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.\r\n\r\nSo for example:\r\n\r\n    int[] array = new int[5];\r\n    int boom = array[10]; // Throws the exception\r\n\r\nAs for how to avoid it... um, don&#39;t do that. Be careful with your array indexes.\r\n\r\nOne problem people sometimes run into is thinking that arrays are 1-indexed, e.g.\r\n\r\n    int[] array = new int[5];\r\n    // ... populate the array here ...\r\n    for (int index = 1; index &lt;= array.length; index++)\r\n    {\r\n        System.out.println(array[index]);\r\n    }\r\n\r\nThat will miss out the first element (index 0) and throw an exception when index is 5. The valid indexes here are 0-4 inclusive. The correct, idiomatic `for` statement here would be:\r\n\r\n    for (int index = 0; index &lt; array.length; index++)\r\n\r\n(That&#39;s assuming you *need* the index, of course. If you can use the enhanced for loop instead, do so.)\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ArrayIndexOutOfBoundsException.html","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Your first port of call should be the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"noreferrer\">documentation</a> which explains it reasonably clearly:</p>\n\n<blockquote>\n  <p>Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.</p>\n</blockquote>\n\n<p>So for example:</p>\n\n<pre><code>int[] array = new int[5];\nint boom = array[10]; // Throws the exception\n</code></pre>\n\n<p>As for how to avoid it... um, don't do that. Be careful with your array indexes.</p>\n\n<p>One problem people sometimes run into is thinking that arrays are 1-indexed, e.g.</p>\n\n<pre><code>int[] array = new int[5];\n// ... populate the array here ...\nfor (int index = 1; index &lt;= array.length; index++)\n{\n    System.out.println(array[index]);\n}\n</code></pre>\n\n<p>That will miss out the first element (index 0) and throw an exception when index is 5. The valid indexes here are 0-4 inclusive. The correct, idiomatic <code>for</code> statement here would be:</p>\n\n<pre><code>for (int index = 0; index &lt; array.length; index++)\n</code></pre>\n\n<p>(That's assuming you <em>need</em> the index, of course. If you can use the enhanced for loop instead, do so.)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1685793771,"creation_date":1302019188,"answer_id":5554811,"question_id":5554734,"body_markdown":"Basically:\r\n\r\n    if (index &lt; 0 || index &gt;= array.length) {\r\n        // Don&#39;t use this index. This is out of bounds (borders, limits, whatever).\r\n    } else {\r\n        // Yes, you can safely use this index. The index is present in the array.\r\n        Object element = array[index];\r\n    }\r\n\r\nIn your specific case,\r\n\r\n    for (int i = 0; i&lt;=name.length; i++)\r\n\r\nthe index is inclusive the array&#39;s length. This is out of bounds. You need to replace `&lt;=` by `&lt;`.\r\n\r\n    for (int i = 0; i &lt; name.length; i++)\r\n\r\n### See also:\r\n\r\n- [The Java Tutorials - Language Basics - Arrays][1]\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Basically:</p>\n<pre><code>if (index &lt; 0 || index &gt;= array.length) {\n    // Don't use this index. This is out of bounds (borders, limits, whatever).\n} else {\n    // Yes, you can safely use this index. The index is present in the array.\n    Object element = array[index];\n}\n</code></pre>\n<p>In your specific case,</p>\n<pre><code>for (int i = 0; i&lt;=name.length; i++)\n</code></pre>\n<p>the index is inclusive the array's length. This is out of bounds. You need to replace <code>&lt;=</code> by <code>&lt;</code>.</p>\n<pre><code>for (int i = 0; i &lt; name.length; i++)\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">The Java Tutorials - Language Basics - Arrays</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":223013,"reputation":958,"user_id":481963,"display_name":"Kyri Sarantakos"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513504474,"creation_date":1302019597,"answer_id":5554895,"question_id":5554734,"body_markdown":"The most common case I&#39;ve seen for seemingly mysterious ArrayIndexOutOfBoundsExceptions, i.e. apparently not caused by your own array handling code, is the concurrent use of SimpleDateFormat. Particularly in a servlet or controller:\r\n\r\n    public class MyController {\r\n      SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\r\n      public void handleRequest(ServletRequest req, ServletResponse res) {\r\n        Date date = dateFormat.parse(req.getParameter(&quot;date&quot;));\r\n      }\r\n    }\r\n\r\nIf two threads enter the SimplateDateFormat.parse() method together you will likely see an ArrayIndexOutOfBoundsException. Note the synchronization section of the [class javadoc for SimpleDateFormat][1].\r\n\r\nMake sure there is no place in your code that are accessing thread unsafe classes like SimpleDateFormat in a concurrent manner like in a servlet or controller. Check all instance variables of your servlets and controllers for likely suspects.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>The most common case I've seen for seemingly mysterious ArrayIndexOutOfBoundsExceptions, i.e. apparently not caused by your own array handling code, is the concurrent use of SimpleDateFormat. Particularly in a servlet or controller:</p>\n\n<pre><code>public class MyController {\n  SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\n\n  public void handleRequest(ServletRequest req, ServletResponse res) {\n    Date date = dateFormat.parse(req.getParameter(\"date\"));\n  }\n}\n</code></pre>\n\n<p>If two threads enter the SimplateDateFormat.parse() method together you will likely see an ArrayIndexOutOfBoundsException. Note the synchronization section of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">class javadoc for SimpleDateFormat</a>.</p>\n\n<p>Make sure there is no place in your code that are accessing thread unsafe classes like SimpleDateFormat in a concurrent manner like in a servlet or controller. Check all instance variables of your servlets and controllers for likely suspects.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1570550547,"creation_date":1302020109,"answer_id":5554998,"question_id":5554734,"body_markdown":"From this excellent article: [ArrayIndexOutOfBoundsException in for loop](https://programming.guide/java/arrayindexoutofboundsexception-in-for-loop.html)\r\n\r\nTo put it briefly:\r\n\r\nIn the last iteration of\r\n\r\n    for (int i = 0; i &lt;= name.length; i++) {\r\n\r\n`i` will equal `name.length` which is an illegal index, since array indices are zero-based.\r\n\r\nYour code should read\r\n\r\n    for (int i = 0; i &lt; name.length; i++) \r\n                      ^","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>From this excellent article: <a href=\"https://programming.guide/java/arrayindexoutofboundsexception-in-for-loop.html\" rel=\"noreferrer\">ArrayIndexOutOfBoundsException in for loop</a></p>\n\n<p>To put it briefly:</p>\n\n<p>In the last iteration of</p>\n\n<pre><code>for (int i = 0; i &lt;= name.length; i++) {\n</code></pre>\n\n<p><code>i</code> will equal <code>name.length</code> which is an illegal index, since array indices are zero-based.</p>\n\n<p>Your code should read</p>\n\n<pre><code>for (int i = 0; i &lt; name.length; i++) \n                  ^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1445252418,"creation_date":1445031956,"answer_id":33180044,"question_id":5554734,"body_markdown":"To avoid an array index out-of-bounds exception, one should use the [enhanced-`for`](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) statement where and when they can.\r\n\r\nThe primary motivation (and use case) is when you are iterating and you do not require any complicated iteration steps.  You would *not* be able to use an enhanced-`for` to move backwards in an array or only iterate on every other element.\r\n\r\nYou&#39;re guaranteed not to run out of elements to iterate over when doing this, and your [corrected] example is easily converted over.\r\n\r\nThe code below:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt; name.length; i++) {\r\n        System.out.print(name[i] + &quot;\\n&quot;);\r\n    }\r\n\r\n...is equivalent to this:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(String firstName : name) {\r\n        System.out.println(firstName + &quot;\\n&quot;);\r\n    }","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>To avoid an array index out-of-bounds exception, one should use the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"noreferrer\">enhanced-<code>for</code></a> statement where and when they can.</p>\n\n<p>The primary motivation (and use case) is when you are iterating and you do not require any complicated iteration steps.  You would <em>not</em> be able to use an enhanced-<code>for</code> to move backwards in an array or only iterate on every other element.</p>\n\n<p>You're guaranteed not to run out of elements to iterate over when doing this, and your [corrected] example is easily converted over.</p>\n\n<p>The code below:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt; name.length; i++) {\n    System.out.print(name[i] + \"\\n\");\n}\n</code></pre>\n\n<p>...is equivalent to this:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(String firstName : name) {\n    System.out.println(firstName + \"\\n\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1671917155,"creation_date":1453222556,"answer_id":34882569,"question_id":5554734,"body_markdown":"**What causes `ArrayIndexOutOfBoundsException`?**\r\n\r\nIf you think of a variable as a &quot;box&quot; where you can place a value, then an array is a series of boxes placed next to each other, where the number of boxes is a finite and explicit integer.\r\n\r\nCreating an array like this:\r\n\r\n    final int[] myArray = new int[5]\r\n\r\ncreates a row of 5 boxes, each holding an `int`. Each of the boxes has an index, a position in the series of boxes. This index starts at 0 and ends at N-1, where N is the size of the array (the number of boxes).\r\n\r\nTo retrieve one of the values from this series of boxes, you can refer to it through its index, like this:\r\n\r\n    myArray[3]\r\n\r\nWhich will give you the value of the 4th box in the series (since the first box has an index of 0).\r\n\r\nAn `ArrayIndexOutOfBoundsException` is caused by trying to retrieve a &quot;box&quot; that does not exist, by passing an index that is higher than the index of the last &quot;box&quot;, or negative.\r\n\r\nWith my running example, these code snippets would produce such an exception:\r\n\r\n    myArray[5] //tries to retrieve the 6th &quot;box&quot; when there is only 5\r\n    myArray[-1] //just makes no sense\r\n    myArray[1337] //way to high\r\n\r\n**How to avoid `ArrayIndexOutOfBoundsException`**\r\n\r\nIn order to prevent `ArrayIndexOutOfBoundsException`, there are some key points to consider:\r\n\r\n**Looping**\r\n\r\nWhen looping through an array, always make sure that the index you are retrieving is strictly smaller than the length of the array (the number of boxes). For instance:\r\n\r\n    for (int i = 0; i &lt; myArray.length; i++) {\r\n\r\nNotice the `&lt;`, never mix a `=` in there..\r\n\r\nYou might want to be tempted to do something like this:\r\n\r\n    for (int i = 1; i &lt;= myArray.length; i++) {\r\n        final int someint = myArray[i - 1]\r\n\r\nJust don&#39;t. Stick to the one above (if you need to use the index) and it will save you a lot of pain.\r\n\r\nWhere possible, use foreach:\r\n\r\n    for (int value : myArray) {\r\n\r\nThis way you won&#39;t have to think about indexes at all.\r\n\r\nWhen looping, whatever you do, NEVER change the value of the loop iterator (here: `i`). The only place this should change value is to keep the loop going. Changing it otherwise is just risking an exception, and is in most cases not necessary.\r\n\r\n**Retrieval/update**\r\n\r\nWhen retrieving an arbitrary element of the array, always check that it is a valid index against the length of the array:\r\n\r\n    public Integer getArrayElement(final int index) {\r\n        if (index &lt; 0 || index &gt;= myArray.length) {\r\n            return null; //although I would much prefer an actual exception being thrown when this happens.\r\n        }\r\n        return myArray[index];\r\n    }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><strong>What causes <code>ArrayIndexOutOfBoundsException</code>?</strong></p>\n<p>If you think of a variable as a &quot;box&quot; where you can place a value, then an array is a series of boxes placed next to each other, where the number of boxes is a finite and explicit integer.</p>\n<p>Creating an array like this:</p>\n<pre><code>final int[] myArray = new int[5]\n</code></pre>\n<p>creates a row of 5 boxes, each holding an <code>int</code>. Each of the boxes has an index, a position in the series of boxes. This index starts at 0 and ends at N-1, where N is the size of the array (the number of boxes).</p>\n<p>To retrieve one of the values from this series of boxes, you can refer to it through its index, like this:</p>\n<pre><code>myArray[3]\n</code></pre>\n<p>Which will give you the value of the 4th box in the series (since the first box has an index of 0).</p>\n<p>An <code>ArrayIndexOutOfBoundsException</code> is caused by trying to retrieve a &quot;box&quot; that does not exist, by passing an index that is higher than the index of the last &quot;box&quot;, or negative.</p>\n<p>With my running example, these code snippets would produce such an exception:</p>\n<pre><code>myArray[5] //tries to retrieve the 6th &quot;box&quot; when there is only 5\nmyArray[-1] //just makes no sense\nmyArray[1337] //way to high\n</code></pre>\n<p><strong>How to avoid <code>ArrayIndexOutOfBoundsException</code></strong></p>\n<p>In order to prevent <code>ArrayIndexOutOfBoundsException</code>, there are some key points to consider:</p>\n<p><strong>Looping</strong></p>\n<p>When looping through an array, always make sure that the index you are retrieving is strictly smaller than the length of the array (the number of boxes). For instance:</p>\n<pre><code>for (int i = 0; i &lt; myArray.length; i++) {\n</code></pre>\n<p>Notice the <code>&lt;</code>, never mix a <code>=</code> in there..</p>\n<p>You might want to be tempted to do something like this:</p>\n<pre><code>for (int i = 1; i &lt;= myArray.length; i++) {\n    final int someint = myArray[i - 1]\n</code></pre>\n<p>Just don't. Stick to the one above (if you need to use the index) and it will save you a lot of pain.</p>\n<p>Where possible, use foreach:</p>\n<pre><code>for (int value : myArray) {\n</code></pre>\n<p>This way you won't have to think about indexes at all.</p>\n<p>When looping, whatever you do, NEVER change the value of the loop iterator (here: <code>i</code>). The only place this should change value is to keep the loop going. Changing it otherwise is just risking an exception, and is in most cases not necessary.</p>\n<p><strong>Retrieval/update</strong></p>\n<p>When retrieving an arbitrary element of the array, always check that it is a valid index against the length of the array:</p>\n<pre><code>public Integer getArrayElement(final int index) {\n    if (index &lt; 0 || index &gt;= myArray.length) {\n        return null; //although I would much prefer an actual exception being thrown when this happens.\n    }\n    return myArray[index];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5381284,"reputation":885,"user_id":4336546,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513504686,"creation_date":1478852517,"answer_id":40543866,"question_id":5554734,"body_markdown":"**For any array of length n, elements of the array will have an index from 0 to n-1.**\r\n\r\nIf your program is trying to access any element (or memory) having array index greater than n-1, then Java will throw **ArrayIndexOutOfBoundsException**\r\n\r\nSo here are two solutions that we can use in a program\r\n\r\n1. Maintaining count:\r\n\r\n        for(int count = 0; count &lt; array.length; count++) {\r\n            System.out.println(array[count]);\r\n        }\r\n\r\n    Or some other looping statement like\r\n\r\n        int count = 0;\r\n        while(count &lt; array.length) {\r\n            System.out.println(array[count]);\r\n            count++;\r\n        }\r\n\r\n2. A better way go with a for each loop, in this method a programmer has no need to bother about the number of elements in the array.\r\n\r\n        for(String str : array) {\r\n            System.out.println(str);\r\n        }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><strong>For any array of length n, elements of the array will have an index from 0 to n-1.</strong></p>\n\n<p>If your program is trying to access any element (or memory) having array index greater than n-1, then Java will throw <strong>ArrayIndexOutOfBoundsException</strong></p>\n\n<p>So here are two solutions that we can use in a program</p>\n\n<ol>\n<li><p>Maintaining count:</p>\n\n<pre><code>for(int count = 0; count &lt; array.length; count++) {\n    System.out.println(array[count]);\n}\n</code></pre>\n\n<p>Or some other looping statement like</p>\n\n<pre><code>int count = 0;\nwhile(count &lt; array.length) {\n    System.out.println(array[count]);\n    count++;\n}\n</code></pre></li>\n<li><p>A better way go with a for each loop, in this method a programmer has no need to bother about the number of elements in the array.</p>\n\n<pre><code>for(String str : array) {\n    System.out.println(str);\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513504809,"creation_date":1488790811,"answer_id":42621364,"question_id":5554734,"body_markdown":"You are getting `ArrayIndexOutOfBoundsException` due to `i&lt;=name.length` part. `name.length` return the length of the string `name`, which is 3. Hence when you try to access `name[3]`, it&#39;s illegal and throws an exception.\r\n\r\nResolved code:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i &lt; name.length; i++) { //use &lt; insteadof &lt;=\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\nIt&#39;s defined in the [Java language specification][1]:\r\n\r\n&gt; The `public final` field `length`, which contains the number of components\r\n&gt; of the array. `length` may be positive or zero.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>You are getting <code>ArrayIndexOutOfBoundsException</code> due to <code>i&lt;=name.length</code> part. <code>name.length</code> return the length of the string <code>name</code>, which is 3. Hence when you try to access <code>name[3]</code>, it's illegal and throws an exception.</p>\n\n<p>Resolved code:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i &lt; name.length; i++) { //use &lt; insteadof &lt;=\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n\n<p>It's defined in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\" rel=\"nofollow noreferrer\">Java language specification</a>:</p>\n\n<blockquote>\n  <p>The <code>public final</code> field <code>length</code>, which contains the number of components\n  of the array. <code>length</code> may be positive or zero.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4097798,"reputation":315,"user_id":3364088,"display_name":"Johny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513504924,"creation_date":1488977772,"answer_id":42671988,"question_id":5554734,"body_markdown":"[![Array index out of bounds exception][1]][1]\r\n\r\nThat&#39;s how this type of exception looks when thrown in Eclipse. The number in red signifies the index you tried to access. So the code would look like this:\r\n\r\n    myArray[5]\r\n\r\nThe error is thrown when you try to access an index which doesn&#39;t exist in that array. If an array has a length of 3,\r\n\r\n    int[] intArray = new int[3];\r\n\r\nthen the only valid indexes are:\r\n\r\n    intArray[0]\r\n    intArray[1]\r\n    intArray[2]\r\n\r\nIf an array has a length of 1,\r\n\r\n    int[] intArray = new int[1];\r\n\r\nthen the only valid index is:\r\n\r\n    intArray[0]\r\n\r\nAny integer equal to the length of the array, or bigger than it: is out of bounds.\r\n\r\nAny integer less than 0: is out of bounds;\r\n\r\nP.S.: If you look to have a better understanding of arrays and do some practical exercises, there&#39;s a video here: [tutorial on arrays in Java][2]\r\n\r\n  [1]: https://i.stack.imgur.com/pjfvS.png\r\n  [2]: https://www.youtube.com/watch?v=k1i42DMrcMk &quot;Arrays in Java&quot;\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><a href=\"https://i.stack.imgur.com/pjfvS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjfvS.png\" alt=\"Array index out of bounds exception\"></a></p>\n\n<p>That's how this type of exception looks when thrown in Eclipse. The number in red signifies the index you tried to access. So the code would look like this:</p>\n\n<pre><code>myArray[5]\n</code></pre>\n\n<p>The error is thrown when you try to access an index which doesn't exist in that array. If an array has a length of 3,</p>\n\n<pre><code>int[] intArray = new int[3];\n</code></pre>\n\n<p>then the only valid indexes are:</p>\n\n<pre><code>intArray[0]\nintArray[1]\nintArray[2]\n</code></pre>\n\n<p>If an array has a length of 1,</p>\n\n<pre><code>int[] intArray = new int[1];\n</code></pre>\n\n<p>then the only valid index is:</p>\n\n<pre><code>intArray[0]\n</code></pre>\n\n<p>Any integer equal to the length of the array, or bigger than it: is out of bounds.</p>\n\n<p>Any integer less than 0: is out of bounds;</p>\n\n<p>P.S.: If you look to have a better understanding of arrays and do some practical exercises, there's a video here: <a href=\"https://www.youtube.com/watch?v=k1i42DMrcMk\" rel=\"nofollow noreferrer\" title=\"Arrays in Java\">tutorial on arrays in Java</a></p>\n"},{"tags":[],"owner":{"account_id":10103446,"reputation":543,"user_id":7466782,"display_name":"Madhusudan chowdary"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1606216705,"creation_date":1498021065,"answer_id":44667145,"question_id":5554734,"body_markdown":"In your code you have accessed the elements from index 0 to the length of the string array. `name.length` gives the number of string objects in your array of string objects i.e. 3, but you can access only up to index 2 `name[2]`,\r\nbecause the array can be accessed from index 0 to `name.length - 1` where you get `name.length` number of objects.\r\n\r\nEven while using a `for` loop you have started with index zero and you should end with `name.length - 1`. In an array a[n] you can access form a[0] to a[n-1].\r\n\r\nFor example:\r\n\r\n    String[] a={&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ..., &quot;strn&quot;};\r\n\r\n    for(int i=0; i&lt;a.length(); i++)\r\n        System.out.println(a[i]);\r\n\r\nIn your case:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>In your code you have accessed the elements from index 0 to the length of the string array. <code>name.length</code> gives the number of string objects in your array of string objects i.e. 3, but you can access only up to index 2 <code>name[2]</code>,\nbecause the array can be accessed from index 0 to <code>name.length - 1</code> where you get <code>name.length</code> number of objects.</p>\n<p>Even while using a <code>for</code> loop you have started with index zero and you should end with <code>name.length - 1</code>. In an array a[n] you can access form a[0] to a[n-1].</p>\n<p>For example:</p>\n<pre><code>String[] a={&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ..., &quot;strn&quot;};\n\nfor(int i=0; i&lt;a.length(); i++)\n    System.out.println(a[i]);\n</code></pre>\n<p>In your case:</p>\n<pre><code>String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\n\nfor(int i = 0; i&lt;=name.length; i++) {\n    System.out.print(name[i] +'\\n');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5160541,"reputation":357,"user_id":5332993,"accept_rate":40,"display_name":"Satyendra Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508917107,"creation_date":1508917107,"answer_id":46926619,"question_id":5554734,"body_markdown":"So much for this simple question, but I just wanted to highlight a new feature in Java which will avoid all confusions around indexing in arrays even for beginners. Java-8 has abstracted the task of iterating for you.\r\n\r\n    int[] array = new int[5];\r\n    \r\n    //If you need just the items\r\n    Arrays.stream(array).forEach(item -&gt; { println(item); });\r\n\r\n    //If you need the index as well\r\n    IntStream.range(0, array.length).forEach(index -&gt; { println(array[index]); })\r\nWhat&#39;s the benefit? Well, one thing is the readability like English. Second, you need not worry about the `ArrayIndexOutOfBoundsException `","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>So much for this simple question, but I just wanted to highlight a new feature in Java which will avoid all confusions around indexing in arrays even for beginners. Java-8 has abstracted the task of iterating for you.</p>\n\n<pre><code>int[] array = new int[5];\n\n//If you need just the items\nArrays.stream(array).forEach(item -&gt; { println(item); });\n\n//If you need the index as well\nIntStream.range(0, array.length).forEach(index -&gt; { println(array[index]); })\n</code></pre>\n\n<p>What's the benefit? Well, one thing is the readability like English. Second, you need not worry about the <code>ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1512060077,"creation_date":1512060077,"answer_id":47578376,"question_id":5554734,"body_markdown":"`ArrayIndexOutOfBoundsException` means that you are trying to access an index of the array that does not exist or out of the bound of this array. Array indexes start from **0** and end at **length - 1**. \r\n\r\nIn your case \r\n\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;); // i goes from 0 to length, Not correct\r\n    }\r\n\r\n`ArrayIndexOutOfBoundsException` happens when you are trying to access \r\nthe name.length indexed element which does not exist (array index ends at  length -1). just replacing &lt;= with &lt; would solve this problem. \r\n\r\n    for(int i = 0; i &lt; name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;);  // i goes from 0 to length - 1, Correct\r\n    }\r\n \r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><code>ArrayIndexOutOfBoundsException</code> means that you are trying to access an index of the array that does not exist or out of the bound of this array. Array indexes start from <strong>0</strong> and end at <strong>length - 1</strong>. </p>\n\n<p>In your case </p>\n\n<pre><code>for(int i = 0; i&lt;=name.length; i++) {\n    System.out.print(name[i] +'\\n'); // i goes from 0 to length, Not correct\n}\n</code></pre>\n\n<p><code>ArrayIndexOutOfBoundsException</code> happens when you are trying to access \nthe name.length indexed element which does not exist (array index ends at  length -1). just replacing &lt;= with &lt; would solve this problem. </p>\n\n<pre><code>for(int i = 0; i &lt; name.length; i++) {\n    System.out.print(name[i] +'\\n');  // i goes from 0 to length - 1, Correct\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5702921,"reputation":108,"user_id":4507377,"display_name":"nIKHIL"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516104813,"creation_date":1516104813,"answer_id":48281013,"question_id":5554734,"body_markdown":"For your given array the length of the array is 3(i.e. name.length = 3). But as it stores element starting from index 0, it has max index 2.\r\n\r\nSo, instead of  &#39;i**&lt;=**name.length&#39; you should write &#39;i**&lt;**name.length&#39; to avoid &#39;ArrayIndexOutOfBoundsException&#39;.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>For your given array the length of the array is 3(i.e. name.length = 3). But as it stores element starting from index 0, it has max index 2.</p>\n\n<p>So, instead of  'i**&lt;=<strong>name.length' you should write 'i</strong>&lt;**name.length' to avoid 'ArrayIndexOutOfBoundsException'.</p>\n"},{"tags":[],"owner":{"account_id":12547245,"reputation":63,"user_id":9130097,"display_name":"Abhishek Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522059360,"creation_date":1522051719,"answer_id":49486727,"question_id":5554734,"body_markdown":"According to your Code :\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\nIf You check\r\nSystem.out.print(name.length);\r\n\r\nyou will get 3;\r\n\r\nthat mean your name length is 3\r\n\r\nyour loop is running from 0 to 3 \r\nwhich should be running either &quot;0 to 2&quot; or &quot;1 to 3&quot;\r\n\r\n**Answer**\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt;name.length; i++) {\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>According to your Code :</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt;=name.length; i++) {\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n\n<p>If You check\nSystem.out.print(name.length);</p>\n\n<p>you will get 3;</p>\n\n<p>that mean your name length is 3</p>\n\n<p>your loop is running from 0 to 3 \nwhich should be running either \"0 to 2\" or \"1 to 3\"</p>\n\n<p><strong>Answer</strong></p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt;name.length; i++) {\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13523589,"reputation":60,"user_id":9756048,"display_name":"Madhusudan Sharma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526528818,"creation_date":1526527678,"answer_id":50382905,"question_id":5554734,"body_markdown":"`ArrayIndexOutOfBoundsException` name itself explains that If you trying to access the value at the index which is out of the scope of Array size then such kind of exception occur. \r\n\r\nIn your case, You can just remove equal sign from your for loop.\r\n\r\n    for(int i = 0; i&lt;name.length; i++)\r\n\r\nThe better option is to iterate an array: \r\n\r\n    for(String i : name )\r\n          System.out.println(i);","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><code>ArrayIndexOutOfBoundsException</code> name itself explains that If you trying to access the value at the index which is out of the scope of Array size then such kind of exception occur. </p>\n\n<p>In your case, You can just remove equal sign from your for loop.</p>\n\n<pre><code>for(int i = 0; i&lt;name.length; i++)\n</code></pre>\n\n<p>The better option is to iterate an array: </p>\n\n<pre><code>for(String i : name )\n      System.out.println(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528832498,"creation_date":1528832498,"answer_id":50824686,"question_id":5554734,"body_markdown":"For multidimensional arrays, it can be tricky to make sure you access the `length` property of the right dimension. Take the following code for example:\r\n\r\n    int [][][] a  = new int [2][3][4];\r\n\r\n    for(int i = 0; i &lt; a.length; i++){\r\n        for(int j = 0; j &lt; a[i].length; j++){\r\n            for(int k = 0; k &lt; a[j].length; k++){\r\n                System.out.print(a[i][j][k]);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nEach dimension has a different length, so the subtle bug is that the middle and inner loops use the `length` property of the same dimension (because `a[i].length` is the same as `a[j].length`).\r\n\r\nInstead, the inner loop should use `a[i][j].length` (or `a[0][0].length`, for simplicity).","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>For multidimensional arrays, it can be tricky to make sure you access the <code>length</code> property of the right dimension. Take the following code for example:</p>\n\n<pre><code>int [][][] a  = new int [2][3][4];\n\nfor(int i = 0; i &lt; a.length; i++){\n    for(int j = 0; j &lt; a[i].length; j++){\n        for(int k = 0; k &lt; a[j].length; k++){\n            System.out.print(a[i][j][k]);\n        }\n        System.out.println();\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>Each dimension has a different length, so the subtle bug is that the middle and inner loops use the <code>length</code> property of the same dimension (because <code>a[i].length</code> is the same as <code>a[j].length</code>).</p>\n\n<p>Instead, the inner loop should use <code>a[i][j].length</code> (or <code>a[0][0].length</code>, for simplicity).</p>\n"},{"tags":[],"owner":{"account_id":13274351,"reputation":163,"user_id":9584195,"display_name":"Gayan Sampath"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1531796625,"creation_date":1531796625,"answer_id":51372649,"question_id":5554734,"body_markdown":"This error is occurs at runs loop  overlimit times.Let&#39;s consider simple example like this,\r\n\r\n    class demo{\r\n\t  public static void main(String a[]){\r\n\r\n\t\tint[] numberArray={4,8,2,3,89,5};\r\n\r\n\t\tint i;\r\n\t\t\r\n\t\tfor(i=0;i&lt;numberArray.length;i++){\r\n\t\t\tSystem.out.print(numberArray[i+1]+&quot;  &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\nAt first, I have initialized an array as &#39;numberArray&#39;. then , some array elements are printed using for loop. When loop is running &#39;i&#39; time , print the (numberArray[i+1] element..(when i value is 1, numberArray[i+1] element is printed.)..Suppose that, when i=(numberArray.length-2), last element of array is printed..When &#39;i&#39; value goes to (numberArray.length-1) , no value for printing..In that point , &#39;ArrayIndexOutOfBoundsException&#39; is occur.I hope to you could get idea.thank you !","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>This error is occurs at runs loop  overlimit times.Let's consider simple example like this,</p>\n\n<pre><code>class demo{\n  public static void main(String a[]){\n\n    int[] numberArray={4,8,2,3,89,5};\n\n    int i;\n\n    for(i=0;i&lt;numberArray.length;i++){\n        System.out.print(numberArray[i+1]+\"  \");\n    }\n}\n</code></pre>\n\n<p>At first, I have initialized an array as 'numberArray'. then , some array elements are printed using for loop. When loop is running 'i' time , print the (numberArray[i+1] element..(when i value is 1, numberArray[i+1] element is printed.)..Suppose that, when i=(numberArray.length-2), last element of array is printed..When 'i' value goes to (numberArray.length-1) , no value for printing..In that point , 'ArrayIndexOutOfBoundsException' is occur.I hope to you could get idea.thank you !</p>\n"},{"tags":[],"owner":{"account_id":10187245,"reputation":442,"user_id":7521742,"display_name":"sgrpwr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537007358,"creation_date":1537007358,"answer_id":52343850,"question_id":5554734,"body_markdown":"ArrayIndexOutOfBoundsException whenever this exception is coming it mean you are trying to use an index of array which is out of its bounds or in lay man terms you are requesting more than than you have initialised.\r\n\r\nTo prevent this always make sure that you are not requesting a index which is not present in array i.e. if array length is 10 then your index must range between 0 to 9","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>ArrayIndexOutOfBoundsException whenever this exception is coming it mean you are trying to use an index of array which is out of its bounds or in lay man terms you are requesting more than than you have initialised.</p>\n\n<p>To prevent this always make sure that you are not requesting a index which is not present in array i.e. if array length is 10 then your index must range between 0 to 9</p>\n"},{"tags":[],"owner":{"account_id":7517862,"reputation":374,"user_id":5710725,"display_name":"ZiadM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539854667,"creation_date":1539854667,"answer_id":52870938,"question_id":5554734,"body_markdown":"Each item in an array is called an element, and each element is accessed by its numerical index. As shown in the preceding illustration, **numbering begins with 0**. The 9th element, for example, would therefore be accessed at index 8.\r\n\r\nIndexOutOfBoundsException is thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range.\r\n\r\nAny array X, can be accessed from [0 to (X.length - 1)]\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Each item in an array is called an element, and each element is accessed by its numerical index. As shown in the preceding illustration, <strong>numbering begins with 0</strong>. The 9th element, for example, would therefore be accessed at index 8.</p>\n\n<p>IndexOutOfBoundsException is thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range.</p>\n\n<p>Any array X, can be accessed from [0 to (X.length - 1)]</p>\n"},{"tags":[],"owner":{"account_id":5705184,"reputation":579,"user_id":4508988,"display_name":"John Czukkermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542132503,"creation_date":1542132503,"answer_id":53287081,"question_id":5554734,"body_markdown":"I see all the answers here explaining how to work with arrays and how to avoid the index out of bounds exceptions.  I personally avoid arrays at all costs.  I use the Collections classes, which avoids all the silliness of having to deal with array indices entirely.  The looping constructs work beautifully with collections supporting code that is both easier to write, understand and maintain.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>I see all the answers here explaining how to work with arrays and how to avoid the index out of bounds exceptions.  I personally avoid arrays at all costs.  I use the Collections classes, which avoids all the silliness of having to deal with array indices entirely.  The looping constructs work beautifully with collections supporting code that is both easier to write, understand and maintain.</p>\n"},{"tags":[],"owner":{"display_name":"user10486861"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544749018,"creation_date":1544746126,"answer_id":53771839,"question_id":5554734,"body_markdown":"ArrayIndexOutOfBounds means you are trying to index a position within an array that is not allocated.\r\n\r\nIn this case:\r\n\r\n    String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    for (int i = 0; i &lt;= name.length; i++) {\r\n        System.out.println(name[i]);\r\n    }\r\n\r\n - name.length is 3 since the array has been defined with 3 String objects.\r\n - When accessing the contents of an array, position starts from 0. Since there are 3 items, it would mean name[0]=&quot;tom&quot;, name[1]=&quot;dick&quot; and name[2]=&quot;harry\r\n - When you loop, since *i* can be less than or equal to name.length, you are trying to access name[3] which is not available.\r\n\r\nTo get around this... \r\n\r\n - In your for loop, you can do i &lt; name.length. This would prevent looping to name[3] and would instead stop at name[2]\r\n\r\n   `for(int i = 0; i&lt;name.length; i++)`\r\n - Use a for each loop\r\n\r\n    `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    for(String n : name) {\r\n        System.out.println(n);\r\n    }`\r\n - Use list.forEach(Consumer&lt;? super T&gt; action) (requires Java8)\r\n\r\n   `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n   Arrays.asList(name).forEach(System.out::println);`\r\n - Convert array to stream - this is a good option if you want to perform additional &#39;operations&#39; to your array e.g. filter, transform the text, convert to a map etc (requires Java8)\r\n\r\n   `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    ---  Arrays.asList(name).stream().forEach(System.out::println);\r\n    ---  Stream.of(name).forEach(System.out::println);`","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>ArrayIndexOutOfBounds means you are trying to index a position within an array that is not allocated.</p>\n\n<p>In this case:</p>\n\n<pre><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nfor (int i = 0; i &lt;= name.length; i++) {\n    System.out.println(name[i]);\n}\n</code></pre>\n\n<ul>\n<li>name.length is 3 since the array has been defined with 3 String objects.</li>\n<li>When accessing the contents of an array, position starts from 0. Since there are 3 items, it would mean name[0]=\"tom\", name[1]=\"dick\" and name[2]=\"harry</li>\n<li>When you loop, since <em>i</em> can be less than or equal to name.length, you are trying to access name[3] which is not available.</li>\n</ul>\n\n<p>To get around this... </p>\n\n<ul>\n<li><p>In your for loop, you can do i &lt; name.length. This would prevent looping to name[3] and would instead stop at name[2]</p>\n\n<p><code>for(int i = 0; i&lt;name.length; i++)</code></p></li>\n<li><p>Use a for each loop</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nfor(String n : name) {\n    System.out.println(n);\n}</code></p></li>\n<li><p>Use list.forEach(Consumer action) (requires Java8)</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nArrays.asList(name).forEach(System.out::println);</code></p></li>\n<li><p>Convert array to stream - this is a good option if you want to perform additional 'operations' to your array e.g. filter, transform the text, convert to a map etc (requires Java8)</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\n---  Arrays.asList(name).stream().forEach(System.out::println);\n---  Stream.of(name).forEach(System.out::println);</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13069368,"reputation":386,"user_id":9443465,"display_name":"Sachithra Dilshan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1555041573,"creation_date":1555036986,"answer_id":55643744,"question_id":5554734,"body_markdown":"If you use an array&#39;s length to control iteration of a **for** loop, always remember that the index of the first item in an array is **0**. So the index of the last element in an array is one less than the array&#39;s length.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>If you use an array's length to control iteration of a <strong>for</strong> loop, always remember that the index of the first item in an array is <strong>0</strong>. So the index of the last element in an array is one less than the array's length.</p>\n"},{"tags":[],"owner":{"account_id":8703448,"reputation":97,"user_id":6512432,"display_name":"Andrey Lavrukhin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568722563,"creation_date":1568722563,"answer_id":57974025,"question_id":5554734,"body_markdown":"You can use Optional in functional style to avoid `NullPointerException` and `ArrayIndexOutOfBoundsException` :\r\n\r\n    String[] array = new String[]{&quot;aaa&quot;, null, &quot;ccc&quot;};\r\n    for (int i = 0; i &lt; 4; i++) {\r\n    \tString result = Optional.ofNullable(array.length &gt; i ? array[i] : null)\r\n    \t\t\t.map(x -&gt; x.toUpperCase()) //some operation here\r\n    \t\t\t.orElse(&quot;NO_DATA&quot;);\r\n    \tSystem.out.println(result);\r\n    }\r\n\r\nOutput:\r\n\r\n    AAA\r\n    NO_DATA\r\n    CCC\r\n    NO_DATA\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>You can use Optional in functional style to avoid <code>NullPointerException</code> and <code>ArrayIndexOutOfBoundsException</code> :</p>\n\n<pre><code>String[] array = new String[]{\"aaa\", null, \"ccc\"};\nfor (int i = 0; i &lt; 4; i++) {\n    String result = Optional.ofNullable(array.length &gt; i ? array[i] : null)\n            .map(x -&gt; x.toUpperCase()) //some operation here\n            .orElse(\"NO_DATA\");\n    System.out.println(result);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>AAA\nNO_DATA\nCCC\nNO_DATA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8008499,"reputation":225,"user_id":6041068,"display_name":"Dhanushka Sampath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690114594,"creation_date":1690114594,"answer_id":76748188,"question_id":5554734,"body_markdown":"An ArrayIdexOutOfBoundException occurs when you try to access an index of an array which does not exists. In your scenario when i = 3, you try to retrieve the 3rd index of the names array. But names array holds values up to 2nd index. \r\n\r\nSince there are no value at 3rd index of the array, This Exception is thrown.    ","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>An ArrayIdexOutOfBoundException occurs when you try to access an index of an array which does not exists. In your scenario when i = 3, you try to retrieve the 3rd index of the names array. But names array holds values up to 2nd index.</p>\n<p>Since there are no value at 3rd index of the array, This Exception is thrown.</p>\n"}],"owner":{"account_id":298708,"reputation":11355,"user_id":604864,"accept_rate":98,"display_name":"Aaron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991158,"favorite_count":0,"down_vote_count":5,"up_vote_count":361,"accepted_answer_id":5554781,"answer_count":25,"score":356,"last_activity_date":1690114594,"creation_date":1302018843,"question_id":5554734,"body_markdown":"What does `ArrayIndexOutOfBoundsException` mean and how do I get rid of it? \r\n\r\nHere is a code sample that triggers the exception:\r\n\r\n    String[] names = { &quot;tom&quot;, &quot;bob&quot;, &quot;harry&quot; };\r\n    for (int i = 0; i &lt;= names.length; i++) {\r\n        System.out.println(names[i]);\r\n    }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>What does <code>ArrayIndexOutOfBoundsException</code> mean and how do I get rid of it? </p>\n\n<p>Here is a code sample that triggers the exception:</p>\n\n<pre><code>String[] names = { \"tom\", \"bob\", \"harry\" };\nfor (int i = 0; i &lt;= names.length; i++) {\n    System.out.println(names[i]);\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690106886,"post_id":76747649,"comment_id":135304414,"body_markdown":"&quot;I know that what is getting returned is the reference and not the actual value.&quot; No you don&#39;t. What is returrned is `true` or `false`. The problem here is that `ArrayList` works on object equality, and `int[]` doesn&#39;t override `Object.equals()` to compare the contents of the arrays, so you get object *identity*, via the `==` operator; so `contains()` returns false as you must be supplying a different `int[]` from the one that is already in the `ArrayList`, *even if its element values are the same.* Moral: `int[]` isn&#39;t a great datatype to use in an `ArrayList`.","body":"&quot;I know that what is getting returned is the reference and not the actual value.&quot; No you don&#39;t. What is returrned is <code>true</code> or <code>false</code>. The problem here is that <code>ArrayList</code> works on object equality, and <code>int[]</code> doesn&#39;t override <code>Object.equals()</code> to compare the contents of the arrays, so you get object <i>identity</i>, via the <code>==</code> operator; so <code>contains()</code> returns false as you must be supplying a different <code>int[]</code> from the one that is already in the <code>ArrayList</code>, <i>even if its element values are the same.</i> Moral: <code>int[]</code> isn&#39;t a great datatype to use in an <code>ArrayList</code>."},{"owner":{"account_id":16507504,"reputation":1,"user_id":11927188,"display_name":"Stan"},"score":0,"creation_date":1690114157,"post_id":76747649,"comment_id":135305163,"body_markdown":"You&#39;re right, I didn&#39;t express myself properly. What I meant to say is that the values which are compared are the reference values, not the actual values.","body":"You&#39;re right, I didn&#39;t express myself properly. What I meant to say is that the values which are compared are the reference values, not the actual values."},{"owner":{"account_id":24299570,"reputation":549,"user_id":18243271,"display_name":"Sadeed_pv"},"score":0,"creation_date":1690223245,"post_id":76747649,"comment_id":135320462,"body_markdown":"Please see [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690107108,"creation_date":1690107108,"answer_id":76747700,"question_id":76747649,"body_markdown":"As you already determined, `List.contains` will return results if the contained element and the given element are equal according to `Object.equals`. The problem is, arrays don&#39;t implement that the way you&#39;d expect. You want `Arrays.equals` instead:\r\n\r\n```\r\nfor (int[] element : myList) {\r\n  if (Arrays.equals(element, target)) {\r\n    // found it!\r\n  }\r\n}\r\n```\r\n","title":"Find specific int[] element inside ArrayList&lt;int[]&gt;","body":"<p>As you already determined, <code>List.contains</code> will return results if the contained element and the given element are equal according to <code>Object.equals</code>. The problem is, arrays don't implement that the way you'd expect. You want <code>Arrays.equals</code> instead:</p>\n<pre><code>for (int[] element : myList) {\n  if (Arrays.equals(element, target)) {\n    // found it!\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16507504,"reputation":1,"user_id":11927188,"display_name":"Stan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690114017,"creation_date":1690106531,"question_id":76747649,"body_markdown":"I&#39;m trying to find if a specific int[] exists within an ArrayList&lt;int[]&gt;, but when I use the method \r\n.contains(value) it always returns false. I know that what is getting compared are the reference values. \r\n\r\nI&#39;ve tried converting each array element into a primitive hash, and storing it in another arrayList,  but this process takes too long and when I submit my code I go past the time limit.","title":"Find specific int[] element inside ArrayList&lt;int[]&gt;","body":"<p>I'm trying to find if a specific int[] exists within an ArrayList&lt;int[]&gt;, but when I use the method\n.contains(value) it always returns false. I know that what is getting compared are the reference values.</p>\n<p>I've tried converting each array element into a primitive hash, and storing it in another arrayList,  but this process takes too long and when I submit my code I go past the time limit.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1690110321,"post_id":76747889,"comment_id":135304757,"body_markdown":"`&lt;?&gt;` denotes that one does not know the generic type. This concept is known as wildcard. I recommend reading a tutorial on the topic, e.g. [this one at `docs.oracle.com`](https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html).","body":"<code>&lt;?&gt;</code> denotes that one does not know the generic type. This concept is known as wildcard. I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">this one at <code>docs.oracle.com</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":18144473,"reputation":100,"user_id":13197949,"display_name":"simonecocco"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690113821,"creation_date":1690113821,"answer_id":76748133,"question_id":76747889,"body_markdown":"The generic type `T` serves as a _&quot;special variable&quot;_ that stores a data type. During compilation, it is replaced with the specific type that it represents. \r\n\r\nThis offers flexibility when creating new objects.\r\n\r\nFor instance, instead of having `IntegerArrayList` or `StringArrayList`, we can utilize a single class with a custom data type (which is translated at compile time), such as `new ArrayList&lt;Integer&gt;` or `ArrayList&lt;String&gt;`. These are identical classes, only differing in the data type they store.\r\n\r\nThe wildcard (`?`) operates in a similar way, but in contrast to the generic type `T`, it requires knowledge about the superclass.\r\n\r\nWith a wildcard, there are two possibilities:\r\n1. Using `List&lt;? extends MyClass&gt;`, we can ensure that each object in the list is of type `MyClass`.\r\n2. On the other hand, with `List&lt;? super MyClass&gt;`, we can guarantee that the list is capable of containing `MyClass` type, but the objects cannot be directly instances of `MyClass`.\r\n\r\nI hope this helps clarify things.\r\n\r\n(Source: [Wikipedia](https://en.wikipedia.org/wiki/Wildcard_(Java)))","title":"Java programming- generics and jokers","body":"<p>The generic type <code>T</code> serves as a <em>&quot;special variable&quot;</em> that stores a data type. During compilation, it is replaced with the specific type that it represents.</p>\n<p>This offers flexibility when creating new objects.</p>\n<p>For instance, instead of having <code>IntegerArrayList</code> or <code>StringArrayList</code>, we can utilize a single class with a custom data type (which is translated at compile time), such as <code>new ArrayList&lt;Integer&gt;</code> or <code>ArrayList&lt;String&gt;</code>. These are identical classes, only differing in the data type they store.</p>\n<p>The wildcard (<code>?</code>) operates in a similar way, but in contrast to the generic type <code>T</code>, it requires knowledge about the superclass.</p>\n<p>With a wildcard, there are two possibilities:</p>\n<ol>\n<li>Using <code>List&lt;? extends MyClass&gt;</code>, we can ensure that each object in the list is of type <code>MyClass</code>.</li>\n<li>On the other hand, with <code>List&lt;? super MyClass&gt;</code>, we can guarantee that the list is capable of containing <code>MyClass</code> type, but the objects cannot be directly instances of <code>MyClass</code>.</li>\n</ol>\n<p>I hope this helps clarify things.</p>\n<p>(Source: <a href=\"https://en.wikipedia.org/wiki/Wildcard_(Java)\" rel=\"nofollow noreferrer\">Wikipedia</a>)</p>\n"}],"owner":{"account_id":27076796,"reputation":9,"user_id":22271336,"display_name":"Roy Dahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690113821,"creation_date":1690110124,"question_id":76747889,"body_markdown":"I&#39;m a CS student learning to a Test in Software (introductory course in OOP and Java), and I didn&#39;t understand the Core difference between generic type (`&lt;T&gt;`) and Joker types (`&lt;?&gt;`). However, I did understand that the joker is more &quot;inclusive&quot;.\r\ncan someone denote the differences, and similarities between those?\r\nthanks!\r\n\r\nfor example, I know that the first method is compiled successfully, yet the second is not.\r\n\r\n```\r\npublic &lt;T&gt; void f1(List&lt;T&gt; list) {\r\n    list.add(list.get(0));\r\n}\r\n```\r\n\r\n```\r\npublic void f2(List&lt;?&gt; list) {\r\n    list.add(list.get(0));\r\n}\r\n```\r\n","title":"Java programming- generics and jokers","body":"<p>I'm a CS student learning to a Test in Software (introductory course in OOP and Java), and I didn't understand the Core difference between generic type (<code>&lt;T&gt;</code>) and Joker types (<code>&lt;?&gt;</code>). However, I did understand that the joker is more &quot;inclusive&quot;.\ncan someone denote the differences, and similarities between those?\nthanks!</p>\n<p>for example, I know that the first method is compiled successfully, yet the second is not.</p>\n<pre><code>public &lt;T&gt; void f1(List&lt;T&gt; list) {\n    list.add(list.get(0));\n}\n</code></pre>\n<pre><code>public void f2(List&lt;?&gt; list) {\n    list.add(list.get(0));\n}\n</code></pre>\n"},{"tags":["java","object","recursion","processing"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690182433,"post_id":76748029,"comment_id":135312092,"body_markdown":"What is `generations`? It is nowhere defined. Where do you set it to 4 (or whatever)? Please provide the code that is necessary to *reproduce* the problem.","body":"What is <code>generations</code>? It is nowhere defined. Where do you set it to 4 (or whatever)? Please provide the code that is necessary to <i>reproduce</i> the problem."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690220722,"post_id":76748029,"comment_id":135320065,"body_markdown":"There is no recursive function in your code. Your `gen(float)` creates a new object, then you call that object&#39;s `get(float)` method. A recursive function calls itself (with updated arguments that at some point lead to an immediate return). Also, what is your &quot;regular&quot; code supposed to do? You&#39;ve created a float array, so by default all its values are 0, then you back-propagate all the values, which does nothing. You still have an all zero array. Then you set [0] to a random value, and then you sum that one value plus all the remaining zeros, which is just that one value. Why use arrays then?","body":"There is no recursive function in your code. Your <code>gen(float)</code> creates a new object, then you call that object&#39;s <code>get(float)</code> method. A recursive function calls itself (with updated arguments that at some point lead to an immediate return). Also, what is your &quot;regular&quot; code supposed to do? You&#39;ve created a float array, so by default all its values are 0, then you back-propagate all the values, which does nothing. You still have an all zero array. Then you set [0] to a random value, and then you sum that one value plus all the remaining zeros, which is just that one value. Why use arrays then?"},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1690238482,"post_id":76748029,"comment_id":135322766,"body_markdown":"You do not need recursion here. As a matter of fact, I suspect that it would make your code worse, even if it could be clever. And believe me, I love recursion with a passion. But real non-idiotic examples of needing recursion are surprising uncommon, and it&#39;s even less when working as part of a team because you have to make certain that your code is maintainable. Back to this example, I would tell you to use an iterative logic without a hint of a doubt, unless you want to experiment with recursion just for kicks.","body":"You do not need recursion here. As a matter of fact, I suspect that it would make your code worse, even if it could be clever. And believe me, I love recursion with a passion. But real non-idiotic examples of needing recursion are surprising uncommon, and it&#39;s even less when working as part of a team because you have to make certain that your code is maintainable. Back to this example, I would tell you to use an iterative logic without a hint of a doubt, unless you want to experiment with recursion just for kicks."},{"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"score":0,"creation_date":1690277225,"post_id":76748029,"comment_id":135327425,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Thank you for reading! With the gen(float) I am calling the new objects gen(float) with the previous output as input making it recursive.","body":"@Mike&#39;Pomax&#39;Kamermans Thank you for reading! With the gen(float) I am calling the new objects gen(float) with the previous output as input making it recursive."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690277327,"post_id":76748029,"comment_id":135327445,"body_markdown":"Please provide the code that is necessary to *reproduce* the problem. The driving code is missing.","body":"Please provide the code that is necessary to <i>reproduce</i> the problem. The driving code is missing."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690297921,"post_id":76748029,"comment_id":135332166,"body_markdown":"@firewall only in the &quot;if you squint very hard&quot; sense. You&#39;re not making a function recurse,  you&#39;re creating a chain of objects that you delegate a single step in a function to (it&#39;s similar to recursion, but it&#39;s not recursion). So of course the main question is: why are you creating new objects at all instead of using actual recursion, given that those objects are all going to get garbage collected, so why spend the time on object creation and GC overhead?","body":"@firewall only in the &quot;if you squint very hard&quot; sense. You&#39;re not making a function recurse,  you&#39;re creating a chain of objects that you delegate a single step in a function to (it&#39;s similar to recursion, but it&#39;s not recursion). So of course the main question is: why are you creating new objects at all instead of using actual recursion, given that those objects are all going to get garbage collected, so why spend the time on object creation and GC overhead?"},{"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"score":0,"creation_date":1690366931,"post_id":76748029,"comment_id":135342509,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think I am not quite fluent enough in objects to see the difference.\n\nThe &quot;regular&quot; code generates random numbers and fills an array with the latest 100 numbers. By taking the average of the array i get a continually changing random number with smoother movement. By iterating this proces with the previous output as input the change gets smoother with each iteration. \n\nIn the &quot;regular&quot; code I have to define new arrays and variables for each iteration. I was thinking that using an object would be simpler by creating the needed data in the object instead.","body":"@Mike&#39;Pomax&#39;Kamermans I think I am not quite fluent enough in objects to see the difference.  The &quot;regular&quot; code generates random numbers and fills an array with the latest 100 numbers. By taking the average of the array i get a continually changing random number with smoother movement. By iterating this proces with the previous output as input the change gets smoother with each iteration.   In the &quot;regular&quot; code I have to define new arrays and variables for each iteration. I was thinking that using an object would be simpler by creating the needed data in the object instead."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690383594,"post_id":76748029,"comment_id":135346441,"body_markdown":"That&#39;s not what it does. You start on frame one with an array `random` that is all zeroes. You then run through it backwards, moving all elements in it to the right one spot. So now it&#39;s _still_ all zeroes. Then you set `random[0]` to a random number. Now it&#39;s an array with one random number, and all zeroes everywhere else. Then you sum and normalize. On the next frame, you move everything again, set a new [0] to a random number, and then resum and normalize. _why_? How is this any better than just generating a new random number directly? You&#39;re not making things &quot;more random&quot;.","body":"That&#39;s not what it does. You start on frame one with an array <code>random</code> that is all zeroes. You then run through it backwards, moving all elements in it to the right one spot. So now it&#39;s <i>still</i> all zeroes. Then you set <code>random[0]</code> to a random number. Now it&#39;s an array with one random number, and all zeroes everywhere else. Then you sum and normalize. On the next frame, you move everything again, set a new [0] to a random number, and then resum and normalize. <i>why</i>? How is this any better than just generating a new random number directly? You&#39;re not making things &quot;more random&quot;."}],"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690112695,"creation_date":1690112468,"question_id":76748029,"body_markdown":"I&#39;m learning with Processing and I am trying to create smooth random motion. I have successfully done this in a very long winded way and noticed that this would benefit from a recursive function within an object creating new copys of itself. I tried this method but was unable to recreate the behavior i acheived manually.\r\n\r\n\r\n\r\nThe manual approach I used is seen below. With a function I generate randomGaussian numbers and update an array with the latest 100 numbers each frame. Taking the average of the array each frame gives a smoother set of random numbers. Iterating this process with the previous output as the input gives smoother still random nummbers.\r\n\r\n\r\n```\r\nfloat x;\r\nfloat y;\r\nint elements;\r\n\r\nfloat[] random;\r\nfloat[] random0;\r\nfloat[] random1;\r\nfloat[] random2;\r\n\r\n\r\nfloat sum;\r\nfloat sum0;\r\nfloat sum1;\r\nfloat sum2;\r\n\r\nvoid setup() {\r\n  size(800 ,800);\r\n  frameRate(120);\r\n  \r\n  x = 0;\r\n  y = 0;\r\n  elements = 100;\r\n  \r\n  sum = 0;\r\n  sum0 = 0;\r\n  sum1 = 0;\r\n  sum2 = 0;\r\n\r\n\r\n  random = new float[elements];  \r\n  random0 = new float[elements];\r\n  random1 = new float[elements];\r\n  random2 = new float[elements];\r\n\r\n}\r\n\r\nvoid draw() {\r\n  translate(width/2, height/2);\r\n  background(0);\r\n  stroke(255);  \r\n  line(-width/2, 0, width/2, 0); \r\n  \r\n  \r\n  // random\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random[i] = random[i-1];\r\n  }\r\n  random[0] = randomGaussian();\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum += random[i];\r\n  }\r\n  sum = sum/elements;\r\n  \r\n  \r\n  //random0 \r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random0[i] = random0[i-1];\r\n  }  \r\n  random0[0] = sum;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum0 += random0[i];\r\n  }  \r\n  sum0 = sum0/elements;\r\n  \r\n  \r\n  //random1\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random1[i] = random1[i-1];\r\n  }\r\n  random1[0] = sum0;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum1 += random1[i];\r\n  }\r\n   sum1 = sum1/elements;\r\n  \r\n  \r\n  //random2\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random2[i] = random2[i-1];\r\n  }\r\n   random2[0] = sum1;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum2 += random2[i];\r\n  }\r\n  sum2 = sum2/elements;\r\n\r\n  //circle motion\r\n  noStroke();\r\n  ellipse(0,y,20,20);\r\n  float speed = 20;\r\n  y += sum2*speed;\r\n    \r\n  if ((y &lt; -height/2) || (y &gt; height/2)) {\r\n    y = 0;\r\n  }\r\n}\r\n```\r\n\r\n \r\nAs you can see, I create many copys of the same variables and arrays making me suspect an object based approach with a recursive function would be smart.\r\n\r\nThe object I use in my unsuccessful attempt at this is seen below. I limit the recursive function with the generations variable set to 3 in the main program. This approach seems to only call 1 instance of the function. What is the problem I&#39;m not seeing?\r\n\r\n```\r\nclass Generator {\r\n  float[] array;\r\n  float output;\r\n  \r\n  Generator() {\r\n    array = new float[elements];\r\n    output = 0;\r\n  }\r\n\r\n  float gen(float input) {\r\n    for (int i = elements-1; i &gt; 0; i--) {\r\n      array[i] = array[i-1];\r\n    }\r\n    array[0] = input;\r\n    for (int i = 0  ; i &lt; elements; i++) {\r\n      output += array[i];\r\n    }\r\n    output = output/elements;\r\n    \r\n    if (generations &gt; 0) {\r\n      generations --;\r\n      Generator n = new Generator();\r\n      n.gen(output);\r\n      return 0;\r\n      \r\n    } else {            \r\n    return output;\r\n    \r\n    }\r\n  }\r\n}\r\n```\r\n\r\n","title":"How can i create new objects with a recursive function in Processing to help make smooth random motion?","body":"<p>I'm learning with Processing and I am trying to create smooth random motion. I have successfully done this in a very long winded way and noticed that this would benefit from a recursive function within an object creating new copys of itself. I tried this method but was unable to recreate the behavior i acheived manually.</p>\n<p>The manual approach I used is seen below. With a function I generate randomGaussian numbers and update an array with the latest 100 numbers each frame. Taking the average of the array each frame gives a smoother set of random numbers. Iterating this process with the previous output as the input gives smoother still random nummbers.</p>\n<pre><code>float x;\nfloat y;\nint elements;\n\nfloat[] random;\nfloat[] random0;\nfloat[] random1;\nfloat[] random2;\n\n\nfloat sum;\nfloat sum0;\nfloat sum1;\nfloat sum2;\n\nvoid setup() {\n  size(800 ,800);\n  frameRate(120);\n  \n  x = 0;\n  y = 0;\n  elements = 100;\n  \n  sum = 0;\n  sum0 = 0;\n  sum1 = 0;\n  sum2 = 0;\n\n\n  random = new float[elements];  \n  random0 = new float[elements];\n  random1 = new float[elements];\n  random2 = new float[elements];\n\n}\n\nvoid draw() {\n  translate(width/2, height/2);\n  background(0);\n  stroke(255);  \n  line(-width/2, 0, width/2, 0); \n  \n  \n  // random\n  for (int i = elements-1; i &gt; 0; i--) {\n    random[i] = random[i-1];\n  }\n  random[0] = randomGaussian();\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum += random[i];\n  }\n  sum = sum/elements;\n  \n  \n  //random0 \n  for (int i = elements-1; i &gt; 0; i--) {\n    random0[i] = random0[i-1];\n  }  \n  random0[0] = sum;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum0 += random0[i];\n  }  \n  sum0 = sum0/elements;\n  \n  \n  //random1\n  for (int i = elements-1; i &gt; 0; i--) {\n    random1[i] = random1[i-1];\n  }\n  random1[0] = sum0;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum1 += random1[i];\n  }\n   sum1 = sum1/elements;\n  \n  \n  //random2\n  for (int i = elements-1; i &gt; 0; i--) {\n    random2[i] = random2[i-1];\n  }\n   random2[0] = sum1;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum2 += random2[i];\n  }\n  sum2 = sum2/elements;\n\n  //circle motion\n  noStroke();\n  ellipse(0,y,20,20);\n  float speed = 20;\n  y += sum2*speed;\n    \n  if ((y &lt; -height/2) || (y &gt; height/2)) {\n    y = 0;\n  }\n}\n</code></pre>\n<p>As you can see, I create many copys of the same variables and arrays making me suspect an object based approach with a recursive function would be smart.</p>\n<p>The object I use in my unsuccessful attempt at this is seen below. I limit the recursive function with the generations variable set to 3 in the main program. This approach seems to only call 1 instance of the function. What is the problem I'm not seeing?</p>\n<pre><code>class Generator {\n  float[] array;\n  float output;\n  \n  Generator() {\n    array = new float[elements];\n    output = 0;\n  }\n\n  float gen(float input) {\n    for (int i = elements-1; i &gt; 0; i--) {\n      array[i] = array[i-1];\n    }\n    array[0] = input;\n    for (int i = 0  ; i &lt; elements; i++) {\n      output += array[i];\n    }\n    output = output/elements;\n    \n    if (generations &gt; 0) {\n      generations --;\n      Generator n = new Generator();\n      n.gen(output);\n      return 0;\n      \n    } else {            \n    return output;\n    \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1690102067,"post_id":76746461,"comment_id":135303911,"body_markdown":"Do you have an option to write a helper in Scala? It would be much easier if you could create an `object` or `class` with some helpers translating from-Scala-to-Java in Scala but exposing Java API, that you would just call from Java.","body":"Do you have an option to write a helper in Scala? It would be much easier if you could create an <code>object</code> or <code>class</code> with some helpers translating from-Scala-to-Java in Scala but exposing Java API, that you would just call from Java."},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1690112463,"post_id":76746461,"comment_id":135304978,"body_markdown":"Thanks for the reply. Kindly check my &#39;updated part 2&#39;. and if you have any question, pls do not hesitate giving me reply.","body":"Thanks for the reply. Kindly check my &#39;updated part 2&#39;. and if you have any question, pls do not hesitate giving me reply."},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":4,"creation_date":1690139765,"post_id":76746461,"comment_id":135308408,"body_markdown":"Sweet Jesus, Spark was never intended to be used from Java - it is supposed to be used from Scala, Python or R. You&#39;re gonna have to rewrite this code on a regular basic because some things were designed to be &quot;source-compatible&quot; not &quot;binary compatible&quot;: code would look the same in Scala 2.12 and 2.13 (or 3) while the bytecode would look completely different! Scala was intended to be superset of Java and trying to use it the other way round is like trying to using C++ from C while manually mangling functions&#39; names and reverse engineering vtables. It doesn&#39;t scale at all.","body":"Sweet Jesus, Spark was never intended to be used from Java - it is supposed to be used from Scala, Python or R. You&#39;re gonna have to rewrite this code on a regular basic because some things were designed to be &quot;source-compatible&quot; not &quot;binary compatible&quot;: code would look the same in Scala 2.12 and 2.13 (or 3) while the bytecode would look completely different! Scala was intended to be superset of Java and trying to use it the other way round is like trying to using C++ from C while manually mangling functions&#39; names and reverse engineering vtables. It doesn&#39;t scale at all."}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690081917,"creation_date":1690081917,"answer_id":76746525,"question_id":76746461,"body_markdown":"@Joseph Hwang I think you need to deal with Tuples to do this conversion by using **asScalaBuffer**. Please try with the below approach to get the Scala Map.\r\n\r\n        private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n          List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = javaMap.entrySet().stream()\r\n                    .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\r\n                    .collect(Collectors.toList());\r\n        \r\n          scala.collection.Map scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\r\n          return scalaMap;\r\n    }\r\n\r\nFor further details refere to this post as well.\r\n\r\nhttps://stackoverflow.com/questions/11903167/convert-java-util-hashmap-to-scala-collection-immutable-map-in-java/45373345#45373345\r\n","title":"how to convert java map to scala map using scala.collection.JavaConverters","body":"<p>@Joseph Hwang I think you need to deal with Tuples to do this conversion by using <strong>asScalaBuffer</strong>. Please try with the below approach to get the Scala Map.</p>\n<pre><code>    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n      List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = javaMap.entrySet().stream()\n                .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\n                .collect(Collectors.toList());\n    \n      scala.collection.Map scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\n      return scalaMap;\n}\n</code></pre>\n<p>For further details refere to this post as well.</p>\n<p><a href=\"https://stackoverflow.com/questions/11903167/convert-java-util-hashmap-to-scala-collection-immutable-map-in-java/45373345#45373345\">Convert java.util.HashMap to scala.collection.immutable.Map in java</a></p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690112284,"creation_date":1690079612,"question_id":76746461,"body_markdown":"I try to convert java map to scala map in java static function.\r\n\r\n    OS: windows 11 \r\n    jdk: 17\r\n    spark : spark-3.4.1-bin-hadoop3\r\n    ide : visual studio code\r\n\r\nBelow codes are the converting function.\r\n\r\n    import scala.Predef;\r\n    import scala.Tuple2;\r\n    import scala.collection.JavaConverters;\r\n    \r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n         return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.&lt;Tuple2&lt;A,B&gt;&gt;$conforms());\r\n    }\r\n\r\nBut the toMap function throws the exception.\r\n\r\n    The method toMap($less$colon$less&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;K$,V$&gt;&gt;) in the type IterableOnceOps&lt;Tuple2&lt;A,B&gt;,Iterable,Map&lt;A,B&gt;&gt; is not applicable for the arguments (Function1&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;A,B&gt;&gt;)\r\n\r\nIt seems that the parameters of toMap function are not correct. But I am a newbie of scala and I have no idea how to correct the toMap function parameters. Kindly inform me what the correct parameters have to be. \r\n\r\n\r\n**== Updated Part**\r\n\r\nKindly check my codes. Below codes throw Errors.\r\n\r\n\r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n            List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = m.entrySet().stream()\r\n                    .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\r\n                    .collect(Collectors.toList());\r\n        \r\n            scala.collection.Map&lt;A,B&gt; scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\r\n            return scalaMap;\r\n        }\r\n\r\n\r\nThe errors are \r\n\r\n    The method asScalaBuffer(List&lt;Tuple2&lt;A,B&gt;&gt;) is undefined for the type JavaConversions. \r\n\r\n\r\n**== Updated Part 2**\r\n\r\nThese are my java codes.\r\n\r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(Map&lt;A, B&gt; m) {\r\n    \treturn JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.$conforms());\r\n    }\r\n    \r\n    SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(appName).getOrCreate();\r\n    \r\n    Dataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;)\r\n    \t\t\t.options(kafkaParams)\r\n    \t\t\t.load()\r\n    \t\t\t.selectExpr(&quot;CAST(value AS STRING) as column&quot;).filter(not(col(&quot;column&quot;).startsWith(&quot;date&quot;)));\r\n    \r\n    Map&lt;String, String&gt; options = new HashMap&lt;String, String&gt;();\r\n    \t\t\t\r\n    Dataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;column&quot;), StoredColumnPojo.getStructType(), toScalaMap(options))\r\n    \t\t\t.as(&quot;entityStoredPojo&quot;))\r\n    \t\t\t.selectExpr(&quot;entityStoredPojo.date&quot;, &quot;entityStoredPojo.value&quot;, &quot;entityStoredPojo.id&quot;, \r\n    \t\t\t\t\t\t&quot;entityStoredPojo.title&quot;, &quot;entityStoredPojo.state&quot;, &quot;entityStoredPojo.frequency_short&quot;, \r\n    \t\t\t\t\t\t&quot;entityStoredPojo.units_short&quot;, &quot;entityStoredPojo.seasonal_adjustment_short&quot;).toDF();\r\n\t\t\t\t\t\t\r\nAs you see, `toScalaMap(options)` method is parameter function to execute spark dataframe api. The above codes works successfully with spark-core_2.12, version 3.2.1. But I upgrade the spark-core_2.13 and the toScalaMap function throws the exception. I think the error is the matter of version problem, but I have no idea why.","title":"how to convert java map to scala map using scala.collection.JavaConverters","body":"<p>I try to convert java map to scala map in java static function.</p>\n<pre><code>OS: windows 11 \njdk: 17\nspark : spark-3.4.1-bin-hadoop3\nide : visual studio code\n</code></pre>\n<p>Below codes are the converting function.</p>\n<pre><code>import scala.Predef;\nimport scala.Tuple2;\nimport scala.collection.JavaConverters;\n\nprivate static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n     return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.&lt;Tuple2&lt;A,B&gt;&gt;$conforms());\n}\n</code></pre>\n<p>But the toMap function throws the exception.</p>\n<pre><code>The method toMap($less$colon$less&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;K$,V$&gt;&gt;) in the type IterableOnceOps&lt;Tuple2&lt;A,B&gt;,Iterable,Map&lt;A,B&gt;&gt; is not applicable for the arguments (Function1&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;A,B&gt;&gt;)\n</code></pre>\n<p>It seems that the parameters of toMap function are not correct. But I am a newbie of scala and I have no idea how to correct the toMap function parameters. Kindly inform me what the correct parameters have to be.</p>\n<p><strong>== Updated Part</strong></p>\n<p>Kindly check my codes. Below codes throw Errors.</p>\n<pre><code>private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n        List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = m.entrySet().stream()\n                .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\n                .collect(Collectors.toList());\n    \n        scala.collection.Map&lt;A,B&gt; scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\n        return scalaMap;\n    }\n</code></pre>\n<p>The errors are</p>\n<pre><code>The method asScalaBuffer(List&lt;Tuple2&lt;A,B&gt;&gt;) is undefined for the type JavaConversions. \n</code></pre>\n<p><strong>== Updated Part 2</strong></p>\n<p>These are my java codes.</p>\n<pre><code>private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(Map&lt;A, B&gt; m) {\n    return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.$conforms());\n}\n\nSparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(appName).getOrCreate();\n\nDataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;)\n            .options(kafkaParams)\n            .load()\n            .selectExpr(&quot;CAST(value AS STRING) as column&quot;).filter(not(col(&quot;column&quot;).startsWith(&quot;date&quot;)));\n\nMap&lt;String, String&gt; options = new HashMap&lt;String, String&gt;();\n            \nDataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;column&quot;), StoredColumnPojo.getStructType(), toScalaMap(options))\n            .as(&quot;entityStoredPojo&quot;))\n            .selectExpr(&quot;entityStoredPojo.date&quot;, &quot;entityStoredPojo.value&quot;, &quot;entityStoredPojo.id&quot;, \n                        &quot;entityStoredPojo.title&quot;, &quot;entityStoredPojo.state&quot;, &quot;entityStoredPojo.frequency_short&quot;, \n                        &quot;entityStoredPojo.units_short&quot;, &quot;entityStoredPojo.seasonal_adjustment_short&quot;).toDF();\n                    \n</code></pre>\n<p>As you see, <code>toScalaMap(options)</code> method is parameter function to execute spark dataframe api. The above codes works successfully with spark-core_2.12, version 3.2.1. But I upgrade the spark-core_2.13 and the toScalaMap function throws the exception. I think the error is the matter of version problem, but I have no idea why.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690112441,"post_id":76747800,"comment_id":135304973,"body_markdown":"You should run your program under the debugger and step through it.","body":"You should run your program under the debugger and step through it."}],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690111962,"creation_date":1690111962,"answer_id":76747999,"question_id":76747800,"body_markdown":"It looks like your data was not saved to the data storage.\r\nProbable reason: incorrect generated Primary Key.\r\n\r\nYour Accounts entity has an ID type = **String**.\r\n\r\nPlease try to use the following annotations for your primary key:\r\n-----------------------------------------------------------------\r\n\r\n 1. the Generic generator annotation\r\n 2. @GeneratedValue(generator = &quot;uuid&quot;)\r\n\r\nExample:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String accountNumber;\r\n\r\n\r\n\r\nThe second option:\r\n------------------\r\n\r\n&lt;br&gt;You can use **Integer/Long/UUID** type for your primary key:\r\nEntity field:\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long accountNumber;\r\n\r\nRepository (CrudRepository&lt;Accounts, **Long**&gt; );\r\n\r\n    @Repository\r\n    public interface AccountsRespository extends CrudRepository&lt;Accounts, Long&gt; \r\n    {\r\n   \r\n    }","title":"Why I am getting this Exception in Springboot application?","body":"<p>It looks like your data was not saved to the data storage.\nProbable reason: incorrect generated Primary Key.</p>\n<p>Your Accounts entity has an ID type = <strong>String</strong>.</p>\n<h2>Please try to use the following annotations for your primary key:</h2>\n<ol>\n<li>the Generic generator annotation</li>\n<li>@GeneratedValue(generator = &quot;uuid&quot;)</li>\n</ol>\n<p>Example:</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String accountNumber;\n</code></pre>\n<h2>The second option:</h2>\n<p><br>You can use <strong>Integer/Long/UUID</strong> type for your primary key:\nEntity field:</p>\n<pre><code>@Id\n@GeneratedValue\nprivate Long accountNumber;\n</code></pre>\n<p>Repository (CrudRepository&lt;Accounts, <strong>Long</strong>&gt; );</p>\n<pre><code>@Repository\npublic interface AccountsRespository extends CrudRepository&lt;Accounts, Long&gt; \n{\n\n}\n</code></pre>\n"}],"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1690124961,"accepted_answer_id":76747999,"answer_count":1,"score":1,"last_activity_date":1690111962,"creation_date":1690108913,"question_id":76747800,"body_markdown":"-How to Solve this Issue \r\n     \r\n\r\n\r\n\r\n&gt; How can I solve this Issue ? what is the exact mistake I did, I am not able to identify ?\r\n\r\n`ControllerClass`\r\n\r\n````\r\n@RestController\r\npublic class CustomerAccountsControllerImpl  {\r\n\r\n\t@Autowired \r\n\tprivate AccountsService accountService;\r\n\t\r\n\t\r\n\t@RequestMapping(value=&quot;/createAccount&quot;,method = RequestMethod.POST)\r\n\tpublic Accounts createAccount(@RequestBody Accounts value,@RequestHeader(name = &quot;User-Id&quot;,required = true) \r\n\t@Pattern(regexp = &quot;^[0-9a-z]{12}&quot;, message = &quot;Please enter valid UserId&quot;)\r\n\t@Valid @Parameter(name =&quot;User-Id&quot;,description = &quot;user id&quot;) Integer userId) throws AccountCreationException {\r\n\t\t \r\n\t\t\r\n\tAccounts AccountCreated = accountService.createAccount(value, userId);\r\n\tSystem.out.println(&quot;Dear&quot; + userId + &quot;your Account has been created&quot;);\r\n\tif(AccountCreated!=null)\r\n\t{\r\n\t\tint user = value.getUserId();\r\n\t\tSystem.out.println(&quot;Dear&quot; + user + &quot;your Account has been created&quot;);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthrow new AccountCreationException(&quot;There is an Issue while Creating &quot;\r\n\t\t\t\t+ &quot;your account please try after sometime&quot;);\r\n\t}\r\n\t\t\r\n\t\treturn AccountCreated;\r\n\t}\r\n\r\n}\r\n````\r\n\r\n`Service Implementation`\r\n\r\n```\r\npackage com.icicibank.accounts.service;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.icicibank.accounts.model.Accounts;\r\nimport com.icicibank.accounts.repository.AccountsRespository;\r\n\r\n@Service\r\npublic class AccountsServiceImpl implements AccountsService {\r\n\r\n\t@Autowired\r\n\tprivate AccountsRespository accountrepo;\r\n\r\n\tprivate static final Logger LOG = LoggerFactory.getLogger(AccountsServiceImpl.class);\r\n\r\n\tAccounts created = null;\r\n\t@Override\r\n\tpublic Accounts createAccount(Accounts data, Integer userId) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tif (data != null &amp;&amp; !userId.equals(null))\r\n\t\t\t{\r\n\t\t\t\tdata.setUserId(userId);\r\n\t\t\t\tcreated = accountrepo.save(data);\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tLOG.debug(&quot;Data input is empty or userId is null please check the iputs once again&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} \r\n\t\tcatch (Exception e) {\r\n\t\t\tLOG.debug(&quot;Hey there is an Exception while calling the craeteAccount &quot; + \r\n\t\t&quot;method in AccountsServiceImpl&quot;);\r\n\t\t}\r\n\t\treturn created;\r\n\r\n\t}\r\n\r\n}\r\n````\r\n`Repository Interface`\r\n\r\n```\r\n@Repository\r\npublic interface AccountsRespository extends CrudRepository&lt;Accounts,String&gt; \r\n{\r\n\t//@SuppressWarnings(&quot;unchecked&quot;)\r\n\t//public Accounts save(Accounts craeteAccount);\r\n\t\r\n}\r\n````\r\n`Model Class`\r\n```\r\n@Entity\r\n@Data\r\npublic class Accounts {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate String accountNumber;\r\n\t\r\n\t@Column\r\n\tprivate int transactionNumber;\r\n\t\r\n\t@Column\r\n\tprivate int userId;\r\n\t\r\n\t@Column\r\n\tprivate int upiIdLimit;\r\n\t\r\n\t@Column\r\n\tprivate double accountBalance;\r\n\t\r\n\t@Column\r\n\tprivate String transactionLimitPerDay;\r\n}\r\n```\r\n`application.properties file`\r\n\r\n```\r\nserver.port = 8083\r\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\nspring.datasource.username=user\r\nspring.datasource.password=usernames\r\nspring.datasource.url=jdbc:mysql://localhost:3306/ICICIBANKBHIMUPIDB\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.application.name=Accounts\r\n```\r\n \r\n\r\n`Log File`\r\n```\r\n[2m2023-07-23 15:35:53.024[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-07-23 15:35:53.026[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 2 ms\r\nDear543214466your Account has been created\r\n[2m2023-07-23 15:35:53.155[0;39m [31mERROR[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime] with root cause\r\n```\r\n\r\n         Here is the Log File \r\n\r\n`Root Cause in Log File`\r\n\r\n```\r\ncom.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime\r\n\tat com.icicibank.accounts.controller.CustomerAccountsControllerImpl.createAccount(CustomerAccountsControllerImpl.java:38) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n\r\n..................................................................................................................................................................................................................\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why I am getting this Exception in Springboot application?","body":"<p>-How to Solve this Issue</p>\n<blockquote>\n<p>How can I solve this Issue ? what is the exact mistake I did, I am not able to identify ?</p>\n</blockquote>\n<p><code>ControllerClass</code></p>\n<pre><code>@RestController\npublic class CustomerAccountsControllerImpl  {\n\n    @Autowired \n    private AccountsService accountService;\n    \n    \n    @RequestMapping(value=&quot;/createAccount&quot;,method = RequestMethod.POST)\n    public Accounts createAccount(@RequestBody Accounts value,@RequestHeader(name = &quot;User-Id&quot;,required = true) \n    @Pattern(regexp = &quot;^[0-9a-z]{12}&quot;, message = &quot;Please enter valid UserId&quot;)\n    @Valid @Parameter(name =&quot;User-Id&quot;,description = &quot;user id&quot;) Integer userId) throws AccountCreationException {\n         \n        \n    Accounts AccountCreated = accountService.createAccount(value, userId);\n    System.out.println(&quot;Dear&quot; + userId + &quot;your Account has been created&quot;);\n    if(AccountCreated!=null)\n    {\n        int user = value.getUserId();\n        System.out.println(&quot;Dear&quot; + user + &quot;your Account has been created&quot;);\n    }\n    else\n    {\n        throw new AccountCreationException(&quot;There is an Issue while Creating &quot;\n                + &quot;your account please try after sometime&quot;);\n    }\n        \n        return AccountCreated;\n    }\n\n}\n</code></pre>\n<p><code>Service Implementation</code></p>\n<pre><code>package com.icicibank.accounts.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.icicibank.accounts.model.Accounts;\nimport com.icicibank.accounts.repository.AccountsRespository;\n\n@Service\npublic class AccountsServiceImpl implements AccountsService {\n\n    @Autowired\n    private AccountsRespository accountrepo;\n\n    private static final Logger LOG = LoggerFactory.getLogger(AccountsServiceImpl.class);\n\n    Accounts created = null;\n    @Override\n    public Accounts createAccount(Accounts data, Integer userId) {\n        try {\n            \n            if (data != null &amp;&amp; !userId.equals(null))\n            {\n                data.setUserId(userId);\n                created = accountrepo.save(data);\n            } \n            else \n            {\n                LOG.debug(&quot;Data input is empty or userId is null please check the iputs once again&quot;);\n            }\n            \n        } \n        catch (Exception e) {\n            LOG.debug(&quot;Hey there is an Exception while calling the craeteAccount &quot; + \n        &quot;method in AccountsServiceImpl&quot;);\n        }\n        return created;\n\n    }\n\n}\n</code></pre>\n<p><code>Repository Interface</code></p>\n<pre><code>@Repository\npublic interface AccountsRespository extends CrudRepository&lt;Accounts,String&gt; \n{\n    //@SuppressWarnings(&quot;unchecked&quot;)\n    //public Accounts save(Accounts craeteAccount);\n    \n}\n</code></pre>\n<p><code>Model Class</code></p>\n<pre><code>@Entity\n@Data\npublic class Accounts {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String accountNumber;\n    \n    @Column\n    private int transactionNumber;\n    \n    @Column\n    private int userId;\n    \n    @Column\n    private int upiIdLimit;\n    \n    @Column\n    private double accountBalance;\n    \n    @Column\n    private String transactionLimitPerDay;\n}\n</code></pre>\n<p><code>application.properties file</code></p>\n<pre><code>server.port = 8083\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\nspring.datasource.username=user\nspring.datasource.password=usernames\nspring.datasource.url=jdbc:mysql://localhost:3306/ICICIBANKBHIMUPIDB\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.application.name=Accounts\n</code></pre>\n<p><code>Log File</code></p>\n<pre><code>[2m2023-07-23 15:35:53.024[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-07-23 15:35:53.026[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 2 ms\nDear543214466your Account has been created\n[2m2023-07-23 15:35:53.155[0;39m [31mERROR[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime] with root cause\n</code></pre>\n<pre><code>     Here is the Log File \n</code></pre>\n<p><code>Root Cause in Log File</code></p>\n<pre><code>com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime\n    at com.icicibank.accounts.controller.CustomerAccountsControllerImpl.createAccount(CustomerAccountsControllerImpl.java:38) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>..................................................................................................................................................................................................................</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":3,"creation_date":1269334096,"post_id":2497063,"comment_id":2492817,"body_markdown":"Why do you need this information?","body":"Why do you need this information?"},{"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"score":3,"creation_date":1269356522,"post_id":2497063,"comment_id":2495426,"body_markdown":"Bark ..Nothing specific ..I had this in an interview","body":"Bark ..Nothing specific ..I had this in an interview"},{"owner":{"account_id":78031,"reputation":25203,"user_id":222356,"accept_rate":78,"display_name":"ericsoco"},"score":1,"creation_date":1346875113,"post_id":2497063,"comment_id":16483977,"body_markdown":"Google led me here.  The reason i need this info -- I have an ArrayBlockingQueue that I&#39;m take()ing through, processing, and storing results in another Collection.  Thought it would be nice to use an initial capacity for the results Collection that matches the capacity of the ABQ.  Not such an odd use case, no?  There are other ways around it for me (e.g. storing capacity as a static final and referencing that), but not necessarily in all cases.","body":"Google led me here.  The reason i need this info -- I have an ArrayBlockingQueue that I&#39;m take()ing through, processing, and storing results in another Collection.  Thought it would be nice to use an initial capacity for the results Collection that matches the capacity of the ABQ.  Not such an odd use case, no?  There are other ways around it for me (e.g. storing capacity as a static final and referencing that), but not necessarily in all cases."},{"owner":{"account_id":12205927,"reputation":563,"user_id":9691976,"display_name":"Mohammad Kholghi"},"score":0,"creation_date":1593968936,"post_id":2497063,"comment_id":110956053,"body_markdown":"Look at  https://stackoverflow.com/a/3564928/9691976","body":"Look at  <a href=\"https://stackoverflow.com/a/3564928/9691976\">stackoverflow.com/a/3564928/9691976</a>"}],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1564754569,"creation_date":1269309785,"answer_id":2497090,"question_id":2497063,"body_markdown":"I don&#39;t think this is possible.  What is your use case?  I believe C# ArrayLists have a `.capacity` property, but the Java ArrayList class doesn&#39;t expose this information.\r\n\r\nYou have the constructor that takes an initial capacity argument, and you have the `ensureCapacity()` method which you could use to reduce the amount of incremental reallocation.\r\n\r\nYou also have the `trimToSize()` method you can use if you are really worried about memory usage.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I don't think this is possible.  What is your use case?  I believe C# ArrayLists have a <code>.capacity</code> property, but the Java ArrayList class doesn't expose this information.</p>\n\n<p>You have the constructor that takes an initial capacity argument, and you have the <code>ensureCapacity()</code> method which you could use to reduce the amount of incremental reallocation.</p>\n\n<p>You also have the <code>trimToSize()</code> method you can use if you are really worried about memory usage.</p>\n"},{"tags":[],"owner":{"account_id":26261,"reputation":1495,"user_id":68150,"accept_rate":50,"display_name":"instcode"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1269309795,"creation_date":1269309795,"answer_id":2497092,"question_id":2497063,"body_markdown":"Don&#39;t remember if it has but you could do it yourself by looking at the source code of ArrayList. Java developers should take advantage of the source code bundled with the SDK.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Don't remember if it has but you could do it yourself by looking at the source code of ArrayList. Java developers should take advantage of the source code bundled with the SDK.</p>\n"},{"tags":[],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269309889,"creation_date":1269309889,"answer_id":2497094,"question_id":2497063,"body_markdown":"I just checked out the sun documentation on the &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/&quot;&gt;ArrayList&lt;/a&gt; class, and the only method I saw that related to the capacity was ensureCapacity(int minCapacity), which is not exactly what you want. Good luck!","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I just checked out the sun documentation on the <a href=\"http://java.sun.com/javase/6/docs/api/\" rel=\"nofollow noreferrer\">ArrayList</a> class, and the only method I saw that related to the capacity was ensureCapacity(int minCapacity), which is not exactly what you want. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1269310714,"creation_date":1269309987,"answer_id":2497100,"question_id":2497063,"body_markdown":"Looking at [ArrayList&#39;s spec][1] I see no method that provides this information. \r\n\r\nThat said, the [ensureCapacity][2] method does seem like a step in the right direction (caution: *it is does not guarantee a correct answer*): When called it ensures that the capacity is at least the specified argument. So, if the `ArrayList` implementation uses this method to ensure capacity (as opposed to calling some private method/manipulating the relevant fields directly) you can obtain the current capacity by overriding this method. You also need to override `trimToSize()` in a similar manner.\r\n\r\nOf course, this solution is not very portable as a different implementation of `ArrayList` (on a JVM from another vendor) may do things differently. \r\n\r\n\r\nHere&#39;s how the code should look like\r\n\r\n    public class CapacityTrackingArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n       // declare a constructor for each ArrayList constructor ...\r\n\r\n\r\n       // Now, capacity tracking stuff:\r\n       private int currentCapacity = 10;\r\n\r\n       public int getCapacity() { return currentCapacity; }\r\n\r\n       public void ensureCapacity(int arg) {\r\n         currentCapacity = arg;\r\n         super.ensureCapacity(arg);\r\n       }\r\n\r\n       public void trimToSize() { currentCapacity = size(); super.trimToSize(); }\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html#ensureCapacity%28int%29","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Looking at <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList's spec</a> I see no method that provides this information. </p>\n\n<p>That said, the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html#ensureCapacity%28int%29\" rel=\"nofollow noreferrer\">ensureCapacity</a> method does seem like a step in the right direction (caution: <em>it is does not guarantee a correct answer</em>): When called it ensures that the capacity is at least the specified argument. So, if the <code>ArrayList</code> implementation uses this method to ensure capacity (as opposed to calling some private method/manipulating the relevant fields directly) you can obtain the current capacity by overriding this method. You also need to override <code>trimToSize()</code> in a similar manner.</p>\n\n<p>Of course, this solution is not very portable as a different implementation of <code>ArrayList</code> (on a JVM from another vendor) may do things differently. </p>\n\n<p>Here's how the code should look like</p>\n\n<pre><code>public class CapacityTrackingArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n   // declare a constructor for each ArrayList constructor ...\n\n\n   // Now, capacity tracking stuff:\n   private int currentCapacity = 10;\n\n   public int getCapacity() { return currentCapacity; }\n\n   public void ensureCapacity(int arg) {\n     currentCapacity = arg;\n     super.ensureCapacity(arg);\n   }\n\n   public void trimToSize() { currentCapacity = size(); super.trimToSize(); }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1269329658,"creation_date":1269329658,"answer_id":2498232,"question_id":2497063,"body_markdown":"You can get it by reflection:\r\n\r\n    public abstract class ArrayListHelper {\r\n\r\n        static final Field field;\r\n        static {\r\n            try {\r\n                field = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n                field.setAccessible(true);\r\n            } catch (Exception e) {\r\n                throw new ExceptionInInitializerError(e);\r\n            }\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;E&gt; int getArrayListCapacity(ArrayList&lt;E&gt; arrayList) {\r\n            try {\r\n                final E[] elementData = (E[]) field.get(arrayList);\r\n                return elementData.length;\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }\r\n    }","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can get it by reflection:</p>\n\n<pre><code>public abstract class ArrayListHelper {\n\n    static final Field field;\n    static {\n        try {\n            field = ArrayList.class.getDeclaredField(\"elementData\");\n            field.setAccessible(true);\n        } catch (Exception e) {\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;E&gt; int getArrayListCapacity(ArrayList&lt;E&gt; arrayList) {\n        try {\n            final E[] elementData = (E[]) field.get(arrayList);\n            return elementData.length;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1375166773,"creation_date":1375166773,"answer_id":17940032,"question_id":2497063,"body_markdown":"You can use Vector instead of ArrayList. Vector supports capacity() method.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can use Vector instead of ArrayList. Vector supports capacity() method.</p>\n"},{"tags":[],"owner":{"account_id":7154325,"reputation":31,"user_id":5467330,"display_name":"Nishant Srivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504592686,"creation_date":1445347418,"answer_id":33237877,"question_id":2497063,"body_markdown":"Default capacity of `ArrayList` is 10.once the max size is reached,new capacity will be:\r\n\r\nnew capacity=(currentcapacity*3/2)+1.\r\n\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Default capacity of <code>ArrayList</code> is 10.once the max size is reached,new capacity will be:</p>\n\n<p>new capacity=(currentcapacity*3/2)+1.</p>\n"},{"tags":[],"owner":{"account_id":11437702,"reputation":124,"user_id":8384511,"display_name":"K_holla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501385560,"creation_date":1501385560,"answer_id":45396083,"question_id":2497063,"body_markdown":"The whole point of using ArrayList is to dynamically add new element, So there is no specific method to get the capacity of the ArrayList. \r\n\r\nEvery time we add an element dynamically causes reallocation and since reallocation is costly in terms of time, preventing reallocation improves performance and hence you can manually increase the capacity of ArrayList by calling ensureCapacity() but again you can not find out the capacity of the ArrayList. ","title":"How to get the capacity of the ArrayList in Java?","body":"<p>The whole point of using ArrayList is to dynamically add new element, So there is no specific method to get the capacity of the ArrayList. </p>\n\n<p>Every time we add an element dynamically causes reallocation and since reallocation is costly in terms of time, preventing reallocation improves performance and hence you can manually increase the capacity of ArrayList by calling ensureCapacity() but again you can not find out the capacity of the ArrayList. </p>\n"},{"tags":[],"owner":{"account_id":7375104,"reputation":908,"user_id":5614029,"display_name":"Shant Dashjian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524259780,"creation_date":1507483528,"answer_id":46633960,"question_id":2497063,"body_markdown":"You can get the current capacity of an ArrayList in Java using *reflection*. Here is an example:\r\n\r\n    package examples1;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.lang.reflect.Field;\r\n\r\n    public class Numbers {\r\n\r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\t\t    numbers.add(1);\r\n\t\t    System.out.println(getCapacity(numbers));\r\n\t    }\r\n\r\n\t    static int getCapacity(List al) throws Exception {\r\n\t\t    Field field = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n\t\t    field.setAccessible(true);\r\n\t\t    return ((Object[]) field.get(al)).length;\r\n\t    }\r\n    }\r\n\r\nThis will output: `10`\r\n\r\n**Notes:**\r\n\r\n 1. `getCapacity()` method modified from the original at http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html\r\n 2. Note that the default capacity of 10 is granted after the first add to the list. If you try this before adding, you will get an output of `0`\r\n 3. To force a capacity without adding, pass it in the constructor like so:\r\n \r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(20);\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can get the current capacity of an ArrayList in Java using <em>reflection</em>. Here is an example:</p>\n\n<pre><code>package examples1;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.lang.reflect.Field;\n\npublic class Numbers {\n\n    public static void main(String[] args) throws Exception {\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        numbers.add(1);\n        System.out.println(getCapacity(numbers));\n    }\n\n    static int getCapacity(List al) throws Exception {\n        Field field = ArrayList.class.getDeclaredField(\"elementData\");\n        field.setAccessible(true);\n        return ((Object[]) field.get(al)).length;\n    }\n}\n</code></pre>\n\n<p>This will output: <code>10</code></p>\n\n<p><strong>Notes:</strong></p>\n\n<ol>\n<li><code>getCapacity()</code> method modified from the original at <a href=\"http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html\" rel=\"noreferrer\">http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html</a></li>\n<li>Note that the default capacity of 10 is granted after the first add to the list. If you try this before adding, you will get an output of <code>0</code></li>\n<li><p>To force a capacity without adding, pass it in the constructor like so:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(20);\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10015346,"reputation":89,"user_id":7406832,"display_name":"susheelbhargavk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613681994,"creation_date":1613681994,"answer_id":66268090,"question_id":2497063,"body_markdown":"The default capacity is 2 for an Array List in java. I am not able to find the vague documentation I read a while ago. But the size will be zero upon initialization.\r\nOnce we add the third element it will creates an array of double the capacity in another memory location. The reference will be shifted accordingly and the previous array will be garbage collected\r\n\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>The default capacity is 2 for an Array List in java. I am not able to find the vague documentation I read a while ago. But the size will be zero upon initialization.\nOnce we add the third element it will creates an array of double the capacity in another memory location. The reference will be shifted accordingly and the previous array will be garbage collected</p>\n"},{"tags":[],"owner":{"account_id":29056580,"reputation":1,"user_id":22258239,"display_name":"Hameed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690110090,"creation_date":1690110090,"answer_id":76747885,"question_id":2497063,"body_markdown":"I dont think there is a direct method to check ArrayList Capacity. But, there is a method to Check the Size of the array list. \r\n\r\ns.o.p.ln(arraylist.size());\r\n\r\nYou can say this in interview. We cannot tell the ArrayList Capacity, but we can check the Size. Then, according to the size, we can calculate the Capacity by our own. Initial Capacity of Arraylist = 10. When it is full, new List is formed with a Capacity of CurrentCapacity * (3/2) +1   . So, in this method, you can calculate the capacity of ArrayList. ","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I dont think there is a direct method to check ArrayList Capacity. But, there is a method to Check the Size of the array list.</p>\n<p>s.o.p.ln(arraylist.size());</p>\n<p>You can say this in interview. We cannot tell the ArrayList Capacity, but we can check the Size. Then, according to the size, we can calculate the Capacity by our own. Initial Capacity of Arraylist = 10. When it is full, new List is formed with a Capacity of CurrentCapacity * (3/2) +1   . So, in this method, you can calculate the capacity of ArrayList.</p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48782,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":2497090,"answer_count":11,"score":27,"last_activity_date":1690110090,"creation_date":1269309409,"question_id":2497063,"body_markdown":"Its known that Java ArrayList is implemented using arrays and initializes with capacity of 10 and increases its size by 50% . How to get the current ArrayList capacity not the Size of the ArrayList.\r\n\r\nThx","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Its known that Java ArrayList is implemented using arrays and initializes with capacity of 10 and increases its size by 50% . How to get the current ArrayList capacity not the Size of the ArrayList.</p>\n\n<p>Thx</p>\n"},{"tags":["java","android","sdk","pos"],"comments":[{"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"score":0,"creation_date":1624436905,"post_id":68096216,"comment_id":120355973,"body_markdown":"Please edit the question. The images are missing.","body":"Please edit the question. The images are missing."},{"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"score":0,"creation_date":1624437557,"post_id":68096216,"comment_id":120356260,"body_markdown":"sorry the image link","body":"sorry the image link"},{"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"score":0,"creation_date":1624437562,"post_id":68096216,"comment_id":120356263,"body_markdown":"https://i.stack.imgur.com/jtb2H.jpg","body":"<a href=\"https://i.stack.imgur.com/jtb2H.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/jtb2H.jpg</a>"}],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624437023,"creation_date":1624437023,"answer_id":68096286,"question_id":68096216,"body_markdown":"It may be related to the `java.library.path` system property not being correct. You can try fixing it by passing the `-Djava.library.path=&lt;your-directory-containing-the-so-file&gt;` parameter.","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p>It may be related to the <code>java.library.path</code> system property not being correct. You can try fixing it by passing the <code>-Djava.library.path=&lt;your-directory-containing-the-so-file&gt;</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":12332405,"reputation":1,"user_id":12277287,"display_name":"uttom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690109068,"creation_date":1690109068,"answer_id":76747810,"question_id":68096216,"body_markdown":"\r\n\r\n[inside app &gt;&gt; build.gradle &gt;&gt; defaultConfig &gt;&gt; please paste this code][1]\r\n\r\n ndk {\r\n        moduleName &quot;app&quot;\r\n        abiFilters &quot;armeabi-v7a&quot;\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AoASd.png","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p><a href=\"https://i.stack.imgur.com/AoASd.png\" rel=\"nofollow noreferrer\">inside app &gt;&gt; build.gradle &gt;&gt; defaultConfig &gt;&gt; please paste this code</a></p>\n<p>ndk {\nmoduleName &quot;app&quot;\nabiFilters &quot;armeabi-v7a&quot;\n}</p>\n"}],"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690109068,"creation_date":1624436689,"question_id":68096216,"body_markdown":"\r\nI&#39;m trying To use NexGo SDK to print the receipt Using NexGo p200\r\nbut when I run the application I got the error that shown in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe Code is : \r\n\r\n    public void print() {\r\n        try {\r\n            deviceEngine =APIProxy.getDeviceEngine(MainActivity.this);\r\n            Log.e(&quot;device&quot;,deviceEngine.toString());\r\n        }catch (RuntimeException e){\r\n            e.printStackTrace();\r\n        }\r\n        printer = deviceEngine.getPrinter();\r\n        printer.setTypeface(Typeface.DEFAULT);\r\n        printer.initPrinter();\r\n        printer.setTypeface(Typeface.DEFAULT);\r\n        printer.setLetterSpacing(5);\r\n        printer.appendPrnStr(getString(R.string.print_merchantname), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_merchantno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_terminalno), getString(R.string.print_operator), 24, false);\r\n        printer.appendPrnStr(getString(R.string.print_issurebank), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_shoudan), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_expiredate), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.cardnum), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardinfo), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_tradetype), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_batchno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_voucher), getString(R.string.print_authorcode), 24, false);\r\n        printer.appendPrnStr(getString(R.string.print_refrenceno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_tradedate), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_amount), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.money), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_beizhu), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_originalvoucher), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_addinfo), 24, AlignEnum.LEFT, false);\r\n        printer.appendBarcode(getString(R.string.print_barcode), 50, 0, 2, BarcodeFormatEnum.CODE_128, AlignEnum.CENTER);\r\n        printer.appendQRcode(getString(R.string.print_qrcode), 200, AlignEnum.CENTER);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_merchant_dan), 24, AlignEnum.RIGHT, false);\r\n        printer.startPrint(false, new OnPrintListener() {\r\n            @Override\r\n            public void onPrintResult(final int retCode) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Toast.makeText(MainActivity.this, retCode + &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jtb2H.jpg","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p>I'm trying To use NexGo SDK to print the receipt Using NexGo p200\nbut when I run the application I got the error that shown in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/jtb2H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtb2H.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The Code is :</p>\n<pre><code>public void print() {\n    try {\n        deviceEngine =APIProxy.getDeviceEngine(MainActivity.this);\n        Log.e(&quot;device&quot;,deviceEngine.toString());\n    }catch (RuntimeException e){\n        e.printStackTrace();\n    }\n    printer = deviceEngine.getPrinter();\n    printer.setTypeface(Typeface.DEFAULT);\n    printer.initPrinter();\n    printer.setTypeface(Typeface.DEFAULT);\n    printer.setLetterSpacing(5);\n    printer.appendPrnStr(getString(R.string.print_merchantname), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_merchantno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_terminalno), getString(R.string.print_operator), 24, false);\n    printer.appendPrnStr(getString(R.string.print_issurebank), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_shoudan), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_expiredate), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.cardnum), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardinfo), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_tradetype), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_batchno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_voucher), getString(R.string.print_authorcode), 24, false);\n    printer.appendPrnStr(getString(R.string.print_refrenceno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_tradedate), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_amount), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.money), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_beizhu), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_originalvoucher), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_addinfo), 24, AlignEnum.LEFT, false);\n    printer.appendBarcode(getString(R.string.print_barcode), 50, 0, 2, BarcodeFormatEnum.CODE_128, AlignEnum.CENTER);\n    printer.appendQRcode(getString(R.string.print_qrcode), 200, AlignEnum.CENTER);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_merchant_dan), 24, AlignEnum.RIGHT, false);\n    printer.startPrint(false, new OnPrintListener() {\n        @Override\n        public void onPrintResult(final int retCode) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    Toast.makeText(MainActivity.this, retCode + &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","selenium","webdriver","microsoft-edge"],"comments":[{"owner":{"account_id":14272201,"reputation":10579,"user_id":10309381,"display_name":"Deepak-MSFT"},"score":0,"creation_date":1562338077,"post_id":56905050,"comment_id":100355135,"body_markdown":"Looks like you are making test with new MS Edge (Chromium). you can try to refer this thread may help you to get the idea about how to run it. Ref: https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530","body":"Looks like you are making test with new MS Edge (Chromium). you can try to refer this thread may help you to get the idea about how to run it. Ref: <a href=\"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530\" title=\"selenium and edge dev chromium based\">stackoverflow.com/questions/56076421/&hellip;</a>"},{"owner":{"account_id":14272201,"reputation":10579,"user_id":10309381,"display_name":"Deepak-MSFT"},"score":0,"creation_date":1565678903,"post_id":56905050,"comment_id":101417187,"body_markdown":"You can try to change new EdgeDriver() to new ChromeDriver(). New Edge web driver can only be work when initialized as a chrome driver. So you can try to replace it and again try to make a test. let us know about your testing result. We will try to provide further suggestions if issue persists.Thanks for your understanding.","body":"You can try to change new EdgeDriver() to new ChromeDriver(). New Edge web driver can only be work when initialized as a chrome driver. So you can try to replace it and again try to make a test. let us know about your testing result. We will try to provide further suggestions if issue persists.Thanks for your understanding."},{"owner":{"account_id":14043485,"reputation":1,"user_id":10144347,"display_name":"Archana Deshpande"},"score":0,"creation_date":1578637739,"post_id":56905050,"comment_id":105510931,"body_markdown":"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530 This worked for me.","body":"<a href=\"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530\" title=\"selenium and edge dev chromium based\">stackoverflow.com/questions/56076421/&hellip;</a> This worked for me."}],"answers":[{"tags":[],"owner":{"account_id":22930240,"reputation":1,"user_id":17064677,"display_name":"Vignesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690108557,"creation_date":1690108557,"answer_id":76747777,"question_id":56905050,"body_markdown":"import org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.edge.EdgeDriver;\r\n\r\npublic class Pr22072023 {\r\n\r\n    public static void main(String[] args){\r\n\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Qtree Tech\\\\Selenium\\\\Driver\\\\msedgedriver.exe&quot;);\r\n        WebDriver driver = new EdgeDriver();\r\n\r\n        driver.get(&quot;https://www.google.co.in/&quot;);\r\n\r\n        driver.close();\r\n    }\r\n\r\n}","title":"How can I start the selenium Microsoft Edge?","body":"<p>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.edge.EdgeDriver;</p>\n<p>public class Pr22072023 {</p>\n<pre><code>public static void main(String[] args){\n\n    System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Qtree Tech\\\\Selenium\\\\Driver\\\\msedgedriver.exe&quot;);\n    WebDriver driver = new EdgeDriver();\n\n    driver.get(&quot;https://www.google.co.in/&quot;);\n\n    driver.close();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16263924,"reputation":31,"user_id":11744557,"display_name":"Rafael Carneiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690108557,"creation_date":1562337091,"question_id":56905050,"body_markdown":"I&#39;m learning about Selenium webdriver test using Java to test my application.\r\n\r\nI&#39;m already implemented my tests to Google Chrome and Firefox, but the msedgedriver.exe is not opening the edge browser.\r\n\r\nI&#39;d like some help!\r\n\r\n\tpublic WebDriver getDriver() {\r\n\t\treturn driver;\r\n\t\t\r\n\t}\r\n\t\r\n\t@BeforeAll\r\n\t/*--- INICIALIZA&#199;&#195;O DO OGFIN*/\r\n\t\r\n\tpublic void abrirOgfin() throws Exception {\r\n\t\tString link;\r\n\t\tint x=2;\r\n\t\t\r\n\t\tswitch(x) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\firefox\\\\geckodriver.exe&quot;);\r\n\t\t\t\tdriver = new FirefoxDriver();\r\n\t\t\t\t//link = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\tlink = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;         //Local\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\edge\\\\msedgedriver.exe&quot;);\r\n\t\t\t\tdriver = new EdgeDriver();\r\n\t\t\t\t//link = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\tlink = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;         //Local\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\chromedriver.exe&quot;);\r\n\t\t\t\tdriver = new ChromeDriver();\r\n\t\t\t\tlink = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\t//link = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;     //Local\r\n\t\t}\r\n\t\t\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(link);\r\n\t}\r\n\r\nWhen I run the code, the console show: \r\n\r\n    Starting MSEdgeDriver 75.0.139.20 (02d0ed4079b152f381df65e7da8a795530021fb1) on port 9579\r\n    Only local connections are allowed.\r\n    Please protect ports used by the WebDriver and related test frameworks to prevent access by malicious code.\r\n    ","title":"How can I start the selenium Microsoft Edge?","body":"<p>I'm learning about Selenium webdriver test using Java to test my application.</p>\n\n<p>I'm already implemented my tests to Google Chrome and Firefox, but the msedgedriver.exe is not opening the edge browser.</p>\n\n<p>I'd like some help!</p>\n\n<pre><code>public WebDriver getDriver() {\n    return driver;\n\n}\n\n@BeforeAll\n/*--- INICIALIZAÇÃO DO OGFIN*/\n\npublic void abrirOgfin() throws Exception {\n    String link;\n    int x=2;\n\n    switch(x) {\n        case 1:\n            System.setProperty(\"webdriver.gecko.driver\", \"C:\\\\workspace\\\\conf\\\\firefox\\\\geckodriver.exe\");\n            driver = new FirefoxDriver();\n            //link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            link = \"http://192.168.1.46:8888/ogfin/Login\";         //Local\n            break;\n        case 2:\n            System.setProperty(\"webdriver.edge.driver\", \"C:\\\\workspace\\\\conf\\\\edge\\\\msedgedriver.exe\");\n            driver = new EdgeDriver();\n            //link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            link = \"http://192.168.1.46:8888/ogfin/Login\";         //Local\n            break;\n        default:\n            System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\workspace\\\\conf\\\\chromedriver.exe\");\n            driver = new ChromeDriver();\n            link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            //link = \"http://192.168.1.46:8888/ogfin/Login\";     //Local\n    }\n\n    driver.manage().window().maximize();\n    driver.get(link);\n}\n</code></pre>\n\n<p>When I run the code, the console show: </p>\n\n<pre><code>Starting MSEdgeDriver 75.0.139.20 (02d0ed4079b152f381df65e7da8a795530021fb1) on port 9579\nOnly local connections are allowed.\nPlease protect ports used by the WebDriver and related test frameworks to prevent access by malicious code.\n</code></pre>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690105932,"creation_date":1658959026,"answer_id":73145037,"question_id":72799807,"body_markdown":"You can create a method with your specific logic and use it with the property qualifiedByName:\r\n\r\nCause you don&#39;t provide the mapper, take this as an example.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MyMapper {\r\n    \r\n        @Mapping(target = &quot;targetFieldName&quot;, source = &quot;pdfFieldName&quot;, qualifiedByName = &quot;setTargetFieldName&quot;)\r\n        Target toTarget(Source source);\r\n\r\n        @Named(&quot;setTargetFieldName&quot;) \r\n        default String setTargetFieldName(String pdfFieldName){\r\n            return pdfFieldName.replace(&quot;apple&quot;, &quot;apples&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n- Official documentation: [adding-custom-methods][1]\r\n- Baeldung tutorial: [mapstruct-custom-mapper][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\r\n  [2]: https://www.baeldung.com/mapstruct-custom-mapper\r\n  [3]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"BeanMapping: Replace value in set within mapping expression?","body":"<p>You can create a method with your specific logic and use it with the property qualifiedByName:</p>\n<p>Cause you don't provide the mapper, take this as an example.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MyMapper {\n\n    @Mapping(target = &quot;targetFieldName&quot;, source = &quot;pdfFieldName&quot;, qualifiedByName = &quot;setTargetFieldName&quot;)\n    Target toTarget(Source source);\n\n    @Named(&quot;setTargetFieldName&quot;) \n    default String setTargetFieldName(String pdfFieldName){\n        return pdfFieldName.replace(&quot;apple&quot;, &quot;apples&quot;);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">adding-custom-methods</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">mapstruct-custom-mapper</a></li>\n</ul>\n"}],"owner":{"account_id":3033786,"reputation":25,"user_id":2572315,"display_name":"trypophobe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690105932,"creation_date":1656498396,"question_id":72799807,"body_markdown":"I have a string Set I&#39;m mapping into a bean for a PDF form content extraction:\r\n\r\n    @Mapping(target = &quot;targetFieldName&quot;, expression = &quot;java(contentMapperService.convertStringToSet(pdfFieldsMap.get(\\&quot;PDF_field_name\\&quot;)))&quot;)\r\n\r\nLet&#39;s say the input String from the PDF field is &quot;apple,banana&quot;\r\n\r\nIf we find the value &quot;apple&quot;, we want to replace it with &quot;apples&quot; before the set is mapped to the target.\r\n\r\nIs this possible to do within an expression?","title":"BeanMapping: Replace value in set within mapping expression?","body":"<p>I have a string Set I'm mapping into a bean for a PDF form content extraction:</p>\n<pre><code>@Mapping(target = &quot;targetFieldName&quot;, expression = &quot;java(contentMapperService.convertStringToSet(pdfFieldsMap.get(\\&quot;PDF_field_name\\&quot;)))&quot;)\n</code></pre>\n<p>Let's say the input String from the PDF field is &quot;apple,banana&quot;</p>\n<p>If we find the value &quot;apple&quot;, we want to replace it with &quot;apples&quot; before the set is mapped to the target.</p>\n<p>Is this possible to do within an expression?</p>\n"},{"tags":["java","recursion","data-structures"],"comments":[{"owner":{"account_id":3654040,"reputation":5772,"user_id":3045515,"accept_rate":93,"display_name":"Sambhav Sharma"},"score":0,"creation_date":1398508928,"post_id":23309691,"comment_id":35685945,"body_markdown":"that&#39;s probably because of the return null; at the end of the function? Did you try to debug your program step by step for small inputs? like one node, two nodes and three nodes? I think you will get what you&#39;re doing wrong by that..","body":"that&#39;s probably because of the return null; at the end of the function? Did you try to debug your program step by step for small inputs? like one node, two nodes and three nodes? I think you will get what you&#39;re doing wrong by that.."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1398511992,"post_id":23309691,"comment_id":35686940,"body_markdown":"You can investigate such problems yourself by using a debugger.","body":"You can investigate such problems yourself by using a debugger."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690105337,"creation_date":1398508954,"answer_id":23309732,"question_id":23309691,"body_markdown":"Your code is very close to working correctly. Here is the problem:\r\n\r\n    if (!prefix.equals(&quot;&quot;))\r\n        // You make a recursive invocation, and then...\r\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n    // ...ignore its return value, and return null instead!\r\n    return null;\r\n\r\nReplace with\r\n\r\n    if (!prefix.equals(&quot;&quot;))\r\n        return prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n    //  ^^^^^^\r\n    return null;\r\n\r\nto fix the problem.","title":"Recursive method returns only null in Java","body":"<p>Your code is very close to working correctly. Here is the problem:</p>\n<pre><code>if (!prefix.equals(&quot;&quot;))\n    // You make a recursive invocation, and then...\n    prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n// ...ignore its return value, and return null instead!\nreturn null;\n</code></pre>\n<p>Replace with</p>\n<pre><code>if (!prefix.equals(&quot;&quot;))\n    return prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n//  ^^^^^^\nreturn null;\n</code></pre>\n<p>to fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":89838,"reputation":37282,"user_id":247623,"accept_rate":72,"display_name":"Erik Kaplun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398509363,"creation_date":1398509014,"answer_id":23309734,"question_id":23309691,"body_markdown":"You are only ever returning `null` or the constant `STN` from the function. There is no way a meaningful/non-fixed value can even be returned. ","title":"Recursive method returns only null in Java","body":"<p>You are only ever returning <code>null</code> or the constant <code>STN</code> from the function. There is no way a meaningful/non-fixed value can even be returned. </p>\n"},{"tags":[],"owner":{"account_id":2790308,"reputation":1025,"user_id":2400664,"accept_rate":67,"display_name":"fasadat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690105311,"creation_date":1398509041,"answer_id":23309737,"question_id":23309691,"body_markdown":"To write a recursive method, replace\r\n\r\n     if (!prefix.equals(&quot;&quot;))\r\n            prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n\r\nwith\r\n\r\n     if (!prefix.equals(&quot;&quot;))\r\n          return  prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));","title":"Recursive method returns only null in Java","body":"<p>To write a recursive method, replace</p>\n<pre><code> if (!prefix.equals(&quot;&quot;))\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n</code></pre>\n<p>with</p>\n<pre><code> if (!prefix.equals(&quot;&quot;))\n      return  prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n</code></pre>\n"}],"owner":{"account_id":4112911,"reputation":107,"user_id":3375287,"accept_rate":71,"display_name":"BK Tomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":23309732,"answer_count":3,"score":1,"last_activity_date":1690105337,"creation_date":1398508728,"question_id":23309691,"body_markdown":"I&#39;ve written a recursive method that should return a tree node which fits a specific course. The method works great but instead of returning the value it returns only null.\r\nAny idea how to solve it? Here is the code: \r\n\r\n    private TrieNode&lt;String,V&gt; prefix_last_child(TrieNode&lt;String,V&gt; STN , String prefix) {\r\n\t\tif (prefix.equals(&quot;&quot;)) {\r\n\t\t\treturn STN;\r\n\t\t}\r\n\t\tchar[] prefix = prefix.toCharArray();\r\n\t\tif (STN.getNexts().get(alphabet_place(prefix[0])) == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!prefix.equals(&quot;&quot;))\r\n\t\t\tprefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n\t\treturn null;\r\n\t}","title":"Recursive method returns only null in Java","body":"<p>I've written a recursive method that should return a tree node which fits a specific course. The method works great but instead of returning the value it returns only null.\nAny idea how to solve it? Here is the code:</p>\n<pre><code>private TrieNode&lt;String,V&gt; prefix_last_child(TrieNode&lt;String,V&gt; STN , String prefix) {\n    if (prefix.equals(&quot;&quot;)) {\n        return STN;\n    }\n    char[] prefix = prefix.toCharArray();\n    if (STN.getNexts().get(alphabet_place(prefix[0])) == null) {\n        return null;\n    }\n    if (!prefix.equals(&quot;&quot;))\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673459870,"creation_date":1673459870,"answer_id":75087221,"question_id":75033308,"body_markdown":"Using just JOIN in your query merely narrows the results, eg - it won&#39;t loads banks without any clients and credit details.\r\n\r\nYou can tell hibernate to load each of these associations eagerly using JOIN FETCH jpql keyword.\r\n\r\n    SELECT bank\r\n    FROM Bank bank\r\n    JOIN FETCH bank.clients\r\n    JOIN FETCH bank.creditDetails\r\n    WHERE bank.id = :bankId\r\n\r\nKeep in mind that this is a jpql query, so you have to remove `nativeQuery = true` parameter. Also, note that by default, join is inner and not outer - meaning that this query also won&#39;t return a bank without clients or credit details. You can change that by using `LEFT JOIN FETCH`, but that will reduce performance, so choose whatever strategy suits best your use-case.\r\n\r\n[Further reading][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/","title":"How to load two collections of related entities with a minimum number of sql queries?","body":"<p>Using just JOIN in your query merely narrows the results, eg - it won't loads banks without any clients and credit details.</p>\n<p>You can tell hibernate to load each of these associations eagerly using JOIN FETCH jpql keyword.</p>\n<pre><code>SELECT bank\nFROM Bank bank\nJOIN FETCH bank.clients\nJOIN FETCH bank.creditDetails\nWHERE bank.id = :bankId\n</code></pre>\n<p>Keep in mind that this is a jpql query, so you have to remove <code>nativeQuery = true</code> parameter. Also, note that by default, join is inner and not outer - meaning that this query also won't return a bank without clients or credit details. You can change that by using <code>LEFT JOIN FETCH</code>, but that will reduce performance, so choose whatever strategy suits best your use-case.</p>\n<p><a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/\" rel=\"nofollow noreferrer\">Further reading</a></p>\n"}],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75087221,"answer_count":1,"score":0,"last_activity_date":1690105150,"creation_date":1673021131,"question_id":75033308,"body_markdown":"I have the entities:\r\n\r\nBank:\r\n\r\n```java\r\npublic class Bank {\r\n\r\n    @Id\r\n    @Column(name = &quot;bank_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;bank_name&quot;)\r\n    private String bankName;\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\r\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;CreditDetails&gt; creditDetails = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\r\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nClient:\r\n\r\n```java\r\npublic class Client {\r\n\r\n    @Id\r\n    @Column(name = &quot;client_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;client_name&quot;)\r\n    private String clientName;\r\n\r\n    @Column(name = &quot;client_surname&quot;)\r\n    private String clientSurName;\r\n\r\n    @Column(name = &quot;client_full_name&quot;)\r\n    private String clientFullName;\r\n\r\n    @Column(name = &quot;telephone_number&quot;)\r\n    private Long telephoneNumber;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;passport_number&quot;)\r\n    private Long passportNumber;\r\n\r\n    @ManyToOne(\r\n            cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;bank_id&quot;)\r\n    private Bank bank;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,\r\n            mappedBy = &quot;client&quot;)\r\n    private List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nCredit Details:\r\n\r\n```java\r\npublic class CreditDetails {\r\n\r\n    @Id\r\n    @Column(name = &quot;credit_details_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;credit_limit&quot;)\r\n    private BigDecimal creditLimit;\r\n\r\n    @Column(name = &quot;credit_percent&quot;)\r\n    private BigDecimal creditPercent;\r\n\r\n    @ManyToOne(targetEntity = Bank.class, cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;bank_id&quot;)\r\n    private Bank bank;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,\r\n            mappedBy = &quot;creditDetails&quot;)\r\n    List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nMy task is to load Clients and Credit Details with the least number of requests using Spring Data.\r\n\r\nI tried to solve this problem using graphs, I added the following construction above the bank entity:\r\n\r\n```java\r\n@NamedEntityGraph(name = &quot;BankWithClientsAndDetails&quot;, attributeNodes = {\r\n        @NamedAttributeNode(value = &quot;creditDetails&quot;),\r\n        @NamedAttributeNode(value = &quot;clients&quot;,subgraph = &quot;ClientWithBank&quot;)\r\n})\r\n```\r\n\r\nHowever, when calling the method, I received a `MultiBagFetchException`, googled that this occurs due to the fact that a Cartesian product is obtained in the request.\r\n\r\nNext, I tried to solve the problem by writing a SQL query manually, I made a test method of the following form:\r\n\r\n```java\r\n@Query(value = &quot;SELECT * FROM banks \\n&quot; +\r\n            &quot;JOIN clients ON clients.bank_id = banks.bank_id  \\n&quot; +\r\n            &quot;JOIN credit_details ON credit_details.bank_id = banks.bank_id \\n&quot; +\r\n            &quot;WHERE banks.bank_id = :id&quot;,nativeQuery = true)\r\n    Optional&lt;Bank&gt; findBankWithSubEntitiesById(@Param(value = &quot;id&quot;) UUID id);\r\n```\r\n\r\nThe number of requests has remained huge, since related entities have more related entities, and those have one more. At this stage, my hands dropped and I came to you to ask for help. How would you solve this situation? Do I really have to put up with N + 1 in my case. I would be grateful for any help","title":"How to load two collections of related entities with a minimum number of sql queries?","body":"<p>I have the entities:</p>\n<p>Bank:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bank {\n\n    @Id\n    @Column(name = &quot;bank_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private UUID id;\n\n    @Column(name = &quot;bank_name&quot;)\n    private String bankName;\n\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\n    private List&lt;CreditDetails&gt; creditDetails = new ArrayList&lt;&gt;();\n\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client {\n\n    @Id\n    @Column(name = &quot;client_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;client_name&quot;)\n    private String clientName;\n\n    @Column(name = &quot;client_surname&quot;)\n    private String clientSurName;\n\n    @Column(name = &quot;client_full_name&quot;)\n    private String clientFullName;\n\n    @Column(name = &quot;telephone_number&quot;)\n    private Long telephoneNumber;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;passport_number&quot;)\n    private Long passportNumber;\n\n    @ManyToOne(\n            cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;bank_id&quot;)\n    private Bank bank;\n\n    @OneToMany(cascade = CascadeType.ALL,\n            mappedBy = &quot;client&quot;)\n    private List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Credit Details:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CreditDetails {\n\n    @Id\n    @Column(name = &quot;credit_details_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;credit_limit&quot;)\n    private BigDecimal creditLimit;\n\n    @Column(name = &quot;credit_percent&quot;)\n    private BigDecimal creditPercent;\n\n    @ManyToOne(targetEntity = Bank.class, cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;bank_id&quot;)\n    private Bank bank;\n\n    @OneToMany(cascade = CascadeType.ALL,\n            mappedBy = &quot;creditDetails&quot;)\n    List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>My task is to load Clients and Credit Details with the least number of requests using Spring Data.</p>\n<p>I tried to solve this problem using graphs, I added the following construction above the bank entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedEntityGraph(name = &quot;BankWithClientsAndDetails&quot;, attributeNodes = {\n        @NamedAttributeNode(value = &quot;creditDetails&quot;),\n        @NamedAttributeNode(value = &quot;clients&quot;,subgraph = &quot;ClientWithBank&quot;)\n})\n</code></pre>\n<p>However, when calling the method, I received a <code>MultiBagFetchException</code>, googled that this occurs due to the fact that a Cartesian product is obtained in the request.</p>\n<p>Next, I tried to solve the problem by writing a SQL query manually, I made a test method of the following form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM banks \\n&quot; +\n            &quot;JOIN clients ON clients.bank_id = banks.bank_id  \\n&quot; +\n            &quot;JOIN credit_details ON credit_details.bank_id = banks.bank_id \\n&quot; +\n            &quot;WHERE banks.bank_id = :id&quot;,nativeQuery = true)\n    Optional&lt;Bank&gt; findBankWithSubEntitiesById(@Param(value = &quot;id&quot;) UUID id);\n</code></pre>\n<p>The number of requests has remained huge, since related entities have more related entities, and those have one more. At this stage, my hands dropped and I came to you to ask for help. How would you solve this situation? Do I really have to put up with N + 1 in my case. I would be grateful for any help</p>\n"},{"tags":["java","jarsigner"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1644462381,"post_id":71059252,"comment_id":125615661,"body_markdown":"I use (and recommend) [SDKMAN](https://sdkman.io/) to manage my Java environments.","body":"I use (and recommend) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN</a> to manage my Java environments."},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":2,"creation_date":1644462445,"post_id":71059252,"comment_id":125615674,"body_markdown":"I think you installed jre instead of jdk","body":"I think you installed jre instead of jdk"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644462601,"post_id":71059252,"comment_id":125615703,"body_markdown":"Or the environment variables are incorrectly configured. The jarsigner is in JAVA_HOME/bin.","body":"Or the environment variables are incorrectly configured. The jarsigner is in JAVA_HOME/bin."},{"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"score":0,"creation_date":1644462945,"post_id":71059252,"comment_id":125615761,"body_markdown":"my jarsigner location is here `% whereis jarsigner /usr/bin/jarsigner`","body":"my jarsigner location is here <code>% whereis jarsigner &#47;usr&#47;bin&#47;jarsigner</code>"},{"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"score":0,"creation_date":1644462976,"post_id":71059252,"comment_id":125615764,"body_markdown":"How to determine if jdk is installed?","body":"How to determine if jdk is installed?"}],"answers":[{"tags":[],"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1644467699,"creation_date":1644467699,"answer_id":71059860,"question_id":71059252,"body_markdown":"I finally solved it by downloading the [JDK][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>I finally solved it by downloading the <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"noreferrer\">JDK</a></p>\n"},{"tags":[],"owner":{"account_id":3627579,"reputation":611,"user_id":3024757,"display_name":"Polo"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1668452065,"creation_date":1663897907,"answer_id":73822244,"question_id":71059252,"body_markdown":"Mac users, follow the below steps:\r\n\r\n1. ```shell\r\n   brew install openjdk@11\r\n   ```\r\n1. For the system Java wrappers to find this JDK, symlink it with:\r\n   ```shell\r\n   sudo ln -sfn $(brew --prefix)/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n   ```\r\n\r\nReference: https://formulae.brew.sh/formula/openjdk@11\r\n\r\nThis approach will also work for other versions.\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>Mac users, follow the below steps:</p>\n<ol>\n<li>\n<pre class=\"lang-bash prettyprint-override\"><code>brew install openjdk@11\n</code></pre>\n</li>\n<li>For the system Java wrappers to find this JDK, symlink it with:\n<pre class=\"lang-bash prettyprint-override\"><code>sudo ln -sfn $(brew --prefix)/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n</code></pre>\n</li>\n</ol>\n<p>Reference: <a href=\"https://formulae.brew.sh/formula/openjdk@11\" rel=\"noreferrer\">https://formulae.brew.sh/formula/openjdk@11</a></p>\n<p>This approach will also work for other versions.</p>\n"},{"tags":[],"owner":{"account_id":29073415,"reputation":21,"user_id":22271171,"display_name":"Aleksandr Galko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690105011,"creation_date":1690105011,"answer_id":76747533,"question_id":71059252,"body_markdown":"You need to check jdk version which installed to our system.\r\nThis example is for mac os with m1.\r\n\r\nEnter in your terminal:\r\n\r\n    java -version\r\n\r\nOutput:\r\n\r\n    openjdk version &quot;1.8.0_372&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.70.0.23-CA-macos-aarch64) (build 1.8.0_372-b07)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.70.0.23-CA-macos-aarch64) (build 25.372-b07, mixed mode)\r\n\r\nThen input the commands:\r\n1. `sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk`\r\n\r\n2. echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n or ~/.bashrc\r\n3.  export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;\r\n\r\nIt worked for me\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>You need to check jdk version which installed to our system.\nThis example is for mac os with m1.</p>\n<p>Enter in your terminal:</p>\n<pre><code>java -version\n</code></pre>\n<p>Output:</p>\n<pre><code>openjdk version &quot;1.8.0_372&quot;\nOpenJDK Runtime Environment (Zulu 8.70.0.23-CA-macos-aarch64) (build 1.8.0_372-b07)\nOpenJDK 64-Bit Server VM (Zulu 8.70.0.23-CA-macos-aarch64) (build 25.372-b07, mixed mode)\n</code></pre>\n<p>Then input the commands:</p>\n<ol>\n<li><p><code>sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</code></p>\n</li>\n<li><p>echo 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\nor ~/.bashrc</p>\n</li>\n<li><p>export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n</li>\n</ol>\n<p>It worked for me</p>\n"}],"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79320,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":71059860,"answer_count":3,"score":28,"last_activity_date":1690105011,"creation_date":1644461839,"question_id":71059252,"body_markdown":"My purpose is to use jarsigner to sign apk.\r\n\r\nI get the following prompt：\r\n\r\n```\r\n% jarsigner     \r\nThe operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\nmy java version hint：\r\n\r\n```\r\n% java -version\r\njava version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n```\r\nMac version is 11.6.3 \r\n\r\nHow can I solve this problem please?\r\n\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>My purpose is to use jarsigner to sign apk.</p>\n<p>I get the following prompt：</p>\n<pre><code>% jarsigner     \nThe operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>my java version hint：</p>\n<pre><code>% java -version\njava version &quot;1.8.0_321&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n</code></pre>\n<p>Mac version is 11.6.3</p>\n<p>How can I solve this problem please?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1690102877,"post_id":76747388,"comment_id":135303977,"body_markdown":"Please [edit] and improve your question, showing what you&#39;ve tried and using your attempt to help write a better and more site-appropriate question. As written, it could be seen by some as a no-effort homework dump, putting it at risk of being closed. If you improve it as per the [How to Ask](https://stackoverflow.com/questions/how-to-ask), tour and [How do I ask and answer Homework questions](http://meta.stackexchange.com/a/10812/162852) links, then it has a better chance of remaining open and being answered.","body":"Please <a href=\"https://stackoverflow.com/posts/76747388/edit\">edit</a> and improve your question, showing what you&#39;ve tried and using your attempt to help write a better and more site-appropriate question. As written, it could be seen by some as a no-effort homework dump, putting it at risk of being closed. If you improve it as per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, tour and <a href=\"http://meta.stackexchange.com/a/10812/162852\">How do I ask and answer Homework questions</a> links, then it has a better chance of remaining open and being answered."}],"answers":[{"tags":[],"owner":{"account_id":20430190,"reputation":505,"user_id":14989217,"display_name":"S H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690104554,"creation_date":1690104554,"answer_id":76747510,"question_id":76747388,"body_markdown":"Create a &quot;pointer&quot; to the start of the array, just an int initialized to 0.&lt;br&gt;\r\nNow you have two possible cases, either the number you&#39;re currently pointing at is equal to the next one, in which case it&#39;s duplicated, or it&#39;s not and you can skip it.&lt;br&gt;\r\nIf it&#39;s not equal skip it, otherwise create a new temporary pointer and loop until it reaches a number that is different than the one pointed at by the original pointer, or you reached the end of the array.&lt;br&gt;\r\npseudocode:\r\n```python3\r\nind = 0\r\nwhile (ind&lt;(n-1)):\r\n    if arr[ind]==arr[ind+1]:\r\n        print(temp, end = &quot; &quot;)\r\n    temp = ind+1\r\n    while temp&lt;n and arr[temp]!=arr[ind]: temp+=1 #if not duplicate this will stop imediatly\r\n    ind = temp\r\n```","title":"Print the elements that occur more than once in a sorted array","body":"<p>Create a &quot;pointer&quot; to the start of the array, just an int initialized to 0.<br>\nNow you have two possible cases, either the number you're currently pointing at is equal to the next one, in which case it's duplicated, or it's not and you can skip it.<br>\nIf it's not equal skip it, otherwise create a new temporary pointer and loop until it reaches a number that is different than the one pointed at by the original pointer, or you reached the end of the array.<br>\npseudocode:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ind = 0\nwhile (ind&lt;(n-1)):\n    if arr[ind]==arr[ind+1]:\n        print(temp, end = &quot; &quot;)\n    temp = ind+1\n    while temp&lt;n and arr[temp]!=arr[ind]: temp+=1 #if not duplicate this will stop imediatly\n    ind = temp\n</code></pre>\n"}],"owner":{"account_id":29073275,"reputation":19,"user_id":22271060,"display_name":"Basavaraj. Malagi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1690104554,"creation_date":1690102524,"question_id":76747388,"body_markdown":"Print the elements that occur more than once in a sorted array.\r\n\r\nInput Format\r\nThe input consists of two lines:\r\n\r\nThe first line contains a single integer N, representing the size of the array (1 ≤ N ≤ 10^5).\r\n\r\nThe second line contains N space-separated integers, A[1], A[2], ..., A[N], representing the elements of the array (-10^9 ≤ A[i] ≤ 10^9).\r\n\r\nOutput Format\r\nPrint the repeating elements in a single line, separated by a space, or -1 if no element is repeating.\r\n\r\nSample Inputs &amp; Outputs\r\nSample Input 1\r\n8\r\n1 2 3 3 4 4 4 5\r\nSample Output 1\r\n3 4\r\n\r\n.\r\n\r\nOutput Format\r\nPrint\r\n the repeating elements in a single line, separated by a space, or -1 if no element is repeating.\r\nSample Inputs &amp; Outputs\r\nSample Input 1\r\n8\r\n1 2 3 3 4 4 4 5\r\nSample Output 1\r\n3 4","title":"Print the elements that occur more than once in a sorted array","body":"<p>Print the elements that occur more than once in a sorted array.</p>\n<p>Input Format\nThe input consists of two lines:</p>\n<p>The first line contains a single integer N, representing the size of the array (1 ≤ N ≤ 10^5).</p>\n<p>The second line contains N space-separated integers, A[1], A[2], ..., A[N], representing the elements of the array (-10^9 ≤ A[i] ≤ 10^9).</p>\n<p>Output Format\nPrint the repeating elements in a single line, separated by a space, or -1 if no element is repeating.</p>\n<p>Sample Inputs &amp; Outputs\nSample Input 1\n8\n1 2 3 3 4 4 4 5\nSample Output 1\n3 4</p>\n<p>.</p>\n<p>Output Format\nPrint\nthe repeating elements in a single line, separated by a space, or -1 if no element is repeating.\nSample Inputs &amp; Outputs\nSample Input 1\n8\n1 2 3 3 4 4 4 5\nSample Output 1\n3 4</p>\n"},{"tags":["java","sql","database","h2"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1299572881,"creation_date":1299538975,"answer_id":5226353,"question_id":5225700,"body_markdown":"&quot;By default, when an application calls `DriverManager.getConnection(url, ...)` and the database specified in the URL does not yet exist, a new (empty) database is created.&quot;—[H2 Database][1].\r\n\r\nAddendum: @Thomas Mueller shows how to [*Execute SQL on Connection*][2], but I sometimes just create and populate in the code, as suggested below.\r\n\r\n[1]:http://www.h2database.com/html/features.html#database_only_if_exists\r\n[2]:http://www.h2database.com/html/features.html#execute_sql_on_connection\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n    /** @see http://stackoverflow.com/questions/5225700 */\r\n    public class H2MemTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:h2:mem:&quot;, &quot;sa&quot;, &quot;&quot;);\r\n            Statement st = conn.createStatement();\r\n            st.execute(&quot;create table customer(id integer, name varchar(10))&quot;);\r\n            st.execute(&quot;insert into customer values (1, &#39;Thomas&#39;)&quot;);\r\n            Statement stmt = conn.createStatement();\r\n            ResultSet rset = stmt.executeQuery(&quot;select name from customer&quot;);\r\n            while (rset.next()) {\r\n                String name = rset.getString(1);\r\n                System.out.println(name);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>\"By default, when an application calls <code>DriverManager.getConnection(url, ...)</code> and the database specified in the URL does not yet exist, a new (empty) database is created.\"—<a href=\"http://www.h2database.com/html/features.html#database_only_if_exists\" rel=\"noreferrer\">H2 Database</a>.</p>\n\n<p>Addendum: @Thomas Mueller shows how to <a href=\"http://www.h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\"><em>Execute SQL on Connection</em></a>, but I sometimes just create and populate in the code, as suggested below.</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n/** @see http://stackoverflow.com/questions/5225700 */\npublic class H2MemTest {\n\n    public static void main(String[] args) throws Exception {\n        Connection conn = DriverManager.getConnection(\"jdbc:h2:mem:\", \"sa\", \"\");\n        Statement st = conn.createStatement();\n        st.execute(\"create table customer(id integer, name varchar(10))\");\n        st.execute(\"insert into customer values (1, 'Thomas')\");\n        Statement stmt = conn.createStatement();\n        ResultSet rset = stmt.executeQuery(\"select name from customer\");\n        while (rset.next()) {\n            String name = rset.getString(1);\n            System.out.println(name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":1,"up_vote_count":213,"is_accepted":true,"score":212,"last_activity_date":1373356969,"creation_date":1299560727,"answer_id":5228564,"question_id":5225700,"body_markdown":"Yes, H2 supports [executing SQL statements when connecting][1]. You could run a script, or just a statement or two:\r\n\r\n    String url = &quot;jdbc:h2:mem:test;&quot; + \r\n                 &quot;INIT=CREATE SCHEMA IF NOT EXISTS TEST&quot;\r\n    String url = &quot;jdbc:h2:mem:test;&quot; + \r\n                 &quot;INIT=CREATE SCHEMA IF NOT EXISTS TEST\\\\;&quot; + \r\n                      &quot;SET SCHEMA TEST&quot;;\r\n    String url = &quot;jdbc:h2:mem;&quot; + \r\n                 &quot;INIT=RUNSCRIPT FROM &#39;~/create.sql&#39;\\\\;&quot; + \r\n                      &quot;RUNSCRIPT FROM &#39;~/populate.sql&#39;&quot;;\r\n\r\nPlease note the double backslash (`\\\\`) is only required within Java. The backslash(es) before `;` within the `INIT` is required.\r\n\r\n  [1]: http://h2database.com/html/features.html#execute_sql_on_connection","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>Yes, H2 supports <a href=\"http://h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\">executing SQL statements when connecting</a>. You could run a script, or just a statement or two:</p>\n\n<pre><code>String url = \"jdbc:h2:mem:test;\" + \n             \"INIT=CREATE SCHEMA IF NOT EXISTS TEST\"\nString url = \"jdbc:h2:mem:test;\" + \n             \"INIT=CREATE SCHEMA IF NOT EXISTS TEST\\\\;\" + \n                  \"SET SCHEMA TEST\";\nString url = \"jdbc:h2:mem;\" + \n             \"INIT=RUNSCRIPT FROM '~/create.sql'\\\\;\" + \n                  \"RUNSCRIPT FROM '~/populate.sql'\";\n</code></pre>\n\n<p>Please note the double backslash (<code>\\\\</code>) is only required within Java. The backslash(es) before <code>;</code> within the <code>INIT</code> is required.</p>\n"},{"tags":[],"owner":{"account_id":1240724,"reputation":7675,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1629374833,"creation_date":1514539691,"answer_id":48020306,"question_id":5225700,"body_markdown":"If you are using spring with `application.yml`, the following will work for you:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:mem:mydb;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS calendar","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using spring with <code>application.yml</code>, the following will work for you:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:mydb;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS calendar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1523027677,"creation_date":1523025218,"answer_id":49695179,"question_id":5225700,"body_markdown":"What Thomas has written is correct, in addition to that, if you want to initialize multiple schemas you can use the following. Note there is a `\\\\;` separating the two create statements. \r\n\r\n        EmbeddedDatabase db = new EmbeddedDatabaseBuilder()\r\n                        .setType(EmbeddedDatabaseType.H2)\r\n                        .setName(&quot;testDb;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;INIT=create &quot; +\r\n                                &quot;schema if not exists &quot; +\r\n                                &quot;schema_a\\\\;create schema if not exists schema_b;&quot; +\r\n                                &quot;DB_CLOSE_DELAY=-1;&quot;)\r\n                        .addScript(&quot;sql/provPlan/createTable.sql&quot;)\r\n                        .addScript(&quot;sql/provPlan/insertData.sql&quot;)\r\n                        .addScript(&quot;sql/provPlan/insertSpecRel.sql&quot;)\r\n                        .build();\r\n\r\n\r\n\r\nref : http://www.h2database.com/html/features.html#execute_sql_on_connection","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>What Thomas has written is correct, in addition to that, if you want to initialize multiple schemas you can use the following. Note there is a <code>\\\\;</code> separating the two create statements. </p>\n\n<pre><code>    EmbeddedDatabase db = new EmbeddedDatabaseBuilder()\n                    .setType(EmbeddedDatabaseType.H2)\n                    .setName(\"testDb;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;INIT=create \" +\n                            \"schema if not exists \" +\n                            \"schema_a\\\\;create schema if not exists schema_b;\" +\n                            \"DB_CLOSE_DELAY=-1;\")\n                    .addScript(\"sql/provPlan/createTable.sql\")\n                    .addScript(\"sql/provPlan/insertData.sql\")\n                    .addScript(\"sql/provPlan/insertSpecRel.sql\")\n                    .build();\n</code></pre>\n\n<p>ref : <a href=\"http://www.h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\">http://www.h2database.com/html/features.html#execute_sql_on_connection</a></p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1575981783,"creation_date":1575922057,"answer_id":59255868,"question_id":5225700,"body_markdown":"If you are using Spring Framework with `application.yml` and having trouble to make the test find the SQL file on the `INIT` property, you can use the `classpath:` notation.\r\n\r\nFor example, if you have a `init.sql` SQL file on the `src/test/resources`, [just use][1]:\r\n\r\n    url=jdbc:h2:~/test;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;;DB_CLOSE_DELAY=-1;\r\n\r\n\r\n  [1]: https://cinhtau.net/2015/10/29/excecute-sql-on-connection-with-h2/","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using Spring Framework with <code>application.yml</code> and having trouble to make the test find the SQL file on the <code>INIT</code> property, you can use the <code>classpath:</code> notation.</p>\n\n<p>For example, if you have a <code>init.sql</code> SQL file on the <code>src/test/resources</code>, <a href=\"https://cinhtau.net/2015/10/29/excecute-sql-on-connection-with-h2/\" rel=\"noreferrer\">just use</a>:</p>\n\n<pre><code>url=jdbc:h2:~/test;INIT=RUNSCRIPT FROM 'classpath:init.sql';DB_CLOSE_DELAY=-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12058348,"reputation":116,"user_id":8818274,"accept_rate":75,"display_name":"Bozhidar Marinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624875024,"creation_date":1624875024,"answer_id":68161534,"question_id":5225700,"body_markdown":"If you are using spring and xml configuration, here is an example how this should be done:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n        destroy-method=&quot;close&quot; depends-on=&quot;h2Server&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n    &lt;property name=&quot;url&quot;\r\n              value=&quot;jdbc:h2:mem:testdb;INIT=RUNSCRIPT FROM &#39;classpath:db/create_tables.sql&#39;\\;RUNSCRIPT FROM &#39;classpath:db/insert.sql&#39;;TRACE_LEVEL_FILE=4;TRACE_LEVEL_SYSTEM_OUT=3;&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n &lt;/bean&gt;","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using spring and xml configuration, here is an example how this should be done:</p>\n<pre><code>&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\n    destroy-method=&quot;close&quot; depends-on=&quot;h2Server&quot;&gt;\n&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;\n&lt;property name=&quot;url&quot;\n          value=&quot;jdbc:h2:mem:testdb;INIT=RUNSCRIPT FROM 'classpath:db/create_tables.sql'\\;RUNSCRIPT FROM 'classpath:db/insert.sql';TRACE_LEVEL_FILE=4;TRACE_LEVEL_SYSTEM_OUT=3;&quot;/&gt;\n&lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\n&lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\n</code></pre>\n \n"},{"tags":[],"owner":{"account_id":1548558,"reputation":1083,"user_id":1441476,"accept_rate":40,"display_name":"Homayoun Behzadian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690101736,"creation_date":1690101736,"answer_id":76747333,"question_id":5225700,"body_markdown":"I had a problem that causes confusing message! I had been added \r\n```\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n```\r\nto the configuration for handling keyword names. but it keeps saying category `&quot;menu&quot;` does not exists.\r\nI tried to verify if INIT script is running by tampring it to something wrong, and h2 causes an error (which is a true behaviour).\r\nSo I was sure that `menu` schema will be generated. \r\n\r\nFinally I found that h2 database says `&quot;menu&quot;` schema does not exists not `menu` schema!\r\n\r\nThen I removed globally_quoted_identifiers and everything goes fine!","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>I had a problem that causes confusing message! I had been added</p>\n<pre><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>to the configuration for handling keyword names. but it keeps saying category <code>&quot;menu&quot;</code> does not exists.\nI tried to verify if INIT script is running by tampring it to something wrong, and h2 causes an error (which is a true behaviour).\nSo I was sure that <code>menu</code> schema will be generated.</p>\n<p>Finally I found that h2 database says <code>&quot;menu&quot;</code> schema does not exists not <code>menu</code> schema!</p>\n<p>Then I removed globally_quoted_identifiers and everything goes fine!</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167466,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":5228564,"answer_count":7,"score":116,"last_activity_date":1690101736,"creation_date":1299534644,"question_id":5225700,"body_markdown":"(I&#39;ve already seen the [H2 database In memory - Init schema via Spring/Hibernate][1] question; it is not applicable here.)\r\n\r\nI&#39;d like to know if there&#39;s a setting in H2 that will allow me to auto-create a schema upon connecting to it.  If it helps, I&#39;m only interested in the in-memory case.\r\n\r\nH2 supports various semicolon-separated modifiers at the end of the URL, but I didn&#39;t find one for automatically creating a schema.  Is there such a feature?\r\n\r\n  [1]: https://stackoverflow.com/questions/1945175/h2-database-in-memory-init-schema-via-spring-hibernate","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>(I've already seen the <a href=\"https://stackoverflow.com/questions/1945175/h2-database-in-memory-init-schema-via-spring-hibernate\">H2 database In memory - Init schema via Spring/Hibernate</a> question; it is not applicable here.)</p>\n\n<p>I'd like to know if there's a setting in H2 that will allow me to auto-create a schema upon connecting to it.  If it helps, I'm only interested in the in-memory case.</p>\n\n<p>H2 supports various semicolon-separated modifiers at the end of the URL, but I didn't find one for automatically creating a schema.  Is there such a feature?</p>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":26194357,"reputation":15,"user_id":19875663,"display_name":"Luffyyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690101091,"creation_date":1690101091,"question_id":76747301,"body_markdown":"I am creating a new web application but my servlet cant seem to map to my controller\r\n\r\n**Web.xml**\r\n[![enter image description here](https://i.stack.imgur.com/UPLwJ.png)](https://i.stack.imgur.com/UPLwJ.png)\r\n**servlet.xml**\r\n[![enter image description here](https://i.stack.imgur.com/0GwFl.png)](https://i.stack.imgur.com/0GwFl.png)\r\n**Controller**\r\n[![enter image description here](https://i.stack.imgur.com/wZuFB.png)](https://i.stack.imgur.com/wZuFB.png)\r\n**Project explorer**\r\nis there anything wrong with the placement of my jsp?\r\n[![enter image description here](https://i.stack.imgur.com/DTaRb.png)](https://i.stack.imgur.com/DTaRb.png)\r\n\r\nI have configured the web.xml and servlet.xml and also annotated my Controller but i keep getting error 404 not found and my console does not show any error.","title":"Spring MVC gives error 404 not found with InternalResourceViewResolver","body":"<p>I am creating a new web application but my servlet cant seem to map to my controller</p>\n<p><strong>Web.xml</strong>\n<a href=\"https://i.stack.imgur.com/UPLwJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UPLwJ.png\" alt=\"enter image description here\" /></a>\n<strong>servlet.xml</strong>\n<a href=\"https://i.stack.imgur.com/0GwFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0GwFl.png\" alt=\"enter image description here\" /></a>\n<strong>Controller</strong>\n<a href=\"https://i.stack.imgur.com/wZuFB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZuFB.png\" alt=\"enter image description here\" /></a>\n<strong>Project explorer</strong>\nis there anything wrong with the placement of my jsp?\n<a href=\"https://i.stack.imgur.com/DTaRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTaRb.png\" alt=\"enter image description here\" /></a></p>\n<p>I have configured the web.xml and servlet.xml and also annotated my Controller but i keep getting error 404 not found and my console does not show any error.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":5,"creation_date":1574272220,"post_id":58960449,"comment_id":104176204,"body_markdown":"[Code Review](https://codereview.stackexchange.com/) site is better suited for such questions.","body":"<a href=\"https://codereview.stackexchange.com/\">Code Review</a> site is better suited for such questions."},{"owner":{"account_id":959813,"reputation":116474,"user_id":984421,"display_name":"ekhumoro"},"score":2,"creation_date":1574272407,"post_id":58960449,"comment_id":104176311,"body_markdown":"I&#39;m voting to close this question as off-topic because it is asking to review code that is already working.","body":"I&#39;m voting to close this question as off-topic because it is asking to review code that is already working."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1574272529,"post_id":58960449,"comment_id":104176373,"body_markdown":"use arraylist.  You can easily remove items from the list and eliminate the last for loop","body":"use arraylist.  You can easily remove items from the list and eliminate the last for loop"}],"answers":[{"tags":[],"owner":{"account_id":36812,"reputation":3352,"user_id":105085,"accept_rate":67,"display_name":"palako"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574272800,"creation_date":1574272800,"answer_id":58960671,"question_id":58960449,"body_markdown":"Yes, you can reduce the complexity of this to O(n). Iterate the input array just once and for each new element found create an entry in a hash map with a value of 1. If you find a repeated entry, increment the value of that entry in the map.\r\n\r\nWhen you complete the pass, iterate the items in the map dividing their values by two, keep only the integer part of the division, and add the cumulative sum. ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Yes, you can reduce the complexity of this to O(n). Iterate the input array just once and for each new element found create an entry in a hash map with a value of 1. If you find a repeated entry, increment the value of that entry in the map.</p>\n\n<p>When you complete the pass, iterate the items in the map dividing their values by two, keep only the integer part of the division, and add the cumulative sum. </p>\n"},{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1574273768,"creation_date":1574272857,"answer_id":58960683,"question_id":58960449,"body_markdown":"You can solve this in a single pass (`O(n)`) using a [`HashSet`][1], which has `O(1)` put and lookup time. Each element is already in the set, in which case it gets removed and the pair counter is incremented, or it&#39;s not, in which case you add it:\r\n\r\n    int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\r\n\r\n    HashSet&lt;Integer&gt; unmatched = new HashSet&lt;&gt;();\r\n    int pairs = 0;\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n        if(!unmatched.add(arr[i])) {\r\n            unmatched.remove(arr[i]);\r\n            pairs++;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>You can solve this in a single pass (<code>O(n)</code>) using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"noreferrer\"><code>HashSet</code></a>, which has <code>O(1)</code> put and lookup time. Each element is already in the set, in which case it gets removed and the pair counter is incremented, or it's not, in which case you add it:</p>\n\n<pre><code>int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\n\nHashSet&lt;Integer&gt; unmatched = new HashSet&lt;&gt;();\nint pairs = 0;\nfor(int i = 0; i &lt; arr.length; i++) {\n    if(!unmatched.add(arr[i])) {\n        unmatched.remove(arr[i]);\n        pairs++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586665020,"creation_date":1586665020,"answer_id":61166789,"question_id":58960449,"body_markdown":"    package com.java.example.sock;\r\n    \r\n    import java.io.IOException;\r\n    /**\r\n     * \r\n     * @author Vaquar Khan\r\n     *\r\n     */\r\n    public class Solution1 {\r\n    \r\n    // Complete the sockMerchant function below.\r\n    \t/*\r\n    \t * John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs\r\n         * of socks with matching colors there are.\r\n         * For example, there are  socks with colors . There is one pair of color  and one of color . There are three odd socks left, one of each color. The number of pairs is .\r\n    \t */\r\n    \tstatic int sockMerchant(int n, int[] ar) {\r\n    \r\n    \t\tint counter = 0;\r\n    \t\tint count = 0;\r\n    \t\t//\r\n    \t\tfor (int i = 0; i &lt; ar.length; i++) {\r\n    \t\t\tcount = 1;\r\n    \t\t\t//\r\n    \t\t\tfor (int j = i + 1; j &lt; ar.length; j++) {\r\n    \t\t\t\tif (ar[i] == ar[j]) {\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (count % 2 == 0) {\r\n    \t\t\t\tcounter++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn counter;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tint array[] = { 10, 20, 20 ,10 ,10, 30, 50, 10 ,20};\r\n    \r\n    \t\tSystem.out.println(sockMerchant(9, array));\r\n    \t}\r\n    }\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>package com.java.example.sock;\n\nimport java.io.IOException;\n/**\n * \n * @author Vaquar Khan\n *\n */\npublic class Solution1 {\n\n// Complete the sockMerchant function below.\n    /*\n     * John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs\n     * of socks with matching colors there are.\n     * For example, there are  socks with colors . There is one pair of color  and one of color . There are three odd socks left, one of each color. The number of pairs is .\n     */\n    static int sockMerchant(int n, int[] ar) {\n\n        int counter = 0;\n        int count = 0;\n        //\n        for (int i = 0; i &lt; ar.length; i++) {\n            count = 1;\n            //\n            for (int j = i + 1; j &lt; ar.length; j++) {\n                if (ar[i] == ar[j]) {\n                    count++;\n                }\n            }\n\n            if (count % 2 == 0) {\n                counter++;\n            }\n        }\n\n        return counter;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        int array[] = { 10, 20, 20 ,10 ,10, 30, 50, 10 ,20};\n\n        System.out.println(sockMerchant(9, array));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10838861,"reputation":11,"user_id":13179717,"display_name":"J David Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588909096,"creation_date":1588909096,"answer_id":61671628,"question_id":58960449,"body_markdown":"Here my solution with JAVA for Sock Merchant test on HackerRank\r\n \r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class sockMerchant {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner en = new Scanner(System.in);\r\n        int n=en.nextInt();\r\n        int[] hash = new int[300];\r\n        for(int i=0; i&lt;n; i++){\r\n            hash[en.nextInt()]++;\r\n        }\r\n        long res=0;\r\n        for(int f: hash){\r\n            res+=f/2;\r\n        }\r\n        System.out.println(res);\r\n     }\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here my solution with JAVA for Sock Merchant test on HackerRank</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class sockMerchant {\n\npublic static void main(String[] args) {\n    Scanner en = new Scanner(System.in);\n    int n=en.nextInt();\n    int[] hash = new int[300];\n    for(int i=0; i&lt;n; i++){\n        hash[en.nextInt()]++;\n    }\n    long res=0;\n    for(int f: hash){\n        res+=f/2;\n    }\n    System.out.println(res);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9718766,"reputation":1,"user_id":7208146,"display_name":"rajesh revanwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594014822,"creation_date":1594014822,"answer_id":62750014,"question_id":58960449,"body_markdown":"    Refer below one using HashMap and having complexity O(1)\r\n    \r\n    static int sockMerchant(int n, int[] ar) {\r\n            int pairs=0;\r\n            Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i=0;i&lt;n;i++){\r\n                if(map.containsKey(ar[i])){\r\n                    int count=map.get(ar[i]);\r\n                    map.put(ar[i],++count);\r\n                }\r\n                else{\r\n                    map.put(ar[i],1);\r\n                }\r\n            }\r\n            for(int i : map.values()){\r\n                pairs=pairs+(i/2);\r\n            } \r\n            return pairs;\r\n    \r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>Refer below one using HashMap and having complexity O(1)\n\nstatic int sockMerchant(int n, int[] ar) {\n        int pairs=0;\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i=0;i&lt;n;i++){\n            if(map.containsKey(ar[i])){\n                int count=map.get(ar[i]);\n                map.put(ar[i],++count);\n            }\n            else{\n                map.put(ar[i],1);\n            }\n        }\n        for(int i : map.values()){\n            pairs=pairs+(i/2);\n        } \n        return pairs;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19174943,"reputation":11,"user_id":14007842,"display_name":"Divyansh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595923158,"creation_date":1595919705,"answer_id":63128657,"question_id":58960449,"body_markdown":"Py3 solution for the problem using dictionaries\r\n```py\r\ndef sockMerchant(n, ar):\r\n    pair = 0\r\n    d = {}\r\n    for i in ar:\r\n        if i in d:\r\n            d[i] += 1\r\n        if i not in d:\r\n            d[i] = 1\r\n    print(d)\r\n    for x in d:\r\n        u = d[x]//2\r\n        pair += u\r\n    return pair\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Py3 solution for the problem using dictionaries</p>\n<pre class=\"lang-py prettyprint-override\"><code>def sockMerchant(n, ar):\n    pair = 0\n    d = {}\n    for i in ar:\n        if i in d:\n            d[i] += 1\n        if i not in d:\n            d[i] = 1\n    print(d)\n    for x in d:\n        u = d[x]//2\n        pair += u\n    return pair\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16834527,"reputation":1,"user_id":12171580,"display_name":"ahror nematov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598785147,"creation_date":1598785147,"answer_id":63656730,"question_id":58960449,"body_markdown":"    static int sockMerchant(int n, int[] ar) {\r\n        int pairs = 0;\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            int counter = 0;\r\n            for (int j = 0; j &lt; ar.length; j++) {\r\n                if (j &lt; i &amp;&amp; ar[j] == ar[i]) break;\r\n                if(ar[j]==ar[i]) counter++;\r\n            }\r\n            pairs+=counter/2;\r\n        }\r\n        return pairs;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>static int sockMerchant(int n, int[] ar) {\n    int pairs = 0;\n    for (int i = 0; i &lt; ar.length; i++) {\n        int counter = 0;\n        for (int j = 0; j &lt; ar.length; j++) {\n            if (j &lt; i &amp;&amp; ar[j] == ar[i]) break;\n            if(ar[j]==ar[i]) counter++;\n        }\n        pairs+=counter/2;\n    }\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389938,"reputation":108,"user_id":9662571,"display_name":"Pravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600060820,"creation_date":1600060820,"answer_id":63878474,"question_id":58960449,"body_markdown":"Code for python 3 \r\n\r\n    n = 9\r\n    ar = [10, 20, 20, 10, 10, 30, 50, 10, 20]\r\n    def sockMerchant(n, ar):\r\n        totalpair = 0\r\n        test= list(set(ar))\r\n        for i in test:\r\n            pair = 0\r\n            for j in ar:\r\n                if i==j:\r\n                    pair+=1\r\n            if pair&gt;=2:\r\n                totalpair=totalpair+int(pair/2)\r\n        return totalpair\r\n    print(sockMerchant(n,ar))\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Code for python 3</p>\n<pre><code>n = 9\nar = [10, 20, 20, 10, 10, 30, 50, 10, 20]\ndef sockMerchant(n, ar):\n    totalpair = 0\n    test= list(set(ar))\n    for i in test:\n        pair = 0\n        for j in ar:\n            if i==j:\n                pair+=1\n        if pair&gt;=2:\n            totalpair=totalpair+int(pair/2)\n    return totalpair\nprint(sockMerchant(n,ar))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19541044,"reputation":1,"user_id":14298772,"display_name":"Prabhat kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600411585,"creation_date":1600411585,"answer_id":63950601,"question_id":58960449,"body_markdown":"def sockMerchant(n, ar):\r\n    \r\n    socks = dict()\r\n    pairs = 0\r\n    for i in ar:\r\n        if i in socks:\r\n            socks[i] = socks[i]+1\r\n        if i not in socks:\r\n            socks[i] = 1\r\n        if socks[i]%2 == 0:\r\n            pairs += 1\r\n    \r\n    return pairs  ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>def sockMerchant(n, ar):</p>\n<pre><code>socks = dict()\npairs = 0\nfor i in ar:\n    if i in socks:\n        socks[i] = socks[i]+1\n    if i not in socks:\n        socks[i] = 1\n    if socks[i]%2 == 0:\n        pairs += 1\n\nreturn pairs  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17948592,"reputation":49,"user_id":13042253,"display_name":"VMaz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1609362620,"creation_date":1609362278,"answer_id":65513571,"question_id":58960449,"body_markdown":"This works for java 8!!\r\n\r\n```\r\nstatic int sockMerchant(int n, int[] ar) {\r\n        Set&lt;Integer&gt; list = new HashSet&lt;Integer&gt;();\r\n        int count = 0;\r\n        for(int i= 0; i &lt; n; i++){\r\n            if(list.contains(ar[i])){\r\n                count++;\r\n                list.remove(ar[i]);\r\n            }\r\n            else{\r\n                list.add(ar[i]);\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This works for java 8!!</p>\n<pre><code>static int sockMerchant(int n, int[] ar) {\n        Set&lt;Integer&gt; list = new HashSet&lt;Integer&gt;();\n        int count = 0;\n        for(int i= 0; i &lt; n; i++){\n            if(list.contains(ar[i])){\n                count++;\n                list.remove(ar[i]);\n            }\n            else{\n                list.add(ar[i]);\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15188234,"reputation":11,"user_id":10959540,"display_name":"Qazi Arsalan shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612813104,"creation_date":1612813104,"answer_id":66108207,"question_id":58960449,"body_markdown":"**We can use a Hash Table, for it. As Hash Table&#39;s Complexity is O(1)**&lt;br&gt;\r\nLook at below code snippet, i created a dictionary in python i.e. Hash Table having key and value. In dictionary, there only exists a unique Key for each value. So, at start dictionary will be empty. We will loop over the provided list and check values in dictionary keys. If that value is not in dictionary key, it means it is unique, add it to the dictionary. if we find value in dictionary key, simply increment **pairs counter** and remove that key value pair from hash table i.e. dictionary.\r\n  \r\n\r\n    def sockMerchant(n, ar):\r\n        hash_map = dict()\r\n        pairs = 0\r\n        for x in range(len(ar)):\r\n            if ar[x] in hash_map.keys():\r\n                del hash_map[ar[x]]\r\n                pairs += 1\r\n            else:\r\n                hash_map.setdefault(ar[x])\r\n        return pairs\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><strong>We can use a Hash Table, for it. As Hash Table's Complexity is O(1)</strong><br>\nLook at below code snippet, i created a dictionary in python i.e. Hash Table having key and value. In dictionary, there only exists a unique Key for each value. So, at start dictionary will be empty. We will loop over the provided list and check values in dictionary keys. If that value is not in dictionary key, it means it is unique, add it to the dictionary. if we find value in dictionary key, simply increment <strong>pairs counter</strong> and remove that key value pair from hash table i.e. dictionary.</p>\n<pre><code>def sockMerchant(n, ar):\n    hash_map = dict()\n    pairs = 0\n    for x in range(len(ar)):\n        if ar[x] in hash_map.keys():\n            del hash_map[ar[x]]\n            pairs += 1\n        else:\n            hash_map.setdefault(ar[x])\n    return pairs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19681974,"reputation":71,"user_id":14408887,"display_name":"Hardik poudel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614575092,"creation_date":1614575092,"answer_id":66416912,"question_id":58960449,"body_markdown":"This is my simple code for beginners to understand using c++ which prints the count of numbers of pair in the user-defined vector:\r\n```\r\n#include &lt;bits/stdc++.h&gt;\r\n\r\nusing namespace std;\r\n\r\nvector&lt;string&gt; split_string(string);\r\n\r\n// Complete the sockMerchant function below.\r\nint sockMerchant(int n, vector&lt;int&gt; ar) {\r\n  int count=0;\r\n  vector&lt;int&gt; x;\r\n  for(int i=0;i&lt;n;i++){\r\n    if(ar[i]!=0)\r\n    {\r\n      for(int j=i+1;j&lt;n;j++)\r\n        {\r\n          if(ar[i]==ar[j]){\r\n            count++;\r\n            ar[j]=0;\r\n            break;\r\n        }\r\n    }}\r\n  }\r\n  return count;\r\n}\r\n\r\nint main()\r\n{\r\n  int a,b;\r\n  vector&lt;int&gt; v;\r\n  cin&gt;&gt;a;\r\n  for(int i=0;i&lt;a;i++){\r\n    cin&gt;&gt;b;\r\n    v.push_back(b);\r\n    \r\n  }\r\n  cout&lt;&lt;sockMerchant(a,v);\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This is my simple code for beginners to understand using c++ which prints the count of numbers of pair in the user-defined vector:</p>\n<pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nvector&lt;string&gt; split_string(string);\n\n// Complete the sockMerchant function below.\nint sockMerchant(int n, vector&lt;int&gt; ar) {\n  int count=0;\n  vector&lt;int&gt; x;\n  for(int i=0;i&lt;n;i++){\n    if(ar[i]!=0)\n    {\n      for(int j=i+1;j&lt;n;j++)\n        {\n          if(ar[i]==ar[j]){\n            count++;\n            ar[j]=0;\n            break;\n        }\n    }}\n  }\n  return count;\n}\n\nint main()\n{\n  int a,b;\n  vector&lt;int&gt; v;\n  cin&gt;&gt;a;\n  for(int i=0;i&lt;a;i++){\n    cin&gt;&gt;b;\n    v.push_back(b);\n    \n  }\n  cout&lt;&lt;sockMerchant(a,v);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19999087,"reputation":11,"user_id":14658441,"display_name":"Coding Master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617472177,"creation_date":1617472177,"answer_id":66934209,"question_id":58960449,"body_markdown":"This problem can be done easily with a hashset. We can take advantage of the HashSet&#39;s ability to not store duplicate elements. Here is the code below. \r\n\r\n   \r\n\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        int pairCount = 0;\r\n        for(int i = 0; i &lt; arr.length; i++) {\r\n            if(set.add(a[i])\r\n               set.add(a[i])\r\n            else {\r\n               pairCount++; \r\n               set.remove(a[i]);\r\n            }\r\n        }\r\n        return pairCount;","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This problem can be done easily with a hashset. We can take advantage of the HashSet's ability to not store duplicate elements. Here is the code below.</p>\n<pre><code>    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    int pairCount = 0;\n    for(int i = 0; i &lt; arr.length; i++) {\n        if(set.add(a[i])\n           set.add(a[i])\n        else {\n           pairCount++; \n           set.remove(a[i]);\n        }\n    }\n    return pairCount;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2756471,"reputation":129,"user_id":2374387,"display_name":"Purushotam Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621283795,"creation_date":1621283795,"answer_id":67576729,"question_id":58960449,"body_markdown":"   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    /*\r\n     * Complete the &#39;sockMerchant&#39; function below.\r\n     *\r\n     * The function is expected to return an INTEGER.\r\n     * The function accepts following parameters:\r\n     *  1. INTEGER n\r\n     *  2. INTEGER_ARRAY ar\r\n     */\r\n\r\n    function sockMerchant(n, ar) {\r\n        // Write your code here    \r\n        let count = [];\r\n        for (var i = 0; i &lt; ar.length; i++) {\r\n            if (count.hasOwnProperty(ar[i])) {\r\n                count[ar[i]]++;\r\n            }\r\n            else {\r\n                count[ar[i]] = 1;\r\n            }\r\n        }\r\n        \r\n        let number = 0;\r\n        for (const key in count) {\r\n            number += parseInt(count[key] / 2);\r\n        }\r\n        return number;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>/*\n * Complete the 'sockMerchant' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER n\n *  2. INTEGER_ARRAY ar\n */\n\nfunction sockMerchant(n, ar) {\n    // Write your code here    \n    let count = [];\n    for (var i = 0; i &lt; ar.length; i++) {\n        if (count.hasOwnProperty(ar[i])) {\n            count[ar[i]]++;\n        }\n        else {\n            count[ar[i]] = 1;\n        }\n    }\n    \n    let number = 0;\n    for (const key in count) {\n        number += parseInt(count[key] / 2);\n    }\n    return number;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18271963,"reputation":41,"user_id":13302562,"display_name":"Swapnamoy Hazra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622260545,"creation_date":1622260545,"answer_id":67747594,"question_id":58960449,"body_markdown":"    My answer in C\r\n            int sockMerchant(int n, int ar_count, int* ar) {\r\n            int matchcounter =0;// each number repeating count\r\n            int paircounter=0;//total pair\r\n            int size=0;int i,j,k;\r\n            bool num_av=false;//number available or not in new array\r\n            int numberarray[n];//creating new (same length) array of length n\r\n           for(i=0;i&lt;n;i++){\r\n              num_av=false;\r\n              for(k=0;k&lt;=size;k++){\r\n                if(numberarray[k] == ar[i]){\r\n                  num_av=true;\r\n                  break;  \r\n                }\r\n              }\r\n              if(!num_av){\r\n                    size+=1;\r\n                    numberarray[size-1]=ar[i];\r\n                    for(j=0;j&lt;n;j++){\r\n                        if(ar[i]==ar[j]){\r\n                            matchcounter++;\r\n                        }\r\n                    }\r\n                    paircounter += matchcounter/2;\r\n                    matchcounter=0;\r\n              }\r\n               \r\n           }\r\n           return paircounter;\r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>My answer in C\n        int sockMerchant(int n, int ar_count, int* ar) {\n        int matchcounter =0;// each number repeating count\n        int paircounter=0;//total pair\n        int size=0;int i,j,k;\n        bool num_av=false;//number available or not in new array\n        int numberarray[n];//creating new (same length) array of length n\n       for(i=0;i&lt;n;i++){\n          num_av=false;\n          for(k=0;k&lt;=size;k++){\n            if(numberarray[k] == ar[i]){\n              num_av=true;\n              break;  \n            }\n          }\n          if(!num_av){\n                size+=1;\n                numberarray[size-1]=ar[i];\n                for(j=0;j&lt;n;j++){\n                    if(ar[i]==ar[j]){\n                        matchcounter++;\n                    }\n                }\n                paircounter += matchcounter/2;\n                matchcounter=0;\n          }\n           \n       }\n       return paircounter;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16871184,"reputation":1,"user_id":12199642,"display_name":"Kamaldeep Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622630676,"creation_date":1622630676,"answer_id":67803618,"question_id":58960449,"body_markdown":"I wanted to solve this using Array. Here is my solution for Sock Merchant problem on HackerRank (Java 8):\r\n\r\n....\r\nimport org.apache.commons.lang3.ArrayUtils;\r\nimport java.util.Arrays;\r\n\r\nclass Result {\r\n\r\n    public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\r\n    \r\n    int[] arr = ar.stream().mapToInt(i-&gt;i).toArray();\r\n    \r\n    int counter = 0;\r\n    \r\n    for(int i = 0; i&lt;n; i++) {\r\n        if(arr[i]&gt;0) {\r\n            int t = arr[i];\r\n            arr[i] = -1;\r\n            int j = ArrayUtils.indexOf(arr, t);\r\n            if(j == -1) {\r\n                continue;\r\n            } else {\r\n                arr[j] = -1;\r\n                counter += 1;\r\n            }\r\n        } else {\r\n            continue;\r\n        }\r\n    }\r\n    \r\n    return counter;    \r\n\r\n    }\r\n\r\n}\r\n\r\nThis has a O(n) time complexity.","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I wanted to solve this using Array. Here is my solution for Sock Merchant problem on HackerRank (Java 8):</p>\n<p>....\nimport org.apache.commons.lang3.ArrayUtils;\nimport java.util.Arrays;</p>\n<p>class Result {</p>\n<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\n\nint[] arr = ar.stream().mapToInt(i-&gt;i).toArray();\n\nint counter = 0;\n\nfor(int i = 0; i&lt;n; i++) {\n    if(arr[i]&gt;0) {\n        int t = arr[i];\n        arr[i] = -1;\n        int j = ArrayUtils.indexOf(arr, t);\n        if(j == -1) {\n            continue;\n        } else {\n            arr[j] = -1;\n            counter += 1;\n        }\n    } else {\n        continue;\n    }\n}\n\nreturn counter;    \n\n}\n</code></pre>\n<p>}</p>\n<p>This has a O(n) time complexity.</p>\n"},{"tags":[],"owner":{"account_id":16419834,"reputation":1,"user_id":11861315,"display_name":"Kayode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623766273,"creation_date":1623766273,"answer_id":67987939,"question_id":58960449,"body_markdown":"Code for Javascript\r\n\r\n    const set = new Set()\r\n\tlet count = 0;\r\n\t\r\n\tfor(let i = 0; i &lt; i; i++) {\r\n\t\tif (set.has(ar[i])) {\r\n\t\t\tcount++;\r\n\t\t\tset.delete(ar[i])\r\n\t\t} else {\r\n\t\t\tset.add(ar[i])\r\n\t\t}\r\n\t}","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Code for Javascript</p>\n<pre><code>const set = new Set()\nlet count = 0;\n\nfor(let i = 0; i &lt; i; i++) {\n    if (set.has(ar[i])) {\n        count++;\n        set.delete(ar[i])\n    } else {\n        set.add(ar[i])\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16892711,"reputation":11,"user_id":12216037,"display_name":"gakin95"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623930827,"creation_date":1623930827,"answer_id":68018817,"question_id":58960449,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function sockMerchant(n, ar) {\r\n      //Need to initiate a count variable to count pairs and return the value\r\n      let count = 0\r\n      //sort the given array\r\n      ar = ar.sort()\r\n      //loop through the sorted array \r\n      for (let i=0; i &lt; n-1; i++) {\r\n        //if the current item equals to the next item \r\n        if(ar[i] === ar[i+1]){\r\n          //then that&#39;s a pair, increment our count variable\r\n          count++\r\n          //also increment i to skip the next item\r\n          i+=1\r\n        }\r\n      }\r\n      //return the count value\r\n      return count\r\n    }\r\n\r\n    sockMerchant(9, [10, 20, 20, 10, 10, 30, 50, 10, 20])\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sockMerchant(n, ar) {\n  //Need to initiate a count variable to count pairs and return the value\n  let count = 0\n  //sort the given array\n  ar = ar.sort()\n  //loop through the sorted array \n  for (let i=0; i &lt; n-1; i++) {\n    //if the current item equals to the next item \n    if(ar[i] === ar[i+1]){\n      //then that's a pair, increment our count variable\n      count++\n      //also increment i to skip the next item\n      i+=1\n    }\n  }\n  //return the count value\n  return count\n}\n\nsockMerchant(9, [10, 20, 20, 10, 10, 30, 50, 10, 20])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18225832,"reputation":321,"user_id":13265646,"display_name":"Prem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624708600,"creation_date":1624708600,"answer_id":68142115,"question_id":58960449,"body_markdown":"  \r\n You can count the number of times a number appears in the list and divide them by 2 \r\n\r\n    def sockMerchant(n, ar):\r\n         unq = set(ar)\r\n         count = 0\r\n         for i in unq:\r\n          count_vals = ar.count(i)\r\n          if count_vals&gt;1:\r\n            count = count + int(count_vals/2)\r\n         return count","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>You can count the number of times a number appears in the list and divide them by 2</p>\n<pre><code>def sockMerchant(n, ar):\n     unq = set(ar)\n     count = 0\n     for i in unq:\n      count_vals = ar.count(i)\n      if count_vals&gt;1:\n        count = count + int(count_vals/2)\n     return count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3319340,"reputation":884,"user_id":2790894,"accept_rate":0,"display_name":"Milan Sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624829810,"creation_date":1624829810,"answer_id":68155472,"question_id":58960449,"body_markdown":"The more easiest way I preferred. Answer in Kotlin\r\n\r\n    var counter = 0\r\n    for (i in 0 until n) {\r\n    \tif (arr[i] != 0) {\r\n    \t\tloop@ for (j in i + 1 until n) {\r\n    \t\t\tif (arr[i] == arr[j]) {\r\n    \t\t\t\tcounter++\r\n    \t\t\t\tarr[j] = 0\r\n    \t\t\t\tbreak@loop\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nCommenting for better programming","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>The more easiest way I preferred. Answer in Kotlin</p>\n<pre><code>var counter = 0\nfor (i in 0 until n) {\n    if (arr[i] != 0) {\n        loop@ for (j in i + 1 until n) {\n            if (arr[i] == arr[j]) {\n                counter++\n                arr[j] = 0\n                break@loop\n            }\n        }\n    }\n}\n</code></pre>\n<p>Commenting for better programming</p>\n"},{"tags":[],"owner":{"account_id":17221869,"reputation":52,"user_id":12468458,"display_name":"Omkar Nilakhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627997794,"creation_date":1627997794,"answer_id":68637080,"question_id":58960449,"body_markdown":"it can also be solved using the built in Set data type as below (my try) - \r\n\r\n````\r\nfunction sockMerchant(n, ar) {\r\n    // Write your code here\r\n    let numberSet = [...new Set(ar)];\r\n    let pairs = 0;\r\n    for(let i=0;i&lt;numberSet.length;i++){\r\n        let count = 0;\r\n        ar.filter(x =&gt; {\r\n           if(x == numberSet[i])\r\n               count++;\r\n        });\r\n        pairs+= count / 2 &gt;= 1 ? Math.trunc(count / 2) : 0;\r\n    }\r\n    return pairs;\r\n}\r\n````","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>it can also be solved using the built in Set data type as below (my try) -</p>\n<pre><code>function sockMerchant(n, ar) {\n    // Write your code here\n    let numberSet = [...new Set(ar)];\n    let pairs = 0;\n    for(let i=0;i&lt;numberSet.length;i++){\n        let count = 0;\n        ar.filter(x =&gt; {\n           if(x == numberSet[i])\n               count++;\n        });\n        pairs+= count / 2 &gt;= 1 ? Math.trunc(count / 2) : 0;\n    }\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11901551,"reputation":9,"user_id":8917608,"display_name":"Hardik Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628271029,"creation_date":1628271029,"answer_id":68685490,"question_id":58960449,"body_markdown":"Using Python 3:\r\n\r\n    def sockMerchant(n, ar):\r\n    \r\n        flag = 0\r\n        for i in range(n):\r\n            if ar[i:].count(ar[i])%2==0:\r\n                flag+=1\r\n        return flag","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Using Python 3:</p>\n<pre><code>def sockMerchant(n, ar):\n\n    flag = 0\n    for i in range(n):\n        if ar[i:].count(ar[i])%2==0:\n            flag+=1\n    return flag\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22481156,"reputation":1,"user_id":16680217,"display_name":"Michael Lau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629124636,"creation_date":1629124636,"answer_id":68804675,"question_id":58960449,"body_markdown":"Think how you would do it in real life. If someone handed you these socks one-by-one, you&#39;d like think, &quot;Do I have one of these already?&quot; If not, you&#39;d set it down and move on to check on the next sock. When you find one you&#39;ve already set down, you&#39;d move the pair to the side and count that as another found pair.\r\n\r\nProgrammatically you may take advantage of a HashSet given it&#39;s quick access (constant) and that it only allows for one entry per unique key. Therefore, you can attempt add to the set. Failure to do so means it already exists, count and remove the pair, and continue.\r\n\r\n*Time-complexity:* O(n) [n = number of socks]\r\n\r\n*Space-complexity:* O(m) [m = number of UNIQUE sock types] \r\n\r\n**Java 8:**\r\n\r\n    public static int sockMerchant(int n, List&lt;Integer&gt; ar) \r\n        {    \r\n            Set&lt;Integer&gt; uniqueSockFound = new HashSet&lt;Integer&gt;(); \r\n            int countedPairs = 0;\r\n            \r\n            //Iterate through each sock checking if a match has been found already or not\r\n            for(Integer sock: ar)\r\n            {\r\n                //If adding the sock to the set is a success, it doesn&#39;t exist yet\r\n                //Otherwise, a pair exists, so remove the item and increment the count of pairs\r\n                if(!uniqueSockFound.add(sock))\r\n                {\r\n                    countedPairs++;\r\n                    uniqueSockFound.remove(sock);\r\n                }\r\n            }\r\n    \r\n            //Return count of pairs\r\n            return countedPairs;\r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Think how you would do it in real life. If someone handed you these socks one-by-one, you'd like think, &quot;Do I have one of these already?&quot; If not, you'd set it down and move on to check on the next sock. When you find one you've already set down, you'd move the pair to the side and count that as another found pair.</p>\n<p>Programmatically you may take advantage of a HashSet given it's quick access (constant) and that it only allows for one entry per unique key. Therefore, you can attempt add to the set. Failure to do so means it already exists, count and remove the pair, and continue.</p>\n<p><em>Time-complexity:</em> O(n) [n = number of socks]</p>\n<p><em>Space-complexity:</em> O(m) [m = number of UNIQUE sock types]</p>\n<p><strong>Java 8:</strong></p>\n<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) \n    {    \n        Set&lt;Integer&gt; uniqueSockFound = new HashSet&lt;Integer&gt;(); \n        int countedPairs = 0;\n        \n        //Iterate through each sock checking if a match has been found already or not\n        for(Integer sock: ar)\n        {\n            //If adding the sock to the set is a success, it doesn't exist yet\n            //Otherwise, a pair exists, so remove the item and increment the count of pairs\n            if(!uniqueSockFound.add(sock))\n            {\n                countedPairs++;\n                uniqueSockFound.remove(sock);\n            }\n        }\n\n        //Return count of pairs\n        return countedPairs;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15289192,"reputation":11,"user_id":11031242,"display_name":"Nte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630118222,"creation_date":1630118222,"answer_id":68960943,"question_id":58960449,"body_markdown":"For Javascript\r\n\r\n    function sockMerchant(n, ar) {\r\n        // Create an initial variable to hold the pairs\r\n        let pairs = 0;\r\n\r\n        // create an object to temporarily assign pairs\r\n        const temp = {};\r\n        \r\n        // loop through the provided array\r\n        for (let n of ar) {\r\n\r\n            // check if current value already exist in your temp object\r\n            if (temp[n] in temp) {\r\n                // if current value already exist in temp \r\n                // delete the value and increase pairs\r\n                delete temp[n];\r\n                pairs += 1;\r\n            } else {\r\n                // else add current value to the object\r\n                temp[n] = n;\r\n            }\r\n        }\r\n    \r\n        // return pairs\r\n        return pairs;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>For Javascript</p>\n<pre><code>function sockMerchant(n, ar) {\n    // Create an initial variable to hold the pairs\n    let pairs = 0;\n\n    // create an object to temporarily assign pairs\n    const temp = {};\n    \n    // loop through the provided array\n    for (let n of ar) {\n\n        // check if current value already exist in your temp object\n        if (temp[n] in temp) {\n            // if current value already exist in temp \n            // delete the value and increase pairs\n            delete temp[n];\n            pairs += 1;\n        } else {\n            // else add current value to the object\n            temp[n] = n;\n        }\n    }\n\n    // return pairs\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22772861,"reputation":1,"user_id":16929981,"display_name":"Najeem Fazil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631817140,"creation_date":1631808672,"answer_id":69211801,"question_id":58960449,"body_markdown":"Here is my solution and it worked for the given set of inputs.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint size = sc.nextInt();\r\n\t\tint[] arr = new int[size];\r\n\t\tfor (int i = 0 ; i &lt; size ; i++) {\r\n\t\t    arr[i] = sc.nextInt();\r\n\t\t}\r\n\t\tint flag = 0; \r\n\t\tfor (int j = 0; j &lt; size; j++) {\r\n\t\t    int count = 0;\r\n\t\t    for(int i = j + 1; i &lt; size ; i++) {\r\n\t\t        if (arr[j] == arr[i]) {\r\n\t\t            count++;\r\n\t\t        }\r\n\t\t    }\r\n\t\t    flag += count / 2;\r\n\t\t}\r\n\t\tSystem.out.println(flag);\r\n    }\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here is my solution and it worked for the given set of inputs.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int size = sc.nextInt();\n        int[] arr = new int[size];\n        for (int i = 0 ; i &lt; size ; i++) {\n            arr[i] = sc.nextInt();\n        }\n        int flag = 0; \n        for (int j = 0; j &lt; size; j++) {\n            int count = 0;\n            for(int i = j + 1; i &lt; size ; i++) {\n                if (arr[j] == arr[i]) {\n                    count++;\n                }\n            }\n            flag += count / 2;\n        }\n        System.out.println(flag);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22999702,"reputation":19,"user_id":17123841,"display_name":"Hamka Satria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634172255,"creation_date":1634172255,"answer_id":69563861,"question_id":58960449,"body_markdown":"I solve it with golang\r\n\r\n```\r\nfunc sockMerchant(n int32, ar []int32) int32 {\r\n    // Write your code here\r\n    var indexPairs []int;\r\n    var count int32;\r\n    var operation bool;\r\n        \r\n     for i := 0; i&lt; len(ar)-1; i++{\r\n        for j := i+1; j&lt; len(ar); j++{\r\n            //check indexPairs\r\n            operation = true;\r\n            for k := 0; k&lt; len(indexPairs); k++{\r\n                if indexPairs[k] == i || indexPairs[k]==j{\r\n                    operation = false;\r\n                }\r\n            }\r\n            if operation {\r\n                if(ar[i]==ar[j]){\r\n                    count ++;\r\n                    indexPairs = append(indexPairs, i, j)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return count; \r\n}```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I solve it with golang</p>\n<pre><code>func sockMerchant(n int32, ar []int32) int32 {\n    // Write your code here\n    var indexPairs []int;\n    var count int32;\n    var operation bool;\n        \n     for i := 0; i&lt; len(ar)-1; i++{\n        for j := i+1; j&lt; len(ar); j++{\n            //check indexPairs\n            operation = true;\n            for k := 0; k&lt; len(indexPairs); k++{\n                if indexPairs[k] == i || indexPairs[k]==j{\n                    operation = false;\n                }\n            }\n            if operation {\n                if(ar[i]==ar[j]){\n                    count ++;\n                    indexPairs = append(indexPairs, i, j)\n                }\n            }\n        }\n    }\n    return count; \n}```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639538005,"creation_date":1639537598,"answer_id":70358007,"question_id":58960449,"body_markdown":"It can also be solved using a dictionary as follows in Swift:\r\n\r\n```\r\nfunc sockMerchant(n: Int, ar: [Int]) -&gt; Int {\r\n \r\n    var dictionary: [Int: Int] = [:]\r\n    var totalNumberOfPairs: Int = 0\r\n    \r\n    // Store all array elements in a dictionary\r\n    // with element as key and occurrence as value\r\n    ar.forEach{\r\n        dictionary[$0] = (dictionary[$0] ?? 0) + 1\r\n    }\r\n    \r\n    // Iterate over the dictionary while checking for occurrence greater or equal 2.\r\n    // If found add the integer division of the occurrence to the current total number of pairs\r\n    dictionary.forEach { (key, value) in\r\n        if value &gt;= 2 {\r\n            totalNumberOfPairs = totalNumberOfPairs + (value / 2)\r\n        }\r\n    }\r\n    \r\n    return totalNumberOfPairs\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>It can also be solved using a dictionary as follows in Swift:</p>\n<pre><code>func sockMerchant(n: Int, ar: [Int]) -&gt; Int {\n \n    var dictionary: [Int: Int] = [:]\n    var totalNumberOfPairs: Int = 0\n    \n    // Store all array elements in a dictionary\n    // with element as key and occurrence as value\n    ar.forEach{\n        dictionary[$0] = (dictionary[$0] ?? 0) + 1\n    }\n    \n    // Iterate over the dictionary while checking for occurrence greater or equal 2.\n    // If found add the integer division of the occurrence to the current total number of pairs\n    dictionary.forEach { (key, value) in\n        if value &gt;= 2 {\n            totalNumberOfPairs = totalNumberOfPairs + (value / 2)\n        }\n    }\n    \n    return totalNumberOfPairs\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21252183,"reputation":1,"user_id":15634282,"display_name":"Parthasarathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645459669,"creation_date":1645459669,"answer_id":71209494,"question_id":58960449,"body_markdown":"using **PYTHON** language\r\n\r\n    from itertools import groupby\r\n    def sockmerchant(n,ar):\r\n         c=0\r\n         a=[]\r\n         ar.sort()\r\n         for k,g in groupby(ar):   # in this same elements group into one list\r\n               a.append(len(list(g)))\r\n         for i in a:\r\n               c=c+(i//2)\r\n         return c\r\n    n=int(input())\r\n    ar=list(map(int,input().split(&#39; &#39;)))\r\n    print(sockMerchant(n,ar))         ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>using <strong>PYTHON</strong> language</p>\n<pre><code>from itertools import groupby\ndef sockmerchant(n,ar):\n     c=0\n     a=[]\n     ar.sort()\n     for k,g in groupby(ar):   # in this same elements group into one list\n           a.append(len(list(g)))\n     for i in a:\n           c=c+(i//2)\n     return c\nn=int(input())\nar=list(map(int,input().split(' ')))\nprint(sockMerchant(n,ar))         \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054290,"reputation":1,"user_id":3332809,"display_name":"Hariharan Palanisamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647029109,"creation_date":1647028750,"answer_id":71444043,"question_id":58960449,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    function sockMerchant(n, ar){\r\n      let res = 0;\r\n      let arr= {};\r\n      for (let element of ar){\r\n            arr[element] = arr[element]+1 || 1\r\n            if(arr[element]%2 == 0){\r\n                res++;\r\n            }\r\n        }\r\n      return res;\r\n    }\r\n\r\nsockMerchant(4,[10,10,20,20]);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function sockMerchant(n, ar){\n  let res = 0;\n  let arr= {};\n  for (let element of ar){\n        arr[element] = arr[element]+1 || 1\n        if(arr[element]%2 == 0){\n            res++;\n        }\n    }\n  return res;\n}\n\nsockMerchant(4,[10,10,20,20]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2594018,"reputation":390,"user_id":2248063,"accept_rate":20,"display_name":"Vikrant_Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649172247,"creation_date":1649172247,"answer_id":71754433,"question_id":58960449,"body_markdown":"    public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\r\n        int pair = 0;\r\n        List&lt;Integer&gt; matchedIndices = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (matchedIndices.contains(i)) {\r\n                continue;\r\n            }\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (j == i || matchedIndices.contains(j)) {\r\n                    continue;\r\n                }\r\n                if (ar.get(i) == ar.get(j)) {\r\n                    pair++;\r\n                    matchedIndices.add(i);\r\n                    matchedIndices.add(j);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return pair;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\n    int pair = 0;\n    List&lt;Integer&gt; matchedIndices = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        if (matchedIndices.contains(i)) {\n            continue;\n        }\n        for (int j = 0; j &lt; n; j++) {\n            if (j == i || matchedIndices.contains(j)) {\n                continue;\n            }\n            if (ar.get(i) == ar.get(j)) {\n                pair++;\n                matchedIndices.add(i);\n                matchedIndices.add(j);\n                break;\n            }\n        }\n    }\n    \n    return pair;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9870856,"reputation":21,"user_id":7310561,"display_name":"Nick Maletsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663261919,"creation_date":1663261528,"answer_id":73735003,"question_id":58960449,"body_markdown":"I will give an example of solving this problem in C++ using unordered_map. It&#39;s overkill, to be honest, and it&#39;s done with unordered_set as well (removing the element as a replacement for a boolean in the map). But this more clearly shows the coding path to first do everything right, and only after that take an optimization step and convert to unordered_set.\r\n&lt;!-- language: lang-С++ --&gt;\r\n\r\n```lang-c++\r\nusing namespace std;\r\n/*\r\n * Complete the &#39;sockMerchant&#39; function below.\r\n *\r\n * The function is expected to return an INTEGER.\r\n * The function accepts following parameters:\r\n *  1. INTEGER n\r\n *  2. INTEGER_ARRAY ar\r\n */\r\n\r\nint sockMerchant(int n, vector&lt;int&gt; ar) {\r\n if (n&lt;1 &amp;&amp; n&gt;100 )  return 0;\r\n unordered_map&lt;int, bool&gt; scExtract;\r\n int result=0;\r\n// false --first sock finded\r\n// true --second sock funded\r\n for (auto sCol:ar) {\r\n     if (sCol&lt;1 &amp;&amp; sCol&gt;100 )   return 0;\r\n    if (scExtract.find(sCol) != scExtract.end()) {\r\n         if ( scExtract[sCol]) {\r\n          scExtract[sCol]=false;   \r\n        } else {\r\n          scExtract[sCol]=true;\r\n          result++;  \r\n        }\r\n    } else {\r\n    scExtract.insert(pair&lt;int, bool&gt;(sCol, false));\r\n    }\r\n }\r\nreturn result;\r\n}\r\n\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I will give an example of solving this problem in C++ using unordered_map. It's overkill, to be honest, and it's done with unordered_set as well (removing the element as a replacement for a boolean in the map). But this more clearly shows the coding path to first do everything right, and only after that take an optimization step and convert to unordered_set.</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>using namespace std;\n/*\n * Complete the 'sockMerchant' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER n\n *  2. INTEGER_ARRAY ar\n */\n\nint sockMerchant(int n, vector&lt;int&gt; ar) {\n if (n&lt;1 &amp;&amp; n&gt;100 )  return 0;\n unordered_map&lt;int, bool&gt; scExtract;\n int result=0;\n// false --first sock finded\n// true --second sock funded\n for (auto sCol:ar) {\n     if (sCol&lt;1 &amp;&amp; sCol&gt;100 )   return 0;\n    if (scExtract.find(sCol) != scExtract.end()) {\n         if ( scExtract[sCol]) {\n          scExtract[sCol]=false;   \n        } else {\n          scExtract[sCol]=true;\n          result++;  \n        }\n    } else {\n    scExtract.insert(pair&lt;int, bool&gt;(sCol, false));\n    }\n }\nreturn result;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11016240,"reputation":31,"user_id":8092008,"display_name":"Fazna "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663316586,"creation_date":1663316586,"answer_id":73741950,"question_id":58960449,"body_markdown":"\r\n\r\nHere one in golang\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        func sockMerchant(n int32, ar []int32) int32 {\r\n        // Write your code here\r\n        var dict= make (map[int32]int)\r\n        for _,key:= range ar{\r\n            dict[key]=dict[key]+1\r\n        }\r\n         count:= 0\r\n        for _, value:= range dict{\r\n            v:=value/2\r\n            if v != 0{\r\n               count = count + v  \r\n            }    \r\n        }\r\n        return int32(count)\r\n    \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here one in golang</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    func sockMerchant(n int32, ar []int32) int32 {\n    // Write your code here\n    var dict= make (map[int32]int)\n    for _,key:= range ar{\n        dict[key]=dict[key]+1\n    }\n     count:= 0\n    for _, value:= range dict{\n        v:=value/2\n        if v != 0{\n           count = count + v  \n        }    \n    }\n    return int32(count)\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2083780,"reputation":1993,"user_id":1855177,"display_name":"Abdullah Tahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676386083,"creation_date":1676386083,"answer_id":75449514,"question_id":58960449,"body_markdown":"Here&#39;s C# version using the even method\r\n\r\n     public static int sockMerchant(int n, List&lt;int&gt; ar)\r\n        {\r\n            Dictionary&lt;int, int&gt; matches = new Dictionary&lt;int, int&gt;();\r\n            int pairs=0;\r\n            for(int i=0; i&lt;ar.Count; i++)\r\n            {\r\n                if(!matches.ContainsKey(ar[i]))\r\n                {\r\n                    matches.Add(ar[i], 1);  \r\n                }\r\n                else\r\n                {\r\n                    matches[ar[i]]++;\r\n                    if(matches[ar[i]] % 2 ==0)\r\n                    {\r\n                        pairs++;  \r\n                    }\r\n                }\r\n            }\r\n            return pairs;\r\n        }\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here's C# version using the even method</p>\n<pre><code> public static int sockMerchant(int n, List&lt;int&gt; ar)\n    {\n        Dictionary&lt;int, int&gt; matches = new Dictionary&lt;int, int&gt;();\n        int pairs=0;\n        for(int i=0; i&lt;ar.Count; i++)\n        {\n            if(!matches.ContainsKey(ar[i]))\n            {\n                matches.Add(ar[i], 1);  \n            }\n            else\n            {\n                matches[ar[i]]++;\n                if(matches[ar[i]] % 2 ==0)\n                {\n                    pairs++;  \n                }\n            }\n        }\n        return pairs;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17376347,"reputation":944,"user_id":12589424,"display_name":"Chukwunazaekpere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690100539,"creation_date":1690100539,"answer_id":76747261,"question_id":58960449,"body_markdown":"```\r\ndef sockMerchant(n, ar):\r\n    # Write your code here\r\n    pair_dict = {}\r\n    for num in ar:\r\n        if num in pair_dict.keys():\r\n            pair_dict[num] +=1\r\n        else:\r\n            pair_dict[num] = 1\r\n    dict_vals = list(pair_dict.values());\r\n    pairs = 0\r\n    for vals in dict_vals:\r\n        whole = vals//2\r\n        pairs+=whole\r\n    return pairs\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>def sockMerchant(n, ar):\n    # Write your code here\n    pair_dict = {}\n    for num in ar:\n        if num in pair_dict.keys():\n            pair_dict[num] +=1\n        else:\n            pair_dict[num] = 1\n    dict_vals = list(pair_dict.values());\n    pairs = 0\n    for vals in dict_vals:\n        whole = vals//2\n        pairs+=whole\n    return pairs\n</code></pre>\n"}],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44712,"favorite_count":0,"down_vote_count":3,"up_vote_count":12,"accepted_answer_id":58960683,"answer_count":34,"score":9,"last_activity_date":1690100539,"creation_date":1574271947,"question_id":58960449,"body_markdown":"I have solved the hackerrank Sock Merchant problem But I want to **reduce the complexity of the code**(I am not sure that it is possible or not).\r\n  \r\n\r\n&gt; John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs of socks with matching colors there are.\r\n\r\n&gt; For example, there are **n=7** socks with colors **ar= [1,2,1,2,1,3,2]**. There is one pair of color  **1** and one of color **2**. There are three odd socks left, one of each color. The number of pairs is 2.\r\n\r\n&gt; **Function Description**\r\n\r\n&gt; Complete the sockMerchant function in the editor below. It must return an integer representing the number of matching pairs of socks that are available.\r\n\r\n&gt; sockMerchant has the following parameter(s):\r\n\r\n  \r\n&gt; \r\n - n: the number of socks in the pile\r\n\r\n \r\n&gt; \r\n - ar: the colors of each sock\r\n\r\n&gt;**Input Format**\r\n\r\n&gt;The first line contains an integer **n**, the number of socks represented in **ar**.\r\nThe second line contains **n** space-separated integers describing the colors **ar[i]** of the socks in the pile.\r\n\r\n&gt;**Constraints**\r\n\r\n&gt;- 1 &lt;= n &lt;= 100\r\n\r\n&gt;- 1 &lt;= ar[i] &lt;= 100  where 0 &lt;= i &lt; n\r\n\r\n&gt; Output Format\r\n\r\n&gt;Return the total number of matching pairs of socks that John can sell.\r\n\r\n&gt;Sample Input\r\n\r\n    9\r\n    10 20 20 10 10 30 50 10 20\r\n\r\n&gt;Sample Output\r\n\r\n    3\r\n&gt;---------------------------------------------------------------------------\r\nMy solutions :\r\n\r\n    package com.hackerrank.test;\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            //Initialize array\r\n            int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\r\n            //Array fr will store frequencies of element\r\n    \r\n    \r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n            System.out.println(&quot; sockMerchant output &quot; + sockMerchant(9, arr));\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n    \r\n        }\r\n    \r\n        static int sockMerchant(int n, int[] ar) {\r\n            int pairs = 0;\r\n            int frequencyArray[] = new int[ar.length];\r\n            int frequencyTemp = -1;\r\n            for (int i = 0; i &lt; ar.length; i++) {\r\n                int count = 1;\r\n                for (int j = i + 1; j &lt; ar.length; j++) {\r\n                    if (ar[i] == ar[j]) {\r\n                        count++;\r\n                        frequencyArray[j] = frequencyTemp;\r\n                    }\r\n                }\r\n                if (frequencyArray[i] != frequencyTemp) {\r\n                    frequencyArray[i] = count;\r\n                }\r\n            }\r\n    \r\n            for (int i = 0; i &lt; frequencyArray.length; i++) {\r\n                if (frequencyArray[i] != frequencyTemp) {\r\n                    int divide = frequencyArray[i] / 2;\r\n                    pairs += divide;\r\n                }\r\n            }\r\n            return pairs;\r\n        }\r\n    }\r\n\r\nAnd the output is : \r\n\r\n        ---------------------------------------\r\n        sockMerchant frequency 3\r\n        ---------------------------------------","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I have solved the hackerrank Sock Merchant problem But I want to <strong>reduce the complexity of the code</strong>(I am not sure that it is possible or not).</p>\n\n<blockquote>\n  <p>John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs of socks with matching colors there are.</p>\n  \n  <p>For example, there are <strong>n=7</strong> socks with colors <strong>ar= [1,2,1,2,1,3,2]</strong>. There is one pair of color  <strong>1</strong> and one of color <strong>2</strong>. There are three odd socks left, one of each color. The number of pairs is 2.</p>\n  \n  <p><strong>Function Description</strong></p>\n  \n  <p>Complete the sockMerchant function in the editor below. It must return an integer representing the number of matching pairs of socks that are available.</p>\n  \n  <p>sockMerchant has the following parameter(s):</p>\n  \n  <ul>\n  <li><p>n: the number of socks in the pile</p></li>\n  <li><p>ar: the colors of each sock</p></li>\n  </ul>\n  \n  <p><strong>Input Format</strong></p>\n  \n  <p>The first line contains an integer <strong>n</strong>, the number of socks represented in <strong>ar</strong>.\n  The second line contains <strong>n</strong> space-separated integers describing the colors <strong>ar[i]</strong> of the socks in the pile.</p>\n  \n  <p><strong>Constraints</strong></p>\n  \n  <ul>\n  <li><p>1 &lt;= n &lt;= 100</p></li>\n  <li><p>1 &lt;= ar[i] &lt;= 100  where 0 &lt;= i &lt; n</p></li>\n  </ul>\n  \n  <p>Output Format</p>\n  \n  <p>Return the total number of matching pairs of socks that John can sell.</p>\n  \n  <p>Sample Input</p>\n</blockquote>\n\n<pre><code>9\n10 20 20 10 10 30 50 10 20\n</code></pre>\n\n<blockquote>\n  <p>Sample Output</p>\n</blockquote>\n\n<pre><code>3\n</code></pre>\n\n<blockquote>\n  <hr>\n  \n  <p>My solutions :</p>\n</blockquote>\n\n<pre><code>package com.hackerrank.test;\n\npublic class Solution {\n    public static void main(String[] args) {\n        //Initialize array\n        int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\n        //Array fr will store frequencies of element\n\n\n        System.out.println(\"---------------------------------------\");\n        System.out.println(\" sockMerchant output \" + sockMerchant(9, arr));\n        System.out.println(\"---------------------------------------\");\n\n    }\n\n    static int sockMerchant(int n, int[] ar) {\n        int pairs = 0;\n        int frequencyArray[] = new int[ar.length];\n        int frequencyTemp = -1;\n        for (int i = 0; i &lt; ar.length; i++) {\n            int count = 1;\n            for (int j = i + 1; j &lt; ar.length; j++) {\n                if (ar[i] == ar[j]) {\n                    count++;\n                    frequencyArray[j] = frequencyTemp;\n                }\n            }\n            if (frequencyArray[i] != frequencyTemp) {\n                frequencyArray[i] = count;\n            }\n        }\n\n        for (int i = 0; i &lt; frequencyArray.length; i++) {\n            if (frequencyArray[i] != frequencyTemp) {\n                int divide = frequencyArray[i] / 2;\n                pairs += divide;\n            }\n        }\n        return pairs;\n    }\n}\n</code></pre>\n\n<p>And the output is : </p>\n\n<pre><code>    ---------------------------------------\n    sockMerchant frequency 3\n    ---------------------------------------\n</code></pre>\n"},{"tags":["java","xslt","ehcache","saxon"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1572393197,"post_id":58611353,"comment_id":103543272,"body_markdown":"You need to tell us exactly what you are doing and exactly how it is failing. (Having said that, I have no knowledge of ehCache and after a quick glance at the documentation I have very little idea why I would want to use it.)","body":"You need to tell us exactly what you are doing and exactly how it is failing. (Having said that, I have no knowledge of ehCache and after a quick glance at the documentation I have very little idea why I would want to use it.)"},{"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"score":0,"creation_date":1572605114,"post_id":58611353,"comment_id":103618830,"body_markdown":"More updated provided over the port, please could you refer above and let me know if you need more details","body":"More updated provided over the port, please could you refer above and let me know if you need more details"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1572611430,"post_id":58611353,"comment_id":103621588,"body_markdown":"Thanks, the additional information shows that you&#39;re using a technology stack that I know very little about.","body":"Thanks, the additional information shows that you&#39;re using a technology stack that I know very little about."}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572606504,"creation_date":1572606504,"answer_id":58658210,"question_id":58611353,"body_markdown":"you could provide the compiled stylesheet as a spring bean instead\r\n\r\n    @Configuration\r\n    public class XsltConfiguration {\r\n        @Bean\r\n        @Qualifier(&quot;XslA&quot;)\r\n        XsltExecutable getXsltExecutableA() {\r\n            XsltCompiler compiler = new Processor(true).newXsltCompiler();\r\n            //load xsl ...\r\n            return compiler.compile(xslSource);\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;XslB&quot;)\r\n        XsltExecutable getXsltExecutableB() {\r\n            XsltCompiler compiler = new   Processor(true).newXsltCompiler();\r\n            //load xsl ...\r\n            return compiler.compile(xslSource);\r\n        }\r\n    }","title":"Un-load compiled XSLT (xsltExecutable) from ehCache","body":"<p>you could provide the compiled stylesheet as a spring bean instead</p>\n\n<pre><code>@Configuration\npublic class XsltConfiguration {\n    @Bean\n    @Qualifier(\"XslA\")\n    XsltExecutable getXsltExecutableA() {\n        XsltCompiler compiler = new Processor(true).newXsltCompiler();\n        //load xsl ...\n        return compiler.compile(xslSource);\n    }\n\n    @Bean\n    @Qualifier(\"XslB\")\n    XsltExecutable getXsltExecutableB() {\n        XsltCompiler compiler = new   Processor(true).newXsltCompiler();\n        //load xsl ...\n        return compiler.compile(xslSource);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690098627,"creation_date":1572365485,"question_id":58611353,"body_markdown":"In my application, we have around 300 XSLT files which are stored in config folder. These XSLT&#39;s are required to transform input messages. In a day our application is expected to received 90K input files, and all of them need transformation.\r\n\r\nThat&#39;s why we want to store compiled XSLT&#39;s in cache to improve the transformation process. To do so, I have created a **net.sf.saxon.s9api.XsltExecutable** object in java, and managed to store it in ehCache.\r\n\r\nThe issue is while retrieving this object back from cache, because xsltExecutable object cannot be serialized. And **cache.get(&quot;fileName&quot;)** returns ValueWrapper object which does not return xsltExecutable object anyway.\r\n\r\nPlease provide me as much suggestions are possible here...\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cache.Cache;\r\n    import org.springframework.cache.CacheManager;\r\n    import org.springframework.cache.annotation.Cacheable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import net.sf.saxon.s9api.Processor;\r\n    import net.sf.saxon.s9api.XsltCompiler;\r\n    import net.sf.saxon.s9api.XsltExecutable;\r\n\r\n    File transformerDirectory = new File(&quot;C:\\\\path\\\\transformer\\\\&quot;);\r\n\r\n    @Cacheable(value = &quot;transformerCache&quot;, key = &quot;#name&quot;)\r\n    private boolean loadCompiledTransformers(String fileName) throws Exception {\r\n\r\n\tCache cache = cacheManager.getCache(&quot;transformerCache&quot;);\r\n\tif (fileName.equalsIgnoreCase(&quot;all&quot;)) {\r\n\t\tfor (File file : transformerDirectory.listFiles()) {\r\n\t\t\tif (file.getName().contains(&quot;xsl&quot;)) {\r\n\t\t\t\tcache.put(file.getName(), loadServiceTransforms(file));\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tcache.put(fileName, loadServiceTransforms(new File(transformerDirectory+&quot;\\\\&quot;+fileName)));\r\n\t}\r\n\treturn true;\r\n    }\r\n\r\n    private XsltExecutable loadServiceTransforms(File file) throws Exception {\r\n\r\n\tXsltExecutable template = null;\r\n\tStreamSource xslSource;\r\n\r\n\txslSource = new StreamSource(file);\r\n\ttry {\r\n\t\tXsltCompiler compiler = new Processor(true).newXsltCompiler();\r\n\t\ttemplate = compiler.compile(xslSource);\r\n\t} catch (Exception e) {\r\n\t\tthrow e;\r\n\t}\r\n\treturn template;\r\n    }\r\n\r\ncache.xml looks as below:\r\n\r\n    &lt;config xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;\r\n\txmlns=&#39;http://www.ehcache.org/v3&#39;\r\n\txmlns:jsr107=&#39;http://www.ehcache.org/v3/jsr107&#39;&gt;\r\n\r\n\t&lt;service&gt;\r\n\t\t&lt;jsr107:defaults enable-statistics=&quot;true&quot; /&gt;\r\n\t&lt;/service&gt;\r\n\r\n\t&lt;cache alias=&quot;serviceCache&quot;&gt;\r\n\t\t&lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n\t\t&lt;value-type&gt;java.util.Properties&lt;/value-type&gt;\r\n\t\t&lt;expiry&gt;\r\n\t\t\t&lt;ttl unit=&quot;seconds&quot;&gt;20&lt;/ttl&gt;\r\n\t\t&lt;/expiry&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\r\n\t\t\t&lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/cache&gt;\r\n\t\r\n\t&lt;cache alias=&quot;transformerCache&quot;&gt;\r\n\t\t&lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n\t\t&lt;value-type&gt;net.sf.saxon.s9api.XsltExecutable&lt;/value-type&gt;\r\n\t\t&lt;expiry&gt;\r\n\t\t\t&lt;ttl unit=&quot;seconds&quot;&gt;10&lt;/ttl&gt;\r\n\t\t&lt;/expiry&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\r\n\t\t\t&lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/cache&gt;\r\n&lt;/config&gt;\r\n\r\nTransforms are compiled successfully, but below stack trace while applying caching:\r\n\r\n    ERROR 27600 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class net.sf.saxon.serialize.charcode.CharacterSetFactory]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[&quot;processor&quot;]-&gt;net.sf.saxon.s9api.Processor[&quot;schemaManager&quot;]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[&quot;schemaURIResolver&quot;]-&gt;com.saxonica.config.ee.StandardSchemaResolver[&quot;configuration&quot;]-&gt;com.saxonica.config.EnterpriseConfiguration[&quot;characterSetFactory&quot;])] with root cause\r\n    \r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[&quot;processor&quot;]-&gt;net.sf.saxon.s9api.Processor[&quot;schemaManager&quot;]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[&quot;schemaURIResolver&quot;]-&gt;com.saxonica.config.ee.StandardSchemaResolver[&quot;configuration&quot;]-&gt;com.saxonica.config.EnterpriseConfiguration[&quot;characterSetFactory&quot;])\r\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:403) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1433) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:287) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:295) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_221]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_221]\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_221]","title":"Un-load compiled XSLT (xsltExecutable) from ehCache","body":"<p>In my application, we have around 300 XSLT files which are stored in config folder. These XSLT's are required to transform input messages. In a day our application is expected to received 90K input files, and all of them need transformation.</p>\n\n<p>That's why we want to store compiled XSLT's in cache to improve the transformation process. To do so, I have created a <strong>net.sf.saxon.s9api.XsltExecutable</strong> object in java, and managed to store it in ehCache.</p>\n\n<p>The issue is while retrieving this object back from cache, because xsltExecutable object cannot be serialized. And <strong>cache.get(\"fileName\")</strong> returns ValueWrapper object which does not return xsltExecutable object anyway.</p>\n\n<p>Please provide me as much suggestions are possible here...</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport javax.xml.transform.stream.StreamSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.Cache;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport net.sf.saxon.s9api.Processor;\nimport net.sf.saxon.s9api.XsltCompiler;\nimport net.sf.saxon.s9api.XsltExecutable;\n\nFile transformerDirectory = new File(\"C:\\\\path\\\\transformer\\\\\");\n\n@Cacheable(value = \"transformerCache\", key = \"#name\")\nprivate boolean loadCompiledTransformers(String fileName) throws Exception {\n\nCache cache = cacheManager.getCache(\"transformerCache\");\nif (fileName.equalsIgnoreCase(\"all\")) {\n    for (File file : transformerDirectory.listFiles()) {\n        if (file.getName().contains(\"xsl\")) {\n            cache.put(file.getName(), loadServiceTransforms(file));\n        }\n    }\n} else {\n    cache.put(fileName, loadServiceTransforms(new File(transformerDirectory+\"\\\\\"+fileName)));\n}\nreturn true;\n}\n\nprivate XsltExecutable loadServiceTransforms(File file) throws Exception {\n\nXsltExecutable template = null;\nStreamSource xslSource;\n\nxslSource = new StreamSource(file);\ntry {\n    XsltCompiler compiler = new Processor(true).newXsltCompiler();\n    template = compiler.compile(xslSource);\n} catch (Exception e) {\n    throw e;\n}\nreturn template;\n}\n</code></pre>\n\n<p>cache.xml looks as below:</p>\n\n<pre><code>&lt;config xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\nxmlns='http://www.ehcache.org/v3'\nxmlns:jsr107='http://www.ehcache.org/v3/jsr107'&gt;\n\n&lt;service&gt;\n    &lt;jsr107:defaults enable-statistics=\"true\" /&gt;\n&lt;/service&gt;\n\n&lt;cache alias=\"serviceCache\"&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;java.util.Properties&lt;/value-type&gt;\n    &lt;expiry&gt;\n        &lt;ttl unit=\"seconds\"&gt;20&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;resources&gt;\n        &lt;heap unit=\"entries\"&gt;2000&lt;/heap&gt;\n        &lt;offheap unit=\"MB\"&gt;100&lt;/offheap&gt;\n    &lt;/resources&gt;\n&lt;/cache&gt;\n\n&lt;cache alias=\"transformerCache\"&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;net.sf.saxon.s9api.XsltExecutable&lt;/value-type&gt;\n    &lt;expiry&gt;\n        &lt;ttl unit=\"seconds\"&gt;10&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;resources&gt;\n        &lt;heap unit=\"entries\"&gt;2000&lt;/heap&gt;\n        &lt;offheap unit=\"MB\"&gt;100&lt;/offheap&gt;\n    &lt;/resources&gt;\n&lt;/cache&gt;\n</code></pre>\n\n<p></p>\n\n<p>Transforms are compiled successfully, but below stack trace while applying caching:</p>\n\n<pre><code>ERROR 27600 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class net.sf.saxon.serialize.charcode.CharacterSetFactory]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[\"processor\"]-&gt;net.sf.saxon.s9api.Processor[\"schemaManager\"]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[\"schemaURIResolver\"]-&gt;com.saxonica.config.ee.StandardSchemaResolver[\"configuration\"]-&gt;com.saxonica.config.EnterpriseConfiguration[\"characterSetFactory\"])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[\"processor\"]-&gt;net.sf.saxon.s9api.Processor[\"schemaManager\"]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[\"schemaURIResolver\"]-&gt;com.saxonica.config.ee.StandardSchemaResolver[\"configuration\"]-&gt;com.saxonica.config.EnterpriseConfiguration[\"characterSetFactory\"])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:403) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1433) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921) ~[jackson-databind-2.10.0.jar:2.10.0]\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:287) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:295) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_221]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_221]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat java.lang.Thread.run(Unknown Source) [na:1.8.0_221]\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690094524,"post_id":76746909,"comment_id":135303214,"body_markdown":"f(x) = (5x - 2) / (1 - 3x) is not a polynomial. You can use a polynomial to approximate it if you like.","body":"f(x) = (5x - 2) / (1 - 3x) is not a polynomial. You can use a polynomial to approximate it if you like."},{"owner":{"account_id":12149555,"reputation":260,"user_id":16074188,"display_name":"Elec1"},"score":0,"creation_date":1690094683,"post_id":76746909,"comment_id":135303226,"body_markdown":"Sweeper: No easy task to approximate this function with a polynomial near x = 1 /3.","body":"Sweeper: No easy task to approximate this function with a polynomial near x = 1 /3."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690094822,"post_id":76746909,"comment_id":135303236,"body_markdown":"This might be an [XY Problem](http://xyproblem.info/). Why are you trying to use a `PolynomialFunction`? Why not simply `UnivariateFunction` or something like that? You don&#39;t seem to be using anything specific to `PolynomialFunction`s.","body":"This might be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Why are you trying to use a <code>PolynomialFunction</code>? Why not simply <code>UnivariateFunction</code> or something like that? You don&#39;t seem to be using anything specific to <code>PolynomialFunction</code>s."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690094992,"post_id":76746909,"comment_id":135303260,"body_markdown":"@Sweeper Maybe my title isn&#39;t perfect. What I&#39;m willing to do is to enter an _u(x) / v(x)_ function (with u(x) = 5x -2, v(x) = 1 - 3x), whose derivative is u&#39;.v - u.v&#39; / v&#178;, etc. like we studied a lot at school.","body":"@Sweeper Maybe my title isn&#39;t perfect. What I&#39;m willing to do is to enter an <i>u(x) / v(x)</i> function (with u(x) = 5x -2, v(x) = 1 - 3x), whose derivative is u&#39;.v - u.v&#39; / v&#178;, etc. like we studied a lot at school."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690095271,"post_id":76746909,"comment_id":135303296,"body_markdown":"What do you mean by &quot;how may I enter it&quot;? Don&#39;t use a `PolynomialFunction` and you can easily do `UnivariateFunction f = (x -&gt; (5 * x - 2)/(1 - 3 * x));` Is that what you are after?","body":"What do you mean by &quot;how may I enter it&quot;? Don&#39;t use a <code>PolynomialFunction</code> and you can easily do <code>UnivariateFunction f = (x -&gt; (5 * x - 2)&#47;(1 - 3 * x));</code> Is that what you are after?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690095819,"post_id":76746909,"comment_id":135303335,"body_markdown":"@Sweeper Yes it is. Thanks a lot!","body":"@Sweeper Yes it is. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690097845,"creation_date":1690097845,"answer_id":76747107,"question_id":76746909,"body_markdown":"(5x - 2) / (1 - 3x) is not a [polynomial][1], so you should not use `PolynomialFunction` here.\r\n\r\nYou can use the more general `UnivariantFunction` type to represent it. You can directly assign a lambda to it:\r\n\r\n```\r\nUnivariateFunction f = x -&gt; (5 * x - 2)/(1 - 3 * x);\r\n```\r\n\r\nAfter replacing all the `PolynomialFunction`s in your code, you can pass `f` to `derivee.getNombreDerive` without compiler errors. You are not using anything exclusive to `PolynomialFunction`s.\r\n\r\nNote that other than doing your own differentiation using `(f.value(x+h) - f.value(x)) / h`, you can also use `DerivativeStructure` from Apache.\r\n\r\nYou can make a `UnivariantDifferentiableFunction` like this:\r\n\r\n```\r\nvar f = new UnivariateDifferentiableFunction() {\r\n    @Override\r\n    public double value(double x) {\r\n        return (5 * x - 2)/(1 - 3 * x);\r\n    }\r\n\r\n    @Override\r\n    public DerivativeStructure value(DerivativeStructure x) throws DimensionMismatchException {\r\n        var numerator = x.multiply(5).subtract(2);\r\n        var denominator = x.multiply(-3).add(1);\r\n        return numerator.divide(denominator);\r\n    }\r\n};\r\n```\r\n\r\nAnd get the derivative at a certain point like this:\r\n\r\n```\r\nvar point = 2; // suppose you want the derivative at x = 2.\r\nvar x = new DerivativeStructure(1, 1, 0, point);\r\nSystem.out.println(f.value(x).getPartialDerivative(1));\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Polynomial","title":"Define f(x) = (5x - 2) / (1 - 3x) with PolynomialFunction (or another class?) from org.apache.commons.math3.analysis.polynomials","body":"<p>(5x - 2) / (1 - 3x) is not a <a href=\"https://en.wikipedia.org/wiki/Polynomial\" rel=\"nofollow noreferrer\">polynomial</a>, so you should not use <code>PolynomialFunction</code> here.</p>\n<p>You can use the more general <code>UnivariantFunction</code> type to represent it. You can directly assign a lambda to it:</p>\n<pre><code>UnivariateFunction f = x -&gt; (5 * x - 2)/(1 - 3 * x);\n</code></pre>\n<p>After replacing all the <code>PolynomialFunction</code>s in your code, you can pass <code>f</code> to <code>derivee.getNombreDerive</code> without compiler errors. You are not using anything exclusive to <code>PolynomialFunction</code>s.</p>\n<p>Note that other than doing your own differentiation using <code>(f.value(x+h) - f.value(x)) / h</code>, you can also use <code>DerivativeStructure</code> from Apache.</p>\n<p>You can make a <code>UnivariantDifferentiableFunction</code> like this:</p>\n<pre><code>var f = new UnivariateDifferentiableFunction() {\n    @Override\n    public double value(double x) {\n        return (5 * x - 2)/(1 - 3 * x);\n    }\n\n    @Override\n    public DerivativeStructure value(DerivativeStructure x) throws DimensionMismatchException {\n        var numerator = x.multiply(5).subtract(2);\n        var denominator = x.multiply(-3).add(1);\n        return numerator.divide(denominator);\n    }\n};\n</code></pre>\n<p>And get the derivative at a certain point like this:</p>\n<pre><code>var point = 2; // suppose you want the derivative at x = 2.\nvar x = new DerivativeStructure(1, 1, 0, point);\nSystem.out.println(f.value(x).getPartialDerivative(1));\n</code></pre>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76747107,"answer_count":1,"score":0,"last_activity_date":1690097845,"creation_date":1690093987,"question_id":76746909,"body_markdown":"I wrote this simple class and test for my training in using `PolynomialFunction` of `org.apache.commons.math3.analysis.polynomials`.\r\n\r\n```java\r\npublic class Derivee {\r\n   /**\r\n    * Obtenir un nombre d&#233;riv&#233;.\r\n    * @param f Fonction.\r\n    * @param x Valeur x0 o&#249; l&#39;on veut le nombre d&#233;riv&#233;.\r\n    * @param h &#233;cart pour calculer la limite.\r\n    * @return Nombre d&#233;riv&#233;.\r\n    * @throws IllegalArgumentException si h vaut z&#233;ro.\r\n    */\r\n   public double getNombreDerive(PolynomialFunction f, double x, double h) {\r\n      Objects.requireNonNull(f, &quot;La fonction ne peut pas valoir null&quot;);\r\n\r\n      if (h == 0) {\r\n         throw new IllegalArgumentException(&quot;L&#39;&#233;cart pour calculer le nombre d&#233;riv&#233; d&#39;un polyn&#244;me ne peut pas valoir z&#233;ro.&quot;);\r\n      }\r\n\r\n      double nombreDerive = (f.value(x+h) - f.value(x)) / h;\r\n\r\n      if (LOGGER.isDebugEnabled()) {\r\n         LOGGER.debug(&quot;Le nombre d&#233;riv&#233; en {} est {} pour p(x) = {}, mesur&#233; avec h = {}.&quot;, x, nombreDerive, f, h);\r\n      }\r\n\r\n      return nombreDerive;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\nclass DeriveeTest {\r\n   @Test @DisplayName(&quot;nombres d&#233;riv&#233;s&quot;)\r\n   void nombresDerives() {\r\n      PolynomialFunction f = new PolynomialFunction(new double[] {-2.0, 5.0});\r\n      Derivee derivee = new Derivee();\r\n\r\n      assertEquals(5.0, derivee.getNombreDerive(f, 3.0, 0.5), 0.01, &quot;Le nombre d&#233;riv&#233; n&#39;est pas celui attendu&quot;);\r\n      assertThrows(IllegalArgumentException.class, () -&gt; derivee.getNombreDerive(f, 3.0, 0), &quot;Un h = 0 a &#233;t&#233; accept&#233; : il aurait d&#251; &#234;tre refus&#233;&quot;);\r\n   }\r\n}\r\n```\r\n\r\n```log\r\n07:57:51.863 [main] DEBUG fr.ecoemploi.domain.utils.math.derivees.Derivee - \r\n   Le nombre d&#233;riv&#233; en 3.0 est 5.0 pour p(x) = -2 + 5 x, mesur&#233; avec h = 0.5.\r\n```\r\n\r\nIt does work well. But how may I enter, for polynomial, the combination:  \r\n_f(x) = (5x - 2) / (1 - 3x)_ ?\r\n","title":"Define f(x) = (5x - 2) / (1 - 3x) with PolynomialFunction (or another class?) from org.apache.commons.math3.analysis.polynomials","body":"<p>I wrote this simple class and test for my training in using <code>PolynomialFunction</code> of <code>org.apache.commons.math3.analysis.polynomials</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Derivee {\n   /**\n    * Obtenir un nombre dérivé.\n    * @param f Fonction.\n    * @param x Valeur x0 où l'on veut le nombre dérivé.\n    * @param h écart pour calculer la limite.\n    * @return Nombre dérivé.\n    * @throws IllegalArgumentException si h vaut zéro.\n    */\n   public double getNombreDerive(PolynomialFunction f, double x, double h) {\n      Objects.requireNonNull(f, &quot;La fonction ne peut pas valoir null&quot;);\n\n      if (h == 0) {\n         throw new IllegalArgumentException(&quot;L'écart pour calculer le nombre dérivé d'un polynôme ne peut pas valoir zéro.&quot;);\n      }\n\n      double nombreDerive = (f.value(x+h) - f.value(x)) / h;\n\n      if (LOGGER.isDebugEnabled()) {\n         LOGGER.debug(&quot;Le nombre dérivé en {} est {} pour p(x) = {}, mesuré avec h = {}.&quot;, x, nombreDerive, f, h);\n      }\n\n      return nombreDerive;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DeriveeTest {\n   @Test @DisplayName(&quot;nombres dérivés&quot;)\n   void nombresDerives() {\n      PolynomialFunction f = new PolynomialFunction(new double[] {-2.0, 5.0});\n      Derivee derivee = new Derivee();\n\n      assertEquals(5.0, derivee.getNombreDerive(f, 3.0, 0.5), 0.01, &quot;Le nombre dérivé n'est pas celui attendu&quot;);\n      assertThrows(IllegalArgumentException.class, () -&gt; derivee.getNombreDerive(f, 3.0, 0), &quot;Un h = 0 a été accepté : il aurait dû être refusé&quot;);\n   }\n}\n</code></pre>\n<pre><code>07:57:51.863 [main] DEBUG fr.ecoemploi.domain.utils.math.derivees.Derivee - \n   Le nombre dérivé en 3.0 est 5.0 pour p(x) = -2 + 5 x, mesuré avec h = 0.5.\n</code></pre>\n<p>It does work well. But how may I enter, for polynomial, the combination:<br />\n<em>f(x) = (5x - 2) / (1 - 3x)</em> ?</p>\n"},{"tags":["java","android","kotlin","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690094881,"creation_date":1690094881,"answer_id":76746945,"question_id":76688634,"body_markdown":"Going after the documentation of the Protobuf Java Lite runtime, I found some answers for your first and second topics. What you want is in the [MessageLite][1] interface.\r\n\r\n&gt; Does protobuf-lite library which is recommended for android support google.protobuf.Struct?\r\n\r\nYes. You can see from the &quot;All Known Implementing Classes&quot; that `Struct` and `Value` implement the `MessageLite` interface. Meaning that they&#39;re available in that runtime level.\r\n\r\n&gt; Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?\r\n\r\nThat list of &quot;All Known Implementing Classes&quot; is the closest thing I found for you.\r\n\r\n---\r\n\r\nThe thing is that this might not solve your problem. Protobuf requires you to define the structure you want to serialize. That being said, if you don&#39;t want to define it beforehand, you&#39;ll need to handle it yourself. One option is to use JSON (or any other serialization format) to serialize the Object and inject it into your message as a raw value.\r\n\r\n  [1]: https://protobuf.dev/reference/java/api-docs/com/google/protobuf/MessageLite","title":"Does Protobuf JavaLite support google.protobuf.Struct / google.protobuf.Value?","body":"<p>Going after the documentation of the Protobuf Java Lite runtime, I found some answers for your first and second topics. What you want is in the <a href=\"https://protobuf.dev/reference/java/api-docs/com/google/protobuf/MessageLite\" rel=\"nofollow noreferrer\">MessageLite</a> interface.</p>\n<blockquote>\n<p>Does protobuf-lite library which is recommended for android support google.protobuf.Struct?</p>\n</blockquote>\n<p>Yes. You can see from the &quot;All Known Implementing Classes&quot; that <code>Struct</code> and <code>Value</code> implement the <code>MessageLite</code> interface. Meaning that they're available in that runtime level.</p>\n<blockquote>\n<p>Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?</p>\n</blockquote>\n<p>That list of &quot;All Known Implementing Classes&quot; is the closest thing I found for you.</p>\n<hr />\n<p>The thing is that this might not solve your problem. Protobuf requires you to define the structure you want to serialize. That being said, if you don't want to define it beforehand, you'll need to handle it yourself. One option is to use JSON (or any other serialization format) to serialize the Object and inject it into your message as a raw value.</p>\n"}],"owner":{"account_id":1832501,"reputation":655,"user_id":2441468,"accept_rate":83,"display_name":"Sudev Ambadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690094881,"creation_date":1689344775,"question_id":76688634,"body_markdown":"\r\nHere is the proto message that we trying to send. \r\n```\r\nmessage Cta {\r\n  string title = 1;\r\n  string pid = 2;\r\n  google.protobuf.Struct params = 3;\r\n}\r\n``` \r\n\r\n * Does `protobuf-lite` library which is recommended for android support `google.protobuf.Struct`? \r\n\r\n * Where can we find the list of known proto types that are supported by the javalite runtime for protobuf? \r\n\r\n * If in case Struct / Vaule is not supported by the java-lite then what is recommended proto type for `HashMap&lt;String, Object&gt;` ?\r\n\r\n\r\n\r\nGradle that we using to generate the java code from proto. \r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;com.google.protobuf&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_7\r\n    targetCompatibility = JavaVersion.VERSION_1_7\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n    namespace &#39;com.boom.protobuf&#39;\r\n\r\n}\r\n\r\nprotobuf {\r\n    protoc {\r\n        artifact = &quot;com.google.protobuf:protoc:3.20.1&quot;\r\n    }\r\n\r\n    generateProtoTasks {\r\n        all().each { task -&gt;\r\n            task.builtins {\r\n                java {\r\n                    option &#39;lite&#39;\r\n                }\r\n                kotlin {\r\n                    option &#39;lite&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    api &#39;com.google.protobuf:protobuf-kotlin-lite:3.23.0&#39;\r\n    api &#39;com.google.protobuf:protobuf-javalite:3.23.0&#39;\r\n}\r\n```","title":"Does Protobuf JavaLite support google.protobuf.Struct / google.protobuf.Value?","body":"<p>Here is the proto message that we trying to send.</p>\n<pre><code>message Cta {\n  string title = 1;\n  string pid = 2;\n  google.protobuf.Struct params = 3;\n}\n</code></pre>\n<ul>\n<li><p>Does <code>protobuf-lite</code> library which is recommended for android support <code>google.protobuf.Struct</code>?</p>\n</li>\n<li><p>Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?</p>\n</li>\n<li><p>If in case Struct / Vaule is not supported by the java-lite then what is recommended proto type for <code>HashMap&lt;String, Object&gt;</code> ?</p>\n</li>\n</ul>\n<p>Gradle that we using to generate the java code from proto.</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'kotlin-android'\n    id 'com.google.protobuf'\n    id 'org.jetbrains.kotlin.android'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_7\n    targetCompatibility = JavaVersion.VERSION_1_7\n}\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;30.0.3&quot;\n    namespace 'com.boom.protobuf'\n\n}\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:3.20.1&quot;\n    }\n\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.builtins {\n                java {\n                    option 'lite'\n                }\n                kotlin {\n                    option 'lite'\n                }\n            }\n        }\n    }\n}\n\ndependencies {\n    api 'com.google.protobuf:protobuf-kotlin-lite:3.23.0'\n    api 'com.google.protobuf:protobuf-javalite:3.23.0'\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690050020,"post_id":76745121,"comment_id":135300140,"body_markdown":"It&#39;s nothing to do with dependencies. I wonder if it could be that you&#39;re debugging *into JRE source* that&#39;s &lt; Java 11. Can you check the source version? I&#39;m assuming it compiles OK *and* will *run* OK","body":"It&#39;s nothing to do with dependencies. I wonder if it could be that you&#39;re debugging <i>into JRE source</i> that&#39;s &lt; Java 11. Can you check the source version? I&#39;m assuming it compiles OK <i>and</i> will <i>run</i> OK"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1690051307,"post_id":76745121,"comment_id":135300293,"body_markdown":"@g00se how do I check/set source version in Intellij? When I google searched, i only found project version which I have in that screenshot","body":"@g00se how do I check/set source version in Intellij? When I google searched, i only found project version which I have in that screenshot"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690054900,"post_id":76745121,"comment_id":135300640,"body_markdown":"I don&#39;t know - I don&#39;t use it. Does it *compile* and *run* (not in debug mode)?","body":"I don&#39;t know - I don&#39;t use it. Does it <i>compile</i> and <i>run</i> (not in debug mode)?"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1690094303,"post_id":76745121,"comment_id":135303189,"body_markdown":"@g00se I figured it out and posted an answer. I didn&#39;t know each module was also associated with its own Java version. I thought it was just the top level project","body":"@g00se I figured it out and posted an answer. I didn&#39;t know each module was also associated with its own Java version. I thought it was just the top level project"}],"answers":[{"tags":[],"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690094203,"creation_date":1690094203,"answer_id":76746921,"question_id":76745121,"body_markdown":"Under project structure, the project was set at Java 17 but not all of the modules were set to that version\r\n\r\nIf you experience this, make sure all your modules are also set at the correct java version","title":"How can I debug my IDE(Intellij) not resolving a dependency when maven can with the same java version?","body":"<p>Under project structure, the project was set at Java 17 but not all of the modules were set to that version</p>\n<p>If you experience this, make sure all your modules are also set at the correct java version</p>\n"}],"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690094203,"creation_date":1690047932,"question_id":76745121,"body_markdown":"This is a short code sample in my unit test\r\n\r\n     if (retries &gt;= maxRetries) {\r\n        return InputStream.nullInputStream();\r\n     }\r\n\r\nI&#39;m able to run the tests fine (w this code sample) using mvn test\r\n\r\nHowever in Intellij, when I try to debug these tests(Run -&gt; Debug), I get the error &quot;cannot find symbol - method nullInputStream()&quot;\r\n\r\nDoes anyone know what could be causing this?\r\n\r\nnullInputStream looks like it was introduced in Java 11 but my Intellij IDE is set at 17(See screenshot)\r\n\r\nMy maven which recognizes this dependency is also set at Java version 17(See output below)\r\n\r\n    ...@...-mac .... % mvn -v  \r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: /usr/local/apache-maven\r\n    Java version: 17.0.7, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nolH3.png","title":"How can I debug my IDE(Intellij) not resolving a dependency when maven can with the same java version?","body":"<p>This is a short code sample in my unit test</p>\n<pre><code> if (retries &gt;= maxRetries) {\n    return InputStream.nullInputStream();\n }\n</code></pre>\n<p>I'm able to run the tests fine (w this code sample) using mvn test</p>\n<p>However in Intellij, when I try to debug these tests(Run -&gt; Debug), I get the error &quot;cannot find symbol - method nullInputStream()&quot;</p>\n<p>Does anyone know what could be causing this?</p>\n<p>nullInputStream looks like it was introduced in Java 11 but my Intellij IDE is set at 17(See screenshot)</p>\n<p>My maven which recognizes this dependency is also set at Java version 17(See output below)</p>\n<pre><code>...@...-mac .... % mvn -v  \nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/local/apache-maven\nJava version: 17.0.7, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nolH3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nolH3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list","multithreading"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690009673,"creation_date":1690009673,"answer_id":76742681,"question_id":76742574,"body_markdown":"With your current design, `process` appears to hold the lock until all HTTP request is complete, assuming the the HTTP request occurs at the line `// http sent afterConvert list`.\r\n\r\nThis means that calls to `push` will block.\r\n\r\nInstead you can rewrite `process` like this, so that it holds the lock only very briefly, and `push` can immediately start adding string to `strings`.\r\n```\r\npublic void process() {\r\n        List&lt;String&gt; toConvert;\r\n\r\n        synchronized (lock) {\r\n            // save the current list of Strings to convert and send\r\n            toConvert = strings;\r\n            // start recording Strings in a new batch\r\n            strings = new ArrayList&lt;&gt;();\r\n        }\r\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n\r\n        for (String string : toConvert) {\r\n            // String tmp = convert(string)\r\n            // afterConvert.add(tmp);\r\n        }\r\n        // http sent afterConvert list\r\n    }\r\n```","title":"How to implement a queue for bulk delivery","body":"<p>With your current design, <code>process</code> appears to hold the lock until all HTTP request is complete, assuming the the HTTP request occurs at the line <code>// http sent afterConvert list</code>.</p>\n<p>This means that calls to <code>push</code> will block.</p>\n<p>Instead you can rewrite <code>process</code> like this, so that it holds the lock only very briefly, and <code>push</code> can immediately start adding string to <code>strings</code>.</p>\n<pre><code>public void process() {\n        List&lt;String&gt; toConvert;\n\n        synchronized (lock) {\n            // save the current list of Strings to convert and send\n            toConvert = strings;\n            // start recording Strings in a new batch\n            strings = new ArrayList&lt;&gt;();\n        }\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n\n        for (String string : toConvert) {\n            // String tmp = convert(string)\n            // afterConvert.add(tmp);\n        }\n        // http sent afterConvert list\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690093827,"creation_date":1690093827,"answer_id":76746903,"question_id":76742574,"body_markdown":"The list is being modified at `push` method **only** so `updateListLock` is required to update the collection (since not using concurrent collection)\r\n\r\nWhile the scheduler runs it copies the entire list and reset the new list to blank. We made the list volatile so that we maintain happens-before while reassigning list variable.\r\n\r\nWe need to have `resetListLock` to avoid issue if multiple `ScheduleTask` run in parallel.\r\nChoice of ScheduledExecutorService needs to be revisited since the documentation says \r\n&gt; If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\r\n\r\n```\r\nclass ProduceTest {\r\n    public static void main(String[] args) {\r\n        Producer producer = new Producer();\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            producer.push(String.valueOf(i));\r\n        }\r\n    }\r\n}\r\n\r\nclass Producer{\r\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\r\n    final Object resetListLock = new Object();\r\n    final Object updateListLock = new Object();\r\n    volatile List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    public Producer() {\r\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\r\n    }\r\n    public void push(String str) {\r\n        if (str!=null &amp;&amp; str.length()&gt;0) {\r\n            synchronized (updateListLock) { //considering strings list is being updated here only\r\n                strings.add(str);\r\n            }\r\n        }\r\n    }\r\n\r\n    public List&lt;String&gt; getAndResetProducerList() {\r\n        List&lt;String&gt; newProducerList = new LinkedList&lt;&gt;();//since frequent operation is add and sequential read\r\n        List&lt;String&gt; newConsumerList = null;\r\n\r\n        synchronized (resetListLock){\r\n            newConsumerList = strings;\r\n            strings = newProducerList;\r\n        }\r\n        return newConsumerList;\r\n    }\r\n\r\n\r\n    public void process(){\r\n        List&lt;String&gt; consumerList = getAndResetProducerList();\r\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n            for (String string : consumerList) {\r\n                // String tmp = convert(string)\r\n                // afterConvert.add(tmp);\r\n            }\r\n            // http sent afterConvert list\r\n    }\r\n    class ScheduleTask implements Runnable{\r\n\r\n        @Override\r\n        public void run() {\r\n            process();\r\n        }\r\n    }\r\n}\r\n```","title":"How to implement a queue for bulk delivery","body":"<p>The list is being modified at <code>push</code> method <strong>only</strong> so <code>updateListLock</code> is required to update the collection (since not using concurrent collection)</p>\n<p>While the scheduler runs it copies the entire list and reset the new list to blank. We made the list volatile so that we maintain happens-before while reassigning list variable.</p>\n<p>We need to have <code>resetListLock</code> to avoid issue if multiple <code>ScheduleTask</code> run in parallel.\nChoice of ScheduledExecutorService needs to be revisited since the documentation says</p>\n<blockquote>\n<p>If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.</p>\n</blockquote>\n<pre><code>class ProduceTest {\n    public static void main(String[] args) {\n        Producer producer = new Producer();\n        for (int i = 0; i &lt; 1000; i++) {\n            producer.push(String.valueOf(i));\n        }\n    }\n}\n\nclass Producer{\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\n    final Object resetListLock = new Object();\n    final Object updateListLock = new Object();\n    volatile List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    public Producer() {\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\n    }\n    public void push(String str) {\n        if (str!=null &amp;&amp; str.length()&gt;0) {\n            synchronized (updateListLock) { //considering strings list is being updated here only\n                strings.add(str);\n            }\n        }\n    }\n\n    public List&lt;String&gt; getAndResetProducerList() {\n        List&lt;String&gt; newProducerList = new LinkedList&lt;&gt;();//since frequent operation is add and sequential read\n        List&lt;String&gt; newConsumerList = null;\n\n        synchronized (resetListLock){\n            newConsumerList = strings;\n            strings = newProducerList;\n        }\n        return newConsumerList;\n    }\n\n\n    public void process(){\n        List&lt;String&gt; consumerList = getAndResetProducerList();\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n            for (String string : consumerList) {\n                // String tmp = convert(string)\n                // afterConvert.add(tmp);\n            }\n            // http sent afterConvert list\n    }\n    class ScheduleTask implements Runnable{\n\n        @Override\n        public void run() {\n            process();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690093827,"creation_date":1690007095,"question_id":76742574,"body_markdown":"I need to read tens of millions of rows of data and send it through an HTTP request.In order to reduce the number of HTTP requests and accelerate execution speed, I want to use a queue to cache the data, and then use a scheduled task to send every two seconds(the sending frequency is yet to be determined through testing),after sending the data, the queue need to cache data again for the next time.\r\n\r\nData is not continuously added, and there may be uncertain time intervals. However, data needs to be transmitted through HTTP in a timely manner, so I cannot determine whether it needs to be sent based on the number of data items in the queue. To ensure the timeliness of data transmission through HTTP, I can only use a timed transmission method.\r\n\r\nI use `synchronized` to ensure thread safe,but this means that for every recod  added into the list  need `synchronized` first. \r\n\r\nI would like to know if there is a more efficient or elegant implementation method.\r\n\r\nThis is my code.\r\n\r\nThanks a lot.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class ProduceTest {\r\n        public static void main(String[] args) {\r\n            Producer producer = new Producer();\r\n            for (int i = 0; i &lt; 1000000; i++) {\r\n               producer.push(String.valueOf(i));\r\n            }\r\n       }\r\n    }\r\n\r\n    class Producer{\r\n        ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\r\n        final Object lock = new Object();\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        public Producer() {\r\n            service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\r\n        }\r\n        public void push(String str) {\r\n            if (str!=null &amp;&amp; str.length()&gt;0) {\r\n                synchronized (lock) {\r\n                    strings.add(str);\r\n                }\r\n            }\r\n        }\r\n        public void process(){\r\n            synchronized (lock) {\r\n                List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n                for (String string : strings) {\r\n                    // String tmp = convert(string)\r\n                    // afterConvert.add(tmp);\r\n                }\r\n                // http sent afterConvert list\r\n                strings = new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n        class ScheduleTask implements Runnable{\r\n    \r\n            @Override\r\n            public void run() {\r\n                process();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to implement a queue for bulk delivery","body":"<p>I need to read tens of millions of rows of data and send it through an HTTP request.In order to reduce the number of HTTP requests and accelerate execution speed, I want to use a queue to cache the data, and then use a scheduled task to send every two seconds(the sending frequency is yet to be determined through testing),after sending the data, the queue need to cache data again for the next time.</p>\n<p>Data is not continuously added, and there may be uncertain time intervals. However, data needs to be transmitted through HTTP in a timely manner, so I cannot determine whether it needs to be sent based on the number of data items in the queue. To ensure the timeliness of data transmission through HTTP, I can only use a timed transmission method.</p>\n<p>I use <code>synchronized</code> to ensure thread safe,but this means that for every recod  added into the list  need <code>synchronized</code> first.</p>\n<p>I would like to know if there is a more efficient or elegant implementation method.</p>\n<p>This is my code.</p>\n<p>Thanks a lot.</p>\n<pre><code>public class ProduceTest {\n    public static void main(String[] args) {\n        Producer producer = new Producer();\n        for (int i = 0; i &lt; 1000000; i++) {\n           producer.push(String.valueOf(i));\n        }\n   }\n}\n\nclass Producer{\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\n    final Object lock = new Object();\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    public Producer() {\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\n    }\n    public void push(String str) {\n        if (str!=null &amp;&amp; str.length()&gt;0) {\n            synchronized (lock) {\n                strings.add(str);\n            }\n        }\n    }\n    public void process(){\n        synchronized (lock) {\n            List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n            for (String string : strings) {\n                // String tmp = convert(string)\n                // afterConvert.add(tmp);\n            }\n            // http sent afterConvert list\n            strings = new ArrayList&lt;&gt;();\n        }\n    }\n    class ScheduleTask implements Runnable{\n\n        @Override\n        public void run() {\n            process();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","oauth-2.0"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690044350,"post_id":76743526,"comment_id":135299435,"body_markdown":"You haven&#39;t included enough of your exception stack trace; like this we&#39;re stuck with &quot;internal error&quot; which doesn&#39;t tell us much. Have you tried to connect in other ways, e.g. with a browser with the trusted certificate installed?","body":"You haven&#39;t included enough of your exception stack trace; like this we&#39;re stuck with &quot;internal error&quot; which doesn&#39;t tell us much. Have you tried to connect in other ways, e.g. with a browser with the trusted certificate installed?"},{"owner":{"account_id":14701186,"reputation":499,"user_id":10617165,"display_name":"Faizan Khokhar"},"score":0,"creation_date":1690093315,"post_id":76743526,"comment_id":135303112,"body_markdown":"@MaartenBodewes-onstrike\nI have edited the question to include the stack trace. Furthermore, In the workflow, the Tomcat server directly communicates with the external Oauth server without the involvement of a browser. Just an API to API communication, that&#39;s why I added the ssl in java keystore","body":"@MaartenBodewes-onstrike I have edited the question to include the stack trace. Furthermore, In the workflow, the Tomcat server directly communicates with the external Oauth server without the involvement of a browser. Just an API to API communication, that&#39;s why I added the ssl in java keystore"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690132312,"post_id":76743526,"comment_id":135307479,"body_markdown":"The fact that the error occurs in `readHandshakeRecord` ... `decode` indicates that it probably receives a handshake record that it cannot parse. You need to troubleshoot with the other party to see what is going wrong. &quot;custom OAuth server&quot; indeed, probably the error is in their TLS implementation or configuration.","body":"The fact that the error occurs in <code>readHandshakeRecord</code> ... <code>decode</code> indicates that it probably receives a handshake record that it cannot parse. You need to troubleshoot with the other party to see what is going wrong. &quot;custom OAuth server&quot; indeed, probably the error is in their TLS implementation or configuration."}],"owner":{"account_id":14701186,"reputation":499,"user_id":10617165,"display_name":"Faizan Khokhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690093438,"creation_date":1690024508,"question_id":76743526,"body_markdown":"I have a spring boot application that uses an access token to receive user information from a custom OAuth server. In doing so, it gives an exception,\r\n\r\n    javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:129)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\r\n        at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n        at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:96)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:78)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:57)\r\n        at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getResponse(OidcAuthorizationCodeAuthenticationProvider.java:170)\r\n        at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:144)\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\r\n        at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:64)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\r\n        at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)}\r\n\r\n    Authentication failed: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://api.external_server.com/oauth/token&quot;: Received fatal alert: internal_error; nested exception is javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\r\nThe workflow runs fine on Postman but not on the live server.\r\nMy source code is\r\n&lt;br&gt;\r\napplication.yml:\r\n\r\n    security:\r\n      oauth2:\r\n        client:     \r\n          registration:\r\n            idme:\r\n              client-id: ${security_oauth2_client_registration_idme_client_id}\r\n              client-secret: ${security_oauth2_client_registration_idme_client_secret}\r\n              scope: openid,http://external_server.com/erx\r\n              redirect-uri: https://my-application.com/token\r\n          provider:\r\n            customoauthprovider:\r\n              issuer-uri: https://api.external_server.com/oidc\r\n              user-name-attribute: fname\r\n\r\nSecurityConfiguration.java:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChainForOauth(HttpSecurity http) throws Exception\r\n\t{\r\n\t\tSecurityContext sc = SecurityContextHolder.getContext();\r\n\r\n\t\thttp.securityContext().requireExplicitSave(true).and().cors().and().csrf().disable().\r\n\t\t\trequestMatchers().antMatchers(&quot;/customoauthprovider/verify&quot;, &quot;/login/oauth2/code/customoauthprovider/**&quot;).and()\r\n\t\t\t.oauth2Client().and().oauth2Login()\r\n\t\t\t.failureHandler(customAuthenticationFailureHandler)\r\n\r\n\r\n\t\t\t.authorizationEndpoint().authorizationRequestResolver(\r\n\t\t\t\t\tnew IdMeAuthorizationRequestResolver(clientRegistrationRepository, &quot;customoauthprovider&quot;));\r\n\r\n\t\tDefaultSecurityFilterChain toReturn = http.build();\r\n\r\n\t\treturn toReturn;\r\n\t}\r\nAnd CustomAuthenticationFailureHandler:\r\n\r\n    public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {    \r\n    @Override\r\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {\r\n\r\n        log.error(&quot;Exctption {}&quot;, exception);\r\n        exception.printStackTrace();\r\n        System.out.println(&quot;Authentication failed: &quot; + exception.getMessage());\r\n\r\n      }\r\n    }\r\n\r\n&gt; I even installed the SSL certificate of the custom OAuth provider in the Java key store but still no success.\r\n&lt;br&gt;I am using openjdk version &quot;11&quot; 2018-09-25 on my Azure Windows based virtual machine","title":"Why Spring boot custom oauth is giving me SSLException?","body":"<p>I have a spring boot application that uses an access token to receive user information from a custom OAuth server. In doing so, it gives an exception,</p>\n<pre><code>javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:129)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:96)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:78)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:57)\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getResponse(OidcAuthorizationCodeAuthenticationProvider.java:170)\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:144)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\n    at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)}\n\nAuthentication failed: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://api.external_server.com/oauth/token&quot;: Received fatal alert: internal_error; nested exception is javax.net.ssl.SSLException: Received fatal alert: internal_error\n</code></pre>\n<p>The workflow runs fine on Postman but not on the live server.\nMy source code is\n<br>\napplication.yml:</p>\n<pre><code>security:\n  oauth2:\n    client:     \n      registration:\n        idme:\n          client-id: ${security_oauth2_client_registration_idme_client_id}\n          client-secret: ${security_oauth2_client_registration_idme_client_secret}\n          scope: openid,http://external_server.com/erx\n          redirect-uri: https://my-application.com/token\n      provider:\n        customoauthprovider:\n          issuer-uri: https://api.external_server.com/oidc\n          user-name-attribute: fname\n</code></pre>\n<p>SecurityConfiguration.java:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChainForOauth(HttpSecurity http) throws Exception\n{\n    SecurityContext sc = SecurityContextHolder.getContext();\n\n    http.securityContext().requireExplicitSave(true).and().cors().and().csrf().disable().\n        requestMatchers().antMatchers(&quot;/customoauthprovider/verify&quot;, &quot;/login/oauth2/code/customoauthprovider/**&quot;).and()\n        .oauth2Client().and().oauth2Login()\n        .failureHandler(customAuthenticationFailureHandler)\n\n\n        .authorizationEndpoint().authorizationRequestResolver(\n                new IdMeAuthorizationRequestResolver(clientRegistrationRepository, &quot;customoauthprovider&quot;));\n\n    DefaultSecurityFilterChain toReturn = http.build();\n\n    return toReturn;\n}\n</code></pre>\n<p>And CustomAuthenticationFailureHandler:</p>\n<pre><code>public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {    \n@Override\npublic void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {\n\n    log.error(&quot;Exctption {}&quot;, exception);\n    exception.printStackTrace();\n    System.out.println(&quot;Authentication failed: &quot; + exception.getMessage());\n\n  }\n}\n</code></pre>\n<blockquote>\n<p>I even installed the SSL certificate of the custom OAuth provider in the Java key store but still no success.\n<br>I am using openjdk version &quot;11&quot; 2018-09-25 on my Azure Windows based virtual machine</p>\n</blockquote>\n"},{"tags":["java","indexoutofboundsexception","parseint"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1511785963,"post_id":47511069,"comment_id":81977778,"body_markdown":"that statement can not cause that exception. check the line again","body":"that statement can not cause that exception. check the line again"},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1511785970,"post_id":47511069,"comment_id":81977782,"body_markdown":"Then you are probably reading out of the bounds of your array.","body":"Then you are probably reading out of the bounds of your array."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1511786002,"post_id":47511069,"comment_id":81977807,"body_markdown":"/*trying to take 3  command line arguments */ -&gt; how are you trying that?","body":"/*trying to take 3  command line arguments */ -&gt; how are you trying that?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1511786057,"post_id":47511069,"comment_id":81977841,"body_markdown":"That appear, if you run the program with less than 3 arguments","body":"That appear, if you run the program with less than 3 arguments"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1511786065,"post_id":47511069,"comment_id":81977846,"body_markdown":"The _compiler_ is showing an error? Are you sure it is not an exception happening at runtime?","body":"The <i>compiler</i> is showing an error? Are you sure it is not an exception happening at runtime?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1511786486,"post_id":47511069,"comment_id":81978120,"body_markdown":"It would be really helpful if you posted the actual stacktrace. Other than that, it&#39;s probably because you&#39;re **1.** not providing three arguments to your program or **2.** your program throws it here `for(i=0;i&lt;=array.length;i++) {`","body":"It would be really helpful if you posted the actual stacktrace. Other than that, it&#39;s probably because you&#39;re <b>1.</b> not providing three arguments to your program or <b>2.</b> your program throws it here <code>for(i=0;i&lt;=array.length;i++) {</code>"},{"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"score":0,"creation_date":1511807775,"post_id":47511069,"comment_id":81991320,"body_markdown":"it was due to the ide and the System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;) line.also i corrected the loop .thank u","body":"it was due to the ide and the System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;) line.also i corrected the loop .thank u"}],"answers":[{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511788826,"creation_date":1511786289,"answer_id":47511207,"question_id":47511069,"body_markdown":"In last for loop in your program you have:\n\n    for(i=0; i &lt;= array.length; i++)\nIt should be changed to \n\n    for(i=0; i &lt; array.length; i++)\n\nAlso I would suggest to check if you pass the arguments the right way (especially when using IDE you have to pass them the way your IDE requires it), because if they are not read correctly it may cause `ArrayIndexOutOfBoundsException` in your program. I suggest you to firstly print content of arrays to check if they are correctly filled with data you desired to store in them just to make sure everything is done properly. ","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>In last for loop in your program you have:</p>\n\n<pre><code>for(i=0; i &lt;= array.length; i++)\n</code></pre>\n\n<p>It should be changed to </p>\n\n<pre><code>for(i=0; i &lt; array.length; i++)\n</code></pre>\n\n<p>Also I would suggest to check if you pass the arguments the right way (especially when using IDE you have to pass them the way your IDE requires it), because if they are not read correctly it may cause <code>ArrayIndexOutOfBoundsException</code> in your program. I suggest you to firstly print content of arrays to check if they are correctly filled with data you desired to store in them just to make sure everything is done properly. </p>\n"},{"tags":[],"owner":{"account_id":12109070,"reputation":1,"user_id":8846680,"display_name":"ALLEN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511788904,"creation_date":1511788904,"answer_id":47511983,"question_id":47511069,"body_markdown":"As you are trying to take three command line arguments then :\r\n\r\narray.length = 3 , where indexes run from 0 , 1 and 2.\r\n\r\nIn last for loop of your program you have :\r\n\r\nfor(i=0; i &lt;= array.length; i++)\r\n\r\nNow , for i = 3 we have 3 &lt;= array.length as true and when you try to access \r\n\r\narray[3] in your for loop exception is raised . In order to avoid it \r\n\r\nchange follow\r\n\r\nfor(i=0; i &lt; array.length; i++)\r\n","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>As you are trying to take three command line arguments then :</p>\n\n<p>array.length = 3 , where indexes run from 0 , 1 and 2.</p>\n\n<p>In last for loop of your program you have :</p>\n\n<p>for(i=0; i &lt;= array.length; i++)</p>\n\n<p>Now , for i = 3 we have 3 &lt;= array.length as true and when you try to access </p>\n\n<p>array[3] in your for loop exception is raised . In order to avoid it </p>\n\n<p>change follow</p>\n\n<p>for(i=0; i &lt; array.length; i++)</p>\n"}],"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1690091182,"creation_date":1511785882,"question_id":47511069,"body_markdown":"I was trying to take three command line arguments as input and do some basic maths operations, but the compiler is showing arrayindex out of bound error in lines having `Integer.parseInt()`.\r\n\t\r\n    public class testarray {\r\n        \t\r\n        public static void main(String args[]) {\r\n        \r\n        \tint i=0;\r\n            int length,start,increment;\r\n            /*trying to take 3  command line arguments */\r\n            length=Integer.parseInt(args[0]);\r\n        \tint array[]=new int[length];\r\n        \tstart=Integer.parseInt(args[1]);\r\n        \tincrement=Integer.parseInt(args[2]);\r\n            if(args.length!=3) {\r\n        \t\tSystem.out.println(&quot;error&quot;);\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tfor( i=0;i&lt;array.length;i++) {\r\n        \t\t\tarray[i]=start+(start+increment);\r\n        \t\t}\r\n        \t\tSystem.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;);\r\n        \t\r\n        \t    for(i=0;i&lt;=array.length;i++) {\r\n        \t        System.out.printf(&quot;%d%d\\n&quot;,i,array[i]);\r\n        \t    }\r\n            }\r\n        }\r\n    }","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>I was trying to take three command line arguments as input and do some basic maths operations, but the compiler is showing arrayindex out of bound error in lines having <code>Integer.parseInt()</code>.</p>\n<pre><code>public class testarray {\n        \n    public static void main(String args[]) {\n    \n        int i=0;\n        int length,start,increment;\n        /*trying to take 3  command line arguments */\n        length=Integer.parseInt(args[0]);\n        int array[]=new int[length];\n        start=Integer.parseInt(args[1]);\n        increment=Integer.parseInt(args[2]);\n        if(args.length!=3) {\n            System.out.println(&quot;error&quot;);\n        }\n        else\n        {\n            for( i=0;i&lt;array.length;i++) {\n                array[i]=start+(start+increment);\n            }\n            System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;);\n        \n            for(i=0;i&lt;=array.length;i++) {\n                System.out.printf(&quot;%d%d\\n&quot;,i,array[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","git","svn","version-control","git-merge"],"answers":[{"tags":[],"owner":{"account_id":6367122,"reputation":1369,"user_id":4940780,"accept_rate":86,"display_name":"Antho Christen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690091139,"creation_date":1511959194,"answer_id":47553122,"question_id":47552821,"body_markdown":"Generally that is why we must pull changes frequently so that that our code is always up-to-date with that of the masters. In your case, you will have to merge the changes manually.\r\n\r\nIf you&#39;d like to incrementally apply the changes done in your branch on top of master, do a [rebase][1]\r\n\r\nLike,\r\n\r\n    git checkout your_branch\r\n    git rebase -i master\r\n\r\nThis will allow you to apply your commits in chronological order, so you&#39;d have merge the change commit by commit..thus decreasing the number of conflicts.\r\n\r\n\r\n  [1]: https://git-scm.com/docs/git-rebase","title":"Easiest way of compare classes of two branch","body":"<p>Generally that is why we must pull changes frequently so that that our code is always up-to-date with that of the masters. In your case, you will have to merge the changes manually.</p>\n<p>If you'd like to incrementally apply the changes done in your branch on top of master, do a <a href=\"https://git-scm.com/docs/git-rebase\" rel=\"nofollow noreferrer\">rebase</a></p>\n<p>Like,</p>\n<pre><code>git checkout your_branch\ngit rebase -i master\n</code></pre>\n<p>This will allow you to apply your commits in chronological order, so you'd have merge the change commit by commit..thus decreasing the number of conflicts.</p>\n"},{"tags":[],"owner":{"account_id":372122,"reputation":52335,"user_id":720999,"accept_rate":100,"display_name":"kostix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1511962440,"creation_date":1511962440,"answer_id":47554119,"question_id":47552821,"body_markdown":"You appear to confuse merging-as-joining-histories\r\nand merging-as-reconciling-changes.\r\nThese two most of the time are done at the same time — when one performs\r\na merge operation using their VCS, — and that&#39;s why they&#39;re not usually\r\nbeing mentally distinguished in one&#39;s mind.\r\n\r\nBut in fact, they are distinct and you can use this to your advantage:\r\n\r\n1. Run a normal merge operation using your VCS.\r\n\r\n    You will have conflicts. That&#39;s inevitable and is okay.\r\n\r\n1. Have the conflicts in the offending file resolved by using\r\n*either* of the both sides of the merge.\r\n\r\n    Something like `svn checkout --theirs ^path/to/that/file.java`\r\n\r\n1. Take both versions of the *class implementation* and come up with\r\nanother one which reconciles them both in a sensible way (code-wise).\r\n\r\n1. Update the file with the implementation. Run tests to ensure it\r\nworks as expected.\r\n\r\n1. Commit.","title":"Easiest way of compare classes of two branch","body":"<p>You appear to confuse merging-as-joining-histories\nand merging-as-reconciling-changes.\nThese two most of the time are done at the same time — when one performs\na merge operation using their VCS, — and that's why they're not usually\nbeing mentally distinguished in one's mind.</p>\n\n<p>But in fact, they are distinct and you can use this to your advantage:</p>\n\n<ol>\n<li><p>Run a normal merge operation using your VCS.</p>\n\n<p>You will have conflicts. That's inevitable and is okay.</p></li>\n<li><p>Have the conflicts in the offending file resolved by using\n<em>either</em> of the both sides of the merge.</p>\n\n<p>Something like <code>svn checkout --theirs ^path/to/that/file.java</code></p></li>\n<li><p>Take both versions of the <em>class implementation</em> and come up with\nanother one which reconciles them both in a sensible way (code-wise).</p></li>\n<li><p>Update the file with the implementation. Run tests to ensure it\nworks as expected.</p></li>\n<li><p>Commit.</p></li>\n</ol>\n"}],"owner":{"account_id":1251965,"reputation":244,"user_id":1472060,"accept_rate":50,"display_name":"maskapsiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47554119,"answer_count":2,"score":0,"last_activity_date":1690091139,"creation_date":1511958253,"question_id":47552821,"body_markdown":"We created two branches and one developers group committed to master branch and another developer groups committed to development branch. We developed different requirements in two branches in last 2 months and now we want to merge these two branches. We are using SVN but it is not easy to merge these classes, because same class in two branches are changed several times and it&#39;s very complicated to merge now. What is the easiest way to merge these two branches? Branch history is not important for us. We can use git tools also, or visual tools. ","title":"Easiest way of compare classes of two branch","body":"<p>We created two branches and one developers group committed to master branch and another developer groups committed to development branch. We developed different requirements in two branches in last 2 months and now we want to merge these two branches. We are using SVN but it is not easy to merge these classes, because same class in two branches are changed several times and it's very complicated to merge now. What is the easiest way to merge these two branches? Branch history is not important for us. We can use git tools also, or visual tools. </p>\n"},{"tags":["java","hashmap","copy"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1536749283,"post_id":28288546,"comment_id":91534452,"body_markdown":"Using cloning library saved the day for me!  https://github.com/kostaskougios/cloning","body":"Using cloning library saved the day for me!  <a href=\"https://github.com/kostaskougios/cloning\" rel=\"nofollow noreferrer\">github.com/kostaskougios/cloning</a>"}],"answers":[{"tags":[],"owner":{"account_id":5558760,"reputation":336,"user_id":4409067,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422918951,"creation_date":1422918951,"answer_id":28288637,"question_id":28288546,"body_markdown":"You are making a copy of the HashMap itself, so changing the HashMap copy will not change the original HashMap (i.e. adding or removing entries), but because the objects you have stored are not primitive types, the List that you retrieve with a given key will be the same whether retrieved from the first or the second Map.\r\n\r\nThus, there is still only ONE copy of that list, referenced by both maps: changing the List changes it no matter which reference you use to access it.\r\n\r\nIf you want the actual List to be a separate copy, you will have to do as you said: iterate over the entry set of the HashMap and create a copy of each List manually, adding it to the new map as you go.\r\n\r\nIf there is a better way than that, I don&#39;t know what it is.","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>You are making a copy of the HashMap itself, so changing the HashMap copy will not change the original HashMap (i.e. adding or removing entries), but because the objects you have stored are not primitive types, the List that you retrieve with a given key will be the same whether retrieved from the first or the second Map.</p>\n\n<p>Thus, there is still only ONE copy of that list, referenced by both maps: changing the List changes it no matter which reference you use to access it.</p>\n\n<p>If you want the actual List to be a separate copy, you will have to do as you said: iterate over the entry set of the HashMap and create a copy of each List manually, adding it to the new map as you go.</p>\n\n<p>If there is a better way than that, I don't know what it is.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1422921472,"creation_date":1422918974,"answer_id":28288641,"question_id":28288546,"body_markdown":"You&#39;re right that a shallow copy won&#39;t meet your requirements.  It will have copies of the `List`s from your original map, but those `List`s will refer to the same `List` objects, so that a modification to a `List` from one `HashMap` will appear in the corresponding `List` from the other `HashMap`.\r\n\r\nThere is no deep copying supplied for a `HashMap` in Java, so you will still have to loop through all of the entries and `put` them in the new `HashMap`.  But you should also make a copy of the `List` each time also.  Something like this:\r\n\r\n    public static HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy(\r\n        HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; original)\r\n    {\r\n        HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy = new HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt;();\r\n        for (Map.Entry&lt;Integer, List&lt;MySpecialClass&gt;&gt; entry : original.entrySet())\r\n        {\r\n            copy.put(entry.getKey(),\r\n               // Or whatever List implementation you&#39;d like here.\r\n               new ArrayList&lt;MySpecialClass&gt;(entry.getValue()));\r\n        }\r\n        return copy;\r\n    }\r\n\r\nIf you want to modify your individual `MySpecialClass` objects, and have the changes not be reflected in the `List`s of your copied `HashMap`, then you will need to make new copies of them too.","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>You're right that a shallow copy won't meet your requirements.  It will have copies of the <code>List</code>s from your original map, but those <code>List</code>s will refer to the same <code>List</code> objects, so that a modification to a <code>List</code> from one <code>HashMap</code> will appear in the corresponding <code>List</code> from the other <code>HashMap</code>.</p>\n\n<p>There is no deep copying supplied for a <code>HashMap</code> in Java, so you will still have to loop through all of the entries and <code>put</code> them in the new <code>HashMap</code>.  But you should also make a copy of the <code>List</code> each time also.  Something like this:</p>\n\n<pre><code>public static HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy(\n    HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; original)\n{\n    HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy = new HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;MySpecialClass&gt;&gt; entry : original.entrySet())\n    {\n        copy.put(entry.getKey(),\n           // Or whatever List implementation you'd like here.\n           new ArrayList&lt;MySpecialClass&gt;(entry.getValue()));\n    }\n    return copy;\n}\n</code></pre>\n\n<p>If you want to modify your individual <code>MySpecialClass</code> objects, and have the changes not be reflected in the <code>List</code>s of your copied <code>HashMap</code>, then you will need to make new copies of them too.</p>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1596669815,"creation_date":1422919501,"answer_id":28288729,"question_id":28288546,"body_markdown":"This does need iteration unfortunately. But it&#39;s pretty trivial with Java 8 streams:\r\n\r\n    mapCopy = map.entrySet().stream()\r\n        .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; List.copyOf(e.getValue())))","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>This does need iteration unfortunately. But it's pretty trivial with Java 8 streams:</p>\n<pre><code>mapCopy = map.entrySet().stream()\n    .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; List.copyOf(e.getValue())))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":4,"up_vote_count":30,"is_accepted":false,"score":26,"last_activity_date":1504699668,"creation_date":1504699345,"answer_id":46074721,"question_id":28288546,"body_markdown":"Serialize to json and deserialize afterwards:\r\n\r\n    Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\r\n    String json = new Gson().toJson(originalMap);\r\n    Map&lt;String, Object&gt; mapCopy = new Gson().fromJson(\r\n        json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType());\r\n\r\nFor special classes you might need to [write a custom deserializer][1].\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/UserGuide.md#TOC-Writing-a-Deserializer","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>Serialize to json and deserialize afterwards:</p>\n\n<pre><code>Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\nString json = new Gson().toJson(originalMap);\nMap&lt;String, Object&gt; mapCopy = new Gson().fromJson(\n    json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType());\n</code></pre>\n\n<p>For special classes you might need to <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#TOC-Writing-a-Deserializer\" rel=\"noreferrer\">write a custom deserializer</a>.</p>\n"},{"tags":[],"owner":{"account_id":21266941,"reputation":159,"user_id":15647041,"display_name":"Ігор Колобов"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1621513121,"creation_date":1621512014,"answer_id":67619929,"question_id":28288546,"body_markdown":"Just use Apache Commons Lang - SerializationUtils.clone();\r\n\r\nSomething like these:\r\n\r\n        Map&lt;String, List&lt;MySpecialClass&gt;&gt; originalMap = new HashMap();\r\n        HashMap&lt;String, List&lt;MySpecialClass&gt;&gt; deepCopy = SerializationUtils.clone(new HashMap&lt;&gt;(originalMap));\r\n\r\nAlso make sure MySpecialClass implements Serializable interface.\r\n\r\n    public class MySpecialClass implements Serializable{}","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>Just use Apache Commons Lang - SerializationUtils.clone();</p>\n<p>Something like these:</p>\n<pre><code>    Map&lt;String, List&lt;MySpecialClass&gt;&gt; originalMap = new HashMap();\n    HashMap&lt;String, List&lt;MySpecialClass&gt;&gt; deepCopy = SerializationUtils.clone(new HashMap&lt;&gt;(originalMap));\n</code></pre>\n<p>Also make sure MySpecialClass implements Serializable interface.</p>\n<pre><code>public class MySpecialClass implements Serializable{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19017729,"reputation":165,"user_id":13882338,"display_name":"vishal patel"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1690090460,"creation_date":1660397576,"answer_id":73344730,"question_id":28288546,"body_markdown":"I am not sure about Java 8, but if you are using Java version 11 or above, then the below code will give you a deep copy of Map.\r\n**If data inside it is of primitively type**\r\n\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Integer&gt; deepCopiedMap = new HashMap&lt;&gt;(map);","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>I am not sure about Java 8, but if you are using Java version 11 or above, then the below code will give you a deep copy of Map.\n<strong>If data inside it is of primitively type</strong></p>\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nHashMap&lt;String, Integer&gt; deepCopiedMap = new HashMap&lt;&gt;(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676484471,"creation_date":1676484471,"answer_id":75463837,"question_id":28288546,"body_markdown":"[This answer][1] was good in case you were asking for an immutable copy, but the question indicates you are going to change the list values.\r\n\r\nSo in this case you need to create a new list for each of the map values as follows:\r\n\r\n    mapCopy = map.entrySet().stream()\r\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; new ArrayList&lt;&gt;(e.getValue())));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28288729/732328","title":"How to copy HashMap (not shallow copy) in Java","body":"<p><a href=\"https://stackoverflow.com/a/28288729/732328\">This answer</a> was good in case you were asking for an immutable copy, but the question indicates you are going to change the list values.</p>\n<p>So in this case you need to create a new list for each of the map values as follows:</p>\n<pre><code>mapCopy = map.entrySet().stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; new ArrayList&lt;&gt;(e.getValue())));\n</code></pre>\n"}],"owner":{"account_id":4138429,"reputation":701,"user_id":3394494,"display_name":"Mathis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96315,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":28288641,"answer_count":7,"score":70,"last_activity_date":1690090460,"creation_date":1422918466,"question_id":28288546,"body_markdown":"I need to make a copy of `HashMap&lt;Integer, List&lt;MySpecialClass&gt; &gt;` but when I change something in the copy I want the original to stay the same. i.e when I remove something from the `List&lt;MySpecialClass&gt;` from the copy it stays in the `List&lt;MySpecialClass&gt;` in the original. \r\n\r\nIf I understand it correctly, these two methods create just shallow copy which is not what I want:\r\n\r\n    mapCopy = new HashMap&lt;&gt;(originalMap);\r\n    mapCopy = (HashMap) originalMap.clone();\r\n\r\nAm I right?\r\n\r\nIs there a better way to do it than just iterate through all the keys and all the list items and copy it manually?","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>I need to make a copy of <code>HashMap&lt;Integer, List&lt;MySpecialClass&gt; &gt;</code> but when I change something in the copy I want the original to stay the same. i.e when I remove something from the <code>List&lt;MySpecialClass&gt;</code> from the copy it stays in the <code>List&lt;MySpecialClass&gt;</code> in the original. </p>\n\n<p>If I understand it correctly, these two methods create just shallow copy which is not what I want:</p>\n\n<pre><code>mapCopy = new HashMap&lt;&gt;(originalMap);\nmapCopy = (HashMap) originalMap.clone();\n</code></pre>\n\n<p>Am I right?</p>\n\n<p>Is there a better way to do it than just iterate through all the keys and all the list items and copy it manually?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486106491,"creation_date":1486106491,"answer_id":42018816,"question_id":42018631,"body_markdown":"Yes, though you must remember about two things:\r\n\r\n**1)** Your child entity must allow null on the foreign key to the child\r\n\r\n**2)** You must remember to NOT have CascadeType.DELETE on the @OneToMany relationship in the parent.\r\n\r\n**3)** Before removing the parent, clear the children collection first:\r\n\r\n    parent.setChildren(null);\r\n    session.delete(parent);","title":"How to delete parent object without delete the child object?","body":"<p>Yes, though you must remember about two things:</p>\n\n<p><strong>1)</strong> Your child entity must allow null on the foreign key to the child</p>\n\n<p><strong>2)</strong> You must remember to NOT have CascadeType.DELETE on the @OneToMany relationship in the parent.</p>\n\n<p><strong>3)</strong> Before removing the parent, clear the children collection first:</p>\n\n<pre><code>parent.setChildren(null);\nsession.delete(parent);\n</code></pre>\n"}],"owner":{"account_id":4309179,"reputation":1075,"user_id":3520773,"accept_rate":0,"display_name":"Deepak Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690089849,"creation_date":1486105766,"question_id":42018631,"body_markdown":"How can I delete the parent object without deleting child object in Hibernate? In my case a child has multiple parents. I just want to remove one parent object from child object.","title":"How to delete parent object without delete the child object?","body":"<p>How can I delete the parent object without deleting child object in Hibernate? In my case a child has multiple parents. I just want to remove one parent object from child object.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp","java-11"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1568906034,"post_id":58009038,"comment_id":102432347,"body_markdown":"A plug-in that you have installed into Eclipse (`com.my.cep.studio`?) makes use of JAXB, which is contained in Java 8, but not in Java 11. [Running Eclipse with Java 8](https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM) should fix your issue (you can still use Java 11 for your projects in Eclipse).","body":"A plug-in that you have installed into Eclipse (<code>com.my.cep.studio</code>?) makes use of JAXB, which is contained in Java 8, but not in Java 11. <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\">Running Eclipse with Java 8</a> should fix your issue (you can still use Java 11 for your projects in Eclipse)."},{"owner":{"account_id":13686543,"reputation":467,"user_id":9875507,"display_name":"Java dev"},"score":0,"creation_date":1568959257,"post_id":58009038,"comment_id":102447834,"body_markdown":"@howler com.my.cep.studio is my custom writen plugin. The exception occurs from eclipse internal plugin &quot;javax.xml.bind_2.2.0.v201105210648.jar&quot;. This is same as jaxb jar and same code inside. The exception occurs from class ContextFinder find method at line  return newInstance(contextPath, contextPathClasses, PLATFORM_DEFAULT_FACTORY_CLASS, classLoader, properties). Here PLATFORM_DEFAULT_FACTORY_CLASS points to com.sun.xml.internal.bind.v2.ContextFactory","body":"@howler com.my.cep.studio is my custom writen plugin. The exception occurs from eclipse internal plugin &quot;javax.xml.bind_2.2.0.v201105210648.jar&quot;. This is same as jaxb jar and same code inside. The exception occurs from class ContextFinder find method at line  return newInstance(contextPath, contextPathClasses, PLATFORM_DEFAULT_FACTORY_CLASS, classLoader, properties). Here PLATFORM_DEFAULT_FACTORY_CLASS points to com.sun.xml.internal.bind.v2.ContextFactory"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1568963569,"post_id":58009038,"comment_id":102449542,"body_markdown":"The Eclipse platform does not require or contain the JAXB plug-in (only some Eclipse IDE packages contain the `javax.xml.bind` plug-in). Probably a plug-in/bundle is missing in your dependencies. Show how `javax.xml.bind.ContextFinder` is included, and find out which missing plug-in contains `com.sun.xml.internal.bind.v2.ContextFactory`.","body":"The Eclipse platform does not require or contain the JAXB plug-in (only some Eclipse IDE packages contain the <code>javax.xml.bind</code> plug-in). Probably a plug-in/bundle is missing in your dependencies. Show how <code>javax.xml.bind.ContextFinder</code> is included, and find out which missing plug-in contains <code>com.sun.xml.internal.bind.v2.ContextFactory</code>."},{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":0,"creation_date":1618487250,"post_id":58009038,"comment_id":118618931,"body_markdown":"All you need to go through this answer https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis/48204154#48204154","body":"All you need to go through this answer <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis/48204154#48204154\" title=\"replacements for deprecated jpms modules with java ee apis\">stackoverflow.com/questions/48204141/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6559317,"reputation":1971,"user_id":5070990,"display_name":"Yann TM"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1568890380,"creation_date":1568890380,"answer_id":58009412,"question_id":58009038,"body_markdown":"Yes, you are using features in javax that existed in java 8 but are removed in Java 11\r\n\r\nsee this answer \r\nhttps://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>Yes, you are using features in javax that existed in java 8 but are removed in Java 11</p>\n\n<p>see this answer \n<a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a></p>\n"},{"tags":[],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1589922845,"creation_date":1582047940,"answer_id":60286701,"question_id":58009038,"body_markdown":"I&#39;ve stumbled upon this question while migrating a [big ancient Java application][2] to Java 11. I think the following might come useful.\r\n\r\nI had everything in place in my Maven POMs, javax bindings, JAXB&#39;s implementation, a few tests working fine. Yet, the original application&#39;s tests kept inexplicably complaining that `com.sun.xml.internal.bind.v2.ContextFactory` is not found.\r\n\r\nIndeed, that class isn&#39;t in any 3rd-party implementations of JAXB (I&#39;m using the Glassfish&#39;s one, but there are several others), and one has to replace the default factory that is instantiated inside  `javax.xml.bind.JAXBContext.newInstance( &lt;classes&gt; )` with some new implementation (`com.sun.xml.bind.v2.JAXBContextFactory` in my case and, I guess, in other JAXB libs too).\r\n\r\nAnd well, one of the ways to set that is via the `jaxb.properties` file, which must be visible to the classpath (so, in Maven, it&#39;s usually somewhere like `src/main/resources/*`). As it is explained [here][1], this file has to contain:\r\n\r\n```java\r\njavax.xml.bind.context.factory=com.sun.xml.bind.v2.JAXBContextFactory\r\n```\r\n\r\nIn my case, it was containing the old now-disappeared factory. I guess, current JAXB libraries use a correct default factory if they don&#39;t meet that file, however it might be already present in your codebase and you might need a while before realising it. I hope that this answer will save you the time I wasted.\r\n\r\n[1]: https://stackoverflow.com/a/19731784/529286\r\n[2]: https://github.com/Rothamsted/ondex-knet-builder","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I've stumbled upon this question while migrating a <a href=\"https://github.com/Rothamsted/ondex-knet-builder\" rel=\"noreferrer\">big ancient Java application</a> to Java 11. I think the following might come useful.</p>\n\n<p>I had everything in place in my Maven POMs, javax bindings, JAXB's implementation, a few tests working fine. Yet, the original application's tests kept inexplicably complaining that <code>com.sun.xml.internal.bind.v2.ContextFactory</code> is not found.</p>\n\n<p>Indeed, that class isn't in any 3rd-party implementations of JAXB (I'm using the Glassfish's one, but there are several others), and one has to replace the default factory that is instantiated inside  <code>javax.xml.bind.JAXBContext.newInstance( &lt;classes&gt; )</code> with some new implementation (<code>com.sun.xml.bind.v2.JAXBContextFactory</code> in my case and, I guess, in other JAXB libs too).</p>\n\n<p>And well, one of the ways to set that is via the <code>jaxb.properties</code> file, which must be visible to the classpath (so, in Maven, it's usually somewhere like <code>src/main/resources/*</code>). As it is explained <a href=\"https://stackoverflow.com/a/19731784/529286\">here</a>, this file has to contain:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>javax.xml.bind.context.factory=com.sun.xml.bind.v2.JAXBContextFactory\n</code></pre>\n\n<p>In my case, it was containing the old now-disappeared factory. I guess, current JAXB libraries use a correct default factory if they don't meet that file, however it might be already present in your codebase and you might need a while before realising it. I hope that this answer will save you the time I wasted.</p>\n"},{"tags":[],"owner":{"account_id":18324217,"reputation":641,"user_id":13344292,"display_name":"Vivek Kumar Patel"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1612296789,"creation_date":1587173178,"answer_id":61283181,"question_id":58009038,"body_markdown":"Sun people have remove directly access to jaxb package in java 11.  \r\nThese dependency will work instead of it. Same fix if you are facing hibernate `NullPointerException` issue.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>Sun people have remove directly access to jaxb package in java 11.<br />\nThese dependency will work instead of it. Same fix if you are facing hibernate <code>NullPointerException</code> issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.25.0-GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1294495,"reputation":1708,"user_id":1245915,"accept_rate":75,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603776015,"creation_date":1603776015,"answer_id":64548681,"question_id":58009038,"body_markdown":"These libs worked for me (inspired by Vivek&#39;s response above). When I tried using [JAXB sample from Vogella tutorial](https://www.vogella.com/tutorials/JAXB/article.html) with Intellij.\r\n\r\n```\r\ndependencies {\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    compile group: &#39;org.eclipse.persistence&#39;, name: &#39;org.eclipse.persistence.moxy&#39;,version: &#39;2.7.3&#39;\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    compile &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;\r\n    compile &#39;com.sun.xml.bind:jaxb-impl:2.3.1&#39;\r\n    compile &#39;org.javassist:javassist:3.25.0-GA&#39;\r\n}\r\n```","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>These libs worked for me (inspired by Vivek's response above). When I tried using <a href=\"https://www.vogella.com/tutorials/JAXB/article.html\" rel=\"nofollow noreferrer\">JAXB sample from Vogella tutorial</a> with Intellij.</p>\n<pre><code>dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile group: 'org.eclipse.persistence', name: 'org.eclipse.persistence.moxy',version: '2.7.3'\n    compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n    compile 'com.sun.xml.bind:jaxb-core:2.3.0.1'\n    compile 'com.sun.xml.bind:jaxb-impl:2.3.1'\n    compile 'org.javassist:javassist:3.25.0-GA'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19148052,"reputation":81,"user_id":13986558,"display_name":"B&#233;la B&#225;lint"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605548524,"creation_date":1605548524,"answer_id":64862997,"question_id":58009038,"body_markdown":"I was strugling  with the same problem. The **jakarta.xml.bind** implementation will want to use the **com.sun.xml.bind.v2.ContextFactory** instead of **com.sun.xml.internal.bind.v2.ContextFactory** which is available in the **com.sun.xml.bind**. So that combo worked for me.","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I was strugling  with the same problem. The <strong>jakarta.xml.bind</strong> implementation will want to use the <strong>com.sun.xml.bind.v2.ContextFactory</strong> instead of <strong>com.sun.xml.internal.bind.v2.ContextFactory</strong> which is available in the <strong>com.sun.xml.bind</strong>. So that combo worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1801980,"reputation":1068,"user_id":1640065,"accept_rate":64,"display_name":"Manan Shah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616478573,"creation_date":1616478573,"answer_id":66757918,"question_id":58009038,"body_markdown":"For me, these 2 lines in the **build.gradle** worked for me.\r\n\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    compile group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;2.3.1&#39;\r\n","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>For me, these 2 lines in the <strong>build.gradle</strong> worked for me.</p>\n<pre><code>compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\ncompile group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '2.3.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889938,"creation_date":1676889938,"answer_id":75508239,"question_id":58009038,"body_markdown":"I had to create and add the following file in my project &lt;br&gt;\r\n`META-INF/services/javax.xml.bind.JAXBContext`&lt;br&gt; with the following content:\r\n\r\n    com.sun.xml.bind.v2.ContextFactory\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis tells the API which implementation to use.\r\n\r\nI was using the following runtime implementation:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[1]: https://i.stack.imgur.com/613Xe.png","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I had to create and add the following file in my project <br>\n<code>META-INF/services/javax.xml.bind.JAXBContext</code><br> with the following content:</p>\n<pre><code>com.sun.xml.bind.v2.ContextFactory\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/613Xe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/613Xe.png\" alt=\"enter image description here\" /></a></p>\n<p>This tells the API which implementation to use.</p>\n<p>I was using the following runtime implementation:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28628549,"reputation":1,"user_id":21920059,"display_name":"Ajay Thombare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690089445,"creation_date":1690089445,"answer_id":76746726,"question_id":58009038,"body_markdown":"Adding these dependancies in my pom solved the issue\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n     &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n     &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n     &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>Adding these dependancies in my pom solved the issue</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n &lt;version&gt;2.3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13686543,"reputation":467,"user_id":9875507,"display_name":"Java dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111614,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":8,"score":39,"last_activity_date":1690089445,"creation_date":1568889108,"question_id":58009038,"body_markdown":"I am getting the error below while running my eclipse plugin.\r\nEclipse used 4.12 with java11. It used to work fine in eclipse 4.6.3 + java8.\r\n\r\n\tjavax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory not found\r\n\t - with linked exception:\r\n\t[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory cannot be found by com.my.cep.studio.cluster.topology_0.0.0]\r\n\r\n\t!ENTRY com.my.cep.diagramming 4 0 \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:146)\r\n\t\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:289)\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:412)\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:375)\r\n\t\tat com.my.cep.studio.cluster.topology.editors.ClusterTopologyDiagramManager.parseFile(ClusterTopologyDiagramManager.java:193)\r\n\t\tat com.my.cep.studio.cluster.topology.editors.ClusterTopologyDiagramManager.openModel(ClusterTopologyDiagramManager.java:175)\r\n\t\tat com.my.cep.diagramming.drawing.BaseDiagramManager.createDrawingCanvas(BaseDiagramManager.java:233)\r\n\t\tat com.my.cep.diagramming.drawing.DiagramManager$2.run(DiagramManager.java:259)\r\n\t\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\t\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\t\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\t\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\t\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\t\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\t\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\t\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory cannot be found by com.my.cep.studio.cluster.topology_0.0.0\r\n\t\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:512)\r\n\t\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:423)\r\n\t\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:415)\r\n\t\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:155)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\tat javax.xml.bind.ContextFinder.safeLoadClass(ContextFinder.java:480)\r\n\t\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:112)","title":"Eclipse 4.12 - java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I am getting the error below while running my eclipse plugin.\nEclipse used 4.12 with java11. It used to work fine in eclipse 4.6.3 + java8.</p>\n<pre><code>javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory not found\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory cannot be found by com.my.cep.studio.cluster.topology_0.0.0]\n\n!ENTRY com.my.cep.diagramming 4 0   at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:146)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:289)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:412)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:375)\n    at com.my.cep.studio.cluster.topology.editors.ClusterTopologyDiagramManager.parseFile(ClusterTopologyDiagramManager.java:193)\n    at com.my.cep.studio.cluster.topology.editors.ClusterTopologyDiagramManager.openModel(ClusterTopologyDiagramManager.java:175)\n    at com.my.cep.diagramming.drawing.BaseDiagramManager.createDrawingCanvas(BaseDiagramManager.java:233)\n    at com.my.cep.diagramming.drawing.DiagramManager$2.run(DiagramManager.java:259)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory cannot be found by com.my.cep.studio.cluster.topology_0.0.0\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:512)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:423)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:415)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:155)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javax.xml.bind.ContextFinder.safeLoadClass(ContextFinder.java:480)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:112)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","static","static-methods"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690088131,"post_id":76746679,"comment_id":135302842,"body_markdown":"`Course.getId()` should be `course.getId()`.","body":"<code>Course.getId()</code> should be <code>course.getId()</code>."},{"owner":{"account_id":27739592,"reputation":1,"user_id":21176353,"display_name":"Merlion Curry"},"score":0,"creation_date":1690165411,"post_id":76746679,"comment_id":135310443,"body_markdown":"thank you for the quick spot! i managed to complete my first REST example!","body":"thank you for the quick spot! i managed to complete my first REST example!"}],"owner":{"account_id":27739592,"reputation":1,"user_id":21176353,"display_name":"Merlion Curry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690088040,"answer_count":0,"score":0,"last_activity_date":1690088120,"creation_date":1690087968,"question_id":76746679,"body_markdown":"Newbie learning a first REST API example in Springboot. I have this snippet in my implementation class giving the error &quot;&quot;cannot make a static reference to a the non-static method getId() from the type Course&quot;. The getId() method is not static but the invocation appears to be from a static method leading to this error...im confused. Appreciate any help.\r\n\r\n\t@Override\r\n\tpublic Course getCourse(long courseId) {\r\n\t\tCourse c=null;\r\n\t\tfor (Course course:list)\r\n\t\t{\r\n\t\t\tif(Course.getId()==courseId)\r\n\t\t\t{\r\n\t\t\t\tc=course;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\r\nMy controller class:\r\n\r\n\t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic Course getCourse(@PathVariable String courseId)\r\n\t{\r\n\t\treturn this.courseService.getCourse(Long.parseLong(courseId));\r\n\t}\r\n\r\nMy service class:\r\n\r\n    public interface CourseService {\r\n\r\n    \tpublic List&lt;Course&gt; getCourses();\t\r\n    \tpublic Course getCourse(long courseId);\r\n    \t\r\n    }\r\n\r\nMy entity class:\r\n\r\n    public class Course {\r\n    \r\n    \tprivate long id;\r\n    \tprivate String title;\r\n    \tprivate String description;\r\n    \tpublic Course(long id, String title, String description) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.title = title;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n\t}\r\n\r\nWas expecting this will compile. \r\n","title":"Unable to resolve &quot;cannot make a static reference to a the non-static method getId() from the type Course&quot;","body":"<p>Newbie learning a first REST API example in Springboot. I have this snippet in my implementation class giving the error &quot;&quot;cannot make a static reference to a the non-static method getId() from the type Course&quot;. The getId() method is not static but the invocation appears to be from a static method leading to this error...im confused. Appreciate any help.</p>\n<pre><code>@Override\npublic Course getCourse(long courseId) {\n    Course c=null;\n    for (Course course:list)\n    {\n        if(Course.getId()==courseId)\n        {\n            c=course;\n            break;\n        }\n    }\n    return c;\n}\n</code></pre>\n<p>My controller class:</p>\n<pre><code>@GetMapping(&quot;/courses/{courseId}&quot;)\npublic Course getCourse(@PathVariable String courseId)\n{\n    return this.courseService.getCourse(Long.parseLong(courseId));\n}\n</code></pre>\n<p>My service class:</p>\n<pre><code>public interface CourseService {\n\n    public List&lt;Course&gt; getCourses();   \n    public Course getCourse(long courseId);\n    \n}\n</code></pre>\n<p>My entity class:</p>\n<pre><code>public class Course {\n\n    private long id;\n    private String title;\n    private String description;\n    public Course(long id, String title, String description) {\n        super();\n        this.id = id;\n        this.title = title;\n        this.description = description;\n    }\n    public long getId() {\n        return id;\n}\n</code></pre>\n<p>Was expecting this will compile.</p>\n"},{"tags":["java","3d","opengl-es","render-to-texture","jpct"],"owner":{"account_id":29069560,"reputation":1,"user_id":22268284,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690087581,"creation_date":1690033964,"question_id":76744131,"body_markdown":"In a Blender every textures displays fine, but not in the Engine\r\n\r\nSorry for my English. Recently I found on a game engine for Java - JPCT and decided to try to create a small game. I&#39;m having a problem displaying textures on the .obj model. In blender, everything is displayed correctly, but not in the engine. See screenshots below. \r\n\r\n[Blender](https://i.stack.imgur.com/7aTCu.jpg) ](https://i.stack.imgur.com/TlCJV.png)\r\nMy code:\r\n```\r\npublic class WorldObjects {\r\n    List&lt;Object3D&gt; objects = new ArrayList&lt;&gt;();\r\n    Object3D object3D;\r\n\r\n    public void loadObjects(){\r\n        Object3D school = Object3D.mergeAll(Loader.loadOBJ(&quot;models/school.obj&quot;, &quot;models/school.mtl&quot;,  5));\r\n        school.setCollisionMode(Object3D.COLLISION_CHECK_OTHERS);\r\n        school.setCulling(true);\r\n        school.setCollisionOptimization(true);\r\n        school.rotateX((float) (Math.PI / 2) * 2);\r\n\r\n        object3D = school;\r\n\r\n        school.build();\r\n\r\n        objects.add(school);\r\n    }\r\n\r\n    public Object3D getObject3D() {\r\n        return object3D;\r\n    }\r\n}\r\n\r\n```\r\nMy class where i planned to create all game objects and adding ones in the list\r\n\r\n\r\n```\r\n    public void render(){\r\n        for(int i = 0; i!=worldObjects.objects.size(); i++){\r\n            world.addObject(worldObjects.objects.get(i));\r\n        }\r\n    }\r\n```\r\nMy method where i adding into the world all objects from list\r\n\r\nTell me, what&#39;s the problem? Thank you very much in advance","title":"Texture mapping issue in JPCT game engine","body":"<p>In a Blender every textures displays fine, but not in the Engine</p>\n<p>Sorry for my English. Recently I found on a game engine for Java - JPCT and decided to try to create a small game. I'm having a problem displaying textures on the .obj model. In blender, everything is displayed correctly, but not in the engine. See screenshots below.</p>\n<p><a href=\"https://i.stack.imgur.com/7aTCu.jpg\" rel=\"nofollow noreferrer\">Blender</a> ](<a href=\"https://i.stack.imgur.com/TlCJV.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TlCJV.png</a>)\nMy code:</p>\n<pre><code>public class WorldObjects {\n    List&lt;Object3D&gt; objects = new ArrayList&lt;&gt;();\n    Object3D object3D;\n\n    public void loadObjects(){\n        Object3D school = Object3D.mergeAll(Loader.loadOBJ(&quot;models/school.obj&quot;, &quot;models/school.mtl&quot;,  5));\n        school.setCollisionMode(Object3D.COLLISION_CHECK_OTHERS);\n        school.setCulling(true);\n        school.setCollisionOptimization(true);\n        school.rotateX((float) (Math.PI / 2) * 2);\n\n        object3D = school;\n\n        school.build();\n\n        objects.add(school);\n    }\n\n    public Object3D getObject3D() {\n        return object3D;\n    }\n}\n\n</code></pre>\n<p>My class where i planned to create all game objects and adding ones in the list</p>\n<pre><code>    public void render(){\n        for(int i = 0; i!=worldObjects.objects.size(); i++){\n            world.addObject(worldObjects.objects.get(i));\n        }\n    }\n</code></pre>\n<p>My method where i adding into the world all objects from list</p>\n<p>Tell me, what's the problem? Thank you very much in advance</p>\n"},{"tags":["java","networking","tcp"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1311957610,"post_id":6876266,"comment_id":8181831,"body_markdown":"Can you please post the client code? If it is a remote client make sure you don&#39;t have any firewall issues!","body":"Can you please post the client code? If it is a remote client make sure you don&#39;t have any firewall issues!"},{"owner":{"account_id":430426,"reputation":5186,"user_id":813852,"accept_rate":84,"display_name":"Samantha Catania"},"score":0,"creation_date":1311957858,"post_id":6876266,"comment_id":8181893,"body_markdown":"I turned off firewalls on both client &amp; server &amp; still same problem","body":"I turned off firewalls on both client &amp; server &amp; still same problem"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1311957862,"post_id":6876266,"comment_id":8181896,"body_markdown":"What interface is the server listening on.  If you are only listening on localhost, you cannot connect remotely.","body":"What interface is the server listening on.  If you are only listening on localhost, you cannot connect remotely."},{"owner":{"account_id":430426,"reputation":5186,"user_id":813852,"accept_rate":84,"display_name":"Samantha Catania"},"score":0,"creation_date":1311958254,"post_id":6876266,"comment_id":8182008,"body_markdown":"I was trying to connect remotely while using localhost, face palm. This is my first trial with TCP &gt;.&lt; How do I make it work remotely?","body":"I was trying to connect remotely while using localhost, face palm. This is my first trial with TCP &gt;.&lt; How do I make it work remotely?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1311958308,"post_id":6876266,"comment_id":8182020,"body_markdown":"Remember that you may have some &#39;bare metal&#39; hardware firewalls in between as well... does it work if client and server are on the same box?","body":"Remember that you may have some &#39;bare metal&#39; hardware firewalls in between as well... does it work if client and server are on the same box?"},{"owner":{"account_id":430426,"reputation":5186,"user_id":813852,"accept_rate":84,"display_name":"Samantha Catania"},"score":0,"creation_date":1311958410,"post_id":6876266,"comment_id":8182048,"body_markdown":"same box as in same machine? If so yes","body":"same box as in same machine? If so yes"},{"owner":{"display_name":"user545199"},"score":0,"creation_date":1311961837,"post_id":6876266,"comment_id":84775144,"body_markdown":"I tried your code out and I didn&#39;t have any problems on my machine. it has to be something blocking your connection or else you are starting them in the wrong order. Are you making sure that your server isn&#39;t getting closed when you start the client up. My process was this. put both class file in one directory, then opened 2 command prompts to that directory to execute them separately. if your using an IDE it may be closing the server automatically which is why i recommend doing it this way","body":"I tried your code out and I didn&#39;t have any problems on my machine. it has to be something blocking your connection or else you are starting them in the wrong order. Are you making sure that your server isn&#39;t getting closed when you start the client up. My process was this. put both class file in one directory, then opened 2 command prompts to that directory to execute them separately. if your using an IDE it may be closing the server automatically which is why i recommend doing it this way"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1443616387,"post_id":6876266,"comment_id":53564426,"body_markdown":"Server Fault has a canonical question about [Connection Refused](http://serverfault.com/questions/725262/what-causes-the-connection-refused-message).","body":"Server Fault has a canonical question about <a href=\"http://serverfault.com/questions/725262/what-causes-the-connection-refused-message\">Connection Refused</a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1311957581,"creation_date":1311957581,"answer_id":6876286,"question_id":6876266,"body_markdown":"I would check:\r\n\r\n- Host name and port you&#39;re trying to connect to\r\n- The server side has managed to start listening correctly\r\n- There&#39;s no firewall blocking the connection\r\n\r\nThe simplest starting point is probably to try to connect manually from the client machine using telnet or Putty. If that succeeds, then the problem is in your client code. If it doesn&#39;t, you need to work out *why* it hasn&#39;t. [Wireshark][1] may help you on this front.\r\n\r\n\r\n  [1]: http://wireshark.org","title":"java.net.ConnectException: Connection refused","body":"<p>I would check:</p>\n\n<ul>\n<li>Host name and port you're trying to connect to</li>\n<li>The server side has managed to start listening correctly</li>\n<li>There's no firewall blocking the connection</li>\n</ul>\n\n<p>The simplest starting point is probably to try to connect manually from the client machine using telnet or Putty. If that succeeds, then the problem is in your client code. If it doesn't, you need to work out <em>why</em> it hasn't. <a href=\"http://wireshark.org\">Wireshark</a> may help you on this front.</p>\n"},{"tags":[],"owner":{"account_id":14300,"reputation":5690,"user_id":29299,"accept_rate":92,"display_name":"Collin Price"},"down_vote_count":4,"up_vote_count":410,"is_accepted":true,"score":406,"last_activity_date":1552961843,"creation_date":1311957697,"answer_id":6876306,"question_id":6876266,"body_markdown":"This exception means that there is no service listening on the IP/port you are trying to connect to:\r\n\r\n* You are trying to connect to the wrong IP/Host or port.\r\n* You have not started your server.\r\n* Your server is not listening for connections.\r\n* On Windows servers, the listen backlog queue is full.","title":"java.net.ConnectException: Connection refused","body":"<p>This exception means that there is no service listening on the IP/port you are trying to connect to:</p>\n\n<ul>\n<li>You are trying to connect to the wrong IP/Host or port.</li>\n<li>You have not started your server.</li>\n<li>Your server is not listening for connections.</li>\n<li>On Windows servers, the listen backlog queue is full.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1312021576,"creation_date":1311960074,"answer_id":6876709,"question_id":6876266,"body_markdown":"You have to connect your client socket to the remote ServerSocket. Instead of\r\n\r\n`Socket clientSocket = new Socket(&quot;localhost&quot;, 5000);`\r\n\r\ndo \r\n\r\n`Socket clientSocket = new Socket(serverName, 5000);`\r\n\r\n\r\nThe client must connect to **serverName** which should match the name or IP of the box on which your `ServerSocket` was instantiated (the name must be reachable from the client machine). BTW: It&#39;s not the name that is important, it&#39;s all about IP addresses...\r\n","title":"java.net.ConnectException: Connection refused","body":"<p>You have to connect your client socket to the remote ServerSocket. Instead of</p>\n\n<p><code>Socket clientSocket = new Socket(\"localhost\", 5000);</code></p>\n\n<p>do </p>\n\n<p><code>Socket clientSocket = new Socket(serverName, 5000);</code></p>\n\n<p>The client must connect to <strong>serverName</strong> which should match the name or IP of the box on which your <code>ServerSocket</code> was instantiated (the name must be reachable from the client machine). BTW: It's not the name that is important, it's all about IP addresses...</p>\n"},{"tags":[],"owner":{"account_id":1651819,"reputation":2857,"user_id":1522257,"accept_rate":92,"display_name":"Dao Lam"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1343239797,"creation_date":1343239797,"answer_id":11655948,"question_id":6876266,"body_markdown":"I had the same problem, but running the Server before running the Client fixed it. ","title":"java.net.ConnectException: Connection refused","body":"<p>I had the same problem, but running the Server before running the Client fixed it. </p>\n"},{"tags":[],"owner":{"account_id":3640714,"reputation":985,"user_id":3755933,"accept_rate":73,"display_name":"phoenix"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1416225704,"creation_date":1416225704,"answer_id":26972293,"question_id":6876266,"body_markdown":"Hope my experience may be useful to someone. I faced the problem with the same exception stack trace and I couldn&#39;t understand what the issue was. The Database server which I was trying to connect was running and the port was open and was accepting connections.\r\n\r\nThe issue was with internet connection. The internet connection that I was using was not allowed to connect to the corresponding server. When I changed the connection details, the issue got resolved.","title":"java.net.ConnectException: Connection refused","body":"<p>Hope my experience may be useful to someone. I faced the problem with the same exception stack trace and I couldn't understand what the issue was. The Database server which I was trying to connect was running and the port was open and was accepting connections.</p>\n\n<p>The issue was with internet connection. The internet connection that I was using was not allowed to connect to the corresponding server. When I changed the connection details, the issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":4840814,"reputation":606,"user_id":3905908,"accept_rate":100,"display_name":"MrOnyancha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459843091,"creation_date":1459843091,"answer_id":36420361,"question_id":6876266,"body_markdown":"\r\nI had the same problem with Mqtt broker called vernemq.but solved it by adding the following.\r\n\r\n 1. `$ sudo vmq-admin listener show`\r\n\r\nto show the list o allowed ips and ports for vernemq\r\n\r\n 1. `$ sudo vmq-admin listener start port=1885 -a 0.0.0.0 --mountpoint /appname --nr_of_acceptors=10 --max_connections=20000`\r\n\r\nto add any ip and your new port. now u should be able to connect without any problem. \r\n\r\nHope it solves your problem.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5OdyN.png","title":"java.net.ConnectException: Connection refused","body":"<p>I had the same problem with Mqtt broker called vernemq.but solved it by adding the following.</p>\n\n<ol>\n<li><code>$ sudo vmq-admin listener show</code></li>\n</ol>\n\n<p>to show the list o allowed ips and ports for vernemq</p>\n\n<ol>\n<li><code>$ sudo vmq-admin listener start port=1885 -a 0.0.0.0 --mountpoint /appname --nr_of_acceptors=10 --max_connections=20000</code></li>\n</ol>\n\n<p>to add any ip and your new port. now u should be able to connect without any problem. </p>\n\n<p>Hope it solves your problem.\n<a href=\"https://i.stack.imgur.com/5OdyN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5OdyN.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553160953,"creation_date":1463864839,"answer_id":37368027,"question_id":6876266,"body_markdown":"i got this error because I closed `ServerSocket` inside a for loop that try to accept number of clients inside it (I did not finished accepting all clints)\r\n\r\nso be careful where to close your Socket","title":"java.net.ConnectException: Connection refused","body":"<p>i got this error because I closed <code>ServerSocket</code> inside a for loop that try to accept number of clients inside it (I did not finished accepting all clints)</p>\n\n<p>so be careful where to close your Socket</p>\n"},{"tags":[],"owner":{"account_id":8213970,"reputation":419,"user_id":6181049,"accept_rate":100,"display_name":"Zhyano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482345022,"creation_date":1482344424,"answer_id":41269417,"question_id":6876266,"body_markdown":"In my case, I gave the socket the name of the server (in my case &quot;raspberrypi&quot;), and instead an IPv4 address made it, or to specify, IPv6 was broken (the name resolved to an IPv6)","title":"java.net.ConnectException: Connection refused","body":"<p>In my case, I gave the socket the name of the server (in my case \"raspberrypi\"), and instead an IPv4 address made it, or to specify, IPv6 was broken (the name resolved to an IPv6)</p>\n"},{"tags":[],"owner":{"account_id":3047257,"reputation":119,"user_id":2582545,"accept_rate":50,"display_name":"Santosh Karna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494782004,"creation_date":1494782004,"answer_id":43966732,"question_id":6876266,"body_markdown":"I had same problem and the problem was that I was not closing socket object.After using socket.close(); problem solved.\r\nThis code works for me.\r\n\r\nClientDemo.java\r\n\r\n    public class ClientDemo {\r\n    \tpublic static void main(String[] args) throws UnknownHostException,\r\n    \t\t\tIOException {\r\n    \t\tSocket socket = new Socket(&quot;127.0.0.1&quot;, 55286);\r\n    \t\tOutputStreamWriter os = new OutputStreamWriter(socket.getOutputStream());\r\n    \t\tos.write(&quot;Santosh Karna&quot;);\r\n    \t\tos.flush();\r\n    \t\tsocket.close();\r\n    \t}\r\n    }\r\n\r\nand \r\nServerDemo.java\r\n\r\n    public class ServerDemo {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tSystem.out.println(&quot;server is started&quot;);\r\n    \t\tServerSocket serverSocket= new ServerSocket(55286);\r\n    \t\tSystem.out.println(&quot;server is waiting&quot;);\r\n    \t\tSocket socket=serverSocket.accept();\r\n    \t\tSystem.out.println(&quot;Client connected&quot;);\r\n    \t\tBufferedReader reader=new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    \t\tString str=reader.readLine();\r\n    \t\tSystem.out.println(&quot;Client data: &quot;+str);\r\n    \t\tsocket.close();\r\n    \t\tserverSocket.close();\r\n    \t\t\r\n    \t}\r\n    }","title":"java.net.ConnectException: Connection refused","body":"<p>I had same problem and the problem was that I was not closing socket object.After using socket.close(); problem solved.\nThis code works for me.</p>\n\n<p>ClientDemo.java</p>\n\n<pre><code>public class ClientDemo {\n    public static void main(String[] args) throws UnknownHostException,\n            IOException {\n        Socket socket = new Socket(\"127.0.0.1\", 55286);\n        OutputStreamWriter os = new OutputStreamWriter(socket.getOutputStream());\n        os.write(\"Santosh Karna\");\n        os.flush();\n        socket.close();\n    }\n}\n</code></pre>\n\n<p>and \nServerDemo.java</p>\n\n<pre><code>public class ServerDemo {\n    public static void main(String[] args) throws IOException {\n        System.out.println(\"server is started\");\n        ServerSocket serverSocket= new ServerSocket(55286);\n        System.out.println(\"server is waiting\");\n        Socket socket=serverSocket.accept();\n        System.out.println(\"Client connected\");\n        BufferedReader reader=new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        String str=reader.readLine();\n        System.out.println(\"Client data: \"+str);\n        socket.close();\n        serverSocket.close();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1518987,"reputation":1655,"user_id":1419243,"accept_rate":59,"display_name":"user1419243"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503495724,"creation_date":1503495724,"answer_id":45841447,"question_id":6876266,"body_markdown":"In my case, I had to put a check mark near `Expose daemon on tcp://localhost:2375 without TLS` in `docker` setting (on the right side of the task bar, right click on `docker`, select `setting`)","title":"java.net.ConnectException: Connection refused","body":"<p>In my case, I had to put a check mark near <code>Expose daemon on tcp://localhost:2375 without TLS</code> in <code>docker</code> setting (on the right side of the task bar, right click on <code>docker</code>, select <code>setting</code>)</p>\n"},{"tags":[],"owner":{"account_id":7937045,"reputation":3251,"user_id":5992618,"accept_rate":75,"display_name":"eRaisedToX"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519664615,"creation_date":1519663840,"answer_id":48993315,"question_id":6876266,"body_markdown":"One point that I would like to add to the answers above is **my experience**-\r\n\r\n&quot;I hosted on my server on **localhost** and was trying to connect to it through an **android emulator** by specifying proper URL like `http://localhost/my_api/login.php` . And I was getting **connection refused error**&quot;\r\n\r\n\r\n**Point to note -** When I just went to browser on the PC and use the same URL (`http://localhost/my_api/login.php`) **I was getting correct response**\r\n\r\nso the Problem in my case was the term `localhost` which I replaced with the **IP** for my server (as your server is hosted on your machine) which made it reachable from my emulator on the same PC.\r\n\r\n---\r\nTo get IP for your local machine, you can use `ipconfig` command on cmd \r\nyou will get IPv4 something like 192.68.xx.yy\r\nVoila ..that&#39;s your machine&#39;s IP where you have your server hosted.\r\nuse it then instead of localhost\r\n\r\n`http://192.168.72.66/my_api/login.php`\r\n\r\n---\r\nNote - you won&#39;t be able to reach this private IP from any node outside this computer. (In case you need ,you can use Ngnix for that)","title":"java.net.ConnectException: Connection refused","body":"<p>One point that I would like to add to the answers above is <strong>my experience</strong>-</p>\n\n<p>\"I hosted on my server on <strong>localhost</strong> and was trying to connect to it through an <strong>android emulator</strong> by specifying proper URL like <code>http://localhost/my_api/login.php</code> . And I was getting <strong>connection refused error</strong>\"</p>\n\n<p><strong>Point to note -</strong> When I just went to browser on the PC and use the same URL (<code>http://localhost/my_api/login.php</code>) <strong>I was getting correct response</strong></p>\n\n<p>so the Problem in my case was the term <code>localhost</code> which I replaced with the <strong>IP</strong> for my server (as your server is hosted on your machine) which made it reachable from my emulator on the same PC.</p>\n\n<hr>\n\n<p>To get IP for your local machine, you can use <code>ipconfig</code> command on cmd \nyou will get IPv4 something like 192.68.xx.yy\nVoila ..that's your machine's IP where you have your server hosted.\nuse it then instead of localhost</p>\n\n<p><code>http://192.168.72.66/my_api/login.php</code></p>\n\n<hr>\n\n<p>Note - you won't be able to reach this private IP from any node outside this computer. (In case you need ,you can use Ngnix for that)</p>\n"},{"tags":[],"owner":{"account_id":13421697,"reputation":101,"user_id":9684222,"display_name":"Elham Nikbakht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574502710,"creation_date":1574502710,"answer_id":59006387,"question_id":6876266,"body_markdown":"I changed my DNS network and it fixed the problem","title":"java.net.ConnectException: Connection refused","body":"<p>I changed my DNS network and it fixed the problem</p>\n"},{"tags":[],"owner":{"account_id":15134855,"reputation":93,"user_id":10921658,"display_name":"syclone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597076471,"creation_date":1597076471,"answer_id":63344060,"question_id":6876266,"body_markdown":"You probably didn&#39;t initialize the server or client is trying to connect to wrong ip/port.","title":"java.net.ConnectException: Connection refused","body":"<p>You probably didn't initialize the server or client is trying to connect to wrong ip/port.</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626465011,"creation_date":1626465011,"answer_id":68414576,"question_id":6876266,"body_markdown":"There is a **service** called **MySQL80**  that should be running to connect to the database\r\n\r\nfor windows you can access it by searching for services  than look for MySQL80 service and make sure it is running","title":"java.net.ConnectException: Connection refused","body":"<p>There is a <strong>service</strong> called <strong>MySQL80</strong>  that should be running to connect to the database</p>\n<p>for windows you can access it by searching for services  than look for MySQL80 service and make sure it is running</p>\n"},{"tags":[],"owner":{"account_id":7735242,"reputation":171,"user_id":5857023,"display_name":"Genivan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641499681,"creation_date":1641499043,"answer_id":70612962,"question_id":6876266,"body_markdown":"I saw the same error message &quot;&quot;java.net.ConnectException: Connection refused&quot; in SQuirreLSQL when it was trying to connect to a postgresql database through an ssh tunnel.\r\n\r\n\r\nExample of opening tunel:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nExample of error in Squirrel with Postgresql:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt was trying to connect to the wrong port. After entering the correct port, the process execution was successful.\r\n\r\nSee more options to fix this error at: https://stackoverflow.com/a/6876306/5857023 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nheQw.png\r\n  [2]: https://i.stack.imgur.com/ezjpa.png","title":"java.net.ConnectException: Connection refused","body":"<p>I saw the same error message &quot;&quot;java.net.ConnectException: Connection refused&quot; in SQuirreLSQL when it was trying to connect to a postgresql database through an ssh tunnel.</p>\n<p>Example of opening tunel:\n<a href=\"https://i.stack.imgur.com/nheQw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nheQw.png\" alt=\"enter image description here\" /></a></p>\n<p>Example of error in Squirrel with Postgresql:</p>\n<p><a href=\"https://i.stack.imgur.com/ezjpa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezjpa.png\" alt=\"enter image description here\" /></a></p>\n<p>It was trying to connect to the wrong port. After entering the correct port, the process execution was successful.</p>\n<p>See more options to fix this error at: <a href=\"https://stackoverflow.com/a/6876306/5857023\">https://stackoverflow.com/a/6876306/5857023</a></p>\n"},{"tags":[],"owner":{"account_id":416373,"reputation":584,"user_id":791718,"accept_rate":56,"display_name":"AlexeiOst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660316863,"creation_date":1660316863,"answer_id":73336207,"question_id":6876266,"body_markdown":"In my case, with server written in c# and client written in Java, I resolved it by specifying hostname as &#39;**localhost**&#39; in the server, and &#39;**[::1]**&#39; in the client. I don&#39;t know why that is, but specifying &#39;localhost&#39; in the client did not work. \r\nSupposedly these are synonyms in many ways, but apparently, not not a 100% match. Hope it helps someone avoid a headache. ","title":"java.net.ConnectException: Connection refused","body":"<p>In my case, with server written in c# and client written in Java, I resolved it by specifying hostname as '<strong>localhost</strong>' in the server, and '<strong>[::1]</strong>' in the client. I don't know why that is, but specifying 'localhost' in the client did not work.\nSupposedly these are synonyms in many ways, but apparently, not not a 100% match. Hope it helps someone avoid a headache.</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674582346,"creation_date":1674582346,"answer_id":75225305,"question_id":6876266,"body_markdown":"For those who are experiencing the same problem and use `Spring` framework, I would suggest to check an http connection provider configuration. I mean `RestTemplate`, `WebClient`, etc. \r\n\r\nIn my case there was a problem with configured RestTemplate (it&#39;s just an example):\r\n```java\r\npublic RestTemplate localRestTemplate() {\r\n   Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, &lt;some port&gt;));\r\n   SimpleClientHttpRequestFactory clientHttpReq = new SimpleClientHttpRequestFactory();\r\n   clientHttpReq.setProxy(proxy);\r\n   return new RestTemplate(clientHttpReq);\r\n}\r\n```\r\n\r\nI just simplified configuration to:\r\n```java\r\npublic RestTemplate restTemplate() {\r\n   return new RestTemplate(new SimpleClientHttpRequestFactory());\r\n}\r\n```\r\n\r\nAnd it started to work properly.","title":"java.net.ConnectException: Connection refused","body":"<p>For those who are experiencing the same problem and use <code>Spring</code> framework, I would suggest to check an http connection provider configuration. I mean <code>RestTemplate</code>, <code>WebClient</code>, etc.</p>\n<p>In my case there was a problem with configured RestTemplate (it's just an example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RestTemplate localRestTemplate() {\n   Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, &lt;some port&gt;));\n   SimpleClientHttpRequestFactory clientHttpReq = new SimpleClientHttpRequestFactory();\n   clientHttpReq.setProxy(proxy);\n   return new RestTemplate(clientHttpReq);\n}\n</code></pre>\n<p>I just simplified configuration to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RestTemplate restTemplate() {\n   return new RestTemplate(new SimpleClientHttpRequestFactory());\n}\n</code></pre>\n<p>And it started to work properly.</p>\n"},{"tags":[],"owner":{"account_id":22141394,"reputation":21,"user_id":16391366,"display_name":"Abdelilah Razzouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686644434,"creation_date":1686644434,"answer_id":76462969,"question_id":6876266,"body_markdown":"If you use intellij and you encounter the same error, check if you don&#39;t have a method breakpoint enabled somewhere. It worked for me :)","title":"java.net.ConnectException: Connection refused","body":"<p>If you use intellij and you encounter the same error, check if you don't have a method breakpoint enabled somewhere. It worked for me :)</p>\n"}],"owner":{"account_id":430426,"reputation":5186,"user_id":813852,"accept_rate":84,"display_name":"Samantha Catania"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377141,"favorite_count":0,"down_vote_count":0,"up_vote_count":245,"accepted_answer_id":6876306,"answer_count":18,"score":245,"last_activity_date":1690086570,"creation_date":1311957471,"question_id":6876266,"body_markdown":"I&#39;m trying to implement a TCP connection, everything works fine from the server&#39;s side but when I run the client program (from client computer) I get the following error:\r\n   \r\n\r\n    java.net.ConnectException: Connection refused\r\n        \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        \tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)\r\n        \tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)\r\n        \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)\r\n        \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\r\n        \tat java.net.Socket.connect(Socket.java:529)\r\n        \tat java.net.Socket.connect(Socket.java:478)\r\n        \tat java.net.Socket.&lt;init&gt;(Socket.java:375)\r\n        \tat java.net.Socket.&lt;init&gt;(Socket.java:189)\r\n        \tat TCPClient.main(TCPClient.java:13)\r\n\r\nI tried changing the socket number in case it was in use but to no avail, does anyone know what is causing this error &amp; how to fix it.\r\n\r\nThe Server Code:\r\n\r\n    //TCPServer.java\r\n \r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    class TCPServer {\r\n    \tpublic static void main(String argv[]) throws Exception {\r\n    \t\tString fromclient;\r\n    \t\tString toclient;\r\n    \r\n    \t\tServerSocket Server = new ServerSocket(5000);\r\n    \r\n    \t\tSystem.out.println(&quot;TCPServer Waiting for client on port 5000&quot;);\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tSocket connected = Server.accept();\r\n    \t\t\tSystem.out.println(&quot; THE CLIENT&quot; + &quot; &quot; + connected.getInetAddress()\r\n    \t\t\t\t\t+ &quot;:&quot; + connected.getPort() + &quot; IS CONNECTED &quot;);\r\n    \r\n    \t\t\tBufferedReader inFromUser = new BufferedReader(\r\n    \t\t\t\t\tnew InputStreamReader(System.in));\r\n    \r\n    \t\t\tBufferedReader inFromClient = new BufferedReader(\r\n    \t\t\t\t\tnew InputStreamReader(connected.getInputStream()));\r\n    \r\n    \t\t\tPrintWriter outToClient = new PrintWriter(\r\n    \t\t\t\t\tconnected.getOutputStream(), true);\r\n    \r\n    \t\t\twhile (true) {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;SEND(Type Q or q to Quit):&quot;);\r\n    \t\t\t\ttoclient = inFromUser.readLine();\r\n    \r\n    \t\t\t\tif (toclient.equals(&quot;q&quot;) || toclient.equals(&quot;Q&quot;)) {\r\n    \t\t\t\t\toutToClient.println(toclient);\r\n    \t\t\t\t\tconnected.close();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\toutToClient.println(toclient);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tfromclient = inFromClient.readLine();\r\n    \r\n    \t\t\t\tif (fromclient.equals(&quot;q&quot;) || fromclient.equals(&quot;Q&quot;)) {\r\n    \t\t\t\t\tconnected.close();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;RECIEVED:&quot; + fromclient);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\nThe Client Code:\r\n\r\n    //TCPClient.java\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    class TCPClient {\r\n    \tpublic static void main(String argv[]) throws Exception {\r\n    \t\tString FromServer;\r\n    \t\tString ToServer;\r\n    \r\n    \t\tSocket clientSocket = new Socket(&quot;localhost&quot;, 5000);\r\n    \r\n    \t\tBufferedReader inFromUser = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\tSystem.in));\r\n    \r\n    \t\tPrintWriter outToServer = new PrintWriter(\r\n    \t\t\t\tclientSocket.getOutputStream(), true);\r\n    \r\n    \t\tBufferedReader inFromServer = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\tclientSocket.getInputStream()));\r\n    \r\n    \t\twhile (true) {\r\n    \r\n    \t\t\tFromServer = inFromServer.readLine();\r\n    \r\n    \t\t\tif (FromServer.equals(&quot;q&quot;) || FromServer.equals(&quot;Q&quot;)) {\r\n    \t\t\t\tclientSocket.close();\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;RECIEVED:&quot; + FromServer);\r\n    \t\t\t\tSystem.out.println(&quot;SEND(Type Q or q to Quit):&quot;);\r\n    \r\n    \t\t\t\tToServer = inFromUser.readLine();\r\n    \r\n    \t\t\t\tif (ToServer.equals(&quot;Q&quot;) || ToServer.equals(&quot;q&quot;)) {\r\n    \t\t\t\t\toutToServer.println(ToServer);\r\n    \t\t\t\t\tclientSocket.close();\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\toutToServer.println(ToServer);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"java.net.ConnectException: Connection refused","body":"<p>I'm trying to implement a TCP connection, everything works fine from the server's side but when I run the client program (from client computer) I get the following error:</p>\n\n<pre><code>java.net.ConnectException: Connection refused\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\n        at java.net.Socket.connect(Socket.java:529)\n        at java.net.Socket.connect(Socket.java:478)\n        at java.net.Socket.&lt;init&gt;(Socket.java:375)\n        at java.net.Socket.&lt;init&gt;(Socket.java:189)\n        at TCPClient.main(TCPClient.java:13)\n</code></pre>\n\n<p>I tried changing the socket number in case it was in use but to no avail, does anyone know what is causing this error &amp; how to fix it.</p>\n\n<p>The Server Code:</p>\n\n<pre><code>//TCPServer.java\n\nimport java.io.*;\nimport java.net.*;\n\nclass TCPServer {\n    public static void main(String argv[]) throws Exception {\n        String fromclient;\n        String toclient;\n\n        ServerSocket Server = new ServerSocket(5000);\n\n        System.out.println(\"TCPServer Waiting for client on port 5000\");\n\n        while (true) {\n            Socket connected = Server.accept();\n            System.out.println(\" THE CLIENT\" + \" \" + connected.getInetAddress()\n                    + \":\" + connected.getPort() + \" IS CONNECTED \");\n\n            BufferedReader inFromUser = new BufferedReader(\n                    new InputStreamReader(System.in));\n\n            BufferedReader inFromClient = new BufferedReader(\n                    new InputStreamReader(connected.getInputStream()));\n\n            PrintWriter outToClient = new PrintWriter(\n                    connected.getOutputStream(), true);\n\n            while (true) {\n\n                System.out.println(\"SEND(Type Q or q to Quit):\");\n                toclient = inFromUser.readLine();\n\n                if (toclient.equals(\"q\") || toclient.equals(\"Q\")) {\n                    outToClient.println(toclient);\n                    connected.close();\n                    break;\n                } else {\n                    outToClient.println(toclient);\n                }\n\n                fromclient = inFromClient.readLine();\n\n                if (fromclient.equals(\"q\") || fromclient.equals(\"Q\")) {\n                    connected.close();\n                    break;\n                } else {\n                    System.out.println(\"RECIEVED:\" + fromclient);\n                }\n\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<p>The Client Code:</p>\n\n<pre><code>//TCPClient.java\n\nimport java.io.*;\nimport java.net.*;\n\nclass TCPClient {\n    public static void main(String argv[]) throws Exception {\n        String FromServer;\n        String ToServer;\n\n        Socket clientSocket = new Socket(\"localhost\", 5000);\n\n        BufferedReader inFromUser = new BufferedReader(new InputStreamReader(\n                System.in));\n\n        PrintWriter outToServer = new PrintWriter(\n                clientSocket.getOutputStream(), true);\n\n        BufferedReader inFromServer = new BufferedReader(new InputStreamReader(\n                clientSocket.getInputStream()));\n\n        while (true) {\n\n            FromServer = inFromServer.readLine();\n\n            if (FromServer.equals(\"q\") || FromServer.equals(\"Q\")) {\n                clientSocket.close();\n                break;\n            } else {\n                System.out.println(\"RECIEVED:\" + FromServer);\n                System.out.println(\"SEND(Type Q or q to Quit):\");\n\n                ToServer = inFromUser.readLine();\n\n                if (ToServer.equals(\"Q\") || ToServer.equals(\"q\")) {\n                    outToServer.println(ToServer);\n                    clientSocket.close();\n                    break;\n                } else {\n                    outToServer.println(ToServer);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jpanel","jlabel","jcombobox"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1689631297,"post_id":76708049,"comment_id":135238335,"body_markdown":"*&quot;I want to add JLabels ... to multiple different JPanels&quot;* - you can&#39;t or at least you can&#39;t add the SAME instance of the labels to different panels.  A Swing component can only reside in a single container.  Instead, you need to use a &quot;model&quot; of some kind which contains the information you want to present and then you pass this to each of your views.  This is a core concept in the &quot;model-view-controller&quot; workflow","body":"<i>&quot;I want to add JLabels ... to multiple different JPanels&quot;</i> - you can&#39;t or at least you can&#39;t add the SAME instance of the labels to different panels.  A Swing component can only reside in a single container.  Instead, you need to use a &quot;model&quot; of some kind which contains the information you want to present and then you pass this to each of your views.  This is a core concept in the &quot;model-view-controller&quot; workflow"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1689653345,"post_id":76708049,"comment_id":135240330,"body_markdown":"Since labels are static (in the sense that they don&#39;t change), it might seem that you can use them in multiple locations.  Unfortunately the `JLabel` class as a whole is not immutable, it has fields that can be set, and those fields will mess up any attempt to use a label in multiple locations.  (Its mutable fields includes its &quot;bounds&quot;, the X-Y position on the screen, and it should be obvious from that alone that you can&#39;t have one object with two X-Y positions, that a singe JLabel won&#39;t work.)","body":"Since labels are static (in the sense that they don&#39;t change), it might seem that you can use them in multiple locations.  Unfortunately the <code>JLabel</code> class as a whole is not immutable, it has fields that can be set, and those fields will mess up any attempt to use a label in multiple locations.  (Its mutable fields includes its &quot;bounds&quot;, the X-Y position on the screen, and it should be obvious from that alone that you can&#39;t have one object with two X-Y positions, that a singe JLabel won&#39;t work.)"}],"owner":{"account_id":29011817,"reputation":11,"user_id":22223162,"display_name":"Nicholas McNamara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690083987,"answer_count":0,"score":0,"last_activity_date":1690084057,"creation_date":1689627739,"question_id":76708049,"body_markdown":"I want to add JLabels like &quot;granulatedSugar&quot; or &quot;allPurposeFlour&quot; to multiple different JPanels like &quot;browniesIngredients&quot; or &quot;banaBreadIngredients&quot;. However my issue is when I run the code the JLabels that are used in different JPanels don&#39;t show up on the JPanels when selected from the &quot;foodList&quot; JComboBox. For example, when I click on &quot;Brownies&quot; from the JComboBox all I get are JLabels that are exclusive to that JPanel (like &quot;cocoaPowder&quot; and &quot;instantEspresso&quot;) and none of the other ingredients like &quot;allPurposeFlour&quot; or &quot;granulatedSugar&quot;. \r\n\r\n\r\n```\r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.BorderLayout;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Component;\r\nimport java.awt.Font;\r\nimport java.awt.event.ItemEvent;\r\nimport java.awt.event.ItemListener;\r\nimport javax.swing.JList;\r\nimport javax.swing.ListCellRenderer;\r\n\r\npublic class mainIA&lt;l&gt; extends JFrame implements ItemListener {\r\n\r\n    public int servingNumber = 0;\r\n    //ingredient Volumes\r\n    public int almondFlourVol = 0;\r\n    public int allPurposeFlourVol = 0;\r\n    public int unsaltedButterVol = 0;\r\n    public int bakingSodaVol = 0;\r\n    public int bakingPowderVol = 0;\r\n    public int vanillaExtractVol = 0;\r\n    public int cocoaPowderVol = 0;\r\n    public int saltVol = 0;\r\n    public int chocolateChipsVol = 0;\r\n    public int instantEspressoVol = 0;\r\n    public int vegetableOilVol = 0;\r\n    public int bananasVol = 0;\r\n    //sugars\r\n    public int granulatedSugarVol = 0;\r\n    public int powderedSugarVol = 0;\r\n    public int lightBrownSugarVol = 0;\r\n    //eggs\r\n    public int eggsVol = 0;\r\n    public int eggWhitesVol = 0;\r\n\r\n    ImageIcon[] items;\r\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\r\n    JPanel ingredients;\r\n    final static String bananaBread = &quot;banana bread&quot;;\r\n    final static String brownies = &quot;brownies&quot;;\r\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\r\n    final static String macarons = &quot;macarons&quot;;\r\n    JButton incButton = new JButton(&quot;+&quot;);\r\n\r\n    JPanel bananaBreadIngredients = new JPanel(new BorderLayout());\r\n    JPanel browniesIngredients = new JPanel(new BorderLayout());\r\n    JPanel cookieIngredients = new JPanel(new BorderLayout());\r\n    JPanel macaronIngredients = new JPanel(new BorderLayout());\r\n\r\n    //ingredients JLabels\r\n    //15 Ingredients\r\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\r\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\r\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\r\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\r\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\r\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\r\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\r\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\r\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\r\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\r\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\r\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\r\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\r\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\r\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\r\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\r\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\r\n\r\n    JComboBox foodList;\r\n    JLabel ingredientLabel = new JLabel(&quot;Ingredients Go here: &quot;);\r\n\r\n    public mainIA() {\r\n        super(&quot;Recipe Portion Calculator&quot;);\r\n        Container c = getContentPane();\r\n        c.setLayout(new GridLayout(4, 1));\r\n\r\n        JPanel recipe = new JPanel();\r\n        recipe.setLayout(new FlowLayout());\r\n\r\n        JLabel recipes = new JLabel(&quot;Recipes:&quot;);\r\n        recipe.add(recipes);\r\n\r\n        //this is my code for the comboBox\r\n        //Links to sources used:\r\n        //https://stackoverflow.com/questions/3958647/displaying-images-in-jcombobox\r\n        //http://www.java2s.com/Code/Java/Swing-JFC/CustomComboBoxwithImage.htm\r\n        items = new ImageIcon[food.length];\r\n        Integer[] intArray = new Integer[food.length];\r\n        for (int i = 0; i &lt; food.length; i++) {\r\n            intArray[i] = i;\r\n            items[i] = createImageIcon(&quot;sweets/&quot; + food[i] + &quot;.jpeg&quot;);\r\n            if (items[i] != null) {\r\n                items[i].setDescription(food[i]);\r\n            }\r\n        }\r\n\r\n        ingredients = new JPanel(new CardLayout());\r\n        ingredients.add(ingredientLabel);\r\n        //only works if you add the cards in the same order that they are put in in the array\r\n        ingredients.add(bananaBreadIngredients, bananaBread );\r\n        ingredients.add(browniesIngredients, brownies);\r\n        ingredients.add(cookieIngredients, chocolateChipcookies);\r\n        ingredients.add(macaronIngredients, macarons);\r\n\r\n        foodList = new JComboBox(food);\r\n        foodList.setEditable(false);\r\n        foodList.addItemListener(this);\r\n        ComboBoxRenderer renderer= new ComboBoxRenderer();\r\n        getContentPane().add(foodList, BorderLayout.NORTH);\r\n        getContentPane().add(ingredients, BorderLayout.CENTER);\r\n        recipe.add(foodList);\r\n        //end of code for JComboBox\r\n\r\n        //bananaBread Ingredients JPanel\r\n        bananaBreadIngredients.setLayout(new GridLayout(8,1));\r\n        bananaBreadIngredients.add(bananas);\r\n        bananaBreadIngredients.add(unsaltedButter);\r\n        bananaBreadIngredients.add(granulatedSugar);\r\n        bananaBreadIngredients.add(eggs);\r\n        bananaBreadIngredients.add(allPurposeFlour);\r\n        bananaBreadIngredients.add(bakingSoda);\r\n        bananaBreadIngredients.add(salt);\r\n        bananaBreadIngredients.add(vanillaExtract);\r\n\r\n        //brownies ingredients JPanel\r\n        browniesIngredients.setLayout(new GridLayout(11,2));\r\n        browniesIngredients.add(instantEspresso);\r\n        browniesIngredients.add(vegetableOil);\r\n        browniesIngredients.add(cocoaPowder);\r\n        browniesIngredients.add(bakingPowder);\r\n        browniesIngredients.add(unsaltedButter);\r\n        browniesIngredients.add(chocolateChips);\r\n        browniesIngredients.add(eggs);\r\n        browniesIngredients.add(granulatedSugar);\r\n        browniesIngredients.add(vanillaExtract);\r\n        browniesIngredients.add(allPurposeFlour);\r\n        browniesIngredients.add(salt);\r\n\r\n        //chocolate chip cookie ingredients JPanel\r\n        cookieIngredients.setLayout(new GridLayout(9,1));\r\n        cookieIngredients.add(unsaltedButter);\r\n        cookieIngredients.add(granulatedSugar);\r\n        cookieIngredients.add(lightBrownSugar);\r\n        cookieIngredients.add(eggs);\r\n        cookieIngredients.add(vanillaExtract);\r\n        cookieIngredients.add(allPurposeFlour);\r\n        cookieIngredients.add(bakingSoda);\r\n        cookieIngredients.add(salt);\r\n        cookieIngredients.add(chocolateChips);\r\n\r\n        //macaron ingredients JPanel\r\n        macaronIngredients.setLayout((new GridLayout(5,1)));\r\n        macaronIngredients.add(eggWhites);\r\n        macaronIngredients.add(granulatedSugar);\r\n        macaronIngredients.add(powderedSugar);\r\n        macaronIngredients.add(almondFlour);\r\n        //ingredients\r\n        ingredientLabel.setLayout(new GridLayout(1,2));\r\n\r\n        JPanel servings = new JPanel();\r\n        servings.setLayout(new GridLayout(1, 4));\r\n\r\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\r\n        servings.add(new JLabel(&quot;Number of Servings: &quot;));\r\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\r\n        JButton decButton = new JButton((&quot;-&quot;));\r\n        decButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(--servingNumber));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\r\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\r\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\r\n        });\r\n\r\n        JLabel space = new JLabel(&quot;&quot;);\r\n        servings.add(space);\r\n        servings.add(decButton);\r\n        servings.add(counterLbl);\r\n        incButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(++servingNumber));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\r\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\r\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\r\n        });\r\n        servings.add(incButton);\r\n        //end of use of code from Quora Link\r\n\r\n        JPanel inputRecipe = new JPanel();\r\n        inputRecipe.setLayout(new GridLayout(2, 1));\r\n\r\n        inputRecipe.add(new JLabel(&quot;Input Recipe From Internet: &quot;));\r\n        inputRecipe.add(new JTextField(&quot; &quot;));\r\n\r\n        c.add(recipe);\r\n        c.add(servings);\r\n        c.add(ingredients);\r\n        c.add(inputRecipe);\r\n    }\r\n\r\n    public static ImageIcon createImageIcon(String path) {\r\n        java.net.URL imgURL = mainIA.class.getResource(path);\r\n        if (imgURL != null) {\r\n            return new ImageIcon(imgURL);\r\n        } else {\r\n            System.err.println(&quot;Couldn&#39;t find file: &quot; + path);\r\n            return null;\r\n        }\r\n    }\r\n    class ComboBoxRenderer extends JLabel implements ListCellRenderer {\r\n        private Font uhOhFont;\r\n        public ComboBoxRenderer() {\r\n            setOpaque(true);\r\n            setHorizontalAlignment(CENTER);\r\n            setVerticalAlignment(CENTER);\r\n        }\r\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n            int selectedIndex = ((Integer)value).intValue();\r\n            if (isSelected) {\r\n                setBackground(list.getSelectionBackground());\r\n                setForeground(list.getSelectionForeground());\r\n            } else {\r\n                setBackground(list.getBackground());\r\n                setForeground(list.getForeground());\r\n            }\r\n            ImageIcon icon = items[selectedIndex];\r\n            String foods = food[selectedIndex];\r\n            setIcon(icon);\r\n            if (icon != null) {\r\n                setText(foods);\r\n                setFont(list.getFont());\r\n            } else {\r\n                setUhOhText(foods + &quot; (no image available)&quot;, list.getFont());\r\n            }\r\n            return this;\r\n        }\r\n        protected void setUhOhText(String uhOhText, Font normalFont) {\r\n            if (uhOhFont == null) {\r\n                uhOhFont = normalFont.deriveFont(Font.ITALIC);\r\n            }\r\n            setFont(uhOhFont);\r\n            setText(uhOhText);\r\n        }\r\n        //I am using actionPerformed method. This is the code I plan to use to output the images for the respective options\r\n    }\r\n\r\n    //recipes used from Natasha&#39;s kitchen\r\n    //https://natashaskitchen.com/\r\n\r\n    //sources used: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\r\n    //https://docs.oracle.com/javase/tutorial/uiswing/events/itemlistener.html\r\n    //card layout: https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\r\n    //item event for the JComboBox\r\n    public void itemStateChanged(ItemEvent evt) {\r\n        CardLayout cl = (CardLayout)(ingredients.getLayout());\r\n        cl.show(ingredients, (String)evt.getItem());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        mainIA window = new mainIA();\r\n        window.setVisible(true);\r\n        window.setBounds(100, 100, 800, 800);\r\n    }\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated!\r\n\r\n","title":"Looking to find a way to add a global JLabel to multiple different JPanels?","body":"<p>I want to add JLabels like &quot;granulatedSugar&quot; or &quot;allPurposeFlour&quot; to multiple different JPanels like &quot;browniesIngredients&quot; or &quot;banaBreadIngredients&quot;. However my issue is when I run the code the JLabels that are used in different JPanels don't show up on the JPanels when selected from the &quot;foodList&quot; JComboBox. For example, when I click on &quot;Brownies&quot; from the JComboBox all I get are JLabels that are exclusive to that JPanel (like &quot;cocoaPowder&quot; and &quot;instantEspresso&quot;) and none of the other ingredients like &quot;allPurposeFlour&quot; or &quot;granulatedSugar&quot;.</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.BorderLayout;\nimport javax.swing.ImageIcon;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport java.awt.Component;\nimport java.awt.Font;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\nimport javax.swing.JList;\nimport javax.swing.ListCellRenderer;\n\npublic class mainIA&lt;l&gt; extends JFrame implements ItemListener {\n\n    public int servingNumber = 0;\n    //ingredient Volumes\n    public int almondFlourVol = 0;\n    public int allPurposeFlourVol = 0;\n    public int unsaltedButterVol = 0;\n    public int bakingSodaVol = 0;\n    public int bakingPowderVol = 0;\n    public int vanillaExtractVol = 0;\n    public int cocoaPowderVol = 0;\n    public int saltVol = 0;\n    public int chocolateChipsVol = 0;\n    public int instantEspressoVol = 0;\n    public int vegetableOilVol = 0;\n    public int bananasVol = 0;\n    //sugars\n    public int granulatedSugarVol = 0;\n    public int powderedSugarVol = 0;\n    public int lightBrownSugarVol = 0;\n    //eggs\n    public int eggsVol = 0;\n    public int eggWhitesVol = 0;\n\n    ImageIcon[] items;\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\n    JPanel ingredients;\n    final static String bananaBread = &quot;banana bread&quot;;\n    final static String brownies = &quot;brownies&quot;;\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\n    final static String macarons = &quot;macarons&quot;;\n    JButton incButton = new JButton(&quot;+&quot;);\n\n    JPanel bananaBreadIngredients = new JPanel(new BorderLayout());\n    JPanel browniesIngredients = new JPanel(new BorderLayout());\n    JPanel cookieIngredients = new JPanel(new BorderLayout());\n    JPanel macaronIngredients = new JPanel(new BorderLayout());\n\n    //ingredients JLabels\n    //15 Ingredients\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\n\n    JComboBox foodList;\n    JLabel ingredientLabel = new JLabel(&quot;Ingredients Go here: &quot;);\n\n    public mainIA() {\n        super(&quot;Recipe Portion Calculator&quot;);\n        Container c = getContentPane();\n        c.setLayout(new GridLayout(4, 1));\n\n        JPanel recipe = new JPanel();\n        recipe.setLayout(new FlowLayout());\n\n        JLabel recipes = new JLabel(&quot;Recipes:&quot;);\n        recipe.add(recipes);\n\n        //this is my code for the comboBox\n        //Links to sources used:\n        //https://stackoverflow.com/questions/3958647/displaying-images-in-jcombobox\n        //http://www.java2s.com/Code/Java/Swing-JFC/CustomComboBoxwithImage.htm\n        items = new ImageIcon[food.length];\n        Integer[] intArray = new Integer[food.length];\n        for (int i = 0; i &lt; food.length; i++) {\n            intArray[i] = i;\n            items[i] = createImageIcon(&quot;sweets/&quot; + food[i] + &quot;.jpeg&quot;);\n            if (items[i] != null) {\n                items[i].setDescription(food[i]);\n            }\n        }\n\n        ingredients = new JPanel(new CardLayout());\n        ingredients.add(ingredientLabel);\n        //only works if you add the cards in the same order that they are put in in the array\n        ingredients.add(bananaBreadIngredients, bananaBread );\n        ingredients.add(browniesIngredients, brownies);\n        ingredients.add(cookieIngredients, chocolateChipcookies);\n        ingredients.add(macaronIngredients, macarons);\n\n        foodList = new JComboBox(food);\n        foodList.setEditable(false);\n        foodList.addItemListener(this);\n        ComboBoxRenderer renderer= new ComboBoxRenderer();\n        getContentPane().add(foodList, BorderLayout.NORTH);\n        getContentPane().add(ingredients, BorderLayout.CENTER);\n        recipe.add(foodList);\n        //end of code for JComboBox\n\n        //bananaBread Ingredients JPanel\n        bananaBreadIngredients.setLayout(new GridLayout(8,1));\n        bananaBreadIngredients.add(bananas);\n        bananaBreadIngredients.add(unsaltedButter);\n        bananaBreadIngredients.add(granulatedSugar);\n        bananaBreadIngredients.add(eggs);\n        bananaBreadIngredients.add(allPurposeFlour);\n        bananaBreadIngredients.add(bakingSoda);\n        bananaBreadIngredients.add(salt);\n        bananaBreadIngredients.add(vanillaExtract);\n\n        //brownies ingredients JPanel\n        browniesIngredients.setLayout(new GridLayout(11,2));\n        browniesIngredients.add(instantEspresso);\n        browniesIngredients.add(vegetableOil);\n        browniesIngredients.add(cocoaPowder);\n        browniesIngredients.add(bakingPowder);\n        browniesIngredients.add(unsaltedButter);\n        browniesIngredients.add(chocolateChips);\n        browniesIngredients.add(eggs);\n        browniesIngredients.add(granulatedSugar);\n        browniesIngredients.add(vanillaExtract);\n        browniesIngredients.add(allPurposeFlour);\n        browniesIngredients.add(salt);\n\n        //chocolate chip cookie ingredients JPanel\n        cookieIngredients.setLayout(new GridLayout(9,1));\n        cookieIngredients.add(unsaltedButter);\n        cookieIngredients.add(granulatedSugar);\n        cookieIngredients.add(lightBrownSugar);\n        cookieIngredients.add(eggs);\n        cookieIngredients.add(vanillaExtract);\n        cookieIngredients.add(allPurposeFlour);\n        cookieIngredients.add(bakingSoda);\n        cookieIngredients.add(salt);\n        cookieIngredients.add(chocolateChips);\n\n        //macaron ingredients JPanel\n        macaronIngredients.setLayout((new GridLayout(5,1)));\n        macaronIngredients.add(eggWhites);\n        macaronIngredients.add(granulatedSugar);\n        macaronIngredients.add(powderedSugar);\n        macaronIngredients.add(almondFlour);\n        //ingredients\n        ingredientLabel.setLayout(new GridLayout(1,2));\n\n        JPanel servings = new JPanel();\n        servings.setLayout(new GridLayout(1, 4));\n\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\n        servings.add(new JLabel(&quot;Number of Servings: &quot;));\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\n        JButton decButton = new JButton((&quot;-&quot;));\n        decButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(--servingNumber));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\n        });\n\n        JLabel space = new JLabel(&quot;&quot;);\n        servings.add(space);\n        servings.add(decButton);\n        servings.add(counterLbl);\n        incButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(++servingNumber));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\n        });\n        servings.add(incButton);\n        //end of use of code from Quora Link\n\n        JPanel inputRecipe = new JPanel();\n        inputRecipe.setLayout(new GridLayout(2, 1));\n\n        inputRecipe.add(new JLabel(&quot;Input Recipe From Internet: &quot;));\n        inputRecipe.add(new JTextField(&quot; &quot;));\n\n        c.add(recipe);\n        c.add(servings);\n        c.add(ingredients);\n        c.add(inputRecipe);\n    }\n\n    public static ImageIcon createImageIcon(String path) {\n        java.net.URL imgURL = mainIA.class.getResource(path);\n        if (imgURL != null) {\n            return new ImageIcon(imgURL);\n        } else {\n            System.err.println(&quot;Couldn't find file: &quot; + path);\n            return null;\n        }\n    }\n    class ComboBoxRenderer extends JLabel implements ListCellRenderer {\n        private Font uhOhFont;\n        public ComboBoxRenderer() {\n            setOpaque(true);\n            setHorizontalAlignment(CENTER);\n            setVerticalAlignment(CENTER);\n        }\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            int selectedIndex = ((Integer)value).intValue();\n            if (isSelected) {\n                setBackground(list.getSelectionBackground());\n                setForeground(list.getSelectionForeground());\n            } else {\n                setBackground(list.getBackground());\n                setForeground(list.getForeground());\n            }\n            ImageIcon icon = items[selectedIndex];\n            String foods = food[selectedIndex];\n            setIcon(icon);\n            if (icon != null) {\n                setText(foods);\n                setFont(list.getFont());\n            } else {\n                setUhOhText(foods + &quot; (no image available)&quot;, list.getFont());\n            }\n            return this;\n        }\n        protected void setUhOhText(String uhOhText, Font normalFont) {\n            if (uhOhFont == null) {\n                uhOhFont = normalFont.deriveFont(Font.ITALIC);\n            }\n            setFont(uhOhFont);\n            setText(uhOhText);\n        }\n        //I am using actionPerformed method. This is the code I plan to use to output the images for the respective options\n    }\n\n    //recipes used from Natasha's kitchen\n    //https://natashaskitchen.com/\n\n    //sources used: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\n    //https://docs.oracle.com/javase/tutorial/uiswing/events/itemlistener.html\n    //card layout: https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\n    //item event for the JComboBox\n    public void itemStateChanged(ItemEvent evt) {\n        CardLayout cl = (CardLayout)(ingredients.getLayout());\n        cl.show(ingredients, (String)evt.getItem());\n    }\n\n    public static void main(String[] args) {\n        mainIA window = new mainIA();\n        window.setVisible(true);\n        window.setBounds(100, 100, 800, 800);\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"score":4,"creation_date":1581764446,"post_id":60237945,"comment_id":106550423,"body_markdown":"`-Xloggc:stderr` seems like working for me","body":"<code>-Xloggc:stderr</code> seems like working for me"}],"answers":[{"tags":[],"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690083280,"creation_date":1581764601,"answer_id":60238107,"question_id":60237945,"body_markdown":"For **Java 8** use\r\n\r\n    java -Xloggc:stderr\r\n\r\nFor **Java 9+** try using \r\n\r\n    java -Xlog:gc:stderr ...\r\n\r\nOr for a higher log level\r\n\r\n    java -Xlog:gc=debug:stderr ...\r\n   \r\nOr for logging each garbage collection:\r\n\r\n    java -Xlog:gc*:stderr","title":"Redirect Java 8 GC logs to stderr","body":"<p>For <strong>Java 8</strong> use</p>\n<pre><code>java -Xloggc:stderr\n</code></pre>\n<p>For <strong>Java 9+</strong> try using</p>\n<pre><code>java -Xlog:gc:stderr ...\n</code></pre>\n<p>Or for a higher log level</p>\n<pre><code>java -Xlog:gc=debug:stderr ...\n</code></pre>\n<p>Or for logging each garbage collection:</p>\n<pre><code>java -Xlog:gc*:stderr\n</code></pre>\n"}],"owner":{"account_id":16252645,"reputation":51,"user_id":11736160,"display_name":"Falalu Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2002,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690083280,"creation_date":1581763321,"question_id":60237945,"body_markdown":"Is there any way to print GC logs to stderr instead of stdout in SunJDK Java 8. \r\nI am using -verbose:gc to enable GC logs and it is redirecting to stdout by default.\r\nThis can printed to a file using -Xloggc:&lt;file name&gt; argument.\r\n\r\nBut unable to print GC logs to stderr. Printing to stdout clutters my log file with GC allocation failure logs","title":"Redirect Java 8 GC logs to stderr","body":"<p>Is there any way to print GC logs to stderr instead of stdout in SunJDK Java 8. \nI am using -verbose:gc to enable GC logs and it is redirecting to stdout by default.\nThis can printed to a file using -Xloggc: argument.</p>\n\n<p>But unable to print GC logs to stderr. Printing to stdout clutters my log file with GC allocation failure logs</p>\n"},{"tags":["java","minecraft","jvmti"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690083058,"post_id":76745983,"comment_id":135302628,"body_markdown":"You can&#39;t do it with JNI.","body":"You can&#39;t do it with JNI."},{"owner":{"account_id":27346691,"reputation":1,"user_id":20856490,"display_name":"SkidwareMC"},"score":0,"creation_date":1690311979,"post_id":76745983,"comment_id":135335054,"body_markdown":"How about JVMTI?","body":"How about JVMTI?"}],"owner":{"account_id":27346691,"reputation":1,"user_id":20856490,"display_name":"SkidwareMC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690083064,"creation_date":1690064406,"question_id":76745983,"body_markdown":"I am reading the JVMTI docs that give information on Local Variables. It said this:\r\n\r\njvmtiError\r\nSetLocalFloat(jvmtiEnv* env,\r\n            jthread thread,\r\n            jint depth,\r\n            jint slot,\r\n            jfloat value)\r\nHow do I obtain the said method parameters?\r\nThanks for any help given.\r\n\r\nI tried using this java agents library ByteBuddy, but I don&#39;t know how to change the variable, so I decided to use JVMTI. \r\n\r\n(BTW this is for a minecraft cheat. The cheat is used only for educational purposes to gain more knowledge about the JVM&#39;s internals and the JNI API).","title":"How to access and change a java local variable with JVMTI and JNI","body":"<p>I am reading the JVMTI docs that give information on Local Variables. It said this:</p>\n<p>jvmtiError\nSetLocalFloat(jvmtiEnv* env,\njthread thread,\njint depth,\njint slot,\njfloat value)\nHow do I obtain the said method parameters?\nThanks for any help given.</p>\n<p>I tried using this java agents library ByteBuddy, but I don't know how to change the variable, so I decided to use JVMTI.</p>\n<p>(BTW this is for a minecraft cheat. The cheat is used only for educational purposes to gain more knowledge about the JVM's internals and the JNI API).</p>\n"},{"tags":["java","windows","performance","opencv"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1683369075,"post_id":76185776,"comment_id":134358585,"body_markdown":"please present the result of `cv::getBuildInformation()` for each","body":"please present the result of <code>cv::getBuildInformation()</code> for each"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683369604,"post_id":76185776,"comment_id":134358626,"body_markdown":"Maybe you should post a bug report to OpenCV, instead of asking a question here on SO.","body":"Maybe you should post a bug report to OpenCV, instead of asking a question here on SO."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1683379826,"post_id":76185776,"comment_id":134359647,"body_markdown":"system resource usage (CPU) would be interesting to look at.","body":"system resource usage (CPU) would be interesting to look at."},{"owner":{"account_id":15783520,"reputation":75,"user_id":11389102,"display_name":"Tommy131313"},"score":0,"creation_date":1683410410,"post_id":76185776,"comment_id":134363286,"body_markdown":"@ChristophRackwitz TIL `getBuildInformation` , `getCurrentThreadCpuTime`, and `getCurrentThreadUserTime` . Please advise if that is helpful or not to answer the question.","body":"@ChristophRackwitz TIL <code>getBuildInformation</code> , <code>getCurrentThreadCpuTime</code>, and <code>getCurrentThreadUserTime</code> . Please advise if that is helpful or not to answer the question."},{"owner":{"account_id":15783520,"reputation":75,"user_id":11389102,"display_name":"Tommy131313"},"score":0,"creation_date":1683410639,"post_id":76185776,"comment_id":134363315,"body_markdown":"@MarkRotteveel I will post an OpenCV issue if it appears I didn&#39;t make a mistake but I thought I might have missed a configuration parameter or was using the wrong OpenCV download.","body":"@MarkRotteveel I will post an OpenCV issue if it appears I didn&#39;t make a mistake but I thought I might have missed a configuration parameter or was using the wrong OpenCV download."}],"answers":[{"tags":[],"owner":{"account_id":15783520,"reputation":75,"user_id":11389102,"display_name":"Tommy131313"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156893,"creation_date":1684156893,"answer_id":76254526,"question_id":76185776,"body_markdown":"This issue of OpenCV Java 4.7.0 being slow will be corrected in 4.8.0 which returns to the faster speed of 4.6.0.\r\n\r\n[opencv/opencv] OpenCV 4.7.0 much slower than 4.6.0 for Java Apps (Issue #23590)","title":"OpenCV Java 4.7.0 image processing ten times slower than 4.6.0 (Windows 10)","body":"<p>This issue of OpenCV Java 4.7.0 being slow will be corrected in 4.8.0 which returns to the faster speed of 4.6.0.</p>\n<p>[opencv/opencv] OpenCV 4.7.0 much slower than 4.6.0 for Java Apps (Issue #23590)</p>\n"},{"tags":[],"owner":{"account_id":25931216,"reputation":1,"user_id":19652257,"display_name":"Asustor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690081908,"creation_date":1690081908,"answer_id":76746524,"question_id":76185776,"body_markdown":"The reason seems that SIMD to be disabled as getBuildInformation() shows.\r\n\r\n**4.7.0 Build and Run Information:**\r\n\r\n&gt;     JPEG:                        build-libjpeg-turbo (ver 2.1.3-62)\r\n&gt;       SIMD Support Request:      YES\r\n&gt;       SIMD Support:              NO   &lt;&lt;&lt;---\r\n\r\nSo the optimization code for JPEG decorde does not work, and then it takes slower.","title":"OpenCV Java 4.7.0 image processing ten times slower than 4.6.0 (Windows 10)","body":"<p>The reason seems that SIMD to be disabled as getBuildInformation() shows.</p>\n<p><strong>4.7.0 Build and Run Information:</strong></p>\n<blockquote>\n<pre><code>JPEG:                        build-libjpeg-turbo (ver 2.1.3-62)\n  SIMD Support Request:      YES\n  SIMD Support:              NO   &lt;&lt;&lt;---\n</code></pre>\n</blockquote>\n<p>So the optimization code for JPEG decorde does not work, and then it takes slower.</p>\n"}],"owner":{"account_id":15783520,"reputation":75,"user_id":11389102,"display_name":"Tommy131313"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1690081908,"creation_date":1683319074,"question_id":76185776,"body_markdown":"I compiled my Java image processing program identically between OpenCV 4.5.0 and 4.7.0 except for changing to the new OpenCV opencv-470.jar and opencv_java470.dll in the classpath. I went from processing about 3 images per 1 second to 1 image per about 3 seconds.\r\n\r\nThe results are identical and correct but now very slow.\r\n\r\nI don&#39;t see any related posts on the Internet about this issue. What have I missed?\r\n\r\nA **MRE** with only the `imread` with the OpenCV build information and CPU time as suggested in comments is shown further below.\r\n\r\nOpenCV version 4.6.0 operates with the same fast speed as 4.5.0 so that is used for the MRE to compare with 4.7.0.\r\n\r\nI can report an OpenCV issue, if it appears that I didn&#39;t make a configuration error.\r\n\r\nOriginal Application Processing (not the MRE) is:\r\n```none\r\nimread jpg file\r\nconvert Imgproc.COLOR_BGR2YUV\r\nresize Imgproc.INTER_LINEAR\r\nblur BlurType.get(&quot;Gaussian Blur&quot;)\r\nsplit\r\nnormalize Core.NORM_MINMAX\r\nequalize\r\nresize Imgproc.INTER_LINEAR\r\nadaptive threshold Imgproc.ADAPTIVE_THRESH_MEAN_C Imgproc.THRESH_BINARY\r\n\r\nSystem.currentTimeMillis() [milliseconds] to process 137 images\r\n\r\n                4.5.0       4.7.0\r\n                _____       _____\r\nimread          69943      173004\r\nconvert          9054      324540\r\nresize           2090       44447\r\nblur                0           0 \r\nsplit              78         120\r\nnormalize          21         648\r\nequalize           25          77\r\nresize             14          22\r\nadaptive threshold 14          64\r\n```\r\n**MRE**\r\nResults [seconds] for 922 jpg files:\r\n\r\n&gt; 4.6.0 `imread` elapsed time 425.56, total CPU time  419.765625, user CPU 396.359375\r\n&gt; \r\n&gt; 4.7.0 `imread` elapsed time 1121.974, total CPU time 1116.5625, user CPU 1093.375\r\n\r\n    /*\r\n     * test OpenCV performance\r\n     * compare imread time between 4.6.0 and 4.7.0\r\n     */\r\n    package app;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileFilter;\r\n    import java.lang.management.ManagementFactory;\r\n    import java.lang.management.ThreadMXBean;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    \r\n    public class App {\r\n      static ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n      static {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME); // Load the native OpenCV library\r\n        System.out.println(&quot;OpenCV version &quot; + Core.getVersionString() + &quot;\\n&quot; + Core.getBuildInformation());\r\n    \r\n        System.out.println(&quot;time support &quot; + threadMXBean.isCurrentThreadCpuTimeSupported());\r\n      }\r\n    \r\n      static String imageDirectory; // start search directory (*.jpg files selected)\r\n      static final App x = new App();\r\n      static int countFiles = 0; // number of imreads\r\n    \r\n      static long imreadTime = 0; // System.currentTimeMillis()\r\n      static long imreadCPU  = 0; // threadMXBean.getCurrentThreadCpuTime()\r\n      static long imreadUser = 0; // threadMXBean.getCurrentThreadUserTime()\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        if(args.length &gt; 0) {\r\n          imageDirectory =  args[0];\r\n          System.out.println(&quot;Searching JPG files starting in &quot; + imageDirectory);\r\n        }\r\n    \r\n        Filewalker fw = x.new Filewalker();\r\n        fw.walk(imageDirectory); // SEARCH FOR JPG AND imread THEM\r\n    \r\n        System.out.println(&quot;\\nend file walker imread elapsed time &quot;\r\n           + imreadTime*1.e-3 + &quot;, total CPU time &quot; + imreadCPU*1.e-9 + &quot;, user CPU &quot; + imreadUser*1.e-9);\r\n       }\r\n    \r\n      public class Filewalker {\r\n    \r\n        /**\r\n         * Called recursively for subdirectories\r\n         * @param path\r\n         */\r\n        public void walk(String path) {\r\n    \r\n          File root = new File(path);\r\n    \r\n          // Create a FilenameFilter\r\n          FileFilter filter = new FileFilter() {\r\n            public boolean accept(File file)\r\n            {\r\n              return file.isDirectory() // process all directories and files ending with &quot;.jpg&quot;\r\n                  || (file.canRead() &amp;&amp; file.getName().length() &gt;= 4\r\n                      &amp;&amp; file.getName().substring(file.getName().length() - 4).equalsIgnoreCase(&quot;.JPG&quot;));\r\n            }\r\n          };\r\n          // ! Create a FilenameFilter\r\n    \r\n          File[] list = root.listFiles(filter);\r\n    \r\n          if (list == null)\r\n            return;\r\n    \r\n          for (File file : list) {\r\n            if (file.isDirectory()) {\r\n              walk(file.getAbsolutePath()); // recursive invocation to subdirectory\r\n            } else {\r\n              // process this file as an OpenCV image Mat\r\n              countFiles++;\r\n              if(countFiles%10 == 0) { // show progress\r\n                System.out.println(countFiles);\r\n              }\r\n    \r\n              Mat src = null;\r\n    \r\n              imreadTime -= System.currentTimeMillis();\r\n              imreadCPU  -= threadMXBean.getCurrentThreadCpuTime();\r\n              imreadUser -= threadMXBean.getCurrentThreadUserTime();\r\n    \r\n              src = Imgcodecs.imread(file.getAbsoluteFile().toString(), Imgcodecs.IMREAD_UNCHANGED);\r\n    \r\n              imreadTime += System.currentTimeMillis();\r\n              imreadCPU  += threadMXBean.getCurrentThreadCpuTime();\r\n              imreadUser += threadMXBean.getCurrentThreadUserTime();\r\n    \r\n              if(src != null) {\r\n                src.release();\r\n              }\r\n            }\r\n          }\r\n          // the end of the file list for this directory\r\n          // recursive invocations unwind here at the end\r\n        }\r\n      }\r\n    }\r\n\r\n**4.6.0 Build and Run Information:**\r\n\r\n    C:\\Users\\RKT\\frc\\FRC2023\\Code\\OpenCVtest&gt;java -showversion -jar OpenCVtest.jar &quot;C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing&quot;\r\n    java version &quot;12&quot; 2019-03-19\r\n    Java(TM) SE Runtime Environment (build 12+33)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 12+33, mixed mode, sharing)\r\n    OpenCV version 4.6.0\r\n\r\n    General configuration for OpenCV 4.6.0 =====================================\r\n      Version control:               4.6.0\r\n    \r\n      Platform:\r\n        Timestamp:                   2022-06-05T15:49:50Z\r\n        Host:                        Windows 10.0.16299 AMD64\r\n        CMake:                       3.20.21032501-MSVC_2\r\n        CMake generator:             Visual Studio 14 2015 Win64\r\n        CMake build tool:            MSBuild.exe\r\n        MSVC:                        1900\r\n        Configuration:               Debug Release\r\n    \r\n      CPU/HW features:\r\n        Baseline:                    SSE SSE2 SSE3\r\n          requested:                 SSE3\r\n        Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2\r\n          requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\r\n          SSE4_1 (16 files):         + SSSE3 SSE4_1\r\n          SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\r\n          FP16 (0 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\r\n          AVX (4 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\r\n          AVX2 (31 files):           + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\r\n    \r\n      C/C++:\r\n        Built as dynamic libs?:      NO\r\n        C++ standard:                11\r\n        C++ Compiler:                C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe  (ver 19.0.24245.0)\r\n        C++ flags (Release):         /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /MP3  /MT /O2 /Ob2 /DNDEBUG\r\n        C++ flags (Debug):           /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /MP3  /MTd /Zi /Ob0 /Od /RTC1\r\n        C Compiler:                  C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe\r\n        C flags (Release):           /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP3   /MT /O2 /Ob2 /DNDEBUG\r\n        C flags (Debug):             /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP3 /MTd /Zi /Ob0 /Od /RTC1\r\n        Linker flags (Release):      /machine:x64  /NODEFAULTLIB:atlthunk.lib /INCREMENTAL:NO  /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:libcpmtd.lib /NODEFAULTLIB:msvcrtd.lib\r\n        Linker flags (Debug):        /machine:x64  /NODEFAULTLIB:atlthunk.lib /debug /INCREMENTAL  /NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:libcpmt.lib /NODEFAULTLIB:msvcrt.lib\r\n        ccache:                      NO\r\n        Precompiled headers:         YES\r\n        Extra dependencies:          wsock32 comctl32 gdi32 ole32 setupapi ws2_32\r\n        3rdparty dependencies:       libprotobuf ade ittnotify libjpeg-turbo libwebp libpng libtiff libopenjp2 IlmImf zlib quirc ippiw ippicv\r\n    \r\n      OpenCV modules:\r\n        To be built:                 calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java ml objdetect photo python2 stitching video videoio\r\n        Disabled:                    python3 world\r\n        Disabled by dependency:      -\r\n        Unavailable:                 ts\r\n        Applications:                apps\r\n        Documentation:               NO\r\n        Non-free algorithms:         NO\r\n    \r\n      Windows RT support:            NO\r\n    \r\n      GUI:                           WIN32UI\r\n        Win32 UI:                    YES\r\n        VTK support:                 NO\r\n    \r\n      Media I/O:\r\n        ZLib:                        build (ver 1.2.12)\r\n        JPEG:                        build-libjpeg-turbo (ver 2.1.2-62)\r\n        WEBP:                        build (ver encoder: 0x020f)\r\n        PNG:                         build (ver 1.6.37)\r\n        TIFF:                        build (ver 42 - 4.2.0)\r\n        JPEG 2000:                   build (ver 2.4.0)\r\n        OpenEXR:                     build (ver 2.3.0)\r\n        HDR:                         YES\r\n        SUNRASTER:                   YES\r\n        PXM:                         YES\r\n        PFM:                         YES\r\n    \r\n      Video I/O:\r\n        DC1394:                      NO\r\n        FFMPEG:                      YES (prebuilt binaries)\r\n          avcodec:                   YES (58.134.100)\r\n          avformat:                  YES (58.76.100)\r\n          avutil:                    YES (56.70.100)\r\n          swscale:                   YES (5.9.100)\r\n          avresample:                YES (4.0.0)\r\n        GStreamer:                   NO\r\n        DirectShow:                  YES\r\n        Media Foundation:            YES\r\n          DXVA:                      NO\r\n    \r\n      Parallel framework:            Concurrency\r\n    \r\n      Trace:                         YES (with Intel ITT)\r\n    \r\n      Other third-party libraries:\r\n        Intel IPP:                   2020.0.0 Gold [2020.0.0]\r\n               at:                   C:/build/master_winpack-bindings-win64-vc14-static/build/3rdparty/ippicv/ippicv_win/icv\r\n        Intel IPP IW:                sources (2020.0.0)\r\n                  at:                C:/build/master_winpack-bindings-win64-vc14-static/build/3rdparty/ippicv/ippicv_win/iw\r\n        Eigen:                       NO\r\n        Custom HAL:                  NO\r\n        Protobuf:                    build (3.19.1)\r\n    \r\n      OpenCL:                        YES (NVD3D11)\r\n        Include path:                C:/build/master_winpack-bindings-win64-vc14-static/opencv/3rdparty/include/opencl/1.2\r\n        Link libraries:              Dynamic load\r\n    \r\n      Python 2:\r\n        Interpreter:                 C:/utils/soft/python27-x64/python.exe (ver 2.7.13)\r\n        Libraries:                   C:/utils/soft/python27-x64/Libs/python27.lib (ver 2.7.13)\r\n        numpy:                       C:/utils/soft/python27-x64/lib/site-packages/numpy/core/include (ver 1.15.4)\r\n        install path:                python/cv2/python-2.7\r\n    \r\n      Python (for build):            C:/utils/soft/python27-x64/python.exe\r\n    \r\n      Java:\r\n        ant:                         C:/utils/soft/apache-ant-1.10.12/bin/ant.bat (ver 1.10.12)\r\n        JNI:                         C:/utils/soft/jdk1.8.0_333/include C:/utils/soft/jdk1.8.0_333/include/win32 C:/utils/soft/jdk1.8.0_333/include\r\n        Java wrappers:               YES\r\n        Java tests:                  NO\r\n    \r\n      Install to:                    C:/build/master_winpack-bindings-win64-vc14-static/install\r\n    -----------------------------------------------------------------\r\n    \r\n    \r\n    time support true\r\n    Searching JPG files starting in C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    922 files\r\n    \r\n    end file walker imread elapsed time 425.56, total CPU time 419.765625, user CPU 396.359375\r\n\r\n**4.7.0 Build and Run Information:**\r\n\r\n    C:\\Users\\RKT\\frc\\FRC2023\\Code\\OpenCVtest&gt;java -showversion -jar OpenCVtest.jar &quot;C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing&quot;\r\n    java version &quot;12&quot; 2019-03-19\r\n    Java(TM) SE Runtime Environment (build 12+33)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 12+33, mixed mode, sharing)\r\n    OpenCV version 4.7.0-dev\r\n    \r\n    General configuration for OpenCV 4.7.0-dev =====================================\r\n      Version control:               4.7.0-1-g9208dcb07c\r\n    \r\n      Platform:\r\n        Timestamp:                   2022-12-28T16:14:24Z\r\n        Host:                        Windows 10.0.19045 AMD64\r\n        CMake:                       3.23.3\r\n        CMake generator:             Visual Studio 16 2019\r\n        CMake build tool:            C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/MSBuild/Current/Bin/MSBuild.exe\r\n        MSVC:                        1928\r\n        Configuration:               Debug Release\r\n    \r\n      CPU/HW features:\r\n        Baseline:                    SSE SSE2 SSE3\r\n          requested:                 SSE3\r\n        Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\r\n          requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\r\n          SSE4_1 (16 files):         + SSSE3 SSE4_1\r\n          SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\r\n          FP16 (0 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\r\n          AVX (4 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\r\n          AVX2 (32 files):           + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\r\n          AVX512_SKX (5 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_COMMON AVX512_SKX\r\n    \r\n      C/C++:\r\n        Built as dynamic libs?:      NO\r\n        C++ standard:                11\r\n        C++ Compiler:                C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29333/bin/Hostx64/x64/cl.exe  (ver 19.28.29334.0)\r\n        C++ flags (Release):         /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /wd4819 /MP  /MT /O2 /Ob2 /DNDEBUG\r\n        C++ flags (Debug):           /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /wd4819 /MP  /MTd /Zi /Ob0 /Od /RTC1\r\n        C Compiler:                  C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29333/bin/Hostx64/x64/cl.exe\r\n        C flags (Release):           /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP   /MT /O2 /Ob2 /DNDEBUG\r\n        C flags (Debug):             /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP /MTd /Zi /Ob0 /Od /RTC1\r\n        Linker flags (Release):      /machine:x64  /NODEFAULTLIB:atlthunk.lib /INCREMENTAL:NO  /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:libcpmtd.lib /NODEFAULTLIB:msvcrtd.lib\r\n        Linker flags (Debug):        /machine:x64  /NODEFAULTLIB:atlthunk.lib /debug /INCREMENTAL  /NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:libcpmt.lib /NODEFAULTLIB:msvcrt.lib\r\n        ccache:                      NO\r\n        Precompiled headers:         YES\r\n        Extra dependencies:          wsock32 comctl32 gdi32 ole32 setupapi ws2_32\r\n        3rdparty dependencies:       libprotobuf ade ittnotify libjpeg-turbo libwebp libpng libtiff libopenjp2 IlmImf zlib quirc ippiw ippicv\r\n    \r\n      OpenCV modules:\r\n        To be built:                 calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java ml objdetect photo stitching video videoio\r\n        Disabled:                    python3 world\r\n        Disabled by dependency:      -\r\n        Unavailable:                 python2 ts\r\n        Applications:                apps\r\n        Documentation:               NO\r\n        Non-free algorithms:         NO\r\n    \r\n      Windows RT support:            NO\r\n    \r\n      GUI:                           WIN32UI\r\n        Win32 UI:                    YES\r\n        VTK support:                 NO\r\n    \r\n      Media I/O:\r\n        ZLib:                        build (ver 1.2.13)\r\n        JPEG:                        build-libjpeg-turbo (ver 2.1.3-62)\r\n          SIMD Support Request:      YES\r\n          SIMD Support:              NO\r\n        WEBP:                        build (ver encoder: 0x020f)\r\n        PNG:                         build (ver 1.6.37)\r\n        TIFF:                        build (ver 42 - 4.2.0)\r\n        JPEG 2000:                   build (ver 2.4.0)\r\n        OpenEXR:                     build (ver 2.3.0)\r\n        HDR:                         YES\r\n        SUNRASTER:                   YES\r\n        PXM:                         YES\r\n        PFM:                         YES\r\n    \r\n      Video I/O:\r\n        DC1394:                      NO\r\n        FFMPEG:                      YES (prebuilt binaries)\r\n          avcodec:                   YES (58.134.100)\r\n          avformat:                  YES (58.76.100)\r\n          avutil:                    YES (56.70.100)\r\n          swscale:                   YES (5.9.100)\r\n          avresample:                YES (4.0.0)\r\n        GStreamer:                   NO\r\n        DirectShow:                  YES\r\n        Media Foundation:            YES\r\n          DXVA:                      YES\r\n    \r\n      Parallel framework:            Concurrency\r\n    \r\n      Trace:                         YES (with Intel ITT)\r\n    \r\n      Other third-party libraries:\r\n        Intel IPP:                   2020.0.0 Gold [2020.0.0]\r\n               at:                   C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/build-bindings-64/3rdparty/ippicv/ippicv_win/icv\r\n        Intel IPP IW:                sources (2020.0.0)\r\n                  at:                C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/build-bindings-64/3rdparty/ippicv/ippicv_win/iw\r\n        Eigen:                       NO\r\n        Custom HAL:                  NO\r\n        Protobuf:                    build (3.19.1)\r\n    \r\n      OpenCL:                        YES (NVD3D11)\r\n        Include path:                C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/opencv/3rdparty/include/opencl/1.2\r\n        Link libraries:              Dynamic load\r\n    \r\n      Python (for build):            C:/Python-3.9/python.exe\r\n    \r\n      Java:\r\n        ant:                         C:/apache-ant-1.9.15/bin/ant.bat (ver 1.9.15)\r\n        JNI:                         C:/Program Files/Java/jdk-11.0.9/include C:/Program Files/Java/jdk-11.0.9/include/win32 C:/Program Files/Java/jdk-11.0.9/include\r\n        Java wrappers:               YES\r\n        Java tests:                  NO\r\n    \r\n      Install to:                    C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/install-bindings-x64\r\n    -----------------------------------------------------------------\r\n    \r\n    \r\n    time support true\r\n    Searching JPG files starting in C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    922 jpg files for imread\r\n    \r\n    end file walker imread elapsed time 1121.974, total CPU time 1116.5625, user CPU 1093.375\r\n\r\n","title":"OpenCV Java 4.7.0 image processing ten times slower than 4.6.0 (Windows 10)","body":"<p>I compiled my Java image processing program identically between OpenCV 4.5.0 and 4.7.0 except for changing to the new OpenCV opencv-470.jar and opencv_java470.dll in the classpath. I went from processing about 3 images per 1 second to 1 image per about 3 seconds.</p>\n<p>The results are identical and correct but now very slow.</p>\n<p>I don't see any related posts on the Internet about this issue. What have I missed?</p>\n<p>A <strong>MRE</strong> with only the <code>imread</code> with the OpenCV build information and CPU time as suggested in comments is shown further below.</p>\n<p>OpenCV version 4.6.0 operates with the same fast speed as 4.5.0 so that is used for the MRE to compare with 4.7.0.</p>\n<p>I can report an OpenCV issue, if it appears that I didn't make a configuration error.</p>\n<p>Original Application Processing (not the MRE) is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>imread jpg file\nconvert Imgproc.COLOR_BGR2YUV\nresize Imgproc.INTER_LINEAR\nblur BlurType.get(&quot;Gaussian Blur&quot;)\nsplit\nnormalize Core.NORM_MINMAX\nequalize\nresize Imgproc.INTER_LINEAR\nadaptive threshold Imgproc.ADAPTIVE_THRESH_MEAN_C Imgproc.THRESH_BINARY\n\nSystem.currentTimeMillis() [milliseconds] to process 137 images\n\n                4.5.0       4.7.0\n                _____       _____\nimread          69943      173004\nconvert          9054      324540\nresize           2090       44447\nblur                0           0 \nsplit              78         120\nnormalize          21         648\nequalize           25          77\nresize             14          22\nadaptive threshold 14          64\n</code></pre>\n<p><strong>MRE</strong>\nResults [seconds] for 922 jpg files:</p>\n<blockquote>\n<p>4.6.0 <code>imread</code> elapsed time 425.56, total CPU time  419.765625, user CPU 396.359375</p>\n<p>4.7.0 <code>imread</code> elapsed time 1121.974, total CPU time 1116.5625, user CPU 1093.375</p>\n</blockquote>\n<pre><code>/*\n * test OpenCV performance\n * compare imread time between 4.6.0 and 4.7.0\n */\npackage app;\n\nimport java.io.File;\nimport java.io.FileFilter;\nimport java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadMXBean;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.imgcodecs.Imgcodecs;\n\npublic class App {\n  static ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n  static {\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME); // Load the native OpenCV library\n    System.out.println(&quot;OpenCV version &quot; + Core.getVersionString() + &quot;\\n&quot; + Core.getBuildInformation());\n\n    System.out.println(&quot;time support &quot; + threadMXBean.isCurrentThreadCpuTimeSupported());\n  }\n\n  static String imageDirectory; // start search directory (*.jpg files selected)\n  static final App x = new App();\n  static int countFiles = 0; // number of imreads\n\n  static long imreadTime = 0; // System.currentTimeMillis()\n  static long imreadCPU  = 0; // threadMXBean.getCurrentThreadCpuTime()\n  static long imreadUser = 0; // threadMXBean.getCurrentThreadUserTime()\n\n  public static void main(String[] args) throws Exception {\n\n    if(args.length &gt; 0) {\n      imageDirectory =  args[0];\n      System.out.println(&quot;Searching JPG files starting in &quot; + imageDirectory);\n    }\n\n    Filewalker fw = x.new Filewalker();\n    fw.walk(imageDirectory); // SEARCH FOR JPG AND imread THEM\n\n    System.out.println(&quot;\\nend file walker imread elapsed time &quot;\n       + imreadTime*1.e-3 + &quot;, total CPU time &quot; + imreadCPU*1.e-9 + &quot;, user CPU &quot; + imreadUser*1.e-9);\n   }\n\n  public class Filewalker {\n\n    /**\n     * Called recursively for subdirectories\n     * @param path\n     */\n    public void walk(String path) {\n\n      File root = new File(path);\n\n      // Create a FilenameFilter\n      FileFilter filter = new FileFilter() {\n        public boolean accept(File file)\n        {\n          return file.isDirectory() // process all directories and files ending with &quot;.jpg&quot;\n              || (file.canRead() &amp;&amp; file.getName().length() &gt;= 4\n                  &amp;&amp; file.getName().substring(file.getName().length() - 4).equalsIgnoreCase(&quot;.JPG&quot;));\n        }\n      };\n      // ! Create a FilenameFilter\n\n      File[] list = root.listFiles(filter);\n\n      if (list == null)\n        return;\n\n      for (File file : list) {\n        if (file.isDirectory()) {\n          walk(file.getAbsolutePath()); // recursive invocation to subdirectory\n        } else {\n          // process this file as an OpenCV image Mat\n          countFiles++;\n          if(countFiles%10 == 0) { // show progress\n            System.out.println(countFiles);\n          }\n\n          Mat src = null;\n\n          imreadTime -= System.currentTimeMillis();\n          imreadCPU  -= threadMXBean.getCurrentThreadCpuTime();\n          imreadUser -= threadMXBean.getCurrentThreadUserTime();\n\n          src = Imgcodecs.imread(file.getAbsoluteFile().toString(), Imgcodecs.IMREAD_UNCHANGED);\n\n          imreadTime += System.currentTimeMillis();\n          imreadCPU  += threadMXBean.getCurrentThreadCpuTime();\n          imreadUser += threadMXBean.getCurrentThreadUserTime();\n\n          if(src != null) {\n            src.release();\n          }\n        }\n      }\n      // the end of the file list for this directory\n      // recursive invocations unwind here at the end\n    }\n  }\n}\n</code></pre>\n<p><strong>4.6.0 Build and Run Information:</strong></p>\n<pre><code>C:\\Users\\RKT\\frc\\FRC2023\\Code\\OpenCVtest&gt;java -showversion -jar OpenCVtest.jar &quot;C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing&quot;\njava version &quot;12&quot; 2019-03-19\nJava(TM) SE Runtime Environment (build 12+33)\nJava HotSpot(TM) 64-Bit Server VM (build 12+33, mixed mode, sharing)\nOpenCV version 4.6.0\n\nGeneral configuration for OpenCV 4.6.0 =====================================\n  Version control:               4.6.0\n\n  Platform:\n    Timestamp:                   2022-06-05T15:49:50Z\n    Host:                        Windows 10.0.16299 AMD64\n    CMake:                       3.20.21032501-MSVC_2\n    CMake generator:             Visual Studio 14 2015 Win64\n    CMake build tool:            MSBuild.exe\n    MSVC:                        1900\n    Configuration:               Debug Release\n\n  CPU/HW features:\n    Baseline:                    SSE SSE2 SSE3\n      requested:                 SSE3\n    Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2\n      requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\n      SSE4_1 (16 files):         + SSSE3 SSE4_1\n      SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\n      FP16 (0 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\n      AVX (4 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\n      AVX2 (31 files):           + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\n\n  C/C++:\n    Built as dynamic libs?:      NO\n    C++ standard:                11\n    C++ Compiler:                C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe  (ver 19.0.24245.0)\n    C++ flags (Release):         /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /MP3  /MT /O2 /Ob2 /DNDEBUG\n    C++ flags (Debug):           /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /MP3  /MTd /Zi /Ob0 /Od /RTC1\n    C Compiler:                  C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/x86_amd64/cl.exe\n    C flags (Release):           /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP3   /MT /O2 /Ob2 /DNDEBUG\n    C flags (Debug):             /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP3 /MTd /Zi /Ob0 /Od /RTC1\n    Linker flags (Release):      /machine:x64  /NODEFAULTLIB:atlthunk.lib /INCREMENTAL:NO  /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:libcpmtd.lib /NODEFAULTLIB:msvcrtd.lib\n    Linker flags (Debug):        /machine:x64  /NODEFAULTLIB:atlthunk.lib /debug /INCREMENTAL  /NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:libcpmt.lib /NODEFAULTLIB:msvcrt.lib\n    ccache:                      NO\n    Precompiled headers:         YES\n    Extra dependencies:          wsock32 comctl32 gdi32 ole32 setupapi ws2_32\n    3rdparty dependencies:       libprotobuf ade ittnotify libjpeg-turbo libwebp libpng libtiff libopenjp2 IlmImf zlib quirc ippiw ippicv\n\n  OpenCV modules:\n    To be built:                 calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java ml objdetect photo python2 stitching video videoio\n    Disabled:                    python3 world\n    Disabled by dependency:      -\n    Unavailable:                 ts\n    Applications:                apps\n    Documentation:               NO\n    Non-free algorithms:         NO\n\n  Windows RT support:            NO\n\n  GUI:                           WIN32UI\n    Win32 UI:                    YES\n    VTK support:                 NO\n\n  Media I/O:\n    ZLib:                        build (ver 1.2.12)\n    JPEG:                        build-libjpeg-turbo (ver 2.1.2-62)\n    WEBP:                        build (ver encoder: 0x020f)\n    PNG:                         build (ver 1.6.37)\n    TIFF:                        build (ver 42 - 4.2.0)\n    JPEG 2000:                   build (ver 2.4.0)\n    OpenEXR:                     build (ver 2.3.0)\n    HDR:                         YES\n    SUNRASTER:                   YES\n    PXM:                         YES\n    PFM:                         YES\n\n  Video I/O:\n    DC1394:                      NO\n    FFMPEG:                      YES (prebuilt binaries)\n      avcodec:                   YES (58.134.100)\n      avformat:                  YES (58.76.100)\n      avutil:                    YES (56.70.100)\n      swscale:                   YES (5.9.100)\n      avresample:                YES (4.0.0)\n    GStreamer:                   NO\n    DirectShow:                  YES\n    Media Foundation:            YES\n      DXVA:                      NO\n\n  Parallel framework:            Concurrency\n\n  Trace:                         YES (with Intel ITT)\n\n  Other third-party libraries:\n    Intel IPP:                   2020.0.0 Gold [2020.0.0]\n           at:                   C:/build/master_winpack-bindings-win64-vc14-static/build/3rdparty/ippicv/ippicv_win/icv\n    Intel IPP IW:                sources (2020.0.0)\n              at:                C:/build/master_winpack-bindings-win64-vc14-static/build/3rdparty/ippicv/ippicv_win/iw\n    Eigen:                       NO\n    Custom HAL:                  NO\n    Protobuf:                    build (3.19.1)\n\n  OpenCL:                        YES (NVD3D11)\n    Include path:                C:/build/master_winpack-bindings-win64-vc14-static/opencv/3rdparty/include/opencl/1.2\n    Link libraries:              Dynamic load\n\n  Python 2:\n    Interpreter:                 C:/utils/soft/python27-x64/python.exe (ver 2.7.13)\n    Libraries:                   C:/utils/soft/python27-x64/Libs/python27.lib (ver 2.7.13)\n    numpy:                       C:/utils/soft/python27-x64/lib/site-packages/numpy/core/include (ver 1.15.4)\n    install path:                python/cv2/python-2.7\n\n  Python (for build):            C:/utils/soft/python27-x64/python.exe\n\n  Java:\n    ant:                         C:/utils/soft/apache-ant-1.10.12/bin/ant.bat (ver 1.10.12)\n    JNI:                         C:/utils/soft/jdk1.8.0_333/include C:/utils/soft/jdk1.8.0_333/include/win32 C:/utils/soft/jdk1.8.0_333/include\n    Java wrappers:               YES\n    Java tests:                  NO\n\n  Install to:                    C:/build/master_winpack-bindings-win64-vc14-static/install\n-----------------------------------------------------------------\n\n\ntime support true\nSearching JPG files starting in C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing\n\n.\n.\n.\n\n922 files\n\nend file walker imread elapsed time 425.56, total CPU time 419.765625, user CPU 396.359375\n</code></pre>\n<p><strong>4.7.0 Build and Run Information:</strong></p>\n<pre><code>C:\\Users\\RKT\\frc\\FRC2023\\Code\\OpenCVtest&gt;java -showversion -jar OpenCVtest.jar &quot;C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing&quot;\njava version &quot;12&quot; 2019-03-19\nJava(TM) SE Runtime Environment (build 12+33)\nJava HotSpot(TM) 64-Bit Server VM (build 12+33, mixed mode, sharing)\nOpenCV version 4.7.0-dev\n\nGeneral configuration for OpenCV 4.7.0-dev =====================================\n  Version control:               4.7.0-1-g9208dcb07c\n\n  Platform:\n    Timestamp:                   2022-12-28T16:14:24Z\n    Host:                        Windows 10.0.19045 AMD64\n    CMake:                       3.23.3\n    CMake generator:             Visual Studio 16 2019\n    CMake build tool:            C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/MSBuild/Current/Bin/MSBuild.exe\n    MSVC:                        1928\n    Configuration:               Debug Release\n\n  CPU/HW features:\n    Baseline:                    SSE SSE2 SSE3\n      requested:                 SSE3\n    Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\n      requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\n      SSE4_1 (16 files):         + SSSE3 SSE4_1\n      SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\n      FP16 (0 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\n      AVX (4 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\n      AVX2 (32 files):           + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\n      AVX512_SKX (5 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_COMMON AVX512_SKX\n\n  C/C++:\n    Built as dynamic libs?:      NO\n    C++ standard:                11\n    C++ Compiler:                C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29333/bin/Hostx64/x64/cl.exe  (ver 19.28.29334.0)\n    C++ flags (Release):         /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /wd4819 /MP  /MT /O2 /Ob2 /DNDEBUG\n    C++ flags (Debug):           /DWIN32 /D_WINDOWS /W4 /GR  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /EHa /wd4127 /wd4251 /wd4324 /wd4275 /wd4512 /wd4589 /wd4819 /MP  /MTd /Zi /Ob0 /Od /RTC1\n    C Compiler:                  C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29333/bin/Hostx64/x64/cl.exe\n    C flags (Release):           /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP   /MT /O2 /Ob2 /DNDEBUG\n    C flags (Debug):             /DWIN32 /D_WINDOWS /W3  /D _CRT_SECURE_NO_DEPRECATE /D _CRT_NONSTDC_NO_DEPRECATE /D _SCL_SECURE_NO_WARNINGS /Gy /bigobj /Oi  /fp:precise     /MP /MTd /Zi /Ob0 /Od /RTC1\n    Linker flags (Release):      /machine:x64  /NODEFAULTLIB:atlthunk.lib /INCREMENTAL:NO  /NODEFAULTLIB:libcmtd.lib /NODEFAULTLIB:libcpmtd.lib /NODEFAULTLIB:msvcrtd.lib\n    Linker flags (Debug):        /machine:x64  /NODEFAULTLIB:atlthunk.lib /debug /INCREMENTAL  /NODEFAULTLIB:libcmt.lib /NODEFAULTLIB:libcpmt.lib /NODEFAULTLIB:msvcrt.lib\n    ccache:                      NO\n    Precompiled headers:         YES\n    Extra dependencies:          wsock32 comctl32 gdi32 ole32 setupapi ws2_32\n    3rdparty dependencies:       libprotobuf ade ittnotify libjpeg-turbo libwebp libpng libtiff libopenjp2 IlmImf zlib quirc ippiw ippicv\n\n  OpenCV modules:\n    To be built:                 calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java ml objdetect photo stitching video videoio\n    Disabled:                    python3 world\n    Disabled by dependency:      -\n    Unavailable:                 python2 ts\n    Applications:                apps\n    Documentation:               NO\n    Non-free algorithms:         NO\n\n  Windows RT support:            NO\n\n  GUI:                           WIN32UI\n    Win32 UI:                    YES\n    VTK support:                 NO\n\n  Media I/O:\n    ZLib:                        build (ver 1.2.13)\n    JPEG:                        build-libjpeg-turbo (ver 2.1.3-62)\n      SIMD Support Request:      YES\n      SIMD Support:              NO\n    WEBP:                        build (ver encoder: 0x020f)\n    PNG:                         build (ver 1.6.37)\n    TIFF:                        build (ver 42 - 4.2.0)\n    JPEG 2000:                   build (ver 2.4.0)\n    OpenEXR:                     build (ver 2.3.0)\n    HDR:                         YES\n    SUNRASTER:                   YES\n    PXM:                         YES\n    PFM:                         YES\n\n  Video I/O:\n    DC1394:                      NO\n    FFMPEG:                      YES (prebuilt binaries)\n      avcodec:                   YES (58.134.100)\n      avformat:                  YES (58.76.100)\n      avutil:                    YES (56.70.100)\n      swscale:                   YES (5.9.100)\n      avresample:                YES (4.0.0)\n    GStreamer:                   NO\n    DirectShow:                  YES\n    Media Foundation:            YES\n      DXVA:                      YES\n\n  Parallel framework:            Concurrency\n\n  Trace:                         YES (with Intel ITT)\n\n  Other third-party libraries:\n    Intel IPP:                   2020.0.0 Gold [2020.0.0]\n           at:                   C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/build-bindings-64/3rdparty/ippicv/ippicv_win/icv\n    Intel IPP IW:                sources (2020.0.0)\n              at:                C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/build-bindings-64/3rdparty/ippicv/ippicv_win/iw\n    Eigen:                       NO\n    Custom HAL:                  NO\n    Protobuf:                    build (3.19.1)\n\n  OpenCL:                        YES (NVD3D11)\n    Include path:                C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/opencv/3rdparty/include/opencl/1.2\n    Link libraries:              Dynamic load\n\n  Python (for build):            C:/Python-3.9/python.exe\n\n  Java:\n    ant:                         C:/apache-ant-1.9.15/bin/ant.bat (ver 1.9.15)\n    JNI:                         C:/Program Files/Java/jdk-11.0.9/include C:/Program Files/Java/jdk-11.0.9/include/win32 C:/Program Files/Java/jdk-11.0.9/include\n    Java wrappers:               YES\n    Java tests:                  NO\n\n  Install to:                    C:/GHA-OCV-2/_work/ci-gha-workflow/ci-gha-workflow/install-bindings-x64\n-----------------------------------------------------------------\n\n\ntime support true\nSearching JPG files starting in C:\\\\Users\\\\RKT\\\\Pictures\\\\Sony_DSC_Complete_Editing\n\n.\n.\n.\n\n922 jpg files for imread\n\nend file walker imread elapsed time 1121.974, total CPU time 1116.5625, user CPU 1093.375\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","websphere-liberty"],"comments":[{"owner":{"account_id":6564493,"reputation":1002,"user_id":5074563,"display_name":"Bruce T."},"score":0,"creation_date":1595465921,"post_id":63022648,"comment_id":111487302,"body_markdown":"I don&#39;t see RuleBasedCollator in the Liberty Codebase, so I&#39;ll speculate that there&#39;s some app or library that&#39;s misconfigured on the &quot;ET&quot; server.  Server start --clean might also be worth a try.","body":"I don&#39;t see RuleBasedCollator in the Liberty Codebase, so I&#39;ll speculate that there&#39;s some app or library that&#39;s misconfigured on the &quot;ET&quot; server.  Server start --clean might also be worth a try."},{"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"score":0,"creation_date":1595491712,"post_id":63022648,"comment_id":111494620,"body_markdown":"Tried didn&#39;t help. I will test by changing class loading order from parentFirst to parentLast","body":"Tried didn&#39;t help. I will test by changing class loading order from parentFirst to parentLast"},{"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"score":0,"creation_date":1595503375,"post_id":63022648,"comment_id":111500677,"body_markdown":"Did not help application failed to start with parentLast approach","body":"Did not help application failed to start with parentLast approach"},{"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"score":0,"creation_date":1595844065,"post_id":63022648,"comment_id":111604279,"body_markdown":"@BruceT. It was the IMS connector i.e. IMS1323.rar which had this class but on WLP infra team used IMS1412.rar. After fixing that I am facing\n``ICO0005E: com.ibm.connector2.ims.ico.IMSTCPIPManagedConnection@211fbf61.receive() error. A communication error occurred during sending or receiving the IMS message. clientID=[HWSVZYOH] [java.net.SocketException: Connection reset]] )``\nI tried fixing it by including\n``&lt;connectionFactory  id=&quot;ims&quot; authDataAlias=&quot;ims_user&quot; jndiName=&quot;eis/IMSSyncNonPersistent&quot; purgePolicy=&quot;EntirePool&quot; maxPoolSize=&quot;50&quot;&gt;``\nbut it did not help","body":"@BruceT. It was the IMS connector i.e. IMS1323.rar which had this class but on WLP infra team used IMS1412.rar. After fixing that I am facing <code>ICO0005E: com.ibm.connector2.ims.ico.IMSTCPIPManagedConnection@211fbf6&zwnj;&#8203;1.receive() error. A communication error occurred during sending or receiving the IMS message. clientID=[HWSVZYOH] [java.net.SocketException: Connection reset]] )</code> I tried fixing it by including <code>&lt;connectionFactory  id=&quot;ims&quot; authDataAlias=&quot;ims_user&quot; jndiName=&quot;eis&#47;IMSSyncNonPersistent&quot; purgePolicy=&quot;EntirePool&quot; maxPoolSize=&quot;50&quot;&gt;</code> but it did not help"},{"owner":{"account_id":6564493,"reputation":1002,"user_id":5074563,"display_name":"Bruce T."},"score":0,"creation_date":1595937569,"post_id":63022648,"comment_id":111640742,"body_markdown":"I wonder if it would be easier to take an exact copy of a server from a working environment, and then change it only as needed for the nonworking environment, being careful to keep it working.  Or take exact copies of servers from failing and working environments, and diff them thoroughly to find what&#39;s wrong with the failing environment.  It&#39;s probably another misconfiguration like &quot;wrong rar file&quot;.","body":"I wonder if it would be easier to take an exact copy of a server from a working environment, and then change it only as needed for the nonworking environment, being careful to keep it working.  Or take exact copies of servers from failing and working environments, and diff them thoroughly to find what&#39;s wrong with the failing environment.  It&#39;s probably another misconfiguration like &quot;wrong rar file&quot;."},{"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"score":0,"creation_date":1595950092,"post_id":63022648,"comment_id":111648167,"body_markdown":"@BruceT. Figured out the issue the IMS endpoint in ET needs a SSL certificate. It blocks the request if it is absent. Is it possible for you to share a sample connectionManager config with SSL enabled ? I want to pass SSL certificate to connection request I am making to IMS thru connectionManager Configuration in server.xml","body":"@BruceT. Figured out the issue the IMS endpoint in ET needs a SSL certificate. It blocks the request if it is absent. Is it possible for you to share a sample connectionManager config with SSL enabled ? I want to pass SSL certificate to connection request I am making to IMS thru connectionManager Configuration in server.xml"},{"owner":{"account_id":6564493,"reputation":1002,"user_id":5074563,"display_name":"Bruce T."},"score":0,"creation_date":1596105974,"post_id":63022648,"comment_id":111707486,"body_markdown":"I don&#39;t have one, but if you clone this repo and grep all the xml files, there might be an example in a test case. https://github.com/OpenLiberty/open-liberty.  Docs are here but are rather light on examples.  https://openliberty.io/ . You might also try asking another question titled &quot;connectionManager config for websphere liberty&quot; and see if someone who knows that topic responds.","body":"I don&#39;t have one, but if you clone this repo and grep all the xml files, there might be an example in a test case. <a href=\"https://github.com/OpenLiberty/open-liberty\" rel=\"nofollow noreferrer\">github.com/OpenLiberty/open-liberty</a>.  Docs are here but are rather light on examples.  <a href=\"https://openliberty.io/\" rel=\"nofollow noreferrer\">openliberty.io</a> . You might also try asking another question titled &quot;connectionManager config for websphere liberty&quot; and see if someone who knows that topic responds."}],"answers":[{"tags":[],"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596806977,"creation_date":1596806977,"answer_id":63302849,"question_id":63022648,"body_markdown":"As it was a nested exception thrown by spring, I figured out the flow of the occurrence of the error.It was during hitting a transaction using a third party ims library. I looked into the library and voila the jar ICU4J was missing. After adding it the issue was resolved.","title":"Spring NoClassDefFoundError for com/ibm/icu/text/RuleBasedCollator","body":"<p>As it was a nested exception thrown by spring, I figured out the flow of the occurrence of the error.It was during hitting a transaction using a third party ims library. I looked into the library and voila the jar ICU4J was missing. After adding it the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":2123152,"reputation":1,"user_id":1885990,"display_name":"gokhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678042484,"creation_date":1678042484,"answer_id":75644613,"question_id":63022648,"body_markdown":"My solution;\r\n\r\nEclipse --&gt; Help --&gt; Eclipse Marketplace \r\n\r\nInstall the following package.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SW98b.png","title":"Spring NoClassDefFoundError for com/ibm/icu/text/RuleBasedCollator","body":"<p>My solution;</p>\n<p>Eclipse --&gt; Help --&gt; Eclipse Marketplace</p>\n<p>Install the following package.</p>\n<p><a href=\"https://i.stack.imgur.com/SW98b.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":4901491,"reputation":1100,"user_id":3949569,"accept_rate":100,"display_name":"Rohit Funde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690081641,"creation_date":1690081641,"answer_id":76746514,"question_id":63022648,"body_markdown":"if you are using IntelliJ then close and restart the IDE","title":"Spring NoClassDefFoundError for com/ibm/icu/text/RuleBasedCollator","body":"<p>if you are using IntelliJ then close and restart the IDE</p>\n"}],"owner":{"account_id":13576130,"reputation":31,"user_id":9793440,"display_name":"Anurag Mishra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690081641,"creation_date":1595363559,"question_id":63022648,"body_markdown":"I&#39;m totally puzzled for the below error. I have no idea where is this coming from as it is not used in my application. I tried adding this dependency in war file but it did not work.\r\n```\r\n\r\norg.springframework.web.util.NestedServletException: \r\nHandler dispatch failed; nested exception is \r\njava.lang.NoClassDefFoundError: com/ibm/icu/text/RuleBasedCollator )\r\n*** STACK TRACE:\r\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\norg.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:713)\r\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1255)\r\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:743)\r\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:440)\r\ncom.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1221)\r\ncom.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1005)\r\ncom.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:75)\r\ncom.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:938)\r\ncom.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\r\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1061)\r\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:417)\r\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:376)\r\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:532)\r\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:466)\r\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:331)\r\ncom.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:503)\r\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:573)\r\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:954)\r\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1043)\r\ncom.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:239)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\njava.lang.Thread.run(Thread.java:812)\r\n\r\n```","title":"Spring NoClassDefFoundError for com/ibm/icu/text/RuleBasedCollator","body":"<p>I'm totally puzzled for the below error. I have no idea where is this coming from as it is not used in my application. I tried adding this dependency in war file but it did not work.</p>\n<pre><code>\norg.springframework.web.util.NestedServletException: \nHandler dispatch failed; nested exception is \njava.lang.NoClassDefFoundError: com/ibm/icu/text/RuleBasedCollator )\n*** STACK TRACE:\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\norg.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:713)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:790)\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1255)\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:743)\ncom.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:440)\ncom.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1221)\ncom.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1005)\ncom.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:75)\ncom.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:938)\ncom.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1061)\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:417)\ncom.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:376)\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:532)\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:466)\ncom.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:331)\ncom.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:503)\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:573)\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:954)\ncom.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1043)\ncom.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:239)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\njava.lang.Thread.run(Thread.java:812)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest-client","spring-webclient"],"comments":[{"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"score":1,"creation_date":1605391651,"post_id":64838936,"comment_id":114637255,"body_markdown":"Actually it says server error 500. If you make the same request using your browser does it work?","body":"Actually it says server error 500. If you make the same request using your browser does it work?"},{"owner":{"account_id":9669498,"reputation":91,"user_id":7174944,"display_name":"Openroad"},"score":0,"creation_date":1605433771,"post_id":64838936,"comment_id":114643719,"body_markdown":"Yes call to http://localhost:8083/ratingsdata/user/ from browser works. When I use RestTemplate it works correctly as well (see edited question).","body":"Yes call to <a href=\"http://localhost:8083/ratingsdata/user/\" rel=\"nofollow noreferrer\">localhost:8083/ratingsdata/user</a> from browser works. When I use RestTemplate it works correctly as well (see edited question)."}],"answers":[{"tags":[],"owner":{"account_id":9669498,"reputation":91,"user_id":7174944,"display_name":"Openroad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690080305,"creation_date":1605450888,"answer_id":64845627,"question_id":64838936,"body_markdown":"I found the problem cause and solved it:\r\n\r\nBecause on the class path was only _webflux_ then the application started on `Netty` Web Server. The request in this configuration are handled on **reactor-http-epoll-2** thread which is **not** instance of `reactor.core.scheduler.NonBlocking`. It caused the `IllegalStateException`.\r\n\r\nTo fix it I had to add this dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThe application now is started on `Tomcat` by default and where the thread on which request is handled **http-nio-8081-exec-1** is instance of the `NonBlocking`.","title":"How to use Spring WebClient to make synchronous call?","body":"<p>I found the problem cause and solved it:</p>\n<p>Because on the class path was only <em>webflux</em> then the application started on <code>Netty</code> Web Server. The request in this configuration are handled on <strong>reactor-http-epoll-2</strong> thread which is <strong>not</strong> instance of <code>reactor.core.scheduler.NonBlocking</code>. It caused the <code>IllegalStateException</code>.</p>\n<p>To fix it I had to add this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The application now is started on <code>Tomcat</code> by default and where the thread on which request is handled <strong>http-nio-8081-exec-1</strong> is instance of the <code>NonBlocking</code>.</p>\n"}],"owner":{"account_id":9669498,"reputation":91,"user_id":7174944,"display_name":"Openroad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4899,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690080305,"creation_date":1605390220,"question_id":64838936,"body_markdown":"`Spring Framework` in [RestTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html) documentation has note:\r\n\r\n&gt; **NOTE**: As of `5.0` this class is in maintenance mode, with only minor\r\n&gt; requests for changes and bugs to be accepted going forward. Please,\r\n&gt; consider using the `org.springframework.web.reactive.client.WebClient`\r\n&gt; which has a more modern API and supports sync, async, and streaming\r\n&gt; scenarios.\r\n\r\nWhen I try to use `WebClient` and make Synchronous call like this:\r\n   \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/rating&quot;)\r\n    public class Controller {\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        @Autowired\r\n        private WebClient.Builder webClientBuilder;\r\n    \r\n        @RequestMapping(&quot;/{userId}&quot;)\r\n        public UserRating getUserRating(@PathVariable(&quot;userId&quot;) String userId) {\r\n    \r\n    //      return restTemplate.getForObject(&quot;http://localhost:8083/ratingsdata/user/&quot; + userId, UserRating.class);\r\n            return webClientBuilder.build()\r\n                    .get().uri(&quot;http://localhost:8083/ratingsdata/user/&quot; + userId)\r\n                    .retrieve()\r\n                    .bodyToMono(UserRating.class)\r\n                    .block();\r\n    \r\n        }\r\n    }\r\n\r\n\r\nProject pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.daren.tutorial.movie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;catalog&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;catalog&lt;/name&gt;\r\n        &lt;description&gt;Movie catalog&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI got the folowing error:\r\n\r\n        2020-11-15 10:40:15.359 ERROR 7175 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [8776f4a6-1]  500 Server Error for HTTP GET &quot;/rating/15&quot;\r\n    \r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-2\r\n    \tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t|_ checkpoint ⇢ HTTP GET &quot;/rating/15&quot; [ExceptionHandlingWebHandler]\r\n    Stack trace:\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1679) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat com.daren.tutorial.movie.catalog.resources.Controller.getUserRating(Controller.java:39) ~[classes/:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \t\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146) ~[spring-webflux-5.3.1.jar:5.3.1]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2346) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2154) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2028) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:191) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3972) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:154) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:281) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:860) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2346) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:169) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2154) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2028) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:448) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:218) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:3987) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\r\n    \t\tat reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:611) ~[reactor-netty-http-1.0.1.jar:1.0.1]\r\n    \t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:612) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n    \t\tat reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:453) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n    \t\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:510) ~[reactor-netty-http-1.0.1.jar:1.0.1]\r\n    \t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:185) ~[reactor-netty-http-1.0.1.jar:1.0.1]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\r\n    \t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\nUsing the commented line - the one with the `RestTemplate` object - the app works correctly.\r\nDo I have to use deprecated `RestTemplate` to make synchronous rest call?","title":"How to use Spring WebClient to make synchronous call?","body":"<p><code>Spring Framework</code> in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> documentation has note:</p>\n<blockquote>\n<p><strong>NOTE</strong>: As of <code>5.0</code> this class is in maintenance mode, with only minor\nrequests for changes and bugs to be accepted going forward. Please,\nconsider using the <code>org.springframework.web.reactive.client.WebClient</code>\nwhich has a more modern API and supports sync, async, and streaming\nscenarios.</p>\n</blockquote>\n<p>When I try to use <code>WebClient</code> and make Synchronous call like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/rating&quot;)\npublic class Controller {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private WebClient.Builder webClientBuilder;\n\n    @RequestMapping(&quot;/{userId}&quot;)\n    public UserRating getUserRating(@PathVariable(&quot;userId&quot;) String userId) {\n\n//      return restTemplate.getForObject(&quot;http://localhost:8083/ratingsdata/user/&quot; + userId, UserRating.class);\n        return webClientBuilder.build()\n                .get().uri(&quot;http://localhost:8083/ratingsdata/user/&quot; + userId)\n                .retrieve()\n                .bodyToMono(UserRating.class)\n                .block();\n\n    }\n}\n</code></pre>\n<p>Project pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.daren.tutorial.movie&lt;/groupId&gt;\n    &lt;artifactId&gt;catalog&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;catalog&lt;/name&gt;\n    &lt;description&gt;Movie catalog&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I got the folowing error:</p>\n<pre><code>    2020-11-15 10:40:15.359 ERROR 7175 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [8776f4a6-1]  500 Server Error for HTTP GET &quot;/rating/15&quot;\n\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-2\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.0.jar:3.4.0]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ HTTP GET &quot;/rating/15&quot; [ExceptionHandlingWebHandler]\nStack trace:\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Mono.block(Mono.java:1679) ~[reactor-core-3.4.0.jar:3.4.0]\n        at com.daren.tutorial.movie.catalog.resources.Controller.getUserRating(Controller.java:39) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146) ~[spring-webflux-5.3.1.jar:5.3.1]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1784) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:99) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2346) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2154) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2028) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:191) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:3972) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:154) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:281) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:860) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2346) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:169) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2154) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2028) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:3987) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:448) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:218) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:3987) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.drain(MonoIgnoreThen.java:173) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:56) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.0.jar:3.4.0]\n        at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:611) ~[reactor-netty-http-1.0.1.jar:1.0.1]\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:612) ~[reactor-netty-core-1.0.1.jar:1.0.1]\n        at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:453) ~[reactor-netty-core-1.0.1.jar:1.0.1]\n        at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:510) ~[reactor-netty-http-1.0.1.jar:1.0.1]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94) ~[reactor-netty-core-1.0.1.jar:1.0.1]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:185) ~[reactor-netty-http-1.0.1.jar:1.0.1]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:4.1.54.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.54.Final.jar:4.1.54.Final]\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n</code></pre>\n<p>Using the commented line - the one with the <code>RestTemplate</code> object - the app works correctly.\nDo I have to use deprecated <code>RestTemplate</code> to make synchronous rest call?</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1690077162,"post_id":76746331,"comment_id":135302406,"body_markdown":"*subPaneles[row][column].setBackground(new Color(0,0,0,0));* - don&#39;t use a transparent background. Instead use the `setOpaque(false)` method on the component. If you need semi-transparency then check out: [Background With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/)","body":"<i>subPaneles[row][column].setBackground(new Color(0,0,0,0));</i> - don&#39;t use a transparent background. Instead use the <code>setOpaque(false)</code> method on the component. If you need semi-transparency then check out: <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Background With Transparency</a>"},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690274644,"post_id":76746331,"comment_id":135326828,"body_markdown":"You should make the container JFrame visible only at the end, i.e. after all the components are added. I see that you call creacionJFrame(); at the beginning that creates the frame and also calls setSize and setVisible. Try moving setVisible out of it and call it at the end. For example, it should be the last line in //Fin del constructor","body":"You should make the container JFrame visible only at the end, i.e. after all the components are added. I see that you call creacionJFrame(); at the beginning that creates the frame and also calls setSize and setVisible. Try moving setVisible out of it and call it at the end. For example, it should be the last line in //Fin del constructor"},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690274901,"post_id":76746331,"comment_id":135326890,"body_markdown":"For your 2nd problem where the UI gets messed up once you click on a button: I am not sure but it could be because you perform the operations in a separate Thread. Swing expects all UI operations to be performed in one thread i.e. the UI Thread itself and you should perform your UI actions in the same. \nTry avoiding the new thread altogether and see if it works. You may call the run() method directly by calling temp.run(); instead of temp.start();","body":"For your 2nd problem where the UI gets messed up once you click on a button: I am not sure but it could be because you perform the operations in a separate Thread. Swing expects all UI operations to be performed in one thread i.e. the UI Thread itself and you should perform your UI actions in the same.  Try avoiding the new thread altogether and see if it works. You may call the run() method directly by calling temp.run(); instead of temp.start();"}],"answers":[{"tags":[],"owner":{"account_id":6184830,"reputation":11,"user_id":17621044,"display_name":"tans flou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690077490,"creation_date":1690077490,"answer_id":76746405,"question_id":76746331,"body_markdown":"I faced this problem too\r\n\r\nsolution:\r\nset opaque of panels to false\r\n\r\ninside creacionSubPaneles method add this line\r\n    \r\n        subPaneles[row][column].setOpaque(false);\r\n\r\nand inside creacionSubSubPaneles method add this line\r\n    \r\n        subSubPaneles[row][column].setOpaque(false);","title":"Problem with Java GUI. Why does it show duplicated components at the beggining and when the size is changed by the user it shows how the GUI should be","body":"<p>I faced this problem too</p>\n<p>solution:\nset opaque of panels to false</p>\n<p>inside creacionSubPaneles method add this line</p>\n<pre><code>    subPaneles[row][column].setOpaque(false);\n</code></pre>\n<p>and inside creacionSubSubPaneles method add this line</p>\n<pre><code>    subSubPaneles[row][column].setOpaque(false);\n</code></pre>\n"}],"owner":{"account_id":29071740,"reputation":1,"user_id":22269900,"display_name":"ConDuda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690077490,"creation_date":1690075174,"question_id":76746331,"body_markdown":"I&#39;ve been creating a JAVA GUI for create a project, that includes a timer and some other features, using swing and AWT. When I compile the project, it compiles, but the GUI doesn&#39;t seem right because some components are shown duplicated on some random places.[  \r\nWeird GUI](https://i.stack.imgur.com/JKqx8.png)\r\n\r\nBut when the user changes the size, it shows how it should be. I couldn&#39;t figure out what was the error in the code.[  \r\nGUI showing how it should be](https://i.stack.imgur.com/FaDWM.png)\r\n\r\nAlso, when I press a button that starts the timer, the GUI starts working bad again.\r\n\r\n[When I press a button, it work strange again](https://i.stack.imgur.com/diBga.png)\r\n\r\nI&#39;ve tried looking for someone with the same problem on internet, but I couldn&#39;t find nothing. Also I tried to understand why it is happening, but I can&#39;t it. And I try to change some code, but it didn&#39;t seem working.\r\n\r\nThe code for the project is:\r\n\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Set;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JProgressBar;\r\nimport javax.swing.JTextArea;\r\n\r\npublic class MainFrame implements ActionListener\r\n{\r\n    \r\n    \r\n    //Variables\r\n    \r\n    Temporizador temp = new Temporizador(10);\r\n    int cronometroCreado = 0;\r\n   private JFrame frame;\r\n   private JPanel paneles[];\r\n   private JPanel subPaneles[][] = new JPanel[2][3];;\r\n   final private int filas[] = {1, 1, 1};\r\n   final private int columnas[] = {1, 3, 3};\r\n   private JLabel titulos[] = new JLabel[7];\r\n   private static JProgressBar barraProgreso;\r\n   private JPanel subSubPaneles[][] = new JPanel[2][3];\r\n   private String titulosNombre[] = {&quot;TO-DO&quot;, &quot;Tareas&quot;, &quot;Cronometro&quot;, &quot;Tiempo&quot;, &quot;Calendario&quot;, &quot;M&#250;sica&quot;, &quot;Trabajado&quot;};\r\n   private Font fuentes[] = {new Font(&quot;Papyrus&quot;,Font.BOLD  , 50), new Font(&quot;Scheherazade&quot;, Font.BOLD    , 20)};\r\n   private Color colores[] = {new Color(227, 244, 244), new Color(248, 246, 244), new Color(210, 233, 233), new Color(196, 223, 223), };\r\n   private Color coloresGris[] = {new Color(237, 225, 239), new Color(232, 217  , 226)};\r\n\r\n   //Variables de tareas\r\n   private JTextArea tareas;\r\n   private JButton tareasBoton;\r\n   \r\n   //Variables de cronometro\r\n   static private JLabel cronometro;\r\n   private JPanel cronometroPanel;\r\n   private JButton cronometroBoton[] = new JButton[2];\r\n   \r\n   //Variables de tiempo\r\n   private JLabel tiempo[]; //Esta tiene que ser una clase que tenga un wheel moved listener, asi que teoricamente no ser&#237;a tan asi\r\n   \r\n   //Variables de calendario\r\n   private JButton calendario;\r\n   \r\n   //Variables de musica\r\n   private JLabel musica;\r\n   private JPanel musicaPanel;\r\n   private JButton musicaBoton[];\r\n   \r\n   //Variables de trabajado\r\n   private JLabel trabajado;\r\n   private JButton trabajadoBoton;\r\n   \r\n//Constructor\r\n   public MainFrame()\r\n   {\r\n       frame = creacionJFrame();\r\n       paneles = new JPanel[3];\r\n       \r\n       //Se crean los titulos\r\n       for(int i = 0, bool = 0; i &lt; 7; i++, bool++)\r\n      {\r\n          titulos[i] = creacionTitulos(i, bool);\r\n      }\r\n       titulos[0].setFont(fuentes[0]);\r\n       //Se crean los subSubPaneles\r\n       \r\n       for(int i = 0; i &lt; 2; i++)\r\n       {\r\n           for(int k = 0; k &lt; 3; k++)\r\n           {\r\n               subSubPaneles[i][k] = creacionSubSubPaneles(i, k);\r\n           }\r\n       }\r\n       \r\n       //Se crea las divisiones principales del frame en 3 paneles\r\n       for(int i = 0; i &lt; 3; i++)\r\n       {\r\n           paneles[i] = creacionPaneles(i);\r\n           frame.add(paneles[i]);\r\n       }\r\n       paneles[0].setLayout(new BorderLayout());\r\n       \r\n      paneles[0].add(titulos[0], BorderLayout.NORTH);\r\n       //Se crean las subdivisiones dentro de los paneles\r\n       for(int i = 0, num = 1; i &lt; 2; i++)\r\n       {\r\n           for (int k = 0; k &lt; columnas[i+1]; k++)\r\n           {\r\n               subPaneles[i][k] = creacionSubPaneles(i, k);\r\n               subPaneles[i][k].add(titulos[num], BorderLayout.NORTH);\r\n               subPaneles[i][k].add(subSubPaneles[i][k], BorderLayout.CENTER);\r\n               paneles[i+1].add(subPaneles[i][k]);\r\n               num++;\r\n           }\r\n       }\r\n       paneles[0].add(creacionBarraProgreso(), BorderLayout.CENTER);\r\n       System.out.println(&quot;Hola mundo&quot;);\r\n       \r\n       creacionTareas(0, 0);\r\n       creacionCronometro(0,1);\r\n       creacionTiempo(0, 2);\r\n       creacionCalendario(1, 0);\r\n       creacionMusica(1, 1);\r\n       creacionTrabajado(1, 2);\r\n   } //Fin del constructor\r\n   \r\n   //Este m&#233;todo crea el JFrame dandole sus caracteristicas\r\n   private JFrame creacionJFrame()\r\n   {\r\n       frame = new JFrame(&quot;Hola mundo&quot;);\r\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n       frame.setSize(400, 700);\r\n       frame.setVisible(true);\r\n       frame.setLayout(new GridLayout(3, 1));\r\n       frame.setBackground(new Color(227, 244, 244));\r\n       frame.setMinimumSize(new Dimension(600, 700));\r\n       return frame;\r\n   }\r\n   \r\n   //Este m&#233;todo crea los paneles principales dandole sus caracteristicas\r\n   private JPanel creacionPaneles(int num)\r\n   {\r\n       paneles[num] = new JPanel();\r\n       paneles[num].setLayout(new GridLayout(filas[num], columnas[num]));\r\n       paneles[num].setBackground(colores[0]);\r\n       return paneles[num];\r\n   }\r\n   \r\n   //Este m&#233;todo crea las subdivisiones de los paneles principales\r\n   private JPanel creacionSubPaneles(int row, int column)\r\n   {\r\n       subPaneles[row][column] = new JPanel();\r\n       subPaneles[row][column].setLayout(new BorderLayout());\r\n       subPaneles[row][column].setBackground(new Color(0,0,0,0));\r\n       return subPaneles[row][column];\r\n   }\r\n   \r\n   //Este metodo crea paneles que estar&#225;n dentro de paneles que dividen a los otros paneles. Estan debajo de los titulos de cada &quot;tema&quot;\r\n   private JPanel creacionSubSubPaneles(int row, int column)\r\n   {\r\n       subSubPaneles[row][column] = new JPanel();\r\n       subSubPaneles[row][column].setLayout(new GridLayout());\r\n       subSubPaneles[row][column].setBackground(new Color(0,0,0,0));\r\n       return subSubPaneles[row][column];\r\n   }\r\n   \r\n   private JProgressBar creacionBarraProgreso()\r\n   {\r\n       barraProgreso = new JProgressBar(0, 1000);\r\n       barraProgreso.setValue(1000);\r\n       barraProgreso.setStringPainted(true);\r\n       barraProgreso.setBorder(BorderFactory.createEmptyBorder(40,40,40, 40));\r\n       barraProgreso.setBackground(colores[0]);\r\n       barraProgreso.setOpaque(true);\r\n       return barraProgreso;\r\n   }\r\n   \r\n   //Este m&#233;todo crea los titulos de los paneles dandole sus respectivos nombres y formatos\r\n   private JLabel creacionTitulos(int num, int bool)\r\n   {\r\n       titulos[num] = new JLabel();\r\n       titulos[num].setText(titulosNombre[num]);\r\n       titulos[num].setVisible(true);\r\n       titulos[num].setFont(fuentes[1]);\r\n       titulos[num].setHorizontalAlignment(JLabel.CENTER);\r\n       titulos[num].setVerticalAlignment(JLabel.BOTTOM);\r\n       if (bool % 2 ==  0)\r\n       {\r\n           titulos[num].setBackground(coloresGris[0]);\r\n       }\r\n       else{\r\n          titulos[num].setBackground(coloresGris[1]);\r\n       }\r\n       if(num == 0) {titulos[num].setBackground(new Color(0,0,0,0));}\r\n       titulos[num].setOpaque(true);\r\n       return titulos[num];\r\n   }\r\n   \r\n   private void creacionTareas(int row, int column)\r\n   {\r\n       tareas = new JTextArea();\r\n       tareas.setEditable(false);\r\n       tareas.setBackground(colores[1]);\r\n       tareas.setFocusable(false);\r\n\r\n       agregarLinea(&quot;Tareas para realizar&quot;, tareas);\r\n       agregarLinea(&quot;T -  Hacer la cama&quot;, tareas);\r\n       tareas.setLineWrap(true); //Hace que las lineas se corten y bajen si llegan al border\r\n       tareasBoton = new JButton(&quot;+&quot;);\r\n       tareasBoton.addActionListener(this);\r\n       \r\n       subSubPaneles[row][column].setLayout(new BorderLayout());\r\n       subSubPaneles[row][column].add(tareas, BorderLayout.CENTER);\r\n       subSubPaneles[row][column].add(tareasBoton, BorderLayout.SOUTH);\r\n   }\r\n   \r\n   private void agregarLinea(String texto, JTextArea campo)\r\n   {\r\n       campo.append(&quot;\\n&quot; + texto);\r\n   }\r\n   \r\n   //Se crean todos los componentes dentro de la pantalla de cronometro\r\n   private void creacionCronometro(int row, int column)\r\n   {\r\n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\r\n       \r\n       cronometro = new JLabel(&quot;Tiempo&quot;);\r\n       cronometro.setVerticalAlignment(JLabel.CENTER);\r\n       cronometro.setHorizontalAlignment(JLabel.CENTER);\r\n       cronometroPanel = new JPanel();\r\n       //cronometroPanel.setLayout(new GridLayout(1, 2)); //Reemplazarlo por GridBagLayout que permite mayor control !!!!\r\n       \r\n       for(int i = 0; i &lt; 2; i++)\r\n       {\r\n           cronometroBoton[i] = new JButton(&quot;Boton&quot;);\r\n           cronometroBoton[i].addActionListener(this);\r\n           cronometroPanel.add(cronometroBoton[i]);\r\n       }\r\n       \r\n       cronometroBoton[0].setText(&quot;Pausar&quot;);\r\n       cronometroBoton[1].setText(&quot;Abortar&quot;);\r\n       subSubPaneles[row][column].add(cronometro);\r\n       subSubPaneles[row][column].add(cronometroPanel);\r\n   }\r\n   \r\n   private void creacionTiempo(int row, int column)\r\n   {\r\n       tiempo  = new JLabel[3];\r\n       \r\n       for(int i = 0; i &lt; 3; i++)\r\n       {\r\n           tiempo[i] = new JLabel(&quot;Hola&quot;);\r\n           tiempo[i].setBackground(colores[3]);\r\n           tiempo[i].setOpaque(true);\r\n       }\r\n       \r\n       subSubPaneles[row][column].setLayout(new GridLayout(3, 3));\r\n       \r\n       subSubPaneles[row][column].add(new JLabel());\r\n       subSubPaneles[row][column].add(tiempo[0]);\r\n       subSubPaneles[row][column].add(new JLabel());\r\n       \r\n       subSubPaneles[row][column].add(new JLabel());\r\n       subSubPaneles[row][column].add(tiempo[1]);\r\n       subSubPaneles[row][column].add(new JLabel());\r\n       \r\n       subSubPaneles[row][column].add(new JLabel());\r\n       subSubPaneles[row][column].add(tiempo[2]);\r\n       subSubPaneles[row][column].add(new JLabel());\r\n   }\r\n   \r\n   private void creacionCalendario(int row, int column)\r\n   {\r\n       calendario = new JButton(&quot;Calendario&quot;);\r\n       calendario.addActionListener(this);\r\n       subSubPaneles[row][column].add(calendario);\r\n   }\r\n   \r\n   private void creacionMusica(int row, int column)\r\n   {\r\n       musica = new JLabel(&quot;La m&#250;sica&quot;);\r\n       \r\n       musicaPanel = new JPanel();\r\n       \r\n       musicaBoton = new JButton[2];  \r\n       musicaBoton[0] = new JButton(&quot;Parar&quot;);\r\n       musicaBoton[1]= new JButton(&quot;Pasar&quot;);\r\n       musicaBoton[0].addActionListener(this);\r\n       musicaBoton[1].addActionListener(this);        \r\n       \r\n       musicaPanel.add(musicaBoton[0]);\r\n       musicaPanel.add(musicaBoton[1]);\r\n       \r\n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\r\n       subSubPaneles[row][column].add(musica);\r\n       subSubPaneles[row][column].add(musicaPanel);\r\n   }\r\n   \r\n   private void creacionTrabajado(int row, int column)\r\n   {\r\n       trabajado = new JLabel(&quot;Hoy trabajado: &quot;);\r\n       \r\n       trabajadoBoton = new JButton(&quot;Trabajo&quot;);\r\n       trabajadoBoton.addActionListener(this);\r\n       \r\n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\r\n       subSubPaneles[row][column].add(trabajado);\r\n       subSubPaneles[row][column].add(trabajadoBoton);\r\n   }\r\n   //Setters and getters (static)\r\n    public static void setCronometro(String texto)\r\n    {\r\n        cronometro.setText(&quot;&quot;);\r\n        cronometro.setText(texto);\r\n    }\r\n    \r\n    \r\n    public static void setBarraProgreso(int value)\r\n    {\r\n        barraProgreso.setValue(value);\r\n    }\r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        System.out.println(&quot;Click!&quot;);\r\n        if (e.getSource() == cronometroBoton[0])\r\n        {\r\n            if (cronometroCreado == 0)\r\n            {\r\n                temp.start();\r\n                cronometroCreado = 1;\r\n            }\r\n            else\r\n            {\r\n                if(temp.getSigaCronometro() == true)\r\n                {\r\n                    temp.setSigaCronometro(false);\r\n                }\r\n                else\r\n                {\r\n                    temp.setSigaCronometro(true);\r\n                }\r\n            }\r\n        }\r\n        else if(e.getSource() == cronometroBoton[1])\r\n        {\r\n            temp.setSigaCronometro(false);\r\n            temp.setTiempo(0);\r\n            barraProgreso.setValue(0);\r\n            MainFrame.setCronometro(&quot;Tiempo 0&quot;);\r\n        }\r\n        else if(e.getSource() == musicaBoton[0])\r\n        {\r\n        \r\n        }\r\n        else if(e.getSource() == musicaBoton[1])\r\n        {\r\n        \r\n        }\r\n        else if(e.getSource() == tareasBoton)\r\n        {\r\n        \r\n        }\r\n        else if(e.getSource() == calendario)\r\n        {\r\n        \r\n        }\r\n        else if(e.getSource() == trabajadoBoton)\r\n        {\r\n        \r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the other class is:\r\n\r\n```\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Temporizador extends Thread{\r\n    \r\n    boolean sigaCronometro = true;\r\n    boolean exit = true;\r\n    long tiempo = 0;\r\n    long tiempoTotal;\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\r\n    Date date;\r\n        \r\n        public Temporizador(long tiempoTotal)\r\n        {\r\n            this.exit = true;\r\n            this.tiempo = 0;\r\n            this.tiempoTotal = tiempoTotal;\r\n        }\r\n        //Getters y setters\r\n        public boolean getSigaCronometro()\r\n        {\r\n            return this.sigaCronometro;\r\n        }\r\n        \r\n        public void setSigaCronometro(boolean bool)\r\n        {\r\n            this.sigaCronometro = bool;\r\n        }\r\n        \r\n        public boolean getExit()\r\n        {\r\n            return this.exit;\r\n        }\r\n        \r\n        public void setExit(boolean bool)\r\n        {\r\n            this.exit = bool;\r\n        }\r\n        \r\n        public long getTiempo()\r\n        {\r\n            return this.tiempo;\r\n        }\r\n        \r\n        public void setTiempo(long num)\r\n        {\r\n            this.tiempo = num;\r\n        }\r\n        \r\n        private int CalcularPorCiento(long tiempoTranscurrido, long tiempoTotal)\r\n        {\r\n                float porcentaje  =(float)tiempo/(float)tiempoTotal*100;\r\n                System.out.println(&quot;El tiempo transcurrido es: &quot; + tiempo);\r\n                System.out.println(&quot;El porcentaje que representa es &quot; + porcentaje + &quot; del tiempo&quot; + tiempoTotal);\r\n                return (int)porcentaje*10;\r\n        }\r\n        \r\n    public void  run()\r\n    {\r\n        while(exit == true)\r\n            {\r\n                System.out.println(tiempo);\r\n                while (sigaCronometro)\r\n                {\r\n                   date = Calendar.getInstance().getTime();\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(Temporizador.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                    if (sigaCronometro == true)\r\n                    {\r\n                    tiempo+= 1;\r\n                    }\r\n                    if(tiempoTotal &lt;= tiempo)\r\n                    {\r\n                        sigaCronometro = false;\r\n                    }\r\n                    System.out.println(tiempo);\r\n                    MainFrame.setCronometro(&quot;Tiempo &quot; + String.valueOf(tiempo));\r\n                    MainFrame.setBarraProgreso(CalcularPorCiento(tiempo, tiempoTotal));\r\n            }\r\n            }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThank you very much for the help.\r\n","title":"Problem with Java GUI. Why does it show duplicated components at the beggining and when the size is changed by the user it shows how the GUI should be","body":"<p>I've been creating a JAVA GUI for create a project, that includes a timer and some other features, using swing and AWT. When I compile the project, it compiles, but the GUI doesn't seem right because some components are shown duplicated on some random places.<a href=\"https://i.stack.imgur.com/JKqx8.png\" rel=\"nofollow noreferrer\"><br />\nWeird GUI</a></p>\n<p>But when the user changes the size, it shows how it should be. I couldn't figure out what was the error in the code.<a href=\"https://i.stack.imgur.com/FaDWM.png\" rel=\"nofollow noreferrer\"><br />\nGUI showing how it should be</a></p>\n<p>Also, when I press a button that starts the timer, the GUI starts working bad again.</p>\n<p><a href=\"https://i.stack.imgur.com/diBga.png\" rel=\"nofollow noreferrer\">When I press a button, it work strange again</a></p>\n<p>I've tried looking for someone with the same problem on internet, but I couldn't find nothing. Also I tried to understand why it is happening, but I can't it. And I try to change some code, but it didn't seem working.</p>\n<p>The code for the project is:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Set;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.JTextArea;\n\npublic class MainFrame implements ActionListener\n{\n    \n    \n    //Variables\n    \n    Temporizador temp = new Temporizador(10);\n    int cronometroCreado = 0;\n   private JFrame frame;\n   private JPanel paneles[];\n   private JPanel subPaneles[][] = new JPanel[2][3];;\n   final private int filas[] = {1, 1, 1};\n   final private int columnas[] = {1, 3, 3};\n   private JLabel titulos[] = new JLabel[7];\n   private static JProgressBar barraProgreso;\n   private JPanel subSubPaneles[][] = new JPanel[2][3];\n   private String titulosNombre[] = {&quot;TO-DO&quot;, &quot;Tareas&quot;, &quot;Cronometro&quot;, &quot;Tiempo&quot;, &quot;Calendario&quot;, &quot;Música&quot;, &quot;Trabajado&quot;};\n   private Font fuentes[] = {new Font(&quot;Papyrus&quot;,Font.BOLD  , 50), new Font(&quot;Scheherazade&quot;, Font.BOLD    , 20)};\n   private Color colores[] = {new Color(227, 244, 244), new Color(248, 246, 244), new Color(210, 233, 233), new Color(196, 223, 223), };\n   private Color coloresGris[] = {new Color(237, 225, 239), new Color(232, 217  , 226)};\n\n   //Variables de tareas\n   private JTextArea tareas;\n   private JButton tareasBoton;\n   \n   //Variables de cronometro\n   static private JLabel cronometro;\n   private JPanel cronometroPanel;\n   private JButton cronometroBoton[] = new JButton[2];\n   \n   //Variables de tiempo\n   private JLabel tiempo[]; //Esta tiene que ser una clase que tenga un wheel moved listener, asi que teoricamente no sería tan asi\n   \n   //Variables de calendario\n   private JButton calendario;\n   \n   //Variables de musica\n   private JLabel musica;\n   private JPanel musicaPanel;\n   private JButton musicaBoton[];\n   \n   //Variables de trabajado\n   private JLabel trabajado;\n   private JButton trabajadoBoton;\n   \n//Constructor\n   public MainFrame()\n   {\n       frame = creacionJFrame();\n       paneles = new JPanel[3];\n       \n       //Se crean los titulos\n       for(int i = 0, bool = 0; i &lt; 7; i++, bool++)\n      {\n          titulos[i] = creacionTitulos(i, bool);\n      }\n       titulos[0].setFont(fuentes[0]);\n       //Se crean los subSubPaneles\n       \n       for(int i = 0; i &lt; 2; i++)\n       {\n           for(int k = 0; k &lt; 3; k++)\n           {\n               subSubPaneles[i][k] = creacionSubSubPaneles(i, k);\n           }\n       }\n       \n       //Se crea las divisiones principales del frame en 3 paneles\n       for(int i = 0; i &lt; 3; i++)\n       {\n           paneles[i] = creacionPaneles(i);\n           frame.add(paneles[i]);\n       }\n       paneles[0].setLayout(new BorderLayout());\n       \n      paneles[0].add(titulos[0], BorderLayout.NORTH);\n       //Se crean las subdivisiones dentro de los paneles\n       for(int i = 0, num = 1; i &lt; 2; i++)\n       {\n           for (int k = 0; k &lt; columnas[i+1]; k++)\n           {\n               subPaneles[i][k] = creacionSubPaneles(i, k);\n               subPaneles[i][k].add(titulos[num], BorderLayout.NORTH);\n               subPaneles[i][k].add(subSubPaneles[i][k], BorderLayout.CENTER);\n               paneles[i+1].add(subPaneles[i][k]);\n               num++;\n           }\n       }\n       paneles[0].add(creacionBarraProgreso(), BorderLayout.CENTER);\n       System.out.println(&quot;Hola mundo&quot;);\n       \n       creacionTareas(0, 0);\n       creacionCronometro(0,1);\n       creacionTiempo(0, 2);\n       creacionCalendario(1, 0);\n       creacionMusica(1, 1);\n       creacionTrabajado(1, 2);\n   } //Fin del constructor\n   \n   //Este método crea el JFrame dandole sus caracteristicas\n   private JFrame creacionJFrame()\n   {\n       frame = new JFrame(&quot;Hola mundo&quot;);\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       frame.setSize(400, 700);\n       frame.setVisible(true);\n       frame.setLayout(new GridLayout(3, 1));\n       frame.setBackground(new Color(227, 244, 244));\n       frame.setMinimumSize(new Dimension(600, 700));\n       return frame;\n   }\n   \n   //Este método crea los paneles principales dandole sus caracteristicas\n   private JPanel creacionPaneles(int num)\n   {\n       paneles[num] = new JPanel();\n       paneles[num].setLayout(new GridLayout(filas[num], columnas[num]));\n       paneles[num].setBackground(colores[0]);\n       return paneles[num];\n   }\n   \n   //Este método crea las subdivisiones de los paneles principales\n   private JPanel creacionSubPaneles(int row, int column)\n   {\n       subPaneles[row][column] = new JPanel();\n       subPaneles[row][column].setLayout(new BorderLayout());\n       subPaneles[row][column].setBackground(new Color(0,0,0,0));\n       return subPaneles[row][column];\n   }\n   \n   //Este metodo crea paneles que estarán dentro de paneles que dividen a los otros paneles. Estan debajo de los titulos de cada &quot;tema&quot;\n   private JPanel creacionSubSubPaneles(int row, int column)\n   {\n       subSubPaneles[row][column] = new JPanel();\n       subSubPaneles[row][column].setLayout(new GridLayout());\n       subSubPaneles[row][column].setBackground(new Color(0,0,0,0));\n       return subSubPaneles[row][column];\n   }\n   \n   private JProgressBar creacionBarraProgreso()\n   {\n       barraProgreso = new JProgressBar(0, 1000);\n       barraProgreso.setValue(1000);\n       barraProgreso.setStringPainted(true);\n       barraProgreso.setBorder(BorderFactory.createEmptyBorder(40,40,40, 40));\n       barraProgreso.setBackground(colores[0]);\n       barraProgreso.setOpaque(true);\n       return barraProgreso;\n   }\n   \n   //Este método crea los titulos de los paneles dandole sus respectivos nombres y formatos\n   private JLabel creacionTitulos(int num, int bool)\n   {\n       titulos[num] = new JLabel();\n       titulos[num].setText(titulosNombre[num]);\n       titulos[num].setVisible(true);\n       titulos[num].setFont(fuentes[1]);\n       titulos[num].setHorizontalAlignment(JLabel.CENTER);\n       titulos[num].setVerticalAlignment(JLabel.BOTTOM);\n       if (bool % 2 ==  0)\n       {\n           titulos[num].setBackground(coloresGris[0]);\n       }\n       else{\n          titulos[num].setBackground(coloresGris[1]);\n       }\n       if(num == 0) {titulos[num].setBackground(new Color(0,0,0,0));}\n       titulos[num].setOpaque(true);\n       return titulos[num];\n   }\n   \n   private void creacionTareas(int row, int column)\n   {\n       tareas = new JTextArea();\n       tareas.setEditable(false);\n       tareas.setBackground(colores[1]);\n       tareas.setFocusable(false);\n\n       agregarLinea(&quot;Tareas para realizar&quot;, tareas);\n       agregarLinea(&quot;T -  Hacer la cama&quot;, tareas);\n       tareas.setLineWrap(true); //Hace que las lineas se corten y bajen si llegan al border\n       tareasBoton = new JButton(&quot;+&quot;);\n       tareasBoton.addActionListener(this);\n       \n       subSubPaneles[row][column].setLayout(new BorderLayout());\n       subSubPaneles[row][column].add(tareas, BorderLayout.CENTER);\n       subSubPaneles[row][column].add(tareasBoton, BorderLayout.SOUTH);\n   }\n   \n   private void agregarLinea(String texto, JTextArea campo)\n   {\n       campo.append(&quot;\\n&quot; + texto);\n   }\n   \n   //Se crean todos los componentes dentro de la pantalla de cronometro\n   private void creacionCronometro(int row, int column)\n   {\n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\n       \n       cronometro = new JLabel(&quot;Tiempo&quot;);\n       cronometro.setVerticalAlignment(JLabel.CENTER);\n       cronometro.setHorizontalAlignment(JLabel.CENTER);\n       cronometroPanel = new JPanel();\n       //cronometroPanel.setLayout(new GridLayout(1, 2)); //Reemplazarlo por GridBagLayout que permite mayor control !!!!\n       \n       for(int i = 0; i &lt; 2; i++)\n       {\n           cronometroBoton[i] = new JButton(&quot;Boton&quot;);\n           cronometroBoton[i].addActionListener(this);\n           cronometroPanel.add(cronometroBoton[i]);\n       }\n       \n       cronometroBoton[0].setText(&quot;Pausar&quot;);\n       cronometroBoton[1].setText(&quot;Abortar&quot;);\n       subSubPaneles[row][column].add(cronometro);\n       subSubPaneles[row][column].add(cronometroPanel);\n   }\n   \n   private void creacionTiempo(int row, int column)\n   {\n       tiempo  = new JLabel[3];\n       \n       for(int i = 0; i &lt; 3; i++)\n       {\n           tiempo[i] = new JLabel(&quot;Hola&quot;);\n           tiempo[i].setBackground(colores[3]);\n           tiempo[i].setOpaque(true);\n       }\n       \n       subSubPaneles[row][column].setLayout(new GridLayout(3, 3));\n       \n       subSubPaneles[row][column].add(new JLabel());\n       subSubPaneles[row][column].add(tiempo[0]);\n       subSubPaneles[row][column].add(new JLabel());\n       \n       subSubPaneles[row][column].add(new JLabel());\n       subSubPaneles[row][column].add(tiempo[1]);\n       subSubPaneles[row][column].add(new JLabel());\n       \n       subSubPaneles[row][column].add(new JLabel());\n       subSubPaneles[row][column].add(tiempo[2]);\n       subSubPaneles[row][column].add(new JLabel());\n   }\n   \n   private void creacionCalendario(int row, int column)\n   {\n       calendario = new JButton(&quot;Calendario&quot;);\n       calendario.addActionListener(this);\n       subSubPaneles[row][column].add(calendario);\n   }\n   \n   private void creacionMusica(int row, int column)\n   {\n       musica = new JLabel(&quot;La música&quot;);\n       \n       musicaPanel = new JPanel();\n       \n       musicaBoton = new JButton[2];  \n       musicaBoton[0] = new JButton(&quot;Parar&quot;);\n       musicaBoton[1]= new JButton(&quot;Pasar&quot;);\n       musicaBoton[0].addActionListener(this);\n       musicaBoton[1].addActionListener(this);        \n       \n       musicaPanel.add(musicaBoton[0]);\n       musicaPanel.add(musicaBoton[1]);\n       \n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\n       subSubPaneles[row][column].add(musica);\n       subSubPaneles[row][column].add(musicaPanel);\n   }\n   \n   private void creacionTrabajado(int row, int column)\n   {\n       trabajado = new JLabel(&quot;Hoy trabajado: &quot;);\n       \n       trabajadoBoton = new JButton(&quot;Trabajo&quot;);\n       trabajadoBoton.addActionListener(this);\n       \n       subSubPaneles[row][column].setLayout(new GridLayout(2, 1));\n       subSubPaneles[row][column].add(trabajado);\n       subSubPaneles[row][column].add(trabajadoBoton);\n   }\n   //Setters and getters (static)\n    public static void setCronometro(String texto)\n    {\n        cronometro.setText(&quot;&quot;);\n        cronometro.setText(texto);\n    }\n    \n    \n    public static void setBarraProgreso(int value)\n    {\n        barraProgreso.setValue(value);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(&quot;Click!&quot;);\n        if (e.getSource() == cronometroBoton[0])\n        {\n            if (cronometroCreado == 0)\n            {\n                temp.start();\n                cronometroCreado = 1;\n            }\n            else\n            {\n                if(temp.getSigaCronometro() == true)\n                {\n                    temp.setSigaCronometro(false);\n                }\n                else\n                {\n                    temp.setSigaCronometro(true);\n                }\n            }\n        }\n        else if(e.getSource() == cronometroBoton[1])\n        {\n            temp.setSigaCronometro(false);\n            temp.setTiempo(0);\n            barraProgreso.setValue(0);\n            MainFrame.setCronometro(&quot;Tiempo 0&quot;);\n        }\n        else if(e.getSource() == musicaBoton[0])\n        {\n        \n        }\n        else if(e.getSource() == musicaBoton[1])\n        {\n        \n        }\n        else if(e.getSource() == tareasBoton)\n        {\n        \n        }\n        else if(e.getSource() == calendario)\n        {\n        \n        }\n        else if(e.getSource() == trabajadoBoton)\n        {\n        \n        }\n    }\n}\n\n</code></pre>\n<p>And the other class is:</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Temporizador extends Thread{\n    \n    boolean sigaCronometro = true;\n    boolean exit = true;\n    long tiempo = 0;\n    long tiempoTotal;\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\n    Date date;\n        \n        public Temporizador(long tiempoTotal)\n        {\n            this.exit = true;\n            this.tiempo = 0;\n            this.tiempoTotal = tiempoTotal;\n        }\n        //Getters y setters\n        public boolean getSigaCronometro()\n        {\n            return this.sigaCronometro;\n        }\n        \n        public void setSigaCronometro(boolean bool)\n        {\n            this.sigaCronometro = bool;\n        }\n        \n        public boolean getExit()\n        {\n            return this.exit;\n        }\n        \n        public void setExit(boolean bool)\n        {\n            this.exit = bool;\n        }\n        \n        public long getTiempo()\n        {\n            return this.tiempo;\n        }\n        \n        public void setTiempo(long num)\n        {\n            this.tiempo = num;\n        }\n        \n        private int CalcularPorCiento(long tiempoTranscurrido, long tiempoTotal)\n        {\n                float porcentaje  =(float)tiempo/(float)tiempoTotal*100;\n                System.out.println(&quot;El tiempo transcurrido es: &quot; + tiempo);\n                System.out.println(&quot;El porcentaje que representa es &quot; + porcentaje + &quot; del tiempo&quot; + tiempoTotal);\n                return (int)porcentaje*10;\n        }\n        \n    public void  run()\n    {\n        while(exit == true)\n            {\n                System.out.println(tiempo);\n                while (sigaCronometro)\n                {\n                   date = Calendar.getInstance().getTime();\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException ex) {\n                        Logger.getLogger(Temporizador.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                    if (sigaCronometro == true)\n                    {\n                    tiempo+= 1;\n                    }\n                    if(tiempoTotal &lt;= tiempo)\n                    {\n                        sigaCronometro = false;\n                    }\n                    System.out.println(tiempo);\n                    MainFrame.setCronometro(&quot;Tiempo &quot; + String.valueOf(tiempo));\n                    MainFrame.setBarraProgreso(CalcularPorCiento(tiempo, tiempoTotal));\n            }\n            }\n    }\n}\n\n</code></pre>\n<p>Thank you very much for the help.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":8733443,"reputation":2180,"user_id":6532771,"accept_rate":100,"display_name":"Ivan Lymar"},"score":0,"creation_date":1573138927,"post_id":58750918,"comment_id":103791093,"body_markdown":"do you have a link where it&#39;s stated: &quot;switch from RestTemplate to WebClient&quot;?","body":"do you have a link where it&#39;s stated: &quot;switch from RestTemplate to WebClient&quot;?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":3,"creation_date":1573140504,"post_id":58750918,"comment_id":103792007,"body_markdown":"@Ivan Lymar, sure: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","body":"@Ivan Lymar, sure: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1671258284,"post_id":58750918,"comment_id":132065270,"body_markdown":"&quot;As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the `org.springframework.web.reactive.client.WebClient` which has a more modern API and supports sync, async, and streaming scenarios.&quot;","body":"&quot;As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the <code>org.springframework.web.reactive.client.WebClient</code> which has a more modern API and supports sync, async, and streaming scenarios.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":2,"up_vote_count":30,"is_accepted":true,"score":28,"last_activity_date":1672127944,"creation_date":1573137574,"answer_id":58751099,"question_id":58750918,"body_markdown":"UPDATE\r\n-\r\n\r\nIn a new library version please use:\r\n\r\n    webClient.post()\r\n             .bodyValue(myDto)\r\n             .retrieve()\r\n             .toEntity(MyDto.class)\r\n             .toFuture()\r\n             .get();\r\n\r\nOld answer (for old version of library)\r\n-\r\n\r\nIt works:\r\n\r\n    webClient.post()\r\n             .bodyValue(myDto)\r\n             .retrieve()\r\n             .toEntity(MyDto.class)\r\n             .block(); // &lt;-- This line makes trick","title":"How to use WebClient to execute synchronous request?","body":"<h2>UPDATE</h2>\n<p>In a new library version please use:</p>\n<pre><code>webClient.post()\n         .bodyValue(myDto)\n         .retrieve()\n         .toEntity(MyDto.class)\n         .toFuture()\n         .get();\n</code></pre>\n<h2>Old answer (for old version of library)</h2>\n<p>It works:</p>\n<pre><code>webClient.post()\n         .bodyValue(myDto)\n         .retrieve()\n         .toEntity(MyDto.class)\n         .block(); // &lt;-- This line makes trick\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676755408,"creation_date":1676648606,"answer_id":75486407,"question_id":58750918,"body_markdown":"\r\n**TL;DR**\r\n\r\n- The correct way to use `WebClient` in a non-reactive application is to use `block()`. For example, as a replacement for `RestTemplate`. `block()` is a blocking operation in reactive terms but there is no issue to use it in a non-reactive flow. \r\n- You should **never block** `WebClient` in the reactive application. It will block one of the few threads and could cause serious issues. \r\n- **Don&#39;t** use `.toFuture().get()` in the reactive application because it could block the thread forever and application could hang.\r\n\r\n\r\n```\r\nMono&lt;ResponseEntity&lt;PdResponseDto&gt;&gt; responseEntityMono = webClient.post()\r\n    .bodyValue(myDto)\r\n    .retrieve()\r\n    .toEntity(PdResponseDto.class)\r\n    .block();\r\n```\r\n\r\nHere is more detailed explanation of possible scenarios and possible issues like error `java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-X`.\r\n\r\n\r\nUsing `WebClient` in a Spring MVC (SERVLET) application\r\n-\r\n\r\nConsider simple `RestController as\r\n\r\n```\r\n@GetMapping(path = &quot;test&quot;)\r\npublic String test() {\r\n    log.info(&quot;START&quot;);\r\n\r\n    var res = webClient.get()\r\n            .uri(&quot;http://www.google.com&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();\r\n\r\n    log.info(&quot;END&quot;);\r\n\r\n    return res;\r\n}\r\n```\r\nLooking at logs we will see that execution starts in `http-nio-auto-1-exec-1` thread, then `WebClient` switches to internal reactive thread pool `reactor-http-nio-3` and `block` returns execution to `http-nio-auto-1-exec-1`\r\n\r\n```\r\n00:17:26.637  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - START\r\n00:17:26.647  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - Request: GET http://www.google.com\r\n00:17:26.831  [reactor-http-nio-3]     INFO [c.e.d.TestController] - Response Status: 200 OK\r\n00:17:26.856  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - END\r\n```\r\n\r\nAs explained in the [Spring Reference Documentation about Web Environments](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment) adding both \r\n - `org.springframework.boot:spring-boot-starter-web`  \r\n - `org.springframework.boot:spring-boot-starter-webflux`\r\n \r\ndependencies will configure Spring MVC application and initialize `WebApplicationType` to `SERVLET`. \r\n\r\nUsing `WebClient` in a Spring WebFlux (REACTIVE) application\r\n-\r\n\r\n**`WebClient` should not be blocked in a reactive application**. The only reason I could think about is a period when application is migrated to reactive stack and not all code was refactored.\r\n\r\nIf we remove `org.springframework.boot:spring-boot-starter-web` dependency or set `WebApplicationType` to `REACTIVE`, Spring WebFlux is initialized.  \r\n\r\nThe previous code will start throwing exception \r\n`java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-X\r\n`\r\n\r\nIt happens because Spring WebFlux uses small number of threads to handle all requests and blocking these threads could cause serious performance issues. Therefor `block()` has an internal logic to warn us about this issue.\r\n\r\nLooking at logs we will see that request starts in [reactor-http-nio-4] that is part of the non-blocking thread pool (Scheduler). \r\n\r\n```\r\n00:45:38.857  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\r\n00:45:38.863  [reactor-http-nio-4] INFO [c.e.d.TestController] - Request: GET http://www.google.com\r\n00:45:38.881  [reactor-http-nio-4] ERROR [o.s.b.a.w.r.e.AbstractErrorWebExceptionHandler] - [fbe6f35d-1]  500 Server Error for HTTP GET &quot;/get&quot;\r\n```\r\n\r\nSome people suggested `toFuture().get()` but it is technically the same as `block()`. It will not result in exception `block()/blockFirst()/blockLast() are blocking, which is not supported in thread ...` because it&#39;s out of Reactor API control but problem is still the same because this operation is blocking and you just hide the issue. In some cases it could even block the app.\r\n\r\n\r\n**What is the right way to solve this problem?**\r\n\r\n**Option 1** (preferred)\r\n\r\nRefactor code to reactive and return `Mono` or `Flux` from controller\r\n\r\n```\r\n@GetMapping(path = &quot;get&quot;)\r\npublic Mono&lt;String&gt; get() {\r\n    return webClient.get()\r\n            .uri(&quot;http://www.google.com&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .doOnSubscribe(s -&gt; log.info(&quot;START&quot;))\r\n            .doOnNext(res -&gt; log.info(&quot;END&quot;));\r\n}\r\n```\r\n\r\nIn this case the whole flow is reactive and running on non-blocking `reactor-http-nio-4`\r\n```\r\n01:21:39.275  [reactor-http-nio-4] INFO [c.e.d.TestController] - Request: GET http://www.google.com\r\n01:21:39.277  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\r\n01:21:39.431  [reactor-http-nio-4] INFO [c.e.d.TestController] - Response Status: 200 OK\r\n01:21:39.454  [reactor-http-nio-4] INFO [c.e.d.TestController] - END\r\n```\r\n\r\n\r\n**Option 2** (temporary)\r\n\r\nAs a temporary solution we can consider wrapping blocking code into `Runnable` or `Callable` and schedule on a separate `Scheduler`. Check [How Do I Wrap a Synchronous, Blocking Call?](https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking) for details. \r\n\r\n```\r\n@GetMapping(path = &quot;get&quot;)\r\npublic Mono&lt;String&gt; get() {\r\n    return Mono.fromCallable(() -&gt; {\r\n            var res = webClient.get()\r\n                    .uri(&quot;http://www.google.com&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();\r\n    \r\n            log.info(&quot;END&quot;);\r\n    \r\n            return res;\r\n        })\r\n        .subscribeOn(Schedulers.boundedElastic())\r\n        .doOnSubscribe(s -&gt; log.info(&quot;START&quot;));\r\n}\r\n```\r\n\r\nRequest starts on non-blocking `reactor-http-nio-4` but then switched to `boundedElastic-1` that allows to execute blocking code. \r\n\r\n```\r\n01:17:48.930  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\r\n01:17:48.941  [boundedElastic-1] INFO [c.e.d.TestController] - Request: GET http://www.google.com\r\n01:17:49.102  [reactor-http-nio-5] INFO [c.e.d.TestController] - Response Status: 200 OK\r\n01:17:49.125  [boundedElastic-1] INFO [c.e.d.TestController] - END\r\n```","title":"How to use WebClient to execute synchronous request?","body":"<p><strong>TL;DR</strong></p>\n<ul>\n<li>The correct way to use <code>WebClient</code> in a non-reactive application is to use <code>block()</code>. For example, as a replacement for <code>RestTemplate</code>. <code>block()</code> is a blocking operation in reactive terms but there is no issue to use it in a non-reactive flow.</li>\n<li>You should <strong>never block</strong> <code>WebClient</code> in the reactive application. It will block one of the few threads and could cause serious issues.</li>\n<li><strong>Don't</strong> use <code>.toFuture().get()</code> in the reactive application because it could block the thread forever and application could hang.</li>\n</ul>\n<pre><code>Mono&lt;ResponseEntity&lt;PdResponseDto&gt;&gt; responseEntityMono = webClient.post()\n    .bodyValue(myDto)\n    .retrieve()\n    .toEntity(PdResponseDto.class)\n    .block();\n</code></pre>\n<p>Here is more detailed explanation of possible scenarios and possible issues like error <code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-X</code>.</p>\n<h2>Using <code>WebClient</code> in a Spring MVC (SERVLET) application</h2>\n<p>Consider simple `RestController as</p>\n<pre><code>@GetMapping(path = &quot;test&quot;)\npublic String test() {\n    log.info(&quot;START&quot;);\n\n    var res = webClient.get()\n            .uri(&quot;http://www.google.com&quot;)\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();\n\n    log.info(&quot;END&quot;);\n\n    return res;\n}\n</code></pre>\n<p>Looking at logs we will see that execution starts in <code>http-nio-auto-1-exec-1</code> thread, then <code>WebClient</code> switches to internal reactive thread pool <code>reactor-http-nio-3</code> and <code>block</code> returns execution to <code>http-nio-auto-1-exec-1</code></p>\n<pre><code>00:17:26.637  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - START\n00:17:26.647  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - Request: GET http://www.google.com\n00:17:26.831  [reactor-http-nio-3]     INFO [c.e.d.TestController] - Response Status: 200 OK\n00:17:26.856  [http-nio-auto-1-exec-1] INFO [c.e.d.TestController] - END\n</code></pre>\n<p>As explained in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment\" rel=\"nofollow noreferrer\">Spring Reference Documentation about Web Environments</a> adding both</p>\n<ul>\n<li><code>org.springframework.boot:spring-boot-starter-web</code></li>\n<li><code>org.springframework.boot:spring-boot-starter-webflux</code></li>\n</ul>\n<p>dependencies will configure Spring MVC application and initialize <code>WebApplicationType</code> to <code>SERVLET</code>.</p>\n<h2>Using <code>WebClient</code> in a Spring WebFlux (REACTIVE) application</h2>\n<p><strong><code>WebClient</code> should not be blocked in a reactive application</strong>. The only reason I could think about is a period when application is migrated to reactive stack and not all code was refactored.</p>\n<p>If we remove <code>org.springframework.boot:spring-boot-starter-web</code> dependency or set <code>WebApplicationType</code> to <code>REACTIVE</code>, Spring WebFlux is initialized.</p>\n<p>The previous code will start throwing exception\n<code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-X </code></p>\n<p>It happens because Spring WebFlux uses small number of threads to handle all requests and blocking these threads could cause serious performance issues. Therefor <code>block()</code> has an internal logic to warn us about this issue.</p>\n<p>Looking at logs we will see that request starts in [reactor-http-nio-4] that is part of the non-blocking thread pool (Scheduler).</p>\n<pre><code>00:45:38.857  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\n00:45:38.863  [reactor-http-nio-4] INFO [c.e.d.TestController] - Request: GET http://www.google.com\n00:45:38.881  [reactor-http-nio-4] ERROR [o.s.b.a.w.r.e.AbstractErrorWebExceptionHandler] - [fbe6f35d-1]  500 Server Error for HTTP GET &quot;/get&quot;\n</code></pre>\n<p>Some people suggested <code>toFuture().get()</code> but it is technically the same as <code>block()</code>. It will not result in exception <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread ...</code> because it's out of Reactor API control but problem is still the same because this operation is blocking and you just hide the issue. In some cases it could even block the app.</p>\n<p><strong>What is the right way to solve this problem?</strong></p>\n<p><strong>Option 1</strong> (preferred)</p>\n<p>Refactor code to reactive and return <code>Mono</code> or <code>Flux</code> from controller</p>\n<pre><code>@GetMapping(path = &quot;get&quot;)\npublic Mono&lt;String&gt; get() {\n    return webClient.get()\n            .uri(&quot;http://www.google.com&quot;)\n            .retrieve()\n            .bodyToMono(String.class)\n            .doOnSubscribe(s -&gt; log.info(&quot;START&quot;))\n            .doOnNext(res -&gt; log.info(&quot;END&quot;));\n}\n</code></pre>\n<p>In this case the whole flow is reactive and running on non-blocking <code>reactor-http-nio-4</code></p>\n<pre><code>01:21:39.275  [reactor-http-nio-4] INFO [c.e.d.TestController] - Request: GET http://www.google.com\n01:21:39.277  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\n01:21:39.431  [reactor-http-nio-4] INFO [c.e.d.TestController] - Response Status: 200 OK\n01:21:39.454  [reactor-http-nio-4] INFO [c.e.d.TestController] - END\n</code></pre>\n<p><strong>Option 2</strong> (temporary)</p>\n<p>As a temporary solution we can consider wrapping blocking code into <code>Runnable</code> or <code>Callable</code> and schedule on a separate <code>Scheduler</code>. Check <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#faq.wrap-blocking\" rel=\"nofollow noreferrer\">How Do I Wrap a Synchronous, Blocking Call?</a> for details.</p>\n<pre><code>@GetMapping(path = &quot;get&quot;)\npublic Mono&lt;String&gt; get() {\n    return Mono.fromCallable(() -&gt; {\n            var res = webClient.get()\n                    .uri(&quot;http://www.google.com&quot;)\n                    .retrieve()\n                    .bodyToMono(String.class)\n                    .block();\n    \n            log.info(&quot;END&quot;);\n    \n            return res;\n        })\n        .subscribeOn(Schedulers.boundedElastic())\n        .doOnSubscribe(s -&gt; log.info(&quot;START&quot;));\n}\n</code></pre>\n<p>Request starts on non-blocking <code>reactor-http-nio-4</code> but then switched to <code>boundedElastic-1</code> that allows to execute blocking code.</p>\n<pre><code>01:17:48.930  [reactor-http-nio-4] INFO [c.e.d.TestController] - START\n01:17:48.941  [boundedElastic-1] INFO [c.e.d.TestController] - Request: GET http://www.google.com\n01:17:49.102  [reactor-http-nio-5] INFO [c.e.d.TestController] - Response Status: 200 OK\n01:17:49.125  [boundedElastic-1] INFO [c.e.d.TestController] - END\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22543,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":58751099,"answer_count":2,"score":13,"last_activity_date":1690076420,"creation_date":1573137025,"question_id":58750918,"body_markdown":"Spring documentation states that we have to _switch_ from `RestTemplate` to `WebClient` even if we want to execute Synchronous HTTP call.\r\n\r\nFor now I have following code:\r\n\r\n      Mono&lt;ResponseEntity&lt;PdResponseDto&gt;&gt; responseEntityMono = webClient.post()\r\n                    .bodyValue(myDto)\r\n                    .retrieve()\r\n                    .toEntity(MyDto.class);\r\n            responseEntityMono.subscribe(resp -&gt; log.info(&quot;Response is {}&quot;, resp));\r\n       //I have to return response here\r\n       // return resp;\r\n\r\nSure I could use CountdownLatch here but it looks like API misusing.\r\n\r\nHow could I execute synchronous request ?","title":"How to use WebClient to execute synchronous request?","body":"<p>Spring documentation states that we have to <em>switch</em> from <code>RestTemplate</code> to <code>WebClient</code> even if we want to execute Synchronous HTTP call.</p>\n<p>For now I have following code:</p>\n<pre><code>  Mono&lt;ResponseEntity&lt;PdResponseDto&gt;&gt; responseEntityMono = webClient.post()\n                .bodyValue(myDto)\n                .retrieve()\n                .toEntity(MyDto.class);\n        responseEntityMono.subscribe(resp -&gt; log.info(&quot;Response is {}&quot;, resp));\n   //I have to return response here\n   // return resp;\n</code></pre>\n<p>Sure I could use CountdownLatch here but it looks like API misusing.</p>\n<p>How could I execute synchronous request ?</p>\n"},{"tags":["java","colors"],"comments":[{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1276703248,"post_id":3054873,"comment_id":3127292,"body_markdown":"Define complement / supplement colours. If the complement and supplement are always relative to the input colour (depending on your definition), it should be easy. I&#39;ve seen it done on the web with Javascript, I just can&#39;t remember the name or URL.","body":"Define complement / supplement colours. If the complement and supplement are always relative to the input colour (depending on your definition), it should be easy. I&#39;ve seen it done on the web with Javascript, I just can&#39;t remember the name or URL."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1276703289,"post_id":3054873,"comment_id":3127297,"body_markdown":"Update: I found one! http://colorschemedesigner.com/\nIt doesn&#39;t do supplement colours, but has a whole bunch of other choices.","body":"Update: I found one! <a href=\"http://colorschemedesigner.com/\" rel=\"nofollow noreferrer\">colorschemedesigner.com</a> It doesn&#39;t do supplement colours, but has a whole bunch of other choices."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1276705350,"post_id":3054873,"comment_id":104618223,"body_markdown":"Complementary is easy using the [HSL Color](http://tips4java.wordpress.com/2009/07/05/hsl-color/) class.","body":"Complementary is easy using the <a href=\"http://tips4java.wordpress.com/2009/07/05/hsl-color/\" rel=\"nofollow noreferrer\">HSL Color</a> class."}],"answers":[{"tags":[],"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1276703379,"creation_date":1276703379,"answer_id":3054926,"question_id":3054873,"body_markdown":"it should just be math\r\n\r\nthe total of the r values of the 2 colors should be 255 \r\n\r\nthe total of the g values of the 2 colors should be 255 \r\n\r\nthe total of the b values of the 2 colors should be 255","title":"Programmatically find complement of colors?","body":"<p>it should just be math</p>\n\n<p>the total of the r values of the 2 colors should be 255 </p>\n\n<p>the total of the g values of the 2 colors should be 255 </p>\n\n<p>the total of the b values of the 2 colors should be 255</p>\n"},{"tags":[],"owner":{"account_id":1196078,"reputation":1560,"user_id":1167783,"accept_rate":70,"display_name":"JeffThompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446827938,"creation_date":1446827128,"answer_id":33571241,"question_id":3054873,"body_markdown":"None of the answers above really give a way to find the complimentary color, so here&#39;s my version written in Processing:\r\n\r\n    import java.awt.Color;\r\n    \r\n    color initial = color(100, 0, 100);\r\n    \r\n    void setup() {\r\n      size(400, 400);  \r\n      \r\n      fill(initial);\r\n      rect(0, 0, width/2, height);\r\n      \r\n      color opposite = getOppositeColor(initial);\r\n      fill(opposite);\r\n      rect(width/2, 0, width/2, height);\r\n    }\r\n    \r\n    color getOppositeColor(color c) {\r\n      float[] hsv = new float[3];\r\n      Color.RGBtoHSB(c&gt;&gt;16&amp;0xFF, c&gt;&gt;8&amp;0xFF, c&amp;0xFF, hsv);\r\n      hsv[0] = (hsv[0] + 0.5) % 1.0;\r\n      \r\n      // black or white? return opposite\r\n      if (hsv[2] == 0) return color(255);\r\n      else if (hsv[2] == 1.0) return color(0);\r\n      \r\n      // low value? otherwise, adjust that too\r\n      if (hsv[2] &lt; 0.5) {\r\n        hsv[2] = (hsv[2] + 0.5) % 1.0;\r\n      }\r\n      \r\n      return Color.HSBtoRGB(hsv[0], hsv[1], hsv[2]);\r\n    }","title":"Programmatically find complement of colors?","body":"<p>None of the answers above really give a way to find the complimentary color, so here's my version written in Processing:</p>\n\n<pre><code>import java.awt.Color;\n\ncolor initial = color(100, 0, 100);\n\nvoid setup() {\n  size(400, 400);  \n\n  fill(initial);\n  rect(0, 0, width/2, height);\n\n  color opposite = getOppositeColor(initial);\n  fill(opposite);\n  rect(width/2, 0, width/2, height);\n}\n\ncolor getOppositeColor(color c) {\n  float[] hsv = new float[3];\n  Color.RGBtoHSB(c&gt;&gt;16&amp;0xFF, c&gt;&gt;8&amp;0xFF, c&amp;0xFF, hsv);\n  hsv[0] = (hsv[0] + 0.5) % 1.0;\n\n  // black or white? return opposite\n  if (hsv[2] == 0) return color(255);\n  else if (hsv[2] == 1.0) return color(0);\n\n  // low value? otherwise, adjust that too\n  if (hsv[2] &lt; 0.5) {\n    hsv[2] = (hsv[2] + 0.5) % 1.0;\n  }\n\n  return Color.HSBtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6401581,"reputation":446,"user_id":5731256,"display_name":"Poypoyan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690074794,"creation_date":1465292510,"answer_id":37675777,"question_id":3054873,"body_markdown":"This is what I come up: (Conjecture)\r\n\r\nLet `r`, `g`, and `b` be RGB components of the original color.\r\n\r\nLet `r&#39;`, `g&#39;`, and `b&#39;` be RGB components of the complementary color.\r\n\r\nThen:\r\n\r\n    r&#39; = max(r,b,g) + min(r,b,g) - r   \r\n    b&#39; = max(r,b,g) + min(r,b,g) - b\r\n    g&#39; = max(r,b,g) + min(r,b,g) - g\r\n\r\nI see that this gives the same answer to what the websites (i.e. www.color-hex.com) give, but I will still prove it. :)\r\n\r\n**EDIT (23/07/2023):** Yeah this old &quot;immature&quot; answer of mine needs long-due explanation:\r\n\r\n - This formula is correct only in the **RGB** model, which means that yes, Red pairs with Cyan. If you want to pair Red with Green instead, you need to look at RYB model instead.\r\n - This formula is equivalent to applying HSV/HSL to input RGB, then rotate 180 degrees, then convert back to RGB. Of course, this conversion process is what you should do if you need to compute more than just the complementary color.\r\n - The following is still not a proof, but more of an intuition of why this works: imagine [this picture][1] and each hue is a vertical slice, and thus with corresponding level of red, blue, green in [0,1]. Finding complementary color is essentially &quot;setting what is high, to low&quot; and vice versa. If the red in input is the highest, then red in the complementary should be the lowest. More generally, if the blue in input is x above the lowest, then the blue in complementary should be x *below the highest*. From all of this, the formula can be derived.\r\n\r\n\r\n  [1]: https://upload.wikimedia.org/wikipedia/commons/5/5d/HSV-RGB-comparison.svg","title":"Programmatically find complement of colors?","body":"<p>This is what I come up: (Conjecture)</p>\n<p>Let <code>r</code>, <code>g</code>, and <code>b</code> be RGB components of the original color.</p>\n<p>Let <code>r'</code>, <code>g'</code>, and <code>b'</code> be RGB components of the complementary color.</p>\n<p>Then:</p>\n<pre><code>r' = max(r,b,g) + min(r,b,g) - r   \nb' = max(r,b,g) + min(r,b,g) - b\ng' = max(r,b,g) + min(r,b,g) - g\n</code></pre>\n<p>I see that this gives the same answer to what the websites (i.e. <a href=\"http://www.color-hex.com\" rel=\"nofollow noreferrer\">www.color-hex.com</a>) give, but I will still prove it. :)</p>\n<p><strong>EDIT (23/07/2023):</strong> Yeah this old &quot;immature&quot; answer of mine needs long-due explanation:</p>\n<ul>\n<li>This formula is correct only in the <strong>RGB</strong> model, which means that yes, Red pairs with Cyan. If you want to pair Red with Green instead, you need to look at RYB model instead.</li>\n<li>This formula is equivalent to applying HSV/HSL to input RGB, then rotate 180 degrees, then convert back to RGB. Of course, this conversion process is what you should do if you need to compute more than just the complementary color.</li>\n<li>The following is still not a proof, but more of an intuition of why this works: imagine <a href=\"https://upload.wikimedia.org/wikipedia/commons/5/5d/HSV-RGB-comparison.svg\" rel=\"nofollow noreferrer\">this picture</a> and each hue is a vertical slice, and thus with corresponding level of red, blue, green in [0,1]. Finding complementary color is essentially &quot;setting what is high, to low&quot; and vice versa. If the red in input is the highest, then red in the complementary should be the lowest. More generally, if the blue in input is x above the lowest, then the blue in complementary should be x <em>below the highest</em>. From all of this, the formula can be derived.</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user1277936"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469772968,"creation_date":1469772968,"answer_id":38651734,"question_id":3054873,"body_markdown":"Just focusing on the 3D RGB cube.  Here&#39;s a function that does a binary search in that cube to avoid having to figure out how to cast vectors in a direction and find the closest point on the cube boundary that intersects it.\r\n\r\n    def farthestColorInRGBcubeFrom(color):\r\n      def pathsAt(r, g, b):\r\n        paths = [(r, g, b)]\r\n        if r &lt; 255:\r\n            paths.append((int((r + 255)/2), g, b))\r\n        if r &gt; 0:\r\n            paths.append((int(r/2), g, b))\r\n        if g &lt; 255:\r\n            paths.append((r, int((g + 255)/2), b))\r\n        if g &gt; 0:\r\n            paths.append((r, int(g/2), b))\r\n        if b &lt; 255:\r\n            paths.append((r, g, int((b + 255)/2)))\r\n        if b &gt; 0:\r\n            paths.append((r, g, int(b/2)))\r\n        return paths                         \r\n    r = color.red();  g = color.green();  b = color.blue();\r\n    #naive guess:\r\n    r0 = 255 - r;  g0 = 255 - g;  b0 = 255 - b;\r\n    paths = pathsAt(r0, g0, b0)\r\n    maxPath = None\r\n    while paths != []:\r\n        for p in paths:\r\n            d = (r - p[0])**2 + (g - p[1])**2 + (b - p[0])**2\r\n            if maxPath != None:\r\n                if d &gt; maxPath[0]:\r\n                    maxPath = (d, p)\r\n            else:\r\n                maxPath = (d, p)\r\n        p = maxPath[1]\r\n        paths = pathsAt(p[0], p[1], p[2])\r\n    c = maxPath[1]\r\n    return QColor(c[0], c[1], c[2], color.alpha())\r\n    \r\n    ","title":"Programmatically find complement of colors?","body":"<p>Just focusing on the 3D RGB cube.  Here's a function that does a binary search in that cube to avoid having to figure out how to cast vectors in a direction and find the closest point on the cube boundary that intersects it.</p>\n\n<pre><code>def farthestColorInRGBcubeFrom(color):\n  def pathsAt(r, g, b):\n    paths = [(r, g, b)]\n    if r &lt; 255:\n        paths.append((int((r + 255)/2), g, b))\n    if r &gt; 0:\n        paths.append((int(r/2), g, b))\n    if g &lt; 255:\n        paths.append((r, int((g + 255)/2), b))\n    if g &gt; 0:\n        paths.append((r, int(g/2), b))\n    if b &lt; 255:\n        paths.append((r, g, int((b + 255)/2)))\n    if b &gt; 0:\n        paths.append((r, g, int(b/2)))\n    return paths                         \nr = color.red();  g = color.green();  b = color.blue();\n#naive guess:\nr0 = 255 - r;  g0 = 255 - g;  b0 = 255 - b;\npaths = pathsAt(r0, g0, b0)\nmaxPath = None\nwhile paths != []:\n    for p in paths:\n        d = (r - p[0])**2 + (g - p[1])**2 + (b - p[0])**2\n        if maxPath != None:\n            if d &gt; maxPath[0]:\n                maxPath = (d, p)\n        else:\n            maxPath = (d, p)\n    p = maxPath[1]\n    paths = pathsAt(p[0], p[1], p[2])\nc = maxPath[1]\nreturn QColor(c[0], c[1], c[2], color.alpha())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6365525,"reputation":5168,"user_id":4939630,"display_name":"Edward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690046955,"creation_date":1475230917,"answer_id":39789251,"question_id":3054873,"body_markdown":"For a rough approximation, you can do this by converting RGB to HSL (Hue, Saturation, Lightness). \r\n\r\nWith the HSL value, shift the hue 180 degrees to get a color on the opposite of the color wheel from the original value. \r\n\r\nFinally, convert back to RGB.\r\n\r\nI&#39;ve written a JavaScript implementation using a hex value here - https://stackoverflow.com/a/37657940/4939630\r\n\r\nFor RGB, simply remove the hex to RGB and RGB to hex conversions. ","title":"Programmatically find complement of colors?","body":"<p>For a rough approximation, you can do this by converting RGB to HSL (Hue, Saturation, Lightness).</p>\n<p>With the HSL value, shift the hue 180 degrees to get a color on the opposite of the color wheel from the original value.</p>\n<p>Finally, convert back to RGB.</p>\n<p>I've written a JavaScript implementation using a hex value here - <a href=\"https://stackoverflow.com/a/37657940/4939630\">https://stackoverflow.com/a/37657940/4939630</a></p>\n<p>For RGB, simply remove the hex to RGB and RGB to hex conversions.</p>\n"},{"tags":[],"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515797952,"creation_date":1515797952,"answer_id":48235171,"question_id":3054873,"body_markdown":"You might find more information at:\r\nhttps://stackoverflow.com/questions/407793/programmatically-choose-high-contrast-colors\r\n\r\n    public static int complimentaryColour(int colour) {\r\n        return ~colour;\r\n    }","title":"Programmatically find complement of colors?","body":"<p>You might find more information at:\n<a href=\"https://stackoverflow.com/questions/407793/programmatically-choose-high-contrast-colors\">Programmatically choose high-contrast colors</a></p>\n\n<pre><code>public static int complimentaryColour(int colour) {\n    return ~colour;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576248332,"creation_date":1576248332,"answer_id":59324801,"question_id":3054873,"body_markdown":"A more general and simple solution for finding the opposite color is: \r\n\r\n    private int getComplementaryColor( int color) {\r\n        int R = color &amp; 255;\r\n        int G = (color &gt;&gt; 8) &amp; 255;\r\n        int B = (color &gt;&gt; 16) &amp; 255;\r\n        int A = (color &gt;&gt; 24) &amp; 255;\r\n        R = 255 - R;\r\n        G = 255 - G;\r\n        B = 255 - B;\r\n        return R + (G &lt;&lt; 8) + ( B &lt;&lt; 16) + ( A &lt;&lt; 24);\r\n    }","title":"Programmatically find complement of colors?","body":"<p>A more general and simple solution for finding the opposite color is: </p>\n\n<pre><code>private int getComplementaryColor( int color) {\n    int R = color &amp; 255;\n    int G = (color &gt;&gt; 8) &amp; 255;\n    int B = (color &gt;&gt; 16) &amp; 255;\n    int A = (color &gt;&gt; 24) &amp; 255;\n    R = 255 - R;\n    G = 255 - G;\n    B = 255 - B;\n    return R + (G &lt;&lt; 8) + ( B &lt;&lt; 16) + ( A &lt;&lt; 24);\n}\n</code></pre>\n"}],"owner":{"account_id":68774,"reputation":54239,"user_id":200477,"accept_rate":98,"display_name":"Mohit Deshpande"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21584,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1690074794,"creation_date":1276702932,"question_id":3054873,"body_markdown":"Is there a way to find the complement of a color given its RGB values? Or can it only be found for certain colors? How would someone go about doing this in Java?","title":"Programmatically find complement of colors?","body":"<p>Is there a way to find the complement of a color given its RGB values? Or can it only be found for certain colors? How would someone go about doing this in Java?</p>\n"},{"tags":["java","telegram","telegram-bot","telegram-webhook"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690071630,"post_id":76746214,"comment_id":135302079,"body_markdown":"It&#39;s better to improve your previous question than to ask another identical one.","body":"It&#39;s better to improve your previous question than to ask another identical one."},{"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"score":0,"creation_date":1690072060,"post_id":76746214,"comment_id":135302108,"body_markdown":"@tgdavies No. There&#39;s no answer there.","body":"@tgdavies No. There&#39;s no answer there."},{"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"score":0,"creation_date":1690072115,"post_id":76746214,"comment_id":135302110,"body_markdown":"What do you not understand about the question?","body":"What do you not understand about the question?"},{"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"score":0,"creation_date":1690072183,"post_id":76746214,"comment_id":135302115,"body_markdown":"The question is clear enough. The code is minimal. What don&#39;t you understand?","body":"The question is clear enough. The code is minimal. What don&#39;t you understand?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690072425,"post_id":76746214,"comment_id":135302129,"body_markdown":"I don&#39;t know anything about the Telegram API, but I suggest that you explain exactly what you don&#39;t understand about `sendMediaGroup`, and make an attempt to use it.","body":"I don&#39;t know anything about the Telegram API, but I suggest that you explain exactly what you don&#39;t understand about <code>sendMediaGroup</code>, and make an attempt to use it."},{"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"score":0,"creation_date":1690072546,"post_id":76746214,"comment_id":135302135,"body_markdown":"Please don&#39;t pollute the chat with unnecessary chatter","body":"Please don&#39;t pollute the chat with unnecessary chatter"}],"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690072848,"answer_count":0,"score":0,"last_activity_date":1690072741,"creation_date":1690071077,"question_id":76746214,"body_markdown":"How to send multiple images to **Telegram bot**?\r\n\r\nI have a method that allows you to submit a single image and add a caption to that image.\r\n\r\n\r\n\t\t    public void webhook(Update update) throws IOException {\r\n\r\n\r\n\t\t        URL url = new URL(&quot;https://api.telegram.org/bot6143090937:AAHOpW0PNMK9qROsFqQ4DE-T1F_ox-IZ0dU/sendPhoto?chat_id=&quot;\r\n\t\t                + update.getMessage().getChatId() + &quot;&amp;caption=Message Message &quot;);\r\n\r\n\t\t        HttpsURLConnection httpConn = (HttpsURLConnection) url.openConnection();\r\n\r\n\t\t        httpConn.setDoOutput(true);\r\n\r\n\t\t        httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=boundary--&quot;);\r\n\r\n\t\t        OutputStream outputStream = httpConn.getOutputStream();\r\n\r\n\t\t        PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, StandardCharsets.UTF_8), true);\r\n\r\n\t\t        new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n\r\n\r\n\t\t        writer.append(&quot;--&quot;).append(&quot;boundary--&quot;).append(&quot;\\r\\n&quot;);\r\n\t\t        writer.append(&quot;Content-Disposition: form-data; name=\\&quot;&quot;)\r\n\t\t                .append(&quot;photo&quot;)\r\n\t\t                .append(&quot;\\&quot;; filename=\\&quot;&quot;)\r\n\t\t                .append(&quot;image.jpg&quot;).append(&quot;\\&quot;&quot;)\r\n\t\t                .append(&quot;\\r\\n&quot;);\r\n\t\t        writer.append(&quot;\\r\\n&quot;);\r\n\t\t        writer.flush();\r\n\r\n\t\t        File uploadFile1 = new File(&quot;C:\\\\img\\\\image.jpg&quot;);\r\n\r\n\t\t        try (FileInputStream inputStream = new FileInputStream(uploadFile1)) {\r\n\t\t            byte[] buffer = new byte[4096];\r\n\t\t            int byteRead;\r\n\t\t            while ((byteRead = inputStream.read(buffer)) != -1) {\r\n\t\t                outputStream.write(buffer, 0, byteRead);\r\n\t\t            }\r\n\r\n\t\t            outputStream.flush();\r\n\t\t        }\r\n\r\n\t\t        writer.append(&quot;\\r\\n&quot;).flush();\r\n\t\t        writer.append(&quot;--&quot;).append(&quot;boundary--&quot;).append(&quot;--&quot;).append(&quot;\\r\\n&quot;);\r\n\r\n\t\t        writer.flush();\r\n\t\t        writer.close();\r\n\r\n\t\t        httpConn.getResponseCode();\r\n\r\n\r\n\t\t    }\r\n\r\n\r\nBut I don&#39;t know how to send more than one image, that is, a group of images.\r\n\r\nPlease show me how to send multiple images?\r\n\r\nThe telegram has the **sendMediaGroup** parameter [https://core.telegram.org/bots/api#sendmediagroup](https://stackoverflow.com) I don&#39;t quite understand how to use it in conjunction with the code I showed above.\r\n\r\n","title":"Java how to send multiple images to telegram bot","body":"<p>How to send multiple images to <strong>Telegram bot</strong>?</p>\n<p>I have a method that allows you to submit a single image and add a caption to that image.</p>\n<pre><code>        public void webhook(Update update) throws IOException {\n\n\n            URL url = new URL(&quot;https://api.telegram.org/bot6143090937:AAHOpW0PNMK9qROsFqQ4DE-T1F_ox-IZ0dU/sendPhoto?chat_id=&quot;\n                    + update.getMessage().getChatId() + &quot;&amp;caption=Message Message &quot;);\n\n            HttpsURLConnection httpConn = (HttpsURLConnection) url.openConnection();\n\n            httpConn.setDoOutput(true);\n\n            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=boundary--&quot;);\n\n            OutputStream outputStream = httpConn.getOutputStream();\n\n            PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, StandardCharsets.UTF_8), true);\n\n            new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\n\n\n            writer.append(&quot;--&quot;).append(&quot;boundary--&quot;).append(&quot;\\r\\n&quot;);\n            writer.append(&quot;Content-Disposition: form-data; name=\\&quot;&quot;)\n                    .append(&quot;photo&quot;)\n                    .append(&quot;\\&quot;; filename=\\&quot;&quot;)\n                    .append(&quot;image.jpg&quot;).append(&quot;\\&quot;&quot;)\n                    .append(&quot;\\r\\n&quot;);\n            writer.append(&quot;\\r\\n&quot;);\n            writer.flush();\n\n            File uploadFile1 = new File(&quot;C:\\\\img\\\\image.jpg&quot;);\n\n            try (FileInputStream inputStream = new FileInputStream(uploadFile1)) {\n                byte[] buffer = new byte[4096];\n                int byteRead;\n                while ((byteRead = inputStream.read(buffer)) != -1) {\n                    outputStream.write(buffer, 0, byteRead);\n                }\n\n                outputStream.flush();\n            }\n\n            writer.append(&quot;\\r\\n&quot;).flush();\n            writer.append(&quot;--&quot;).append(&quot;boundary--&quot;).append(&quot;--&quot;).append(&quot;\\r\\n&quot;);\n\n            writer.flush();\n            writer.close();\n\n            httpConn.getResponseCode();\n\n\n        }\n</code></pre>\n<p>But I don't know how to send more than one image, that is, a group of images.</p>\n<p>Please show me how to send multiple images?</p>\n<p>The telegram has the <strong>sendMediaGroup</strong> parameter <a href=\"https://stackoverflow.com\">https://core.telegram.org/bots/api#sendmediagroup</a> I don't quite understand how to use it in conjunction with the code I showed above.</p>\n"},{"tags":["java","image","2d-games"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690070593,"post_id":76746194,"comment_id":135302013,"body_markdown":"Please don&#39;t post images of text. Copy the stack trace and paste it (formatted) into your question.","body":"Please don&#39;t post images of text. Copy the stack trace and paste it (formatted) into your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690070719,"post_id":76746194,"comment_id":135302022,"body_markdown":"For the &quot;attack animation not animating fully&quot;: look at the order of your else clauses in `updateAnimationTick`.","body":"For the &quot;attack animation not animating fully&quot;: look at the order of your else clauses in <code>updateAnimationTick</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690072322,"post_id":76746194,"comment_id":135302121,"body_markdown":"I wouldn&#39;t be trying to track multiple arrays with different lengths with a single index, instead, I&#39;d be making each sheet it&#39;s own self contained context - maybe something more like [this](https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418)","body":"I wouldn&#39;t be trying to track multiple arrays with different lengths with a single index, instead, I&#39;d be making each sheet it&#39;s own self contained context - maybe something more like <a href=\"https://stackoverflow.com/questions/35472233/load-a-sprites-image-in-java/35472418#35472418\">this</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690146682,"post_id":76746194,"comment_id":135309110,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29071720,"reputation":1,"user_id":22269882,"display_name":"Namaleas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690070955,"creation_date":1690070499,"question_id":76746194,"body_markdown":"I have multiple sprite sheets for the game, but I can&#39;t add the .png file properly into the code. It&#39;s seem to be working but it throws some errors every once in a while. And the attack animation doesn&#39;t animate fully.\r\n\r\nHere is what I&#39;ve done so far. The idle and run animation seem to be fine sometimes it shows some errors. The reason I&#39;m having the array for bufferedimage is to avoid cropping the sprite into &quot;run-1&quot;,&quot;run-2&quot;, etc.\r\n\r\n[the errors it shows](https://i.stack.imgur.com/dZQbG.png)\r\n\r\n```\r\npackage entity;\r\n\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Player extends Entity{\r\n\r\n\tprivate int aniTick, aniIndex, aniSpeed = 30;\r\n\tprivate boolean left, up, right, down;\r\n\tprivate boolean moving = false, attacking = false;\r\n\tprivate BufferedImage[] idleAni, runAni, atkAni, hurtAni, jumpAni, dedAni;\r\n\tprivate float playerSpeed =  2.0f;\r\n\tpublic Player(float x, float y) {\r\n\t\t\r\n\t\tsuper(x, y);\r\n\t\tloadAnimation();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void update() {\r\n\t\t\r\n\t\tupdatePos();\r\n\t\tupdateAnimationTick();\r\n\t\t\r\n\t}\r\n\tpublic void render(Graphics g) {\r\n\t\t\r\n\t\tif(moving) {\r\n\t\t\tg.drawImage(runAni[aniIndex], (int)x, (int)y, null);\r\n\t\t}\r\n\t\telse if(attacking) {\r\n\t\t\tg.drawImage(atkAni[aniIndex], (int)x, (int)y, null);\r\n\t\t}\r\n\t\telse g.drawImage(idleAni[aniIndex], (int)x, (int)y, null);\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\tprivate void updatePos() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tmoving =false;\r\n\t\t\r\n\t\tif(left &amp;&amp; !right) {\r\n\t\t\tx-= playerSpeed;\r\n\t\t\tmoving =true;\r\n\t\t} else if (right &amp;&amp; !left) {\r\n\t\t\tx+= playerSpeed;\r\n\t\t\tmoving =true;\r\n\t\t}\r\n\t\t\r\n\t\tif(up &amp;&amp; !down) {\r\n\t\t\ty-= playerSpeed;\r\n\t\t\tmoving =true;\r\n\t\t} else if (down &amp;&amp; !up) {\r\n\t\t\ty+= playerSpeed;\r\n\t\t\tmoving =true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void updateAnimationTick() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\taniTick++;\r\n\t\tif(aniTick &gt;=aniSpeed) {\r\n\t\t\taniTick = 0;\r\n\t\t\taniIndex++;\r\n\t\t\tif(moving) {\r\n\t\t\t\tif(aniIndex &gt;= runAni.length) {\r\n\t\t\t\t\taniIndex = 0;\r\n\t\t\t\t\tattacking = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(aniIndex &gt;= idleAni.length) {\r\n\t\t\t\taniIndex = 0;\r\n\t\t\t\tattacking = false;\r\n\t\t\t}\r\n\t\t\telse if(attacking) {\r\n\t\t\t\tif(aniIndex &gt;= atkAni.length) {\r\n\t\t\t\t\taniIndex = 0;\r\n\t\t\t\t\tattacking = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tprivate void loadAnimation() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tInputStream is = getClass().getResourceAsStream(&quot;/Idle.png&quot;);\r\n\t\tInputStream is1 = getClass().getResourceAsStream(&quot;/Run.png&quot;);\r\n\t\tInputStream is2 = getClass().getResourceAsStream(&quot;/Attack_1.png&quot;);\r\n\t\tInputStream is3 = getClass().getResourceAsStream(&quot;/Dead.png&quot;);\r\n\t\tInputStream is4 = getClass().getResourceAsStream(&quot;/Hurt.png&quot;);\r\n\t\tInputStream is5 = getClass().getResourceAsStream(&quot;/Jump.png&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tBufferedImage idle = ImageIO.read(is);\r\n\t\t\tBufferedImage run = ImageIO.read(is1);\r\n\t\t\tBufferedImage atk = ImageIO.read(is2);\r\n\t\t\tBufferedImage ded = ImageIO.read(is3);\r\n\t\t\tBufferedImage hurt = ImageIO.read(is4);\r\n\t\t\tBufferedImage jump = ImageIO.read(is5);\r\n\t\t\t\r\n\t\t\tidleAni = new BufferedImage[7];\r\n\t\t\trunAni = new BufferedImage[8];\r\n\t\t\tatkAni = new BufferedImage[10];\r\n\t\t\thurtAni = new BufferedImage[3];\r\n\t\t\tjumpAni = new BufferedImage[8];\r\n\t\t\tdedAni = new BufferedImage[5];\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;idleAni.length; i++) {\r\n\t\t\t\tidleAni[i] = idle.getSubimage(i*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\tfor(int a=0; a&lt;runAni.length; a++) {\r\n\t\t\t\trunAni[a] = run.getSubimage(a*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\tfor(int b=0; b&lt;10; b++) {\r\n\t\t\t\tatkAni[b] = atk.getSubimage(b*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\tfor(int c=0; c&lt;hurtAni.length; c++) {\r\n\t\t\t\thurtAni[c] = hurt.getSubimage(c*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\tfor(int d=0; d&lt;jumpAni.length; d++) {\r\n\t\t\t\tjumpAni[d] = jump.getSubimage(d*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\tfor(int e=0; e&lt;dedAni.length; e++) {\r\n\t\t\t\tdedAni[e] = ded.getSubimage(e*128, 0, 128, 128);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tis.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void resetDirBoolean() {\r\n\t\tleft = false;\r\n\t\tright = false;\r\n\t\tdown = false;\r\n\t\tup = false;\r\n\t}\r\n\t\r\n\tpublic void setAttack(boolean atk) {\r\n\t\tthis.attacking = atk;\r\n\t}\r\n\r\n\tpublic boolean isLeft() {\r\n\t\treturn left;\r\n\t}\r\n\r\n\tpublic void setLeft(boolean left) {\r\n\t\tthis.left = left;\r\n\t}\r\n\r\n\tpublic boolean isUp() {\r\n\t\treturn up;\r\n\t}\r\n\r\n\tpublic void setUp(boolean up) {\r\n\t\tthis.up = up;\r\n\t}\r\n\r\n\tpublic boolean isRight() {\r\n\t\treturn right;\r\n\t}\r\n\r\n\tpublic void setRight(boolean right) {\r\n\t\tthis.right = right;\r\n\t}\r\n\r\n\tpublic boolean isDown() {\r\n\t\treturn down;\r\n\t}\r\n\r\n\tpublic void setDown(boolean down) {\r\n\t\tthis.down = down;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n","title":"How to load and draw a .png file?","body":"<p>I have multiple sprite sheets for the game, but I can't add the .png file properly into the code. It's seem to be working but it throws some errors every once in a while. And the attack animation doesn't animate fully.</p>\n<p>Here is what I've done so far. The idle and run animation seem to be fine sometimes it shows some errors. The reason I'm having the array for bufferedimage is to avoid cropping the sprite into &quot;run-1&quot;,&quot;run-2&quot;, etc.</p>\n<p><a href=\"https://i.stack.imgur.com/dZQbG.png\" rel=\"nofollow noreferrer\">the errors it shows</a></p>\n<pre><code>package entity;\n\n\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.imageio.ImageIO;\n\npublic class Player extends Entity{\n\n    private int aniTick, aniIndex, aniSpeed = 30;\n    private boolean left, up, right, down;\n    private boolean moving = false, attacking = false;\n    private BufferedImage[] idleAni, runAni, atkAni, hurtAni, jumpAni, dedAni;\n    private float playerSpeed =  2.0f;\n    public Player(float x, float y) {\n        \n        super(x, y);\n        loadAnimation();\n        \n    }\n    \n    public void update() {\n        \n        updatePos();\n        updateAnimationTick();\n        \n    }\n    public void render(Graphics g) {\n        \n        if(moving) {\n            g.drawImage(runAni[aniIndex], (int)x, (int)y, null);\n        }\n        else if(attacking) {\n            g.drawImage(atkAni[aniIndex], (int)x, (int)y, null);\n        }\n        else g.drawImage(idleAni[aniIndex], (int)x, (int)y, null);\n        \n    \n    }\n    \n    \n    private void updatePos() {\n        // TODO Auto-generated method stub\n        moving =false;\n        \n        if(left &amp;&amp; !right) {\n            x-= playerSpeed;\n            moving =true;\n        } else if (right &amp;&amp; !left) {\n            x+= playerSpeed;\n            moving =true;\n        }\n        \n        if(up &amp;&amp; !down) {\n            y-= playerSpeed;\n            moving =true;\n        } else if (down &amp;&amp; !up) {\n            y+= playerSpeed;\n            moving =true;\n        }\n    }\n\n    private void updateAnimationTick() {\n        // TODO Auto-generated method stub\n        aniTick++;\n        if(aniTick &gt;=aniSpeed) {\n            aniTick = 0;\n            aniIndex++;\n            if(moving) {\n                if(aniIndex &gt;= runAni.length) {\n                    aniIndex = 0;\n                    attacking = false;\n                }\n            }\n            else if(aniIndex &gt;= idleAni.length) {\n                aniIndex = 0;\n                attacking = false;\n            }\n            else if(attacking) {\n                if(aniIndex &gt;= atkAni.length) {\n                    aniIndex = 0;\n                    attacking = false;\n                }\n            }\n        }\n    }\n    \n    \n    private void loadAnimation() {\n        // TODO Auto-generated method stub\n        InputStream is = getClass().getResourceAsStream(&quot;/Idle.png&quot;);\n        InputStream is1 = getClass().getResourceAsStream(&quot;/Run.png&quot;);\n        InputStream is2 = getClass().getResourceAsStream(&quot;/Attack_1.png&quot;);\n        InputStream is3 = getClass().getResourceAsStream(&quot;/Dead.png&quot;);\n        InputStream is4 = getClass().getResourceAsStream(&quot;/Hurt.png&quot;);\n        InputStream is5 = getClass().getResourceAsStream(&quot;/Jump.png&quot;);\n        \n        try {\n            BufferedImage idle = ImageIO.read(is);\n            BufferedImage run = ImageIO.read(is1);\n            BufferedImage atk = ImageIO.read(is2);\n            BufferedImage ded = ImageIO.read(is3);\n            BufferedImage hurt = ImageIO.read(is4);\n            BufferedImage jump = ImageIO.read(is5);\n            \n            idleAni = new BufferedImage[7];\n            runAni = new BufferedImage[8];\n            atkAni = new BufferedImage[10];\n            hurtAni = new BufferedImage[3];\n            jumpAni = new BufferedImage[8];\n            dedAni = new BufferedImage[5];\n            \n            for(int i=0; i&lt;idleAni.length; i++) {\n                idleAni[i] = idle.getSubimage(i*128, 0, 128, 128);\n            }\n            for(int a=0; a&lt;runAni.length; a++) {\n                runAni[a] = run.getSubimage(a*128, 0, 128, 128);\n            }\n            for(int b=0; b&lt;10; b++) {\n                atkAni[b] = atk.getSubimage(b*128, 0, 128, 128);\n            }\n            for(int c=0; c&lt;hurtAni.length; c++) {\n                hurtAni[c] = hurt.getSubimage(c*128, 0, 128, 128);\n            }\n            for(int d=0; d&lt;jumpAni.length; d++) {\n                jumpAni[d] = jump.getSubimage(d*128, 0, 128, 128);\n            }\n            for(int e=0; e&lt;dedAni.length; e++) {\n                dedAni[e] = ded.getSubimage(e*128, 0, 128, 128);\n            }\n            \n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } finally {\n            try {\n                is.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        \n    }\n    \n    public void resetDirBoolean() {\n        left = false;\n        right = false;\n        down = false;\n        up = false;\n    }\n    \n    public void setAttack(boolean atk) {\n        this.attacking = atk;\n    }\n\n    public boolean isLeft() {\n        return left;\n    }\n\n    public void setLeft(boolean left) {\n        this.left = left;\n    }\n\n    public boolean isUp() {\n        return up;\n    }\n\n    public void setUp(boolean up) {\n        this.up = up;\n    }\n\n    public boolean isRight() {\n        return right;\n    }\n\n    public void setRight(boolean right) {\n        this.right = right;\n    }\n\n    public boolean isDown() {\n        return down;\n    }\n\n    public void setDown(boolean down) {\n        this.down = down;\n    }\n    \n    \n\n}\n\n</code></pre>\n"},{"tags":["java","cookies","servlets"],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1553194548,"creation_date":1294353784,"answer_id":4620787,"question_id":4620172,"body_markdown":"Something like this :\r\n\r\n    Date expdate = new Date ();\r\n    expdate.setTime (expdate.getTime() + (3600 * 1000));\r\n    String cookieExpire = &quot;expires=&quot; + expdate.toGMTString();\r\n    ...\r\n\r\n.. and since toGMTString() is deprecated\r\n\r\n    Date expdate= new Date();\r\n    expdate.setTime (expdate.getTime() + (3600 * 1000));\r\n    DateFormat df = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, java.util.Locale.US);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String cookieExpire = &quot;expires=&quot; + df.format(expdate);","title":"Expires string in cookie header","body":"<p>Something like this :</p>\n\n<pre><code>Date expdate = new Date ();\nexpdate.setTime (expdate.getTime() + (3600 * 1000));\nString cookieExpire = \"expires=\" + expdate.toGMTString();\n...\n</code></pre>\n\n<p>.. and since toGMTString() is deprecated</p>\n\n<pre><code>Date expdate= new Date();\nexpdate.setTime (expdate.getTime() + (3600 * 1000));\nDateFormat df = new SimpleDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\", java.util.Locale.US);\ndf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nString cookieExpire = \"expires=\" + df.format(expdate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40276,"reputation":3040,"user_id":116710,"accept_rate":88,"display_name":"JasonStoltz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1303217266,"creation_date":1294418042,"answer_id":4627805,"question_id":4620172,"body_markdown":"Well, I haven&#39;t seen much activity on this question, so I&#39;m going to attempt to answer this in order to provide help to anyone looking for an answer in the future. However, I&#39;ll leave it open to give others an opportunity to jump in if they choose.\r\n\r\nSo there were a couple of options that I considered... \r\n\r\n**1)**\r\n\r\nApache Commons HTTPClient project has a &quot;DateUtil&quot; class that I was hoping would work. http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html. This provides convenience methods to format the date into a few standard formats to communicate dates in http headers... however, none of them seemed to match exactly what was being returned by the servlet container.\r\n\r\n**2)**\r\n\r\nApache Commons also has a Cookie class in that project, which has a &quot;toExternalForm&quot; method that returns a String. Using that, I thought I may have been able to just create the cookie per usual, call &quot;toExternalForm&quot;, then append &quot;HTTPOnly&quot;. http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/Cookie.html. That might work, but I didn&#39;t bother trying.\r\n\r\n**3)**\r\n\r\nI finally decided just to use a pattern that matched what my Servlet container was returning, regardless of whether it was a standard format or not. If it is what the Servlet container returns, then it should work, right? Why not...\r\n\r\n    SimpleDateFormat COOKIE_EXPIRES_HEADER_FORMAT = new SimpleDateFormat(&quot;EEE, dd-MMM-yyyy HH:mm:ss zzz&quot;);\r\n    COOKIE_EXPIRES_HEADER_FORMAT.setTimeZone(new SimpleTimeZone(0, &quot;GMT&quot;));\r\n    Date d = new Date();\r\n    d.setTime(d.getTime() + 3600 * 1000); //1 hour\r\n    String cookieLifeTime = COOKIE_EXPIRES_HEADER_FORMAT.format(d);\r\n    response.setHeader(&quot;Set-Cookie&quot;, &quot;test=somevalue; Domain=.mydomain.org; Expires=&quot; + cookieLifeTime + &quot;; Path=/; HTTPOnly&quot;);\r\n","title":"Expires string in cookie header","body":"<p>Well, I haven't seen much activity on this question, so I'm going to attempt to answer this in order to provide help to anyone looking for an answer in the future. However, I'll leave it open to give others an opportunity to jump in if they choose.</p>\n\n<p>So there were a couple of options that I considered... </p>\n\n<p><strong>1)</strong></p>\n\n<p>Apache Commons HTTPClient project has a \"DateUtil\" class that I was hoping would work. <a href=\"http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html\" rel=\"noreferrer\">http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html</a>. This provides convenience methods to format the date into a few standard formats to communicate dates in http headers... however, none of them seemed to match exactly what was being returned by the servlet container.</p>\n\n<p><strong>2)</strong></p>\n\n<p>Apache Commons also has a Cookie class in that project, which has a \"toExternalForm\" method that returns a String. Using that, I thought I may have been able to just create the cookie per usual, call \"toExternalForm\", then append \"HTTPOnly\". <a href=\"http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/Cookie.html\" rel=\"noreferrer\">http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/Cookie.html</a>. That might work, but I didn't bother trying.</p>\n\n<p><strong>3)</strong></p>\n\n<p>I finally decided just to use a pattern that matched what my Servlet container was returning, regardless of whether it was a standard format or not. If it is what the Servlet container returns, then it should work, right? Why not...</p>\n\n<pre><code>SimpleDateFormat COOKIE_EXPIRES_HEADER_FORMAT = new SimpleDateFormat(\"EEE, dd-MMM-yyyy HH:mm:ss zzz\");\nCOOKIE_EXPIRES_HEADER_FORMAT.setTimeZone(new SimpleTimeZone(0, \"GMT\"));\nDate d = new Date();\nd.setTime(d.getTime() + 3600 * 1000); //1 hour\nString cookieLifeTime = COOKIE_EXPIRES_HEADER_FORMAT.format(d);\nresponse.setHeader(\"Set-Cookie\", \"test=somevalue; Domain=.mydomain.org; Expires=\" + cookieLifeTime + \"; Path=/; HTTPOnly\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1842926,"reputation":393,"user_id":1671968,"display_name":"schimmy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364841559,"creation_date":1362597269,"answer_id":15255990,"question_id":4620172,"body_markdown":"The first answer given by JasonStoltz is the correct one:\r\n\r\n&gt; 1) Apache Commons HTTPClient project has a &quot;DateUtil&quot; class that I was hoping would work. http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html. This provides convenience methods to format the date into a few standard formats to communicate dates in http headers... however, none of them seemed to match exactly what was being returned by the servlet container.\r\n\r\nUse a DateTime library to get a date object for one hour in the future (or whatever time), and then use the Apache DateUtil class. **That class outputs according to the RFC, so you do not have to worry that it does not match what your servlet &#39;usually produces&#39; - browsers will respect the RFC**!\r\n\r\nYour code will look something like this:\r\n\r\n    // for one hour later (should probably use date libraries in general, this is somewhat awkward)\r\n    Date expiresDate = new Date(new Date().getTime() + 3600*1000); \r\n    response.setHeader(&quot;Set-Cookie&quot;, &quot;Expires=&quot; + DateUtil.formatDate(expiresDate) + &quot;;&quot;);","title":"Expires string in cookie header","body":"<p>The first answer given by JasonStoltz is the correct one:</p>\n\n<blockquote>\n  <p>1) Apache Commons HTTPClient project has a \"DateUtil\" class that I was hoping would work. <a href=\"http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html\" rel=\"nofollow\">http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/util/DateUtil.html</a>. This provides convenience methods to format the date into a few standard formats to communicate dates in http headers... however, none of them seemed to match exactly what was being returned by the servlet container.</p>\n</blockquote>\n\n<p>Use a DateTime library to get a date object for one hour in the future (or whatever time), and then use the Apache DateUtil class. <strong>That class outputs according to the RFC, so you do not have to worry that it does not match what your servlet 'usually produces' - browsers will respect the RFC</strong>!</p>\n\n<p>Your code will look something like this:</p>\n\n<pre><code>// for one hour later (should probably use date libraries in general, this is somewhat awkward)\nDate expiresDate = new Date(new Date().getTime() + 3600*1000); \nresponse.setHeader(\"Set-Cookie\", \"Expires=\" + DateUtil.formatDate(expiresDate) + \";\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432485,"reputation":10153,"user_id":1354590,"accept_rate":100,"display_name":"kuporific"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1478645207,"creation_date":1478633767,"answer_id":40495036,"question_id":4620172,"body_markdown":"Java 8 now supplies an appropriate date formatter, [DateTimeFormatter.RFC_1123_DATE_TIME](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    OffsetDateTime oneHourFromNow \r\n            = OffsetDateTime.now(ZoneOffset.UTC)\r\n            .plus(Duration.ofHours(1));\r\n\r\n    String cookieExpires \r\n            = DateTimeFormatter.RFC_1123_DATE_TIME\r\n            .format(oneHourFromNow);\r\n\r\n    // E.g. &quot;Tue, 8 Nov 2016 20:15:46 GMT&quot;\r\n\r\nThis format is valid for the the `expires` attribute, see [RFC 6265 &amp;sect; 4.1.1](https://www.rfc-editor.org/rfc/rfc6265#section-4.1.1), which defines the format to be an RFC 1123 date:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n&gt;     expires-av        = &quot;Expires=&quot; sane-cookie-date\r\n&gt;     sane-cookie-date  = &lt;rfc1123-date, defined in [RFC2616], Section 3.3.1&gt;\r\n    ","title":"Expires string in cookie header","body":"<p>Java 8 now supplies an appropriate date formatter, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">DateTimeFormatter.RFC_1123_DATE_TIME</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime oneHourFromNow \n        = OffsetDateTime.now(ZoneOffset.UTC)\n        .plus(Duration.ofHours(1));\n\nString cookieExpires \n        = DateTimeFormatter.RFC_1123_DATE_TIME\n        .format(oneHourFromNow);\n\n// E.g. &quot;Tue, 8 Nov 2016 20:15:46 GMT&quot;\n</code></pre>\n<p>This format is valid for the the <code>expires</code> attribute, see <a href=\"https://www.rfc-editor.org/rfc/rfc6265#section-4.1.1\" rel=\"nofollow noreferrer\">RFC 6265 § 4.1.1</a>, which defines the format to be an RFC 1123 date:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>expires-av        = &quot;Expires=&quot; sane-cookie-date\nsane-cookie-date  = &lt;rfc1123-date, defined in [RFC2616], Section 3.3.1&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690070810,"creation_date":1690046478,"answer_id":76745009,"question_id":4620172,"body_markdown":"Good answers. Here is an update that does not overwrite all other Set-Cookie headers, but rather adds your cookie.\r\n\r\n\t\tString name = &quot;your-cookie-name&quot;;\r\n\t\tString value = &quot;some-value-for-your-cookie&quot;;\r\n\t\tint maxAgeSeconds = 3600;\r\n\r\n\t\tString encodedValue = URLEncoder.encode(value, StandardCharsets.UTF_8);\r\n\t\tSimpleDateFormat cookieExpiresFormat = new SimpleDateFormat(&quot;EEE, dd-MMM-yyyy HH:mm:ss zzz&quot;);\r\n\t\tcookieExpiresFormat.setTimeZone(new SimpleTimeZone(0, &quot;GMT&quot;));\r\n\t\tDate expiresDate = new Date(System.currentTimeMillis() + ((long)maxAgeSeconds * 1000L));\r\n\t\tString expires = cookieExpiresFormat.format(expiresDate);\r\n\t\tresponse.addHeader(\r\n\t\t\t&quot;Set-Cookie&quot;, \r\n\t\t\tString.format(&quot;%1$s=%2$s; Max-Age=%3$d; Expires=%4$s; Path=/; HttpOnly;&quot;, name, encodedValue, maxAgeSeconds, expires));\r\n\r\nThis example:\r\n - Does not overwrite other cookies\r\n - Encodes the value to be safe and not break the cookie\r\n - Handy if you are also setting MaxAge\r\n - Saves some work around Date by using it&#39;s epoch constructor\r\n\r\nNOTE: The jakarta.servlet.http.Cookie class does not support things like SameSite (one reason you may still need code like this). It also **DOES NOT ESCAPE** values.  If, for some reason you want to use odd characters in your cookie name you need to escape that also.\r\n\r\nP.S. Don&#39;t forget to URLDecoder.decode() the value when you get it back.","title":"Expires string in cookie header","body":"<p>Good answers. Here is an update that does not overwrite all other Set-Cookie headers, but rather adds your cookie.</p>\n<pre><code>    String name = &quot;your-cookie-name&quot;;\n    String value = &quot;some-value-for-your-cookie&quot;;\n    int maxAgeSeconds = 3600;\n\n    String encodedValue = URLEncoder.encode(value, StandardCharsets.UTF_8);\n    SimpleDateFormat cookieExpiresFormat = new SimpleDateFormat(&quot;EEE, dd-MMM-yyyy HH:mm:ss zzz&quot;);\n    cookieExpiresFormat.setTimeZone(new SimpleTimeZone(0, &quot;GMT&quot;));\n    Date expiresDate = new Date(System.currentTimeMillis() + ((long)maxAgeSeconds * 1000L));\n    String expires = cookieExpiresFormat.format(expiresDate);\n    response.addHeader(\n        &quot;Set-Cookie&quot;, \n        String.format(&quot;%1$s=%2$s; Max-Age=%3$d; Expires=%4$s; Path=/; HttpOnly;&quot;, name, encodedValue, maxAgeSeconds, expires));\n</code></pre>\n<p>This example:</p>\n<ul>\n<li>Does not overwrite other cookies</li>\n<li>Encodes the value to be safe and not break the cookie</li>\n<li>Handy if you are also setting MaxAge</li>\n<li>Saves some work around Date by using it's epoch constructor</li>\n</ul>\n<p>NOTE: The jakarta.servlet.http.Cookie class does not support things like SameSite (one reason you may still need code like this). It also <strong>DOES NOT ESCAPE</strong> values.  If, for some reason you want to use odd characters in your cookie name you need to escape that also.</p>\n<p>P.S. Don't forget to URLDecoder.decode() the value when you get it back.</p>\n"}],"owner":{"account_id":40276,"reputation":3040,"user_id":116710,"accept_rate":88,"display_name":"JasonStoltz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47526,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":4620787,"answer_count":5,"score":14,"last_activity_date":1690070810,"creation_date":1294349934,"question_id":4620172,"body_markdown":"Simple question I think, but I just can&#39;t seem to find an answer.\r\n\r\nI am writing a cookie in a Java Servlet with the Cookie class which is sent to the browser in the response headers like the following:\r\n\r\n    Set-Cookie: test=somevalue; Domain=.mydomain.org; Expires=Thu, 06-Jan-2011 18:45:20 GMT; Path=/\r\n\r\nI am doing this via the Cookie class in the Servlet 2.5 API. I need to add &quot;HTTPOnly&quot; to the end of this String, which the Servlet 2.5 API does not support. No problem, I&#39;ll just create the String manually and append &quot;HTTPOnly&quot; to the end...\r\n\r\nHowever, in doing so, the challenge I ran into is that to set the &quot;Expires&quot; header there in the first place, I used .setMaxAge(3600), which creates the &quot;Expires&quot; part of that String. However, since I can&#39;t use the Cookie class, I need to create the value of of that &quot;Expires&quot; portion.\r\n\r\n**So basically, how can I make &quot;3600&quot; formatted to &quot;Thu, 06-Jan-2011 18:45:20 GMT&quot;?**\r\n\r\nNote: I could probably figure out the correct pattern with DateFormat, but I was hoping there was a better way to do it. Another thought: Use the Cookie class as before then just convert the Cookie into the corresponding header string programatically, then just append &quot;HTTPOnly&quot; to the end. But I am not aware of any way to take the Cookie object and convert it to the corresponding String value.\r\n\r\n**So optionally, how can I take a Cookie object and convert it to the corresponding String value programatically?**\r\n\r\nThanks!","title":"Expires string in cookie header","body":"<p>Simple question I think, but I just can't seem to find an answer.</p>\n\n<p>I am writing a cookie in a Java Servlet with the Cookie class which is sent to the browser in the response headers like the following:</p>\n\n<pre><code>Set-Cookie: test=somevalue; Domain=.mydomain.org; Expires=Thu, 06-Jan-2011 18:45:20 GMT; Path=/\n</code></pre>\n\n<p>I am doing this via the Cookie class in the Servlet 2.5 API. I need to add \"HTTPOnly\" to the end of this String, which the Servlet 2.5 API does not support. No problem, I'll just create the String manually and append \"HTTPOnly\" to the end...</p>\n\n<p>However, in doing so, the challenge I ran into is that to set the \"Expires\" header there in the first place, I used .setMaxAge(3600), which creates the \"Expires\" part of that String. However, since I can't use the Cookie class, I need to create the value of of that \"Expires\" portion.</p>\n\n<p><strong>So basically, how can I make \"3600\" formatted to \"Thu, 06-Jan-2011 18:45:20 GMT\"?</strong></p>\n\n<p>Note: I could probably figure out the correct pattern with DateFormat, but I was hoping there was a better way to do it. Another thought: Use the Cookie class as before then just convert the Cookie into the corresponding header string programatically, then just append \"HTTPOnly\" to the end. But I am not aware of any way to take the Cookie object and convert it to the corresponding String value.</p>\n\n<p><strong>So optionally, how can I take a Cookie object and convert it to the corresponding String value programatically?</strong></p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","elasticsearch","jackson-databind"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1690068923,"post_id":76746142,"comment_id":135301912,"body_markdown":"https://www.baeldung.com/jackson-ignore-properties-on-serialization#filters","body":"<a href=\"https://www.baeldung.com/jackson-ignore-properties-on-serialization#filters\" rel=\"nofollow noreferrer\">baeldung.com/jackson-ignore-properties-on-serialization#filt&zwnj;&#8203;ers</a>"}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690070334,"creation_date":1690070334,"answer_id":76746188,"question_id":76746142,"body_markdown":"Add `@JsonProperty(access = Access.WRITE_ONLY)` to the field you want to be extracted from the response but not included on serialization.","title":"How to exclude fields from the response when deserializing Elasticsearch query results in Spring Boot?","body":"<p>Add <code>@JsonProperty(access = Access.WRITE_ONLY)</code> to the field you want to be extracted from the response but not included on serialization.</p>\n"}],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690070334,"creation_date":1690068660,"question_id":76746142,"body_markdown":"I am using Spring Boot 2.6.14 and I have an entity class MyEntity that represents documents in an Elasticsearch index. I want to execute a search query on the index and deserialize the results into instances of MyEntity. However, I only want to include certain fields in the response, based on the includes and excludes options in the _source field of the query.\r\n\r\nHere is my MyEntity class::\r\n```\r\n@Document(indexname = &quot;index_name&quot;)\r\n@JsonInclude\r\npublic class MyEntity {\r\n\r\n  @JsonSetter(&quot;_id&quot;)\r\n  private Long id; \r\n\r\n  @JsonSetter(&quot;field_1&quot;)\r\n  private String fieldOne;\r\n\r\n  @JsonSetter(&quot;field_2&quot;)\r\n  private String fieldTwo;\r\n\r\n  @JsonSetter(&quot;field_3&quot;)\r\n  private String fieldThree; //I want to hide this to the user and only return fields that are in the includes.\r\n}\r\n```\r\n\r\nHere is an example of a search query that I want to execute::\r\n\r\n```\r\nPOST index_name/_search\r\n{\r\n    &quot;_source&quot;: {\r\n        &quot;includes&quot;: [ &quot;_id&quot;, &quot;field_1&quot;, &quot;field_2&quot; ],\r\n        &quot;excludes&quot;: [ &quot;field_3&quot; ]\r\n    },\r\n    &quot;query&quot;: {\r\n        &quot;match&quot; : { &quot;field_1&quot; : &quot;value1&quot; }\r\n    }\r\n}\r\n```\r\nor \r\n```\r\nPOST index_name/_search\r\n{\r\n    &quot;_source&quot;: {\r\n        &quot;includes&quot;: [ &quot;_id&quot;, &quot;field_1&quot;, &quot;field_3&quot; ],\r\n        &quot;excludes&quot;: [ &quot;field_2&quot; ]\r\n    },\r\n    &quot;query&quot;: {\r\n        &quot;match&quot; : { &quot;field_1&quot; : &quot;value1&quot; }\r\n    }\r\n}\r\n```\r\n\r\nHere is an example of a document in the index::\r\n\r\n```\r\n{\r\n  &quot;_index&quot;: &quot;index_name&quot;,\r\n  &quot;_type&quot;: &quot;_doc&quot;,\r\n  &quot;_id&quot;: &quot;1&quot;,\r\n  &quot;_source&quot;: {\r\n    &quot;field_1&quot;: &quot;value1&quot;,\r\n    &quot;field_2&quot;: null,\r\n    &quot;field_3&quot;: &quot;value3&quot;\r\n  }\r\n}\r\n```\r\n\r\nWhen I execute the search query and deserialize the results into instances of MyEntity, I expect to get a response like this::\r\n\r\n```\r\n{\r\n    &quot;id&quot;: 1\r\n    &quot;fieldOne&quot;: &quot;value1&quot;,\r\n    &quot;fieldTwo&quot;: null\r\n}\r\n```\r\n\r\nfor the second query, the expected response::\r\n```\r\n{\r\n    &quot;id&quot;: 1\r\n    &quot;fieldOne&quot;: &quot;value1&quot;,\r\n    &quot;fieldThree&quot;: &quot;value3&quot;\r\n}\r\n```\r\n\r\n\r\nHowever, what I actually get the first query is this::\r\n```\r\n{\r\n    &quot;id&quot;: 1\r\n    &quot;fieldOne&quot;: &quot;value1&quot;,\r\n    &quot;fieldThree&quot;: null\r\n}\r\n```\r\n\r\nand second, I get:\r\n```\r\n{\r\n    &quot;id&quot;: 1\r\n    &quot;fieldOne&quot;: &quot;value1&quot;,\r\n    &quot;fieldTwo&quot;: null,\r\n    &quot;fieldThree&quot;: &quot;value3&quot;\r\n}\r\n```\r\n\r\n\r\nHow can I exclude the fieldThree field from the response when deserializing the Elasticsearch query results?","title":"How to exclude fields from the response when deserializing Elasticsearch query results in Spring Boot?","body":"<p>I am using Spring Boot 2.6.14 and I have an entity class MyEntity that represents documents in an Elasticsearch index. I want to execute a search query on the index and deserialize the results into instances of MyEntity. However, I only want to include certain fields in the response, based on the includes and excludes options in the _source field of the query.</p>\n<p>Here is my MyEntity class::</p>\n<pre><code>@Document(indexname = &quot;index_name&quot;)\n@JsonInclude\npublic class MyEntity {\n\n  @JsonSetter(&quot;_id&quot;)\n  private Long id; \n\n  @JsonSetter(&quot;field_1&quot;)\n  private String fieldOne;\n\n  @JsonSetter(&quot;field_2&quot;)\n  private String fieldTwo;\n\n  @JsonSetter(&quot;field_3&quot;)\n  private String fieldThree; //I want to hide this to the user and only return fields that are in the includes.\n}\n</code></pre>\n<p>Here is an example of a search query that I want to execute::</p>\n<pre><code>POST index_name/_search\n{\n    &quot;_source&quot;: {\n        &quot;includes&quot;: [ &quot;_id&quot;, &quot;field_1&quot;, &quot;field_2&quot; ],\n        &quot;excludes&quot;: [ &quot;field_3&quot; ]\n    },\n    &quot;query&quot;: {\n        &quot;match&quot; : { &quot;field_1&quot; : &quot;value1&quot; }\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>POST index_name/_search\n{\n    &quot;_source&quot;: {\n        &quot;includes&quot;: [ &quot;_id&quot;, &quot;field_1&quot;, &quot;field_3&quot; ],\n        &quot;excludes&quot;: [ &quot;field_2&quot; ]\n    },\n    &quot;query&quot;: {\n        &quot;match&quot; : { &quot;field_1&quot; : &quot;value1&quot; }\n    }\n}\n</code></pre>\n<p>Here is an example of a document in the index::</p>\n<pre><code>{\n  &quot;_index&quot;: &quot;index_name&quot;,\n  &quot;_type&quot;: &quot;_doc&quot;,\n  &quot;_id&quot;: &quot;1&quot;,\n  &quot;_source&quot;: {\n    &quot;field_1&quot;: &quot;value1&quot;,\n    &quot;field_2&quot;: null,\n    &quot;field_3&quot;: &quot;value3&quot;\n  }\n}\n</code></pre>\n<p>When I execute the search query and deserialize the results into instances of MyEntity, I expect to get a response like this::</p>\n<pre><code>{\n    &quot;id&quot;: 1\n    &quot;fieldOne&quot;: &quot;value1&quot;,\n    &quot;fieldTwo&quot;: null\n}\n</code></pre>\n<p>for the second query, the expected response::</p>\n<pre><code>{\n    &quot;id&quot;: 1\n    &quot;fieldOne&quot;: &quot;value1&quot;,\n    &quot;fieldThree&quot;: &quot;value3&quot;\n}\n</code></pre>\n<p>However, what I actually get the first query is this::</p>\n<pre><code>{\n    &quot;id&quot;: 1\n    &quot;fieldOne&quot;: &quot;value1&quot;,\n    &quot;fieldThree&quot;: null\n}\n</code></pre>\n<p>and second, I get:</p>\n<pre><code>{\n    &quot;id&quot;: 1\n    &quot;fieldOne&quot;: &quot;value1&quot;,\n    &quot;fieldTwo&quot;: null,\n    &quot;fieldThree&quot;: &quot;value3&quot;\n}\n</code></pre>\n<p>How can I exclude the fieldThree field from the response when deserializing the Elasticsearch query results?</p>\n"},{"tags":["java","spring","jwt","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690069323,"creation_date":1688429005,"answer_id":76608708,"question_id":73809898,"body_markdown":"I also found this area of the Spring Security framework quite opaque. This may not answer the question, but I thought it might help if, like me, you landed here while looking for a way to parse a text JWT into an instance of Springs Jwt class.  There&#39;s likely more elegant, &quot;correct&quot; ways, but this gets it done.\r\n\r\nYou&#39;ll need to import an additional JWT lib:\r\n\r\n    import org.springframework.security.oauth2.jwt.Jwt;\r\n    import com.nimbusds.jwt.JWT;\r\n    import com.nimbusds.jwt.JWTClaimsSet;\r\n    import com.nimbusds.jwt.JWTParser;\r\n\r\nThen:\r\n\r\n    String token = &quot;YOUR_JWT_TEXT_HERE&quot;;\r\n    \r\n    JWT interstitialJwt = JWTParser.parse(token);\r\n    JWTClaimsSet jwtClaimsSet = interstitialJwt.getJWTClaimsSet();\r\n    Instant issuedAt = jwtClaimsSet.getDateClaim(&quot;iat&quot;).toInstant();\r\n    Instant expiresAt = jwtClaimsSet.getDateClaim(&quot;exp&quot;).toInstant();\r\n    \r\n    Jwt.Builder jwtBuilder = Jwt.withTokenValue(token);\r\n    interstitialJwt.getHeader().toJSONObject().entrySet().stream().forEach((header) -&gt; jwtBuilder.header(header.getKey(), header.getValue()));\r\n    jwtClaimsSet.getClaims().entrySet().stream().forEach((claim) -&gt; jwtBuilder.claim(claim.getKey(), claim.getValue()));\r\n    jwtBuilder.issuedAt(issuedAt);\r\n    jwtBuilder.expiresAt(expiresAt);\r\n    Jwt jwt = jwtBuilder.build();\r\n\r\n","title":"JWT parse claims with org.springframework.security.oauth2.jwt","body":"<p>I also found this area of the Spring Security framework quite opaque. This may not answer the question, but I thought it might help if, like me, you landed here while looking for a way to parse a text JWT into an instance of Springs Jwt class.  There's likely more elegant, &quot;correct&quot; ways, but this gets it done.</p>\n<p>You'll need to import an additional JWT lib:</p>\n<pre><code>import org.springframework.security.oauth2.jwt.Jwt;\nimport com.nimbusds.jwt.JWT;\nimport com.nimbusds.jwt.JWTClaimsSet;\nimport com.nimbusds.jwt.JWTParser;\n</code></pre>\n<p>Then:</p>\n<pre><code>String token = &quot;YOUR_JWT_TEXT_HERE&quot;;\n\nJWT interstitialJwt = JWTParser.parse(token);\nJWTClaimsSet jwtClaimsSet = interstitialJwt.getJWTClaimsSet();\nInstant issuedAt = jwtClaimsSet.getDateClaim(&quot;iat&quot;).toInstant();\nInstant expiresAt = jwtClaimsSet.getDateClaim(&quot;exp&quot;).toInstant();\n\nJwt.Builder jwtBuilder = Jwt.withTokenValue(token);\ninterstitialJwt.getHeader().toJSONObject().entrySet().stream().forEach((header) -&gt; jwtBuilder.header(header.getKey(), header.getValue()));\njwtClaimsSet.getClaims().entrySet().stream().forEach((claim) -&gt; jwtBuilder.claim(claim.getKey(), claim.getValue()));\njwtBuilder.issuedAt(issuedAt);\njwtBuilder.expiresAt(expiresAt);\nJwt jwt = jwtBuilder.build();\n</code></pre>\n"}],"owner":{"account_id":15178561,"reputation":163,"user_id":16235371,"display_name":"Johnny boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690069323,"creation_date":1663826034,"question_id":73809898,"body_markdown":"I&#39;m using `org.springframework.security.oauth2.jwt` library to write a JWT utility class which will be in charge of creating tokens and parsing claims. Now my question is how to I parse claims of my JWT correctly? There seems to far and few examples on the web on how to extract a claim using this library. Any help would be appreciate it\r\n\r\n    @Service\r\n    public class JwtUtil {\r\n    \r\n        public static final String JWT_ISSUER = &quot;test.com&quot;;\r\n        public static final long JWT_ACCESS_TOKEN_EXPIRY = 3600L;\r\n        public static final long JWT_REFRESH_TOKEN_EXPIRY = 7200L;\r\n    \r\n        private JwtEncoder jwtEncoder;\r\n    \r\n        private String extractExpiresAt(String token) {\r\n            // return expires at claim\r\n        }\r\n    \r\n        private String createToken(String subject, Consumer&lt;Map&lt;String, Object&gt;&gt; claims) {\r\n            Instant now = Instant.now();\r\n            JwtClaimsSet claimsSet = JwtClaimsSet.builder()\r\n                    .issuer(JWT_ISSUER)\r\n                    .issuedAt(now)\r\n                    .expiresAt(now.plusSeconds(JWT_ACCESS_TOKEN_EXPIRY))\r\n                    .subject(subject)\r\n                    .claims(claims)\r\n                    .build();\r\n    \r\n            return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\r\n        }\r\n    \r\n        private String createRefreshToken(String subject) {\r\n            Instant now = Instant.now();\r\n            JwtClaimsSet claimsSet = JwtClaimsSet.builder()\r\n                    .issuer(JWT_ISSUER)\r\n                    .issuedAt(now)\r\n                    .expiresAt(now.plusSeconds(JWT_REFRESH_TOKEN_EXPIRY))\r\n                    .subject(subject)\r\n                    .build();\r\n    \r\n            return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\r\n        }\r\n    }\r\n\r\n","title":"JWT parse claims with org.springframework.security.oauth2.jwt","body":"<p>I'm using <code>org.springframework.security.oauth2.jwt</code> library to write a JWT utility class which will be in charge of creating tokens and parsing claims. Now my question is how to I parse claims of my JWT correctly? There seems to far and few examples on the web on how to extract a claim using this library. Any help would be appreciate it</p>\n<pre><code>@Service\npublic class JwtUtil {\n\n    public static final String JWT_ISSUER = &quot;test.com&quot;;\n    public static final long JWT_ACCESS_TOKEN_EXPIRY = 3600L;\n    public static final long JWT_REFRESH_TOKEN_EXPIRY = 7200L;\n\n    private JwtEncoder jwtEncoder;\n\n    private String extractExpiresAt(String token) {\n        // return expires at claim\n    }\n\n    private String createToken(String subject, Consumer&lt;Map&lt;String, Object&gt;&gt; claims) {\n        Instant now = Instant.now();\n        JwtClaimsSet claimsSet = JwtClaimsSet.builder()\n                .issuer(JWT_ISSUER)\n                .issuedAt(now)\n                .expiresAt(now.plusSeconds(JWT_ACCESS_TOKEN_EXPIRY))\n                .subject(subject)\n                .claims(claims)\n                .build();\n\n        return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\n    }\n\n    private String createRefreshToken(String subject) {\n        Instant now = Instant.now();\n        JwtClaimsSet claimsSet = JwtClaimsSet.builder()\n                .issuer(JWT_ISSUER)\n                .issuedAt(now)\n                .expiresAt(now.plusSeconds(JWT_REFRESH_TOKEN_EXPIRY))\n                .subject(subject)\n                .build();\n\n        return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\n    }\n}\n</code></pre>\n"},{"tags":["java","telegram","telegram-bot","telegram-webhook"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1690045048,"post_id":76741691,"comment_id":135299542,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28930199,"reputation":11,"user_id":22159099,"display_name":"New York is my city"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690069258,"creation_date":1689981201,"question_id":76741691,"body_markdown":"How to send more than one image to a chat using a telegram bot in Java?\r\n\r\nI have a method that sends one image, but I don&#39;t know how to send multiple images in a group. Tell me how to do it?\r\n\r\n\r\n\t\t    public void webhook(Update update) throws IOException {\r\n\r\n\r\n\t\t        URL url = new URL(&quot;https://api.telegram.org/bot6143090937:AAHOpW0PNMK9qROsFqQ4DE-T1F_ox-IZ0dU/sendPhoto?chat_id=&quot;\r\n\t\t                + update.getMessage().getChatId() + &quot;&amp;caption=Message Message &quot;);\r\n\r\n\t\t        HttpsURLConnection httpConn = (HttpsURLConnection) url.openConnection();\r\n\r\n\t\t        httpConn.setDoOutput(true);\r\n\r\n\t\t        httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=1234567&quot;);\r\n\r\n\t\t        OutputStream outputStream = httpConn.getOutputStream();\r\n\r\n\t\t        PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, StandardCharsets.UTF_8), true);\r\n\r\n\t\t        new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n\r\n\r\n\t\t        writer.append(&quot;--&quot;).append(&quot;1234567&quot;).append(&quot;\\r\\n&quot;);\r\n\t\t        writer.append(&quot;Content-Disposition: form-data; name=\\&quot;&quot;)\r\n\t\t                .append(&quot;photo&quot;)\r\n\t\t                .append(&quot;\\&quot;; filename=\\&quot;&quot;)\r\n\t\t                .append(&quot;image.jpg&quot;).append(&quot;\\&quot;&quot;)\r\n\t\t                .append(&quot;\\r\\n&quot;);\r\n\t\t        writer.append(&quot;\\r\\n&quot;);\r\n\t\t        writer.flush();\r\n\r\n\t\t        File uploadFile1 = new File(&quot;C:\\\\img\\\\image.jpg&quot;);\r\n\r\n\t\t        try (FileInputStream inputStream = new FileInputStream(uploadFile1)) {\r\n\t\t            byte[] buffer = new byte[4096];\r\n\t\t            int byteRead;\r\n\t\t            while ((byteRead = inputStream.read(buffer)) != -1) {\r\n\t\t                outputStream.write(buffer, 0, byteRead);\r\n\t\t            }\r\n\r\n\t\t            outputStream.flush();\r\n\t\t        }\r\n\r\n\t\t        writer.append(&quot;\\r\\n&quot;).flush();\r\n\t\t        writer.append(&quot;--&quot;).append(&quot;1234567&quot;).append(&quot;--&quot;).append(&quot;\\r\\n&quot;);\r\n\r\n\t\t        writer.flush();\r\n\t\t        writer.close();\r\n\r\n\t\t        httpConn.getResponseCode();\r\n\r\n\r\n\t\t    }\r\n\r\n\r\nI know that Telegram has a sendMediaGroup parameter, but I don&#39;t quite understand how to use it.\r\nI tried to find a working example on the web, but I didn&#39;t find such an example. Can you please show me how to send a group of images?","title":"java How to send multiple images to a chat using a telegram bot","body":"<p>How to send more than one image to a chat using a telegram bot in Java?</p>\n<p>I have a method that sends one image, but I don't know how to send multiple images in a group. Tell me how to do it?</p>\n<pre><code>        public void webhook(Update update) throws IOException {\n\n\n            URL url = new URL(&quot;https://api.telegram.org/bot6143090937:AAHOpW0PNMK9qROsFqQ4DE-T1F_ox-IZ0dU/sendPhoto?chat_id=&quot;\n                    + update.getMessage().getChatId() + &quot;&amp;caption=Message Message &quot;);\n\n            HttpsURLConnection httpConn = (HttpsURLConnection) url.openConnection();\n\n            httpConn.setDoOutput(true);\n\n            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=1234567&quot;);\n\n            OutputStream outputStream = httpConn.getOutputStream();\n\n            PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, StandardCharsets.UTF_8), true);\n\n            new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\n\n\n            writer.append(&quot;--&quot;).append(&quot;1234567&quot;).append(&quot;\\r\\n&quot;);\n            writer.append(&quot;Content-Disposition: form-data; name=\\&quot;&quot;)\n                    .append(&quot;photo&quot;)\n                    .append(&quot;\\&quot;; filename=\\&quot;&quot;)\n                    .append(&quot;image.jpg&quot;).append(&quot;\\&quot;&quot;)\n                    .append(&quot;\\r\\n&quot;);\n            writer.append(&quot;\\r\\n&quot;);\n            writer.flush();\n\n            File uploadFile1 = new File(&quot;C:\\\\img\\\\image.jpg&quot;);\n\n            try (FileInputStream inputStream = new FileInputStream(uploadFile1)) {\n                byte[] buffer = new byte[4096];\n                int byteRead;\n                while ((byteRead = inputStream.read(buffer)) != -1) {\n                    outputStream.write(buffer, 0, byteRead);\n                }\n\n                outputStream.flush();\n            }\n\n            writer.append(&quot;\\r\\n&quot;).flush();\n            writer.append(&quot;--&quot;).append(&quot;1234567&quot;).append(&quot;--&quot;).append(&quot;\\r\\n&quot;);\n\n            writer.flush();\n            writer.close();\n\n            httpConn.getResponseCode();\n\n\n        }\n</code></pre>\n<p>I know that Telegram has a sendMediaGroup parameter, but I don't quite understand how to use it.\nI tried to find a working example on the web, but I didn't find such an example. Can you please show me how to send a group of images?</p>\n"},{"tags":["java","sorting","optaplanner"],"owner":{"account_id":29069614,"reputation":1,"user_id":22268327,"display_name":"Ramiro Brescia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690067714,"creation_date":1690040132,"question_id":76744611,"body_markdown":"In the **optaplanner-quarkus-vehicle-routing-quickstart** example there is an implementation of the interface `SelectionSorterWeightFactory`. I don&#180;t see any annotation or configuration that refer to it, but viewing the solution is in use. There isn&#39;t a .xml solver configuration.\r\n\r\nCan do You help me to kwon where and how to configure?\r\n\r\nI implement my own (same but with my own fields names), where the Customer is Fact. The order of the customers on each vahicle in the solution, isn&#39;t correct.\r\n\r\n[enter image description here](https://i.stack.imgur.com/5nANU.png)\r\n\r\nThe numbers of the pins are the solution order, but the correct (using that numbers) is: 1,2,3,6,5,4\r\n","title":"How I know if a SelectionSorterWeightFactory is used","body":"<p>In the <strong>optaplanner-quarkus-vehicle-routing-quickstart</strong> example there is an implementation of the interface <code>SelectionSorterWeightFactory</code>. I don´t see any annotation or configuration that refer to it, but viewing the solution is in use. There isn't a .xml solver configuration.</p>\n<p>Can do You help me to kwon where and how to configure?</p>\n<p>I implement my own (same but with my own fields names), where the Customer is Fact. The order of the customers on each vahicle in the solution, isn't correct.</p>\n<p><a href=\"https://i.stack.imgur.com/5nANU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The numbers of the pins are the solution order, but the correct (using that numbers) is: 1,2,3,6,5,4</p>\n"},{"tags":["java","swing","jframe","stack-overflow"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1690064385,"post_id":76745952,"comment_id":135301596,"body_markdown":"Why does ServingButtons extend MainFrame which extends JFrame. You can&#39;t add a frame to another frame. You add a `JPanel` to the frame. Don&#39;t extend MainFrame or JFrame. Instead you can extend `JPanel`. I suggest you read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for example code on how to better structure your classes.","body":"Why does ServingButtons extend MainFrame which extends JFrame. You can&#39;t add a frame to another frame. You add a <code>JPanel</code> to the frame. Don&#39;t extend MainFrame or JFrame. Instead you can extend <code>JPanel</code>. I suggest you read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for example code on how to better structure your classes."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":4,"creation_date":1690066827,"post_id":76745952,"comment_id":135301766,"body_markdown":"For future reference, you should get a stack trace with a runtime error message of this type. When posting questions about such errors, the question body should include an exact copy of the error message and the stack trace. The stack trace will show the names of the methods called, the order in which they were called, and the corresponding line numbers in the source code.  Looking at the stack trace could give you enough information to solve the problem without asking on Stack Overflow, or change the nature of the question you ask here.","body":"For future reference, you should get a stack trace with a runtime error message of this type. When posting questions about such errors, the question body should include an exact copy of the error message and the stack trace. The stack trace will show the names of the methods called, the order in which they were called, and the corresponding line numbers in the source code.  Looking at the stack trace could give you enough information to solve the problem without asking on Stack Overflow, or change the nature of the question you ask here."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1690079543,"post_id":76745952,"comment_id":135302503,"body_markdown":"Time to be blunt: as with your previous questions, you are continuing to create and use bad code. Seriously. You first should create decent non-GUI classes and OOP-ify this mess *before* trying to create a GUI user interface. It looks like you&#39;re trying to learn how to build an airplane before learning how to first drive a car. Until you do this, you will continue to run into messy errors and continue to struggle to get this code to work. Learn basic Java OOPS first. THEN learn GUI coding.","body":"Time to be blunt: as with your previous questions, you are continuing to create and use bad code. Seriously. You first should create decent non-GUI classes and OOP-ify this mess <i>before</i> trying to create a GUI user interface. It looks like you&#39;re trying to learn how to build an airplane before learning how to first drive a car. Until you do this, you will continue to run into messy errors and continue to struggle to get this code to work. Learn basic Java OOPS first. THEN learn GUI coding."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690065759,"creation_date":1690065759,"answer_id":76746043,"question_id":76745952,"body_markdown":"`new ServingButtons()` does a lot:\r\n\r\n* First, we determine the full class hierarchy. Which is `Object -&gt; .... JFrame -&gt; MainFrame -&gt; ServingButtons`.\r\n\r\n* Then, going from `Object` up to `ServingButtons`, the JVM will run the instance initializers (here, all non-static fields that are initialized as they are declared by some non-constant value, such as `JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));`).\r\n\r\n* Then, the ServingButtons constructor is invoked.\r\n\r\n* Note that all constructors __MUST__ start with a `this()` or `super()` statement. (in JDK22+ you no longer have to run it as first thing, but you still have to guaranteed run a this or super). __That means any given constructor necessarily ends up invoking one of its parent class&#39;s constructor, and so on__.\r\n\r\nThus, constructing a new `ServingButtons`, given that it extends `MainFrame`, it&#39;ll end up running MainFrame&#39;s constructor, which calls `new ServingButtons()`, which ends up running MainFrame&#39;s constructor, which calls `new ServingButtons()`, .... you get the point.\r\n\r\nServingButtons having `extends MainFrame` on it is weird. I don&#39;t know what you thought that would accomplish, but, it doesn&#39;t - and it does cause that stack overflow.\r\n","title":"StackOverFlow error keeps on propping up even without recursion in my code","body":"<p><code>new ServingButtons()</code> does a lot:</p>\n<ul>\n<li><p>First, we determine the full class hierarchy. Which is <code>Object -&gt; .... JFrame -&gt; MainFrame -&gt; ServingButtons</code>.</p>\n</li>\n<li><p>Then, going from <code>Object</code> up to <code>ServingButtons</code>, the JVM will run the instance initializers (here, all non-static fields that are initialized as they are declared by some non-constant value, such as <code>JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));</code>).</p>\n</li>\n<li><p>Then, the ServingButtons constructor is invoked.</p>\n</li>\n<li><p>Note that all constructors <strong>MUST</strong> start with a <code>this()</code> or <code>super()</code> statement. (in JDK22+ you no longer have to run it as first thing, but you still have to guaranteed run a this or super). <strong>That means any given constructor necessarily ends up invoking one of its parent class's constructor, and so on</strong>.</p>\n</li>\n</ul>\n<p>Thus, constructing a new <code>ServingButtons</code>, given that it extends <code>MainFrame</code>, it'll end up running MainFrame's constructor, which calls <code>new ServingButtons()</code>, which ends up running MainFrame's constructor, which calls <code>new ServingButtons()</code>, .... you get the point.</p>\n<p>ServingButtons having <code>extends MainFrame</code> on it is weird. I don't know what you thought that would accomplish, but, it doesn't - and it does cause that stack overflow.</p>\n"}],"owner":{"account_id":29011817,"reputation":11,"user_id":22223162,"display_name":"Nicholas McNamara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1690079551,"accepted_answer_id":76746043,"answer_count":1,"score":-2,"last_activity_date":1690066504,"creation_date":1690063626,"question_id":76745952,"body_markdown":"I keep on seeing the &quot;Exception in thread &quot;main&quot; java.lang.StackOverflowError&quot;. I know this mainly pops up because of recursion however in my code I don&#39;t see how its being recursive. My main issue is that I really don&#39;t know how to fix this error.  \r\n\r\nI have three classes that I am using. I am using a main class called &quot;mainIA&quot; which I use to execute the code, then I have another class called &quot;MainFrame&quot; which extends &quot;mainIA&quot;. Then I have &quot;ServingButtons&quot; class which extends &quot;MainFrame&quot; Class. \r\n\r\nHere is my mainIA class code:\r\n```\r\n public static void main(String[] args) {\r\n        MainFrame frame = new MainFrame();\r\n    }\r\n```\r\nHere is my MainFrame class code (this is where the error is coming from. \r\n```\r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MainFrame extends JFrame {\r\n    //all the foods\r\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\r\n    final static String bananaBread = &quot;banana bread&quot;;\r\n    final static String brownies = &quot;brownies&quot;;\r\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\r\n    final static String macarons = &quot;macarons&quot;;\r\n\r\n    public MainFrame(){\r\n\r\n        JPanel recipeName = new JPanel(); //this will have the JComboBox with the foodList\r\n        JLabel recipe = new JLabel(&quot;Recipes: &quot;);\r\n        recipeName.setLayout(new FlowLayout());\r\n        recipeName.add(recipe);\r\n        JComboBox foodList = new JComboBox(food);\r\n        recipeName.add(foodList);\r\n\r\n        JLabel ingredients = new JLabel(&quot;Ingredients&quot;); //this will have the dynamically changing ingredients\r\n        JLabel inputRecipe = new JLabel(&quot;Input Recipe&quot;); //this will have the input recipe JTextField\r\n\r\n\r\n        this.setTitle(&quot;Recipe Portion Calculator&quot;);\r\n        this.setLayout(new GridLayout(4,1));\r\n        this.setSize(800,800);\r\n        this.add(recipeName);\r\n        this.add(new ServingButtons()); //&lt;&lt; IntelliJ identifies the error on this line\r\n        this.add(ingredients);\r\n        this.add(inputRecipe);\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n        this.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\nHere is my ServingsButton class code:\r\n```\r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ServingButtons extends MainFrame {\r\n    public int servingNumber = 0;\r\n    //ingredient Volumes\r\n    public int almondFlourVol = 0;\r\n    public int allPurposeFlourVol = 0;\r\n    public int unsaltedButterVol = 0;\r\n    public int bakingSodaVol = 0;\r\n    public int bakingPowderVol = 0;\r\n    public int vanillaExtractVol = 0;\r\n    public int cocoaPowderVol = 0;\r\n    public int saltVol = 0;\r\n    public int chocolateChipsVol = 0;\r\n    public int instantEspressoVol = 0;\r\n    public int vegetableOilVol = 0;\r\n    public int bananasVol = 0;\r\n    //sugars\r\n    public int granulatedSugarVol = 0;\r\n    public int powderedSugarVol = 0;\r\n    public int lightBrownSugarVol = 0;\r\n    //eggs\r\n    public int eggsVol = 0;\r\n    public int eggWhitesVol = 0;\r\n\r\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\r\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\r\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\r\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\r\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\r\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\r\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\r\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\r\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\r\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\r\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\r\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\r\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\r\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\r\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\r\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\r\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\r\n    JPanel servings = new JPanel();\r\n\r\n    public ServingButtons() {\r\n        servings.setLayout(new GridLayout(1, 4));\r\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\r\n        servings.add(new JLabel(&quot;Number of Servings: &quot;));\r\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\r\n        JButton decButton = new JButton((&quot;-&quot;));\r\n        decButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(--servingNumber));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\r\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\r\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\r\n        });\r\n        JLabel space = new JLabel(&quot;&quot;);\r\n        servings.add(space);\r\n        servings.add(decButton);\r\n        servings.add(counterLbl);\r\n        JButton incButton = new JButton(&quot;+&quot;);\r\n        incButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(++servingNumber));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\r\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\r\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\r\n        });\r\n        servings.add(incButton);\r\n    }\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated!","title":"StackOverFlow error keeps on propping up even without recursion in my code","body":"<p>I keep on seeing the &quot;Exception in thread &quot;main&quot; java.lang.StackOverflowError&quot;. I know this mainly pops up because of recursion however in my code I don't see how its being recursive. My main issue is that I really don't know how to fix this error.</p>\n<p>I have three classes that I am using. I am using a main class called &quot;mainIA&quot; which I use to execute the code, then I have another class called &quot;MainFrame&quot; which extends &quot;mainIA&quot;. Then I have &quot;ServingButtons&quot; class which extends &quot;MainFrame&quot; Class.</p>\n<p>Here is my mainIA class code:</p>\n<pre><code> public static void main(String[] args) {\n        MainFrame frame = new MainFrame();\n    }\n</code></pre>\n<p>Here is my MainFrame class code (this is where the error is coming from.</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class MainFrame extends JFrame {\n    //all the foods\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\n    final static String bananaBread = &quot;banana bread&quot;;\n    final static String brownies = &quot;brownies&quot;;\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\n    final static String macarons = &quot;macarons&quot;;\n\n    public MainFrame(){\n\n        JPanel recipeName = new JPanel(); //this will have the JComboBox with the foodList\n        JLabel recipe = new JLabel(&quot;Recipes: &quot;);\n        recipeName.setLayout(new FlowLayout());\n        recipeName.add(recipe);\n        JComboBox foodList = new JComboBox(food);\n        recipeName.add(foodList);\n\n        JLabel ingredients = new JLabel(&quot;Ingredients&quot;); //this will have the dynamically changing ingredients\n        JLabel inputRecipe = new JLabel(&quot;Input Recipe&quot;); //this will have the input recipe JTextField\n\n\n        this.setTitle(&quot;Recipe Portion Calculator&quot;);\n        this.setLayout(new GridLayout(4,1));\n        this.setSize(800,800);\n        this.add(recipeName);\n        this.add(new ServingButtons()); //&lt;&lt; IntelliJ identifies the error on this line\n        this.add(ingredients);\n        this.add(inputRecipe);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        this.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>Here is my ServingsButton class code:</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class ServingButtons extends MainFrame {\n    public int servingNumber = 0;\n    //ingredient Volumes\n    public int almondFlourVol = 0;\n    public int allPurposeFlourVol = 0;\n    public int unsaltedButterVol = 0;\n    public int bakingSodaVol = 0;\n    public int bakingPowderVol = 0;\n    public int vanillaExtractVol = 0;\n    public int cocoaPowderVol = 0;\n    public int saltVol = 0;\n    public int chocolateChipsVol = 0;\n    public int instantEspressoVol = 0;\n    public int vegetableOilVol = 0;\n    public int bananasVol = 0;\n    //sugars\n    public int granulatedSugarVol = 0;\n    public int powderedSugarVol = 0;\n    public int lightBrownSugarVol = 0;\n    //eggs\n    public int eggsVol = 0;\n    public int eggWhitesVol = 0;\n\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\n    JPanel servings = new JPanel();\n\n    public ServingButtons() {\n        servings.setLayout(new GridLayout(1, 4));\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\n        servings.add(new JLabel(&quot;Number of Servings: &quot;));\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\n        JButton decButton = new JButton((&quot;-&quot;));\n        decButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(--servingNumber));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\n        });\n        JLabel space = new JLabel(&quot;&quot;);\n        servings.add(space);\n        servings.add(decButton);\n        servings.add(counterLbl);\n        JButton incButton = new JButton(&quot;+&quot;);\n        incButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(++servingNumber));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\n        });\n        servings.add(incButton);\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":359047,"reputation":4900,"user_id":700209,"accept_rate":59,"display_name":"BAD_SEED"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381329004,"creation_date":1381324415,"answer_id":19273097,"question_id":19272892,"body_markdown":"Something like:\r\n\r\n    (http|https)://(.*).domain.com\r\n\r\nAt this point second tag (i.e. `\\2` or `$2` variable) is what you need. Notice, this regex doesn&#39;t validate URL.\r\n\r\nProof: https://www.debuggex.com/r/3KYGmAnlnBq3C_fT","title":"Regex to match all subdomains of a matched domains","body":"<p>Something like:</p>\n\n<pre><code>(http|https)://(.*).domain.com\n</code></pre>\n\n<p>At this point second tag (i.e. <code>\\2</code> or <code>$2</code> variable) is what you need. Notice, this regex doesn't validate URL.</p>\n\n<p>Proof: <a href=\"https://www.debuggex.com/r/3KYGmAnlnBq3C_fT\" rel=\"nofollow\">https://www.debuggex.com/r/3KYGmAnlnBq3C_fT</a></p>\n"},{"tags":[],"owner":{"account_id":999472,"reputation":899,"user_id":1014666,"display_name":"Rhand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381328846,"creation_date":1381324581,"answer_id":19273168,"question_id":19272892,"body_markdown":"Assuming the sub domains contain only numbers and lowercase letters and you do not want to accept sub subdomains:\r\n\r\n    [0-9a-z]*\\.domain\\.com\r\n\r\nupdate:\r\n\r\n    https://.*\\.sub[1|2]domain\\.com\r\n\r\nmatches\r\n\r\n    https://sub1.sub2.sub1domain.com \r\n    https://sub1.sub1domain.com \r\n\r\nbut not\r\n    \r\n    https://sub1domain.com ","title":"Regex to match all subdomains of a matched domains","body":"<p>Assuming the sub domains contain only numbers and lowercase letters and you do not want to accept sub subdomains:</p>\n\n<pre><code>[0-9a-z]*\\.domain\\.com\n</code></pre>\n\n<p>update:</p>\n\n<pre><code>https://.*\\.sub[1|2]domain\\.com\n</code></pre>\n\n<p>matches</p>\n\n<pre><code>https://sub1.sub2.sub1domain.com \nhttps://sub1.sub1domain.com \n</code></pre>\n\n<p>but not</p>\n\n<pre><code>https://sub1domain.com \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068153,"reputation":2410,"user_id":2599416,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381324592,"creation_date":1381324592,"answer_id":19273174,"question_id":19272892,"body_markdown":"You would use  \r\n\r\n    &quot;^https://[^/?]+\\\\.([^.]+)\\\\.domain\\\\.com&quot;\r\n\r\nwhich boils down to matching\r\n\r\n    &quot;[^.]+&quot;\r\n\r\nfor any subdomain. will match only the last part of the subdomain (www.xxx.domain.com will capture &quot;xxx&quot; in group 1) ","title":"Regex to match all subdomains of a matched domains","body":"<p>You would use  </p>\n\n<pre><code>\"^https://[^/?]+\\\\.([^.]+)\\\\.domain\\\\.com\"\n</code></pre>\n\n<p>which boils down to matching</p>\n\n<pre><code>\"[^.]+\"\n</code></pre>\n\n<p>for any subdomain. will match only the last part of the subdomain (www.xxx.domain.com will capture \"xxx\" in group 1) </p>\n"},{"tags":[],"owner":{"account_id":185217,"reputation":1563,"user_id":421784,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381325768,"creation_date":1381325768,"answer_id":19273665,"question_id":19272892,"body_markdown":"Try `http://([^.]+\\\\.)+sub[12]domain.com`. A great place for testing out regexes with minimal setup pain is [RegexPlanet](http://regexplanet.com).","title":"Regex to match all subdomains of a matched domains","body":"<p>Try <code>http://([^.]+\\\\.)+sub[12]domain.com</code>. A great place for testing out regexes with minimal setup pain is <a href=\"http://regexplanet.com\" rel=\"nofollow\">RegexPlanet</a>.</p>\n"},{"tags":[],"owner":{"account_id":1227215,"reputation":3333,"user_id":1192557,"display_name":"fred02138"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381327862,"creation_date":1381327862,"answer_id":19274475,"question_id":19272892,"body_markdown":"I&#39;m assuming that don&#39;t want the subdomains to differ simply by a number. Use this regex:\r\n\r\n    (^https:\\/\\/(?:[\\w\\-\\_]+\\.)+(?:subdomain1|subdomain2).com)\r\n\r\nThe single capture group is the full URL. Simply replace subdomain1 and subdomain2 with your actual subdomains.\r\n\r\nI tested this on [regex101.com][1]\r\n\r\n\r\n  [1]: http://regex101.com","title":"Regex to match all subdomains of a matched domains","body":"<p>I'm assuming that don't want the subdomains to differ simply by a number. Use this regex:</p>\n\n<pre><code>(^https:\\/\\/(?:[\\w\\-\\_]+\\.)+(?:subdomain1|subdomain2).com)\n</code></pre>\n\n<p>The single capture group is the full URL. Simply replace subdomain1 and subdomain2 with your actual subdomains.</p>\n\n<p>I tested this on <a href=\"http://regex101.com\" rel=\"nofollow\">regex101.com</a></p>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1381328562,"creation_date":1381328562,"answer_id":19274723,"question_id":19272892,"body_markdown":"This one should suit your needs:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    https?://([a-z0-9]+[.])*sub[12]domain[.]com\r\n\r\n![Regular expression visualization](https://www.debuggex.com/i/xBWNJHZqGrLdyLYE.png)\r\n\r\n - Visualization by [Debuggex](https://www.debuggex.com/r/xBWNJHZqGrLdyLYE)\r\n - Demo on [RegExr](http://regexr.com?36lo6)","title":"Regex to match all subdomains of a matched domains","body":"<p>This one should suit your needs:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>https?://([a-z0-9]+[.])*sub[12]domain[.]com\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/xBWNJHZqGrLdyLYE.png\" alt=\"Regular expression visualization\"></p>\n\n<ul>\n<li>Visualization by <a href=\"https://www.debuggex.com/r/xBWNJHZqGrLdyLYE\">Debuggex</a></li>\n<li>Demo on <a href=\"http://regexr.com?36lo6\">RegExr</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555690230,"creation_date":1555690230,"answer_id":55764675,"question_id":19272892,"body_markdown":"Here is an Regex that match any number of subdomains also allowing IDN domains and check the limit of 63 or less characters. And it check that the - is not at first or last position.\r\n\r\n    https?://([a-z0-9](?:[a-z0-9-]{1,61}[a-z0-9])?[.])*sub[12][.]domain[.]com/","title":"Regex to match all subdomains of a matched domains","body":"<p>Here is an Regex that match any number of subdomains also allowing IDN domains and check the limit of 63 or less characters. And it check that the - is not at first or last position.</p>\n\n<pre><code>https?://([a-z0-9](?:[a-z0-9-]{1,61}[a-z0-9])?[.])*sub[12][.]domain[.]com/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27935100,"reputation":1,"user_id":21433657,"display_name":"Aurelius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690064698,"creation_date":1690064698,"answer_id":76745997,"question_id":19272892,"body_markdown":"The forward slashes // at the start need to be escaped for proper regular expression, so correct is:\r\n```\r\nhttps?:\\/\\/([a-z0-9]+[.])*sub[12]domain[.]com\r\n```","title":"Regex to match all subdomains of a matched domains","body":"<p>The forward slashes // at the start need to be escaped for proper regular expression, so correct is:</p>\n<pre><code>https?:\\/\\/([a-z0-9]+[.])*sub[12]domain[.]com\n</code></pre>\n"}],"owner":{"account_id":991368,"reputation":8171,"user_id":1008575,"accept_rate":81,"display_name":"Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49181,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":19274723,"answer_count":8,"score":13,"last_activity_date":1690064698,"creation_date":1381323847,"question_id":19272892,"body_markdown":"I have a Regex to match a subdomains of a web page like below  \r\n \r\n     &quot;^https://[^/?]+\\\\.(sub1|sub2\\\\.)domain\\\\.com&quot;\r\n\r\nWhat would be the regex to accept any sub domain of domain.com.\r\n\r\nEdit:\r\n\r\nMy question was incomplete, my regex was to accept only \r\n    \r\n     https:[any number of sub domain s ].sub1domain.com \r\n  \r\n or   \r\n\r\n     https://[any number of sub domain s ].sub2domain.com\r\n\r\nSorry for posting incomplete question.","title":"Regex to match all subdomains of a matched domains","body":"<p>I have a Regex to match a subdomains of a web page like below  </p>\n\n<pre><code> \"^https://[^/?]+\\\\.(sub1|sub2\\\\.)domain\\\\.com\"\n</code></pre>\n\n<p>What would be the regex to accept any sub domain of domain.com.</p>\n\n<p>Edit:</p>\n\n<p>My question was incomplete, my regex was to accept only </p>\n\n<pre><code> https:[any number of sub domain s ].sub1domain.com \n</code></pre>\n\n<p>or   </p>\n\n<pre><code> https://[any number of sub domain s ].sub2domain.com\n</code></pre>\n\n<p>Sorry for posting incomplete question.</p>\n"},{"tags":["java","css","javafx","fxml","javafx-css"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690059977,"post_id":76745753,"comment_id":135301233,"body_markdown":"Did you manually create that file tree, or did you use a tool (e.g., `tree`)? Because it&#39;s a little odd. The source directories (under `src`) have `img` as a _child_ of `css`. But the build output (under `target`) have `img` as a _sibling_ of `css`. Which is correct?","body":"Did you manually create that file tree, or did you use a tool (e.g., <code>tree</code>)? Because it&#39;s a little odd. The source directories (under <code>src</code>) have <code>img</code> as a <i>child</i> of <code>css</code>. But the build output (under <code>target</code>) have <code>img</code> as a <i>sibling</i> of <code>css</code>. Which is correct?"},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690060264,"post_id":76745753,"comment_id":135301261,"body_markdown":"Hi slaw. Yes it was made using tree, I am not sure about why they&#39;re put like that, but it might be because that was the disposition at one point when I ran it, So maybe it hadn&#39;t updated yet? I have tried running it again and there is still no image in the background, though.","body":"Hi slaw. Yes it was made using tree, I am not sure about why they&#39;re put like that, but it might be because that was the disposition at one point when I ran it, So maybe it hadn&#39;t updated yet? I have tried running it again and there is still no image in the background, though."},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690060297,"post_id":76745753,"comment_id":135301264,"body_markdown":"Note that I have no idea how to reply to messages on StackOverflow. I am hoping I am doing this right.","body":"Note that I have no idea how to reply to messages on StackOverflow. I am hoping I am doing this right."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690060993,"post_id":76745753,"comment_id":135301326,"body_markdown":"Can you try cleaning and rebuilding your project (e.g., `mvn clean` → `mvn compile`)? Then look at the output of `tree` again. Does it still look odd? Also, double-check that the PNG file is ending up in the build output.","body":"Can you try cleaning and rebuilding your project (e.g., <code>mvn clean</code> → <code>mvn compile</code>)? Then look at the output of <code>tree</code> again. Does it still look odd? Also, double-check that the PNG file is ending up in the build output."},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690061506,"post_id":76745753,"comment_id":135301371,"body_markdown":"ok, done that  .","body":"ok, done that  ."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690061556,"post_id":76745753,"comment_id":135301375,"body_markdown":"And running the project still results in the image not appearing?","body":"And running the project still results in the image not appearing?"},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690062151,"post_id":76745753,"comment_id":135301418,"body_markdown":"Unfortunately it still does not appear","body":"Unfortunately it still does not appear"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1690062206,"post_id":76745753,"comment_id":135301423,"body_markdown":"I just tried a similar setup, and everything worked correctly. Can you please [edit] your question to provide a [mre]? Perhaps there&#39;s an issue with a part of the code you aren&#39;t showing us (e.g., you don&#39;t have a node with the styleclass `anchor`, or that node is being covered by other nodes, or that node has no size, etc.).","body":"I just tried a similar setup, and everything worked correctly. Can you please <a href=\"https://stackoverflow.com/posts/76745753/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Perhaps there&#39;s an issue with a part of the code you aren&#39;t showing us (e.g., you don&#39;t have a node with the styleclass <code>anchor</code>, or that node is being covered by other nodes, or that node has no size, etc.)."},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690063139,"post_id":76745753,"comment_id":135301500,"body_markdown":"Done. Check if it works now","body":"Done. Check if it works now"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690063270,"post_id":76745753,"comment_id":135301507,"body_markdown":"&quot;_set it&#39;s id to &#39;anchor&#39;_&quot; -- If you&#39;ve set the **ID** to `anchor`, then in the CSS you need to use `#anchor`, not `.anchor`.","body":"&quot;<i>set it&#39;s id to &#39;anchor&#39;</i>&quot; -- If you&#39;ve set the <b>ID</b> to <code>anchor</code>, then in the CSS you need to use <code>#anchor</code>, not <code>.anchor</code>."},{"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"score":0,"creation_date":1690063346,"post_id":76745753,"comment_id":135301516,"body_markdown":"when I do that, it still doesn&#39;t make the image show up.","body":"when I do that, it still doesn&#39;t make the image show up."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690066137,"post_id":76745753,"comment_id":135301728,"body_markdown":"I cannot seem to reproduce the problem after following those steps. The background image is applied as expected.","body":"I cannot seem to reproduce the problem after following those steps. The background image is applied as expected."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1690068465,"post_id":76745753,"comment_id":135301883,"body_markdown":"Though I used `./image.png`, not `/image.png`.","body":"Though I used <code>.&#47;image.png</code>, not <code>&#47;image.png</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690081290,"post_id":76745753,"comment_id":135302558,"body_markdown":"Eden has a [guide on loading resources in css](https://edencoding.com/where-to-put-resource-files-in-javafx/#loading-a-resource-in-css), in case that may help.","body":"Eden has a <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/#loading-a-resource-in-css\" rel=\"nofollow noreferrer\">guide on loading resources in css</a>, in case that may help."},{"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1690171622,"post_id":76745753,"comment_id":135310903,"body_markdown":"Can you please tell where is your fxml file, css file and the image are located in tree the you provided.","body":"Can you please tell where is your fxml file, css file and the image are located in tree the you provided."}],"owner":{"account_id":29071287,"reputation":11,"user_id":22269565,"display_name":"Gabe Lily"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690063091,"creation_date":1690059507,"question_id":76745753,"body_markdown":"So, I am making a project where I need to add a background image to an anchor panel, and I am trying to be clean and use a separate css.\r\n\r\nSo far my project structure looks like this:\r\n```\r\nD:.\r\n├───.idea\r\n│   └───libraries\r\n├───.mvn\r\n│   └───wrapper\r\n├───src\r\n│   └───main\r\n│       ├───java\r\n│       │   └───name\r\n│       │       └───memoryname\r\n│       └───resources\r\n│           └───name\r\n│               └───memoryname\r\n│                   └───css\r\n│                       └───img\r\n└───target\r\n    ├───classes\r\n    │   └───name\r\n    │       └───memoryname\r\n    │           ├───css\r\n    │           └───img\r\n    └───generated-sources\r\n        └───annotations\r\n```\r\n\r\nWhat interests us, in theory, is this part:\r\n```\r\nmemoryname\r\n└───css\r\n    └───img\r\n```\r\n\r\nHere, in the memoryname folder, I have my fxml. In the css my css and in img my image.\r\nI have told my css file to do this:\r\n\r\n```css\r\n.anchor {\r\n    -fx-background-image: url(&#39;./img/Sfondo.png&#39;);\r\n    -fx-background-size: 100% 100%;\r\n}\r\n```\r\n\r\nWithin the fxml, I have called the css file using     `&lt;stylesheets&gt; &lt;URL value=&quot;@css/application.css&quot; /&gt;&lt;/stylesheets&gt;`.\r\n\r\nThe problem is, even if it doesn&#39;t give me any errors or notices, the image does not show up.\r\nIf more info is needed I will gladly answer\r\n\r\nEdit:\r\nafter cleaning and recompiling maven, the output is this:\r\n\r\n```\r\nD:.\r\n├───.idea\r\n│   └───libraries\r\n├───.mvn\r\n│   └───wrapper\r\n├───src\r\n│   └───main\r\n│       ├───java\r\n│       │   └───name\r\n│       │       └───memoryname\r\n│       └───resources\r\n│           └───gigliotti\r\n│               └───memoryname\r\n│                   └───css\r\n│                       └───img\r\n└───target\r\n    ├───classes\r\n    │   └───name\r\n    │       └───memoryname\r\n    │           └───css\r\n    │               └───img\r\n    ├───generated-sources\r\n    │   └───annotations\r\n    └───maven-status\r\n        └───maven-compiler-plugin\r\n            └───compile\r\n                └───default-compile\r\n```\r\n\r\nEdit 2: Minimum Reproduciple example.\r\nSteps:\r\n\r\n 1. Create a new JavaFX project with IntelliJ. Include the first two libraries ( BootstrapFX and ControlsFX );\r\n 2. You now will have example files. Go to the example fxml file, and with the built-in editor add a new anchorPane, set it&#39;s id to &#39;anchor&#39; and in the Stylesheets text box, write &#39;style.css&#39;;\r\n 3. Within the same folder that the fxml file is in, add your image and a CSS file called &#39;style.css&#39;;\r\n 4. In the file, add: \r\n```\r\n.anchor {\r\n    -fx-background-image: url(&#39;/YOURIMAGENAME.png&#39;);\r\n    -fx-background-size: 100% 100%;\r\n}\r\n```\r\n 5. Run your project.","title":"JavaFX css, loaded from a fxml file, doesn&#39;t seem to be loading an image","body":"<p>So, I am making a project where I need to add a background image to an anchor panel, and I am trying to be clean and use a separate css.</p>\n<p>So far my project structure looks like this:</p>\n<pre><code>D:.\n├───.idea\n│   └───libraries\n├───.mvn\n│   └───wrapper\n├───src\n│   └───main\n│       ├───java\n│       │   └───name\n│       │       └───memoryname\n│       └───resources\n│           └───name\n│               └───memoryname\n│                   └───css\n│                       └───img\n└───target\n    ├───classes\n    │   └───name\n    │       └───memoryname\n    │           ├───css\n    │           └───img\n    └───generated-sources\n        └───annotations\n</code></pre>\n<p>What interests us, in theory, is this part:</p>\n<pre><code>memoryname\n└───css\n    └───img\n</code></pre>\n<p>Here, in the memoryname folder, I have my fxml. In the css my css and in img my image.\nI have told my css file to do this:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.anchor {\n    -fx-background-image: url('./img/Sfondo.png');\n    -fx-background-size: 100% 100%;\n}\n</code></pre>\n<p>Within the fxml, I have called the css file using     <code>&lt;stylesheets&gt; &lt;URL value=&quot;@css/application.css&quot; /&gt;&lt;/stylesheets&gt;</code>.</p>\n<p>The problem is, even if it doesn't give me any errors or notices, the image does not show up.\nIf more info is needed I will gladly answer</p>\n<p>Edit:\nafter cleaning and recompiling maven, the output is this:</p>\n<pre><code>D:.\n├───.idea\n│   └───libraries\n├───.mvn\n│   └───wrapper\n├───src\n│   └───main\n│       ├───java\n│       │   └───name\n│       │       └───memoryname\n│       └───resources\n│           └───gigliotti\n│               └───memoryname\n│                   └───css\n│                       └───img\n└───target\n    ├───classes\n    │   └───name\n    │       └───memoryname\n    │           └───css\n    │               └───img\n    ├───generated-sources\n    │   └───annotations\n    └───maven-status\n        └───maven-compiler-plugin\n            └───compile\n                └───default-compile\n</code></pre>\n<p>Edit 2: Minimum Reproduciple example.\nSteps:</p>\n<ol>\n<li>Create a new JavaFX project with IntelliJ. Include the first two libraries ( BootstrapFX and ControlsFX );</li>\n<li>You now will have example files. Go to the example fxml file, and with the built-in editor add a new anchorPane, set it's id to 'anchor' and in the Stylesheets text box, write 'style.css';</li>\n<li>Within the same folder that the fxml file is in, add your image and a CSS file called 'style.css';</li>\n<li>In the file, add:</li>\n</ol>\n<pre><code>.anchor {\n    -fx-background-image: url('/YOURIMAGENAME.png');\n    -fx-background-size: 100% 100%;\n}\n</code></pre>\n<ol start=\"5\">\n<li>Run your project.</li>\n</ol>\n"},{"tags":["java","collections","casting","hashtable"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690062874,"creation_date":1663365756,"answer_id":73750680,"question_id":73750622,"body_markdown":"This is not strictly safe, even though, as you guess, it&#39;s _usually_ fine.\r\n\r\nFor example, if you had a `Hashtable&lt;LinkedList&lt;String&gt;, Integer&gt;`, and did `containsKey(myArrayList)`, it could return true -- because it&#39;s legal for `LinkedList.equals(ArrayList)` to return `true` (and, in fact, it&#39;s mandated by the `List` interface).\r\n\r\n(This is among the reasons that `Map.get` takes an `Object`, not a `K`.)","title":"If Hashtable&lt;E, ?&gt;.containsKey(Object o) returns true for a certain object, am I safe to cast that Object to E?","body":"<p>This is not strictly safe, even though, as you guess, it's <em>usually</em> fine.</p>\n<p>For example, if you had a <code>Hashtable&lt;LinkedList&lt;String&gt;, Integer&gt;</code>, and did <code>containsKey(myArrayList)</code>, it could return true -- because it's legal for <code>LinkedList.equals(ArrayList)</code> to return <code>true</code> (and, in fact, it's mandated by the <code>List</code> interface).</p>\n<p>(This is among the reasons that <code>Map.get</code> takes an <code>Object</code>, not a <code>K</code>.)</p>\n"}],"owner":{"account_id":1975576,"reputation":20799,"user_id":1773434,"accept_rate":100,"display_name":"Govind Parmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73750680,"answer_count":1,"score":1,"last_activity_date":1690062874,"creation_date":1663365233,"question_id":73750622,"body_markdown":"For example, if I am implementing my own `Collection&lt;E&gt;` that uses a `Hashtable&lt;E, Integer&gt;` as its underlying data structure, I will implement `remove(Object o)`, but `o` is not an `E`, it&#39;s an `Object`. But, if it returns true for `containsKey(o)`, then am I safe to assume that casting `o` to `E` is going to succeed?\r\n\r\n    @Override\r\n    public boolean remove (@NotNull final Object o)\r\n    {\r\n        if(underlyingHashTable.containsKey(o))\r\n        {\r\n            @NotNull final E item = (E) o;\r\n            \r\n        }\r\n    }\r\n\r\nThe IDE highlights the cast to `(E) o` as unchecked but I&#39;m wondering if my assumption is sane &amp; safe.\r\n\r\n","title":"If Hashtable&lt;E, ?&gt;.containsKey(Object o) returns true for a certain object, am I safe to cast that Object to E?","body":"<p>For example, if I am implementing my own <code>Collection&lt;E&gt;</code> that uses a <code>Hashtable&lt;E, Integer&gt;</code> as its underlying data structure, I will implement <code>remove(Object o)</code>, but <code>o</code> is not an <code>E</code>, it's an <code>Object</code>. But, if it returns true for <code>containsKey(o)</code>, then am I safe to assume that casting <code>o</code> to <code>E</code> is going to succeed?</p>\n<pre><code>@Override\npublic boolean remove (@NotNull final Object o)\n{\n    if(underlyingHashTable.containsKey(o))\n    {\n        @NotNull final E item = (E) o;\n        \n    }\n}\n</code></pre>\n<p>The IDE highlights the cast to <code>(E) o</code> as unchecked but I'm wondering if my assumption is sane &amp; safe.</p>\n"},{"tags":["java","logback","dropwizard"],"comments":[{"owner":{"account_id":321820,"reputation":1812,"user_id":640870,"accept_rate":100,"display_name":"orustammanapov"},"score":0,"creation_date":1700228374,"post_id":76745848,"comment_id":136631840,"body_markdown":"Have you figured that out?","body":"Have you figured that out?"},{"owner":{"account_id":1797791,"reputation":946,"user_id":1636825,"accept_rate":5,"display_name":"Kramer"},"score":0,"creation_date":1702059466,"post_id":76745848,"comment_id":136855160,"body_markdown":"Yes. Unfortunately, I had to write something myself. The code belongs to my employer and it is not open source. I may be able to open source it but it would take a bit of work and management would have to approve it.","body":"Yes. Unfortunately, I had to write something myself. The code belongs to my employer and it is not open source. I may be able to open source it but it would take a bit of work and management would have to approve it."},{"owner":{"account_id":321820,"reputation":1812,"user_id":640870,"accept_rate":100,"display_name":"orustammanapov"},"score":0,"creation_date":1702121634,"post_id":76745848,"comment_id":136860006,"body_markdown":"Thank you for your response, I also had to extend it with a custom solution in the end :).","body":"Thank you for your response, I also had to extend it with a custom solution in the end :)."}],"owner":{"account_id":1797791,"reputation":946,"user_id":1636825,"accept_rate":5,"display_name":"Kramer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690061254,"creation_date":1690061254,"question_id":76745848,"body_markdown":"I have a Dropwizard service and I am migrating it to use structured logging. I was able to get json layout to work using the library `io.dropwizard:dropwizard-json-logging` and the configuration:\r\n\r\n      appenders:\r\n        - type: console\r\n          target: stderr\r\n          layout:\r\n            type: json\r\n            timestampFormat: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;\r\n            prettyPrint: false\r\n            appendLineSeparator: true\r\n            includes: [timestamp, threadName, level, loggerName, message, mdc, exception]\r\n            customFieldNames:\r\n              timestamp: &quot;@timestamp&quot;\r\n            additionalFields:\r\n              service-name: &quot;user-service&quot;\r\n            includesMdcKeys: [userId]\r\n            flattenMdc: true\r\n\r\nThat all works fine but it isn&#39;t really structured logging. I still can only log messages as messages rather adding properties to the json log message.\r\n\r\nFor example, I would like to be able to log:\r\n\r\n    log.info(&quot;Unauthorized user&quot;, &quot;email&quot;, userEmail)\r\n\r\nand see\r\n\r\n    {&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;message&quot;:&quot;Unauthorized user&quot;,&quot;service-name&quot;:&quot;user-service&quot;,&quot;@timestamp&quot;:&quot;2023-07-21T19:39:11.748+0000&quot;, &quot;email&quot;, &quot;joe.smith@example.com&quot;}\r\n\r\nSo that I can build dashboards for individual log messages, filter by properties, etc.\r\n\r\nCan anyone help me do that?","title":"How do I do proper Structured Logging in Dropwizard","body":"<p>I have a Dropwizard service and I am migrating it to use structured logging. I was able to get json layout to work using the library <code>io.dropwizard:dropwizard-json-logging</code> and the configuration:</p>\n<pre><code>  appenders:\n    - type: console\n      target: stderr\n      layout:\n        type: json\n        timestampFormat: &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;\n        prettyPrint: false\n        appendLineSeparator: true\n        includes: [timestamp, threadName, level, loggerName, message, mdc, exception]\n        customFieldNames:\n          timestamp: &quot;@timestamp&quot;\n        additionalFields:\n          service-name: &quot;user-service&quot;\n        includesMdcKeys: [userId]\n        flattenMdc: true\n</code></pre>\n<p>That all works fine but it isn't really structured logging. I still can only log messages as messages rather adding properties to the json log message.</p>\n<p>For example, I would like to be able to log:</p>\n<pre><code>log.info(&quot;Unauthorized user&quot;, &quot;email&quot;, userEmail)\n</code></pre>\n<p>and see</p>\n<pre><code>{&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;message&quot;:&quot;Unauthorized user&quot;,&quot;service-name&quot;:&quot;user-service&quot;,&quot;@timestamp&quot;:&quot;2023-07-21T19:39:11.748+0000&quot;, &quot;email&quot;, &quot;joe.smith@example.com&quot;}\n</code></pre>\n<p>So that I can build dashboards for individual log messages, filter by properties, etc.</p>\n<p>Can anyone help me do that?</p>\n"},{"tags":["java","debugging","random"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1481841797,"post_id":41174523,"comment_id":69549630,"body_markdown":"I am curious in that I see no mention of consideration of the Random class&#39;s *seed* anywhere in your post above. Maybe I&#39;m misreading your question and misunderstanding your problem, but isn&#39;t this the way to get repeatable progression from the Random class? Save the *seed*, and re-use it if desired?","body":"I am curious in that I see no mention of consideration of the Random class&#39;s <i>seed</i> anywhere in your post above. Maybe I&#39;m misreading your question and misunderstanding your problem, but isn&#39;t this the way to get repeatable progression from the Random class? Save the <i>seed</i>, and re-use it if desired?"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1481841969,"post_id":41174523,"comment_id":69549706,"body_markdown":"The code currently calls the no-argument constructor of `Random`. AFAIK there is no way to get the seed which is used inside `Random` after construction. Is `new Random()` equivalent to `new Random((new Random()).nextLong());`?","body":"The code currently calls the no-argument constructor of <code>Random</code>. AFAIK there is no way to get the seed which is used inside <code>Random</code> after construction. Is <code>new Random()</code> equivalent to <code>new Random((new Random()).nextLong());</code>?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1481842039,"post_id":41174523,"comment_id":69549735,"body_markdown":"No, I believe that Random gets its random seed from the system clock, but I could be wrong. But why even worry about this? Why not set the seed yourself using the constructor that takes a long?","body":"No, I believe that Random gets its random seed from the system clock, but I could be wrong. But why even worry about this? Why not set the seed yourself using the constructor that takes a long?"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1481894530,"post_id":41174523,"comment_id":69570355,"body_markdown":"@HovercraftFullOfEels that&#39;s exactly what I meant. However in the normal (non-debugging) case, we would want to set the value of that long to itself be a random number. In order to not disturb the current behaviour of the application being debugged, I was just asking whether this is the same as what it does when you call the no-args constructor. Also, I&#39;ve just realised another problem with this approach - the code constructs lots of `Random` objects, not only one, and so in order to ensure the same first random doesn&#39;t get generated every time, one would have to track a whole series of seeds.","body":"@HovercraftFullOfEels that&#39;s exactly what I meant. However in the normal (non-debugging) case, we would want to set the value of that long to itself be a random number. In order to not disturb the current behaviour of the application being debugged, I was just asking whether this is the same as what it does when you call the no-args constructor. Also, I&#39;ve just realised another problem with this approach - the code constructs lots of <code>Random</code> objects, not only one, and so in order to ensure the same first random doesn&#39;t get generated every time, one would have to track a whole series of seeds."}],"answers":[{"tags":[],"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481841923,"creation_date":1481841923,"answer_id":41174571,"question_id":41174523,"body_markdown":"Wow, that&#39;s a lot of code...\r\n\r\nDo you realise that you can always start a random sequence from the same place, using a seed? When you create a new Random you can pass in a seed value, and if you use the same seed twice then the numbers you generate will be identical each time.\r\n\r\nPick a seed, run your tests, and if they don&#39;t show the behaviour you&#39;re after then increment the seed and try again. When you get what you&#39;re looking for, make a note of the seed and always use that number from then on.","title":"How to record and play back randoms in Java?","body":"<p>Wow, that's a lot of code...</p>\n\n<p>Do you realise that you can always start a random sequence from the same place, using a seed? When you create a new Random you can pass in a seed value, and if you use the same seed twice then the numbers you generate will be identical each time.</p>\n\n<p>Pick a seed, run your tests, and if they don't show the behaviour you're after then increment the seed and try again. When you get what you're looking for, make a note of the seed and always use that number from then on.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481841930,"creation_date":1481841930,"answer_id":41174572,"question_id":41174523,"body_markdown":"Capture the random seed when you begin, and reset it to the same seed during your tests. You may want to change your code to rely on a global Random provider, then you can attach this kind of policy to the application globally.\r\n","title":"How to record and play back randoms in Java?","body":"<p>Capture the random seed when you begin, and reset it to the same seed during your tests. You may want to change your code to rely on a global Random provider, then you can attach this kind of policy to the application globally.</p>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690057703,"creation_date":1690057703,"answer_id":76745669,"question_id":41174523,"body_markdown":"If you have multiple Random objects, then in your test code you can set up a single Master Random with a known seed. Use that Master to provide seeds for the other Child Random instances. By repeating the seed for the Master, all the other Child instances will get whatever seed they got the last time that master seed was used provided they start in the same order.\r\n\r\nIf you don&#39;t want to repeat then just seed the Master from the clock or whatever.\r\n","title":"How to record and play back randoms in Java?","body":"<p>If you have multiple Random objects, then in your test code you can set up a single Master Random with a known seed. Use that Master to provide seeds for the other Child Random instances. By repeating the seed for the Master, all the other Child instances will get whatever seed they got the last time that master seed was used provided they start in the same order.</p>\n<p>If you don't want to repeat then just seed the Master from the clock or whatever.</p>\n"}],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76745669,"answer_count":3,"score":0,"last_activity_date":1690058916,"creation_date":1481841666,"question_id":41174523,"body_markdown":"I am working on an application which includes a generation phase where a set of data is generated. The generation involves a number of loops, some of which generate random numbers in order to make decisions of how to proceed. This means the generated set of data is not the same every time. At the moment, all the random numbers are generated based on individual `Random` objects with each one being constructed with the no-arg `Random()` constructor.\r\n\r\nI am trying to track down some bugs which occur only under specific conditions with the set of generated data. Given a buggy dataset, I know why the bugs occur in the application, but what I&#39;m trying to troubleshoot is how the generation phase got to generate the buggy dataset in the first place. However this is not easy to debug because 99% of the time the generation phase does not generate a buggy dataset.\r\n\r\nDue to this, I wanted to have a way to record and playback the numbers which are being generated, to reproduce the specific conditions under which the bugs occur. I have searched for such a framework online but I have not come up with anything. Unfortunately &quot;record randoms&quot; returns mostly results about random records, whereas &quot;repeatable randoms&quot; returns mostly results about non-repeatable RNGs!\r\n\r\nI know that the code in the generation phase only ever calls the `java.util.Random.nextInt(int)` method which simplifies the problem somewhat. I started to think about creating a repeatable random framework myself.\r\n\r\n    public class RepeatableRandom extends Random {\r\n        private static final Object LOCK = new Object();\r\n        private static final Random RANDOM = new Random();\r\n    \r\n        private static enum Mode { PASSTHROUGH, RECORD, PLAYBACK; }\r\n        private static Mode mode = Mode.PASSTHROUGH;\r\n        // ...synchronized setters for each of the three modes...\r\n    \r\n        private static Map&lt;Integer,Integer&gt; invocationCount = new HashMap&lt;&gt;();\r\n        private static Map&lt;Integer,List&lt;Integer&gt;&gt; randoms = new HashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public int nextInt(int n) {\r\n            switch (mode) {\r\n                case Mode.PASSTHROUGH:\r\n                    return RANDOM.nextInt(n);\r\n                case Mode.RECORD:\r\n                    if (!randoms.containsKey(n)) {\r\n                        randoms.put(n,new ArrayList&lt;&gt;());\r\n                    }\r\n                    int nextInt = RANDOM.nextInt(n);\r\n                    randoms.get(n).put(nextInt);\r\n                    return nextInt;\r\n                case Mode.PLAYBACK:\r\n                    synchronized(LOCK) {\r\n                        int i = invocationCount.get(n);\r\n                        int nextInt = randoms.get(n).get(invocationCount);\r\n                        invocationCount.put(n,i+1);\r\n                        return nextInt;\r\n                    }\r\n            }\r\n        }\r\n    \r\n        public void loadRandomsFromFile(String filename) { //... }\r\n        public void saveRandomsToFile(String filename) { //... }\r\n        public void clear() { // ... }\r\n    }\r\n\r\nAfter replacing all references to `Random` in the generation phase with `RepeatableRandom` I then would write test code like the following:\r\n\r\n    RepeatableRandom.setRecordMode();\r\n    do {\r\n        RepeatableRandom.clear();\r\n        dataSet = generateDataSet();\r\n    while (!isBuggyDataSet(dataSet));\r\n    RepeatableRandom.saveRandomsToFile(FILENAME);\r\n\r\nLater, in my code I can then write:\r\n\r\n    RepeatableRandom.setPlaybackMode();\r\n    RepeatableRandom.clear();\r\n    RepeatableRandom.loadRandomsFromFile(FILENAME);\r\n    executeMainApplication();\r\n\r\nI can then run in debug mode with a load of breakpoints and finally figure out why this specific buggy set of data is generated.\r\n\r\nHowever I feel sure I am not the first person to have faced this problem. And I don&#39;t feel comfortable with creating a whole new bespoke framework just for this use case. I feel there must be something already out there but I just can&#39;t find it! What is the correct approach to solve this kind of problem?","title":"How to record and play back randoms in Java?","body":"<p>I am working on an application which includes a generation phase where a set of data is generated. The generation involves a number of loops, some of which generate random numbers in order to make decisions of how to proceed. This means the generated set of data is not the same every time. At the moment, all the random numbers are generated based on individual <code>Random</code> objects with each one being constructed with the no-arg <code>Random()</code> constructor.</p>\n<p>I am trying to track down some bugs which occur only under specific conditions with the set of generated data. Given a buggy dataset, I know why the bugs occur in the application, but what I'm trying to troubleshoot is how the generation phase got to generate the buggy dataset in the first place. However this is not easy to debug because 99% of the time the generation phase does not generate a buggy dataset.</p>\n<p>Due to this, I wanted to have a way to record and playback the numbers which are being generated, to reproduce the specific conditions under which the bugs occur. I have searched for such a framework online but I have not come up with anything. Unfortunately &quot;record randoms&quot; returns mostly results about random records, whereas &quot;repeatable randoms&quot; returns mostly results about non-repeatable RNGs!</p>\n<p>I know that the code in the generation phase only ever calls the <code>java.util.Random.nextInt(int)</code> method which simplifies the problem somewhat. I started to think about creating a repeatable random framework myself.</p>\n<pre><code>public class RepeatableRandom extends Random {\n    private static final Object LOCK = new Object();\n    private static final Random RANDOM = new Random();\n\n    private static enum Mode { PASSTHROUGH, RECORD, PLAYBACK; }\n    private static Mode mode = Mode.PASSTHROUGH;\n    // ...synchronized setters for each of the three modes...\n\n    private static Map&lt;Integer,Integer&gt; invocationCount = new HashMap&lt;&gt;();\n    private static Map&lt;Integer,List&lt;Integer&gt;&gt; randoms = new HashMap&lt;&gt;();\n\n    @Override\n    public int nextInt(int n) {\n        switch (mode) {\n            case Mode.PASSTHROUGH:\n                return RANDOM.nextInt(n);\n            case Mode.RECORD:\n                if (!randoms.containsKey(n)) {\n                    randoms.put(n,new ArrayList&lt;&gt;());\n                }\n                int nextInt = RANDOM.nextInt(n);\n                randoms.get(n).put(nextInt);\n                return nextInt;\n            case Mode.PLAYBACK:\n                synchronized(LOCK) {\n                    int i = invocationCount.get(n);\n                    int nextInt = randoms.get(n).get(invocationCount);\n                    invocationCount.put(n,i+1);\n                    return nextInt;\n                }\n        }\n    }\n\n    public void loadRandomsFromFile(String filename) { //... }\n    public void saveRandomsToFile(String filename) { //... }\n    public void clear() { // ... }\n}\n</code></pre>\n<p>After replacing all references to <code>Random</code> in the generation phase with <code>RepeatableRandom</code> I then would write test code like the following:</p>\n<pre><code>RepeatableRandom.setRecordMode();\ndo {\n    RepeatableRandom.clear();\n    dataSet = generateDataSet();\nwhile (!isBuggyDataSet(dataSet));\nRepeatableRandom.saveRandomsToFile(FILENAME);\n</code></pre>\n<p>Later, in my code I can then write:</p>\n<pre><code>RepeatableRandom.setPlaybackMode();\nRepeatableRandom.clear();\nRepeatableRandom.loadRandomsFromFile(FILENAME);\nexecuteMainApplication();\n</code></pre>\n<p>I can then run in debug mode with a load of breakpoints and finally figure out why this specific buggy set of data is generated.</p>\n<p>However I feel sure I am not the first person to have faced this problem. And I don't feel comfortable with creating a whole new bespoke framework just for this use case. I feel there must be something already out there but I just can't find it! What is the correct approach to solve this kind of problem?</p>\n"},{"tags":["java","swing","jcombobox","jtextarea"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689961825,"post_id":76740120,"comment_id":135291884,"body_markdown":"Best to create and post a decent [mre] with your question. Side note: null layouts and setBounds are not your friends.","body":"Best to create and post a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question. Side note: null layouts and setBounds are not your friends."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1689966810,"post_id":76740120,"comment_id":135292614,"body_markdown":"Java has this wonderful construct called a getter/setter class.  First, create a `Question` class that contains a `String` question and a `List&lt;String&gt;` answers.  Now for the tricky part.  Each answer causes another question to be asked.  So, we add to the `Question` class a `String` previous answer that is empty for initial questions and otherwise contains the answer that led to this question.  Lastly, you develop a tree structure with a root Question instance and multiple children Question instances.  After you create this application model, then you are ready to create a Swing GUI view.","body":"Java has this wonderful construct called a getter/setter class.  First, create a <code>Question</code> class that contains a <code>String</code> question and a <code>List&lt;String&gt;</code> answers.  Now for the tricky part.  Each answer causes another question to be asked.  So, we add to the <code>Question</code> class a <code>String</code> previous answer that is empty for initial questions and otherwise contains the answer that led to this question.  Lastly, you develop a tree structure with a root Question instance and multiple children Question instances.  After you create this application model, then you are ready to create a Swing GUI view."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1689966890,"post_id":76740120,"comment_id":135292628,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"display_name":"user22229531"},"score":0,"creation_date":1689968220,"post_id":76740120,"comment_id":135292810,"body_markdown":"@GilbertLeBlanc could you please explain to me in greater detail on how I&#39;m supposed to use the list to create a tree structure? As I barely even know what a list is.","body":"@GilbertLeBlanc could you please explain to me in greater detail on how I&#39;m supposed to use the list to create a tree structure? As I barely even know what a list is."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1689983667,"post_id":76740120,"comment_id":135294485,"body_markdown":"[How to implement a tree data-structure in Java?](https://stackoverflow.com/questions/3522454/how-to-implement-a-tree-data-structure-in-java)  Could you learn to use a search engine to find detailed explanations?","body":"<a href=\"https://stackoverflow.com/questions/3522454/how-to-implement-a-tree-data-structure-in-java\">How to implement a tree data-structure in Java?</a>  Could you learn to use a search engine to find detailed explanations?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690033627,"post_id":76740120,"comment_id":135298039,"body_markdown":"Again, please post a valid [mre] with your question. It&#39;s not fair to force others to create one for you, as the answerer has done.","body":"Again, please post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question. It&#39;s not fair to force others to create one for you, as the answerer has done."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690050635,"post_id":76740120,"comment_id":135300212,"body_markdown":"How is the code that you&#39;ve posted am MRE? Have you read the link? If not, please study it as it will explain what it is and why it is important.","body":"How is the code that you&#39;ve posted am MRE? Have you read the link? If not, please study it as it will explain what it is and why it is important."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690059152,"post_id":76740120,"comment_id":135301147,"body_markdown":"Again, &quot;minimized code&quot; is not what was requested. Again, it&#39;s a [mre] (as per the link).","body":"Again, &quot;minimized code&quot; is not what was requested. Again, it&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (as per the link)."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690058894,"creation_date":1689991944,"answer_id":76742052,"question_id":76740120,"body_markdown":"# Introduction\r\n\r\nSince your code was not a [minimal runnable example][1], I went ahead and created the following GUI.\r\n\r\n\r\n[![Example][2]][2]\r\n\r\nBecause this is an example, I only created two answers for each question and I only went two questions deep.\r\n\r\n# Explanation \r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][3] (MVC) pattern.  This allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nThe model is the major part of this example application.  The view and controller are simple because the model is complex.\r\n\r\nThe model is completely independent of the view and the controller.  The view reads a question and answers from the model.  The controller gets the next question and answers for the view.\r\n\r\n## Model\r\n\r\nThe model consists of four plain Java getter/setter classes.\r\n\r\nThe first two classes are the `ExternalQuestion` and the `InternalQuestion` classes.\r\n\r\nThe `ExternalQuestion` class stores a `String` previous answer, a `String` question, and a `String` array of answers.  The answer array can be any length.  I provided two answers to each question to keep the example short.\r\n\r\nHere&#39;s the code to load external questions.\r\n\r\n\t\t\tExternalQuestion eq = new ExternalQuestion(null, \r\n\t\t\t\t\t&quot;What time do you wake up?&quot;,\r\n\t\t\t\t\t&quot;6 am&quot;, &quot;8 am&quot;);\r\n\t\t\taddQuestion(eq);\r\n\t\t\t\r\n\t\t\teq = new ExternalQuestion(&quot;6 am&quot;, \r\n\t\t\t\t\t&quot;What time do you have breakfast?&quot;,\r\n\t\t\t\t\t&quot;7 am&quot;, &quot;8 am&quot;);\r\n\t\t\taddQuestion(eq);\r\n\t\t\t\r\n\t\t\teq = new ExternalQuestion(&quot;8 am&quot;, \r\n\t\t\t\t\t&quot;What time do you have breakfast?&quot;,\r\n\t\t\t\t\t&quot;9 am&quot;, &quot;10 am&quot;);\r\n\t\t\taddQuestion(eq);\r\n\r\nThe first question has a `null` previous answer.   The following questions must have an exact matching previous answer from the prior question.  You can create a complex tree with many questions and answers.\r\n\r\nThis method could be modified to read a text file and create a question tree.\r\n\r\nThe `InternalQuestion` class stores an `int` previous answer index, a `String` question, and an `int` array of answer indexes.  The answers are kept in a `List` and the indexes to those answers are stored.  This reduces the amount of memory needed for the question tree structure.\r\n\r\nThe `QuestionsModel` builds the questions tree using a `List` for the `String` answers and a `Map` for the `InternalQuestion` instances.  This allows an easy transversal through the questions, depending on which answer the user selects.\r\n\r\nThe `AdventureModel` stores an instance of the `QuestionsModel`.  Any information needed for a more complex text adventure would be stored here.\r\n\r\n## View\r\n\r\nI created a `JFrame` and a `JPanel`.  The `JPanel` uses a `GridBagLayout` to lay out the Swing components from top to bottom, making each Swing component the same width.\r\n\r\nThe `JFrame` has a default `BorderLayout`.  I placed the `JPanel` in the center of the `BorderLayout`.\r\n\r\n## Controller\r\n\r\nI used a lambda expression to create an anonymous `ActionListener` for the `JButton`.  The expression gets the next `ExternalQuestion` instance and updates the `JTextArea` and the `JComboBox` with the question and answers.\r\n\r\n## Code\r\n\r\nHere&#39;s the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextAdventureExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new TextAdventureExample());\r\n    \t}\r\n    \t\r\n    \tprivate final AdventureModel model;\r\n    \t\r\n    \tprivate JButton button;\r\n    \t\r\n    \tprivate JComboBox&lt;String&gt; comboBox;\r\n    \t\r\n    \tprivate JTextArea textArea;\r\n    \r\n    \tpublic TextAdventureExample() {\r\n    \t\tthis.model = new AdventureModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Text Adventure Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridBagLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(0, 5, 5, 5);\r\n    \t\tgbc.gridy = 0;\r\n    \t\t\r\n    \t\tExternalQuestion eq = model.getQuestion(null);\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(&quot;Question&quot;);\r\n    \t\tpanel.add(label, gbc);\r\n    \t\t\r\n    \t\tgbc.gridy++;\r\n    \t\ttextArea = new JTextArea(5, 30);\r\n    \t\ttextArea.setEditable(false);\r\n    \t\ttextArea.setText(eq.getQuestion());\r\n    \t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n    \t\tpanel.add(scrollPane, gbc);\r\n    \t\t\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;Select an answer&quot;);\r\n    \t\tpanel.add(label, gbc);\r\n    \t\t\r\n    \t\tgbc.gridy++;\r\n    \t\tcomboBox = new JComboBox&lt;&gt;(eq.getAnswers());\r\n    \t\tpanel.add(comboBox, gbc);\r\n    \t\t\r\n    \t\tgbc.gridy++;\r\n    \t\tbutton = new JButton(&quot;Submit&quot;);\r\n    \t\tbutton.addActionListener(event -&gt; {\r\n    \t\t\tString previousAnswer = (String) comboBox.getSelectedItem();\r\n    \t\t\tupdateMainPanel(previousAnswer);\r\n    \t\t});\r\n    \t\tpanel.add(button, gbc);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic void updateMainPanel(String previousAnswer) {\r\n    \t\tExternalQuestion eq = model.getQuestion(previousAnswer);\r\n    \t\tif (eq == null) {\r\n    \t\t\tbutton.setEnabled(false);\r\n    \t\t} else {\r\n    \t\t\ttextArea.setText(eq.getQuestion());\r\n    \t\t\tcomboBox.setModel(new DefaultComboBoxModel(eq.getAnswers()));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic class AdventureModel {\r\n    \t\t\r\n    \t\tprivate QuestionsModel questionsModel;\r\n    \t\t\r\n    \t\tpublic AdventureModel() {\r\n    \t\t\tthis.questionsModel = new QuestionsModel();\r\n    \t\t\tloadQuestionsModel();\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void loadQuestionsModel() {\r\n    \t\t\tExternalQuestion eq = new ExternalQuestion(null, \r\n    \t\t\t\t\t&quot;What time do you wake up?&quot;,\r\n    \t\t\t\t\t&quot;6 am&quot;, &quot;8 am&quot;);\r\n    \t\t\taddQuestion(eq);\r\n    \t\t\t\r\n    \t\t\teq = new ExternalQuestion(&quot;6 am&quot;, \r\n    \t\t\t\t\t&quot;What time do you have breakfast?&quot;,\r\n    \t\t\t\t\t&quot;7 am&quot;, &quot;8 am&quot;);\r\n    \t\t\taddQuestion(eq);\r\n    \t\t\t\r\n    \t\t\teq = new ExternalQuestion(&quot;8 am&quot;, \r\n    \t\t\t\t\t&quot;What time do you have breakfast?&quot;,\r\n    \t\t\t\t\t&quot;9 am&quot;, &quot;10 am&quot;);\r\n    \t\t\taddQuestion(eq);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void addQuestion(ExternalQuestion question) {\r\n    \t\t\tquestionsModel.addQuestion(question);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic ExternalQuestion getQuestion(String previousAnswer) {\r\n    \t\t\treturn questionsModel.getQuestion(previousAnswer);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic class QuestionsModel {\r\n    \r\n    \t\tprivate final List&lt;String&gt; answers;\r\n    \r\n    \t\tprivate final Map&lt;Integer, InternalQuestion&gt; questions;\r\n    \r\n    \t\tpublic QuestionsModel() {\r\n    \t\t\tthis.answers = new ArrayList&lt;&gt;();\r\n    \t\t\tthis.questions = new HashMap&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\tpublic void addQuestion(ExternalQuestion question) {\r\n    \t\t\tint previousIndex = -1;\r\n    \t\t\tString previousAnswer = question.getPreviousAnswer();\r\n    \t\t\tif (previousAnswer != null) {\r\n    \t\t\t\tpreviousIndex = getAnswerIndex(previousAnswer);\r\n    \t\t\t}\r\n    \t\t\tint[] indexes = convertAnswersToIndexes(question.getAnswers());\r\n    \t\t\tquestions.put(previousIndex, new InternalQuestion(previousIndex,\r\n    \t\t\t\t\tquestion.getQuestion(), indexes));\r\n    \t\t}\r\n    \r\n    \t\tpublic ExternalQuestion getQuestion(String previousAnswer) {\r\n    \t\t\tint previousIndex = -1;\r\n    \t\t\tif (previousAnswer != null) {\r\n    \t\t\t\tpreviousIndex = getAnswerIndex(previousAnswer);\r\n    \t\t\t}\r\n    \t\t\tInternalQuestion iq = questions.get(previousIndex);\r\n    \t\t\tif (iq == null) {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString[] output = new String[iq.getAnswers().length];\r\n    \t\t\tfor (int index = 0; index &lt; iq.getAnswers().length; index++) {\r\n    \t\t\t\toutput[index] = answers.get(iq.getAnswers()[index]);\r\n    \t\t\t}\r\n    \r\n    \t\t\tExternalQuestion eq = new ExternalQuestion(previousAnswer,\r\n    \t\t\t\t\tiq.getQuestion(), output);\r\n    \t\t\treturn eq;\r\n    \t\t}\r\n    \r\n    \t\tprivate int[] convertAnswersToIndexes(String[] answers) {\r\n    \t\t\tint[] indexes = new int[answers.length];\r\n    \t\t\tfor (int index = 0; index &lt; answers.length; index++) {\r\n    \t\t\t\tindexes[index] = getAnswerIndex(answers[index]);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn indexes;\r\n    \t\t}\r\n    \r\n    \t\tprivate int getAnswerIndex(String answer) {\r\n    \t\t\tfor (int index = 0; index &lt; answers.size(); index++) {\r\n    \t\t\t\tString test = answers.get(index);\r\n    \t\t\t\tif (test.equals(answer)) {\r\n    \t\t\t\t\treturn index;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tanswers.add(answer);\r\n    \t\t\treturn answers.size() - 1;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class ExternalQuestion {\r\n    \r\n    \t\tprivate final String previousAnswer, question;\r\n    \r\n    \t\tprivate final String[] answers;\r\n    \r\n    \t\tpublic ExternalQuestion(String previousAnswer, String question,\r\n    \t\t\t\tString... answers) {\r\n    \t\t\tthis.previousAnswer = previousAnswer;\r\n    \t\t\tthis.question = question;\r\n    \t\t\tthis.answers = answers;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getPreviousAnswer() {\r\n    \t\t\treturn previousAnswer;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getQuestion() {\r\n    \t\t\treturn question;\r\n    \t\t}\r\n    \r\n    \t\tpublic String[] getAnswers() {\r\n    \t\t\treturn answers;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class InternalQuestion {\r\n    \r\n    \t\tprivate final int previousAnswer;\r\n    \r\n    \t\tprivate final int[] answers;\r\n    \r\n    \t\tprivate final String question;\r\n    \r\n    \t\tpublic InternalQuestion(int previousAnswer, String question,\r\n    \t\t\t\tint... answers) {\r\n    \t\t\tthis.previousAnswer = previousAnswer;\r\n    \t\t\tthis.question = question;\r\n    \t\t\tthis.answers = answers;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getPreviousAnswer() {\r\n    \t\t\treturn previousAnswer;\r\n    \t\t}\r\n    \r\n    \t\tpublic int[] getAnswers() {\r\n    \t\t\treturn answers;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getQuestion() {\r\n    \t\t\treturn question;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://i.stack.imgur.com/eVX1i.png\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n","title":"How do I Change the text in a JTextArea and JComboBox?","body":"<h1>Introduction</h1>\n<p>Since your code was not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal runnable example</a>, I went ahead and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/eVX1i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVX1i.png\" alt=\"Example\" /></a></p>\n<p>Because this is an example, I only created two answers for each question and I only went two questions deep.</p>\n<h1>Explanation</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern.  This allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>The model is the major part of this example application.  The view and controller are simple because the model is complex.</p>\n<p>The model is completely independent of the view and the controller.  The view reads a question and answers from the model.  The controller gets the next question and answers for the view.</p>\n<h2>Model</h2>\n<p>The model consists of four plain Java getter/setter classes.</p>\n<p>The first two classes are the <code>ExternalQuestion</code> and the <code>InternalQuestion</code> classes.</p>\n<p>The <code>ExternalQuestion</code> class stores a <code>String</code> previous answer, a <code>String</code> question, and a <code>String</code> array of answers.  The answer array can be any length.  I provided two answers to each question to keep the example short.</p>\n<p>Here's the code to load external questions.</p>\n<pre><code>        ExternalQuestion eq = new ExternalQuestion(null, \n                &quot;What time do you wake up?&quot;,\n                &quot;6 am&quot;, &quot;8 am&quot;);\n        addQuestion(eq);\n        \n        eq = new ExternalQuestion(&quot;6 am&quot;, \n                &quot;What time do you have breakfast?&quot;,\n                &quot;7 am&quot;, &quot;8 am&quot;);\n        addQuestion(eq);\n        \n        eq = new ExternalQuestion(&quot;8 am&quot;, \n                &quot;What time do you have breakfast?&quot;,\n                &quot;9 am&quot;, &quot;10 am&quot;);\n        addQuestion(eq);\n</code></pre>\n<p>The first question has a <code>null</code> previous answer.   The following questions must have an exact matching previous answer from the prior question.  You can create a complex tree with many questions and answers.</p>\n<p>This method could be modified to read a text file and create a question tree.</p>\n<p>The <code>InternalQuestion</code> class stores an <code>int</code> previous answer index, a <code>String</code> question, and an <code>int</code> array of answer indexes.  The answers are kept in a <code>List</code> and the indexes to those answers are stored.  This reduces the amount of memory needed for the question tree structure.</p>\n<p>The <code>QuestionsModel</code> builds the questions tree using a <code>List</code> for the <code>String</code> answers and a <code>Map</code> for the <code>InternalQuestion</code> instances.  This allows an easy transversal through the questions, depending on which answer the user selects.</p>\n<p>The <code>AdventureModel</code> stores an instance of the <code>QuestionsModel</code>.  Any information needed for a more complex text adventure would be stored here.</p>\n<h2>View</h2>\n<p>I created a <code>JFrame</code> and a <code>JPanel</code>.  The <code>JPanel</code> uses a <code>GridBagLayout</code> to lay out the Swing components from top to bottom, making each Swing component the same width.</p>\n<p>The <code>JFrame</code> has a default <code>BorderLayout</code>.  I placed the <code>JPanel</code> in the center of the <code>BorderLayout</code>.</p>\n<h2>Controller</h2>\n<p>I used a lambda expression to create an anonymous <code>ActionListener</code> for the <code>JButton</code>.  The expression gets the next <code>ExternalQuestion</code> instance and updates the <code>JTextArea</code> and the <code>JComboBox</code> with the question and answers.</p>\n<h2>Code</h2>\n<p>Here's the complete runnable code.  I made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class TextAdventureExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new TextAdventureExample());\n    }\n    \n    private final AdventureModel model;\n    \n    private JButton button;\n    \n    private JComboBox&lt;String&gt; comboBox;\n    \n    private JTextArea textArea;\n\n    public TextAdventureExample() {\n        this.model = new AdventureModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Text Adventure Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new GridBagLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(0, 5, 5, 5);\n        gbc.gridy = 0;\n        \n        ExternalQuestion eq = model.getQuestion(null);\n        \n        JLabel label = new JLabel(&quot;Question&quot;);\n        panel.add(label, gbc);\n        \n        gbc.gridy++;\n        textArea = new JTextArea(5, 30);\n        textArea.setEditable(false);\n        textArea.setText(eq.getQuestion());\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        panel.add(scrollPane, gbc);\n        \n        gbc.gridy++;\n        label = new JLabel(&quot;Select an answer&quot;);\n        panel.add(label, gbc);\n        \n        gbc.gridy++;\n        comboBox = new JComboBox&lt;&gt;(eq.getAnswers());\n        panel.add(comboBox, gbc);\n        \n        gbc.gridy++;\n        button = new JButton(&quot;Submit&quot;);\n        button.addActionListener(event -&gt; {\n            String previousAnswer = (String) comboBox.getSelectedItem();\n            updateMainPanel(previousAnswer);\n        });\n        panel.add(button, gbc);\n        \n        return panel;\n    }\n    \n    public void updateMainPanel(String previousAnswer) {\n        ExternalQuestion eq = model.getQuestion(previousAnswer);\n        if (eq == null) {\n            button.setEnabled(false);\n        } else {\n            textArea.setText(eq.getQuestion());\n            comboBox.setModel(new DefaultComboBoxModel(eq.getAnswers()));\n        }\n    }\n    \n    public class AdventureModel {\n        \n        private QuestionsModel questionsModel;\n        \n        public AdventureModel() {\n            this.questionsModel = new QuestionsModel();\n            loadQuestionsModel();\n        }\n        \n        private void loadQuestionsModel() {\n            ExternalQuestion eq = new ExternalQuestion(null, \n                    &quot;What time do you wake up?&quot;,\n                    &quot;6 am&quot;, &quot;8 am&quot;);\n            addQuestion(eq);\n            \n            eq = new ExternalQuestion(&quot;6 am&quot;, \n                    &quot;What time do you have breakfast?&quot;,\n                    &quot;7 am&quot;, &quot;8 am&quot;);\n            addQuestion(eq);\n            \n            eq = new ExternalQuestion(&quot;8 am&quot;, \n                    &quot;What time do you have breakfast?&quot;,\n                    &quot;9 am&quot;, &quot;10 am&quot;);\n            addQuestion(eq);\n        }\n        \n        private void addQuestion(ExternalQuestion question) {\n            questionsModel.addQuestion(question);\n        }\n        \n        public ExternalQuestion getQuestion(String previousAnswer) {\n            return questionsModel.getQuestion(previousAnswer);\n        }\n        \n    }\n\n    public class QuestionsModel {\n\n        private final List&lt;String&gt; answers;\n\n        private final Map&lt;Integer, InternalQuestion&gt; questions;\n\n        public QuestionsModel() {\n            this.answers = new ArrayList&lt;&gt;();\n            this.questions = new HashMap&lt;&gt;();\n        }\n\n        public void addQuestion(ExternalQuestion question) {\n            int previousIndex = -1;\n            String previousAnswer = question.getPreviousAnswer();\n            if (previousAnswer != null) {\n                previousIndex = getAnswerIndex(previousAnswer);\n            }\n            int[] indexes = convertAnswersToIndexes(question.getAnswers());\n            questions.put(previousIndex, new InternalQuestion(previousIndex,\n                    question.getQuestion(), indexes));\n        }\n\n        public ExternalQuestion getQuestion(String previousAnswer) {\n            int previousIndex = -1;\n            if (previousAnswer != null) {\n                previousIndex = getAnswerIndex(previousAnswer);\n            }\n            InternalQuestion iq = questions.get(previousIndex);\n            if (iq == null) {\n                return null;\n            }\n            \n            String[] output = new String[iq.getAnswers().length];\n            for (int index = 0; index &lt; iq.getAnswers().length; index++) {\n                output[index] = answers.get(iq.getAnswers()[index]);\n            }\n\n            ExternalQuestion eq = new ExternalQuestion(previousAnswer,\n                    iq.getQuestion(), output);\n            return eq;\n        }\n\n        private int[] convertAnswersToIndexes(String[] answers) {\n            int[] indexes = new int[answers.length];\n            for (int index = 0; index &lt; answers.length; index++) {\n                indexes[index] = getAnswerIndex(answers[index]);\n            }\n\n            return indexes;\n        }\n\n        private int getAnswerIndex(String answer) {\n            for (int index = 0; index &lt; answers.size(); index++) {\n                String test = answers.get(index);\n                if (test.equals(answer)) {\n                    return index;\n                }\n            }\n\n            answers.add(answer);\n            return answers.size() - 1;\n        }\n\n    }\n\n    public class ExternalQuestion {\n\n        private final String previousAnswer, question;\n\n        private final String[] answers;\n\n        public ExternalQuestion(String previousAnswer, String question,\n                String... answers) {\n            this.previousAnswer = previousAnswer;\n            this.question = question;\n            this.answers = answers;\n        }\n\n        public String getPreviousAnswer() {\n            return previousAnswer;\n        }\n\n        public String getQuestion() {\n            return question;\n        }\n\n        public String[] getAnswers() {\n            return answers;\n        }\n\n    }\n\n    public class InternalQuestion {\n\n        private final int previousAnswer;\n\n        private final int[] answers;\n\n        private final String question;\n\n        public InternalQuestion(int previousAnswer, String question,\n                int... answers) {\n            this.previousAnswer = previousAnswer;\n            this.question = question;\n            this.answers = answers;\n        }\n\n        public int getPreviousAnswer() {\n            return previousAnswer;\n        }\n\n        public int[] getAnswers() {\n            return answers;\n        }\n\n        public String getQuestion() {\n            return question;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user22229531"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76742052,"answer_count":1,"score":0,"last_activity_date":1690058894,"creation_date":1689961414,"question_id":76740120,"body_markdown":"I Want to have a JTextArea and a JComboBox, that has some text, and after a while, it changes the text, but for some reason, it&#39;s not changing the text for the JTextArea, nor the JComboBox.\r\n\r\nHere&#39;s the code which is supposed to change the JTextArea and the JComboBox:\r\n\r\n```\r\n      \r\n          //If it&#39;s question 1 for the JComboBox\r\n\r\n           if (questionNum == 1) {\r\n\r\n            //Choices\r\n            choice [0] = &quot;Choice1&quot;;\r\n            choice [1] = &quot;Choice2&quot;;\r\n            choice [2] = &quot;Choice3&quot;;\r\n            choice [3] = &quot;Choice4&quot;;\r\n\r\n          //If it&#39;s Question 2 for the JComboBox\r\n\r\n          } else if (questionNum == 2) {\r\n\r\n            //Choices\r\n            choice [0] = &quot;Choice1&quot;;\r\n            choice [1] = &quot;Choice2&quot;;\r\n            choice [2] = &quot;Choice3&quot;;\r\n            choice [3] = &quot;Choice4&quot;;\r\n\r\n          }\r\n\r\n\r\n          //JTextArea - Questions\r\n          JTextArea Question = new JTextArea(&quot; &quot;);\r\n          Question.setBounds(w/2 - 100, 150, 200, 60);\r\n          Question.setLineWrap(true);\r\n          Question.setWrapStyleWord(true);\r\n          Question.setEditable(false);\r\n          panel.add(Question);\r\n\r\n\r\n          //If it&#39;s question 1\r\n\r\n          if (questionNum == 1) {\r\n\r\n          Question.setText(&quot;Question1&quot;);\r\n         \r\n          } else if(questionNum == 2) {\r\n            \r\n            Question.setText(&quot;Question2&quot;);\r\n\r\n          }\r\n\r\n          //JCombox - Answer Choices\r\n          answer = new JComboBox(choice);\r\n          answer.setBounds(225, 230, 200, 25);\r\n          panel.add(answer); \r\n          answer.setVisible(true);\r\n          start.addActionListener(new Window());\r\n\r\n```\r\n\r\nWhat I Tried:\r\nI tried to replace the JTextArea with variables, and then tried the Update method, then tried to use the selectAll and replace method, but nothing worked.\r\n\r\n\r\nI have some more code that changes the question number, in another method.","title":"How do I Change the text in a JTextArea and JComboBox?","body":"<p>I Want to have a JTextArea and a JComboBox, that has some text, and after a while, it changes the text, but for some reason, it's not changing the text for the JTextArea, nor the JComboBox.</p>\n<p>Here's the code which is supposed to change the JTextArea and the JComboBox:</p>\n<pre><code>      \n          //If it's question 1 for the JComboBox\n\n           if (questionNum == 1) {\n\n            //Choices\n            choice [0] = &quot;Choice1&quot;;\n            choice [1] = &quot;Choice2&quot;;\n            choice [2] = &quot;Choice3&quot;;\n            choice [3] = &quot;Choice4&quot;;\n\n          //If it's Question 2 for the JComboBox\n\n          } else if (questionNum == 2) {\n\n            //Choices\n            choice [0] = &quot;Choice1&quot;;\n            choice [1] = &quot;Choice2&quot;;\n            choice [2] = &quot;Choice3&quot;;\n            choice [3] = &quot;Choice4&quot;;\n\n          }\n\n\n          //JTextArea - Questions\n          JTextArea Question = new JTextArea(&quot; &quot;);\n          Question.setBounds(w/2 - 100, 150, 200, 60);\n          Question.setLineWrap(true);\n          Question.setWrapStyleWord(true);\n          Question.setEditable(false);\n          panel.add(Question);\n\n\n          //If it's question 1\n\n          if (questionNum == 1) {\n\n          Question.setText(&quot;Question1&quot;);\n         \n          } else if(questionNum == 2) {\n            \n            Question.setText(&quot;Question2&quot;);\n\n          }\n\n          //JCombox - Answer Choices\n          answer = new JComboBox(choice);\n          answer.setBounds(225, 230, 200, 25);\n          panel.add(answer); \n          answer.setVisible(true);\n          start.addActionListener(new Window());\n\n</code></pre>\n<p>What I Tried:\nI tried to replace the JTextArea with variables, and then tried the Update method, then tried to use the selectAll and replace method, but nothing worked.</p>\n<p>I have some more code that changes the question number, in another method.</p>\n"},{"tags":["java","android","synchronization","java-threads","tcpsocket"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1690068022,"post_id":76745469,"comment_id":135301851,"body_markdown":"Your main problem is that incoming data may be fragmented or incomplete. The standard `read` command only reads data up to the size of the buffer but in worst case it can be just one byte. If you know by your protocol that e.g. 150 bytes will follow you should use DataInputStream and use a `new byte[150]` and `readFully` instead of `read`. That will ensure all 150 bytes are read before Java continues execution.","body":"Your main problem is that incoming data may be fragmented or incomplete. The standard <code>read</code> command only reads data up to the size of the buffer but in worst case it can be just one byte. If you know by your protocol that e.g. 150 bytes will follow you should use DataInputStream and use a <code>new byte[150]</code> and <code>readFully</code> instead of <code>read</code>. That will ensure all 150 bytes are read before Java continues execution."}],"owner":{"account_id":29070928,"reputation":1,"user_id":22269313,"display_name":"Bas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690056262,"creation_date":1690054006,"question_id":76745469,"body_markdown":"I have a problem with syncing two android apps exchanging data via TCP Socket using **OutputStream** and **InputStream**. By trying the two apps on the **same smartphone**, the data is sent and read in the **correct order** and all works fine. But if the devices on which the two apps run are **different**, the data are sent (or read) in a different order than expected and therefore I cannot use them for subsequent operations. \r\n\r\nThis is the part of the **sender** thread that sends the data, where &quot;output_client&quot; is an instance of OutputStream:\r\n\r\n```\r\nfor(int i=0; i&lt;4; i++){\r\n\r\n       byte[] cert_byte = certs[i].getEncoded();\r\n       output_client.write(ByteBuffer.allocate(4).putInt(cert_byte.length).array());\r\n       output_client.flush();\r\n\r\n       output_client.write(cert_byte);\r\n       output_client.flush();\r\n}\r\n```\r\n\r\nThis is the part of the **receiver** thread that receives the data, where &quot;inputStream&quot; is an instance of InputStream:\r\n\r\n```\r\nfor(int i=0; i&lt;4; i++){\r\n\r\n    inputStream.read(lenByte);\r\n    len = ByteBuffer.wrap(lenByte).getInt();\r\n    byte[] certByte = new byte[len];\r\n\r\n    inputStream.read(certByte);\r\n\r\n    [...]\r\n}\r\n```\r\n\r\nAs seen particularly in the receiver, the order in which data is read from the inputStream is important.\r\nMy problem is that the second inputStream.read() doesn&#39;t read the expected data and I can&#39;t figured out why. I&#39;ve tried to implement some basics synchronization mechanism but nothing works. \r\n\r\nThanks a lot.\r\n\r\n","title":"Problems in remote threads synchronization in two Java Android applications","body":"<p>I have a problem with syncing two android apps exchanging data via TCP Socket using <strong>OutputStream</strong> and <strong>InputStream</strong>. By trying the two apps on the <strong>same smartphone</strong>, the data is sent and read in the <strong>correct order</strong> and all works fine. But if the devices on which the two apps run are <strong>different</strong>, the data are sent (or read) in a different order than expected and therefore I cannot use them for subsequent operations.</p>\n<p>This is the part of the <strong>sender</strong> thread that sends the data, where &quot;output_client&quot; is an instance of OutputStream:</p>\n<pre><code>for(int i=0; i&lt;4; i++){\n\n       byte[] cert_byte = certs[i].getEncoded();\n       output_client.write(ByteBuffer.allocate(4).putInt(cert_byte.length).array());\n       output_client.flush();\n\n       output_client.write(cert_byte);\n       output_client.flush();\n}\n</code></pre>\n<p>This is the part of the <strong>receiver</strong> thread that receives the data, where &quot;inputStream&quot; is an instance of InputStream:</p>\n<pre><code>for(int i=0; i&lt;4; i++){\n\n    inputStream.read(lenByte);\n    len = ByteBuffer.wrap(lenByte).getInt();\n    byte[] certByte = new byte[len];\n\n    inputStream.read(certByte);\n\n    [...]\n}\n</code></pre>\n<p>As seen particularly in the receiver, the order in which data is read from the inputStream is important.\nMy problem is that the second inputStream.read() doesn't read the expected data and I can't figured out why. I've tried to implement some basics synchronization mechanism but nothing works.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690012216,"post_id":76742592,"comment_id":135296020,"body_markdown":"Enable DEBUG or TRACE logs for spring security and edit your question to include your full logs","body":"Enable DEBUG or TRACE logs for spring security and edit your question to include your full logs"}],"owner":{"account_id":27987284,"reputation":9,"user_id":21373856,"display_name":"MagicKoyFish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690055149,"creation_date":1690007606,"question_id":76742592,"body_markdown":"I am working on learning Maven &amp; REST Api&#39;s by working on a project app that will allow patients to track their medicines, this requires each user to have an account. \r\n\r\nI am trying to implement account support &amp; logins using Spring Security and jwt tokens, however I a having great difficulty getting anywhere. \r\n\r\nI have followed a few tutorials, and cant seem to find any solutions. \r\n\r\nWhenever I attempt to access and end point via url I get an Error 401 in browser &amp; the message within Intellij: &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]&quot;\r\n\r\n\r\n\r\nHere is a link to the git repo: https://github.com/Burrouwill/PatientMedicineInfo-Web-App \r\n\r\nWhen I toggle auth.anyRequest().authenticated(); --&gt; auth.anyRequest.permitAll() I am still able to see the raw JSON data for the endpoints that access data loaded into my database so I am sure that is working okay still.\r\n\r\nWhen I check postgres once Maven app is up and running, I can see the admin User is populated into db. \r\n\r\nHowever when I try and access any end point I get Error 401 in browser &amp; Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]&quot;\r\n\r\nI cant see any annotations in my Controller classes that seem out of place, but I am obviously missing something. \r\n\r\nThanks very much in advance for your help! I have been going round in circles for about a week now.\r\n\r\nI have included some information below, please let me know if I should include more or less. This is my first post of this sort of length, apologies if it is a bit messy.\r\n\r\nCheers!\r\n\r\n\r\n\r\nHere is the console/Spring trace:\r\n\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n2023-07-23T07:39:55.727+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : Starting Application using Java 20.0.1 with PID 18596 (C:\\Users\\wgrbu\\Desktop\\COMPSCI\\PatientMedcineInfo\\main\\PatientDrugInfo\\target\\classes started by wgrbu in C:\\Users\\wgrbu\\Desktop\\COMPSCI\\PatientMedcineInfo\\main\\PatientDrugInfo)\r\n2023-07-23T07:39:55.730+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-23T07:39:55.786+12:00  INFO 18596 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-07-23T07:39:55.787+12:00  INFO 18596 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-07-23T07:39:56.532+12:00  INFO 18596 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-07-23T07:39:56.614+12:00  INFO 18596 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 4 JPA repository interfaces.\r\n2023-07-23T07:39:57.345+12:00  INFO 18596 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-07-23T07:39:57.357+12:00  INFO 18596 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-07-23T07:39:57.357+12:00  INFO 18596 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-07-23T07:39:57.435+12:00  INFO 18596 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-07-23T07:39:57.437+12:00  INFO 18596 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1649 ms\r\n2023-07-23T07:39:57.610+12:00  INFO 18596 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-07-23T07:39:57.665+12:00  INFO 18596 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-07-23T07:39:57.992+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-07-23T07:39:58.198+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22903251\r\n2023-07-23T07:39:58.200+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-07-23T07:39:58.233+12:00  INFO 18596 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2023-07-23T07:39:59.298+12:00  INFO 18596 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-07-23T07:39:59.309+12:00  INFO 18596 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-07-23T07:40:02.836+12:00  WARN 18596 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-07-23T07:40:03.104+12:00  INFO 18596 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78168aa6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26ffbd72, org.springframework.security.web.context.SecurityContextHolderFilter@26eaec18, org.springframework.security.web.header.HeaderWriterFilter@231bf85d, org.springframework.security.web.authentication.logout.LogoutFilter@ee1bfa2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@392e4e23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f4ec2b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cbec593, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6debb0d8, org.springframework.security.web.session.SessionManagementFilter@1ff84566, org.springframework.security.web.access.ExceptionTranslationFilter@d09eb4, org.springframework.security.web.access.intercept.AuthorizationFilter@e1aa764]\r\n2023-07-23T07:40:03.322+12:00  INFO 18596 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-07-23T07:40:03.359+12:00  INFO 18596 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-07-23T07:40:03.371+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : Started Application in 8.049 seconds (process running for 8.522)\r\n2023-07-23T07:40:08.297+12:00  INFO 18596 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-07-23T07:40:08.298+12:00  INFO 18596 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-07-23T07:40:08.300+12:00  INFO 18596 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2023-07-23T07:40:18.380+12:00  WARN 18596 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]\r\n2023-07-23T07:40:18.613+12:00  WARN 18596 --- [nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported]\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is my SecurityConfig Class &amp; pom.xml file for context:\r\n\r\npublic class SecurityConfiguration {\r\n\r\n    private final RSAKeyProperties keys;\r\n\r\n    public SecurityConfiguration(RSAKeyProperties keys){\r\n        this.keys = keys;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(UserDetailsService detailsService){\r\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n        daoProvider.setUserDetailsService(detailsService);\r\n        daoProvider.setPasswordEncoder(passwordEncoder());\r\n        return new ProviderManager(daoProvider);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; {\r\n                    auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n                    auth.requestMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;);\r\n                    auth.anyRequest().authenticated();\r\n                });\r\n\r\n        http.oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter());\r\n        http.sessionManagement(\r\n                session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        );\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(){\r\n        return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtEncoder jwtEncoder(){\r\n        JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\r\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n        return new NimbusJwtEncoder(jwks);\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationConverter jwtAuthenticationConverter(){\r\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\r\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n        JwtAuthenticationConverter jwtConverter = new JwtAuthenticationConverter();\r\n        jwtConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n        return jwtConverter;\r\n    }\r\n\r\n}\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;PatientDrugInfo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Postgres Driver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"Request method &#39;GET&#39; is not supported &amp; Errror 401 - Maven REST Api - Spring Security","body":"<p>I am working on learning Maven &amp; REST Api's by working on a project app that will allow patients to track their medicines, this requires each user to have an account.</p>\n<p>I am trying to implement account support &amp; logins using Spring Security and jwt tokens, however I a having great difficulty getting anywhere.</p>\n<p>I have followed a few tutorials, and cant seem to find any solutions.</p>\n<p>Whenever I attempt to access and end point via url I get an Error 401 in browser &amp; the message within Intellij: &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]&quot;</p>\n<p>Here is a link to the git repo: <a href=\"https://github.com/Burrouwill/PatientMedicineInfo-Web-App\" rel=\"nofollow noreferrer\">https://github.com/Burrouwill/PatientMedicineInfo-Web-App</a></p>\n<p>When I toggle auth.anyRequest().authenticated(); --&gt; auth.anyRequest.permitAll() I am still able to see the raw JSON data for the endpoints that access data loaded into my database so I am sure that is working okay still.</p>\n<p>When I check postgres once Maven app is up and running, I can see the admin User is populated into db.</p>\n<p>However when I try and access any end point I get Error 401 in browser &amp; Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]&quot;</p>\n<p>I cant see any annotations in my Controller classes that seem out of place, but I am obviously missing something.</p>\n<p>Thanks very much in advance for your help! I have been going round in circles for about a week now.</p>\n<p>I have included some information below, please let me know if I should include more or less. This is my first post of this sort of length, apologies if it is a bit messy.</p>\n<p>Cheers!</p>\n<p>Here is the console/Spring trace:</p>\n<p>.   ____          _            __ _ _\n/\\ / <em><em><em>'</em> __ _ <em>(</em>)</em> __  __ _ \\ \\ \\ <br />\n( ( )_</em>_ | '_ | '<em>| | '</em> / <em>` | \\ \\ \\ <br />\n\\/  __<em>)| |</em>)| | | | | || (</em>| |  ) ) ) )\n'  |<strong><em><em>| .__|</em>| |</em>|<em>| |</em>_<em>, | / / / /\n=========|</em>|==============|</strong><em>/=/</em>/<em>/</em>/\n:: Spring Boot ::                (v3.0.4)</p>\n<p>2023-07-23T07:39:55.727+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : Starting Application using Java 20.0.1 with PID 18596 (C:\\Users\\wgrbu\\Desktop\\COMPSCI\\PatientMedcineInfo\\main\\PatientDrugInfo\\target\\classes started by wgrbu in C:\\Users\\wgrbu\\Desktop\\COMPSCI\\PatientMedcineInfo\\main\\PatientDrugInfo)\n2023-07-23T07:39:55.730+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-23T07:39:55.786+12:00  INFO 18596 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-07-23T07:39:55.787+12:00  INFO 18596 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-07-23T07:39:56.532+12:00  INFO 18596 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-07-23T07:39:56.614+12:00  INFO 18596 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 4 JPA repository interfaces.\n2023-07-23T07:39:57.345+12:00  INFO 18596 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-07-23T07:39:57.357+12:00  INFO 18596 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-07-23T07:39:57.357+12:00  INFO 18596 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-07-23T07:39:57.435+12:00  INFO 18596 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-07-23T07:39:57.437+12:00  INFO 18596 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1649 ms\n2023-07-23T07:39:57.610+12:00  INFO 18596 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-07-23T07:39:57.665+12:00  INFO 18596 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-07-23T07:39:57.992+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-07-23T07:39:58.198+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22903251\n2023-07-23T07:39:58.200+12:00  INFO 18596 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-07-23T07:39:58.233+12:00  INFO 18596 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-07-23T07:39:59.298+12:00  INFO 18596 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-07-23T07:39:59.309+12:00  INFO 18596 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-07-23T07:40:02.836+12:00  WARN 18596 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-07-23T07:40:03.104+12:00  INFO 18596 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78168aa6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26ffbd72, org.springframework.security.web.context.SecurityContextHolderFilter@26eaec18, org.springframework.security.web.header.HeaderWriterFilter@231bf85d, org.springframework.security.web.authentication.logout.LogoutFilter@ee1bfa2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@392e4e23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f4ec2b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cbec593, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6debb0d8, org.springframework.security.web.session.SessionManagementFilter@1ff84566, org.springframework.security.web.access.ExceptionTranslationFilter@d09eb4, org.springframework.security.web.access.intercept.AuthorizationFilter@e1aa764]\n2023-07-23T07:40:03.322+12:00  INFO 18596 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-07-23T07:40:03.359+12:00  INFO 18596 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-07-23T07:40:03.371+12:00  INFO 18596 --- [  restartedMain] com.example.demo.Application             : Started Application in 8.049 seconds (process running for 8.522)\n2023-07-23T07:40:08.297+12:00  INFO 18596 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-07-23T07:40:08.298+12:00  INFO 18596 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-07-23T07:40:08.300+12:00  INFO 18596 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-07-23T07:40:18.380+12:00  WARN 18596 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]\n2023-07-23T07:40:18.613+12:00  WARN 18596 --- [nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]</p>\n<p>Here is my SecurityConfig Class &amp; pom.xml file for context:</p>\n<p>public class SecurityConfiguration {</p>\n<pre><code>private final RSAKeyProperties keys;\n\npublic SecurityConfiguration(RSAKeyProperties keys){\n    this.keys = keys;\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder(){\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic AuthenticationManager authManager(UserDetailsService detailsService){\n    DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n    daoProvider.setUserDetailsService(detailsService);\n    daoProvider.setPasswordEncoder(passwordEncoder());\n    return new ProviderManager(daoProvider);\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n    http\n            .csrf(csrf -&gt; csrf.disable())\n            .authorizeHttpRequests(auth -&gt; {\n                auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\n                auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\n                auth.requestMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;);\n                auth.anyRequest().authenticated();\n            });\n\n    http.oauth2ResourceServer()\n            .jwt()\n            .jwtAuthenticationConverter(jwtAuthenticationConverter());\n    http.sessionManagement(\n            session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n    );\n\n    return http.build();\n}\n\n@Bean\npublic JwtDecoder jwtDecoder(){\n    return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\n}\n\n@Bean\npublic JwtEncoder jwtEncoder(){\n    JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\n    JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n    return new NimbusJwtEncoder(jwks);\n}\n\n@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter(){\n    JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\n    jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n    JwtAuthenticationConverter jwtConverter = new JwtAuthenticationConverter();\n    jwtConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n    return jwtConverter;\n}\n</code></pre>\n<p>}</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.0.4\n \n\ncom.example\nPatientDrugInfo\n0.0.1-SNAPSHOT\ndemo\nDemo project for Spring Boot\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n</p>\n<pre><code>&lt;dependencies&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Postgres Driver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","maven","jenkins","junit","karate"],"comments":[{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":0,"creation_date":1555615590,"post_id":55752399,"comment_id":98181662,"body_markdown":"You should run the java command from the root directory","body":"You should run the java command from the root directory"},{"owner":{"account_id":8733443,"reputation":2180,"user_id":6532771,"accept_rate":100,"display_name":"Ivan Lymar"},"score":0,"creation_date":1555615999,"post_id":55752399,"comment_id":98181818,"body_markdown":"Are your tests part of your project or they are separate?","body":"Are your tests part of your project or they are separate?"},{"owner":{"account_id":10346428,"reputation":59,"user_id":7631246,"display_name":"Knight"},"score":0,"creation_date":1555616488,"post_id":55752399,"comment_id":98181988,"body_markdown":"@Spara I tried running in the root directory too by specifying the path of the testcase jar..throws the same error.","body":"@Spara I tried running in the root directory too by specifying the path of the testcase jar..throws the same error."},{"owner":{"account_id":10346428,"reputation":59,"user_id":7631246,"display_name":"Knight"},"score":0,"creation_date":1555616616,"post_id":55752399,"comment_id":98182045,"body_markdown":"@IvanLymar from the project i created separate jars for actual code and for tests and i hope this jars contains only test cases.","body":"@IvanLymar from the project i created separate jars for actual code and for tests and i hope this jars contains only test cases."}],"answers":[{"tags":[],"owner":{"account_id":11724567,"reputation":13477,"user_id":8582353,"display_name":"yong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555628741,"creation_date":1555628741,"answer_id":55754744,"question_id":55752399,"body_markdown":"You specify class in cmd is  `com.cape.board.api.examples.ExeTest`, but you packaged the class into `api-tests.jar`  is `examples/ExeTest.class`. That&#39;s why report class not found.","title":"How to run a KarateTest.Jar?","body":"<p>You specify class in cmd is  <code>com.cape.board.api.examples.ExeTest</code>, but you packaged the class into <code>api-tests.jar</code>  is <code>examples/ExeTest.class</code>. That's why report class not found.</p>\n"}],"owner":{"account_id":10346428,"reputation":59,"user_id":7631246,"display_name":"Knight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":55754744,"answer_count":1,"score":-1,"last_activity_date":1690054926,"creation_date":1555614596,"question_id":55752399,"body_markdown":"I have created a jar file comprising all Karate test cases of my project, now how do run it? i was able to run the tests in eclipse using Junit now i&#39;m trying to integrate karate tests in Jenkins CI pipeline jobs and am not sure how to do this. \r\n\r\n\r\nI checked if the jar had the test cases of the project and it did.   \r\n    \r\n     root@mymachine:# unzip -v api-tests.jar\r\n\r\n      Archive:  api-tests.jar\r\n\r\n    Length   Method    Size  Cmpr    Date    Time   CRC-32   Name\r\n    --------  ------  ------- ---- ---------- ----- --------  ----\r\n\r\n        0  Stored        0   0% 04-08-2019 05:43 00000000  META-INF/\r\n\r\n       389  Defl:N      226  42% 04-08-2019 05:43 131755ce  META-INF/MANIFEST.MF\r\n\r\n        0  Stored        0   0% 04-08-2019 05:43 00000000  examples/\r\n\r\n       747  Defl:N      445  40% 04-08-2019 05:43 8adc3e2f  examples/ExeTest.class\r\n\r\nRan the below command to execute the Test Jar. Running the command in the test jar&#39;s directory.   \r\n    \r\n    root@mymachine # java -cp api-tests.jar:/usr/share/java/junit4.jar junit.textui.TestRunner com.cape.board.api.examples.ExeTest\r\n\r\n\r\n    Class not found &quot;com.cape.board.api.examples.ExeTest&quot;\r\nSo how do i execute this and is there anyother way to integrate Karate in Jenkins pipeline job.","title":"How to run a KarateTest.Jar?","body":"<p>I have created a jar file comprising all Karate test cases of my project, now how do run it? i was able to run the tests in eclipse using Junit now i'm trying to integrate karate tests in Jenkins CI pipeline jobs and am not sure how to do this. </p>\n\n<p>I checked if the jar had the test cases of the project and it did.   </p>\n\n<pre><code> root@mymachine:# unzip -v api-tests.jar\n\n  Archive:  api-tests.jar\n\nLength   Method    Size  Cmpr    Date    Time   CRC-32   Name\n--------  ------  ------- ---- ---------- ----- --------  ----\n\n    0  Stored        0   0% 04-08-2019 05:43 00000000  META-INF/\n\n   389  Defl:N      226  42% 04-08-2019 05:43 131755ce  META-INF/MANIFEST.MF\n\n    0  Stored        0   0% 04-08-2019 05:43 00000000  examples/\n\n   747  Defl:N      445  40% 04-08-2019 05:43 8adc3e2f  examples/ExeTest.class\n</code></pre>\n\n<p>Ran the below command to execute the Test Jar. Running the command in the test jar's directory.   </p>\n\n<pre><code>root@mymachine # java -cp api-tests.jar:/usr/share/java/junit4.jar junit.textui.TestRunner com.cape.board.api.examples.ExeTest\n\n\nClass not found \"com.cape.board.api.examples.ExeTest\"\n</code></pre>\n\n<p>So how do i execute this and is there anyother way to integrate Karate in Jenkins pipeline job.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1690039004,"post_id":76744163,"comment_id":135298744,"body_markdown":"Look into using the [UCanAccess JDBC Driver](https://ucanaccess.sourceforge.net/site.html).","body":"Look into using the <a href=\"https://ucanaccess.sourceforge.net/site.html\" rel=\"nofollow noreferrer\">UCanAccess JDBC Driver</a>."}],"answers":[{"tags":[],"owner":{"account_id":29063704,"reputation":26,"user_id":22263786,"display_name":"Ian Dancan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690053708,"creation_date":1690053708,"answer_id":76745453,"question_id":76744163,"body_markdown":"If in need of tutorials for database connection i&#39;d suggest you watch youtube tutorials from Tutus funny. The link to the channel is https://www.youtube.com/watch?v=F4vpJJH2PZU&amp;t=1731s&amp;pp=ygUZdHV0dXMgZnVubnkgamF2YSBwcm9qZWN0cw%3D%3D","title":"How do I connect my login screen to an Access database using classes","body":"<p>If in need of tutorials for database connection i'd suggest you watch youtube tutorials from Tutus funny. The link to the channel is <a href=\"https://www.youtube.com/watch?v=F4vpJJH2PZU&amp;t=1731s&amp;pp=ygUZdHV0dXMgZnVubnkgamF2YSBwcm9qZWN0cw%3D%3D\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=F4vpJJH2PZU&amp;t=1731s&amp;pp=ygUZdHV0dXMgZnVubnkgamF2YSBwcm9qZWN0cw%3D%3D</a></p>\n"}],"owner":{"account_id":29069649,"reputation":1,"user_id":22268349,"display_name":"Fallenstar6527"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690053708,"creation_date":1690034286,"question_id":76744163,"body_markdown":"I am currently working on a project that i need to do for my IT practical assessment task for high school. I have created a login screen using Netbeans and have to connect to a database while separating the code into different classes etc. I have created the gui and have created a utilities class where I plan to upload all the information from the gui into the database. My problem now is that i have no clue how to do it. Any help or advice on how to do this would be appreciated \r\n\r\nI have tried doing research and watching youtube stuff for it but i have come up with nothing unfortunately","title":"How do I connect my login screen to an Access database using classes","body":"<p>I am currently working on a project that i need to do for my IT practical assessment task for high school. I have created a login screen using Netbeans and have to connect to a database while separating the code into different classes etc. I have created the gui and have created a utilities class where I plan to upload all the information from the gui into the database. My problem now is that i have no clue how to do it. Any help or advice on how to do this would be appreciated</p>\n<p>I have tried doing research and watching youtube stuff for it but i have come up with nothing unfortunately</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690053298,"post_id":76745426,"comment_id":135300481,"body_markdown":"Please show the full exception stack trace.","body":"Please show the full exception stack trace."},{"owner":{"account_id":2449248,"reputation":149,"user_id":2135899,"accept_rate":32,"display_name":"abhishek"},"score":0,"creation_date":1690053421,"post_id":76745426,"comment_id":135300498,"body_markdown":"@Progman yes it do","body":"@Progman yes it do"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1690053510,"post_id":76745426,"comment_id":135300504,"body_markdown":"@abhishek Check the warning you get at the `new ArrayList()` line.","body":"@abhishek Check the warning you get at the <code>new ArrayList()</code> line."}],"owner":{"account_id":2449248,"reputation":149,"user_id":2135899,"accept_rate":32,"display_name":"abhishek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690053398,"answer_count":0,"score":0,"last_activity_date":1690053361,"creation_date":1690053212,"question_id":76745426,"body_markdown":"In the following piece of code \r\n\r\n    int[] arr =new int[] {1,2,5,1,1,1};\r\n\t\tList&lt;Integer&gt; arrList =new ArrayList(Arrays.asList(arr));\r\n\t\tIterator&lt;Integer&gt; itr =arrList.iterator();\r\n\t\twhile(itr.hasNext()) {\r\n\t\t\tInteger i =itr.next();     // classcast exception\r\n\t\t}\r\nNot sure why it need to be casted  again\r\n\r\nExecption log is \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat dsa/dsa.streamPractice.main(streamPractice.java:14)","title":"How to fix classcast exception","body":"<p>In the following piece of code</p>\n<pre><code>int[] arr =new int[] {1,2,5,1,1,1};\n    List&lt;Integer&gt; arrList =new ArrayList(Arrays.asList(arr));\n    Iterator&lt;Integer&gt; itr =arrList.iterator();\n    while(itr.hasNext()) {\n        Integer i =itr.next();     // classcast exception\n    }\n</code></pre>\n<p>Not sure why it need to be casted  again</p>\n<p>Execption log is</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader 'bootstrap')\nat dsa/dsa.streamPractice.main(streamPractice.java:14)\n</code></pre>\n"},{"tags":["java","gcc","java-native-interface","glibc","oraclelinux"],"answers":[{"tags":[],"owner":{"account_id":20975,"reputation":202508,"user_id":50617,"display_name":"Employed Russian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690053116,"creation_date":1690053116,"answer_id":76745419,"question_id":76723118,"body_markdown":"&gt; The problem occurs on Oracle Linux 8, I got the following error after successful build ON THE SAME MACHINE:\r\n\r\nIt&#39;s likely that you didn&#39;t build this `librocksaw.so` on the _same_ Oracle Linux 8 machine -- possibly you copied objects from another machine, and didn&#39;t do `make clean` to _actually_ rebuild the library.\r\n\r\nTo see which actual `libc.so.6` you used at link time, you can add `-Wl,-t` to the link line and re-link `librocksaw.so`. If this shows that you used the system `libc.so.6`, then this `librocksaw.so` _will work_.\r\n\r\nIf you have another copy of `libc.so.6` somewhere else, remove that copy -- it&#39;s shouldn&#39;t be on the Oracle Linux machine in the first place.\r\n\r\n&gt; I don&#39;t understand who and when links another version of Glib during the build.\r\n\r\nThe glib and GLIBC are completely separate projects, the former has nothing to do with your problem.\r\n\r\n","title":"Wrong version of GLIBC on Oracle Linux 8","body":"<blockquote>\n<p>The problem occurs on Oracle Linux 8, I got the following error after successful build ON THE SAME MACHINE:</p>\n</blockquote>\n<p>It's likely that you didn't build this <code>librocksaw.so</code> on the <em>same</em> Oracle Linux 8 machine -- possibly you copied objects from another machine, and didn't do <code>make clean</code> to <em>actually</em> rebuild the library.</p>\n<p>To see which actual <code>libc.so.6</code> you used at link time, you can add <code>-Wl,-t</code> to the link line and re-link <code>librocksaw.so</code>. If this shows that you used the system <code>libc.so.6</code>, then this <code>librocksaw.so</code> <em>will work</em>.</p>\n<p>If you have another copy of <code>libc.so.6</code> somewhere else, remove that copy -- it's shouldn't be on the Oracle Linux machine in the first place.</p>\n<blockquote>\n<p>I don't understand who and when links another version of Glib during the build.</p>\n</blockquote>\n<p>The glib and GLIBC are completely separate projects, the former has nothing to do with your problem.</p>\n"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690053116,"creation_date":1689781863,"question_id":76723118,"body_markdown":"I need to rebuild patched version of rocksaw library. Here is the [source code on Github][1].\r\n\r\nOn Ubuntu 22 both build process and test program run as expected. \r\nThe problem occurs on Oracle Linux 8, I got the following error after successful build ON THE SAME MACHINE:\r\n```\r\n[root@localhost lib]# ldd librocksaw.so\r\n./librocksaw.so: /lib64/libc.so.6: version `GLIBC_2.34&#39; not found (required by ./librocksaw.so)\r\n        linux-vdso.so.1 (0x00007ffd686b5000)\r\n        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f4522793000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x00007f4522b58000)\r\n```\r\nThe installed version of Glib is 2.28\r\n```\r\n[root@localhost lib]# ldd --version\r\nldd (GNU libc) 2.28\r\n```\r\nHere is Makefile\r\n```\r\nUNAME  := $(shell uname)\r\nCYGWIN := $(findstring CYGWIN,$(UNAME))\r\nDARWIN := $(findstring Darwin,$(UNAME))\r\n\r\nCC       = gcc\r\nSHARED   = -shared\r\nCFLAGS   = -Wall -O2 -pipe -D_REENTRANT\r\nWINSOCK  = ws2_32\r\nEXTRA_LDFLAGS  =\r\nEXTRA_CPPFLAGS =\r\nLDFLAGS  = $(EXTRA_LDFLAGS)\r\nCPPFLAGS = $(EXTRA_CPPFLAGS)\r\nLIBNAME  = librocksaw\r\nLIBEXTENSION = so\r\n\r\nifeq ($(DARWIN),Darwin)\r\n  JAVA_INCDIR  = $(JAVA_HOME)/include\r\n  LIBEXTENSION = jnilib\r\n  CPPFLAGS += -I$(JAVA_INCDIR)\r\n  LDFLAGS += -dynamiclib -noprebind -single_module -framework JavaVM\r\n  SHARED =\r\nelse\r\n  ifeq ($(CYGWIN),CYGWIN)\r\n    override CC += -mno-cygwin\r\n    CPPFLAGS += -D__int64=&quot;long long&quot;\r\n    LDFLAGS += -Wl,--kill-at -l$(WINSOCK)\r\n    JDK_HOME := $(shell cygpath $(JDK_HOME))\r\n    LIBNAME      = rocksaw\r\n    LIBEXTENSION = dll\r\n  endif\r\n\r\n  JAVA_INCDIR      = $(JDK_HOME)/include\r\n  JAVA_INCDIR_PLAF = $(dir $(wildcard $(JAVA_INCDIR)/*/jni_md.h))\r\n  CPPFLAGS += -I$(JAVA_INCDIR) -I$(JAVA_INCDIR_PLAF)\r\n  CFLAGS += -ansi -pthread -fPIC -DPIC\r\nendif\r\n\r\nSRC := $(shell find . -name &quot;*.cpp&quot; -print)\r\nOBJ := $(SRC:%.cpp=%.o)\r\n\r\nCLEAN_EXTENSIONS = o $(LIBEXTENSION)\r\n\r\nLIBROCKSAW = $(LIBNAME).$(LIBEXTENSION)\r\n\r\nall: $(LIBROCKSAW)\r\n\r\n%.o: %.cpp\r\n\t$(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $@\r\n\r\n$(LIBROCKSAW): $(OBJ)\r\n\t$(CC) $(SHARED) -o $@ $^ $(LDFLAGS)\r\n\r\nclean:\r\n\tfor extension in $(CLEAN_EXTENSIONS); do \\\r\n\t\tfind . -name &quot;*.$$extension&quot; | xargs rm -f ; \\\r\n\tdone\r\n\tfind . -name &quot;*~&quot; | xargs rm -f\r\n```\r\n\r\nI don&#39;t understand who and when links another version of Glib during the build. Maybe it somehow relates to Java because this library includes both java and native build artifacts, doesn&#39;t it?\r\n\r\nAny thoughts? \r\n\r\n  [1]: https://github.com/devaskim/rocksaw-patched/tree/main","title":"Wrong version of GLIBC on Oracle Linux 8","body":"<p>I need to rebuild patched version of rocksaw library. Here is the <a href=\"https://github.com/devaskim/rocksaw-patched/tree/main\" rel=\"nofollow noreferrer\">source code on Github</a>.</p>\n<p>On Ubuntu 22 both build process and test program run as expected.\nThe problem occurs on Oracle Linux 8, I got the following error after successful build ON THE SAME MACHINE:</p>\n<pre><code>[root@localhost lib]# ldd librocksaw.so\n./librocksaw.so: /lib64/libc.so.6: version `GLIBC_2.34' not found (required by ./librocksaw.so)\n        linux-vdso.so.1 (0x00007ffd686b5000)\n        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f4522793000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007f4522b58000)\n</code></pre>\n<p>The installed version of Glib is 2.28</p>\n<pre><code>[root@localhost lib]# ldd --version\nldd (GNU libc) 2.28\n</code></pre>\n<p>Here is Makefile</p>\n<pre><code>UNAME  := $(shell uname)\nCYGWIN := $(findstring CYGWIN,$(UNAME))\nDARWIN := $(findstring Darwin,$(UNAME))\n\nCC       = gcc\nSHARED   = -shared\nCFLAGS   = -Wall -O2 -pipe -D_REENTRANT\nWINSOCK  = ws2_32\nEXTRA_LDFLAGS  =\nEXTRA_CPPFLAGS =\nLDFLAGS  = $(EXTRA_LDFLAGS)\nCPPFLAGS = $(EXTRA_CPPFLAGS)\nLIBNAME  = librocksaw\nLIBEXTENSION = so\n\nifeq ($(DARWIN),Darwin)\n  JAVA_INCDIR  = $(JAVA_HOME)/include\n  LIBEXTENSION = jnilib\n  CPPFLAGS += -I$(JAVA_INCDIR)\n  LDFLAGS += -dynamiclib -noprebind -single_module -framework JavaVM\n  SHARED =\nelse\n  ifeq ($(CYGWIN),CYGWIN)\n    override CC += -mno-cygwin\n    CPPFLAGS += -D__int64=&quot;long long&quot;\n    LDFLAGS += -Wl,--kill-at -l$(WINSOCK)\n    JDK_HOME := $(shell cygpath $(JDK_HOME))\n    LIBNAME      = rocksaw\n    LIBEXTENSION = dll\n  endif\n\n  JAVA_INCDIR      = $(JDK_HOME)/include\n  JAVA_INCDIR_PLAF = $(dir $(wildcard $(JAVA_INCDIR)/*/jni_md.h))\n  CPPFLAGS += -I$(JAVA_INCDIR) -I$(JAVA_INCDIR_PLAF)\n  CFLAGS += -ansi -pthread -fPIC -DPIC\nendif\n\nSRC := $(shell find . -name &quot;*.cpp&quot; -print)\nOBJ := $(SRC:%.cpp=%.o)\n\nCLEAN_EXTENSIONS = o $(LIBEXTENSION)\n\nLIBROCKSAW = $(LIBNAME).$(LIBEXTENSION)\n\nall: $(LIBROCKSAW)\n\n%.o: %.cpp\n    $(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $@\n\n$(LIBROCKSAW): $(OBJ)\n    $(CC) $(SHARED) -o $@ $^ $(LDFLAGS)\n\nclean:\n    for extension in $(CLEAN_EXTENSIONS); do \\\n        find . -name &quot;*.$$extension&quot; | xargs rm -f ; \\\n    done\n    find . -name &quot;*~&quot; | xargs rm -f\n</code></pre>\n<p>I don't understand who and when links another version of Glib during the build. Maybe it somehow relates to Java because this library includes both java and native build artifacts, doesn't it?</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","spring","spring-data-jpa","pojo"],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1556034790,"creation_date":1556034790,"answer_id":55815064,"question_id":55815003,"body_markdown":"Try using the constructor:\r\n\r\n    @Query(&quot;SELECT new TestPojo(tt, at.field, at.anotherField) from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\r\n    List&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\r\n\r\nOf course such constructor must exist and even better would be to place the fully qualified name instead of bare `TestPojo`.","title":"How to map JPA query results to a POJO?","body":"<p>Try using the constructor:</p>\n\n<pre><code>@Query(\"SELECT new TestPojo(tt, at.field, at.anotherField) from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField\")\nList&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\n</code></pre>\n\n<p>Of course such constructor must exist and even better would be to place the fully qualified name instead of bare <code>TestPojo</code>.</p>\n"},{"tags":[],"owner":{"account_id":4692275,"reputation":2134,"user_id":3798111,"accept_rate":43,"display_name":"R. Karlus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556036977,"creation_date":1556036977,"answer_id":55815672,"question_id":55815003,"body_markdown":"Well you can use the `@SqlResultSetMapping` annotation or you can create your own interface to reflect the query fields to it. You can find both examples here:[https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo][1]\r\n\r\nYou can call a constructor too, like @Andronicus said.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo","title":"How to map JPA query results to a POJO?","body":"<p>Well you can use the <code>@SqlResultSetMapping</code> annotation or you can create your own interface to reflect the query fields to it. You can find both examples here:<a href=\"https://stackoverflow.com/questions/29082749/spring-data-jpa-map-the-native-query-result-to-non-entity-pojo\">Spring Data JPA map the native query result to Non-Entity POJO</a></p>\n\n<p>You can call a constructor too, like @Andronicus said.</p>\n"},{"tags":[],"owner":{"account_id":10395976,"reputation":169,"user_id":7665726,"display_name":"Sann Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666342364,"creation_date":1666342364,"answer_id":74151136,"question_id":55815003,"body_markdown":"I found it is similar to \r\nhttps://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/74149887#74149887 and https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/74149887#74149887\r\n\r\nI had a answer to suggest the easy and convenient way if you are using `spring-boot-starter-data-jpa`. I copy the answer here for more convenient.\r\n\r\nIf you want to map the custom query result directly to an entity without writing any code to map, try this way. In my experience, it is the most convenient way to do, but the downside is to lose the benefit of hibernate ddl-auto:\r\n\r\n1. Disable hibernate validation by removing the `hibernate.ddl-auto`. If not doing this, hibernate can complain about missing table in database.\r\n\r\n2. Create a pojo with `@Entity` for the custom result set without table mapping, something like: \r\n\r\n       @Getter\r\n       @Setter\r\n       @Entity\r\n       public class MyCustomeResult implements Serializable {\r\n           @Id\r\n           private Long id;\r\n    \r\n           @Column(name = &quot;name&quot;)\r\n           private String name;\r\n       }\r\n\r\n3. In repository, use the entity to map directly from `query.getResultList()`\r\n\r\n       public List&lt;MyCustomeResult&gt; findByExampleCustomQuery(Long test) {\r\n            String sql = &quot;select id, name from examples where id =:test&quot;;\r\n            Query query = entityManager.createNativeQuery(sql, MyCustomeResult.class);\r\n            return query.setParameter(&quot;test&quot;, test).getResultList();\r\n        }\r\n","title":"How to map JPA query results to a POJO?","body":"<p>I found it is similar to\n<a href=\"https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/74149887#74149887\">JPA : How to convert a native query result set to POJO class collection</a> and <a href=\"https://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/74149887#74149887\">JPA : How to convert a native query result set to POJO class collection</a></p>\n<p>I had a answer to suggest the easy and convenient way if you are using <code>spring-boot-starter-data-jpa</code>. I copy the answer here for more convenient.</p>\n<p>If you want to map the custom query result directly to an entity without writing any code to map, try this way. In my experience, it is the most convenient way to do, but the downside is to lose the benefit of hibernate ddl-auto:</p>\n<ol>\n<li><p>Disable hibernate validation by removing the <code>hibernate.ddl-auto</code>. If not doing this, hibernate can complain about missing table in database.</p>\n</li>\n<li><p>Create a pojo with <code>@Entity</code> for the custom result set without table mapping, something like:</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class MyCustomeResult implements Serializable {\n    @Id\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n</li>\n<li><p>In repository, use the entity to map directly from <code>query.getResultList()</code></p>\n<pre><code>public List&lt;MyCustomeResult&gt; findByExampleCustomQuery(Long test) {\n     String sql = &quot;select id, name from examples where id =:test&quot;;\n     Query query = entityManager.createNativeQuery(sql, MyCustomeResult.class);\n     return query.setParameter(&quot;test&quot;, test).getResultList();\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18825072,"reputation":323,"user_id":13730182,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690053008,"creation_date":1690052333,"answer_id":76745371,"question_id":55815003,"body_markdown":"I found two sollution:\r\n\r\n1 . Using a class to convert:\r\n\r\n\r\n    @Query(&quot;SELECT new com.example.project.TestPojo(tt, at.field, at.anotherField) from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\r\n    List&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\r\n\r\nClass: \r\n\r\n    package com.example.project;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TestPojo {\r\n        private Long tt;\r\n        private String field;\r\n        private String anotherField;\r\n    }\r\n\r\n2 . Using an interface to convert:\r\n\r\n\r\n    @Query(&quot;SELECT tt AS tt, at.field AS field, at.anotherField AS anotherField from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\r\n    List&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\r\n\r\n\r\nInterface: \r\n\r\n    public interface TestPojo {\r\n        Long getTt();\r\n        String getField();\r\n        String getAnotherField();\r\n    }","title":"How to map JPA query results to a POJO?","body":"<p>I found two sollution:</p>\n<p>1 . Using a class to convert:</p>\n<pre><code>@Query(&quot;SELECT new com.example.project.TestPojo(tt, at.field, at.anotherField) from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\nList&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\n</code></pre>\n<p>Class:</p>\n<pre><code>package com.example.project;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TestPojo {\n    private Long tt;\n    private String field;\n    private String anotherField;\n}\n</code></pre>\n<p>2 . Using an interface to convert:</p>\n<pre><code>@Query(&quot;SELECT tt AS tt, at.field AS field, at.anotherField AS anotherField from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\nList&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface TestPojo {\n    Long getTt();\n    String getField();\n    String getAnotherField();\n}\n</code></pre>\n"}],"owner":{"account_id":14169664,"reputation":215,"user_id":10236646,"display_name":"R. Pereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5833,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55815064,"answer_count":4,"score":4,"last_activity_date":1690053008,"creation_date":1556034535,"question_id":55815003,"body_markdown":"    @Query(&quot;SELECT tt, at.field, at.anotherField from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField&quot;)\r\n    List&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\r\n\r\nHow can I map this JPA query results to a Pojo without native query, like [this approach][1] ?\r\n\r\nI&#39;m using JPA and Hibernate. Can anyone provide other option?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=RwUo3poapGs","title":"How to map JPA query results to a POJO?","body":"<pre><code>@Query(\"SELECT tt, at.field, at.anotherField from TableTest tt LEFT JOIN AnotherTable at ON at.commonField = tt.commonField\")\nList&lt;TestPojo&gt; findAllPojo(List&lt;TableTestDTO&gt; TableTestDTOList);\n</code></pre>\n\n<p>How can I map this JPA query results to a Pojo without native query, like <a href=\"https://www.youtube.com/watch?v=RwUo3poapGs\" rel=\"nofollow noreferrer\">this approach</a> ?</p>\n\n<p>I'm using JPA and Hibernate. Can anyone provide other option?</p>\n"},{"tags":["java","android","protocol-buffers","grpc"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688591361,"post_id":76623979,"comment_id":135095839,"body_markdown":"gRPC and proto generation are two different steps.  It&#39;s normal and expected that just running protoc without any gRPC configuration won&#39;t generate the gRPC class.  What happens when you actually do a build through Gradle instead of just manually invoking protoc?","body":"gRPC and proto generation are two different steps.  It&#39;s normal and expected that just running protoc without any gRPC configuration won&#39;t generate the gRPC class.  What happens when you actually do a build through Gradle instead of just manually invoking protoc?"}],"owner":{"account_id":28958451,"reputation":1,"user_id":22181497,"display_name":"Ouriel Ben Natan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690052599,"creation_date":1688590528,"question_id":76623979,"body_markdown":"when I am trying to generate my java classes withe the proto files its work but the class myserviceGrpc not generated I don&#39;t understand what \r\n\r\n```\r\n \r\nsyntax = &quot;proto3&quot;;\r\n\r\n\r\noption java_package = &quot;com.binaapps.identify&quot;;\r\noption java_multiple_files = true;\r\noption java_outer_classname = &quot;ProcessProto&quot;;\r\n\r\npackage imageProcessing;\r\n\r\n// The greeting service definition.\r\nservice Process {\r\n  // Sends a greeting\r\n  rpc ProcessUnary (ProcessUnaryRequest) returns (ProcessUnaryReply);\r\n}\r\n\r\n// The request message containing the user&#39;s name.\r\nmessage ProcessUnaryRequest {\r\n\tbytes imageData = 1;\r\n}\r\n\r\n// The response message containing the greetings.\r\nmessage ProcessUnaryReply {\r\n\tProcessedImageData processedImageData =1;\r\n}\r\n\r\nmessage ProcessedImageData\r\n{\r\n\tbool hasFace =1;\r\n\tint32 facesCount =2;\t\r\n\trepeated Point2d landmarks=3;\r\n}\r\n\r\nmessage Point2d\r\n{\r\n\tint32 x =1;\r\n\tint32 y =2;\r\n}\r\n```\r\n\r\nbuild.graddle (project)\r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        compose_version = &#39;1.1.1&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.2&#39;\r\n        classpath &quot;com.google.gms:google-services:4.3.15&quot;\r\n        classpath &quot;com.google.protobuf:protobuf-gradle-plugin:0.9.3&quot;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.1&#39; apply false\r\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nbuild.gradle(module)\r\n\r\n```\r\nprotobuf {\r\n    protoc { artifact = &#39;com.google.protobuf:protoc:3.19.2&#39; }\r\n    plugins {\r\n        grpc { artifact = &#39;io.grpc:protoc-gen-grpc-java:1.47.0&#39; }\r\n    }\r\n    generateProtoTasks {\r\n        all().each { task -&gt;\r\n            task.builtins {\r\n                java { option &#39;lite&#39; }\r\n            }\r\n            task.plugins {\r\n                grpc {\r\n                    option &#39;lite&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat I run in my terminal:\r\n\r\n    protoc --java_out=app/build/generated/ap_generated_sources/debug/out \r\n           --proto_path=/Users/binadev/Downloads/Identify/app/src/main/Protos\r\n           /Users/binadev/Downloads/Identify/app/src/main/Protos/RemoteImageProcessingProtoV1.proto","title":"Grpc class generate Android Java","body":"<p>when I am trying to generate my java classes withe the proto files its work but the class myserviceGrpc not generated I don't understand what</p>\n<pre><code> \nsyntax = &quot;proto3&quot;;\n\n\noption java_package = &quot;com.binaapps.identify&quot;;\noption java_multiple_files = true;\noption java_outer_classname = &quot;ProcessProto&quot;;\n\npackage imageProcessing;\n\n// The greeting service definition.\nservice Process {\n  // Sends a greeting\n  rpc ProcessUnary (ProcessUnaryRequest) returns (ProcessUnaryReply);\n}\n\n// The request message containing the user's name.\nmessage ProcessUnaryRequest {\n    bytes imageData = 1;\n}\n\n// The response message containing the greetings.\nmessage ProcessUnaryReply {\n    ProcessedImageData processedImageData =1;\n}\n\nmessage ProcessedImageData\n{\n    bool hasFace =1;\n    int32 facesCount =2;    \n    repeated Point2d landmarks=3;\n}\n\nmessage Point2d\n{\n    int32 x =1;\n    int32 y =2;\n}\n</code></pre>\n<p>build.graddle (project)</p>\n<pre><code>buildscript {\n    ext {\n        compose_version = '1.1.1'\n    }\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.2'\n        classpath &quot;com.google.gms:google-services:4.3.15&quot;\n        classpath &quot;com.google.protobuf:protobuf-gradle-plugin:0.9.3&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nplugins {\n    id 'com.android.application' version '8.0.1' apply false\n    id 'com.android.library' version '8.0.1' apply false\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot; apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle(module)</p>\n<pre><code>protobuf {\n    protoc { artifact = 'com.google.protobuf:protoc:3.19.2' }\n    plugins {\n        grpc { artifact = 'io.grpc:protoc-gen-grpc-java:1.47.0' }\n    }\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.builtins {\n                java { option 'lite' }\n            }\n            task.plugins {\n                grpc {\n                    option 'lite'\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I run in my terminal:</p>\n<pre><code>protoc --java_out=app/build/generated/ap_generated_sources/debug/out \n       --proto_path=/Users/binadev/Downloads/Identify/app/src/main/Protos\n       /Users/binadev/Downloads/Identify/app/src/main/Protos/RemoteImageProcessingProtoV1.proto\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690052565,"creation_date":1688704335,"answer_id":76633964,"question_id":76633921,"body_markdown":"You have to decide the owner first. In bidirectional many to many relation, you have to set one entity as an owner. In your case if you want to delete `Process` entity and corresponding `customer` entity, then you have to set `Process` entity as owner.\r\n\r\nYou have to write this to set your required entity as an owner:\r\n    \r\n    @ManyToMany(mappedBy = &quot;process&quot;,CascadeType.PERSIST)\r\n    private Set&lt;CustomerEntity&gt; customers;\r\n        \r\n    @ManyToMany(mappedBy = &quot;process&quot;,CascadeType.PERSIST)\r\n    private Set&lt;AgentEntity&gt; agents;\r\n        \r\n    @ManyToMany(mappedBy = &quot;customer&quot;,CascadeType.PERSIST)\r\n    private Set&lt;ProcessEntity&gt; agents;\r\n\r\nData will be stored like this :\r\n\r\n    process1 - &gt;  custormer1   // stored as a new record in table\r\n    process1 - &gt;  customer 2   // stored as a new record in table\r\n    \r\n    customer1 -&gt;  process 2     // stored as a new record in table\r\n    customer2 -&gt;  process 2    // stored as a new record in table\r\n\r\nIf you delete process1 then only corresponding row will be deleted from the table and if customer1 is associated with another process then it is stored as a different record so it won&#39;t be deleted.","title":"Java Springboot JPA ManytoManymapping between three entities","body":"<p>You have to decide the owner first. In bidirectional many to many relation, you have to set one entity as an owner. In your case if you want to delete <code>Process</code> entity and corresponding <code>customer</code> entity, then you have to set <code>Process</code> entity as owner.</p>\n<p>You have to write this to set your required entity as an owner:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;process&quot;,CascadeType.PERSIST)\nprivate Set&lt;CustomerEntity&gt; customers;\n    \n@ManyToMany(mappedBy = &quot;process&quot;,CascadeType.PERSIST)\nprivate Set&lt;AgentEntity&gt; agents;\n    \n@ManyToMany(mappedBy = &quot;customer&quot;,CascadeType.PERSIST)\nprivate Set&lt;ProcessEntity&gt; agents;\n</code></pre>\n<p>Data will be stored like this :</p>\n<pre><code>process1 - &gt;  custormer1   // stored as a new record in table\nprocess1 - &gt;  customer 2   // stored as a new record in table\n\ncustomer1 -&gt;  process 2     // stored as a new record in table\ncustomer2 -&gt;  process 2    // stored as a new record in table\n</code></pre>\n<p>If you delete process1 then only corresponding row will be deleted from the table and if customer1 is associated with another process then it is stored as a different record so it won't be deleted.</p>\n"}],"owner":{"account_id":25882721,"reputation":21,"user_id":19611476,"display_name":"Abdullaah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690052565,"creation_date":1688703527,"question_id":76633921,"body_markdown":"i have 3 seperate entities in my project.   Process, Customer, Agent.  this project is a process management project. i have to establish relationship between these three entities. i want to use JPA mapping .Process has many to many bidirectional relationship with both customer and agent.  and similarly customer and agent both have bidirectional many to many relationship with process.  what kind of mapping should i use between them.  when a process is deleted, if a customer was associated with that process, the customer entity shouldnt be deleted since that customer might be associated with another process. similarly for process-agent relationship.  below are the three entities.       class Process {\r\n\r\n    private UUID id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private String deepLinkId;\r\n\r\n    private StatusDto status;\r\n\r\n    private TaskDto task;\r\n\r\n    private Set&lt;CustomerEntity&gt; customers;\r\n\r\n    private Set&lt;AgentEntity&gt; agents;\r\n\r\n\r\n\r\n}\r\npublic class Customer {\r\n\r\n    private UUID id;\r\n    @Setter(AccessLevel.NONE)\r\n    private int roleId = 1;\r\n    private String name;\r\n    private UUID notificationId;\r\n    private String mobile;\r\n    private String email;\r\n    private Boolean active;\r\n    private Date iat;\r\n    private CountryEntity country;\r\n    private Set&lt;ProcessEntity&gt; processes;\r\n\r\n}\r\npublic class Agent {\r\n\r\n    private UUID id;\r\n    @Setter(AccessLevel.NONE)\r\n    private int role_id = 2;\r\n    private String name;\r\n    private String mobile;\r\n    private String email;\r\n    private String companyName;\r\n    private Boolean active;\r\n    private String username;\r\n    private String password;\r\n    private Date iat;\r\n    private CompanyEntity company;\r\n    private Set&lt;ProcessEntity&gt; processes;\r\n    \r\n}\r\n\r\nany help would be highly appreciated.\r\n","title":"Java Springboot JPA ManytoManymapping between three entities","body":"<p>i have 3 seperate entities in my project.   Process, Customer, Agent.  this project is a process management project. i have to establish relationship between these three entities. i want to use JPA mapping .Process has many to many bidirectional relationship with both customer and agent.  and similarly customer and agent both have bidirectional many to many relationship with process.  what kind of mapping should i use between them.  when a process is deleted, if a customer was associated with that process, the customer entity shouldnt be deleted since that customer might be associated with another process. similarly for process-agent relationship.  below are the three entities.       class Process {</p>\n<pre><code>private UUID id;\n\nprivate String name;\n\nprivate String description;\n\nprivate String deepLinkId;\n\nprivate StatusDto status;\n\nprivate TaskDto task;\n\nprivate Set&lt;CustomerEntity&gt; customers;\n\nprivate Set&lt;AgentEntity&gt; agents;\n</code></pre>\n<p>}\npublic class Customer {</p>\n<pre><code>private UUID id;\n@Setter(AccessLevel.NONE)\nprivate int roleId = 1;\nprivate String name;\nprivate UUID notificationId;\nprivate String mobile;\nprivate String email;\nprivate Boolean active;\nprivate Date iat;\nprivate CountryEntity country;\nprivate Set&lt;ProcessEntity&gt; processes;\n</code></pre>\n<p>}\npublic class Agent {</p>\n<pre><code>private UUID id;\n@Setter(AccessLevel.NONE)\nprivate int role_id = 2;\nprivate String name;\nprivate String mobile;\nprivate String email;\nprivate String companyName;\nprivate Boolean active;\nprivate String username;\nprivate String password;\nprivate Date iat;\nprivate CompanyEntity company;\nprivate Set&lt;ProcessEntity&gt; processes;\n</code></pre>\n<p>}</p>\n<p>any help would be highly appreciated.</p>\n"},{"tags":["python","java","can-bus"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689002178,"post_id":76654694,"comment_id":135148003,"body_markdown":"The Java JDK for sure does not read/write `.dbc` files. Java - just like Python btw - are general purpose programming languages. Some third party addon library might exist, but I have no clue what `.dbc` stands for. Find the right keywords and search for them.","body":"The Java JDK for sure does not read/write <code>.dbc</code> files. Java - just like Python btw - are general purpose programming languages. Some third party addon library might exist, but I have no clue what <code>.dbc</code> stands for. Find the right keywords and search for them."}],"owner":{"account_id":3424481,"reputation":579,"user_id":2870685,"accept_rate":100,"display_name":"AleC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690052405,"creation_date":1688999013,"question_id":76654694,"body_markdown":"Does java offer any library for parsing .dbc files and endcoding / decoding can messages? \r\n\r\nI want to be able to parse a `.dbc` file, decode can messages and do some further processing with the obtained information but as I noticed java doesn&#39;t really offer much help in this direction.\r\n\r\nDoes someone know a way of achieving this in java or is it better to stick to python?","title":"Can .dbc file parser for java","body":"<p>Does java offer any library for parsing .dbc files and endcoding / decoding can messages?</p>\n<p>I want to be able to parse a <code>.dbc</code> file, decode can messages and do some further processing with the obtained information but as I noticed java doesn't really offer much help in this direction.</p>\n<p>Does someone know a way of achieving this in java or is it better to stick to python?</p>\n"},{"tags":["java","apache-kafka","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689456421,"creation_date":1689456421,"answer_id":76695842,"question_id":76694364,"body_markdown":"You can see production settings in Kafka documentation that LinkedIn recommends 6GB heap for their brokers. Unclear what you&#39;re trying to &quot;fix&quot; or the &quot;problem&quot; you&#39;re having, but you change it with an environment variable `KAFKA_HEAP_OPTS`, which you can find in `kafka-run-class.sh` script \r\n\r\nIf you&#39;re trying to reduce overall memory usage, then don&#39;t run Connect, Zookeeper, and Schema Registry all on the same machine ","title":"How to fix Confluent Kafka Heap Size problem?","body":"<p>You can see production settings in Kafka documentation that LinkedIn recommends 6GB heap for their brokers. Unclear what you're trying to &quot;fix&quot; or the &quot;problem&quot; you're having, but you change it with an environment variable <code>KAFKA_HEAP_OPTS</code>, which you can find in <code>kafka-run-class.sh</code> script</p>\n<p>If you're trying to reduce overall memory usage, then don't run Connect, Zookeeper, and Schema Registry all on the same machine</p>\n"}],"owner":{"account_id":18647978,"reputation":21,"user_id":13592130,"display_name":"Onur Ulusoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690052119,"creation_date":1689433371,"question_id":76694364,"body_markdown":"I edited every parameter about the JVM heap size, but as you can see in the last line one of the process has 6GB of heap size, how to downgrade it and what is it for?\r\n```\r\ncp-kafk+    1121  3.8  4.1 5830780 341268 ?      Ssl  17:45   0:31 java -Xms256M -Xmx2G -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/connect-log4j.properties -cp /usr/share/java/kafka/*:/usr/share/java/confluent-common/*:/usr/share/java/kafka-serde-tools/*:/usr/share/java/monitoring-interceptors/*:/usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8077:/opt/prometheus/kafka_connect.yml org.apache.kafka.connect.cli.ConnectDistributed /etc/kafka/connect-distributed.properties\r\n\r\ncp-kafka    1126  0.3  1.0 4739976 84828 ?       Ssl  17:45   0:03 java -Xmx1g -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Xlog:gc*:file=/var/log/kafka/zookeeper-gc.log:time,tags:filecount=10,filesize=100M -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/zookeeper-log4j.properties -cp /usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8079:/opt/prometheus/zookeeper.yml org.apache.zookeeper.server.quorum.QuorumPeerMain /etc/kafka/zookeeper.properties\r\n\r\ncp-sche+    2456  2.0  3.2 4736916 264080 ?      Ssl  17:46   0:15 java -Xms1g -Xmx1g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80 -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dschema-registry.log.dir=/var/log/confluent/schema-registry -Dlog4j.configuration=file:/etc/schema-registry/log4j.properties -cp :/usr/bin/../package-schema-registry/target/kafka-schema-registry-package-*-development/share/java/schema-registry/*:/usr/bin/../share/java/confluent-security/schema-registry/*:/usr/bin/../share/java/schema-registry-plugins/*:/usr/bin/../share/java/confluent-common/*:/usr/bin/../share/java/confluent-telemetry/*:/usr/bin/../share/java/rest-utils/*:/usr/bin/../share/java/schema-registry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8078:/opt/prometheus/schema_registry.yml io.confluent.kafka.schemaregistry.rest.SchemaRegistryMain /etc/schema-registry/schema-registry.properties\r\n\r\n\r\ncp-kafka    2657 15.3  7.0 12331084 570984 ?     Ssl  17:57   0:19 java -Xms6g -Xmx6g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80 -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Xlog:gc*:file=/var/log/kafka/kafkaServer-gc.log:time,tags:filecount=10,filesize=100M -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/log4j.properties -cp /usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8080:/opt/prometheus/kafka.yml kafka.Kafka /etc/kafka/server.properties\r\nroot        2807  0.0  0.0   6608  2328 pts/3    S+   17:59   0:00 grep --color=auto java\r\n```","title":"How to fix Confluent Kafka Heap Size problem?","body":"<p>I edited every parameter about the JVM heap size, but as you can see in the last line one of the process has 6GB of heap size, how to downgrade it and what is it for?</p>\n<pre><code>cp-kafk+    1121  3.8  4.1 5830780 341268 ?      Ssl  17:45   0:31 java -Xms256M -Xmx2G -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/connect-log4j.properties -cp /usr/share/java/kafka/*:/usr/share/java/confluent-common/*:/usr/share/java/kafka-serde-tools/*:/usr/share/java/monitoring-interceptors/*:/usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8077:/opt/prometheus/kafka_connect.yml org.apache.kafka.connect.cli.ConnectDistributed /etc/kafka/connect-distributed.properties\n\ncp-kafka    1126  0.3  1.0 4739976 84828 ?       Ssl  17:45   0:03 java -Xmx1g -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Xlog:gc*:file=/var/log/kafka/zookeeper-gc.log:time,tags:filecount=10,filesize=100M -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/zookeeper-log4j.properties -cp /usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8079:/opt/prometheus/zookeeper.yml org.apache.zookeeper.server.quorum.QuorumPeerMain /etc/kafka/zookeeper.properties\n\ncp-sche+    2456  2.0  3.2 4736916 264080 ?      Ssl  17:46   0:15 java -Xms1g -Xmx1g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80 -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dschema-registry.log.dir=/var/log/confluent/schema-registry -Dlog4j.configuration=file:/etc/schema-registry/log4j.properties -cp :/usr/bin/../package-schema-registry/target/kafka-schema-registry-package-*-development/share/java/schema-registry/*:/usr/bin/../share/java/confluent-security/schema-registry/*:/usr/bin/../share/java/schema-registry-plugins/*:/usr/bin/../share/java/confluent-common/*:/usr/bin/../share/java/confluent-telemetry/*:/usr/bin/../share/java/rest-utils/*:/usr/bin/../share/java/schema-registry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8078:/opt/prometheus/schema_registry.yml io.confluent.kafka.schemaregistry.rest.SchemaRegistryMain /etc/schema-registry/schema-registry.properties\n\n\ncp-kafka    2657 15.3  7.0 12331084 570984 ?     Ssl  17:57   0:19 java -Xms6g -Xmx6g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80 -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Xlog:gc*:file=/var/log/kafka/kafkaServer-gc.log:time,tags:filecount=10,filesize=100M -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/log4j.properties -cp /usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* -javaagent:/opt/prometheus/jmx_prometheus_javaagent.jar=8080:/opt/prometheus/kafka.yml kafka.Kafka /etc/kafka/server.properties\nroot        2807  0.0  0.0   6608  2328 pts/3    S+   17:59   0:00 grep --color=auto java\n</code></pre>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689688738,"post_id":76713548,"comment_id":135247064,"body_markdown":"`WatchService` is a singleton... The first thing that the `register` method does is, create a new watcher, destroying to old one. If you want multiple to run, you will need multiple instances.","body":"<code>WatchService</code> is a singleton... The first thing that the <code>register</code> method does is, create a new watcher, destroying to old one. If you want multiple to run, you will need multiple instances."},{"owner":{"account_id":2568640,"reputation":610,"user_id":6760934,"accept_rate":38,"display_name":"DaviesTobi alex"},"score":0,"creation_date":1689693082,"post_id":76713548,"comment_id":135248244,"body_markdown":"Thanks this clarified things for me @M.Deinum, how were you able to identify it was a singleton pattern. care to educate me","body":"Thanks this clarified things for me @M.Deinum, how were you able to identify it was a singleton pattern. care to educate me"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689757561,"post_id":76713548,"comment_id":135257100,"body_markdown":"Beans in  Spring are singleton by default. Unless otherwise specified.","body":"Beans in  Spring are singleton by default. Unless otherwise specified."}],"owner":{"account_id":2568640,"reputation":610,"user_id":6760934,"accept_rate":38,"display_name":"DaviesTobi alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690051931,"creation_date":1689688573,"question_id":76713548,"body_markdown":"I have a `watchDirectoryService` which listens to changes in a specified directory, once those events are triggered, I run a process based on an implementation of an interface passed into the async `processEvents` function, but for some reason it is the last executed function that gets triggered/works yet both processes seems to be running in the background as expected, if I comment out one of the async `processEvents` functions, the uncommented function works just fine. I&#39;ll put the code below, which consists of 3 classes.\r\n\r\n1. `watchDirectoryService` handles listening to changes in a set of directories that can be registered and once the event is triggered it calls an implementation to perform a certain task\r\n2.  `Process1Service` implement `process` interface which performs a particular task\r\n3. `Process2Service` implements `process` interface which performs a different set of tasks as well\r\n\r\n\r\nWatchDirectoryService\r\n````\r\npublic class WatchDirService {\r\n\r\n    private WatchService watcher;\r\n    private final Map&lt;WatchKey, Path&gt; keys = new HashMap&lt;&gt;();\r\n    private boolean recursive;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\r\n        return (WatchEvent&lt;T&gt;) event;\r\n    }\r\n\r\n    /**\r\n     * Register the given directory with the WatchService\r\n     *\r\n     * @param dir\r\n     * @throws java.io.IOException\r\n     */\r\n    private void register(Path dir) throws IOException {\r\n        WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\r\n\r\n        log.info(&quot;PUTTING KEY :: {}&quot;, dir);\r\n        keys.putIfAbsent(key, dir);\r\n        log.info(&quot;KEY COUNT :: {}&quot;, keys.size());\r\n    }\r\n\r\n    /**\r\n     * Register the given directory, and all its sub-directories, with the\r\n     * WatchService.\r\n     */\r\n    private void registerAll(final Path start) throws IOException {\r\n        // register directory and sub-directories\r\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\r\n                    throws IOException {\r\n                register(dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Creates a WatchService and registers the given directory\r\n     *\r\n     * @param dir\r\n     * @param recursive\r\n     * @throws java.io.IOException\r\n     */\r\n    public void register(Path dir, boolean recursive) throws IOException {\r\n        this.watcher = FileSystems.getDefault().newWatchService();\r\n        this.recursive = recursive;\r\n\r\n        if (recursive) {\r\n            log.info(&quot;Scanning {} ...\\n&quot;, dir);\r\n            registerAll(dir);\r\n            log.info(&quot;Done.&quot;);\r\n        } else {\r\n            log.info(&quot;Scanning no recursion {} ...\\n&quot;, dir);\r\n            register(dir);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Process all events for keys queued to the watcher\r\n     *\r\n     * @param processor\r\n     * @throws java.lang.Exception\r\n     */\r\n    @Async\r\n    public void processEvents(Processor processor) throws Exception {\r\n        log.info(&quot;KEY COUNT AND TYPE :: {} {}&quot;, keys.size(), processor.getType());\r\n\r\n        if (keys.isEmpty()) {\r\n            usage();\r\n        }\r\n\r\n        while (true) {\r\n            log.info(&quot;==PROCESSING=={}&quot;,processor.getType());\r\n            // wait for key to be signalled\r\n            WatchKey key;\r\n            try {\r\n                key = watcher.take();\r\n            } catch (InterruptedException x) {\r\n                return;\r\n            }\r\n\r\n            Path dir = keys.get(key);\r\n            if (dir == null) {\r\n                log.error(&quot;WatchKey not recognized!!&quot;);\r\n                continue;\r\n            }\r\n            log.info(&quot;PROCESSING DIR :: {}&quot;, dir);\r\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                WatchEvent.Kind kind = event.kind();\r\n\r\n                // TBD - provide example of how OVERFLOW event is handled\r\n                if (kind == OVERFLOW) {\r\n                    continue;\r\n                }\r\n\r\n                // Context for directory entry event is the file name of entry\r\n                WatchEvent&lt;Path&gt; ev = cast(event);\r\n                Path name = ev.context();\r\n                Path child = dir.resolve(name);\r\n\r\n                // print out event\r\n                log.info(&quot;%{}: %{}\\n&quot;, event.kind().name(), child);\r\n                // here you would start batch process\r\n\r\n                processor.run(child.toString());\r\n\r\n                // if directory is created, and watching recursively, then\r\n                // register it and its sub-directories\r\n                if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\r\n                    try {\r\n                        if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\r\n                            registerAll(child);\r\n                        }\r\n                    } catch (IOException x) {\r\n                        // ignore to keep sample readbale\r\n                    }\r\n                }\r\n            }\r\n\r\n            // reset key and remove from set if directory no longer accessible\r\n            boolean valid = key.reset();\r\n            if (!valid) {\r\n                keys.remove(key);\r\n\r\n                // all directories are inaccessible\r\n                if (keys.isEmpty()) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        log.info(&quot;===ENDING PROCESS FOR {}===&quot;, processor.getType());\r\n    }\r\n\r\n    private void usage() {\r\n        log.error(&quot;usage: java WatchDir [-r] dir&quot;);\r\n        System.exit(-1);\r\n    }\r\n}\r\n\r\n````\r\nProcess1Service\r\n````\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class DecryptEncryptedFileProcessor implements Processor&lt;DecryptFile&gt; {\r\n\r\n    @Getter\r\n    private final DecryptFile command;\r\n\r\n    @Override\r\n    public void run(String... params) {\r\n\r\n        if (params[0] == null) {\r\n            throw new RuntimeException(&quot;No parameter found to decrypt file, expecting at least one parameter that contains encrypted file&quot;);\r\n        }\r\n\r\n        FileDecoder f = new FileDecoder();\r\n        f.autoBatchDecrypt(params[0],\r\n                command.getDecryptedFileLocation(),\r\n                command.getDecryptedFileExtension(),\r\n                command.getPrefix());\r\n    }\r\n    // shortened\r\n\r\n}\r\n````\r\nProcess2Service\r\n````\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class ProcessDecryptedFileProcessor implements Processor {\r\n\r\n//    private JobRepository jobRepository;\r\n    private final SpringBatchConfig config;\r\n    private ItemProcessor&lt;TxnItem, TransactionRecord&gt; processor;\r\n\r\n    @Override\r\n    public void run(String... params) {\r\n\r\n        if (params[0] == null) {\r\n            throw new RuntimeException(&quot;No decrypted file passed for processing, expecting at least one parameter which contains a decrypted file&quot;);\r\n        }\r\n\r\n        Path toPath = new File(params[0]).toPath();\r\n        String data = readFromInputStream(toPath);\r\n        log.info(&quot;DECRYPTED DATA :: {}&quot;, data);\r\n    }\r\n\r\n   // shortened\r\n   \r\n}\r\n````\r\n\r\nhow I execute the functions\r\n\r\n````\r\n@Autowired\r\n    public Resources(\r\n            CypherDirectoryConfiguration cypherConfig,\r\n            WatchDirService watchService) throws IOException, Exception {\r\n        this.config = config;\r\n        this.cypherConfig = cypherConfig;\r\n        this.watchService = watchService;\r\n\r\n        Path encryptedDir = new File(this.cypherConfig.getEncryptedDir()).toPath();\r\n        Path decryptedDir = new File(this.cypherConfig.getDecryptedDir()).toPath();\r\n\r\n        DecryptFile command = new DecryptFile(this.cypherConfig.getDecryptedDir());\r\n\r\n        DecryptEncryptedFileProcessor dfp = new DecryptEncryptedFileProcessor(command);\r\n        ProcessDecryptedFileProcessor pdfp = new ProcessDecryptedFileProcessor(this.config);\r\n\r\n        log.info(&quot;====STARTING WATCH ENCRYPTED DIR====&quot;);\r\n        this.watchService.register(encryptedDir, false);\r\n        this.watchService.processEvents(dfp);\r\n\r\n        log.info(&quot;====STARTING WATCH DECRYPTED DIR====&quot;);\r\n        this.watchService.register(decryptedDir, false);\r\n        this.watchService.processEvents(pdfp);\r\n    }\r\n````","title":"executing an annotated @Async function twice results in only one of the functions working","body":"<p>I have a <code>watchDirectoryService</code> which listens to changes in a specified directory, once those events are triggered, I run a process based on an implementation of an interface passed into the async <code>processEvents</code> function, but for some reason it is the last executed function that gets triggered/works yet both processes seems to be running in the background as expected, if I comment out one of the async <code>processEvents</code> functions, the uncommented function works just fine. I'll put the code below, which consists of 3 classes.</p>\n<ol>\n<li><code>watchDirectoryService</code> handles listening to changes in a set of directories that can be registered and once the event is triggered it calls an implementation to perform a certain task</li>\n<li><code>Process1Service</code> implement <code>process</code> interface which performs a particular task</li>\n<li><code>Process2Service</code> implements <code>process</code> interface which performs a different set of tasks as well</li>\n</ol>\n<p>WatchDirectoryService</p>\n<pre><code>public class WatchDirService {\n\n    private WatchService watcher;\n    private final Map&lt;WatchKey, Path&gt; keys = new HashMap&lt;&gt;();\n    private boolean recursive;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    static &lt;T&gt; WatchEvent&lt;T&gt; cast(WatchEvent&lt;?&gt; event) {\n        return (WatchEvent&lt;T&gt;) event;\n    }\n\n    /**\n     * Register the given directory with the WatchService\n     *\n     * @param dir\n     * @throws java.io.IOException\n     */\n    private void register(Path dir) throws IOException {\n        WatchKey key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);\n\n        log.info(&quot;PUTTING KEY :: {}&quot;, dir);\n        keys.putIfAbsent(key, dir);\n        log.info(&quot;KEY COUNT :: {}&quot;, keys.size());\n    }\n\n    /**\n     * Register the given directory, and all its sub-directories, with the\n     * WatchService.\n     */\n    private void registerAll(final Path start) throws IOException {\n        // register directory and sub-directories\n        Files.walkFileTree(start, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\n                    throws IOException {\n                register(dir);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n\n    /**\n     * Creates a WatchService and registers the given directory\n     *\n     * @param dir\n     * @param recursive\n     * @throws java.io.IOException\n     */\n    public void register(Path dir, boolean recursive) throws IOException {\n        this.watcher = FileSystems.getDefault().newWatchService();\n        this.recursive = recursive;\n\n        if (recursive) {\n            log.info(&quot;Scanning {} ...\\n&quot;, dir);\n            registerAll(dir);\n            log.info(&quot;Done.&quot;);\n        } else {\n            log.info(&quot;Scanning no recursion {} ...\\n&quot;, dir);\n            register(dir);\n        }\n    }\n\n    /**\n     * Process all events for keys queued to the watcher\n     *\n     * @param processor\n     * @throws java.lang.Exception\n     */\n    @Async\n    public void processEvents(Processor processor) throws Exception {\n        log.info(&quot;KEY COUNT AND TYPE :: {} {}&quot;, keys.size(), processor.getType());\n\n        if (keys.isEmpty()) {\n            usage();\n        }\n\n        while (true) {\n            log.info(&quot;==PROCESSING=={}&quot;,processor.getType());\n            // wait for key to be signalled\n            WatchKey key;\n            try {\n                key = watcher.take();\n            } catch (InterruptedException x) {\n                return;\n            }\n\n            Path dir = keys.get(key);\n            if (dir == null) {\n                log.error(&quot;WatchKey not recognized!!&quot;);\n                continue;\n            }\n            log.info(&quot;PROCESSING DIR :: {}&quot;, dir);\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                WatchEvent.Kind kind = event.kind();\n\n                // TBD - provide example of how OVERFLOW event is handled\n                if (kind == OVERFLOW) {\n                    continue;\n                }\n\n                // Context for directory entry event is the file name of entry\n                WatchEvent&lt;Path&gt; ev = cast(event);\n                Path name = ev.context();\n                Path child = dir.resolve(name);\n\n                // print out event\n                log.info(&quot;%{}: %{}\\n&quot;, event.kind().name(), child);\n                // here you would start batch process\n\n                processor.run(child.toString());\n\n                // if directory is created, and watching recursively, then\n                // register it and its sub-directories\n                if (recursive &amp;&amp; (kind == ENTRY_CREATE)) {\n                    try {\n                        if (Files.isDirectory(child, NOFOLLOW_LINKS)) {\n                            registerAll(child);\n                        }\n                    } catch (IOException x) {\n                        // ignore to keep sample readbale\n                    }\n                }\n            }\n\n            // reset key and remove from set if directory no longer accessible\n            boolean valid = key.reset();\n            if (!valid) {\n                keys.remove(key);\n\n                // all directories are inaccessible\n                if (keys.isEmpty()) {\n                    break;\n                }\n            }\n        }\n        log.info(&quot;===ENDING PROCESS FOR {}===&quot;, processor.getType());\n    }\n\n    private void usage() {\n        log.error(&quot;usage: java WatchDir [-r] dir&quot;);\n        System.exit(-1);\n    }\n}\n\n</code></pre>\n<p>Process1Service</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class DecryptEncryptedFileProcessor implements Processor&lt;DecryptFile&gt; {\n\n    @Getter\n    private final DecryptFile command;\n\n    @Override\n    public void run(String... params) {\n\n        if (params[0] == null) {\n            throw new RuntimeException(&quot;No parameter found to decrypt file, expecting at least one parameter that contains encrypted file&quot;);\n        }\n\n        FileDecoder f = new FileDecoder();\n        f.autoBatchDecrypt(params[0],\n                command.getDecryptedFileLocation(),\n                command.getDecryptedFileExtension(),\n                command.getPrefix());\n    }\n    // shortened\n\n}\n</code></pre>\n<p>Process2Service</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class ProcessDecryptedFileProcessor implements Processor {\n\n//    private JobRepository jobRepository;\n    private final SpringBatchConfig config;\n    private ItemProcessor&lt;TxnItem, TransactionRecord&gt; processor;\n\n    @Override\n    public void run(String... params) {\n\n        if (params[0] == null) {\n            throw new RuntimeException(&quot;No decrypted file passed for processing, expecting at least one parameter which contains a decrypted file&quot;);\n        }\n\n        Path toPath = new File(params[0]).toPath();\n        String data = readFromInputStream(toPath);\n        log.info(&quot;DECRYPTED DATA :: {}&quot;, data);\n    }\n\n   // shortened\n   \n}\n</code></pre>\n<p>how I execute the functions</p>\n<pre><code>@Autowired\n    public Resources(\n            CypherDirectoryConfiguration cypherConfig,\n            WatchDirService watchService) throws IOException, Exception {\n        this.config = config;\n        this.cypherConfig = cypherConfig;\n        this.watchService = watchService;\n\n        Path encryptedDir = new File(this.cypherConfig.getEncryptedDir()).toPath();\n        Path decryptedDir = new File(this.cypherConfig.getDecryptedDir()).toPath();\n\n        DecryptFile command = new DecryptFile(this.cypherConfig.getDecryptedDir());\n\n        DecryptEncryptedFileProcessor dfp = new DecryptEncryptedFileProcessor(command);\n        ProcessDecryptedFileProcessor pdfp = new ProcessDecryptedFileProcessor(this.config);\n\n        log.info(&quot;====STARTING WATCH ENCRYPTED DIR====&quot;);\n        this.watchService.register(encryptedDir, false);\n        this.watchService.processEvents(dfp);\n\n        log.info(&quot;====STARTING WATCH DECRYPTED DIR====&quot;);\n        this.watchService.register(decryptedDir, false);\n        this.watchService.processEvents(pdfp);\n    }\n</code></pre>\n"},{"tags":["java","kotlin","junit","android-room"],"answers":[{"tags":[],"owner":{"account_id":25455635,"reputation":45,"user_id":19257334,"display_name":"AlexVs86"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690051461,"creation_date":1690051461,"answer_id":76745323,"question_id":76729848,"body_markdown":"The solution is to create tests in ```androidTest``` module instead of ```unitTest```. \r\n[![enter image description here][1]][1]\r\n\r\nThen you will be able to use context with ```InstrumentationRegistry.getInstrumentation().targetContext```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QSram.png","title":"Get applicationContext in JUnit tests for RoomDB","body":"<p>The solution is to create tests in <code>androidTest</code> module instead of <code>unitTest</code>.\n<a href=\"https://i.stack.imgur.com/QSram.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSram.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you will be able to use context with <code>InstrumentationRegistry.getInstrumentation().targetContext</code></p>\n"}],"owner":{"account_id":25455635,"reputation":45,"user_id":19257334,"display_name":"AlexVs86"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76745323,"answer_count":1,"score":1,"last_activity_date":1690051461,"creation_date":1689855924,"question_id":76729848,"body_markdown":"I cant get application context to create Room database in tests\r\n```\r\n@RunWith(AndroidJUnit4::class)\r\n//@RunWith(RobolectricTestRunner::class)\r\nclass AppDatabaseTest {\r\n\r\n    private lateinit var context: Context\r\n    private lateinit var database: AppDatabase\r\n\r\n    @Test\r\n    fun someTest() {\r\n        context = ApplicationProvider.getApplicationContext()\r\n        // RuntimeEnvironment.getApplication()\r\n\r\n        database = Room.inMemoryDatabaseBuilder(\r\n            context,\r\n            AppDatabase::class.java\r\n        ).build()\r\n\r\n        assertEquals(2, 1+1)\r\n    }\r\n}\r\n```\r\nWhen i tried to acheave that by ```ApplicationProvider.getApplicationContext()``` it falls with next exception\r\n```\r\nNo instrumentation registered! Must run under a registering instrumentation.\r\njava.lang.IllegalStateException: No instrumentation registered! Must run under a registering instrumentation.\r\n\tat androidx.test.platform.app.InstrumentationRegistry.getInstrumentation(InstrumentationRegistry.java:45)\r\n\tat androidx.test.core.app.ApplicationProvider.getApplicationContext(ApplicationProvider.java:41)\r\n\tat com.olexii8bit.notesapp.data.room.AppDatabaseTest.someTest(AppDatabaseTest.kt:19)\r\n```\r\nAnd I tried ```RuntimeEnvironment.getApplication()``` from Robolectric but it also throws an exception\r\n```\r\ngetApplication(...) must not be null\r\njava.lang.NullPointerException: getApplication(...) must not be null\r\n\tat com.olexii8bit.notesapp.data.room.AppDatabaseTest.someTest(AppDatabaseTest.kt:20)\r\n```\r\nWhat am i doing wrong?\r\n","title":"Get applicationContext in JUnit tests for RoomDB","body":"<p>I cant get application context to create Room database in tests</p>\n<pre><code>@RunWith(AndroidJUnit4::class)\n//@RunWith(RobolectricTestRunner::class)\nclass AppDatabaseTest {\n\n    private lateinit var context: Context\n    private lateinit var database: AppDatabase\n\n    @Test\n    fun someTest() {\n        context = ApplicationProvider.getApplicationContext()\n        // RuntimeEnvironment.getApplication()\n\n        database = Room.inMemoryDatabaseBuilder(\n            context,\n            AppDatabase::class.java\n        ).build()\n\n        assertEquals(2, 1+1)\n    }\n}\n</code></pre>\n<p>When i tried to acheave that by <code>ApplicationProvider.getApplicationContext()</code> it falls with next exception</p>\n<pre><code>No instrumentation registered! Must run under a registering instrumentation.\njava.lang.IllegalStateException: No instrumentation registered! Must run under a registering instrumentation.\n    at androidx.test.platform.app.InstrumentationRegistry.getInstrumentation(InstrumentationRegistry.java:45)\n    at androidx.test.core.app.ApplicationProvider.getApplicationContext(ApplicationProvider.java:41)\n    at com.olexii8bit.notesapp.data.room.AppDatabaseTest.someTest(AppDatabaseTest.kt:19)\n</code></pre>\n<p>And I tried <code>RuntimeEnvironment.getApplication()</code> from Robolectric but it also throws an exception</p>\n<pre><code>getApplication(...) must not be null\njava.lang.NullPointerException: getApplication(...) must not be null\n    at com.olexii8bit.notesapp.data.room.AppDatabaseTest.someTest(AppDatabaseTest.kt:20)\n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","misra"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1305782327,"post_id":6050618,"comment_id":7006320,"body_markdown":"I use IntelliJ CE with almost all the intentions turned on. It checks of my source code as I type the code (rather than waiting to compile the code), but many have quick fixes as well so you are more likely to change the code and change the way you write code. There are over 650 checks, but I find about 150 are regularly useful for me.  Sometime I use the &quot;fixes&quot; to write code for me ;)","body":"I use IntelliJ CE with almost all the intentions turned on. It checks of my source code as I type the code (rather than waiting to compile the code), but many have quick fixes as well so you are more likely to change the code and change the way you write code. There are over 650 checks, but I find about 150 are regularly useful for me.  Sometime I use the &quot;fixes&quot; to write code for me ;)"},{"owner":{"account_id":31662,"reputation":2659,"user_id":87130,"accept_rate":81,"display_name":"JustADude"},"score":0,"creation_date":1689948422,"post_id":6050618,"comment_id":135289324,"body_markdown":"Interesting to monitor this thread overtime and see how it ages.","body":"Interesting to monitor this thread overtime and see how it ages."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1630363045,"creation_date":1305751043,"answer_id":6050720,"question_id":6050618,"body_markdown":"I don&#39;t think there is something like the MISRA C/C++ best practices for Java, and I think it is also less necessary with a language like Java because it doesn&#39;t have as many corners of undefined or unspecified behaviour like C and C++ have. Features such as the lack of explicit pointers in Java and the fact that the bounds of array indices are always checked by the runtime make Java a safer language than C or C++.\r\n\r\nThere is a common coding standard that most Java developers seem to follow: [Code Conventions for the Java Programming Language][1], but that is more a style guide than a best practices guide.\r\n\r\nThere are a few good and well-known static code analysis tools for Java: [FindBugs][2] and [PMD][3] for example, which will check your code for possibly dangerous constructions or bad practices.\r\n\r\nIf you want to learn about the potential pitfalls in Java, then two books are highly recommended: [Effective Java][4] and [Java Puzzlers][5].\r\n\r\nAdditional, similar resources include:\r\n\r\n* [JSR-302](https://jcp.org/en/jsr/detail?id=302)\r\n* [Coverity Support for SEI CERT C, C++, and Java](https://www.synopsys.com/content/dam/synopsys/sig-assets/datasheets/sei-cert-c-coding-standard.pdf)\r\n* [SEI CERT Oracle Coding Standard for Java](https://wiki.sei.cmu.edu/confluence/display/java/SEI+CERT+Oracle+Coding+Standard+for+Java)\r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\r\n  [2]: http://findbugs.sourceforge.net/\r\n  [3]: http://pmd.sourceforge.net/\r\n  [4]: http://java.sun.com/docs/books/effective/\r\n  [5]: http://www.javapuzzlers.com/","title":"Is There a Java Equivalent to MISRA C?","body":"<p>I don't think there is something like the MISRA C/C++ best practices for Java, and I think it is also less necessary with a language like Java because it doesn't have as many corners of undefined or unspecified behaviour like C and C++ have. Features such as the lack of explicit pointers in Java and the fact that the bounds of array indices are always checked by the runtime make Java a safer language than C or C++.</p>\n<p>There is a common coding standard that most Java developers seem to follow: <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\" rel=\"nofollow noreferrer\">Code Conventions for the Java Programming Language</a>, but that is more a style guide than a best practices guide.</p>\n<p>There are a few good and well-known static code analysis tools for Java: <a href=\"http://findbugs.sourceforge.net/\" rel=\"nofollow noreferrer\">FindBugs</a> and <a href=\"http://pmd.sourceforge.net/\" rel=\"nofollow noreferrer\">PMD</a> for example, which will check your code for possibly dangerous constructions or bad practices.</p>\n<p>If you want to learn about the potential pitfalls in Java, then two books are highly recommended: <a href=\"http://java.sun.com/docs/books/effective/\" rel=\"nofollow noreferrer\">Effective Java</a> and <a href=\"http://www.javapuzzlers.com/\" rel=\"nofollow noreferrer\">Java Puzzlers</a>.</p>\n<p>Additional, similar resources include:</p>\n<ul>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=302\" rel=\"nofollow noreferrer\">JSR-302</a></li>\n<li><a href=\"https://www.synopsys.com/content/dam/synopsys/sig-assets/datasheets/sei-cert-c-coding-standard.pdf\" rel=\"nofollow noreferrer\">Coverity Support for SEI CERT C, C++, and Java</a></li>\n<li><a href=\"https://wiki.sei.cmu.edu/confluence/display/java/SEI+CERT+Oracle+Coding+Standard+for+Java\" rel=\"nofollow noreferrer\">SEI CERT Oracle Coding Standard for Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1769122,"reputation":2136,"user_id":1614319,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690051331,"creation_date":1348738525,"answer_id":12618341,"question_id":6050618,"body_markdown":"Currently, there is no MISRA Java - nor any immediate plans to create one.\r\n\r\nThe topic has been discussed briefly a couple of times by the MISRA Technical Board, but in the absence of any demand (and/or volunteers to work on it) it is unlikely to happen.\r\n\r\nUpdate: Six years on...\r\n\r\nThis question has been asked several times, at Conferences that I have been a speaker at, usually with broad support from the audience.  I always reply by asking the audience who&#39;ll volunteer to be part of the committee... which silences the room :(\r\n\r\nTL;DR: If enough volunteers come forward, we&#39;ll do it!\r\n\r\n[Posted in a personal capacity, albeit a MISRA Tech Board member]\r\n\r\n--- Update July 2023 ---\r\n\r\nWe&#39;re no longer being asked about MISRA Java, but of course MISRA Rust is the latest suggestion.\r\n\r\nThe same applies: if enough volunteers come forward, we may do it.","title":"Is There a Java Equivalent to MISRA C?","body":"<p>Currently, there is no MISRA Java - nor any immediate plans to create one.</p>\n<p>The topic has been discussed briefly a couple of times by the MISRA Technical Board, but in the absence of any demand (and/or volunteers to work on it) it is unlikely to happen.</p>\n<p>Update: Six years on...</p>\n<p>This question has been asked several times, at Conferences that I have been a speaker at, usually with broad support from the audience.  I always reply by asking the audience who'll volunteer to be part of the committee... which silences the room :(</p>\n<p>TL;DR: If enough volunteers come forward, we'll do it!</p>\n<p>[Posted in a personal capacity, albeit a MISRA Tech Board member]</p>\n<p>--- Update July 2023 ---</p>\n<p>We're no longer being asked about MISRA Java, but of course MISRA Rust is the latest suggestion.</p>\n<p>The same applies: if enough volunteers come forward, we may do it.</p>\n"},{"tags":[],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352060944,"creation_date":1352060944,"answer_id":13222558,"question_id":6050618,"body_markdown":"There is a book called &quot;Code Complete&quot;. This is written by a programmer who has worked for Microsoft and also has knowledge in professional software development using 2/3 different high-level languages. I use this book besides MISRA C++. &quot;Code Complete&quot; is a language independent book and helpful to shape your professional software engineering practices. ","title":"Is There a Java Equivalent to MISRA C?","body":"<p>There is a book called \"Code Complete\". This is written by a programmer who has worked for Microsoft and also has knowledge in professional software development using 2/3 different high-level languages. I use this book besides MISRA C++. \"Code Complete\" is a language independent book and helpful to shape your professional software engineering practices. </p>\n"},{"tags":[],"owner":{"account_id":3146511,"reputation":11,"user_id":2660895,"display_name":"user2660895"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375881901,"creation_date":1375881901,"answer_id":18104632,"question_id":6050618,"body_markdown":"For those following this thread, there is a Open Safety Critical JAVA (oSCJ) initiative going-on, which is defining a subset of the JAVA language for Safety-Critical Applications (JSR-302).\r\nhttp://jcp.org/en/jsr/detail?id=302\r\n","title":"Is There a Java Equivalent to MISRA C?","body":"<p>For those following this thread, there is a Open Safety Critical JAVA (oSCJ) initiative going-on, which is defining a subset of the JAVA language for Safety-Critical Applications (JSR-302).\n<a href=\"http://jcp.org/en/jsr/detail?id=302\" rel=\"nofollow\">http://jcp.org/en/jsr/detail?id=302</a></p>\n"},{"tags":[],"owner":{"account_id":31662,"reputation":2659,"user_id":87130,"accept_rate":81,"display_name":"JustADude"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415885301,"creation_date":1415885301,"answer_id":26910024,"question_id":6050618,"body_markdown":"SEI CERT:\r\n\r\nThe Java Coding Guidelines includes recommended practices for secure programming in the Java Standard Edition 7 Platform environment. This is a work in progress, and we actively seek your feedback and involvement in making this effort a success. We thank and acknowledge all of the contributors.\r\n\r\nhttps://www.securecoding.cert.org/confluence/display/jg/Java+Coding+Guidelines","title":"Is There a Java Equivalent to MISRA C?","body":"<p>SEI CERT:</p>\n\n<p>The Java Coding Guidelines includes recommended practices for secure programming in the Java Standard Edition 7 Platform environment. This is a work in progress, and we actively seek your feedback and involvement in making this effort a success. We thank and acknowledge all of the contributors.</p>\n\n<p><a href=\"https://www.securecoding.cert.org/confluence/display/jg/Java+Coding+Guidelines\" rel=\"nofollow\">https://www.securecoding.cert.org/confluence/display/jg/Java+Coding+Guidelines</a></p>\n"}],"owner":{"account_id":309808,"reputation":385,"user_id":622457,"accept_rate":100,"display_name":"gmletzkojr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4466,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6050720,"answer_count":5,"score":9,"last_activity_date":1690051331,"creation_date":1305750384,"question_id":6050618,"body_markdown":"In some languages, there are rules/best practices/etc. that promote software safety, ensure expected runtime behavior, etc.  Two that come to mind are MISRA for C/C++, and the Ravenscar profile for Ada.  There is typically a warm fuzzy feeling about your code if it is stamped as following these standards.  Is there any such standard for Java?","title":"Is There a Java Equivalent to MISRA C?","body":"<p>In some languages, there are rules/best practices/etc. that promote software safety, ensure expected runtime behavior, etc.  Two that come to mind are MISRA for C/C++, and the Ravenscar profile for Ada.  There is typically a warm fuzzy feeling about your code if it is stamped as following these standards.  Is there any such standard for Java?</p>\n"},{"tags":["java","spring","spring-boot","maven","log4j2"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690027220,"post_id":76743594,"comment_id":135297353,"body_markdown":"There is nothing wrong in configuration file of log4j2, share you property file.","body":"There is nothing wrong in configuration file of log4j2, share you property file."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690027259,"post_id":76743594,"comment_id":135297357,"body_markdown":"Also does even you file exist ? if its not make &#39;append&#39; key to false","body":"Also does even you file exist ? if its not make &#39;append&#39; key to false"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690027787,"creation_date":1690027787,"answer_id":76743705,"question_id":76743594,"body_markdown":"&gt; Does Log file (in your case app.log) exit ?\r\n\r\nIn case not, on the configuration file in `Appender` tag make the property `append` to false, see more in [here][1].\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;File name=&quot;FILE&quot; fileName=&quot;app.log&quot; immediateFlush=&quot;false&quot; append=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n&gt;Are you getting the proper logger from [LoggerFactory][2]?\r\n\r\nMake sure you getting logger by the **name** you crated the configuration.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;FILE&quot;);\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html\r\n  [2]: https://www.slf4j.org/api/org/slf4j/LoggerFactory.html","title":"Problem with log4j2 to write all logs to a specific file in Spring Boot 3.1.0 with Maven","body":"<blockquote>\n<p>Does Log file (in your case app.log) exit ?</p>\n</blockquote>\n<p>In case not, on the configuration file in <code>Appender</code> tag make the property <code>append</code> to false, see more in <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>&lt;Appenders&gt;\n    &lt;File name=&quot;FILE&quot; fileName=&quot;app.log&quot; immediateFlush=&quot;false&quot; append=&quot;false&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n    &lt;/File&gt;\n&lt;/Appenders&gt;\n</code></pre>\n<blockquote>\n<p>Are you getting the proper logger from <a href=\"https://www.slf4j.org/api/org/slf4j/LoggerFactory.html\" rel=\"nofollow noreferrer\">LoggerFactory</a>?</p>\n</blockquote>\n<p>Make sure you getting logger by the <strong>name</strong> you crated the configuration.</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(&quot;FILE&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690050106,"creation_date":1690050106,"answer_id":76745244,"question_id":76743594,"body_markdown":"Excluding Logback is **not** enough. The [`spring-boot-starter-logging`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging) takes care of connecting all major logging APIs to Logback (cf. [What is Spring Boot Starter Log4J2](https://stackoverflow.com/q/75719238/11748454) and [Why does spring-boot-starter-logging require a dependency on log4-to-slf4j](https://stackoverflow.com/q/71176985/11748454) for details). In particular it contains [`log4j-to-slf4j`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j), which is an implementation of the Log4j 2 API that forwards everything to SLF4J.\r\n\r\nYou need to remove `spring-boot-starter-logging` from your dependencies and replace it with [`spring-boot-starter-log4j2`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2). The usual trick is to:\r\n * explicitly add [`spring-boot-starter`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter) to your dependencies: it is the only starter that depends on `spring-boot-starter-logging`, all other starters depends on `spring-boot-starter`,\r\n * exclude `spring-boot-starter-logging` from it:\r\n   ```lang-xml\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n     &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n     &lt;/exclusions&gt;\r\n   &lt;/dependency&gt;\r\n   ```\r\n * add `spring-boot-starter-log4j2` and the logging API of your choice:\r\n   ```lang-xml\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n     &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n     &lt;scope&gt;runtime&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n   ```\r\n * remove all other explicit `log4j-*` dependencies.","title":"Problem with log4j2 to write all logs to a specific file in Spring Boot 3.1.0 with Maven","body":"<p>Excluding Logback is <strong>not</strong> enough. The <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-logging</code></a> takes care of connecting all major logging APIs to Logback (cf. <a href=\"https://stackoverflow.com/q/75719238/11748454\">What is Spring Boot Starter Log4J2</a> and <a href=\"https://stackoverflow.com/q/71176985/11748454\">Why does spring-boot-starter-logging require a dependency on log4-to-slf4j</a> for details). In particular it contains <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j\" rel=\"nofollow noreferrer\"><code>log4j-to-slf4j</code></a>, which is an implementation of the Log4j 2 API that forwards everything to SLF4J.</p>\n<p>You need to remove <code>spring-boot-starter-logging</code> from your dependencies and replace it with <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-log4j2</code></a>. The usual trick is to:</p>\n<ul>\n<li>explicitly add <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter\" rel=\"nofollow noreferrer\"><code>spring-boot-starter</code></a> to your dependencies: it is the only starter that depends on <code>spring-boot-starter-logging</code>, all other starters depends on <code>spring-boot-starter</code>,</li>\n<li>exclude <code>spring-boot-starter-logging</code> from it:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li>add <code>spring-boot-starter-log4j2</code> and the logging API of your choice:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li>remove all other explicit <code>log4j-*</code> dependencies.</li>\n</ul>\n"}],"owner":{"account_id":23669421,"reputation":31,"user_id":17696413,"display_name":"akicay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690050106,"creation_date":1690025654,"question_id":76743594,"body_markdown":"I am trying to set log4j2 to write all logs to a specific file. I&#39;ve tried various things I found on the internet but still the logs only show up in the console.\r\n\r\nI am using **IntelliJ IDEA CE**.\r\n**Spring Boot** version is 3.1.0.\r\n**Java** version is 17.\r\n**Maven** version is 4.0.0.\r\n\r\nMy pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;...&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;...&lt;/name&gt;\r\n\t&lt;description&gt;...&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring WebSocket --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JSON support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nThe log4j2.xml located in src/main/resources/log4j2.xml\r\n```\r\n&lt;Configuration status=&quot;info&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;File name=&quot;FILE&quot; fileName=&quot;app.log&quot; immediateFlush=&quot;false&quot; append=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;TRACE&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n**I tried the following things:**\r\n- I added exclusions for logback-classic in spring-boot-starter-security and spring-boot-starter-web\r\n- I removed unused Logging Configurations\r\n- I verified Log4j2 Configuration\r\n- Log4j2 Internal Status Logger\r\n- There is no application&#39;s logs and console output for any error messages or warnings related to logging\r\n- I tried a minimal metup\r\n- I added LogManager.getContext(false); in public static void main(String[] args)\r\n\r\nCan someone help me solve this problem?\r\nThanks","title":"Problem with log4j2 to write all logs to a specific file in Spring Boot 3.1.0 with Maven","body":"<p>I am trying to set log4j2 to write all logs to a specific file. I've tried various things I found on the internet but still the logs only show up in the console.</p>\n<p>I am using <strong>IntelliJ IDEA CE</strong>.\n<strong>Spring Boot</strong> version is 3.1.0.\n<strong>Java</strong> version is 17.\n<strong>Maven</strong> version is 4.0.0.</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;...&lt;/name&gt;\n    &lt;description&gt;...&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring WebSocket --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JSON support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>The log4j2.xml located in src/main/resources/log4j2.xml</p>\n<pre><code>&lt;Configuration status=&quot;info&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;File name=&quot;FILE&quot; fileName=&quot;app.log&quot; immediateFlush=&quot;false&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;TRACE&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>I tried the following things:</strong></p>\n<ul>\n<li>I added exclusions for logback-classic in spring-boot-starter-security and spring-boot-starter-web</li>\n<li>I removed unused Logging Configurations</li>\n<li>I verified Log4j2 Configuration</li>\n<li>Log4j2 Internal Status Logger</li>\n<li>There is no application's logs and console output for any error messages or warnings related to logging</li>\n<li>I tried a minimal metup</li>\n<li>I added LogManager.getContext(false); in public static void main(String[] args)</li>\n</ul>\n<p>Can someone help me solve this problem?\nThanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9700,"page":292,"page_size":100}
