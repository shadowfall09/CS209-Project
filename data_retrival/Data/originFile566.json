{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7850980,"reputation":179,"user_id":5934449,"display_name":"Richard Kotal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596027795,"creation_date":1596027795,"answer_id":63154253,"question_id":63153275,"body_markdown":"You can use \r\n\r\n     while(inFromServer.available()&gt;0) {  \r\n          String line = inFromServer.readUTF();\r\n          System.out.println(line);\r\n          out.write(line);\r\n          out.println(&quot;\\n&quot;);\r\n     }  \r\n\r\ninstead of\r\n\r\n\r\n            while (true) {\r\n                String line = inFromServer.readUTF();\r\n                System.out.println(line);\r\n                out.write(line);\r\n                out.println(&quot;\\n&quot;);\r\n            }","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>You can use</p>\n<pre><code> while(inFromServer.available()&gt;0) {  \n      String line = inFromServer.readUTF();\n      System.out.println(line);\n      out.write(line);\n      out.println(&quot;\\n&quot;);\n }  \n</code></pre>\n<p>instead of</p>\n<pre><code>        while (true) {\n            String line = inFromServer.readUTF();\n            System.out.println(line);\n            out.write(line);\n            out.println(&quot;\\n&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596032864,"creation_date":1596032864,"answer_id":63155911,"question_id":63153275,"body_markdown":"readUTF() will never return null.  You need to send a “sentinel value” before closing—a special value that indicates the end of the stream.\r\n\r\nObviously you want it to be something that is very unlikely to be sent in a normal use case.  I suggest `&quot;\\uffff&quot;` (a String with length 1), since U+FFFF is guaranteed not to be a defined character.\r\n","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>readUTF() will never return null.  You need to send a “sentinel value” before closing—a special value that indicates the end of the stream.</p>\n<p>Obviously you want it to be something that is very unlikely to be sent in a normal use case.  I suggest <code>&quot;\\uffff&quot;</code> (a String with length 1), since U+FFFF is guaranteed not to be a defined character.</p>\n"}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63155911,"answer_count":2,"score":0,"last_activity_date":1679079564,"creation_date":1596024563,"question_id":63153275,"body_markdown":"I made a simple Server-Client application to read line by line file from Server and write line by line in a new file in the client side. The application writes corretcly the lines in the file , but when the file reaches  the end, I catch this error:\r\n```\r\njava.io.EOFException\r\n\tat java.io.DataInputStream.readUnsignedShort(Unknown Source)\r\n\tat java.io.DataInputStream.readUTF(Unknown Source)\r\n\tat java.io.DataInputStream.readUTF(Unknown Source)\r\n\tat it.sendfile.socket.FileClient1.main(FileClient1.java:19)\r\n``` \r\n\r\nmy code:\r\n```java\r\npublic class FileServer1 {\r\n    public static void main(String[] args) {\r\n        int port = 3000;\r\n        // open server socket\r\n        ServerSocket ss = null;\r\n        try {\r\n            ss = new ServerSocket(port);\r\n            Socket s = ss.accept();\r\n            DataOutputStream outToClient = new DataOutputStream(s.getOutputStream());\r\n\r\n            File testFile = new File(&quot;C:\\\\temp\\\\tmpbgoutcoge&quot;);\r\n            BufferedReader input = new BufferedReader(new FileReader(testFile));\r\n            String line;\r\n            while ((line = input.readLine()) != null) {\r\n                outToClient.writeUTF(line);\r\n                outToClient.writeUTF(&quot;-----------------------------&quot;);\r\n                outToClient.flush();\r\n                Thread.currentThread().sleep(1000);\r\n            }\r\n            input.close();\r\n            outToClient.close();\r\n            s.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\npublic class FileClient1 {\r\n    public static void main(String[] args) {\r\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;C:\\\\temp\\\\tmpbgoutcoge1.txt&quot;, true));) {\r\n            Socket s = new Socket(&quot;localhost&quot;, 3000);\r\n            DataInputStream inFromServer = new DataInputStream(new BufferedInputStream(s.getInputStream()));\r\n\r\n            while (true) {\r\n                String line = inFromServer.readUTF();\r\n                System.out.println(line);\r\n                out.write(line);\r\n                out.println(&quot;\\n&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nI have to find a While stop condition when I reach the end of file, but I&#39;ve tryied with (line = inFromServer.readUTF())!= null  but it&#39;s not worked.\r\nIn the FileClient1 class, I can&#39;t close the socket and the DataInputStream. A message says:&quot;Unreachable code&quot;.","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>I made a simple Server-Client application to read line by line file from Server and write line by line in a new file in the client side. The application writes corretcly the lines in the file , but when the file reaches  the end, I catch this error:</p>\n<pre><code>java.io.EOFException\n    at java.io.DataInputStream.readUnsignedShort(Unknown Source)\n    at java.io.DataInputStream.readUTF(Unknown Source)\n    at java.io.DataInputStream.readUTF(Unknown Source)\n    at it.sendfile.socket.FileClient1.main(FileClient1.java:19)\n</code></pre>\n<p>my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileServer1 {\n    public static void main(String[] args) {\n        int port = 3000;\n        // open server socket\n        ServerSocket ss = null;\n        try {\n            ss = new ServerSocket(port);\n            Socket s = ss.accept();\n            DataOutputStream outToClient = new DataOutputStream(s.getOutputStream());\n\n            File testFile = new File(&quot;C:\\\\temp\\\\tmpbgoutcoge&quot;);\n            BufferedReader input = new BufferedReader(new FileReader(testFile));\n            String line;\n            while ((line = input.readLine()) != null) {\n                outToClient.writeUTF(line);\n                outToClient.writeUTF(&quot;-----------------------------&quot;);\n                outToClient.flush();\n                Thread.currentThread().sleep(1000);\n            }\n            input.close();\n            outToClient.close();\n            s.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n\npublic class FileClient1 {\n    public static void main(String[] args) {\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;C:\\\\temp\\\\tmpbgoutcoge1.txt&quot;, true));) {\n            Socket s = new Socket(&quot;localhost&quot;, 3000);\n            DataInputStream inFromServer = new DataInputStream(new BufferedInputStream(s.getInputStream()));\n\n            while (true) {\n                String line = inFromServer.readUTF();\n                System.out.println(line);\n                out.write(line);\n                out.println(&quot;\\n&quot;);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have to find a While stop condition when I reach the end of file, but I've tryied with (line = inFromServer.readUTF())!= null  but it's not worked.\nIn the FileClient1 class, I can't close the socket and the DataInputStream. A message says:&quot;Unreachable code&quot;.</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679060602,"creation_date":1679060602,"answer_id":75768318,"question_id":75759787,"body_markdown":"You still need to define a mocked function response when ID 1 is requested, otherwise your mock is just a stub and has no schemas registered to lookup by a consumer, in this case\r\n\r\nYou may instead want to try this library - https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock ","title":"kakfa mock registry for testing","body":"<p>You still need to define a mocked function response when ID 1 is requested, otherwise your mock is just a stub and has no schemas registered to lookup by a consumer, in this case</p>\n<p>You may instead want to try this library - <a href=\"https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock\" rel=\"nofollow noreferrer\">https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock</a></p>\n"},{"tags":[],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679079547,"creation_date":1679079547,"answer_id":75771261,"question_id":75759787,"body_markdown":"used which worked:\r\n\r\n    private MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();","title":"kakfa mock registry for testing","body":"<p>used which worked:</p>\n<pre><code>private MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679079547,"creation_date":1678988303,"question_id":75759787,"body_markdown":"so i have set up in my spring properties file:\r\n\r\n    spring.kafka.properties.schema.registry.url=mock://localhost\r\n\r\nBut when i run the test i get the following\r\n\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 1\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.toKafkaException(AbstractKafkaSchemaSerDe.java:259)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:341)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:113)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\r\n    \tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n    \tat org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:201)\r\n    \t... 16 common frames omitted\r\n    Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Subject Not Found; error code: 40401\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:177)\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:262)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:330)\r\n    \t... 20 common frames omitted","title":"kakfa mock registry for testing","body":"<p>so i have set up in my spring properties file:</p>\n<pre><code>spring.kafka.properties.schema.registry.url=mock://localhost\n</code></pre>\n<p>But when i run the test i get the following</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 1\n    at io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.toKafkaException(AbstractKafkaSchemaSerDe.java:259)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:341)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:113)\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n    at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:201)\n    ... 16 common frames omitted\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Subject Not Found; error code: 40401\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:177)\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:262)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:330)\n    ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679078506,"creation_date":1679078506,"answer_id":75771111,"question_id":75771047,"body_markdown":"Spring&#39;s @Service has NOTHING to do with ECS&#39;s services, other they use the same word. They are completely different things. And AWS ECS has absolutely no idea that you are even running Java, much less Spring. ECS just runs the docker containers you tell it to run.\r\n\r\nIf you want ECS to scale each module separately, you will have to deploy each module as a separate ECS service. ","title":"Spring boot multi-module project and aws ECS services","body":"<p>Spring's @Service has NOTHING to do with ECS's services, other they use the same word. They are completely different things. And AWS ECS has absolutely no idea that you are even running Java, much less Spring. ECS just runs the docker containers you tell it to run.</p>\n<p>If you want ECS to scale each module separately, you will have to deploy each module as a separate ECS service.</p>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679079516,"creation_date":1679078137,"question_id":75771047,"body_markdown":"If I have a multi module project. Spring Boot, using gradle.\r\n\r\nBecause it has multi modules it has several jars when build it.\r\n\r\nI wonder how multi module project could be mapped to the concept of ECS service &amp; tasks?\r\n\r\nI guess there is no magic of ECS to know that that module belongs to the app and it will be separately scaled in out? Even though there is spring @Service classes live in each module they can not be independently mapped to ECS service?\r\n\r\n(I guess I had to research a bit more before asking, but still)","title":"Spring boot multi-module project and aws ECS services","body":"<p>If I have a multi module project. Spring Boot, using gradle.</p>\n<p>Because it has multi modules it has several jars when build it.</p>\n<p>I wonder how multi module project could be mapped to the concept of ECS service &amp; tasks?</p>\n<p>I guess there is no magic of ECS to know that that module belongs to the app and it will be separately scaled in out? Even though there is spring @Service classes live in each module they can not be independently mapped to ECS service?</p>\n<p>(I guess I had to research a bit more before asking, but still)</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679076061,"post_id":75770736,"comment_id":133662174,"body_markdown":"Have you measured it? If the difference is measurable, you&#39;ll be able to see it... if it&#39;s not (which is what I strongly suspect) then you&#39;ll see no difference. It&#39;s almost *always* worth optimising for readability first, and only move away from readability when you can *measure* the performance benefit.","body":"Have you measured it? If the difference is measurable, you&#39;ll be able to see it... if it&#39;s not (which is what I strongly suspect) then you&#39;ll see no difference. It&#39;s almost <i>always</i> worth optimising for readability first, and only move away from readability when you can <i>measure</i> the performance benefit."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1679076413,"post_id":75770736,"comment_id":133662266,"body_markdown":"There could be a &quot;boost&quot; if x is reused later in the code. Your example only adds an extra assignment to the code. Anyway, don&#39;t worry about Java/JVM performance until you hit a real problem. The JVM makes performance enhancement, probably you never heard about.","body":"There could be a &quot;boost&quot; if x is reused later in the code. Your example only adds an extra assignment to the code. Anyway, don&#39;t worry about Java/JVM performance until you hit a real problem. The JVM makes performance enhancement, probably you never heard about."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679079491,"creation_date":1679079185,"answer_id":75771201,"question_id":75770736,"body_markdown":"There will be no difference at runtime. The local final variable (or effectively final - the compiler can very easily tell) will be [optimised by inlining it][1].\r\n\r\nMore interestingly, a decent logging framework (eg log4j) will lazily evaluate messages dependent on the logging level - this does provide material performance improvements.\r\n\r\nFor example, with\r\n\r\n    logger.debug(&quot;Amount: {}&quot;, objectClass.getMyDouble());\r\n\r\nLog4j can check the Log-Level first and then decide if its necessary to construct the message string. This saves resources needed for string concatenation. It will only call `toString()` on the objects supplied if the message is actually being created, saving further computation costs.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/sdk-java-technology/8?topic=compiler-how-jit-optimizes-code","title":"Java get the variable on the fly vs storing it","body":"<p>There will be no difference at runtime. The local final variable (or effectively final - the compiler can very easily tell) will be <a href=\"https://www.ibm.com/docs/en/sdk-java-technology/8?topic=compiler-how-jit-optimizes-code\" rel=\"nofollow noreferrer\">optimised by inlining it</a>.</p>\n<p>More interestingly, a decent logging framework (eg log4j) will lazily evaluate messages dependent on the logging level - this does provide material performance improvements.</p>\n<p>For example, with</p>\n<pre><code>logger.debug(&quot;Amount: {}&quot;, objectClass.getMyDouble());\n</code></pre>\n<p>Log4j can check the Log-Level first and then decide if its necessary to construct the message string. This saves resources needed for string concatenation. It will only call <code>toString()</code> on the objects supplied if the message is actually being created, saving further computation costs.</p>\n"}],"owner":{"account_id":15619920,"reputation":880,"user_id":11269090,"display_name":"Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679079491,"creation_date":1679075735,"question_id":75770736,"body_markdown":"Are there any performance boost by writing:\r\n```\r\nfinal double x = objectClass.getMyDouble();\r\nmyLogger.log(x);\r\n```\r\nto\r\n```\r\nmyLogger.log(objectClass.getMyDouble());\r\n```\r\n\r\nI think it improves the runtime a little bit by writing the second way. If it does, how is it able to improve the runtime?","title":"Java get the variable on the fly vs storing it","body":"<p>Are there any performance boost by writing:</p>\n<pre><code>final double x = objectClass.getMyDouble();\nmyLogger.log(x);\n</code></pre>\n<p>to</p>\n<pre><code>myLogger.log(objectClass.getMyDouble());\n</code></pre>\n<p>I think it improves the runtime a little bit by writing the second way. If it does, how is it able to improve the runtime?</p>\n"},{"tags":["java","json","abstract-class","gson"],"comments":[{"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"score":0,"creation_date":1393574157,"post_id":3629596,"comment_id":33502894,"body_markdown":"Take a look to [http://stackoverflow.com/a/22081826/3315914](http://stackoverflow.com/a/22081826/3315914)","body":"Take a look to <a href=\"http://stackoverflow.com/a/22081826/3315914\">http://stackoverflow.com/a/22081826/3315914</a>"}],"answers":[{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1507899501,"creation_date":1283449963,"answer_id":3629771,"question_id":3629596,"body_markdown":"I&#39;d suggest adding a custom [JsonDeserializer][1] for `Node`s:\r\n\r\n    Gson gson = new GsonBuilder()\r\n        .registerTypeAdapter(Node.class, new NodeDeserializer())\r\n        .create();\r\n\r\nYou will be able to access the `JsonElement` representing the node in the deserializer&#39;s method, convert that to a `JsonObject`, and retrieve the field that specifies the type. You can then create an instance of the correct type of `Node` based on that.\r\n\r\n  [1]: https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html","title":"Deserializing an abstract class in Gson","body":"<p>I'd suggest adding a custom <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html\" rel=\"noreferrer\">JsonDeserializer</a> for <code>Node</code>s:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapter(Node.class, new NodeDeserializer())\n    .create();\n</code></pre>\n\n<p>You will be able to access the <code>JsonElement</code> representing the node in the deserializer's method, convert that to a <code>JsonObject</code>, and retrieve the field that specifies the type. You can then create an instance of the correct type of <code>Node</code> based on that.</p>\n"},{"tags":[],"owner":{"account_id":260746,"reputation":936,"user_id":544499,"accept_rate":57,"display_name":"Guruprasad GV"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1371692722,"creation_date":1328149745,"answer_id":9106351,"question_id":3629596,"body_markdown":"You will need to register both JSONSerializer and JSONDeserializer. Also you can implement a generic adapter for all your interfaces in the following way:\r\n\r\n - During Serialization : Add a META-info of the actual impl class type.\r\n - During DeSerialization : Retrieve that meta info and call the JSONDeserailize of that class\r\n\r\nHere is the implementation that I have used for myself and works fine.\r\n\r\n\tpublic class PropertyBasedInterfaceMarshal implements\r\n\t\t\tJsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\r\n\r\n\t\tprivate static final String CLASS_META_KEY = &quot;CLASS_META_KEY&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic Object deserialize(JsonElement jsonElement, Type type,\r\n\t\t\t\tJsonDeserializationContext jsonDeserializationContext)\r\n\t\t\t\tthrows JsonParseException {\r\n\t\t\tJsonObject jsonObj = jsonElement.getAsJsonObject();\r\n\t\t\tString className = jsonObj.get(CLASS_META_KEY).getAsString();\r\n\t\t\ttry {\r\n\t\t\t\tClass&lt;?&gt; clz = Class.forName(className);\r\n\t\t\t\treturn jsonDeserializationContext.deserialize(jsonElement, clz);\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\tthrow new JsonParseException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic JsonElement serialize(Object object, Type type,\r\n\t\t\t\tJsonSerializationContext jsonSerializationContext) {\r\n\t\t\tJsonElement jsonEle = jsonSerializationContext.serialize(object, object.getClass());\r\n\t\t\tjsonEle.getAsJsonObject().addProperty(CLASS_META_KEY,\r\n\t\t\t\t\tobject.getClass().getCanonicalName());\r\n\t\t\treturn jsonEle;\r\n\t\t}\r\n\r\n\t}\r\n\r\nThen you could register this adapter for all your interfaces as follows\r\n\r\n    \r\n\tGson gson = new GsonBuilder()\r\n\t\t\t.registerTypeAdapter(IInterfaceOne.class,\r\n\t\t\t\t\tnew PropertyBasedInterfaceMarshal())\r\n\t\t\t.registerTypeAdapter(IInterfaceTwo.class,\r\n\t\t\t\t\tnew PropertyBasedInterfaceMarshal()).create();","title":"Deserializing an abstract class in Gson","body":"<p>You will need to register both JSONSerializer and JSONDeserializer. Also you can implement a generic adapter for all your interfaces in the following way:</p>\n\n<ul>\n<li>During Serialization : Add a META-info of the actual impl class type.</li>\n<li>During DeSerialization : Retrieve that meta info and call the JSONDeserailize of that class</li>\n</ul>\n\n<p>Here is the implementation that I have used for myself and works fine.</p>\n\n<pre><code>public class PropertyBasedInterfaceMarshal implements\n        JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\n\n    private static final String CLASS_META_KEY = \"CLASS_META_KEY\";\n\n    @Override\n    public Object deserialize(JsonElement jsonElement, Type type,\n            JsonDeserializationContext jsonDeserializationContext)\n            throws JsonParseException {\n        JsonObject jsonObj = jsonElement.getAsJsonObject();\n        String className = jsonObj.get(CLASS_META_KEY).getAsString();\n        try {\n            Class&lt;?&gt; clz = Class.forName(className);\n            return jsonDeserializationContext.deserialize(jsonElement, clz);\n        } catch (ClassNotFoundException e) {\n            throw new JsonParseException(e);\n        }\n    }\n\n    @Override\n    public JsonElement serialize(Object object, Type type,\n            JsonSerializationContext jsonSerializationContext) {\n        JsonElement jsonEle = jsonSerializationContext.serialize(object, object.getClass());\n        jsonEle.getAsJsonObject().addProperty(CLASS_META_KEY,\n                object.getClass().getCanonicalName());\n        return jsonEle;\n    }\n\n}\n</code></pre>\n\n<p>Then you could register this adapter for all your interfaces as follows</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n        .registerTypeAdapter(IInterfaceOne.class,\n                new PropertyBasedInterfaceMarshal())\n        .registerTypeAdapter(IInterfaceTwo.class,\n                new PropertyBasedInterfaceMarshal()).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085370,"reputation":5656,"user_id":1081199,"accept_rate":83,"display_name":"Jason Polites"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329792591,"creation_date":1329792591,"answer_id":9371456,"question_id":3629596,"body_markdown":"As far as I can tell this doesn&#39;t work for non-collection types, or more specifically, situations where the concrete type is used to serialize, and the interface type is used to deserialize.  That is, if you have a simple class implementing an interface and you serialize the concrete class, then specify the interface to deserialize, you&#39;ll end up in an unrecoverable situation.\r\n\r\nIn the above example the type adapter is registered against the interface, but when you serialize using the concrete class it will not be used, meaning the CLASS_META_KEY data will never be set.\r\n\r\nIf you specify the adapter as a hierarchical adapter (thereby telling gson to use it for all types in the hierarchy), you&#39;ll end up in an infinite loop as the serializer will just keep calling itself.\r\n\r\nAnyone know how to serialize from a concrete implementation of an interface, then deserialize using only the interface and an InstanceCreator?\r\n\r\nBy default it seems that gson will create the concrete instance, but does not set it&#39;s fields. \r\n\r\nIssue is logged here:\r\n\r\nhttp://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface","title":"Deserializing an abstract class in Gson","body":"<p>As far as I can tell this doesn't work for non-collection types, or more specifically, situations where the concrete type is used to serialize, and the interface type is used to deserialize.  That is, if you have a simple class implementing an interface and you serialize the concrete class, then specify the interface to deserialize, you'll end up in an unrecoverable situation.</p>\n\n<p>In the above example the type adapter is registered against the interface, but when you serialize using the concrete class it will not be used, meaning the CLASS_META_KEY data will never be set.</p>\n\n<p>If you specify the adapter as a hierarchical adapter (thereby telling gson to use it for all types in the hierarchy), you'll end up in an infinite loop as the serializer will just keep calling itself.</p>\n\n<p>Anyone know how to serialize from a concrete implementation of an interface, then deserialize using only the interface and an InstanceCreator?</p>\n\n<p>By default it seems that gson will create the concrete instance, but does not set it's fields. </p>\n\n<p>Issue is logged here:</p>\n\n<p><a href=\"http://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface\" rel=\"nofollow\">http://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface</a></p>\n"},{"tags":[],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491912689,"creation_date":1361524619,"answer_id":15020585,"question_id":3629596,"body_markdown":"You have to use `TypeToken` class from Google Gson. \r\nYou will need of course has a generic class T to make it works\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();\r\ngson.toJson(foo, fooType);\r\n\r\n    gson.fromJson(json, fooType);","title":"Deserializing an abstract class in Gson","body":"<p>You have to use <code>TypeToken</code> class from Google Gson. \nYou will need of course has a generic class T to make it works</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();\n</code></pre>\n\n<p>gson.toJson(foo, fooType);</p>\n\n<pre><code>gson.fromJson(json, fooType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24856910,"reputation":31,"user_id":18733140,"display_name":"Ezh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649315454,"creation_date":1649315454,"answer_id":71777764,"question_id":3629596,"body_markdown":"I want to correct the above a little\r\n\r\n    public class PropertyMarshallerAbstractTask implements JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\r\n\r\n        private static final String CLASS_TYPE = &quot;CLASS_TYPE&quot;;\r\n\r\n        @Override\r\n        public Object deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n\r\n            JsonObject jsonObj = jsonElement.getAsJsonObject();\r\n           String className = jsonObj.get(CLASS_TYPE).getAsString();\r\n\r\n            try {\r\n                Class&lt;?&gt; clz = Class.forName(className);\r\n                return jsonDeserializationContext.deserialize(jsonElement, clz);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new JsonParseException(e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public JsonElement serialize(Object object, Type type, JsonSerializationContext jsonSerializationContext) {\r\n        \r\n            Gson gson = new Gson(); //without this line it will not work\r\n            gson.toJson(object, object.getClass()); //and this one\r\n            JsonElement jsonElement = gson.toJsonTree(object); //it needs to replace to another method...toJsonTree\r\n            jsonElement.getAsJsonObject().addProperty(CLASS_TYPE, object.getClass().getCanonicalName());\r\n            return jsonElement;\r\n        }\r\n    }\r\n\r\nAnd then I use it:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                    .registerTypeAdapter(AbstractTask.class, new PropertyMarshallerOfAbstractTask())\r\n                    .create();\r\n\r\nAnd then I can parse List&lt;AbstractTask&gt; (where I keep some non-abstract classes, which inherited from Abstract Task) to Json;\r\n\r\nAnd it works in the opposite direction\r\n\r\n    List&lt;AbstractTask&gt; abstractTasks = gson.fromJson(json, new TypeToken&lt;List&lt;AbstractTask&gt;&gt;(){}.getType());","title":"Deserializing an abstract class in Gson","body":"<p>I want to correct the above a little</p>\n<pre><code>public class PropertyMarshallerAbstractTask implements JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\n\n    private static final String CLASS_TYPE = &quot;CLASS_TYPE&quot;;\n\n    @Override\n    public Object deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n\n        JsonObject jsonObj = jsonElement.getAsJsonObject();\n       String className = jsonObj.get(CLASS_TYPE).getAsString();\n\n        try {\n            Class&lt;?&gt; clz = Class.forName(className);\n            return jsonDeserializationContext.deserialize(jsonElement, clz);\n        } catch (ClassNotFoundException e) {\n            throw new JsonParseException(e);\n        }\n    }\n\n    @Override\n    public JsonElement serialize(Object object, Type type, JsonSerializationContext jsonSerializationContext) {\n    \n        Gson gson = new Gson(); //without this line it will not work\n        gson.toJson(object, object.getClass()); //and this one\n        JsonElement jsonElement = gson.toJsonTree(object); //it needs to replace to another method...toJsonTree\n        jsonElement.getAsJsonObject().addProperty(CLASS_TYPE, object.getClass().getCanonicalName());\n        return jsonElement;\n    }\n}\n</code></pre>\n<p>And then I use it:</p>\n<pre><code>Gson gson = new GsonBuilder()\n                .registerTypeAdapter(AbstractTask.class, new PropertyMarshallerOfAbstractTask())\n                .create();\n</code></pre>\n<p>And then I can parse List (where I keep some non-abstract classes, which inherited from Abstract Task) to Json;</p>\n<p>And it works in the opposite direction</p>\n<pre><code>List&lt;AbstractTask&gt; abstractTasks = gson.fromJson(json, new TypeToken&lt;List&lt;AbstractTask&gt;&gt;(){}.getType());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146964,"reputation":360,"user_id":1129493,"display_name":"Robin Dowling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679079366,"creation_date":1679078783,"answer_id":75771143,"question_id":3629596,"body_markdown":"I was unable to use the `TypeAdapter` solutions above, and had almost given up on serializing. In the end I found a solution in an intermediary step between the class object and Gson. I serialized the object itself into a byte array, and then Gson serialized the byte array + deserializing back in similar fashion.\r\n\r\n```java\r\npublic class GenericSerializer {\r\n  public static byte[] serializeForClass(final Object obj) {\r\n    try {\r\n      final var byteArrayOutputStream = new ByteArrayOutputStream();\r\n      final var objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\r\n      objectOutputStream.writeObject(obj);\r\n      objectOutputStream.flush();\r\n      objectOutputStream.close();\r\n      return byteArrayOutputStream.toByteArray();\r\n    } catch (IOException e) {\r\n      LOG.warn(&quot;Unable to serialize for class &#39;%s&#39;&quot;.formatted(obj.getClass().getName()), e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static &lt;T&gt; T deserializeForClass(final byte[] serializedObj, final Class&lt;T&gt; cls) {\r\n    if (serializedObj == null) {\r\n      return null;\r\n    }\r\n    try {\r\n      final var inputStream = new ByteArrayInputStream(serializedObj);\r\n      final var objectInputStream = new ObjectInputStream(inputStream);\r\n      return cls.cast(objectInputStream.readObject());\r\n    } catch (ClassNotFoundException | IOException | NullPointerException e) {\r\n      LOG.warn(&quot;Unable to deserialize for class &#39;%s&#39;&quot;.formatted(cls), e);\r\n      return null;\r\n    }\r\n  }\r\n```\r\n\r\nUsed like this\r\n```java\r\n\r\nfinal var yourObject = new YourClass();\r\nfinal var serialized = GenericSerializer.serializeForClass(yourObject);\r\nfinal var gson = new Gson();\r\nfinal var gsonSerialized = gson.toJson(serialized);\r\nfinal var gsonDeserialized = gson.fromJson(gsonSerialized, byte[].class)\r\nfinal var deserialized =  GenericSerializer.deserializeForClass(gsonDeserialized, YourClass.class);\r\nassert(yourObject == deserialized);\r\n\r\n```\r\n\r\nI&#39;m hoping this might help someone else the way it helped me.","title":"Deserializing an abstract class in Gson","body":"<p>I was unable to use the <code>TypeAdapter</code> solutions above, and had almost given up on serializing. In the end I found a solution in an intermediary step between the class object and Gson. I serialized the object itself into a byte array, and then Gson serialized the byte array + deserializing back in similar fashion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericSerializer {\n  public static byte[] serializeForClass(final Object obj) {\n    try {\n      final var byteArrayOutputStream = new ByteArrayOutputStream();\n      final var objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\n      objectOutputStream.writeObject(obj);\n      objectOutputStream.flush();\n      objectOutputStream.close();\n      return byteArrayOutputStream.toByteArray();\n    } catch (IOException e) {\n      LOG.warn(&quot;Unable to serialize for class '%s'&quot;.formatted(obj.getClass().getName()), e);\n      return null;\n    }\n  }\n\n  public static &lt;T&gt; T deserializeForClass(final byte[] serializedObj, final Class&lt;T&gt; cls) {\n    if (serializedObj == null) {\n      return null;\n    }\n    try {\n      final var inputStream = new ByteArrayInputStream(serializedObj);\n      final var objectInputStream = new ObjectInputStream(inputStream);\n      return cls.cast(objectInputStream.readObject());\n    } catch (ClassNotFoundException | IOException | NullPointerException e) {\n      LOG.warn(&quot;Unable to deserialize for class '%s'&quot;.formatted(cls), e);\n      return null;\n    }\n  }\n</code></pre>\n<p>Used like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal var yourObject = new YourClass();\nfinal var serialized = GenericSerializer.serializeForClass(yourObject);\nfinal var gson = new Gson();\nfinal var gsonSerialized = gson.toJson(serialized);\nfinal var gsonDeserialized = gson.fromJson(gsonSerialized, byte[].class)\nfinal var deserialized =  GenericSerializer.deserializeForClass(gsonDeserialized, YourClass.class);\nassert(yourObject == deserialized);\n\n</code></pre>\n<p>I'm hoping this might help someone else the way it helped me.</p>\n"}],"owner":{"account_id":194894,"reputation":463,"user_id":437480,"display_name":"user437480"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37852,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":3629771,"answer_count":6,"score":46,"last_activity_date":1679079366,"creation_date":1283448512,"question_id":3629596,"body_markdown":"I have a tree object in JSON format I&#39;m trying to deserialize with Gson.  Each node contains its child nodes as fields of object type Node.  Node is an interface, which has several concrete class implementations.  During the deserialization process, how can I communicate to Gson which concrete class to implement when deserializing the node, if I do not know a priori which type the node belongs to?  Each Node has a member field specifying the type.  Is there a way to access the field when the object is in serialized form, and somehow communicate the type to Gson?\r\n\r\nThanks!","title":"Deserializing an abstract class in Gson","body":"<p>I have a tree object in JSON format I'm trying to deserialize with Gson.  Each node contains its child nodes as fields of object type Node.  Node is an interface, which has several concrete class implementations.  During the deserialization process, how can I communicate to Gson which concrete class to implement when deserializing the node, if I do not know a priori which type the node belongs to?  Each Node has a member field specifying the type.  Is there a way to access the field when the object is in serialized form, and somehow communicate the type to Gson?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","debugging"],"answers":[{"tags":[],"owner":{"account_id":1676310,"reputation":93,"user_id":1541796,"display_name":"Victor Lindberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679078469,"creation_date":1679078469,"answer_id":75771103,"question_id":75770808,"body_markdown":"Solution for me.\r\n\r\nMake sure the warsaw application is installed. If so, uninstall it. Any other security application for internet banking access could be causing this. Uninstall. Here I had the same problem after installing my bank&#39;s security application.\r\n\r\nFor those who are Brazilian like me, uninstall the security program from Caixa Econ&#244;mica (Warsaw). Here this was the cause.\r\n\r\n","title":"Cannot connect to VM Socket closed","body":"<p>Solution for me.</p>\n<p>Make sure the warsaw application is installed. If so, uninstall it. Any other security application for internet banking access could be causing this. Uninstall. Here I had the same problem after installing my bank's security application.</p>\n<p>For those who are Brazilian like me, uninstall the security program from Caixa Econômica (Warsaw). Here this was the cause.</p>\n"}],"owner":{"account_id":1676310,"reputation":93,"user_id":1541796,"display_name":"Victor Lindberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679078469,"creation_date":1679076375,"question_id":75770808,"body_markdown":"Error message when starting application in eclipse.\r\n\r\nWhen trying to upload the application in eclipse, a popup appears with the message &quot;Cannot connect to VM Socket closed&quot; and it cannot start.","title":"Cannot connect to VM Socket closed","body":"<p>Error message when starting application in eclipse.</p>\n<p>When trying to upload the application in eclipse, a popup appears with the message &quot;Cannot connect to VM Socket closed&quot; and it cannot start.</p>\n"},{"tags":["java","jpa","spring-data","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":1681659,"reputation":3633,"user_id":1545775,"display_name":"Maciej Marczuk"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1679077799,"creation_date":1475492210,"answer_id":39829964,"question_id":39827054,"body_markdown":"You are right. Only CRUD methods (`CrudRepository` methods) are by default marked as transactional. \r\nIf you are using custom query methods you should explicitly mark it with `@Transactional` annotation. \r\n\r\n    @Repository\r\n    public interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\r\n    \r\n        UserRegistration findByEmail(String email);\r\n\r\n        @Transactional\r\n        void deleteByEmail(String email);\r\n    \r\n    }\r\n\r\nYou should also be aware about consequences of marking repository interface methods instead of service methods. If you are using default transaction propagation configuration (`Propagation.REQUIRED`) then: \r\n\r\n&gt;  The transaction configuration at the repositories will be neglected\r\n&gt; then as the outer transaction configuration determines the actual one\r\n&gt; used.\r\n\r\nhttp://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\r\n\r\nIf you want more information about how it is implemented, take a look at default `CrudRepository` / `JpaRepository` implementation - `SimpleJpaRepository` (which you are probably using):\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java \r\n\r\nThe interesting lines are here:\r\n```java\r\n@Transactional(readOnly = true)\r\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\r\n```\r\n\r\nand some of transactional methods here:\r\n```java\r\n@Transactional\r\npublic void deleteById(ID id) {\r\n```\r\n\r\n```\r\n@Transactional\r\npublic &lt;S extends T&gt; S save(S entity) {\r\n```","title":"Spring JPA repository transactionality","body":"<p>You are right. Only CRUD methods (<code>CrudRepository</code> methods) are by default marked as transactional.\nIf you are using custom query methods you should explicitly mark it with <code>@Transactional</code> annotation.</p>\n<pre><code>@Repository\npublic interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\n\n    UserRegistration findByEmail(String email);\n\n    @Transactional\n    void deleteByEmail(String email);\n\n}\n</code></pre>\n<p>You should also be aware about consequences of marking repository interface methods instead of service methods. If you are using default transaction propagation configuration (<code>Propagation.REQUIRED</code>) then:</p>\n<blockquote>\n<p>The transaction configuration at the repositories will be neglected\nthen as the outer transaction configuration determines the actual one\nused.</p>\n</blockquote>\n<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions</a></p>\n<p>If you want more information about how it is implemented, take a look at default <code>CrudRepository</code> / <code>JpaRepository</code> implementation - <code>SimpleJpaRepository</code> (which you are probably using):</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java</a></p>\n<p>The interesting lines are here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly = true)\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\n</code></pre>\n<p>and some of transactional methods here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void deleteById(ID id) {\n</code></pre>\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n</code></pre>\n"}],"owner":{"account_id":3856986,"reputation":1185,"user_id":3195653,"accept_rate":100,"display_name":"FlasH from Ru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39902,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":39829964,"answer_count":1,"score":42,"last_activity_date":1679077799,"creation_date":1475482073,"question_id":39827054,"body_markdown":"1 quick question on Spring JPA repositories transactionality.\r\nI have a service that is not marked as transactional and calls Spring JPA repository method\r\n\r\n    userRegistrationRepository.deleteByEmail(email);\r\n\r\nAnd it is defined as\r\n\r\n    @Repository\r\n    public interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\r\n    \r\n        UserRegistration findByEmail(String email);\r\n    \r\n        void deleteByEmail(String email);\r\n    \r\n    }\r\n\r\nThe problem is that it fails with &quot;*No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call; nested exception is javax.persistence.TransactionRequiredException*&quot; exception.\r\n\r\nOk, I can solve it by marking the service **or** *deleteByEmail(..)* method as transactional, but I just can&#39;t understand why it crashes now. Spring documentation explicitly states that &quot;*CRUD methods on repository instances are transactional by default.*&quot; (http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions), but apparently this one is not... So Is this statement related to only members of `CrudRepository`?\r\n\r\nps: that&#39;s for Spring Data JPA 1.9.4\r\n","title":"Spring JPA repository transactionality","body":"<p>1 quick question on Spring JPA repositories transactionality.\nI have a service that is not marked as transactional and calls Spring JPA repository method</p>\n\n<pre><code>userRegistrationRepository.deleteByEmail(email);\n</code></pre>\n\n<p>And it is defined as</p>\n\n<pre><code>@Repository\npublic interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\n\n    UserRegistration findByEmail(String email);\n\n    void deleteByEmail(String email);\n\n}\n</code></pre>\n\n<p>The problem is that it fails with \"<em>No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call; nested exception is javax.persistence.TransactionRequiredException</em>\" exception.</p>\n\n<p>Ok, I can solve it by marking the service <strong>or</strong> <em>deleteByEmail(..)</em> method as transactional, but I just can't understand why it crashes now. Spring documentation explicitly states that \"<em>CRUD methods on repository instances are transactional by default.</em>\" (<a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions</a>), but apparently this one is not... So Is this statement related to only members of <code>CrudRepository</code>?</p>\n\n<p>ps: that's for Spring Data JPA 1.9.4</p>\n"},{"tags":["java","spring","aws-lambda"],"comments":[{"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"score":0,"creation_date":1582213126,"post_id":60309632,"comment_id":106707373,"body_markdown":"According to that tutorial and the associated sample code (which is linked in the question), I don&#39;t need a handler class.  I did find yet a 3rd tutorial ( https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda ) which said I did, however, although when I tried it it still failed, with the same error IIRC.","body":"According to that tutorial and the associated sample code (which is linked in the question), I don&#39;t need a handler class.  I did find yet a 3rd tutorial ( <a href=\"https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a> ) which said I did, however, although when I tried it it still failed, with the same error IIRC."},{"owner":{"account_id":12146145,"reputation":2332,"user_id":8868419,"display_name":"Matteo"},"score":1,"creation_date":1618318739,"post_id":60309632,"comment_id":118561149,"body_markdown":"have you ever solved this issue?","body":"have you ever solved this issue?"}],"answers":[{"tags":[],"owner":{"account_id":75551,"reputation":323,"user_id":216661,"accept_rate":86,"display_name":"user216661"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582571943,"creation_date":1582571943,"answer_id":60382585,"question_id":60309632,"body_markdown":"I&#39;m experiencing the same issue. According to this link, https://github.com/spring-cloud/spring-cloud-function/issues/439, Spring Cloud Function version 3.0.2 may address your issue.","title":"AWS Lambda with Java Spring","body":"<p>I'm experiencing the same issue. According to this link, <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/439\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/issues/439</a>, Spring Cloud Function version 3.0.2 may address your issue.</p>\n"},{"tags":[],"owner":{"account_id":14425260,"reputation":182,"user_id":10420227,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656927362,"creation_date":1656927362,"answer_id":72854619,"question_id":60309632,"body_markdown":"aws lambda update-function-configuration --function-name testFunction--environment &quot;Variables={MAIN_CLASS=path.to.mainClass}&quot; ","title":"AWS Lambda with Java Spring","body":"<p>aws lambda update-function-configuration --function-name testFunction--environment &quot;Variables={MAIN_CLASS=path.to.mainClass}&quot;</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077613,"creation_date":1679077613,"answer_id":75770978,"question_id":60309632,"body_markdown":"you have to add the Main-Class inside of the ```MANIFEST.MF``` file.\r\nif you have no this folder and file in your project, you can create by yourself.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yRW5L.png","title":"AWS Lambda with Java Spring","body":"<p>you have to add the Main-Class inside of the <code>MANIFEST.MF</code> file.\nif you have no this folder and file in your project, you can create by yourself.</p>\n<p><a href=\"https://i.stack.imgur.com/yRW5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yRW5L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679077613,"creation_date":1582148244,"question_id":60309632,"body_markdown":"I&#39;m trying to implement an AWS Lambda service using Java Spring.  I&#39;ve gone through a whole bunch of tutorials which have told me a whole bunch of ways to do it, but I can&#39;t get it to work.\r\n\r\nThe main problem I&#39;m having is that the AWS Lambda library requires classes to have zero-arg constructors, which makes it difficult to use the Spring IOC container.  I found [a tutorial][1] which has a workaround for that and is able to inject my Spring beans into the class after creation, but that approach doesn&#39;t seem to work for bean instantiations of anonymous classes created from defined interfaces (e.g. Spring Data Repositories), which is something my application uses.\r\n\r\nI found [a tutorial][2] on the Spring wrapper for the AWS lambda library, but that also doesn&#39;t seem to work; I think I&#39;ve copied their code more or less properly from [their sample code][3], but when I run it on Lambda I get the following error:\r\n\r\n```\r\nSTART RequestId: d9e62756-e72b-45f0-8df4-2164f3979dd7 Version: $LATEST\r\nFailed to discover main class. An attempt was made to discover main class as &#39;MAIN_CLASS&#39; environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).: java.lang.IllegalStateException\r\njava.lang.IllegalStateException: Failed to discover main class. An attempt was made to discover main class as &#39;MAIN_CLASS&#39; environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).\r\n\tat org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:83)\r\n\tat org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:60)\r\n\tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.start(FunctionInvoker.java:104)\r\n\tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:70)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n```\r\n\r\nHere&#39;s my code:\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;JobsTest&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nJobTestApplication.java (a sample PoC application I&#39;m using to try to get this dang thing working, then I&#39;m going to add more advanced features to it one by one):\r\n```\r\npackage jobtest;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class JobTestApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JobTestApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public Function&lt;Object, String&gt; uppercase() {\r\n        return input -&gt; &quot;Hello World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nCan someone explain to me what I&#39;m doing wrong?  I&#39;ve spent 2 and a half days on this and I can&#39;t figure it out.  Thanks.\r\n\r\n  [1]: https://www.profit4cloud.nl/blog/just-spring-enabled-aws-lambdas/\r\n  [2]: https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_serverless_platform_adapters\r\n  [3]: https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-aws","title":"AWS Lambda with Java Spring","body":"<p>I'm trying to implement an AWS Lambda service using Java Spring.  I've gone through a whole bunch of tutorials which have told me a whole bunch of ways to do it, but I can't get it to work.</p>\n\n<p>The main problem I'm having is that the AWS Lambda library requires classes to have zero-arg constructors, which makes it difficult to use the Spring IOC container.  I found <a href=\"https://www.profit4cloud.nl/blog/just-spring-enabled-aws-lambdas/\" rel=\"nofollow noreferrer\">a tutorial</a> which has a workaround for that and is able to inject my Spring beans into the class after creation, but that approach doesn't seem to work for bean instantiations of anonymous classes created from defined interfaces (e.g. Spring Data Repositories), which is something my application uses.</p>\n\n<p>I found <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_serverless_platform_adapters\" rel=\"nofollow noreferrer\">a tutorial</a> on the Spring wrapper for the AWS lambda library, but that also doesn't seem to work; I think I've copied their code more or less properly from <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-aws\" rel=\"nofollow noreferrer\">their sample code</a>, but when I run it on Lambda I get the following error:</p>\n\n<pre><code>START RequestId: d9e62756-e72b-45f0-8df4-2164f3979dd7 Version: $LATEST\nFailed to discover main class. An attempt was made to discover main class as 'MAIN_CLASS' environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).: java.lang.IllegalStateException\njava.lang.IllegalStateException: Failed to discover main class. An attempt was made to discover main class as 'MAIN_CLASS' environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).\n    at org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:83)\n    at org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:60)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.start(FunctionInvoker.java:104)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:70)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n</code></pre>\n\n<p>Here's my code:</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;JobsTest&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>JobTestApplication.java (a sample PoC application I'm using to try to get this dang thing working, then I'm going to add more advanced features to it one by one):</p>\n\n<pre><code>package jobtest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class JobTestApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(JobTestApplication.class, args);\n    }\n\n    @Bean\n    public Function&lt;Object, String&gt; uppercase() {\n        return input -&gt; \"Hello World!\";\n    }\n}\n</code></pre>\n\n<p>Can someone explain to me what I'm doing wrong?  I've spent 2 and a half days on this and I can't figure it out.  Thanks.</p>\n"},{"tags":["java","angularjs","json","spring","rest"],"comments":[{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1457025281,"post_id":35778628,"comment_id":59229016,"body_markdown":"What is the error getting from the server, I meant the stacktrace is something like MessageConverter issue ?","body":"What is the error getting from the server, I meant the stacktrace is something like MessageConverter issue ?"}],"answers":[{"tags":[],"owner":{"account_id":2451143,"reputation":4408,"user_id":2137417,"accept_rate":75,"display_name":"jstuartmilne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457025794,"creation_date":1457025794,"answer_id":35778835,"question_id":35778628,"body_markdown":"If I were to guess, jackson is failing in deserializing/serializing your object. Here is an util I made:\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    \r\n    public class SerializeDeserializeUtil {\r\n    \r\n    \tpublic static final MediaType APPLICATION_JSON_UTF8 = new MediaType(\r\n    \t\t\tMediaType.APPLICATION_JSON.getType(),\r\n    \t\t\tMediaType.APPLICATION_JSON.getSubtype(), Charset.forName(&quot;utf8&quot;));\r\n    \r\n    \tpublic static byte[] convertObjectToJsonBytes(Object object)\r\n    \t\t\tthrows IOException {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.setSerializationInclusion(Include.NON_NULL);\r\n    \r\n    \t\treturn mapper.writeValueAsBytes(object);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T deserializeObject(String jsonRepresentation,\r\n    \t\t\tClass&lt;T&gt; clazz) throws JsonParseException, JsonMappingException,\r\n    \t\t\tIOException {\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tObject obj = mapper.readValue(jsonRepresentation.getBytes(), clazz);\r\n    \r\n    \t\treturn clazz.cast(obj);\r\n    \t}\r\n    \r\n    \t\r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \tpublic static byte[] convertObjectToJsonBytesWithCustomSerializer(\r\n    \t\t\tObject object, JsonSerializer serializer, Class clazz)\r\n    \t\t\tthrows IOException {\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tSimpleModule sm = new SimpleModule();\r\n    \t\tsm.addSerializer(clazz, serializer);\r\n    \r\n    \t\tmapper.registerModule(sm);\r\n    \t\tmapper.setSerializationInclusion(Include.NON_NULL);\r\n    \r\n    \t\treturn mapper.writeValueAsBytes(object);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nTry creating a test just to serialize and deserialize the objec. create a  KeyProfileUserSummary object and try deserializing/serializing too see if jackson complains.\r\n\r\n\r\nA more easier way is to enable DEBUG logging and checking the log file, by default you don&#39;t get to see this kind of errors\r\n\r\nHope it helps.","title":"@RequestBody not working on Rest service","body":"<p>If I were to guess, jackson is failing in deserializing/serializing your object. Here is an util I made:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\n\nimport org.springframework.http.MediaType;\n\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class SerializeDeserializeUtil {\n\n    public static final MediaType APPLICATION_JSON_UTF8 = new MediaType(\n            MediaType.APPLICATION_JSON.getType(),\n            MediaType.APPLICATION_JSON.getSubtype(), Charset.forName(\"utf8\"));\n\n    public static byte[] convertObjectToJsonBytes(Object object)\n            throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.setSerializationInclusion(Include.NON_NULL);\n\n        return mapper.writeValueAsBytes(object);\n\n    }\n\n    public static &lt;T&gt; T deserializeObject(String jsonRepresentation,\n            Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException,\n            IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        Object obj = mapper.readValue(jsonRepresentation.getBytes(), clazz);\n\n        return clazz.cast(obj);\n    }\n\n\n    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public static byte[] convertObjectToJsonBytesWithCustomSerializer(\n            Object object, JsonSerializer serializer, Class clazz)\n            throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        SimpleModule sm = new SimpleModule();\n        sm.addSerializer(clazz, serializer);\n\n        mapper.registerModule(sm);\n        mapper.setSerializationInclusion(Include.NON_NULL);\n\n        return mapper.writeValueAsBytes(object);\n\n    }\n\n}\n</code></pre>\n\n<p>Try creating a test just to serialize and deserialize the objec. create a  KeyProfileUserSummary object and try deserializing/serializing too see if jackson complains.</p>\n\n<p>A more easier way is to enable DEBUG logging and checking the log file, by default you don't get to see this kind of errors</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457027726,"creation_date":1457027726,"answer_id":35779494,"question_id":35778628,"body_markdown":"Try this out.. might be useful for you..\r\n\r\n\r\n    $http({\r\n        method: &#39;POST&#39;,\r\n        url: &#39;http://localhost:8080/keyuser&#39;,\r\n        data: user,\r\n        headers: {\r\n            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n            &#39;Accept&#39;: &#39;application/json&#39;\r\n        }}).then(function(result) {\r\n               console.log(result);\r\n           }, function(error) {\r\n               console.log(error);\r\n           });","title":"@RequestBody not working on Rest service","body":"<p>Try this out.. might be useful for you..</p>\n\n<pre><code>$http({\n    method: 'POST',\n    url: 'http://localhost:8080/keyuser',\n    data: user,\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n    }}).then(function(result) {\n           console.log(result);\n       }, function(error) {\n           console.log(error);\n       });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412885,"reputation":21,"user_id":5533547,"display_name":"Nesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457028017,"creation_date":1457028017,"answer_id":35779600,"question_id":35778628,"body_markdown":"\r\nIf you add DEBUG logging for &quot;org.springframework.web&quot; org.springframework.web.servlet.DispatcherServlet should give you detailed information what causes the &quot;400 Bad Request&quot; error.\r\n\r\nDetails about Wildfly logging configuration can be found [here][1]\r\n\r\nBased on your KeyProfileUserSummary class i guess the problem is the UserRole object which ist just ``userRole=ROLE_USER`` in the example above. As it is an object it should be enclosd by curly braces and the property name must be set. e.g. something like\r\n\r\n    userRole = { name = &quot;ROLE_USER&quot;}\r\n\r\nIf it is an enum,  [this][2] answer might be helpful\r\n\r\n  [1]: https://docs.jboss.org/author/display/WFLY8/Logging+Configuration\r\n  [2]: https://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer","title":"@RequestBody not working on Rest service","body":"<p>If you add DEBUG logging for \"org.springframework.web\" org.springframework.web.servlet.DispatcherServlet should give you detailed information what causes the \"400 Bad Request\" error.</p>\n\n<p>Details about Wildfly logging configuration can be found <a href=\"https://docs.jboss.org/author/display/WFLY8/Logging+Configuration\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Based on your KeyProfileUserSummary class i guess the problem is the UserRole object which ist just <code>userRole=ROLE_USER</code> in the example above. As it is an object it should be enclosd by curly braces and the property name must be set. e.g. something like</p>\n\n<pre><code>userRole = { name = \"ROLE_USER\"}\n</code></pre>\n\n<p>If it is an enum,  <a href=\"https://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer\">this</a> answer might be helpful</p>\n"},{"tags":[],"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457087069,"creation_date":1457087069,"answer_id":35793573,"question_id":35778628,"body_markdown":"Ok so finally I found the solution.\r\n\r\nIn my KeyProfileUserSummary I only had one constructor that was taking a KeyProfileUser and set the attributes to the summary version:\r\n\r\n    public KeyProfileUserSummary(KeyProfileUser keyProfileUser) {\r\n      this.id = keyProfileUser.getId();\r\n      this.login = keyProfileUser.getLogin();\r\n      this.password = keyProfileUser.getPassword();\r\n      this.firstname = keyProfileUser.getPerson().getFirstname();\r\n      this.lastname = keyProfileUser.getPerson().getLastname();\r\n      this.userRole = keyProfileUser.getUserRole();\r\n    }\r\nAnd apparently, setting a **breakpoint in line 993 of the dispatchler servlet** (thanks to @Clemens Eberwein for the tip) I realised that when parsing from a JSON object, the Jackson parser **needs an empty constructor**! So adding it solved it and works perfectly.\r\n\r\nNote: for KeyProfileUser, it was working perfectly as we had the annotation @Entity for hibernate, and therefore the empty constructor was automatically created.","title":"@RequestBody not working on Rest service","body":"<p>Ok so finally I found the solution.</p>\n\n<p>In my KeyProfileUserSummary I only had one constructor that was taking a KeyProfileUser and set the attributes to the summary version:</p>\n\n<pre><code>public KeyProfileUserSummary(KeyProfileUser keyProfileUser) {\n  this.id = keyProfileUser.getId();\n  this.login = keyProfileUser.getLogin();\n  this.password = keyProfileUser.getPassword();\n  this.firstname = keyProfileUser.getPerson().getFirstname();\n  this.lastname = keyProfileUser.getPerson().getLastname();\n  this.userRole = keyProfileUser.getUserRole();\n}\n</code></pre>\n\n<p>And apparently, setting a <strong>breakpoint in line 993 of the dispatchler servlet</strong> (thanks to @Clemens Eberwein for the tip) I realised that when parsing from a JSON object, the Jackson parser <strong>needs an empty constructor</strong>! So adding it solved it and works perfectly.</p>\n\n<p>Note: for KeyProfileUser, it was working perfectly as we had the annotation @Entity for hibernate, and therefore the empty constructor was automatically created.</p>\n"},{"tags":[],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077268,"creation_date":1679077268,"answer_id":75770932,"question_id":35778628,"body_markdown":"I had a similar problem since our project was set up to read json in snake case instead of camel case","title":"@RequestBody not working on Rest service","body":"<p>I had a similar problem since our project was set up to read json in snake case instead of camel case</p>\n"}],"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15024,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35793573,"answer_count":5,"score":7,"last_activity_date":1679077268,"creation_date":1457025155,"question_id":35778628,"body_markdown":"I am developing a web application with AngularJS and WildFly using Spring also.\r\n\r\nMy problem is that I am going nuts because the annotation @requestBody appears to work wrong.\r\n\r\nThis is my service:\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/keyuser&quot;, method = RequestMethod.POST,\r\n      consumes = &quot;application/json&quot;)\r\n    public KeyProfileUserSummary updateEmployee(@RequestBody KeyProfileUserSummary keyUser) {\r\n    return null;\r\n    }\r\n\r\nAnd this is are the members of my object KeyProfileUserSummary:\r\n\r\n    private Integer id;\r\n    private String login;\r\n    private String password;\r\n    private String firstname;\r\n    private String lastname;\r\n    private UserRole userRole;\r\n\r\nI don&#39;t know what is going on but I have tested this service with other types of objects and it works perfectly, but when defining KeyProfileUserSummary it is not working, I get ERROR 400 BAD REQUEST. I have tested to set the @RequestBody to &quot;Object&quot; so at least I can see what is coming, and from my front end, I am getting the following:\r\n\r\n    {id=3, login=aa, password=a, firstname=Martin, lastname=M&#252;ller, userRole=ROLE_USER} \r\n\r\nUserRole is an Enum. Important to clearify that KeyProfileUserSummary is just a summary version of KeyProfileUser, but due to all the linked elements I get on the response, I decided to send this lighter class. Testing with KeyProfileUser worked perfectly, I get the JSON object on the Angular side and can send it back.\r\n\r\nOn the Angular side, I am not doing anything with the object. Just receive it on a list, and when pressing an edit button just send the element on the list back. This is the way I am sending it:\r\n\r\n    res = $http.post(&quot;url.../keyuser&quot;, user);\r\n\r\nThe thing is that I had everything working perfectly with KeyProfileUser, but as the database can get really huge and the reference are quite a lot, I decided to switch to this lighter class, but now I only get this ERROR 400 BAD REQUEST... And I am about to hang myself :P\r\n\r\nThanks for your help!","title":"@RequestBody not working on Rest service","body":"<p>I am developing a web application with AngularJS and WildFly using Spring also.</p>\n\n<p>My problem is that I am going nuts because the annotation @requestBody appears to work wrong.</p>\n\n<p>This is my service:</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/keyuser\", method = RequestMethod.POST,\n  consumes = \"application/json\")\npublic KeyProfileUserSummary updateEmployee(@RequestBody KeyProfileUserSummary keyUser) {\nreturn null;\n}\n</code></pre>\n\n<p>And this is are the members of my object KeyProfileUserSummary:</p>\n\n<pre><code>private Integer id;\nprivate String login;\nprivate String password;\nprivate String firstname;\nprivate String lastname;\nprivate UserRole userRole;\n</code></pre>\n\n<p>I don't know what is going on but I have tested this service with other types of objects and it works perfectly, but when defining KeyProfileUserSummary it is not working, I get ERROR 400 BAD REQUEST. I have tested to set the @RequestBody to \"Object\" so at least I can see what is coming, and from my front end, I am getting the following:</p>\n\n<pre><code>{id=3, login=aa, password=a, firstname=Martin, lastname=Müller, userRole=ROLE_USER} \n</code></pre>\n\n<p>UserRole is an Enum. Important to clearify that KeyProfileUserSummary is just a summary version of KeyProfileUser, but due to all the linked elements I get on the response, I decided to send this lighter class. Testing with KeyProfileUser worked perfectly, I get the JSON object on the Angular side and can send it back.</p>\n\n<p>On the Angular side, I am not doing anything with the object. Just receive it on a list, and when pressing an edit button just send the element on the list back. This is the way I am sending it:</p>\n\n<pre><code>res = $http.post(\"url.../keyuser\", user);\n</code></pre>\n\n<p>The thing is that I had everything working perfectly with KeyProfileUser, but as the database can get really huge and the reference are quite a lot, I decided to switch to this lighter class, but now I only get this ERROR 400 BAD REQUEST... And I am about to hang myself :P</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","apache-drill"],"answers":[{"tags":[],"owner":{"account_id":990819,"reputation":1234,"user_id":1153953,"accept_rate":75,"display_name":"Dzamo Norton"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1678902459,"creation_date":1678902459,"answer_id":75748385,"question_id":75687332,"body_markdown":"You can configure [the ports that Drillbits bind to][1] to avoid the port conflicts you encountered, but [not yet the IP addresses][2]. Another way to run a Drill cluster on a single machine is to use [the Docker Compose scripts in the Drill source repo][3].\r\n\r\n\r\n  [1]: https://drill.apache.org/docs/ports-used-by-drill/\r\n  [2]: https://issues.apache.org/jira/browse/DRILL-8409\r\n  [3]: https://github.com/apache/drill/tree/master/distribution/docker-cluster-mode","title":"Apache Drill: Multiple Drillbits on same server","body":"<p>You can configure <a href=\"https://drill.apache.org/docs/ports-used-by-drill/\" rel=\"nofollow noreferrer\">the ports that Drillbits bind to</a> to avoid the port conflicts you encountered, but <a href=\"https://issues.apache.org/jira/browse/DRILL-8409\" rel=\"nofollow noreferrer\">not yet the IP addresses</a>. Another way to run a Drill cluster on a single machine is to use <a href=\"https://github.com/apache/drill/tree/master/distribution/docker-cluster-mode\" rel=\"nofollow noreferrer\">the Docker Compose scripts in the Drill source repo</a>.</p>\n"}],"owner":{"account_id":9363679,"reputation":134,"user_id":6949270,"accept_rate":62,"display_name":"ztv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679077110,"creation_date":1678378805,"question_id":75687332,"body_markdown":"I am trying to setup a Drill cluster with multiple Drillbits locally on my computer.\r\n\r\nI have Zookeeper running with three nodes (`192.168.1.2:2181`, `192.168.1.3:2181`, `192.168.1.4:2181`).   \r\n\r\nI have 3 separate config directories containing each different `drill-env.sh` and `drill-override.conf`.   \r\nHere are the main contents of `dril-env.sh`: \r\n```shell\r\nexport DRILL_HOST_NAME=node1\r\nexport DRILL_IDENT_STRING=&quot;node1&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir1/&quot;}\r\n```\r\n```shell\r\nexport DRILL_HOST_NAME=node2\r\nexport DRILL_IDENT_STRING=&quot;node2&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir2/&quot;}\r\n```\r\n```shell\r\nexport DRILL_HOST_NAME=node3\r\nexport DRILL_IDENT_STRING=&quot;node3&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir3/&quot;}\r\n```\r\nand `drill-override.conf`:\r\n```\r\ndrill.exec: {\r\n  cluster-id: &quot;mycluster&quot;,\r\n  zk.connect: &quot;192.168.1.2:2181,192.168.1.3:2181,192.168.1.4:2181&quot;,\r\n}\r\n```\r\n\r\nAlso, I have added in `etc/hosts`:\r\n```\r\n192.168.1.2 node1\r\n192.168.1.3 node2\r\n192.168.1.4 node3\r\n```\r\n\r\nI start the Drillbits using \r\n```shell\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf1/ start\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf2/ start\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf3/ start\r\n```\r\n\r\nHowever, only the first Drillbit starts normally, the other ones fail with following exception:\r\n```\r\nException in thread &quot;main&quot; org.apache.drill.exec.exception.DrillbitStartupException: Failure during initial startup of Drillbit.\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:590)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:556)\r\n\tat org.apache.drill.exec.server.Drillbit.main(Drillbit.java:552)\r\nCaused by: org.apache.drill.common.exceptions.UserException: RESOURCE ERROR: Drillbit could not bind to port 31010.\r\n\r\nServer type: UserServer\r\n\r\n[Error Id: bb497859-bf3e-43b7-bad7-dfa295122068 ]\r\n\tat org.apache.drill.common.exceptions.UserException$Builder.build(UserException.java:688)\r\n\tat org.apache.drill.exec.rpc.BasicServer.bind(BasicServer.java:211)\r\n\tat org.apache.drill.exec.service.ServiceEngine.start(ServiceEngine.java:100)\r\n\tat org.apache.drill.exec.server.Drillbit.run(Drillbit.java:227)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:586)\r\n\t... 2 more\r\nCaused by: java.net.BindException: Address already in use\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n```\r\n\r\nAnyone know how I can fix this?\r\n\r\nIs it not pssible to bind a specific IP address to each Drillbit? \r\n\r\nI know that Zookeeper is not a problem since I can use it for my Spark cluster without problems and `zkServer.sh status` shows it&#39;s running.   \r\nI also tried `allow_loopback_address_binding: true`, but same result.   \r\nAlso, I know I could probably just use different ports for each Drillbit, but I&#39;d prefer a solution using the same ports.   \r\n\r\nUpdate:   \r\nApparently they are working on this issue and in the upcoming Drill version 1.21.1, it should be possible to bind the address to Drillbits (https://issues.apache.org/jira/browse/DRILL-8409)","title":"Apache Drill: Multiple Drillbits on same server","body":"<p>I am trying to setup a Drill cluster with multiple Drillbits locally on my computer.</p>\n<p>I have Zookeeper running with three nodes (<code>192.168.1.2:2181</code>, <code>192.168.1.3:2181</code>, <code>192.168.1.4:2181</code>).</p>\n<p>I have 3 separate config directories containing each different <code>drill-env.sh</code> and <code>drill-override.conf</code>.<br />\nHere are the main contents of <code>dril-env.sh</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node1\nexport DRILL_IDENT_STRING=&quot;node1&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir1/&quot;}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node2\nexport DRILL_IDENT_STRING=&quot;node2&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir2/&quot;}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node3\nexport DRILL_IDENT_STRING=&quot;node3&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir3/&quot;}\n</code></pre>\n<p>and <code>drill-override.conf</code>:</p>\n<pre><code>drill.exec: {\n  cluster-id: &quot;mycluster&quot;,\n  zk.connect: &quot;192.168.1.2:2181,192.168.1.3:2181,192.168.1.4:2181&quot;,\n}\n</code></pre>\n<p>Also, I have added in <code>etc/hosts</code>:</p>\n<pre><code>192.168.1.2 node1\n192.168.1.3 node2\n192.168.1.4 node3\n</code></pre>\n<p>I start the Drillbits using</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf1/ start\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf2/ start\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf3/ start\n</code></pre>\n<p>However, only the first Drillbit starts normally, the other ones fail with following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.drill.exec.exception.DrillbitStartupException: Failure during initial startup of Drillbit.\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:590)\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:556)\n    at org.apache.drill.exec.server.Drillbit.main(Drillbit.java:552)\nCaused by: org.apache.drill.common.exceptions.UserException: RESOURCE ERROR: Drillbit could not bind to port 31010.\n\nServer type: UserServer\n\n[Error Id: bb497859-bf3e-43b7-bad7-dfa295122068 ]\n    at org.apache.drill.common.exceptions.UserException$Builder.build(UserException.java:688)\n    at org.apache.drill.exec.rpc.BasicServer.bind(BasicServer.java:211)\n    at org.apache.drill.exec.service.ServiceEngine.start(ServiceEngine.java:100)\n    at org.apache.drill.exec.server.Drillbit.run(Drillbit.java:227)\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:586)\n    ... 2 more\nCaused by: java.net.BindException: Address already in use\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n</code></pre>\n<p>Anyone know how I can fix this?</p>\n<p>Is it not pssible to bind a specific IP address to each Drillbit?</p>\n<p>I know that Zookeeper is not a problem since I can use it for my Spark cluster without problems and <code>zkServer.sh status</code> shows it's running.<br />\nI also tried <code>allow_loopback_address_binding: true</code>, but same result.<br />\nAlso, I know I could probably just use different ports for each Drillbit, but I'd prefer a solution using the same ports.</p>\n<p>Update:<br />\nApparently they are working on this issue and in the upcoming Drill version 1.21.1, it should be possible to bind the address to Drillbits (<a href=\"https://issues.apache.org/jira/browse/DRILL-8409\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/DRILL-8409</a>)</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676492461,"post_id":75463457,"comment_id":133150056,"body_markdown":"For Chrome you check for the existence of .crdownload extension files which would indicate a partial download.  Maybe check this thread: https://stackoverflow.com/questions/48263317/selenium-python-waiting-for-a-download-process-to-complete-using-chrome-web/51575537#51575537","body":"For Chrome you check for the existence of .crdownload extension files which would indicate a partial download.  Maybe check this thread: <a href=\"https://stackoverflow.com/questions/48263317/selenium-python-waiting-for-a-download-process-to-complete-using-chrome-web/51575537#51575537\" title=\"selenium python waiting for a download process to complete using chrome web\">stackoverflow.com/questions/48263317/&hellip;</a>"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676535693,"post_id":75463457,"comment_id":133157308,"body_markdown":"Check this one https://stackoverflow.com/questions/61707601/how-to-verify-whether-file-downloading-is-completed-before-closing-the-web-drive/61725884#61725884","body":"Check this one <a href=\"https://stackoverflow.com/questions/61707601/how-to-verify-whether-file-downloading-is-completed-before-closing-the-web-drive/61725884#61725884\" title=\"how to verify whether file downloading is completed before closing the web drive\">stackoverflow.com/questions/61707601/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679076976,"creation_date":1679058919,"answer_id":75768024,"question_id":75463457,"body_markdown":" \r\nYou can do so using a FluentWait ,just change downloadFolderPath value to your downloads folder and Replace PrefixofFilename value\r\n\r\n  \r\n\r\n     String downloadFolderPath = &quot;/Users/user/Downloads/&quot;;\r\n            FluentWait&lt;String&gt; wait = new FluentWait&lt;&gt;(downloadFolderPath)\r\n                    .withTimeout(Duration.ofSeconds(60))\r\n                    .pollingEvery(Duration.ofMillis(500));\r\n            wait.until(path -&gt; {\r\n                File[] listFiles = new File(path).listFiles();\r\n    \r\n                for (int i = 0; i &lt; Objects.requireNonNull(listFiles).length; i++) {\r\n    \r\n                    if (listFiles[i].isFile()) {\r\n                        String fileName = listFiles[i].getName();\r\n                        if (fileName.startsWith(&quot;PrefixofFilename&quot;)\r\n                                &amp;&amp; fileName.endsWith(&quot;.xls&quot;)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            });","title":"How to verify whether file downloading is completed before closing the web driver in java selenium?","body":"<p>You can do so using a FluentWait ,just change downloadFolderPath value to your downloads folder and Replace PrefixofFilename value</p>\n<pre><code> String downloadFolderPath = &quot;/Users/user/Downloads/&quot;;\n        FluentWait&lt;String&gt; wait = new FluentWait&lt;&gt;(downloadFolderPath)\n                .withTimeout(Duration.ofSeconds(60))\n                .pollingEvery(Duration.ofMillis(500));\n        wait.until(path -&gt; {\n            File[] listFiles = new File(path).listFiles();\n\n            for (int i = 0; i &lt; Objects.requireNonNull(listFiles).length; i++) {\n\n                if (listFiles[i].isFile()) {\n                    String fileName = listFiles[i].getName();\n                    if (fileName.startsWith(&quot;PrefixofFilename&quot;)\n                            &amp;&amp; fileName.endsWith(&quot;.xls&quot;)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n</code></pre>\n"}],"owner":{"account_id":20723810,"reputation":35,"user_id":15217522,"display_name":"mps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679076976,"creation_date":1676482231,"question_id":75463457,"body_markdown":"I am trying to download a file using java selenium. The download button is clicked and it takes time to initiate and complete the download from the website (time of download depends on size of file and speed of net).\r\n\r\nHowever, the next code is executed immediately after the code `driver.findElement(By.xpath(&quot;//*[@id=&#39;downloadReport&#39;]/div&quot;)).click();` without waiting for download to complete.\r\n\r\nThe file name is dynamic (different file name based on search data extracted from excel sheet SearchData.xls\r\n\r\nAny help is highly appreciated.\r\n\r\nThe code is as under:-\r\n\r\n    package Basic;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.Calendar;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.edge.EdgeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class sftest2 {\r\n    \r\n    public static void main(String[] args) throws IOException, InterruptedException, AWTException {\r\n    System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Installer\\\\msedgedriver.exe&quot;);\r\n    File file =    new File(&quot;D:\\\\SearchData\\\\SearchData.xls&quot;);\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    HSSFWorkbook wb=new HSSFWorkbook(inputStream);\r\n    HSSFSheet sheet=wb.getSheet(&quot;SF_NSF&quot;);\r\n    int rowCount=sheet.getLastRowNum()-sheet.getFirstRowNum();\r\n    WebDriver driver = new EdgeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://******************&quot;);\r\n    driver.navigate().to(&quot;https://******************************&quot;);\r\n    for(int i=1;i&lt;=rowCount;i++) {\r\n    driver.findElement(By.name(&quot;cAccount&quot;)).sendKeys(&quot;Search&quot;);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;abcSearchAction&#39;]/div[1]/div[3]/div[4]/img&quot;)).click();\r\n    WebElement bName=driver.findElement(By.id(&quot;bName&quot;));\r\n    borrowerName.sendKeys(sheet.getRow(i).getCell(0).getStringCellValue());\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;search-button&#39;]/ul/li[1]/div/input&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.navigate().refresh();\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\r\n    wait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&#39;load_projectTable\\&#39;]&quot;)));\r\n    if(driver.getPageSource().contains(&quot;View 1 -&quot;))\r\n    {\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;downloadReport&#39;]/div&quot;)).click();\r\n    Thread.sleep(50000); // Doesnot want to wait for specified time, the next code should execute immediately after complete download of file called through above code\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;footer-container&#39;]/div[3]/a&quot;)).click();\r\n    }\r\n    \r\n    else\r\n    {\r\n    //driver.findElement(By.xpath(&quot;//*[@id=&#39;three-icons&#39;]/ul/li[3]/a/div&quot;)).click();\r\n    Calendar cal = Calendar.getInstance();\r\n    java.util.Date time = cal.getTime();\r\n    String timestamp = time.toString().replace(&quot;:&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(time);\r\n    System.out.println(timestamp);\r\n    TakesScreenshot ts = (TakesScreenshot)driver;\r\n    File src=ts.getScreenshotAs(OutputType.FILE);\r\n    File trg=new File(&quot;.\\\\screenshots\\\\SF_1Cr_B_Search_&quot;+timestamp+&quot;.png&quot;);\r\n    FileUtils.copyFile(src,trg);\r\n    //Thread.sleep(1000);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;footer-container&#39;]/div[3]/a&quot;)).click();\r\n    }\r\n    }\r\n    //Close the workbook\r\n    wb.close();\r\n    //Quit the driver\r\n    driver.quit();        \r\n    }\r\n    }","title":"How to verify whether file downloading is completed before closing the web driver in java selenium?","body":"<p>I am trying to download a file using java selenium. The download button is clicked and it takes time to initiate and complete the download from the website (time of download depends on size of file and speed of net).</p>\n<p>However, the next code is executed immediately after the code <code>driver.findElement(By.xpath(&quot;//*[@id='downloadReport']/div&quot;)).click();</code> without waiting for download to complete.</p>\n<p>The file name is dynamic (different file name based on search data extracted from excel sheet SearchData.xls</p>\n<p>Any help is highly appreciated.</p>\n<p>The code is as under:-</p>\n<pre><code>package Basic;\n\nimport java.awt.AWTException;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Calendar;\n\nimport org.apache.commons.io.FileUtils;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.edge.EdgeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class sftest2 {\n\npublic static void main(String[] args) throws IOException, InterruptedException, AWTException {\nSystem.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Installer\\\\msedgedriver.exe&quot;);\nFile file =    new File(&quot;D:\\\\SearchData\\\\SearchData.xls&quot;);\nFileInputStream inputStream = new FileInputStream(file);\nHSSFWorkbook wb=new HSSFWorkbook(inputStream);\nHSSFSheet sheet=wb.getSheet(&quot;SF_NSF&quot;);\nint rowCount=sheet.getLastRowNum()-sheet.getFirstRowNum();\nWebDriver driver = new EdgeDriver();\ndriver.manage().window().maximize();\ndriver.get(&quot;https://******************&quot;);\ndriver.navigate().to(&quot;https://******************************&quot;);\nfor(int i=1;i&lt;=rowCount;i++) {\ndriver.findElement(By.name(&quot;cAccount&quot;)).sendKeys(&quot;Search&quot;);\ndriver.findElement(By.xpath(&quot;//*[@id='abcSearchAction']/div[1]/div[3]/div[4]/img&quot;)).click();\nWebElement bName=driver.findElement(By.id(&quot;bName&quot;));\nborrowerName.sendKeys(sheet.getRow(i).getCell(0).getStringCellValue());\ndriver.findElement(By.xpath(&quot;//*[@id='search-button']/ul/li[1]/div/input&quot;)).click();\nThread.sleep(2000);\ndriver.navigate().refresh();\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\nwait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=\\'load_projectTable\\']&quot;)));\nif(driver.getPageSource().contains(&quot;View 1 -&quot;))\n{\ndriver.findElement(By.xpath(&quot;//*[@id='downloadReport']/div&quot;)).click();\nThread.sleep(50000); // Doesnot want to wait for specified time, the next code should execute immediately after complete download of file called through above code\ndriver.findElement(By.xpath(&quot;//*[@id='footer-container']/div[3]/a&quot;)).click();\n}\n\nelse\n{\n//driver.findElement(By.xpath(&quot;//*[@id='three-icons']/ul/li[3]/a/div&quot;)).click();\nCalendar cal = Calendar.getInstance();\njava.util.Date time = cal.getTime();\nString timestamp = time.toString().replace(&quot;:&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\nSystem.out.println(time);\nSystem.out.println(timestamp);\nTakesScreenshot ts = (TakesScreenshot)driver;\nFile src=ts.getScreenshotAs(OutputType.FILE);\nFile trg=new File(&quot;.\\\\screenshots\\\\SF_1Cr_B_Search_&quot;+timestamp+&quot;.png&quot;);\nFileUtils.copyFile(src,trg);\n//Thread.sleep(1000);\ndriver.findElement(By.xpath(&quot;//*[@id='footer-container']/div[3]/a&quot;)).click();\n}\n}\n//Close the workbook\nwb.close();\n//Quit the driver\ndriver.quit();        \n}\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678855592,"post_id":75740619,"comment_id":133612444,"body_markdown":"I&#39;d start with `mvn dependency:tree`","body":"I&#39;d start with <code>mvn dependency:tree</code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678855765,"post_id":75740619,"comment_id":133612461,"body_markdown":"You have two different .jar versions configured into whatever it is that requires one of them, it&#39;s being told to load both when only one is required.! Remove one of those jars.","body":"You have two different .jar versions configured into whatever it is that requires one of them, it&#39;s being told to load both when only one is required.! Remove one of those jars."},{"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"score":0,"creation_date":1679027154,"post_id":75740619,"comment_id":133650809,"body_markdown":"Thanks tgdavies but I don&#39;t have maven installed.","body":"Thanks tgdavies but I don&#39;t have maven installed."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679044297,"post_id":75740619,"comment_id":133653783,"body_markdown":"Could you please try to remove this line and see if it helps? implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)","body":"Could you please try to remove this line and see if it helps? implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-&zwnj;&#8203;json:1.5.0&quot;)"},{"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"score":0,"creation_date":1679064741,"post_id":75740619,"comment_id":133659112,"body_markdown":"Thanks @zomega, I removed that but still have the same exception.","body":"Thanks @zomega, I removed that but still have the same exception."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679048372,"creation_date":1679048372,"answer_id":75766421,"question_id":75740619,"body_markdown":"The reported conflict is between two versions of Kotlin standard library: `kotlin-stdlib-1.8.10` and `kotlin-stdlib-jdk8-1.7.201`.\r\n\r\nAs [suggested here][1], try and replace the oldest one with:\r\n\r\n``` java\r\n// Align versions of all Kotlin components\r\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\r\n```\r\n\r\nBut: if you did not even include explicitly these dependencies, then *excluding* `kotlin-stdlib-jdk8` might be enough.  \r\n\r\nAs in this answer, add the following in `build.gradle` (`:app`)\r\n\r\n``` java\r\nconfigurations.implementation {\r\n  exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n}\r\n```\r\n  [1]: https://stackoverflow.com/a/75664860/6309","title":"How do I track down the cause of this duplicate class Exception?","body":"<p>The reported conflict is between two versions of Kotlin standard library: <code>kotlin-stdlib-1.8.10</code> and <code>kotlin-stdlib-jdk8-1.7.201</code>.</p>\n<p>As <a href=\"https://stackoverflow.com/a/75664860/6309\">suggested here</a>, try and replace the oldest one with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Align versions of all Kotlin components\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\n</code></pre>\n<p>But: if you did not even include explicitly these dependencies, then <em>excluding</em> <code>kotlin-stdlib-jdk8</code> might be enough.</p>\n<p>As in this answer, add the following in <code>build.gradle</code> (<code>:app</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>configurations.implementation {\n  exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n}\n</code></pre>\n"}],"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75766421,"answer_count":1,"score":3,"last_activity_date":1679076210,"creation_date":1678855158,"question_id":75740619,"body_markdown":"I&#39;m building my first Android app in Android Studio and a little lost with this issue.\r\n\r\nHere&#39;s my Module build.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.google.devtools.ksp&#39; version &quot;1.7.21-1.0.8&quot;\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &#39;1.7.20&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.myApp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myApp&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.activity:activity-compose:1.6.1&#39;\r\n    implementation &quot;androidx.compose.material:material:$compose_material_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material3:material3:1.0.1&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.0&#39;\r\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n    // Room\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    // Retrofit\r\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\r\n    // Retrofit with Scalar Converter\r\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.9.0&quot;\r\n    // Retrofit with Kotlin serialization Converter\r\n    implementation &quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:0.8.0&quot;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.11&#39;\r\n\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\r\n}\r\n```\r\n\r\n\r\n\r\nHere&#39;s the stack:\r\n\r\n    Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.io.path.DirectoryEntriesReader found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorBuilder found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.LinkFollowing found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathNode found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalkKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathWalkOption found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)","title":"How do I track down the cause of this duplicate class Exception?","body":"<p>I'm building my first Android app in Android Studio and a little lost with this issue.</p>\n<p>Here's my Module build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.devtools.ksp' version &quot;1.7.21-1.0.8&quot;\n    id 'org.jetbrains.kotlin.plugin.serialization' version '1.7.20'\n}\n\nandroid {\n    namespace 'com.myApp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.myApp&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.activity:activity-compose:1.6.1'\n    implementation &quot;androidx.compose.material:material:$compose_material_version&quot;\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material3:material3:1.0.1'\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-compose:2.6.0'\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n    // Room\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    testImplementation 'junit:junit:4.13.2'\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    // Retrofit\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\n    // Retrofit with Scalar Converter\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.9.0&quot;\n    // Retrofit with Kotlin serialization Converter\n    implementation &quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:0.8.0&quot;\n    implementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.11'\n\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\n}\n</code></pre>\n<p>Here's the stack:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.LinkFollowing found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathNode found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathWalkOption found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\n</code></pre>\n"},{"tags":["java","batch-file"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679076107,"creation_date":1679075431,"answer_id":75770689,"question_id":75770488,"body_markdown":"Well the short answer is to clean the input being sent to the batch script.  Effectively this means the command line parameters.  For example,\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;runBatch.bat&quot;)\r\n\r\nIf you don&#39;t pass anything to the batch file that is entirely safe because there is nothing the user could manipulate that would make you do something you didn&#39;t intend.  This is assuming the hacker can&#39;t swap out the batch script you run, but that&#39;s attacking something else in your environment  other than your Java software (ie OS, file shares, file permissions, etc).\r\n\r\nThis all depends on what command line parameters you are sending to the batch script.  \r\n\r\n    Process p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, arg1, arg2 });\r\n\r\nIf arg1 and arg2 could be populated from user input then you&#39;ll need to clean them.  Mostly, I&#39;d be keen to focus of any file paths they could try and mess with.  For example, if you wanted to have them provide information about certain file paths, but that file path shouldn&#39;t escape a root directory then you need to contain the resulting path to that directory.\r\n\r\n```\r\n   File rootDir = new File(&quot;...&quot;)\r\n   File arg1 = new File( userInput )\r\n   File arg2 = new File( userInput )\r\n   \r\n   if( isWithin( rootDir, arg1 ) &amp;&amp; isWithin( rootDir, arg2 ) ) {\r\n      Runtime.getRuntime().exec( new String[] { &quot;runBatch.bat&quot;, arg1, arg2 } )\r\n   }\r\n\r\npublic boolean isWithn( File rootDir, File file ) {\r\n   return arg1. getCanonicalPath().startsWith( rootDir. getCanonicalPath() );\r\n}\r\n```\r\n\r\nI would also make sure you didn&#39;t receive anything like a pipe or input redirection from the input as well.  And I&#39;d surround each argument in double quotes.  Anything that could trigger another executable you weren&#39;t expecting to run.\r\n\r\n```\r\npublic String escapingParameter(String arg) {\r\n    return &#39;&quot;&#39; + arg.replaceAll( &quot;[|&lt;&gt;]&quot;, &quot;&quot; ) + &#39;&quot;&#39;;\r\n}\r\n...\r\n\r\nProcess p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, \r\n              escapingParameter( arg1 ), \r\n              escapingParameter( arg2 ) \r\n            });\r\n\r\n```\r\n\r\nBeyond that you just need to sanity check other parameters to make sure they are what you expect.","title":"Run a batch file from Java application","body":"<p>Well the short answer is to clean the input being sent to the batch script.  Effectively this means the command line parameters.  For example,</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;runBatch.bat&quot;)\n</code></pre>\n<p>If you don't pass anything to the batch file that is entirely safe because there is nothing the user could manipulate that would make you do something you didn't intend.  This is assuming the hacker can't swap out the batch script you run, but that's attacking something else in your environment  other than your Java software (ie OS, file shares, file permissions, etc).</p>\n<p>This all depends on what command line parameters you are sending to the batch script.</p>\n<pre><code>Process p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, arg1, arg2 });\n</code></pre>\n<p>If arg1 and arg2 could be populated from user input then you'll need to clean them.  Mostly, I'd be keen to focus of any file paths they could try and mess with.  For example, if you wanted to have them provide information about certain file paths, but that file path shouldn't escape a root directory then you need to contain the resulting path to that directory.</p>\n<pre><code>   File rootDir = new File(&quot;...&quot;)\n   File arg1 = new File( userInput )\n   File arg2 = new File( userInput )\n   \n   if( isWithin( rootDir, arg1 ) &amp;&amp; isWithin( rootDir, arg2 ) ) {\n      Runtime.getRuntime().exec( new String[] { &quot;runBatch.bat&quot;, arg1, arg2 } )\n   }\n\npublic boolean isWithn( File rootDir, File file ) {\n   return arg1. getCanonicalPath().startsWith( rootDir. getCanonicalPath() );\n}\n</code></pre>\n<p>I would also make sure you didn't receive anything like a pipe or input redirection from the input as well.  And I'd surround each argument in double quotes.  Anything that could trigger another executable you weren't expecting to run.</p>\n<pre><code>public String escapingParameter(String arg) {\n    return '&quot;' + arg.replaceAll( &quot;[|&lt;&gt;]&quot;, &quot;&quot; ) + '&quot;';\n}\n...\n\nProcess p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, \n              escapingParameter( arg1 ), \n              escapingParameter( arg2 ) \n            });\n\n</code></pre>\n<p>Beyond that you just need to sanity check other parameters to make sure they are what you expect.</p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1679082028,"accepted_answer_id":75770689,"answer_count":1,"score":0,"last_activity_date":1679076107,"creation_date":1679073933,"question_id":75770488,"body_markdown":"I am trying to run a .bat file from my Java application, but I am worried about the command line injection or any other possible attacks that might arise if I run a .bat using a Java application. Is there a secure way that to run a .bat file using a Java application?","title":"Run a batch file from Java application","body":"<p>I am trying to run a .bat file from my Java application, but I am worried about the command line injection or any other possible attacks that might arise if I run a .bat using a Java application. Is there a secure way that to run a .bat file using a Java application?</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679002250,"post_id":75761737,"comment_id":133647494,"body_markdown":"What have you tried, and where are you stuck?","body":"What have you tried, and where are you stuck?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1679002475,"post_id":75761737,"comment_id":133647549,"body_markdown":"`firstMap.keySet().retainAll(secondMap.keySet());` removes from `firstMap` keys not present in `secondMap` (assuming your map can be modified).","body":"<code>firstMap.keySet().retainAll(secondMap.keySet());</code> removes from <code>firstMap</code> keys not present in <code>secondMap</code> (assuming your map can be modified)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679075897,"creation_date":1679006964,"answer_id":75762300,"question_id":75761737,"body_markdown":"# Use a special `Set` of keys from both `Map` objects\r\n\r\nThe solution applies to any modifiable `Map` class, not just the [`TreeMap`][1] class you mention.\r\n\r\nAs [commented by Pshemo][2], your can do this by way of &#128073; **a set of keys of each map**.\r\n\r\nFirst set up some sample data. We make a modifiable map `x` by using `Map.of` literals syntax for convenience. \r\n\r\n```java\r\nMap &lt; String, String &gt; x =\r\n        new HashMap &lt;&gt;(\r\n                Map.of(\r\n                        &quot;2022&quot; , &quot;11&quot; ,\r\n                        &quot;2023&quot; , &quot;22&quot;\r\n                )\r\n        );\r\n\r\nMap &lt; String, String &gt; y =\r\n        Map.of(\r\n                &quot;2022&quot; , &quot;33&quot;\r\n        );\r\n```\r\n\r\nGet a view on the keys of map `x` as a set. Then remove any entries in that map where the key is not present in a second set, a set of keys from the second map.\r\n\r\n    x.keySet().retainAll( y.keySet() );\r\n\r\nThat call to [`Map::keySet`][3] returns a [`Set`][4] view of the keys contained in the map. **That set is special**, in that it is connected to the map from which it came. To quote the Javadoc:\r\n\r\n&gt;The set supports element removal, which removes the corresponding mapping from the map\r\n\r\nDump to console the before and after state of our map `x`. \r\n\r\n```java\r\nSystem.out.println( &quot;x = &quot; + x );\r\nx.keySet().retainAll( y.keySet() );\r\nSystem.out.println( &quot;x = &quot; + x );\r\n```\r\n\r\nSee this [code run live at Ideone.com][5].\r\n\r\n```none\r\nx = {2023=22, 2022=11}\r\nx = {2022=11}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, if that first part of your data is meant to be a calendar year, you could make use of the `java.time.Year` class. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html\r\n  [2]: https://stackoverflow.com/questions/75761737/how-to-make-two-treemap-with-same-keys-java#comment133647549_75761737\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\r\n  [5]: https://ideone.com/7fR8gc","title":"How to make two Java maps with same keys, removing entries from the first for keys not present in the second","body":"<h1>Use a special <code>Set</code> of keys from both <code>Map</code> objects</h1>\n<p>The solution applies to any modifiable <code>Map</code> class, not just the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> class you mention.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/75761737/how-to-make-two-treemap-with-same-keys-java#comment133647549_75761737\">commented by Pshemo</a>, your can do this by way of 👉 <strong>a set of keys of each map</strong>.</p>\n<p>First set up some sample data. We make a modifiable map <code>x</code> by using <code>Map.of</code> literals syntax for convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String, String &gt; x =\n        new HashMap &lt;&gt;(\n                Map.of(\n                        &quot;2022&quot; , &quot;11&quot; ,\n                        &quot;2023&quot; , &quot;22&quot;\n                )\n        );\n\nMap &lt; String, String &gt; y =\n        Map.of(\n                &quot;2022&quot; , &quot;33&quot;\n        );\n</code></pre>\n<p>Get a view on the keys of map <code>x</code> as a set. Then remove any entries in that map where the key is not present in a second set, a set of keys from the second map.</p>\n<pre><code>x.keySet().retainAll( y.keySet() );\n</code></pre>\n<p>That call to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\" rel=\"nofollow noreferrer\"><code>Map::keySet</code></a> returns a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> view of the keys contained in the map. <strong>That set is special</strong>, in that it is connected to the map from which it came. To quote the Javadoc:</p>\n<blockquote>\n<p>The set supports element removal, which removes the corresponding mapping from the map</p>\n</blockquote>\n<p>Dump to console the before and after state of our map <code>x</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;x = &quot; + x );\nx.keySet().retainAll( y.keySet() );\nSystem.out.println( &quot;x = &quot; + x );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/7fR8gc\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>x = {2023=22, 2022=11}\nx = {2022=11}\n</code></pre>\n<hr />\n<p>By the way, if that first part of your data is meant to be a calendar year, you could make use of the <code>java.time.Year</code> class.</p>\n"}],"owner":{"account_id":22071120,"reputation":45,"user_id":16332082,"display_name":"Nocturnal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75762300,"answer_count":1,"score":1,"last_activity_date":1679075897,"creation_date":1679001644,"question_id":75761737,"body_markdown":"I have two `TreeMap` like,\r\n\r\n    fisrtMap{\r\n    &quot;2022&quot;: &quot;11&quot;,\r\n    &quot;2023&quot;: &quot;22&quot;\r\n    }\r\n\r\n    secondMap{\r\n    &quot;2022&quot;: &quot;33&quot;\r\n    }\r\n\r\nI want to make the `firstMap` like, \r\n\r\n    fisrtMap{\r\n    &quot;2022&quot;: &quot;11&quot;\r\n    }\r\n\r\nI mean, I need to remove uncommon keys from maps.\r\n","title":"How to make two Java maps with same keys, removing entries from the first for keys not present in the second","body":"<p>I have two <code>TreeMap</code> like,</p>\n<pre><code>fisrtMap{\n&quot;2022&quot;: &quot;11&quot;,\n&quot;2023&quot;: &quot;22&quot;\n}\n\nsecondMap{\n&quot;2022&quot;: &quot;33&quot;\n}\n</code></pre>\n<p>I want to make the <code>firstMap</code> like,</p>\n<pre><code>fisrtMap{\n&quot;2022&quot;: &quot;11&quot;\n}\n</code></pre>\n<p>I mean, I need to remove uncommon keys from maps.</p>\n"},{"tags":["java","javafx","netbeans","java-17","netbeans-13"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650396270,"post_id":71928637,"comment_id":127104149,"body_markdown":"Edit the question to describe what you did or at least link to a resource that describes it.  Provide full details of your environment (version info for: IDE, JavaFX, JDK, OS).  Provide a [mcve] so the error can be replicated by copy and paste without change or addition.  Provide context on why you are trying to do this and what you expect the output to be.","body":"Edit the question to describe what you did or at least link to a resource that describes it.  Provide full details of your environment (version info for: IDE, JavaFX, JDK, OS).  Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so the error can be replicated by copy and paste without change or addition.  Provide context on why you are trying to do this and what you expect the output to be."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650397483,"post_id":71928637,"comment_id":127104517,"body_markdown":"Please don&#39;t post duplicates of your own question.","body":"Please don&#39;t post duplicates of your own question."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1650404283,"post_id":71928637,"comment_id":127106539,"body_markdown":"I reopened your question, but there is no need for personal attacks.","body":"I reopened your question, but there is no need for personal attacks."},{"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"score":0,"creation_date":1650407596,"post_id":71928637,"comment_id":127107330,"body_markdown":"@jewelsea Absoloutely not personal attack/s. Just stating my opinion about your actions. \nUpdated my question with more information that you&#39;ve required.","body":"@jewelsea Absoloutely not personal attack/s. Just stating my opinion about your actions.  Updated my question with more information that you&#39;ve required."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650410497,"creation_date":1650408932,"answer_id":71932205,"question_id":71928637,"body_markdown":"What you are trying to do is simply not going to work in the way you are trying to do it:\r\n\r\n 1. The NetBeans Package as EXE facility is (currently) obsolete.  \r\n\r\n 2. It will not work with modern Java and JavaFX versions.  \r\n\r\n 3. It uses JavaScript from the JDK which was removed from the JDK in [JDK 15](https://openjdk.java.net/jeps/372).  \r\n\r\n 4. It uses the [javafxpackager tool and ant javafx tasks](https://openjdk.java.net/jeps/311) which no longer exist in the JDK and were replaced by [jpackage](https://openjdk.java.net/jeps/392) in JDK 16.\r\n\r\n 5. It relies on JavaFX being packaged in one large jar on the classpath, which is an unsupported execution configuration since [Java 11](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf) when JavaFX was removed from the Oracle JDK distribution and distributed as a set of modules.\r\n\r\n 6. It relies on versions of 3rd party Wix and InnoSetup software that are now obsolete.\r\n\r\nThe [documentation for the NetBeans export to EXE feature][1] states:\r\n\r\n&gt; This tutorial needs a review. You can open a JIRA issue, or edit it in GitHub following these contribution guidelines.\r\n\r\nThe reason it needs a review is that the feature will not work as currently implemented in NetBeans for recent Java and JavaFX versions.  It may work for obsolete Java 8 versions from Oracle, if you can get a hold of the compatible 3rd party software to support its usage.  You would likely need both your app to be written to use Oracle Java 8 and the IDE and application build process to run under Oracle Java 8 (which might not be possible for recent NetBeans versions).\r\n\r\nFor alternatives, study the [packaging resources in the JavaFX tag][2].\r\n\r\n  [1]: https://netbeans.apache.org/kb/docs/java/native_pkg.html\r\n  [2]: https://stackoverflow.com/tags/javafx/info","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>What you are trying to do is simply not going to work in the way you are trying to do it:</p>\n<ol>\n<li><p>The NetBeans Package as EXE facility is (currently) obsolete.</p>\n</li>\n<li><p>It will not work with modern Java and JavaFX versions.</p>\n</li>\n<li><p>It uses JavaScript from the JDK which was removed from the JDK in <a href=\"https://openjdk.java.net/jeps/372\" rel=\"noreferrer\">JDK 15</a>.</p>\n</li>\n<li><p>It uses the <a href=\"https://openjdk.java.net/jeps/311\" rel=\"noreferrer\">javafxpackager tool and ant javafx tasks</a> which no longer exist in the JDK and were replaced by <a href=\"https://openjdk.java.net/jeps/392\" rel=\"noreferrer\">jpackage</a> in JDK 16.</p>\n</li>\n<li><p>It relies on JavaFX being packaged in one large jar on the classpath, which is an unsupported execution configuration since <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"noreferrer\">Java 11</a> when JavaFX was removed from the Oracle JDK distribution and distributed as a set of modules.</p>\n</li>\n<li><p>It relies on versions of 3rd party Wix and InnoSetup software that are now obsolete.</p>\n</li>\n</ol>\n<p>The <a href=\"https://netbeans.apache.org/kb/docs/java/native_pkg.html\" rel=\"noreferrer\">documentation for the NetBeans export to EXE feature</a> states:</p>\n<blockquote>\n<p>This tutorial needs a review. You can open a JIRA issue, or edit it in GitHub following these contribution guidelines.</p>\n</blockquote>\n<p>The reason it needs a review is that the feature will not work as currently implemented in NetBeans for recent Java and JavaFX versions.  It may work for obsolete Java 8 versions from Oracle, if you can get a hold of the compatible 3rd party software to support its usage.  You would likely need both your app to be written to use Oracle Java 8 and the IDE and application build process to run under Oracle Java 8 (which might not be possible for recent NetBeans versions).</p>\n<p>For alternatives, study the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging resources in the JavaFX tag</a>.</p>\n"},{"tags":[],"owner":{"account_id":17697214,"reputation":59,"user_id":12847681,"display_name":"Hassan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679074774,"creation_date":1679074774,"answer_id":75770608,"question_id":71928637,"body_markdown":"I faced the same problem when trying to run a project I built using Java 8 with Java 19 . \r\n\r\nWhat you can do is **download Java 8** and add it to your Netbeans as a new Java Platform, it will have JavaFX packages present and you wont need to set up JavaFX libs separately. \r\n\r\nYou can Download the Java 8 JDK from https://www.azul.com/downloads/ \\\r\nin the Java package selection chose **JDK FX**\r\n\r\n\r\n  ","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>I faced the same problem when trying to run a project I built using Java 8 with Java 19 .</p>\n<p>What you can do is <strong>download Java 8</strong> and add it to your Netbeans as a new Java Platform, it will have JavaFX packages present and you wont need to set up JavaFX libs separately.</p>\n<p>You can Download the Java 8 JDK from <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/</a> <br />\nin the Java package selection chose <strong>JDK FX</strong></p>\n"}],"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71932205,"answer_count":2,"score":5,"last_activity_date":1679074774,"creation_date":1650387654,"question_id":71928637,"body_markdown":"I&#39;ve came across this problem while trying to generate .exe file by using Netbeans 13.\r\n(Package as -&gt; exe installer) \r\n\r\nFull error:\r\n\r\n    C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:428: The following error occurred while executing this line:\r\n    C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:436: Unable to create javax script engine for javascript\r\n    BUILD FAILED (total time: 4 seconds)\r\n\r\nDoes anyone know what seems to be problem here and how to fix it?\r\n\r\nUPDATE: \r\n\r\nOS: Windows 10\r\n\r\nJavaFX: javafx-sdk-17.0.2\r\n\r\nJDK: jdk-17.0.2\r\n\r\nWhat am I expecting? \r\n\r\n - I am expecting .exe file \r\n\r\nThere&#39;s no need really for posting code because building project and running project itself goes smoothly (without the errors). The problem occurs after trying to generate .exe installer file by using Package As -&gt; EXE Installer (as shown in image):[![Actions taken][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5KLZ.png\r\n\r\n\r\nYou can go back to see Full error and when I open build-native.xml file it points me to these lines of code:\r\n\r\n      &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;jfx-copylibs-js-impl/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;-jfx-copylibs-warning&quot; if=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;echo message=&quot;Warning: Dependent Libraries copy (-jfx-copylibs) skipped in fallback build mode due to JDK missing JavaScript support.&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;macrodef name=&quot;jfx-copylibs-js-impl&quot;&gt;\r\n            &lt;sequential&gt;\r\n                &lt;local name=&quot;run.classpath.without.build.classes.and.dist.dir&quot;/&gt;\r\n                &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\r\n                    &lt;path path=&quot;${run.classpath}&quot;/&gt;\r\n                    &lt;map from=&quot;${basedir}${file.separator}${build.classes.dir}&quot; to=&quot;&quot;/&gt;\r\n                    &lt;map from=&quot;${basedir}${file.separator}${dist.jar}&quot; to=&quot;&quot;/&gt;\r\n                    &lt;scriptmapper language=&quot;javascript&quot;&gt;\r\n\r\n\r\nWhere line 428 is:\r\n\r\n    &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;jfx-copylibs-js-impl/&gt;\r\n\r\nAnd where line 436 is:\r\n\r\n        &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>I've came across this problem while trying to generate .exe file by using Netbeans 13.\n(Package as -&gt; exe installer)</p>\n<p>Full error:</p>\n<pre><code>C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:428: The following error occurred while executing this line:\nC:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:436: Unable to create javax script engine for javascript\nBUILD FAILED (total time: 4 seconds)\n</code></pre>\n<p>Does anyone know what seems to be problem here and how to fix it?</p>\n<p>UPDATE:</p>\n<p>OS: Windows 10</p>\n<p>JavaFX: javafx-sdk-17.0.2</p>\n<p>JDK: jdk-17.0.2</p>\n<p>What am I expecting?</p>\n<ul>\n<li>I am expecting .exe file</li>\n</ul>\n<p>There's no need really for posting code because building project and running project itself goes smoothly (without the errors). The problem occurs after trying to generate .exe installer file by using Package As -&gt; EXE Installer (as shown in image):<a href=\"https://i.stack.imgur.com/N5KLZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N5KLZ.png\" alt=\"Actions taken\" /></a></p>\n<p>You can go back to see Full error and when I open build-native.xml file it points me to these lines of code:</p>\n<pre><code>  &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\n        &lt;jfx-copylibs-js-impl/&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;-jfx-copylibs-warning&quot; if=&quot;fallback.no.javascript&quot;&gt;\n        &lt;echo message=&quot;Warning: Dependent Libraries copy (-jfx-copylibs) skipped in fallback build mode due to JDK missing JavaScript support.&quot;/&gt;\n    &lt;/target&gt;\n    &lt;macrodef name=&quot;jfx-copylibs-js-impl&quot;&gt;\n        &lt;sequential&gt;\n            &lt;local name=&quot;run.classpath.without.build.classes.and.dist.dir&quot;/&gt;\n            &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n                &lt;path path=&quot;${run.classpath}&quot;/&gt;\n                &lt;map from=&quot;${basedir}${file.separator}${build.classes.dir}&quot; to=&quot;&quot;/&gt;\n                &lt;map from=&quot;${basedir}${file.separator}${dist.jar}&quot; to=&quot;&quot;/&gt;\n                &lt;scriptmapper language=&quot;javascript&quot;&gt;\n</code></pre>\n<p>Where line 428 is:</p>\n<pre><code>&lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\n        &lt;jfx-copylibs-js-impl/&gt;\n</code></pre>\n<p>And where line 436 is:</p>\n<pre><code>    &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679074696,"creation_date":1679074696,"answer_id":75770604,"question_id":75770483,"body_markdown":"Thats because once You have clicked on the button , it becomes stale i.e. means an old element or no longer available element\r\n\r\nYou should do a driver.findElement(locator) again to get the fresh Element and then do a getText()\r\n\r\n    When an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be stale. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates.\r\n\r\nYou can read more below\r\n[StaleElementReference][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference","title":"How to check the button&#39;s text is changed after a click operation on the button","body":"<p>Thats because once You have clicked on the button , it becomes stale i.e. means an old element or no longer available element</p>\n<p>You should do a driver.findElement(locator) again to get the fresh Element and then do a getText()</p>\n<pre><code>When an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be stale. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates.\n</code></pre>\n<p>You can read more below\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">StaleElementReference</a></p>\n"}],"owner":{"account_id":28044503,"reputation":1,"user_id":21421522,"display_name":"Subha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679074696,"creation_date":1679073871,"question_id":75770483,"body_markdown":"Scenario: Check whether the text is changed to &quot;Remove&quot; from &quot;Add to Cart&quot; on the button after the click operation.\r\n\r\nI am unable to get the text of the button after click operation is performed. I am getting Stale Element Exception when I try to retrieve the text of the button.\r\n\r\n\r\n\r\n```\r\nbtnCart.click();\r\nboolean bNameChange=btnCart.getText().equals(&quot;Remove&quot;);\r\nif(bNameChnage==true)\r\n{\r\nperform other operations\r\n}\r\n\r\n```\r\nb\r\nBut Stale Reference Exception is thrown.\r\nI tried WebDriverWait before checking the text value.This throws TimeOutException.\r\n\r\nWebDriverWait wait=new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\t\twait.until(ExpectedConditions.textToBePresentInElement(btnCart, &quot;Remove&quot;)));\r\n\r\nHow to handle this scenario?\r\n","title":"How to check the button&#39;s text is changed after a click operation on the button","body":"<p>Scenario: Check whether the text is changed to &quot;Remove&quot; from &quot;Add to Cart&quot; on the button after the click operation.</p>\n<p>I am unable to get the text of the button after click operation is performed. I am getting Stale Element Exception when I try to retrieve the text of the button.</p>\n<pre><code>btnCart.click();\nboolean bNameChange=btnCart.getText().equals(&quot;Remove&quot;);\nif(bNameChnage==true)\n{\nperform other operations\n}\n\n</code></pre>\n<p>b\nBut Stale Reference Exception is thrown.\nI tried WebDriverWait before checking the text value.This throws TimeOutException.</p>\n<p>WebDriverWait wait=new WebDriverWait(driver,Duration.ofSeconds(10));\nwait.until(ExpectedConditions.textToBePresentInElement(btnCart, &quot;Remove&quot;)));</p>\n<p>How to handle this scenario?</p>\n"},{"tags":["java","android","cordova","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679070848,"post_id":75768986,"comment_id":133660895,"body_markdown":"The write operation fails? I would think the insert() operation fails.","body":"The write operation fails? I would think the insert() operation fails."},{"owner":{"account_id":6607198,"reputation":1,"user_id":5103675,"display_name":"Michau"},"score":0,"creation_date":1679074598,"post_id":75768986,"comment_id":133661847,"body_markdown":"Yes, you are right of course, I meant the insert operation.","body":"Yes, you are right of course, I meant the insert operation."}],"owner":{"account_id":6607198,"reputation":1,"user_id":5103675,"display_name":"Michau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679074583,"creation_date":1679064469,"question_id":75768986,"body_markdown":"I am trying to write an Android audio recorder application. I will be using the MediaStore to store the recordings. I would presume that I should store them in the folder pointed to by the Environment.DIRECTORY_RECORDINGS constant... but the folder (whose name should be &quot;Recordings&quot;) does not exist on any of the Android devices I tried, and the MediaStore insert operation fails. What is the proper way to create it?\r\n\r\nPrior to Android 10, I could request the WRITE_EXTERNAL_STORAGE permission and simply create the folder. But what should I do on Android 10 and above?","title":"Environment.DIRECTORY_RECORDINGS pointing to a non-existing folder","body":"<p>I am trying to write an Android audio recorder application. I will be using the MediaStore to store the recordings. I would presume that I should store them in the folder pointed to by the Environment.DIRECTORY_RECORDINGS constant... but the folder (whose name should be &quot;Recordings&quot;) does not exist on any of the Android devices I tried, and the MediaStore insert operation fails. What is the proper way to create it?</p>\n<p>Prior to Android 10, I could request the WRITE_EXTERNAL_STORAGE permission and simply create the folder. But what should I do on Android 10 and above?</p>\n"},{"tags":["java","database","jpa","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679074494,"creation_date":1679074494,"answer_id":75770580,"question_id":75767483,"body_markdown":"Micronaut Data JDBC doesn’t support cascading delete.","title":"DeleteById not working for Cascade deletes in Micronaut","body":"<p>Micronaut Data JDBC doesn’t support cascading delete.</p>\n"}],"owner":{"account_id":5413747,"reputation":373,"user_id":4309568,"accept_rate":40,"display_name":"Aarij Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679074494,"creation_date":1679055366,"question_id":75767483,"body_markdown":"I have following Database structure:\r\n\r\nMultiple columns in MainType table can refer to entries in Type1 and Type2. E.g. column2 and column3 refer to different entries in Type2 table.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand implementation is as follows:\r\n\r\n\r\n**Entities:**\r\n    \r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public record MainType(\r\n    \r\n    @Id UUID id,\r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type1 column1, \r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column2, \r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column3) {}\r\n\r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public class Type1 {\r\n      @Id @Autopopulated UUID id,\r\n      @Nullable String value, \r\n    }\r\n    \r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public class Type2 {\r\n      @Id @Autopopulated UUID id,\r\n      @Nullable int value, \r\n    }\r\n\r\n**Repositories:**\r\n\r\n**MainTypeRepository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface MainTypeRepository extends PageableRepository&lt;MainType, UUID&gt; {\r\n    \r\n     @Override\r\n     @Join(value= type1, type = Type.LEFT_FETCH)\r\n     @Join(value= type2, type = Type.LEFT_FETCH)\r\n     Optional&lt;MainType&gt; findById(UUID id);\r\n    \r\n     @Override\r\n     @Join(value= type1, type = Type.LEFT_FETCH)\r\n     @Join(value= type2, type = Type.LEFT_FETCH)\r\n     void deleteById(UUID id);\r\n    }\r\n\r\n**Type1Repository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface Type1Repository extends CrudRepository&lt;Type1, UUID&gt; {}\r\n\r\n**Type2Repository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface Type2Repository extends CrudRepository&lt;Type2, UUID&gt; {}\r\n\r\n\r\nMy problem is that when I execute mainTypeRepository.deleteById(id) it does not delete the entries in Type1 and Type2 Tables. Am I missing anything?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GdyUo.png","title":"DeleteById not working for Cascade deletes in Micronaut","body":"<p>I have following Database structure:</p>\n<p>Multiple columns in MainType table can refer to entries in Type1 and Type2. E.g. column2 and column3 refer to different entries in Type2 table.</p>\n<p><a href=\"https://i.stack.imgur.com/GdyUo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GdyUo.png\" alt=\"enter image description here\" /></a></p>\n<p>and implementation is as follows:</p>\n<p><strong>Entities:</strong></p>\n<pre><code>@MappedEntity\n//Lombok Annotations\npublic record MainType(\n\n@Id UUID id,\n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type1 column1, \n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column2, \n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column3) {}\n\n@MappedEntity\n//Lombok Annotations\npublic class Type1 {\n  @Id @Autopopulated UUID id,\n  @Nullable String value, \n}\n\n@MappedEntity\n//Lombok Annotations\npublic class Type2 {\n  @Id @Autopopulated UUID id,\n  @Nullable int value, \n}\n</code></pre>\n<p><strong>Repositories:</strong></p>\n<p><strong>MainTypeRepository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface MainTypeRepository extends PageableRepository&lt;MainType, UUID&gt; {\n\n @Override\n @Join(value= type1, type = Type.LEFT_FETCH)\n @Join(value= type2, type = Type.LEFT_FETCH)\n Optional&lt;MainType&gt; findById(UUID id);\n\n @Override\n @Join(value= type1, type = Type.LEFT_FETCH)\n @Join(value= type2, type = Type.LEFT_FETCH)\n void deleteById(UUID id);\n}\n</code></pre>\n<p><strong>Type1Repository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface Type1Repository extends CrudRepository&lt;Type1, UUID&gt; {}\n</code></pre>\n<p><strong>Type2Repository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface Type2Repository extends CrudRepository&lt;Type2, UUID&gt; {}\n</code></pre>\n<p>My problem is that when I execute mainTypeRepository.deleteById(id) it does not delete the entries in Type1 and Type2 Tables. Am I missing anything?</p>\n"},{"tags":["java","xml","bottomnavigationview"],"owner":{"account_id":25284009,"reputation":43,"user_id":19111394,"display_name":"jasagregoric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679073993,"creation_date":1679073993,"question_id":75770495,"body_markdown":"I&#39;ve been following this tutorial to create the bottom navigation view. [Tutorial](https://youtu.be/iEXh1-KVeVc). I&#39;ve done everything in the video, but it doesn&#39;t show what code to write to take me to intended activities when I click on the buttons.\r\n\r\nI am also new to Android Studio and XML. \r\n\r\nI&#39;ve watched some other videos but none works because they use fragments and I want to use Activities.\r\n\r\nI&#39;ve come up with this code:\r\n\r\n(java)\r\n```\r\npackage com.example.tracker;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.MenuItem;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class BottomNav implements BottomNavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private Context context;\r\n\r\n    public BottomNav(Context context, BottomNavigationView bottomNavigationView) {\r\n        this.context = context;\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.home:\r\n                Intent intentHome = new Intent(context, MapsActivity.class);\r\n                context.startActivity(intentHome);\r\n                break;\r\n            case R.id.chat:\r\n                Intent intentChat = new Intent(context, ChatActivity.class);\r\n                context.startActivity(intentChat);\r\n                break;\r\n            case R.id.person:\r\n                Intent intentProfile = new Intent(context, ProfileActivity.class);\r\n                context.startActivity(intentProfile);\r\n                break;\r\n            case R.id.settings:\r\n                Intent intentSettings = new Intent(context, SettingsActivity.class);\r\n                context.startActivity(intentSettings);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also don&#39;t know where to put it.\r\n\r\nbottom_nav_menu.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/home&quot;\r\n        android:icon=&quot;@drawable/baseline_home_24&quot;\r\n        android:title=&quot;Home&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/chat&quot;\r\n        android:icon=&quot;@drawable/baseline_chat_24&quot;\r\n        android:title=&quot;Chat&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/placeholder&quot;\r\n        android:title=&quot;&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/person&quot;\r\n        android:icon=&quot;@drawable/baseline_person_24&quot;\r\n        android:title=&quot;Profile&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/settings&quot;\r\n        android:icon=&quot;@drawable/baseline_settings_24&quot;\r\n        android:title=&quot;Settings&quot;/&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\n\r\nAnd activity_main.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MapsActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/bottomAppBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:fabCradleMargin=&quot;20dp&quot;\r\n        app:fabCradleVerticalOffset=&quot;10dp&quot;\r\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/baseline_add_24&quot;\r\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\r\n        android:contentDescription=&quot;TODO&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nI would really apriciate all your help.\r\n\r\n\r\n \r\n ","title":"Clicking on the bottom navigation icons in me Android app is not taking me to the intended activities","body":"<p>I've been following this tutorial to create the bottom navigation view. <a href=\"https://youtu.be/iEXh1-KVeVc\" rel=\"nofollow noreferrer\">Tutorial</a>. I've done everything in the video, but it doesn't show what code to write to take me to intended activities when I click on the buttons.</p>\n<p>I am also new to Android Studio and XML.</p>\n<p>I've watched some other videos but none works because they use fragments and I want to use Activities.</p>\n<p>I've come up with this code:</p>\n<p>(java)</p>\n<pre><code>package com.example.tracker;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.MenuItem;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\npublic class BottomNav implements BottomNavigationView.OnNavigationItemSelectedListener {\n\n    private Context context;\n\n    public BottomNav(Context context, BottomNavigationView bottomNavigationView) {\n        this.context = context;\n        bottomNavigationView.setOnNavigationItemSelectedListener(this);\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.home:\n                Intent intentHome = new Intent(context, MapsActivity.class);\n                context.startActivity(intentHome);\n                break;\n            case R.id.chat:\n                Intent intentChat = new Intent(context, ChatActivity.class);\n                context.startActivity(intentChat);\n                break;\n            case R.id.person:\n                Intent intentProfile = new Intent(context, ProfileActivity.class);\n                context.startActivity(intentProfile);\n                break;\n            case R.id.settings:\n                Intent intentSettings = new Intent(context, SettingsActivity.class);\n                context.startActivity(intentSettings);\n                break;\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p>I also don't know where to put it.</p>\n<p>bottom_nav_menu.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/home&quot;\n        android:icon=&quot;@drawable/baseline_home_24&quot;\n        android:title=&quot;Home&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/chat&quot;\n        android:icon=&quot;@drawable/baseline_chat_24&quot;\n        android:title=&quot;Chat&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/placeholder&quot;\n        android:title=&quot;&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/person&quot;\n        android:icon=&quot;@drawable/baseline_person_24&quot;\n        android:title=&quot;Profile&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/settings&quot;\n        android:icon=&quot;@drawable/baseline_settings_24&quot;\n        android:title=&quot;Settings&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>And activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MapsActivity&quot;&gt;\n\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/bottomAppBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:fabCradleMargin=&quot;20dp&quot;\n        app:fabCradleVerticalOffset=&quot;10dp&quot;\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\n        android:layout_gravity=&quot;bottom&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavigationView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginEnd=&quot;16dp&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/baseline_add_24&quot;\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\n        android:contentDescription=&quot;TODO&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>I would really apriciate all your help.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678970355,"post_id":75756342,"comment_id":133638240,"body_markdown":"And you&#39;re surprised when you set the value of an attribute as a control character (the escape character)? Why are you doing that?","body":"And you&#39;re surprised when you set the value of an attribute as a control character (the escape character)? Why are you doing that?"},{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":0,"creation_date":1678970856,"post_id":75756342,"comment_id":133638408,"body_markdown":"I can see how you&#39;d think this is wierd in this contrived example where I create a document with some hardcoded data. The real documents are created with input from users and other systems. I&#39;m suprised java would serialize a document without throwing an exception knowing that it will never be able to deserialize it later. If the solution is &quot;strip control characters&quot; from your input then it is a hassle, but I&#39;ll deal with it. But what do I do with previously created documents?","body":"I can see how you&#39;d think this is wierd in this contrived example where I create a document with some hardcoded data. The real documents are created with input from users and other systems. I&#39;m suprised java would serialize a document without throwing an exception knowing that it will never be able to deserialize it later. If the solution is &quot;strip control characters&quot; from your input then it is a hassle, but I&#39;ll deal with it. But what do I do with previously created documents?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678986581,"post_id":75756342,"comment_id":133643557,"body_markdown":"*But what do I do with previously created documents?* You&#39;ll have to &#39;clean&#39; them. Xml files are *text* files and are not intended to contain binary data. When they do, they are usually in CDATA sections and even then Base64 encoded","body":"<i>But what do I do with previously created documents?</i> You&#39;ll have to &#39;clean&#39; them. Xml files are <i>text</i> files and are not intended to contain binary data. When they do, they are usually in CDATA sections and even then Base64 encoded"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678982882,"creation_date":1678982882,"answer_id":75758787,"question_id":75756342,"body_markdown":"&gt;How do I read the previously generated files which contain invalid characters?\r\n\r\nYou have to repair them using some non-XML-aware process. You can&#39;t use XML tools to read them.\r\n\r\n&gt;How do I prevent newly generated files from containing invalid characters?\r\n\r\nYou either use an API that checks the content, or you check it yourself before passing to the API.\r\n\r\nThe Xalan serializer, which is what you&#39;re using, was designed as the back end for an XSLT transformer, and it&#39;s very likely to be assuming that the XSLT processor is handing it valid content. The Saxon serializer, which is the same architecturally, makes the same assumption.","title":"Java doesn&#39;t filter invalid characters when serializing xml documents","body":"<blockquote>\n<p>How do I read the previously generated files which contain invalid characters?</p>\n</blockquote>\n<p>You have to repair them using some non-XML-aware process. You can't use XML tools to read them.</p>\n<blockquote>\n<p>How do I prevent newly generated files from containing invalid characters?</p>\n</blockquote>\n<p>You either use an API that checks the content, or you check it yourself before passing to the API.</p>\n<p>The Xalan serializer, which is what you're using, was designed as the back end for an XSLT transformer, and it's very likely to be assuming that the XSLT processor is handing it valid content. The Saxon serializer, which is the same architecturally, makes the same assumption.</p>\n"}],"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75758787,"answer_count":1,"score":1,"last_activity_date":1679073404,"creation_date":1678969961,"question_id":75756342,"body_markdown":"I&#39;m serializing an xml document in java 17.\r\nI store this document in a file assuming I&#39;ll be able to deserialize it later.\r\nUnfortunately, once I try to read it, I get a SAXParseException.\r\nOne of the characters is not a [valid character in XML][1].\r\nI would expect a document serialised by java to be deserializable by java.\r\n\r\nI&#39;m left with two questions:\r\n1. How do I read the previously generated files which contain invalid characters?\r\n2. How do I prevent newly generated files from containing invalid characters?\r\n\r\nMinimum reproducible example:\r\n```\r\npackage example;\r\n\r\nimport static java.nio.charset.StandardCharsets.US_ASCII;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\npublic class Scratch {\r\n    public static void main(String[] args) throws Exception {\r\n        // u001b = escape and is not allowed in xml 1.0\r\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n        Element element = document.createElement(&quot;tag&quot;);\r\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\r\n        document.appendChild(element);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\r\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\r\n        Transformer transformer = transformerFactory.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\r\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\r\n        String xmlString = bos.toString(US_ASCII);\r\n\r\n        System.out.println(&quot;xmlString = &quot; + xmlString);\r\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#27;&quot;/&gt;\r\n\r\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\r\n        // [Fatal Error] :1:63: Character reference &quot;&amp;#27&quot; is an invalid XML character.\r\n        //     Exception in thread &quot;main&quot; org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 63; Character reference &quot;&amp;#27&quot; is an invalid XML character.\r\n        //     at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:262)\r\n        // at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)\r\n        // at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\r\n        // at be.mips.cyberlab.business.Scratch.main(Scratch.java:40)\r\n    }\r\n}\r\n```\r\n\r\nMicheal Key suggests &quot;use an API that checks the content, or you check it yourself before passing to the API&quot;, so I&#39;m going to try that. It works, but I don&#39;t like walking the entire tree just to serialize it.\r\n\r\n```\r\npackage example;\r\n\r\nimport static java.nio.charset.StandardCharsets.US_ASCII;\r\nimport static org.w3c.dom.Node.CDATA_SECTION_NODE;\r\nimport static org.w3c.dom.Node.COMMENT_NODE;\r\nimport static org.w3c.dom.Node.ELEMENT_NODE;\r\nimport static org.w3c.dom.Node.TEXT_NODE;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NamedNodeMap;\r\nimport org.w3c.dom.Node;\r\n\r\nclass Scratch {\r\n\r\n    private static final Pattern VALID_CHARACTERS = Pattern.compile(\r\n            &quot;[\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]+&quot;);\r\n    private static final Pattern INVALID_XML_CHARACTERS = Pattern.compile(\r\n            &quot;(?&lt;![\\\\uD800-\\\\uDBFF])[\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|[\\\\x00-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F-\\\\x9F\\\\uFEFF\\\\uFFFE\\\\uFFFF]&quot;);\r\n    private static final String REPLACEMENT_CHARACTER = &quot;\\uFFFD&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // u001b = escape and is not allowed in xml 1.0\r\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n        Element element = document.createElement(&quot;tag&quot;);\r\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\r\n        document.appendChild(element);\r\n\r\n        stripInvalidXmlCharacters(document);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\r\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\r\n        final Transformer transformer = transformerFactory.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\r\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\r\n        String xmlString = bos.toString(US_ASCII);\r\n\r\n        System.out.println(&quot;xmlString = &quot; + xmlString);\r\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#65533;&quot;/&gt;\r\n\r\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\r\n    }\r\n\r\n    private static void stripInvalidXmlCharacters(Node node) {\r\n        NamedNodeMap attributes = node.getAttributes();\r\n        if (attributes != null) {\r\n            int length = attributes.getLength();\r\n            for (int i = 0; i &lt; length; i++) {\r\n                Node attribute = attributes.item(i);\r\n                attribute.setNodeValue(stripInvalidXmlCharacters(attribute.getNodeValue()));\r\n            }\r\n        }\r\n        for (Node child = node.getFirstChild(); child != null; child = child.getNextSibling()) {\r\n            switch (child.getNodeType()) {\r\n                case ELEMENT_NODE -&gt; stripInvalidXmlCharacters(child);\r\n                case TEXT_NODE, CDATA_SECTION_NODE, COMMENT_NODE -&gt;\r\n                        child.setNodeValue(stripInvalidXmlCharacters(child.getNodeValue()));\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String stripInvalidXmlCharacters(String input) {\r\n        if (input == null || input.isEmpty() || VALID_CHARACTERS.matcher(input).matches()) {\r\n            return input;\r\n        }\r\n        Matcher m = INVALID_XML_CHARACTERS.matcher(input);\r\n        StringBuilder sb = new StringBuilder();\r\n        while (m.find()) {\r\n            m.appendReplacement(sb, REPLACEMENT_CHARACTER);\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Valid_characters_in_XML","title":"Java doesn&#39;t filter invalid characters when serializing xml documents","body":"<p>I'm serializing an xml document in java 17.\nI store this document in a file assuming I'll be able to deserialize it later.\nUnfortunately, once I try to read it, I get a SAXParseException.\nOne of the characters is not a <a href=\"https://en.wikipedia.org/wiki/Valid_characters_in_XML\" rel=\"nofollow noreferrer\">valid character in XML</a>.\nI would expect a document serialised by java to be deserializable by java.</p>\n<p>I'm left with two questions:</p>\n<ol>\n<li>How do I read the previously generated files which contain invalid characters?</li>\n<li>How do I prevent newly generated files from containing invalid characters?</li>\n</ol>\n<p>Minimum reproducible example:</p>\n<pre><code>package example;\n\nimport static java.nio.charset.StandardCharsets.US_ASCII;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class Scratch {\n    public static void main(String[] args) throws Exception {\n        // u001b = escape and is not allowed in xml 1.0\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n        Element element = document.createElement(&quot;tag&quot;);\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\n        document.appendChild(element);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\n        String xmlString = bos.toString(US_ASCII);\n\n        System.out.println(&quot;xmlString = &quot; + xmlString);\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#27;&quot;/&gt;\n\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\n        // [Fatal Error] :1:63: Character reference &quot;&amp;#27&quot; is an invalid XML character.\n        //     Exception in thread &quot;main&quot; org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 63; Character reference &quot;&amp;#27&quot; is an invalid XML character.\n        //     at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:262)\n        // at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)\n        // at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\n        // at be.mips.cyberlab.business.Scratch.main(Scratch.java:40)\n    }\n}\n</code></pre>\n<p>Micheal Key suggests &quot;use an API that checks the content, or you check it yourself before passing to the API&quot;, so I'm going to try that. It works, but I don't like walking the entire tree just to serialize it.</p>\n<pre><code>package example;\n\nimport static java.nio.charset.StandardCharsets.US_ASCII;\nimport static org.w3c.dom.Node.CDATA_SECTION_NODE;\nimport static org.w3c.dom.Node.COMMENT_NODE;\nimport static org.w3c.dom.Node.ELEMENT_NODE;\nimport static org.w3c.dom.Node.TEXT_NODE;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NamedNodeMap;\nimport org.w3c.dom.Node;\n\nclass Scratch {\n\n    private static final Pattern VALID_CHARACTERS = Pattern.compile(\n            &quot;[\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]+&quot;);\n    private static final Pattern INVALID_XML_CHARACTERS = Pattern.compile(\n            &quot;(?&lt;![\\\\uD800-\\\\uDBFF])[\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|[\\\\x00-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F-\\\\x9F\\\\uFEFF\\\\uFFFE\\\\uFFFF]&quot;);\n    private static final String REPLACEMENT_CHARACTER = &quot;\\uFFFD&quot;;\n\n    public static void main(String[] args) throws Exception {\n        // u001b = escape and is not allowed in xml 1.0\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n        Element element = document.createElement(&quot;tag&quot;);\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\n        document.appendChild(element);\n\n        stripInvalidXmlCharacters(document);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\n        final Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\n        String xmlString = bos.toString(US_ASCII);\n\n        System.out.println(&quot;xmlString = &quot; + xmlString);\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#65533;&quot;/&gt;\n\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\n    }\n\n    private static void stripInvalidXmlCharacters(Node node) {\n        NamedNodeMap attributes = node.getAttributes();\n        if (attributes != null) {\n            int length = attributes.getLength();\n            for (int i = 0; i &lt; length; i++) {\n                Node attribute = attributes.item(i);\n                attribute.setNodeValue(stripInvalidXmlCharacters(attribute.getNodeValue()));\n            }\n        }\n        for (Node child = node.getFirstChild(); child != null; child = child.getNextSibling()) {\n            switch (child.getNodeType()) {\n                case ELEMENT_NODE -&gt; stripInvalidXmlCharacters(child);\n                case TEXT_NODE, CDATA_SECTION_NODE, COMMENT_NODE -&gt;\n                        child.setNodeValue(stripInvalidXmlCharacters(child.getNodeValue()));\n            }\n        }\n    }\n\n    private static String stripInvalidXmlCharacters(String input) {\n        if (input == null || input.isEmpty() || VALID_CHARACTERS.matcher(input).matches()) {\n            return input;\n        }\n        Matcher m = INVALID_XML_CHARACTERS.matcher(input);\n        StringBuilder sb = new StringBuilder();\n        while (m.find()) {\n            m.appendReplacement(sb, REPLACEMENT_CHARACTER);\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678345233,"creation_date":1678345233,"answer_id":75681355,"question_id":75664011,"body_markdown":"I would suggest to stay clear of the idea to perform DB routing via determining whether tx is readonly or not - it looks attractive in someone&#39;s blogpost, however there are to many edge cases when it might not work as expected.\r\n\r\n\r\nBy the way, I do believe you may overcome your issue via implementing your own `PlatformTransactionManager`, something like:\r\n\r\n```java\r\npublic class JpaTransactionManagerExposingReadOnlyStatus extends JpaTransactionManager {\r\n\r\n    @Override\r\n    protected Object doSuspend(Object transaction) {\r\n        TxReadOnlyStatus.begin(null);\r\n        boolean success = false;\r\n        try {\r\n            Object result = super.doSuspend(transaction);\r\n            success = true;\r\n            return result;\r\n        } finally {\r\n            if (!success) {\r\n                TxReadOnlyStatus.complete();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doResume(Object transaction, Object suspendedResources) {\r\n        try {\r\n            super.doResume(transaction, suspendedResources);\r\n        } finally {\r\n            TxReadOnlyStatus.complete();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doBegin(Object transaction, TransactionDefinition definition) {\r\n        TxReadOnlyStatus.begin(definition.isReadOnly());\r\n        boolean success = false;\r\n        try {\r\n            super.doBegin(transaction, definition);\r\n            success = true;\r\n        } finally {\r\n            if (!success) {\r\n                TxReadOnlyStatus.complete();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doCleanupAfterCompletion(Object transaction) {\r\n        try {\r\n            super.doCleanupAfterCompletion(transaction);\r\n        } finally {\r\n            TxReadOnlyStatus.complete();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class TxReadOnlyStatus {\r\n\r\n    private static final ThreadLocal&lt;Deque&lt;Boolean&gt;&gt; txStack = ThreadLocal.withInitial(LinkedList::new);\r\n\r\n    public static boolean isReadOnly() {\r\n        Boolean readOnly = getTxStack().peekLast();\r\n        if (readOnly != null) {\r\n            return readOnly;\r\n        }\r\n        if (isSynchronizationActive()) {\r\n            // active synchronization\r\n            return isCurrentTransactionReadOnly();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static Deque&lt;Boolean&gt; getTxStack() {\r\n        return txStack.get();\r\n    }\r\n\r\n    static void begin(Boolean readOnly) {\r\n        getTxStack().addLast(readOnly);\r\n    }\r\n\r\n    static void complete() {\r\n        getTxStack().removeLast();\r\n    }\r\n\r\n}\r\n```\r\n\r\n[demo on GitHub](https://github.com/andreybpanfilov/gs-accessing-data-jpa/commit/c70cf58143b3f360eb1a62f672a47278fd7fe490)","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>I would suggest to stay clear of the idea to perform DB routing via determining whether tx is readonly or not - it looks attractive in someone's blogpost, however there are to many edge cases when it might not work as expected.</p>\n<p>By the way, I do believe you may overcome your issue via implementing your own <code>PlatformTransactionManager</code>, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JpaTransactionManagerExposingReadOnlyStatus extends JpaTransactionManager {\n\n    @Override\n    protected Object doSuspend(Object transaction) {\n        TxReadOnlyStatus.begin(null);\n        boolean success = false;\n        try {\n            Object result = super.doSuspend(transaction);\n            success = true;\n            return result;\n        } finally {\n            if (!success) {\n                TxReadOnlyStatus.complete();\n            }\n        }\n    }\n\n    @Override\n    protected void doResume(Object transaction, Object suspendedResources) {\n        try {\n            super.doResume(transaction, suspendedResources);\n        } finally {\n            TxReadOnlyStatus.complete();\n        }\n    }\n\n    @Override\n    protected void doBegin(Object transaction, TransactionDefinition definition) {\n        TxReadOnlyStatus.begin(definition.isReadOnly());\n        boolean success = false;\n        try {\n            super.doBegin(transaction, definition);\n            success = true;\n        } finally {\n            if (!success) {\n                TxReadOnlyStatus.complete();\n            }\n        }\n    }\n\n    @Override\n    protected void doCleanupAfterCompletion(Object transaction) {\n        try {\n            super.doCleanupAfterCompletion(transaction);\n        } finally {\n            TxReadOnlyStatus.complete();\n        }\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TxReadOnlyStatus {\n\n    private static final ThreadLocal&lt;Deque&lt;Boolean&gt;&gt; txStack = ThreadLocal.withInitial(LinkedList::new);\n\n    public static boolean isReadOnly() {\n        Boolean readOnly = getTxStack().peekLast();\n        if (readOnly != null) {\n            return readOnly;\n        }\n        if (isSynchronizationActive()) {\n            // active synchronization\n            return isCurrentTransactionReadOnly();\n        }\n        return true;\n    }\n\n    private static Deque&lt;Boolean&gt; getTxStack() {\n        return txStack.get();\n    }\n\n    static void begin(Boolean readOnly) {\n        getTxStack().addLast(readOnly);\n    }\n\n    static void complete() {\n        getTxStack().removeLast();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://github.com/andreybpanfilov/gs-accessing-data-jpa/commit/c70cf58143b3f360eb1a62f672a47278fd7fe490\" rel=\"nofollow noreferrer\">demo on GitHub</a></p>\n"},{"tags":[],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679073355,"creation_date":1679073355,"answer_id":75770411,"question_id":75664011,"body_markdown":"After a bit of research and also taking into consideration Andrey&#39;s answer I have sorted my issue by routing my traffic using PGPool2. However it is advisable to disable connection pooling ins spring boot and use the connection pool in PGPool.\r\n\r\nThis solution is also good since even other applications done in other languages can also take advantage of the routing.","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>After a bit of research and also taking into consideration Andrey's answer I have sorted my issue by routing my traffic using PGPool2. However it is advisable to disable connection pooling ins spring boot and use the connection pool in PGPool.</p>\n<p>This solution is also good since even other applications done in other languages can also take advantage of the routing.</p>\n"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75770411,"answer_count":2,"score":1,"last_activity_date":1679073355,"creation_date":1678203188,"question_id":75664011,"body_markdown":"I am implementing a read write datasource routing using [Vlad Mihlceas&#39;s post][1]\r\n\r\nBelow is my config class\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableAspectJAutoProxy\r\n    @EnableJpaRepositories(\r\n            value = &quot;com.api.repositories&quot;,repositoryBaseClass = BaseJpaRepositoryImpl.class\r\n    )\r\n    public class DBConfig {\r\n    \r\n        @Autowired\r\n        private DbProps dbProps;\r\n    \r\n        @Bean\r\n        public DataSource readWriteDataSource() {\r\n            LOGGER.info(&quot;DB Props: {}&quot;, dbProps.toString());\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setUrl(dbProps.getDbUrl());\r\n            dataSource.setUser(dbProps.getDbUser());\r\n            dataSource.setPassword(dbProps.getDbPassword());\r\n            dataSource.setLogUnclosedConnections(true);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource readOnlyDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setUrl(dbProps.getReplicaDbUrl());\r\n            dataSource.setUser(dbProps.getDbUser());\r\n            dataSource.setPassword(dbProps.getDbPassword());\r\n            dataSource.setLogUnclosedConnections(true);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public TransactionRoutingDataSource actualDataSource() {\r\n            TransactionRoutingDataSource routingDataSource = new TransactionRoutingDataSource();\r\n    \r\n            Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n            dataSourceMap.put(DataSourceType.READ_WRITE, readWriteDataSource());\r\n            dataSourceMap.put(DataSourceType.READ_ONLY, readOnlyDataSource());\r\n    \r\n            routingDataSource.setTargetDataSources(dataSourceMap);\r\n            routingDataSource.setDefaultTargetDataSource(readOnlyDataSource());\r\n            return routingDataSource;\r\n        }\r\n    \r\n        protected HikariConfig hikariConfig(DataSource dataSource) {\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            int cpuCores = Runtime.getRuntime().availableProcessors();\r\n            hikariConfig.setMaximumPoolSize(cpuCores * 4);\r\n            hikariConfig.setDataSource(dataSource);\r\n            hikariConfig.setIdleTimeout(600000);\r\n            hikariConfig.setLeakDetectionThreshold(30000);\r\n            hikariConfig.setConnectionTimeout(30000);\r\n            hikariConfig.setMaxLifetime(1800000);\r\n            hikariConfig.setAutoCommit(false);\r\n            return hikariConfig;\r\n        }\r\n    \r\n        protected HikariDataSource connectionPoolDataSource(DataSource actualDataSource) {\r\n            return new HikariDataSource(hikariConfig(actualDataSource));\r\n        }\r\n    \r\n        private DataSource dataSource() {\r\n            return ProxyDataSourceBuilder\r\n                    .create(actualDataSource())\r\n                    .name(&quot;Proxy-datasource&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactoryBean.setPersistenceUnitName(getClass().getSimpleName());\r\n            entityManagerFactoryBean.setPersistenceProvider(new HibernatePersistenceProvider());\r\n            entityManagerFactoryBean.setDataSource(dataSource());\r\n    \r\n            HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            HibernateJpaDialect jpaDialect = vendorAdapter.getJpaDialect();\r\n            jpaDialect.setPrepareConnection(false);\r\n            entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n            entityManagerFactoryBean.setJpaProperties(additionalProperties());\r\n            entityManagerFactoryBean.setPackagesToScan(&quot;com.api.models&quot;);\r\n            return entityManagerFactoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public TransactionTemplate transactionTemplate(EntityManagerFactory entityManagerFactory) {\r\n            return new TransactionTemplate(transactionManager(entityManagerFactory));\r\n        }\r\n    \r\n        protected Properties additionalProperties() {\r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n            //properties.setProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\r\n            properties.setProperty(&quot;hibernate.connection.provider_disables_autocommit&quot;,Boolean.TRUE.toString());\r\n            return properties;\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m having issues doing writes where I  manually change Isolation level e.g \r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\r\n\r\nI get the following exception \r\n\r\n    org.springframework.transaction.InvalidIsolationLevelException: HibernateJpaDialect is not allowed to support custom isolation levels: make sure that its &#39;prepareConnection&#39; flag is on (the default) and that the Hibernate connection release mode is set to ON_CLOSE\r\n\r\nwhen I leave the jpaDialect.setPrepareConnection property as default as advised in the error message it works but I lose the routing functionality and all queries both reads and writes are sent to the primary instance. How do enable change of isolation level while still being able to route the the queries?\r\n\r\n  [1]: https://vladmihalcea.com/read-write-read-only-transaction-routing-spring/\r\n\r\n","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>I am implementing a read write datasource routing using <a href=\"https://vladmihalcea.com/read-write-read-only-transaction-routing-spring/\" rel=\"nofollow noreferrer\">Vlad Mihlceas's post</a></p>\n<p>Below is my config class</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableAspectJAutoProxy\n@EnableJpaRepositories(\n        value = &quot;com.api.repositories&quot;,repositoryBaseClass = BaseJpaRepositoryImpl.class\n)\npublic class DBConfig {\n\n    @Autowired\n    private DbProps dbProps;\n\n    @Bean\n    public DataSource readWriteDataSource() {\n        LOGGER.info(&quot;DB Props: {}&quot;, dbProps.toString());\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setUrl(dbProps.getDbUrl());\n        dataSource.setUser(dbProps.getDbUser());\n        dataSource.setPassword(dbProps.getDbPassword());\n        dataSource.setLogUnclosedConnections(true);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public DataSource readOnlyDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setUrl(dbProps.getReplicaDbUrl());\n        dataSource.setUser(dbProps.getDbUser());\n        dataSource.setPassword(dbProps.getDbPassword());\n        dataSource.setLogUnclosedConnections(true);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    @Primary\n    public TransactionRoutingDataSource actualDataSource() {\n        TransactionRoutingDataSource routingDataSource = new TransactionRoutingDataSource();\n\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(DataSourceType.READ_WRITE, readWriteDataSource());\n        dataSourceMap.put(DataSourceType.READ_ONLY, readOnlyDataSource());\n\n        routingDataSource.setTargetDataSources(dataSourceMap);\n        routingDataSource.setDefaultTargetDataSource(readOnlyDataSource());\n        return routingDataSource;\n    }\n\n    protected HikariConfig hikariConfig(DataSource dataSource) {\n        HikariConfig hikariConfig = new HikariConfig();\n        int cpuCores = Runtime.getRuntime().availableProcessors();\n        hikariConfig.setMaximumPoolSize(cpuCores * 4);\n        hikariConfig.setDataSource(dataSource);\n        hikariConfig.setIdleTimeout(600000);\n        hikariConfig.setLeakDetectionThreshold(30000);\n        hikariConfig.setConnectionTimeout(30000);\n        hikariConfig.setMaxLifetime(1800000);\n        hikariConfig.setAutoCommit(false);\n        return hikariConfig;\n    }\n\n    protected HikariDataSource connectionPoolDataSource(DataSource actualDataSource) {\n        return new HikariDataSource(hikariConfig(actualDataSource));\n    }\n\n    private DataSource dataSource() {\n        return ProxyDataSourceBuilder\n                .create(actualDataSource())\n                .name(&quot;Proxy-datasource&quot;)\n                .build();\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPersistenceUnitName(getClass().getSimpleName());\n        entityManagerFactoryBean.setPersistenceProvider(new HibernatePersistenceProvider());\n        entityManagerFactoryBean.setDataSource(dataSource());\n\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        HibernateJpaDialect jpaDialect = vendorAdapter.getJpaDialect();\n        jpaDialect.setPrepareConnection(false);\n        entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactoryBean.setJpaProperties(additionalProperties());\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.api.models&quot;);\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n        return transactionManager;\n    }\n\n    @Bean\n    public TransactionTemplate transactionTemplate(EntityManagerFactory entityManagerFactory) {\n        return new TransactionTemplate(transactionManager(entityManagerFactory));\n    }\n\n    protected Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\n        //properties.setProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\n        properties.setProperty(&quot;hibernate.connection.provider_disables_autocommit&quot;,Boolean.TRUE.toString());\n        return properties;\n    }\n\n}\n</code></pre>\n<p>I'm having issues doing writes where I  manually change Isolation level e.g</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\n</code></pre>\n<p>I get the following exception</p>\n<pre><code>org.springframework.transaction.InvalidIsolationLevelException: HibernateJpaDialect is not allowed to support custom isolation levels: make sure that its 'prepareConnection' flag is on (the default) and that the Hibernate connection release mode is set to ON_CLOSE\n</code></pre>\n<p>when I leave the jpaDialect.setPrepareConnection property as default as advised in the error message it works but I lose the routing functionality and all queries both reads and writes are sent to the primary instance. How do enable change of isolation level while still being able to route the the queries?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679065958,"post_id":75768814,"comment_id":133659523,"body_markdown":"I presume by inclination, you mean slope.  Why would you need that since the points themselves would be at the slope created by going from `point a` to `point b`?","body":"I presume by inclination, you mean slope.  Why would you need that since the points themselves would be at the slope created by going from <code>point a</code> to <code>point b</code>?"},{"owner":{"account_id":28043240,"reputation":11,"user_id":21420453,"display_name":"PhoenixTCD"},"score":0,"creation_date":1679075077,"post_id":75768814,"comment_id":133661951,"body_markdown":"Like a cartesian plane","body":"Like a cartesian plane"}],"answers":[{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679064996,"creation_date":1679064996,"answer_id":75769065,"question_id":75768814,"body_markdown":"In Java 2D, an object should generally be an instance of Component class to be drawn on the screen.\r\n\r\nJFrame is an indirect subclass of Component class. See [here][1] for the complete hierarchy.\r\n\r\nThe paint method of the component describes how does that object appear on the screen.\r\n\r\nTherefore, let&#39;s have a Template Class that has a constructor that takes these parameters, and overrides the paint method.:\r\n\r\n    import java.awt.Graphics;\r\n    import javax.swing.JFrame;\r\n    class Template extends JFrame{\r\n    \r\n        int p0x;\r\n        int p0y;\r\n        int p1x;\r\n        int p1y;\r\n    \r\n        public Template (int p0x,int p0y, int p1x ,int p1y){\r\n            super(&quot;Demo&quot;);\r\n            this.p0x = p0x;\r\n            this.p1x = p1x;\r\n            this.p0y = p0y;\r\n            this.p1y = p1y;\r\n            setSize(500, 500);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n        }\r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g); //to draw a JFrame!\r\n            g2d.drawLine(p0x, p0y, p1x, p1y);\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new Template(120, 50, 360, 50).setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    }\r\nOne last note: You don&#39;t need to use BufferedImage to draw lines.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"how to draw a line at different inclinations using java","body":"<p>In Java 2D, an object should generally be an instance of Component class to be drawn on the screen.</p>\n<p>JFrame is an indirect subclass of Component class. See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">here</a> for the complete hierarchy.</p>\n<p>The paint method of the component describes how does that object appear on the screen.</p>\n<p>Therefore, let's have a Template Class that has a constructor that takes these parameters, and overrides the paint method.:</p>\n<pre><code>import java.awt.Graphics;\nimport javax.swing.JFrame;\nclass Template extends JFrame{\n\n    int p0x;\n    int p0y;\n    int p1x;\n    int p1y;\n\n    public Template (int p0x,int p0y, int p1x ,int p1y){\n        super(&quot;Demo&quot;);\n        this.p0x = p0x;\n        this.p1x = p1x;\n        this.p0y = p0y;\n        this.p1y = p1y;\n        setSize(500, 500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g); //to draw a JFrame!\n        g2d.drawLine(p0x, p0y, p1x, p1y);\n    }\n \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Template(120, 50, 360, 50).setVisible(true);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>One last note: You don't need to use BufferedImage to draw lines.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679067925,"creation_date":1679067925,"answer_id":75769600,"question_id":75768814,"body_markdown":"You should not be painting directly into a `JFrame`.  Standard technique is to paint into a `JPanel` that is in the frame.\r\n\r\n- I reduced the size of the image for demonstration purposes.\r\n- The constructor is pretty standard to set up the frame, add the panel, and center it on the screen.\r\n- drawLine is called which draws the line over the image and calls repaint.\r\n  - Here I changed the color of the line to red\r\n  - and set its width to 3 pixels\r\n- overriding `paintComponent` is how you paint in `JPanel`\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Template extends JPanel {\r\n\r\n    private BufferedImage img;\r\n    private static int WIDTH = 500;\r\n    private static int HEIGHT = 400;\r\n    JFrame frame = new JFrame(&quot;TempLate&quot;);\r\n    private int p0x, p0y, p1x, p1y;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Template().start());\r\n    }\r\n\r\n    public Template() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(this);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null); // center\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void start() {\r\n        p0x = 50;\r\n        p0y = 50;\r\n        p1x = 200;\r\n        p1y = 200;\r\n        drawLine();\r\n        frame.repaint();\r\n    }\r\n    public void drawLine() {\r\n        img = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D imgG2D = (Graphics2D)img.getGraphics();\r\n        // ensure a smooth line\r\n        imgG2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        imgG2D.setColor(Color.RED);\r\n        imgG2D.setStroke(new BasicStroke(3));\r\n        imgG2D.drawLine(p0x, p0y, p1x, p1y);\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(WIDTH, HEIGHT);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (img == null) {\r\n             return;\r\n        }\r\n       \r\n        g.drawImage(img, 0, 0, this);\r\n    }\r\n\r\n}\r\n```\r\nFor more in painting check out [The Java Tutorials](http://docs.oracle.com/javase/tutorial/index.html)\r\n","title":"how to draw a line at different inclinations using java","body":"<p>You should not be painting directly into a <code>JFrame</code>.  Standard technique is to paint into a <code>JPanel</code> that is in the frame.</p>\n<ul>\n<li>I reduced the size of the image for demonstration purposes.</li>\n<li>The constructor is pretty standard to set up the frame, add the panel, and center it on the screen.</li>\n<li>drawLine is called which draws the line over the image and calls repaint.\n<ul>\n<li>Here I changed the color of the line to red</li>\n<li>and set its width to 3 pixels</li>\n</ul>\n</li>\n<li>overriding <code>paintComponent</code> is how you paint in <code>JPanel</code></li>\n</ul>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Template extends JPanel {\n\n    private BufferedImage img;\n    private static int WIDTH = 500;\n    private static int HEIGHT = 400;\n    JFrame frame = new JFrame(&quot;TempLate&quot;);\n    private int p0x, p0y, p1x, p1y;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Template().start());\n    }\n\n    public Template() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setLocationRelativeTo(null); // center\n        frame.setVisible(true);\n    }\n\n    public void start() {\n        p0x = 50;\n        p0y = 50;\n        p1x = 200;\n        p1y = 200;\n        drawLine();\n        frame.repaint();\n    }\n    public void drawLine() {\n        img = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n        Graphics2D imgG2D = (Graphics2D)img.getGraphics();\n        // ensure a smooth line\n        imgG2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        imgG2D.setColor(Color.RED);\n        imgG2D.setStroke(new BasicStroke(3));\n        imgG2D.drawLine(p0x, p0y, p1x, p1y);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(WIDTH, HEIGHT);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (img == null) {\n             return;\n        }\n       \n        g.drawImage(img, 0, 0, this);\n    }\n\n}\n</code></pre>\n<p>For more in painting check out <a href=\"http://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a></p>\n"}],"owner":{"account_id":28043240,"reputation":11,"user_id":21420453,"display_name":"PhoenixTCD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1679072678,"creation_date":1679063366,"question_id":75768814,"body_markdown":"Considering the points p0x, p0y, p1x and p1y, in addition to their relationships,\r\n```none\r\ndeltaX = (p1x-p0x)\r\n```\r\nand\r\n```none\r\ndeltaY = (p1y - p0y).\r\n```\r\nDevise a way to draw a line on an image, at any possible inclination. I want make this using `JFrame` but I don&#39;t now how to make this: \r\n```java\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class Template extends JFrame {\r\n\tprivate BufferedImage img;\r\n\r\n\tpublic Template() {\r\n\t\timg = new BufferedImage(1600, 1200, BufferedImage.TYPE_INT_RGB);\r\n\t\tsetBounds(10,10,1600,1200);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetTitle(&quot;Template&quot;);\r\n\t\tdrawLine();\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tprivate void drawLine(int p0x,int p0y, int p1x ,int p1y) {\r\n\t\tp0x = 50;\r\n\t\tp0y = 50;\r\n\t\tp1x = 200;\r\n\t\tp1y = 200;\r\n\t\tint deltaX = (p1x-p0x);\r\n\t\tint deltaY = (p1y - p0y);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tg.drawImage(img, 0, 0, this);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTemplate t = new Template();\r\n\t}\r\n}\r\n```\r\nAn algorithm to make a line in any possible inclination.","title":"how to draw a line at different inclinations using java","body":"<p>Considering the points p0x, p0y, p1x and p1y, in addition to their relationships,</p>\n<pre class=\"lang-none prettyprint-override\"><code>deltaX = (p1x-p0x)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>deltaY = (p1y - p0y).\n</code></pre>\n<p>Devise a way to draw a line on an image, at any possible inclination. I want make this using <code>JFrame</code> but I don't now how to make this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Graphics;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\n\npublic class Template extends JFrame {\n    private BufferedImage img;\n\n    public Template() {\n        img = new BufferedImage(1600, 1200, BufferedImage.TYPE_INT_RGB);\n        setBounds(10,10,1600,1200);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setTitle(&quot;Template&quot;);\n        drawLine();\n        setVisible(true);\n    }\n\n    private void drawLine(int p0x,int p0y, int p1x ,int p1y) {\n        p0x = 50;\n        p0y = 50;\n        p1x = 200;\n        p1y = 200;\n        int deltaX = (p1x-p0x);\n        int deltaY = (p1y - p0y);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        g.drawImage(img, 0, 0, this);\n    }\n    \n    public static void main(String[] args) {\n        Template t = new Template();\n    }\n}\n</code></pre>\n<p>An algorithm to make a line in any possible inclination.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1678901143,"post_id":75746542,"comment_id":133624486,"body_markdown":"Does this answer your question?  https://stackoverflow.com/a/72779662/9068895","body":"Does this answer your question?  <a href=\"https://stackoverflow.com/a/72779662/9068895\">stackoverflow.com/a/72779662/9068895</a>"},{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":0,"creation_date":1678955987,"post_id":75746542,"comment_id":133634045,"body_markdown":"@Alex everywhere its using predefined delay and retries. In my case I&#39;ll get the delay in handleResponse() response and there is no way to pass it to retryBackoff spec.","body":"@Alex everywhere its using predefined delay and retries. In my case I&#39;ll get the delay in handleResponse() response and there is no way to pass it to retryBackoff spec."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1679009597,"post_id":75746542,"comment_id":133648798,"body_markdown":"not sure I&#39;m following, but delay is initialized `delay = ...;`.  you can still do `delay = calculateDelay();`","body":"not sure I&#39;m following, but delay is initialized <code>delay = ...;</code>.  you can still do <code>delay = calculateDelay();</code>"},{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":0,"creation_date":1679035875,"post_id":75746542,"comment_id":133651916,"body_markdown":"Let&#39;s assime handleResponse returns an int value representing the amout of delay for next retry. How can I use the return value in RetryBackoffSpec?","body":"Let&#39;s assime handleResponse returns an int value representing the amout of delay for next retry. How can I use the return value in RetryBackoffSpec?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679072536,"creation_date":1679072536,"answer_id":75770306,"question_id":75746542,"body_markdown":"You can create custom `RetrySpec` based on criteria from the `RetrySignal` (e.g. http headers from the response).\r\n\r\nThe following example uses `Retry-After` header to define custom backoff logic.\r\n\r\n```\r\nprivate static class DynamicRetrySpec extends Retry {\r\n    private final int maxRetries;\r\n    private final Duration defaultBackoff;\r\n\r\n    public DynamicRetrySpec(int maxRetries, Duration defaultBackoff) {\r\n        this.maxRetries = maxRetries;\r\n        this.defaultBackoff = defaultBackoff;\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\r\n        return retrySignals.flatMap(this::getRetry);\r\n    }\r\n\r\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\r\n        if (rs.failure() instanceof WebClientResponseException.TooManyRequests) {\r\n            if (rs.totalRetries() &lt; maxRetries) {\r\n                Duration delay = getBackOffDelayFromHeaders((WebClientResponseException.TooManyRequests) rs.failure());\r\n\r\n                log.info(&quot;retry {} with backoff {}sec&quot;, rs.totalRetries(), delay.toSeconds());\r\n                return Mono.delay(delay)\r\n                        .thenReturn(rs.totalRetries());\r\n            } else {\r\n                log.info(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\r\n                throw Exceptions.propagate(rs.failure());\r\n            }\r\n        } else {\r\n            throw Exceptions.propagate(rs.failure());\r\n        }\r\n    }\r\n\r\n    private Duration getBackOffDelayFromHeaders(WebClientResponseException.TooManyRequests exceptionResponse) {\r\n        String retryAfter = exceptionResponse.getHeaders().getFirst(&quot;Retry-After&quot;);\r\n        if (retryAfter != null) {\r\n            return Duration.ofSeconds(Integer.parseInt(retryAfter));\r\n        }\r\n        return defaultBackoff;\r\n    }\r\n}\r\n```\r\n\r\nand then uses it to the `WebClient`\r\n```\r\nwebClient.get()\r\n    .uri(&quot;/api&quot;)\r\n    .retrieve()\r\n    .toBodilessEntity()\r\n    .retryWhen(new DynamicRetrySpec(3, Duration.ofSeconds(1)));\r\n```","title":"Dynamic Backoff duration in RetryBackoffSpec in spring webflux","body":"<p>You can create custom <code>RetrySpec</code> based on criteria from the <code>RetrySignal</code> (e.g. http headers from the response).</p>\n<p>The following example uses <code>Retry-After</code> header to define custom backoff logic.</p>\n<pre><code>private static class DynamicRetrySpec extends Retry {\n    private final int maxRetries;\n    private final Duration defaultBackoff;\n\n    public DynamicRetrySpec(int maxRetries, Duration defaultBackoff) {\n        this.maxRetries = maxRetries;\n        this.defaultBackoff = defaultBackoff;\n    }\n\n    @Override\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\n        return retrySignals.flatMap(this::getRetry);\n    }\n\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\n        if (rs.failure() instanceof WebClientResponseException.TooManyRequests) {\n            if (rs.totalRetries() &lt; maxRetries) {\n                Duration delay = getBackOffDelayFromHeaders((WebClientResponseException.TooManyRequests) rs.failure());\n\n                log.info(&quot;retry {} with backoff {}sec&quot;, rs.totalRetries(), delay.toSeconds());\n                return Mono.delay(delay)\n                        .thenReturn(rs.totalRetries());\n            } else {\n                log.info(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\n                throw Exceptions.propagate(rs.failure());\n            }\n        } else {\n            throw Exceptions.propagate(rs.failure());\n        }\n    }\n\n    private Duration getBackOffDelayFromHeaders(WebClientResponseException.TooManyRequests exceptionResponse) {\n        String retryAfter = exceptionResponse.getHeaders().getFirst(&quot;Retry-After&quot;);\n        if (retryAfter != null) {\n            return Duration.ofSeconds(Integer.parseInt(retryAfter));\n        }\n        return defaultBackoff;\n    }\n}\n</code></pre>\n<p>and then uses it to the <code>WebClient</code></p>\n<pre><code>webClient.get()\n    .uri(&quot;/api&quot;)\n    .retrieve()\n    .toBodilessEntity()\n    .retryWhen(new DynamicRetrySpec(3, Duration.ofSeconds(1)));\n</code></pre>\n"}],"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75770306,"answer_count":1,"score":1,"last_activity_date":1679072536,"creation_date":1678892635,"question_id":75746542,"body_markdown":"```\r\nMono.fromCallable(() -&gt; sendRequestToServer(params))\r\n        .doOnSuccess(result -&gt; handleResponse(result, grantMapEntry, deviceInfo))\r\n        .retryWhen(RetryBackoffSpec\r\n            .backoff(5, ofSeconds(10))\r\n            .doAfterRetry(retryInfo -&gt; {\r\n                  log.warn(&quot;retrying&quot;);\r\n             })\r\n            .scheduler(hbRetryScheduler)\r\n            .jitter(0.5);)\r\n        .subscribe();\r\n```\r\nAbove spec. works fine, but the problem is sometimes server is not able to process the request and returns 106 response code with retryTime in seconds (seconds after which the request should be retried with backoff and jitter). How can I use the returned retryTime in RetryBackoffSpec? ","title":"Dynamic Backoff duration in RetryBackoffSpec in spring webflux","body":"<pre><code>Mono.fromCallable(() -&gt; sendRequestToServer(params))\n        .doOnSuccess(result -&gt; handleResponse(result, grantMapEntry, deviceInfo))\n        .retryWhen(RetryBackoffSpec\n            .backoff(5, ofSeconds(10))\n            .doAfterRetry(retryInfo -&gt; {\n                  log.warn(&quot;retrying&quot;);\n             })\n            .scheduler(hbRetryScheduler)\n            .jitter(0.5);)\n        .subscribe();\n</code></pre>\n<p>Above spec. works fine, but the problem is sometimes server is not able to process the request and returns 106 response code with retryTime in seconds (seconds after which the request should be retried with backoff and jitter). How can I use the returned retryTime in RetryBackoffSpec?</p>\n"},{"tags":["java","arrays","stack-overflow","quicksort"],"comments":[{"owner":{"account_id":20595037,"reputation":210,"user_id":15117694,"display_name":"Alphaharrius"},"score":0,"creation_date":1678820850,"post_id":75737144,"comment_id":133606802,"body_markdown":"Just from your description, you might be running into this error because of too many recursive calls on the ```quickSort``` method due to a &#39;bad&#39; partitioning of your dataset during the sorting runs.\n\nCheck out [this post](https://stackoverflow.com/questions/18368406/java-lang-stackoverflowerror-due-to-recursion) for more information.","body":"Just from your description, you might be running into this error because of too many recursive calls on the <code>quickSort</code> method due to a &#39;bad&#39; partitioning of your dataset during the sorting runs.  Check out <a href=\"https://stackoverflow.com/questions/18368406/java-lang-stackoverflowerror-due-to-recursion\">this post</a> for more information."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1678824402,"post_id":75737144,"comment_id":133607750,"body_markdown":"thanks, with that logic I found a way to avoid so many recursive calls during execution. I fixed it!","body":"thanks, with that logic I found a way to avoid so many recursive calls during execution. I fixed it!"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679060507,"post_id":75737144,"comment_id":133657848,"body_markdown":"Can you tell which line is concerned by the stackoverflow ?","body":"Can you tell which line is concerned by the stackoverflow ?"},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1679064736,"post_id":75737144,"comment_id":133659109,"body_markdown":"this one: `int pivot = partition(arr, start, end);`. I think the program gave me that as the problem for stack-overflow because after quick sort called itself a last time, there was no more space available in the stack, and since calling the partition method puts one more method call in the stack, and we don&#39;t have more available space, it just collapses","body":"this one: <code>int pivot = partition(arr, start, end);</code>. I think the program gave me that as the problem for stack-overflow because after quick sort called itself a last time, there was no more space available in the stack, and since calling the partition method puts one more method call in the stack, and we don&#39;t have more available space, it just collapses"}],"answers":[{"tags":[],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678827767,"creation_date":1678825156,"answer_id":75737997,"question_id":75737144,"body_markdown":"So having elements already sorted and choosing always as a pivot the last element would mean that every time you recurse and partition the elements, all of the elements of the array are absolutely going to be less than the pivot and no element would be greater than it.\r\nThis would cause unbalanced partitions, and so the line of code of the low partition `quickSort(arr, start, pivot - 1);` would have to make a lot more recursive calls than the normal causing a stack-overflow. This is the worst case scenario in Quick Sort (O(n^2)).\r\n\r\nTo fix it, what I did was making the algorithm choose random pivots instead of choosing always the last element as the pivot in the following fashion:\r\n\r\n```java\r\nprivate static int partition(String[] arr, int start, int end) {\r\n        int randomIndex = new Random().nextInt(end - start + 1) + start; // random pivot to avoid worst case scenario more often during recursion (when array is already sorted)\r\n        String pivot = arr[randomIndex];\r\n        int i = start - 1;\r\n\r\n        String temp = arr[randomIndex];\r\n        arr[randomIndex] = arr[end];\r\n        arr[end] = temp;\r\n\r\n        for (int j = start; j &lt; end; ++j)\r\n        {\r\n            if (arr[j].compareTo(pivot) &lt; 0)\r\n            {\r\n                ++i;\r\n                temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n        }\r\n        ++i;\r\n        temp = arr[i];\r\n        arr[i] = pivot;\r\n        arr[end] = temp;\r\n\r\n        return i;\r\n    }\r\n```\r\n\r\nMore explanation:\r\n\r\n- Why `nextInt(end - start + 1) + start;`? \r\n\r\nWe need to choose the element at a random index within that specific partition of the array. This parameter will generate a number between 0 to the last index `end - start` of the partition (not inclusive). To include the last index as a possible pivot. We must add one.\r\nWe then add to the result the smallest index because we do not want indexes of the low partition being included. When the method is doing the high partition, the lowest index is not going to be 0 but a higher number. When we add the lowest index to the result, we exclude all the numbers lower than that number to being possible pivots.\r\n\r\n- Why do we swap before entering the for loop?\r\n\r\nBecause we are still following the same logic as before; that of incrementing i every time we find a greater element than the pivot without moving the pivot from the last index and changing it accidentally. Then, at the very end, we swap the last element where the pivot remained safely from any swaps with the subsequent index of the last smallest element than the pivot.\r\n\r\nTo perform the previous, we must make sure than our pivot element is indeed in the last index before any swaps. That is why before entering the for loop, we swap.","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>So having elements already sorted and choosing always as a pivot the last element would mean that every time you recurse and partition the elements, all of the elements of the array are absolutely going to be less than the pivot and no element would be greater than it.\nThis would cause unbalanced partitions, and so the line of code of the low partition <code>quickSort(arr, start, pivot - 1);</code> would have to make a lot more recursive calls than the normal causing a stack-overflow. This is the worst case scenario in Quick Sort (O(n^2)).</p>\n<p>To fix it, what I did was making the algorithm choose random pivots instead of choosing always the last element as the pivot in the following fashion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int partition(String[] arr, int start, int end) {\n        int randomIndex = new Random().nextInt(end - start + 1) + start; // random pivot to avoid worst case scenario more often during recursion (when array is already sorted)\n        String pivot = arr[randomIndex];\n        int i = start - 1;\n\n        String temp = arr[randomIndex];\n        arr[randomIndex] = arr[end];\n        arr[end] = temp;\n\n        for (int j = start; j &lt; end; ++j)\n        {\n            if (arr[j].compareTo(pivot) &lt; 0)\n            {\n                ++i;\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n        ++i;\n        temp = arr[i];\n        arr[i] = pivot;\n        arr[end] = temp;\n\n        return i;\n    }\n</code></pre>\n<p>More explanation:</p>\n<ul>\n<li>Why <code>nextInt(end - start + 1) + start;</code>?</li>\n</ul>\n<p>We need to choose the element at a random index within that specific partition of the array. This parameter will generate a number between 0 to the last index <code>end - start</code> of the partition (not inclusive). To include the last index as a possible pivot. We must add one.\nWe then add to the result the smallest index because we do not want indexes of the low partition being included. When the method is doing the high partition, the lowest index is not going to be 0 but a higher number. When we add the lowest index to the result, we exclude all the numbers lower than that number to being possible pivots.</p>\n<ul>\n<li>Why do we swap before entering the for loop?</li>\n</ul>\n<p>Because we are still following the same logic as before; that of incrementing i every time we find a greater element than the pivot without moving the pivot from the last index and changing it accidentally. Then, at the very end, we swap the last element where the pivot remained safely from any swaps with the subsequent index of the last smallest element than the pivot.</p>\n<p>To perform the previous, we must make sure than our pivot element is indeed in the last index before any swaps. That is why before entering the for loop, we swap.</p>\n"},{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678833451,"creation_date":1678833451,"answer_id":75739001,"question_id":75737144,"body_markdown":"The stack overflow can be prevented by only using recursion on the smaller partition, and looping back for the larger partition, with stack space complexity O(log2(n)), but the worst case time complexity remains the same at O(n^2), and 600000 elements may take too long:\r\n\r\n    private static void quickSort(String[] arr, int start, int end) {\r\n        while(end &gt; start){\r\n            int pivot = partition(arr, start, end);\r\n            if((pivot - start) &lt;= (end - pivot)){\r\n                quickSort(arr, start, pivot - 1);\r\n                start = pivot+1;\r\n            } else {\r\n                quickSort(arr, pivot + 1, end);\r\n                end = pivot-1;\r\n            }\r\n        }\r\n    }\r\n\r\nA better choice for pivot would be to use the middle value, median of three, or random pivot as shown in Sheep_Walker&#39;s answer.\r\n","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>The stack overflow can be prevented by only using recursion on the smaller partition, and looping back for the larger partition, with stack space complexity O(log2(n)), but the worst case time complexity remains the same at O(n^2), and 600000 elements may take too long:</p>\n<pre><code>private static void quickSort(String[] arr, int start, int end) {\n    while(end &gt; start){\n        int pivot = partition(arr, start, end);\n        if((pivot - start) &lt;= (end - pivot)){\n            quickSort(arr, start, pivot - 1);\n            start = pivot+1;\n        } else {\n            quickSort(arr, pivot + 1, end);\n            end = pivot-1;\n        }\n    }\n}\n</code></pre>\n<p>A better choice for pivot would be to use the middle value, median of three, or random pivot as shown in Sheep_Walker's answer.</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75739001,"answer_count":2,"score":1,"last_activity_date":1679072450,"creation_date":1678819111,"question_id":75737144,"body_markdown":"So when I test the algorithm with that huge array, it works fine; sorts everything perfectly. But when I test it with the same array already sorted, I get stackOverFlow. I read similar questions on this, but I couldn&#39;t really get a grasp of people&#39;s explanations in those questions. How can I fix it?\r\n\r\nThis is the quick sort implementation:\r\n```java\r\nprivate static void quickSort(String[] arr, int start, int end) {\r\n    \r\n    if (end &lt;= start) return;\r\n\r\n    int pivot = partition(arr, start, end);\r\n    quickSort(arr, start, pivot - 1);\r\n    quickSort(arr, pivot + 1, end);\r\n\r\n}\r\n\r\nprivate static int partition(String[] arr, int start, int end) {\r\n    \r\n    String pivot = arr[end];\r\n    int i = start - 1;\r\n\r\n    for (int j = start; j &lt; end; ++j)\r\n    {\r\n        if (arr[j].compareTo(pivot) &lt; 0)\r\n        {\r\n            ++i;\r\n            String temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n        }\r\n    }\r\n    ++i;\r\n    String temp = arr[i];\r\n    arr[i] = pivot;\r\n    arr[end] = temp;\r\n\r\n    return i;\r\n}\r\n```\r\nPart where code is tested:\r\n```java\r\nList&lt;String&gt; arr = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);\r\n\r\nString[] arr2 = arr.toArray(new String[arr.size()]);\r\nString[] arr3 = arr2.clone();\r\n\r\nlong startTime41 = System.nanoTime();\r\nSorting.quickSort(arr3);\r\nlong endTime41 = System.nanoTime();\r\nlong timeLapsed41 = endTime41 - startTime41;\r\n\r\nSorting.quickSort(arr3); // StackOverFlow when sorting here\r\n```","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>So when I test the algorithm with that huge array, it works fine; sorts everything perfectly. But when I test it with the same array already sorted, I get stackOverFlow. I read similar questions on this, but I couldn't really get a grasp of people's explanations in those questions. How can I fix it?</p>\n<p>This is the quick sort implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void quickSort(String[] arr, int start, int end) {\n    \n    if (end &lt;= start) return;\n\n    int pivot = partition(arr, start, end);\n    quickSort(arr, start, pivot - 1);\n    quickSort(arr, pivot + 1, end);\n\n}\n\nprivate static int partition(String[] arr, int start, int end) {\n    \n    String pivot = arr[end];\n    int i = start - 1;\n\n    for (int j = start; j &lt; end; ++j)\n    {\n        if (arr[j].compareTo(pivot) &lt; 0)\n        {\n            ++i;\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n    }\n    ++i;\n    String temp = arr[i];\n    arr[i] = pivot;\n    arr[end] = temp;\n\n    return i;\n}\n</code></pre>\n<p>Part where code is tested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; arr = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);\n\nString[] arr2 = arr.toArray(new String[arr.size()]);\nString[] arr3 = arr2.clone();\n\nlong startTime41 = System.nanoTime();\nSorting.quickSort(arr3);\nlong endTime41 = System.nanoTime();\nlong timeLapsed41 = endTime41 - startTime41;\n\nSorting.quickSort(arr3); // StackOverFlow when sorting here\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1560946359,"creation_date":1560946359,"answer_id":56667362,"question_id":56667274,"body_markdown":"You need to chain `maxBy` to the `groupinhBy` collectior:\r\n\r\n\r\n    Map&lt;String,Record&gt; result = \r\n        list.stream()\r\n            .sorted(Comparator.comparing(Record::score))\r\n            .collect(Collectors.groupingBy(Record::name, \r\n                                           LinkedHashMap::new,\r\n                                           Collectors.maxBy(Comparator.comparing(Record::getScore))));\r\n\r\nAnd if you only care about the `Record` instances, you can obtain the `values()` of that `Map`.","title":"Sort and group by and find max of each group in Java 8","body":"<p>You need to chain <code>maxBy</code> to the <code>groupinhBy</code> collectior:</p>\n\n<pre><code>Map&lt;String,Record&gt; result = \n    list.stream()\n        .sorted(Comparator.comparing(Record::score))\n        .collect(Collectors.groupingBy(Record::name, \n                                       LinkedHashMap::new,\n                                       Collectors.maxBy(Comparator.comparing(Record::getScore))));\n</code></pre>\n\n<p>And if you only care about the <code>Record</code> instances, you can obtain the <code>values()</code> of that <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594992052,"creation_date":1560950659,"answer_id":56668728,"question_id":56667274,"body_markdown":"@Eran&#39;s answer is very good. Nevertheless, I would proceed the other way round by first grouping and then reducing:\r\n\r\n    List&lt;Record&gt; result = list.stream()\r\n                                  .collect(Collectors.groupingBy(Record::getName, \r\n                                          Collectors.maxBy(Comparator.comparing(Record::getScore))))\r\n                                  .values().stream()\r\n                                  .map(Optional::get)\r\n                                  .collect(Collectors.toList());\r\nA disadvantage here is that you have to call optional#get. But since a group resulting from groupingBy will never be empty you can call Optional#get without geting an exception.","title":"Sort and group by and find max of each group in Java 8","body":"<p>@Eran's answer is very good. Nevertheless, I would proceed the other way round by first grouping and then reducing:</p>\n<pre><code>List&lt;Record&gt; result = list.stream()\n                              .collect(Collectors.groupingBy(Record::getName, \n                                      Collectors.maxBy(Comparator.comparing(Record::getScore))))\n                              .values().stream()\n                              .map(Optional::get)\n                              .collect(Collectors.toList());\n</code></pre>\n<p>A disadvantage here is that you have to call optional#get. But since a group resulting from groupingBy will never be empty you can call Optional#get without geting an exception.</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679071770,"creation_date":1679071770,"answer_id":75770180,"question_id":56667274,"body_markdown":"There&#39;s no need for grouping if only one value (score) is collected per key (name). We can directly use `Collectors.toMap()` with its three-argument overload and provide a `mergeFunction`.\r\n\r\n        Map&lt;String, Integer&gt; hiScoreByName = list.stream().collect(Collectors.toMap(\r\n                Record::getName,\r\n                Record::getScore,\r\n                BinaryOperator.maxBy(Integer::compareTo)\r\n        ));\r\n        // {a=9, b=10, c=8}","title":"Sort and group by and find max of each group in Java 8","body":"<p>There's no need for grouping if only one value (score) is collected per key (name). We can directly use <code>Collectors.toMap()</code> with its three-argument overload and provide a <code>mergeFunction</code>.</p>\n<pre><code>    Map&lt;String, Integer&gt; hiScoreByName = list.stream().collect(Collectors.toMap(\n            Record::getName,\n            Record::getScore,\n            BinaryOperator.maxBy(Integer::compareTo)\n    ));\n    // {a=9, b=10, c=8}\n</code></pre>\n"}],"owner":{"account_id":14362570,"reputation":164,"user_id":10374509,"display_name":"Shraddha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6463,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56667362,"answer_count":3,"score":6,"last_activity_date":1679071770,"creation_date":1560945989,"question_id":56667274,"body_markdown":"I have an object which has a name and a score. I want to sort the elements by name and find the max score for that name.\r\n\r\nFor example below are the objects (*name*, *score*):\r\n``` \r\n(a, 3)\r\n(a, 9)\r\n(b, 7)\r\n(b, 10)\r\n(c, 8)\r\n(c, 3)\r\n``` \r\n\r\nThe output should be:\r\n\r\n```\r\n(a, 9)\r\n(b, 10)\r\n(c, 8)\r\n```\r\n\r\nI am able to sort using the below code, but I am not able to find out *max*\r\n\r\n\r\n```\r\nList&lt;Record&gt; result = list.stream()\r\n        .sorted(Comparator.comparing(Record::score))\r\n\t\t.collect(Collectors.groupingBy(Record::name, LinkedHashMap::new, Collectors.toList()))\r\n\t\t.values().stream()\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.collect(Collectors.toList());\r\n```","title":"Sort and group by and find max of each group in Java 8","body":"<p>I have an object which has a name and a score. I want to sort the elements by name and find the max score for that name.</p>\n\n<p>For example below are the objects (<em>name</em>, <em>score</em>):</p>\n\n<pre><code>(a, 3)\n(a, 9)\n(b, 7)\n(b, 10)\n(c, 8)\n(c, 3)\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>(a, 9)\n(b, 10)\n(c, 8)\n</code></pre>\n\n<p>I am able to sort using the below code, but I am not able to find out <em>max</em></p>\n\n<pre><code>List&lt;Record&gt; result = list.stream()\n        .sorted(Comparator.comparing(Record::score))\n        .collect(Collectors.groupingBy(Record::name, LinkedHashMap::new, Collectors.toList()))\n        .values().stream()\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1484741670,"creation_date":1484741670,"answer_id":41719150,"question_id":41719097,"body_markdown":"The `map` call in\r\n\r\n    movies.stream().map(Movie::getMovieTranses)\r\n\r\nconverts a `Stream&lt;Movie&gt;` to a `Stream&lt;List&lt;MovieTrans&gt;&gt;`, which you can collect into a `List&lt;List&lt;MovieTrans&gt;&gt;`, not a `List&lt;MovieTrans&gt;`.\r\n\r\nTo get a single `List&lt;MovieTrans&gt;`, use `flatMap` :\r\n\r\n    List&lt;MovieTrans&gt; movieTransList1 = \r\n        movies.stream()\r\n              .flatMap(m -&gt; m.getMovieTranses().stream())\r\n              .collect(Collectors.toList());","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>The <code>map</code> call in</p>\n\n<pre><code>movies.stream().map(Movie::getMovieTranses)\n</code></pre>\n\n<p>converts a <code>Stream&lt;Movie&gt;</code> to a <code>Stream&lt;List&lt;MovieTrans&gt;&gt;</code>, which you can collect into a <code>List&lt;List&lt;MovieTrans&gt;&gt;</code>, not a <code>List&lt;MovieTrans&gt;</code>.</p>\n\n<p>To get a single <code>List&lt;MovieTrans&gt;</code>, use <code>flatMap</code> :</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList1 = \n    movies.stream()\n          .flatMap(m -&gt; m.getMovieTranses().stream())\n          .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484742921,"creation_date":1484741675,"answer_id":41719156,"question_id":41719097,"body_markdown":"The type of your expression is `List&lt;List&lt;MovieTrans&gt;&gt;`: it&#39;s the concatenation of the results of the `getMovieTranses` method.\r\n\r\nUse `flatMap` instead:\r\n\r\n    List&lt;MovieTrans&gt; movieTransList1 = movies.stream()\r\n        .flatMap(m -&gt; m.getMovieTranses().stream())\r\n        .collect(Collectors.toList());","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>The type of your expression is <code>List&lt;List&lt;MovieTrans&gt;&gt;</code>: it's the concatenation of the results of the <code>getMovieTranses</code> method.</p>\n\n<p>Use <code>flatMap</code> instead:</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList1 = movies.stream()\n    .flatMap(m -&gt; m.getMovieTranses().stream())\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44551,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41719150,"answer_count":2,"score":7,"last_activity_date":1679071609,"creation_date":1484741489,"question_id":41719097,"body_markdown":"i try to get a list from a stream but i have an exception.\r\n\r\nHere is the Movie object with a list of an object.\r\n\r\n    public class Movie {\r\n    \r\n        private String example;\r\n        private List&lt;MovieTrans&gt; movieTranses;\r\n    \r\n        public Movie(String example, List&lt;MovieTrans&gt; movieTranses){\r\n            this.example = example;\r\n            this.movieTranses = movieTranses;\r\n        }\r\n        getter and setter\r\n\r\nHere is the MovieTrans:\r\n\r\n    public class MovieTrans {\r\n    \r\n        public String text;\r\n    \r\n        public MovieTrans(String text){\r\n            this.text = text;\r\n        }\r\n        getter and setter\r\n\r\n\r\ni add the element in the lists:\r\n\r\n    List&lt;MovieTrans&gt; movieTransList = Arrays.asList(new MovieTrans(&quot;Appel me&quot;), new MovieTrans(&quot;je t&#39;appel&quot;));\r\n    List&lt;Movie&gt; movies = Arrays.asList(new Movie(&quot;movie played&quot;, movieTransList));\r\n    //return a list of MovieTrans\r\n    List&lt;MovieTrans&gt; movieTransList1 = movies.stream().map(Movie::getMovieTranses).collect(Collectors.toList());\r\n\r\n\r\ni have this compiler error:\r\n\r\n    Error:(44, 95) java: incompatible types: inference variable T has incompatible bounds\r\n        equality constraints: MovieTrans\r\n        lower bounds: java.util.List&lt;MovieTrans&gt;","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>i try to get a list from a stream but i have an exception.</p>\n\n<p>Here is the Movie object with a list of an object.</p>\n\n<pre><code>public class Movie {\n\n    private String example;\n    private List&lt;MovieTrans&gt; movieTranses;\n\n    public Movie(String example, List&lt;MovieTrans&gt; movieTranses){\n        this.example = example;\n        this.movieTranses = movieTranses;\n    }\n    getter and setter\n</code></pre>\n\n<p>Here is the MovieTrans:</p>\n\n<pre><code>public class MovieTrans {\n\n    public String text;\n\n    public MovieTrans(String text){\n        this.text = text;\n    }\n    getter and setter\n</code></pre>\n\n<p>i add the element in the lists:</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList = Arrays.asList(new MovieTrans(\"Appel me\"), new MovieTrans(\"je t'appel\"));\nList&lt;Movie&gt; movies = Arrays.asList(new Movie(\"movie played\", movieTransList));\n//return a list of MovieTrans\nList&lt;MovieTrans&gt; movieTransList1 = movies.stream().map(Movie::getMovieTranses).collect(Collectors.toList());\n</code></pre>\n\n<p>i have this compiler error:</p>\n\n<pre><code>Error:(44, 95) java: incompatible types: inference variable T has incompatible bounds\n    equality constraints: MovieTrans\n    lower bounds: java.util.List&lt;MovieTrans&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","email"],"comments":[{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1679048468,"post_id":75766219,"comment_id":133654902,"body_markdown":"try updating your @Bean method name to getJavaMailSender() or javaMailSender()","body":"try updating your @Bean method name to getJavaMailSender() or javaMailSender()"},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1679048779,"post_id":75766219,"comment_id":133654976,"body_markdown":"@NavneetSingh just tried both names but I get the same error when running the app","body":"@NavneetSingh just tried both names but I get the same error when running the app"},{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1679049244,"post_id":75766219,"comment_id":133655070,"body_markdown":"need to see more code then","body":"need to see more code then"},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1679052637,"post_id":75766219,"comment_id":133655846,"body_markdown":"All right I understand. What code do you want me to add ?","body":"All right I understand. What code do you want me to add ?"},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1695334713,"post_id":75766219,"comment_id":136014468,"body_markdown":"nowadays, this problem is usually not caused by _lacking_ the library, but by having _conflicting versions_ of it in the classpath. Try doing `gradle dependencies` and look for one library forcing a bump to other&#39;s transitive deps - that&#39;s the most usual case here.","body":"nowadays, this problem is usually not caused by <i>lacking</i> the library, but by having <i>conflicting versions</i> of it in the classpath. Try doing <code>gradle dependencies</code> and look for one library forcing a bump to other&#39;s transitive deps - that&#39;s the most usual case here."}],"answers":[{"tags":[],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679071554,"creation_date":1679071554,"answer_id":75770153,"question_id":75766219,"body_markdown":"I got around the problem by using the jakarta.mail dependency which worked perfectly. \r\nThis solution implies not to use Spring Components but I didnt know how to work my way around with them.","title":"ClassNotFoundException: javax.activation.FileTypeMap when building java springboot mail sender","body":"<p>I got around the problem by using the jakarta.mail dependency which worked perfectly.\nThis solution implies not to use Spring Components but I didnt know how to work my way around with them.</p>\n"}],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75770153,"answer_count":1,"score":0,"last_activity_date":1679071554,"creation_date":1679047368,"question_id":75766219,"body_markdown":"I am trying to learn how to send email in a Java SpringBoot application. I have two classes : EmailSenderService and EmailConfig, respectively in the Service and Configuration packages. When I try to run the project, I am facing the following error : `java.lang.ClassNotFoundException: javax.activation.FileTypeMap`\r\n\r\nI have tried including several dependencies (including javax.activation, jakarta.activation, etc...) but it does not solve the problem.\r\n\r\nThe full error trace is : \r\n\r\n       org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailSenderService&#39;: Unsatisfied dependency expressed through field &#39;javaMailSender&#39;: Error creating bean with name &#39;mailSender&#39; defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at com.aventix.api.AventixApplication.main(AventixApplication.java:43) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mailSender&#39; defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 20 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 33 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/activation/FileTypeMap\r\n            at com.aventix.api.configuration.EmailConfig.mailSender(EmailConfig.java:16) ~[classes/:na]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.CGLIB$mailSender$0(&lt;generated&gt;) ~[classes/:na]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n            at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.mailSender(&lt;generated&gt;) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 34 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.activation.FileTypeMap\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n            ... 45 common frames omitted\r\n\r\nThe classes are as shown below : \r\n\r\nEmailSenderService :\r\n\r\n    package com.aventix.api.service;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.MailException;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    \r\n    @Service\r\n    public class EmailSenderService {\r\n    \r\n        @Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \r\n        public void sendSimpleMessage(String to, String subject, String text) {\r\n            try {\r\n                SimpleMailMessage message = new SimpleMailMessage();\r\n                message.setFrom(&quot;bastinus1er@gmail.com&quot;);\r\n                message.setTo(to);\r\n                message.setSubject(subject);\r\n                message.setText(text);\r\n    \r\n                javaMailSender.send(message);\r\n            } catch (MailException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nEmailConfig : \r\n\r\n    package com.aventix.api.configuration;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n    \r\n    @Configuration\r\n    public class EmailConfig {\r\n    \t\r\n    \t@Bean\r\n        public JavaMailSender mailSender(){\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    \r\n            mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n            mailSender.setPort(587);\r\n            mailSender.setUsername(&quot;******&quot;);\r\n            mailSender.setPassword(&quot;******&quot;);\r\n    \r\n            return mailSender;\r\n        }\r\n    \r\n    }","title":"ClassNotFoundException: javax.activation.FileTypeMap when building java springboot mail sender","body":"<p>I am trying to learn how to send email in a Java SpringBoot application. I have two classes : EmailSenderService and EmailConfig, respectively in the Service and Configuration packages. When I try to run the project, I am facing the following error : <code>java.lang.ClassNotFoundException: javax.activation.FileTypeMap</code></p>\n<p>I have tried including several dependencies (including javax.activation, jakarta.activation, etc...) but it does not solve the problem.</p>\n<p>The full error trace is :</p>\n<pre><code>   org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailSenderService': Unsatisfied dependency expressed through field 'javaMailSender': Error creating bean with name 'mailSender' defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.aventix.api.AventixApplication.main(AventixApplication.java:43) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailSender' defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 20 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 33 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/activation/FileTypeMap\n        at com.aventix.api.configuration.EmailConfig.mailSender(EmailConfig.java:16) ~[classes/:na]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.CGLIB$mailSender$0(&lt;generated&gt;) ~[classes/:na]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.4.jar:6.0.4]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.4.jar:6.0.4]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.mailSender(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 34 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.activation.FileTypeMap\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        ... 45 common frames omitted\n</code></pre>\n<p>The classes are as shown below :</p>\n<p>EmailSenderService :</p>\n<pre><code>package com.aventix.api.service;\n\nimport org.springframework.stereotype.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.MailException;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\n\n@Service\npublic class EmailSenderService {\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    public void sendSimpleMessage(String to, String subject, String text) {\n        try {\n            SimpleMailMessage message = new SimpleMailMessage();\n            message.setFrom(&quot;bastinus1er@gmail.com&quot;);\n            message.setTo(to);\n            message.setSubject(subject);\n            message.setText(text);\n\n            javaMailSender.send(message);\n        } catch (MailException exception) {\n            exception.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>EmailConfig :</p>\n<pre><code>package com.aventix.api.configuration;\n\nimport java.util.Properties;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\n@Configuration\npublic class EmailConfig {\n    \n    @Bean\n    public JavaMailSender mailSender(){\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\n        mailSender.setPort(587);\n        mailSender.setUsername(&quot;******&quot;);\n        mailSender.setPassword(&quot;******&quot;);\n\n        return mailSender;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","jpa"],"owner":{"account_id":28043937,"reputation":1,"user_id":21421041,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679071306,"creation_date":1679068779,"question_id":75769738,"body_markdown":"How can I join these 4 methods into one that returns `List&lt;UserDO&gt;`? \r\n```java\r\nJPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DIV_AS_PR)\r\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n```java\r\nJPAQuery&lt;DepartmentAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DEP_AS_PR)\r\n        .from(Q_DEP_AS_PR, Q_USER, Q_PROJ, Q_TEAM, Q_DIVISION, Q_DEPARTMENT)\r\n        .where(Q_DEP_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DEP_AS_PR.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEP_AS_PR.department.id))\r\n        .where(Q_DIVISION.id.eq(Q_DEPARTMENT.division.id));\r\n```\r\n```java\r\nJPAQuery&lt;TeamAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_TEAM_AS_PR)\r\n        .from(Q_TEAM_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_TEAM_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_TEAM_AS_PR.team.id.eq(Q_TEAM.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n\r\n```java\r\n JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DIV_AS_PR)\r\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n\r\n\r\n\r\nI have tried to build my own query, but it always returns less users than what I expect, about 5% less. The logic is built so that each user assigned to a project has a team. Each team has a department and each department has a division. \r\n```java\r\nJPAQuery&lt;UserDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n  .select(Q_USER)\r\n  .from(Q_USER)\r\n\r\n  .leftJoin(Q_USER.defProject, Q_PROJ)\r\n  .leftJoin(Q_PROJ.divisionAssignedProjects, Q_DIV_AS_PR)\r\n  .leftJoin(Q_PROJ.departmentAssignedProjects, Q_DEP_AS_PR)\r\n  .leftJoin(Q_PROJ.teamAssignedProjects, Q_TEAM_AS_PR)\r\n  .leftJoin(Q_PROJ.assignedProjects, Q_USER_AS_PR)\r\n\r\n  .leftJoin(Q_USER.defTeam, Q_TEAM)\r\n  .leftJoin(Q_TEAM.department, Q_DEPARTMENT)\r\n  .leftJoin(Q_DEPARTMENT.division, Q_DIVISION)\r\n  .leftJoin(Q_DIV_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_DIV_AS_PR.division, Q_DIVISION)\r\n  .leftJoin(Q_DEP_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_DEP_AS_PR.department, Q_DEPARTMENT)\r\n  .leftJoin(Q_TEAM_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_TEAM_AS_PR.team, Q_TEAM)\r\n  .leftJoin(Q_USER_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_USER_AS_PR.user, Q_USER);\r\n```","title":"Joining 4 JPAQuery methods to only one","body":"<p>How can I join these 4 methods into one that returns <code>List&lt;UserDO&gt;</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DIV_AS_PR)\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;DepartmentAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DEP_AS_PR)\n        .from(Q_DEP_AS_PR, Q_USER, Q_PROJ, Q_TEAM, Q_DIVISION, Q_DEPARTMENT)\n        .where(Q_DEP_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DEP_AS_PR.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEP_AS_PR.department.id))\n        .where(Q_DIVISION.id.eq(Q_DEPARTMENT.division.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;TeamAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_TEAM_AS_PR)\n        .from(Q_TEAM_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_TEAM_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_TEAM_AS_PR.team.id.eq(Q_TEAM.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code> JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DIV_AS_PR)\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<p>I have tried to build my own query, but it always returns less users than what I expect, about 5% less. The logic is built so that each user assigned to a project has a team. Each team has a department and each department has a division.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;UserDO&gt; q = new JPAQuery&lt;&gt;(em)\n  .select(Q_USER)\n  .from(Q_USER)\n\n  .leftJoin(Q_USER.defProject, Q_PROJ)\n  .leftJoin(Q_PROJ.divisionAssignedProjects, Q_DIV_AS_PR)\n  .leftJoin(Q_PROJ.departmentAssignedProjects, Q_DEP_AS_PR)\n  .leftJoin(Q_PROJ.teamAssignedProjects, Q_TEAM_AS_PR)\n  .leftJoin(Q_PROJ.assignedProjects, Q_USER_AS_PR)\n\n  .leftJoin(Q_USER.defTeam, Q_TEAM)\n  .leftJoin(Q_TEAM.department, Q_DEPARTMENT)\n  .leftJoin(Q_DEPARTMENT.division, Q_DIVISION)\n  .leftJoin(Q_DIV_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_DIV_AS_PR.division, Q_DIVISION)\n  .leftJoin(Q_DEP_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_DEP_AS_PR.department, Q_DEPARTMENT)\n  .leftJoin(Q_TEAM_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_TEAM_AS_PR.team, Q_TEAM)\n  .leftJoin(Q_USER_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_USER_AS_PR.user, Q_USER);\n</code></pre>\n"},{"tags":["java","rest","integration-testing","quarkus","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659523378,"creation_date":1659523378,"answer_id":73220360,"question_id":71022998,"body_markdown":"If you set the System property &quot;quarkus.http.test-host&quot;, the QuarkusIntegrationTest won&#39;t start the application but uses the application running on a remote host defined by this property (and optionally the test-port)\r\n\r\n\tSystem.setProperty(&quot;quarkus.http.test-host&quot;, &quot;localhost&quot;);\r\n\tSystem.setProperty(&quot;quarkus.http.test-port&quot;, &quot;8080&quot;);\r\n\r\nSee here https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application","title":"Quarkus integration testing against running application","body":"<p>If you set the System property &quot;quarkus.http.test-host&quot;, the QuarkusIntegrationTest won't start the application but uses the application running on a remote host defined by this property (and optionally the test-port)</p>\n<pre><code>System.setProperty(&quot;quarkus.http.test-host&quot;, &quot;localhost&quot;);\nSystem.setProperty(&quot;quarkus.http.test-port&quot;, &quot;8080&quot;);\n</code></pre>\n<p>See here <a href=\"https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application</a></p>\n"},{"tags":[],"owner":{"account_id":20550573,"reputation":11,"user_id":15259036,"display_name":"Francesco Trotta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679071107,"creation_date":1679071074,"answer_id":75770080,"question_id":71022998,"body_markdown":"In order for `quarkus.http.test-host` to be recognized as valid configuration key, integration tests need to be run.\r\n\r\nIn order for integration tests to be run, the Failsafe Maven plugin needs to be correctly configured.\r\n\r\nIf you create your Quarkus application starting from the [Getting Started example](https://quarkus.io/guides/getting-started), please consider that, in such example, the Failsafe plugin is only configured for the native profile of Maven (refer to POM.xml).\r\n\r\nAs such, in the Getting Started example Failsafe won&#39;t be used (and integration tests not run), unless you issue `mvn verify -Pnative -Dquarkus.http.test-host=...`\r\n_____________\r\n\r\nYou can move the Failsafe plugin configuration in POM.xml out of the native profile, to let it always be run.\r\n___________\r\n\r\nWhen integration tests are run, the output of `mnt verify` shows two different test phases: the first for the unit tests (those tests whose names end by &quot;Test&quot;); the second for the integration tests (those tests whose names end by &quot;IT&quot;).\r\n\r\nIn the first phase (unit tests) the `quarkus.http.test-host` won&#39;t be recognized as valid configuration key. Indeed the output says: &quot;Unrecognized configuration key &quot;quarkus.http.test-host&quot; was provided; it will be ignored; ...&quot;.\r\n\r\nIn the second phase (integration tests), `quarkus.http.test-host` will be recognized as valid configuration key.","title":"Quarkus integration testing against running application","body":"<p>In order for <code>quarkus.http.test-host</code> to be recognized as valid configuration key, integration tests need to be run.</p>\n<p>In order for integration tests to be run, the Failsafe Maven plugin needs to be correctly configured.</p>\n<p>If you create your Quarkus application starting from the <a href=\"https://quarkus.io/guides/getting-started\" rel=\"nofollow noreferrer\">Getting Started example</a>, please consider that, in such example, the Failsafe plugin is only configured for the native profile of Maven (refer to POM.xml).</p>\n<p>As such, in the Getting Started example Failsafe won't be used (and integration tests not run), unless you issue <code>mvn verify -Pnative -Dquarkus.http.test-host=...</code></p>\n<hr />\n<p>You can move the Failsafe plugin configuration in POM.xml out of the native profile, to let it always be run.</p>\n<hr />\n<p>When integration tests are run, the output of <code>mnt verify</code> shows two different test phases: the first for the unit tests (those tests whose names end by &quot;Test&quot;); the second for the integration tests (those tests whose names end by &quot;IT&quot;).</p>\n<p>In the first phase (unit tests) the <code>quarkus.http.test-host</code> won't be recognized as valid configuration key. Indeed the output says: &quot;Unrecognized configuration key &quot;quarkus.http.test-host&quot; was provided; it will be ignored; ...&quot;.</p>\n<p>In the second phase (integration tests), <code>quarkus.http.test-host</code> will be recognized as valid configuration key.</p>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679071107,"creation_date":1644255773,"question_id":71022998,"body_markdown":"As described in the official [documentation][1], it should be possible to run the  *@QuarkusIntegrationTest* against a running application.\r\nThis feature looks incredibly useful, especially if I can run these integration test against a Quarkus service running on a test server, where it is integrated with all my other micro-services.\r\n\r\nUnfortunately I never managed to make it work. I&#39;m following step-by-step what&#39;s written in the documentation, but to me it looks it&#39;s not working at all.\r\n\r\nIs there anyone who is using this feature and knows if it is actually working/supported by Quarkus v2.7?\r\n\r\n\r\n  [1]: https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application","title":"Quarkus integration testing against running application","body":"<p>As described in the official <a href=\"https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application\" rel=\"nofollow noreferrer\">documentation</a>, it should be possible to run the  <em>@QuarkusIntegrationTest</em> against a running application.\nThis feature looks incredibly useful, especially if I can run these integration test against a Quarkus service running on a test server, where it is integrated with all my other micro-services.</p>\n<p>Unfortunately I never managed to make it work. I'm following step-by-step what's written in the documentation, but to me it looks it's not working at all.</p>\n<p>Is there anyone who is using this feature and knows if it is actually working/supported by Quarkus v2.7?</p>\n"},{"tags":["java","swing","jframe","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679049110,"post_id":75765955,"comment_id":133655046,"body_markdown":"Why override paint and then call super.paintComponents and not super.paint?","body":"Why override paint and then call super.paintComponents and not super.paint?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679063085,"post_id":75765955,"comment_id":133658616,"body_markdown":"docs.oracle.com/javase/tutorial/uiswing/painting/index.html","body":"docs.oracle.com/javase/tutorial/uiswing/painting/index.html"}],"answers":[{"tags":[],"owner":{"account_id":28040885,"reputation":1,"user_id":21418468,"display_name":"Golden King "},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1679070740,"creation_date":1679070740,"answer_id":75770031,"question_id":75765955,"body_markdown":"I found a solution.\r\nThere is a methode `UpdateUI` which I can call after drawing the image.\r\nThis makes the JPannel drawn them after the Image.\r\n\r\nTHX alot for your help with you coments I found out a lot more then I needed which will help me on my journy!\r\n","title":"Bakckground gets drawn over Buttons","body":"<p>I found a solution.\nThere is a methode <code>UpdateUI</code> which I can call after drawing the image.\nThis makes the JPannel drawn them after the Image.</p>\n<p>THX alot for your help with you coments I found out a lot more then I needed which will help me on my journy!</p>\n"}],"owner":{"account_id":28040885,"reputation":1,"user_id":21418468,"display_name":"Golden King "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75770031,"answer_count":1,"score":-2,"last_activity_date":1679070740,"creation_date":1679045959,"question_id":75765955,"body_markdown":"I have GUI(JFrame) with some Buttons. I also juse the paint(Graphics G) methode to draw a shape (for the game I am woarking on).\r\n\r\nI want to draw a background so I put that first in the paint methode:\r\n\r\n```\r\n public void paint(Graphics g){\r\n    super.paintComponents(g);\r\n    Graphics2D g2 = (Graphics2D) g;\r\n    g2.drawImage(img,0,20,null);\r\n    \r\n    //167,230      288,409\r\n    g2.dispose();\r\n    }\r\n```\r\n\r\nBut the Image gets drawn over the Buttons but not over the first(the on with the lower X coordinate) and when I hover over the place where the other Buttons are placed then they get Drawn too but till then they are &quot;Invisibil&quot;.\r\n\r\nHow can I draw the Image really as Bakckground so it dosend get Painted over other Objeckts?\r\n\r\n\r\nFirst I tryed put the Buttons on `FocusPainted = true` but that doesend worked.\r\n\r\n\r\nThen I tryed to draw the Image only the first Time the paint Component gets Called so it only overlays the Buttons at first loading but then stays behind them.\r\n\r\n```\r\npublic void paint(Graphics g){\r\n    super.paintComponents(g);\r\n    Graphics2D g2 = (Graphics2D) g;\r\n    \r\n    tower1.draw(g2);\r\n    tower2.draw(g2);\r\n    tower3.draw(g2);\r\n    \r\n    if (firstPaint == false) {\r\n      g2.drawImage(img,0,0,null);\r\n      firstPaint = true;\r\n    } // end of if\r\n    \r\n    \r\n    g2.dispose();\r\n    }\r\n```\r\nBut when the it gets repainted the Image disappers....\r\n\r\nThen I tryed use the JFrame own Graphis :\r\n`this.getContentPane().getGraphics().drawImage(img,0,0,null);`\r\nthen the the GUI dosend even load.\r\n\r\n","title":"Bakckground gets drawn over Buttons","body":"<p>I have GUI(JFrame) with some Buttons. I also juse the paint(Graphics G) methode to draw a shape (for the game I am woarking on).</p>\n<p>I want to draw a background so I put that first in the paint methode:</p>\n<pre><code> public void paint(Graphics g){\n    super.paintComponents(g);\n    Graphics2D g2 = (Graphics2D) g;\n    g2.drawImage(img,0,20,null);\n    \n    //167,230      288,409\n    g2.dispose();\n    }\n</code></pre>\n<p>But the Image gets drawn over the Buttons but not over the first(the on with the lower X coordinate) and when I hover over the place where the other Buttons are placed then they get Drawn too but till then they are &quot;Invisibil&quot;.</p>\n<p>How can I draw the Image really as Bakckground so it dosend get Painted over other Objeckts?</p>\n<p>First I tryed put the Buttons on <code>FocusPainted = true</code> but that doesend worked.</p>\n<p>Then I tryed to draw the Image only the first Time the paint Component gets Called so it only overlays the Buttons at first loading but then stays behind them.</p>\n<pre><code>public void paint(Graphics g){\n    super.paintComponents(g);\n    Graphics2D g2 = (Graphics2D) g;\n    \n    tower1.draw(g2);\n    tower2.draw(g2);\n    tower3.draw(g2);\n    \n    if (firstPaint == false) {\n      g2.drawImage(img,0,0,null);\n      firstPaint = true;\n    } // end of if\n    \n    \n    g2.dispose();\n    }\n</code></pre>\n<p>But when the it gets repainted the Image disappers....</p>\n<p>Then I tryed use the JFrame own Graphis :\n<code>this.getContentPane().getGraphics().drawImage(img,0,0,null);</code>\nthen the the GUI dosend even load.</p>\n"},{"tags":["java","azure","dns","azure-ad-msal"],"comments":[{"owner":{"account_id":14544430,"reputation":22000,"user_id":10505040,"display_name":"Jim Xu"},"score":0,"creation_date":1586489784,"post_id":61118265,"comment_id":108152262,"body_markdown":"You can use `msal` to get access token then directly call Azure rest API(https://learn.microsoft.com/en-us/rest/api/dns/) with the token to manage dns","body":"You can use <code>msal</code> to get access token then directly call Azure rest API(<a href=\"https://learn.microsoft.com/en-us/rest/api/dns/\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/rest/api/dns</a>) with the token to manage dns"},{"owner":{"account_id":14544430,"reputation":22000,"user_id":10505040,"display_name":"Jim Xu"},"score":0,"creation_date":1586825790,"post_id":61118265,"comment_id":108265222,"body_markdown":"Do you have any other concerns? If you have no other concerns, could you please accept it? It may help more people who have similar issue.","body":"Do you have any other concerns? If you have no other concerns, could you please accept it? It may help more people who have similar issue."}],"answers":[{"tags":[],"owner":{"account_id":14544430,"reputation":22000,"user_id":10505040,"display_name":"Jim Xu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586502136,"creation_date":1586502136,"answer_id":61135465,"question_id":61118265,"body_markdown":"If you want to use Azure java management SDK to manage Azure DNS with AD access token, please refer to the following code\r\n\r\n\r\na. create a service principal  (I use Azure CLI to do that)\r\n```\r\naz login\r\naz account set --subscription &quot;&lt;your subscription id&gt;&quot;\r\n# the sp will have Azure Contributor role\r\naz ad sp create-for-rbac -n &quot;readMetric&quot; \r\n``` \r\n[![enter image description here][1]][1]\r\n\r\n2. Code\r\n```\r\n public void test() throws MalformedURLException, ExecutionException, InterruptedException {\r\n\r\n\r\n\r\n        AzureTokenCredentials tokenCredentials = new AzureTokenCredentials(AzureEnvironment.AZURE,ADProperty.tenantId) {\r\n            @Override\r\n            public String getToken(String resource) throws IOException {\r\n                String token =null;\r\n                // use msal to get Azure AD access token\r\n                ConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n                        ADProperty.clientId,  // sp appid\r\n                        ClientCredentialFactory.createFromSecret(ADProperty.clientKey)) // sp password\r\n                        .authority(ADProperty.authority) // &quot;https://login.microsoftonline.com/&quot; + sp tenant id\r\n                        .build();\r\n                ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n                        Collections.singleton(&quot;https://management.azure.com/.default&quot;))\r\n                        .build();\r\n                CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n                try {\r\n                    token =future.get().accessToken();\r\n\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return  token;\r\n            }\r\n        };\r\n\r\n\r\n        Azure azure = Azure.authenticate(tokenCredentials)\r\n                .withSubscription(ADProperty.subscriptionId); // sp subscription id\r\n        DnsZone rootDnsZone = azure.dnsZones().define(&quot;mydevchat.com&quot;)\r\n                .withExistingResourceGroup(&quot;jimtest&quot;)\r\n                .create();\r\n        System.out.println(&quot;create DNSZone &quot; + rootDnsZone.name() + &quot; successfully&quot;);\r\n}\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1kOsX.png\r\n  [2]: https://i.stack.imgur.com/EhtdV.png","title":"MSAL Java web API for DNS and records","body":"<p>If you want to use Azure java management SDK to manage Azure DNS with AD access token, please refer to the following code</p>\n\n<p>a. create a service principal  (I use Azure CLI to do that)</p>\n\n<pre><code>az login\naz account set --subscription \"&lt;your subscription id&gt;\"\n# the sp will have Azure Contributor role\naz ad sp create-for-rbac -n \"readMetric\" \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1kOsX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kOsX.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Code</li>\n</ol>\n\n<pre><code> public void test() throws MalformedURLException, ExecutionException, InterruptedException {\n\n\n\n        AzureTokenCredentials tokenCredentials = new AzureTokenCredentials(AzureEnvironment.AZURE,ADProperty.tenantId) {\n            @Override\n            public String getToken(String resource) throws IOException {\n                String token =null;\n                // use msal to get Azure AD access token\n                ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n                        ADProperty.clientId,  // sp appid\n                        ClientCredentialFactory.createFromSecret(ADProperty.clientKey)) // sp password\n                        .authority(ADProperty.authority) // \"https://login.microsoftonline.com/\" + sp tenant id\n                        .build();\n                ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n                        Collections.singleton(\"https://management.azure.com/.default\"))\n                        .build();\n                CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n                try {\n                    token =future.get().accessToken();\n\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                }\n                return  token;\n            }\n        };\n\n\n        Azure azure = Azure.authenticate(tokenCredentials)\n                .withSubscription(ADProperty.subscriptionId); // sp subscription id\n        DnsZone rootDnsZone = azure.dnsZones().define(\"mydevchat.com\")\n                .withExistingResourceGroup(\"jimtest\")\n                .create();\n        System.out.println(\"create DNSZone \" + rootDnsZone.name() + \" successfully\");\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EhtdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EhtdV.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3957278,"reputation":878,"user_id":3265367,"accept_rate":0,"display_name":"Atif Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61135465,"answer_count":1,"score":1,"last_activity_date":1679070635,"creation_date":1586425491,"question_id":61118265,"body_markdown":"How can we create zone DNS and records on Azure server using Azure web services API with latest &quot;MSAL&quot; library not ADAL based? However DNS library support https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains does not mentioned any way to utilized using MSAL access token. For example\r\n\r\n   \tApplicationTokenCredentials credentials = new ApplicationTokenCredentials(client, tenant, key, AzureEnvironment.AZURE);\r\n\tazure = Azure.authenticate(credentials).withSubscription(subscriptionId);\r\n\tResourceGroup resourceGroup = azure.resourceGroups().define(rgName)\r\n\t\t\t.withRegion(Region.US_EAST2)\r\n\t\t\t.create();\r\n\r\n\tSystem.out.println(&quot;Creating root DNS zone &quot; + customDomainName + &quot;...&quot;);\r\n\tDnsZone rootDnsZone = azure.dnsZones().define(customDomainName)\r\n\t\t\t.withExistingResourceGroup(resourceGroup)\r\n\t\t\t.create();\r\n\r\n\r\nBut it is using with keys instead of access tokens provided by MSAL. This can be already achieved in old ways which is using ADAL internally by Azure.\r\n\r\n","title":"MSAL Java web API for DNS and records","body":"<p>How can we create zone DNS and records on Azure server using Azure web services API with latest &quot;MSAL&quot; library not ADAL based? However DNS library support <a href=\"https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains</a> does not mentioned any way to utilized using MSAL access token. For example</p>\n<pre><code>ApplicationTokenCredentials credentials = new ApplicationTokenCredentials(client, tenant, key, AzureEnvironment.AZURE);\nazure = Azure.authenticate(credentials).withSubscription(subscriptionId);\nResourceGroup resourceGroup = azure.resourceGroups().define(rgName)\n        .withRegion(Region.US_EAST2)\n        .create();\n\nSystem.out.println(&quot;Creating root DNS zone &quot; + customDomainName + &quot;...&quot;);\nDnsZone rootDnsZone = azure.dnsZones().define(customDomainName)\n        .withExistingResourceGroup(resourceGroup)\n        .create();\n</code></pre>\n<p>But it is using with keys instead of access tokens provided by MSAL. This can be already achieved in old ways which is using ADAL internally by Azure.</p>\n"},{"tags":["java","exception","throws"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1679069378,"post_id":75769601,"comment_id":133660470,"body_markdown":"this idea kinda defeats the point of context-sensitive exception handling. then again, some exceptions are generic enough to share the same handling everywhere.","body":"this idea kinda defeats the point of context-sensitive exception handling. then again, some exceptions are generic enough to share the same handling everywhere."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679068797,"creation_date":1679068797,"answer_id":75769743,"question_id":75769601,"body_markdown":"You&#39;re trying to throw a `Class` of type `Exception` instead of throwing an `Exception`. And what&#39;s the point of `T`? That&#39;s never used. Maybe you mean something like this:\r\n\r\n    public &lt;T extends Exception&gt; T generic(String input, T exception) throws Exception { \r\n        call(input).orElseThrow(() -&gt; exception); \r\n    }","title":"How to pass differents Exceptions to a Java method?","body":"<p>You're trying to throw a <code>Class</code> of type <code>Exception</code> instead of throwing an <code>Exception</code>. And what's the point of <code>T</code>? That's never used. Maybe you mean something like this:</p>\n<pre><code>public &lt;T extends Exception&gt; T generic(String input, T exception) throws Exception { \n    call(input).orElseThrow(() -&gt; exception); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679069584,"creation_date":1679069584,"answer_id":75769870,"question_id":75769601,"body_markdown":"If you work with `Class&lt;? extends Exception&gt; exception`, you would need to instantiate exception using [Reflection][1]. The `Supplier` may be something like this for example:\r\n```\r\nSupplier&lt;Exception&gt; supplier = () -&gt; {\r\n      try {\r\n        return clazz.getDeclaredConstructor().newInstance();\r\n      } catch (InstantiationException | InvocationTargetException | IllegalAccessException | NoSuchMethodException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    };\r\ncall(input).orElseThrow(supplier); \r\n```\r\nThat&#39;s error prone and cumbersome.\r\n\r\nI suggest changing your method to work with `Supplier`, instead of `Class`.\r\n```\r\npublic &lt;T&gt; T generic(String input, Supplier&lt;? extends Exception&gt; exceptionSupplier) throws Exception {\r\n    call(input).orElseThrow(exceptionSupplier);\r\n}\r\n```\r\nAnd provide the supplier when calling the method:\r\n```\r\ngeneric(&quot;some input&quot;, () -&gt; new CustomException(&quot;message&quot;));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html","title":"How to pass differents Exceptions to a Java method?","body":"<p>If you work with <code>Class&lt;? extends Exception&gt; exception</code>, you would need to instantiate exception using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">Reflection</a>. The <code>Supplier</code> may be something like this for example:</p>\n<pre><code>Supplier&lt;Exception&gt; supplier = () -&gt; {\n      try {\n        return clazz.getDeclaredConstructor().newInstance();\n      } catch (InstantiationException | InvocationTargetException | IllegalAccessException | NoSuchMethodException e) {\n        throw new RuntimeException(e);\n      }\n    };\ncall(input).orElseThrow(supplier); \n</code></pre>\n<p>That's error prone and cumbersome.</p>\n<p>I suggest changing your method to work with <code>Supplier</code>, instead of <code>Class</code>.</p>\n<pre><code>public &lt;T&gt; T generic(String input, Supplier&lt;? extends Exception&gt; exceptionSupplier) throws Exception {\n    call(input).orElseThrow(exceptionSupplier);\n}\n</code></pre>\n<p>And provide the supplier when calling the method:</p>\n<pre><code>generic(&quot;some input&quot;, () -&gt; new CustomException(&quot;message&quot;));\n</code></pre>\n"}],"owner":{"account_id":11039137,"reputation":15,"user_id":8619111,"display_name":"Sr. X"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75769870,"answer_count":2,"score":0,"last_activity_date":1679069584,"creation_date":1679067929,"question_id":75769601,"body_markdown":"So the idea is I have a bunch of methods separated in different &#39;repo&#39; classes, each one of these can arise a personalized exception (all of them created by me, extending generic Java Exception). All these methods make a call to the same class, the controller.\r\n\r\nAs it is right now, each &#39;repo&#39; class is in charge of arising the exception, but I want to delegate that task to the controller, so I created a method in the controller like:\r\n\r\n    public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { ... }\r\n\r\n, my idea is, taking whatever exception class comes to the controller and then elevate the corresponding error from here like:\r\n\r\n    public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { \r\n\t    call(input).orElseThrow(() -&gt; exception); \r\n\t}\r\n\r\n, but i cannot make this work since my IDE is telling me: *Cannot resolve symbol &#39;exception&#39;*","title":"How to pass differents Exceptions to a Java method?","body":"<p>So the idea is I have a bunch of methods separated in different 'repo' classes, each one of these can arise a personalized exception (all of them created by me, extending generic Java Exception). All these methods make a call to the same class, the controller.</p>\n<p>As it is right now, each 'repo' class is in charge of arising the exception, but I want to delegate that task to the controller, so I created a method in the controller like:</p>\n<pre><code>public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { ... }\n</code></pre>\n<p>, my idea is, taking whatever exception class comes to the controller and then elevate the corresponding error from here like:</p>\n<pre><code>public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { \n    call(input).orElseThrow(() -&gt; exception); \n}\n</code></pre>\n<p>, but i cannot make this work since my IDE is telling me: <em>Cannot resolve symbol 'exception'</em></p>\n"},{"tags":["java","spring-boot","junit","completable-future"],"owner":{"account_id":4245913,"reputation":644,"user_id":3474610,"accept_rate":39,"display_name":"Lui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679069536,"creation_date":1679069536,"question_id":75769858,"body_markdown":"I&#39;m struggling to write a JUnit test for my kafka producer with `KafkaTemplate` and `CompletableFuture`. Similar test for method which doesn&#39;t invoke `get()` works fine.\r\n\r\nHere is my kafka producer class (`MyProducer`):\r\n```\r\n@Service\r\npublic class MyProducer {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(MyProducer.class);\r\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\r\n    public MyProducer() {}\r\n\r\n    @Autowired(required = false)\r\n    public void setKafkaTemplate(KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n    }\r\n\r\n    public void sendEvent(MyObject message) {\r\n        ListenableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; future = kafkaTemplate.send(&quot;my-topic&quot;, message);\r\n        future.addCallback(\r\n                result -&gt; logger.info(&quot;Everything is fine!&quot;),\r\n                exception -&gt; logger.info(&quot;Ups!&quot;)\r\n        );\r\n    }\r\n\r\n    public SendResult&lt;String, MyObject&gt; sendSpecialEvent(MyObject message) throws ExecutionException, InterruptedException,\r\n            TimeoutException {\r\n        return kafkaTemplate.send(&quot;my-topic&quot;, message).get(100, TimeUnit.MILLISECONDS);\r\n    }\r\n}\r\n```\r\n\r\nAnd test class:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyProducerTest {\r\n\r\n    private final String topic = &quot;dummyString&quot;;\r\n    @Mock\r\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\r\n    @Mock\r\n    private Logger logger;\r\n    private CompletableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; completableFuture;\r\n    private MyObject myObject;\r\n    private MyProducer myProducer;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        myProducer = new MyProducer();\r\n        ReflectionTestUtils.setField(myProducer, &quot;logger&quot;, logger);\r\n        myProducer.setKafkaTemplate(kafkaTemplate);\r\n\r\n        myObject = mock(MyObject.class);\r\n        completableFuture = new CompletableFuture&lt;&gt;();\r\n        var futureAdapter = new CompletableToListenableFutureAdapter&lt;&gt;(completableFuture);\r\n        when(kafkaTemplate.send(any(), any())).thenReturn(futureAdapter);\r\n    }\r\n\r\n    @Test\r\n    void testSuccessCallback() {\r\n        var successMessage = &quot;OK Message&quot;;\r\n        var offset = 1L;\r\n\r\n        myProducer.sendEvent(myObject);\r\n        completableFuture.complete(new SendResult&lt;&gt;(\r\n                new ProducerRecord&lt;&gt;(topic, myObject),\r\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\r\n        ));\r\n\r\n        assertTrue(completableFuture.isDone());\r\n        verify(logger).info(successMessage);\r\n    }\r\n\r\n    @Test\r\n    void testFailureCallback() {\r\n        var failureMessage = &quot;KO Message&quot;;\r\n        var exceptionMessage = &quot;fakeException&quot;;\r\n\r\n        myProducer.sendEvent(myObject);\r\n        completableFuture.completeExceptionally(new RuntimeException(exceptionMessage));\r\n\r\n        assertTrue(completableFuture.isCompletedExceptionally());\r\n        verify(logger).info(failureMessage);\r\n    }\r\n\r\n    @Test\r\n    void testSpecialSuccessCallback() throws ExecutionException, InterruptedException, TimeoutException {\r\n        var offset = 1L;\r\n\r\n        SendResult&lt;String, MyObject&gt; result = myProducer.sendSpecialEvent(myObject);\r\n        completableFuture.complete(new SendResult&lt;&gt;(\r\n                new ProducerRecord&lt;&gt;(topic, myObject),\r\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\r\n        ));\r\n\r\n        assertTrue(completableFuture.isDone());\r\n        assertTrue(Objects.nonNull(result));\r\n        assertTrue(Objects.equals(result.getProducerRecord().value(), myObject));\r\n    }\r\n\r\n    @Test\r\n    void testSpecialFailureCallback() {\r\n        // TODO: implement negative scenario\r\n    }\r\n}\r\n```\r\n\r\nFirst two tests are passing. Third one is throwing exception `java.util.concurrent.TimeoutException\r\n\tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)\r\n\tat org.springframework.util.concurrent.CompletableToListenableFutureAdapter.get(CompletableToListenableFutureAdapter.java:104)`.\r\n\r\nAnd for now I have no idea how to approach in the last test case...","title":"CompletableFuture.get() throws java.util.concurrent.TimeoutException in JUnit","body":"<p>I'm struggling to write a JUnit test for my kafka producer with <code>KafkaTemplate</code> and <code>CompletableFuture</code>. Similar test for method which doesn't invoke <code>get()</code> works fine.</p>\n<p>Here is my kafka producer class (<code>MyProducer</code>):</p>\n<pre><code>@Service\npublic class MyProducer {\n\n    private final Logger logger = LoggerFactory.getLogger(MyProducer.class);\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\n    public MyProducer() {}\n\n    @Autowired(required = false)\n    public void setKafkaTemplate(KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n    }\n\n    public void sendEvent(MyObject message) {\n        ListenableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; future = kafkaTemplate.send(&quot;my-topic&quot;, message);\n        future.addCallback(\n                result -&gt; logger.info(&quot;Everything is fine!&quot;),\n                exception -&gt; logger.info(&quot;Ups!&quot;)\n        );\n    }\n\n    public SendResult&lt;String, MyObject&gt; sendSpecialEvent(MyObject message) throws ExecutionException, InterruptedException,\n            TimeoutException {\n        return kafkaTemplate.send(&quot;my-topic&quot;, message).get(100, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>And test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyProducerTest {\n\n    private final String topic = &quot;dummyString&quot;;\n    @Mock\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\n    @Mock\n    private Logger logger;\n    private CompletableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; completableFuture;\n    private MyObject myObject;\n    private MyProducer myProducer;\n\n    @BeforeEach\n    void setUp() {\n        myProducer = new MyProducer();\n        ReflectionTestUtils.setField(myProducer, &quot;logger&quot;, logger);\n        myProducer.setKafkaTemplate(kafkaTemplate);\n\n        myObject = mock(MyObject.class);\n        completableFuture = new CompletableFuture&lt;&gt;();\n        var futureAdapter = new CompletableToListenableFutureAdapter&lt;&gt;(completableFuture);\n        when(kafkaTemplate.send(any(), any())).thenReturn(futureAdapter);\n    }\n\n    @Test\n    void testSuccessCallback() {\n        var successMessage = &quot;OK Message&quot;;\n        var offset = 1L;\n\n        myProducer.sendEvent(myObject);\n        completableFuture.complete(new SendResult&lt;&gt;(\n                new ProducerRecord&lt;&gt;(topic, myObject),\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\n        ));\n\n        assertTrue(completableFuture.isDone());\n        verify(logger).info(successMessage);\n    }\n\n    @Test\n    void testFailureCallback() {\n        var failureMessage = &quot;KO Message&quot;;\n        var exceptionMessage = &quot;fakeException&quot;;\n\n        myProducer.sendEvent(myObject);\n        completableFuture.completeExceptionally(new RuntimeException(exceptionMessage));\n\n        assertTrue(completableFuture.isCompletedExceptionally());\n        verify(logger).info(failureMessage);\n    }\n\n    @Test\n    void testSpecialSuccessCallback() throws ExecutionException, InterruptedException, TimeoutException {\n        var offset = 1L;\n\n        SendResult&lt;String, MyObject&gt; result = myProducer.sendSpecialEvent(myObject);\n        completableFuture.complete(new SendResult&lt;&gt;(\n                new ProducerRecord&lt;&gt;(topic, myObject),\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\n        ));\n\n        assertTrue(completableFuture.isDone());\n        assertTrue(Objects.nonNull(result));\n        assertTrue(Objects.equals(result.getProducerRecord().value(), myObject));\n    }\n\n    @Test\n    void testSpecialFailureCallback() {\n        // TODO: implement negative scenario\n    }\n}\n</code></pre>\n<p>First two tests are passing. Third one is throwing exception <code>java.util.concurrent.TimeoutException at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886) at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021) at org.springframework.util.concurrent.CompletableToListenableFutureAdapter.get(CompletableToListenableFutureAdapter.java:104)</code>.</p>\n<p>And for now I have no idea how to approach in the last test case...</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678963558,"creation_date":1678963558,"answer_id":75755151,"question_id":75754986,"body_markdown":"Change the below code:\r\n\r\n````\r\nWebDriver driver = new ChromeDriver();\r\n````\r\nTo:\r\n\r\n````\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\n````","title":"Showing runtime error in WebDriver dri = new ChromeDriver();","body":"<p>Change the below code:</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>To:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":28031632,"reputation":1,"user_id":21410722,"display_name":"ShaikFaheem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678963806,"answer_count":1,"score":0,"last_activity_date":1679068997,"creation_date":1678962800,"question_id":75754986,"body_markdown":"Showing runtime error in WebDriver driver = new ChromeDriver();\r\n\r\nI have written the code as\r\n````\r\npublic class a1_Google {\r\npublic static void main(String[] args) throws InterruptedException{ \r\n         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\nuzee\\\\IdeaProjects\\\\Selenium\\\\drivers\\\\chromedriver.exe&quot;);         \r\n WebDriver driver = new ChromeDriver();\r\n````\r\nIt is showing as this in console\r\n````\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 56069\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=403 text=Forbidden\r\njava.io.IOException: Invalid Status code=403 text=Forbidden\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:57471/devtools/browser/43a48509-4ce9-4f3f-80c6-4ec40faba4d5\r\nBuild info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\nSystem info: host: &#39;LAPTOP-NMB8SION&#39;, ip: &#39;192.168.0.107&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:137)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:118)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:124)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:122)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:46)\r\n\tat PracticePrograms.a1_Google.main(a1_Google.java:12)\r\n\r\nProcess finished with exit code 1\r\n````\r\n\r\nTried to initialize chrome driver but it is showing error and not getting initialized\r\n","title":"Showing runtime error in WebDriver dri = new ChromeDriver();","body":"<p>Showing runtime error in WebDriver driver = new ChromeDriver();</p>\n<p>I have written the code as</p>\n<pre><code>public class a1_Google {\npublic static void main(String[] args) throws InterruptedException{ \n         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\nuzee\\\\IdeaProjects\\\\Selenium\\\\drivers\\\\chromedriver.exe&quot;);         \n WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>It is showing as this in console</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 56069\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:57471/devtools/browser/43a48509-4ce9-4f3f-80c6-4ec40faba4d5\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'LAPTOP-NMB8SION', ip: '192.168.0.107', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.1.1'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:137)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:118)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:124)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:122)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:46)\n    at PracticePrograms.a1_Google.main(a1_Google.java:12)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Tried to initialize chrome driver but it is showing error and not getting initialized</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1497188169,"post_id":44484378,"comment_id":75962892,"body_markdown":"Indenting code will be part in the next programming course?","body":"Indenting code will be part in the next programming course?"},{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497188734,"post_id":44484378,"comment_id":75963065,"body_markdown":"my apologies tom","body":"my apologies tom"}],"answers":[{"tags":[],"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497188016,"creation_date":1497188016,"answer_id":44484436,"question_id":44484378,"body_markdown":"One possibility: \r\n\r\na.setBoosterShot(true);","title":"Dog Class Java Assignment","body":"<p>One possibility: </p>\n\n<p>a.setBoosterShot(true);</p>\n"},{"tags":[],"owner":{"account_id":11092955,"reputation":80,"user_id":8144148,"accept_rate":50,"display_name":"Shaine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497189083,"creation_date":1497188593,"answer_id":44484523,"question_id":44484378,"body_markdown":"You can use this. Try to ask if dog is Boostershot or not\r\n    \r\n    System.out.println(&quot;Is this Boostershot? Yes or No&quot;);\r\n\r\n    String ans = keyboard.nextLine();\r\n    \r\n    if (ans.equals(&quot;Yes&quot;)) {\r\n        a.setBoosterShot(true);\r\n    } else if (ans.equals(&quot;No&quot;)) {\r\n        a.setBoosterShot(false);\r\n    } else {\r\n        System.out.print(&quot;Please Input Yes or No&quot;);\r\n    }","title":"Dog Class Java Assignment","body":"<p>You can use this. Try to ask if dog is Boostershot or not</p>\n\n<pre><code>System.out.println(\"Is this Boostershot? Yes or No\");\n\nString ans = keyboard.nextLine();\n\nif (ans.equals(\"Yes\")) {\n    a.setBoosterShot(true);\n} else if (ans.equals(\"No\")) {\n    a.setBoosterShot(false);\n} else {\n    System.out.print(\"Please Input Yes or No\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11092955,"reputation":80,"user_id":8144148,"accept_rate":50,"display_name":"Shaine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497201617,"creation_date":1497201617,"answer_id":44486612,"question_id":44484378,"body_markdown":"&gt; Try to put For loop. looping five time then put all dogs that is 2 years above and booster= false in a Dog List\r\n\r\nimport java.util.LinkedList;\r\n\r\nimport java.util.List;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Sample{\r\n\r\n     static List&lt;Dog&gt; dogList=new LinkedList&lt;&gt;();\r\n\r\n     public static void main(String[] args) {\r\n\r\n         for(int i=0;i&lt;5;i++){\r\n\r\n        Dog a = new Dog();\r\n\r\n        System.out.println(&quot;My records on your dog are inaccurate.&quot;);\r\n\r\n        System.out.println(&quot;Here is what they currently say:&quot;);\r\n\r\n        a.writeOutput();\r\n\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the correct dog name:&quot;);\r\n\r\n        String correctName = keyboard.nextLine();\r\n\r\n        a.setName(correctName);\r\n\r\n        System.out.println(&quot;Please enter correct dog breed:&quot;);\r\n\r\n        String correctBreed = keyboard.nextLine();\r\n\r\n        a.setBreed(correctBreed);\r\n\r\n        System.out.println(&quot;Please enter the correct dog age:&quot;);\r\n\r\n        int correctAge = keyboard.nextInt();\r\n\r\n        a.setAge(correctAge);\r\n\r\n        System.out.println(&quot;Please enter the correct dog weight:&quot;);\r\n\r\n        double correctWeight = keyboard.nextDouble();\r\n\r\n        a.setWeight(correctWeight);\r\n\r\n        System.out.println(&quot;My updated records now say:&quot;);\r\n\r\n        a.writeOutput();\r\n\r\n        if(a.getAge()&gt;2&amp;&amp;!a.getBoosterShot()){\r\n\r\n        dogList.add(a);\r\n\r\n        }\r\n\r\n         }\r\n\r\n         System.out.println(&quot;\\n&quot;);\r\n\r\n         System.out.println(&quot;List of all dogs that are over two years old and have not had their booster shots&quot;);\r\n         \r\n         for(Dog d:dogList)\r\n\r\n         {\r\n         \r\n         System.out.println(&quot;.................\\n&quot;);\r\n\r\n          System.out.println(&quot;Dog Name: &quot;+d.getName());\r\n\r\n          System.out.println(&quot;Dog Breed: &quot;+d.getBreed());\r\n\r\n          System.out.println(&quot;Dog Age: &quot;+d.getAge());\r\n\r\n         }\r\n\r\n     }\r\n\r\n  }","title":"Dog Class Java Assignment","body":"<blockquote>\n  <p>Try to put For loop. looping five time then put all dogs that is 2 years above and booster= false in a Dog List</p>\n</blockquote>\n\n<p>import java.util.LinkedList;</p>\n\n<p>import java.util.List;</p>\n\n<p>import java.util.Scanner;</p>\n\n<p>public class Sample{</p>\n\n<pre><code> static List&lt;Dog&gt; dogList=new LinkedList&lt;&gt;();\n\n public static void main(String[] args) {\n\n     for(int i=0;i&lt;5;i++){\n\n    Dog a = new Dog();\n\n    System.out.println(\"My records on your dog are inaccurate.\");\n\n    System.out.println(\"Here is what they currently say:\");\n\n    a.writeOutput();\n\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.println(\"Please enter the correct dog name:\");\n\n    String correctName = keyboard.nextLine();\n\n    a.setName(correctName);\n\n    System.out.println(\"Please enter correct dog breed:\");\n\n    String correctBreed = keyboard.nextLine();\n\n    a.setBreed(correctBreed);\n\n    System.out.println(\"Please enter the correct dog age:\");\n\n    int correctAge = keyboard.nextInt();\n\n    a.setAge(correctAge);\n\n    System.out.println(\"Please enter the correct dog weight:\");\n\n    double correctWeight = keyboard.nextDouble();\n\n    a.setWeight(correctWeight);\n\n    System.out.println(\"My updated records now say:\");\n\n    a.writeOutput();\n\n    if(a.getAge()&gt;2&amp;&amp;!a.getBoosterShot()){\n\n    dogList.add(a);\n\n    }\n\n     }\n\n     System.out.println(\"\\n\");\n\n     System.out.println(\"List of all dogs that are over two years old and have not had their booster shots\");\n\n     for(Dog d:dogList)\n\n     {\n\n     System.out.println(\".................\\n\");\n\n      System.out.println(\"Dog Name: \"+d.getName());\n\n      System.out.println(\"Dog Breed: \"+d.getBreed());\n\n      System.out.println(\"Dog Age: \"+d.getAge());\n\n     }\n\n }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":27351939,"reputation":1,"user_id":20860973,"display_name":"Robert Heavner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679068561,"creation_date":1679068561,"answer_id":75769706,"question_id":44484378,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Pet {\r\n    private int dogSpaces = 30;\r\n    private int catSpaces = 12;\r\n    private int petAge;\r\n\r\n    public Pet(int dogSpaces, int catSpaces) {\r\n        this.dogSpaces = dogSpaces;\r\n        this.catSpaces = catSpaces;\r\n    }\r\n\r\n    public int getDogSpaces() {\r\n        return dogSpaces;\r\n    }\r\n\r\n    public int getCatSpaces() {\r\n        return catSpaces;\r\n    }\r\n\r\n    public String checkInPet(String petType, int petWeight, int petAge, int lengthOfStay, boolean groomingRequested, boolean hasBeenHereBefore) {\r\n        if (!hasBeenHereBefore) {\r\n            return &quot;Welcome! Please update your client information.&quot;;\r\n        }\r\n\r\n        if (petType.equals(&quot;dog&quot;)) {\r\n            if (petWeight &gt;= 30 &amp;&amp; dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else if (petWeight &gt;= 20 &amp;&amp; dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else if (dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else {\r\n                return &quot;Sorry, there is no available space for your dog.&quot;;\r\n            }\r\n        } else if (petType.equals(&quot;cat&quot;)) {\r\n            if (catSpaces &gt; 0) {\r\n                catSpaces--;\r\n            } else {\r\n                return &quot;Sorry, there is no available space for your cat.&quot;;\r\n            }\r\n        } else {\r\n            return &quot;Invalid pet type.&quot;;\r\n        }\r\n\r\n        double groomingFee = 0.0;\r\n        double boardingFee = 0.0;\r\n        if (petType.equals(&quot;dog&quot;)) {\r\n            if (lengthOfStay &gt;= 2 &amp;&amp; groomingRequested) {\r\n                groomingFee = 29.95;\r\n            }\r\n            if (petWeight &gt;= 30) {\r\n                boardingFee = 34.00;\r\n            } else if (petWeight &gt;= 20) {\r\n                boardingFee = 29.00;\r\n            } else {\r\n                boardingFee = 24.00;\r\n            }\r\n        } else if (petType.equals(&quot;cat&quot;)) {\r\n            boardingFee = 18.00;\r\n        }\r\n\r\n        return String.format(&quot;Pet checked in successfully. Boarding fee: $%.2f/day. Grooming fee: $%.2f.&quot;, boardingFee, groomingFee);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Pet pet = new Pet(30, 12);\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Is the pet a dog or a cat? &quot;);\r\n        String petType = scanner.nextLine();\r\n        System.out.print(&quot;What is the weight of the pet? &quot;);\r\n        int petWeight = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.print(&quot;What is the age of the pet? &quot;);\r\n        int petAge = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.print(&quot;Has the pet been here before? (yes/no) &quot;);\r\n        String hasBeenHereBefore = scanner.nextLine();\r\n\r\n        boolean hasBeenHereBeforeBool = false;\r\n        if (hasBeenHereBefore.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            hasBeenHereBeforeBool = true;\r\n        }\r\n\r\n        String result = pet.checkInPet(petType, petWeight, petAge, 3, true, hasBeenHereBeforeBool);\r\n        System.out.println(result);\r\n\r\n        System.out.printf(&quot;Available dog spaces: %d\\n&quot;, pet.getDogSpaces());\r\n        System.out.printf(&quot;Available cat spaces: %d\\n&quot;, pet.getCatSpaces());\r\n    }\r\n}\r\n","title":"Dog Class Java Assignment","body":"<pre><code>import java.util.Scanner;\n\npublic class Pet {\nprivate int dogSpaces = 30;\nprivate int catSpaces = 12;\nprivate int petAge;\n\npublic Pet(int dogSpaces, int catSpaces) {\n    this.dogSpaces = dogSpaces;\n    this.catSpaces = catSpaces;\n}\n\npublic int getDogSpaces() {\n    return dogSpaces;\n}\n\npublic int getCatSpaces() {\n    return catSpaces;\n}\n\npublic String checkInPet(String petType, int petWeight, int petAge, int lengthOfStay, boolean groomingRequested, boolean hasBeenHereBefore) {\n    if (!hasBeenHereBefore) {\n        return &quot;Welcome! Please update your client information.&quot;;\n    }\n\n    if (petType.equals(&quot;dog&quot;)) {\n        if (petWeight &gt;= 30 &amp;&amp; dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else if (petWeight &gt;= 20 &amp;&amp; dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else if (dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else {\n            return &quot;Sorry, there is no available space for your dog.&quot;;\n        }\n    } else if (petType.equals(&quot;cat&quot;)) {\n        if (catSpaces &gt; 0) {\n            catSpaces--;\n        } else {\n            return &quot;Sorry, there is no available space for your cat.&quot;;\n        }\n    } else {\n        return &quot;Invalid pet type.&quot;;\n    }\n\n    double groomingFee = 0.0;\n    double boardingFee = 0.0;\n    if (petType.equals(&quot;dog&quot;)) {\n        if (lengthOfStay &gt;= 2 &amp;&amp; groomingRequested) {\n            groomingFee = 29.95;\n        }\n        if (petWeight &gt;= 30) {\n            boardingFee = 34.00;\n        } else if (petWeight &gt;= 20) {\n            boardingFee = 29.00;\n        } else {\n            boardingFee = 24.00;\n        }\n    } else if (petType.equals(&quot;cat&quot;)) {\n        boardingFee = 18.00;\n    }\n\n    return String.format(&quot;Pet checked in successfully. Boarding fee: $%.2f/day. Grooming fee: $%.2f.&quot;, boardingFee, groomingFee);\n}\n\npublic static void main(String[] args) {\n    Pet pet = new Pet(30, 12);\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Is the pet a dog or a cat? &quot;);\n    String petType = scanner.nextLine();\n    System.out.print(&quot;What is the weight of the pet? &quot;);\n    int petWeight = scanner.nextInt();\n    scanner.nextLine();\n    System.out.print(&quot;What is the age of the pet? &quot;);\n    int petAge = scanner.nextInt();\n    scanner.nextLine();\n    System.out.print(&quot;Has the pet been here before? (yes/no) &quot;);\n    String hasBeenHereBefore = scanner.nextLine();\n\n    boolean hasBeenHereBeforeBool = false;\n    if (hasBeenHereBefore.equalsIgnoreCase(&quot;yes&quot;)) {\n        hasBeenHereBeforeBool = true;\n    }\n\n    String result = pet.checkInPet(petType, petWeight, petAge, 3, true, hasBeenHereBeforeBool);\n    System.out.println(result);\n\n    System.out.printf(&quot;Available dog spaces: %d\\n&quot;, pet.getDogSpaces());\n    System.out.printf(&quot;Available cat spaces: %d\\n&quot;, pet.getCatSpaces());\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15704,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":4,"score":-6,"last_activity_date":1679068561,"creation_date":1497187716,"question_id":44484378,"body_markdown":"I am a Java programming student and busy with an assignment. I would really appreciate some help. \r\n\r\nBelow is the class I had to create:\r\n\r\n    /**\r\n     * Class for basic dog data: name, age, weight, breed and booster shot info.\r\n     */\r\n    public class Dog {\r\n        private String name; //name of dog\r\n        private int age; //in years\r\n        private double weight;  //in pounds\r\n        private String breed; //breed of dog\r\n        private boolean boosterShot; //Status of booster shot\r\n    \r\n        public Dog() {\r\n            name = &quot;No name yet.&quot;;\r\n            age = 0;\r\n            weight = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            this.boosterShot = false;\r\n        }\r\n    \r\n        public Dog(String initialName, int initialAge,\r\n                   double initialWeight, String initialBreed, boolean boosterShot) {\r\n            name = initialName;\r\n            if ((initialAge &lt; 0) || (initialWeight &lt; 0)) {\r\n                System.out.println(&quot;Error: Negative age or weight.&quot;);\r\n                System.exit(0);\r\n            } else {\r\n                age = initialAge;\r\n                weight = initialWeight;\r\n                breed = initialBreed;\r\n                this.boosterShot = boosterShot;\r\n            }\r\n        }\r\n    \r\n        public Dog(String initialName, String initialBreed, boolean boosterShot) {\r\n            name = initialName;\r\n            age = 0;\r\n            weight = 0;\r\n            breed = initialBreed;\r\n            this.boosterShot = boosterShot;\r\n        }\r\n    \r\n        public Dog(int initialAge) {\r\n            name = &quot;No name yet.&quot;;\r\n            weight = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            boosterShot = false;\r\n            if (initialAge &lt; 0) {\r\n                System.out.println(&quot;Error: Negative age.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                age = initialAge;\r\n        }\r\n    \r\n    \r\n        public Dog(double initialWeight) {\r\n            name = &quot;No name yet.&quot;;\r\n            age = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            boosterShot = false;\r\n            if (initialWeight &lt; 0) {\r\n                System.out.println(&quot;Error: Negative weight.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                weight = initialWeight;\r\n        }\r\n    \r\n        public void setDog(String newName, int newAge,\r\n                           double newWeight, String newBreed, boolean boosterShot) {\r\n            name = newName;\r\n            if ((newAge &lt; 0) || (newWeight &lt; 0)) {\r\n                System.out.println(&quot;Error: Negative age or weight.&quot;);\r\n                System.exit(0);\r\n            } else {\r\n                age = newAge;\r\n                weight = newWeight;\r\n                breed = newBreed;\r\n                this.boosterShot = boosterShot;\r\n            }\r\n        }\r\n    \r\n        public boolean hadBoosterShot() {\r\n            return this.boosterShot;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String newName) {\r\n            name = newName; //age and weight are unchanged.\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int newAge) {\r\n            if (newAge &lt; 0) {\r\n                System.out.println(&quot;Error: Negative age.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                age = newAge; //name and weight are unchanged.\r\n        }\r\n    \r\n        public double getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(double newWeight) {\r\n            if (newWeight &lt; 0) {\r\n                System.out.println(&quot;Error: Negative weight.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                weight = newWeight; //name and age are unchanged.\r\n        }\r\n    \r\n        public String getBreed() {\r\n            return breed;\r\n        }\r\n    \r\n        public void setBreed(String newBreed) {\r\n            breed = newBreed;\r\n        }\r\n    \r\n        public boolean getBoosterShot() {\r\n            return boosterShot;\r\n        }\r\n    \r\n        public void setBoosterShot(boolean boosterShot) {\r\n            this.boosterShot = boosterShot;\r\n        }\r\n    \r\n        public void writeOutput() {\r\n            System.out.println(&quot;Name: &quot; + name);\r\n            System.out.println(&quot;Age: &quot; + age + &quot; years&quot;);\r\n            System.out.println(&quot;Weight: &quot; + weight + &quot; pounds&quot;);\r\n            System.out.println(&quot;Breed: &quot; + breed);\r\n            System.out.println(&quot;Booster shot status: &quot; + boosterShot);\r\n        }\r\n    }\r\n\r\nBelow is the tester program I created: \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DogDemo {\r\n        public static void main(String[] args) {\r\n            Dog a = new Dog();\r\n            System.out.println(&quot;My records on your dog are inaccurate.&quot;);\r\n            System.out.println(&quot;Here is what they currently say:&quot;);\r\n            a.writeOutput();\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog name:&quot;);\r\n            String correctName = keyboard.nextLine();\r\n            a.setName(correctName);\r\n    \r\n            System.out.println(&quot;Please enter correct dog breed:&quot;);\r\n            String correctBreed = keyboard.nextLine();\r\n            a.setBreed(correctBreed);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog age:&quot;);\r\n            int correctAge = keyboard.nextInt();\r\n            a.setAge(correctAge);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog weight:&quot;);\r\n            double correctWeight = keyboard.nextDouble();\r\n            a.setWeight(correctWeight);\r\n    \r\n            System.out.println(&quot;My updated records now say:&quot;);\r\n            a.writeOutput();\r\n        }\r\n    }\r\n\r\nAll works fine but I am really stuck on how to set the `boosterShot` to `true` or `false` in the tester program.\r\n\r\nAny help will be greatly appreciated.\r\n\r\n","title":"Dog Class Java Assignment","body":"<p>I am a Java programming student and busy with an assignment. I would really appreciate some help. </p>\n\n<p>Below is the class I had to create:</p>\n\n<pre><code>/**\n * Class for basic dog data: name, age, weight, breed and booster shot info.\n */\npublic class Dog {\n    private String name; //name of dog\n    private int age; //in years\n    private double weight;  //in pounds\n    private String breed; //breed of dog\n    private boolean boosterShot; //Status of booster shot\n\n    public Dog() {\n        name = \"No name yet.\";\n        age = 0;\n        weight = 0;\n        breed = \"No breed yet.\";\n        this.boosterShot = false;\n    }\n\n    public Dog(String initialName, int initialAge,\n               double initialWeight, String initialBreed, boolean boosterShot) {\n        name = initialName;\n        if ((initialAge &lt; 0) || (initialWeight &lt; 0)) {\n            System.out.println(\"Error: Negative age or weight.\");\n            System.exit(0);\n        } else {\n            age = initialAge;\n            weight = initialWeight;\n            breed = initialBreed;\n            this.boosterShot = boosterShot;\n        }\n    }\n\n    public Dog(String initialName, String initialBreed, boolean boosterShot) {\n        name = initialName;\n        age = 0;\n        weight = 0;\n        breed = initialBreed;\n        this.boosterShot = boosterShot;\n    }\n\n    public Dog(int initialAge) {\n        name = \"No name yet.\";\n        weight = 0;\n        breed = \"No breed yet.\";\n        boosterShot = false;\n        if (initialAge &lt; 0) {\n            System.out.println(\"Error: Negative age.\");\n            System.exit(0);\n        } else\n            age = initialAge;\n    }\n\n\n    public Dog(double initialWeight) {\n        name = \"No name yet.\";\n        age = 0;\n        breed = \"No breed yet.\";\n        boosterShot = false;\n        if (initialWeight &lt; 0) {\n            System.out.println(\"Error: Negative weight.\");\n            System.exit(0);\n        } else\n            weight = initialWeight;\n    }\n\n    public void setDog(String newName, int newAge,\n                       double newWeight, String newBreed, boolean boosterShot) {\n        name = newName;\n        if ((newAge &lt; 0) || (newWeight &lt; 0)) {\n            System.out.println(\"Error: Negative age or weight.\");\n            System.exit(0);\n        } else {\n            age = newAge;\n            weight = newWeight;\n            breed = newBreed;\n            this.boosterShot = boosterShot;\n        }\n    }\n\n    public boolean hadBoosterShot() {\n        return this.boosterShot;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String newName) {\n        name = newName; //age and weight are unchanged.\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int newAge) {\n        if (newAge &lt; 0) {\n            System.out.println(\"Error: Negative age.\");\n            System.exit(0);\n        } else\n            age = newAge; //name and weight are unchanged.\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double newWeight) {\n        if (newWeight &lt; 0) {\n            System.out.println(\"Error: Negative weight.\");\n            System.exit(0);\n        } else\n            weight = newWeight; //name and age are unchanged.\n    }\n\n    public String getBreed() {\n        return breed;\n    }\n\n    public void setBreed(String newBreed) {\n        breed = newBreed;\n    }\n\n    public boolean getBoosterShot() {\n        return boosterShot;\n    }\n\n    public void setBoosterShot(boolean boosterShot) {\n        this.boosterShot = boosterShot;\n    }\n\n    public void writeOutput() {\n        System.out.println(\"Name: \" + name);\n        System.out.println(\"Age: \" + age + \" years\");\n        System.out.println(\"Weight: \" + weight + \" pounds\");\n        System.out.println(\"Breed: \" + breed);\n        System.out.println(\"Booster shot status: \" + boosterShot);\n    }\n}\n</code></pre>\n\n<p>Below is the tester program I created: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class DogDemo {\n    public static void main(String[] args) {\n        Dog a = new Dog();\n        System.out.println(\"My records on your dog are inaccurate.\");\n        System.out.println(\"Here is what they currently say:\");\n        a.writeOutput();\n\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.println(\"Please enter the correct dog name:\");\n        String correctName = keyboard.nextLine();\n        a.setName(correctName);\n\n        System.out.println(\"Please enter correct dog breed:\");\n        String correctBreed = keyboard.nextLine();\n        a.setBreed(correctBreed);\n\n        System.out.println(\"Please enter the correct dog age:\");\n        int correctAge = keyboard.nextInt();\n        a.setAge(correctAge);\n\n        System.out.println(\"Please enter the correct dog weight:\");\n        double correctWeight = keyboard.nextDouble();\n        a.setWeight(correctWeight);\n\n        System.out.println(\"My updated records now say:\");\n        a.writeOutput();\n    }\n}\n</code></pre>\n\n<p>All works fine but I am really stuck on how to set the <code>boosterShot</code> to <code>true</code> or <code>false</code> in the tester program.</p>\n\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","java-time","date-parsing"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":2,"creation_date":1678992428,"post_id":75760452,"comment_id":133645268,"body_markdown":"Your `String date` is in `yyyy-MM-dd` format but the pattern you have specified is `dd-MMM-yyyy`. Your `date` would have to be like &quot;16-Apr-2018&quot; for this parse to work.","body":"Your <code>String date</code> is in <code>yyyy-MM-dd</code> format but the pattern you have specified is <code>dd-MMM-yyyy</code>. Your <code>date</code> would have to be like &quot;16-Apr-2018&quot; for this parse to work."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":0,"creation_date":1678992605,"post_id":75760452,"comment_id":133645333,"body_markdown":"Ok got the problem now. Actually, my concern is to convert the date to the 16-Apr-2018 format. I have 2018-04-16 as my input data.","body":"Ok got the problem now. Actually, my concern is to convert the date to the 16-Apr-2018 format. I have 2018-04-16 as my input data."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":0,"creation_date":1678992674,"post_id":75760452,"comment_id":133645342,"body_markdown":"how do I convert 2018-04-16 to 16-Apr-2018 ?","body":"how do I convert 2018-04-16 to 16-Apr-2018 ?"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1678992727,"post_id":75760452,"comment_id":133645356,"body_markdown":"If your input is `yyyy-MM-dd` then your DateTimeFormatter needs to use that same pattern to parse it. _**Then**_ you can output (convert) the resulting `LocalDate localDate` into any format you want.","body":"If your input is <code>yyyy-MM-dd</code> then your DateTimeFormatter needs to use that same pattern to parse it. <i><b>Then</b></i> you can output (convert) the resulting <code>LocalDate localDate</code> into any format you want."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679067452,"post_id":75760452,"comment_id":133659965,"body_markdown":"*Is there a way I can handle this date conversion using LocalDate …* Yes, certainly, *… or should I use SimpleDateFormat?* No way! That will only risk adding several layers of trouble to your situation. And `SimpleDateFormat` cannot parse into a `LocalDate` (which is what you should want),","body":"<i>Is there a way I can handle this date conversion using LocalDate …</i> Yes, certainly, <i>… or should I use SimpleDateFormat?</i> No way! That will only risk adding several layers of trouble to your situation. And <code>SimpleDateFormat</code> cannot parse into a <code>LocalDate</code> (which is what you should want),"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679068013,"post_id":75760452,"comment_id":133660134,"body_markdown":"You need no formatter for parsing. `LocalDate.parse(date)` parses your string and gives you the `LocalDate` that you want. After that use your formatter for formatting to obtain the desired format: `localDate.format(formatter)` yields `16-Apr-2018`.","body":"You need no formatter for parsing. <code>LocalDate.parse(date)</code> parses your string and gives you the <code>LocalDate</code> that you want. After that use your formatter for formatting to obtain the desired format: <code>localDate.format(formatter)</code> yields <code>16-Apr-2018</code>."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":1,"creation_date":1679068352,"post_id":75760452,"comment_id":133660201,"body_markdown":"Yes, got it to work now. The problem was I directly tried convert the format to the desired format instead of first converting it to LocalDate and then convert. Now I have updated it and it works as you explained.","body":"Yes, got it to work now. The problem was I directly tried convert the format to the desired format instead of first converting it to LocalDate and then convert. Now I have updated it and it works as you explained."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679070334,"post_id":75760452,"comment_id":133660732,"body_markdown":"There were two votes to close this question as not reproducible or caused by a typo. It is perfectly reproducible and not caused by any typo. Instead I have closed it as a duplicate, which I consider both more correct and more helpful.","body":"There were two votes to close this question as not reproducible or caused by a typo. It is perfectly reproducible and not caused by any typo. Instead I have closed it as a duplicate, which I consider both more correct and more helpful."}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678992690,"creation_date":1678992690,"answer_id":75760525,"question_id":75760452,"body_markdown":"In your code `DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);` pattern `dd-MMM-yyyy` is for three letter months like Jun. If you want to parse strings like `2018-04-16`, the pattern should be yyyy-MM-dd.\r\n\r\nPlease refer to the sample code\r\n\r\n    String date = &quot;2018-04-16&quot;;\r\n    DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate localDate = LocalDate.parse(date, inputFormatter);\r\n\r\n**Update - For your question in the comment**\r\n\r\nAfter you convert String to Local date, the code below should do the trick.\r\n\r\n    DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\r\n    String outputDate = localDate.format(outputFormatter);","title":"Issue With Converting String to LocalDate","body":"<p>In your code <code>DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);</code> pattern <code>dd-MMM-yyyy</code> is for three letter months like Jun. If you want to parse strings like <code>2018-04-16</code>, the pattern should be yyyy-MM-dd.</p>\n<p>Please refer to the sample code</p>\n<pre><code>String date = &quot;2018-04-16&quot;;\nDateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate localDate = LocalDate.parse(date, inputFormatter);\n</code></pre>\n<p><strong>Update - For your question in the comment</strong></p>\n<p>After you convert String to Local date, the code below should do the trick.</p>\n<pre><code>DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\nString outputDate = localDate.format(outputFormatter);\n</code></pre>\n"}],"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1679070242,"accepted_answer_id":75760525,"answer_count":1,"score":0,"last_activity_date":1679067736,"creation_date":1678992223,"question_id":75760452,"body_markdown":"I am trying to convert a string date format to another date format(dd-MMM-yyyy) using LocalDate. \r\n\r\n```\r\nString date = &quot;2018-04-16&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\r\nLocalDate localDate = LocalDate.parse(date, formatter);\r\n```\r\n\r\nI tried this code with and without the Locale.US in the DateTimeFormatter object. Either way it is returning this exception instead:\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2018-04-16&#39; could not be parsed at index 2\r\n```\r\n\r\nIs there a way I can handle this date conversion using LocalDate or should I use SimpleDateFormat? ","title":"Issue With Converting String to LocalDate","body":"<p>I am trying to convert a string date format to another date format(dd-MMM-yyyy) using LocalDate.</p>\n<pre><code>String date = &quot;2018-04-16&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\nLocalDate localDate = LocalDate.parse(date, formatter);\n</code></pre>\n<p>I tried this code with and without the Locale.US in the DateTimeFormatter object. Either way it is returning this exception instead:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2018-04-16' could not be parsed at index 2\n</code></pre>\n<p>Is there a way I can handle this date conversion using LocalDate or should I use SimpleDateFormat?</p>\n"},{"tags":["java","validation","methods","user-input"],"comments":[{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":0,"creation_date":1679066108,"post_id":75769230,"comment_id":133659565,"body_markdown":"&quot;the problem is in Line 49&quot; and what that problem is?","body":"&quot;the problem is in Line 49&quot; and what that problem is?"}],"answers":[{"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679067579,"creation_date":1679067579,"answer_id":75769537,"question_id":75769230,"body_markdown":"You need to pass the fatGrams variable as an argument to the getCalories() method, like this:\r\n\r\n\r\n        // Calls getFat\r\n        fatGrams = getFat();\r\n        // Calls getCalories\r\n        calories = getCalories(fatGrams);\r\n        // Calls showPercent\r\n        showPercent(fatGrams, calories);\r\n    }\r\n\r\nAnd change the signature of your getCalories() method like this:\r\n\r\n    public static double getCalories(double fatGrams) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\nNow the class can compile and the following line doesn&#39;t have any problem anymore:\r\n\r\n        // Validate\r\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; NO MORE PROBLEM !\r\n\r\nHope it helps.\r\n","title":"I need input from my main module into another module created after","body":"<p>You need to pass the fatGrams variable as an argument to the getCalories() method, like this:</p>\n<pre><code>    // Calls getFat\n    fatGrams = getFat();\n    // Calls getCalories\n    calories = getCalories(fatGrams);\n    // Calls showPercent\n    showPercent(fatGrams, calories);\n}\n</code></pre>\n<p>And change the signature of your getCalories() method like this:</p>\n<pre><code>public static double getCalories(double fatGrams) {\n    Scanner keyboard = new Scanner(System.in);\n</code></pre>\n<p>Now the class can compile and the following line doesn't have any problem anymore:</p>\n<pre><code>    // Validate\n    while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; NO MORE PROBLEM !\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28043598,"reputation":3,"user_id":21420766,"display_name":"Deison Suarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75769537,"answer_count":1,"score":0,"last_activity_date":1679067579,"creation_date":1679065816,"question_id":75769230,"body_markdown":"Java &quot;Fat Gram Calculator&quot; programming I&#39;m attempting needs to validate input, I get to a point where I need to validate the input from user, taking into consideration a previous input from another module, with a given formula. I am trying this and I don&#39;t know how to do that without asking the user to input the same thing again, please help the problem is on this line:\r\n\r\n```java\r\nwhile(input &lt; 0.0 || input &lt; (fatGrams * 9)){\r\n```\r\n\r\nin the code below\r\n\r\n```java\r\nimport java.util.Scanner;\r\nclass fatCalculator {\r\n\r\n    public static void main(String[] args) {\r\n        // Local variables\r\n        double fatGrams, calories;\r\n\r\n        // Calls getFat\r\n        fatGrams = getFat();\r\n        // Calls getCalories\r\n        calories = getCalories();\r\n        // Calls showPercent\r\n        showPercent(fatGrams, calories);\r\n    }\r\n    public static double getFat() {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        // Local variable\r\n        double input;\r\n\r\n        // Get the fat grams  \r\n        System.out.println(&quot;Please enter the number of fat grams: &quot;);\r\n        input = keyboard.nextDouble();\r\n\r\n        // Valitdate\r\n        while (input &lt; 0.0) {\r\n            System.out.println(&quot;The number of fat grams cannot be less than 0.&quot;);\r\n            System.out.println(&quot;Please enter the number of fat grams.&quot;);\r\n            input = keyboard.nextDouble();\r\n        }\r\n        return input;\r\n    }\r\n    public static double getCalories() {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        // Local variable\r\n        double input;\r\n        // call fatGrams\r\n\r\n\r\n        // Get the calories\r\n        System.out.println(&quot;Please enter the number of calories: &quot;);\r\n        input = keyboard.nextDouble();\r\n\r\n        // Validate\r\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; PROBLEM IS HERE\r\n            System.out.println(&quot;The number of calories cannot be less than the number of fat grams * 9.&quot;);\r\n            System.out.println(&quot;Please enter the number of calories.&quot;);\r\n            input = keyboard.nextDouble();\r\n        }\r\n        return input;\r\n    }\r\n    public static void showPercent(double fatGrams, double calories) {\r\n        // local varibale\r\n        double finalPercentage;\r\n\r\n        // Calculate and display final percentage\r\n        finalPercentage = (fatGrams * 9) / calories;\r\n        System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);\r\n        // Banner\r\n        while (finalPercentage &lt; 0.3) {\r\n            System.out.println(&quot;That food item is considered&quot; + &quot;low fat.&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"I need input from my main module into another module created after","body":"<p>Java &quot;Fat Gram Calculator&quot; programming I'm attempting needs to validate input, I get to a point where I need to validate the input from user, taking into consideration a previous input from another module, with a given formula. I am trying this and I don't know how to do that without asking the user to input the same thing again, please help the problem is on this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(input &lt; 0.0 || input &lt; (fatGrams * 9)){\n</code></pre>\n<p>in the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass fatCalculator {\n\n    public static void main(String[] args) {\n        // Local variables\n        double fatGrams, calories;\n\n        // Calls getFat\n        fatGrams = getFat();\n        // Calls getCalories\n        calories = getCalories();\n        // Calls showPercent\n        showPercent(fatGrams, calories);\n    }\n    public static double getFat() {\n        Scanner keyboard = new Scanner(System.in);\n\n        // Local variable\n        double input;\n\n        // Get the fat grams  \n        System.out.println(&quot;Please enter the number of fat grams: &quot;);\n        input = keyboard.nextDouble();\n\n        // Valitdate\n        while (input &lt; 0.0) {\n            System.out.println(&quot;The number of fat grams cannot be less than 0.&quot;);\n            System.out.println(&quot;Please enter the number of fat grams.&quot;);\n            input = keyboard.nextDouble();\n        }\n        return input;\n    }\n    public static double getCalories() {\n        Scanner keyboard = new Scanner(System.in);\n\n        // Local variable\n        double input;\n        // call fatGrams\n\n\n        // Get the calories\n        System.out.println(&quot;Please enter the number of calories: &quot;);\n        input = keyboard.nextDouble();\n\n        // Validate\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; PROBLEM IS HERE\n            System.out.println(&quot;The number of calories cannot be less than the number of fat grams * 9.&quot;);\n            System.out.println(&quot;Please enter the number of calories.&quot;);\n            input = keyboard.nextDouble();\n        }\n        return input;\n    }\n    public static void showPercent(double fatGrams, double calories) {\n        // local varibale\n        double finalPercentage;\n\n        // Calculate and display final percentage\n        finalPercentage = (fatGrams * 9) / calories;\n        System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);\n        // Banner\n        while (finalPercentage &lt; 0.3) {\n            System.out.println(&quot;That food item is considered&quot; + &quot;low fat.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven-plugin","aspectj","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1595136632,"post_id":62976155,"comment_id":111366675,"body_markdown":"The issue is pretty much the same, right? Did the solutions suggest there not work for you?","body":"The issue is pretty much the same, right? Did the solutions suggest there not work for you?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1595137071,"post_id":62976155,"comment_id":111366730,"body_markdown":"It didn&#39;t  work.","body":"It didn&#39;t  work."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1595138982,"post_id":62976155,"comment_id":111367026,"body_markdown":"You have tried both [this](https://stackoverflow.com/a/52277056/1746118) and [this](https://stackoverflow.com/a/49474325/1746118)? Since the version that you are using is itself 2 years old.","body":"You have tried both <a href=\"https://stackoverflow.com/a/52277056/1746118\">this</a> and <a href=\"https://stackoverflow.com/a/49474325/1746118\">this</a>? Since the version that you are using is itself 2 years old."}],"answers":[{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1679067055,"creation_date":1595149144,"answer_id":62978208,"question_id":62976155,"body_markdown":"**Update II (2023-03):**\r\nThe MojoHaus `aspectj-maven-plugin`&#39;s development seems to have stalled again. Instead, the AspectJ developers recommend switching to a [different fork](https://github.com/dev-aspectj/aspectj-maven-plugin) of the AspectJ Maven plugin, which is kept up to date with AspectJ itself. The fork&#39;s coordinates are:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.13.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Update I:**\r\n\r\nThe official `aspectj-maven-plugin` has been resurrected, version 1.14.0 supports JDK up to 16.\r\n\r\n**Original answer:**\r\n\r\nUnfortunately, (as of July 2020) the currect version of the &quot;official&quot; `aspectj-maven-plugin` runs only on Java 8. There are two outstanding issues for it [here](https://github.com/mojohaus/aspectj-maven-plugin/issues/41) and [here](https://github.com/mojohaus/aspectj-maven-plugin/issues/24) and several PRs fixing them, but the maintainers haven&#39;t responded to any of them.\r\n\r\nYou can try switching to a different fork of the plugin, for example, [Nick Wong&#39;s version](https://github.com/nickwongdev/aspectj-maven-plugin):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.12.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"aspectj-maven-plugin 1.11 : missing tools.jar issue with jdk 11","body":"<p><strong>Update II (2023-03):</strong>\nThe MojoHaus <code>aspectj-maven-plugin</code>'s development seems to have stalled again. Instead, the AspectJ developers recommend switching to a <a href=\"https://github.com/dev-aspectj/aspectj-maven-plugin\" rel=\"nofollow noreferrer\">different fork</a> of the AspectJ Maven plugin, which is kept up to date with AspectJ itself. The fork's coordinates are:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.13.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Update I:</strong></p>\n<p>The official <code>aspectj-maven-plugin</code> has been resurrected, version 1.14.0 supports JDK up to 16.</p>\n<p><strong>Original answer:</strong></p>\n<p>Unfortunately, (as of July 2020) the currect version of the &quot;official&quot; <code>aspectj-maven-plugin</code> runs only on Java 8. There are two outstanding issues for it <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/41\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/24\" rel=\"nofollow noreferrer\">here</a> and several PRs fixing them, but the maintainers haven't responded to any of them.</p>\n<p>You can try switching to a different fork of the plugin, for example, <a href=\"https://github.com/nickwongdev/aspectj-maven-plugin\" rel=\"nofollow noreferrer\">Nick Wong's version</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.12.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7631,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62978208,"answer_count":1,"score":6,"last_activity_date":1679067055,"creation_date":1595131533,"question_id":62976155,"body_markdown":"I have aspectj-maven-plugin:1.11 in my pom and jdk 11 installed on my system. Jdk 11 doesn&#39;t have tools.jar in lib directory. This is causing maven build to fail with error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.codehaus.mojo:aspectj-maven-plugin:1.11:compile (default) on\r\n&gt; project groundtruth-storage-writer: Execution default of goal\r\n&gt; org.codehaus.mojo:aspectj- maven-plugin:1.11:compile failed: Plugin\r\n&gt; org.codehaus.mojo:aspectj-maven-plugin:1.11 or one of its dependencies\r\n&gt; could not be resolved: Could not find artifact\r\n&gt; com.sun:tools:jar:11.0.7 at specified path ...\\Java\\jdk-11.0.7/../lib/tools.jar\r\n\r\n\r\nHow to solve this issue?\r\n\r\nThere is an answer [here][1], but that is more than 2 years old.\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48173963/maven-aspectj-plugin-fails-to-build-with-java-9-due-to-missing-tools-jar","title":"aspectj-maven-plugin 1.11 : missing tools.jar issue with jdk 11","body":"<p>I have aspectj-maven-plugin:1.11 in my pom and jdk 11 installed on my system. Jdk 11 doesn't have tools.jar in lib directory. This is causing maven build to fail with error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.codehaus.mojo:aspectj-maven-plugin:1.11:compile (default) on\nproject groundtruth-storage-writer: Execution default of goal\norg.codehaus.mojo:aspectj- maven-plugin:1.11:compile failed: Plugin\norg.codehaus.mojo:aspectj-maven-plugin:1.11 or one of its dependencies\ncould not be resolved: Could not find artifact\ncom.sun:tools:jar:11.0.7 at specified path ...\\Java\\jdk-11.0.7/../lib/tools.jar</p>\n</blockquote>\n<p>How to solve this issue?</p>\n<p>There is an answer <a href=\"https://stackoverflow.com/questions/48173963/maven-aspectj-plugin-fails-to-build-with-java-9-due-to-missing-tools-jar\">here</a>, but that is more than 2 years old.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1679013344,"post_id":75762791,"comment_id":133649252,"body_markdown":"Consider adding a screen shot of the bad behavior and using it to explain the desired behavior.  But in general flow layout only makes sense if the widgets it&#39;s managing have a fixed size.  You may need to switch to a different layout type.","body":"Consider adding a screen shot of the bad behavior and using it to explain the desired behavior.  But in general flow layout only makes sense if the widgets it&#39;s managing have a fixed size.  You may need to switch to a different layout type."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679013400,"post_id":75762791,"comment_id":133649267,"body_markdown":"You probably need to define the minimum size - having said that, that&#39;s no easy task","body":"You probably need to define the minimum size - having said that, that&#39;s no easy task"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679019450,"post_id":75762791,"comment_id":133649994,"body_markdown":"*How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?* - Actually you do it the other way around. When the components wrap you need to reset the preferred size of the panel, not the text area. Then the `BorderLayout` will respect the height of the top panel and reset the size of the scroll pane. See: [Wrap Layout](https://tips4java.wordpress.com/2008/11/06/wrap-layout/) which does this for you.","body":"<i>How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?</i> - Actually you do it the other way around. When the components wrap you need to reset the preferred size of the panel, not the text area. Then the <code>BorderLayout</code> will respect the height of the top panel and reset the size of the scroll pane. See: <a href=\"https://tips4java.wordpress.com/2008/11/06/wrap-layout/\" rel=\"nofollow noreferrer\">Wrap Layout</a> which does this for you."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679014710,"creation_date":1679014710,"answer_id":75762904,"question_id":75762791,"body_markdown":"Please make variables look like variables and not like classes:\r\n\r\n        JTextArea TextArea = new JTextArea();\r\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        TextArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\r\n\r\nThis:\r\n\r\n        JTextArea textArea = new JTextArea();\r\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        textArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\nSo, to your question . .\r\n\r\nWhen adding a `JScrollPane`, it has to know the size of your `JTextArea`, i.e. `setMinimumSize` as opposed to `setPreferredSize`.\r\n\r\nThe it can then position your `JTextArea` correctly.\r\n\r\nYou also have to understand the differences between the Java layout managers.","title":"FlowLayout extending behind component in BorderLayout","body":"<p>Please make variables look like variables and not like classes:</p>\n<pre><code>    JTextArea TextArea = new JTextArea();\n    TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n    TextArea.setName(&quot;TextArea&quot;);\n    JScrollPane ScrollPane = new JScrollPane(TextArea);\n</code></pre>\n<p>This:</p>\n<pre><code>    JTextArea textArea = new JTextArea();\n    textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n    textArea.setName(&quot;TextArea&quot;);\n    JScrollPane scrollPane = new JScrollPane(textArea);\n</code></pre>\n<p>So, to your question . .</p>\n<p>When adding a <code>JScrollPane</code>, it has to know the size of your <code>JTextArea</code>, i.e. <code>setMinimumSize</code> as opposed to <code>setPreferredSize</code>.</p>\n<p>The it can then position your <code>JTextArea</code> correctly.</p>\n<p>You also have to understand the differences between the Java layout managers.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679066924,"creation_date":1679018603,"answer_id":75763162,"question_id":75762791,"body_markdown":"# Original Answer\r\n\r\nYou have to get the basics correct before you can tackle the advanced problems.  I fixed your GUI code.\r\n\r\n[![Text Editor][1]][1]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nWhen creating a `JFrame`, you pack the `JFrame` and set the `JFrame` visible last.  You do not set the size of the `JFrame`.  The `JFrame` will size based on the components you&#39;re displaying.\r\n\r\nI added row and column counts to your `JTextArea`.  This allows the BorderLayout to size itself properly. \r\n\r\nIf you want the `JButtons` to display under the `JTextArea`, you have to use a different Swing layout.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextEditorExample extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew TextEditorExample();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic TextEditorExample() {\r\n    \t\tsuper(&quot;Text Editor&quot;);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJTextArea textArea = new JTextArea(10, 30);\r\n    \t\ttextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n    \t\ttextArea.setName(&quot;TextArea&quot;);\r\n    \t\tJScrollPane ScrollPane = new JScrollPane(textArea);\r\n    \t\tScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n    \t\tadd(ScrollPane, BorderLayout.CENTER);\r\n    \r\n    \t\tJPanel jPanel = new JPanel(new FlowLayout());\r\n    \t\tjPanel.add(new JTextField(18));\r\n    \t\tjPanel.add(new JButton(&quot;Save&quot;));\r\n    \t\tjPanel.add(new JButton(&quot;Load&quot;));\r\n    \t\tadd(jPanel, BorderLayout.PAGE_START);\r\n    \r\n    \t\tpack();\r\n    \t\tsetLocationByPlatform(true);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n# Extended Answer\r\n\r\nIn order to resize the control panel properly, you have to use a [ComponentListener][2] (`ComponentAdapter`).\r\n\r\nHere&#39;s the original GUI:\r\n\r\n[![Original GUI][3]][3]\r\n\r\nHere&#39;s the shrunk GUI:\r\n\r\n[![Shrunk GUI][4]][4]\r\n\r\nHere&#39;s the expanded GUI:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIn the `ComponentListener`, I save the original size of the control `JPanel`.  When the control `JPanel` width is less than the original width, I double the height.  When the control `JPanel` width is greater than or equal to the original width, I use the original height.  \r\n\r\nI invalidate the `JFrame` to get it to recalculate the GUI.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextEditorExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new TextEditorExample());\t\t\r\n    \t}\r\n    \t\r\n    \tprivate Dimension controlPanelDimension;\r\n    \t\r\n    \tprivate JFrame frame;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tframe = new JFrame(&quot;Text Editor&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createControlPanel(), BorderLayout.PAGE_START);\r\n    \t\tframe.add(createTextArea(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createControlPanel() {\r\n    \t\tJPanel jPanel = new JPanel(new FlowLayout());\r\n    \t\tjPanel.addComponentListener(new ComponentAdapter() {\r\n    \t\t\tboolean firstTimeSwitch = true;\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent event) {\r\n    \t\t\t\tif (firstTimeSwitch) {\r\n    \t\t\t\t\tcontrolPanelDimension = jPanel.getPreferredSize();\r\n    \t\t\t\t\tfirstTimeSwitch = false;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tDimension d = jPanel.getSize();\r\n    \t\t\t\tif (d.width &lt; controlPanelDimension.width) {\r\n    \t\t\t\t\tint height = 2 * controlPanelDimension.height;\r\n    \t\t\t\t\tjPanel.setPreferredSize(new Dimension(d.width, height));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tint height = controlPanelDimension.height;\r\n    \t\t\t\t\tjPanel.setPreferredSize(new Dimension(d.width, height));\t\r\n    \t\t\t\t}\r\n    \t\t\t\tframe.invalidate();\r\n    \t\t\t}\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tjPanel.add(new JTextField(18));\r\n    \t\tjPanel.add(new JButton(&quot;Save&quot;));\r\n    \t\tjPanel.add(new JButton(&quot;Load&quot;));\r\n    \t\t\r\n    \t\treturn jPanel;\r\n    \t}\r\n    \t\r\n    \tprivate JScrollPane createTextArea() {\r\n    \t\tJTextArea textArea = new JTextArea(10, 30);\r\n    \t\ttextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n    \t\tscrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n    \t\t\r\n    \t\treturn scrollPane;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H3OL1.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\r\n  [3]: https://i.stack.imgur.com/l2Uzs.png\r\n  [4]: https://i.stack.imgur.com/h59x6.png\r\n  [5]: https://i.stack.imgur.com/kbyEk.png\r\n","title":"FlowLayout extending behind component in BorderLayout","body":"<h1>Original Answer</h1>\n<p>You have to get the basics correct before you can tackle the advanced problems.  I fixed your GUI code.</p>\n<p><a href=\"https://i.stack.imgur.com/H3OL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H3OL1.png\" alt=\"Text Editor\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>When creating a <code>JFrame</code>, you pack the <code>JFrame</code> and set the <code>JFrame</code> visible last.  You do not set the size of the <code>JFrame</code>.  The <code>JFrame</code> will size based on the components you're displaying.</p>\n<p>I added row and column counts to your <code>JTextArea</code>.  This allows the BorderLayout to size itself properly.</p>\n<p>If you want the <code>JButtons</code> to display under the <code>JTextArea</code>, you have to use a different Swing layout.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class TextEditorExample extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new TextEditorExample();\n            }\n        });\n    }\n\n    public TextEditorExample() {\n        super(&quot;Text Editor&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JTextArea textArea = new JTextArea(10, 30);\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n        textArea.setName(&quot;TextArea&quot;);\n        JScrollPane ScrollPane = new JScrollPane(textArea);\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        add(ScrollPane, BorderLayout.CENTER);\n\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        add(jPanel, BorderLayout.PAGE_START);\n\n        pack();\n        setLocationByPlatform(true);\n        setVisible(true);\n    }\n\n}\n</code></pre>\n<h1>Extended Answer</h1>\n<p>In order to resize the control panel properly, you have to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\" rel=\"nofollow noreferrer\">ComponentListener</a> (<code>ComponentAdapter</code>).</p>\n<p>Here's the original GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/l2Uzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2Uzs.png\" alt=\"Original GUI\" /></a></p>\n<p>Here's the shrunk GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/h59x6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h59x6.png\" alt=\"Shrunk GUI\" /></a></p>\n<p>Here's the expanded GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/kbyEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kbyEk.png\" alt=\"enter image description here\" /></a></p>\n<p>In the <code>ComponentListener</code>, I save the original size of the control <code>JPanel</code>.  When the control <code>JPanel</code> width is less than the original width, I double the height.  When the control <code>JPanel</code> width is greater than or equal to the original width, I use the original height.</p>\n<p>I invalidate the <code>JFrame</code> to get it to recalculate the GUI.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class TextEditorExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new TextEditorExample());        \n    }\n    \n    private Dimension controlPanelDimension;\n    \n    private JFrame frame;\n\n    @Override\n    public void run() {\n        frame = new JFrame(&quot;Text Editor&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createControlPanel(), BorderLayout.PAGE_START);\n        frame.add(createTextArea(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createControlPanel() {\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.addComponentListener(new ComponentAdapter() {\n            boolean firstTimeSwitch = true;\n            \n            @Override\n            public void componentResized(ComponentEvent event) {\n                if (firstTimeSwitch) {\n                    controlPanelDimension = jPanel.getPreferredSize();\n                    firstTimeSwitch = false;\n                }\n                \n                Dimension d = jPanel.getSize();\n                if (d.width &lt; controlPanelDimension.width) {\n                    int height = 2 * controlPanelDimension.height;\n                    jPanel.setPreferredSize(new Dimension(d.width, height));\n                } else {\n                    int height = controlPanelDimension.height;\n                    jPanel.setPreferredSize(new Dimension(d.width, height));    \n                }\n                frame.invalidate();\n            }   \n        });\n        \n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        \n        return jPanel;\n    }\n    \n    private JScrollPane createTextArea() {\n        JTextArea textArea = new JTextArea(10, 30);\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        scrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        \n        return scrollPane;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27846321,"reputation":21,"user_id":21261693,"display_name":"nobody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75763162,"answer_count":2,"score":0,"last_activity_date":1679066924,"creation_date":1679013155,"question_id":75762791,"body_markdown":"when my program resizes to a smaller window size and the FlowLayout creates new rows, the FlowLayout extends behind the JTextArea. How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?\r\n\r\n```java\r\npackage editor;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TextEditor extends JFrame {\r\n    public TextEditor() {\r\n        super(&quot;Text Editor&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(300, 300);\r\n        setVisible(true);\r\n        setLayout(new BorderLayout());\r\n\r\n        JTextArea TextArea = new JTextArea();\r\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        TextArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\r\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n        add(ScrollPane, BorderLayout.CENTER);\r\n\r\n        JPanel jPanel = new JPanel(new FlowLayout());\r\n        jPanel.add(new JTextField(18));\r\n        jPanel.add(new JButton(&quot;Save&quot;));\r\n        jPanel.add(new JButton(&quot;Load&quot;));\r\n        add(jPanel, BorderLayout.PAGE_START);\r\n    }\r\n}\r\n```","title":"FlowLayout extending behind component in BorderLayout","body":"<p>when my program resizes to a smaller window size and the FlowLayout creates new rows, the FlowLayout extends behind the JTextArea. How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package editor;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class TextEditor extends JFrame {\n    public TextEditor() {\n        super(&quot;Text Editor&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(300, 300);\n        setVisible(true);\n        setLayout(new BorderLayout());\n\n        JTextArea TextArea = new JTextArea();\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n        TextArea.setName(&quot;TextArea&quot;);\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        add(ScrollPane, BorderLayout.CENTER);\n\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        add(jPanel, BorderLayout.PAGE_START);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","junit4","junit5"],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066838,"creation_date":1679065478,"answer_id":75769161,"question_id":75768827,"body_markdown":"Looks like you need to use *partial mocking* approach. \r\n\r\nFor example, you have class with 2 methods. *MethodB* is called from *MethodA*.\r\n```java\r\npublic class Example {\r\n\r\n    public int methodA(int a) {\r\n        return methodB(a);\r\n    }\r\n\r\n    public int methodB(int a) {\r\n        return a + a;\r\n    }\r\n}\r\n```\r\n\r\nTest with mocking methodB will look like this. Use thenAnswer method to get arguments from invocation and return result based on it\r\n```java\r\n@Test\r\nvoid sampleTest() {\r\n    Example classUnderTest = Mockito.spy(new Example());\r\n\r\n    Mockito.when(classUnderTest.methodA(10)).thenAnswer(invocation -&gt; {\r\n        Integer firstArgument = invocation.getArgument(0);\r\n        return firstArgument * firstArgument;\r\n    });\r\n\r\n    assertEquals(100, classUnderTest.methodA(10));\r\n}\r\n```\r\n\r\nKeep in mind that it will not work with private and static methods, for these ones use special library powermock etc.","title":"How to mock a method which return a value from another method with some parameter. I want to pass my own parameter when Its calling another method","body":"<p>Looks like you need to use <em>partial mocking</em> approach.</p>\n<p>For example, you have class with 2 methods. <em>MethodB</em> is called from <em>MethodA</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public int methodA(int a) {\n        return methodB(a);\n    }\n\n    public int methodB(int a) {\n        return a + a;\n    }\n}\n</code></pre>\n<p>Test with mocking methodB will look like this. Use thenAnswer method to get arguments from invocation and return result based on it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid sampleTest() {\n    Example classUnderTest = Mockito.spy(new Example());\n\n    Mockito.when(classUnderTest.methodA(10)).thenAnswer(invocation -&gt; {\n        Integer firstArgument = invocation.getArgument(0);\n        return firstArgument * firstArgument;\n    });\n\n    assertEquals(100, classUnderTest.methodA(10));\n}\n</code></pre>\n<p>Keep in mind that it will not work with private and static methods, for these ones use special library powermock etc.</p>\n"}],"owner":{"account_id":27265341,"reputation":13,"user_id":20787477,"display_name":"Ujjal Modak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679066838,"creation_date":1679063459,"question_id":75768827,"body_markdown":"```\r\npublic int method1(a,b,c){\r\n      //some operation for c\r\n       return method2(a,b,1,3);\r\n\r\n\r\n//method from another class\r\npublic int method2(a,b,g,h){\r\n        return a+b+g+h;\r\n}\r\n```\r\n\r\nI want to write test cases for method1. But I want to pass my own parameter to method2 when its calling the same as return","title":"How to mock a method which return a value from another method with some parameter. I want to pass my own parameter when Its calling another method","body":"<pre><code>public int method1(a,b,c){\n      //some operation for c\n       return method2(a,b,1,3);\n\n\n//method from another class\npublic int method2(a,b,g,h){\n        return a+b+g+h;\n}\n</code></pre>\n<p>I want to write test cases for method1. But I want to pass my own parameter to method2 when its calling the same as return</p>\n"},{"tags":["java","docusignapi","docusign-sdk"],"answers":[{"tags":[],"owner":{"account_id":3941825,"reputation":12902,"user_id":3255871,"display_name":"Inbar Gazit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066227,"creation_date":1678992856,"answer_id":75760555,"question_id":75755998,"body_markdown":"There&#39;s a setting in your account called &quot;Anchor Population Scope&quot; for anchor tags (AutoPlace)\r\n\r\nIt can be the document, or the envelope.\r\n\r\nThis setting is controlled by DocuSign, so you need to contact customer support to change it.\r\n\r\nIf you change it to &quot;per-document&quot; then you can have different anchor strings for different documents so that should solve your issue.\r\n\r\n","title":"How to add signature tabs on documents in DocuSign embedded esignature?","body":"<p>There's a setting in your account called &quot;Anchor Population Scope&quot; for anchor tags (AutoPlace)</p>\n<p>It can be the document, or the envelope.</p>\n<p>This setting is controlled by DocuSign, so you need to contact customer support to change it.</p>\n<p>If you change it to &quot;per-document&quot; then you can have different anchor strings for different documents so that should solve your issue.</p>\n"}],"owner":{"account_id":17948444,"reputation":3,"user_id":13042140,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679066227,"creation_date":1678968217,"question_id":75755998,"body_markdown":"I am using DocuSign embedded esignature API to sign documents. It works fine when I know where to place the signature tab. However, in case of documents with different positioning of signature field this does not work (https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/).\r\n\r\nPlease take a look at below examples:\r\nIn all these documents, the signature position is different. The user can sign any of the form. How can I add the signature tabs dynamically in this scenario. \r\n\r\n[enter image description here](https://i.stack.imgur.com/ULOyK.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/MK6eN.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/9CxxF.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/g5wrM.png)\r\n\r\nI have tried Fixed, AutoPlace explained [here](https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/). But it does not work because each document has different positioning of signature field. \r\n\r\nNote: I am not using DocuSign SDK because my application runs on older version of java.","title":"How to add signature tabs on documents in DocuSign embedded esignature?","body":"<p>I am using DocuSign embedded esignature API to sign documents. It works fine when I know where to place the signature tab. However, in case of documents with different positioning of signature field this does not work (<a href=\"https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/\" rel=\"nofollow noreferrer\">https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/</a>).</p>\n<p>Please take a look at below examples:\nIn all these documents, the signature position is different. The user can sign any of the form. How can I add the signature tabs dynamically in this scenario.</p>\n<p><a href=\"https://i.stack.imgur.com/ULOyK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/MK6eN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/9CxxF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/g5wrM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried Fixed, AutoPlace explained <a href=\"https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/\" rel=\"nofollow noreferrer\">here</a>. But it does not work because each document has different positioning of signature field.</p>\n<p>Note: I am not using DocuSign SDK because my application runs on older version of java.</p>\n"},{"tags":["java","generics","kotlin"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521654906,"creation_date":1521654906,"answer_id":49413477,"question_id":49413383,"body_markdown":"This is not possible. When calling an inline function with a reified type parameter, you need to provide a class which is known at compile time, and references to that class will be substituted directly into the body of the function where the inline function is invoked. Classes which are only known at runtime cannot be handled in that way.","title":"Pass class to Kotlin reified method","body":"<p>This is not possible. When calling an inline function with a reified type parameter, you need to provide a class which is known at compile time, and references to that class will be substituted directly into the body of the function where the inline function is invoked. Classes which are only known at runtime cannot be handled in that way.</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066194,"creation_date":1679066194,"answer_id":75769291,"question_id":49413383,"body_markdown":"It&#39;s possible if you can modify the source of the Kotlin class. You have to delegate the implementation of the inline/reified function to a non-inline one:\r\n\r\n```\r\nclass Foo {\r\n    inline fun &lt;reified T&gt; myMethod() = myMethod(T::class.java)\r\n\r\n    fun &lt;T&gt; myMethod(type: Class&lt;T&gt;) {\r\n        // implementation here\r\n    }\r\n}\r\n```\r\n\r\nThis is always good practice if you expect your code to be called from Java projects. And even if it&#39;s Kotlin-only, this is a good way to go from `inline` to not `inline`, allowing you to actually call private implementation methods from your exposed `inline` method.","title":"Pass class to Kotlin reified method","body":"<p>It's possible if you can modify the source of the Kotlin class. You have to delegate the implementation of the inline/reified function to a non-inline one:</p>\n<pre><code>class Foo {\n    inline fun &lt;reified T&gt; myMethod() = myMethod(T::class.java)\n\n    fun &lt;T&gt; myMethod(type: Class&lt;T&gt;) {\n        // implementation here\n    }\n}\n</code></pre>\n<p>This is always good practice if you expect your code to be called from Java projects. And even if it's Kotlin-only, this is a good way to go from <code>inline</code> to not <code>inline</code>, allowing you to actually call private implementation methods from your exposed <code>inline</code> method.</p>\n"}],"owner":{"account_id":1118919,"reputation":15215,"user_id":1107651,"accept_rate":64,"display_name":"Guilherme Torres Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679066194,"creation_date":1521654630,"question_id":49413383,"body_markdown":"I have an java api which give me as parameter as type: `modelClass: Class&lt;T&gt;` with this parameter I want to call a kotlin reified method : `intance&lt;reified : T&gt;()`.\r\n\r\nIt&#39;s possible to pass my modelClass as parameter? I have no access to the source code of the reified method.\r\n\r\n","title":"Pass class to Kotlin reified method","body":"<p>I have an java api which give me as parameter as type: <code>modelClass: Class&lt;T&gt;</code> with this parameter I want to call a kotlin reified method : <code>intance&lt;reified : T&gt;()</code>.</p>\n\n<p>It's possible to pass my modelClass as parameter? I have no access to the source code of the reified method.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1679065024,"post_id":75768950,"comment_id":133659206,"body_markdown":"Does this answer your question? [How to add local jar files to a Maven project?](https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a>"},{"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"score":0,"creation_date":1679065844,"post_id":75768950,"comment_id":133659484,"body_markdown":"No the issue is not finding the .jar file the issue is with VSC","body":"No the issue is not finding the .jar file the issue is with VSC"}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679065882,"creation_date":1679064253,"question_id":75768950,"body_markdown":"When trying to use my own library I get the following error message\r\n\r\n&quot;The import xxx can not be resolved&quot;\r\n\r\nThe code works since running `mvn clean package` runs the tests and successfully creates the .jar file but VSC does not seem to recgonize any imports.\r\n\r\nIn my main project i have the library in my pom as follows\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;username.lastname&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nand i looked in my local m2 repository there i can find the file `test-lib.jar`\r\n\r\nFrom the library project i run `mvn clean install` to create the jar file\r\n\r\nso it does exist but VSC does not seem to be able to use it.\r\n\r\nI&#39;ve tried to clean the java language space but the same issue still exist  \r\nI&#39;ve tried to reload the project but the same issue still exist.\r\n\r\nUPDATE: the issue seems to have to do with workspaces. If i open the project and only that project it works just fine. If I open the same project in a workspace java seem to be unable to detect my library.\r\n\r\n","title":"Java VSC does not recognise my own library","body":"<p>When trying to use my own library I get the following error message</p>\n<p>&quot;The import xxx can not be resolved&quot;</p>\n<p>The code works since running <code>mvn clean package</code> runs the tests and successfully creates the .jar file but VSC does not seem to recgonize any imports.</p>\n<p>In my main project i have the library in my pom as follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;username.lastname&lt;/groupId&gt;\n      &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and i looked in my local m2 repository there i can find the file <code>test-lib.jar</code></p>\n<p>From the library project i run <code>mvn clean install</code> to create the jar file</p>\n<p>so it does exist but VSC does not seem to be able to use it.</p>\n<p>I've tried to clean the java language space but the same issue still exist<br />\nI've tried to reload the project but the same issue still exist.</p>\n<p>UPDATE: the issue seems to have to do with workspaces. If i open the project and only that project it works just fine. If I open the same project in a workspace java seem to be unable to detect my library.</p>\n"},{"tags":["java","spring-boot","exception","tomcat"],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679065680,"creation_date":1679065680,"question_id":75769203,"body_markdown":"I&#39;ve a very simple spring boot application with only 1 controller and 1 endpoint.\r\nThis application is not available on internet and it should only be accessed through intranet by few known systems.\r\n\r\nBut somehow i&#39;m getting an error message in the logs that show that someone is misusing it.\r\n\r\nAs this system is heavly used I dont want to log every single request arriving, I would like to catch only the misplaced requests and try to debug from there who is misusing it.\r\n\r\nThe error i get is very simple:\r\n\r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000x850x010x000x000x810x030x03M0xf4C0xf00x140xfb0xf00xfb0xda0x110xff0xb70xce0x97.0xe80xf580xee0xe10xff0xa3V:0x880x8030x8f0xe50x1c0x1390x000x00 ]. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\naccording to this thread:\r\nhttps://stackoverflow.com/questions/42218237/tomcat-java-lang-illegalargumentexception-invalid-character-found-in-method-na\r\n\r\nthis error happens because some client is calling the endpoint through https when it is only read to deal http requests. i made a simulation and this exact error happened, so some client was misconfigured and is sending https requests to this system when it shouldn&#39;t.\r\n\r\nAgain, I would like to catch this exception, so i could extract more information from the request as the ip address or anything else that help me to track down who is the misplaced consumer\r\n\r\nhow can i capture these internal tomcat exceptions in an spring boot application","title":"How to catch Tomcat exceptions on spring boot application","body":"<p>I've a very simple spring boot application with only 1 controller and 1 endpoint.\nThis application is not available on internet and it should only be accessed through intranet by few known systems.</p>\n<p>But somehow i'm getting an error message in the logs that show that someone is misusing it.</p>\n<p>As this system is heavly used I dont want to log every single request arriving, I would like to catch only the misplaced requests and try to debug from there who is misusing it.</p>\n<p>The error i get is very simple:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000x850x010x000x000x810x030x03M0xf4C0xf00x140xfb0xf00xfb0xda0x110xff0xb70xce0x97.0xe80xf580xee0xe10xff0xa3V:0x880x8030x8f0xe50x1c0x1390x000x00 ]. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>according to this thread:\n<a href=\"https://stackoverflow.com/questions/42218237/tomcat-java-lang-illegalargumentexception-invalid-character-found-in-method-na\">Tomcat: java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens</a></p>\n<p>this error happens because some client is calling the endpoint through https when it is only read to deal http requests. i made a simulation and this exact error happened, so some client was misconfigured and is sending https requests to this system when it shouldn't.</p>\n<p>Again, I would like to catch this exception, so i could extract more information from the request as the ip address or anything else that help me to track down who is the misplaced consumer</p>\n<p>how can i capture these internal tomcat exceptions in an spring boot application</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538473722,"creation_date":1538473722,"answer_id":52605914,"question_id":52605846,"body_markdown":"You could use any number as CAMERA_REQUEST. Android hasn&#39;t this property, it&#39;s just your identifier for next working with responses.","title":"Camera Request Permission is bringing error","body":"<p>You could use any number as CAMERA_REQUEST. Android hasn't this property, it's just your identifier for next working with responses.</p>\n"},{"tags":[],"owner":{"account_id":5531025,"reputation":1318,"user_id":4390987,"display_name":"ॐ Rakesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538473931,"creation_date":1538473931,"answer_id":52605959,"question_id":52605846,"body_markdown":"Following, I have written code for granting a runtime permissions for Camera, There is a String of Array in which you can give multiple requests granting as which is needed at runtime.\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (checkPermission()) {\r\n        //main logic or main code\r\n\r\n       // . write your main code to execute, It will execute if the permission is already given.\r\n\r\n        } else {\r\n            requestPermission();\r\n        }\r\n    }\r\n\r\n    private boolean checkPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            // Permission is not granted\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void requestPermission() {\r\n\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.CAMERA},\r\n                PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    // main logic\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                                != PackageManager.PERMISSION_GRANTED) {\r\n                            showMessageOKCancel(&quot;You need to allow access permissions&quot;,\r\n                                    new DialogInterface.OnClickListener() {\r\n                                        @Override\r\n                                        public void onClick(DialogInterface dialog, int which) {\r\n                                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                                requestPermission();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\r\n        new AlertDialog.Builder(MainActivity.this)\r\n                .setMessage(message)\r\n                .setPositiveButton(&quot;OK&quot;, okListener)\r\n                .setNegativeButton(&quot;Cancel&quot;, null)\r\n                .create()\r\n                .show();\r\n    }\r\n}\r\n\r\nHope It&#39;ll help for you","title":"Camera Request Permission is bringing error","body":"<p>Following, I have written code for granting a runtime permissions for Camera, There is a String of Array in which you can give multiple requests granting as which is needed at runtime.</p>\n\n<p>public class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE = 200;</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if (checkPermission()) {\n    //main logic or main code\n\n   // . write your main code to execute, It will execute if the permission is already given.\n\n    } else {\n        requestPermission();\n    }\n}\n\nprivate boolean checkPermission() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        // Permission is not granted\n        return false;\n    }\n    return true;\n}\n\nprivate void requestPermission() {\n\n    ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.CAMERA},\n            PERMISSION_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(getApplicationContext(), \"Permission Granted\", Toast.LENGTH_SHORT).show();\n\n                // main logic\n            } else {\n                Toast.makeText(getApplicationContext(), \"Permission Denied\", Toast.LENGTH_SHORT).show();\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n                            != PackageManager.PERMISSION_GRANTED) {\n                        showMessageOKCancel(\"You need to allow access permissions\",\n                                new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialog, int which) {\n                                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                            requestPermission();\n                                        }\n                                    }\n                                });\n                    }\n                }\n            }\n            break;\n    }\n}\n\nprivate void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\n    new AlertDialog.Builder(MainActivity.this)\n            .setMessage(message)\n            .setPositiveButton(\"OK\", okListener)\n            .setNegativeButton(\"Cancel\", null)\n            .create()\n            .show();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope It'll help for you</p>\n"},{"tags":[],"owner":{"account_id":990824,"reputation":395,"user_id":1008197,"display_name":"Richard Stokes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538485998,"creation_date":1538485998,"answer_id":52609098,"question_id":52605846,"body_markdown":"I&#39;m assuming that the error you are getting is a compiler error as there is no declaration of CAMERA_REQUEST. This is just a number that you define as an id for the request you are making. Ideally, you should be defining this as an instance variable.\r\n\r\nThis id will be passed back to you via the method call as the requestCode to help you identify which request the response is for. It will also give the permissions granted respectively as you can request more than one at once:\r\n\r\n    private final int REQUEST_CAMERA_ID = 123456;\r\n\r\n    public void setupUI() {\r\n\r\n        mButtonEnabled = findViewById(R.id.buttonEnable);\r\n        mButtonEnabled.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[] {Manifest.permission.CAMERA}, REQUEST_CAMERA_ID);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n\r\n        switch (requestCode) {\r\n            case REQUEST_CAMERA_ID:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission was granted\r\n                } else {\r\n                        // Permission was denied\r\n                }\r\n            break;\r\n        }\r\n    }","title":"Camera Request Permission is bringing error","body":"<p>I'm assuming that the error you are getting is a compiler error as there is no declaration of CAMERA_REQUEST. This is just a number that you define as an id for the request you are making. Ideally, you should be defining this as an instance variable.</p>\n\n<p>This id will be passed back to you via the method call as the requestCode to help you identify which request the response is for. It will also give the permissions granted respectively as you can request more than one at once:</p>\n\n<pre><code>private final int REQUEST_CAMERA_ID = 123456;\n\npublic void setupUI() {\n\n    mButtonEnabled = findViewById(R.id.buttonEnable);\n    mButtonEnabled.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[] {Manifest.permission.CAMERA}, REQUEST_CAMERA_ID);\n        }\n    });\n}\n\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n\n    switch (requestCode) {\n        case REQUEST_CAMERA_ID:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission was granted\n            } else {\n                    // Permission was denied\n            }\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22936216,"reputation":129,"user_id":17069669,"display_name":"Hakan Bayazıt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679065661,"creation_date":1679065661,"answer_id":75769199,"question_id":52605846,"body_markdown":" App / manifest /\r\n    AndroidManifest.xml\r\n\r\nWrite the following code inside the file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\nadd the following code in mainActivity.java\r\n\r\n    import android.Manifest;\r\n\r\nHope It&#39;ll help for you","title":"Camera Request Permission is bringing error","body":"<p>App / manifest /\nAndroidManifest.xml</p>\n<p>Write the following code inside the file</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>add the following code in mainActivity.java</p>\n<pre><code>import android.Manifest;\n</code></pre>\n<p>Hope It'll help for you</p>\n"}],"owner":{"account_id":13886728,"reputation":21,"user_id":10025700,"display_name":"Alao Emmanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":52609098,"answer_count":4,"score":-1,"last_activity_date":1679065661,"creation_date":1538473382,"question_id":52605846,"body_markdown":"I am new to android and i am trying to build a flashlight app. I tried to request permission to use the camera but it is bringing cannot resolve CAMERA_REQUEST. Any explanation and solution. Find the code below.\r\n\r\n    mButtonEnabled = findViewById(R.id.buttonEnable);\r\n        mButtonEnabled.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[] {Manifest.permission.CAMERA}, CAMERA_REQUEST);\r\n            }\r\n        });\r\n    }","title":"Camera Request Permission is bringing error","body":"<p>I am new to android and i am trying to build a flashlight app. I tried to request permission to use the camera but it is bringing cannot resolve CAMERA_REQUEST. Any explanation and solution. Find the code below.</p>\n\n<pre><code>mButtonEnabled = findViewById(R.id.buttonEnable);\n    mButtonEnabled.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[] {Manifest.permission.CAMERA}, CAMERA_REQUEST);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","tomcat","httprequest","javaagents","jolokia"],"answers":[{"tags":[],"owner":{"account_id":11588561,"reputation":83,"user_id":8489777,"display_name":"Ara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621390586,"creation_date":1621390586,"answer_id":67596058,"question_id":58610243,"body_markdown":"Jolokia default setting is set to block all CORS, in **apache-activemq/webapps/api/WEB-INF/classes/jolokia-access.xml** file.\r\n\r\n    &lt;cors&gt;\r\n     &lt;strict-checking/&gt;\r\n    &lt;/cors&gt;\r\n\r\nYou can disable it by removing above config or adding allowed origins before ** strict-checking**.\r\n\r\n    &lt;cors&gt;\r\n     &lt;!-- Allow cross origin access from www.jolokia.org ... --&gt;\r\n     &lt;allow-origin&gt;http://www.jolokia.org&lt;/allow-origin&gt;\r\n\r\n     &lt;!-- ... and all servers from jmx4perl.org with any protocol -&gt;\r\n     &lt;allow-origin&gt;*://*.jmx4perl.org&lt;/allow-origin&gt;\r\n\r\n     &lt;!-- Check for the proper origin on the server side, too --&gt;\r\n     &lt;strict-checking/&gt;\r\n    &lt;/cors&gt;\r\n\r\nFor more details please refer [4.1.5. Cross-Origin Resource Sharing (CORS) restrictions][1]\r\n\r\n\r\n  [1]: https://jolokia.org/reference/html/security.html","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Jolokia default setting is set to block all CORS, in <strong>apache-activemq/webapps/api/WEB-INF/classes/jolokia-access.xml</strong> file.</p>\n<pre><code>&lt;cors&gt;\n &lt;strict-checking/&gt;\n&lt;/cors&gt;\n</code></pre>\n<p>You can disable it by removing above config or adding allowed origins before ** strict-checking**.</p>\n<pre><code>&lt;cors&gt;\n &lt;!-- Allow cross origin access from www.jolokia.org ... --&gt;\n &lt;allow-origin&gt;http://www.jolokia.org&lt;/allow-origin&gt;\n\n &lt;!-- ... and all servers from jmx4perl.org with any protocol -&gt;\n &lt;allow-origin&gt;*://*.jmx4perl.org&lt;/allow-origin&gt;\n\n &lt;!-- Check for the proper origin on the server side, too --&gt;\n &lt;strict-checking/&gt;\n&lt;/cors&gt;\n</code></pre>\n<p>For more details please refer <a href=\"https://jolokia.org/reference/html/security.html\" rel=\"nofollow noreferrer\">4.1.5. Cross-Origin Resource Sharing (CORS) restrictions</a></p>\n"},{"tags":[],"owner":{"account_id":5053608,"reputation":134,"user_id":4057456,"accept_rate":25,"display_name":"greja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629354665,"creation_date":1629354665,"answer_id":68843034,"question_id":58610243,"body_markdown":"Depending on your current configuration need to be changed.\r\nBased on your exact error line, you need to add &quot;Origin&quot; header in your http request.\r\n\r\n&gt; For example - `curl  http://localhost:8778/jolokia/list -H\r\n&gt; &quot;Origin:http://localhost&quot;`\r\n\r\nRemember, if you have default CORS is enabled, add exception with `&lt;allow-origin&gt;` under `&lt;cors&gt;` tag.","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Depending on your current configuration need to be changed.\nBased on your exact error line, you need to add &quot;Origin&quot; header in your http request.</p>\n<blockquote>\n<p>For example - <code>curl  http://localhost:8778/jolokia/list -H &quot;Origin:http://localhost&quot;</code></p>\n</blockquote>\n<p>Remember, if you have default CORS is enabled, add exception with <code>&lt;allow-origin&gt;</code> under <code>&lt;cors&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679065312,"creation_date":1679065312,"answer_id":75769126,"question_id":58610243,"body_markdown":" Jolokia&#39;s  default setting will block all CORS\r\n   &lt;restrict&gt;\r\n    \r\n        &lt;cors&gt;\r\n            &lt;!-- Allow cross origin access from localhost ... --&gt;\r\n            &lt;allow-origin&gt;*://localhost*&lt;/allow-origin&gt;\r\n    \r\n    \r\n            &lt;!-- Options from this point on are auto-generated by Create.java from the Artemis CLI --&gt;\r\n            &lt;!-- Check for the proper origin on the server side, too --&gt;\r\n            &lt;strict-checking/&gt;\r\n        &lt;/cors&gt;\r\n    \r\n    &lt;/restrict&gt;\r\n\r\nJust remove the  `&lt;strict-checking/&gt;` tag from the above default configuration in `jolokia-access.xml`","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Jolokia's  default setting will block all CORS\n</p>\n<pre><code>    &lt;cors&gt;\n        &lt;!-- Allow cross origin access from localhost ... --&gt;\n        &lt;allow-origin&gt;*://localhost*&lt;/allow-origin&gt;\n\n\n        &lt;!-- Options from this point on are auto-generated by Create.java from the Artemis CLI --&gt;\n        &lt;!-- Check for the proper origin on the server side, too --&gt;\n        &lt;strict-checking/&gt;\n    &lt;/cors&gt;\n\n&lt;/restrict&gt;\n</code></pre>\n<p>Just remove the  <code>&lt;strict-checking/&gt;</code> tag from the above default configuration in <code>jolokia-access.xml</code></p>\n"}],"owner":{"account_id":1924321,"reputation":121,"user_id":1735133,"accept_rate":40,"display_name":"dandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5095,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1679065312,"creation_date":1572361889,"question_id":58610243,"body_markdown":"&gt; {&quot;stacktrace&quot;:&quot;java.lang.Exception: Origin null is not allowed to call\r\n&gt; this agent\\n\\tat\r\n&gt; org.jolokia.http.HttpRequestHandler.handleThrowable(HttpRequestHandler.java:242)\\n\\tat\r\n&gt; org.jolokia.jvmagent.handler.JolokiaHttpHandler.doHandle(JolokiaHttpHandler.java:243)\\n\\tat\r\n&gt; org.jolokia.jvmagent.handler.JolokiaHttpHandler.handle(JolokiaHttpHandler.java:178)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\r\n&gt; sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\\n\\tat\r\n&gt; sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\r\n&gt; sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\\n\\tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat\r\n&gt; java.lang.Thread.run(Thread.java:748)\\n&quot;,&quot;error_type&quot;:&quot;java.lang.Exception&quot;,&quot;error&quot;:&quot;java.lang.Exception\r\n&gt; : Origin null is not allowed to call this agent&quot;,&quot;status&quot;:403}\r\n\r\n\r\nI get this error when I try to query my &quot;jolokia&quot; agent.\r\n\r\n    \r\n    curl  http://localhost:8778/jolokia/list\r\n\r\nI&#39;ve launched my java application (kibana) with the jolokia agent, as explained in the Manual https://jolokia.org/reference/html/agents.html#agents-jvm.\r\n\r\n    \r\n    java -javaagent:agent.jar=port=8778,host=localhost\r\n\r\nI can see (ps -aux) that the process launched with the jolokia agent in between the Java Arguments.\r\n\r\nI have also tried to deploy the jolokia war in my Tomcat /webapps. I&#39;ve edited the user.xml file to add the User Jolokia, but I get the same result\r\n\r\nThe only result I get by googling the error seems to be the Jolokia code, at line 287, which seems to imply the host or address are wrong, but i&#39;m doing everything from localhost, which should be allowed.\r\nhttps://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java\r\n\r\nAm I missing some settings? which is the best way to test it? I have zero experience with Java applications and Jolokia.\r\n\r\n\r\n","title":"Jolokia - Origin null is not allowed to call this agent","body":"<blockquote>\n  <p>{\"stacktrace\":\"java.lang.Exception: Origin null is not allowed to call\n  this agent\\n\\tat\n  org.jolokia.http.HttpRequestHandler.handleThrowable(HttpRequestHandler.java:242)\\n\\tat\n  org.jolokia.jvmagent.handler.JolokiaHttpHandler.doHandle(JolokiaHttpHandler.java:243)\\n\\tat\n  org.jolokia.jvmagent.handler.JolokiaHttpHandler.handle(JolokiaHttpHandler.java:178)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\n  sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\\n\\tat\n  sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\n  sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\\n\\tat\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat\n  java.lang.Thread.run(Thread.java:748)\\n\",\"error_type\":\"java.lang.Exception\",\"error\":\"java.lang.Exception\n  : Origin null is not allowed to call this agent\",\"status\":403}</p>\n</blockquote>\n\n<p>I get this error when I try to query my \"jolokia\" agent.</p>\n\n<pre><code>curl  http://localhost:8778/jolokia/list\n</code></pre>\n\n<p>I've launched my java application (kibana) with the jolokia agent, as explained in the Manual <a href=\"https://jolokia.org/reference/html/agents.html#agents-jvm\" rel=\"noreferrer\">https://jolokia.org/reference/html/agents.html#agents-jvm</a>.</p>\n\n<pre><code>java -javaagent:agent.jar=port=8778,host=localhost\n</code></pre>\n\n<p>I can see (ps -aux) that the process launched with the jolokia agent in between the Java Arguments.</p>\n\n<p>I have also tried to deploy the jolokia war in my Tomcat /webapps. I've edited the user.xml file to add the User Jolokia, but I get the same result</p>\n\n<p>The only result I get by googling the error seems to be the Jolokia code, at line 287, which seems to imply the host or address are wrong, but i'm doing everything from localhost, which should be allowed.\n<a href=\"https://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java\" rel=\"noreferrer\">https://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java</a></p>\n\n<p>Am I missing some settings? which is the best way to test it? I have zero experience with Java applications and Jolokia.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679066481,"post_id":75769068,"comment_id":133659690,"body_markdown":"There may be compatibility issue with gradle and Java version, from log I can deduce that you are using Java version &gt; 8 and gradlew wrapper version 4.9. check compatibility here: https://docs.gradle.org/current/userguide/compatibility.html#java","body":"There may be compatibility issue with gradle and Java version, from log I can deduce that you are using Java version &gt; 8 and gradlew wrapper version 4.9. check compatibility here: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html#java</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679067508,"post_id":75769068,"comment_id":133659982,"body_markdown":"Nowadays, `gradlew eclipse` should not needed at all.","body":"Nowadays, <code>gradlew eclipse</code> should not needed at all."}],"owner":{"account_id":28042945,"reputation":1,"user_id":21420213,"display_name":"Thorns"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679065024,"creation_date":1679065024,"question_id":75769068,"body_markdown":"I cant install gradlew eclipse.Here is log error message:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\njava.lang.ExceptionInInitializerError (no error message)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\r\noption to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\r\noption to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nSomeone know how to fix this?\r\n\r\nI many times tried to reinstall JDK, used official JDK and eclipse adoptium, tried every gradlew version before 7.0 (because MDK 1.12.2 don&#39;t use above), but it always crashes with message above.\r\nAlso Eclipse has this error:\r\nDescription\tResource\tPath\tLocation\tType\r\nCould not create an instance of Tooling API implementation using the specified Gradle distribution &#39;https://services.gradle.org/distributions/gradle-4.9-bin.zip&#39;.\r\nUnable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6267890e\tMyMod\t\tline 0\tGradle Error Marker\r\n","title":"i can&#39;t install gradlew","body":"<p>I cant install gradlew eclipse.Here is log error message:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\njava.lang.ExceptionInInitializerError (no error message)</p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\noption to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\noption to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>\nSomeone know how to fix this?</p>\n</li>\n</ul>\n<p>I many times tried to reinstall JDK, used official JDK and eclipse adoptium, tried every gradlew version before 7.0 (because MDK 1.12.2 don't use above), but it always crashes with message above.\nAlso Eclipse has this error:\nDescription Resource    Path    Location    Type\nCould not create an instance of Tooling API implementation using the specified Gradle distribution 'https://services.gradle.org/distributions/gradle-4.9-bin.zip'.\nUnable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6267890e    MyMod       line 0  Gradle Error Marker</p>\n"},{"tags":["java","android","android-studio","process","stockfish"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679069162,"post_id":75769047,"comment_id":133660425,"body_markdown":"Seems you have to put the file into jniLibs/armeabi-v7a see this post https://stackoverflow.com/questions/64786837/what-path-to-put-executable-to-run-on-android-29","body":"Seems you have to put the file into jniLibs/armeabi-v7a see this post <a href=\"https://stackoverflow.com/questions/64786837/what-path-to-put-executable-to-run-on-android-29\" title=\"what path to put executable to run on android 29\">stackoverflow.com/questions/64786837/&hellip;</a>"},{"owner":{"account_id":27620441,"reputation":1,"user_id":21081622,"display_name":"CXKX"},"score":0,"creation_date":1679079034,"post_id":75769047,"comment_id":133662818,"body_markdown":"Thank you :) I&#39;ll try it and see if that helps although they say in that post that it related more to permission error while in my case the file could not be found error.","body":"Thank you :) I&#39;ll try it and see if that helps although they say in that post that it related more to permission error while in my case the file could not be found error."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679080459,"post_id":75769047,"comment_id":133663141,"body_markdown":"The error message reported by Android can be wrong. It can be a permission issue even if Android says the file was not found.","body":"The error message reported by Android can be wrong. It can be a permission issue even if Android says the file was not found."}],"owner":{"account_id":27620441,"reputation":1,"user_id":21081622,"display_name":"CXKX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679064941,"creation_date":1679064874,"question_id":75769047,"body_markdown":"I have been trying to use stockfish in my android studio project and the only problem that I seem to face is that I can&#39;t run it.\r\n\r\n`String filePath = context.getFilesDir() + File.pathSeparator + &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;\r\n            \r\n// String filePath = &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;\r\n\r\nbuilder = new ProcessBuilder(filePath);\r\n\r\nbuilder.redirectErrorStream(true);\r\nstockfishProcess = builder.start();`\r\n\r\nMy armv7 stockfish file is found in Assets folder.\r\n\r\nNo matter what I tried, it kept saying it cannot find the file and I can&#39;t just use getAssets().open(...) because then I&#39;ll get the input stream, not a process running stockfish actually.\r\nIn the end, it keeps raising an error stating that it cannot find the file.","title":"How can I run a armv7 file on a process in android studio","body":"<p>I have been trying to use stockfish in my android studio project and the only problem that I seem to face is that I can't run it.</p>\n<p>`String filePath = context.getFilesDir() + File.pathSeparator + &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;</p>\n<p>// String filePath = &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;</p>\n<p>builder = new ProcessBuilder(filePath);</p>\n<p>builder.redirectErrorStream(true);\nstockfishProcess = builder.start();`</p>\n<p>My armv7 stockfish file is found in Assets folder.</p>\n<p>No matter what I tried, it kept saying it cannot find the file and I can't just use getAssets().open(...) because then I'll get the input stream, not a process running stockfish actually.\nIn the end, it keeps raising an error stating that it cannot find the file.</p>\n"},{"tags":["java","package","javaimports"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678992473,"post_id":75760398,"comment_id":133645289,"body_markdown":"Are you trying to use code from compiled java code?  A bin folder should have .class files and not .java files","body":"Are you trying to use code from compiled java code?  A bin folder should have .class files and not .java files"},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1678996757,"post_id":75760398,"comment_id":133646309,"body_markdown":"@Nexevis yes sorry forgot to specify file types, updated the post now","body":"@Nexevis yes sorry forgot to specify file types, updated the post now"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679058235,"post_id":75760398,"comment_id":133657231,"body_markdown":"Where is file1.java, file2.java? If the answer is that they are in another project then you need to make a jar from that project, add the jar to this project (usually in lib) and add the jar to the classpath. Or you could use maven/gradle dependencies.","body":"Where is file1.java, file2.java? If the answer is that they are in another project then you need to make a jar from that project, add the jar to this project (usually in lib) and add the jar to the classpath. Or you could use maven/gradle dependencies."},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679063514,"post_id":75760398,"comment_id":133658731,"body_markdown":"@JohnWilliams file1.java etc. don&#39;t exist, that&#39;s just how I named the files. So how can I access the class files from within file6.java in the socialmedia package","body":"@JohnWilliams file1.java etc. don&#39;t exist, that&#39;s just how I named the files. So how can I access the class files from within file6.java in the socialmedia package"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679064838,"creation_date":1679064527,"answer_id":75768997,"question_id":75760398,"body_markdown":"Any files on the classpath, which /bin certainly is, can be accessed like this:\r\n\r\n    InputStream in = this.getClass().getClassLoader()\r\n                                    .getResourceAsStream(&quot;file1.class&quot;);\r\n\r\nI have to ask - what problem are you solving that includes this very unusual requirement?","title":"How to access package from bin folder from src folder","body":"<p>Any files on the classpath, which /bin certainly is, can be accessed like this:</p>\n<pre><code>InputStream in = this.getClass().getClassLoader()\n                                .getResourceAsStream(&quot;file1.class&quot;);\n</code></pre>\n<p>I have to ask - what problem are you solving that includes this very unusual requirement?</p>\n"}],"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679064838,"creation_date":1678991901,"question_id":75760398,"body_markdown":"So I have a folder structure as below\r\n\r\n```\r\nmainFolder\\\r\n    bin\\\r\n        file1.class,file2.class,file3.class,file4.class //under package named classes\r\n    src\\\r\n        socialmedia\\\r\n            file5.java,file6.java,file7.java //under package named socialmedia\r\n        PlatformTestApp\r\n```\r\n\r\n\r\nHow can I import the package inside the bin folder from the socialmedia subfolder inside the src folder\r\n\r\nI&#39;m aware a question like this has almost certainly been answered before but I can&#39;t for the life for me find what I need","title":"How to access package from bin folder from src folder","body":"<p>So I have a folder structure as below</p>\n<pre><code>mainFolder\\\n    bin\\\n        file1.class,file2.class,file3.class,file4.class //under package named classes\n    src\\\n        socialmedia\\\n            file5.java,file6.java,file7.java //under package named socialmedia\n        PlatformTestApp\n</code></pre>\n<p>How can I import the package inside the bin folder from the socialmedia subfolder inside the src folder</p>\n<p>I'm aware a question like this has almost certainly been answered before but I can't for the life for me find what I need</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679056351,"post_id":75767576,"comment_id":133656692,"body_markdown":"You can create your custom validation class. And in your object&#39;s setter method validate the values by calling the validation class&#39;s method.","body":"You can create your custom validation class. And in your object&#39;s setter method validate the values by calling the validation class&#39;s method."}],"owner":{"account_id":27840241,"reputation":13,"user_id":21256847,"display_name":"CodePirate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679155822,"answer_count":0,"score":1,"last_activity_date":1679064555,"creation_date":1679055935,"question_id":75767576,"body_markdown":"How can I validate a **java** object inside the application context? I know about the annotation method if I use the **jakarta** library, but how to do that without any external libraries? \r\nAre validation classes ok, where I take an object and validate it before storing it in the database, or just creating a class inside the model entities that validates the fields?","title":"Validating java object that is going to be stored in the database","body":"<p>How can I validate a <strong>java</strong> object inside the application context? I know about the annotation method if I use the <strong>jakarta</strong> library, but how to do that without any external libraries?\nAre validation classes ok, where I take an object and validate it before storing it in the database, or just creating a class inside the model entities that validates the fields?</p>\n"},{"tags":["java","tomcat","build"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679064332,"post_id":75768376,"comment_id":133658985,"body_markdown":"Have you taken a look at the build notes in [BUILDING.txt](https://github.com/apache/tomcat/blob/main/BUILDING.txt)? See &quot;(5.3) Building the embedded packages&quot;: use the command `ant embed`. (Not sure about the annotations JAR. I would have assumed it&#39;s part of the core build - but maybe not.)","body":"Have you taken a look at the build notes in <a href=\"https://github.com/apache/tomcat/blob/main/BUILDING.txt\" rel=\"nofollow noreferrer\">BUILDING.txt</a>? See &quot;(5.3) Building the embedded packages&quot;: use the command <code>ant embed</code>. (Not sure about the annotations JAR. I would have assumed it&#39;s part of the core build - but maybe not.)"},{"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"score":0,"creation_date":1679310511,"post_id":75768376,"comment_id":133692722,"body_markdown":"@andrewJames I missed that part. It does seem to do the task. Thanks for pointing it out!","body":"@andrewJames I missed that part. It does seem to do the task. Thanks for pointing it out!"},{"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"score":1,"creation_date":1679310873,"post_id":75768376,"comment_id":133692806,"body_markdown":"Btw. the annotations-api is in the same output, just the generated filename is without the &quot;tomcat-&quot; part.","body":"Btw. the annotations-api is in the same output, just the generated filename is without the &quot;tomcat-&quot; part."}],"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679064411,"creation_date":1679060964,"question_id":75768376,"body_markdown":"My workplace requires us to build all the 3rd party dependencies and their transitive dependencies from source code.\r\nI am trying to build following dependencies:\r\n - tomcat-embed-core\r\n    * tomcat-annotations-api\r\n - tomcat-embed-el\r\n - tomcat-embed-websocket\r\n\r\nI assume its somewhere in the [apache/tomcat](https://github.com/apache/tomcat) project. I was expecting a maven/gradle/ant project. I did build the root ant project, but it did not produce jars for the mentioned artifacts.\r\n\r\nHow do I build the jar artifacts for these from source code?","title":"How to build tomcat-embed jars?","body":"<p>My workplace requires us to build all the 3rd party dependencies and their transitive dependencies from source code.\nI am trying to build following dependencies:</p>\n<ul>\n<li>tomcat-embed-core\n<ul>\n<li>tomcat-annotations-api</li>\n</ul>\n</li>\n<li>tomcat-embed-el</li>\n<li>tomcat-embed-websocket</li>\n</ul>\n<p>I assume its somewhere in the <a href=\"https://github.com/apache/tomcat\" rel=\"nofollow noreferrer\">apache/tomcat</a> project. I was expecting a maven/gradle/ant project. I did build the root ant project, but it did not produce jars for the mentioned artifacts.</p>\n<p>How do I build the jar artifacts for these from source code?</p>\n"},{"tags":["java","spring-boot","javaagents","open-telemetry","jaeger"],"comments":[{"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"score":0,"creation_date":1663921741,"post_id":73809803,"comment_id":130357560,"body_markdown":"You can use this sampler to filter span based on rule .[here](https://github.com/open-telemetry/opentelemetry-java-contrib/blob/main/samplers/src/main/java/io/opentelemetry/contrib/samplers/RuleBasedRoutingSampler.java)\n\nIf you are using OpenTelemetry collector you can also apply filtering at collector level","body":"You can use this sampler to filter span based on rule .<a href=\"https://github.com/open-telemetry/opentelemetry-java-contrib/blob/main/samplers/src/main/java/io/opentelemetry/contrib/samplers/RuleBasedRoutingSampler.java\" rel=\"nofollow noreferrer\">here</a>  If you are using OpenTelemetry collector you can also apply filtering at collector level"},{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1681416093,"post_id":73809803,"comment_id":134057122,"body_markdown":"check out https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060","body":"check out <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27073366,"reputation":31,"user_id":20623698,"display_name":"user20623698"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669640362,"creation_date":1669640362,"answer_id":74600948,"question_id":73809803,"body_markdown":"```\r\n/**\r\n * This demo sampler filters out all internal spans whose name contains string &quot;greeting&quot;.\r\n *\r\n * &lt;p&gt;See &lt;a\r\n * href=&quot;https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/sdk.md#sampling&quot;&gt;\r\n * OpenTelemetry Specification&lt;/a&gt; for more information about span sampling.\r\n *\r\n */\r\npublic class MySampler implements Sampler {\r\n  @Override\r\n  public SamplingResult shouldSample(\r\n      Context parentContext,\r\n      String traceId,\r\n      String name,\r\n      SpanKind spanKind,\r\n      Attributes attributes,\r\n      List&lt;LinkData&gt; parentLinks) {\r\n      String attr =  attributes.get(InternalAttributeKeyImpl.create(&quot;http.target&quot;, AttributeType.STRING));\r\n\r\n    if(name.contains(&quot;health&quot;))\r\n    {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else if(spanKind == SpanKind.INTERNAL &amp;&amp; name.contains(&quot;OperationHandler.handle&quot;))\r\n    {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else if (spanKind == SpanKind.SERVER &amp;&amp;\r\n            (attr != null &amp;&amp; attr.contains(&quot;actuator&quot;))) {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else {\r\n      return SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public String getDescription() {\r\n    return &quot;MySampler&quot;;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * This is one of the main entry points for Instrumentation Agent&#39;s customizations. It allows\r\n * configuring the {@link AutoConfigurationCustomizer}. See the {@link\r\n * #customize(AutoConfigurationCustomizer)} method below.\r\n *\r\n * &lt;p&gt;Also see https://github.com/open-telemetry/opentelemetry-java/issues/2022\r\n *\r\n * @see AutoConfigurationCustomizerProvider\r\n */\r\n@AutoService(AutoConfigurationCustomizerProvider.class)\r\npublic class MyAutoConfigurationCustomizerProvider\r\n        implements AutoConfigurationCustomizerProvider {\r\n\r\n    @Override\r\n    public void customize(AutoConfigurationCustomizer autoConfiguration) {\r\n        Resource resourceNew = Resource.getDefault()\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_INSTANCE_ID, System.getenv(&quot;MY_POD_NAME&quot;))))\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, System.getenv(&quot;DT_RELEASE_PRODUCT&quot;))));\r\n\r\n        autoConfiguration.addSamplerCustomizer((sampler, configProperties) -&gt; new MySampler());\r\n        autoConfiguration.addResourceCustomizer((resource, configProperties) -&gt; resourceNew);\r\n    }\r\n}\r\n```","title":"How to exclude urls(health check traces) in opentelemetry","body":"<pre><code>/**\n * This demo sampler filters out all internal spans whose name contains string &quot;greeting&quot;.\n *\n * &lt;p&gt;See &lt;a\n * href=&quot;https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/sdk.md#sampling&quot;&gt;\n * OpenTelemetry Specification&lt;/a&gt; for more information about span sampling.\n *\n */\npublic class MySampler implements Sampler {\n  @Override\n  public SamplingResult shouldSample(\n      Context parentContext,\n      String traceId,\n      String name,\n      SpanKind spanKind,\n      Attributes attributes,\n      List&lt;LinkData&gt; parentLinks) {\n      String attr =  attributes.get(InternalAttributeKeyImpl.create(&quot;http.target&quot;, AttributeType.STRING));\n\n    if(name.contains(&quot;health&quot;))\n    {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else if(spanKind == SpanKind.INTERNAL &amp;&amp; name.contains(&quot;OperationHandler.handle&quot;))\n    {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else if (spanKind == SpanKind.SERVER &amp;&amp;\n            (attr != null &amp;&amp; attr.contains(&quot;actuator&quot;))) {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else {\n      return SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);\n    }\n  }\n\n  @Override\n  public String getDescription() {\n    return &quot;MySampler&quot;;\n  }\n}\n\n\n\n\n/**\n * This is one of the main entry points for Instrumentation Agent's customizations. It allows\n * configuring the {@link AutoConfigurationCustomizer}. See the {@link\n * #customize(AutoConfigurationCustomizer)} method below.\n *\n * &lt;p&gt;Also see https://github.com/open-telemetry/opentelemetry-java/issues/2022\n *\n * @see AutoConfigurationCustomizerProvider\n */\n@AutoService(AutoConfigurationCustomizerProvider.class)\npublic class MyAutoConfigurationCustomizerProvider\n        implements AutoConfigurationCustomizerProvider {\n\n    @Override\n    public void customize(AutoConfigurationCustomizer autoConfiguration) {\n        Resource resourceNew = Resource.getDefault()\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_INSTANCE_ID, System.getenv(&quot;MY_POD_NAME&quot;))))\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, System.getenv(&quot;DT_RELEASE_PRODUCT&quot;))));\n\n        autoConfiguration.addSamplerCustomizer((sampler, configProperties) -&gt; new MySampler());\n        autoConfiguration.addResourceCustomizer((resource, configProperties) -&gt; resourceNew);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343888,"reputation":56,"user_id":2054634,"display_name":"ptanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679064053,"creation_date":1679064053,"answer_id":75768916,"question_id":73809803,"body_markdown":"Opentelemetry Samplers are used to filter spans.\r\nThey can be registered globally using environment variable `OTEL_TRACES_SAMPLER` as mentioned here: &lt;https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler&gt;\r\n\r\nYou can check this link for an example of a custom sampler (called `DemoSampler\r\n`: &lt;https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples&gt; (these two files: [DemoSampler](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoSampler.java) and [DemoConfigurableSamplerProvider](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java)). To try it you have to clone the repository, enter examples/extension folder and run `./gradlew build`. Then you should use environment variable `OTEL_JAVAAGENT_EXTENSIONS` (or system property `otel.javaagent.extensions`) to reference created jar `opentelemetry-java-instrumentation/examples/extension/build/libs/opentelemetry-java-instrumentation-extension-demo-1.0-all.jar` as mentioned here: &lt;https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/&gt;. Then set environment variable `OTEL_TRACES_SAMPLER` to `demo` (this name is defined by the sampler provider &lt;https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23&gt;).\r\n\r\nYour custom sampler should check every sample&#39;s name, spanKind and attributes in the method `Sampler.shouldSample(Context parentContext, String traceId, String name, SpanKind spanKind, Attributes attributes, List&lt;LinkData&gt; parentLinks)` and decide whether it is a healtcheck or something other and return either `SamplingResult.create(SamplingDecision.DROP);` or `SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);` respectively.","title":"How to exclude urls(health check traces) in opentelemetry","body":"<p>Opentelemetry Samplers are used to filter spans.\nThey can be registered globally using environment variable <code>OTEL_TRACES_SAMPLER</code> as mentioned here: <a href=\"https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler</a></p>\n<p>You can check this link for an example of a custom sampler (called <code>DemoSampler </code>: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples</a> (these two files: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoSampler.java\" rel=\"nofollow noreferrer\">DemoSampler</a> and <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java\" rel=\"nofollow noreferrer\">DemoConfigurableSamplerProvider</a>). To try it you have to clone the repository, enter examples/extension folder and run <code>./gradlew build</code>. Then you should use environment variable <code>OTEL_JAVAAGENT_EXTENSIONS</code> (or system property <code>otel.javaagent.extensions</code>) to reference created jar <code>opentelemetry-java-instrumentation/examples/extension/build/libs/opentelemetry-java-instrumentation-extension-demo-1.0-all.jar</code> as mentioned here: <a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/</a>. Then set environment variable <code>OTEL_TRACES_SAMPLER</code> to <code>demo</code> (this name is defined by the sampler provider <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23</a>).</p>\n<p>Your custom sampler should check every sample's name, spanKind and attributes in the method <code>Sampler.shouldSample(Context parentContext, String traceId, String name, SpanKind spanKind, Attributes attributes, List&lt;LinkData&gt; parentLinks)</code> and decide whether it is a healtcheck or something other and return either <code>SamplingResult.create(SamplingDecision.DROP);</code> or <code>SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);</code> respectively.</p>\n"}],"owner":{"account_id":25183153,"reputation":41,"user_id":19024402,"display_name":"suraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679064053,"creation_date":1663825219,"question_id":73809803,"body_markdown":"I am trying to integrate opentelemetry in spring boot with Automatic instrumentation, it&#39;s generating health check urls. How to exclude specific urls in opentelemetry","title":"How to exclude urls(health check traces) in opentelemetry","body":"<p>I am trying to integrate opentelemetry in spring boot with Automatic instrumentation, it's generating health check urls. How to exclude specific urls in opentelemetry</p>\n"},{"tags":["java","ubuntu","intellij-idea"],"comments":[{"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"score":0,"creation_date":1412324103,"post_id":26175371,"comment_id":41039429,"body_markdown":"Is there any output in Idea log (you can find it at `~/.IdeaIC13/system/log/idea.log`)?","body":"Is there any output in Idea log (you can find it at <code>~&#47;.IdeaIC13&#47;system&#47;log&#47;idea.log</code>)?"},{"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"score":0,"creation_date":1412324684,"post_id":26175371,"comment_id":41039667,"body_markdown":"@zvdh there is no &quot;log&quot; folder in ~/.IdeaIC13/system","body":"@zvdh there is no &quot;log&quot; folder in ~/.IdeaIC13/system"},{"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"score":0,"creation_date":1412325562,"post_id":26175371,"comment_id":41040007,"body_markdown":"According to [this article](https://intellij-support.jetbrains.com/entries/23358108) log should be exactly there, otherwise check **idea.log.path** property in `IDEA_home/bin/idea.properties` file to find out if the default log location path is changed.","body":"According to <a href=\"https://intellij-support.jetbrains.com/entries/23358108\" rel=\"nofollow noreferrer\">this article</a> log should be exactly there, otherwise check <b>idea.log.path</b> property in <code>IDEA_home&#47;bin&#47;idea.properties</code> file to find out if the default log location path is changed."},{"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"score":0,"creation_date":1412333672,"post_id":26175371,"comment_id":41043154,"body_markdown":"@zvdh path in properties is just like yours. Anyway, rebooting the system solved the problem. Thanks for your attention :)","body":"@zvdh path in properties is just like yours. Anyway, rebooting the system solved the problem. Thanks for your attention :)"}],"answers":[{"tags":[],"owner":{"account_id":4465323,"reputation":426,"user_id":3633128,"display_name":"Snorky35"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412325391,"creation_date":1412325391,"answer_id":26175777,"question_id":26175371,"body_markdown":"Check that even if it is installed in a subfolder of your home directory, the owner of **idea-IC-135.1289** is you (recursively).","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Check that even if it is installed in a subfolder of your home directory, the owner of <strong>idea-IC-135.1289</strong> is you (recursively).</p>\n"},{"tags":[],"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"down_vote_count":3,"up_vote_count":7,"is_accepted":true,"score":4,"last_activity_date":1412333555,"creation_date":1412333555,"answer_id":26177654,"question_id":26175371,"body_markdown":"So, restarting Ubuntu solved the problem. So easy!\r\n\r\np.s. It&#39;s a shame that I just did not try to reboot the system before asking question...","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>So, restarting Ubuntu solved the problem. So easy!</p>\n\n<p>p.s. It's a shame that I just did not try to reboot the system before asking question...</p>\n"},{"tags":[],"owner":{"account_id":1292103,"reputation":9146,"user_id":1243996,"accept_rate":97,"display_name":"Adam Sznajder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424467585,"creation_date":1424467585,"answer_id":28638511,"question_id":26175371,"body_markdown":"IntelliJ (and few other Java programs) sometimes has a problem with window not appearing or being frozen. It took me some time to find this simple solution that might be useful for someone in the future:\r\n\r\n`wmname LG3D`\r\n\r\nIt solved the problem for me.\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>IntelliJ (and few other Java programs) sometimes has a problem with window not appearing or being frozen. It took me some time to find this simple solution that might be useful for someone in the future:</p>\n\n<p><code>wmname LG3D</code></p>\n\n<p>It solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":5179460,"reputation":79,"user_id":4145575,"display_name":"Grigore Chis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494952942,"creation_date":1494952942,"answer_id":44007139,"question_id":26175371,"body_markdown":"Go to the &lt;idea installation directory&gt;/bin and run ./idea.sh. This should solve your issue, without restarting Ubuntu.\r\n\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Go to the /bin and run ./idea.sh. This should solve your issue, without restarting Ubuntu.</p>\n"},{"tags":[],"owner":{"account_id":18620393,"reputation":31,"user_id":13570732,"display_name":"leo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597961511,"creation_date":1597948681,"answer_id":63511315,"question_id":26175371,"body_markdown":"Find the `pid` by `grep` like \r\n\r\n``` bash\r\nps -aux | grep idea\r\n```\r\n\r\nand kill all the open instances like `sudo kill 12233(pid)` and boom, you are all set to go.","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Find the <code>pid</code> by <code>grep</code> like</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ps -aux | grep idea\n</code></pre>\n<p>and kill all the open instances like <code>sudo kill 12233(pid)</code> and boom, you are all set to go.</p>\n"},{"tags":[],"owner":{"account_id":17390973,"reputation":99,"user_id":12790009,"display_name":"Jaya Sundeep"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1607325993,"creation_date":1607325993,"answer_id":65177573,"question_id":26175371,"body_markdown":"    sudo killall java\r\n\r\nSnap! This worked for me","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<pre><code>sudo killall java\n</code></pre>\n<p>Snap! This worked for me</p>\n"},{"tags":[],"owner":{"account_id":28043343,"reputation":11,"user_id":21420544,"display_name":"Bruno Gago"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679063418,"creation_date":1679063418,"answer_id":75768825,"question_id":26175371,"body_markdown":"In my case, I changed the JDK in IntelliJ (By Choose Boot Java Runtime) as JDK 11, however my IntelliJ was setup as JDK 17, thus, I had to access my .config file and JetBrains, where you can find idea.jdk (I just changed from 1.11 to 1.17) and it&#39;s working again. ","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>In my case, I changed the JDK in IntelliJ (By Choose Boot Java Runtime) as JDK 11, however my IntelliJ was setup as JDK 17, thus, I had to access my .config file and JetBrains, where you can find idea.jdk (I just changed from 1.11 to 1.17) and it's working again.</p>\n"}],"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19864,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26177654,"answer_count":7,"score":7,"last_activity_date":1679063418,"creation_date":1412323427,"question_id":26175371,"body_markdown":"I have used IDEA for several months, and it was ok until now.\r\n\r\nNow launching IDEA from shortcut has no effect.\r\nI suppose that happened after some updates.\r\n\r\nI tried to reinstall IDEA, but problem is still there.\r\nLaunching idea.sh from Terminal gives similar effect:\r\n\r\n    chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ ./idea.sh\r\n    Java HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m; support was removed in 8.0\r\n    chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ \r\n\r\nNote that message about HotSpot Server is ok. Previously after printing that, IDEA was launched. Now it simply kicks out with no error message.\r\n\r\nMaybe there are some log files, where I can see possible error?\r\n\r\n&gt;Ubuntu 14.04 LTS  \r\nIDEA Version: 13.1.5 Build: 135.1289  \r\njava version &quot;1.8.0_20&quot;  \r\nJava(TM) SE Runtime Environment (build 1.8.0_20-b26)  \r\nJava HotSpot(TM) Server VM (build 25.20-b23, mixed mode)\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>I have used IDEA for several months, and it was ok until now.</p>\n\n<p>Now launching IDEA from shortcut has no effect.\nI suppose that happened after some updates.</p>\n\n<p>I tried to reinstall IDEA, but problem is still there.\nLaunching idea.sh from Terminal gives similar effect:</p>\n\n<pre><code>chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ ./idea.sh\nJava HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m; support was removed in 8.0\nchronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ \n</code></pre>\n\n<p>Note that message about HotSpot Server is ok. Previously after printing that, IDEA was launched. Now it simply kicks out with no error message.</p>\n\n<p>Maybe there are some log files, where I can see possible error?</p>\n\n<blockquote>\n  <p>Ubuntu 14.04 LTS<br>\n  IDEA Version: 13.1.5 Build: 135.1289<br>\n  java version \"1.8.0_20\"<br>\n  Java(TM) SE Runtime Environment (build 1.8.0_20-b26)<br>\n  Java HotSpot(TM) Server VM (build 25.20-b23, mixed mode)</p>\n</blockquote>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1841847,"reputation":86,"user_id":1671095,"display_name":"user1671095"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1618568564,"creation_date":1618568564,"answer_id":67123473,"question_id":61453798,"body_markdown":"Invalidating the caches did the trick for me when I could not find usages of methods and variables outside of the currently opened class after upgrading to IntelliJ IDEA 2021.1.\r\n\r\nDepending on which usages can&#39;t be found, you will probably need to check the **Clear file system cache and Local History** option in the **Invalidate Caches** dialogue. After restarting IntelliJ and reopening projects, IntelliJ will rebuild those caches.\r\n\r\nSee the official documentation for information on invalidating caches: https://www.jetbrains.com/help/idea/invalidate-caches.html","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>Invalidating the caches did the trick for me when I could not find usages of methods and variables outside of the currently opened class after upgrading to IntelliJ IDEA 2021.1.</p>\n<p>Depending on which usages can't be found, you will probably need to check the <strong>Clear file system cache and Local History</strong> option in the <strong>Invalidate Caches</strong> dialogue. After restarting IntelliJ and reopening projects, IntelliJ will rebuild those caches.</p>\n<p>See the official documentation for information on invalidating caches: <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a></p>\n"},{"tags":[],"owner":{"account_id":16209146,"reputation":29,"user_id":11703638,"display_name":"Andres Carrasquilla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668801224,"creation_date":1668546229,"answer_id":74452131,"question_id":61453798,"body_markdown":"I wasn&#39;t able to solve the problem with the option **Invalidate Caches**. Instead, it was necessary to uninstall IntelliJ with all files and re-install it.","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>I wasn't able to solve the problem with the option <strong>Invalidate Caches</strong>. Instead, it was necessary to uninstall IntelliJ with all files and re-install it.</p>\n"},{"tags":[],"owner":{"account_id":1180136,"reputation":971,"user_id":1155228,"accept_rate":93,"display_name":"q99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673891912,"creation_date":1673891912,"answer_id":75137972,"question_id":61453798,"body_markdown":"I had this problem today, deleting the caches did not work. \r\n\r\nThen I deleted the `.idea` folder within the project (it&#39;s hidden) and opened the project again and its working.\r\n\r\nBear in mind that this will delete some of your local project configs (run configurations, selected SDK,...)\r\n\r\nThere is probably no need to delete the whole folder, just a subset...","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>I had this problem today, deleting the caches did not work.</p>\n<p>Then I deleted the <code>.idea</code> folder within the project (it's hidden) and opened the project again and its working.</p>\n<p>Bear in mind that this will delete some of your local project configs (run configurations, selected SDK,...)</p>\n<p>There is probably no need to delete the whole folder, just a subset...</p>\n"},{"tags":[],"owner":{"account_id":5671041,"reputation":365,"user_id":4485646,"accept_rate":40,"display_name":"ufuk"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679063327,"creation_date":1679063327,"answer_id":75768803,"question_id":61453798,"body_markdown":"This expression is output when you define the variable and do not use it. This statement will be removed if you use the variable with a method.","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>This expression is output when you define the variable and do not use it. This statement will be removed if you use the variable with a method.</p>\n"}],"owner":{"account_id":8070360,"reputation":55,"user_id":6083332,"display_name":"Darko Cvetković"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12826,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67123473,"answer_count":4,"score":4,"last_activity_date":1679063327,"creation_date":1587973001,"question_id":61453798,"body_markdown":"After IntelliJ IDEA update 2020.1 I cant find usage for some (not all) of the methods that im using. Some are highlighted and I can navigate to the place where I use those, other are not. Suggestions how to fix this ? ","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>After IntelliJ IDEA update 2020.1 I cant find usage for some (not all) of the methods that im using. Some are highlighted and I can navigate to the place where I use those, other are not. Suggestions how to fix this ? </p>\n"},{"tags":["java","android","flutter","android-studio","throttling"],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679063260,"creation_date":1678952327,"question_id":75753278,"body_markdown":"I have a requirement to perform network shaping on android physical device and I&#39;m building some in-house .apk app to achieve this. The .apk file will be installed on the device and using that .apk file the user can perform network shaping (Download, and upload bandwidth) based on their need.\r\n\r\nI don&#39;t have any source in the google to proceed or experiment this requirement. I can&#39;t use any third part tool (Playstore) to perform this in the corporate network because of the security reason. \r\n\r\nCan someone give me some idea on this?\r\n\r\nTried with chatGPT but its returning class which is not exist in the android.net package:\r\n\r\n    \r\n    import android.net.TrafficStats;\r\n    import android.net.TrafficStatsUid;\r\n    import android.os.Build;\r\n    import android.os.Process;\r\n    import android.net.TrafficShaper;\r\n    import java.io.IOException;\r\n    \r\n    // Define the network parameters\r\n    int networkSpeed = 1024; // in kilobits per second\r\n    int latency = 100; // in milliseconds\r\n    int packetLoss = 10; // percentage of packets to drop\r\n    \r\n    // Set the network parameters using the TrafficShaper API\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        try {\r\n            TrafficStats.setThreadStatsTag(Process.myTid());\r\n            TrafficStats.setThreadStatsUid(Process.myUid());\r\n            TrafficStatsUid.setApplicationOnUid(Process.myUid(), &quot;com.example.myapp&quot;, true);\r\n            TrafficStats.setGlobalProxy(null); // disable any global proxy\r\n            TrafficShaper shaper = TrafficShaper.create();\r\n            shaper.setInterface(&quot;wlan0&quot;); // set the network interface\r\n            shaper.setDownstreamKbps(networkSpeed);\r\n            shaper.setUpstreamKbps(networkSpeed);\r\n            shaper.setLatency(latency);\r\n            shaper.setPacketLossRate(packetLoss);\r\n            shaper.start();\r\n        } catch (IOException e) {\r\n            // handle the error\r\n        }\r\n    }\r\n\r\nThe above code TrafficShaper class is not available in the android.net package.","title":"How to perform network shaping/throttle on android physical device","body":"<p>I have a requirement to perform network shaping on android physical device and I'm building some in-house .apk app to achieve this. The .apk file will be installed on the device and using that .apk file the user can perform network shaping (Download, and upload bandwidth) based on their need.</p>\n<p>I don't have any source in the google to proceed or experiment this requirement. I can't use any third part tool (Playstore) to perform this in the corporate network because of the security reason.</p>\n<p>Can someone give me some idea on this?</p>\n<p>Tried with chatGPT but its returning class which is not exist in the android.net package:</p>\n<pre><code>import android.net.TrafficStats;\nimport android.net.TrafficStatsUid;\nimport android.os.Build;\nimport android.os.Process;\nimport android.net.TrafficShaper;\nimport java.io.IOException;\n\n// Define the network parameters\nint networkSpeed = 1024; // in kilobits per second\nint latency = 100; // in milliseconds\nint packetLoss = 10; // percentage of packets to drop\n\n// Set the network parameters using the TrafficShaper API\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    try {\n        TrafficStats.setThreadStatsTag(Process.myTid());\n        TrafficStats.setThreadStatsUid(Process.myUid());\n        TrafficStatsUid.setApplicationOnUid(Process.myUid(), &quot;com.example.myapp&quot;, true);\n        TrafficStats.setGlobalProxy(null); // disable any global proxy\n        TrafficShaper shaper = TrafficShaper.create();\n        shaper.setInterface(&quot;wlan0&quot;); // set the network interface\n        shaper.setDownstreamKbps(networkSpeed);\n        shaper.setUpstreamKbps(networkSpeed);\n        shaper.setLatency(latency);\n        shaper.setPacketLossRate(packetLoss);\n        shaper.start();\n    } catch (IOException e) {\n        // handle the error\n    }\n}\n</code></pre>\n<p>The above code TrafficShaper class is not available in the android.net package.</p>\n"},{"tags":["java","eclipse","birt","rcp"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679068012,"post_id":75768782,"comment_id":133660133,"body_markdown":"may be you need to use java version 8. But if you are on java version &gt; 8 and &lt; 17 then you can add `--illegal-access=permit` command line option while running the app and for java 17 `&quot;--add-opens=java.base/java.lang=ALL-UNNAMED` ref: https://openjdk.org/jeps/403","body":"may be you need to use java version 8. But if you are on java version &gt; 8 and &lt; 17 then you can add <code>--illegal-access=permit</code> command line option while running the app and for java 17 <code>&quot;--add-opens=java.base&#47;java.lang=ALL-UNNAMED</code> ref: <a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">openjdk.org/jeps/403</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679068587,"post_id":75768782,"comment_id":133660269,"body_markdown":"I guess your RCP application needs `--add-exports jdk.unsupported/sun.misc=ALL-UNNAMED`, but better get rid of the use of `sun.misc` at all.","body":"I guess your RCP application needs <code>--add-exports jdk.unsupported&#47;sun.misc=ALL-UNNAMED</code>, but better get rid of the use of <code>sun.misc</code> at all."}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679063221,"creation_date":1679063221,"question_id":75768782,"body_markdown":"I am trying to upgrade my RCP app from Java8 to Java11.\r\n\r\nThe app contains BIRT which in turn depends on `com.github.librepdf.openpdf` and imports the package `sun.misc`. This results in `Missing constraint: Import-Package: sun.misc`.\r\n\r\nAs far as I can determine looking at their manifests, each of these bundles (as well as all my bundles) target Java 11 so I cannot understand why the `sun.misc` is imported in the first place.\r\n\r\nI found this fairly recent issue [https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704](https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704) but there doesn&#39;t appear to be a solution.\r\n\r\nCan I supply `sun.misc` from elsewhere or is there another solution?\r\n","title":"How to resolve &#39;Missing constraint: Import-Package: sun.misc &#39; on JavaSE-11","body":"<p>I am trying to upgrade my RCP app from Java8 to Java11.</p>\n<p>The app contains BIRT which in turn depends on <code>com.github.librepdf.openpdf</code> and imports the package <code>sun.misc</code>. This results in <code>Missing constraint: Import-Package: sun.misc</code>.</p>\n<p>As far as I can determine looking at their manifests, each of these bundles (as well as all my bundles) target Java 11 so I cannot understand why the <code>sun.misc</code> is imported in the first place.</p>\n<p>I found this fairly recent issue <a href=\"https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704\" rel=\"nofollow noreferrer\">https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704</a> but there doesn't appear to be a solution.</p>\n<p>Can I supply <code>sun.misc</code> from elsewhere or is there another solution?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679061722,"post_id":75768477,"comment_id":133658181,"body_markdown":"Oracle purchased Sun in 2010; why would you expect anything from Sun in the modern JVM?","body":"Oracle purchased Sun in 2010; why would you expect anything from Sun in the modern JVM?"},{"owner":{"account_id":28043021,"reputation":13,"user_id":21420279,"display_name":"Chris1337"},"score":0,"creation_date":1679062054,"post_id":75768477,"comment_id":133658285,"body_markdown":"Sorry, I think I&#39;ve wrote this horribly, JNA is not showing the packages. So from the github what I understand is you import it like this: import com.sun.jna","body":"Sorry, I think I&#39;ve wrote this horribly, JNA is not showing the packages. So from the github what I understand is you import it like this: import com.sun.jna"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679063685,"post_id":75768477,"comment_id":133658777,"body_markdown":"[**Moved** / **Renamed**](https://mvnrepository.com/artifact/net.java.dev.jna/jna)","body":"<a href=\"https://mvnrepository.com/artifact/net.java.dev.jna/jna\" rel=\"nofollow noreferrer\"><b>Moved</b> / <b>Renamed</b></a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679123287,"post_id":75768477,"comment_id":133668014,"body_markdown":"Find it on `https://mvnrepository.com/artifact/net.java.dev.jna/jna/5.13.0`, you can download the jar file (https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/jna-5.13.0.jar) , `import com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Platform;\n\npublic class Main {`. It can work with JDK 17.","body":"Find it on <code>https:&#47;&#47;mvnrepository.com&#47;artifact&#47;net.java.dev.jna&#47;jna&#47;5.13&zwnj;&#8203;.0</code>, you can download the jar file (<a href=\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/jna-5.13.0.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/&hellip;</a>) , <code>import com.sun.jna.Library; import com.sun.jna.Native; import com.sun.jna.Platform;  public class Main {</code>. It can work with JDK 17."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1679295003,"post_id":75768477,"comment_id":133688905,"body_markdown":"&quot;Sorry if I&#39;m being stupid but I am new to relatively to java and eclipse.&quot; - please don&#39;t write such a thing, it&#39;s not relevant to the question and will be considered noise","body":"&quot;Sorry if I&#39;m being stupid but I am new to relatively to java and eclipse.&quot; - please don&#39;t write such a thing, it&#39;s not relevant to the question and will be considered noise"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679063218,"creation_date":1679063218,"answer_id":75768781,"question_id":75768477,"body_markdown":"Check your [Type Filters][1]. You usually don&#39;t want to directly reference com.sun packages, so they&#39;re likely in the default set of packages not offered through Content Assist and in other functionality.\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/preferences/java/appearance/ref-preferences-type-filters.htm","title":"Eclipse Doesn&#39;t show JNA User Libs","body":"<p>Check your <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/preferences/java/appearance/ref-preferences-type-filters.htm\" rel=\"nofollow noreferrer\">Type Filters</a>. You usually don't want to directly reference com.sun packages, so they're likely in the default set of packages not offered through Content Assist and in other functionality.</p>\n"}],"owner":{"account_id":28043021,"reputation":13,"user_id":21420279,"display_name":"Chris1337"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75768781,"answer_count":1,"score":1,"last_activity_date":1679063218,"creation_date":1679061577,"question_id":75768477,"body_markdown":"JNA is not showing the library paths when importing\r\n\r\nHere is my problem in pictures:[com.sun](https://i.stack.imgur.com/uEiTZ.png)\r\n[com.sun.](https://i.stack.imgur.com/ivZA6.png)\r\n\r\nEssentially when I write com.sun. does it not show a list of classes/packages etc.\r\n\r\nSorry if I&#39;m being stupid but I am new to relatively to java and eclipse.\r\n\r\nEditing .classpath directly.\r\nReadding Libraries.\r\nLooked through project properties but can&#39;t find anything related.","title":"Eclipse Doesn&#39;t show JNA User Libs","body":"<p>JNA is not showing the library paths when importing</p>\n<p>Here is my problem in pictures:<a href=\"https://i.stack.imgur.com/uEiTZ.png\" rel=\"nofollow noreferrer\">com.sun</a>\n<a href=\"https://i.stack.imgur.com/ivZA6.png\" rel=\"nofollow noreferrer\">com.sun.</a></p>\n<p>Essentially when I write com.sun. does it not show a list of classes/packages etc.</p>\n<p>Sorry if I'm being stupid but I am new to relatively to java and eclipse.</p>\n<p>Editing .classpath directly.\nReadding Libraries.\nLooked through project properties but can't find anything related.</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1679063384,"post_id":75768780,"comment_id":133658692,"body_markdown":"You may want to read about [type erasure](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens)","body":"You may want to read about <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">type erasure</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679063820,"post_id":75768780,"comment_id":133658807,"body_markdown":"See the duplicate. To summarise, you don&#39;t need `Class.forName` or the stream. Just access the array returned by `getActualTypeArgument` directly with `[0]`, and cast that to `Class&lt;?&gt;`.","body":"See the duplicate. To summarise, you don&#39;t need <code>Class.forName</code> or the stream. Just access the array returned by <code>getActualTypeArgument</code> directly with <code>[0]</code>, and cast that to <code>Class&lt;?&gt;</code>."}],"owner":{"account_id":19183815,"reputation":50,"user_id":14015008,"display_name":"GeoMldr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679063677,"answer_count":0,"score":0,"last_activity_date":1679063217,"creation_date":1679063217,"question_id":75768780,"body_markdown":"I am trying to develop an http-library, mainly for getting a clue about how they work. \r\n\r\nI am currently trying to automatically implement interfaces in which the methods look like this: \r\n\r\n    public Response&lt;ExampleObject&gt; getInformationAsExampleObject();\r\n\r\nThe interface is implemented and an InvocationHandler is created for each method. \r\n\r\nHere is the problem: I haven&#39;t found a straightforward way to get the Class&lt;?&gt; for the T of the generic. \r\nIn the example above it would be  ExampleObject.class\r\n\r\nIt would be pretty simple if I was given an initialized object, but instead I am dealing with an unimplemented interface.\r\n\r\nI have resorted to this: \r\n\r\n```\r\nClass.forName(Arrays.stream(((ParameterizedType) method.getGenericReturnType()).getActualTypeArguments()).toList().get(0).getTypeName());\r\n```\r\n\r\nand it feels like there has to be a more straightforward way to achieve the same result. \r\nThe question is how.","title":"Getting the classtype of a generic in an interface","body":"<p>I am trying to develop an http-library, mainly for getting a clue about how they work.</p>\n<p>I am currently trying to automatically implement interfaces in which the methods look like this:</p>\n<pre><code>public Response&lt;ExampleObject&gt; getInformationAsExampleObject();\n</code></pre>\n<p>The interface is implemented and an InvocationHandler is created for each method.</p>\n<p>Here is the problem: I haven't found a straightforward way to get the Class&lt;?&gt; for the T of the generic.\nIn the example above it would be  ExampleObject.class</p>\n<p>It would be pretty simple if I was given an initialized object, but instead I am dealing with an unimplemented interface.</p>\n<p>I have resorted to this:</p>\n<pre><code>Class.forName(Arrays.stream(((ParameterizedType) method.getGenericReturnType()).getActualTypeArguments()).toList().get(0).getTypeName());\n</code></pre>\n<p>and it feels like there has to be a more straightforward way to achieve the same result.\nThe question is how.</p>\n"},{"tags":["java","spring-boot","cart"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679062631,"post_id":75768641,"comment_id":133658469,"body_markdown":"Edit question to share `Fiction`. Did you override `equals()` and `hashCode()` properly?","body":"Edit question to share <code>Fiction</code>. Did you override <code>equals()</code> and <code>hashCode()</code> properly?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679062743,"post_id":75768641,"comment_id":133658496,"body_markdown":"What does `items are still there` mean? Does the item not get removed from the `private List &lt;Fiction&gt; fictions` or are you talking about some frontend displaying the items?","body":"What does <code>items are still there</code> mean? Does the item not get removed from the <code>private List &lt;Fiction&gt; fictions</code> or are you talking about some frontend displaying the items?"},{"owner":{"account_id":25749258,"reputation":11,"user_id":20477827,"display_name":"Claudio Nugnes"},"score":0,"creation_date":1679063021,"post_id":75768641,"comment_id":133658594,"body_markdown":"the item not get removed from the list","body":"the item not get removed from the list"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1679063064,"post_id":75768641,"comment_id":133658604,"body_markdown":"BTW your `remove(Fiction fiction)` in a loop removes *all* items equal to `fiction`, but later after the loop you are executing `this.totale = totale - fiction.getPrezzo();` which reduces total price by only *one* `fiction` (even if more would be removed, or even if none was removed). You should update the price each time you remove item in a loop, not after it.","body":"BTW your <code>remove(Fiction fiction)</code> in a loop removes <i>all</i> items equal to <code>fiction</code>, but later after the loop you are executing <code>this.totale = totale - fiction.getPrezzo();</code> which reduces total price by only <i>one</i> <code>fiction</code> (even if more would be removed, or even if none was removed). You should update the price each time you remove item in a loop, not after it."}],"answers":[{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679063100,"creation_date":1679063100,"answer_id":75768758,"question_id":75768641,"body_markdown":"Override the `equals` to get your code working. Refer the following example:\r\n```java\r\n  // Overriding equals() to compare two Fiction objects\r\n  @Override\r\n  public boolean equals(Object o) {\r\n\r\n    // If the object is compared with itself then return true\r\n    if (o == this) {\r\n      return true;\r\n    }\r\n\r\n        /* Check if o is an instance of Fiction or not\r\n          &quot;null instanceof [type]&quot; also returns false */\r\n    if (!(o instanceof Fiction)) {\r\n      return false;\r\n    }\r\n\r\n    // typecast o to Fiction so that we can compare data members\r\n    Fiction c = (Fiction) o;\r\n\r\n    // Compare the data members and return accordingly\r\n    return this.id.equals(c.getId());\r\n  }\r\n```","title":"I can&#39;t remove item from the cart","body":"<p>Override the <code>equals</code> to get your code working. Refer the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // Overriding equals() to compare two Fiction objects\n  @Override\n  public boolean equals(Object o) {\n\n    // If the object is compared with itself then return true\n    if (o == this) {\n      return true;\n    }\n\n        /* Check if o is an instance of Fiction or not\n          &quot;null instanceof [type]&quot; also returns false */\n    if (!(o instanceof Fiction)) {\n      return false;\n    }\n\n    // typecast o to Fiction so that we can compare data members\n    Fiction c = (Fiction) o;\n\n    // Compare the data members and return accordingly\n    return this.id.equals(c.getId());\n  }\n</code></pre>\n"}],"owner":{"account_id":25749258,"reputation":11,"user_id":20477827,"display_name":"Claudio Nugnes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75768758,"answer_count":1,"score":0,"last_activity_date":1679063100,"creation_date":1679062422,"question_id":75768641,"body_markdown":"Does not remove items from cart.\r\nWhen I hit &quot;delete&quot; the items are still there.\r\nOnly performs the total price calculation. Cart isn&#39;t repository , instead Fiction item is a repositry entity , saved in the database\r\nThanks for your help\r\nThis is my code :\r\n\r\n```\r\n@Component\r\npublic class Cart {\r\n\r\n    private List &lt;Fiction&gt; fictions = new ArrayList&lt;Fiction&gt; ();\r\n    \r\n    private float totale = 0.0f;\r\n        \r\n        public Cart() {\r\n    \tsuper();\r\n    }\r\n    \r\n    \r\n    public void add(Fiction fiction) {\r\n    \t\r\n    \tfictions.add(fiction);\r\n    \tthis.totale = totale + fiction.getPrezzo();\r\n    }\r\n    \r\n    public void remove(Fiction fiction) {\r\n        Iterator&lt;Fiction&gt; iterator = fictions.iterator();\r\n        while(iterator.hasNext()) {\r\n            Fiction item = iterator.next();\r\n            if(item.equals(fiction)) {\r\n                iterator.remove();\r\n                }\r\n        } this.totale = totale - fiction.getPrezzo();\r\n    } \r\n```\r\n\r\ncontroller\r\n\r\n```\r\nDoes not remove items from cart.\r\nWhen I hit &quot;delete&quot; the items are still there.\r\nOnly performs the total price calculation.\r\nThanks for your help\r\nThis is my code :  \r\n\r\n@Controller\r\npublic class CartController {\r\n\r\n    @Autowired\r\n    Cart carrello;\r\n    \r\n    @Autowired\r\n    private FictionRepo fictionRepo;\r\n    \r\n  \r\n    \r\n    @RequestMapping(&quot;/deleteToCart/{id}&quot;)\r\n    public String deleteToCart(@PathVariable(&quot;id&quot;) Long id ) {\r\n    \tFiction fictions = fictionRepo.findById(id).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Fiction non trovata&quot;));\r\n    \tSystem.out.println(&quot; sto per cancellare&quot;);\r\n    \tcarrello.remove(fictions);\r\n    \tSystem.out.println(&quot; ho cancellato&quot;);\r\n    \treturn &quot;redirect:/indexCart&quot;;\r\n    }\r\n\r\n}\r\n```","title":"I can&#39;t remove item from the cart","body":"<p>Does not remove items from cart.\nWhen I hit &quot;delete&quot; the items are still there.\nOnly performs the total price calculation. Cart isn't repository , instead Fiction item is a repositry entity , saved in the database\nThanks for your help\nThis is my code :</p>\n<pre><code>@Component\npublic class Cart {\n\n    private List &lt;Fiction&gt; fictions = new ArrayList&lt;Fiction&gt; ();\n    \n    private float totale = 0.0f;\n        \n        public Cart() {\n        super();\n    }\n    \n    \n    public void add(Fiction fiction) {\n        \n        fictions.add(fiction);\n        this.totale = totale + fiction.getPrezzo();\n    }\n    \n    public void remove(Fiction fiction) {\n        Iterator&lt;Fiction&gt; iterator = fictions.iterator();\n        while(iterator.hasNext()) {\n            Fiction item = iterator.next();\n            if(item.equals(fiction)) {\n                iterator.remove();\n                }\n        } this.totale = totale - fiction.getPrezzo();\n    } \n</code></pre>\n<p>controller</p>\n<pre><code>Does not remove items from cart.\nWhen I hit &quot;delete&quot; the items are still there.\nOnly performs the total price calculation.\nThanks for your help\nThis is my code :  \n\n@Controller\npublic class CartController {\n\n    @Autowired\n    Cart carrello;\n    \n    @Autowired\n    private FictionRepo fictionRepo;\n    \n  \n    \n    @RequestMapping(&quot;/deleteToCart/{id}&quot;)\n    public String deleteToCart(@PathVariable(&quot;id&quot;) Long id ) {\n        Fiction fictions = fictionRepo.findById(id).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Fiction non trovata&quot;));\n        System.out.println(&quot; sto per cancellare&quot;);\n        carrello.remove(fictions);\n        System.out.println(&quot; ho cancellato&quot;);\n        return &quot;redirect:/indexCart&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sonarqube","try-with-resources"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1679063248,"post_id":75754097,"comment_id":133658659,"body_markdown":"*&quot;...since the version of java i use doesn&#39;t support try-with-resource&quot;* — Try-with-resources was introduced in Java 7. Are you saying that you are using a Java version lower than 7?","body":"<i>&quot;...since the version of java i use doesn&#39;t support try-with-resource&quot;</i> — Try-with-resources was introduced in Java 7. Are you saying that you are using a Java version lower than 7?"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678958354,"creation_date":1678958354,"answer_id":75754143,"question_id":75754097,"body_markdown":"The `finally` is _in_ the `try` when in reality it has to be outside.\r\n\r\n```java\r\ntry {\r\n  fileInputStream = new FileInputStream(value);\r\n  objIn = new ObjectInputStream(fileInputStream)\r\n} finally {\r\n  try {\r\n    if (fileInputStream != null){\r\n      fileInputStream.close();\r\n    }\r\n    if (objIn != null){\r\n      objIn.close();\r\n    }\r\n  } catch (IOException ignored) {}\r\n}\r\n```\r\nAlthough I&#39;m not sure if SonarQube will understand that you closed it.","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>The <code>finally</code> is <em>in</em> the <code>try</code> when in reality it has to be outside.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  fileInputStream = new FileInputStream(value);\n  objIn = new ObjectInputStream(fileInputStream)\n} finally {\n  try {\n    if (fileInputStream != null){\n      fileInputStream.close();\n    }\n    if (objIn != null){\n      objIn.close();\n    }\n  } catch (IOException ignored) {}\n}\n</code></pre>\n<p>Although I'm not sure if SonarQube will understand that you closed it.</p>\n"},{"tags":[],"owner":{"account_id":2195430,"reputation":10993,"user_id":1941241,"display_name":"rickdenhaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678959066,"creation_date":1678959066,"answer_id":75754277,"question_id":75754097,"body_markdown":"It is not a false positive.\r\n\r\nIf `fileInputStream.close()` throws an exception, `objIn.close()` will not be called and the `ObjectInputStream` will not be closed.\r\n\r\nYou should separate the two `close` calls to make sure both streams are closed:\r\n\r\n```\r\nfinally {\r\n    try {\r\n        if (fileInputStream != null) {\r\n            fileInputStream.close();\r\n        }\r\n    } catch (IOException ignored) {}\r\n\r\n    try {\r\n        if (objIn != null) {\r\n            objIn.close();\r\n        }\r\n    } catch (IOException ignored) {}\r\n}\r\n```","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>It is not a false positive.</p>\n<p>If <code>fileInputStream.close()</code> throws an exception, <code>objIn.close()</code> will not be called and the <code>ObjectInputStream</code> will not be closed.</p>\n<p>You should separate the two <code>close</code> calls to make sure both streams are closed:</p>\n<pre><code>finally {\n    try {\n        if (fileInputStream != null) {\n            fileInputStream.close();\n        }\n    } catch (IOException ignored) {}\n\n    try {\n        if (objIn != null) {\n            objIn.close();\n        }\n    } catch (IOException ignored) {}\n}\n</code></pre>\n"}],"owner":{"account_id":28030883,"reputation":3,"user_id":21410079,"display_name":"Billi "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75754277,"answer_count":2,"score":0,"last_activity_date":1679062832,"creation_date":1678958143,"question_id":75754097,"body_markdown":"For the below java code though resource is closed in a finally block sonar is reporting:Use try-with-resources or close this “ObjectInputStream” in a “finally” clause.\r\n```java\r\nFileInputStream fileInputStream = null;\r\nObjectInputStream objIn = null;\r\ntry {\r\n    fileInputStream = new FileInputStream(value);\r\n    objIn = new ObjectInputStream(fileInputStream)\r\n}\r\nfinally {\r\n        try \r\n            {\r\n            if (fileInputStream != null) {\r\n                fileInputStream.close();\r\n            }\r\n            if (objIn != null) {\r\n                objIn.close();\r\n            }\r\n        } catch (IOException e) {}\r\n    }\r\n\r\n```\r\n\r\n\r\nSonar doesn&#39;t report above issue   when  try-with-resources is used , since the version of java i use doesn&#39;t support  try-with-resource i had to go with closing resource in a finally block.","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>For the below java code though resource is closed in a finally block sonar is reporting:Use try-with-resources or close this “ObjectInputStream” in a “finally” clause.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fileInputStream = null;\nObjectInputStream objIn = null;\ntry {\n    fileInputStream = new FileInputStream(value);\n    objIn = new ObjectInputStream(fileInputStream)\n}\nfinally {\n        try \n            {\n            if (fileInputStream != null) {\n                fileInputStream.close();\n            }\n            if (objIn != null) {\n                objIn.close();\n            }\n        } catch (IOException e) {}\n    }\n\n</code></pre>\n<p>Sonar doesn't report above issue   when  try-with-resources is used , since the version of java i use doesn't support  try-with-resource i had to go with closing resource in a finally block.</p>\n"},{"tags":["java","parsing","pdf","pdfbox","pdfa"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1470235183,"post_id":38737219,"comment_id":64867133,"body_markdown":"Which PDF/A flavors do you want to convert to? Some are difficult as explained by @Tilman&#39;s answer and others are even more difficult, especially if no human assistance shall be required...","body":"Which PDF/A flavors do you want to convert to? Some are difficult as explained by @Tilman&#39;s answer and others are even more difficult, especially if no human assistance shall be required..."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470221531,"creation_date":1470213653,"answer_id":38738601,"question_id":38737219,"body_markdown":"Test whether a PDF file is PDF/A-1b can be done with PDFBox preflight, see example [here][1] or use the preflight-app.\r\n\r\nCreating a tool to convert a file from PDF to PDF/A is a difficult task that would take months, possibly years. If you look at the source code of PDFBox preflight, you&#39;ll find hundreds of error messages. So your tool would have to be able fix each of these errors. Some are:\r\n\r\n - non embedded font\r\n - use of color without output intent\r\n - improper meta data\r\n - JBIG2 encoded image\r\n - LZW encoded data\r\n\r\nJust check a few of your own files with PDFBox preflight, and you&#39;ll see a wide variety of problems...\r\n\r\nIf you don&#39;t have months or years, visit the homepages of `Callas Software GmbH` or `PDF Tools AG` to buy such a converter.\r\n\r\n\r\n  [1]: https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/test/java/org/apache/pdfbox/examples/pdfa/CreatePDFATest.java?view=markup","title":"PDFbox - How to test &amp; adjust a PDF to match PDF/A compliance in Java","body":"<p>Test whether a PDF file is PDF/A-1b can be done with PDFBox preflight, see example <a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/test/java/org/apache/pdfbox/examples/pdfa/CreatePDFATest.java?view=markup\" rel=\"noreferrer\">here</a> or use the preflight-app.</p>\n\n<p>Creating a tool to convert a file from PDF to PDF/A is a difficult task that would take months, possibly years. If you look at the source code of PDFBox preflight, you'll find hundreds of error messages. So your tool would have to be able fix each of these errors. Some are:</p>\n\n<ul>\n<li>non embedded font</li>\n<li>use of color without output intent</li>\n<li>improper meta data</li>\n<li>JBIG2 encoded image</li>\n<li>LZW encoded data</li>\n</ul>\n\n<p>Just check a few of your own files with PDFBox preflight, and you'll see a wide variety of problems...</p>\n\n<p>If you don't have months or years, visit the homepages of <code>Callas Software GmbH</code> or <code>PDF Tools AG</code> to buy such a converter.</p>\n"},{"tags":[],"owner":{"account_id":23376026,"reputation":62,"user_id":17445609,"display_name":"Ivan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679055206,"creation_date":1679055206,"answer_id":75767455,"question_id":38737219,"body_markdown":"I&#39;ve been working on a easy way to convert PDF to PDF/A. Finally I convert every page of the original PDF to images and I recreate the PDF just using images.\r\n\r\nThis way I don&#39;t care about fonts, forms or any other configuration.\r\n\r\n    public void usingImages(File pdfFile) {\r\n        try (PDDocument docIn = PDDocument.load(pdfFile))\r\n        {   \r\n            try(PDDocument docOut = new PDDocument()) {\r\n                PDFRenderer pdfRenderer = new PDFRenderer(docIn);\r\n                for (int pageIx = 0; pageIx &lt; docIn.getNumberOfPages(); ++pageIx) { \r\n                    //convert the input page to img\r\n                    BufferedImage bim = pdfRenderer.renderImageWithDPI(pageIx, 300, ImageType.RGB);\r\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                    ImageIO.write(bim, &quot;png&quot;, baos);\r\n                    byte[] toByteArray = baos.toByteArray();\r\n                    \r\n                    //Create new output page\r\n                    PDPage page = new PDPage();\r\n                    docOut.addPage(page);\r\n                    \r\n                    //Insert Image to new page\r\n                    PDImageXObject pdImage = PDImageXObject.createFromByteArray(docOut, toByteArray, &quot;Pagina_&quot;+String.valueOf(page));\r\n                    \r\n                    try (PDPageContentStream contentStream = new PDPageContentStream(docOut, page, PDPageContentStream.AppendMode.APPEND, true, true))\r\n                    {\r\n                        // contentStream.drawImage(ximage, 20, 20 );\r\n                        // better method inspired by http://stackoverflow.com/a/22318681/535646\r\n                        // reduce this value if the image is too large\r\n                        float width = page.getCropBox().getWidth();\r\n                        float height = page.getCropBox().getHeight();\r\n                        float scale = width / pdImage.getWidth();\r\n                        if (scale &gt; (height / pdImage.getHeight()))\r\n                            scale = height / pdImage.getHeight();\r\n\r\n                        contentStream.drawImage(pdImage, page.getCropBox().getLowerLeftX(), page.getCropBox().getLowerLeftY(), pdImage.getWidth() * scale, pdImage.getHeight() * scale);\r\n                    }\r\n                }\r\n                docOut.save(new File(pdfFile.getAbsolutePath() + &quot;.PDFA.pdf&quot;));\r\n            }\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(PDFtoPDFA.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }","title":"PDFbox - How to test &amp; adjust a PDF to match PDF/A compliance in Java","body":"<p>I've been working on a easy way to convert PDF to PDF/A. Finally I convert every page of the original PDF to images and I recreate the PDF just using images.</p>\n<p>This way I don't care about fonts, forms or any other configuration.</p>\n<pre><code>public void usingImages(File pdfFile) {\n    try (PDDocument docIn = PDDocument.load(pdfFile))\n    {   \n        try(PDDocument docOut = new PDDocument()) {\n            PDFRenderer pdfRenderer = new PDFRenderer(docIn);\n            for (int pageIx = 0; pageIx &lt; docIn.getNumberOfPages(); ++pageIx) { \n                //convert the input page to img\n                BufferedImage bim = pdfRenderer.renderImageWithDPI(pageIx, 300, ImageType.RGB);\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                ImageIO.write(bim, &quot;png&quot;, baos);\n                byte[] toByteArray = baos.toByteArray();\n                \n                //Create new output page\n                PDPage page = new PDPage();\n                docOut.addPage(page);\n                \n                //Insert Image to new page\n                PDImageXObject pdImage = PDImageXObject.createFromByteArray(docOut, toByteArray, &quot;Pagina_&quot;+String.valueOf(page));\n                \n                try (PDPageContentStream contentStream = new PDPageContentStream(docOut, page, PDPageContentStream.AppendMode.APPEND, true, true))\n                {\n                    // contentStream.drawImage(ximage, 20, 20 );\n                    // better method inspired by http://stackoverflow.com/a/22318681/535646\n                    // reduce this value if the image is too large\n                    float width = page.getCropBox().getWidth();\n                    float height = page.getCropBox().getHeight();\n                    float scale = width / pdImage.getWidth();\n                    if (scale &gt; (height / pdImage.getHeight()))\n                        scale = height / pdImage.getHeight();\n\n                    contentStream.drawImage(pdImage, page.getCropBox().getLowerLeftX(), page.getCropBox().getLowerLeftY(), pdImage.getWidth() * scale, pdImage.getHeight() * scale);\n                }\n            }\n            docOut.save(new File(pdfFile.getAbsolutePath() + &quot;.PDFA.pdf&quot;));\n        }\n    } catch (Exception ex) {\n        Logger.getLogger(PDFtoPDFA.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":266233,"reputation":2829,"user_id":553702,"accept_rate":12,"display_name":"user553702"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7718,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1679062638,"creation_date":1470209662,"question_id":38737219,"body_markdown":"In Java, I would like to be able to read in a PDF file, test whether it is PDF/A (PDF for Archiving) compliant, and if not, then convert the file to PDF/A.\r\n\r\nI might prefer this in Apache PDFBox because I&#39;ve been doing a few things in that API already, but I&#39;d be open to other APIs as well.","title":"PDFbox - How to test &amp; adjust a PDF to match PDF/A compliance in Java","body":"<p>In Java, I would like to be able to read in a PDF file, test whether it is PDF/A (PDF for Archiving) compliant, and if not, then convert the file to PDF/A.</p>\n\n<p>I might prefer this in Apache PDFBox because I've been doing a few things in that API already, but I'd be open to other APIs as well.</p>\n"},{"tags":["java","spring","kubernetes","hazelcast"],"comments":[{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1679058529,"post_id":75767163,"comment_id":133657296,"body_markdown":"Please show the kubernetes manifests","body":"Please show the kubernetes manifests"},{"owner":{"account_id":12023064,"reputation":63,"user_id":8795924,"display_name":"AlbertCalmus"},"score":0,"creation_date":1679062673,"post_id":75767163,"comment_id":133658478,"body_markdown":"@Thomas I added the `service.yaml` and `deployment.yaml` kubernetes files in the question.","body":"@Thomas I added the <code>service.yaml</code> and <code>deployment.yaml</code> kubernetes files in the question."}],"owner":{"account_id":12023064,"reputation":63,"user_id":8795924,"display_name":"AlbertCalmus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679062631,"creation_date":1679053141,"question_id":75767163,"body_markdown":"#### Context\r\n\r\nI am trying to set up Hazelcast for a Spring Boot API running in Kubernetes. This API is running in two pods that need to be able to communicate.\r\n\r\n\r\n#### Configuration\r\n\r\nI have the following Hazelcast Java configuration defined :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n  &lt;version&gt;5.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n```java\r\nConfig config = getCommonConfig();\r\nJoinConfig joinConfig = config.getNetworkConfig().getJoin();\r\njoinConfig.getMulticastConfig().setEnabled(false);\r\nconfig.getNetworkConfig().getJoin().getKubernetesConfig().setEnabled(true)\r\n        .setProperty(&quot;namespace&quot;, namespace)\r\n        .setProperty(&quot;service-name&quot;, service);\r\n```\r\n\r\n#### Description of the problem\r\n\r\nWhen running only one pod the API is running without any error.\r\n\r\nWhen I scale my application with `kubectl scale deployment &lt;deployment_name&gt; --replicas=2`, the second pod fails with the following stack trace :\r\n\r\n```\r\nWARN ConfigServletWebServerApplicationContext : Exception encountered during context initialization \r\ncancelling refresh attempt: org.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;hazelcastInstance&#39; defined in class path resource [org/springframework/boot/autoconfigure/hazelcast/HazelcastServerConfiguration$HazelcastServerConfigConfiguration.class]:\r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\r\nFailed to instantiate [com.hazelcast.core.HazelcastInstance]:\r\nFactory method &#39;hazelcastInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\r\n```\r\n\r\nThis stack is very obscure and setting the `LOG_LEVEL` to `DEBUG` does not add any additional log.\r\n\r\nIt seems that the following `@Bean` defined in `HazelcastServerConfiguration` fails to instantiate when I have two pods running even though it runs fine when I only have one.\r\n```java\r\n@Configuration(\r\n    proxyBeanMethods = false\r\n)\r\n@ConditionalOnSingleCandidate(Config.class)\r\nstatic class HazelcastServerConfigConfiguration {\r\n    HazelcastServerConfigConfiguration() {\r\n    }\r\n\r\n    @Bean\r\n    HazelcastInstance hazelcastInstance(Config config) {\r\n        return HazelcastServerConfiguration.getHazelcastInstance(config);\r\n    }\r\n}\r\n```\r\n\r\nI tried :\r\n- Using `hazelcast-kubernetes` in addition of `hazelcast`, exact same problem happened.\r\n- Running in `LOG_LEVEL=DEBUG` to have more information, nothing more was logged.\r\n\r\n\r\n#### Kubernetes configuration\r\n**service.yaml**\r\n```yaml\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: FOO\r\n  [...]\r\nspec:\r\n  ports:\r\n    - port: 8080\r\n      protocol: TCP\r\n      name: http\r\n    - port: 5701\r\n      protocol: TCP\r\n      name: hazelcast\r\n  type: ClusterIP\r\n  selector:\r\n    app.kubernetes.io/name: FOO\r\n    app.kubernetes.io/instance: BAR\r\n```\r\n\r\n**deployment.yaml**\r\n```yaml\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: FOO\r\n  labels:\r\n    app.kubernetes.io/name: FOO\r\n    [...]\r\nspec:\r\n  replicas: 2\r\n  [...]\r\n          ports:\r\n            - name: http\r\n              containerPort: 8080\r\n              protocol: TCP\r\n            - name: hazelcast\r\n              containerPort: 5701\r\n              protocol: TCP\r\n```\r\n","title":"Spring / Hazelcast / Kubernetes : Node failed to start when running two pods silmultaneously","body":"<h4>Context</h4>\n<p>I am trying to set up Hazelcast for a Spring Boot API running in Kubernetes. This API is running in two pods that need to be able to communicate.</p>\n<h4>Configuration</h4>\n<p>I have the following Hazelcast Java configuration defined :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n  &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n  &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Config config = getCommonConfig();\nJoinConfig joinConfig = config.getNetworkConfig().getJoin();\njoinConfig.getMulticastConfig().setEnabled(false);\nconfig.getNetworkConfig().getJoin().getKubernetesConfig().setEnabled(true)\n        .setProperty(&quot;namespace&quot;, namespace)\n        .setProperty(&quot;service-name&quot;, service);\n</code></pre>\n<h4>Description of the problem</h4>\n<p>When running only one pod the API is running without any error.</p>\n<p>When I scale my application with <code>kubectl scale deployment &lt;deployment_name&gt; --replicas=2</code>, the second pod fails with the following stack trace :</p>\n<pre><code>WARN ConfigServletWebServerApplicationContext : Exception encountered during context initialization \ncancelling refresh attempt: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'hazelcastInstance' defined in class path resource [org/springframework/boot/autoconfigure/hazelcast/HazelcastServerConfiguration$HazelcastServerConfigConfiguration.class]:\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\nFailed to instantiate [com.hazelcast.core.HazelcastInstance]:\nFactory method 'hazelcastInstance' threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\n</code></pre>\n<p>This stack is very obscure and setting the <code>LOG_LEVEL</code> to <code>DEBUG</code> does not add any additional log.</p>\n<p>It seems that the following <code>@Bean</code> defined in <code>HazelcastServerConfiguration</code> fails to instantiate when I have two pods running even though it runs fine when I only have one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(\n    proxyBeanMethods = false\n)\n@ConditionalOnSingleCandidate(Config.class)\nstatic class HazelcastServerConfigConfiguration {\n    HazelcastServerConfigConfiguration() {\n    }\n\n    @Bean\n    HazelcastInstance hazelcastInstance(Config config) {\n        return HazelcastServerConfiguration.getHazelcastInstance(config);\n    }\n}\n</code></pre>\n<p>I tried :</p>\n<ul>\n<li>Using <code>hazelcast-kubernetes</code> in addition of <code>hazelcast</code>, exact same problem happened.</li>\n<li>Running in <code>LOG_LEVEL=DEBUG</code> to have more information, nothing more was logged.</li>\n</ul>\n<h4>Kubernetes configuration</h4>\n<p><strong>service.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: FOO\n  [...]\nspec:\n  ports:\n    - port: 8080\n      protocol: TCP\n      name: http\n    - port: 5701\n      protocol: TCP\n      name: hazelcast\n  type: ClusterIP\n  selector:\n    app.kubernetes.io/name: FOO\n    app.kubernetes.io/instance: BAR\n</code></pre>\n<p><strong>deployment.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: FOO\n  labels:\n    app.kubernetes.io/name: FOO\n    [...]\nspec:\n  replicas: 2\n  [...]\n          ports:\n            - name: http\n              containerPort: 8080\n              protocol: TCP\n            - name: hazelcast\n              containerPort: 5701\n              protocol: TCP\n</code></pre>\n"},{"tags":["java","xml","web","sdk","microstrategy"],"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679062542,"creation_date":1679062542,"question_id":75768659,"body_markdown":"I am working on a MicroStrategy website and would like to make some changes to the look of the site in order to customize it for my company. However, I do not have access to the SDK or the Customization Editor. All of the documentation that I&#39;ve found provides solutions for common cosmetic changes using the SDK/Customization Editor. I have some understanding of how the app works, but making cosmetic changes that involve the configuration files and custom tags is difficult without a clear guide. ","title":"How to make cosmetic changes in MicroStrategy Web without the SDK","body":"<p>I am working on a MicroStrategy website and would like to make some changes to the look of the site in order to customize it for my company. However, I do not have access to the SDK or the Customization Editor. All of the documentation that I've found provides solutions for common cosmetic changes using the SDK/Customization Editor. I have some understanding of how the app works, but making cosmetic changes that involve the configuration files and custom tags is difficult without a clear guide.</p>\n"},{"tags":["java","google-bigquery","connection"],"owner":{"account_id":27964820,"reputation":1,"user_id":21355886,"display_name":"Jun Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679062532,"creation_date":1678276827,"question_id":75672771,"body_markdown":"When using Java to create a bigquery connection, how to set the connection type as `Cloud Resource` ? I can see the Connection class can be used to set types like: &quot;aws&quot;, &quot;cloudsql&quot; and &quot;cloudspanner&quot;, but can&#39;t find a way to set &quot;cloud resource&quot;.\r\n\r\n\r\nI know in CLI, we can use `--connection_type=CLOUD_RESOURCE` to set it, wondering if we can do the same setting in Java ?","title":"How to use Java to create a bigquery connection with type &quot;Cloud Resource&quot;?","body":"<p>When using Java to create a bigquery connection, how to set the connection type as <code>Cloud Resource</code> ? I can see the Connection class can be used to set types like: &quot;aws&quot;, &quot;cloudsql&quot; and &quot;cloudspanner&quot;, but can't find a way to set &quot;cloud resource&quot;.</p>\n<p>I know in CLI, we can use <code>--connection_type=CLOUD_RESOURCE</code> to set it, wondering if we can do the same setting in Java ?</p>\n"},{"tags":["java","google-chrome","intellij-idea"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1678975920,"post_id":75757369,"comment_id":133640074,"body_markdown":"[redirecting from http:// to file:// was not supported in the last decade at least](https://security.stackexchange.com/questions/18685/are-there-any-know-browsers-that-support-file-url-redirection) due to security concerns. Can you put the contents of the file onto some http server instead?","body":"<a href=\"https://security.stackexchange.com/questions/18685/are-there-any-know-browsers-that-support-file-url-redirection\">redirecting from http:// to file:// was not supported in the last decade at least</a> due to security concerns. Can you put the contents of the file onto some http server instead?"},{"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"score":0,"creation_date":1679061867,"post_id":75757369,"comment_id":133658227,"body_markdown":"@teapot418 you can add this as an answer and ill vote it as an winner","body":"@teapot418 you can add this as an answer and ill vote it as an winner"}],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679062105,"creation_date":1679062105,"answer_id":75768588,"question_id":75757369,"body_markdown":"Any reasonable web browser will reject attempts to redirect from an `http://` URL to a `file://` one. This is for security reasons and was the case for a long time, see also:\r\n\r\nhttps://security.stackexchange.com/questions/18685/are-there-any-know-browsers-that-support-file-url-redirection\r\n\r\nYou have to put the contents of that file on to some web server and redirect to that.","title":"my java code won&#39;t redirect - ERR_UNSAFE_REDIRECT","body":"<p>Any reasonable web browser will reject attempts to redirect from an <code>http://</code> URL to a <code>file://</code> one. This is for security reasons and was the case for a long time, see also:</p>\n<p><a href=\"https://security.stackexchange.com/questions/18685/are-there-any-know-browsers-that-support-file-url-redirection\">https://security.stackexchange.com/questions/18685/are-there-any-know-browsers-that-support-file-url-redirection</a></p>\n<p>You have to put the contents of that file on to some web server and redirect to that.</p>\n"}],"owner":{"account_id":8566087,"reputation":71,"user_id":19561773,"display_name":"Paul Timis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75768588,"answer_count":1,"score":0,"last_activity_date":1679062105,"creation_date":1678975402,"question_id":75757369,"body_markdown":"i&#39;m struggling for another hour to fix something and i can&#39;t get it to work:\r\n\r\nI have a simple program that takes the information from an registration form inside index.html and adds it to the postgreSQL database. \r\n\r\nWhen i hit sign up, the program works and adds the info in the database\r\n\r\nThe problem is i can&#39;t get the redirect to work\r\n\r\ni get the following error \r\n```\r\nThis site can’t be reachedThe webpage at http://localhost:8081/register might be temporarily down or it may have moved permanently to a new web address.\r\nERR_UNSAFE_REDIRECT \r\n```\r\n\r\nMy java code is as following:\r\n\r\n - This is the RegistrationController class\r\n\r\n```\r\npackage ro.fortech.guardianangel.registration;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.servlet.view.RedirectView;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/register&quot;)\r\npublic class RegistrationController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    public RedirectView registerSubmit(Users users) {\r\n        Users user = userRepository.save(users);\r\n        return new RedirectView(&quot;file:///C:/Users/timis/Desktop/programare/curs%20java/Proiect/frontend/index.html#!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n- This is the Users class\r\n\r\n```\r\npackage ro.fortech.guardianangel.registration;\r\n\r\nimport lombok.Data;\r\nimport javax.persistence.*;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Data\r\npublic class Users {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    private String email;\r\n    private String password;\r\n}\r\n```\r\n - And this is the UserRepository interface\r\n\r\n```\r\npackage ro.fortech.guardianangel.registration;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;Users, Integer&gt; {}\r\n```\r\n\r\nSo basically after i hit submit i want my browser to take me back to:\r\n```\r\nfile:///C:/Users/timis/Desktop/programare/curs%20java/Proiect/frontend/index.html\r\n```","title":"my java code won&#39;t redirect - ERR_UNSAFE_REDIRECT","body":"<p>i'm struggling for another hour to fix something and i can't get it to work:</p>\n<p>I have a simple program that takes the information from an registration form inside index.html and adds it to the postgreSQL database.</p>\n<p>When i hit sign up, the program works and adds the info in the database</p>\n<p>The problem is i can't get the redirect to work</p>\n<p>i get the following error</p>\n<pre><code>This site can’t be reachedThe webpage at http://localhost:8081/register might be temporarily down or it may have moved permanently to a new web address.\nERR_UNSAFE_REDIRECT \n</code></pre>\n<p>My java code is as following:</p>\n<ul>\n<li>This is the RegistrationController class</li>\n</ul>\n<pre><code>package ro.fortech.guardianangel.registration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.view.RedirectView;\n\n\n@RestController\n@RequestMapping(&quot;/register&quot;)\npublic class RegistrationController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    public RedirectView registerSubmit(Users users) {\n        Users user = userRepository.save(users);\n        return new RedirectView(&quot;file:///C:/Users/timis/Desktop/programare/curs%20java/Proiect/frontend/index.html#!&quot;);\n    }\n}\n</code></pre>\n<ul>\n<li>This is the Users class</li>\n</ul>\n<pre><code>package ro.fortech.guardianangel.registration;\n\nimport lombok.Data;\nimport javax.persistence.*;\n\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Data\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    private String email;\n    private String password;\n}\n</code></pre>\n<ul>\n<li>And this is the UserRepository interface</li>\n</ul>\n<pre><code>package ro.fortech.guardianangel.registration;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends CrudRepository&lt;Users, Integer&gt; {}\n</code></pre>\n<p>So basically after i hit submit i want my browser to take me back to:</p>\n<pre><code>file:///C:/Users/timis/Desktop/programare/curs%20java/Proiect/frontend/index.html\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":2,"creation_date":1679062688,"post_id":75768574,"comment_id":133658483,"body_markdown":"Refer this - https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w","body":"Refer this - <a href=\"https://stackoverflow.com/questions/75718422/org-openqa-selenium-remote-http-connectionfailedexception-unable-to-establish-w\" title=\"org openqa selenium remote http connectionfailedexception unable to establish w\">stackoverflow.com/questions/75718422/&hellip;</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679062904,"post_id":75768574,"comment_id":133658542,"body_markdown":"Possibly related: [Unable to establish websocket connection](https://stackoverflow.com/q/75680149/12567365).","body":"Possibly related: <a href=\"https://stackoverflow.com/q/75680149/12567365\">Unable to establish websocket connection</a>."},{"owner":{"account_id":28032984,"reputation":1,"user_id":21411865,"display_name":"Nitee Asswani"},"score":0,"creation_date":1679317909,"post_id":75768574,"comment_id":133694737,"body_markdown":"This got resolved for me. The problem was with the java, selenium and testNG versions compatibility. I was using java 14 with selenium 4 and testng version as higher than 7.5 which didnt work. The correct one is java 8 , selenium 3 and testNG versions should not be higher than 7.5. Is this is correct and we would probably not need selenium jdk client.","body":"This got resolved for me. The problem was with the java, selenium and testNG versions compatibility. I was using java 14 with selenium 4 and testng version as higher than 7.5 which didnt work. The correct one is java 8 , selenium 3 and testNG versions should not be higher than 7.5. Is this is correct and we would probably not need selenium jdk client."}],"owner":{"account_id":28032984,"reputation":1,"user_id":21411865,"display_name":"Nitee Asswani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679099547,"answer_count":0,"score":0,"last_activity_date":1679062056,"creation_date":1679062056,"question_id":75768574,"body_markdown":"I am trying to launch the browser with the simple code , the problem i am facing is browser window is getting open but it is showing data and it is not hitting the google url. \r\n\r\n```\r\npublic class SeleniumBrowserLaunch {\r\n\r\n\tpublic static void main (String[] args) {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Study_material\\\\Selenium_setup\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**Error i am getting is this:**\r\njava.io.IOException: Invalid Status code=403 text=Forbidden\r\nUnable to establish websocket connection to http://localhost:58703/devtools/browser/83403c9d-252d-40af-b350-a36926a5a929\r\n\r\nBelow are the screenshots for errors.\r\n\r\n[enter image description here](https://i.stack.imgur.com/oqXEc.png)\r\n[enter image description here](https://i.stack.imgur.com/nreJp.png)\r\n\r\nI need help to resolve this error. Thanks in advance.","title":"Unable to establish websocket connection error while launching the chrome browser in selenium","body":"<p>I am trying to launch the browser with the simple code , the problem i am facing is browser window is getting open but it is showing data and it is not hitting the google url.</p>\n<pre><code>public class SeleniumBrowserLaunch {\n\n    public static void main (String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Study_material\\\\Selenium_setup\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.google.com/&quot;);\n    }\n}\n</code></pre>\n<p><strong>Error i am getting is this:</strong>\njava.io.IOException: Invalid Status code=403 text=Forbidden\nUnable to establish websocket connection to http://localhost:58703/devtools/browser/83403c9d-252d-40af-b350-a36926a5a929</p>\n<p>Below are the screenshots for errors.</p>\n<p><a href=\"https://i.stack.imgur.com/oqXEc.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/nreJp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I need help to resolve this error. Thanks in advance.</p>\n"},{"tags":["java","instrumentation","byte-buddy","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":21372668,"reputation":156,"user_id":15739953,"display_name":"Mateusz Rzeszutek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665995232,"creation_date":1665994979,"answer_id":74094410,"question_id":74083208,"body_markdown":"Have you tried using the [javaagent debug mode](https://opentelemetry.io/docs/instrumentation/java/automatic/#troubleshooting)? It&#39;s very verbose, but should print some useful output.\r\n\r\nYou should not put any state or dependencies into the `TypeInstrumentation` class (neither into the advice class). In the OTel javaagent, the agent code is inaccessible from the application code; all code that is supposed to be injected into the application code must be kept in separate classes. The `telemetry`, `meter`, `click` fields that you have in your  `TypeInstrumentation` implementation are simply not visible from your advice class. I&#39;d advice extracting all logic to a separate helper class, and just call that class from the advice.\r\n\r\nSee https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#use-advice-classes-to-write-code-that-will-get-injected-to-the-instrumented-library-classes for a more detailed explanation on how to correctly implement an `InstrumentationModule`, `TypeInstrumentation`s and advice classes.\r\n\r\nOther than that, the `buildObserver()` and `ObservableLongMeasurement` are only supposed to be used within a `BatchCallback`. It will not register anything if you call it directly in the advice class; use `build()` and `LongCounter` instead.","title":"How to debug open telemetry java agent extension instrumentation?","body":"<p>Have you tried using the <a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/#troubleshooting\" rel=\"nofollow noreferrer\">javaagent debug mode</a>? It's very verbose, but should print some useful output.</p>\n<p>You should not put any state or dependencies into the <code>TypeInstrumentation</code> class (neither into the advice class). In the OTel javaagent, the agent code is inaccessible from the application code; all code that is supposed to be injected into the application code must be kept in separate classes. The <code>telemetry</code>, <code>meter</code>, <code>click</code> fields that you have in your  <code>TypeInstrumentation</code> implementation are simply not visible from your advice class. I'd advice extracting all logic to a separate helper class, and just call that class from the advice.</p>\n<p>See <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#use-advice-classes-to-write-code-that-will-get-injected-to-the-instrumented-library-classes\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#use-advice-classes-to-write-code-that-will-get-injected-to-the-instrumented-library-classes</a> for a more detailed explanation on how to correctly implement an <code>InstrumentationModule</code>, <code>TypeInstrumentation</code>s and advice classes.</p>\n<p>Other than that, the <code>buildObserver()</code> and <code>ObservableLongMeasurement</code> are only supposed to be used within a <code>BatchCallback</code>. It will not register anything if you call it directly in the advice class; use <code>build()</code> and <code>LongCounter</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679062050,"creation_date":1678958056,"answer_id":75754079,"question_id":74083208,"body_markdown":"You have to add `InstrumentationModule` where your `DemoHelloWorldInstrumentation` class should be mentioned:\r\n\r\n    @AutoService(InstrumentationModule.class)\r\n    public class Module extends InstrumentationModule {\r\n    \r\n        public Module() {\r\n            super(&quot;some-name&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;TypeInstrumentation&gt; typeInstrumentations() {\r\n            return List.of(\r\n                    new DemoHelloWorldInstrumentation());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to debug open telemetry java agent extension instrumentation?","body":"<p>You have to add <code>InstrumentationModule</code> where your <code>DemoHelloWorldInstrumentation</code> class should be mentioned:</p>\n<pre><code>@AutoService(InstrumentationModule.class)\npublic class Module extends InstrumentationModule {\n\n    public Module() {\n        super(&quot;some-name&quot;);\n    }\n\n    @Override\n    public List&lt;TypeInstrumentation&gt; typeInstrumentations() {\n        return List.of(\n                new DemoHelloWorldInstrumentation());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12150226,"reputation":505,"user_id":8870794,"display_name":"David Tam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74094410,"answer_count":2,"score":1,"last_activity_date":1679062050,"creation_date":1665869759,"question_id":74083208,"body_markdown":"I am trying to follow [the open telemetry auto instrumentation java agent extension][1] and I have come up with the following instrumentation code:\r\n\r\n```java\r\n/*\r\n * Copyright The OpenTelemetry Authors\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\npackage com.example.javaagent.instrumentation;\r\n\r\nimport static io.opentelemetry.api.common.AttributeKey.stringKey;\r\nimport static net.bytebuddy.matcher.ElementMatchers.namedOneOf;\r\n\r\nimport io.opentelemetry.api.GlobalOpenTelemetry;\r\nimport io.opentelemetry.api.OpenTelemetry;\r\nimport io.opentelemetry.api.common.Attributes;\r\nimport io.opentelemetry.api.metrics.Meter;\r\nimport io.opentelemetry.api.metrics.ObservableLongMeasurement;\r\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\r\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\r\nimport io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers;\r\nimport net.bytebuddy.asm.Advice;\r\nimport net.bytebuddy.description.type.TypeDescription;\r\nimport net.bytebuddy.matcher.ElementMatcher;\r\n\r\npublic class DemoHelloWorldInstrumentation implements TypeInstrumentation {\r\n\r\n  private static String CLASS_NAME = &quot;my.package.MyClass&quot;;\r\n\r\n  private static OpenTelemetry telemetry = GlobalOpenTelemetry.get();\r\n\r\n  private static Meter meter = telemetry.getMeterProvider().meterBuilder(CLASS_NAME).build();\r\n\r\n  private static ObservableLongMeasurement click =\r\n      meter\r\n          .counterBuilder(&quot;click&quot;)\r\n          .setUnit(&quot;counter&quot;)\r\n          .setDescription(&quot;Number of click&quot;)\r\n          .buildObserver();\r\n  ;\r\n\r\n  static {\r\n    meter.batchCallback(\r\n        () -&gt; {\r\n          click.record(1, Attributes.of(stringKey(&quot;none&quot;), &quot;none&quot;));\r\n        },\r\n        click);\r\n  }\r\n\r\n  @Override\r\n  public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\r\n    return AgentElementMatchers.hasSuperType(namedOneOf(CLASS_NAME));\r\n  }\r\n\r\n  @Override\r\n  public void transform(TypeTransformer typeTransformer) {\r\n    typeTransformer.applyAdviceToMethod(\r\n        namedOneOf(&quot;sayHello&quot;), this.getClass().getName() + &quot;$GreetingAdvice&quot;);\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unused&quot;)\r\n  public static class GreetingAdvice {\r\n\r\n    @Advice.OnMethodEnter(suppress = Throwable.class)\r\n    public static void onEnter(@Advice.Argument(value = 0) String name) {\r\n      System.out.println(&quot;inst name = &quot; + name);\r\n      click.record(1, Attributes.of(stringKey(&quot;name&quot;), name));\r\n    }\r\n  }\r\n}\r\n```\r\nI am expecting some metrics would be exported with name = `click` but neither the metrics get exported nor `println` output anything in stdout.  I have checked and made sure the namings are correct.  It seems to build ok inside the open telemetry extension project and I could reference it using the `-Dotel.javaagent.extensions=/path/to/my/extension.jar` to run the app , when I hit the endpoint it seems to work and other metrics are exported.  Anyone got any suggestion on how to debug this or if you know what I have done wrong pls let me know thank you!!\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md","title":"How to debug open telemetry java agent extension instrumentation?","body":"<p>I am trying to follow <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">the open telemetry auto instrumentation java agent extension</a> and I have come up with the following instrumentation code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Copyright The OpenTelemetry Authors\n * SPDX-License-Identifier: Apache-2.0\n */\n\npackage com.example.javaagent.instrumentation;\n\nimport static io.opentelemetry.api.common.AttributeKey.stringKey;\nimport static net.bytebuddy.matcher.ElementMatchers.namedOneOf;\n\nimport io.opentelemetry.api.GlobalOpenTelemetry;\nimport io.opentelemetry.api.OpenTelemetry;\nimport io.opentelemetry.api.common.Attributes;\nimport io.opentelemetry.api.metrics.Meter;\nimport io.opentelemetry.api.metrics.ObservableLongMeasurement;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\nimport io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers;\nimport net.bytebuddy.asm.Advice;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.matcher.ElementMatcher;\n\npublic class DemoHelloWorldInstrumentation implements TypeInstrumentation {\n\n  private static String CLASS_NAME = &quot;my.package.MyClass&quot;;\n\n  private static OpenTelemetry telemetry = GlobalOpenTelemetry.get();\n\n  private static Meter meter = telemetry.getMeterProvider().meterBuilder(CLASS_NAME).build();\n\n  private static ObservableLongMeasurement click =\n      meter\n          .counterBuilder(&quot;click&quot;)\n          .setUnit(&quot;counter&quot;)\n          .setDescription(&quot;Number of click&quot;)\n          .buildObserver();\n  ;\n\n  static {\n    meter.batchCallback(\n        () -&gt; {\n          click.record(1, Attributes.of(stringKey(&quot;none&quot;), &quot;none&quot;));\n        },\n        click);\n  }\n\n  @Override\n  public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\n    return AgentElementMatchers.hasSuperType(namedOneOf(CLASS_NAME));\n  }\n\n  @Override\n  public void transform(TypeTransformer typeTransformer) {\n    typeTransformer.applyAdviceToMethod(\n        namedOneOf(&quot;sayHello&quot;), this.getClass().getName() + &quot;$GreetingAdvice&quot;);\n  }\n\n  @SuppressWarnings(&quot;unused&quot;)\n  public static class GreetingAdvice {\n\n    @Advice.OnMethodEnter(suppress = Throwable.class)\n    public static void onEnter(@Advice.Argument(value = 0) String name) {\n      System.out.println(&quot;inst name = &quot; + name);\n      click.record(1, Attributes.of(stringKey(&quot;name&quot;), name));\n    }\n  }\n}\n</code></pre>\n<p>I am expecting some metrics would be exported with name = <code>click</code> but neither the metrics get exported nor <code>println</code> output anything in stdout.  I have checked and made sure the namings are correct.  It seems to build ok inside the open telemetry extension project and I could reference it using the <code>-Dotel.javaagent.extensions=/path/to/my/extension.jar</code> to run the app , when I hit the endpoint it seems to work and other metrics are exported.  Anyone got any suggestion on how to debug this or if you know what I have done wrong pls let me know thank you!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1678993612,"post_id":75760632,"comment_id":133645561,"body_markdown":"Maybe you can use `new BigInteger(payloadString, 16).toByteArray();`.","body":"Maybe you can use <code>new BigInteger(payloadString, 16).toByteArray();</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678993673,"post_id":75760632,"comment_id":133645576,"body_markdown":"but take care if the first byte is *negative*, that is, `&gt; 0x7F` when using previous solution (could be a problem - byte `0x00` added in front to get a positive number)","body":"but take care if the first byte is <i>negative</i>, that is, <code>&gt; 0x7F</code> when using previous solution (could be a problem - byte <code>0x00</code> added in front to get a positive number)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679001350,"post_id":75760632,"comment_id":133647292,"body_markdown":"`byte[] a = HexFormat.of().parseHex(s);`( &gt;= Java 17)","body":"<code>byte[] a = HexFormat.of().parseHex(s);</code>( &gt;= Java 17)"},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":2,"creation_date":1679001707,"post_id":75760632,"comment_id":133647358,"body_markdown":"See [Convert a string representation of a hex dump to a byte array using Java? - Stack Overflow](https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java).","body":"See <a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\">Convert a string representation of a hex dump to a byte array using Java? - Stack Overflow</a>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679062007,"creation_date":1679061409,"answer_id":75768447,"question_id":75760632,"body_markdown":"\r\nYou can do it as follows.\r\n```\r\nString hexString = &quot;1F8B0800000000000003E3E6CFDBA5C820CBC0C09122ECA1C8C0F281C&quot;\r\n        + &quot;DC54B2138D2CF99C9D0C87866B788E9FC37860700B43D2BB325000000&quot;;\r\n```\r\nWithout a doubt, the simplest way is to use what [g00se](https://stackoverflow.com/users/16376827/g00se) said in the comments above.\r\n```\r\nbyte[] bytes = HexFormat.of(hexString).parseHex(s);\r\n```\r\nIf you are running releases java 8 thru Java 16 the following will work.\r\n\r\n- match two characters at a time and stream the results.\r\n- convert the hex string in the capture group to a decimal byte\r\n- then collect in an `Byte` array.\r\n```\r\nByte[] bytes = Pattern.compile(&quot;(..)&quot;).matcher(hexString).results()\r\n        .map(mr -&gt; (byte)Integer.parseInt(mr.group(), 16))\r\n        .toArray(Byte[]::new);\r\n\r\n\r\n","title":"JAVA: How to convert a string like this into a byte array","body":"<p>You can do it as follows.</p>\n<pre><code>String hexString = &quot;1F8B0800000000000003E3E6CFDBA5C820CBC0C09122ECA1C8C0F281C&quot;\n        + &quot;DC54B2138D2CF99C9D0C87866B788E9FC37860700B43D2BB325000000&quot;;\n</code></pre>\n<p>Without a doubt, the simplest way is to use what <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a> said in the comments above.</p>\n<pre><code>byte[] bytes = HexFormat.of(hexString).parseHex(s);\n</code></pre>\n<p>If you are running releases java 8 thru Java 16 the following will work.</p>\n<ul>\n<li>match two characters at a time and stream the results.</li>\n<li>convert the hex string in the capture group to a decimal byte</li>\n<li>then collect in an <code>Byte</code> array.</li>\n</ul>\n<pre><code>Byte[] bytes = Pattern.compile(&quot;(..)&quot;).matcher(hexString).results()\n        .map(mr -&gt; (byte)Integer.parseInt(mr.group(), 16))\n        .toArray(Byte[]::new);\n\n\n</code></pre>\n"}],"owner":{"account_id":25498647,"reputation":31,"user_id":19292321,"display_name":"hahahaflying"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1679062007,"creation_date":1678993323,"question_id":75760632,"body_markdown":"I received a string like this: \r\n&quot;1F8B0800000000000003E3E6CFDBA5C820CBC0C09122ECA1C8C0F281CDC54B2138D2CF99C9D0C87866B788E9FC37860700B43D2BB325000000&quot;\r\n\r\nand now I want convert this string to a byte array: \r\nbyte[] payload = new byte[] {0x1F, 0x8B, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE3, 0xE6, 0xCF, 0xDB, 0xA5, 0xC8, 0x20, 0xCB, 0xC0, 0xC0, 0x91, 0x22, 0xEC, 0xA1, 0xC8, 0xC0, 0xF2, 0x81, 0xCD, 0xC5,0x4B, 0x21, 0x38, 0xD2, 0xCF, 0x99, 0xC9, 0xD0, 0xC8, 0x78, 0x66, 0xB7, 0x88, 0xE9, 0xFC, 0x37, 0x86,0x07, 0x00, 0xB4, 0x3D, 0x2B, 0xB3, 0x25, 0x00, 0x00, 0x00 };\r\n\r\nCan someone help me ?\r\n\r\nThanks\r\n\r\nbyte[] payload = new byte[] {0x1F, 0x8B, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE3, 0xE6, 0xCF, 0xDB, 0xA5, 0xC8, 0x20, 0xCB, 0xC0, 0xC0, 0x91, 0x22, 0xEC, 0xA1, 0xC8, 0xC0, 0xF2, 0x81, 0xCD, 0xC5,0x4B, 0x21, 0x38, 0xD2, 0xCF, 0x99, 0xC9, 0xD0, 0xC8, 0x78, 0x66, 0xB7, 0x88, 0xE9, 0xFC, 0x37, 0x86,0x07, 0x00, 0xB4, 0x3D, 0x2B, 0xB3, 0x25, 0x00, 0x00, 0x00 };","title":"JAVA: How to convert a string like this into a byte array","body":"<p>I received a string like this:\n&quot;1F8B0800000000000003E3E6CFDBA5C820CBC0C09122ECA1C8C0F281CDC54B2138D2CF99C9D0C87866B788E9FC37860700B43D2BB325000000&quot;</p>\n<p>and now I want convert this string to a byte array:\nbyte[] payload = new byte[] {0x1F, 0x8B, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE3, 0xE6, 0xCF, 0xDB, 0xA5, 0xC8, 0x20, 0xCB, 0xC0, 0xC0, 0x91, 0x22, 0xEC, 0xA1, 0xC8, 0xC0, 0xF2, 0x81, 0xCD, 0xC5,0x4B, 0x21, 0x38, 0xD2, 0xCF, 0x99, 0xC9, 0xD0, 0xC8, 0x78, 0x66, 0xB7, 0x88, 0xE9, 0xFC, 0x37, 0x86,0x07, 0x00, 0xB4, 0x3D, 0x2B, 0xB3, 0x25, 0x00, 0x00, 0x00 };</p>\n<p>Can someone help me ?</p>\n<p>Thanks</p>\n<p>byte[] payload = new byte[] {0x1F, 0x8B, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE3, 0xE6, 0xCF, 0xDB, 0xA5, 0xC8, 0x20, 0xCB, 0xC0, 0xC0, 0x91, 0x22, 0xEC, 0xA1, 0xC8, 0xC0, 0xF2, 0x81, 0xCD, 0xC5,0x4B, 0x21, 0x38, 0xD2, 0xCF, 0x99, 0xC9, 0xD0, 0xC8, 0x78, 0x66, 0xB7, 0x88, 0xE9, 0xFC, 0x37, 0x86,0x07, 0x00, 0xB4, 0x3D, 0x2B, 0xB3, 0x25, 0x00, 0x00, 0x00 };</p>\n"},{"tags":["java","spring","jdbctemplate","spring-transactions","batch-updates"],"comments":[{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1679063717,"post_id":75768491,"comment_id":133658784,"body_markdown":"Did you try `rollbackFor` along with `propagation` in `@ Transactional`?","body":"Did you try <code>rollbackFor</code> along with <code>propagation</code> in <code>@ Transactional</code>?"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679285537,"post_id":75768491,"comment_id":133687789,"body_markdown":"@KeshavramKuduwa yes i already tried","body":"@KeshavramKuduwa yes i already tried"}],"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679061848,"creation_date":1679061652,"question_id":75768491,"body_markdown":"I have two datasource and i am using jdbctemplate batch update to update data in a batch but i am having one issue that whenever i am getting error in one of datasource in batch update than how we can rollback that inserted data from other datasource?\r\n\r\nService.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)`\r\n    public void saveDataInBatch() {`\r\n    List&lt;List&lt;Customer&gt;&gt; mainCustomerList = getMainCustomerList();`\r\n    List&lt;List&lt;Address&gt;&gt; mainAddressList = getMainAddressList();`\r\n    \r\n        \tfor (int index = 0; index &lt; 3; index++) {\r\n        \t\tsaveData(mainCustomerList,mainAddressList,index);\r\n        \t}\r\n        }\r\n        \r\n        @Transactional(propagation = Propagation.REQUIRED)\r\n        private void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\r\n        \tcustomerRepository.saveSuccessBatch(mainCustomerList.get(index));\r\n        \taddressRepository.saveSuccessBatch(mainAddressList.get(index));\r\n        }`\r\n\r\nCustomerRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\r\n    return jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\r\n    new BatchPreparedStatementSetter() {\r\n    @Override\r\n    public void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    Customer customer = customerList.get(i);\r\n    ps.setInt(1, customer.getAge());\r\n    ps.setString(2, customer.getFirstName());\r\n    ps.setString(3, customer.getLastName());\r\n    }\r\n    \r\n        \t\t\t\t@Override\r\n        \t\t\t\tpublic int getBatchSize() {\r\n        \t\t\t\t\treturn customerList.size();\r\n        \t\t\t\t}\r\n        \t\t\t});\r\n        }\r\n\r\nAddressRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\r\n    return jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\r\n    new BatchPreparedStatementSetter() {\r\n    @Override\r\n    public void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    Address address = addressList.get(i);\r\n    ps.setString(1, address.getCity());\r\n    ps.setString(2, address.getStreet());\r\n    ps.setInt(3, address.getZipCode());\r\n    }\r\n    \r\n        \t\t@Override\r\n        \t\tpublic int getBatchSize() {\r\n        \t\t\treturn addressList.size();\r\n        \t\t}\r\n        \t\t});\r\n    }\r\n\r\nI am expecting to sync data into both the table of customer and address.","title":"How to rollback both database data when you are using Jdbc template with batch update if any error coming into one of your database execution query?","body":"<p>I have two datasource and i am using jdbctemplate batch update to update data in a batch but i am having one issue that whenever i am getting error in one of datasource in batch update than how we can rollback that inserted data from other datasource?</p>\n<p>Service.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)`\npublic void saveDataInBatch() {`\nList&lt;List&lt;Customer&gt;&gt; mainCustomerList = getMainCustomerList();`\nList&lt;List&lt;Address&gt;&gt; mainAddressList = getMainAddressList();`\n\n        for (int index = 0; index &lt; 3; index++) {\n            saveData(mainCustomerList,mainAddressList,index);\n        }\n    }\n    \n    @Transactional(propagation = Propagation.REQUIRED)\n    private void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\n        customerRepository.saveSuccessBatch(mainCustomerList.get(index));\n        addressRepository.saveSuccessBatch(mainAddressList.get(index));\n    }`\n</code></pre>\n<p>CustomerRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\nreturn jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\nnew BatchPreparedStatementSetter() {\n@Override\npublic void setValues(PreparedStatement ps, int i) throws SQLException {\nCustomer customer = customerList.get(i);\nps.setInt(1, customer.getAge());\nps.setString(2, customer.getFirstName());\nps.setString(3, customer.getLastName());\n}\n\n                    @Override\n                    public int getBatchSize() {\n                        return customerList.size();\n                    }\n                });\n    }\n</code></pre>\n<p>AddressRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\nreturn jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\nnew BatchPreparedStatementSetter() {\n@Override\npublic void setValues(PreparedStatement ps, int i) throws SQLException {\nAddress address = addressList.get(i);\nps.setString(1, address.getCity());\nps.setString(2, address.getStreet());\nps.setInt(3, address.getZipCode());\n}\n\n            @Override\n            public int getBatchSize() {\n                return addressList.size();\n            }\n            });\n}\n</code></pre>\n<p>I am expecting to sync data into both the table of customer and address.</p>\n"},{"tags":["java","docker","selenium-webdriver","docker-compose","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678995680,"post_id":75760300,"comment_id":133646050,"body_markdown":"It&#39;s important that you include enough information for people to reproduce your problem. Explaining how you start the web drivers hun and what happens there may help people answer your question.","body":"It&#39;s important that you include enough information for people to reproduce your problem. Explaining how you start the web drivers hun and what happens there may help people answer your question."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679007020,"creation_date":1679007020,"answer_id":75762307,"question_id":75760300,"body_markdown":"As you are using _`chromeOptions`_ per say [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) and [tag:google-chrome] combo presumably with the latest _**v111.x**_ binaries you have to add the following argument:\r\n\r\n\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\r\nYour effective code block will be:\r\n\r\n\tpackage remoteTesting;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.chrome.ChromeOptions;\r\n\timport org.openqa.selenium.remote.RemoteWebDriver;\r\n\timport java.net.MalformedURLException;\r\n\timport java.net.URL;\r\n\r\n\tpublic class chromeStandAloneTest {\r\n\t    public static void main(String[] args) throws MalformedURLException {\r\n\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\tchromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\tWebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options=chromeOptions);\r\n\t\tdriver.get(&quot;http://www.google.com&quot;);\r\n\t\tSystem.out.println( driver.getTitle());\r\n\t    }\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection Selenium ChromeDriver and Chrome v111](https://stackoverflow.com/a/75741758/7429447)\r\n- [Java.io.IOException: Invalid Status code=403 text=Forbidden](https://stackoverflow.com/a/75740850/7429447)","title":"Unable to get Selenium v4.8.1 tests to run in docker container","body":"<p>As you are using <em><code>chromeOptions</code></em> per say <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> and <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> combo presumably with the latest <em><strong>v111.x</strong></em> binaries you have to add the following argument:</p>\n<pre><code>options.addArguments(&quot;--remote-allow-origins=*&quot;);\n</code></pre>\n<p>Your effective code block will be:</p>\n<pre><code>package remoteTesting;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class chromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException {\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options=chromeOptions);\n    driver.get(&quot;http://www.google.com&quot;);\n    System.out.println( driver.getTitle());\n    }\n}\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/75741758/7429447\">org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection Selenium ChromeDriver and Chrome v111</a></li>\n<li><a href=\"https://stackoverflow.com/a/75740850/7429447\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a></li>\n</ul>\n"}],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679061779,"creation_date":1678991364,"question_id":75760300,"body_markdown":"I am unable to get the below selenium automation test to run inside a docker container: \r\n\r\n```\r\npackage remoteTesting;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class chromeStandAloneTest {\r\n    public static void main(String[] args) throws MalformedURLException {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), chromeOptions);\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n        System.out.println( driver.getTitle());\r\n    }\r\n}\r\n```\r\n\r\nPlease see stack trace below:\r\n```\r\n/Users/shafiqahmedkhan/Library/Java/JavaVirtualMachines/openjdk-19.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=53394:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/shafiqahmedkhan/Downloads/remoteTesting/target/test-classes:/Users/shafiqahmedkhan/Downloads/remoteTesting/target/classes:/Users/shafiqahmedkhan/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-java/4.8.1/selenium-java-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-api/4.8.1/selenium-api-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-chrome-driver/4.8.1/selenium-chrome-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/service/auto-service-annotations/1.0.1/auto-service-annotations-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/service/auto-service/1.0.1/auto-service-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/auto-common/1.2/auto-common-1.2.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/guava/31.1-jre/guava-31.1-jre.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/shafiqahmedkhan/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/errorprone/error_prone_annotations/2.11.0/error_prone_annotations-2.11.0.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-chromium-driver/4.8.1/selenium-chromium-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-json/4.8.1/selenium-json-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v108/4.8.1/selenium-devtools-v108-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v109/4.8.1/selenium-devtools-v109-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v110/4.8.1/selenium-devtools-v110-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v85/4.8.1/selenium-devtools-v85-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-edge-driver/4.8.1/selenium-edge-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-firefox-driver/4.8.1/selenium-firefox-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-http/4.8.1/selenium-http-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/dev/failsafe/failsafe/3.3.0/failsafe-3.3.0.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-ie-driver/4.8.1/selenium-ie-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-remote-driver/4.8.1/selenium-remote-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/beust/jcommander/1.82/jcommander-1.82.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-buffer/4.1.87.Final/netty-buffer-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec-http/4.1.87.Final/netty-codec-http-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec/4.1.87.Final/netty-codec-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-handler/4.1.87.Final/netty-handler-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-common/4.1.87.Final/netty-common-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-classes-epoll/4.1.87.Final/netty-transport-classes-epoll-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-classes-kqueue/4.1.87.Final/netty-transport-classes-kqueue-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-epoll/4.1.87.Final/netty-transport-native-epoll-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.87.Final/netty-transport-native-kqueue-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.87.Final/netty-transport-native-unix-common-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport/4.1.87.Final/netty-transport-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-resolver/4.1.87.Final/netty-resolver-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-api/1.22.0/opentelemetry-api-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-context/1.22.0/opentelemetry-context-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-exporter-logging/1.22.0/opentelemetry-exporter-logging-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-metrics/1.22.0/opentelemetry-sdk-metrics-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-logs/1.22.0-alpha/opentelemetry-sdk-logs-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-api-logs/1.22.0-alpha/opentelemetry-api-logs-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-common/1.22.0/opentelemetry-sdk-common-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-extension-autoconfigure-spi/1.22.0/opentelemetry-sdk-extension-autoconfigure-spi-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-extension-autoconfigure/1.22.0-alpha/opentelemetry-sdk-extension-autoconfigure-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-trace/1.22.0/opentelemetry-sdk-trace-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk/1.22.0/opentelemetry-sdk-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-semconv/1.22.0-alpha/opentelemetry-semconv-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/ous/jtoml/2.0.0/jtoml-2.0.0.jar:/Users/shafiqahmedkhan/.m2/repository/net/bytebuddy/byte-buddy/1.12.22/byte-buddy-1.12.22.jar:/Users/shafiqahmedkhan/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/asynchttpclient/async-http-client/2.12.3/async-http-client-2.12.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/asynchttpclient/async-http-client-netty-utils/2.12.3/async-http-client-netty-utils-2.12.3.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec-socks/4.1.60.Final/netty-codec-socks-4.1.60.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-handler-proxy/4.1.60.Final/netty-handler-proxy-4.1.60.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-epoll/4.1.60.Final/netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.60.Final/netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar:/Users/shafiqahmedkhan/.m2/repository/org/reactivestreams/reactive-streams/1.0.3/reactive-streams-1.0.3.jar:/Users/shafiqahmedkhan/.m2/repository/com/typesafe/netty/netty-reactive-streams/2.0.4/netty-reactive-streams-2.0.4.jar:/Users/shafiqahmedkhan/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/shafiqahmedkhan/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-manager/4.8.1/selenium-manager-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-safari-driver/4.8.1/selenium-safari-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-support/4.8.1/selenium-support-4.8.1.jar remoteTesting.chromeStandAloneTest\r\nMar 16, 2023 5:38:04 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;40eef246b475&#39;, ip: &#39;172.17.0.2&#39;\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.2.1&#39;, java.version: &#39;19.0.1&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}}]\r\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n\tat org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n\tat remoteTesting.chromeStandAloneTest.main(chromeStandAloneTest.java:11)\r\n```\r\n\r\nI have tried restarting my docker container but still not able to get this to work.","title":"Unable to get Selenium v4.8.1 tests to run in docker container","body":"<p>I am unable to get the below selenium automation test to run inside a docker container:</p>\n<pre><code>package remoteTesting;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class chromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), chromeOptions);\n        driver.get(&quot;http://www.google.com&quot;);\n        System.out.println( driver.getTitle());\n    }\n}\n</code></pre>\n<p>Please see stack trace below:</p>\n<pre><code>/Users/shafiqahmedkhan/Library/Java/JavaVirtualMachines/openjdk-19.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=53394:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/shafiqahmedkhan/Downloads/remoteTesting/target/test-classes:/Users/shafiqahmedkhan/Downloads/remoteTesting/target/classes:/Users/shafiqahmedkhan/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-java/4.8.1/selenium-java-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-api/4.8.1/selenium-api-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-chrome-driver/4.8.1/selenium-chrome-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/service/auto-service-annotations/1.0.1/auto-service-annotations-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/service/auto-service/1.0.1/auto-service-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/auto/auto-common/1.2/auto-common-1.2.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/guava/31.1-jre/guava-31.1-jre.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/shafiqahmedkhan/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/errorprone/error_prone_annotations/2.11.0/error_prone_annotations-2.11.0.jar:/Users/shafiqahmedkhan/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-chromium-driver/4.8.1/selenium-chromium-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-json/4.8.1/selenium-json-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v108/4.8.1/selenium-devtools-v108-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v109/4.8.1/selenium-devtools-v109-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v110/4.8.1/selenium-devtools-v110-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-devtools-v85/4.8.1/selenium-devtools-v85-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-edge-driver/4.8.1/selenium-edge-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-firefox-driver/4.8.1/selenium-firefox-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-http/4.8.1/selenium-http-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/dev/failsafe/failsafe/3.3.0/failsafe-3.3.0.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-ie-driver/4.8.1/selenium-ie-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-remote-driver/4.8.1/selenium-remote-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/com/beust/jcommander/1.82/jcommander-1.82.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-buffer/4.1.87.Final/netty-buffer-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec-http/4.1.87.Final/netty-codec-http-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec/4.1.87.Final/netty-codec-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-handler/4.1.87.Final/netty-handler-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-common/4.1.87.Final/netty-common-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-classes-epoll/4.1.87.Final/netty-transport-classes-epoll-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-classes-kqueue/4.1.87.Final/netty-transport-classes-kqueue-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-epoll/4.1.87.Final/netty-transport-native-epoll-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.87.Final/netty-transport-native-kqueue-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.87.Final/netty-transport-native-unix-common-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport/4.1.87.Final/netty-transport-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-resolver/4.1.87.Final/netty-resolver-4.1.87.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-api/1.22.0/opentelemetry-api-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-context/1.22.0/opentelemetry-context-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-exporter-logging/1.22.0/opentelemetry-exporter-logging-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-metrics/1.22.0/opentelemetry-sdk-metrics-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-logs/1.22.0-alpha/opentelemetry-sdk-logs-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-api-logs/1.22.0-alpha/opentelemetry-api-logs-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-common/1.22.0/opentelemetry-sdk-common-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-extension-autoconfigure-spi/1.22.0/opentelemetry-sdk-extension-autoconfigure-spi-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-extension-autoconfigure/1.22.0-alpha/opentelemetry-sdk-extension-autoconfigure-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk-trace/1.22.0/opentelemetry-sdk-trace-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-sdk/1.22.0/opentelemetry-sdk-1.22.0.jar:/Users/shafiqahmedkhan/.m2/repository/io/opentelemetry/opentelemetry-semconv/1.22.0-alpha/opentelemetry-semconv-1.22.0-alpha.jar:/Users/shafiqahmedkhan/.m2/repository/io/ous/jtoml/2.0.0/jtoml-2.0.0.jar:/Users/shafiqahmedkhan/.m2/repository/net/bytebuddy/byte-buddy/1.12.22/byte-buddy-1.12.22.jar:/Users/shafiqahmedkhan/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/asynchttpclient/async-http-client/2.12.3/async-http-client-2.12.3.jar:/Users/shafiqahmedkhan/.m2/repository/org/asynchttpclient/async-http-client-netty-utils/2.12.3/async-http-client-netty-utils-2.12.3.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-codec-socks/4.1.60.Final/netty-codec-socks-4.1.60.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-handler-proxy/4.1.60.Final/netty-handler-proxy-4.1.60.Final.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-epoll/4.1.60.Final/netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar:/Users/shafiqahmedkhan/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.60.Final/netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar:/Users/shafiqahmedkhan/.m2/repository/org/reactivestreams/reactive-streams/1.0.3/reactive-streams-1.0.3.jar:/Users/shafiqahmedkhan/.m2/repository/com/typesafe/netty/netty-reactive-streams/2.0.4/netty-reactive-streams-2.0.4.jar:/Users/shafiqahmedkhan/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/shafiqahmedkhan/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-manager/4.8.1/selenium-manager-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-safari-driver/4.8.1/selenium-safari-driver-4.8.1.jar:/Users/shafiqahmedkhan/.m2/repository/org/seleniumhq/selenium/selenium-support/4.8.1/selenium-support-4.8.1.jar remoteTesting.chromeStandAloneTest\nMar 16, 2023 5:38:04 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: '40eef246b475', ip: '172.17.0.2'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.17'\nDriver info: driver.version: unknown\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.17'\nDriver info: driver.version: unknown\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.2.1', java.version: '19.0.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}}]\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at remoteTesting.chromeStandAloneTest.main(chromeStandAloneTest.java:11)\n</code></pre>\n<p>I have tried restarting my docker container but still not able to get this to work.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":8504996,"reputation":1111,"user_id":6376877,"display_name":"Amit"},"score":0,"creation_date":1679065619,"post_id":75768110,"comment_id":133659409,"body_markdown":"if `PersonalAccount` is your Java Bean then you can try using Encoders.bean(PersonalAccount.class) instead. I am not sure why yoou have Account&lt;T&gt; in there so just a thought.","body":"if <code>PersonalAccount</code> is your Java Bean then you can try using Encoders.bean(PersonalAccount.class) instead. I am not sure why yoou have Account&lt;T&gt; in there so just a thought."}],"owner":{"account_id":6809850,"reputation":3,"user_id":5240454,"display_name":"KUMAR K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679061778,"creation_date":1679059434,"question_id":75768110,"body_markdown":"Encoders not working for generic type java bean\r\n\r\n    Class Account&lt;T&gt; {\r\n      private String name;\r\n      private T obj;\r\n    \r\n    // getters &amp; setters\r\n    \r\n    }\r\n    \r\n    Class PersonalAccount {\r\n    \r\n    }\r\n    \r\nRead parquet file from HDFS \r\n    \r\n    Dataset&lt;Row&gt; da =spark.read.parquet(“...”)\r\n    da.as(Encoders.bean(Account&lt;PeronalAccount&gt;.class) // not working \r\n\r\nAny solutions?\r\n\r\n\r\n","title":"Spark Encoders generic class","body":"<p>Encoders not working for generic type java bean</p>\n<pre><code>Class Account&lt;T&gt; {\n  private String name;\n  private T obj;\n\n// getters &amp; setters\n\n}\n\nClass PersonalAccount {\n\n}\n</code></pre>\n<p>Read parquet file from HDFS</p>\n<pre><code>Dataset&lt;Row&gt; da =spark.read.parquet(“...”)\nda.as(Encoders.bean(Account&lt;PeronalAccount&gt;.class) // not working \n</code></pre>\n<p>Any solutions?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1678977372,"post_id":75757622,"comment_id":133640564,"body_markdown":"Have you tried https://stackoverflow.com/a/52779815/1911941 this answer ?","body":"Have you tried <a href=\"https://stackoverflow.com/a/52779815/1911941\">stackoverflow.com/a/52779815/1911941</a> this answer ?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679061615,"creation_date":1679061615,"answer_id":75768483,"question_id":75757622,"body_markdown":"If you&#39;re not committing the consumed record, you&#39;d simply restart the app. However, to immediately retry the request to the final API, you must write the code to do that, for every consumed record from Kafka; Kafka Streams will only try to deliver the record to your API client once. \r\n\r\nOtherwise, you need to seek the consumer group backward, as mentioned in the comments, or use `kafka-consumer-groups --reset-offsets` CLI for **each topic** that may be part of your topology.\r\n\r\nSide note: Kafka Streams should not be used to make synchronous request/reply calls to external endpoints. Use Kafka Connect or Consumer API with tighter offset handling for this","title":"how to re-read message from apache Kafka if kafka streams application which are consuming the messages have some exception","body":"<p>If you're not committing the consumed record, you'd simply restart the app. However, to immediately retry the request to the final API, you must write the code to do that, for every consumed record from Kafka; Kafka Streams will only try to deliver the record to your API client once.</p>\n<p>Otherwise, you need to seek the consumer group backward, as mentioned in the comments, or use <code>kafka-consumer-groups --reset-offsets</code> CLI for <strong>each topic</strong> that may be part of your topology.</p>\n<p>Side note: Kafka Streams should not be used to make synchronous request/reply calls to external endpoints. Use Kafka Connect or Consumer API with tighter offset handling for this</p>\n"}],"owner":{"account_id":16068317,"reputation":79,"user_id":11597358,"display_name":"s001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679061615,"creation_date":1678976776,"question_id":75757622,"body_markdown":"I&#39;m reading messages from kafka using kafka streams for real time processing.\r\nThen, I&#39;m sending this message to other rest api(Final service), if there is an error while calculating the message in final service, it will throw an error back to main service.\r\nIn main service, now , i would like to re-read those messages after a particular interval of time or instantly on the basis of scenario.\r\n\r\nScenarios - \r\n\r\n - If final service is not working, connection timeout exception. In this case, the messages should be re-tried after a particular time interval.\r\n - If there is some technical exception, then the message should be re-processed instantly.\r\n\r\n[![Attaching the image for better clarification][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MgjoB.jpg","title":"how to re-read message from apache Kafka if kafka streams application which are consuming the messages have some exception","body":"<p>I'm reading messages from kafka using kafka streams for real time processing.\nThen, I'm sending this message to other rest api(Final service), if there is an error while calculating the message in final service, it will throw an error back to main service.\nIn main service, now , i would like to re-read those messages after a particular interval of time or instantly on the basis of scenario.</p>\n<p>Scenarios -</p>\n<ul>\n<li>If final service is not working, connection timeout exception. In this case, the messages should be re-tried after a particular time interval.</li>\n<li>If there is some technical exception, then the message should be re-processed instantly.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/MgjoB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MgjoB.jpg\" alt=\"Attaching the image for better clarification\" /></a></p>\n"},{"tags":["java","spring-data-jpa","hazelcast","spring-data-commons","spring-data-keyvalue"],"comments":[{"owner":{"account_id":5916263,"reputation":2339,"user_id":5009933,"display_name":"sahil gupta"},"score":0,"creation_date":1679467510,"post_id":75768482,"comment_id":133725381,"body_markdown":"FYI, I have raised an issue to the spring project team [here](https://github.com/spring-projects/spring-data-keyvalue/issues/488)","body":"FYI, I have raised an issue to the spring project team <a href=\"https://github.com/spring-projects/spring-data-keyvalue/issues/488\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":5916263,"reputation":2339,"user_id":5009933,"display_name":"sahil gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679061614,"creation_date":1679061614,"question_id":75768482,"body_markdown":"We have recently upgraded our application from spring boot 2.1.6.RELEASE to 2.6.14. Along with it, we also upgraded `spring-boot-starter-data-jpa` to be compliant with spring-boot which bring in upgrade of these two libraries \r\n`\r\n- **org.springframework.data:spring-data-keyvalue** from 2.1.9 to 2.6.10\r\n- **org.springframework.data:spring-data-commons** from 2.1.9 to 2.6.10\r\n`\r\n\r\nWe are creating a KeyValueRepository in an application backed by a hazelcast entity (we are using v3.12 for hazelcast)\r\n\r\n```\r\n//Creating an hazelcast entity with value as List of employees and key as a employeeId\r\n@HazelcastEntity(backingStoreMapStoreClass = EmployeeCacheLoader::class)\r\ninterface TraderRepository : KeyValueRepository&lt;List&lt;EmployeeDetails&gt;, String&gt;\r\n\r\n//EmployeeCacheLoader implementation\r\nclass TraderCacheLoader() : MapStore&lt;String, List&lt;EmployeeDetails&gt;&gt;() {\r\n\r\n  override fun load(employeeId: String): List&lt;EmployeeDetails&gt; {\r\n      //implementation to load an employee\r\n   }\r\n\r\n   override fun loadAll(requestList: Collection&lt;String&gt;): Map&lt;String, List&lt;EmployeeDetails&gt;&gt; {\r\n      //implementation to load all\r\n   }\r\n}\r\n```\r\n\r\nThis used to work correctly without any errors with spring-data-keyvalue v2.1.9 but it is not working with v2.6.10 and throwing this error,\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in com.lab49.ca.salesandtrading.cache.EmployeerRepository defined in @EnableHazelcastRepositories declared on GenericRfqApp: Invocation of init method failed; nested exception is\r\n\r\n java.lang.IllegalArgumentException: Entity must not be &#39;null&#39;.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:423)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat com.lab49.ca.ionapp.spring.ion20.ION20SpringApplicationModule$SpringApplicationService$1.onSuccess(ION20SpringApplicationModule.java:162)\r\n\tat com.lab49.ca.ionapp.spring.ion20.ION20SpringApplicationModule$SpringApplicationService$1.onSuccess(ION20SpringApplicationModule.java:127)\r\n\tat com.iontrading.isf.commons.async.impl.a$1.run(AsyncResultPromiseImpl.java:131)\r\n\tat com.iontrading.isf.executors.impl.monitoring.g.run(MonitoredRunnable.java:18)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalArgumentException: Entity must not be &#39;null&#39;.\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.data.hazelcast.repository.support.HazelcastRepositoryFactory.getEntityInformation(HazelcastRepositoryFactory.java:91)\r\n\tat org.springframework.data.keyvalue.repository.support.KeyValueRepositoryFactory.getTargetRepository(KeyValueRepositoryFactory.java:132)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:231)\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:115)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)\r\n\tat org.springframework.data.keyvalue.repository.support.KeyValueRepositoryFactoryBean.afterPropertiesSet(KeyValueRepositoryFactoryBean.java:135)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 19 more\r\n```\r\n\r\nAfter debugging it, we found that the the below code is giving as null as there is no mapping context created by **spring-data-keyvalue** for java.util.List which was not the case earlier. \r\n\r\n```\r\n//domainClass will be java.util.List\r\nPersistentEntity&lt;T, ?&gt; entity = (PersistentEntity&lt;T, ?&gt;) keyValueOperations.getMappingContext()\r\n      .getPersistentEntity(domainClass)\r\n```\r\n\r\nIs there any way to fix this after the upgrade?\r\n\r\n\r\nWe have tried debugging the old and new implementation of the **spring-data-keyvalue** libray and found that the implementation is changed for some reason. So either we donot support it now or there is a way to support it.\r\n\r\nNEW IMPLEMENTATION (v2.6.10)\r\n\r\n```\r\nFile Name: AbstractMappingContext.java\r\n\r\n//code\r\nLine 178: if (!this.shouldCreatePersistentEntityFor(type) is returing true and hence the result\r\n\r\n//In this function the java.util.list is treated as a simple type which seems wrong to me\r\nprotected boolean shouldCreatePersistentEntityFor(TypeInformation&lt;?&gt; type) {\r\n    if (this.simpleTypeHolder.isSimpleType(type.getType())) {\r\n      return false; //it reaches here\r\n    } else if (NullableWrapperConverters.supports(type.getType())) {\r\n      return false;\r\n    } else {\r\n      return !KotlinDetector.isKotlinType(type.getType()) || KotlinReflectionUtils.isSupportedKotlinClass(type.getType());\r\n    }\r\n  }\r\n```\r\n\r\nOLD IMPLEMENTATION\r\n\r\n\r\n```\r\n//This function returns true and hence there is a mapping contecxt added for that domain type\r\nprotected boolean shouldCreatePersistentEntityFor(TypeInformation&lt;?&gt; type) {\r\n    if (this.simpleTypeHolder.isSimpleType(type.getType())) {\r\n      return false;\r\n    } else {\r\n      return !org.springframework.data.util.ReflectionUtils.isKotlinClass(type.getType()) || org.springframework.data.util.ReflectionUtils.isSupportedKotlinClass(type.getType());\r\n    }\r\n  }\r\n\r\n```","title":"Hazelcast KeyValueRepository (spring-data-keyvalue) not working with list of objects as a entity","body":"<p>We have recently upgraded our application from spring boot 2.1.6.RELEASE to 2.6.14. Along with it, we also upgraded <code>spring-boot-starter-data-jpa</code> to be compliant with spring-boot which bring in upgrade of these two libraries\n`</p>\n<ul>\n<li><strong>org.springframework.data:spring-data-keyvalue</strong> from 2.1.9 to 2.6.10</li>\n<li><strong>org.springframework.data:spring-data-commons</strong> from 2.1.9 to 2.6.10\n`</li>\n</ul>\n<p>We are creating a KeyValueRepository in an application backed by a hazelcast entity (we are using v3.12 for hazelcast)</p>\n<pre><code>//Creating an hazelcast entity with value as List of employees and key as a employeeId\n@HazelcastEntity(backingStoreMapStoreClass = EmployeeCacheLoader::class)\ninterface TraderRepository : KeyValueRepository&lt;List&lt;EmployeeDetails&gt;, String&gt;\n\n//EmployeeCacheLoader implementation\nclass TraderCacheLoader() : MapStore&lt;String, List&lt;EmployeeDetails&gt;&gt;() {\n\n  override fun load(employeeId: String): List&lt;EmployeeDetails&gt; {\n      //implementation to load an employee\n   }\n\n   override fun loadAll(requestList: Collection&lt;String&gt;): Map&lt;String, List&lt;EmployeeDetails&gt;&gt; {\n      //implementation to load all\n   }\n}\n</code></pre>\n<p>This used to work correctly without any errors with spring-data-keyvalue v2.1.9 but it is not working with v2.6.10 and throwing this error,</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in com.lab49.ca.salesandtrading.cache.EmployeerRepository defined in @EnableHazelcastRepositories declared on GenericRfqApp: Invocation of init method failed; nested exception is\n\n java.lang.IllegalArgumentException: Entity must not be 'null'.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:423)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at com.lab49.ca.ionapp.spring.ion20.ION20SpringApplicationModule$SpringApplicationService$1.onSuccess(ION20SpringApplicationModule.java:162)\n    at com.lab49.ca.ionapp.spring.ion20.ION20SpringApplicationModule$SpringApplicationService$1.onSuccess(ION20SpringApplicationModule.java:127)\n    at com.iontrading.isf.commons.async.impl.a$1.run(AsyncResultPromiseImpl.java:131)\n    at com.iontrading.isf.executors.impl.monitoring.g.run(MonitoredRunnable.java:18)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: Entity must not be 'null'.\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.data.hazelcast.repository.support.HazelcastRepositoryFactory.getEntityInformation(HazelcastRepositoryFactory.java:91)\n    at org.springframework.data.keyvalue.repository.support.KeyValueRepositoryFactory.getTargetRepository(KeyValueRepositoryFactory.java:132)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:231)\n    at org.springframework.data.util.Lazy.get(Lazy.java:115)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)\n    at org.springframework.data.keyvalue.repository.support.KeyValueRepositoryFactoryBean.afterPropertiesSet(KeyValueRepositoryFactoryBean.java:135)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 19 more\n</code></pre>\n<p>After debugging it, we found that the the below code is giving as null as there is no mapping context created by <strong>spring-data-keyvalue</strong> for java.util.List which was not the case earlier.</p>\n<pre><code>//domainClass will be java.util.List\nPersistentEntity&lt;T, ?&gt; entity = (PersistentEntity&lt;T, ?&gt;) keyValueOperations.getMappingContext()\n      .getPersistentEntity(domainClass)\n</code></pre>\n<p>Is there any way to fix this after the upgrade?</p>\n<p>We have tried debugging the old and new implementation of the <strong>spring-data-keyvalue</strong> libray and found that the implementation is changed for some reason. So either we donot support it now or there is a way to support it.</p>\n<p>NEW IMPLEMENTATION (v2.6.10)</p>\n<pre><code>File Name: AbstractMappingContext.java\n\n//code\nLine 178: if (!this.shouldCreatePersistentEntityFor(type) is returing true and hence the result\n\n//In this function the java.util.list is treated as a simple type which seems wrong to me\nprotected boolean shouldCreatePersistentEntityFor(TypeInformation&lt;?&gt; type) {\n    if (this.simpleTypeHolder.isSimpleType(type.getType())) {\n      return false; //it reaches here\n    } else if (NullableWrapperConverters.supports(type.getType())) {\n      return false;\n    } else {\n      return !KotlinDetector.isKotlinType(type.getType()) || KotlinReflectionUtils.isSupportedKotlinClass(type.getType());\n    }\n  }\n</code></pre>\n<p>OLD IMPLEMENTATION</p>\n<pre><code>//This function returns true and hence there is a mapping contecxt added for that domain type\nprotected boolean shouldCreatePersistentEntityFor(TypeInformation&lt;?&gt; type) {\n    if (this.simpleTypeHolder.isSimpleType(type.getType())) {\n      return false;\n    } else {\n      return !org.springframework.data.util.ReflectionUtils.isKotlinClass(type.getType()) || org.springframework.data.util.ReflectionUtils.isSupportedKotlinClass(type.getType());\n    }\n  }\n\n</code></pre>\n"},{"tags":["java","apache-commons","apache-stringutils"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679063481,"post_id":75768021,"comment_id":133658719,"body_markdown":"Of course, you don&#39;t need a third party library to do that: `String s = stringList.stream().collect(Collectors.joining(&quot;@&quot;));`","body":"Of course, you don&#39;t need a third party library to do that: <code>String s = stringList.stream().collect(Collectors.joining(&quot;@&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2075471,"reputation":145,"user_id":1848952,"accept_rate":0,"display_name":"Ankit Wasankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679060844,"creation_date":1679060844,"answer_id":75768361,"question_id":75768021,"body_markdown":"You are using wrong order of arguments. \r\nYou will need to pass the array as a first argument and delimiter as the second argument.\r\n\r\nSome sample examples outputs are like this:\r\n``` #java\r\nStringUtils.join(null, *)                = null\r\nStringUtils.join([], *)                  = &quot;&quot;\r\nStringUtils.join([null], *)              = &quot;&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;--&quot;)  = &quot;a--b--c&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], null)  = &quot;abc&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;&quot;)    = &quot;abc&quot;\r\nStringUtils.join([null, &quot;&quot;, &quot;a&quot;], &#39;,&#39;)   = &quot;,,a&quot;\r\n```\r\n\r\nThe definition of join method is:\r\n\r\n``` #java\r\npublic static String join(final Object[] array, final String delimiter) {\r\n\tif (array == null) {\r\n\t\treturn null;\r\n\t}\r\n\treturn join(array, delimiter, 0, array.length);\r\n}\r\n```","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>You are using wrong order of arguments.\nYou will need to pass the array as a first argument and delimiter as the second argument.</p>\n<p>Some sample examples outputs are like this:</p>\n<pre><code>StringUtils.join(null, *)                = null\nStringUtils.join([], *)                  = &quot;&quot;\nStringUtils.join([null], *)              = &quot;&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;--&quot;)  = &quot;a--b--c&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], null)  = &quot;abc&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;&quot;)    = &quot;abc&quot;\nStringUtils.join([null, &quot;&quot;, &quot;a&quot;], ',')   = &quot;,,a&quot;\n</code></pre>\n<p>The definition of join method is:</p>\n<pre><code>public static String join(final Object[] array, final String delimiter) {\n    if (array == null) {\n        return null;\n    }\n    return join(array, delimiter, 0, array.length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14866488,"reputation":26,"user_id":10735435,"display_name":"Raph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679061610,"creation_date":1679061520,"answer_id":75768465,"question_id":75768021,"body_markdown":"The method itself works, you just need to put in the array first, then the delimiter. In the [documentation][1] there is an example, and when I just tried it it worked.\r\n\r\nThe following code outputs `Hello@World`, I just switched the parameters.\r\n```java\r\n    String[] inputList = new String[] { &quot;Hello&quot;, &quot;World&quot; };\r\n    String joined = StringUtils.join(inputList, &quot;@&quot;);\r\n    System.out.println(joined);\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join-java.lang.Object:A-char-","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>The method itself works, you just need to put in the array first, then the delimiter. In the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join-java.lang.Object:A-char-\" rel=\"nofollow noreferrer\">documentation</a> there is an example, and when I just tried it it worked.</p>\n<p>The following code outputs <code>Hello@World</code>, I just switched the parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String[] inputList = new String[] { &quot;Hello&quot;, &quot;World&quot; };\n    String joined = StringUtils.join(inputList, &quot;@&quot;);\n    System.out.println(joined);\n</code></pre>\n"}],"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75768465,"answer_count":2,"score":0,"last_activity_date":1679061610,"creation_date":1679058889,"question_id":75768021,"body_markdown":"Java 11 here. I am trying to use `org.apache.commons.lang3.StringUtils.join` to take a list of strings and join/concatenate them into a single string, separated by an `@` sign. If there is only one (1) string in the list, then the joins/concatenated output should be that same string, no delimiter. Hence:\r\n\r\n- If inputList string is `[ &quot;Hello&quot;, &quot;World&quot; ]`, output should be `&quot;Hello@World&quot;`\r\n- If inputList string is `[ &quot;Hello&quot; ]`, output should be `&quot;Hello&quot;`\r\n\r\nMy best attempt thus far is:\r\n```\r\nString output = StringUtils.join(&quot;@&quot;, inputList);\r\n```\r\n\r\nBut for an `inputList` of `[ &quot;Hello&quot;, &quot;World&quot; ]` this gives me output of:\r\n```\r\n@[Hello, World]\r\n```\r\n\r\nAnd for an `inputList` of `[ &quot;Hello&quot; ]`, this gives me output of:\r\n```\r\n@[Hello]\r\n```\r\n\r\nCan anyone spot where I&#39;m going awry?","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>Java 11 here. I am trying to use <code>org.apache.commons.lang3.StringUtils.join</code> to take a list of strings and join/concatenate them into a single string, separated by an <code>@</code> sign. If there is only one (1) string in the list, then the joins/concatenated output should be that same string, no delimiter. Hence:</p>\n<ul>\n<li>If inputList string is <code>[ &quot;Hello&quot;, &quot;World&quot; ]</code>, output should be <code>&quot;Hello@World&quot;</code></li>\n<li>If inputList string is <code>[ &quot;Hello&quot; ]</code>, output should be <code>&quot;Hello&quot;</code></li>\n</ul>\n<p>My best attempt thus far is:</p>\n<pre><code>String output = StringUtils.join(&quot;@&quot;, inputList);\n</code></pre>\n<p>But for an <code>inputList</code> of <code>[ &quot;Hello&quot;, &quot;World&quot; ]</code> this gives me output of:</p>\n<pre><code>@[Hello, World]\n</code></pre>\n<p>And for an <code>inputList</code> of <code>[ &quot;Hello&quot; ]</code>, this gives me output of:</p>\n<pre><code>@[Hello]\n</code></pre>\n<p>Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","export-to-csv","printwriter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679050251,"post_id":75766576,"comment_id":133655324,"body_markdown":"*String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);* Why are you collapsing all the lines into *one* line?","body":"<i>String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);</i> Why are you collapsing all the lines into <i>one</i> line?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679050891,"post_id":75766576,"comment_id":133655472,"body_markdown":"what does the file  look like when opened in a text editor like vim or possibly notepad?","body":"what does the file  look like when opened in a text editor like vim or possibly notepad?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679051011,"post_id":75766576,"comment_id":133655494,"body_markdown":"I don&#39;t use Excel proper, but you might need to tell it that it&#39;s UTF-8","body":"I don&#39;t use Excel proper, but you might need to tell it that it&#39;s UTF-8"},{"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"score":0,"creation_date":1679051690,"post_id":75766576,"comment_id":133655643,"body_markdown":"@SIMULATAN I added links to some screenshots","body":"@SIMULATAN I added links to some screenshots"},{"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"score":0,"creation_date":1679052088,"post_id":75766576,"comment_id":133655728,"body_markdown":"@g00se oops, I was supposed to delete that","body":"@g00se oops, I was supposed to delete that"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679052385,"creation_date":1679052385,"answer_id":75767053,"question_id":75766576,"body_markdown":"In the notepad++ screenshot you attached, the lines look completely fine and, in fact, have a comma separating the fields. Also, google sheets seems to work just fine as well. Therefore, it&#39;s most likely an issue with excel.\r\n\r\nAs pointed out by g00se in the comments, it looks like you have to specify the encoding.","title":"Words not separeted by commas when writing to CSV","body":"<p>In the notepad++ screenshot you attached, the lines look completely fine and, in fact, have a comma separating the fields. Also, google sheets seems to work just fine as well. Therefore, it's most likely an issue with excel.</p>\n<p>As pointed out by g00se in the comments, it looks like you have to specify the encoding.</p>\n"}],"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679061062,"creation_date":1679049299,"question_id":75766576,"body_markdown":"Code successfully writes to CSV but writes every line in one cell.\r\n\r\nFor example: \r\n```csv\r\nhămăit, hămăit, SUBST, 98226, 98226, null, ron, n\r\nhămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, n\r\n```\r\nThe example above is divided correctly into lines, but each line is just one cell, not separated by commas.\r\n\r\nThis is how the text looks before being written to the csv: \r\n\r\n```csv\r\n[hămăit, hămăit, SUBST, 98226, 98226, null, ron, {{n}}, hămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, {{n}}, ...\r\n```\r\n\r\nBelow is my code.\r\n```\r\npublic String escapeSpecialCharacters(String data) {\r\n   String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\r\n   escapedData = escapedData.replaceAll(&quot;\\\\{&quot;, &quot;&quot;);\r\n   escapedData = escapedData.replaceAll(&quot;}&quot;, &quot;&quot;);\r\n   return escapedData;\r\n}\r\n\r\npublic String convertToCSV(WordDictObj data) {\r\n   String[] strings = data.returnStringArray();\r\n   return Stream.of(strings)\r\n      .map(this::escapeSpecialCharacters)\r\n      .collect(Collectors.joining(&quot;,&quot;));\r\n}\r\n\r\npublic void givenDataArray_whenConvertToCSV_thenOutputCreated() throws IOException {\r\n   OutputStream csvOutputFile = new FileOutputStream(&quot;parseOutPut.csv&quot;);\r\n   try (PrintWriter pw = (new PrintWriter(csvOutputFile, true, StandardCharsets.UTF_8))) {\r\n      dataLines.stream()\r\n         .map(this::convertToCSV)\r\n         .forEach(pw::println);\r\n\r\n   }\r\n}\r\n\r\n```\r\n\r\nI checked and it works fine both in google sheets and when viewed inside my IDE as a CSV (and I select comma as value separator). Apparently it&#39;s just in excel that it&#39;s not working. Also in excel it doesn&#39;t display special characters.\r\n\r\nHow it looks in google sheet:\r\n![google sheet](https://i.stack.imgur.com/b5x5P.png)\r\n\r\nHow it looks in notepad++:\r\n![notepad](https://i.stack.imgur.com/5J8Kc.png)\r\n\r\nHow it looks in excel:\r\n![excel](https://i.stack.imgur.com/9mVS6.jpg)\r\n\r\n","title":"Words not separeted by commas when writing to CSV","body":"<p>Code successfully writes to CSV but writes every line in one cell.</p>\n<p>For example:</p>\n<pre><code>hămăit, hămăit, SUBST, 98226, 98226, null, ron, n\nhămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, n\n</code></pre>\n<p>The example above is divided correctly into lines, but each line is just one cell, not separated by commas.</p>\n<p>This is how the text looks before being written to the csv:</p>\n<pre><code>[hămăit, hămăit, SUBST, 98226, 98226, null, ron, {{n}}, hămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, {{n}}, ...\n</code></pre>\n<p>Below is my code.</p>\n<pre><code>public String escapeSpecialCharacters(String data) {\n   String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\n   escapedData = escapedData.replaceAll(&quot;\\\\{&quot;, &quot;&quot;);\n   escapedData = escapedData.replaceAll(&quot;}&quot;, &quot;&quot;);\n   return escapedData;\n}\n\npublic String convertToCSV(WordDictObj data) {\n   String[] strings = data.returnStringArray();\n   return Stream.of(strings)\n      .map(this::escapeSpecialCharacters)\n      .collect(Collectors.joining(&quot;,&quot;));\n}\n\npublic void givenDataArray_whenConvertToCSV_thenOutputCreated() throws IOException {\n   OutputStream csvOutputFile = new FileOutputStream(&quot;parseOutPut.csv&quot;);\n   try (PrintWriter pw = (new PrintWriter(csvOutputFile, true, StandardCharsets.UTF_8))) {\n      dataLines.stream()\n         .map(this::convertToCSV)\n         .forEach(pw::println);\n\n   }\n}\n\n</code></pre>\n<p>I checked and it works fine both in google sheets and when viewed inside my IDE as a CSV (and I select comma as value separator). Apparently it's just in excel that it's not working. Also in excel it doesn't display special characters.</p>\n<p>How it looks in google sheet:\n<img src=\"https://i.stack.imgur.com/b5x5P.png\" alt=\"google sheet\" /></p>\n<p>How it looks in notepad++:\n<img src=\"https://i.stack.imgur.com/5J8Kc.png\" alt=\"notepad\" /></p>\n<p>How it looks in excel:\n<img src=\"https://i.stack.imgur.com/9mVS6.jpg\" alt=\"excel\" /></p>\n"},{"tags":["java","apache-camel","integration-patterns"],"comments":[{"owner":{"account_id":1504315,"reputation":4786,"user_id":1408085,"accept_rate":73,"display_name":"techuser soma"},"score":1,"creation_date":1364351163,"post_id":15650037,"comment_id":22209827,"body_markdown":"There is no need to implement the Bean endpoint to define a pipe with beans. There are examples [here](http://camel.apache.org/bean.html). Let me know if you are looking for something else.","body":"There is no need to implement the Bean endpoint to define a pipe with beans. There are examples <a href=\"http://camel.apache.org/bean.html\" rel=\"nofollow noreferrer\">here</a>. Let me know if you are looking for something else."}],"answers":[{"tags":[],"owner":{"account_id":2440518,"reputation":381,"user_id":2129185,"display_name":"U2one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364361156,"creation_date":1364361156,"answer_id":15652325,"question_id":15650037,"body_markdown":"First of all, although I get where you&#39;re coming from when you say &quot;camel implements filters as endpoints&quot;, I wouldn&#39;t strictly classify them as endpoints. More like message transformer/translators in my opinion.\r\n\r\nSo, in case you need to implement a custom filter as per your requirement, use the [processor interface][1].\r\n\r\nBasically, write a class(say, CustomProcessor) that implements Camel&#39;s Processor and write your custom filter strategy. Then, call it in your route as to(&quot;CustomProcessor&quot;).\r\n\r\nThe Processor page will surely clear all your concerns, so please have a look.\r\n\r\nAlso I assume you&#39;re aware of the [camel message-filter pattern][2].\r\n\r\nThank you.\r\n\r\n  [1]: http://camel.apache.org/processor.html\r\n  [2]: http://camel.apache.org/message-filter.html","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>First of all, although I get where you're coming from when you say \"camel implements filters as endpoints\", I wouldn't strictly classify them as endpoints. More like message transformer/translators in my opinion.</p>\n\n<p>So, in case you need to implement a custom filter as per your requirement, use the <a href=\"http://camel.apache.org/processor.html\" rel=\"nofollow\">processor interface</a>.</p>\n\n<p>Basically, write a class(say, CustomProcessor) that implements Camel's Processor and write your custom filter strategy. Then, call it in your route as to(\"CustomProcessor\").</p>\n\n<p>The Processor page will surely clear all your concerns, so please have a look.</p>\n\n<p>Also I assume you're aware of the <a href=\"http://camel.apache.org/message-filter.html\" rel=\"nofollow\">camel message-filter pattern</a>.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679061046,"creation_date":1364384893,"answer_id":15658056,"question_id":15650037,"body_markdown":"The Camel EIPs is listed here, and they all have examples and whatnot\r\nhttp://camel.apache.org/eip\r\n\r\nSo for the pipes and filters you can find it on that link and see some examples\r\nhttps://camel.apache.org/components/3.20.x/eips/pipeline-eip.html\r\n\r\nAnd it seems you are new to Camel. Then I suggest to read this intro article to get your heads around Camel: http://java.dzone.com/articles/open-source-integration-apache","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>The Camel EIPs is listed here, and they all have examples and whatnot\n<a href=\"http://camel.apache.org/eip\" rel=\"nofollow noreferrer\">http://camel.apache.org/eip</a></p>\n<p>So for the pipes and filters you can find it on that link and see some examples\n<a href=\"https://camel.apache.org/components/3.20.x/eips/pipeline-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/eips/pipeline-eip.html</a></p>\n<p>And it seems you are new to Camel. Then I suggest to read this intro article to get your heads around Camel: <a href=\"http://java.dzone.com/articles/open-source-integration-apache\" rel=\"nofollow noreferrer\">http://java.dzone.com/articles/open-source-integration-apache</a></p>\n"}],"owner":{"account_id":21332,"reputation":5311,"user_id":51754,"accept_rate":76,"display_name":"Bob Rivers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679061046,"creation_date":1364344800,"question_id":15650037,"body_markdown":"I&#39;m trying to do a PoC in order to implement the [pipes and filters eip pattern][1] with [Apache Camel][2].\r\n\r\nFrom [Camel documentation][3], I&#39;m assuming that each filter must be implemented as an [Endpoint][4] (&quot;With Camel you can split your processing across multiple independent Endpoint instances which can then be chained together.&quot;)\r\n\r\nSo, if I understood correctly, the Authenticate filter (from the example) must implement the [Endpoint interface][5].\r\n\r\nThe &quot;problem&quot; is that I don&#39;t want to &quot;re-invent the wheel&quot;. So instead of implementing the interface from the scratch, I&#39;m almost sure that I can use an already implemented one. And the one is the [BeanEndpoint][6].\r\n\r\nIs that right?\r\n\r\nI found a few examples of pipes and filters patterns ([like this one][7]) but none of then show how to implement the beans.\r\n\r\nCan someone provide a bean implementation example?\r\n\r\nTIA,\r\n\r\nBob\r\n\r\n\r\n  [1]: http://www.eaipatterns.com/PipesAndFilters.html\r\n  [2]: http://camel.apache.org/\r\n  [3]: http://camel.apache.org/pipes-and-filters.html\r\n  [4]: http://camel.apache.org/endpoint.html\r\n  [5]: http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Endpoint.html\r\n  [6]: http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/component/bean/BeanEndpoint.html\r\n  [7]: http://camel.apache.org/walk-through-another-example.html","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>I'm trying to do a PoC in order to implement the <a href=\"http://www.eaipatterns.com/PipesAndFilters.html\" rel=\"nofollow\">pipes and filters eip pattern</a> with <a href=\"http://camel.apache.org/\" rel=\"nofollow\">Apache Camel</a>.</p>\n\n<p>From <a href=\"http://camel.apache.org/pipes-and-filters.html\" rel=\"nofollow\">Camel documentation</a>, I'm assuming that each filter must be implemented as an <a href=\"http://camel.apache.org/endpoint.html\" rel=\"nofollow\">Endpoint</a> (\"With Camel you can split your processing across multiple independent Endpoint instances which can then be chained together.\")</p>\n\n<p>So, if I understood correctly, the Authenticate filter (from the example) must implement the <a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Endpoint.html\" rel=\"nofollow\">Endpoint interface</a>.</p>\n\n<p>The \"problem\" is that I don't want to \"re-invent the wheel\". So instead of implementing the interface from the scratch, I'm almost sure that I can use an already implemented one. And the one is the <a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/component/bean/BeanEndpoint.html\" rel=\"nofollow\">BeanEndpoint</a>.</p>\n\n<p>Is that right?</p>\n\n<p>I found a few examples of pipes and filters patterns (<a href=\"http://camel.apache.org/walk-through-another-example.html\" rel=\"nofollow\">like this one</a>) but none of then show how to implement the beans.</p>\n\n<p>Can someone provide a bean implementation example?</p>\n\n<p>TIA,</p>\n\n<p>Bob</p>\n"},{"tags":["java","selenium-webdriver","events"],"comments":[{"owner":{"account_id":6141378,"reputation":351,"user_id":4788703,"accept_rate":67,"display_name":"cwittah"},"score":1,"creation_date":1677595575,"post_id":75593356,"comment_id":133366499,"body_markdown":"Are you closing the window manually? Try to add a close() to the end (and sleep for a bit instead of lock).","body":"Are you closing the window manually? Try to add a close() to the end (and sleep for a bit instead of lock)."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1677596080,"post_id":75593356,"comment_id":133366684,"body_markdown":"@cwittah yes, I am closing it manually. Using `WebDriver#close` *does* notify the event listener, but I&#39;m looking to be notified when the browser is manually closed. I will update my question to be more clear.","body":"@cwittah yes, I am closing it manually. Using <code>WebDriver#close</code> <i>does</i> notify the event listener, but I&#39;m looking to be notified when the browser is manually closed. I will update my question to be more clear."},{"owner":{"account_id":6141378,"reputation":351,"user_id":4788703,"accept_rate":67,"display_name":"cwittah"},"score":1,"creation_date":1677596203,"post_id":75593356,"comment_id":133366734,"body_markdown":"Have you tried catching the exception? An exception should be thrown when closing the window manually. See: https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser","body":"Have you tried catching the exception? An exception should be thrown when closing the window manually. See: <a href=\"https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\" title=\"get browser closing event in selenium web browser\">stackoverflow.com/questions/31048777/&hellip;</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677606539,"post_id":75593356,"comment_id":133369976,"body_markdown":"@cwittah That answer really isn&#39;t very good. It&#39;s catching ALL exceptions, not just the one caused when a window is closed. ElementNotFoundException? Fire up a new browser. TimeoutException? Fire up a new browser. You get the idea...","body":"@cwittah That answer really isn&#39;t very good. It&#39;s catching ALL exceptions, not just the one caused when a window is closed. ElementNotFoundException? Fire up a new browser. TimeoutException? Fire up a new browser. You get the idea..."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677602094,"creation_date":1677602094,"answer_id":75594852,"question_id":75593356,"body_markdown":"Using try-catch, something like below:\r\n\r\n````\r\ndriver.get(&quot;https://www.google.com&quot;);\r\n\t\t\r\ntry {\r\n\t   System.out.println(&quot;Browser is open : &quot; + driver.getWindowHandle());\r\n    }  catch(Exception e) {\r\n\t   System.out.println(&quot;Browser is closed&quot;);\r\n\t}\r\nThread.sleep(5000);\r\n// closed the browser manually at this stage\r\n\r\ntry {\r\n\t   System.out.println(&quot;Browser is open :&quot; + driver.getWindowHandle());\r\n\t}  catch(Exception e) {\r\n       System.out.println(&quot;Browser is closed&quot;);\r\n\t}\r\n````\r\n\r\nConsole output:\r\n\r\n````\r\nBrowser is open : CDwindow-540829C626B281B2E3F66CA5F7E169D4\r\nBrowser is closed\r\n````","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>Using try-catch, something like below:</p>\n<pre><code>driver.get(&quot;https://www.google.com&quot;);\n        \ntry {\n       System.out.println(&quot;Browser is open : &quot; + driver.getWindowHandle());\n    }  catch(Exception e) {\n       System.out.println(&quot;Browser is closed&quot;);\n    }\nThread.sleep(5000);\n// closed the browser manually at this stage\n\ntry {\n       System.out.println(&quot;Browser is open :&quot; + driver.getWindowHandle());\n    }  catch(Exception e) {\n       System.out.println(&quot;Browser is closed&quot;);\n    }\n</code></pre>\n<p>Console output:</p>\n<pre><code>Browser is open : CDwindow-540829C626B281B2E3F66CA5F7E169D4\nBrowser is closed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679056405,"creation_date":1679056405,"answer_id":75767639,"question_id":75593356,"body_markdown":"You can use a method like below , when a browser is killed unexpectedly then UnreachableBrowserException exception is thrown\r\n\r\n    public boolean isBrowserClosed(WebDriver driver)\r\n    {\r\n        boolean isClosed = false;\r\n        try {\r\n            driver.getTitle();\r\n        } catch(UnreachableBrowserException e) {\r\n            isClosed = true;\r\n        }\r\n    \r\n        return isClosed;\r\n    }","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>You can use a method like below , when a browser is killed unexpectedly then UnreachableBrowserException exception is thrown</p>\n<pre><code>public boolean isBrowserClosed(WebDriver driver)\n{\n    boolean isClosed = false;\n    try {\n        driver.getTitle();\n    } catch(UnreachableBrowserException e) {\n        isClosed = true;\n    }\n\n    return isClosed;\n}\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679060503,"creation_date":1677594379,"question_id":75593356,"body_markdown":"The title says it all. I want to listen for a window closed event on my browser in WebDriver 4.8.1. I tried looking into [`WebDriverListener`][1], but I am not having any luck. Here is my MCVE:\r\n\r\n    public class Test implements WebDriverListener {\r\n    \r\n    \tprivate Object lock = new Object();\r\n    \r\n    \tpublic Test() throws InterruptedException, MalformedURLException {\r\n    \t\tWebDriver chrome = new ChromeDriver();\r\n    \t\tEventFiringDecorator&lt;WebDriver&gt; decorator = new EventFiringDecorator&lt;WebDriver&gt;(this);\r\n    \t\tWebDriver driver = decorator.decorate(chrome);\r\n    \r\n    \t\tdriver.navigate().to(new URL(&quot;https://www.google.com/&quot;));\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlock.wait();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void beforeAnyWindowCall(Window window, Method method, Object[] args) {\r\n    \t\t// Prints: maximize null\r\n    \t\tSystem.out.println(method.getName() + &quot; &quot; + Arrays.toString(args));\r\n    \t}\r\n    \r\n    \tpublic void beforeClose(WebDriver driver) {\r\n    \t\t// Never is called\r\n    \t\tSystem.out.println(&quot;Closing&quot;);\r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlock.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException, MalformedURLException {\r\n    \t\tnew Test();\r\n            // Never is called\r\n    \t\tSystem.out.println(&quot;Closed&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nIn Swing, we have [`WindowListener#windowClosed(WindowEvent)`][2], which is fired when a window is closed. Can a similar thing be accomplished in Selenium WebDriver? To clarify, I am not looking to know when the `WebDriver` is closed, but rather when the *window* is (manually) closed. Also, I am not looking for a method which I call to determine *if* the window is closed. I want an event to fire *when* the is closed.\r\n\r\nI looked at the following questions but could not find a working answer:\r\n\r\n 1. https://stackoverflow.com/questions/47735044/how-can-i-have-selenium-chromedriver-exit-properly-upon-manually-closing-the-win\r\n 2. https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\r\n 3. https://stackoverflow.com/questions/29491334/how-to-determine-when-the-browser-is-closed\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/WindowListener.html#windowClosed-java.awt.event.WindowEvent-","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>The title says it all. I want to listen for a window closed event on my browser in WebDriver 4.8.1. I tried looking into <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html\" rel=\"nofollow noreferrer\"><code>WebDriverListener</code></a>, but I am not having any luck. Here is my MCVE:</p>\n<pre><code>public class Test implements WebDriverListener {\n\n    private Object lock = new Object();\n\n    public Test() throws InterruptedException, MalformedURLException {\n        WebDriver chrome = new ChromeDriver();\n        EventFiringDecorator&lt;WebDriver&gt; decorator = new EventFiringDecorator&lt;WebDriver&gt;(this);\n        WebDriver driver = decorator.decorate(chrome);\n\n        driver.navigate().to(new URL(&quot;https://www.google.com/&quot;));\n        driver.manage().window().maximize();\n\n        synchronized (lock) {\n            lock.wait();\n        }\n    }\n\n    public void beforeAnyWindowCall(Window window, Method method, Object[] args) {\n        // Prints: maximize null\n        System.out.println(method.getName() + &quot; &quot; + Arrays.toString(args));\n    }\n\n    public void beforeClose(WebDriver driver) {\n        // Never is called\n        System.out.println(&quot;Closing&quot;);\n        synchronized (lock) {\n            lock.notifyAll();\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException, MalformedURLException {\n        new Test();\n        // Never is called\n        System.out.println(&quot;Closed&quot;);\n    }\n\n}\n</code></pre>\n<p>In Swing, we have <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/WindowListener.html#windowClosed-java.awt.event.WindowEvent-\" rel=\"nofollow noreferrer\"><code>WindowListener#windowClosed(WindowEvent)</code></a>, which is fired when a window is closed. Can a similar thing be accomplished in Selenium WebDriver? To clarify, I am not looking to know when the <code>WebDriver</code> is closed, but rather when the <em>window</em> is (manually) closed. Also, I am not looking for a method which I call to determine <em>if</em> the window is closed. I want an event to fire <em>when</em> the is closed.</p>\n<p>I looked at the following questions but could not find a working answer:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/47735044/how-can-i-have-selenium-chromedriver-exit-properly-upon-manually-closing-the-win\">How can I have Selenium ChromeDriver exit properly upon manually closing the window?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\">Get browser closing event in selenium web browser</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29491334/how-to-determine-when-the-browser-is-closed\">How to determine when the browser is closed?</a></li>\n</ol>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460080381,"creation_date":1460080381,"answer_id":36490202,"question_id":36490166,"body_markdown":"Your two loops almost were correct.  Try using this code:\r\n\r\n    for (int i=0; i &lt; NUM_VALS; i++) {\r\n        // this if statement avoids printing a trailing space at the end.\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.print(courseGrades[i]);\r\n    }\r\n\r\n    for (int i=NUM_VALS-1; i &gt;= 0; i--) {\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n    }\r\n","title":"Printing array elements with a for loop","body":"<p>Your two loops almost were correct.  Try using this code:</p>\n\n<pre><code>for (int i=0; i &lt; NUM_VALS; i++) {\n    // this if statement avoids printing a trailing space at the end.\n    if (i &gt; 0) {\n        System.out.print(\" \");\n    }\n    System.out.print(courseGrades[i]);\n}\n\nfor (int i=NUM_VALS-1; i &gt;= 0; i--) {\n    if (i &gt; 0) {\n        System.out.print(\" \");\n    }\n    System.out.print(courseGrades[i] + \" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289173,"reputation":734,"user_id":1241610,"display_name":"Joels Elf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460080478,"creation_date":1460080478,"answer_id":36490217,"question_id":36490166,"body_markdown":"To print backwards you want:\r\n\r\n    for(i = NUM_VALS - 1; i &gt;= 0; i--) {\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n    }\r\n    // To end with a newline\r\n    System.out.println(&quot;&quot;);","title":"Printing array elements with a for loop","body":"<p>To print backwards you want:</p>\n\n<pre><code>for(i = NUM_VALS - 1; i &gt;= 0; i--) {\n    System.out.print(courseGrades[i] + \" \");\n}\n// To end with a newline\nSystem.out.println(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9562727,"reputation":41,"user_id":7102941,"display_name":"A. Nony Mous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478065833,"creation_date":1478065471,"answer_id":40373212,"question_id":36490166,"body_markdown":" This is the code to answer the question from zyBooks, 6.2.3: Printing array        elements with a for loop.\r\n\r\n     for (i = 0; i &lt; NUM_VALS; i++) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n     }\r\n     System.out.println(&quot;&quot;);\r\n\r\n     for (i = NUM_VALS - 1; i &gt;= 0; i--) {\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n     }\r\n\r\n     System.out.println(&quot;&quot;); ","title":"Printing array elements with a for loop","body":"<p>This is the code to answer the question from zyBooks, 6.2.3: Printing array        elements with a for loop.</p>\n\n<pre><code> for (i = 0; i &lt; NUM_VALS; i++) {\n     System.out.print(courseGrades[i] + \" \");\n }\n System.out.println(\"\");\n\n for (i = NUM_VALS - 1; i &gt;= 0; i--) {\n    System.out.print(courseGrades[i] + \" \");\n }\n\n System.out.println(\"\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":27221767,"reputation":1,"user_id":20750899,"display_name":"Nora Southeast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670786619,"creation_date":1670786619,"answer_id":74763796,"question_id":36490166,"body_markdown":"I also have been working on the this textbook question. The issue with the above code is that i has already been assigned, so trying using int in the for loop will cause an error. Below is the code I used to successfully achieve the desired outcome.\r\n\r\n    for ( i = 0 ; i &lt;NUM_VALS; ++i) {\r\n         if (i &gt; 0) {\r\n            System.out.print(&quot;&quot;); \r\n         }\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      for ( i = NUM_VALS -1; i &gt;=0; --i) {\r\n         if (i &gt; 0) {\r\n            System.out.print(&quot;&quot;); \r\n         }\r\n         System.out.print( courseGrades[i] + &quot; &quot;);\r\n      }\r\n         System.out.println();\r\n\r\n","title":"Printing array elements with a for loop","body":"<p>I also have been working on the this textbook question. The issue with the above code is that i has already been assigned, so trying using int in the for loop will cause an error. Below is the code I used to successfully achieve the desired outcome.</p>\n<pre><code>for ( i = 0 ; i &lt;NUM_VALS; ++i) {\n     if (i &gt; 0) {\n        System.out.print(&quot;&quot;); \n     }\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println(&quot;&quot;);\n  \n  for ( i = NUM_VALS -1; i &gt;=0; --i) {\n     if (i &gt; 0) {\n        System.out.print(&quot;&quot;); \n     }\n     System.out.print( courseGrades[i] + &quot; &quot;);\n  }\n     System.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27351939,"reputation":1,"user_id":20860973,"display_name":"Robert Heavner"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679060311,"creation_date":1679060311,"answer_id":75768268,"question_id":36490166,"body_markdown":"      for (i = 0; i &lt; courseGrades.length; ++i) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n\r\n      for (i = courseGrades.length - 1; i &gt;= 0; --i) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println();","title":"Printing array elements with a for loop","body":"<pre><code>  for (i = 0; i &lt; courseGrades.length; ++i) {\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println();\n\n  for (i = courseGrades.length - 1; i &gt;= 0; --i) {\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println();\n</code></pre>\n"}],"owner":{"account_id":8162394,"reputation":31,"user_id":6145985,"display_name":"Anne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1679060311,"creation_date":1460080185,"question_id":36490166,"body_markdown":"This is a challenge question from my online textbook I can only get the numbers to prin forward... :(\r\n\r\nWrite a for loop to print all elements in courseGrades, following each element with a space (including the last). Print forwards, then backwards. End each loop with a newline. \r\nEx: If courseGrades = {7, 9, 11, 10}, print:\r\n7 9 11 10 \r\n10 11 9 7 \r\n\r\nHint: Use two for loops. Second loop starts with i = NUM_VALS - 1. \r\n\r\n\r\nNote: These activities may test code with different test values. This activity will perform two tests, the first with a 4-element array (int courseGrades[4]), the second with a 2-element array (int courseGrades[2]). \r\n\r\n    import java.util.Scanner;\r\n\r\n     public class CourseGradePrinter {\r\n     public static void main (String [] args) {\r\n      final int NUM_VALS = 4;\r\n      int[] courseGrades = new int[NUM_VALS];\r\n      int i = 0;\r\n\r\n      courseGrades[0] = 7;\r\n      courseGrades[1] = 9;\r\n      courseGrades[2] = 11;\r\n      courseGrades[3] = 10;\r\n\r\n      /* Your solution goes here  */\r\n      \r\n      for(i=0; i&lt;NUM_VALS; i++){\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      \r\n      for(i=NUM_VALS -1; i&gt;3; i++){\r\n         System.out.print(courseGrades[i]+ &quot; &quot;);\r\n         }\r\n\r\n      return;\r\n    }\r\n    }","title":"Printing array elements with a for loop","body":"<p>This is a challenge question from my online textbook I can only get the numbers to prin forward... :(</p>\n\n<p>Write a for loop to print all elements in courseGrades, following each element with a space (including the last). Print forwards, then backwards. End each loop with a newline. \nEx: If courseGrades = {7, 9, 11, 10}, print:\n7 9 11 10 \n10 11 9 7 </p>\n\n<p>Hint: Use two for loops. Second loop starts with i = NUM_VALS - 1. </p>\n\n<p>Note: These activities may test code with different test values. This activity will perform two tests, the first with a 4-element array (int courseGrades[4]), the second with a 2-element array (int courseGrades[2]). </p>\n\n<pre><code>import java.util.Scanner;\n\n public class CourseGradePrinter {\n public static void main (String [] args) {\n  final int NUM_VALS = 4;\n  int[] courseGrades = new int[NUM_VALS];\n  int i = 0;\n\n  courseGrades[0] = 7;\n  courseGrades[1] = 9;\n  courseGrades[2] = 11;\n  courseGrades[3] = 10;\n\n  /* Your solution goes here  */\n\n  for(i=0; i&lt;NUM_VALS; i++){\n     System.out.print(courseGrades[i] + \" \");\n  }\n\n  for(i=NUM_VALS -1; i&gt;3; i++){\n     System.out.print(courseGrades[i]+ \" \");\n     }\n\n  return;\n}\n}\n</code></pre>\n"},{"tags":["java","android","android-widget"],"answers":[{"tags":[],"owner":{"account_id":261640,"reputation":35838,"user_id":545951,"accept_rate":87,"display_name":"Parag Chauhan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1375992970,"creation_date":1375992970,"answer_id":18135323,"question_id":14635013,"body_markdown":"for that you have to implement to activity\r\n\r\n    OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\r\n    OnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl\r\n\r\ncheck below working code\r\n\r\n    package com.example.demo;\r\n    import android.app.Activity;\r\n    import android.media.AudioManager;\r\n    import android.media.MediaPlayer;\r\n    import android.media.MediaPlayer.OnBufferingUpdateListener;\r\n    import android.media.MediaPlayer.OnCompletionListener;\r\n    import android.media.MediaPlayer.OnPreparedListener;\r\n    import android.media.MediaPlayer.OnVideoSizeChangedListener;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.view.MotionEvent;\r\n    import android.view.SurfaceHolder;\r\n    import android.view.SurfaceView;\r\n    import android.view.View;\r\n    import android.widget.MediaController;\r\n    import android.widget.MediaController.MediaPlayerControl;\r\n    import android.widget.ProgressBar;\r\n    \r\n    public class MainActivity extends Activity implements  OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\r\n    OnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl{\r\n    \tString url = &quot;your video url&quot;;\r\n    \tMediaPlayer mMediaPlayer ;\r\n    \tSurfaceView mSurfaceView ;\r\n    \tSurfaceHolder holder ;\r\n    \tprivate ConstantAnchorMediaController controller = null;\r\n    \tProgressBar progressBar1 ;\r\n    \tMediaController mcontroller ;\r\n    \tHandler handler ;\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\tprogressBar1 = (ProgressBar)findViewById(R.id.progressBar1);\r\n    \t\tSurfaceView v = (SurfaceView) findViewById(R.id.surface); \r\n    \t\thandler = new Handler();\r\n    \t\tholder = v.getHolder(); \r\n    \t\tholder.addCallback(this);\r\n    \t\tplayVideo();\r\n    \r\n    \t}\r\n    \tprivate void playVideo() {\r\n    \t\ttry {\r\n    \t\t\tmcontroller = new MediaController(this);\r\n    \t\t\tmMediaPlayer = MediaPlayer.create(this, Uri.parse(url));\r\n    \t\t\tmMediaPlayer.setOnBufferingUpdateListener(this);\r\n    \t\t\tmMediaPlayer.setOnCompletionListener(this);\r\n    \t\t\tmMediaPlayer.setOnPreparedListener(this);\r\n    \t\t\tmMediaPlayer.setScreenOnWhilePlaying(true);\r\n    \t\t\tmMediaPlayer.setOnVideoSizeChangedListener(this);\r\n    \t\t\tmMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean onTouchEvent(MotionEvent event) {\r\n    \t\t mcontroller.show();\r\n    \t\t return false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceCreated(SurfaceHolder arg0) {\r\n    \t\tmMediaPlayer.setDisplay(holder); \r\n    \t\ttry {\r\n    \t\t\tmMediaPlayer.start();\r\n    \t\t} catch (IllegalStateException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceDestroyed(SurfaceHolder arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onVideoSizeChanged(MediaPlayer mp, int width, int height) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onPrepared(MediaPlayer mp) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tprogressBar1.setVisibility(View.GONE);\r\n    \t\tmcontroller.setMediaPlayer(this);\r\n    \t\tmcontroller.setAnchorView(findViewById(R.id.surface));\r\n    \t\tmcontroller.setEnabled(true);\r\n    \t\t\r\n    \t\thandler.post(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tmcontroller.show();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onCompletion(MediaPlayer mp) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onBufferingUpdate(MediaPlayer mp, int percent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \tpublic void start() {\r\n    \t\tmMediaPlayer.start();\r\n    \t}\r\n    \r\n    \tpublic void pause() {\r\n    \t\tmMediaPlayer.pause();\r\n    \t}\r\n    \r\n    \tpublic int getDuration() {\r\n    \t\treturn mMediaPlayer.getDuration();\r\n    \t}\r\n    \r\n    \tpublic int getCurrentPosition() {\r\n    \t\treturn mMediaPlayer.getCurrentPosition();\r\n    \t}\r\n    \r\n    \tpublic void seekTo(int i) {\r\n    \t\tmMediaPlayer.seekTo(i);\r\n    \t}\r\n    \r\n    \tpublic boolean isPlaying() {\r\n    \t\treturn mMediaPlayer.isPlaying(); \r\n    \t}\r\n    \r\n    \tpublic int getBufferPercentage() {\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \tpublic boolean canPause() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic boolean canSeekBackward() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic boolean canSeekForward() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n","title":"Android how to use/show MediaController with SurfaceView and MediaPlayer for video?","body":"<p>for that you have to implement to activity</p>\n\n<pre><code>OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\nOnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl\n</code></pre>\n\n<p>check below working code</p>\n\n<pre><code>package com.example.demo;\nimport android.app.Activity;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.media.MediaPlayer.OnBufferingUpdateListener;\nimport android.media.MediaPlayer.OnCompletionListener;\nimport android.media.MediaPlayer.OnPreparedListener;\nimport android.media.MediaPlayer.OnVideoSizeChangedListener;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.MotionEvent;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.MediaController;\nimport android.widget.MediaController.MediaPlayerControl;\nimport android.widget.ProgressBar;\n\npublic class MainActivity extends Activity implements  OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\nOnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl{\n    String url = \"your video url\";\n    MediaPlayer mMediaPlayer ;\n    SurfaceView mSurfaceView ;\n    SurfaceHolder holder ;\n    private ConstantAnchorMediaController controller = null;\n    ProgressBar progressBar1 ;\n    MediaController mcontroller ;\n    Handler handler ;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        progressBar1 = (ProgressBar)findViewById(R.id.progressBar1);\n        SurfaceView v = (SurfaceView) findViewById(R.id.surface); \n        handler = new Handler();\n        holder = v.getHolder(); \n        holder.addCallback(this);\n        playVideo();\n\n    }\n    private void playVideo() {\n        try {\n            mcontroller = new MediaController(this);\n            mMediaPlayer = MediaPlayer.create(this, Uri.parse(url));\n            mMediaPlayer.setOnBufferingUpdateListener(this);\n            mMediaPlayer.setOnCompletionListener(this);\n            mMediaPlayer.setOnPreparedListener(this);\n            mMediaPlayer.setScreenOnWhilePlaying(true);\n            mMediaPlayer.setOnVideoSizeChangedListener(this);\n            mMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n         mcontroller.show();\n         return false;\n    }\n    @Override\n    public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void surfaceCreated(SurfaceHolder arg0) {\n        mMediaPlayer.setDisplay(holder); \n        try {\n            mMediaPlayer.start();\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public void surfaceDestroyed(SurfaceHolder arg0) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void onVideoSizeChanged(MediaPlayer mp, int width, int height) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        // TODO Auto-generated method stub\n        progressBar1.setVisibility(View.GONE);\n        mcontroller.setMediaPlayer(this);\n        mcontroller.setAnchorView(findViewById(R.id.surface));\n        mcontroller.setEnabled(true);\n\n        handler.post(new Runnable() {\n            public void run() {\n                mcontroller.show();\n            }\n        });\n    }\n\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void onBufferingUpdate(MediaPlayer mp, int percent) {\n        // TODO Auto-generated method stub\n    }\n    public void start() {\n        mMediaPlayer.start();\n    }\n\n    public void pause() {\n        mMediaPlayer.pause();\n    }\n\n    public int getDuration() {\n        return mMediaPlayer.getDuration();\n    }\n\n    public int getCurrentPosition() {\n        return mMediaPlayer.getCurrentPosition();\n    }\n\n    public void seekTo(int i) {\n        mMediaPlayer.seekTo(i);\n    }\n\n    public boolean isPlaying() {\n        return mMediaPlayer.isPlaying(); \n    }\n\n    public int getBufferPercentage() {\n        return 0;\n    }\n\n    public boolean canPause() {\n        return true;\n    }\n\n    public boolean canSeekBackward() {\n        return true;\n    }\n\n    public boolean canSeekForward() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21325,"reputation":6415,"user_id":51734,"accept_rate":71,"display_name":"Barbaros Alp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15052,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18135323,"answer_count":1,"score":8,"last_activity_date":1679060028,"creation_date":1359665877,"question_id":14635013,"body_markdown":"I have to use MediaPlayer to play a video, NOT a VideoView.\r\nI have a SurfaceView in Xml Layout and on the Activity side a MediaPlayer and a MediaController.\r\n\r\nI coudldn&#39;t find a way to use MediaController with SurfaceView and MediaPlayer. It is so easy with VideoView but cant figure out how to use with MediaPlayer.\r\n\r\nI have found examples online but they are all about playing audio, not video.\r\n\r\nThis is surfaceCreated method where i create the MediaPlayer\r\n\r\n    @Override\r\n    \tpublic void surfaceCreated(SurfaceHolder holder) {\r\n    \t\ttry {\r\n    \t\t\tmMediaPlayer = new MediaPlayer();\r\n    \t\t\tmMediaPlayer.setDisplay(mSurfaceHolder);\r\n    \t\t\tmMediaPlayer.setDataSource(this, Uri.parse(mUrl));\r\n    \t\t\tmMediaPlayer.setOnPreparedListener(this);\r\n    \t\t\tmMediaPlayer.prepare();\r\n    \t\t\tmMediaController = new MediaController(this);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLog.e(TAG, &quot;MediaPlayer Prepare: &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}\r\n\r\nand this MediaPlayer onPrepared method \r\n\r\n    @Override\r\n    \tpublic void onPrepared(MediaPlayer mp) {\r\n    \r\n    \t\tmVideoWidth = mp.getVideoWidth();\r\n    \t\tmVideoHeight = mp.getVideoHeight();\r\n    \t\tmSurfaceHolder.setFixedSize(mVideoWidth, mVideoHeight);\r\n    \t\tstartVideoPlayback();\r\n    \r\n    \t\tmMediaController.setMediaPlayer(this);\t    \t\t\r\n    \t\t\r\n    \t\thandler.post(new Runnable() {\r\n    \r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tmMediaController.setEnabled(true);\r\n    \t\t\t\tmMediaController.show();\r\n    \t\t\t}\r\n    \t\t});    \r\n    \t}\r\n\r\nThe code above doesn&#39;t show the MediaController on SurfaceView.&lt;br /&gt;\r\nHow can i achieve this?\r\n\r\nThanks in advance.","title":"Android how to use/show MediaController with SurfaceView and MediaPlayer for video?","body":"<p>I have to use MediaPlayer to play a video, NOT a VideoView.\nI have a SurfaceView in Xml Layout and on the Activity side a MediaPlayer and a MediaController.</p>\n\n<p>I coudldn't find a way to use MediaController with SurfaceView and MediaPlayer. It is so easy with VideoView but cant figure out how to use with MediaPlayer.</p>\n\n<p>I have found examples online but they are all about playing audio, not video.</p>\n\n<p>This is surfaceCreated method where i create the MediaPlayer</p>\n\n<pre><code>@Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        try {\n            mMediaPlayer = new MediaPlayer();\n            mMediaPlayer.setDisplay(mSurfaceHolder);\n            mMediaPlayer.setDataSource(this, Uri.parse(mUrl));\n            mMediaPlayer.setOnPreparedListener(this);\n            mMediaPlayer.prepare();\n            mMediaController = new MediaController(this);\n\n        } catch (Exception e) {\n            Log.e(TAG, \"MediaPlayer Prepare: \" + e.getMessage());\n        }\n    }\n</code></pre>\n\n<p>and this MediaPlayer onPrepared method </p>\n\n<pre><code>@Override\n    public void onPrepared(MediaPlayer mp) {\n\n        mVideoWidth = mp.getVideoWidth();\n        mVideoHeight = mp.getVideoHeight();\n        mSurfaceHolder.setFixedSize(mVideoWidth, mVideoHeight);\n        startVideoPlayback();\n\n        mMediaController.setMediaPlayer(this);              \n\n        handler.post(new Runnable() {\n\n            public void run() {\n                mMediaController.setEnabled(true);\n                mMediaController.show();\n            }\n        });    \n    }\n</code></pre>\n\n<p>The code above doesn't show the MediaController on SurfaceView.<br />\nHow can i achieve this?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1679046041,"post_id":75765812,"comment_id":133654210,"body_markdown":"Take a look here: https://www.baeldung.com/java-factory-pattern or https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial or https://www.baeldung.com/java-replace-if-statements","body":"Take a look here: <a href=\"https://www.baeldung.com/java-factory-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-factory-pattern</a> or <a href=\"https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a> or <a href=\"https://www.baeldung.com/java-replace-if-statements\" rel=\"nofollow noreferrer\">baeldung.com/java-replace-if-statements</a>"},{"owner":{"account_id":17396102,"reputation":73,"user_id":12605786,"display_name":"Devi"},"score":0,"creation_date":1679053224,"post_id":75765812,"comment_id":133655980,"body_markdown":"Is there any other alternative using java reflections to create mapper implementations dynamically by request type?","body":"Is there any other alternative using java reflections to create mapper implementations dynamically by request type?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1679056957,"post_id":75765812,"comment_id":133656862,"body_markdown":"You can do it with reflection. When using Spring or another DI framework you can do it without implementing reflection yourself.","body":"You can do it with reflection. When using Spring or another DI framework you can do it without implementing reflection yourself."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679047582,"creation_date":1679047582,"answer_id":75766258,"question_id":75765812,"body_markdown":"Here&#39;s one way.\r\n\r\nHave a map of type `Map&lt;String, Function&lt;InputPayLoad, Mapper&gt;&gt;` where `InputPayLoad` is the *type* passed into *createTypeRequest* methods.\r\n\r\n\r\nYou can pre-populate it for each request type with a `Function` which calls `createTypeRequest` on the appropriate RequestMapper and returns a `Mapper`.\r\n\r\n```\r\nMap&lt;String, Function&lt;InputPayload, Mapper&gt;&gt; requestTypeToMapperCreatorFunction = new HashMap&lt;&gt;();\r\nrequestTypeToMapperCreatorFunction.put(&quot;AAA&quot;, RequestMapperAAA::createTypeRequest);\r\nrequestTypeToMapperCreatorFunction.put(&quot;BBB&quot;, RequestMapperBBB::createTypeRequest);\r\nrequestTypeToMapperCreatorFunction.put(&quot;CCC&quot;, RequestMapperCCC::createTypeRequest);\r\n//...\r\n```\r\n\r\nTo build a mapper for a given requestType,\r\n```\r\nMapper mapper = requestTypeToMapperCreatorFunction.get(requestType)\r\n        .apply(inputPayload);\r\n```\r\n","title":"How to create a request mapping dynamically","body":"<p>Here's one way.</p>\n<p>Have a map of type <code>Map&lt;String, Function&lt;InputPayLoad, Mapper&gt;&gt;</code> where <code>InputPayLoad</code> is the <em>type</em> passed into <em>createTypeRequest</em> methods.</p>\n<p>You can pre-populate it for each request type with a <code>Function</code> which calls <code>createTypeRequest</code> on the appropriate RequestMapper and returns a <code>Mapper</code>.</p>\n<pre><code>Map&lt;String, Function&lt;InputPayload, Mapper&gt;&gt; requestTypeToMapperCreatorFunction = new HashMap&lt;&gt;();\nrequestTypeToMapperCreatorFunction.put(&quot;AAA&quot;, RequestMapperAAA::createTypeRequest);\nrequestTypeToMapperCreatorFunction.put(&quot;BBB&quot;, RequestMapperBBB::createTypeRequest);\nrequestTypeToMapperCreatorFunction.put(&quot;CCC&quot;, RequestMapperCCC::createTypeRequest);\n//...\n</code></pre>\n<p>To build a mapper for a given requestType,</p>\n<pre><code>Mapper mapper = requestTypeToMapperCreatorFunction.get(requestType)\n        .apply(inputPayload);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679059901,"creation_date":1679058504,"answer_id":75767970,"question_id":75765812,"body_markdown":"I will give a more detailed answer here, by responding to you question about using **reflection**. There is a good example [here][1] if you want to use **reflection**.\r\n\r\nYou don&#39;t have to implement reflection to do this. The response of @Thiyadu is good also. Instead if you want to use factory pattern with reflection, I will suggest you to use a **Dependency Injection** framework such as **Spring**. The reflection phase is already made for you by **Spring**.\r\n\r\nAn example with **Spring** will be the following:\r\n\r\n    public interface Mapper {\r\n        \r\n    }\r\n\r\n`RequestMapperAAA.java`\r\n\r\n    @Component(&quot;AAA&quot;)\r\n    public class RequestMapperAAA implements Mapper {\r\n    \r\n    }\r\n\r\n`RequestMapperBBB.java`\r\n\r\n    @Component(&quot;BBB&quot;)\r\n    public class RequestMapperBBB implements Mapper {\r\n    \r\n    }\r\n\r\n`RequestMapperCCC.java`\r\n\r\n    @Component(&quot;CCC&quot;)\r\n    public class RequestMapperCCC implements Mapper {\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    @Autowired\r\n    private Map&lt;String, Mapper&gt; requestMapper;\r\n    \r\n    public void userRequestMapper() {\r\n        Mapper requestAAA = requestMapper.get(&quot;AAA&quot;);\r\n    }\r\n\r\nThe good thing about **Spring** is that, it will automatically populate the Map for you.\r\n\r\n  [1]: https://stackoverflow.com/questions/18432127/using-reflection-in-factory-pattern","title":"How to create a request mapping dynamically","body":"<p>I will give a more detailed answer here, by responding to you question about using <strong>reflection</strong>. There is a good example <a href=\"https://stackoverflow.com/questions/18432127/using-reflection-in-factory-pattern\">here</a> if you want to use <strong>reflection</strong>.</p>\n<p>You don't have to implement reflection to do this. The response of @Thiyadu is good also. Instead if you want to use factory pattern with reflection, I will suggest you to use a <strong>Dependency Injection</strong> framework such as <strong>Spring</strong>. The reflection phase is already made for you by <strong>Spring</strong>.</p>\n<p>An example with <strong>Spring</strong> will be the following:</p>\n<pre><code>public interface Mapper {\n    \n}\n</code></pre>\n<p><code>RequestMapperAAA.java</code></p>\n<pre><code>@Component(&quot;AAA&quot;)\npublic class RequestMapperAAA implements Mapper {\n\n}\n</code></pre>\n<p><code>RequestMapperBBB.java</code></p>\n<pre><code>@Component(&quot;BBB&quot;)\npublic class RequestMapperBBB implements Mapper {\n\n}\n</code></pre>\n<p><code>RequestMapperCCC.java</code></p>\n<pre><code>@Component(&quot;CCC&quot;)\npublic class RequestMapperCCC implements Mapper {\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>@Autowired\nprivate Map&lt;String, Mapper&gt; requestMapper;\n\npublic void userRequestMapper() {\n    Mapper requestAAA = requestMapper.get(&quot;AAA&quot;);\n}\n</code></pre>\n<p>The good thing about <strong>Spring</strong> is that, it will automatically populate the Map for you.</p>\n"}],"owner":{"account_id":17396102,"reputation":73,"user_id":12605786,"display_name":"Devi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75767970,"answer_count":2,"score":0,"last_activity_date":1679059901,"creation_date":1679045238,"question_id":75765812,"body_markdown":"I need to create a mapper object based on the input type, is there a simple solution without switch case or if else conditions? Below is an example. Can you please help me to provide a simple working example for this?\r\n\r\n    Mapper mapper = null;\r\n    if(requestType==&quot;AAA&quot;){\r\n    \tmapper = RequestMapperAAA.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;BBB&quot;){\r\n    \tmapper = RequestMapperBBB.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;CCC&quot;){\r\n    \tmapper = RequestMapperCCC.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;DDD&quot;){\r\n    \tmapper = RequestMapperDDD.createTypeRequest(inputpayload);\r\n    }  so on.. upto 20 input types","title":"How to create a request mapping dynamically","body":"<p>I need to create a mapper object based on the input type, is there a simple solution without switch case or if else conditions? Below is an example. Can you please help me to provide a simple working example for this?</p>\n<pre><code>Mapper mapper = null;\nif(requestType==&quot;AAA&quot;){\n    mapper = RequestMapperAAA.createTypeRequest(inputpayload);\n} else if(requestType==&quot;BBB&quot;){\n    mapper = RequestMapperBBB.createTypeRequest(inputpayload);\n} else if(requestType==&quot;CCC&quot;){\n    mapper = RequestMapperCCC.createTypeRequest(inputpayload);\n} else if(requestType==&quot;DDD&quot;){\n    mapper = RequestMapperDDD.createTypeRequest(inputpayload);\n}  so on.. upto 20 input types\n</code></pre>\n"},{"tags":["java","postgresql","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679059558,"creation_date":1679059558,"answer_id":75768125,"question_id":75765694,"body_markdown":"I believe there&#39;s likely two ways to achieve this, both with varying levels of introduced latency, one being a filtering function prior to the sink, and the other being handled on the Postgres side as an upsert operation.\r\n\r\n#### Filtering Approach (introduces latency)\r\nThe filtering function would add considerable latency as it&#39;d have to explicitly hit the database for each record to check for its existence:\r\n\r\n```\r\nyourStream\r\n   .filter(CustomFunctionToQueryPostgres())\r\n   .sinkTo(yourPostgresSink)\r\n```\r\n\r\nWhere the `CustomFunctionToQueryPostgres()` function would contain a client that could issue the statement to Postgres, read the result, and continue to the sink (or in the cases where it exists - drop it on the floor).\r\n\r\n#### Upsert Approach (more Postgres overhead)\r\n\r\nAnother possibly more elegant approach would be to introduce an upsert procedure that could wrap your logic:\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION upsert_record(...)\r\n\r\nBEGIN        \r\n    // Handle new records\r\n    INSERT INTO records \r\n    SELECT ...\r\n    ON CONFLICT ON CONSTRAINT some_unique_constraint DO\r\n        UPDATE\r\n           // Handle existing records\r\nEND;\r\n```\r\n\r\nAnd then calling that function from your sink that handles writing to Postgres:\r\n\r\n```\r\nobject UpsertPostgresSink {\r\n    private val logger = LoggerFactory.getLogger(this::class.java)\r\n\r\n    fun build(): SinkFunction&lt;YourRecord&gt; {\r\n        val sql = &quot;SELECT upsert_record(?, ?)&quot;\r\n        val statement = { statement: PreparedStatement, record: YourRecord -&gt;\r\n            ...\r\n            statement.setObject(1, ...)\r\n            statement.setString(2, ...)\r\n        }\r\n\r\n\r\n        return JdbcSink\r\n            .sink(\r\n                sql,\r\n                statement,\r\n                JdbcExecutionOptions.builder().build(),\r\n                JdbcConnectionOptions.JdbcConnectionOptionsBuilder()\r\n                    .withDriverName(&quot;org.postgresql.Driver&quot;)\r\n                    .withUrl(yourConnectionString)\r\n                    .build(),\r\n            )\r\n    }\r\n}\r\n```\r\n\r\nAnd then just call that from your pipeline:\r\n\r\n```\r\nyourStream\r\n   .sinkTo(UpsertPostgresSink.build())\r\n```","title":"Flink Datastream check if message exists in postgresDB before sinking","body":"<p>I believe there's likely two ways to achieve this, both with varying levels of introduced latency, one being a filtering function prior to the sink, and the other being handled on the Postgres side as an upsert operation.</p>\n<h4>Filtering Approach (introduces latency)</h4>\n<p>The filtering function would add considerable latency as it'd have to explicitly hit the database for each record to check for its existence:</p>\n<pre><code>yourStream\n   .filter(CustomFunctionToQueryPostgres())\n   .sinkTo(yourPostgresSink)\n</code></pre>\n<p>Where the <code>CustomFunctionToQueryPostgres()</code> function would contain a client that could issue the statement to Postgres, read the result, and continue to the sink (or in the cases where it exists - drop it on the floor).</p>\n<h4>Upsert Approach (more Postgres overhead)</h4>\n<p>Another possibly more elegant approach would be to introduce an upsert procedure that could wrap your logic:</p>\n<pre><code>CREATE OR REPLACE FUNCTION upsert_record(...)\n\nBEGIN        \n    // Handle new records\n    INSERT INTO records \n    SELECT ...\n    ON CONFLICT ON CONSTRAINT some_unique_constraint DO\n        UPDATE\n           // Handle existing records\nEND;\n</code></pre>\n<p>And then calling that function from your sink that handles writing to Postgres:</p>\n<pre><code>object UpsertPostgresSink {\n    private val logger = LoggerFactory.getLogger(this::class.java)\n\n    fun build(): SinkFunction&lt;YourRecord&gt; {\n        val sql = &quot;SELECT upsert_record(?, ?)&quot;\n        val statement = { statement: PreparedStatement, record: YourRecord -&gt;\n            ...\n            statement.setObject(1, ...)\n            statement.setString(2, ...)\n        }\n\n\n        return JdbcSink\n            .sink(\n                sql,\n                statement,\n                JdbcExecutionOptions.builder().build(),\n                JdbcConnectionOptions.JdbcConnectionOptionsBuilder()\n                    .withDriverName(&quot;org.postgresql.Driver&quot;)\n                    .withUrl(yourConnectionString)\n                    .build(),\n            )\n    }\n}\n</code></pre>\n<p>And then just call that from your pipeline:</p>\n<pre><code>yourStream\n   .sinkTo(UpsertPostgresSink.build())\n</code></pre>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679059558,"creation_date":1679044419,"question_id":75765694,"body_markdown":"\r\nI have a flink code which uses flink datastream API to read messages from kafka and sink those to a PostgresDB.\r\n\r\nI want to sink the kafka messages to the database only if that message does not exist in the db. If the message exists, I need to update only the database column which has changed for the incoming message.\r\n\r\nAs per the documentation, the jdbc sink takes in a DML Statement.\r\n\r\nHow can I achieve the above?","title":"Flink Datastream check if message exists in postgresDB before sinking","body":"<p>I have a flink code which uses flink datastream API to read messages from kafka and sink those to a PostgresDB.</p>\n<p>I want to sink the kafka messages to the database only if that message does not exist in the db. If the message exists, I need to update only the database column which has changed for the incoming message.</p>\n<p>As per the documentation, the jdbc sink takes in a DML Statement.</p>\n<p>How can I achieve the above?</p>\n"},{"tags":["java","spring","spring-boot","maven","log4j"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674831106,"creation_date":1674829395,"answer_id":75259389,"question_id":75258289,"body_markdown":"&gt; Does anyone know which versions of the dependencies are compatible with each other?\r\n\r\nSpring-boot does. Stop forcing versions of dependencies managed by boot and you&#39;ll stop having incompatibility issues.\r\n\r\nAlso, you are changing a major version =&gt; expect breaking changes and modifications in your code.\r\n\r\nMaybe should you refer to [migration guide][1]? \r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide&amp;ved=2ahUKEwim75Tq_ef8AhWTL0QIHaT7AqgQFnoECBoQAQ&amp;usg=AOvVaw31FAaSCnKA_im-CPI3v-NY","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<blockquote>\n<p>Does anyone know which versions of the dependencies are compatible with each other?</p>\n</blockquote>\n<p>Spring-boot does. Stop forcing versions of dependencies managed by boot and you'll stop having incompatibility issues.</p>\n<p>Also, you are changing a major version =&gt; expect breaking changes and modifications in your code.</p>\n<p>Maybe should you refer to <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide&amp;ved=2ahUKEwim75Tq_ef8AhWTL0QIHaT7AqgQFnoECBoQAQ&amp;usg=AOvVaw31FAaSCnKA_im-CPI3v-NY\" rel=\"nofollow noreferrer\">migration guide</a>?</p>\n"},{"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675854453,"creation_date":1675854453,"answer_id":75384887,"question_id":75258289,"body_markdown":"Apparently, there is some kind of incompatibility with the log4j version so I had to force it to use version 2.19.0. With that, it worked.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>Apparently, there is some kind of incompatibility with the log4j version so I had to force it to use version 2.19.0. With that, it worked.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675903416,"creation_date":1675903416,"answer_id":75393123,"question_id":75258289,"body_markdown":"I would hazard a guess this is because you have a property defined like so in your original project:\r\n\r\n`&lt;log4j2.version&gt;2.18.0&lt;/log4j2.version&gt;`\r\n\r\nThis is a very normal (and important!) thing to see with Spring Boot 2.x projects because of [log4shell][1] - by default [Spring Boot 2.6.1 depends on a vulnerable version][2], so there must be some kind of property like this in the original pom that&#39;s bringing it up to 2.18.\r\n\r\n[Spring Boot 3.0.2 depends on log4j 2.19][3] which isn&#39;t vulnerable, so once again, you must have a property explicitly setting it to 2.18 for this to be an issue. Such a property isn&#39;t needed (and as you&#39;ve found, is a regression that makes it incompatible anyway.)\r\n\r\nDelete that explicit `log4j2.version` property, clean and rebuild, and you should be fine.\r\n\r\n\r\n  [1]: https://www.ncsc.gov.uk/information/log4j-vulnerability-what-everyone-needs-to-know\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/2.6.1\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/3.0.2","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>I would hazard a guess this is because you have a property defined like so in your original project:</p>\n<p><code>&lt;log4j2.version&gt;2.18.0&lt;/log4j2.version&gt;</code></p>\n<p>This is a very normal (and important!) thing to see with Spring Boot 2.x projects because of <a href=\"https://www.ncsc.gov.uk/information/log4j-vulnerability-what-everyone-needs-to-know\" rel=\"noreferrer\">log4shell</a> - by default <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/2.6.1\" rel=\"noreferrer\">Spring Boot 2.6.1 depends on a vulnerable version</a>, so there must be some kind of property like this in the original pom that's bringing it up to 2.18.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/3.0.2\" rel=\"noreferrer\">Spring Boot 3.0.2 depends on log4j 2.19</a> which isn't vulnerable, so once again, you must have a property explicitly setting it to 2.18 for this to be an issue. Such a property isn't needed (and as you've found, is a regression that makes it incompatible anyway.)</p>\n<p>Delete that explicit <code>log4j2.version</code> property, clean and rebuild, and you should be fine.</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679059515,"creation_date":1679059515,"answer_id":75768123,"question_id":75258289,"body_markdown":"### During migration to Spring Boot 3\r\n\r\nIf someone is experiencing this issue after upgrading to spring boot 3, I suggest checking whether there is an explicit log4j2 version declaration.\r\n\r\nIf there is the declaration, either remove it or check which version is compatible with your target spring boot version and use it in the declaration.\r\n\r\n*Note: You can check the compatible version in this way: remove the declaration and check which version is pulled by the target spring boot version. Then use it.*","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<h3>During migration to Spring Boot 3</h3>\n<p>If someone is experiencing this issue after upgrading to spring boot 3, I suggest checking whether there is an explicit log4j2 version declaration.</p>\n<p>If there is the declaration, either remove it or check which version is compatible with your target spring boot version and use it in the declaration.</p>\n<p><em>Note: You can check the compatible version in this way: remove the declaration and check which version is pulled by the target spring boot version. Then use it.</em></p>\n"}],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5272,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75393123,"answer_count":4,"score":4,"last_activity_date":1679059515,"creation_date":1674823507,"question_id":75258289,"body_markdown":"I&#39;m migrating a project from Spring Boot 2.6.1 to Spring Boot 3.0.2 and I&#39;m having problems with log4j dependencies versions. I have modified all the dependencies that were giving me problems but I still couldn&#39;t solve the problem. The error is as follows:\r\n\r\n``` \r\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.18.0/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\nERROR [2023-01-27 11:54:41] [ org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter report 40]  \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.initialize(Log4J2LoggingSystem.java:242)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.logging.log4j2.Log4J2LoggingSystem, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/Pablo/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.class\r\n\r\nThe called method&#39;s class, org.apache.logging.log4j.util.PropertiesUtil, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar!/org/apache/logging/log4j/util/PropertiesUtil.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.logging.log4j.util.PropertiesUtil: file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.logging.log4j2.Log4J2LoggingSystem and org.apache.logging.log4j.util.PropertiesUtil\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\nAnd the service dependencies are:\r\n\r\n```\r\n --- maven-dependency-plugin:2.8:tree (default-cli) @ core ---\r\n[INFO] es._3xs.adp:core:jar:1.0-SNAPSHOT                                                   \r\n[INFO] +- es._3xs.adp:library:jar:1.0-SNAPSHOT:compile                                     \r\n[INFO] |  +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework:spring-websocket:jar:6.0.4:compile                        \r\n[INFO] |  |  \\- org.springframework:spring-context:jar:6.0.4:compile                       \r\n[INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.0:compile\r\n[INFO] |  +- com.opencsv:opencsv:jar:5.5.2:compile\r\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |  +- org.apache.commons:commons-text:jar:1.9:compile\r\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  |  |  \\- commons-collections:commons-collections:jar:3.2.2:compile\r\n[INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n[INFO] |     \\- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\r\n[INFO] |  |  \\- org.springframework.data:spring-data-commons:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.4:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] +- redis.clients:jedis:jar:3.7.0:compile\r\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-websocket:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework:spring-messaging:jar:6.0.4:compile\r\n[INFO] +- commons-io:commons-io:jar:2.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.0.0:compile\r\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n[INFO] +- uk.org.webcompere:system-stubs-junit4:jar:1.2.0:test\r\n[INFO] |  \\- uk.org.webcompere:system-stubs-core:jar:1.2.0:test\r\n[INFO] +- com.h2database:h2:jar:1.4.200:compile\r\n[INFO] +- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\r\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n[INFO] |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n[INFO] +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.0.2:compile\r\n[INFO] |  \\- org.thymeleaf:thymeleaf-spring6:jar:3.1.1.RELEASE:compile\r\n[INFO] |     \\- org.thymeleaf:thymeleaf:jar:3.1.1.RELEASE:compile\r\n[INFO] |        +- org.attoparser:attoparser:jar:2.0.6.RELEASE:compile\r\n[INFO] |        \\- org.unbescape:unbescape:jar:1.1.6.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:4.0.1:compile\r\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:4.0.1:compile\r\n[INFO] |        +- org.springframework.hateoas:spring-hateoas:jar:2.0.1:compile\r\n[INFO] |        +- org.springframework.plugin:spring-plugin-core:jar:3.0.0:compile\r\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.3:compile\r\n[INFO] +- org.thymeleaf.extras:thymeleaf-extras-springsecurity5:jar:3.0.4.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\r\n[INFO] +- org.springframework.ldap:spring-ldap-core:jar:2.3.6.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-beans:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.4:compile\r\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.4:compile\r\n[INFO] +- com.github.wvengen:proguard-maven-plugin:jar:2.6.0:compile\r\n[INFO] |  +- org.apache.ant:ant:jar:1.10.12:compile\r\n[INFO] |  |  \\- org.apache.ant:ant-launcher:jar:1.10.12:compile\r\n[INFO] |  +- org.apache.maven:maven-archiver:jar:2.4:compile\r\n[INFO] |  |  +- org.apache.maven:maven-artifact:jar:2.0:compile\r\n[INFO] |  |  +- org.apache.maven:maven-model:jar:2.0:compile\r\n[INFO] |  |  +- org.apache.maven:maven-project:jar:2.0:compile\r\n[INFO] |  |  |  +- org.apache.maven:maven-profile:jar:2.0:compile\r\n[INFO] |  |  |  +- org.apache.maven:maven-artifact-manager:jar:2.0:compile\r\n[INFO] |  |  |  |  +- org.apache.maven:maven-repository-metadata:jar:2.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-5:compile\r\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-8:compile\r\n[INFO] |  |  |     \\- classworlds:classworlds:jar:1.1-alpha-2:compile\r\n[INFO] |  |  +- org.codehaus.plexus:plexus-archiver:jar:1.0-alpha-11:compile\r\n[INFO] |  |  |  +- org.codehaus.plexus:plexus-component-api:jar:1.0-alpha-15:compile\r\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-io:jar:1.0-alpha-3:compile\r\n[INFO] |  |  +- org.codehaus.plexus:plexus-utils:jar:1.4.9:compile\r\n[INFO] |  |  \\- org.codehaus.plexus:plexus-interpolation:jar:1.6:compile\r\n[INFO] |  \\- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\r\n[INFO] |     +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\r\n[INFO] |     |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\r\n[INFO] |     |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\r\n[INFO] |     |  \\- org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile\r\n[INFO] |     \\- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\r\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n[INFO] +- org.springframework.cloud:spring-cloud-starter-oauth2:jar:2.2.5.RELEASE:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-security:jar:2.2.5.RELEASE:compile\r\n[INFO] |  |  \\- org.springframework.cloud:spring-cloud-security:jar:2.2.5.RELEASE:compile\r\n[INFO] |  |     \\- org.springframework.boot:spring-boot-starter-security:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:jar:2.1.2.RELEASE:compile\r\n[INFO] |  |  +- org.springframework.security.oauth:spring-security-oauth2:jar:2.3.4.RELEASE:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-core:jar:6.0.1:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-config:jar:6.0.1:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-web:jar:6.0.1:compile\r\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n[INFO] |  |  |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n[INFO] |  |  \\- org.springframework.security:spring-security-jwt:jar:1.0.9.RELEASE:compile\r\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.56:compile\r\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.56:compile\r\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\r\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n[INFO] |  +- org.jvnet.staxex:stax-ex:jar:2.1.0:compile\r\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:2.1.0:compile\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n[INFO] +- com.sun.xml.bind:jaxb-core:jar:3.0.2:compile\r\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\r\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\r\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.6:compile\r\n[INFO] +- net.sourceforge.jtds:jtds:jar:1.3.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-orm:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-jul:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.18.0:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:2.6.3:compile\r\n[INFO] |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-jetty:jar:3.0.2:compile\r\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\r\n[INFO] |  +- jakarta.websocket:jakarta.websocket-api:jar:2.1.0:compile\r\n[INFO] |  +- jakarta.websocket:jakarta.websocket-client-api:jar:2.1.0:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-util:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.13:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.13:compile\r\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-server:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:11.0.13:compile\r\n[INFO] |  +- org.eclipse.jetty.websocket:websocket-jakarta-server:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-client:jar:11.0.13:compile\r\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-common:jar:11.0.13:compile\r\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-core-client:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-client:jar:11.0.13:compile\r\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-servlet:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty.websocket:websocket-core-server:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-annotations:jar:11.0.13:compile\r\n[INFO] |  |     +- org.eclipse.jetty:jetty-plus:jar:11.0.13:compile\r\n[INFO] |  |     |  \\- org.eclipse.jetty:jetty-jndi:jar:11.0.13:compile\r\n[INFO] |  |     +- org.ow2.asm:asm:jar:9.4:compile\r\n[INFO] |  |     \\- org.ow2.asm:asm-commons:jar:9.4:compile\r\n[INFO] |  |        \\- org.ow2.asm:asm-tree:jar:9.4:compile\r\n[INFO] |  \\- org.eclipse.jetty.websocket:websocket-jetty-server:jar:11.0.13:compile\r\n[INFO] |     +- org.eclipse.jetty.websocket:websocket-jetty-api:jar:11.0.13:compile\r\n[INFO] |     \\- org.eclipse.jetty.websocket:websocket-jetty-common:jar:11.0.13:compile\r\n[INFO] |        \\- org.eclipse.jetty.websocket:websocket-core-common:jar:11.0.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\r\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.3:compile\r\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\r\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:jar:3.1.0:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\r\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\r\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\r\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\r\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:3.1.0:compile\r\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.10.17:compile\r\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\r\n[INFO] |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\r\n[INFO] |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\r\n[INFO] |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\r\n[INFO] |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\r\n[INFO] |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\r\n[INFO] |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\r\n[INFO] |  |  |  |  \\- com.google.code.gson:gson:jar:2.9.1:runtime\r\n[INFO] |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\r\n[INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.18:compile\r\n[INFO] |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n[INFO] |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\r\n[INFO] |  |  |  \\- com.google.guava:guava:jar:19.0:compile\r\n[INFO] |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n[INFO] |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\r\n[INFO] |  |  +- com.google.inject:guice:jar:4.1.0:compile\r\n[INFO] |  |  |  \\- javax.inject:javax.inject:jar:1:compile\r\n[INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\r\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.10.17:compile\r\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:3.1.0:compile\r\n[INFO] |     +- org.springframework.cloud:spring-cloud-loadbalancer:jar:3.1.0:compile\r\n[INFO] |     |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n[INFO] |     |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |     |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\r\n[INFO] |     +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n[INFO] |     \\- com.stoyanr:evictor:jar:1.0.0:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:compile\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] +- org.springframework.boot:spring-boot-test:jar:3.0.2:compile\r\n[INFO] +- junit:junit:jar:4.13.1:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] +- io.micrometer:micrometer-core:jar:1.8.1:compile\r\n[INFO] |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n[INFO] |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] \\- io.micrometer:micrometer-registry-prometheus:jar:1.8.0:compile\r\n[INFO]    \\- io.prometheus:simpleclient_common:jar:0.16.0:compile\r\n[INFO]       \\- io.prometheus:simpleclient:jar:0.16.0:compile\r\n[INFO]          +- io.prometheus:simpleclient_tracer_otel:jar:0.16.0:compile\r\n[INFO]          |  \\- io.prometheus:simpleclient_tracer_common:jar:0.16.0:compile\r\n[INFO]          \\- io.prometheus:simpleclient_tracer_otel_agent:jar:0.16.0:compile\r\n[INFO]\r\n```\r\n\r\nDoes anyone know which versions of the dependencies are compatible with each other?","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>I'm migrating a project from Spring Boot 2.6.1 to Spring Boot 3.0.2 and I'm having problems with log4j dependencies versions. I have modified all the dependencies that were giving me problems but I still couldn't solve the problem. The error is as follows:</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.18.0/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\nERROR [2023-01-27 11:54:41] [ org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter report 40]  \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.initialize(Log4J2LoggingSystem.java:242)\n\nThe following method did not exist:\n\n    'void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)'\n\nThe calling method's class, org.springframework.boot.logging.log4j2.Log4J2LoggingSystem, was loaded from the following location:\n\n    jar:file:/C:/Users/Pablo/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.class\n\nThe called method's class, org.apache.logging.log4j.util.PropertiesUtil, is available from the following locations:\n\n    jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar!/org/apache/logging/log4j/util/PropertiesUtil.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.apache.logging.log4j.util.PropertiesUtil: file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.logging.log4j2.Log4J2LoggingSystem and org.apache.logging.log4j.util.PropertiesUtil\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>And the service dependencies are:</p>\n<pre><code> --- maven-dependency-plugin:2.8:tree (default-cli) @ core ---\n[INFO] es._3xs.adp:core:jar:1.0-SNAPSHOT                                                   \n[INFO] +- es._3xs.adp:library:jar:1.0-SNAPSHOT:compile                                     \n[INFO] |  +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\n[INFO] |  +- org.springframework:spring-websocket:jar:6.0.4:compile                        \n[INFO] |  |  \\- org.springframework:spring-context:jar:6.0.4:compile                       \n[INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.0:compile\n[INFO] |  +- com.opencsv:opencsv:jar:5.5.2:compile\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  |  \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n[INFO] |     \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\n[INFO] |  |  \\- org.springframework.data:spring-data-commons:jar:3.0.1:compile\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.4:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] +- redis.clients:jedis:jar:3.7.0:compile\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-websocket:jar:3.0.2:compile\n[INFO] |  \\- org.springframework:spring-messaging:jar:6.0.4:compile\n[INFO] +- commons-io:commons-io:jar:2.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.0.0:compile\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] +- uk.org.webcompere:system-stubs-junit4:jar:1.2.0:test\n[INFO] |  \\- uk.org.webcompere:system-stubs-core:jar:1.2.0:test\n[INFO] +- com.h2database:h2:jar:1.4.200:compile\n[INFO] +- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.0.2:compile\n[INFO] |  \\- org.thymeleaf:thymeleaf-spring6:jar:3.1.1.RELEASE:compile\n[INFO] |     \\- org.thymeleaf:thymeleaf:jar:3.1.1.RELEASE:compile\n[INFO] |        +- org.attoparser:attoparser:jar:2.0.6.RELEASE:compile\n[INFO] |        \\- org.unbescape:unbescape:jar:1.1.6.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:3.0.2:compile\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:4.0.1:compile\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:4.0.1:compile\n[INFO] |        +- org.springframework.hateoas:spring-hateoas:jar:2.0.1:compile\n[INFO] |        +- org.springframework.plugin:spring-plugin-core:jar:3.0.0:compile\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.3:compile\n[INFO] +- org.thymeleaf.extras:thymeleaf-extras-springsecurity5:jar:3.0.4.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\n[INFO] +- org.springframework.ldap:spring-ldap-core:jar:2.3.6.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.4:compile\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.4:compile\n[INFO] +- com.github.wvengen:proguard-maven-plugin:jar:2.6.0:compile\n[INFO] |  +- org.apache.ant:ant:jar:1.10.12:compile\n[INFO] |  |  \\- org.apache.ant:ant-launcher:jar:1.10.12:compile\n[INFO] |  +- org.apache.maven:maven-archiver:jar:2.4:compile\n[INFO] |  |  +- org.apache.maven:maven-artifact:jar:2.0:compile\n[INFO] |  |  +- org.apache.maven:maven-model:jar:2.0:compile\n[INFO] |  |  +- org.apache.maven:maven-project:jar:2.0:compile\n[INFO] |  |  |  +- org.apache.maven:maven-profile:jar:2.0:compile\n[INFO] |  |  |  +- org.apache.maven:maven-artifact-manager:jar:2.0:compile\n[INFO] |  |  |  |  +- org.apache.maven:maven-repository-metadata:jar:2.0:compile\n[INFO] |  |  |  |  \\- org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-5:compile\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-8:compile\n[INFO] |  |  |     \\- classworlds:classworlds:jar:1.1-alpha-2:compile\n[INFO] |  |  +- org.codehaus.plexus:plexus-archiver:jar:1.0-alpha-11:compile\n[INFO] |  |  |  +- org.codehaus.plexus:plexus-component-api:jar:1.0-alpha-15:compile\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-io:jar:1.0-alpha-3:compile\n[INFO] |  |  +- org.codehaus.plexus:plexus-utils:jar:1.4.9:compile\n[INFO] |  |  \\- org.codehaus.plexus:plexus-interpolation:jar:1.6:compile\n[INFO] |  \\- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\n[INFO] |     +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\n[INFO] |     |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\n[INFO] |     |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\n[INFO] |     |  \\- org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile\n[INFO] |     \\- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-oauth2:jar:2.2.5.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-security:jar:2.2.5.RELEASE:compile\n[INFO] |  |  \\- org.springframework.cloud:spring-cloud-security:jar:2.2.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework.boot:spring-boot-starter-security:jar:3.0.2:compile\n[INFO] |  +- org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:jar:2.1.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.security.oauth:spring-security-oauth2:jar:2.3.4.RELEASE:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-core:jar:6.0.1:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-config:jar:6.0.1:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-web:jar:6.0.1:compile\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |  |  |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-jwt:jar:1.0.9.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.56:compile\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.56:compile\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n[INFO] |  +- org.jvnet.staxex:stax-ex:jar:2.1.0:compile\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:2.1.0:compile\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n[INFO] +- com.sun.xml.bind:jaxb-core:jar:3.0.2:compile\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.0:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.6:compile\n[INFO] +- net.sourceforge.jtds:jtds:jar:1.3.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-orm:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-jul:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.18.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:2.6.3:compile\n[INFO] |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-jetty:jar:3.0.2:compile\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\n[INFO] |  +- jakarta.websocket:jakarta.websocket-api:jar:2.1.0:compile\n[INFO] |  +- jakarta.websocket:jakarta.websocket-client-api:jar:2.1.0:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\n[INFO] |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-util:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.13:compile\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.13:compile\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-server:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:11.0.13:compile\n[INFO] |  +- org.eclipse.jetty.websocket:websocket-jakarta-server:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-client:jar:11.0.13:compile\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-common:jar:11.0.13:compile\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-core-client:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-client:jar:11.0.13:compile\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-servlet:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty.websocket:websocket-core-server:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-annotations:jar:11.0.13:compile\n[INFO] |  |     +- org.eclipse.jetty:jetty-plus:jar:11.0.13:compile\n[INFO] |  |     |  \\- org.eclipse.jetty:jetty-jndi:jar:11.0.13:compile\n[INFO] |  |     +- org.ow2.asm:asm:jar:9.4:compile\n[INFO] |  |     \\- org.ow2.asm:asm-commons:jar:9.4:compile\n[INFO] |  |        \\- org.ow2.asm:asm-tree:jar:9.4:compile\n[INFO] |  \\- org.eclipse.jetty.websocket:websocket-jetty-server:jar:11.0.13:compile\n[INFO] |     +- org.eclipse.jetty.websocket:websocket-jetty-api:jar:11.0.13:compile\n[INFO] |     \\- org.eclipse.jetty.websocket:websocket-jetty-common:jar:11.0.13:compile\n[INFO] |        \\- org.eclipse.jetty.websocket:websocket-core-common:jar:11.0.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.3:compile\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:jar:3.1.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:3.1.0:compile\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.10.17:compile\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\n[INFO] |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\n[INFO] |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\n[INFO] |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\n[INFO] |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\n[INFO] |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\n[INFO] |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\n[INFO] |  |  |  |  \\- com.google.code.gson:gson:jar:2.9.1:runtime\n[INFO] |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\n[INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.18:compile\n[INFO] |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\n[INFO] |  |  |  \\- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |  +- com.google.inject:guice:jar:4.1.0:compile\n[INFO] |  |  |  \\- javax.inject:javax.inject:jar:1:compile\n[INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.10.17:compile\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:3.1.0:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-loadbalancer:jar:3.1.0:compile\n[INFO] |     |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] |     |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |     |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\n[INFO] |     +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |     \\- com.stoyanr:evictor:jar:1.0.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:compile\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- org.springframework.boot:spring-boot-test:jar:3.0.2:compile\n[INFO] +- junit:junit:jar:4.13.1:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] +- io.micrometer:micrometer-core:jar:1.8.1:compile\n[INFO] |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n[INFO] |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] \\- io.micrometer:micrometer-registry-prometheus:jar:1.8.0:compile\n[INFO]    \\- io.prometheus:simpleclient_common:jar:0.16.0:compile\n[INFO]       \\- io.prometheus:simpleclient:jar:0.16.0:compile\n[INFO]          +- io.prometheus:simpleclient_tracer_otel:jar:0.16.0:compile\n[INFO]          |  \\- io.prometheus:simpleclient_tracer_common:jar:0.16.0:compile\n[INFO]          \\- io.prometheus:simpleclient_tracer_otel_agent:jar:0.16.0:compile\n[INFO]\n</code></pre>\n<p>Does anyone know which versions of the dependencies are compatible with each other?</p>\n"},{"tags":["java","encryption","rsa"],"answers":[{"tags":[],"owner":{"account_id":28986,"reputation":13677,"user_id":77939,"accept_rate":89,"display_name":"mpontillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386622121,"creation_date":1386622121,"answer_id":20480468,"question_id":20480219,"body_markdown":"There isn&#39;t anything to &quot;generate&quot;.\r\n\r\nThe `(modulus, exponent)` tuple *is* is the public key.\r\n\r\nFor example, I have a certificate for one of Google&#39;s web servers, and if I run `openssl x509 -in certfile.pem -text`, this is part of the output:\r\n\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n            RSA Public Key: (1024 bit)\r\n                Modulus (1024 bit):\r\n                    00:a7:4b:85:b2:80:e5:94:03:6f:ca:4a:e5:6c:a9:\r\n                    71:80:a1:67:f7:b9:46:e8:26:b5:e9:bd:59:4f:7b:\r\n                    dd:1a:50:68:c7:3a:df:73:15:ce:a8:69:00:d4:27:\r\n                    09:a9:cd:e1:d1:6e:2d:c6:a3:e9:3b:d6:aa:94:63:\r\n                    83:1a:64:27:bf:fe:87:90:d4:e6:b8:e4:89:a8:76:\r\n                    23:15:13:e0:27:6b:38:0a:fa:1f:b1:ec:71:0a:ec:\r\n                    34:ff:0d:9c:1c:a7:d6:47:0f:ec:70:6c:2a:6b:89:\r\n                    90:f5:de:58:e9:4e:ae:4d:6f:f0:f1:ca:7d:72:c0:\r\n                    7a:79:94:28:fe:85:01:58:c9\r\n                Exponent: 65537 (0x10001)\r\n\r\nThat&#39;s it. The RSA public key is the modulus and the exponent. I think you have what you need.","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>There isn't anything to \"generate\".</p>\n\n<p>The <code>(modulus, exponent)</code> tuple <em>is</em> is the public key.</p>\n\n<p>For example, I have a certificate for one of Google's web servers, and if I run <code>openssl x509 -in certfile.pem -text</code>, this is part of the output:</p>\n\n<pre><code>    Subject Public Key Info:\n        Public Key Algorithm: rsaEncryption\n        RSA Public Key: (1024 bit)\n            Modulus (1024 bit):\n                00:a7:4b:85:b2:80:e5:94:03:6f:ca:4a:e5:6c:a9:\n                71:80:a1:67:f7:b9:46:e8:26:b5:e9:bd:59:4f:7b:\n                dd:1a:50:68:c7:3a:df:73:15:ce:a8:69:00:d4:27:\n                09:a9:cd:e1:d1:6e:2d:c6:a3:e9:3b:d6:aa:94:63:\n                83:1a:64:27:bf:fe:87:90:d4:e6:b8:e4:89:a8:76:\n                23:15:13:e0:27:6b:38:0a:fa:1f:b1:ec:71:0a:ec:\n                34:ff:0d:9c:1c:a7:d6:47:0f:ec:70:6c:2a:6b:89:\n                90:f5:de:58:e9:4e:ae:4d:6f:f0:f1:ca:7d:72:c0:\n                7a:79:94:28:fe:85:01:58:c9\n            Exponent: 65537 (0x10001)\n</code></pre>\n\n<p>That's it. The RSA public key is the modulus and the exponent. I think you have what you need.</p>\n"},{"tags":[],"owner":{"account_id":1960408,"reputation":799,"user_id":1762194,"display_name":"svckr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386622212,"creation_date":1386622212,"answer_id":20480499,"question_id":20480219,"body_markdown":"According to http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html you swapped the arguments to the `RSAPublicKeySpec` constructor: The modulus goes first, the exponent second.\r\n\r\nAlso, don&#39;t implement the Hex -&gt; `BigInteger` conversion yourself. Use `new BigInteger( hexString, 16 )` (See [this](https://stackoverflow.com/questions/4316645/java-convert-a-hex-string-to-a-bigint) answer)","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html</a> you swapped the arguments to the <code>RSAPublicKeySpec</code> constructor: The modulus goes first, the exponent second.</p>\n\n<p>Also, don't implement the Hex -> <code>BigInteger</code> conversion yourself. Use <code>new BigInteger( hexString, 16 )</code> (See <a href=\"https://stackoverflow.com/questions/4316645/java-convert-a-hex-string-to-a-bigint\">this</a> answer)</p>\n"},{"tags":[],"owner":{"account_id":10660484,"reputation":746,"user_id":7848579,"display_name":"Jirayu Kaewprateep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679059473,"creation_date":1661401240,"answer_id":73481802,"question_id":20480219,"body_markdown":"May I help? I found the example and you answers told it is about the Interface RSAPublicKey. [RSAPublicKey][1]\r\n\r\n**Codes:**\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException, InvalidKeySpecException\r\n    {\r\n        byte[]           input = new byte[] { (byte)0xbe, (byte)0xef };\r\n        Cipher\t         cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        KeyFactory       keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\r\n        SecureRandom random_1 = new SecureRandom();\r\n        KeyGenerator local_generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        local_generator.init(256, random_1);\r\n        SecretKey local_secretekey = local_generator.generateKey();\r\n        byte[] local_secrete_byte = local_secretekey.getEncoded();\r\n\r\n        StringBuilder local_target = new StringBuilder();\r\n        for ( Integer i = 0; i &lt; local_secrete_byte.length; i = i + 1)\r\n        {\r\n            local_target.append( String.valueOf( String.valueOf( local_secrete_byte[i] ) ) );\r\n            \r\n        }\r\n\r\n        String local_target_key = Byte_to_Hex(local_secrete_byte);\r\n        System.out.println(&quot;1. &quot; + local_target_key);\r\n\r\n        SecureRandom random_2 = new SecureRandom();\r\n        KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        generator.init(256, random_2);\r\n        SecretKey secrete = generator.generateKey();\r\n        byte[] secrete_byte = secrete.getEncoded();\r\n\r\n        StringBuilder target = new StringBuilder();\r\n        for ( Integer i = 0; i &lt; secrete_byte.length; i = i + 1)\r\n        {\r\n            target.append( String.valueOf( String.valueOf( secrete_byte[i] ) ) );\r\n            \r\n        }\r\n\r\n        String target_key = Byte_to_Hex(secrete_byte);\r\n        System.out.println(&quot;2. &quot; + target_key);\r\n\r\n        // create the keys\r\n        RSAPublicKeySpec thispubKeySpec = new RSAPublicKeySpec(\r\n                new BigInteger(local_target_key, 16),\r\n                new BigInteger(&quot;11&quot;, 16));\r\n\r\n        RSAPrivateKeySpec thisprivKeySpec = new RSAPrivateKeySpec(\r\n                new BigInteger(local_target_key, 16),  \r\n                new BigInteger(target_key, 16));\r\n\r\n        System.out.println( &quot;3. PubKeySpec Modulus: &quot; + String.valueOf(thispubKeySpec.getModulus() ) );\r\n        System.out.println( &quot;4. PubKeySpec PublicExponent: &quot; + String.valueOf(thispubKeySpec.getPublicExponent() ) );\r\n\r\n        System.out.println( &quot;5. PrivKeySpec Modulus: &quot; + String.valueOf(thisprivKeySpec.getModulus() ) );\r\n        System.out.println( &quot;6. PrivKeySpec PrivateExponent: &quot; + String.valueOf(thisprivKeySpec.getPrivateExponent() ) );\r\n\r\n        RSAPublicKey pubKey = (RSAPublicKey)keyFactory.generatePublic(thispubKeySpec);\r\n        RSAPrivateKey privKey = (RSAPrivateKey)keyFactory.generatePrivate(thisprivKeySpec);\r\n    }\r\n\r\n**Sample:**\r\n\r\n    1. 29ffffff88ffffffc5ffffffab532b78ffffffae2c7e655cffffffc827ffffff98ffffffa2fffffff3affffff93ffffffb6fffffff215affffffe8ffffff8dffffffe6fffffff9ffffff93ffffff84ffffff832e12\r\n    2. ffffffdf5a6fffffffb039ffffff90ffffffcd57568fffffff66efffffff8ffffffbb215c13615e29fffffff64b2ffffffbfffffffe83bffffffdd5bffffffe8ffffffde1a7f\r\n    3. PubKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\r\n    4. PubKeySpec PublicExponent: 17\r\n    5. PrivKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\r\n    6. PrivKeySpec PrivateExponent: 3773962396135053605043641120341188078791329268791861200186343972537554558744515494911672553538182853867677334755781969985158396166815578794979135230532051607332765702783\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/interfaces/RSAPublicKey.html","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>May I help? I found the example and you answers told it is about the Interface RSAPublicKey. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/interfaces/RSAPublicKey.html\" rel=\"nofollow noreferrer\">RSAPublicKey</a></p>\n<p><strong>Codes:</strong></p>\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException, InvalidKeySpecException\n{\n    byte[]           input = new byte[] { (byte)0xbe, (byte)0xef };\n    Cipher           cipher = Cipher.getInstance(&quot;RSA&quot;);\n    KeyFactory       keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\n\n    SecureRandom random_1 = new SecureRandom();\n    KeyGenerator local_generator = KeyGenerator.getInstance(&quot;AES&quot;);\n    local_generator.init(256, random_1);\n    SecretKey local_secretekey = local_generator.generateKey();\n    byte[] local_secrete_byte = local_secretekey.getEncoded();\n\n    StringBuilder local_target = new StringBuilder();\n    for ( Integer i = 0; i &lt; local_secrete_byte.length; i = i + 1)\n    {\n        local_target.append( String.valueOf( String.valueOf( local_secrete_byte[i] ) ) );\n        \n    }\n\n    String local_target_key = Byte_to_Hex(local_secrete_byte);\n    System.out.println(&quot;1. &quot; + local_target_key);\n\n    SecureRandom random_2 = new SecureRandom();\n    KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\n    generator.init(256, random_2);\n    SecretKey secrete = generator.generateKey();\n    byte[] secrete_byte = secrete.getEncoded();\n\n    StringBuilder target = new StringBuilder();\n    for ( Integer i = 0; i &lt; secrete_byte.length; i = i + 1)\n    {\n        target.append( String.valueOf( String.valueOf( secrete_byte[i] ) ) );\n        \n    }\n\n    String target_key = Byte_to_Hex(secrete_byte);\n    System.out.println(&quot;2. &quot; + target_key);\n\n    // create the keys\n    RSAPublicKeySpec thispubKeySpec = new RSAPublicKeySpec(\n            new BigInteger(local_target_key, 16),\n            new BigInteger(&quot;11&quot;, 16));\n\n    RSAPrivateKeySpec thisprivKeySpec = new RSAPrivateKeySpec(\n            new BigInteger(local_target_key, 16),  \n            new BigInteger(target_key, 16));\n\n    System.out.println( &quot;3. PubKeySpec Modulus: &quot; + String.valueOf(thispubKeySpec.getModulus() ) );\n    System.out.println( &quot;4. PubKeySpec PublicExponent: &quot; + String.valueOf(thispubKeySpec.getPublicExponent() ) );\n\n    System.out.println( &quot;5. PrivKeySpec Modulus: &quot; + String.valueOf(thisprivKeySpec.getModulus() ) );\n    System.out.println( &quot;6. PrivKeySpec PrivateExponent: &quot; + String.valueOf(thisprivKeySpec.getPrivateExponent() ) );\n\n    RSAPublicKey pubKey = (RSAPublicKey)keyFactory.generatePublic(thispubKeySpec);\n    RSAPrivateKey privKey = (RSAPrivateKey)keyFactory.generatePrivate(thisprivKeySpec);\n}\n</code></pre>\n<p><strong>Sample:</strong></p>\n<pre><code>1. 29ffffff88ffffffc5ffffffab532b78ffffffae2c7e655cffffffc827ffffff98ffffffa2fffffff3affffff93ffffffb6fffffff215affffffe8ffffff8dffffffe6fffffff9ffffff93ffffff84ffffff832e12\n2. ffffffdf5a6fffffffb039ffffff90ffffffcd57568fffffff66efffffff8ffffffbb215c13615e29fffffff64b2ffffffbfffffffe83bffffffdd5bffffffe8ffffffde1a7f\n3. PubKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\n4. PubKeySpec PublicExponent: 17\n5. PrivKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\n6. PrivKeySpec PrivateExponent: 3773962396135053605043641120341188078791329268791861200186343972537554558744515494911672553538182853867677334755781969985158396166815578794979135230532051607332765702783\n</code></pre>\n"}],"owner":{"account_id":1849228,"reputation":75,"user_id":1676151,"accept_rate":25,"display_name":"VoidWhisperer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20480499,"answer_count":3,"score":2,"last_activity_date":1679059473,"creation_date":1386621322,"question_id":20480219,"body_markdown":"I&#39;m attempting to make an application that uses a modulus and exponent to generate a public key for RSA. However, there is the issue that the modulus and exponent are both possibly hex values. This is the code that I have for generating the key, the line marked with the -&lt;--- is where the error is occuring.\r\n\r\n    RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(1,hexToByte(rsaJSON.publickey_exp)),new BigInteger(1,hexToByte(rsaJSON.publickey_mod)));\r\n\tKeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\tPublicKey pub = factory.generatePublic(spec); &lt;---\r\n\tCipher cipher = cipher = Cipher.getInstance(&quot;RSA/None/OAEPWithSHA1AndMGF1Padding&quot;, &quot;BC&quot;);\r\n\tcipher.init(Cipher.ENCRYPT_MODE, pub);\r\n    .....\r\n    String HEXES = &quot;0123456789ABCDEF&quot;;\r\n\tpublic static String byteToHex( byte [] raw ) {\r\n\t    if ( raw == null ) {\r\n\t      return null;\r\n\t    }\r\n\t    final StringBuilder hex = new StringBuilder( 2 * raw.length );\r\n\t    for ( final byte b : raw ) {\r\n\t      hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\r\n\t         .append(HEXES.charAt((b &amp; 0x0F)));\r\n\t    }\r\n\t    return hex.toString();\r\n\t}\r\n\r\n\tpublic static byte[] hexToByte( String hexString){\r\n\t    int len = hexString.length();\r\n\t    byte[] ba = new byte[len / 2];\r\n\t    for (int i = 0; i &lt; len; i += 2) {\r\n\t        ba[i/2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4) + Character.digit(hexString.charAt(i+1), 16));\r\n\t    }\r\n\t    return ba;\r\n\t}\r\n\r\nAn example modulus and exponent that would be put into this are as follows:\r\n\r\n    modulus:&quot;B31F9097CA38B4548D7300A0768F262C58D92B190355E382DACA4B79DA52226758FD8EB23CE29F404433411AC90308BEEED093BA157E03982E587496A15BB47A371C32C6B665FF75D6E900CF28CF679E871FB06FF0E90431E829DBE8EBDF7D5024A2D32F8B0D50C0D592E5D31046DE275F81B106088EBECA434493458DBF2B804BC46EC973E8F47408CC454F03F24933A5B100001B47239B44A52CF6A40670CED35060EB84BD6D0829DF8EC84EC49D784CA8583F353086071604DB2F43FA243A05F031033FFB179D8CB281A814B01F8CCC2EC29196BB136905104E23832FA923185743E18924C4E9772ED094D98643C677DE99EF1E598452728A7AC3DF5A1AB9&quot;\r\n`exponent:&quot;010001&quot;`\r\n\r\nThe stack trace, for the most part:\r\n\r\n    java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: RSA keys must be at least 512 bits long\r\n\tat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(Unknown Source)\r\n\tat java.security.KeyFactory.generatePublic(Unknown Source)\r\n        .....\r\n\r\nI&#39;m not going to pretend that I know why this error is happening because my knowledge with RSA encryption is somewhat limited. If anyone could help me figure out why this error keeps cropping up, it would be extremely helpful :)","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>I'm attempting to make an application that uses a modulus and exponent to generate a public key for RSA. However, there is the issue that the modulus and exponent are both possibly hex values. This is the code that I have for generating the key, the line marked with the -&lt;--- is where the error is occuring.</p>\n\n<pre><code>RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(1,hexToByte(rsaJSON.publickey_exp)),new BigInteger(1,hexToByte(rsaJSON.publickey_mod)));\nKeyFactory factory = KeyFactory.getInstance(\"RSA\");\nPublicKey pub = factory.generatePublic(spec); &lt;---\nCipher cipher = cipher = Cipher.getInstance(\"RSA/None/OAEPWithSHA1AndMGF1Padding\", \"BC\");\ncipher.init(Cipher.ENCRYPT_MODE, pub);\n.....\nString HEXES = \"0123456789ABCDEF\";\npublic static String byteToHex( byte [] raw ) {\n    if ( raw == null ) {\n      return null;\n    }\n    final StringBuilder hex = new StringBuilder( 2 * raw.length );\n    for ( final byte b : raw ) {\n      hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\n         .append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n\npublic static byte[] hexToByte( String hexString){\n    int len = hexString.length();\n    byte[] ba = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        ba[i/2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4) + Character.digit(hexString.charAt(i+1), 16));\n    }\n    return ba;\n}\n</code></pre>\n\n<p>An example modulus and exponent that would be put into this are as follows:</p>\n\n<pre><code>modulus:\"B31F9097CA38B4548D7300A0768F262C58D92B190355E382DACA4B79DA52226758FD8EB23CE29F404433411AC90308BEEED093BA157E03982E587496A15BB47A371C32C6B665FF75D6E900CF28CF679E871FB06FF0E90431E829DBE8EBDF7D5024A2D32F8B0D50C0D592E5D31046DE275F81B106088EBECA434493458DBF2B804BC46EC973E8F47408CC454F03F24933A5B100001B47239B44A52CF6A40670CED35060EB84BD6D0829DF8EC84EC49D784CA8583F353086071604DB2F43FA243A05F031033FFB179D8CB281A814B01F8CCC2EC29196BB136905104E23832FA923185743E18924C4E9772ED094D98643C677DE99EF1E598452728A7AC3DF5A1AB9\"\n</code></pre>\n\n<p><code>exponent:\"010001\"</code></p>\n\n<p>The stack trace, for the most part:</p>\n\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: RSA keys must be at least 512 bits long\nat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(Unknown Source)\nat java.security.KeyFactory.generatePublic(Unknown Source)\n    .....\n</code></pre>\n\n<p>I'm not going to pretend that I know why this error is happening because my knowledge with RSA encryption is somewhat limited. If anyone could help me figure out why this error keeps cropping up, it would be extremely helpful :)</p>\n"},{"tags":["python","java","android","tensorflow","dataset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653721695,"post_id":72413615,"comment_id":127924153,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10660484,"reputation":746,"user_id":7848579,"display_name":"Jirayu Kaewprateep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679059333,"creation_date":1653725850,"answer_id":72414039,"question_id":72413615,"body_markdown":"There are many ways, to predict with trainable weight, feedback, update weights or load model is possible. You may transfer learning from the current to another model.\r\n\r\nThere are many libraries including C++, C# wrapper, TFLite, TF and etc.\r\n\r\n**[ Sample ]:**\r\n\r\n    import pyaudio as pyaudio\r\n    import tensorflow as tf\r\n    \r\n    import os\r\n    from os.path import exists\r\n    \r\n    import matplotlib.pyplot as plt\r\n    import matplotlib.animation as animation\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    [PhysicalDevice(name=&#39;/physical_device:GPU:0&#39;, device_type=&#39;GPU&#39;)]\r\n    None\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    physical_devices = tf.config.experimental.list_physical_devices(&#39;GPU&#39;)\r\n    assert len(physical_devices) &gt; 0, &quot;Not enough GPU hardware devices available&quot;\r\n    config = tf.config.experimental.set_memory_growth(physical_devices[0], True)\r\n    print(physical_devices)\r\n    print(config)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    Variables\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    b_training = True\r\n    n_steps = 0\r\n    \r\n    image = [ ]\r\n    list_image = [ ]\r\n    list_label = [ ]\r\n    \r\n    for i in range(80):\r\n    \tlist_image.append(tf.zeros([ 5, 80 ]).numpy())\r\n    \tlist_label.append(0)\r\n    \r\n    FORMAT = pyaudio.paInt16\r\n    CHANNELS = 1\r\n    RATE = 8000\r\n    CHUNK = 1024\r\n    RECORD_SECONDS = 1\r\n    LONG_STEPS = 100000000000\r\n    \r\n    data_1 = tf.zeros([512, 1]).numpy()\r\n    data_2 = tf.zeros([512, 1]).numpy()\r\n    data_3 = tf.zeros([512, 1]).numpy()\r\n    data_4 = tf.zeros([512, 1]).numpy()\r\n    data_frames = [ data_1, data_2, data_3, data_4 ]\r\n    \r\n    checkpoint_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\TF_DataSets_01.h5&quot;\r\n    checkpoint_dir = os.path.dirname(checkpoint_path)\r\n    loggings = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\loggings.log&quot;\r\n    \r\n    checkpoint_clusters_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\TF_Cluster_DataSets_01.h5&quot;\r\n    checkpoint_clusters_dir = os.path.dirname(checkpoint_clusters_path)\r\n    \r\n    if not exists(checkpoint_dir) : \r\n    \tos.mkdir(checkpoint_dir)\r\n    \tprint(&quot;Create directory: &quot; + checkpoint_dir)\r\n    \t\r\n    if not exists(checkpoint_clusters_dir) : \r\n    \tos.mkdir(checkpoint_clusters_dir)\r\n    \tprint(&quot;Create directory: &quot; + checkpoint_clusters_dir)\r\n    \t\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    Functions\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    def animate( i ):\r\n    \tglobal CHUNK\r\n    \tglobal RATE\r\n    \tglobal n_steps\r\n    \tglobal data_frames\r\n    \t\r\n    \tdata = stream.read( CHUNK )\r\n    \taudio_data = tf.io.decode_raw(tf.constant( data ), tf.int32)\r\n    \taudio_data = tf.round( audio_data )\r\n    \taudio_data = tf.cast( audio_data, dtype=tf.float32 )\r\n    \t\r\n    \tdata_frames = append_data_frames( audio_data, data_frames )\r\n    \ttemp = extract_data_frames( data_frames )\r\n    \tstfts = tf.signal.stft(temp, frame_length=256, frame_step=64, fft_length=256)\r\n    \tspectrograms = tf.abs(stfts)\r\n    \t\r\n    \tnum_spectrogram_bins = stfts.shape[-1]\r\n    \tlower_edge_hertz, upper_edge_hertz, num_mel_bins = 80.0, 7600.0, 80\r\n    \tlinear_to_mel_weight_matrix = tf.signal.linear_to_mel_weight_matrix( num_mel_bins, num_spectrogram_bins, int( RATE * 2 ), lower_edge_hertz, upper_edge_hertz)\r\n    \tmel_spectrograms = tf.tensordot( spectrograms, linear_to_mel_weight_matrix, 1)\r\n    \tmel_spectrograms.set_shape(spectrograms.shape[:-1].concatenate( linear_to_mel_weight_matrix.shape[-1:]) )\r\n    \tmel_spectrograms = tf.expand_dims(mel_spectrograms, 2)\r\n    \t\r\n    \timage = tf.keras.preprocessing.image.array_to_img(\r\n    \t\tmel_spectrograms,\r\n    \t\tdata_format=None,\r\n    \t\tscale=True\r\n    \t)\r\n    \t\r\n    \tresult = predict_action( mel_spectrograms )\r\n    \tcluster = predict_cluster( mel_spectrograms )\r\n    \tim.set_array( image )\r\n    \r\n    \tplt.xlabel( str( result + 1 ) + &quot; : &quot; + str( cluster + 1 ), fontsize=22 )\r\n    \tplt.show()\r\n    \t\r\n    \tif n_steps % 8 == 0 :\r\n    \t\r\n    \t\tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([result], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \t\thistory = model.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\r\n    \t\tmodel.save_weights(checkpoint_path)\r\n    \t\r\n    \tif n_steps % 24 == 0 :\r\n    \t\r\n    \t\tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([cluster], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \t\thistory = model_clusters.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\r\n    \t\tmodel_clusters.save_weights(checkpoint_clusters_path)\r\n    \t\t\r\n    \t\t\r\n    \tn_steps = n_steps + 1\r\n    \t\r\n    \treturn im,\r\n    \r\n    def predict_action( image ) :\r\n    \tpredictions = model.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\r\n    \tresult = tf.math.argmax(predictions[0]).numpy()\r\n    \r\n    \treturn result\r\n    \r\n    def predict_cluster( image ) :\r\n    \r\n    \tpredictions = model_clusters.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\r\n    \tresult = tf.math.argmax(predictions[0]).numpy()\r\n    \treturn result\r\n    \r\n    def append_data_frames( data, data_frames ) :\t\r\n    \r\n    \tdata_1 = data_frames[0]\r\n    \tdata_2 = data_frames[1]\r\n    \tdata_3 = data_frames[2]\r\n    \tdata_4 = tf.constant( data, shape=( 512, 1 ) ).numpy()\r\n    \tdata_frames = [ data_1, data_2, data_3, data_4 ]\r\n    \r\n    \treturn data_frames\r\n    \r\n    def extract_data_frames( data_frames ) :\r\n    \r\n    \ttemp = tf.stack([data_frames[0], data_frames[1], data_frames[2], data_frames[3]])\r\n    \ttemp = tf.constant( temp, shape=(1, 4 * 512, 1 ))\r\n    \tpredictions = model_frames_extract.predict(temp)\r\n    \tmodel_frames_extract.reset_metrics()\r\n    \ttemp = tf.constant( predictions[0], shape=( 512, ))\r\n    \r\n    \treturn temp\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Model Initialize\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    model = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\r\n    \ttf.keras.layers.Reshape((5, 80)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True, return_state=False)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128)),\r\n    ])\r\n    \t\t\r\n    model.add(tf.keras.layers.Flatten())\r\n    model.add(tf.keras.layers.Dense(64))\r\n    model.add(tf.keras.layers.Dense(7 * 4))\r\n    model.summary()\r\n    \r\n    model_clusters = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\r\n    \ttf.keras.layers.Reshape((5, 80)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32, return_sequences=True, return_state=False)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32)),\r\n    ])\r\n    \r\n    model_clusters.add(tf.keras.layers.Flatten())\r\n    model_clusters.add(tf.keras.layers.Dense(64))\r\n    model_clusters.add(tf.keras.layers.Dense(4))\r\n    model_clusters.summary()\r\n    \r\n    model_frames_extract = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 512 * 4, 1 )),\r\n    \ttf.keras.layers.Flatten( ),\r\n    \ttf.keras.layers.Dense(512, activation=tf.nn.softmax),\r\n    \t])\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    DataSet\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    audio = pyaudio.PyAudio()\r\n    stream = audio.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)\r\n    \r\n    fig = plt.figure()\r\n    image = plt.imread( &quot;F:\\\\datasets\\\\downloads\\\\cats_name\\\\train\\\\Symbols\\\\01.jpg&quot; )\r\n    im = plt.imshow(image)\r\n    im.set_cmap(&#39;jet&#39;)\r\n    \r\n    lable = 0\r\n    if im.get_array().shape[0] &gt; 5 :\r\n    \tdataset = tf.data.Dataset.from_tensor_slices((tf.zeros([1, 1, 5, 80, 1]),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    else :\r\n    \tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([im.get_array()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Callback\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    class custom_callback(tf.keras.callbacks.Callback):\r\n    \r\n    \tdef __init__(self, patience=0):\r\n    \t\tself.best_weights = None\r\n    \t\tself.best = 999999999999999\r\n    \t\tself.patience = patience\r\n    \t\r\n    \tdef on_train_begin(self, logs={}):\r\n    \t\tself.best = 999999999999999\r\n    \t\tself.wait = 0\r\n    \t\tself.stopped_epoch = 0\r\n    \r\n    \tdef on_epoch_end(self, epoch, logs={}):\r\n    \t\tif(logs[&#39;accuracy&#39;] == None) : \r\n    \t\t\tpass\r\n    \t\t\r\n    \t\tif logs[&#39;loss&#39;] &lt; self.best :\r\n    \t\t\tself.best = logs[&#39;loss&#39;]\r\n    \t\t\tself.wait = 0\r\n    \t\t\tself.best_weights = self.model.get_weights()\r\n    \t\telse :\r\n    \t\t\tself.wait += 1\r\n    \t\t\tif self.wait &gt;= self.patience:\r\n    \t\t\t\tself.stopped_epoch = epoch\r\n    \t\t\t\tself.model.stop_training = True\r\n    \t\t\t\tprint(&quot;Restoring model weights from the end of the best epoch.&quot;)\r\n    \t\t\t\tself.model.set_weights(self.best_weights)\r\n    \t\t\r\n    \t\tif logs[&#39;loss&#39;] &lt;= 0.2 :\r\n    \t\t\tself.model.stop_training = True\r\n    \r\n    custom_callback = custom_callback(patience=6)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Optimizer\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    optimizer = tf.keras.optimizers.Nadam( learning_rate=0.0001, beta_1=0.9, beta_2=0.999, epsilon=1e-07, name=&#39;Nadam&#39; )\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Loss Fn\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\t\t\t\t\t\t\t\t\r\n    lossfn = tf.keras.losses.MeanSquaredLogarithmicError(reduction=tf.keras.losses.Reduction.AUTO, name=&#39;mean_squared_logarithmic_error&#39;)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Model Summary\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    model.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    model_frames_extract.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    model_clusters.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : FileWriter\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    if exists(checkpoint_path) :\r\n    \tmodel.load_weights(checkpoint_path)\r\n    \tprint(&quot;model load: &quot; + checkpoint_path)\r\n    \tinput(&quot;Press Any Key!&quot;)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Training\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    history = model.fit(dataset, epochs=1 ,validation_data=(dataset))\r\n    \r\n    model.save_weights(checkpoint_path)\r\n    \t\r\n    while LONG_STEPS &gt; 0:\r\n    \tani = animation.FuncAnimation(fig, animate, interval=50, blit=True)\r\n    \tplt.show()\r\n    \t\r\n    audio.terminate()\r\n    \r\n    print(  &quot;finished recording&quot; )\r\n","title":"On Device Training Tensorflow","body":"<p>There are many ways, to predict with trainable weight, feedback, update weights or load model is possible. You may transfer learning from the current to another model.</p>\n<p>There are many libraries including C++, C# wrapper, TFLite, TF and etc.</p>\n<p><strong>[ Sample ]:</strong></p>\n<pre><code>import pyaudio as pyaudio\nimport tensorflow as tf\n\nimport os\nfrom os.path import exists\n\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n[PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]\nNone\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nphysical_devices = tf.config.experimental.list_physical_devices('GPU')\nassert len(physical_devices) &gt; 0, &quot;Not enough GPU hardware devices available&quot;\nconfig = tf.config.experimental.set_memory_growth(physical_devices[0], True)\nprint(physical_devices)\nprint(config)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nVariables\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nb_training = True\nn_steps = 0\n\nimage = [ ]\nlist_image = [ ]\nlist_label = [ ]\n\nfor i in range(80):\n    list_image.append(tf.zeros([ 5, 80 ]).numpy())\n    list_label.append(0)\n\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 8000\nCHUNK = 1024\nRECORD_SECONDS = 1\nLONG_STEPS = 100000000000\n\ndata_1 = tf.zeros([512, 1]).numpy()\ndata_2 = tf.zeros([512, 1]).numpy()\ndata_3 = tf.zeros([512, 1]).numpy()\ndata_4 = tf.zeros([512, 1]).numpy()\ndata_frames = [ data_1, data_2, data_3, data_4 ]\n\ncheckpoint_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\TF_DataSets_01.h5&quot;\ncheckpoint_dir = os.path.dirname(checkpoint_path)\nloggings = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\loggings.log&quot;\n\ncheckpoint_clusters_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\TF_Cluster_DataSets_01.h5&quot;\ncheckpoint_clusters_dir = os.path.dirname(checkpoint_clusters_path)\n\nif not exists(checkpoint_dir) : \n    os.mkdir(checkpoint_dir)\n    print(&quot;Create directory: &quot; + checkpoint_dir)\n    \nif not exists(checkpoint_clusters_dir) : \n    os.mkdir(checkpoint_clusters_dir)\n    print(&quot;Create directory: &quot; + checkpoint_clusters_dir)\n    \n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nFunctions\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\ndef animate( i ):\n    global CHUNK\n    global RATE\n    global n_steps\n    global data_frames\n    \n    data = stream.read( CHUNK )\n    audio_data = tf.io.decode_raw(tf.constant( data ), tf.int32)\n    audio_data = tf.round( audio_data )\n    audio_data = tf.cast( audio_data, dtype=tf.float32 )\n    \n    data_frames = append_data_frames( audio_data, data_frames )\n    temp = extract_data_frames( data_frames )\n    stfts = tf.signal.stft(temp, frame_length=256, frame_step=64, fft_length=256)\n    spectrograms = tf.abs(stfts)\n    \n    num_spectrogram_bins = stfts.shape[-1]\n    lower_edge_hertz, upper_edge_hertz, num_mel_bins = 80.0, 7600.0, 80\n    linear_to_mel_weight_matrix = tf.signal.linear_to_mel_weight_matrix( num_mel_bins, num_spectrogram_bins, int( RATE * 2 ), lower_edge_hertz, upper_edge_hertz)\n    mel_spectrograms = tf.tensordot( spectrograms, linear_to_mel_weight_matrix, 1)\n    mel_spectrograms.set_shape(spectrograms.shape[:-1].concatenate( linear_to_mel_weight_matrix.shape[-1:]) )\n    mel_spectrograms = tf.expand_dims(mel_spectrograms, 2)\n    \n    image = tf.keras.preprocessing.image.array_to_img(\n        mel_spectrograms,\n        data_format=None,\n        scale=True\n    )\n    \n    result = predict_action( mel_spectrograms )\n    cluster = predict_cluster( mel_spectrograms )\n    im.set_array( image )\n\n    plt.xlabel( str( result + 1 ) + &quot; : &quot; + str( cluster + 1 ), fontsize=22 )\n    plt.show()\n    \n    if n_steps % 8 == 0 :\n    \n        dataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([result], shape=(1, 1, 1, 1), dtype=tf.int64)))\n        history = model.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\n        model.save_weights(checkpoint_path)\n    \n    if n_steps % 24 == 0 :\n    \n        dataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([cluster], shape=(1, 1, 1, 1), dtype=tf.int64)))\n        history = model_clusters.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\n        model_clusters.save_weights(checkpoint_clusters_path)\n        \n        \n    n_steps = n_steps + 1\n    \n    return im,\n\ndef predict_action( image ) :\n    predictions = model.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\n    result = tf.math.argmax(predictions[0]).numpy()\n\n    return result\n\ndef predict_cluster( image ) :\n\n    predictions = model_clusters.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\n    result = tf.math.argmax(predictions[0]).numpy()\n    return result\n\ndef append_data_frames( data, data_frames ) :   \n\n    data_1 = data_frames[0]\n    data_2 = data_frames[1]\n    data_3 = data_frames[2]\n    data_4 = tf.constant( data, shape=( 512, 1 ) ).numpy()\n    data_frames = [ data_1, data_2, data_3, data_4 ]\n\n    return data_frames\n\ndef extract_data_frames( data_frames ) :\n\n    temp = tf.stack([data_frames[0], data_frames[1], data_frames[2], data_frames[3]])\n    temp = tf.constant( temp, shape=(1, 4 * 512, 1 ))\n    predictions = model_frames_extract.predict(temp)\n    model_frames_extract.reset_metrics()\n    temp = tf.constant( predictions[0], shape=( 512, ))\n\n    return temp\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Model Initialize\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nmodel = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\n    tf.keras.layers.Reshape((5, 80)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True, return_state=False)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128)),\n])\n        \nmodel.add(tf.keras.layers.Flatten())\nmodel.add(tf.keras.layers.Dense(64))\nmodel.add(tf.keras.layers.Dense(7 * 4))\nmodel.summary()\n\nmodel_clusters = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\n    tf.keras.layers.Reshape((5, 80)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32, return_sequences=True, return_state=False)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32)),\n])\n\nmodel_clusters.add(tf.keras.layers.Flatten())\nmodel_clusters.add(tf.keras.layers.Dense(64))\nmodel_clusters.add(tf.keras.layers.Dense(4))\nmodel_clusters.summary()\n\nmodel_frames_extract = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 512 * 4, 1 )),\n    tf.keras.layers.Flatten( ),\n    tf.keras.layers.Dense(512, activation=tf.nn.softmax),\n    ])\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nDataSet\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\naudio = pyaudio.PyAudio()\nstream = audio.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)\n\nfig = plt.figure()\nimage = plt.imread( &quot;F:\\\\datasets\\\\downloads\\\\cats_name\\\\train\\\\Symbols\\\\01.jpg&quot; )\nim = plt.imshow(image)\nim.set_cmap('jet')\n\nlable = 0\nif im.get_array().shape[0] &gt; 5 :\n    dataset = tf.data.Dataset.from_tensor_slices((tf.zeros([1, 1, 5, 80, 1]),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\nelse :\n    dataset = tf.data.Dataset.from_tensor_slices((tf.constant([im.get_array()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Callback\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nclass custom_callback(tf.keras.callbacks.Callback):\n\n    def __init__(self, patience=0):\n        self.best_weights = None\n        self.best = 999999999999999\n        self.patience = patience\n    \n    def on_train_begin(self, logs={}):\n        self.best = 999999999999999\n        self.wait = 0\n        self.stopped_epoch = 0\n\n    def on_epoch_end(self, epoch, logs={}):\n        if(logs['accuracy'] == None) : \n            pass\n        \n        if logs['loss'] &lt; self.best :\n            self.best = logs['loss']\n            self.wait = 0\n            self.best_weights = self.model.get_weights()\n        else :\n            self.wait += 1\n            if self.wait &gt;= self.patience:\n                self.stopped_epoch = epoch\n                self.model.stop_training = True\n                print(&quot;Restoring model weights from the end of the best epoch.&quot;)\n                self.model.set_weights(self.best_weights)\n        \n        if logs['loss'] &lt;= 0.2 :\n            self.model.stop_training = True\n\ncustom_callback = custom_callback(patience=6)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Optimizer\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\noptimizer = tf.keras.optimizers.Nadam( learning_rate=0.0001, beta_1=0.9, beta_2=0.999, epsilon=1e-07, name='Nadam' )\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Loss Fn\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;                               \nlossfn = tf.keras.losses.MeanSquaredLogarithmicError(reduction=tf.keras.losses.Reduction.AUTO, name='mean_squared_logarithmic_error')\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Model Summary\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nmodel.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\nmodel_frames_extract.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\nmodel_clusters.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: FileWriter\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nif exists(checkpoint_path) :\n    model.load_weights(checkpoint_path)\n    print(&quot;model load: &quot; + checkpoint_path)\n    input(&quot;Press Any Key!&quot;)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Training\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nhistory = model.fit(dataset, epochs=1 ,validation_data=(dataset))\n\nmodel.save_weights(checkpoint_path)\n    \nwhile LONG_STEPS &gt; 0:\n    ani = animation.FuncAnimation(fig, animate, interval=50, blit=True)\n    plt.show()\n    \naudio.terminate()\n\nprint(  &quot;finished recording&quot; )\n</code></pre>\n"}],"owner":{"account_id":19101690,"reputation":1,"user_id":19218825,"display_name":"hanim sofia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679059333,"creation_date":1653721649,"question_id":72413615,"body_markdown":"Is there a way to trained dataset taken from user image while running the apps? Dataset are collected based on images from user(take photo or select from gallery) on apps.\r\n\r\np/s: I found on-device training Tensorflow but based on documentation we have to trained the model in Python first and export to tensorflow. Is there a way to do directly on the apps in Android Studio without going through these?","title":"On Device Training Tensorflow","body":"<p>Is there a way to trained dataset taken from user image while running the apps? Dataset are collected based on images from user(take photo or select from gallery) on apps.</p>\n<p>p/s: I found on-device training Tensorflow but based on documentation we have to trained the model in Python first and export to tensorflow. Is there a way to do directly on the apps in Android Studio without going through these?</p>\n"},{"tags":["java","caching","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678963885,"creation_date":1678963885,"answer_id":75755216,"question_id":75754907,"body_markdown":"What you see in the logs is the consequence of the fact that a minimum number of members in a Hazelcast cluster is 3. As you have configured only 2 members, Hazelcast adds 1 dummy member for you. But as it is obviously not alive - will be removed immediately. Hazelcast will try every minute if it&#39;s back...\r\n\r\nSolution: configure at least 3 members or stop using a cluster.","title":"Hazelcast automatically adds member then removes it","body":"<p>What you see in the logs is the consequence of the fact that a minimum number of members in a Hazelcast cluster is 3. As you have configured only 2 members, Hazelcast adds 1 dummy member for you. But as it is obviously not alive - will be removed immediately. Hazelcast will try every minute if it's back...</p>\n<p>Solution: configure at least 3 members or stop using a cluster.</p>\n"},{"tags":[],"owner":{"account_id":15134557,"reputation":1,"user_id":10921425,"display_name":"Adrian Scarlatescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679059265,"creation_date":1679059229,"answer_id":75768067,"question_id":75754907,"body_markdown":"Actually it was my group config of which password was an empty String. Added some characters for the password and no other instance tries to join the cluster now.\r\n`config.getGroupConfig().setName(name).setPassword(password);`","title":"Hazelcast automatically adds member then removes it","body":"<p>Actually it was my group config of which password was an empty String. Added some characters for the password and no other instance tries to join the cluster now.\n<code>config.getGroupConfig().setName(name).setPassword(password);</code></p>\n"}],"owner":{"account_id":15134557,"reputation":1,"user_id":10921425,"display_name":"Adrian Scarlatescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75768067,"answer_count":2,"score":0,"last_activity_date":1679059304,"creation_date":1678962442,"question_id":75754907,"body_markdown":"In my app I am using Hazelcast version 3.7.8 and I have 2 machines set as members.\r\nOnce deployed, the 2 members are joining the cluster, but also a 3rd member is automatically added which after a few seconds it&#39;s removed.\r\n\r\nMy conf:\r\n```\r\n@Bean(&quot;hazelcastInstanceTest&quot;)\r\npublic HazelcastInstance hazelcastInstance() {\r\n\tConfig config = new Config();\r\n\tconfig.getNetworkConfig().addOutboundPort(0);\r\n    config.getGroupConfig().setName(name).setPassword(password);\r\n\r\n\tJoinConfig joinConfig = config.getNetworkConfig().getJoin();\r\n\r\n\tjoinConfig.getMulticastConfig()\r\n\t\t\t.setEnabled(false);\r\n\r\n\tList&lt;String&gt; members = Arrays.asList(&quot;MEMBER1:5701&quot;,&quot;MEMBER2:5701&quot;);\r\n\tjoinConfig.getTcpIpConfig()\r\n\t\t\t.setMembers(members)\r\n\t\t\t.setEnabled(true);\r\n\r\n\treturn Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\n\r\nLog from the 1st vm (on the 2nd vm it&#39;s the same output):\r\n```\r\nSocketAcceptorThread: [MEMBER1]:5701 [test] [3.7.8] Accepting socket connection from /MEMBER3:45566\r\nTcpIpConnectionManager: [MEMBER1]:5701 [test] [3.7.8] Established socket connection between /MEMBER1:5701 and /MEMBER3:45566\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\r\n\r\nMembers [3] {\r\n        Member [MEMBER2]:5701 - member2_uuid\r\n        Member [MEMBER1]:5701 - member1_uuid this\r\n        Member [MEMBER3]:5701 - member3_uuid\r\n}\r\n\r\nTcpIpConnection: [MEMBER1]:5701 [test] [3.7.8] Connection[id=3, /MEMBER1:5701-&gt;/MEMBER3:45566, endpoint=[MEMBER3]:5701, alive=false, type=MEMBER] closed. Reason: Removing member [MEMBER3]:5701, uuid: member3_uuid, requested by: [MEMBER3]:5701\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8] Removing Member [MEMBER3]:5701 - member3_uuid\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\r\n\r\nMembers [2] {\r\n        Member [MEMBER2]:5701 - member2_uuid\r\n        Member [MEMBER1]:5701 - member1_uuid this\r\n}\r\n\r\nTransactionManagerService: [MEMBER1]:5701 [test] [3.7.8] Committing/rolling-back alive transactions of Member [MEMBER3]:5701 - member3_uuid, UUID: member3_uuid\r\n```\r\n\r\nThis sequence of log is repeating each minute.\r\nI don&#39;t understand how *MEMBER3* ends up being added to the members list?\r\nHow can I block it from joining?\r\n\r\nI tried to change the ports, but it&#39;s the same.\r\nUnfortunatelly I cannot change the version - it&#39;s a complicated process in this company.\r\nThank you for your help!","title":"Hazelcast automatically adds member then removes it","body":"<p>In my app I am using Hazelcast version 3.7.8 and I have 2 machines set as members.\nOnce deployed, the 2 members are joining the cluster, but also a 3rd member is automatically added which after a few seconds it's removed.</p>\n<p>My conf:</p>\n<pre><code>@Bean(&quot;hazelcastInstanceTest&quot;)\npublic HazelcastInstance hazelcastInstance() {\n    Config config = new Config();\n    config.getNetworkConfig().addOutboundPort(0);\n    config.getGroupConfig().setName(name).setPassword(password);\n\n    JoinConfig joinConfig = config.getNetworkConfig().getJoin();\n\n    joinConfig.getMulticastConfig()\n            .setEnabled(false);\n\n    List&lt;String&gt; members = Arrays.asList(&quot;MEMBER1:5701&quot;,&quot;MEMBER2:5701&quot;);\n    joinConfig.getTcpIpConfig()\n            .setMembers(members)\n            .setEnabled(true);\n\n    return Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>Log from the 1st vm (on the 2nd vm it's the same output):</p>\n<pre><code>SocketAcceptorThread: [MEMBER1]:5701 [test] [3.7.8] Accepting socket connection from /MEMBER3:45566\nTcpIpConnectionManager: [MEMBER1]:5701 [test] [3.7.8] Established socket connection between /MEMBER1:5701 and /MEMBER3:45566\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\n\nMembers [3] {\n        Member [MEMBER2]:5701 - member2_uuid\n        Member [MEMBER1]:5701 - member1_uuid this\n        Member [MEMBER3]:5701 - member3_uuid\n}\n\nTcpIpConnection: [MEMBER1]:5701 [test] [3.7.8] Connection[id=3, /MEMBER1:5701-&gt;/MEMBER3:45566, endpoint=[MEMBER3]:5701, alive=false, type=MEMBER] closed. Reason: Removing member [MEMBER3]:5701, uuid: member3_uuid, requested by: [MEMBER3]:5701\nClusterService: [MEMBER1]:5701 [test] [3.7.8] Removing Member [MEMBER3]:5701 - member3_uuid\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\n\nMembers [2] {\n        Member [MEMBER2]:5701 - member2_uuid\n        Member [MEMBER1]:5701 - member1_uuid this\n}\n\nTransactionManagerService: [MEMBER1]:5701 [test] [3.7.8] Committing/rolling-back alive transactions of Member [MEMBER3]:5701 - member3_uuid, UUID: member3_uuid\n</code></pre>\n<p>This sequence of log is repeating each minute.\nI don't understand how <em>MEMBER3</em> ends up being added to the members list?\nHow can I block it from joining?</p>\n<p>I tried to change the ports, but it's the same.\nUnfortunatelly I cannot change the version - it's a complicated process in this company.\nThank you for your help!</p>\n"},{"tags":["java","hadoop","windows-subsystem-for-linux"],"answers":[{"tags":[],"owner":{"account_id":25172804,"reputation":11,"user_id":19015414,"display_name":"liuuuuuu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679058958,"creation_date":1679038639,"answer_id":75764848,"question_id":75758915,"body_markdown":"use maven to build this from very begining,then the problem will be sovled","title":"How can I sovle &quot;java.lang.NoClassDefFoundError：com/ctc/wstx/io/InputBootstrapper&quot;","body":"<p>use maven to build this from very begining,then the problem will be sovled</p>\n"}],"owner":{"account_id":25172804,"reputation":11,"user_id":19015414,"display_name":"liuuuuuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679059025,"answer_count":1,"score":1,"last_activity_date":1679058958,"creation_date":1678983553,"question_id":75758915,"body_markdown":"I&#39;m a pure newbie to hadoop and java.I would be very grateful if you could help me.\r\n\r\nI now have **VSCODE** started in **WSL**, I have configured pseudo-distributed **Hadoop** in WSL, and now I want to run a sample program for Java in VSCODE under WSL, I have included the reference libraries I need into this project, and I have put several related configuration files of Hadoop into the project, but I have been experiencing this problem.\r\n\r\nThis problem seems to have been present with statements **Configuration conf = new Configuration()**;\r\n\r\nthe wrong information are as followed:\r\n\r\n```\r\nliu@liu:~/bigdata/proj1$  cd /home/liu/bigdata/proj1 ; /usr/bin/env /usr/local/jdk8/bin/java -cp /tmp/cp_9uebk944mttbxgu829j50i3s5.jar CopyFromLocalFile \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ctc/wstx/io/InputBootstrapper\r\n        at CopyFromLocalFile.main(CopyFromLocalFile.java:61)\r\nCaused by: java.lang.ClassNotFoundException: com.ctc.wstx.io.InputBootstrapper\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        ... 1 more\r\n```\r\n\r\nis it a question that related to WSL？Why do I get this error after I have included all the library files I should have?\r\n\r\nHow do I fix this?please help,thanks\\~\r\n\r\n1. I set up the .vscode file\r\n   [enter image description here](https://i.stack.imgur.com/9upKe.png)\r\n\r\ntask.json\r\n\r\n```\r\n{\r\n// See https://go.microsoft.com/fwlink/?LinkId=733558\r\n// for the documentation about the tasks.json format\r\n&quot;version&quot;: &quot;2.0.0&quot;,\r\n&quot;tasks&quot;: [\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - start service&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;start-all.sh&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - build &amp; run&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;mkdir /tmp/a2f2ed || : &amp;&amp; javac -cp $(hadoop classpath) -d /tmp/a2f2ed ${file} &amp;&amp; jar -cvf bin/test.jar -C /tmp/a2f2ed . &amp;&amp; rm -rf /tmp/a2f2ed || :&amp;&amp; hdfs dfs -rm -r /input || : &amp;&amp; hdfs dfs -put input / &amp;&amp; hdfs dfs -rm -r /output || :&amp;&amp; hadoop jar bin/test.jar ${fileBasenameNoExtension} /input /output &amp;&amp; hdfs dfs -cat /output/*&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - stop service&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;stop-all.sh&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n]\r\n}\r\n```\r\n\r\nsetting.json\r\n\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/lib/commons-cli-1.2.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-kms-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-nfs-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.2.4.jar&quot;\r\n    ]\r\n}\r\n```\r\n\r\n2\\.the reference libraries I used\r\n\r\n[enter image description here](https://i.stack.imgur.com/AcSJQ.png)\r\n\r\n3\\.I Write the src files\r\n[enter image description here](https://i.stack.imgur.com/j3Gwg.png)\r\n\r\nthe source java code are as followed:\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.FSDataOutputStream;\r\nimport org.apache.hadoop.fs.FileSystem;\r\nimport org.apache.hadoop.fs.Path;\r\npublic class CopyFromLocalFile {\r\n\t/**\r\n\t    * 判断路径是否存在\r\n\t */\r\n\tpublic static boolean test(Configuration conf, String path) {\r\n\t       try (FileSystem fs = FileSystem.get(conf)) {\r\n\t           return fs.exists(new Path(path));  \r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t           return false;\r\n\t       }\r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 复制文件到指定路径 若路径已存在，则进行覆盖\r\n\t    */\r\n\t   public static void copyFromLocalFile(Configuration conf,\r\n\t           String localFilePath, String remoteFilePath) {\r\n\t       Path localPath = new Path(localFilePath);\r\n\t       Path remotePath = new Path(remoteFilePath);\r\n\t       try (FileSystem fs = FileSystem.get(conf)) {\r\n\t           /* fs.copyFromLocalFile 第一个参数表示是否删除源文件，第二个参数表示是否覆盖 */\r\n\t           fs.copyFromLocalFile(false, true, localPath, remotePath);\r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t \r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 追加文件内容\r\n\t    */\r\n\t   public static void appendToFile(Configuration conf, String localFilePath,\r\n\t           String remoteFilePath) {\r\n\t       Path remotePath = new Path(remoteFilePath);\r\n\t       try (FileSystem fs = FileSystem.get(conf);\r\n\t               FileInputStream in = new FileInputStream(localFilePath);) {\r\n\t           FSDataOutputStream out = fs.append(remotePath);\r\n\t           byte[] data = new byte[1024];\r\n\t           int read = -1;\r\n\t           while ((read = in.read(data)) &gt; 0) {\r\n\t               out.write(data, 0, read);\r\n\t           }\r\n\t           out.close();\r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 主函数\r\n\t    */\r\n\t   public static void main(String[] args) {\r\n\t       Configuration conf = new Configuration();\r\n\t       conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://localhost:9000&quot;);\r\n\t       String localFilePath = &quot;/usr/local/hadoop/text.txt&quot;; // 本地路径\r\n\t       String remoteFilePath = &quot;/user/hadoop/file/text.txt&quot;; // HDFS路径\r\n\t       // String choice = &quot;append&quot;; // 若文件存在则追加到文件末尾\r\n\t       String choice = &quot;overwrite&quot;; // 若文件存在则覆盖\r\n\t \r\n\t       try {\r\n\t           /* 判断文件是否存在 */\r\n\t           boolean fileExists = false;\r\n\t           if (CopyFromLocalFile.test(conf, remoteFilePath)) {\r\n\t               fileExists = true;\r\n\t               System.out.println(remoteFilePath + &quot; 已存在.&quot;);\r\n\t           } else {\r\n\t               System.out.println(remoteFilePath + &quot; 不存在.&quot;);\r\n\t           }\r\n\t           /* 进行处理 */\r\n\t           if (!fileExists) { // 文件不存在，则上传\r\n\t               CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已上传至 &quot; + remoteFilePath);\r\n\t           } else if (choice.equals(&quot;overwrite&quot;)) { // 选择覆盖\r\n\t               CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已覆盖 &quot; + remoteFilePath);\r\n\t           } else if (choice.equals(&quot;append&quot;)) { // 选择追加\r\n\t               CopyFromLocalFile.appendToFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已追加至 &quot; + remoteFilePath);\r\n\t           }\r\n\t       } catch (Exception e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t   }\r\n\r\n}\r\n\r\n\r\n\r\n```","title":"How can I sovle &quot;java.lang.NoClassDefFoundError：com/ctc/wstx/io/InputBootstrapper&quot;","body":"<p>I'm a pure newbie to hadoop and java.I would be very grateful if you could help me.</p>\n<p>I now have <strong>VSCODE</strong> started in <strong>WSL</strong>, I have configured pseudo-distributed <strong>Hadoop</strong> in WSL, and now I want to run a sample program for Java in VSCODE under WSL, I have included the reference libraries I need into this project, and I have put several related configuration files of Hadoop into the project, but I have been experiencing this problem.</p>\n<p>This problem seems to have been present with statements <strong>Configuration conf = new Configuration()</strong>;</p>\n<p>the wrong information are as followed:</p>\n<pre><code>liu@liu:~/bigdata/proj1$  cd /home/liu/bigdata/proj1 ; /usr/bin/env /usr/local/jdk8/bin/java -cp /tmp/cp_9uebk944mttbxgu829j50i3s5.jar CopyFromLocalFile \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ctc/wstx/io/InputBootstrapper\n        at CopyFromLocalFile.main(CopyFromLocalFile.java:61)\nCaused by: java.lang.ClassNotFoundException: com.ctc.wstx.io.InputBootstrapper\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        ... 1 more\n</code></pre>\n<p>is it a question that related to WSL？Why do I get this error after I have included all the library files I should have?</p>\n<p>How do I fix this?please help,thanks~</p>\n<ol>\n<li>I set up the .vscode file\n<a href=\"https://i.stack.imgur.com/9upKe.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>task.json</p>\n<pre><code>{\n// See https://go.microsoft.com/fwlink/?LinkId=733558\n// for the documentation about the tasks.json format\n&quot;version&quot;: &quot;2.0.0&quot;,\n&quot;tasks&quot;: [\n    {\n        &quot;label&quot;: &quot;hadoop - start service&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;start-all.sh&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n    {\n        &quot;label&quot;: &quot;hadoop - build &amp; run&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;mkdir /tmp/a2f2ed || : &amp;&amp; javac -cp $(hadoop classpath) -d /tmp/a2f2ed ${file} &amp;&amp; jar -cvf bin/test.jar -C /tmp/a2f2ed . &amp;&amp; rm -rf /tmp/a2f2ed || :&amp;&amp; hdfs dfs -rm -r /input || : &amp;&amp; hdfs dfs -put input / &amp;&amp; hdfs dfs -rm -r /output || :&amp;&amp; hadoop jar bin/test.jar ${fileBasenameNoExtension} /input /output &amp;&amp; hdfs dfs -cat /output/*&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n    {\n        &quot;label&quot;: &quot;hadoop - stop service&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;stop-all.sh&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n]\n}\n</code></pre>\n<p>setting.json</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/lib/commons-cli-1.2.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-kms-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-nfs-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.2.4.jar&quot;\n    ]\n}\n</code></pre>\n<p>2.the reference libraries I used</p>\n<p><a href=\"https://i.stack.imgur.com/AcSJQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>3.I Write the src files\n<a href=\"https://i.stack.imgur.com/j3Gwg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>the source java code are as followed:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FSDataOutputStream;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\npublic class CopyFromLocalFile {\n    /**\n        * 判断路径是否存在\n     */\n    public static boolean test(Configuration conf, String path) {\n           try (FileSystem fs = FileSystem.get(conf)) {\n               return fs.exists(new Path(path));  \n           } catch (IOException e) {\n               e.printStackTrace();\n               return false;\n           }\n       }\n     \n       /**\n        * 复制文件到指定路径 若路径已存在，则进行覆盖\n        */\n       public static void copyFromLocalFile(Configuration conf,\n               String localFilePath, String remoteFilePath) {\n           Path localPath = new Path(localFilePath);\n           Path remotePath = new Path(remoteFilePath);\n           try (FileSystem fs = FileSystem.get(conf)) {\n               /* fs.copyFromLocalFile 第一个参数表示是否删除源文件，第二个参数表示是否覆盖 */\n               fs.copyFromLocalFile(false, true, localPath, remotePath);\n           } catch (IOException e) {\n               e.printStackTrace();\n           }\n     \n       }\n     \n       /**\n        * 追加文件内容\n        */\n       public static void appendToFile(Configuration conf, String localFilePath,\n               String remoteFilePath) {\n           Path remotePath = new Path(remoteFilePath);\n           try (FileSystem fs = FileSystem.get(conf);\n                   FileInputStream in = new FileInputStream(localFilePath);) {\n               FSDataOutputStream out = fs.append(remotePath);\n               byte[] data = new byte[1024];\n               int read = -1;\n               while ((read = in.read(data)) &gt; 0) {\n                   out.write(data, 0, read);\n               }\n               out.close();\n           } catch (IOException e) {\n               e.printStackTrace();\n           }\n       }\n     \n       /**\n        * 主函数\n        */\n       public static void main(String[] args) {\n           Configuration conf = new Configuration();\n           conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://localhost:9000&quot;);\n           String localFilePath = &quot;/usr/local/hadoop/text.txt&quot;; // 本地路径\n           String remoteFilePath = &quot;/user/hadoop/file/text.txt&quot;; // HDFS路径\n           // String choice = &quot;append&quot;; // 若文件存在则追加到文件末尾\n           String choice = &quot;overwrite&quot;; // 若文件存在则覆盖\n     \n           try {\n               /* 判断文件是否存在 */\n               boolean fileExists = false;\n               if (CopyFromLocalFile.test(conf, remoteFilePath)) {\n                   fileExists = true;\n                   System.out.println(remoteFilePath + &quot; 已存在.&quot;);\n               } else {\n                   System.out.println(remoteFilePath + &quot; 不存在.&quot;);\n               }\n               /* 进行处理 */\n               if (!fileExists) { // 文件不存在，则上传\n                   CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已上传至 &quot; + remoteFilePath);\n               } else if (choice.equals(&quot;overwrite&quot;)) { // 选择覆盖\n                   CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已覆盖 &quot; + remoteFilePath);\n               } else if (choice.equals(&quot;append&quot;)) { // 选择追加\n                   CopyFromLocalFile.appendToFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已追加至 &quot; + remoteFilePath);\n               }\n           } catch (Exception e) {\n               e.printStackTrace();\n           }\n       }\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","android","gradle","jitsi","jitsi-meet"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166385,"creation_date":1666166385,"answer_id":74121817,"question_id":74121094,"body_markdown":"Try this implementation for SDK and reference [link][1] \r\n\r\n    dependencies {\r\n       // Jitsi Meet\r\n        implementation (&#39;org.jitsi.react:jitsi-meet-sdk:5.1.0&#39;) { transitive = true }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jitsi/jitsi-meet-sdk-samples/blob/master/android/kotlin/JitsiSDKTest/app/build.gradle","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>Try this implementation for SDK and reference <a href=\"https://github.com/jitsi/jitsi-meet-sdk-samples/blob/master/android/kotlin/JitsiSDKTest/app/build.gradle\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>dependencies {\n   // Jitsi Meet\n    implementation ('org.jitsi.react:jitsi-meet-sdk:5.1.0') { transitive = true }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20548064,"reputation":31,"user_id":15081383,"display_name":"Nilabh Nayan Borthakur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666781472,"creation_date":1666781400,"answer_id":74206547,"question_id":74121094,"body_markdown":"I myself found a solution for this.\r\n\r\n 1. Right click on res folder in android project and choose image asset\r\n    from new section.\r\n 2. Create icon with following config\r\n\r\n    **Name: ic_notification**\r\n\r\n    **Icon Type: Notification Icons**\r\n","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I myself found a solution for this.</p>\n<ol>\n<li><p>Right click on res folder in android project and choose image asset\nfrom new section.</p>\n</li>\n<li><p>Create icon with following config</p>\n<p><strong>Name: ic_notification</strong></p>\n<p><strong>Icon Type: Notification Icons</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21351587,"reputation":735,"user_id":15721032,"display_name":"Joshua Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669236355,"creation_date":1669236355,"answer_id":74552795,"question_id":74121094,"body_markdown":"I had same problem, i tried to use older version **sdk:5.1.0** and enable Jetfier . It fixed my issue.\r\n\r\n1. Go to **Gradle.properties** add this\r\n\r\n    repositories {\r\n\r\n        maven {\r\n\r\n            url &quot;https://github.com/jitsi/jitsi-maven repository/raw/master/releases&quot;\r\n\r\n        }\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n\r\n\r\n\r\n2. Add this in **Build.gradle**\r\n\r\ndependencies {\r\n\r\n    implementation (&#39;org.jitsi.react:jitsi-meet-sdk:5.1.0&#39;) { transitive = true }\r\n\r\n}\r\n\r\n\r\n\r\n3. Go to **gradle.properties** add enableJetfier and set value to true\r\n   \r\n \r\n\r\nandroid.enableJetifier=true\r\n\r\n","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I had same problem, i tried to use older version <strong>sdk:5.1.0</strong> and enable Jetfier . It fixed my issue.</p>\n<ol>\n<li><p>Go to <strong>Gradle.properties</strong> add this</p>\n<p>repositories {</p>\n<pre><code> maven {\n\n     url &quot;https://github.com/jitsi/jitsi-maven repository/raw/master/releases&quot;\n\n }\n google()\n mavenCentral()\n maven { url 'https://www.jitpack.io' }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Add this in <strong>Build.gradle</strong></p>\n</li>\n</ol>\n<p>dependencies {</p>\n<pre><code>implementation ('org.jitsi.react:jitsi-meet-sdk:5.1.0') { transitive = true }\n</code></pre>\n<p>}</p>\n<ol start=\"3\">\n<li>Go to <strong>gradle.properties</strong> add enableJetfier and set value to true</li>\n</ol>\n<p>android.enableJetifier=true</p>\n"}],"owner":{"account_id":20548064,"reputation":31,"user_id":15081383,"display_name":"Nilabh Nayan Borthakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1679058888,"creation_date":1666162750,"question_id":74121094,"body_markdown":"I am trying to integrate **Jitsi Android SDK** for video Conferences on my app but it crashes as soon as I join/create a meeting. I am using Android Version -\r\n\r\n    Android Studio Dolphin | 2021.3.1 Patch 1\r\n    Build #AI-213.7172.25.2113.9123335, built on September 30, 2022\r\n    Runtime version: 11.0.13+0-b1751.21-8125866 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    Windows 11 10.0\r\n\r\n Here&#39;s the java code below for my DashboardActivity. \r\n\r\n    package com.skymeet.videoConference;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import org.jitsi.meet.sdk.JitsiMeet;\r\n    import org.jitsi.meet.sdk.JitsiMeetActivity;\r\n    import org.jitsi.meet.sdk.JitsiMeetConferenceOptions;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class DashboardActivity extends AppCompatActivity {\r\n    \r\n        EditText codeBox;\r\n        Button joinBtn, shareBtn;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_dashboard);\r\n    \r\n            codeBox = findViewById(R.id.codeBox);\r\n            joinBtn = findViewById(R.id.joinBtn);\r\n            shareBtn = findViewById(R.id.shareBtn); // not implemented yet\r\n    \r\n            URL serverURL = null;\r\n            try {\r\n                serverURL = new URL(&quot;https://meet.jit.si&quot;);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            JitsiMeetConferenceOptions defaultOptions\r\n                    = new JitsiMeetConferenceOptions.Builder()\r\n                    .setServerURL(serverURL)\r\n                    .setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\r\n                    .build();\r\n    \r\n            JitsiMeet.setDefaultConferenceOptions(defaultOptions);\r\n    \r\n    \r\n    \r\n    \r\n            joinBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    JitsiMeetConferenceOptions options\r\n                            = new JitsiMeetConferenceOptions.Builder()\r\n                            .setRoom(codeBox.getText().toString()).setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\r\n                            .build();\r\n                    JitsiMeetActivity.launch(DashboardActivity.this, options);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nI have implemented this code with help from https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/\r\n\r\nOn the Jitsi Android docs they have mentioned this way **but this does not imports Jitsi Android SDK to our project.**\r\n\r\n*The repository typically goes into the `build.gradle` file in the root of your project:\r\nbuild.gradle*\r\n\r\n    allprojects {\r\n        repositories {\r\n            maven {\r\n                url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\r\n            }\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://www.jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\n*Dependency definitions belong in the individual module `build.gradle` files:*\r\n\r\n    dependencies {\r\n        // (other dependencies)\r\n        implementation (&#39;org.jitsi.react:jitsi-meet-sdk:+&#39;) { transitive = true }\r\n    }\r\n\r\nInstead, we used to get a warning like this below while syncing the Gradle files.\r\n`Failed to resolve: org.jitsi.react:jitsi-meet-sdk:6.1.0` ~~  \r\n[Check Gradle Warning Screenshot][1]\r\n\r\n\r\nThis can be fixed by placing the repository on `settings.gradle` as below\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven {\r\n                url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter everything is successfully built &amp; installed on devices, my app crashes as soon as I create or join the meeting. Not able to figure out what is causing my application to crash. \r\n\r\nAfter crashing the error comes this way on my mobile phone.\r\n [Check Error Screenshot on mobile][2] \r\n\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk\r\n    \r\n    Jits MeetOngoingConferenceService@dc6a12a with Intent(cmp=com.skymeet.videoConference/org.jits i.meet.sdk.JitsiMeetOngoingConferenceService (has extras)}: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(chann el-JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate-null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.handleServiceArgs(Activit yThread.java:4802)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.access$2100(ActivityThr\r\n    \r\n    ead.java:276)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread$H.handleMessage(Activi\r\n    \r\n    tyThread.java:2156)\r\n    \r\n    at android.os.Handler.dispatchMessage(Handler.java:1 06)\r\n    \r\n    at android.os.Looper.loopOnce (Looper.java:210) at android.os.Looper.loop(Looper.java:299)\r\n    \r\n    at android.app.ActivityThread.main(ActivityThread.java: 8213)\r\n    \r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    \r\n    at com.android.internal.os.RuntimeInit$MethodAndArg sCaller.run(RuntimeInit.java:556)\r\n    \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.ja\r\n    \r\n    va:1045) Caused by: java.lang.IllegalArgumentException:\r\n    \r\n    Invalid notification (no valid small icon): Notification(channel-JitsiOngoingConfere\r\n    \r\n    nceChannel shortcut-null contentView=null vibrate-null sound-null defaults=0x0 flags=0xa\r\n    \r\n    color=0x00000000 category=call actions=2\r\n    \r\n    vis PUBLIC)\r\n    \r\n    at\r\n    \r\n    android.app.NotificationManager.fixNotification(Noti ficationManager.java:699) at\r\n    \r\n    android.app.NotificationManager.notifyAsUser(Notifi cationManager.java:678) at\r\n    \r\n    android.app.NotificationManager.notify(Notification Manager.java:627)\r\n    \r\n    at\r\n    \r\n    android.app.NotificationManager.notify(Notification Manager.java:603) at\r\n    \r\n    org.jitsi.meet.sdk.JitsiMeetOngoingConferenceServi ce.onStartCommand(JitsiMeetOngoingConferenceS ervice.java:135)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.handleServiceArgs(Activit yThread.java:4784)\r\n    \r\n    ...&#160;9&#160;more\r\n\r\n\r\nCheck video for further error references - https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing\r\n\r\nCan someone please help me with this? I will be grateful enough.\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G7ihW.jpg\r\n  [2]: https://i.stack.imgur.com/5RGGn.jpg","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I am trying to integrate <strong>Jitsi Android SDK</strong> for video Conferences on my app but it crashes as soon as I join/create a meeting. I am using Android Version -</p>\n<pre><code>Android Studio Dolphin | 2021.3.1 Patch 1\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\nRuntime version: 11.0.13+0-b1751.21-8125866 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 11 10.0\n</code></pre>\n<p>Here's the java code below for my DashboardActivity.</p>\n<pre><code>package com.skymeet.videoConference;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport org.jitsi.meet.sdk.JitsiMeet;\nimport org.jitsi.meet.sdk.JitsiMeetActivity;\nimport org.jitsi.meet.sdk.JitsiMeetConferenceOptions;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DashboardActivity extends AppCompatActivity {\n\n    EditText codeBox;\n    Button joinBtn, shareBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_dashboard);\n\n        codeBox = findViewById(R.id.codeBox);\n        joinBtn = findViewById(R.id.joinBtn);\n        shareBtn = findViewById(R.id.shareBtn); // not implemented yet\n\n        URL serverURL = null;\n        try {\n            serverURL = new URL(&quot;https://meet.jit.si&quot;);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        JitsiMeetConferenceOptions defaultOptions\n                = new JitsiMeetConferenceOptions.Builder()\n                .setServerURL(serverURL)\n                .setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\n                .build();\n\n        JitsiMeet.setDefaultConferenceOptions(defaultOptions);\n\n\n\n\n        joinBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                JitsiMeetConferenceOptions options\n                        = new JitsiMeetConferenceOptions.Builder()\n                        .setRoom(codeBox.getText().toString()).setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\n                        .build();\n                JitsiMeetActivity.launch(DashboardActivity.this, options);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have implemented this code with help from <a href=\"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/\" rel=\"nofollow noreferrer\">https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/</a></p>\n<p>On the Jitsi Android docs they have mentioned this way <strong>but this does not imports Jitsi Android SDK to our project.</strong></p>\n<p><em>The repository typically goes into the <code>build.gradle</code> file in the root of your project:\nbuild.gradle</em></p>\n<pre><code>allprojects {\n    repositories {\n        maven {\n            url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\n        }\n        google()\n        mavenCentral()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p><em>Dependency definitions belong in the individual module <code>build.gradle</code> files:</em></p>\n<pre><code>dependencies {\n    // (other dependencies)\n    implementation ('org.jitsi.react:jitsi-meet-sdk:+') { transitive = true }\n}\n</code></pre>\n<p>Instead, we used to get a warning like this below while syncing the Gradle files.\n<code>Failed to resolve: org.jitsi.react:jitsi-meet-sdk:6.1.0</code> ~~<br />\n<a href=\"https://i.stack.imgur.com/G7ihW.jpg\" rel=\"nofollow noreferrer\">Check Gradle Warning Screenshot</a></p>\n<p>This can be fixed by placing the repository on <code>settings.gradle</code> as below</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\n        }\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n}\n</code></pre>\n<p>After everything is successfully built &amp; installed on devices, my app crashes as soon as I create or join the meeting. Not able to figure out what is causing my application to crash.</p>\n<p>After crashing the error comes this way on my mobile phone.\n<a href=\"https://i.stack.imgur.com/5RGGn.jpg\" rel=\"nofollow noreferrer\">Check Error Screenshot on mobile</a></p>\n<pre><code>java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk\n\nJits MeetOngoingConferenceService@dc6a12a with Intent(cmp=com.skymeet.videoConference/org.jits i.meet.sdk.JitsiMeetOngoingConferenceService (has extras)}: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(chann el-JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate-null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n\nat\n\nandroid.app.ActivityThread.handleServiceArgs(Activit yThread.java:4802)\n\nat\n\nandroid.app.ActivityThread.access$2100(ActivityThr\n\nead.java:276)\n\nat\n\nandroid.app.ActivityThread$H.handleMessage(Activi\n\ntyThread.java:2156)\n\nat android.os.Handler.dispatchMessage(Handler.java:1 06)\n\nat android.os.Looper.loopOnce (Looper.java:210) at android.os.Looper.loop(Looper.java:299)\n\nat android.app.ActivityThread.main(ActivityThread.java: 8213)\n\nat java.lang.reflect.Method.invoke(Native Method)\n\nat com.android.internal.os.RuntimeInit$MethodAndArg sCaller.run(RuntimeInit.java:556)\n\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.ja\n\nva:1045) Caused by: java.lang.IllegalArgumentException:\n\nInvalid notification (no valid small icon): Notification(channel-JitsiOngoingConfere\n\nnceChannel shortcut-null contentView=null vibrate-null sound-null defaults=0x0 flags=0xa\n\ncolor=0x00000000 category=call actions=2\n\nvis PUBLIC)\n\nat\n\nandroid.app.NotificationManager.fixNotification(Noti ficationManager.java:699) at\n\nandroid.app.NotificationManager.notifyAsUser(Notifi cationManager.java:678) at\n\nandroid.app.NotificationManager.notify(Notification Manager.java:627)\n\nat\n\nandroid.app.NotificationManager.notify(Notification Manager.java:603) at\n\norg.jitsi.meet.sdk.JitsiMeetOngoingConferenceServi ce.onStartCommand(JitsiMeetOngoingConferenceS ervice.java:135)\n\nat\n\nandroid.app.ActivityThread.handleServiceArgs(Activit yThread.java:4784)\n\n... 9 more\n</code></pre>\n<p>Check video for further error references - <a href=\"https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing</a></p>\n<p>Can someone please help me with this? I will be grateful enough.\nThank you!</p>\n"},{"tags":["java","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":21059585,"reputation":51,"user_id":15478231,"display_name":"Mikael Sukoinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679056429,"creation_date":1679056429,"answer_id":75767641,"question_id":75766918,"body_markdown":"Sounds like the server may be restarting from time to time. Where is your application deployed? ","title":"vaadin uix response slow after idle time","body":"<p>Sounds like the server may be restarting from time to time. Where is your application deployed?</p>\n"}],"owner":{"account_id":5163201,"reputation":1,"user_id":4134150,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679058370,"creation_date":1679051616,"question_id":75766918,"body_markdown":"perhaps a very simple question, but I did not find any  answer so far. We are using vaadin14, but I guess, that it is independent of the version. \r\nWhen opening vaadin in the browser and let the browser open for a longer time (half an hour/one hour or more) without interaction, then it lasts very long when trying to open a popup or reading data into a grid for the first time. Repeated reads or actions then work as fast as expected afterwards. After a periode of time, the behaviour is the same again. \r\nIt seems, that the frontend and backend looses there connection or something like that and have to synchronize with each other after a long idle time. \r\n\r\n\r\nPerhaps there are some settings to let the ui and the backend talk to each other in the background to avoid this situation. Thanks in advance for every idea.","title":"vaadin uix response slow after idle time","body":"<p>perhaps a very simple question, but I did not find any  answer so far. We are using vaadin14, but I guess, that it is independent of the version.\nWhen opening vaadin in the browser and let the browser open for a longer time (half an hour/one hour or more) without interaction, then it lasts very long when trying to open a popup or reading data into a grid for the first time. Repeated reads or actions then work as fast as expected afterwards. After a periode of time, the behaviour is the same again.\nIt seems, that the frontend and backend looses there connection or something like that and have to synchronize with each other after a long idle time.</p>\n<p>Perhaps there are some settings to let the ui and the backend talk to each other in the background to avoid this situation. Thanks in advance for every idea.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679058281,"creation_date":1679058281,"answer_id":75767930,"question_id":75767194,"body_markdown":"It is not clear where your are calling buttonClickDialog() function.\r\nMy thoughts are if you are showing the AlertDialog inside AssistantActivity or in a fragment that belongs to AssistantActivity, the &quot;activity&quot; keyword will return the context of AssistantActivity. You can also cast it as (activity as? AssistantActivity)?.\r\n\r\nOr, Maybe you can pass it as parameter \r\nfun buttonClickDialog(context: Context) {\r\n...\r\n ","title":"How access context from another file","body":"<p>It is not clear where your are calling buttonClickDialog() function.\nMy thoughts are if you are showing the AlertDialog inside AssistantActivity or in a fragment that belongs to AssistantActivity, the &quot;activity&quot; keyword will return the context of AssistantActivity. You can also cast it as (activity as? AssistantActivity)?.</p>\n<p>Or, Maybe you can pass it as parameter\nfun buttonClickDialog(context: Context) {\n...</p>\n"}],"owner":{"account_id":18353473,"reputation":1,"user_id":13367113,"display_name":"muhammetbalikci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679367216,"answer_count":1,"score":0,"last_activity_date":1679058281,"creation_date":1679053275,"question_id":75767194,"body_markdown":"I have Assistant activity and an alertDialog function in another kotlin file. I want to create alertdialog box. But I don&#39;t know how I can call context of Assistant. Can you help me? I couldn&#39;t understand contexts.\r\n\r\nMy assistant class: \r\n```\r\nclass AssistantActivity : GenericActivity(), SnackBarActivity {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.assistant_activity)\r\n    }\r\n```\r\n\r\nMy alertDialog function:\r\n```\r\nfun buttonClickDialog() {\r\n\r\n            val domainArray: Array&lt;String&gt; = tenantNames.toTypedArray()\r\n\r\n            val builder = AlertDialog.Builder()\r\n            with(builder) {\r\n\r\n                setTitle(&quot;Choose 1&quot;)\r\n                setItems(domainArray) { dialog, which -&gt;\r\n                }\r\n            }\r\n            val alertDialog = builder.create()\r\n            alertDialog.show()\r\n        }```\r\n","title":"How access context from another file","body":"<p>I have Assistant activity and an alertDialog function in another kotlin file. I want to create alertdialog box. But I don't know how I can call context of Assistant. Can you help me? I couldn't understand contexts.</p>\n<p>My assistant class:</p>\n<pre><code>class AssistantActivity : GenericActivity(), SnackBarActivity {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.assistant_activity)\n    }\n</code></pre>\n<p>My alertDialog function:</p>\n<pre><code>fun buttonClickDialog() {\n\n            val domainArray: Array&lt;String&gt; = tenantNames.toTypedArray()\n\n            val builder = AlertDialog.Builder()\n            with(builder) {\n\n                setTitle(&quot;Choose 1&quot;)\n                setItems(domainArray) { dialog, which -&gt;\n                }\n            }\n            val alertDialog = builder.create()\n            alertDialog.show()\n        }```\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1679059054,"post_id":75767906,"comment_id":133657434,"body_markdown":"I believe that is known issue: https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16081 https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16147","body":"I believe that is known issue: <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16081\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/jira/software/c/projects/HHH/issues/&zwnj;&#8203;&hellip;</a> <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16147\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/jira/software/c/projects/HHH/issues/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3053490,"reputation":1048,"user_id":2587611,"display_name":"Bram"},"score":0,"creation_date":1679065388,"post_id":75767906,"comment_id":133659326,"body_markdown":"@AndreyB.Panfilov Indeed seems like the same issue, so should be fixed in Hibernate 6.2. Thanks.","body":"@AndreyB.Panfilov Indeed seems like the same issue, so should be fixed in Hibernate 6.2. Thanks."}],"owner":{"account_id":3053490,"reputation":1048,"user_id":2587611,"display_name":"Bram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679058122,"creation_date":1679058122,"question_id":75767906,"body_markdown":"I have an Entity called User:\r\n```\r\nimport jakarta.persistence.*\r\n\r\nimport java.util.List;\r\n\r\n@Entity(name = &quot;USERS&quot;)\r\npublic class User {\r\n\r\n    private String username;\r\n    private List&lt;String&gt; roles;\r\n\r\n    @Id\r\n    @Column(name = &quot;USERNAME&quot;)\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(final String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Convert(converter = StringListConverter.class)\r\n    @Column(name = &quot;GROUPS&quot;)\r\n    public List&lt;String&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(final List&lt;String&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\n\r\nBefore, when using Spring Boot 2.7.9, I could update this entity as follows:\r\n```\r\npublic User updateUser(String username, User updatedUser) {\r\n    User user = this.userRepository.findById(username).orElseThrow();\r\n    user.getRoles().removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\r\n    user.getRoles().addAll(updatedUser.getRoles());\r\n    return userRepository.save(user);\r\n}\r\n```\r\n\r\nBut after upgrading to Spring Boot 3, this does not work anymore. I have to create a new ArrayList and call `setRoles()` in order for the entity to be persisted when calling `save()`. So this code *does* work:\r\n```\r\npublic User updateUser(String username, User updatedUser) {\r\n    User user = this.userRepository.findById(username).orElseThrow();\r\n    List&lt;String&gt; newRoles = new ArrayList&lt;&gt;(user.getRoles());\r\n    newRoles.removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\r\n    newRoles.addAll(updatedUser.getRoles());\r\n    user.setRoles(newRoles);\r\n    return userRepository.save(user);\r\n}\r\n```\r\n\r\n\r\nThere&#39;s no exception whatsoever and the `save()` method returns the updated User object (with the updated roles) as expected. But there is no query being executed (according to hibernate logs) and the database is not modified.\r\n\r\nAny idea what might cause this?\r\n\r\n\r\nFor completeness, this is the StringListConverter:\r\n```\r\nimport jakarta.persistence.AttributeConverter;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(final List&lt;String&gt; strings) {\r\n        return String.join(&quot;,&quot;, strings);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; convertToEntityAttribute(final String s) {\r\n        return Arrays.asList(s.split(&quot;,&quot;)).stream()\r\n                .map(String::trim)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nAnd this is the UserRepository:\r\n```\r\n@Repository\r\ninterface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n}\r\n```","title":"JPA Entity not persisted in Spring Boot 3 when only changing List items","body":"<p>I have an Entity called User:</p>\n<pre><code>import jakarta.persistence.*\n\nimport java.util.List;\n\n@Entity(name = &quot;USERS&quot;)\npublic class User {\n\n    private String username;\n    private List&lt;String&gt; roles;\n\n    @Id\n    @Column(name = &quot;USERNAME&quot;)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(final String username) {\n        this.username = username;\n    }\n\n    @Convert(converter = StringListConverter.class)\n    @Column(name = &quot;GROUPS&quot;)\n    public List&lt;String&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(final List&lt;String&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>Before, when using Spring Boot 2.7.9, I could update this entity as follows:</p>\n<pre><code>public User updateUser(String username, User updatedUser) {\n    User user = this.userRepository.findById(username).orElseThrow();\n    user.getRoles().removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\n    user.getRoles().addAll(updatedUser.getRoles());\n    return userRepository.save(user);\n}\n</code></pre>\n<p>But after upgrading to Spring Boot 3, this does not work anymore. I have to create a new ArrayList and call <code>setRoles()</code> in order for the entity to be persisted when calling <code>save()</code>. So this code <em>does</em> work:</p>\n<pre><code>public User updateUser(String username, User updatedUser) {\n    User user = this.userRepository.findById(username).orElseThrow();\n    List&lt;String&gt; newRoles = new ArrayList&lt;&gt;(user.getRoles());\n    newRoles.removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\n    newRoles.addAll(updatedUser.getRoles());\n    user.setRoles(newRoles);\n    return userRepository.save(user);\n}\n</code></pre>\n<p>There's no exception whatsoever and the <code>save()</code> method returns the updated User object (with the updated roles) as expected. But there is no query being executed (according to hibernate logs) and the database is not modified.</p>\n<p>Any idea what might cause this?</p>\n<p>For completeness, this is the StringListConverter:</p>\n<pre><code>import jakarta.persistence.AttributeConverter;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(final List&lt;String&gt; strings) {\n        return String.join(&quot;,&quot;, strings);\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(final String s) {\n        return Arrays.asList(s.split(&quot;,&quot;)).stream()\n                .map(String::trim)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>And this is the UserRepository:</p>\n<pre><code>@Repository\ninterface UserRepository extends JpaRepository&lt;User, String&gt; {\n}\n</code></pre>\n"},{"tags":["java","caching","thread-local","virtual-threads"],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673181178,"creation_date":1673181178,"answer_id":75047772,"question_id":75047540,"body_markdown":"Honestly, I am not sure if I understand your question right.\r\n[JEP 429][1] states the following:\r\n - &quot;Every thread-local variable is mutable&quot; and &quot;The thread-local variable serves as a kind of hidden method argument&quot; but it is quite clear that &quot; this can lead to spaghetti-like data flow&quot; and much discipline and some engineering effort are recommended. Some best practices or more restrictions might be helpful ...\r\n - &quot;... if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant.&quot; This raises the question of how an implementation of an algorithm should be designed, taking advantage of the parallelization with virtual threads.\r\n - &quot;The Java Platform should provide a way to maintain immutable and inheritable per-thread data for thousands or millions of virtual threads.&quot; This is a comprehensible demand, but it seems that the authors are not sure and some more conceptual work is needed.\r\n\r\nNow getting back to your question concerning the &quot;allocation of thread locals on a carrier thread from the virtual thread&quot;. Why would you need that?\r\nAnd caching objects in a thread-local makes sense in some scenarios (like caching the principal for the DB access in the example).\r\nSince virtual threads are relatively new (Java 19), it might be a bit early to declare thread-locals dead.\r\n\r\n  [1]: https://openjdk.org/jeps/429","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p>Honestly, I am not sure if I understand your question right.\n<a href=\"https://openjdk.org/jeps/429\" rel=\"nofollow noreferrer\">JEP 429</a> states the following:</p>\n<ul>\n<li>&quot;Every thread-local variable is mutable&quot; and &quot;The thread-local variable serves as a kind of hidden method argument&quot; but it is quite clear that &quot; this can lead to spaghetti-like data flow&quot; and much discipline and some engineering effort are recommended. Some best practices or more restrictions might be helpful ...</li>\n<li>&quot;... if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant.&quot; This raises the question of how an implementation of an algorithm should be designed, taking advantage of the parallelization with virtual threads.</li>\n<li>&quot;The Java Platform should provide a way to maintain immutable and inheritable per-thread data for thousands or millions of virtual threads.&quot; This is a comprehensible demand, but it seems that the authors are not sure and some more conceptual work is needed.</li>\n</ul>\n<p>Now getting back to your question concerning the &quot;allocation of thread locals on a carrier thread from the virtual thread&quot;. Why would you need that?\nAnd caching objects in a thread-local makes sense in some scenarios (like caching the principal for the DB access in the example).\nSince virtual threads are relatively new (Java 19), it might be a bit early to declare thread-locals dead.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1679057882,"creation_date":1679057327,"answer_id":75767787,"question_id":75047540,"body_markdown":"You wrote\r\n\r\n&gt; So I am assuming - please correct me if I am wrong - that\r\n&gt; 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread _unless the code would have blocked otherwise_ and therefore, if\r\n&gt; 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.\r\n\r\nBut the [State of Loom][1] document states:\r\n\r\n&gt; You must not make any assumptions about where the scheduling points are any more than you would for today’s threads. Even without forced preemption, any JDK or library method you call could introduce blocking, and so a task-switching point.\r\n\r\n[and further]:\r\n\r\n&gt; To that end, we plan for the VM to support an operation that tries to forcefully preempt execution at any safepoint. How that capability will be exposed to the schedulers is TBD, and will likely not make it to the first Preview.\r\n\r\nSo\r\n\r\n 1. The assumption that a virtual thread only releases the carrier thread when it is about to be blocked, only applies to the current preview. Preemptive switching between virtual threads is allowed and even planned for the future.\r\n\r\n 2. Even if we assume that a virtual thread can only release the carrier thread when performing blocking operations, we can’t predict when a blocking operation may occur.\r\n\r\n    - One example of operations outside our control, is *class loading*. Loading class data is a blocking operation and class loading is implemented lazily for common JVMs. It’s even possible that a method that has been invoked multiple times suddenly executes an uncommon path that uses a class that has not been used before.\r\n\r\n    - Another example is *resource loading*. Even an example as simple as your `DateFormat` already involves resources organized in an unspecified way, time zone data or localized month and weekday names, for example.\r\n\r\nSo, there’s no way of having a safely working carrier-local cache and your assumption that using thread locals (or alike) for caching is dead, is indeed right. You may use an object pool instead, but since this implies some sort of synchronization, you might as well consider just using a single `DateFormat`&#185; and synchronize on it. This would implement your initial idea of not releasing the carrier thread during the use of the object.\r\n\r\nOf course, in this specific example, the better option is to use a `DateTimeFormatter` from the `java.time` API which is thread safe and hence, allows a single instance to be shared by all threads.\r\n\r\n&#185; or one of multiple, selected in a way that does not involve synchronization\r\n\r\n[1]: https://cr.openjdk.org/~rpressler/loom/loom/sol1_part1.html#scheduling:~:text=You%20must%20not,task%2Dswitching%20point.\r\n[and further]: https://cr.openjdk.org/~rpressler/loom/loom/sol1_part2.html#forced-preemption","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p>You wrote</p>\n<blockquote>\n<p>So I am assuming - please correct me if I am wrong - that</p>\n<ol>\n<li>the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread <em>unless the code would have blocked otherwise</em> and therefore, if</li>\n<li>the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.</li>\n</ol>\n</blockquote>\n<p>But the <a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part1.html#scheduling:%7E:text=You%20must%20not,task%2Dswitching%20point.\" rel=\"noreferrer\">State of Loom</a> document states:</p>\n<blockquote>\n<p>You must not make any assumptions about where the scheduling points are any more than you would for today’s threads. Even without forced preemption, any JDK or library method you call could introduce blocking, and so a task-switching point.</p>\n</blockquote>\n<p><a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part2.html#forced-preemption\" rel=\"noreferrer\">and further</a>:</p>\n<blockquote>\n<p>To that end, we plan for the VM to support an operation that tries to forcefully preempt execution at any safepoint. How that capability will be exposed to the schedulers is TBD, and will likely not make it to the first Preview.</p>\n</blockquote>\n<p>So</p>\n<ol>\n<li><p>The assumption that a virtual thread only releases the carrier thread when it is about to be blocked, only applies to the current preview. Preemptive switching between virtual threads is allowed and even planned for the future.</p>\n</li>\n<li><p>Even if we assume that a virtual thread can only release the carrier thread when performing blocking operations, we can’t predict when a blocking operation may occur.</p>\n<ul>\n<li><p>One example of operations outside our control, is <em>class loading</em>. Loading class data is a blocking operation and class loading is implemented lazily for common JVMs. It’s even possible that a method that has been invoked multiple times suddenly executes an uncommon path that uses a class that has not been used before.</p>\n</li>\n<li><p>Another example is <em>resource loading</em>. Even an example as simple as your <code>DateFormat</code> already involves resources organized in an unspecified way, time zone data or localized month and weekday names, for example.</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>So, there’s no way of having a safely working carrier-local cache and your assumption that using thread locals (or alike) for caching is dead, is indeed right. You may use an object pool instead, but since this implies some sort of synchronization, you might as well consider just using a single <code>DateFormat</code>¹ and synchronize on it. This would implement your initial idea of not releasing the carrier thread during the use of the object.</p>\n<p>Of course, in this specific example, the better option is to use a <code>DateTimeFormatter</code> from the <code>java.time</code> API which is thread safe and hence, allows a single instance to be shared by all threads.</p>\n<p>¹ or one of multiple, selected in a way that does not involve synchronization</p>\n"}],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":75767787,"answer_count":2,"score":12,"last_activity_date":1679057882,"creation_date":1673178976,"question_id":75047540,"body_markdown":"[JEP-425: Virtual Threads][1] states that a new virtual thread &quot;should be created for every application task&quot; and makes twice a reference to the possibility of having &quot;millions&quot; of virtual threads running in the JVM.\r\n\r\nThe same JEP implies that each virtual thread will have access to its own thread-local value:\r\n\r\n&gt; Virtual threads support thread-local variables [...] just like platform threads, so they can run existing code that uses thread locals.\r\n\r\nThread locals are many times used for the purpose of caching an object that is not thread-safe and expensive to create. The JEP warns:\r\n\r\n&gt; However, because virtual threads can be very numerous, use thread locals after careful consideration.\r\n\r\nNumerous indeed! Especially given how virtual threads are not pooled (or at least [shouldn&#39;t be][2]). As representative of a short-lived task, using thread locals in a virtual thread for the purpose of caching an expensive object seems to be borderline void of meaning. Unless! We can from a virtual thread create and access thread locals bound to its carrier thread &#129300;\r\n\r\nFor clarification, I would like to go from something like this (which would have been perfectly acceptable when using only native threads capped to the size of a pool, but this is clearly no longer a very effective caching mechanism when running millions of virtual threads continuously re-created:\r\n\r\n    static final ThreadLocal&lt;DateFormat&gt; CACHED = ThreadLocal.withInitial(DateFormat::getInstance);\r\n\r\nTo this (alas this class is not part of the public API):\r\n\r\n    static final ThreadLocal&lt;DateFormat&gt; CACHED = new jdk.internal.misc.CarrierThreadLocal();\r\n    // CACHED.set(...)\r\n\r\nBefore we even get there. One must ask, is this a safe practice?\r\n\r\nWell, as far as I have understood virtual threads correctly, they are merely logical stages executed on a platform thread (aka. the &quot;carrier thread&quot;) with the ability to unmount instead of being blocked waiting. So I am assuming - please correct me if I am wrong - that 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread _unless the code would have blocked otherwise_ and therefore, if 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.\r\n\r\nWith the risk of answering my own question, JEP-425 indicates this is not possible:\r\n\r\n&gt; Thread-local variables of the carrier are unavailable to the virtual thread, and vice-versa.\r\n\r\nI could not find a public API to get the carrier thread or allocate thread locals explicitly on a platform thread [from a virtual thread], but that&#39;s not to say my humble research is definitive. Maybe there is a way?\r\n\r\nThen I read [JEP-429: Scoped Values][3] which at first glance seems to be a stab by the Java Gods to get rid of the `ThreadLocal` altogether, or at least provide an alternative for virtual threads. In fact, the JEP uses verbiage such as &quot;migration to scoped values&quot; and says they are &quot;preferred to thread-local variables, especially when using large numbers of virtual threads&quot;. \r\n\r\nFor all the use cases discussed in the JEP, I can only agree. But towards the bottom of this document, we also find this:\r\n\r\n&gt; There are a few scenarios that favor thread-local variables. An example is caching objects that are expensive to create and use, such as instances of java.text.DateFormat. Notoriously, a DateFormat object is mutable, so it cannot be shared between threads without synchronization. Giving each thread its own DateFormat object, via a thread-local variable that persists for the lifetime of the thread, is often a practical approach.\r\n\r\nIn light of what was discussed earlier, using a thread-local may be &quot;practical&quot; but not very ideal. In fact, JEP-429 itself actually started off with a very telling remark: &quot;if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant&quot;.\r\n\r\nTo summarize:\r\n\r\nHave you found a way to allocate thread locals on a carrier thread from the virtual thread?\r\n\r\nIf not, is it safe to say that for applications using virtual threads, the practice of caching objects in a thread-local is dead and one will have to implement/use a different approach such as a concurrent cache/map/pool/whatever?\r\n\r\n[1]: https://openjdk.org/jeps/425\r\n[2]: https://openjdk.org/jeps/425#Do-not-pool-virtual-threads\r\n[3]: https://openjdk.org/jeps/429","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p><a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">JEP-425: Virtual Threads</a> states that a new virtual thread &quot;should be created for every application task&quot; and makes twice a reference to the possibility of having &quot;millions&quot; of virtual threads running in the JVM.</p>\n<p>The same JEP implies that each virtual thread will have access to its own thread-local value:</p>\n<blockquote>\n<p>Virtual threads support thread-local variables [...] just like platform threads, so they can run existing code that uses thread locals.</p>\n</blockquote>\n<p>Thread locals are many times used for the purpose of caching an object that is not thread-safe and expensive to create. The JEP warns:</p>\n<blockquote>\n<p>However, because virtual threads can be very numerous, use thread locals after careful consideration.</p>\n</blockquote>\n<p>Numerous indeed! Especially given how virtual threads are not pooled (or at least <a href=\"https://openjdk.org/jeps/425#Do-not-pool-virtual-threads\" rel=\"noreferrer\">shouldn't be</a>). As representative of a short-lived task, using thread locals in a virtual thread for the purpose of caching an expensive object seems to be borderline void of meaning. Unless! We can from a virtual thread create and access thread locals bound to its carrier thread 🤔</p>\n<p>For clarification, I would like to go from something like this (which would have been perfectly acceptable when using only native threads capped to the size of a pool, but this is clearly no longer a very effective caching mechanism when running millions of virtual threads continuously re-created:</p>\n<pre><code>static final ThreadLocal&lt;DateFormat&gt; CACHED = ThreadLocal.withInitial(DateFormat::getInstance);\n</code></pre>\n<p>To this (alas this class is not part of the public API):</p>\n<pre><code>static final ThreadLocal&lt;DateFormat&gt; CACHED = new jdk.internal.misc.CarrierThreadLocal();\n// CACHED.set(...)\n</code></pre>\n<p>Before we even get there. One must ask, is this a safe practice?</p>\n<p>Well, as far as I have understood virtual threads correctly, they are merely logical stages executed on a platform thread (aka. the &quot;carrier thread&quot;) with the ability to unmount instead of being blocked waiting. So I am assuming - please correct me if I am wrong - that 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread <em>unless the code would have blocked otherwise</em> and therefore, if 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.</p>\n<p>With the risk of answering my own question, JEP-425 indicates this is not possible:</p>\n<blockquote>\n<p>Thread-local variables of the carrier are unavailable to the virtual thread, and vice-versa.</p>\n</blockquote>\n<p>I could not find a public API to get the carrier thread or allocate thread locals explicitly on a platform thread [from a virtual thread], but that's not to say my humble research is definitive. Maybe there is a way?</p>\n<p>Then I read <a href=\"https://openjdk.org/jeps/429\" rel=\"noreferrer\">JEP-429: Scoped Values</a> which at first glance seems to be a stab by the Java Gods to get rid of the <code>ThreadLocal</code> altogether, or at least provide an alternative for virtual threads. In fact, the JEP uses verbiage such as &quot;migration to scoped values&quot; and says they are &quot;preferred to thread-local variables, especially when using large numbers of virtual threads&quot;.</p>\n<p>For all the use cases discussed in the JEP, I can only agree. But towards the bottom of this document, we also find this:</p>\n<blockquote>\n<p>There are a few scenarios that favor thread-local variables. An example is caching objects that are expensive to create and use, such as instances of java.text.DateFormat. Notoriously, a DateFormat object is mutable, so it cannot be shared between threads without synchronization. Giving each thread its own DateFormat object, via a thread-local variable that persists for the lifetime of the thread, is often a practical approach.</p>\n</blockquote>\n<p>In light of what was discussed earlier, using a thread-local may be &quot;practical&quot; but not very ideal. In fact, JEP-429 itself actually started off with a very telling remark: &quot;if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant&quot;.</p>\n<p>To summarize:</p>\n<p>Have you found a way to allocate thread locals on a carrier thread from the virtual thread?</p>\n<p>If not, is it safe to say that for applications using virtual threads, the practice of caching objects in a thread-local is dead and one will have to implement/use a different approach such as a concurrent cache/map/pool/whatever?</p>\n"},{"tags":["java","cxf"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1679060604,"post_id":75767858,"comment_id":133657866,"body_markdown":"Since CXF 4.0.0 they have changed based library and java `Jakarta EE 9.1 support and JDK-11 baseline`. [Release Note](https://cxf.apache.org/cxf-400-release-notes.html) and [Migration Guide](https://cxf.apache.org/docs/40-migration-guide.html). Check your command has `jakarta.xml.ws-api-3.0.1.jar` on classpath? Its missing in classpath.","body":"Since CXF 4.0.0 they have changed based library and java <code>Jakarta EE 9.1 support and JDK-11 baseline</code>. <a href=\"https://cxf.apache.org/cxf-400-release-notes.html\" rel=\"nofollow noreferrer\">Release Note</a> and <a href=\"https://cxf.apache.org/docs/40-migration-guide.html\" rel=\"nofollow noreferrer\">Migration Guide</a>. Check your command has <code>jakarta.xml.ws-api-3.0.1.jar</code> on classpath? Its missing in classpath."}],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679057803,"creation_date":1679057803,"question_id":75767858,"body_markdown":"When I am running CXF 4.0 on Java 17 Amazon corretto:\r\n\r\n&gt; wsdlvalidator my.wsdl\r\n\r\nThe following error appears:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; jakarta/xml/ws/WebServiceContext\r\n&gt;         at org.apache.cxf.jaxws.context.WebServiceContextResourceResolver.resolve(WebServiceContextResourceResolver.java:59)\r\n&gt;         at org.apache.cxf.resource.DefaultResourceManager.findResource(DefaultResourceManager.java:118)\r\n&gt;         at org.apache.cxf.resource.DefaultResourceManager.resolveResource(DefaultResourceManager.java:62)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.resolveResource(ResourceInjector.java:436)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.visitMethod(ResourceInjector.java:230)\r\n&gt;         at org.apache.cxf.common.annotation.AnnotationProcessor.processMethods(AnnotationProcessor.java:89)\r\n&gt;         at org.apache.cxf.common.annotation.AnnotationProcessor.accept(AnnotationProcessor.java:72)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:121)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:115)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:227)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeanOfType(ExtensionManagerImpl.java:305)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerBus.getExtension(ExtensionManagerBus.java:181)\r\n&gt;         at org.apache.cxf.tools.validator.internal.WSDL11Validator.isValid(WSDL11Validator.java:114)\r\n&gt;         at org.apache.cxf.tools.validator.WSDLValidator.execute(WSDLValidator.java:75)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:58)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:40)\r\n&gt;         at org.apache.cxf.tools.validator.WSDLValidator.main(WSDLValidator.java:104)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; jakarta.xml.ws.WebServiceContext\r\n&gt;         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n&gt;         at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt;         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt;         ... 18 more\r\n\r\nWhat is wrong? The previous version 3.5.5 works well.","title":"Apache wsdlvalidator 4.0.0 returns error when running on Java 17","body":"<p>When I am running CXF 4.0 on Java 17 Amazon corretto:</p>\n<blockquote>\n<p>wsdlvalidator my.wsdl</p>\n</blockquote>\n<p>The following error appears:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\njakarta/xml/ws/WebServiceContext\nat org.apache.cxf.jaxws.context.WebServiceContextResourceResolver.resolve(WebServiceContextResourceResolver.java:59)\nat org.apache.cxf.resource.DefaultResourceManager.findResource(DefaultResourceManager.java:118)\nat org.apache.cxf.resource.DefaultResourceManager.resolveResource(DefaultResourceManager.java:62)\nat org.apache.cxf.common.injection.ResourceInjector.resolveResource(ResourceInjector.java:436)\nat org.apache.cxf.common.injection.ResourceInjector.visitMethod(ResourceInjector.java:230)\nat org.apache.cxf.common.annotation.AnnotationProcessor.processMethods(AnnotationProcessor.java:89)\nat org.apache.cxf.common.annotation.AnnotationProcessor.accept(AnnotationProcessor.java:72)\nat org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:121)\nat org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:115)\nat org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:227)\nat org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeanOfType(ExtensionManagerImpl.java:305)\nat org.apache.cxf.bus.extension.ExtensionManagerBus.getExtension(ExtensionManagerBus.java:181)\nat org.apache.cxf.tools.validator.internal.WSDL11Validator.isValid(WSDL11Validator.java:114)\nat org.apache.cxf.tools.validator.WSDLValidator.execute(WSDLValidator.java:75)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:58)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:40)\nat org.apache.cxf.tools.validator.WSDLValidator.main(WSDLValidator.java:104)\nCaused by: java.lang.ClassNotFoundException:\njakarta.xml.ws.WebServiceContext\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 18 more</p>\n</blockquote>\n<p>What is wrong? The previous version 3.5.5 works well.</p>\n"},{"tags":["java","spring-boot","jira-rest-api"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679057596,"creation_date":1679057596,"answer_id":75767828,"question_id":75726362,"body_markdown":"Having both `jakarta` and `javax` in the classpath will not cause any material issues, besides the IDE prompting both imports when a &#39;duplicated&#39; class name is used.\r\n\r\nThe decision on whether to migrate to Spring Boot 3.0.x now or later (and use dependencies with pre jdk17 package naming) depends on what is driving this, eg spring-boot dependency vulnerabilities, functionality, etc. It may be unavoidable.\r\n\r\nMy preference is to wait for 3.1.x so that issues caused by the jump to jdk17 are bedded down and SO has more questions and useful answers.","title":"How to migrate to Spring boot 3 when relying on a third-party library that still uses javax instead of jakarta api?","body":"<p>Having both <code>jakarta</code> and <code>javax</code> in the classpath will not cause any material issues, besides the IDE prompting both imports when a 'duplicated' class name is used.</p>\n<p>The decision on whether to migrate to Spring Boot 3.0.x now or later (and use dependencies with pre jdk17 package naming) depends on what is driving this, eg spring-boot dependency vulnerabilities, functionality, etc. It may be unavoidable.</p>\n<p>My preference is to wait for 3.1.x so that issues caused by the jump to jdk17 are bedded down and SO has more questions and useful answers.</p>\n"}],"owner":{"account_id":135718,"reputation":935,"user_id":338780,"accept_rate":67,"display_name":"theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679057596,"creation_date":1678737325,"question_id":75726362,"body_markdown":"We are in the process of migrating our project to Spring Boot 3 and while we refactored our code to use the new `jakarta` api (instead of `javax`) there is one third-party library that still uses `javax` and unfortunately there is no available `jakarta` version published yet.\r\n\r\nThe dependency is `jira-rest-java-client-core` and can be found [here][1]. They seem to be using `javax.ws.rs.core.UriBuilder`.\r\n\r\nWhat happens in such cases? \r\n\r\nDelay the migration until there is a new Spring Boot 3-compatible version of the library or include the `javax` api via some other legacy dependency e.g. [jersey-client][2] ?  Will it cause any issues down the line having both `jakarta` and `javax` in the classpath ?\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.atlassian.jira/jira-rest-java-client-core/5.2.4\r\n  [2]: https://mvnrepository.com/artifact/com.sun.jersey/jersey-client","title":"How to migrate to Spring boot 3 when relying on a third-party library that still uses javax instead of jakarta api?","body":"<p>We are in the process of migrating our project to Spring Boot 3 and while we refactored our code to use the new <code>jakarta</code> api (instead of <code>javax</code>) there is one third-party library that still uses <code>javax</code> and unfortunately there is no available <code>jakarta</code> version published yet.</p>\n<p>The dependency is <code>jira-rest-java-client-core</code> and can be found <a href=\"https://mvnrepository.com/artifact/com.atlassian.jira/jira-rest-java-client-core/5.2.4\" rel=\"nofollow noreferrer\">here</a>. They seem to be using <code>javax.ws.rs.core.UriBuilder</code>.</p>\n<p>What happens in such cases?</p>\n<p>Delay the migration until there is a new Spring Boot 3-compatible version of the library or include the <code>javax</code> api via some other legacy dependency e.g. <a href=\"https://mvnrepository.com/artifact/com.sun.jersey/jersey-client\" rel=\"nofollow noreferrer\">jersey-client</a> ?  Will it cause any issues down the line having both <code>jakarta</code> and <code>javax</code> in the classpath ?</p>\n"},{"tags":["java","automation","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":8581825,"reputation":106,"user_id":6429189,"display_name":"jay"},"score":0,"creation_date":1679056904,"post_id":75767658,"comment_id":133656850,"body_markdown":"I might be missing the point, why don&#39;t you get userId from one of the above mentioned JSONObjects? Why do you have to get it from qciResponse, which currently is a String?","body":"I might be missing the point, why don&#39;t you get userId from one of the above mentioned JSONObjects? Why do you have to get it from qciResponse, which currently is a String?"},{"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"score":0,"creation_date":1679057411,"post_id":75767658,"comment_id":133656953,"body_markdown":"qciResponse stores the response of queryCombinedInfo method \nand i want userId which coming in response of queryCombinedInfo method","body":"qciResponse stores the response of queryCombinedInfo method  and i want userId which coming in response of queryCombinedInfo method"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1679107605,"post_id":75767658,"comment_id":133666882,"body_markdown":"@DeepaliSinha there is nothing called `JSONString` in rest-assured. It&#39;s just String. Instead of converting from `Response` to `String` then get value, you can get value directly from `Response`.","body":"@DeepaliSinha there is nothing called <code>JSONString</code> in rest-assured. It&#39;s just String. Instead of converting from <code>Response</code> to <code>String</code> then get value, you can get value directly from <code>Response</code>."}],"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679057589,"creation_date":1679056542,"question_id":75767658,"body_markdown":"question-&gt;\r\nhere I want to convert the qciResponse variable into Json and fetch userId from qciResponse, how can we do that..?\r\n\r\n    public String setRemoveLoginIdRequestBody (String awsEndPoint, String loginId) throws Exception {\r\n        JSONObject joi = new JSONObject();\r\n        JSONObject requestbody = new JSONObject();\r\n        String qciResponse;\r\n        if(loginId.contains(&quot;@&quot;)) {\r\n            qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;email&quot;);\r\n        } else {\r\n           qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;mobile&quot;);\r\n        }\r\n        if (qciResponse==null || qciResponse.isEmpty()){\r\n            throw new Exception();\r\n        }\r\n\r\nthis is my code i want to convert qciResponse into json \r\nhere, qciResponse stores the response of queryCombinedInfo method\r\ni am writing code like this but this is giving error\r\n\r\n    String h = qciResponse.toJSONString; \r\n\r\n","title":"How can we convert a String variable into JsonString in restAssured","body":"<p>question-&gt;\nhere I want to convert the qciResponse variable into Json and fetch userId from qciResponse, how can we do that..?</p>\n<pre><code>public String setRemoveLoginIdRequestBody (String awsEndPoint, String loginId) throws Exception {\n    JSONObject joi = new JSONObject();\n    JSONObject requestbody = new JSONObject();\n    String qciResponse;\n    if(loginId.contains(&quot;@&quot;)) {\n        qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;email&quot;);\n    } else {\n       qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;mobile&quot;);\n    }\n    if (qciResponse==null || qciResponse.isEmpty()){\n        throw new Exception();\n    }\n</code></pre>\n<p>this is my code i want to convert qciResponse into json\nhere, qciResponse stores the response of queryCombinedInfo method\ni am writing code like this but this is giving error</p>\n<pre><code>String h = qciResponse.toJSONString; \n</code></pre>\n"},{"tags":["java","flutter","gradle"],"comments":[{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1679063595,"post_id":75767808,"comment_id":133658754,"body_markdown":"Have you tried running the build itself with Java 17?","body":"Have you tried running the build itself with Java 17?"},{"owner":{"account_id":22770415,"reputation":524,"user_id":16927940,"display_name":"GentleAutumnRain"},"score":0,"creation_date":1679067473,"post_id":75767808,"comment_id":133659972,"body_markdown":"Does this answer your question? [Could not open settings generic class cache for settings file &#39;](https://stackoverflow.com/questions/67240279/could-not-open-settings-generic-class-cache-for-settings-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67240279/could-not-open-settings-generic-class-cache-for-settings-file\">Could not open settings generic class cache for settings file &#39;</a>"}],"owner":{"account_id":22948264,"reputation":11,"user_id":17079941,"display_name":"Mahmoud N. Al-Shhyby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679057467,"creation_date":1679057467,"question_id":75767808,"body_markdown":"I had finished dart course and starting a Flutter course i downlouded android studio and the flutter app worked very will on chrom , but when i run it on the virtual device of th emulator it does not work , I have done almost evry sloution(about Java &amp;&amp; Gradle) but nothing worke and this is the error :\r\n FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\hp\\StudioProjects\\flutter_1\\android\\settings.gradle&#39; (C:\\Users\\hp\\.gradle\\caches\\7.4\\scripts\\ea4ydi90mwjg9g63m7r6nimmx).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n\r\n\r\n\r\ngradle version : Gradle 8.0.2\r\njava version &quot;19.0.2&quot; 2023-01-17\r\n\r\nI think the error because java &amp;&amp; gradle version ","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>I had finished dart course and starting a Flutter course i downlouded android studio and the flutter app worked very will on chrom , but when i run it on the virtual device of th emulator it does not work , I have done almost evry sloution(about Java &amp;&amp; Gradle) but nothing worke and this is the error :\nFAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\hp\\StudioProjects\\flutter_1\\android\\settings.gradle' (C:\\Users\\hp.gradle\\caches\\7.4\\scripts\\ea4ydi90mwjg9g63m7r6nimmx).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n<p>gradle version : Gradle 8.0.2\njava version &quot;19.0.2&quot; 2023-01-17</p>\n<p>I think the error because java &amp;&amp; gradle version</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":243539,"reputation":739,"user_id":515797,"display_name":"mmounirou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313148904,"creation_date":1313148904,"answer_id":7039502,"question_id":7039303,"body_markdown":"You can try to add a trigger filter in your scheduler \r\n\r\n    this.scheduler.addGlobalTriggerListener(new DebugExecutionFilter());\r\n\r\nThe debug execution filter will add a veto when the execution is not volatile (not scheduled to run  immediately) and you are in debug mode .\r\n\r\nHere is an implementation example : \r\n\r\n\tprivate static class DebugExecutionFilter implements TriggerListener\r\n\t{\r\n\r\n\t\tpublic DebugExecutionFilter()\r\n\t\t{\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getName()\r\n\t\t{\r\n\t\t\treturn &quot;Task execution filter&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerFired(Trigger trigger, JobExecutionContext context)\r\n\t\t{\r\n\t\t\t// Do nothing\r\n\t\t}\r\n\r\n\t\t/* (non-Javadoc)\r\n\t\t * \r\n\t\t * @see org.quartz.TriggerListener#vetoJobExecution(org.quartz.Trigger, org.quartz.JobExecutionContext) */\r\n\t\t@Override\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t/**\r\n\t\t * A veto is added if :\r\n\t\t *\t- For non volatile trigger if we are in debug mode\r\n\t\t */\r\n\t\tpublic boolean vetoJobExecution(Trigger trigger, JobExecutionContext context)\r\n\t\t{\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t// \r\n\t\t\t\tif ( !trigger.isVolatile() &amp;&amp; isDebugMode() )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t//task is run by scheduler.triggerJobWithVolatileTrigger() for immediate schedule\r\n\t\t\t\t//or task is schedule and we are not in debugMode\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerMisfired(Trigger trigger)\r\n\t\t{\r\n\t\t\t// do nothing\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerComplete(Trigger trigger, JobExecutionContext context, int triggerInstructionCode)\r\n\t\t{\r\n\t\t\t// do nothing\r\n\t\t}\r\n\r\n\t}","title":"Firing Quartz jobs manually","body":"<p>You can try to add a trigger filter in your scheduler </p>\n\n<pre><code>this.scheduler.addGlobalTriggerListener(new DebugExecutionFilter());\n</code></pre>\n\n<p>The debug execution filter will add a veto when the execution is not volatile (not scheduled to run  immediately) and you are in debug mode .</p>\n\n<p>Here is an implementation example : </p>\n\n<pre><code>private static class DebugExecutionFilter implements TriggerListener\n{\n\n    public DebugExecutionFilter()\n    {\n    }\n\n    @Override\n    public String getName()\n    {\n        return \"Task execution filter\";\n    }\n\n    @Override\n    public void triggerFired(Trigger trigger, JobExecutionContext context)\n    {\n        // Do nothing\n    }\n\n    /* (non-Javadoc)\n     * \n     * @see org.quartz.TriggerListener#vetoJobExecution(org.quartz.Trigger, org.quartz.JobExecutionContext) */\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    /**\n     * A veto is added if :\n     *  - For non volatile trigger if we are in debug mode\n     */\n    public boolean vetoJobExecution(Trigger trigger, JobExecutionContext context)\n    {\n\n        try\n        {\n            // \n            if ( !trigger.isVolatile() &amp;&amp; isDebugMode() )\n            {\n                return true;\n            }\n\n            //task is run by scheduler.triggerJobWithVolatileTrigger() for immediate schedule\n            //or task is schedule and we are not in debugMode\n            return false;\n    }\n\n\n    @Override\n    public void triggerMisfired(Trigger trigger)\n    {\n        // do nothing\n    }\n\n    @Override\n    public void triggerComplete(Trigger trigger, JobExecutionContext context, int triggerInstructionCode)\n    {\n        // do nothing\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1505911,"reputation":406,"user_id":1409274,"display_name":"Gaurav Tailor"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1619783934,"creation_date":1346764940,"answer_id":12264408,"question_id":7039303,"body_markdown":"this is the loop you will require to fire the job manually:\r\n \r\n\r\n    SchedulerFactory stdSchedulerFactory = new StdSchedulerFactory();\r\n    Scheduler scheduler = stdSchedulerFactory.getScheduler();\r\n\r\n    // loop jobs by group\r\n    for (String groupName : scheduler.getJobGroupNames()) {\r\n        // get jobkey\r\n        for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\r\n            String jobName = jobKey.getName();\r\n            String jobGroup = jobKey.getGroup();\r\n            scheduler.triggerJob(jobName, jobGroup);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Firing Quartz jobs manually","body":"<p>this is the loop you will require to fire the job manually:</p>\n<pre><code>SchedulerFactory stdSchedulerFactory = new StdSchedulerFactory();\nScheduler scheduler = stdSchedulerFactory.getScheduler();\n\n// loop jobs by group\nfor (String groupName : scheduler.getJobGroupNames()) {\n    // get jobkey\n    for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\n        String jobName = jobKey.getName();\n        String jobGroup = jobKey.getGroup();\n        scheduler.triggerJob(jobName, jobGroup);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5990533,"reputation":11,"user_id":4706742,"display_name":"user4706742"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679056850,"creation_date":1427189631,"answer_id":29229102,"question_id":7039303,"body_markdown":"No need for `start-time` and `end-time`.\r\n```xml\r\n&lt;trigger&gt;\r\n    &lt;cron&gt;\r\n        &lt;name&gt;TestTrigger&lt;/name&gt;\r\n        &lt;group&gt;CronSampleTrigger&lt;/group&gt;\r\n        &lt;description&gt;CronSampleTrigger&lt;/description&gt;\r\n        &lt;job-name&gt;TestJob&lt;/job-name&gt;\r\n        &lt;job-group&gt;jobGroup1&lt;/job-group&gt;\r\n\r\n        &lt;!--&lt;start-time&gt;1982-06-28T18:15:00.0Z&lt;/start-time&gt;\r\n        &lt;end-time&gt;2020-05-04T18:13:51.0Z&lt;/end-time&gt;--&gt;\r\n\r\n        &lt;cron-expression&gt;0 0/1 * * * ?&lt;/cron-expression&gt;\r\n    &lt;/cron&gt;\r\n&lt;/trigger&gt;\r\n```","title":"Firing Quartz jobs manually","body":"<p>No need for <code>start-time</code> and <code>end-time</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;trigger&gt;\n    &lt;cron&gt;\n        &lt;name&gt;TestTrigger&lt;/name&gt;\n        &lt;group&gt;CronSampleTrigger&lt;/group&gt;\n        &lt;description&gt;CronSampleTrigger&lt;/description&gt;\n        &lt;job-name&gt;TestJob&lt;/job-name&gt;\n        &lt;job-group&gt;jobGroup1&lt;/job-group&gt;\n\n        &lt;!--&lt;start-time&gt;1982-06-28T18:15:00.0Z&lt;/start-time&gt;\n        &lt;end-time&gt;2020-05-04T18:13:51.0Z&lt;/end-time&gt;--&gt;\n\n        &lt;cron-expression&gt;0 0/1 * * * ?&lt;/cron-expression&gt;\n    &lt;/cron&gt;\n&lt;/trigger&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184036,"reputation":81,"user_id":1932873,"display_name":"Minarul Haque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619783997,"creation_date":1512564073,"answer_id":47674546,"question_id":7039303,"body_markdown":"All the Jobs registered in the Quartz Scheduler are uniquely identified by the JobKey which is composed of a name and group . You can fire the job which has a given JobKey immediately by calling `triggerJob(JobKey jobKey)` of your Scheduler instance.\r\n\r\n    // Create a new Job \r\n    JobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\r\n    JobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\r\n\r\n    // Register this job to the scheduler\r\n    scheduler.addJob(job, true);\r\n\r\n    // Immediately fire the Job MyJob.class\r\n    scheduler.triggerJob(jobKey);\r\n\r\n**Note:**\r\n\r\n&lt;ui&gt;&lt;li&gt;scheduler is the Scheduler instance used throughout your application . Its start() method should be already called after it is created.&lt;/li&gt;\r\n&lt;li&gt;The job is the durable job which cannot attach any triggers or cron to it .It can only be fired programmatically by calling `triggerJob(JobKey jobKey)`.&lt;/li&gt;&lt;ui&gt;","title":"Firing Quartz jobs manually","body":"<p>All the Jobs registered in the Quartz Scheduler are uniquely identified by the JobKey which is composed of a name and group . You can fire the job which has a given JobKey immediately by calling <code>triggerJob(JobKey jobKey)</code> of your Scheduler instance.</p>\n<pre><code>// Create a new Job \nJobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\nJobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\n\n// Register this job to the scheduler\nscheduler.addJob(job, true);\n\n// Immediately fire the Job MyJob.class\nscheduler.triggerJob(jobKey);\n</code></pre>\n<p><strong>Note:</strong></p>\n<p><li>scheduler is the Scheduler instance used throughout your application . Its start() method should be already called after it is created.</li></p>\n<li>The job is the durable job which cannot attach any triggers or cron to it .It can only be fired programmatically by calling `triggerJob(JobKey jobKey)`.</li>\n"}],"owner":{"account_id":178543,"reputation":253,"user_id":410583,"display_name":"roger armstrong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47691,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1679056850,"creation_date":1313147792,"question_id":7039303,"body_markdown":"We have several Quartz jobs configured in our application. During development, we leave the quartz scheduler in standby - however, we sometimes want to start a job manually (for development purposes). If I call fireTrigger, it tells me I need to start the scheduler. However, if I start the scheduler, it will also immediately schedule all the other jobs, which is not what I want (since they may trigger while I&#39;m debugging the manually fired job).\r\n\r\nI could pause all triggers when I start the scheduler, but then I have to deal with misfire instructions etc.\r\n\r\nIs there a simple way to fire off a job manually without having to deal with pausing and misfires (i.e. a fireTrigger which works even if the scheduler is in standby)?","title":"Firing Quartz jobs manually","body":"<p>We have several Quartz jobs configured in our application. During development, we leave the quartz scheduler in standby - however, we sometimes want to start a job manually (for development purposes). If I call fireTrigger, it tells me I need to start the scheduler. However, if I start the scheduler, it will also immediately schedule all the other jobs, which is not what I want (since they may trigger while I'm debugging the manually fired job).</p>\n\n<p>I could pause all triggers when I start the scheduler, but then I have to deal with misfire instructions etc.</p>\n\n<p>Is there a simple way to fire off a job manually without having to deal with pausing and misfires (i.e. a fireTrigger which works even if the scheduler is in standby)?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1676211877,"post_id":75427444,"comment_id":133087834,"body_markdown":"what I see is &quot;null&quot; is mapped to 0 by default, or you need value other than 0?","body":"what I see is &quot;null&quot; is mapped to 0 by default, or you need value other than 0?"},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":0,"creation_date":1676211952,"post_id":75427444,"comment_id":133087846,"body_markdown":"I&#39;m not a 100% sure, as I only used basic Jackson until now, but i guess adding an extra deserializer for Integer.class could work?","body":"I&#39;m not a 100% sure, as I only used basic Jackson until now, but i guess adding an extra deserializer for Integer.class could work?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1676214208,"post_id":75427444,"comment_id":133088237,"body_markdown":"@samabcde, from experience, string &quot;null&quot; is not mapped to 0. value causes exception","body":"@samabcde, from experience, string &quot;null&quot; is not mapped to 0. value causes exception"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1676216392,"post_id":75427444,"comment_id":133088597,"body_markdown":"I tried this in springboot application and it prints `null 0`. `Person p = objectMapper.readValue(new StringReader(&quot;&quot;&quot;\n                {\n                  &quot;name&quot;: &quot;null&quot;,\n                  &quot;age&quot;: &quot;null&quot;\n                }\n                &quot;&quot;&quot;), Person.class);\n        System.out.println(p.name + &quot; &quot; + p.age);`","body":"I tried this in springboot application and it prints <code>null 0</code>. <code>Person p = objectMapper.readValue(new StringReader(&quot;&quot;&quot;                 {                   &quot;name&quot;: &quot;null&quot;,                   &quot;age&quot;: &quot;null&quot;                 }                 &quot;&quot;&quot;), Person.class);         System.out.println(p.name + &quot; &quot; + p.age);</code>"}],"answers":[{"tags":[],"owner":{"account_id":28042313,"reputation":1,"user_id":21419665,"display_name":"Nenad Jovanovic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679056645,"creation_date":1679056645,"answer_id":75767679,"question_id":75427444,"body_markdown":"To register a Jackson Converter globally, you can either embed it into a deserializer, or into an annotation introspector. For more details and examples, see \r\n\r\nhttps://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html","title":"How to configure Jackson&#39;s Object Mapper to use type converter globally for all deserializations?","body":"<p>To register a Jackson Converter globally, you can either embed it into a deserializer, or into an annotation introspector. For more details and examples, see</p>\n<p><a href=\"https://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html\" rel=\"nofollow noreferrer\">https://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html</a></p>\n"}],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679056645,"creation_date":1676209796,"question_id":75427444,"body_markdown":"I need to convert certain values in json body of all my http requests.\r\nSpecifically, the client will send string `&quot;null&quot;` instead of null reference for `String` properties and `0` for `int` properties.\r\n\r\nexample json body of request\r\n\r\n\t{\r\n\t  &quot;name&quot;: &quot;null&quot;,\r\n\t  &quot;age&quot;: &quot;null&quot;\r\n\t}\r\n\r\nneeds to be deserialized into \r\n\r\n\tpublic class Person {\r\n\t\tpublic String name;  // name == null\r\n\t\tpublic int age;      // age == 0\r\n\t}\r\n\r\nInitially I added custom String Deserializer to ObjectMapper:\r\n\r\n\t@Bean\r\n\tpublic Module convertNullValueToNullReference() {\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.addDeserializer(String.class, new StdDeserializer&lt;&gt;(String.class) {\r\n\t\t\t@Override\r\n\t\t\tpublic String deserialize(JsonParser p, DeserializationContext context) throws IOException {\r\n\t\t\t\tString value = StringDeserializer.instance.deserialize(p, context);\r\n\t\t\t\tif (&quot;null&quot;.equalsIgnoreCase(value)) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn module;\r\n\t}\r\n\r\nbut this obviously does not work for the case of int fields. I need to add type converter to `ObjectMapper` but there is no `addConverter()` method in `SimpleModule`.\r\n\r\nI know about `@JsonDeserialize(converter = ...)` but I need to register the converter globally for all classes.\r\n\r\nI searched SO and could only find [this related question][1] but the answer is tailored to the specific conversion of dates and is not suitable for my case\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51287906/how-to-configure-jackson-to-convert-all-fields-of-a-type-to-another-type","title":"How to configure Jackson&#39;s Object Mapper to use type converter globally for all deserializations?","body":"<p>I need to convert certain values in json body of all my http requests.\nSpecifically, the client will send string <code>&quot;null&quot;</code> instead of null reference for <code>String</code> properties and <code>0</code> for <code>int</code> properties.</p>\n<p>example json body of request</p>\n<pre><code>{\n  &quot;name&quot;: &quot;null&quot;,\n  &quot;age&quot;: &quot;null&quot;\n}\n</code></pre>\n<p>needs to be deserialized into</p>\n<pre><code>public class Person {\n    public String name;  // name == null\n    public int age;      // age == 0\n}\n</code></pre>\n<p>Initially I added custom String Deserializer to ObjectMapper:</p>\n<pre><code>@Bean\npublic Module convertNullValueToNullReference() {\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(String.class, new StdDeserializer&lt;&gt;(String.class) {\n        @Override\n        public String deserialize(JsonParser p, DeserializationContext context) throws IOException {\n            String value = StringDeserializer.instance.deserialize(p, context);\n            if (&quot;null&quot;.equalsIgnoreCase(value)) {\n                return null;\n            }\n            return value;\n        }\n    });\n    return module;\n}\n</code></pre>\n<p>but this obviously does not work for the case of int fields. I need to add type converter to <code>ObjectMapper</code> but there is no <code>addConverter()</code> method in <code>SimpleModule</code>.</p>\n<p>I know about <code>@JsonDeserialize(converter = ...)</code> but I need to register the converter globally for all classes.</p>\n<p>I searched SO and could only find <a href=\"https://stackoverflow.com/questions/51287906/how-to-configure-jackson-to-convert-all-fields-of-a-type-to-another-type\">this related question</a> but the answer is tailored to the specific conversion of dates and is not suitable for my case</p>\n"},{"tags":["java","itext","pdf-generation"],"owner":{"account_id":28042201,"reputation":1,"user_id":21419572,"display_name":"Anonymous Cookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679056514,"creation_date":1679056514,"question_id":75767655,"body_markdown":"I have been facing an issue with exporting multiple languages text in PDF export using itext in java(itext version 2.1.7, jre version - 1.8.0_282), Current implementation of code had only set a single font based on locale as below\r\n\r\n```\r\nFont font = new Font(Font.HELVETICA);\r\nString pdfFont = i18nText(KEY_PDF_FONT);\r\nBaseFont baseFont = BaseFont.createFont(pdfFont, pdfEncoding, BaseFont.NOT_EMBEDDED);\r\n```\r\n\r\nwhich produces an output as below\r\n[Korean text used in this case, any text other than English(based on locale) was displayed with ??](https://i.stack.imgur.com/oJ663.png)\r\n\r\nI had changed the current implementation to using FontSelector of itext to support multi language export in the same pdf and have included the missing itext-asian-2.1.7.jar file to the lib path of the application and implemented as below to suppport English, Chinese, Japanese, Korean and Greek Languages\r\n\r\n```\r\nFontSelector selector=new FontSelector();\r\nFont enFont = new Font(Font.HELVETICA);\r\nBaseFont jpBaseFont = BaseFont.createFont(&quot;KozMinPro-Regular&quot;,&quot;UniJIS-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nBaseFont cBaseFont = BaseFont.createFont(&quot;STSong-Light&quot;,&quot;UniGB-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nBaseFont kBaseFont = BaseFont.createFont(&quot;HYSMyeongJo-Medium&quot;,&quot;UniKS-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nFont jpFont = new Font(jpBaseFont);\r\nFont cFont = new Font(cBaseFont);\r\nFont kFont = new Font(kBaseFont);\r\nselector.addFont(enFont);\r\nselector.addFont(jpFont);\r\nselector.addFont(cFont);\r\nselector.addFont(kFont);\r\n\r\n\r\nselector.process(text);\r\n```\r\n//outputted the phrase to the document.\r\n\r\nThe fonts are being added to the selector and being processed as expected except in the case of Chinese characters some of them are printing blank.\r\n\r\nText - 您的帐户已成功登录。\r\n\r\nOutput\r\n[Selected Text in line 3 and 4 after &quot;Processed Text&quot;](https://i.stack.imgur.com/xv2Jp.png)\r\n\r\n\r\n\r\nIf I tried downloading the same font embedded in the jar - STSONG-Light from the web and add it like below\r\n```\r\nBaseFont cbf = BaseFont.createFont(&quot;STSong-light.ttf&quot;, &quot;Identity-H&quot;, true);\r\n```\r\nRendering takes place as expected\r\n[enter image description here](https://i.stack.imgur.com/9m1Sv.png)\r\nAre the characters in bold being rendered from a different included font other than the Chinese font?\r\nAny idea on how to fix this?\r\n\r\nChecking PDF using Microsoft edge , Since I am not allowed access to adobe acrobat.","title":"Missing chinese characters in itext pdf export","body":"<p>I have been facing an issue with exporting multiple languages text in PDF export using itext in java(itext version 2.1.7, jre version - 1.8.0_282), Current implementation of code had only set a single font based on locale as below</p>\n<pre><code>Font font = new Font(Font.HELVETICA);\nString pdfFont = i18nText(KEY_PDF_FONT);\nBaseFont baseFont = BaseFont.createFont(pdfFont, pdfEncoding, BaseFont.NOT_EMBEDDED);\n</code></pre>\n<p>which produces an output as below\n<a href=\"https://i.stack.imgur.com/oJ663.png\" rel=\"nofollow noreferrer\">Korean text used in this case, any text other than English(based on locale) was displayed with ??</a></p>\n<p>I had changed the current implementation to using FontSelector of itext to support multi language export in the same pdf and have included the missing itext-asian-2.1.7.jar file to the lib path of the application and implemented as below to suppport English, Chinese, Japanese, Korean and Greek Languages</p>\n<pre><code>FontSelector selector=new FontSelector();\nFont enFont = new Font(Font.HELVETICA);\nBaseFont jpBaseFont = BaseFont.createFont(&quot;KozMinPro-Regular&quot;,&quot;UniJIS-UCS2-H&quot;, BaseFont.EMBEDDED);\nBaseFont cBaseFont = BaseFont.createFont(&quot;STSong-Light&quot;,&quot;UniGB-UCS2-H&quot;, BaseFont.EMBEDDED);\nBaseFont kBaseFont = BaseFont.createFont(&quot;HYSMyeongJo-Medium&quot;,&quot;UniKS-UCS2-H&quot;, BaseFont.EMBEDDED);\nFont jpFont = new Font(jpBaseFont);\nFont cFont = new Font(cBaseFont);\nFont kFont = new Font(kBaseFont);\nselector.addFont(enFont);\nselector.addFont(jpFont);\nselector.addFont(cFont);\nselector.addFont(kFont);\n\n\nselector.process(text);\n</code></pre>\n<p>//outputted the phrase to the document.</p>\n<p>The fonts are being added to the selector and being processed as expected except in the case of Chinese characters some of them are printing blank.</p>\n<p>Text - 您的帐户已成功登录。</p>\n<p>Output\n<a href=\"https://i.stack.imgur.com/xv2Jp.png\" rel=\"nofollow noreferrer\">Selected Text in line 3 and 4 after &quot;Processed Text&quot;</a></p>\n<p>If I tried downloading the same font embedded in the jar - STSONG-Light from the web and add it like below</p>\n<pre><code>BaseFont cbf = BaseFont.createFont(&quot;STSong-light.ttf&quot;, &quot;Identity-H&quot;, true);\n</code></pre>\n<p>Rendering takes place as expected\n<a href=\"https://i.stack.imgur.com/9m1Sv.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAre the characters in bold being rendered from a different included font other than the Chinese font?\nAny idea on how to fix this?</p>\n<p>Checking PDF using Microsoft edge , Since I am not allowed access to adobe acrobat.</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679282505,"post_id":75767540,"comment_id":133687548,"body_markdown":"What version of AGP and build-tools are you using? Signing with all four schemes works fine for me with the latest version","body":"What version of AGP and build-tools are you using? Signing with all four schemes works fine for me with the latest version"}],"owner":{"account_id":23939646,"reputation":27,"user_id":17973266,"display_name":"Славик Колисниченкo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679055715,"creation_date":1679055715,"question_id":75767540,"body_markdown":"I have signingConfigs config which should enable v1 v2 v3 v4 signature in gradle but it doesn&#39;t apply.\r\n\r\n   \r\n\r\n        signingConfigs {\r\n        release {\r\n            v1SigningEnabled true\r\n            v2SigningEnabled true\r\n            enableV3Signing = true\r\n            enableV4Signing = true\r\n            keyAlias &#39;*********&#39;\r\n            keyPassword &#39;*********&#39;\r\n            storeFile file(&#39;*********&#39;)\r\n            storePassword &#39;*********&#39;\r\n        }\r\n    }\r\n\r\n        flavorDimensions &quot;test&quot;\r\n    productFlavors {\r\n        staging {\r\n            dimension &quot;test&quot;\r\n            signingConfig signingConfigs.release\r\n        }\r\n        dev {\r\n            dimension &quot;test&quot;\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n\r\n\r\nwhen I build apk file and run \r\n\r\n       apksigner verify --verbose .apk\r\n\r\n\r\ni get this message :\r\n\r\n        Verifies\r\n    Verified using v1 scheme (JAR signing): false\r\n    Verified using v2 scheme (APK Signature Scheme v2): true\r\n    Verified using v3 scheme (APK Signature Scheme v3): false\r\n    Verified using v4 scheme (APK Signature Scheme v4): false\r\n    Verified for SourceStamp: false\r\n    Number of signers: 1\r\n\r\nwhy can this happen? Thanks ","title":"Signing Configs are not applied","body":"<p>I have signingConfigs config which should enable v1 v2 v3 v4 signature in gradle but it doesn't apply.</p>\n<pre><code>    signingConfigs {\n    release {\n        v1SigningEnabled true\n        v2SigningEnabled true\n        enableV3Signing = true\n        enableV4Signing = true\n        keyAlias '*********'\n        keyPassword '*********'\n        storeFile file('*********')\n        storePassword '*********'\n    }\n}\n\n    flavorDimensions &quot;test&quot;\nproductFlavors {\n    staging {\n        dimension &quot;test&quot;\n        signingConfig signingConfigs.release\n    }\n    dev {\n        dimension &quot;test&quot;\n        signingConfig signingConfigs.release\n    }\n}\n</code></pre>\n<p>when I build apk file and run</p>\n<pre><code>   apksigner verify --verbose .apk\n</code></pre>\n<p>i get this message :</p>\n<pre><code>    Verifies\nVerified using v1 scheme (JAR signing): false\nVerified using v2 scheme (APK Signature Scheme v2): true\nVerified using v3 scheme (APK Signature Scheme v3): false\nVerified using v4 scheme (APK Signature Scheme v4): false\nVerified for SourceStamp: false\nNumber of signers: 1\n</code></pre>\n<p>why can this happen? Thanks</p>\n"},{"tags":["java","spring-boot","spring-batch","datasource"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679055304,"post_id":75767192,"comment_id":133656422,"body_markdown":"Please add Autowired annotation to the method gorItemReader parameter dataSource.","body":"Please add Autowired annotation to the method gorItemReader parameter dataSource."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1679055483,"post_id":75767192,"comment_id":133656468,"body_markdown":"same exception @Mar-Z","body":"same exception @Mar-Z"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1679055698,"post_id":75767192,"comment_id":133656526,"body_markdown":"Set `DataSource` to `SqlPagingQueryProviderFactoryBean` as well. `provider.setDataSource(dataSource)`.","body":"Set <code>DataSource</code> to <code>SqlPagingQueryProviderFactoryBean</code> as well. <code>provider.setDataSource(dataSource)</code>."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679055682,"creation_date":1679055682,"answer_id":75767534,"question_id":75767192,"body_markdown":"You need the following added to your Configuration class\r\n\r\n    @Autowired\r\n\tprivate DataSource dataSource;\r\n\r\nand set the data source on SqlPagingQueryProviderFactoryBean.\r\n\r\n    SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\r\n    provider.setDataSource(dataSource);\r\n\r\nTerrible, I know!","title":"spring boot batch No DataSource specified","body":"<p>You need the following added to your Configuration class</p>\n<pre><code>@Autowired\nprivate DataSource dataSource;\n</code></pre>\n<p>and set the data source on SqlPagingQueryProviderFactoryBean.</p>\n<pre><code>SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\nprovider.setDataSource(dataSource);\n</code></pre>\n<p>Terrible, I know!</p>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75767534,"answer_count":1,"score":1,"last_activity_date":1679055682,"creation_date":1679053261,"question_id":75767192,"body_markdown":"I&#39;m trying to configure spring batch but I keep getting `No DataSource specified`.\r\nMy Configuration Class:\r\n```\r\npackage com.example.demo;\r\n\r\nimport eu.unicredit.generated.avro.CustomerGorModel;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.database.PagingQueryProvider;\r\nimport org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder;\r\nimport org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@org.springframework.context.annotation.Configuration\r\n@EnableBatchProcessing\r\npublic class Configuration {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean(&quot;gorItemReader&quot;)\r\n    public ItemReader&lt;String&gt; gorItemReader(DataSource dataSource, @Qualifier(&quot;gorQueryProvider&quot;) PagingQueryProvider queryProvider) {\r\n        Map&lt;String, Object&gt; parameterValues = new HashMap&lt;&gt;();\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;String&gt;()\r\n                .name(&quot;gorItemReader&quot;)\r\n                .dataSource(dataSource)\r\n                .queryProvider(queryProvider)\r\n                .parameterValues(parameterValues)\r\n                .rowMapper((rs, rowNumber) -&gt; rs.getString(&quot;gor_id&quot;))\r\n                .pageSize(1000)\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;gorQueryProvider&quot;)\r\n    public SqlPagingQueryProviderFactoryBean gorQueryProvider() {\r\n        SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\r\n\r\n        provider.setSelectClause(&quot;select gor_id&quot;);\r\n        provider.setFromClause(&quot;from ur1_bom_customer&quot;);\r\n        provider.setWhereClause(&quot;where gor_id is not null&quot;);\r\n        provider.setSortKey(&quot;gor_id&quot;);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;eu.unicredit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ur1-kafka-avro-lib-be&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@hsomeHost:port/schema\r\nspring.datasource.username=username\r\nspring.datasource.password=passowrd\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nException:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: No DataSource specified\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:103) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:395) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.batch.support.DatabaseType.fromMetaData(DatabaseType.java:102) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:159) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:54) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:169) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1884) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1284) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:345) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 19 more\r\n\r\nProcess finished with exit code 1\r\n```\r\nIf I define the data source spring complains for circular dependencies. I&#39;ve checked in the context and the data source bean is there. Also if I put only this in my configuration class the DataSource is correctly injected:\r\n```\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        return new JdbcTemplate(dataSource);\r\n    }\r\n```\r\nSomeone knows whats going on here?","title":"spring boot batch No DataSource specified","body":"<p>I'm trying to configure spring batch but I keep getting <code>No DataSource specified</code>.\nMy Configuration Class:</p>\n<pre><code>package com.example.demo;\n\nimport eu.unicredit.generated.avro.CustomerGorModel;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.database.PagingQueryProvider;\nimport org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder;\nimport org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@org.springframework.context.annotation.Configuration\n@EnableBatchProcessing\npublic class Configuration {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean(&quot;gorItemReader&quot;)\n    public ItemReader&lt;String&gt; gorItemReader(DataSource dataSource, @Qualifier(&quot;gorQueryProvider&quot;) PagingQueryProvider queryProvider) {\n        Map&lt;String, Object&gt; parameterValues = new HashMap&lt;&gt;();\n\n        return new JdbcPagingItemReaderBuilder&lt;String&gt;()\n                .name(&quot;gorItemReader&quot;)\n                .dataSource(dataSource)\n                .queryProvider(queryProvider)\n                .parameterValues(parameterValues)\n                .rowMapper((rs, rowNumber) -&gt; rs.getString(&quot;gor_id&quot;))\n                .pageSize(1000)\n                .build();\n    }\n\n    @Bean(&quot;gorQueryProvider&quot;)\n    public SqlPagingQueryProviderFactoryBean gorQueryProvider() {\n        SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\n\n        provider.setSelectClause(&quot;select gor_id&quot;);\n        provider.setFromClause(&quot;from ur1_bom_customer&quot;);\n        provider.setWhereClause(&quot;where gor_id is not null&quot;);\n        provider.setSortKey(&quot;gor_id&quot;);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.unicredit&lt;/groupId&gt;\n            &lt;artifactId&gt;ur1-kafka-avro-lib-be&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@hsomeHost:port/schema\nspring.datasource.username=username\nspring.datasource.password=passowrd\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n<p>Exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: No DataSource specified\n    at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:103) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:395) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.batch.support.DatabaseType.fromMetaData(DatabaseType.java:102) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:159) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:54) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:169) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1884) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1284) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:345) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 19 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>If I define the data source spring complains for circular dependencies. I've checked in the context and the data source bean is there. Also if I put only this in my configuration class the DataSource is correctly injected:</p>\n<pre><code>    @Bean\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n        return new JdbcTemplate(dataSource);\n    }\n</code></pre>\n<p>Someone knows whats going on here?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9426,"page":566,"page_size":100}
