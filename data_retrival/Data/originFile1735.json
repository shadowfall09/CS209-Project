{"items":[{"tags":["java","slf4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1460362043,"creation_date":1460362043,"answer_id":36543100,"question_id":36542487,"body_markdown":"Did you turn on Async Logger? (e.g. by system property `-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector`)\r\n\r\nIf so, it is one of the scenario that Location Information is not included.  (Ref: https://logging.apache.org/log4j/2.x/manual/layouts.html#LocationInformation).  You may explicitly turn on location info by \r\n\r\n    &lt;Root level=&quot;debug&quot; includeLocation=&quot;true&quot;&gt; \r\n        ....\r\n\r\nHowever, I will strongly suggest not including method name in your log message, as taking such information from stack trace is expensive and slow","title":"Why log4j 2 does not log method name for app and unit tests","body":"<p>Did you turn on Async Logger? (e.g. by system property <code>-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector</code>)</p>\n\n<p>If so, it is one of the scenario that Location Information is not included.  (Ref: <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#LocationInformation\" rel=\"nofollow\">https://logging.apache.org/log4j/2.x/manual/layouts.html#LocationInformation</a>).  You may explicitly turn on location info by </p>\n\n<pre><code>&lt;Root level=\"debug\" includeLocation=\"true\"&gt; \n    ....\n</code></pre>\n\n<p>However, I will strongly suggest not including method name in your log message, as taking such information from stack trace is expensive and slow</p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566066290,"creation_date":1566064888,"answer_id":57538720,"question_id":36542487,"body_markdown":"for me next configurations are working well (without `includeLocation=&quot;true&quot;` option enabled):\r\n\r\n_src/main/resources/log4j2.xml_\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;PID&quot;&gt;%5X{pid}&lt;/Property&gt;\r\n            &lt;Property name=&quot;LOG_EXCEPTION_CONVERSION_WORD&quot;&gt;%xEx&lt;/Property&gt;\r\n            &lt;Property name=&quot;LOG_LEVEL_PATTERN&quot;&gt;%5p&lt;/Property&gt;\r\n            &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%style{%d{yyyy-MM-dd HH:mm:ss.SSS}}{dim} %highlight{${LOG_LEVEL_PATTERN}} %style{${sys:PID}}{magenta} %style{---}{dim} %style{[%15.15t]}{dim} %style{%-40.40c{1.}}{cyan} %style{%22.22M}{magenta} %style{:}{faint} %m%n${sys:LOG_EXCEPTION_CONVERSION_WORD}&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;logger name=&quot;com.github.daggerok&quot; level=&quot;ALL&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;ConsoleAppender&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;Root level=&quot;ALL&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n_build.gradle_\r\n\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    dependencies {\r\n        implementation(platform(&#39;org.apache.logging.log4j:log4j-bom:2.12.1&#39;))\r\n        implementation &#39;org.apache.logging.log4j:log4j-api&#39;\r\n        implementation &#39;org.apache.logging.log4j:log4j-core&#39;\r\n        // ...\r\n    }\r\n\r\n[checkout this Travis CI build log output][1]\r\n\r\n    &gt; Task :test\r\n    com.github.daggerok.usermanagement.domain.user.UserEventSourcedRepositoryTest &gt; should save user STANDARD_OUT\r\n        2019-08-17 18:23:53.358 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : about to save User(efb230a1-679e-4aac-b6c2-7eb25142de30) aggregate...\r\n        2019-08-17 18:23:53.375 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : cleared User(efb230a1-679e-4aac-b6c2-7eb25142de30) aggregate events.\r\n        2019-08-17 18:23:53.388 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : aggregate User(efb230a1-679e-4aac-b6c2-7eb25142de30) saved.\r\n        2019-08-17 18:23:53.392 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   find : start rebuild process for aggregate: efb230a1-679e-4aac-b6c2-7eb25142de30\r\n\r\n  [1]: https://travis-ci.org/daggerok/event-sourced-user-management/builds/573201436#L692\r\n","title":"Why log4j 2 does not log method name for app and unit tests","body":"<p>for me next configurations are working well (without <code>includeLocation=\"true\"</code> option enabled):</p>\n\n<p><em>src/main/resources/log4j2.xml</em></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"PID\"&gt;%5X{pid}&lt;/Property&gt;\n        &lt;Property name=\"LOG_EXCEPTION_CONVERSION_WORD\"&gt;%xEx&lt;/Property&gt;\n        &lt;Property name=\"LOG_LEVEL_PATTERN\"&gt;%5p&lt;/Property&gt;\n        &lt;Property name=\"LOG_PATTERN\"&gt;%style{%d{yyyy-MM-dd HH:mm:ss.SSS}}{dim} %highlight{${LOG_LEVEL_PATTERN}} %style{${sys:PID}}{magenta} %style{---}{dim} %style{[%15.15t]}{dim} %style{%-40.40c{1.}}{cyan} %style{%22.22M}{magenta} %style{:}{faint} %m%n${sys:LOG_EXCEPTION_CONVERSION_WORD}&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"ConsoleAppender\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n            &lt;PatternLayout pattern=\"${LOG_PATTERN}\" /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;logger name=\"com.github.daggerok\" level=\"ALL\" additivity=\"false\"&gt;\n            &lt;appender-ref ref=\"ConsoleAppender\"/&gt;\n        &lt;/logger&gt;\n        &lt;Root level=\"ALL\"&gt;\n            &lt;AppenderRef ref=\"ConsoleAppender\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>dependencies {\n    implementation(platform('org.apache.logging.log4j:log4j-bom:2.12.1'))\n    implementation 'org.apache.logging.log4j:log4j-api'\n    implementation 'org.apache.logging.log4j:log4j-core'\n    // ...\n}\n</code></pre>\n\n<p><a href=\"https://travis-ci.org/daggerok/event-sourced-user-management/builds/573201436#L692\" rel=\"nofollow noreferrer\">checkout this Travis CI build log output</a></p>\n\n<pre><code>&gt; Task :test\ncom.github.daggerok.usermanagement.domain.user.UserEventSourcedRepositoryTest &gt; should save user STANDARD_OUT\n    2019-08-17 18:23:53.358 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : about to save User(efb230a1-679e-4aac-b6c2-7eb25142de30) aggregate...\n    2019-08-17 18:23:53.375 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : cleared User(efb230a1-679e-4aac-b6c2-7eb25142de30) aggregate events.\n    2019-08-17 18:23:53.388 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   save : aggregate User(efb230a1-679e-4aac-b6c2-7eb25142de30) saved.\n    2019-08-17 18:23:53.392 DEBUG       --- [    Test worker] u.d.u.UserInMemoryEventSourcedRepository                   find : start rebuild process for aggregate: efb230a1-679e-4aac-b6c2-7eb25142de30\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18477258,"reputation":81,"user_id":13460455,"display_name":"Prem Sudheer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640346584,"creation_date":1640346584,"answer_id":70472591,"question_id":36542487,"body_markdown":"Below snippets were used to get **Method name**, time stamp, line number in the specific class with class name too.\r\n\r\nThis is Snippet for logging in Console\r\nYou need to basically put this in log4j2.properties file which should be present in **resource level in Maven projects**\r\n\r\n    rootLogger.level = debug\r\n    appenders = console\r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern =%d{yyyy-MM-dd HH:mm:ss} (%F:%L) %M()- %m%n\r\n\r\nThis is Snippet for logging in a File\r\n\r\n    rootLogger.level = debug\r\n    property.filename = {path to log file}\r\n    appenders = R\r\n    \r\n      \r\n    appender.R.type = RollingFile\r\n    appender.R.name = File\r\n    appender.R.fileName = ${filename}\r\n    appender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\r\n    appender.R.layout.type = PatternLayout\r\n    appender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %M()- %m%n\r\n    appender.R.policies.type = Policies\r\n    appender.R.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.R.policies.time.interval = 1\r\n    \r\n    rootLogger.appenderRef.console.ref = STDOUT\r\n    rootLogger.appenderRef.R.ref = File\r\n\r\n\r\nHere is the sample output\r\n\r\nWaitForPageToLoad() is the Method where logger statement present\r\n\r\n    2021-12-24 05:51:47 (Utils.java:201) waitForPageToLoad() - Waiting for page to load","title":"Why log4j 2 does not log method name for app and unit tests","body":"<p>Below snippets were used to get <strong>Method name</strong>, time stamp, line number in the specific class with class name too.</p>\n<p>This is Snippet for logging in Console\nYou need to basically put this in log4j2.properties file which should be present in <strong>resource level in Maven projects</strong></p>\n<pre><code>rootLogger.level = debug\nappenders = console\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern =%d{yyyy-MM-dd HH:mm:ss} (%F:%L) %M()- %m%n\n</code></pre>\n<p>This is Snippet for logging in a File</p>\n<pre><code>rootLogger.level = debug\nproperty.filename = {path to log file}\nappenders = R\n\n  \nappender.R.type = RollingFile\nappender.R.name = File\nappender.R.fileName = ${filename}\nappender.R.filePattern = ${filename}.%d{yyyy-MM-dd}\nappender.R.layout.type = PatternLayout\nappender.R.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %M()- %m%n\nappender.R.policies.type = Policies\nappender.R.policies.time.type = TimeBasedTriggeringPolicy\nappender.R.policies.time.interval = 1\n\nrootLogger.appenderRef.console.ref = STDOUT\nrootLogger.appenderRef.R.ref = File\n</code></pre>\n<p>Here is the sample output</p>\n<p>WaitForPageToLoad() is the Method where logger statement present</p>\n<pre><code>2021-12-24 05:51:47 (Utils.java:201) waitForPageToLoad() - Waiting for page to load\n</code></pre>\n"}],"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6982,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36543100,"answer_count":3,"score":5,"last_activity_date":1640346584,"creation_date":1460360034,"question_id":36542487,"body_markdown":"My Log4j2 config file looks like:\r\n\r\n    &lt;Appenders&gt;\r\n      &lt;RollingRandomAccessFile name=&quot;APP_LOG_APPENDER&quot; fileName=&quot;${sys:baseLogPath}/${appLogFileName}.log&quot;\r\n    \t\t\tfilePattern=&quot;${sys:baseLogPath}/backups/$${date:yyyy-MM}/${appLogFileName}-%d{yyyy-MM-dd}-%i.log.gz&quot; immediateFlush=&quot;false&quot;&gt;\r\n        &lt;PatternLayout&gt;\r\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [Thread: %t] %level [%c][%M] - %msg%n&lt;/Pattern&gt;\r\n        &lt;/PatternLayout&gt;\r\n        &lt;Policies&gt;\r\n          &lt;TimeBasedTriggeringPolicy /&gt;\r\n          &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot; /&gt;\r\n        &lt;/Policies&gt;\r\n        &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n      &lt;/RollingRandomAccessFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n      &lt;Root level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;AppenderRef ref=&quot;APP_LOG_APPENDER&quot; /&gt;\r\n      &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n\r\nLogger statements in class `MyClass`\r\n\r\n    public class MyClass {\r\n      private final static org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(MyClass.class);\r\n      public void someMethod() {\r\n        logger.debug(&quot;Some sample string at DEBUG level....&quot;);\r\n        logger.info(&quot;Some sample string at INFO level....&quot;);\r\n        logger.warn(&quot;Some sample string at WARN level....&quot;);\r\n        logger.error(&quot;Some sample string at ERROR level....&quot;);\r\n      }\r\n    }\r\n\r\nThe log messages are coming out as:\r\n\r\n    2016-04-11 12:32:31.245 [Thread: main] DEBUG [com.demo.MyClass][] - Some sample string at DEBUG level....\r\n    2016-04-11 12:32:31.245 [Thread: main] INFO [com.demo.MyClass][] - Some sample string at INFO level....\r\n    2016-04-11 12:32:31.245 [Thread: main] WARN [com.demo.MyClass][] - Some sample string at WARN level....\r\n    2016-04-11 12:32:31.245 [Thread: main] ERROR [com.demo.MyClass][] - Some sample string at ERROR level....\r\n\r\nI am using log4j2-2.5 version and corresponding SLF4J API.\r\n\r\nCould someone help me understand why is this happening?","title":"Why log4j 2 does not log method name for app and unit tests","body":"<p>My Log4j2 config file looks like:</p>\n\n<pre><code>&lt;Appenders&gt;\n  &lt;RollingRandomAccessFile name=\"APP_LOG_APPENDER\" fileName=\"${sys:baseLogPath}/${appLogFileName}.log\"\n            filePattern=\"${sys:baseLogPath}/backups/$${date:yyyy-MM}/${appLogFileName}-%d{yyyy-MM-dd}-%i.log.gz\" immediateFlush=\"false\"&gt;\n    &lt;PatternLayout&gt;\n      &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [Thread: %t] %level [%c][%M] - %msg%n&lt;/Pattern&gt;\n    &lt;/PatternLayout&gt;\n    &lt;Policies&gt;\n      &lt;TimeBasedTriggeringPolicy /&gt;\n      &lt;SizeBasedTriggeringPolicy size=\"50 MB\" /&gt;\n    &lt;/Policies&gt;\n    &lt;DefaultRolloverStrategy max=\"20\"/&gt;\n  &lt;/RollingRandomAccessFile&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n  &lt;Root level=\"debug\" additivity=\"false\"&gt;\n    &lt;AppenderRef ref=\"APP_LOG_APPENDER\" /&gt;\n  &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p>Logger statements in class <code>MyClass</code></p>\n\n<pre><code>public class MyClass {\n  private final static org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(MyClass.class);\n  public void someMethod() {\n    logger.debug(\"Some sample string at DEBUG level....\");\n    logger.info(\"Some sample string at INFO level....\");\n    logger.warn(\"Some sample string at WARN level....\");\n    logger.error(\"Some sample string at ERROR level....\");\n  }\n}\n</code></pre>\n\n<p>The log messages are coming out as:</p>\n\n<pre><code>2016-04-11 12:32:31.245 [Thread: main] DEBUG [com.demo.MyClass][] - Some sample string at DEBUG level....\n2016-04-11 12:32:31.245 [Thread: main] INFO [com.demo.MyClass][] - Some sample string at INFO level....\n2016-04-11 12:32:31.245 [Thread: main] WARN [com.demo.MyClass][] - Some sample string at WARN level....\n2016-04-11 12:32:31.245 [Thread: main] ERROR [com.demo.MyClass][] - Some sample string at ERROR level....\n</code></pre>\n\n<p>I am using log4j2-2.5 version and corresponding SLF4J API.</p>\n\n<p>Could someone help me understand why is this happening?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1640336117,"post_id":70471127,"comment_id":124571767,"body_markdown":"_a bunch of classes that extend it_ I don&#39;t see it in the code.","body":"<i>a bunch of classes that extend it</i> I don&#39;t see it in the code."},{"owner":{"account_id":19527497,"reputation":45,"user_id":14288030,"display_name":"Saurav"},"score":0,"creation_date":1640336201,"post_id":70471127,"comment_id":124571784,"body_markdown":"@c0der sorry just fixed it","body":"@c0der sorry just fixed it"},{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1640336474,"post_id":70471127,"comment_id":124571847,"body_markdown":"@Saurav The current code works as you&#39;d expect: https://ideone.com/Y45jbq , Can you clarify what exactly is the problem. possibly with a [mcve]?","body":"@Saurav The current code works as you&#39;d expect: <a href=\"https://ideone.com/Y45jbq\" rel=\"nofollow noreferrer\">ideone.com/Y45jbq</a> , Can you clarify what exactly is the problem. possibly with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1640336761,"post_id":70471127,"comment_id":124571911,"body_markdown":"Adding `@Override` prevents some errors, checking.","body":"Adding <code>@Override</code> prevents some errors, checking."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1640336903,"post_id":70471127,"comment_id":124571943,"body_markdown":"The code posted does not compile. After adding the missing `}` it should work as expected. For more help post [mre]. According to Java naming conventions the base class should be called `GameObject`. I would recommend making `GameObject` an interface.","body":"The code posted does not compile. After adding the missing <code>}</code> it should work as expected. For more help post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. According to Java naming conventions the base class should be called <code>GameObject</code>. I would recommend making <code>GameObject</code> an interface."},{"owner":{"account_id":19527497,"reputation":45,"user_id":14288030,"display_name":"Saurav"},"score":0,"creation_date":1640337377,"post_id":70471127,"comment_id":124572040,"body_markdown":"@c0der \n\nWhen I run this, I get 0 instead of the expected value 1\n\n`class gameObject {\n    int u = 0;\n    public gameObject() {\n    }\n}\nclass Spaceship extends gameObject {\n    int u = 5;\n    // Constructor\n    public Spaceship() {\n    }\n\n}\nclass Alien extends gameObject {\n    int u = 6;\n    public Alien() {\n    }\n}\npublic class test {\n    public static int overlapping(gameObject b, gameObject a) {\n        return (b.u - a.u);\n    }\n    public static void main(String[] args) {\n        System.out.println(overlapping(new Alien(), new Spaceship())); \n    }\n}`","body":"@c0der   When I run this, I get 0 instead of the expected value 1  <code>class gameObject {     int u = 0;     public gameObject() {     } } class Spaceship extends gameObject {     int u = 5;     &#47;&#47; Constructor     public Spaceship() {     }  } class Alien extends gameObject {     int u = 6;     public Alien() {     } } public class test {     public static int overlapping(gameObject b, gameObject a) {         return (b.u - a.u);     }     public static void main(String[] args) {         System.out.println(overlapping(new Alien(), new Spaceship()));      } }</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640337701,"post_id":70471127,"comment_id":124572123,"body_markdown":"@Saurav You can&#39;t override fields, see https://stackoverflow.com/questions/9414990/if-you-overwrite-a-field-in-a-subclass-of-a-class-the-subclass-has-two-fields-w","body":"@Saurav You can&#39;t override fields, see <a href=\"https://stackoverflow.com/questions/9414990/if-you-overwrite-a-field-in-a-subclass-of-a-class-the-subclass-has-two-fields-w\" title=\"if you overwrite a field in a subclass of a class the subclass has two fields w\">stackoverflow.com/questions/9414990/&hellip;</a>"},{"owner":{"account_id":19527497,"reputation":45,"user_id":14288030,"display_name":"Saurav"},"score":0,"creation_date":1640337913,"post_id":70471127,"comment_id":124572186,"body_markdown":"@Progman Thank you, so is there no way that I can tell the method to get the u value for whatever type the parameter is? Or will it always access the parent class&#39;s value since I told the method that the parameters are of type gameObject","body":"@Progman Thank you, so is there no way that I can tell the method to get the u value for whatever type the parameter is? Or will it always access the parent class&#39;s value since I told the method that the parameters are of type gameObject"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640338198,"post_id":70471127,"comment_id":124572247,"body_markdown":"@Saurav Remove the new `int u` declarations from the sub classes, only use the `int u` from the base class.","body":"@Saurav Remove the new <code>int u</code> declarations from the sub classes, only use the <code>int u</code> from the base class."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640337953,"creation_date":1640337953,"answer_id":70471404,"question_id":70471127,"body_markdown":"With the code shared in the comments, the problem becomes clear.\r\n\r\nEach of the class declares a new `u` member that **hides** the parents `u` member. Note the emphasis on hides - you can&#39;t &quot;override members&quot;, so when you call `.u` on a reference to the base class, you&#39;ll still get the `0` it uses.\r\n\r\nInstead of re-declaring the member, you should just overwrite its value. E.g.:\r\n\r\n```java\r\nclass Spaceship extends gameObject {\r\n    public Spaceship {\r\n        u = 5; // Reuse the base class&#39; member\r\n    }\r\n}","title":"How do I make a method that accepts all parameters that extend a certain class?","body":"<p>With the code shared in the comments, the problem becomes clear.</p>\n<p>Each of the class declares a new <code>u</code> member that <strong>hides</strong> the parents <code>u</code> member. Note the emphasis on hides - you can't &quot;override members&quot;, so when you call <code>.u</code> on a reference to the base class, you'll still get the <code>0</code> it uses.</p>\n<p>Instead of re-declaring the member, you should just overwrite its value. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Spaceship extends gameObject {\n    public Spaceship {\n        u = 5; // Reuse the base class' member\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640338586,"creation_date":1640338272,"answer_id":70471447,"question_id":70471127,"body_markdown":"The (originally) posted code, after fixing some minor compilation errors and names, should work as expected: \r\n\r\n\t\r\n\tpublic class Main {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(difference(new Thing(), new Spaceship()));\r\n\t\t}\r\n\t\r\n\t\tpublic static int difference(GameObject a, GameObject b) {\r\n\t\t\treturn a.getX() - b.getX();\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass GameObject {\r\n\t\r\n\t\tprivate final int POS_X = 0;\r\n\t\t// returns the current x coordinate of GameObject\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Spaceship extends GameObject {\r\n\t\r\n\t\tprivate final int POS_X = 1;\r\n\t\r\n\t\t@Override\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\tclass Alien extends GameObject {\r\n\t\r\n\t\tprivate final int POS_X = 2;\r\n\t\r\n\t\t@Override\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Thing extends GameObject {\r\n\t\r\n\t\tprivate final int POS_X = 3;\r\n\t\r\n\t\t@Override\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\r\nI would recommend having all objects implement the same interface instead of extending the same base class: \r\n\r\n\tinterface  GameObject {\r\n\t\t// returns the current x coordinate of GameObject\r\n\t\tdefault int getX() {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Spaceship implements GameObject {\r\n\r\n\t\tprivate final int POS_X = 1;\r\n\r\n\t\t@Override\r\n\t\tpublic\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\r\nAlternatively, if the values are constant use an enum: \r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(difference(GameObject.THING, GameObject.SPACESHIP));\r\n\t\t}\r\n\r\n\t\tpublic static int difference(GameObject a, GameObject b) {\r\n\t\t\treturn a.getX() - b.getX();\r\n\t\t}\r\n\t}\r\n\r\n\tenum  GameObject {\r\n\r\n\t\tSPACESHIP(1), ALIEN(2), THING(3);\r\n\t\tprivate  int positionX;\r\n\t\tGameObject(int positionX){\r\n\t\t\tthis.positionX = positionX;\r\n\t\t}\r\n\r\n\t\tint getX() {\r\n\t\t\treturn positionX;\r\n\t\t}\r\n\t}\r\n\r\n","title":"How do I make a method that accepts all parameters that extend a certain class?","body":"<p>The (originally) posted code, after fixing some minor compilation errors and names, should work as expected:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.println(difference(new Thing(), new Spaceship()));\n    }\n\n    public static int difference(GameObject a, GameObject b) {\n        return a.getX() - b.getX();\n    }\n}\n\nclass GameObject {\n\n    private final int POS_X = 0;\n    // returns the current x coordinate of GameObject\n    int getX() {\n        return POS_X;\n    }\n}\n\nclass Spaceship extends GameObject {\n\n    private final int POS_X = 1;\n\n    @Override\n    int getX() {\n        return POS_X;\n    }\n}\nclass Alien extends GameObject {\n\n    private final int POS_X = 2;\n\n    @Override\n    int getX() {\n        return POS_X;\n    }\n}\n\nclass Thing extends GameObject {\n\n    private final int POS_X = 3;\n\n    @Override\n    int getX() {\n        return POS_X;\n    }\n}\n</code></pre>\n<p>I would recommend having all objects implement the same interface instead of extending the same base class:</p>\n<pre><code>interface  GameObject {\n    // returns the current x coordinate of GameObject\n    default int getX() {\n        return 0;\n    }\n}\n\nclass Spaceship implements GameObject {\n\n    private final int POS_X = 1;\n\n    @Override\n    public  int getX() {\n        return POS_X;\n    }\n}\n</code></pre>\n<p>Alternatively, if the values are constant use an enum:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.println(difference(GameObject.THING, GameObject.SPACESHIP));\n    }\n\n    public static int difference(GameObject a, GameObject b) {\n        return a.getX() - b.getX();\n    }\n}\n\nenum  GameObject {\n\n    SPACESHIP(1), ALIEN(2), THING(3);\n    private  int positionX;\n    GameObject(int positionX){\n        this.positionX = positionX;\n    }\n\n    int getX() {\n        return positionX;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8310681,"reputation":133,"user_id":6245929,"display_name":"Luisa Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640346512,"creation_date":1640346512,"answer_id":70472583,"question_id":70471127,"body_markdown":"I&#39;m not sure how are you using your method difference and I saw some errors in the code your provided (like you&#39;re missing a closing bracket after every class), but for example *your code* works for me if I include everything in one class like this:\r\n\r\n    public class TestStackOverflow {\r\n\r\n\tstatic class gameObject {\r\n\r\n\t\tint POS_X = 0;\r\n\r\n\t\t// returns the current x coordinate of gameObject\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Spaceship extends gameObject {\r\n\r\n\t\tint POS_X = 1;\r\n\r\n\t\t// returns the current x coordinate of gameObject\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Alien extends gameObject {\r\n\r\n\t\tint POS_X = 2;\r\n\r\n\t\t// returns the current x coordinate of gameObject\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Thing extends gameObject {\r\n\r\n\t\tint POS_X = 3;\r\n\r\n\t\t// returns the current x coordinate of gameObject\r\n\t\tint getX() {\r\n\t\t\treturn POS_X;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int difference(gameObject a, gameObject b) {\r\n\t       return (a.getX() - b.getX());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint d = difference(new Alien(), new Thing());\r\n\t\tSystem.out.print(d);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\nNote that all those classes are inner classes to the TestStackOverflow one and are accessed from the main static method so in this case, they should be static. Now regarding your code, there are some good practices that could be used in order to avoid any strange behavior:\r\n\r\n - I would implement every class in their own file, so no need to be static.\r\n -  Define visibility of the class components. For instance, make POS_X private in every class and make reference to it with *this*, so you&#39;re making sure you are using ***this*** very field.\r\n - Also (just for naming convention sake) all class should be capitalized.\r\n - gameObject class should be an **interface** or an **abstract class** instead of a concrete class if is not going to be instantiated. It seems to me that the only goal for this one is to, either generalize the use of their child classes in external methods, or provide a default definition for getX(). ","title":"How do I make a method that accepts all parameters that extend a certain class?","body":"<p>I'm not sure how are you using your method difference and I saw some errors in the code your provided (like you're missing a closing bracket after every class), but for example <em>your code</em> works for me if I include everything in one class like this:</p>\n<pre><code>public class TestStackOverflow {\n\nstatic class gameObject {\n\n    int POS_X = 0;\n\n    // returns the current x coordinate of gameObject\n    int getX() {\n        return POS_X;\n    }\n}\n\nstatic class Spaceship extends gameObject {\n\n    int POS_X = 1;\n\n    // returns the current x coordinate of gameObject\n    int getX() {\n        return POS_X;\n    }\n}\n\nstatic class Alien extends gameObject {\n\n    int POS_X = 2;\n\n    // returns the current x coordinate of gameObject\n    int getX() {\n        return POS_X;\n    }\n}\n\nstatic class Thing extends gameObject {\n\n    int POS_X = 3;\n\n    // returns the current x coordinate of gameObject\n    int getX() {\n        return POS_X;\n    }\n}\n\npublic static int difference(gameObject a, gameObject b) {\n       return (a.getX() - b.getX());\n}\n\npublic static void main(String[] args) {\n    int d = difference(new Alien(), new Thing());\n    System.out.print(d);\n}\n</code></pre>\n<p>}</p>\n<p>Note that all those classes are inner classes to the TestStackOverflow one and are accessed from the main static method so in this case, they should be static. Now regarding your code, there are some good practices that could be used in order to avoid any strange behavior:</p>\n<ul>\n<li>I would implement every class in their own file, so no need to be static.</li>\n<li>Define visibility of the class components. For instance, make POS_X private in every class and make reference to it with <em>this</em>, so you're making sure you are using <em><strong>this</strong></em> very field.</li>\n<li>Also (just for naming convention sake) all class should be capitalized.</li>\n<li>gameObject class should be an <strong>interface</strong> or an <strong>abstract class</strong> instead of a concrete class if is not going to be instantiated. It seems to me that the only goal for this one is to, either generalize the use of their child classes in external methods, or provide a default definition for getX().</li>\n</ul>\n"}],"owner":{"account_id":19527497,"reputation":45,"user_id":14288030,"display_name":"Saurav"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1640346512,"creation_date":1640335981,"question_id":70471127,"body_markdown":"So if I have a class gameObject and a bunch of classes that extend it:\r\n\r\n    class gameObject {\r\n    int u = 0;\r\n    public gameObject() {\r\n    }\r\n    }\r\n    class Spaceship extends gameObject {\r\n        int u = 5;\r\n        // Constructor\r\n        public Spaceship() {\r\n        }\r\n    \r\n    }\r\n    class Alien extends gameObject {\r\n        int u = 6;\r\n        public Alien() {\r\n        }\r\n    }\r\n    \r\n    public class test {\r\n        public static int overlapping(gameObject b, gameObject a) {\r\n            return (b.u - a.u);\r\n        }\r\n        public static void main(String[] args) {\r\n            System.out.println(overlapping(new Alien(), new Spaceship())); \r\n        }\r\n    }\r\n\r\nWhen the difference method runs, it computes `0 - 0` regardless of if a Spaceship, alien is passed into it. But I want it to take either of the 2 (Spaceship, Alien), and return the difference of their specific u values. \r\n\r\nBut indicating the type of a and b parameters as gameObject just results in the u value being taken as 0 instead of the specific values. What do I do here?\r\n\r\nI thought that since all 2 extended gameObject, I could just say that the parameters were of gameObject type, but that didn&#39;t seem to work. I tried doing `&lt;T extends gameObject&gt;` and then `Class &lt;T&gt; a` and `Class &lt;T&gt; b`, but then it says that it cannot the constant u. \r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I make a method that accepts all parameters that extend a certain class?","body":"<p>So if I have a class gameObject and a bunch of classes that extend it:</p>\n<pre><code>class gameObject {\nint u = 0;\npublic gameObject() {\n}\n}\nclass Spaceship extends gameObject {\n    int u = 5;\n    // Constructor\n    public Spaceship() {\n    }\n\n}\nclass Alien extends gameObject {\n    int u = 6;\n    public Alien() {\n    }\n}\n\npublic class test {\n    public static int overlapping(gameObject b, gameObject a) {\n        return (b.u - a.u);\n    }\n    public static void main(String[] args) {\n        System.out.println(overlapping(new Alien(), new Spaceship())); \n    }\n}\n</code></pre>\n<p>When the difference method runs, it computes <code>0 - 0</code> regardless of if a Spaceship, alien is passed into it. But I want it to take either of the 2 (Spaceship, Alien), and return the difference of their specific u values.</p>\n<p>But indicating the type of a and b parameters as gameObject just results in the u value being taken as 0 instead of the specific values. What do I do here?</p>\n<p>I thought that since all 2 extended gameObject, I could just say that the parameters were of gameObject type, but that didn't seem to work. I tried doing <code>&lt;T extends gameObject&gt;</code> and then <code>Class &lt;T&gt; a</code> and <code>Class &lt;T&gt; b</code>, but then it says that it cannot the constant u.</p>\n"},{"tags":["javascript","java"],"answers":[{"tags":[],"owner":{"account_id":11807529,"reputation":1,"user_id":8639665,"display_name":"Alessandro Nesi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640345777,"creation_date":1640345474,"answer_id":70472453,"question_id":70383271,"body_markdown":"The problem seems to be how you are using the `$.post` method. jQuery uses  the `application/x-www-form-urlencoded;charset=UTF-8` contentType on post by default if you don&#39;t specify another contentType. Combined with the @RequestBody annotation at backend (which requires `application/json` by default) it results in the seen exception and 415 status code.\r\n\r\nThe solution to this problem should be fairly easy, just add the correct configuration for the .post method, something like this:\r\n\r\n    $.post({\r\n            url: urlCrearAlta,\r\n            type: &quot;POST&quot;,\r\n            contentType: &#39;application/json&#39;,\r\n            dataType: &#39;json&#39;,\r\n            data: JSON.stringify(data)\r\n        })\r\n        .done((data, status) =&gt; {\r\n              console.log(data, status);\r\n              //do whatever you like with data and status\r\n        });\r\n\r\nAlso, as stated in jQuery documentation [here][1], `$.post` is just a shorthand method for `$.ajax`, so if `$.ajax` doesn&#39;t work and `$.post` does, there should be something wrong in how you configure the request or how you handle the callbacks methods. The major suspect for me would be the `success` function you specify in the `$.ajax` request, check there is nothing wrong in there, or just use the other callback methods, like `.done`, `.fail` and `.always`\r\n\r\n\r\n  [1]: https://api.jquery.com/jQuery.post/","title":"HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"<p>The problem seems to be how you are using the <code>$.post</code> method. jQuery uses  the <code>application/x-www-form-urlencoded;charset=UTF-8</code> contentType on post by default if you don't specify another contentType. Combined with the @RequestBody annotation at backend (which requires <code>application/json</code> by default) it results in the seen exception and 415 status code.</p>\n<p>The solution to this problem should be fairly easy, just add the correct configuration for the .post method, something like this:</p>\n<pre><code>$.post({\n        url: urlCrearAlta,\n        type: &quot;POST&quot;,\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify(data)\n    })\n    .done((data, status) =&gt; {\n          console.log(data, status);\n          //do whatever you like with data and status\n    });\n</code></pre>\n<p>Also, as stated in jQuery documentation <a href=\"https://api.jquery.com/jQuery.post/\" rel=\"nofollow noreferrer\">here</a>, <code>$.post</code> is just a shorthand method for <code>$.ajax</code>, so if <code>$.ajax</code> doesn't work and <code>$.post</code> does, there should be something wrong in how you configure the request or how you handle the callbacks methods. The major suspect for me would be the <code>success</code> function you specify in the <code>$.ajax</code> request, check there is nothing wrong in there, or just use the other callback methods, like <code>.done</code>, <code>.fail</code> and <code>.always</code></p>\n"}],"owner":{"account_id":23667830,"reputation":1,"user_id":17695060,"display_name":"William Yang Zhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640345777,"creation_date":1639675883,"question_id":70383271,"body_markdown":"I&#39;m trying to make a post with javascript using ajax to a spring controller\r\n``` $(document).ready(function() {\r\n\r\n    $(&quot;#crear&quot;).click(function () {\r\n        var user = document.getElementById(&quot;user&quot;).value;\r\n        var client = document.getElementById(&quot;client&quot;).value;\r\n        var documents = document.getElementById(&quot;documents&quot;).value;\r\n        if (user==null||client==null||documents==null){\r\n            document.getElementById(&quot;error&quot;).innerHTML=&#39;FALTAN COSASsssssssssss&#39;;\r\n            alert(&#39;Rellene todo los campos!&#39;)\r\n        }\r\n        const data={\r\n            fecha_inicio:&#39;A&#39;,\r\n            id:&#39;A&#39;,\r\n            fecha_entrega:&#39;A&#39;,\r\n            usuario:{\r\n                nombre:user\r\n            },\r\n            cliente: {\r\n                nombre:client\r\n            }\r\n        }\r\n        $.ajax({\r\n            url: urlCrearAlta,\r\n            type: &quot;POST&quot;,\r\n            contentType: &#39;application/json; charset=utf-8&#39;,\r\n            dataType: &#39;json&#39;,\r\n            data: data,\r\n            success: function(data) {\r\n                // ...\r\n            }\r\n\r\n        });\r\n        $.post(urlCrearAlta,JSON.stringify(data),function (data,satus){\r\n            console.log(&#39;${data} and status is ${status}&#39;)\r\n        });\r\n        document.getElementById(&quot;error&quot;).innerHTML=user+client+documents;\r\n    });\r\n```\r\nand java code\r\n```\r\n@RequestMapping(&quot;/altas&quot;)\r\n@RestController\r\npublic class AltaRestController {\r\n\r\n    private AltaController altaController;\r\n\r\n    public AltaRestController(AltaController altaController) {\r\n        this.altaController = altaController;\r\n    }\r\n@PostMapping(&quot;/create-alta&quot;)\r\n    public void createAlta(@RequestBody AltaDTO altaDTO) {\r\n        altaController.createAlta(altaDTO);\r\n    }\r\n```\r\nI&#39;m getting the error Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported]\r\n\r\nWhen i use $.ajax it does not send any request, just when i use $.post it send the request","title":"HttpMediaTypeNotSupportedException: Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"<p>I'm trying to make a post with javascript using ajax to a spring controller</p>\n<pre><code>\n    $(&quot;#crear&quot;).click(function () {\n        var user = document.getElementById(&quot;user&quot;).value;\n        var client = document.getElementById(&quot;client&quot;).value;\n        var documents = document.getElementById(&quot;documents&quot;).value;\n        if (user==null||client==null||documents==null){\n            document.getElementById(&quot;error&quot;).innerHTML='FALTAN COSASsssssssssss';\n            alert('Rellene todo los campos!')\n        }\n        const data={\n            fecha_inicio:'A',\n            id:'A',\n            fecha_entrega:'A',\n            usuario:{\n                nombre:user\n            },\n            cliente: {\n                nombre:client\n            }\n        }\n        $.ajax({\n            url: urlCrearAlta,\n            type: &quot;POST&quot;,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: data,\n            success: function(data) {\n                // ...\n            }\n\n        });\n        $.post(urlCrearAlta,JSON.stringify(data),function (data,satus){\n            console.log('${data} and status is ${status}')\n        });\n        document.getElementById(&quot;error&quot;).innerHTML=user+client+documents;\n    });\n</code></pre>\n<p>and java code</p>\n<pre><code>@RequestMapping(&quot;/altas&quot;)\n@RestController\npublic class AltaRestController {\n\n    private AltaController altaController;\n\n    public AltaRestController(AltaController altaController) {\n        this.altaController = altaController;\n    }\n@PostMapping(&quot;/create-alta&quot;)\n    public void createAlta(@RequestBody AltaDTO altaDTO) {\n        altaController.createAlta(altaDTO);\n    }\n</code></pre>\n<p>I'm getting the error Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded;charset=UTF-8' not supported]</p>\n<p>When i use $.ajax it does not send any request, just when i use $.post it send the request</p>\n"},{"tags":["java","arrays","syntax","overloading"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1640167923,"post_id":70447336,"comment_id":124529716,"body_markdown":"Nope, you can&#39;t","body":"Nope, you can&#39;t"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1640167928,"post_id":70447336,"comment_id":124529719,"body_markdown":"No, Java does not have a thing like that.","body":"No, Java does not have a thing like that."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640169138,"creation_date":1640169138,"answer_id":70447636,"question_id":70447336,"body_markdown":"As [albjerto&#39;s answer](https://stackoverflow.com/a/70447437/2422776) and the comments stated, Java offers no compile-time syntax to differentiate between parameters that are arrays of different sizes (although, at that answer states, you could check it in runtime).\r\n\r\nThe only (horrible) option for compile-time safety for this requirement I can think of is to unwrap the array and pass its elements as separate arguments. E.g.:\r\n\r\n```java\r\n// so-called int[2] variant:\r\npublic void myMethod(int arg1, int arg2) {\r\n    // Do something with the arguments\r\n    // If you actually need an array, you could do:\r\n    int[] arr = {arg1, arg2};\r\n}\r\n\r\n// so-called int[3] variant:\r\npublic void myMethod(int arg1, int arg2, int arg3) {\r\n    // Your logic here...\r\n}\r\n\r\n// etc\r\n```\r\n\r\nWith larger arrays this will become very cumbersome very quickly but for smaller arrays it may be a valid option.","title":"Can I declare a Java method with a fixed-sized array argument?","body":"<p>As <a href=\"https://stackoverflow.com/a/70447437/2422776\">albjerto's answer</a> and the comments stated, Java offers no compile-time syntax to differentiate between parameters that are arrays of different sizes (although, at that answer states, you could check it in runtime).</p>\n<p>The only (horrible) option for compile-time safety for this requirement I can think of is to unwrap the array and pass its elements as separate arguments. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// so-called int[2] variant:\npublic void myMethod(int arg1, int arg2) {\n    // Do something with the arguments\n    // If you actually need an array, you could do:\n    int[] arr = {arg1, arg2};\n}\n\n// so-called int[3] variant:\npublic void myMethod(int arg1, int arg2, int arg3) {\n    // Your logic here...\n}\n\n// etc\n</code></pre>\n<p>With larger arrays this will become very cumbersome very quickly but for smaller arrays it may be a valid option.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640170335,"creation_date":1640170335,"answer_id":70447884,"question_id":70447336,"body_markdown":"No, you can&#39;t enforce array sizes for method parameters. \r\n\r\nHowever, if you have an array with a fixed number of parameters, I wonder if instead you have a *clearly defined object type* (e.g. a 3-D cartesian coordinate), and as such you can declare such an object (e.g. `Point3D`), use that as a parameter, and *that* typing is obviously enforced.","title":"Can I declare a Java method with a fixed-sized array argument?","body":"<p>No, you can't enforce array sizes for method parameters.</p>\n<p>However, if you have an array with a fixed number of parameters, I wonder if instead you have a <em>clearly defined object type</em> (e.g. a 3-D cartesian coordinate), and as such you can declare such an object (e.g. <code>Point3D</code>), use that as a parameter, and <em>that</em> typing is obviously enforced.</p>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640345078,"creation_date":1640345078,"answer_id":70472401,"question_id":70447336,"body_markdown":"Actually you can&#39;t, but still then you can implement something like this,\r\n\r\n\r\nFor boolean returning function,\r\n\r\n    static boolean fixedArrayFuncBool(int[] arr, int lengthOfArray) {\r\n            if (arr.length == lengthOfArray) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\nFor integer returning function,\r\n\r\n    \r\n    static int fixedArrayFuncInt(int[] arr, int lengthOfArray) {\r\n        if(arr.length == lengthOfArray) {\r\n            return lengthOfArray;\r\n        }\r\n        else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\nThese function just check whether the given array is of the length that you give and return the value according to it.\r\n\r\n","title":"Can I declare a Java method with a fixed-sized array argument?","body":"<p>Actually you can't, but still then you can implement something like this,</p>\n<p>For boolean returning function,</p>\n<pre><code>static boolean fixedArrayFuncBool(int[] arr, int lengthOfArray) {\n        if (arr.length == lengthOfArray) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n<p>For integer returning function,</p>\n<pre><code>static int fixedArrayFuncInt(int[] arr, int lengthOfArray) {\n    if(arr.length == lengthOfArray) {\n        return lengthOfArray;\n    }\n    else {\n        return -1;\n    }\n}\n</code></pre>\n<p>These function just check whether the given array is of the length that you give and return the value according to it.</p>\n"}],"owner":{"account_id":22646719,"reputation":11,"user_id":16821977,"display_name":"Zechen Ma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1640345078,"creation_date":1640167695,"question_id":70447336,"body_markdown":"In C++ I think it is [possible][1] to prototype a function with an input array with a fixed size. Can I also do this for java methods in general?\r\n\r\nIn addition, is an ```int[10]``` a different type than an ```int[20]``` (potentially for overloading purposes)?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31698035/function-prototype-and-array-parameters","title":"Can I declare a Java method with a fixed-sized array argument?","body":"<p>In C++ I think it is <a href=\"https://stackoverflow.com/questions/31698035/function-prototype-and-array-parameters\">possible</a> to prototype a function with an input array with a fixed size. Can I also do this for java methods in general?</p>\n<p>In addition, is an <code>int[10]</code> a different type than an <code>int[20]</code> (potentially for overloading purposes)?</p>\n"},{"tags":["java","rx-java2"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1640345163,"post_id":70472330,"comment_id":124573951,"body_markdown":"Please [edit] your question to include the content of the result you want to have, based on the `Product` and `Order` instances you have in `productList` and `orderList`.","body":"Please <a href=\"https://stackoverflow.com/posts/70472330/edit\">edit</a> your question to include the content of the result you want to have, based on the <code>Product</code> and <code>Order</code> instances you have in <code>productList</code> and <code>orderList</code>."},{"owner":{"account_id":7397922,"reputation":1,"user_id":5629213,"display_name":"Manoj Singh"},"score":0,"creation_date":1640346196,"post_id":70472330,"comment_id":124574178,"body_markdown":"I want to return Map which contains a Product-wise Order list, for each product, there may be 0 or more than 0 Orders.","body":"I want to return Map which contains a Product-wise Order list, for each product, there may be 0 or more than 0 Orders."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640349913,"post_id":70472330,"comment_id":124575014,"body_markdown":"Why do you want to use rx-java for this? The requirement is not really &quot;stream/reactive based&quot;. A normal `for` loop or some kind of `grouping()` operator should be enough to solve your problem.","body":"Why do you want to use rx-java for this? The requirement is not really &quot;stream/reactive based&quot;. A normal <code>for</code> loop or some kind of <code>grouping()</code> operator should be enough to solve your problem."},{"owner":{"account_id":7397922,"reputation":1,"user_id":5629213,"display_name":"Manoj Singh"},"score":0,"creation_date":1640446880,"post_id":70472330,"comment_id":124588861,"body_markdown":"I want to use rxjava because it is the project requirement. It is a sample code but in reality this data of functions getProduct() and getOrder() is a db functions.","body":"I want to use rxjava because it is the project requirement. It is a sample code but in reality this data of functions getProduct() and getOrder() is a db functions."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640447606,"post_id":70472330,"comment_id":124588970,"body_markdown":"Please [edit] your question to include the project requirement you have. Using `Single()` calls to use `subscribe()` for that single value makes it unnecessary complicated when a simple `for()` loop might solve the problem. You might want to add a [mcve] which shows the architecture/system you have in your program and how rxjava is used there.","body":"Please <a href=\"https://stackoverflow.com/posts/70472330/edit\">edit</a> your question to include the project requirement you have. Using <code>Single()</code> calls to use <code>subscribe()</code> for that single value makes it unnecessary complicated when a simple <code>for()</code> loop might solve the problem. You might want to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which shows the architecture/system you have in your program and how rxjava is used there."}],"owner":{"account_id":7397922,"reputation":1,"user_id":5629213,"display_name":"Manoj Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640345057,"creation_date":1640344670,"question_id":70472330,"body_markdown":"I want to execute two queries one after another where the second query is dependent on the first query and finally I want to return a combined result.\r\n\r\n```\r\npublic class Order {\r\n    private int orderId;\r\n    private int productId;\r\n    private Date orderData;\r\n\r\n    public Order(int orderId, int productId, Date orderData) {\r\n        this.orderId = orderId;\r\n        this.productId = productId;\r\n        this.orderData = orderData;\r\n    }\r\n\r\n    public int getProductId() {\r\n        return productId;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Order{&quot; +\r\n                &quot;orderId=&quot; + orderId +\r\n                &quot;, productId=&quot; + productId +\r\n                &quot;, orderData=&quot; + orderData +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\npublic class Product {\r\n    private int id;\r\n    private String name;\r\n    private int quantity;\r\n\r\n    public Product(int id, String name, int quantity) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, quantity=&quot; + quantity +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\npublic class Program {\r\n\r\n    static List&lt;Product&gt; productList;\r\n    static List&lt;Order&gt; orderList;\r\n\r\n    static {\r\n        productList = Arrays.asList(\r\n                new Product(1, &quot;Shoe&quot;, 10),\r\n                new Product(2, &quot;Shirt&quot;, 5),\r\n                new Product(3, &quot;T-Shirt&quot;, 2),\r\n                new Product(4, &quot;Belt&quot;, 20)\r\n        );\r\n\r\n        orderList = Arrays.asList(\r\n                new Order(1, 1, new Date()),\r\n                new Order(2, 1, new Date()),\r\n                new Order(3, 1, new Date()),\r\n                new Order(4, 2, new Date()),\r\n                new Order(5, 3, new Date()),\r\n                new Order(6, 3, new Date()),\r\n                new Order(7, 4, new Date()),\r\n                new Order(8, 4, new Date()),\r\n                new Order(9, 4, new Date()),\r\n                new Order(10, 4, new Date())\r\n        );\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        getAllProductWiseOrderDetails()\r\n                .subscribe(System.out::println);\r\n    }\r\n\r\n    private static Single&lt;Map&lt;Product, List&lt;Order&gt;&gt;&gt; getAllProductWiseOrderDetails() {\r\n        Map&lt;Product, List&lt;Order&gt;&gt; details = new HashMap&lt;&gt;();\r\n\r\n        getProducts()\r\n                .subscribe(\r\n                        products -&gt; products\r\n                                .stream()\r\n                                .forEach(product -&gt; {\r\n                                    getOrders(product.getId())\r\n                                            .subscribe(orders -&gt; {\r\n                                                details.put(product, orders);\r\n                                            });\r\n                                })\r\n                );\r\n\r\n        return Single.just(details);\r\n    }\r\n\r\n    private static Single&lt;List&lt;Product&gt;&gt; getProducts() {\r\n        return Single.just(productList);\r\n    }\r\n\r\n    private static Single&lt;List&lt;Order&gt;&gt; getOrders(int productId) {\r\n        return Single.just(\r\n                orderList.stream()\r\n                        .filter(order -&gt; order.getProductId() == productId)\r\n                        .collect(Collectors.toList())\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n\r\nI wanted to know what would be the best way to implement the getAllProductWiseOrderDetails() method so that I can get full utilization of RxJava. I am using this approach where I am subscribing two times which I don&#39;t think is a good approach.\r\n\r\n\r\nThanks.","title":"How to combines multiple DB queries in RXJava","body":"<p>I want to execute two queries one after another where the second query is dependent on the first query and finally I want to return a combined result.</p>\n<pre><code>public class Order {\n    private int orderId;\n    private int productId;\n    private Date orderData;\n\n    public Order(int orderId, int productId, Date orderData) {\n        this.orderId = orderId;\n        this.productId = productId;\n        this.orderData = orderData;\n    }\n\n    public int getProductId() {\n        return productId;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Order{&quot; +\n                &quot;orderId=&quot; + orderId +\n                &quot;, productId=&quot; + productId +\n                &quot;, orderData=&quot; + orderData +\n                '}';\n    }\n}\n\n\npublic class Product {\n    private int id;\n    private String name;\n    private int quantity;\n\n    public Product(int id, String name, int quantity) {\n        this.id = id;\n        this.name = name;\n        this.quantity = quantity;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, quantity=&quot; + quantity +\n                '}';\n    }\n}\n\npublic class Program {\n\n    static List&lt;Product&gt; productList;\n    static List&lt;Order&gt; orderList;\n\n    static {\n        productList = Arrays.asList(\n                new Product(1, &quot;Shoe&quot;, 10),\n                new Product(2, &quot;Shirt&quot;, 5),\n                new Product(3, &quot;T-Shirt&quot;, 2),\n                new Product(4, &quot;Belt&quot;, 20)\n        );\n\n        orderList = Arrays.asList(\n                new Order(1, 1, new Date()),\n                new Order(2, 1, new Date()),\n                new Order(3, 1, new Date()),\n                new Order(4, 2, new Date()),\n                new Order(5, 3, new Date()),\n                new Order(6, 3, new Date()),\n                new Order(7, 4, new Date()),\n                new Order(8, 4, new Date()),\n                new Order(9, 4, new Date()),\n                new Order(10, 4, new Date())\n        );\n    }\n\n    public static void main(String[] args) {\n        getAllProductWiseOrderDetails()\n                .subscribe(System.out::println);\n    }\n\n    private static Single&lt;Map&lt;Product, List&lt;Order&gt;&gt;&gt; getAllProductWiseOrderDetails() {\n        Map&lt;Product, List&lt;Order&gt;&gt; details = new HashMap&lt;&gt;();\n\n        getProducts()\n                .subscribe(\n                        products -&gt; products\n                                .stream()\n                                .forEach(product -&gt; {\n                                    getOrders(product.getId())\n                                            .subscribe(orders -&gt; {\n                                                details.put(product, orders);\n                                            });\n                                })\n                );\n\n        return Single.just(details);\n    }\n\n    private static Single&lt;List&lt;Product&gt;&gt; getProducts() {\n        return Single.just(productList);\n    }\n\n    private static Single&lt;List&lt;Order&gt;&gt; getOrders(int productId) {\n        return Single.just(\n                orderList.stream()\n                        .filter(order -&gt; order.getProductId() == productId)\n                        .collect(Collectors.toList())\n        );\n    }\n}\n</code></pre>\n<p>I wanted to know what would be the best way to implement the getAllProductWiseOrderDetails() method so that I can get full utilization of RxJava. I am using this approach where I am subscribing two times which I don't think is a good approach.</p>\n<p>Thanks.</p>\n"},{"tags":["java","design-patterns","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":22613317,"reputation":1314,"user_id":16793150,"display_name":"SauravDas-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640344825,"creation_date":1640344825,"answer_id":70472361,"question_id":70452230,"body_markdown":"You can use Azure Java SDK to call Azure rest API. The Azure SDK for Java libraries build on top of the underlying Azure REST API, allowing you to use those APIs through familiar Java paradigms.\r\n\r\nTo use Azure Java SDK to call Azure rest API first you need to create a service principal (SP). Then install the SDK as show below -\r\n\r\n```java\r\n&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure&lt;/artifactId&gt;\r\n    &lt;version&gt;1.33.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen write the code similar to the one show below.\r\n\r\n```java\r\nprivate static String tenantId=&quot;&quot;; // sp tenant\r\nprivate static String clientId = &quot;&quot;; // sp appid\r\nprivate static String clientKey = &quot;&quot;;// sp password\r\nprivate static String subscriptionId=&quot;&quot;; //sp subscription id\r\n\r\nApplicationTokenCredentials creds = new ApplicationTokenCredentials(clientId,tenantId,clientKey, AzureEnvironment.AZURE);\r\n\r\nRestClient restClient =new RestClient.Builder()\r\n                .withBaseUrl(AzureEnvironment.AZURE, AzureEnvironment.Endpoint.RESOURCE_MANAGER)\r\n                .withSerializerAdapter(new AzureJacksonAdapter())\r\n                .withReadTimeout(150, TimeUnit.SECONDS)\r\n                .withLogLevel(LogLevel.BODY)\r\n                .withResponseBuilderFactory(new AzureResponseBuilder.Factory())\r\n                .withCredentials(creds)\r\n                .build();\r\nOkHttpClient httpClient = restClient.httpClient().newBuilder().build();\r\nString url = &quot;https://management.azure.com/subscriptions/&quot;+subscriptionId+&quot;/providers/Microsoft.Migrate/projects?api-version=2018-02-02&quot;;\r\nRequest request = new Request.Builder()\r\n                              .url(url)\r\n                              .method(&quot;get&quot;,null)\r\n                              .build();\r\nResponse response1 = httpClient.newCall(request).execute();\r\n\r\nif(response1.isSuccessful()){\r\n\t\tSystem.out.println(response1.headers().toString());\r\n}\r\n```\r\n\r\nFor more information on design guidelines check this [Java Azure SDK Design Guidelines](https://azure.github.io/azure-sdk/java_introduction.html).","title":"Java Design pattern: Avoid Duplication of code for Azure Rest api call","body":"<p>You can use Azure Java SDK to call Azure rest API. The Azure SDK for Java libraries build on top of the underlying Azure REST API, allowing you to use those APIs through familiar Java paradigms.</p>\n<p>To use Azure Java SDK to call Azure rest API first you need to create a service principal (SP). Then install the SDK as show below -</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure&lt;/artifactId&gt;\n    &lt;version&gt;1.33.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then write the code similar to the one show below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String tenantId=&quot;&quot;; // sp tenant\nprivate static String clientId = &quot;&quot;; // sp appid\nprivate static String clientKey = &quot;&quot;;// sp password\nprivate static String subscriptionId=&quot;&quot;; //sp subscription id\n\nApplicationTokenCredentials creds = new ApplicationTokenCredentials(clientId,tenantId,clientKey, AzureEnvironment.AZURE);\n\nRestClient restClient =new RestClient.Builder()\n                .withBaseUrl(AzureEnvironment.AZURE, AzureEnvironment.Endpoint.RESOURCE_MANAGER)\n                .withSerializerAdapter(new AzureJacksonAdapter())\n                .withReadTimeout(150, TimeUnit.SECONDS)\n                .withLogLevel(LogLevel.BODY)\n                .withResponseBuilderFactory(new AzureResponseBuilder.Factory())\n                .withCredentials(creds)\n                .build();\nOkHttpClient httpClient = restClient.httpClient().newBuilder().build();\nString url = &quot;https://management.azure.com/subscriptions/&quot;+subscriptionId+&quot;/providers/Microsoft.Migrate/projects?api-version=2018-02-02&quot;;\nRequest request = new Request.Builder()\n                              .url(url)\n                              .method(&quot;get&quot;,null)\n                              .build();\nResponse response1 = httpClient.newCall(request).execute();\n\nif(response1.isSuccessful()){\n        System.out.println(response1.headers().toString());\n}\n</code></pre>\n<p>For more information on design guidelines check this <a href=\"https://azure.github.io/azure-sdk/java_introduction.html\" rel=\"nofollow noreferrer\">Java Azure SDK Design Guidelines</a>.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640344825,"creation_date":1640190708,"question_id":70452230,"body_markdown":"I have written a small java program which will make a rest call and it works fine as expected. I would. Now, I have to write a similar program for other API calls. How do, I structure the code so that, I can avoid duplicating the code!!\r\n\r\n    System.out.println( &quot;Usage Details!&quot; );\r\n    \r\n    AzureProfile profile = new AzureProfile(AzureEnvironment.AZURE);\r\n    TokenCredential credential = new DefaultAzureCredentialBuilder()           \r\n           .authorityHost(profile.getEnvironment()\r\n                                 .getActiveDirectoryEndpoint())\r\n           .build();\r\n    ConsumptionManager consumptionManager = ConsumptionManager.authenticate(credential, profile);\r\n    \r\n    // the below detail changes for different api&#39;s\r\n    PagedIterable&lt;UsageDetail&gt; usageDetailList = consumptionManager.usageDetails()\r\n            .list(&quot;url&quot;,&lt;argument1&gt;,&lt;argument2&gt;,null,null,Metrictype.USAGE,Context.NONE);\r\n\tint count=1;\r\n    \r\n    for(UsageDetail usageDetail : usageDetailList){\r\n\t\t\tLegacyUsageDetail legacyUsageDetail = (LegacyUsageDetail)usageDetail.innerModel();\r\n\t\t\ttry{\r\n\t\t\t\t//if(legacyUsageDetail.date().toString().equals(&quot;2021-09-22T00:00Z&quot;) &amp;&amp; \r\n                     legacyUsageDetail.resourceGroup().startsWith(&quot;F2BDEVC-ms&quot;)){\r\n\t\t\t\t\tif(count==1){\r\n\t\t\t\t\t\tSystem.out.println(&quot;subscriptionName : &quot; + \r\n                               legacyUsageDetail.subscriptionName());\r\n                      }}\r\n      }catch(Exception e){}\r\n    }","title":"Java Design pattern: Avoid Duplication of code for Azure Rest api call","body":"<p>I have written a small java program which will make a rest call and it works fine as expected. I would. Now, I have to write a similar program for other API calls. How do, I structure the code so that, I can avoid duplicating the code!!</p>\n<pre><code>System.out.println( &quot;Usage Details!&quot; );\n\nAzureProfile profile = new AzureProfile(AzureEnvironment.AZURE);\nTokenCredential credential = new DefaultAzureCredentialBuilder()           \n       .authorityHost(profile.getEnvironment()\n                             .getActiveDirectoryEndpoint())\n       .build();\nConsumptionManager consumptionManager = ConsumptionManager.authenticate(credential, profile);\n\n// the below detail changes for different api's\nPagedIterable&lt;UsageDetail&gt; usageDetailList = consumptionManager.usageDetails()\n        .list(&quot;url&quot;,&lt;argument1&gt;,&lt;argument2&gt;,null,null,Metrictype.USAGE,Context.NONE);\nint count=1;\n\nfor(UsageDetail usageDetail : usageDetailList){\n        LegacyUsageDetail legacyUsageDetail = (LegacyUsageDetail)usageDetail.innerModel();\n        try{\n            //if(legacyUsageDetail.date().toString().equals(&quot;2021-09-22T00:00Z&quot;) &amp;&amp; \n                 legacyUsageDetail.resourceGroup().startsWith(&quot;F2BDEVC-ms&quot;)){\n                if(count==1){\n                    System.out.println(&quot;subscriptionName : &quot; + \n                           legacyUsageDetail.subscriptionName());\n                  }}\n  }catch(Exception e){}\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","entity","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640344470,"creation_date":1640282526,"answer_id":70465845,"question_id":70464986,"body_markdown":"According to the Hibernate Documentation when you have a UniDirectional relation in your entity schema and you have only the side of `@OneToMany` , you can&#39;t use the annotation `@JoinColumn`. \r\n\r\n[According to the Doc][1]\r\n&gt; When using a unidirectional @OneToMany association, Hibernate resorts\r\n&gt; to using a link table between the two joining entities.\r\n\r\nYou must remove the `@JoinColumn` so that hibernate follows the default process of creating a intermediate join table and then it will be able to proceed.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-unidirectional","title":"Spring boot problem with Unidirectional OneToMany Relationship","body":"<p>According to the Hibernate Documentation when you have a UniDirectional relation in your entity schema and you have only the side of <code>@OneToMany</code> , you can't use the annotation <code>@JoinColumn</code>.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many-unidirectional\" rel=\"nofollow noreferrer\">According to the Doc</a></p>\n<blockquote>\n<p>When using a unidirectional @OneToMany association, Hibernate resorts\nto using a link table between the two joining entities.</p>\n</blockquote>\n<p>You must remove the <code>@JoinColumn</code> so that hibernate follows the default process of creating a intermediate join table and then it will be able to proceed.</p>\n"}],"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70465845,"answer_count":1,"score":2,"last_activity_date":1640344561,"creation_date":1640277555,"question_id":70464986,"body_markdown":"So I want the users to have many notes, and this means that the relation type between users and notes should be OneToMany(meaning one user has many notes). So i have a very strange bug in my application. When create and add the note to the database, and then i also save it in the users it works fine for the first time, however at second try i get the error &quot;Cannot add or update a child row: a foreign key constraint fails&quot;. When i add one note to the database it works but when i add another note it gives the same error. I have fixed the bug with the set foreign_key_checks=0 in the database and it works, but it does not work when from my application. \r\n\r\nHere are my codes for different classes:\r\n\r\nNotes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;notes&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Note {\r\n\r\n    @Id\r\n    @Column(name = &quot;note_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String description;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createdDate = new Date(System.currentTimeMillis());\r\n    }\r\n\r\nUsers: \r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n    private String nickname;\r\n    private Integer age;\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;note_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n    private Set&lt;Note&gt; notes = new HashSet&lt;&gt;();\r\n\r\n    public void addRole(Role role){\r\n        this.roles.add(role);\r\n    }\r\n\r\n    public void addNote(Note note){this.notes.add(note);}\r\n\r\n    public Set&lt;Note&gt; getNotes(){\r\n        return this.notes;\r\n    }\r\n\r\n    }\r\n\r\nNoteService: \r\n\r\n    @Service\r\n    public class NoteService {\r\n\r\n    @Autowired\r\n    private NoteRepository noteRepository;\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    public List&lt;Note&gt; getAllNote(){\r\n        return noteRepository.findAll();\r\n    }\r\n\r\n    public Note getNote(Long id) throws noteNotFoundException {\r\n        Optional&lt;Note&gt; result = noteRepository.findById(id);\r\n        if(result.isPresent()){\r\n            return result.get();\r\n        }\r\n        //chveni sheqmnili exeptioni\r\n        throw new noteNotFoundException(&quot;Could not find any note with given ID: &quot; + id);\r\n    }\r\n\r\n    public void save(Note note) {\r\n        noteRepository.save(note);\r\n    }\r\n\r\n    public void deleteNoteById(Long id) throws noteNotFoundException {\r\n\r\n        if(getNote(id)==null){\r\n            throw new noteNotFoundException(&quot;Could not find any note with given ID: &quot; + id);\r\n        }\r\n\r\n        noteRepository.deleteById(id);\r\n    }\r\n    }\r\n\r\nUserService:\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n    private final Integer USER_ROLE_ID = 1;\r\n    private final Long ADMIN_ID = 3L;\r\n\r\n    @Autowired\r\n    private UserRepository repository;\r\n    @Autowired\r\n    private RoleService roleService;\r\n\r\n    public List&lt;User&gt; getAllUser(){\r\n        return (List&lt;User&gt;) repository.findAll();\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsersWithoutAdmin(){\r\n        List&lt;User&gt; allUsers = repository.findAll();\r\n        User admin = repository.getById(ADMIN_ID);\r\n        allUsers.remove(admin);\r\n        return allUsers;\r\n    };\r\n\r\n    public void save(User u) {\r\n        BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\r\n        String encodedPassword = encoder.encode(u.getPassword());\r\n        u.setPassword(encodedPassword);\r\n        try {\r\n            u.addRole(roleService.getRole(USER_ROLE_ID));\r\n        } catch (userNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        repository.save(u);\r\n    }\r\n\r\n    public void saveNoteToUser(Note note){\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        User user = repository.findByEmail(authentication.getName());\r\n        user.addNote(note);\r\n        repository.save(user);\r\n    }\r\n\r\n    public Set&lt;Note&gt; getAllNotes(){\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        User user = repository.findByEmail(authentication.getName());\r\n        return user.getNotes();\r\n    }\r\n\r\n    public User getUser(Long id) throws userNotFoundException {\r\n        Optional&lt;User&gt; result = repository.findById(id);\r\n        if(result.isPresent()){\r\n            return result.get();\r\n        }\r\n        //chveni sheqmnili exeptioni\r\n        throw new userNotFoundException(&quot;Could not find any user with given ID: &quot; + id);\r\n    }\r\n\r\n    public void deleteUserById(Long id) throws userNotFoundException {\r\n        //eseigi jer itvli tu 0 ia an null errors abruen\r\n        //tu useri arsebobs mere adeleteb\r\n        Long count = repository.countById(id);\r\n        if(count == null || count==0){\r\n            throw new userNotFoundException(&quot;Could not find any user with given ID: &quot; + id);\r\n        }\r\n\r\n        repository.deleteById(id);\r\n    }\r\n\r\n    }\r\n\r\nAnd Finally Mapping:\r\n\r\n        @PostMapping(&quot;/notes/save&quot;)\r\n        public String saveNote(Note note, RedirectAttributes ra){\r\n        noteService.save(note);\r\n        userService.saveNoteToUser(note);\r\n        //ra atributi ari roca redirect moxdeba mere ro dawers messijs anu redirectis mere xdeba\r\n        ra.addFlashAttribute(&quot;message&quot;, &quot;The note has been added successfully.&quot;);\r\n        return &quot;redirect:/notes&quot;;\r\n        }\r\n\r\nIn mapping as you can see, firstly i am trying to save a note in the database, and after that i want to add that note to the user itself. However as mentioned above it works only once, however when i want to add another note i get this error:\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`myfirstappdb`.`notes`, CONSTRAINT `FKb7tumg0c2p1wt2ifjag2gv998` FOREIGN KEY (`note_id`) REFERENCES `users` (`user_id`))\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]","title":"Spring boot problem with Unidirectional OneToMany Relationship","body":"<p>So I want the users to have many notes, and this means that the relation type between users and notes should be OneToMany(meaning one user has many notes). So i have a very strange bug in my application. When create and add the note to the database, and then i also save it in the users it works fine for the first time, however at second try i get the error &quot;Cannot add or update a child row: a foreign key constraint fails&quot;. When i add one note to the database it works but when i add another note it gives the same error. I have fixed the bug with the set foreign_key_checks=0 in the database and it works, but it does not work when from my application.</p>\n<p>Here are my codes for different classes:</p>\n<p>Notes:</p>\n<pre><code>@Entity\n@Table(name = &quot;notes&quot;)\n@Getter\n@Setter\n@ToString\npublic class Note {\n\n@Id\n@Column(name = &quot;note_id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false)\nprivate String description;\n\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date createdDate = new Date(System.currentTimeMillis());\n}\n</code></pre>\n<p>Users:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n@Id\n@Column(name = &quot;user_id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false, unique = true)\nprivate String email;\nprivate String nickname;\nprivate Integer age;\n@Column(nullable = false)\nprivate String password;\n\n@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(\n        name = &quot;users_roles&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n)\nprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n@OneToMany(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;note_id&quot;, referencedColumnName = &quot;user_id&quot;)\nprivate Set&lt;Note&gt; notes = new HashSet&lt;&gt;();\n\npublic void addRole(Role role){\n    this.roles.add(role);\n}\n\npublic void addNote(Note note){this.notes.add(note);}\n\npublic Set&lt;Note&gt; getNotes(){\n    return this.notes;\n}\n\n}\n</code></pre>\n<p>NoteService:</p>\n<pre><code>@Service\npublic class NoteService {\n\n@Autowired\nprivate NoteRepository noteRepository;\n@Autowired\nprivate UserService userService;\n\npublic List&lt;Note&gt; getAllNote(){\n    return noteRepository.findAll();\n}\n\npublic Note getNote(Long id) throws noteNotFoundException {\n    Optional&lt;Note&gt; result = noteRepository.findById(id);\n    if(result.isPresent()){\n        return result.get();\n    }\n    //chveni sheqmnili exeptioni\n    throw new noteNotFoundException(&quot;Could not find any note with given ID: &quot; + id);\n}\n\npublic void save(Note note) {\n    noteRepository.save(note);\n}\n\npublic void deleteNoteById(Long id) throws noteNotFoundException {\n\n    if(getNote(id)==null){\n        throw new noteNotFoundException(&quot;Could not find any note with given ID: &quot; + id);\n    }\n\n    noteRepository.deleteById(id);\n}\n}\n</code></pre>\n<p>UserService:</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final Integer USER_ROLE_ID = 1;\nprivate final Long ADMIN_ID = 3L;\n\n@Autowired\nprivate UserRepository repository;\n@Autowired\nprivate RoleService roleService;\n\npublic List&lt;User&gt; getAllUser(){\n    return (List&lt;User&gt;) repository.findAll();\n}\n\npublic List&lt;User&gt; getAllUsersWithoutAdmin(){\n    List&lt;User&gt; allUsers = repository.findAll();\n    User admin = repository.getById(ADMIN_ID);\n    allUsers.remove(admin);\n    return allUsers;\n};\n\npublic void save(User u) {\n    BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\n    String encodedPassword = encoder.encode(u.getPassword());\n    u.setPassword(encodedPassword);\n    try {\n        u.addRole(roleService.getRole(USER_ROLE_ID));\n    } catch (userNotFoundException e) {\n        e.printStackTrace();\n    }\n    repository.save(u);\n}\n\npublic void saveNoteToUser(Note note){\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    User user = repository.findByEmail(authentication.getName());\n    user.addNote(note);\n    repository.save(user);\n}\n\npublic Set&lt;Note&gt; getAllNotes(){\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    User user = repository.findByEmail(authentication.getName());\n    return user.getNotes();\n}\n\npublic User getUser(Long id) throws userNotFoundException {\n    Optional&lt;User&gt; result = repository.findById(id);\n    if(result.isPresent()){\n        return result.get();\n    }\n    //chveni sheqmnili exeptioni\n    throw new userNotFoundException(&quot;Could not find any user with given ID: &quot; + id);\n}\n\npublic void deleteUserById(Long id) throws userNotFoundException {\n    //eseigi jer itvli tu 0 ia an null errors abruen\n    //tu useri arsebobs mere adeleteb\n    Long count = repository.countById(id);\n    if(count == null || count==0){\n        throw new userNotFoundException(&quot;Could not find any user with given ID: &quot; + id);\n    }\n\n    repository.deleteById(id);\n}\n\n}\n</code></pre>\n<p>And Finally Mapping:</p>\n<pre><code>    @PostMapping(&quot;/notes/save&quot;)\n    public String saveNote(Note note, RedirectAttributes ra){\n    noteService.save(note);\n    userService.saveNoteToUser(note);\n    //ra atributi ari roca redirect moxdeba mere ro dawers messijs anu redirectis mere xdeba\n    ra.addFlashAttribute(&quot;message&quot;, &quot;The note has been added successfully.&quot;);\n    return &quot;redirect:/notes&quot;;\n    }\n</code></pre>\n<p>In mapping as you can see, firstly i am trying to save a note in the database, and after that i want to add that note to the user itself. However as mentioned above it works only once, however when i want to add another note i get this error:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`myfirstappdb`.`notes`, CONSTRAINT `FKb7tumg0c2p1wt2ifjag2gv998` FOREIGN KEY (`note_id`) REFERENCES `users` (`user_id`))\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n</code></pre>\n"},{"tags":["java","arrays","string","loops","collections"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1640241353,"post_id":70458117,"comment_id":124549433,"body_markdown":"What is the problem here?","body":"What is the problem here?"},{"owner":{"account_id":20875679,"reputation":37,"user_id":15334508,"display_name":"Haider Abbas Abidi"},"score":0,"creation_date":1640246327,"post_id":70458117,"comment_id":124550685,"body_markdown":"@tquadrat if this code is right then why its showing an InputMismatch Error?","body":"@tquadrat if this code is right then why its showing an InputMismatch Error?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1640250650,"post_id":70458117,"comment_id":124551879,"body_markdown":"When the `InputMismatchError` is your problem, you should write that in your question! We do not analyse your code to find out what might be probably wrong – we look what might have caused the described error condition. No error description, no solution attempt!","body":"When the <code>InputMismatchError</code> is your problem, you should write that in your question! We do not analyse your code to find out what might be probably wrong – we look what might have caused the described error condition. No error description, no solution attempt!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1641222950,"post_id":70458117,"comment_id":124744416,"body_markdown":"`while(true) if(sc.hasNextInt()) array.add(sc.nextInt()); else if(sc.nextLine().equals(&quot;q&quot;)) break;`","body":"<code>while(true) if(sc.hasNextInt()) array.add(sc.nextInt()); else if(sc.nextLine().equals(&quot;q&quot;)) break;</code>"}],"answers":[{"tags":[],"owner":{"account_id":9840607,"reputation":51,"user_id":7289703,"display_name":"임정묵"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640242026,"creation_date":1640242026,"answer_id":70458591,"question_id":70458117,"body_markdown":"\r\nAre you trying to implement it like the example below?\r\n\r\n~~~java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String s;\r\n\r\n        List&lt;Integer&gt; array = new ArrayList();\r\n        while (true) {\r\n            s = sc.nextLine();\r\n            if (s.equalsIgnoreCase(&quot;q&quot;)) {\r\n                break;\r\n            }\r\n            int num = Integer.parseInt(s);\r\n            array.add(num);\r\n        }\r\n\r\n        Collections.sort(array);\r\n        System.out.println(array);\r\n    }\r\n}\r\n~~~","title":"InputMismatch error trying to take integer as user input","body":"<p>Are you trying to implement it like the example below?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String s;\n\n        List&lt;Integer&gt; array = new ArrayList();\n        while (true) {\n            s = sc.nextLine();\n            if (s.equalsIgnoreCase(&quot;q&quot;)) {\n                break;\n            }\n            int num = Integer.parseInt(s);\n            array.add(num);\n        }\n\n        Collections.sort(array);\n        System.out.println(array);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23706429,"reputation":11,"user_id":17728828,"display_name":"itsbenchase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640316284,"creation_date":1640316284,"answer_id":70469279,"question_id":70458117,"body_markdown":"Looks like `q` is trying to be stored as an `int`, so this should work:\r\n\r\nAll numbers stored as a `String` can be parsed as an `int` with the `parseInt()` method.\r\n\r\n````\r\ns = sc.nextLine();\r\n\r\nif (!s.equals(&quot;q&quot;))\r\n{\r\n\r\n    array.add(Integer.parseInt(s));\r\n}\r\nelse\r\n{\r\n    break;\r\n}\r\n````","title":"InputMismatch error trying to take integer as user input","body":"<p>Looks like <code>q</code> is trying to be stored as an <code>int</code>, so this should work:</p>\n<p>All numbers stored as a <code>String</code> can be parsed as an <code>int</code> with the <code>parseInt()</code> method.</p>\n<pre><code>s = sc.nextLine();\n\nif (!s.equals(&quot;q&quot;))\n{\n\n    array.add(Integer.parseInt(s));\n}\nelse\n{\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640344503,"creation_date":1640344503,"answer_id":70472306,"question_id":70458117,"body_markdown":"Just try this,\r\n\r\nInside your while loop to get input for a string use,\r\n\r\n    s = sc.next(); \r\n\r\nInstead of `sc.nextLine();`.\r\n\r\n","title":"InputMismatch error trying to take integer as user input","body":"<p>Just try this,</p>\n<p>Inside your while loop to get input for a string use,</p>\n<pre><code>s = sc.next(); \n</code></pre>\n<p>Instead of <code>sc.nextLine();</code>.</p>\n"}],"owner":{"account_id":20875679,"reputation":37,"user_id":15334508,"display_name":"Haider Abbas Abidi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70472306,"answer_count":3,"score":0,"last_activity_date":1640344503,"creation_date":1640238500,"question_id":70458117,"body_markdown":"I am trying to take an integer as user input and store it in a list until the user hits &#39;q&#39;. At the moment the user inputs &#39;q&#39;, the loop gets terminated.\r\n\r\nThe code is showing an `InputMismatch` error:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class SampleArrayList {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString s;\r\n\t\tint n;\r\n\t\t\r\n\t\tList&lt;Integer&gt; array = new ArrayList();\r\n\t\t\r\n\t\twhile (true) {\r\n\t\t\tn = sc.nextInt();\r\n\t\t\ts = sc.nextLine();\r\n\t\t\tif (s.equals(&quot;q&quot;)) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tarray.add(n);\r\n\t\t\t}\r\n\t\t}\r\n\t\tCollections.sort(array);\r\n\t\tSystem.out.println(array);\r\n\t}\r\n}\r\n```\r\n","title":"InputMismatch error trying to take integer as user input","body":"<p>I am trying to take an integer as user input and store it in a list until the user hits 'q'. At the moment the user inputs 'q', the loop gets terminated.</p>\n<p>The code is showing an <code>InputMismatch</code> error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class SampleArrayList {\n    \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String s;\n        int n;\n        \n        List&lt;Integer&gt; array = new ArrayList();\n        \n        while (true) {\n            n = sc.nextInt();\n            s = sc.nextLine();\n            if (s.equals(&quot;q&quot;)) {\n                break;\n            } else {\n                array.add(n);\n            }\n        }\n        Collections.sort(array);\n        System.out.println(array);\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp","intellij-idea","web-applications"],"comments":[{"owner":{"account_id":1224452,"reputation":682,"user_id":1190328,"accept_rate":50,"display_name":"grunt"},"score":0,"creation_date":1640255366,"post_id":42198678,"comment_id":124553464,"body_markdown":"were u able to solve this?","body":"were u able to solve this?"}],"answers":[{"tags":[],"owner":{"account_id":6950221,"reputation":141,"user_id":5333071,"accept_rate":67,"display_name":"chile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486975720,"creation_date":1486975720,"answer_id":42199916,"question_id":42198678,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m6TgA.jpg\r\n\r\n\r\nopen settings, to see the javaee plugins.\r\n\r\nif not install, install these.\r\n\r\nThen new project will show the options with javaee.","title":"Cannot Find Option for New Web application on Intellij Ultimate","body":"<p><a href=\"https://i.stack.imgur.com/m6TgA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m6TgA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>open settings, to see the javaee plugins.</p>\n\n<p>if not install, install these.</p>\n\n<p>Then new project will show the options with javaee.</p>\n"},{"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640344447,"creation_date":1640344447,"answer_id":70472293,"question_id":42198678,"body_markdown":"Currently IntelliJ IDEA 2021.3 provides Java Enterprise wizard which contains Web Application and REST Service templates, and supports Maven/Gradle out of the box.\r\n\r\n[![Java Enterprise Wizard][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0OGRz.png","title":"Cannot Find Option for New Web application on Intellij Ultimate","body":"<p>Currently IntelliJ IDEA 2021.3 provides Java Enterprise wizard which contains Web Application and REST Service templates, and supports Maven/Gradle out of the box.</p>\n<p><a href=\"https://i.stack.imgur.com/0OGRz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0OGRz.png\" alt=\"Java Enterprise Wizard\" /></a></p>\n"}],"owner":{"account_id":6003586,"reputation":63,"user_id":4716141,"accept_rate":67,"display_name":"Ahmed Abbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640344447,"creation_date":1486970995,"question_id":42198678,"body_markdown":"I have IntellijIdea16.1.2 (Ultimate version). I am trying to create a web application project from scratch and I chose to follow this guide https://www.jetbrains.com/idea/help/enabling-web-application-support.html#new\r\n\r\nBut I am not getting the option that **Select Java Enterprise** mentioned in Step 3 &quot;Under Additional Libraries and Frameworks, select the Web Application check box. Select the version of the Servlet specification to be supported from the Versions list. &quot; Only thing I see there is Groovy. Can someone tell me what to do to enable the other options in that list? I tried looking at the facets page and even that seems to assume that there are options available which I cannot see on my client.\r\n\r\nSimilarly I cannot see the rest plug-in mentioned in this page when I search for restful https://www.jetbrains.com/idea/help/preparing-for-rest-development.html\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tQDM2.png","title":"Cannot Find Option for New Web application on Intellij Ultimate","body":"<p>I have IntellijIdea16.1.2 (Ultimate version). I am trying to create a web application project from scratch and I chose to follow this guide <a href=\"https://www.jetbrains.com/idea/help/enabling-web-application-support.html#new\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/help/enabling-web-application-support.html#new</a></p>\n\n<p>But I am not getting the option that <strong>Select Java Enterprise</strong> mentioned in Step 3 \"Under Additional Libraries and Frameworks, select the Web Application check box. Select the version of the Servlet specification to be supported from the Versions list. \" Only thing I see there is Groovy. Can someone tell me what to do to enable the other options in that list? I tried looking at the facets page and even that seems to assume that there are options available which I cannot see on my client.</p>\n\n<p>Similarly I cannot see the rest plug-in mentioned in this page when I search for restful <a href=\"https://www.jetbrains.com/idea/help/preparing-for-rest-development.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/help/preparing-for-rest-development.html</a>\n<a href=\"https://i.stack.imgur.com/tQDM2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQDM2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640187491,"post_id":70451121,"comment_id":124537161,"body_markdown":"`System.out.println(org.slf4j.Logger.class.getClassLoader());` !?","body":"<code>System.out.println(org.slf4j.Logger.class.getClassLoader());</code> !?"},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1640270866,"post_id":70451121,"comment_id":124558606,"body_markdown":"@xerx593 &quot;object.getClass().getClassLoader()&quot; would be a better choice.","body":"@xerx593 &quot;object.getClass().getClassLoader()&quot; would be a better choice."}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640343407,"creation_date":1640264746,"answer_id":70462521,"question_id":70451121,"body_markdown":"It turns out to be quite simple. The name of the classloader is returned by:\r\n\r\n    object.getClass().getClassLoader().getName()\r\n\r\nIt returns something like &quot;app&quot; or &quot;platform&quot;. Be careful - classloader is `null`, if the class belongs to the bootstrap classloader, like the JUL logger `java.util.logging.Logger` does.\r\n\r\nWebLogic has a long chain of classloaders without names. WebLogic&#39;s classloaders contain a useful field `annotation`. One can read it to find the JEE application, the classloader belongs to:\r\n\r\n    public Object getAnnotation(ClassLoader classloader) {\r\n        try {\r\n            Method amethod = classloader.getClass().getMethod(&quot;getAnnotation&quot;);\r\n            return amethod.invoke(classloader);\r\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nIf you want to print an overview of all available classloader without digging for  annotations, the hashcode of the classloader instance can be used. Here is a small JSP page. Put it into the `webapp` directory of your web project to get a quick overview.\r\n\r\n    &lt;%\r\n    response.setContentType(&quot;text/plain&quot;);\r\n\r\n    List&lt;Class&lt;?&gt;&gt; clazzes = List.of(Logger.class, object.getClass());\r\n\r\n    out.println(&quot;CLASSLOADERS:\\n&quot;);\r\n    ClassLoader classloader = new Object() {}.getClass().getClassLoader();\r\n    while (classloader != null) {\r\n        out.println(\r\n                String.format(&quot;%-18s&quot;, classloader.getName()) + &quot; &quot; +\r\n                String.format(&quot;%-10s&quot;, Integer.toHexString(classloader.hashCode()))  + &quot; &quot; + \r\n                classloader.getClass().getName() + &quot; / &quot; + getAnnotation(classloader));\r\n\r\n        classloader = classloader.getParent();\r\n    }\r\n\r\n    out.println(&quot;\\nCLASSES:\\n&quot;);\r\n    for (Class&lt;?&gt; clazz : clazzes) {\r\n        ClassLoader cloader = clazz.getClassLoader();\r\n        URL location = Optional.of(clazz.getProtectionDomain()).map(x-&gt;x.getCodeSource()).map(x-&gt;x.getLocation()).orElse(null);\r\n        out.println(\r\n                clazz + &quot; \\n    &quot; + \r\n                (cloader != null ? Integer.toHexString(cloader.hashCode()) : &quot;&lt;bootstrap&gt;&quot;) + &quot;\\t&quot; + \r\n                location);\r\n    }\r\n\r\n    %&gt;","title":"Which classloader loaded a class of the provided instance","body":"<p>It turns out to be quite simple. The name of the classloader is returned by:</p>\n<pre><code>object.getClass().getClassLoader().getName()\n</code></pre>\n<p>It returns something like &quot;app&quot; or &quot;platform&quot;. Be careful - classloader is <code>null</code>, if the class belongs to the bootstrap classloader, like the JUL logger <code>java.util.logging.Logger</code> does.</p>\n<p>WebLogic has a long chain of classloaders without names. WebLogic's classloaders contain a useful field <code>annotation</code>. One can read it to find the JEE application, the classloader belongs to:</p>\n<pre><code>public Object getAnnotation(ClassLoader classloader) {\n    try {\n        Method amethod = classloader.getClass().getMethod(&quot;getAnnotation&quot;);\n        return amethod.invoke(classloader);\n    } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>If you want to print an overview of all available classloader without digging for  annotations, the hashcode of the classloader instance can be used. Here is a small JSP page. Put it into the <code>webapp</code> directory of your web project to get a quick overview.</p>\n<pre><code>&lt;%\nresponse.setContentType(&quot;text/plain&quot;);\n\nList&lt;Class&lt;?&gt;&gt; clazzes = List.of(Logger.class, object.getClass());\n\nout.println(&quot;CLASSLOADERS:\\n&quot;);\nClassLoader classloader = new Object() {}.getClass().getClassLoader();\nwhile (classloader != null) {\n    out.println(\n            String.format(&quot;%-18s&quot;, classloader.getName()) + &quot; &quot; +\n            String.format(&quot;%-10s&quot;, Integer.toHexString(classloader.hashCode()))  + &quot; &quot; + \n            classloader.getClass().getName() + &quot; / &quot; + getAnnotation(classloader));\n\n    classloader = classloader.getParent();\n}\n\nout.println(&quot;\\nCLASSES:\\n&quot;);\nfor (Class&lt;?&gt; clazz : clazzes) {\n    ClassLoader cloader = clazz.getClassLoader();\n    URL location = Optional.of(clazz.getProtectionDomain()).map(x-&gt;x.getCodeSource()).map(x-&gt;x.getLocation()).orElse(null);\n    out.println(\n            clazz + &quot; \\n    &quot; + \n            (cloader != null ? Integer.toHexString(cloader.hashCode()) : &quot;&lt;bootstrap&gt;&quot;) + &quot;\\t&quot; + \n            location);\n}\n\n%&gt;\n</code></pre>\n"}],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70462521,"answer_count":1,"score":3,"last_activity_date":1640343407,"creation_date":1640185596,"question_id":70451121,"body_markdown":"In JEE environment it is useful to know, where a particular class is loaded from.\r\n\r\nFor example I have an instance of `org.slf4j.Logger` provided by a some black box library. Is it possible to find the responsible classloader? If the class of the instance comes from JDK, Application Server, EAR or Web Application classloader?","title":"Which classloader loaded a class of the provided instance","body":"<p>In JEE environment it is useful to know, where a particular class is loaded from.</p>\n<p>For example I have an instance of <code>org.slf4j.Logger</code> provided by a some black box library. Is it possible to find the responsible classloader? If the class of the instance comes from JDK, Application Server, EAR or Web Application classloader?</p>\n"},{"tags":["java","spring-boot","authentication","event-listener","spring-boot-actuator"],"owner":{"account_id":13460052,"reputation":21,"user_id":9712422,"display_name":"garry77792"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640343132,"creation_date":1639579403,"question_id":70365636,"body_markdown":"    @Component\r\n    public class LoginAttemptsLogger {\r\n    \r\n        @Autowired\r\n        private AuthorisationLogService authorisationLogService;\r\n    \r\n        @EventListener\r\n        public void auditEventHappened(AuditApplicationEvent auditApplicationEvent) {\r\n    \r\n            AuditEvent auditEvent = auditApplicationEvent.getAuditEvent();\r\n    \r\n            String principal = auditEvent.getPrincipal();\r\n            if (!principal.equals(&quot;anonymousUser&quot;)) {\r\n                if (auditEvent.getType().equals(&quot;AUTHENTICATION_SUCCESS&quot;)) {\r\n                    authorisationLogService.logSuccessfulLogin(principal);\r\n                } else {\r\n                    authorisationLogService.logUnSuccessfulLogin(principal);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n - Problem Occured in @EventListener. It was Working on Spring Boot 2.0.0.RELEASE.\r\n \r\n - When I update My project to Spring Boot 2.6.1 ,    Request doesn&#39;t\r\n   automatically go into this method anymore, as it was    before.\r\n\r\n - ***How Can I fix it ?***\r\n\r\n - ***[SOURCE CODE on BAELDUNG][1]***\r\n\r\n\r\n\r\n\r\n  [1]: https://baeldung-cn.com/spring-boot-authentication-audit","title":"Spring Boot Authentication Auditing Support With Starter Actuator","body":"<pre><code>@Component\npublic class LoginAttemptsLogger {\n\n    @Autowired\n    private AuthorisationLogService authorisationLogService;\n\n    @EventListener\n    public void auditEventHappened(AuditApplicationEvent auditApplicationEvent) {\n\n        AuditEvent auditEvent = auditApplicationEvent.getAuditEvent();\n\n        String principal = auditEvent.getPrincipal();\n        if (!principal.equals(&quot;anonymousUser&quot;)) {\n            if (auditEvent.getType().equals(&quot;AUTHENTICATION_SUCCESS&quot;)) {\n                authorisationLogService.logSuccessfulLogin(principal);\n            } else {\n                authorisationLogService.logUnSuccessfulLogin(principal);\n            }\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><p>Problem Occured in @EventListener. It was Working on Spring Boot 2.0.0.RELEASE.</p>\n</li>\n<li><p>When I update My project to Spring Boot 2.6.1 ,    Request doesn't\nautomatically go into this method anymore, as it was    before.</p>\n</li>\n<li><p><em><strong>How Can I fix it ?</strong></em></p>\n</li>\n<li><p><em><strong><a href=\"https://baeldung-cn.com/spring-boot-authentication-audit\" rel=\"nofollow noreferrer\">SOURCE CODE on BAELDUNG</a></strong></em></p>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","unit-testing","groovy","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":1,"creation_date":1640330281,"post_id":70470306,"comment_id":124570704,"body_markdown":"Looks like to me that you need to mock `dlcrddlPortType` instead of `status`. Without sharing more of you class, ideally an [MCVE](https://stackoverflow.com/help/mcve), we can&#39;t really help you.","body":"Looks like to me that you need to mock <code>dlcrddlPortType</code> instead of <code>status</code>. Without sharing more of you class, ideally an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, we can&#39;t really help you."},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1640331350,"post_id":70470306,"comment_id":124570883,"body_markdown":"You need to set the Holder value or pass it into the constructor before checking if it&#39;s equal.\nHolder&lt;String&gt; status = new Holder&lt;&gt;(&quot;value&quot;)\n\n\nRight now when you run your test it is creating the Holder but with a null value","body":"You need to set the Holder value or pass it into the constructor before checking if it&#39;s equal. Holder&lt;String&gt; status = new Holder&lt;&gt;(&quot;value&quot;)   Right now when you run your test it is creating the Holder but with a null value"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640342595,"creation_date":1640342595,"answer_id":70472057,"question_id":70470306,"body_markdown":"I tried to create an [MCVE][1] from you partial example.\r\nThe important part is this:\r\n\r\n```groovy    \r\n            1 * dlcrddlPortType.startProcess(appId, _, _) &gt;&gt; { id, status, statusText -&gt;\r\n                status.value = &quot;SUCCESS&quot;\r\n            }\r\n```\r\n\r\nWith this you use the response generator to access the arguments, and set the value to the status holder.\r\n\r\n\r\nHere is the slightly adapted example:\r\n```groovy\r\npublic class MainService {   \r\n    private DLCRDDLPortType dlcrddlPortType;  \r\n    public void startProcess(Application app) {          \r\n        Holder&lt;String&gt; status = new Holder&lt;&gt;();     \r\n        Holder&lt;String&gt; statusText = new Holder&lt;&gt;();          \r\n        dlcrddlPortType.startProcess(app.getApplicationId(), status, statusText);     \r\n        if (status.value.equals(&quot;FAIL_RESPONSE_STATUS&quot;)) {         \r\n            throw new IllegalStateException(String.format(&quot;Failed to get response with status %s and description %s&quot;, status.value, statusText.value));     \r\n        }\r\n    }\r\n}\r\n\r\nclass Application {\r\n    long applicationId\r\n}\r\n\r\ninterface DLCRDDLPortType {\r\n    void startProcess(long applicationId, Holder&lt;String&gt; status, Holder&lt;String&gt; statusText)\r\n}\r\n\r\n\r\npublic final class Holder&lt;T&gt; implements Serializable {\r\n\r\n    public T value; \r\n\r\n    public Holder() {\r\n    }    \r\n\r\n    public Holder(T value) {\r\n        this.value = value;\r\n    }\r\n    \r\n    public void setValue(T value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass ASpec extends Specification {\r\n\r\n    def &quot;startProcess success&quot;() {\r\n        given:\r\n        DLCRDDLPortType dlcrddlPortType = Mock()\r\n        MainService mainService = new MainService(dlcrddlPortType: dlcrddlPortType)\r\n        long appId = 171l     \r\n        def app = new Application(applicationId: appId)\r\n\r\n        when:\r\n            mainService.startProcess(app)\r\n        \r\n        then:        \r\n            1 * dlcrddlPortType.startProcess(appId, _, _) &gt;&gt; { id, status, statusText -&gt;\r\n                status.value = &quot;SUCCESS&quot;\r\n            }\r\n    }\r\n}\r\n```\r\nTry it in the [Groovy Console][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/mcve\r\n  [2]: https://gwc-experiment.appspot.com/?codez=eJyVVG1v2jAQ_p5fcYpUKZkYEp8mwRYJAdOQ6IaadF-RG1_AmnEy20C3iv8-J06IE6i6WrwkvrvnnnstDk-cpZByohTcEyZilEeWIrwAgGe-UEh2JBphvpo9zOerdS518qdAoDyVlPLmfdKoW8BjzigoTaReyzxFpYJpURgB0SwXQIoirDzUx2sevuWcovwca8nENioB9EHBFxB4amRREE7-wyjBZ_2KYde6F8ewQ9oQHW5RO9yXNAgHtY-B46tPimUQWOnwSPgBh_j7QLgK_K_T5WrzsIjXP77Hi02cTJPH2A_ddHjgHL2T-akKY8k5bgmPDSgunlMsSjqBjXqY5XJPtEEnjCMFnYOhDRJVkQuFcGJ612TzTgERFCiqVLIKxFz5TSyWrRuZvQn7AZ49-3v2PNs9boFfKiHPxbasdZu7UpsJjTIj6XVLWavr1rnGGdwu-ivXVX1K117dnRkThNdNX1skEbB9wXGPQiswU8AIZ3_JEy9puZ2dQJWPCXRuLUoQ1jGcq1TdUKitGz1bYVZn3fSrxfbaBF8PFeqfpdL7oNoqxQWmYBKCgpo4zQvL2qpV2hQz8N0CgDqk5b8fuM627IhifHl9Yz8YQvd5-isILwbuttk7z3ZoHWnQgxr3sVvMplOW1MCMPo14b9ZNZEZau3AaNuh019hChN7F8LRzQy2Pw_hqZbR8nMoYgJsDPoIPb-6gsuE35hNCFJlFweitDQQfow5wedyZNlH78eNstohjv6N4meR_jmrW_g","title":"Set field of mock class without setter","body":"<p>I tried to create an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> from you partial example.\nThe important part is this:</p>\n<pre><code>            1 * dlcrddlPortType.startProcess(appId, _, _) &gt;&gt; { id, status, statusText -&gt;\n                status.value = &quot;SUCCESS&quot;\n            }\n</code></pre>\n<p>With this you use the response generator to access the arguments, and set the value to the status holder.</p>\n<p>Here is the slightly adapted example:</p>\n<pre><code>public class MainService {   \n    private DLCRDDLPortType dlcrddlPortType;  \n    public void startProcess(Application app) {          \n        Holder&lt;String&gt; status = new Holder&lt;&gt;();     \n        Holder&lt;String&gt; statusText = new Holder&lt;&gt;();          \n        dlcrddlPortType.startProcess(app.getApplicationId(), status, statusText);     \n        if (status.value.equals(&quot;FAIL_RESPONSE_STATUS&quot;)) {         \n            throw new IllegalStateException(String.format(&quot;Failed to get response with status %s and description %s&quot;, status.value, statusText.value));     \n        }\n    }\n}\n\nclass Application {\n    long applicationId\n}\n\ninterface DLCRDDLPortType {\n    void startProcess(long applicationId, Holder&lt;String&gt; status, Holder&lt;String&gt; statusText)\n}\n\n\npublic final class Holder&lt;T&gt; implements Serializable {\n\n    public T value; \n\n    public Holder() {\n    }    \n\n    public Holder(T value) {\n        this.value = value;\n    }\n    \n    public void setValue(T value) {\n        this.value = value;\n    }\n}\n\nclass ASpec extends Specification {\n\n    def &quot;startProcess success&quot;() {\n        given:\n        DLCRDDLPortType dlcrddlPortType = Mock()\n        MainService mainService = new MainService(dlcrddlPortType: dlcrddlPortType)\n        long appId = 171l     \n        def app = new Application(applicationId: appId)\n\n        when:\n            mainService.startProcess(app)\n        \n        then:        \n            1 * dlcrddlPortType.startProcess(appId, _, _) &gt;&gt; { id, status, statusText -&gt;\n                status.value = &quot;SUCCESS&quot;\n            }\n    }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?codez=eJyVVG1v2jAQ_p5fcYpUKZkYEp8mwRYJAdOQ6IaadF-RG1_AmnEy20C3iv8-J06IE6i6WrwkvrvnnnstDk-cpZByohTcEyZilEeWIrwAgGe-UEh2JBphvpo9zOerdS518qdAoDyVlPLmfdKoW8BjzigoTaReyzxFpYJpURgB0SwXQIoirDzUx2sevuWcovwca8nENioB9EHBFxB4amRREE7-wyjBZ_2KYde6F8ewQ9oQHW5RO9yXNAgHtY-B46tPimUQWOnwSPgBh_j7QLgK_K_T5WrzsIjXP77Hi02cTJPH2A_ddHjgHL2T-akKY8k5bgmPDSgunlMsSjqBjXqY5XJPtEEnjCMFnYOhDRJVkQuFcGJ612TzTgERFCiqVLIKxFz5TSyWrRuZvQn7AZ49-3v2PNs9boFfKiHPxbasdZu7UpsJjTIj6XVLWavr1rnGGdwu-ivXVX1K117dnRkThNdNX1skEbB9wXGPQiswU8AIZ3_JEy9puZ2dQJWPCXRuLUoQ1jGcq1TdUKitGz1bYVZn3fSrxfbaBF8PFeqfpdL7oNoqxQWmYBKCgpo4zQvL2qpV2hQz8N0CgDqk5b8fuM627IhifHl9Yz8YQvd5-isILwbuttk7z3ZoHWnQgxr3sVvMplOW1MCMPo14b9ZNZEZau3AaNuh019hChN7F8LRzQy2Pw_hqZbR8nMoYgJsDPoIPb-6gsuE35hNCFJlFweitDQQfow5wedyZNlH78eNstohjv6N4meR_jmrW_g\" rel=\"nofollow noreferrer\">Groovy Console</a></p>\n"}],"owner":{"account_id":17730619,"reputation":167,"user_id":12873323,"display_name":"Ayshan Rzayeva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70472057,"answer_count":1,"score":0,"last_activity_date":1640342595,"creation_date":1640328716,"question_id":70470306,"body_markdown":"I want to test this method with spock\r\n\r\n    public class MainService {   \r\n      private final DLCRDDLPortType dlcrddlPortType;  \r\n      public void startProcess(Application app) {          \r\n            Holder&lt;String&gt; status = new Holder&lt;&gt;();     \r\n            Holder&lt;String&gt; statusText = new Holder&lt;&gt;();          \r\n            dlcrddlPortType.startProcess(app.getApplicationId(), status, statusText);     \r\n            if (status.value.equals(FAIL_RESPONSE_STATUS)) {         \r\n            throw new FailResponseException(String.format(&quot;Failed to get response with status %s and description %s&quot;, status.value, statusText.value));     \r\n}}\r\n\r\n    public final class Holder&lt;T&gt; implements Serializable {\r\n\r\n        public T value; \r\n   \r\n        public Holder() {\r\n        }    \r\n\r\n        public Holder(T value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n**status.value** is null, I cant change it without setter and I cant create it with constructor, beacause I need mock. How can I fix it?\r\n\r\n**Error:**\r\nCannot invoke &quot;String.equals(Object)&quot; because &quot;status.value&quot; is null\r\n\r\n**My test:**\r\n\r\n    private DLCRDDLPortType dlcrddlPortType\r\n    private MainService mainService\r\n    private Holder status\r\n    private Holder statusText\r\n\r\n    void setup() {\r\n        status = GroovyMock()\r\n        dlcrddlPortType = Mock()\r\n        mainService= new MainService(dlcrddlPortType)\r\n    }\r\n\r\n    def &quot;startProcess success&quot;() {\r\n        \r\n        given:\r\n        def appId = 171l     \r\n        ReflectionTestUtils.setField(status, &quot;value&quot;, &quot;SUCCESS&quot;)\r\n        def app = Application.builder().applicationId(appId).build()\r\n       \r\n        when:\r\n        mainService.startProcess(app)\r\n        then:        \r\n        1 * dlcrddlPortType.startProcess(appId, status, statusText)\r\n\r\n    }","title":"Set field of mock class without setter","body":"<p>I want to test this method with spock</p>\n<pre><code>public class MainService {   \n  private final DLCRDDLPortType dlcrddlPortType;  \n  public void startProcess(Application app) {          \n        Holder&lt;String&gt; status = new Holder&lt;&gt;();     \n        Holder&lt;String&gt; statusText = new Holder&lt;&gt;();          \n        dlcrddlPortType.startProcess(app.getApplicationId(), status, statusText);     \n        if (status.value.equals(FAIL_RESPONSE_STATUS)) {         \n        throw new FailResponseException(String.format(&quot;Failed to get response with status %s and description %s&quot;, status.value, statusText.value));     \n</code></pre>\n<p>}}</p>\n<pre><code>public final class Holder&lt;T&gt; implements Serializable {\n\n    public T value; \n\n    public Holder() {\n    }    \n\n    public Holder(T value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p><strong>status.value</strong> is null, I cant change it without setter and I cant create it with constructor, beacause I need mock. How can I fix it?</p>\n<p><strong>Error:</strong>\nCannot invoke &quot;String.equals(Object)&quot; because &quot;status.value&quot; is null</p>\n<p><strong>My test:</strong></p>\n<pre><code>private DLCRDDLPortType dlcrddlPortType\nprivate MainService mainService\nprivate Holder status\nprivate Holder statusText\n\nvoid setup() {\n    status = GroovyMock()\n    dlcrddlPortType = Mock()\n    mainService= new MainService(dlcrddlPortType)\n}\n\ndef &quot;startProcess success&quot;() {\n    \n    given:\n    def appId = 171l     \n    ReflectionTestUtils.setField(status, &quot;value&quot;, &quot;SUCCESS&quot;)\n    def app = Application.builder().applicationId(appId).build()\n   \n    when:\n    mainService.startProcess(app)\n    then:        \n    1 * dlcrddlPortType.startProcess(appId, status, statusText)\n\n}\n</code></pre>\n"},{"tags":["java","android","webview","dialog","layout-inflater"],"comments":[{"owner":{"account_id":6012103,"reputation":303,"user_id":4722232,"accept_rate":60,"display_name":"Filom&#233;na Petržl&#233;nov&#225;"},"score":0,"creation_date":1639582518,"post_id":70366212,"comment_id":124386617,"body_markdown":"Can you post your code? Also why would webview be neded in the alert dialog?","body":"Can you post your code? Also why would webview be neded in the alert dialog?"},{"owner":{"account_id":10562040,"reputation":261,"user_id":7781527,"display_name":"MOHAMED SIKKANDAR AFZAL M"},"score":0,"creation_date":1640099034,"post_id":70366212,"comment_id":124511871,"body_markdown":"In the webview , i may click a button and open modal to show content but it will be displayed inside the webview&#39;s width and height right, i want to display the modal like native modal . so i try to load the existing webveiw on the dialog and show only the modal and hide remaining contents.\nthey will call my function onclosing and opening modal so that i can do this hiding stuff and display like native modal dialog.","body":"In the webview , i may click a button and open modal to show content but it will be displayed inside the webview&#39;s width and height right, i want to display the modal like native modal . so i try to load the existing webveiw on the dialog and show only the modal and hide remaining contents. they will call my function onclosing and opening modal so that i can do this hiding stuff and display like native modal dialog."}],"answers":[{"tags":[],"owner":{"account_id":23664262,"reputation":69,"user_id":17691949,"display_name":"nias fathima"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640342420,"creation_date":1640342420,"answer_id":70472036,"question_id":70366212,"body_markdown":"To be clear, i assume your question is to reuse an existing web view from a layout and display it in alert dialog box.\r\nIf so you can remove web view from the original layout and add it in alert dialog as follows\r\n\r\n    WebView myWebview = findViewById(R.id.myWebView);\r\n    ViewGroup parent = (ViewGroup) myWebview.getParent();\r\n    if (parent != null) {                            \r\n       parent.removeView(myWebview);\r\n    }\r\n    AlertDialog.Builder builder;\r\n    AlertDialog alert;\r\n    builder = new AlertDialog.Builder(this);\r\n    alert = builder.create();\r\n    alert.setView(myWebview);\r\n    alert.show();\r\n\r\nso the existing webview will be removed from its layout and displayed on the alert dialog.\r\nYou can also do the vice versa (remove webview from alert dialog and append in the previous layout.\r\n","title":"how to load existing webview in alert dialog android","body":"<p>To be clear, i assume your question is to reuse an existing web view from a layout and display it in alert dialog box.\nIf so you can remove web view from the original layout and add it in alert dialog as follows</p>\n<pre><code>WebView myWebview = findViewById(R.id.myWebView);\nViewGroup parent = (ViewGroup) myWebview.getParent();\nif (parent != null) {                            \n   parent.removeView(myWebview);\n}\nAlertDialog.Builder builder;\nAlertDialog alert;\nbuilder = new AlertDialog.Builder(this);\nalert = builder.create();\nalert.setView(myWebview);\nalert.show();\n</code></pre>\n<p>so the existing webview will be removed from its layout and displayed on the alert dialog.\nYou can also do the vice versa (remove webview from alert dialog and append in the previous layout.</p>\n"}],"owner":{"account_id":10562040,"reputation":261,"user_id":7781527,"display_name":"MOHAMED SIKKANDAR AFZAL M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70472036,"answer_count":1,"score":1,"last_activity_date":1640342420,"creation_date":1639581921,"question_id":70366212,"body_markdown":"I have loaded a webview by default, with settings and url at the bottom of the page, i need to display that existing webview in an alert dialog box. \r\nI don&#39;t want to create new webview since i need to maintain the state of the existing webview (i mean if i had clicked on the button inside the webivew and toggled the content, then i need to show the exact same content in alert dialog)\r\nI tried to inflate by moving the webview along with some textview in seperate layout but it on alert dialog it shows textview but webview is not loaded.\r\nSuggestions welcome!!","title":"how to load existing webview in alert dialog android","body":"<p>I have loaded a webview by default, with settings and url at the bottom of the page, i need to display that existing webview in an alert dialog box.\nI don't want to create new webview since i need to maintain the state of the existing webview (i mean if i had clicked on the button inside the webivew and toggled the content, then i need to show the exact same content in alert dialog)\nI tried to inflate by moving the webview along with some textview in seperate layout but it on alert dialog it shows textview but webview is not loaded.\nSuggestions welcome!!</p>\n"},{"tags":["java","android","kotlin","nfc"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1640347273,"post_id":70471994,"comment_id":124574397,"body_markdown":"Here is an answer that works https://stackoverflow.com/a/64921434/2373819, your code does not show enough to where you have implemented this and if you have done it in the correct place. There is also a slight difference in how the callback is defined but don&#39;t know if that makes a difference.","body":"Here is an answer that works <a href=\"https://stackoverflow.com/a/64921434/2373819\">stackoverflow.com/a/64921434/2373819</a>, your code does not show enough to where you have implemented this and if you have done it in the correct place. There is also a slight difference in how the callback is defined but don&#39;t know if that makes a difference."},{"owner":{"account_id":23735715,"reputation":196,"user_id":17754422,"display_name":"Anh Luu"},"score":0,"creation_date":1640573757,"post_id":70471994,"comment_id":124607182,"body_markdown":"@Andrew thanks, I will try it. I add it in onResume as default, but with some strangely reasons, NFC show communicate fail every t put on the Tag :(","body":"@Andrew thanks, I will try it. I add it in onResume as default, but with some strangely reasons, NFC show communicate fail every t put on the Tag :("}],"owner":{"account_id":23735715,"reputation":196,"user_id":17754422,"display_name":"Anh Luu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640342078,"creation_date":1640342078,"question_id":70471994,"body_markdown":" I&#39;m working with NFC in my Android project with java, I have set flag for nfc adapter reader to remove sound of NFC when connecting but it doesn&#39;t work. Please give some solutions for this problem, thank you so much if you can or not\r\n\r\n  \r\n\r\n    NfcAdapter adapter = NfcAdapter.getDefaultAdapter(this);\r\n        adapter.enableReaderMode(this,\r\n                new NfcAdapter.ReaderCallback() {\r\n                    @Override\r\n                    public void onTagDiscovered(final Tag tag) {\r\n                        // do something\r\n                    }\r\n                },\r\n                NfcAdapter.FLAG_READER_NFC_A |\r\n                NfcAdapter.FLAG_READER_NFC_B |\r\n                NfcAdapter.FLAG_READER_NFC_F |\r\n                NfcAdapter.FLAG_READER_NFC_V |\r\n                NfcAdapter.FLAG_READER_NFC_BARCODE |\r\n                NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS,\r\n                null);","title":"How can I remove sound of NFC communication in programing Android","body":"<p>I'm working with NFC in my Android project with java, I have set flag for nfc adapter reader to remove sound of NFC when connecting but it doesn't work. Please give some solutions for this problem, thank you so much if you can or not</p>\n<pre><code>NfcAdapter adapter = NfcAdapter.getDefaultAdapter(this);\n    adapter.enableReaderMode(this,\n            new NfcAdapter.ReaderCallback() {\n                @Override\n                public void onTagDiscovered(final Tag tag) {\n                    // do something\n                }\n            },\n            NfcAdapter.FLAG_READER_NFC_A |\n            NfcAdapter.FLAG_READER_NFC_B |\n            NfcAdapter.FLAG_READER_NFC_F |\n            NfcAdapter.FLAG_READER_NFC_V |\n            NfcAdapter.FLAG_READER_NFC_BARCODE |\n            NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS,\n            null);\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","parallel-processing","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640105195,"post_id":70438558,"comment_id":124514401,"body_markdown":"What do you mean with “it doesn&#39;t return anything”? Do you have an actual caller with actual data?","body":"What do you mean with “it doesn&#39;t return anything”? Do you have an actual caller with actual data?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1640142569,"post_id":70438558,"comment_id":124523691,"body_markdown":"Works for me. I just made the methods static and ran them in a main method.","body":"Works for me. I just made the methods static and ran them in a main method."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1640164249,"post_id":70438558,"comment_id":124528307,"body_markdown":"Note that this implementation will not be very efficient, as it will schedule as many jobs as there are elements in the array. Moreover, multithreading this would only be relevant for large arrays due to the overhead it adds. In any case, parallel streams would be more appropriate and simpler to use here.","body":"Note that this implementation will not be very efficient, as it will schedule as many jobs as there are elements in the array. Moreover, multithreading this would only be relevant for large arrays due to the overhead it adds. In any case, parallel streams would be more appropriate and simpler to use here."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640341608,"creation_date":1640341608,"answer_id":70471917,"question_id":70438558,"body_markdown":"Multi-threading a purely CPU-bound task is often hard, as it is difficult to evaluate the overhead of thread synchronization and avoid computing too much.\r\n\r\nFor instance here, you wouldn’t want to check each entry in a separate task, as the overhead would be higher than the task itself. Moreover you will also want to stop the process as soon as possible, i.e. as quickly as possible after finding a match.\r\n\r\nFortunately, Java 8 also provides [the `Stream` API][1], which easily handles parallelism for CPU-bound tasks that involve a (large) collection of data, so your method implementation simply becomes:\r\n\r\n```\r\nboolean searchAsync(int x, int[] arr) {\r\n    return Arrays.stream(arr).parallel().anyMatch(i -&gt; i == x);\r\n}\r\n```\r\n(note that without the `parallel()` it becomes purely equivalent to your first example with the `for` loop)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"correct way to multithread in java?","body":"<p>Multi-threading a purely CPU-bound task is often hard, as it is difficult to evaluate the overhead of thread synchronization and avoid computing too much.</p>\n<p>For instance here, you wouldn’t want to check each entry in a separate task, as the overhead would be higher than the task itself. Moreover you will also want to stop the process as soon as possible, i.e. as quickly as possible after finding a match.</p>\n<p>Fortunately, Java 8 also provides <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">the <code>Stream</code> API</a>, which easily handles parallelism for CPU-bound tasks that involve a (large) collection of data, so your method implementation simply becomes:</p>\n<pre><code>boolean searchAsync(int x, int[] arr) {\n    return Arrays.stream(arr).parallel().anyMatch(i -&gt; i == x);\n}\n</code></pre>\n<p>(note that without the <code>parallel()</code> it becomes purely equivalent to your first example with the <code>for</code> loop)</p>\n"}],"owner":{"account_id":22990059,"reputation":133,"user_id":17115688,"display_name":"tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640341608,"creation_date":1640103821,"question_id":70438558,"body_markdown":"normal version of searching for a number in an array:\r\n```\r\nboolean search(int x, int[] arr) {\r\n           for (int i : arr) {\r\n               if (i == x) {\r\n                   return true;\r\n               }\r\n           }\r\n           return false;\r\n       }\r\n```\r\n\r\nmy way of multithreading it:\r\n```\r\nboolean searchAsync(int x, int[] arr, int lo, int hi) {\r\n           if (lo == hi) {\r\n               return x == arr[lo];\r\n           }\r\n           int mid = (lo + hi) / 2;\r\n           CompletableFuture&lt;Boolean&gt; cf = CompletableFuture.&lt;Boolean&gt;supplyAsync(() -&gt; searchAsync(x, arr, lo, mid));\r\n           boolean b = searchAsync(x, arr, mid + 1, hi);\r\n           return cf.thenApply(a -&gt; a | b).join();\r\n       }\r\nboolean searchAsync(int x, int[] arr) {\r\n           return searchAsync(x, arr, 0, arr.length - 1);\r\n       }\r\n```\r\nbut it doesn&#39;t return anything","title":"correct way to multithread in java?","body":"<p>normal version of searching for a number in an array:</p>\n<pre><code>boolean search(int x, int[] arr) {\n           for (int i : arr) {\n               if (i == x) {\n                   return true;\n               }\n           }\n           return false;\n       }\n</code></pre>\n<p>my way of multithreading it:</p>\n<pre><code>boolean searchAsync(int x, int[] arr, int lo, int hi) {\n           if (lo == hi) {\n               return x == arr[lo];\n           }\n           int mid = (lo + hi) / 2;\n           CompletableFuture&lt;Boolean&gt; cf = CompletableFuture.&lt;Boolean&gt;supplyAsync(() -&gt; searchAsync(x, arr, lo, mid));\n           boolean b = searchAsync(x, arr, mid + 1, hi);\n           return cf.thenApply(a -&gt; a | b).join();\n       }\nboolean searchAsync(int x, int[] arr) {\n           return searchAsync(x, arr, 0, arr.length - 1);\n       }\n</code></pre>\n<p>but it doesn't return anything</p>\n"},{"tags":["java","android","mediaextractor"],"answers":[{"tags":[],"owner":{"account_id":6225382,"reputation":1,"user_id":4843814,"display_name":"vsharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640341534,"creation_date":1640341534,"answer_id":70471901,"question_id":57052711,"body_markdown":"A list of available audio presentations in a media source can be queried using MediaExtractor.getAudioPresentations(int) . This list can be presented to a user for selection. Also Applications that parse media streams and extract presentation information on their own can create instances of AudioPresentation by using  AudioPresentation.Builder class. This AudioPresentation class is helpful specially in Audio/Video editing functionality.\r\n\r\nFor further information about the class, please refer https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/AudioPresentation.java","title":"What is the use of AudioPresentation class in Android?","body":"<p>A list of available audio presentations in a media source can be queried using MediaExtractor.getAudioPresentations(int) . This list can be presented to a user for selection. Also Applications that parse media streams and extract presentation information on their own can create instances of AudioPresentation by using  AudioPresentation.Builder class. This AudioPresentation class is helpful specially in Audio/Video editing functionality.</p>\n<p>For further information about the class, please refer <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/AudioPresentation.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/AudioPresentation.java</a></p>\n"}],"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640341534,"creation_date":1563264278,"question_id":57052711,"body_markdown":"Recently i found that\r\n`MediaExtractor` class has a method called `getAudioPresentations`\r\nWhat does this method is for?\r\n\r\n&gt;The AudioPresentation class encapsulates the information that describes an audio presentation\r\n  which is available in next generation audio content.\r\n\r\nI&#39;m not able to understand this definition. Can someone please help me with it","title":"What is the use of AudioPresentation class in Android?","body":"<p>Recently i found that\n<code>MediaExtractor</code> class has a method called <code>getAudioPresentations</code>\nWhat does this method is for?</p>\n\n<blockquote>\n  <p>The AudioPresentation class encapsulates the information that describes an audio presentation\n    which is available in next generation audio content.</p>\n</blockquote>\n\n<p>I'm not able to understand this definition. Can someone please help me with it</p>\n"},{"tags":["java","android","json","jsonexception"],"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1492264499,"post_id":43426334,"comment_id":73911603,"body_markdown":"I&#39;ve just copied code and response and run it, everything is alright on my side. All ten elements are parsed.","body":"I&#39;ve just copied code and response and run it, everything is alright on my side. All ten elements are parsed."},{"owner":{"account_id":7641057,"reputation":187,"user_id":5793112,"accept_rate":69,"display_name":"Uzer"},"score":0,"creation_date":1492264657,"post_id":43426334,"comment_id":73911665,"body_markdown":"Not sure what is happening but the amount of &quot;results&quot; keep increasing as new articles are added to the guardian api :/ Guess ill wait for a bit and see what happens and maybe try it out other devices","body":"Not sure what is happening but the amount of &quot;results&quot; keep increasing as new articles are added to the guardian api :/ Guess ill wait for a bit and see what happens and maybe try it out other devices"}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492261558,"creation_date":1492261558,"answer_id":43426400,"question_id":43426334,"body_markdown":"Use everywhere &quot;opt&quot; instead of &quot;get&#39;, e.g.:\r\n\r\n    JSONObject assetsElement = assetsArray.optJSONObject(0);\r\n    String imageUrl = assetsElement.optString(&quot;file&quot;);","title":"Incorrect JSONException","body":"<p>Use everywhere \"opt\" instead of \"get', e.g.:</p>\n\n<pre><code>JSONObject assetsElement = assetsArray.optJSONObject(0);\nString imageUrl = assetsElement.optString(\"file\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7648232,"reputation":1230,"user_id":5798049,"accept_rate":83,"display_name":"Mr. Mad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492261794,"creation_date":1492261794,"answer_id":43426433,"question_id":43426334,"body_markdown":"this is happening because of there is no field &quot;main&quot;  in the response at some position in the line \r\n\r\n                JSONObject mainElement = blocksElement.getJSONObject(&quot;main&quot;);\r\n\r\n\r\n\r\nso if at any of the position any of the fields are missing from the response, then after that position the code will not compile in JSON parsing.\r\n\r\nsorry for bad english .","title":"Incorrect JSONException","body":"<p>this is happening because of there is no field \"main\"  in the response at some position in the line </p>\n\n<pre><code>            JSONObject mainElement = blocksElement.getJSONObject(\"main\");\n</code></pre>\n\n<p>so if at any of the position any of the fields are missing from the response, then after that position the code will not compile in JSON parsing.</p>\n\n<p>sorry for bad english .</p>\n"}],"owner":{"account_id":7641057,"reputation":187,"user_id":5793112,"accept_rate":69,"display_name":"Uzer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640341523,"creation_date":1492261025,"question_id":43426334,"body_markdown":"I&#39;m trying to use JSON objects from the Guardian API.\r\n\r\nThis is the result from my call:\r\n\r\nhttps://pastebin.com/wqggLEeZ\r\n\r\nThis is my code\r\n\r\n    JSONObject root = new JSONObject(jsonData);\r\n    JSONArray resultArray = root.getJSONObject(&quot;response&quot;).getJSONArray(&quot;results&quot;);\r\n\r\n    for(int i=0;i&lt;resultArray.length();i++) {\r\n        JSONObject resultElement = resultArray.getJSONObject(i);\r\n        JSONObject blocksElement = resultElement.getJSONObject(&quot;blocks&quot;);\r\n        JSONObject mainElement = blocksElement.getJSONObject(&quot;main&quot;);\r\n        JSONArray elementsArray = mainElement.getJSONArray(&quot;elements&quot;);\r\n        JSONObject elementsElement = elementsArray.getJSONObject(0);\r\n        JSONArray assetsArray = elementsElement.getJSONArray(&quot;assets&quot;);\r\n        JSONObject assetsElement = assetsArray.getJSONObject(0);\r\n\r\n        String imageUrl = assetsElement.getString(&quot;file&quot;);\r\n        String articleTitle = resultElement.getString(&quot;webTitle&quot;);\r\n\r\n        news.add(new NewsList(articleTitle, imageUrl));\r\n    }\r\n\r\nThe code works fine except that it stops at 3 elements (i=2)\r\n\r\nI tried replacing the imageUrl with &quot;test&quot; string in\r\n\r\n    news.add(new NewsList(articleTitle, imageUrl));\r\n\r\nbut it still stops at 3 elements.\r\n\r\nBut when I comment out the part where it finds the imageUrl the whole code works and gives me 10 results like it should do:\r\n\r\n    JSONObject root = new JSONObject(jsonData);\r\n    JSONArray resultArray = root.getJSONObject(&quot;response&quot;).getJSONArray(&quot;results&quot;);\r\n\r\n    for(int i=0;i&lt;resultArray.length();i++){\r\n        JSONObject resultElement = resultArray.getJSONObject(i);\r\n        /*\r\n        JSONObject blocksElement = resultElement.getJSONObject(&quot;blocks&quot;);\r\n        JSONObject mainElement = blocksElement.getJSONObject(&quot;main&quot;);\r\n        JSONArray elementsArray = mainElement.getJSONArray(&quot;elements&quot;);\r\n        JSONObject elementsElement = elementsArray.getJSONObject(0);\r\n        JSONArray assetsArray = elementsElement.getJSONArray(&quot;assets&quot;);\r\n        JSONObject assetsElement = assetsArray.getJSONObject(0);\r\n        String imageUrl = assetsElement.getString(&quot;file&quot;);\r\n        */\r\n\r\n        String articleTitle = resultElement.getString(&quot;webTitle&quot;);\r\n\r\n        news.add(new NewsList(articleTitle, &quot;test&quot;));\r\n    }\r\n\r\nI&#39;ve looked around in Android monitor and it seems like it has a problem that says \r\n\r\n&gt; org.json.JSONException: No value for main\r\n\r\nBut that is not correct as the URL for the first 3 result is found without any problem, the problem only occurs after 3 iterations of the loop and I can&#39;t find any reason for why this is happening.","title":"Incorrect JSONException","body":"<p>I'm trying to use JSON objects from the Guardian API.</p>\n\n<p>This is the result from my call:</p>\n\n<p><a href=\"https://pastebin.com/wqggLEeZ\" rel=\"nofollow noreferrer\">https://pastebin.com/wqggLEeZ</a></p>\n\n<p>This is my code</p>\n\n<pre><code>JSONObject root = new JSONObject(jsonData);\nJSONArray resultArray = root.getJSONObject(\"response\").getJSONArray(\"results\");\n\nfor(int i=0;i&lt;resultArray.length();i++) {\n    JSONObject resultElement = resultArray.getJSONObject(i);\n    JSONObject blocksElement = resultElement.getJSONObject(\"blocks\");\n    JSONObject mainElement = blocksElement.getJSONObject(\"main\");\n    JSONArray elementsArray = mainElement.getJSONArray(\"elements\");\n    JSONObject elementsElement = elementsArray.getJSONObject(0);\n    JSONArray assetsArray = elementsElement.getJSONArray(\"assets\");\n    JSONObject assetsElement = assetsArray.getJSONObject(0);\n\n    String imageUrl = assetsElement.getString(\"file\");\n    String articleTitle = resultElement.getString(\"webTitle\");\n\n    news.add(new NewsList(articleTitle, imageUrl));\n}\n</code></pre>\n\n<p>The code works fine except that it stops at 3 elements (i=2)</p>\n\n<p>I tried replacing the imageUrl with \"test\" string in</p>\n\n<pre><code>news.add(new NewsList(articleTitle, imageUrl));\n</code></pre>\n\n<p>but it still stops at 3 elements.</p>\n\n<p>But when I comment out the part where it finds the imageUrl the whole code works and gives me 10 results like it should do:</p>\n\n<pre><code>JSONObject root = new JSONObject(jsonData);\nJSONArray resultArray = root.getJSONObject(\"response\").getJSONArray(\"results\");\n\nfor(int i=0;i&lt;resultArray.length();i++){\n    JSONObject resultElement = resultArray.getJSONObject(i);\n    /*\n    JSONObject blocksElement = resultElement.getJSONObject(\"blocks\");\n    JSONObject mainElement = blocksElement.getJSONObject(\"main\");\n    JSONArray elementsArray = mainElement.getJSONArray(\"elements\");\n    JSONObject elementsElement = elementsArray.getJSONObject(0);\n    JSONArray assetsArray = elementsElement.getJSONArray(\"assets\");\n    JSONObject assetsElement = assetsArray.getJSONObject(0);\n    String imageUrl = assetsElement.getString(\"file\");\n    */\n\n    String articleTitle = resultElement.getString(\"webTitle\");\n\n    news.add(new NewsList(articleTitle, \"test\"));\n}\n</code></pre>\n\n<p>I've looked around in Android monitor and it seems like it has a problem that says </p>\n\n<blockquote>\n  <p>org.json.JSONException: No value for main</p>\n</blockquote>\n\n<p>But that is not correct as the URL for the first 3 result is found without any problem, the problem only occurs after 3 iterations of the loop and I can't find any reason for why this is happening.</p>\n"},{"tags":["java","android","android-recyclerview","android-viewpager","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493236084,"creation_date":1493210951,"answer_id":43634729,"question_id":43633361,"body_markdown":"Try to keep ImageAdapter&#39;s instance in ViewHolder:\r\n\r\n    static class ViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        @BindView(R.id.indicator)\r\n        CircularIndicator mCircleIndicator;\r\n        @BindView(R.id.vp_photos)\r\n        ViewPager mViewPagerPhotoView;\r\n        ImageAdapter mAdapter;\r\n\r\n        public ViewHolder(View itemView)\r\n        {\r\n            super(itemView);\r\n            ButterKnife.bind(this, itemView);\r\n\r\n            mAdapter = new ImageAdapter();\r\n            mViewPagerPhotoView.setAdapter(mAdapter);\r\n        }\r\n\r\n        //Add bind() method which will be called in onBindViewHolder()\r\n        public void bind(ArrayList&lt;String&gt; imagePaths) {\r\n            //... maybe some other bindings\r\n\r\n            mAdapter.init(imagePaths);\r\n            mViewPagerPhotoView.setOffscreenPageLimit(mAdapter.getCount() - 1);\r\n            mCircleIndicator.setViewPager(mViewPagerPhotoView);\r\n        }\r\n    }\r\n\r\nCreate `init(ArrayList&lt;String&gt; imagePaths)` method in your adapter:\r\n\r\n    void init(ArrayList&lt;String&gt; paths) {\r\n          this.imagePaths = paths;\r\n          notifyDataSetChanged();\r\n    }\r\n\r\nIt should help. If it didn&#39;t helped then something is wrong in your using of Glide.","title":"Viewpager inside recyclerview adapter","body":"<p>Try to keep ImageAdapter's instance in ViewHolder:</p>\n\n<pre><code>static class ViewHolder extends RecyclerView.ViewHolder\n{\n    @BindView(R.id.indicator)\n    CircularIndicator mCircleIndicator;\n    @BindView(R.id.vp_photos)\n    ViewPager mViewPagerPhotoView;\n    ImageAdapter mAdapter;\n\n    public ViewHolder(View itemView)\n    {\n        super(itemView);\n        ButterKnife.bind(this, itemView);\n\n        mAdapter = new ImageAdapter();\n        mViewPagerPhotoView.setAdapter(mAdapter);\n    }\n\n    //Add bind() method which will be called in onBindViewHolder()\n    public void bind(ArrayList&lt;String&gt; imagePaths) {\n        //... maybe some other bindings\n\n        mAdapter.init(imagePaths);\n        mViewPagerPhotoView.setOffscreenPageLimit(mAdapter.getCount() - 1);\n        mCircleIndicator.setViewPager(mViewPagerPhotoView);\n    }\n}\n</code></pre>\n\n<p>Create <code>init(ArrayList&lt;String&gt; imagePaths)</code> method in your adapter:</p>\n\n<pre><code>void init(ArrayList&lt;String&gt; paths) {\n      this.imagePaths = paths;\n      notifyDataSetChanged();\n}\n</code></pre>\n\n<p>It should help. If it didn't helped then something is wrong in your using of Glide.</p>\n"},{"tags":[],"owner":{"account_id":8883385,"reputation":1615,"user_id":6632568,"accept_rate":83,"display_name":"beeb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493823982,"creation_date":1493211457,"answer_id":43634922,"question_id":43633361,"body_markdown":"The &quot;problem&quot; is that the items of the recyclerview will be recycled. You never save the loaded images. If you scroll down and up, `onBindViewHolder` will be called and a new adapter instance will be created so the images will be loaded again and again on every call of `onBindViewHolder`.\r\nThe solution is to save the adapter object (in a map -&gt; position, adapter) and bind it inside of `onBindViewHolder`.\r\n\r\n    ImageAdapter adapter = adaptermap.get(postion);\r\n    int adapterPosition = 0;\r\n    if(adapter == null) {\r\n      adapter = new ImageAdapter(mContext, item.getUrlPhotos());\r\n      adaptermap.put(position, adapter);\r\n      adapterPosition = viewPageStates.get(position);\r\n    }\r\n\r\n    holder.mViewPagerPhotoView.setAdapter(adapter);\r\n    holder.mViewPagerPhotoView.setCurrentItem(adapterPosition);\r\n\r\nYou also have to save the position of the viewpager.\r\n\r\nPut this as a member:\r\n\r\n    // you also can use a SparseIntArray for better performance\r\n    // if the itemcount is less than a few hundret\r\n    public HashMap&lt;Integer, Integer&gt; viewPageStates = new HashMap&lt;&gt;();\r\n\r\nAlso add this in your recyclerview adapter:\r\n\r\n    @Override\r\n    public void onViewRecycled(YourViewHolderClass holder) {\r\n      int position = holder.getAdapterPosition();\r\n      viewPageStates.put(position, holder.mViewPagerPhotoView.getCurrentItem());\r\n      super.onViewRecycled(holder);\r\n    }\r\n\r\n**Important:**\r\n\r\nMy solution will only work if you don&#39;t add / remove / sort items because we save adapter positions. If you also need it you have to modify the maps on add / delete / sort etc","title":"Viewpager inside recyclerview adapter","body":"<p>The \"problem\" is that the items of the recyclerview will be recycled. You never save the loaded images. If you scroll down and up, <code>onBindViewHolder</code> will be called and a new adapter instance will be created so the images will be loaded again and again on every call of <code>onBindViewHolder</code>.\nThe solution is to save the adapter object (in a map -> position, adapter) and bind it inside of <code>onBindViewHolder</code>.</p>\n\n<pre><code>ImageAdapter adapter = adaptermap.get(postion);\nint adapterPosition = 0;\nif(adapter == null) {\n  adapter = new ImageAdapter(mContext, item.getUrlPhotos());\n  adaptermap.put(position, adapter);\n  adapterPosition = viewPageStates.get(position);\n}\n\nholder.mViewPagerPhotoView.setAdapter(adapter);\nholder.mViewPagerPhotoView.setCurrentItem(adapterPosition);\n</code></pre>\n\n<p>You also have to save the position of the viewpager.</p>\n\n<p>Put this as a member:</p>\n\n<pre><code>// you also can use a SparseIntArray for better performance\n// if the itemcount is less than a few hundret\npublic HashMap&lt;Integer, Integer&gt; viewPageStates = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Also add this in your recyclerview adapter:</p>\n\n<pre><code>@Override\npublic void onViewRecycled(YourViewHolderClass holder) {\n  int position = holder.getAdapterPosition();\n  viewPageStates.put(position, holder.mViewPagerPhotoView.getCurrentItem());\n  super.onViewRecycled(holder);\n}\n</code></pre>\n\n<p><strong>Important:</strong></p>\n\n<p>My solution will only work if you don't add / remove / sort items because we save adapter positions. If you also need it you have to modify the maps on add / delete / sort etc</p>\n"},{"tags":[],"owner":{"account_id":1422407,"reputation":179,"user_id":1346785,"display_name":"vsatkh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493217737,"creation_date":1493217737,"answer_id":43637401,"question_id":43633361,"body_markdown":"Well the problem is about image. You said &quot;a viewpager can have upto 20 IMAGES&quot;, I don&#39;t know what do you mean by upto 20. ViewPager design to be unlimited item unless you load all item at one which doesn&#39;t make sense.\r\n\r\nSo as you describe, I guess the problem is your image is being recycle that why when you scroll up you won&#39;t see your image again until Glide load the image and render it again.\r\n\r\nSo the solution is not quite simple to deal but first let me explain about image and viewpager. Let said you have 10 items in recyclerview adapter and recyclerview loaded only 5 items as necessary. So now the minimum total image that need to be in the memory is 5 x 2 (Each viewpager need at least 2 images) equal 10 images in total. This is huge and it depend on your image, if your image is quite large you will run out of memory and that when Glide will destroy some image to make space for the new coming. Hope you can see the impact of image being loaded.\r\n\r\nNow my suggestion:\r\n\r\n 1. Make sure your Glide has diskcache configuration, this way your image will not loaded from the server one it loaded as long as the diskcache still has available space.\r\n 2. Shrink your image to fit your view. Example original image is 1440x320 and your view is only 1080x240 then it better to load 1080x240 into memory. Or you can even make it a little smaller than 1080x240.\r\n 3. Let Glide control the cache with builder.setMemoryCache(new LruResourceCache(yourSizeInBytes))\r\n\r\nYou can however make use of RecyclerView.ViewCacheExtension to manage your own view recycler but I don&#39;t see it would help. Moreover you can also implement cache view for Pager adapter, ViewPager deos not recycler any view so when ViewPager need a View it simply call instantiateItem and View will be created.","title":"Viewpager inside recyclerview adapter","body":"<p>Well the problem is about image. You said \"a viewpager can have upto 20 IMAGES\", I don't know what do you mean by upto 20. ViewPager design to be unlimited item unless you load all item at one which doesn't make sense.</p>\n\n<p>So as you describe, I guess the problem is your image is being recycle that why when you scroll up you won't see your image again until Glide load the image and render it again.</p>\n\n<p>So the solution is not quite simple to deal but first let me explain about image and viewpager. Let said you have 10 items in recyclerview adapter and recyclerview loaded only 5 items as necessary. So now the minimum total image that need to be in the memory is 5 x 2 (Each viewpager need at least 2 images) equal 10 images in total. This is huge and it depend on your image, if your image is quite large you will run out of memory and that when Glide will destroy some image to make space for the new coming. Hope you can see the impact of image being loaded.</p>\n\n<p>Now my suggestion:</p>\n\n<ol>\n<li>Make sure your Glide has diskcache configuration, this way your image will not loaded from the server one it loaded as long as the diskcache still has available space.</li>\n<li>Shrink your image to fit your view. Example original image is 1440x320 and your view is only 1080x240 then it better to load 1080x240 into memory. Or you can even make it a little smaller than 1080x240.</li>\n<li>Let Glide control the cache with builder.setMemoryCache(new LruResourceCache(yourSizeInBytes))</li>\n</ol>\n\n<p>You can however make use of RecyclerView.ViewCacheExtension to manage your own view recycler but I don't see it would help. Moreover you can also implement cache view for Pager adapter, ViewPager deos not recycler any view so when ViewPager need a View it simply call instantiateItem and View will be created.</p>\n"}],"owner":{"account_id":9028989,"reputation":428,"user_id":6727348,"accept_rate":0,"display_name":"Claude Hangui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1640341412,"creation_date":1493207331,"question_id":43633361,"body_markdown":"I am working on an app where there is a list of item and each item consist of a viewpager and below the viewpager you have other widgets (text, button....etc). I have to load url of images from the server and show the images inside my viewpager\r\n\r\nHere is my Viewpager adapter:\r\n\r\n    public class ImageAdapter extends PagerAdapter {\r\n\r\n    private Context mContext;\r\n    private ArrayList&lt;String&gt; imagePaths;\r\n    private static final String TAG = ImageAdapter.class.getName();\r\n    // constructor\r\n    public FullScreenImageAdapter(Context context, ArrayList&lt;String&gt; imagePaths){\r\n        this.mContext = context;\r\n        this.imagePaths = imagePaths;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return null == imagePaths ? 0 : this.imagePaths.size();\r\n    }\r\n\r\n    @Override\r\n    public Object instantiateItem(final ViewGroup container, final int position) {\r\n\r\n        final LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        final View viewLayout = inflater.inflate(R.layout.full_screen_image, container, false);\r\n\r\n        final ImageView image = (ImageView) viewLayout.findViewById(R.id.image);\r\n        final ProgressBar progressBar = (ProgressBar)viewLayout.findViewById(R.id.pBar);\r\n\r\n        String url = BuildConfig.URL_API_IMAGES;\r\n        final SparseArray&lt;Object&gt; mBitmapMap = new SparseArray&lt;&gt;();\r\n\r\n        Glide.with(mContext)\r\n             .load(url + imagePaths.get(position)).asBitmap()\r\n             .placeholder(R.drawable.car)\r\n             .dontAnimate()\r\n             .into(new BitmapImageViewTarget(image){\r\n                 @Override\r\n                 public void onLoadStarted(Drawable placeholder){\r\n                     super.onLoadStarted(placeholder);\r\n                     image.setImageDrawable(placeholder);\r\n                 }\r\n\r\n                 @Override\r\n                 public void onResourceReady(Bitmap resource,\r\n                         GlideAnimation&lt;? super Bitmap&gt; glideAnimation){\r\n                     super.onResourceReady(resource, glideAnimation);\r\n                     mBitmapMap.put(position, resource);\r\n                     progressBar.setVisibility(View.INVISIBLE);\r\n                     image.setImageBitmap(resource);\r\n                 }\r\n\r\n                 @Override\r\n                 public void onLoadFailed(Exception e, Drawable errorDrawable){\r\n                     super.onLoadFailed(e, errorDrawable);\r\n                     progressBar.setVisibility(View.INVISIBLE);\r\n                 }\r\n             });\r\n\r\n        container.addView(viewLayout);\r\n        return viewLayout;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(ViewGroup container, int position, Object object) {\r\n        try{\r\n            container.removeView((RelativeLayout) object);\r\n            Glide.clear(((View) object).findViewById(R.id.image));\r\n            unbindDrawables((View) object);\r\n            object = null;\r\n        }catch (Exception e) {\r\n            Log.w(TAG, &quot;destroyItem: failed to destroy item and clear it&#39;s used resources&quot;, e);\r\n        }\r\n    }\r\n\r\n    protected void unbindDrawables(View view) {\r\n        if (view.getBackground() != null) {\r\n            view.getBackground().setCallback(null);\r\n        }\r\n        if (view instanceof ViewGroup) {\r\n            for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\r\n                unbindDrawables(((ViewGroup) view).getChildAt(i));\r\n            }\r\n            ((ViewGroup) view).removeAllViews();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(View view, Object object){\r\n        return view == ((RelativeLayout) object);\r\n    }\r\n}\r\n\r\nHere is a portion of my recycler view item:\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/rl_pictureLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginLeft=&quot;@dimen/dimen_5&quot;\r\n        android:layout_marginRight=&quot;@dimen/dimen_5&quot;\r\n        android:layout_marginTop=&quot;@dimen/dimen_5&quot;\r\n        android:layout_height=&quot;@dimen/sliderLayoutHeight&quot;&gt;\r\n\r\n        &lt;ViewPager\r\n            android:id=&quot;@+id/vp_photos&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            /&gt;\r\n\r\n        &lt;me.relex.circleindicator.CircleIndicator\r\n            android:id=&quot;@+id/indicator&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/ib_bookmark&quot;\r\n            android:background=&quot;@color/transparent&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginRight=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginEnd=&quot;@dimen/dimen_16&quot;\r\n            android:src=&quot;@drawable/ic_bookmark_border_white_24dp&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_picture_counter&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            android:fontFamily=&quot;sans-serif&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_marginLeft=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginStart=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginBottom=&quot;@dimen/dimen_24&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_damagedPhotos&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:fontFamily=&quot;sans-serif&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginRight=&quot;@dimen/dimen_16&quot;\r\n            android:layout_marginBottom=&quot;@dimen/dimen_24&quot;\r\n            android:background=&quot;@color/transparent&quot;\r\n            android:drawableRight=&quot;@drawable/ic_photo_camera_red_24dp&quot;\r\n            android:drawableEnd=&quot;@drawable/ic_photo_camera_red_24dp&quot;\r\n            android:drawablePadding=&quot;@dimen/dimen_5&quot;\r\n            /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/rl_timerLayout&quot;\r\n        android:layout_below=&quot;@id/rl_pictureLayout&quot;\r\n        android:layout_marginTop=&quot;@dimen/dimen_5&quot;\r\n        android:layout_alignLeft=&quot;@id/rl_pictureLayout&quot;\r\n        android:layout_alignStart=&quot;@id/rl_pictureLayout&quot;\r\n        android:layout_alignRight=&quot;@id/rl_pictureLayout&quot;\r\n        android:layout_alignEnd=&quot;@id/rl_pictureLayout&quot;\r\n        android:layout_marginBottom=&quot;@dimen/dimen_10&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_timer&quot;\r\n            style=&quot;@style/text_item&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:textColor=&quot;@color/ColorBlack&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_highest_bid&quot;\r\n            style=&quot;@style/text_item&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_bid&quot;\r\n            style=&quot;@style/button&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:background=&quot;@drawable/curved_border_bgd_red&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:stateListAnimator=&quot;@null&quot;\r\n            android:text=&quot;@string/btn_text_bid&quot;\r\n            /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nHere is my (partial) viewholder class inside the recyclerview adapter\r\n\r\n    static class ViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        @BindView(R.id.indicator)\r\n        CircularIndicator mCircleIndicator;\r\n        @BindView(R.id.vp_photos)\r\n        ViewPager mViewPagerPhotoView;\r\n\r\n        public ViewHolder(View itemView)\r\n        {\r\n            super(itemView);\r\n            ButterKnife.bind(this, itemView);\r\n        }\r\n    }\r\n\r\nIn onBindViewHolder this is what i&#39;ve got (as far as the viewpager is concerned):\r\n\r\n    Item item = mDataSet.get(position);\r\n    mImageAdapter = new ImageAdapter(mContext, item.getUrlPhotos());\r\n    holder.mViewPagerPhotoView.setAdapter(mImageAdapter);\r\n    holder.mViewPagerPhotoView.setOffscreenPageLimit(mImageAdapter.getCount() - 1);\r\n    holder.mCircleIndicator.setViewPager(holder.mViewPagerPhotoView);\r\n\r\nRight now my reclerview has 10 items that I load from the server. Thing is, I noticed that when I scroll down say to the 7th item of my list, everything seems fine but when I scroll up back to see say the 1st item of my recycler list, the images found in viewpager of the 1st item tend to disappear and are (temporarily) replaced by the placeholder image i.e the viewpager is completely emptied and I temporarily have the placeholder; if the item is still visible on my screen the images for the viewpager a loaded again from the server.. I picked Glide because it&#39;s well known for it&#39;s caching capabilities. Moreover, a viewpager can have upto 20 IMAGES \r\n!!... \r\n\r\nDoes anyone have an idea on how to solve this ?? \r\nAm I doing anything wrong ?? \r\nAny help will be appreciated.....","title":"Viewpager inside recyclerview adapter","body":"<p>I am working on an app where there is a list of item and each item consist of a viewpager and below the viewpager you have other widgets (text, button....etc). I have to load url of images from the server and show the images inside my viewpager</p>\n\n<p>Here is my Viewpager adapter:</p>\n\n<pre><code>public class ImageAdapter extends PagerAdapter {\n\nprivate Context mContext;\nprivate ArrayList&lt;String&gt; imagePaths;\nprivate static final String TAG = ImageAdapter.class.getName();\n// constructor\npublic FullScreenImageAdapter(Context context, ArrayList&lt;String&gt; imagePaths){\n    this.mContext = context;\n    this.imagePaths = imagePaths;\n}\n\n@Override\npublic int getCount() {\n    return null == imagePaths ? 0 : this.imagePaths.size();\n}\n\n@Override\npublic Object instantiateItem(final ViewGroup container, final int position) {\n\n    final LayoutInflater inflater = LayoutInflater.from(mContext);\n    final View viewLayout = inflater.inflate(R.layout.full_screen_image, container, false);\n\n    final ImageView image = (ImageView) viewLayout.findViewById(R.id.image);\n    final ProgressBar progressBar = (ProgressBar)viewLayout.findViewById(R.id.pBar);\n\n    String url = BuildConfig.URL_API_IMAGES;\n    final SparseArray&lt;Object&gt; mBitmapMap = new SparseArray&lt;&gt;();\n\n    Glide.with(mContext)\n         .load(url + imagePaths.get(position)).asBitmap()\n         .placeholder(R.drawable.car)\n         .dontAnimate()\n         .into(new BitmapImageViewTarget(image){\n             @Override\n             public void onLoadStarted(Drawable placeholder){\n                 super.onLoadStarted(placeholder);\n                 image.setImageDrawable(placeholder);\n             }\n\n             @Override\n             public void onResourceReady(Bitmap resource,\n                     GlideAnimation&lt;? super Bitmap&gt; glideAnimation){\n                 super.onResourceReady(resource, glideAnimation);\n                 mBitmapMap.put(position, resource);\n                 progressBar.setVisibility(View.INVISIBLE);\n                 image.setImageBitmap(resource);\n             }\n\n             @Override\n             public void onLoadFailed(Exception e, Drawable errorDrawable){\n                 super.onLoadFailed(e, errorDrawable);\n                 progressBar.setVisibility(View.INVISIBLE);\n             }\n         });\n\n    container.addView(viewLayout);\n    return viewLayout;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    try{\n        container.removeView((RelativeLayout) object);\n        Glide.clear(((View) object).findViewById(R.id.image));\n        unbindDrawables((View) object);\n        object = null;\n    }catch (Exception e) {\n        Log.w(TAG, \"destroyItem: failed to destroy item and clear it's used resources\", e);\n    }\n}\n\nprotected void unbindDrawables(View view) {\n    if (view.getBackground() != null) {\n        view.getBackground().setCallback(null);\n    }\n    if (view instanceof ViewGroup) {\n        for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\n            unbindDrawables(((ViewGroup) view).getChildAt(i));\n        }\n        ((ViewGroup) view).removeAllViews();\n    }\n}\n\n@Override\npublic boolean isViewFromObject(View view, Object object){\n    return view == ((RelativeLayout) object);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is a portion of my recycler view item:</p>\n\n<pre><code>&lt;RelativeLayout\n    android:id=\"@+id/rl_pictureLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_marginLeft=\"@dimen/dimen_5\"\n    android:layout_marginRight=\"@dimen/dimen_5\"\n    android:layout_marginTop=\"@dimen/dimen_5\"\n    android:layout_height=\"@dimen/sliderLayoutHeight\"&gt;\n\n    &lt;ViewPager\n        android:id=\"@+id/vp_photos\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        /&gt;\n\n    &lt;me.relex.circleindicator.CircleIndicator\n        android:id=\"@+id/indicator\"\n        android:layout_width=\"match_parent\"\n        android:layout_marginBottom=\"50dp\"\n        android:layout_height=\"40dp\"\n        android:layout_alignParentBottom=\"true\"\n        /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/ib_bookmark\"\n        android:background=\"@color/transparent\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_marginTop=\"@dimen/dimen_16\"\n        android:layout_marginRight=\"@dimen/dimen_16\"\n        android:layout_marginEnd=\"@dimen/dimen_16\"\n        android:src=\"@drawable/ic_bookmark_border_white_24dp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_picture_counter\"\n        android:textColor=\"@color/white\"\n        android:textAllCaps=\"true\"\n        android:fontFamily=\"sans-serif\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_marginLeft=\"@dimen/dimen_16\"\n        android:layout_marginStart=\"@dimen/dimen_16\"\n        android:layout_marginBottom=\"@dimen/dimen_24\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_damagedPhotos\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textColor=\"@color/white\"\n        android:fontFamily=\"sans-serif\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_marginEnd=\"@dimen/dimen_16\"\n        android:layout_marginRight=\"@dimen/dimen_16\"\n        android:layout_marginBottom=\"@dimen/dimen_24\"\n        android:background=\"@color/transparent\"\n        android:drawableRight=\"@drawable/ic_photo_camera_red_24dp\"\n        android:drawableEnd=\"@drawable/ic_photo_camera_red_24dp\"\n        android:drawablePadding=\"@dimen/dimen_5\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/rl_timerLayout\"\n    android:layout_below=\"@id/rl_pictureLayout\"\n    android:layout_marginTop=\"@dimen/dimen_5\"\n    android:layout_alignLeft=\"@id/rl_pictureLayout\"\n    android:layout_alignStart=\"@id/rl_pictureLayout\"\n    android:layout_alignRight=\"@id/rl_pictureLayout\"\n    android:layout_alignEnd=\"@id/rl_pictureLayout\"\n    android:layout_marginBottom=\"@dimen/dimen_10\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_timer\"\n        style=\"@style/text_item\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:textColor=\"@color/ColorBlack\"\n        android:textStyle=\"bold\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_highest_bid\"\n        style=\"@style/text_item\"\n        android:layout_centerInParent=\"true\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textStyle=\"bold\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_bid\"\n        style=\"@style/button\"\n        android:layout_width=\"60dp\"\n        android:layout_height=\"30dp\"\n        android:textAllCaps=\"false\"\n        android:background=\"@drawable/curved_border_bgd_red\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:stateListAnimator=\"@null\"\n        android:text=\"@string/btn_text_bid\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Here is my (partial) viewholder class inside the recyclerview adapter</p>\n\n<pre><code>static class ViewHolder extends RecyclerView.ViewHolder\n{\n    @BindView(R.id.indicator)\n    CircularIndicator mCircleIndicator;\n    @BindView(R.id.vp_photos)\n    ViewPager mViewPagerPhotoView;\n\n    public ViewHolder(View itemView)\n    {\n        super(itemView);\n        ButterKnife.bind(this, itemView);\n    }\n}\n</code></pre>\n\n<p>In onBindViewHolder this is what i've got (as far as the viewpager is concerned):</p>\n\n<pre><code>Item item = mDataSet.get(position);\nmImageAdapter = new ImageAdapter(mContext, item.getUrlPhotos());\nholder.mViewPagerPhotoView.setAdapter(mImageAdapter);\nholder.mViewPagerPhotoView.setOffscreenPageLimit(mImageAdapter.getCount() - 1);\nholder.mCircleIndicator.setViewPager(holder.mViewPagerPhotoView);\n</code></pre>\n\n<p>Right now my reclerview has 10 items that I load from the server. Thing is, I noticed that when I scroll down say to the 7th item of my list, everything seems fine but when I scroll up back to see say the 1st item of my recycler list, the images found in viewpager of the 1st item tend to disappear and are (temporarily) replaced by the placeholder image i.e the viewpager is completely emptied and I temporarily have the placeholder; if the item is still visible on my screen the images for the viewpager a loaded again from the server.. I picked Glide because it's well known for it's caching capabilities. Moreover, a viewpager can have upto 20 IMAGES \n!!... </p>\n\n<p>Does anyone have an idea on how to solve this ?? \nAm I doing anything wrong ?? \nAny help will be appreciated.....</p>\n"},{"tags":["java","android","user-interface","android-recyclerview"],"comments":[{"owner":{"account_id":6649870,"reputation":7447,"user_id":5132444,"accept_rate":54,"display_name":"Jude Fernandes"},"score":0,"creation_date":1503589732,"post_id":45865920,"comment_id":78690412,"body_markdown":"You pasted the Match Activity twice instead of the match data model.","body":"You pasted the Match Activity twice instead of the match data model."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1503589770,"post_id":45865920,"comment_id":78690444,"body_markdown":"Could you post your SampleDataProvider class?","body":"Could you post your SampleDataProvider class?"},{"owner":{"display_name":"user5510527"},"score":0,"creation_date":1503589799,"post_id":45865920,"comment_id":78690468,"body_markdown":"fixing it now...","body":"fixing it now..."},{"owner":{"account_id":972759,"reputation":8870,"user_id":994939,"accept_rate":100,"display_name":"veritas1"},"score":2,"creation_date":1503589802,"post_id":45865920,"comment_id":78690472,"body_markdown":"maybe use fully qualified name for LayoutManager in your xml e.g. `app:layoutManager=&quot;android.support.v7.widget.LinearLayoutManager&quot;`","body":"maybe use fully qualified name for LayoutManager in your xml e.g. <code>app:layoutManager=&quot;android.support.v7.widget.LinearLayoutMan&zwnj;&#8203;ager&quot;</code>"},{"owner":{"account_id":6649870,"reputation":7447,"user_id":5132444,"accept_rate":54,"display_name":"Jude Fernandes"},"score":0,"creation_date":1503589959,"post_id":45865920,"comment_id":78690585,"body_markdown":"@HelpMeI&#39;mStupid its actually better to specify the layout manager programmatically and also can you check if mMatchList actually contains the data before you set the adapter","body":"@HelpMeI&#39;mStupid its actually better to specify the layout manager programmatically and also can you check if mMatchList actually contains the data before you set the adapter"},{"owner":{"account_id":11125217,"reputation":132,"user_id":8166938,"display_name":"nKalai"},"score":0,"creation_date":1503590141,"post_id":45865920,"comment_id":78690721,"body_markdown":"width and height of recycler is 0? never done that to know if it&#39;s working........ so change them to width match parent and height wrap content....","body":"width and height of recycler is 0? never done that to know if it&#39;s working........ so change them to width match parent and height wrap content...."},{"owner":{"account_id":6649870,"reputation":7447,"user_id":5132444,"accept_rate":54,"display_name":"Jude Fernandes"},"score":0,"creation_date":1503590250,"post_id":45865920,"comment_id":78690789,"body_markdown":"@nKalai it&#39;s a constraint layout, that&#39;s the equivalent of match_parent.","body":"@nKalai it&#39;s a constraint layout, that&#39;s the equivalent of match_parent."}],"answers":[{"tags":[],"owner":{"account_id":4702581,"reputation":620,"user_id":3805770,"display_name":"KingKongCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503590263,"creation_date":1503590263,"answer_id":45866205,"question_id":45865920,"body_markdown":"You have given width and height attributes as 0dp in xml layout and also you are not using weight so this won&#39;t work use wrap_content or match_parent instead.","title":"Can&#39;t figure out why RecyclerView isn&#39;t displaying my views","body":"<p>You have given width and height attributes as 0dp in xml layout and also you are not using weight so this won't work use wrap_content or match_parent instead.</p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503590800,"creation_date":1503590329,"answer_id":45866231,"question_id":45865920,"body_markdown":"Your sMatchList object is empty, bcz you have commented next lines of code:\r\n\r\n     //        addMatch(new Match(null, &quot;Dog Fight&quot;, &quot;May 31, 2016&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n     //        addMatch(new Match(null, &quot;Kick Some Ass&quot;, &quot;April 16, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Sharp Shooter&quot;, &quot;October 10, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Destroy&quot;, &quot;January 1, 2016&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Marksman&quot;, &quot;May 14, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Training Day&quot;, &quot;November 15, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages)); }\r\n\r\nUncomment them and all will be alright I guess.","title":"Can&#39;t figure out why RecyclerView isn&#39;t displaying my views","body":"<p>Your sMatchList object is empty, bcz you have commented next lines of code:</p>\n\n<pre><code> //        addMatch(new Match(null, \"Dog Fight\", \"May 31, 2016\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n //        addMatch(new Match(null, \"Kick Some Ass\", \"April 16, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Sharp Shooter\", \"October 10, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Destroy\", \"January 1, 2016\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Marksman\", \"May 14, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Training Day\", \"November 15, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages)); }\n</code></pre>\n\n<p>Uncomment them and all will be alright I guess.</p>\n"},{"tags":[],"owner":{"account_id":6649870,"reputation":7447,"user_id":5132444,"accept_rate":54,"display_name":"Jude Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503590426,"creation_date":1503590426,"answer_id":45866258,"question_id":45865920,"body_markdown":"sMatchList is never updated because the code is commented out.\r\n","title":"Can&#39;t figure out why RecyclerView isn&#39;t displaying my views","body":"<p>sMatchList is never updated because the code is commented out.</p>\n"},{"tags":[],"owner":{"account_id":5025638,"reputation":771,"user_id":4037715,"display_name":"MrMikimn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503590445,"creation_date":1503590445,"answer_id":45866267,"question_id":45865920,"body_markdown":"Seems you have not set your `LayoutManager` for the `RecyclerView`\r\n\r\nAdd  this line just before you set the adapter:\r\n\r\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this));","title":"Can&#39;t figure out why RecyclerView isn&#39;t displaying my views","body":"<p>Seems you have not set your <code>LayoutManager</code> for the <code>RecyclerView</code></p>\n\n<p>Add  this line just before you set the adapter:</p>\n\n<pre><code>mRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n"}],"owner":{"display_name":"user5510527"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1640341377,"creation_date":1503589468,"question_id":45865920,"body_markdown":"I have checked the code over and over again. I don&#39;t get any errors but my recylcerview isn&#39;t displaying my data. Any help would be appreciated. \r\n\r\nHere is my layout/Activity that holds the recyclerview object: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        tools:context=&quot;com.checkinsystems.ez_score.MatchActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/create_match_button&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            android:onClick=&quot;goToNewMatchFormActivity&quot;\r\n            android:text=&quot;@string/create_match_button&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/edit_match_button&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:onClick=&quot;goToNewMatchToEdit&quot;\r\n            android:text=&quot;@string/edit_match_button&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/create_match_button&quot;/&gt;\r\n    \r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/match_list_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/edit_match_button&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            app:layoutManager=&quot;LinearLayoutManager&quot;/&gt;\r\n    \r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\nHere is the list row layout I&#39;ve created (what I want to be presented in the recylcerview):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;8dp&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/match_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;0dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:text=&quot;Match Name&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toLeftOf=&quot;@+id/imageView&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.502&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/match_date&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;0dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Match Date&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toLeftOf=&quot;@+id/imageView&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/match_name&quot;/&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginRight=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/ic_more_vert_black_24dp&quot;/&gt;\r\n    \r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nHere is my Adapter class: \r\n\r\n    package com.checkinsystems.ez_score;\r\n    \r\n    import android.content.Context;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import com.checkinsystems.ez_score.model.Match;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    public class MatchItemAdapter extends RecyclerView.Adapter&lt;MatchItemAdapter.ViewHolder&gt; {\r\n    \r\n        private List&lt;Match&gt; mMatches;\r\n        private Context mContext;\r\n    \r\n        public MatchItemAdapter(Context context, List&lt;Match&gt; items){\r\n            this.mContext = context;\r\n            this.mMatches = items;\r\n        }\r\n    \r\n        @Override\r\n        public MatchItemAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n            LayoutInflater inflater = LayoutInflater.from(mContext);\r\n            View itemView = inflater.inflate(R.layout.list_item_match, parent, false);\r\n            ViewHolder viewHolder = new ViewHolder(itemView);\r\n    \r\n            return viewHolder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MatchItemAdapter.ViewHolder holder, int position) {\r\n            Match match = mMatches.get(position);\r\n    \r\n            try {\r\n                holder.tvName.setText(match.getMatchName());\r\n                holder.tvDate.setText(match.getMatchDate());\r\n                holder.imageView.findViewById(R.id.imageView);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mMatches.size();\r\n        }\r\n    \r\n    \r\n        public static class ViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            public TextView tvName;\r\n            public TextView tvDate;\r\n            public ImageView imageView;\r\n    \r\n            public ViewHolder(View itemView){\r\n                super(itemView);\r\n    \r\n                tvName = (TextView)itemView.findViewById(R.id.match_name);\r\n                tvDate = (TextView)itemView.findViewById(R.id.match_date);\r\n                imageView = (ImageView)itemView.findViewById(R.id.imageView);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is my Activity (controller):\r\n\r\n    package com.checkinsystems.ez_score;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.support.v7.app.ActionBar;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    \r\n    import com.checkinsystems.ez_score.Sample.SampleDataProvider;\r\n    import com.checkinsystems.ez_score.model.Match;\r\n    \r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    import static com.checkinsystems.ez_score.MainActivity.CURRENT_MATCH_NAME;\r\n    import static com.checkinsystems.ez_score.MainActivity.MY_GLOBAL_PREFS;\r\n    \r\n    public class MatchActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;MatchActivity&quot;;\r\n        private static RecyclerView mRecyclerView;\r\n        List&lt;Match&gt; mMatchList = SampleDataProvider.sMatchList;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_match);\r\n    \r\n            // place the current match name in the action bar\r\n            SharedPreferences sharedPreferences = getSharedPreferences(MY_GLOBAL_PREFS, MODE_PRIVATE);\r\n            String currentMatchName = sharedPreferences.getString(CURRENT_MATCH_NAME, &quot;current_match_name&quot;);\r\n    \r\n            if (!(currentMatchName.equals(&quot;&quot;))) {\r\n                ActionBar actionBar =  getSupportActionBar();\r\n                if (actionBar != null) {\r\n                    actionBar.setTitle(currentMatchName);\r\n                }\r\n            }\r\n            \r\n            MatchItemAdapter adapter = new MatchItemAdapter(this, mMatchList);\r\n            mRecyclerView = (RecyclerView)findViewById(R.id.match_list_view);\r\n            mRecyclerView.setAdapter(adapter);\r\n    \r\n        @Override\r\n        public void onResume(){\r\n            super.onResume();\r\n    \r\n            SharedPreferences sharedPreferences = getSharedPreferences(MY_GLOBAL_PREFS, MODE_PRIVATE);\r\n            String currentMatchName = sharedPreferences.getString(CURRENT_MATCH_NAME, &quot;current_match_name&quot;);\r\n    \r\n            if (!(currentMatchName.equals(&quot;&quot;))) {\r\n                ActionBar actionBar =  getSupportActionBar();\r\n                Log.d(TAG, &quot;action bar value: &quot; + actionBar);\r\n                if (actionBar != null) {\r\n                    actionBar.setTitle(currentMatchName);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        // onClick handler to go to NewMatchFormActivity\r\n        public void goToNewMatchFormActivity(View view) {\r\n    \r\n            Intent intent = new Intent(this, NewMatchFormActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n        public void goToNewMatchToEdit(View view) {\r\n    \r\n            Intent intent = new Intent(this, EditMatchActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\nHere is the Match object (Data Model) class: \r\n\r\n    package com.checkinsystems.ez_score.model;\r\n\r\n\r\nimport android.os.Parcel;\r\nimport android.os.Parcelable;\r\n\r\nimport com.checkinsystems.ez_score.utils.MatchHelper;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\n    public class Match {\r\n    \r\n        private String mMatchId;\r\n        private String mClubId;\r\n        private String mMatchName;\r\n        private String mMatchDate;\r\n        private String mMatchLevel;\r\n        private ArrayList&lt;MatchStage&gt; mStages;\r\n        private ArrayList&lt;Competitors&gt; mCompetitors;\r\n    \r\n        public Match() {\r\n    \r\n        }\r\n    \r\n        public Match(String matchId, String clubID, String time, String matchName, String matchDate,\r\n                     String matchLevel, ArrayList&lt;MatchStage&gt; stages, ArrayList&lt;Competitors&gt; competitors) {\r\n    \r\n            if(matchId == null){\r\n                mMatchId = MatchHelper.createID(matchDate, clubID, time);\r\n            }\r\n    \r\n            mClubId = clubID;\r\n            mMatchName = matchName;\r\n            mMatchDate = matchDate;\r\n            mMatchLevel = matchLevel;\r\n            mStages = stages;\r\n            mCompetitors = competitors;\r\n        }\r\n    \r\n        public String getMatchId() {\r\n            return mMatchId;\r\n        }\r\n    \r\n        public void setMatchId(String matchId) {\r\n            mMatchId = matchId;\r\n        }\r\n    \r\n        public String getClubId() {\r\n            return mClubId;\r\n        }\r\n    \r\n        public void setClubId(String clubId) {\r\n            mClubId = clubId;\r\n        }\r\n    \r\n        public String getMatchName() {\r\n            return mMatchName;\r\n        }\r\n    \r\n        public void setMatchName(String matchName) {\r\n            mMatchName = matchName;\r\n        }\r\n    \r\n        public String getMatchDate() {\r\n            return mMatchDate;\r\n        }\r\n    \r\n        public void setMatchDate(String matchDate) {\r\n            mMatchDate = matchDate;\r\n        }\r\n    \r\n        public String getMatchLevel() {\r\n            return mMatchLevel;\r\n        }\r\n    \r\n        public void setMatchLevel(String matchLevel) {\r\n            mMatchLevel = matchLevel;\r\n        }\r\n    \r\n        public ArrayList&lt;MatchStage&gt; getStages() {\r\n            return mStages;\r\n        }\r\n    \r\n        public void setStages(ArrayList&lt;MatchStage&gt; stages) {\r\n            mStages = stages;\r\n        }\r\n    \r\n        public ArrayList&lt;Competitors&gt; getCompetitors() {\r\n            return mCompetitors;\r\n        }\r\n    \r\n        public void setCompetitors(ArrayList&lt;Competitors&gt; competitors) {\r\n            mCompetitors = competitors;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Match{&quot; +\r\n                    &quot;mMatchId=&#39;&quot; + mMatchId + &#39;\\&#39;&#39; +\r\n                    &quot;, mMatchName=&#39;&quot; + mMatchName + &#39;\\&#39;&#39; +\r\n                    &quot;, mMatchDate=&#39;&quot; + mMatchDate + &#39;\\&#39;&#39; +\r\n                    &quot;, mMatchLevel=&#39;&quot; + mMatchLevel + &#39;\\&#39;&#39; +\r\n                    &quot;, mStages=&quot; + mStages +\r\n                    &quot;, mCompetitors=&quot; + mCompetitors +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\nHere is my Sample data provider: \r\n\r\n    package com.checkinsystems.ez_score.Sample;\r\n    \r\n    \r\n    import com.checkinsystems.ez_score.model.Match;\r\n    import com.checkinsystems.ez_score.model.MatchStage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class SampleDataProvider {\r\n    \r\n        public static List&lt;Match&gt; sMatchList;\r\n        public static Map&lt;String, Match&gt; sMatchMap;\r\n    \r\n        public static List&lt;MatchStage&gt; sMatchStages;\r\n        public static Map&lt;String, MatchStage&gt; sMatchStageMap;\r\n    \r\n        static {\r\n            sMatchList = new ArrayList&lt;&gt;();\r\n            sMatchMap = new HashMap&lt;&gt;();\r\n    \r\n            sMatchStages = new ArrayList&lt;&gt;();\r\n            sMatchStageMap = new HashMap&lt;&gt;();\r\n    \r\n            addStage(new MatchStage(null, 1, &quot;Zombie Apocalypse&quot;, 2, 4, 3, 1, 10, 45, &quot;comstock&quot;));\r\n            addStage(new MatchStage(null, 2, &quot;Police Training&quot;, 2, 3, 3, 1, 11, 55, &quot;comstock&quot;));\r\n            addStage(new MatchStage(null, 3, &quot;Get Those Guys&quot;, 2, 4, 3, 1, 13, 65, &quot;comstock&quot;));\r\n            addStage(new MatchStage(null, 4, &quot;Self Defense&quot;, 2, 2, 3, 1, 10, 62, &quot;comstock&quot;));\r\n            addStage(new MatchStage(null, 5, &quot;Stand Your Ground&quot;, 2, 5, 3, 1, 9, 35, &quot;comstock&quot;));\r\n    \r\n    \r\n    //\r\n    //        addMatch(new Match(null, &quot;Dog Fight&quot;, &quot;May 31, 2016&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Kick Some Ass&quot;, &quot;April 16, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Sharp Shooter&quot;, &quot;October 10, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Destroy&quot;, &quot;January 1, 2016&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Marksman&quot;, &quot;May 14, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Training Day&quot;, &quot;November 15, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n    //        addMatch(new Match(null, &quot;Last Stand&quot;, &quot;December 31, 2017&quot;, &quot;17:00:00&quot;, &quot;2&quot;, (ArrayList)sMatchStages));\r\n        }\r\n    \r\n        private static void addMatch(Match match){\r\n            sMatchList.add(match);\r\n            sMatchMap.put(match.getMatchId(), match);\r\n        }\r\n    \r\n        private static void addStage(MatchStage stage){\r\n            sMatchStages.add(stage);\r\n            sMatchStageMap.put(stage.getStageId(), stage);\r\n        }\r\n    }\r\n\r\nI use a static initializer block to create a list of Match objects for testing. This is what I try to use to populate the recyclerview. You&#39;ll see this at the top of my MatchActivity. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t figure out why RecyclerView isn&#39;t displaying my views","body":"<p>I have checked the code over and over again. I don't get any errors but my recylcerview isn't displaying my data. Any help would be appreciated. </p>\n\n<p>Here is my layout/Activity that holds the recyclerview object: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"16dp\"\n    tools:context=\"com.checkinsystems.ez_score.MatchActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/create_match_button\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"65dp\"\n        android:onClick=\"goToNewMatchFormActivity\"\n        android:text=\"@string/create_match_button\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n\n    &lt;Button\n        android:id=\"@+id/edit_match_button\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"65dp\"\n        android:layout_marginTop=\"15dp\"\n        android:onClick=\"goToNewMatchToEdit\"\n        android:text=\"@string/edit_match_button\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/create_match_button\"/&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/match_list_view\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/edit_match_button\"\n        android:layout_marginTop=\"8dp\"\n        app:layoutManager=\"LinearLayoutManager\"/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Here is the list row layout I've created (what I want to be presented in the recylcerview):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:padding=\"8dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/match_name\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"0dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"0dp\"\n        android:text=\"Match Name\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toLeftOf=\"@+id/imageView\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.502\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/match_date\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"0dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"Match Date\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toLeftOf=\"@+id/imageView\"\n        app:layout_constraintTop_toBottomOf=\"@+id/match_name\"/&gt;\n\n\n    &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"40dp\"\n        android:layout_height=\"40dp\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginTop=\"0dp\"\n        android:layout_weight=\"1\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/ic_more_vert_black_24dp\"/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Here is my Adapter class: </p>\n\n<pre><code>package com.checkinsystems.ez_score;\n\nimport android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.checkinsystems.ez_score.model.Match;\n\nimport java.util.List;\n\n\npublic class MatchItemAdapter extends RecyclerView.Adapter&lt;MatchItemAdapter.ViewHolder&gt; {\n\n    private List&lt;Match&gt; mMatches;\n    private Context mContext;\n\n    public MatchItemAdapter(Context context, List&lt;Match&gt; items){\n        this.mContext = context;\n        this.mMatches = items;\n    }\n\n    @Override\n    public MatchItemAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(mContext);\n        View itemView = inflater.inflate(R.layout.list_item_match, parent, false);\n        ViewHolder viewHolder = new ViewHolder(itemView);\n\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(MatchItemAdapter.ViewHolder holder, int position) {\n        Match match = mMatches.get(position);\n\n        try {\n            holder.tvName.setText(match.getMatchName());\n            holder.tvDate.setText(match.getMatchDate());\n            holder.imageView.findViewById(R.id.imageView);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mMatches.size();\n    }\n\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n\n        public TextView tvName;\n        public TextView tvDate;\n        public ImageView imageView;\n\n        public ViewHolder(View itemView){\n            super(itemView);\n\n            tvName = (TextView)itemView.findViewById(R.id.match_name);\n            tvDate = (TextView)itemView.findViewById(R.id.match_date);\n            imageView = (ImageView)itemView.findViewById(R.id.imageView);\n        }\n    }\n}\n</code></pre>\n\n<p>And here is my Activity (controller):</p>\n\n<pre><code>package com.checkinsystems.ez_score;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.support.v7.app.ActionBar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.Log;\nimport android.view.View;\n\nimport com.checkinsystems.ez_score.Sample.SampleDataProvider;\nimport com.checkinsystems.ez_score.model.Match;\n\nimport java.io.File;\nimport java.util.List;\n\nimport static com.checkinsystems.ez_score.MainActivity.CURRENT_MATCH_NAME;\nimport static com.checkinsystems.ez_score.MainActivity.MY_GLOBAL_PREFS;\n\npublic class MatchActivity extends AppCompatActivity {\n\n    private static final String TAG = \"MatchActivity\";\n    private static RecyclerView mRecyclerView;\n    List&lt;Match&gt; mMatchList = SampleDataProvider.sMatchList;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_match);\n\n        // place the current match name in the action bar\n        SharedPreferences sharedPreferences = getSharedPreferences(MY_GLOBAL_PREFS, MODE_PRIVATE);\n        String currentMatchName = sharedPreferences.getString(CURRENT_MATCH_NAME, \"current_match_name\");\n\n        if (!(currentMatchName.equals(\"\"))) {\n            ActionBar actionBar =  getSupportActionBar();\n            if (actionBar != null) {\n                actionBar.setTitle(currentMatchName);\n            }\n        }\n\n        MatchItemAdapter adapter = new MatchItemAdapter(this, mMatchList);\n        mRecyclerView = (RecyclerView)findViewById(R.id.match_list_view);\n        mRecyclerView.setAdapter(adapter);\n\n    @Override\n    public void onResume(){\n        super.onResume();\n\n        SharedPreferences sharedPreferences = getSharedPreferences(MY_GLOBAL_PREFS, MODE_PRIVATE);\n        String currentMatchName = sharedPreferences.getString(CURRENT_MATCH_NAME, \"current_match_name\");\n\n        if (!(currentMatchName.equals(\"\"))) {\n            ActionBar actionBar =  getSupportActionBar();\n            Log.d(TAG, \"action bar value: \" + actionBar);\n            if (actionBar != null) {\n                actionBar.setTitle(currentMatchName);\n            }\n        }\n    }\n\n\n    // onClick handler to go to NewMatchFormActivity\n    public void goToNewMatchFormActivity(View view) {\n\n        Intent intent = new Intent(this, NewMatchFormActivity.class);\n        startActivity(intent);\n    }\n\n    public void goToNewMatchToEdit(View view) {\n\n        Intent intent = new Intent(this, EditMatchActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>Here is the Match object (Data Model) class: </p>\n\n<pre><code>package com.checkinsystems.ez_score.model;\n</code></pre>\n\n<p>import android.os.Parcel;\nimport android.os.Parcelable;</p>\n\n<p>import com.checkinsystems.ez_score.utils.MatchHelper;</p>\n\n<p>import java.util.ArrayList;</p>\n\n<pre><code>public class Match {\n\n    private String mMatchId;\n    private String mClubId;\n    private String mMatchName;\n    private String mMatchDate;\n    private String mMatchLevel;\n    private ArrayList&lt;MatchStage&gt; mStages;\n    private ArrayList&lt;Competitors&gt; mCompetitors;\n\n    public Match() {\n\n    }\n\n    public Match(String matchId, String clubID, String time, String matchName, String matchDate,\n                 String matchLevel, ArrayList&lt;MatchStage&gt; stages, ArrayList&lt;Competitors&gt; competitors) {\n\n        if(matchId == null){\n            mMatchId = MatchHelper.createID(matchDate, clubID, time);\n        }\n\n        mClubId = clubID;\n        mMatchName = matchName;\n        mMatchDate = matchDate;\n        mMatchLevel = matchLevel;\n        mStages = stages;\n        mCompetitors = competitors;\n    }\n\n    public String getMatchId() {\n        return mMatchId;\n    }\n\n    public void setMatchId(String matchId) {\n        mMatchId = matchId;\n    }\n\n    public String getClubId() {\n        return mClubId;\n    }\n\n    public void setClubId(String clubId) {\n        mClubId = clubId;\n    }\n\n    public String getMatchName() {\n        return mMatchName;\n    }\n\n    public void setMatchName(String matchName) {\n        mMatchName = matchName;\n    }\n\n    public String getMatchDate() {\n        return mMatchDate;\n    }\n\n    public void setMatchDate(String matchDate) {\n        mMatchDate = matchDate;\n    }\n\n    public String getMatchLevel() {\n        return mMatchLevel;\n    }\n\n    public void setMatchLevel(String matchLevel) {\n        mMatchLevel = matchLevel;\n    }\n\n    public ArrayList&lt;MatchStage&gt; getStages() {\n        return mStages;\n    }\n\n    public void setStages(ArrayList&lt;MatchStage&gt; stages) {\n        mStages = stages;\n    }\n\n    public ArrayList&lt;Competitors&gt; getCompetitors() {\n        return mCompetitors;\n    }\n\n    public void setCompetitors(ArrayList&lt;Competitors&gt; competitors) {\n        mCompetitors = competitors;\n    }\n\n    @Override\n    public String toString() {\n        return \"Match{\" +\n                \"mMatchId='\" + mMatchId + '\\'' +\n                \", mMatchName='\" + mMatchName + '\\'' +\n                \", mMatchDate='\" + mMatchDate + '\\'' +\n                \", mMatchLevel='\" + mMatchLevel + '\\'' +\n                \", mStages=\" + mStages +\n                \", mCompetitors=\" + mCompetitors +\n                '}';\n    }\n\n}\n</code></pre>\n\n<p>Here is my Sample data provider: </p>\n\n<pre><code>package com.checkinsystems.ez_score.Sample;\n\n\nimport com.checkinsystems.ez_score.model.Match;\nimport com.checkinsystems.ez_score.model.MatchStage;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class SampleDataProvider {\n\n    public static List&lt;Match&gt; sMatchList;\n    public static Map&lt;String, Match&gt; sMatchMap;\n\n    public static List&lt;MatchStage&gt; sMatchStages;\n    public static Map&lt;String, MatchStage&gt; sMatchStageMap;\n\n    static {\n        sMatchList = new ArrayList&lt;&gt;();\n        sMatchMap = new HashMap&lt;&gt;();\n\n        sMatchStages = new ArrayList&lt;&gt;();\n        sMatchStageMap = new HashMap&lt;&gt;();\n\n        addStage(new MatchStage(null, 1, \"Zombie Apocalypse\", 2, 4, 3, 1, 10, 45, \"comstock\"));\n        addStage(new MatchStage(null, 2, \"Police Training\", 2, 3, 3, 1, 11, 55, \"comstock\"));\n        addStage(new MatchStage(null, 3, \"Get Those Guys\", 2, 4, 3, 1, 13, 65, \"comstock\"));\n        addStage(new MatchStage(null, 4, \"Self Defense\", 2, 2, 3, 1, 10, 62, \"comstock\"));\n        addStage(new MatchStage(null, 5, \"Stand Your Ground\", 2, 5, 3, 1, 9, 35, \"comstock\"));\n\n\n//\n//        addMatch(new Match(null, \"Dog Fight\", \"May 31, 2016\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Kick Some Ass\", \"April 16, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Sharp Shooter\", \"October 10, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Destroy\", \"January 1, 2016\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Marksman\", \"May 14, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Training Day\", \"November 15, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n//        addMatch(new Match(null, \"Last Stand\", \"December 31, 2017\", \"17:00:00\", \"2\", (ArrayList)sMatchStages));\n    }\n\n    private static void addMatch(Match match){\n        sMatchList.add(match);\n        sMatchMap.put(match.getMatchId(), match);\n    }\n\n    private static void addStage(MatchStage stage){\n        sMatchStages.add(stage);\n        sMatchStageMap.put(stage.getStageId(), stage);\n    }\n}\n</code></pre>\n\n<p>I use a static initializer block to create a list of Match objects for testing. This is what I try to use to populate the recyclerview. You'll see this at the top of my MatchActivity. </p>\n"},{"tags":["java","range","primitive-types"],"answers":[{"tags":[],"owner":{"account_id":2589530,"reputation":413,"user_id":2244532,"display_name":"rich"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1370605764,"creation_date":1370605764,"answer_id":16983420,"question_id":16983341,"body_markdown":"it results from the standard representation of signed values as binary numbers. For a full description see http://en.wikipedia.org/wiki/Two%27s_complement.\r\n\r\n-Rich ","title":"How to calculate the range of primitive data types?","body":"<p>it results from the standard representation of signed values as binary numbers. For a full description see <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Two%27s_complement</a>.</p>\n\n<p>-Rich </p>\n"},{"tags":[],"owner":{"account_id":485097,"reputation":4866,"user_id":901200,"accept_rate":57,"display_name":"Agustin Meriles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370606151,"creation_date":1370605772,"answer_id":16983423,"question_id":16983341,"body_markdown":"That&#39;s because the first bit is used for the sign, since the data type is signed. \r\n\r\nPlease refer to http://en.wikipedia.org/wiki/Signed_number_representations\r\n\r\nSince there is no `unsigned` primitive types in Java (like C or C#), is usual to cast it to a bigger type if you need to &quot;overflow&quot; the boundaries.\r\n","title":"How to calculate the range of primitive data types?","body":"<p>That's because the first bit is used for the sign, since the data type is signed. </p>\n\n<p>Please refer to <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Signed_number_representations</a></p>\n\n<p>Since there is no <code>unsigned</code> primitive types in Java (like C or C#), is usual to cast it to a bigger type if you need to \"overflow\" the boundaries.</p>\n"},{"tags":[],"owner":{"account_id":1764916,"reputation":2420,"user_id":1610986,"accept_rate":100,"display_name":"LuigiEdlCarno"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1370605776,"creation_date":1370605776,"answer_id":16983426,"question_id":16983341,"body_markdown":"It is a signed type, meaning, it still has a range of 255 (as you have correctly calculated), but it starts at -128. So half the range is below zero, 1 possible number is = (zero) and the remaining 127 are above 0.\r\n\r\nThe first bit is the sign. (1 - minus, 0 - plus)","title":"How to calculate the range of primitive data types?","body":"<p>It is a signed type, meaning, it still has a range of 255 (as you have correctly calculated), but it starts at -128. So half the range is below zero, 1 possible number is = (zero) and the remaining 127 are above 0.</p>\n\n<p>The first bit is the sign. (1 - minus, 0 - plus)</p>\n"},{"tags":[],"owner":{"account_id":3608143,"reputation":1,"user_id":3009851,"display_name":"rahul"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1384881427,"creation_date":1384881427,"answer_id":20077827,"question_id":16983341,"body_markdown":"Range of data types\r\n so now we came to know that how we are calculating the Range of the  integer data types.This logic is applicable for all the integer data types.\r\n\r\nThe full details of all the data types are given below,\r\n\r\nS.NO           Data Type        Bits               Ranges                                           values\r\n\r\n1                   boolean             1                –                                            true or false(1 or 0)\r\n\r\n2                   byte                    8             -128 to 127.                                    256(2^8)\r\n\r\n3                   short                 16         -32,768 to 32,767                       65,536(2^16)\r\n\r\n4                   int                      32           -2^31 to (2^31)-1                           2^32\r\n\r\n5                   long                   64              Refer NOTE                                     2^64\r\n\r\n6                   float                   32               Refer NOTE                                   ———\r\n\r\n7                  double               64               Refer NOTE                                  ———-\r\n\r\n8                   char                16              0 to 65,535                                     65,536(2^16)\r\n","title":"How to calculate the range of primitive data types?","body":"<p>Range of data types\n so now we came to know that how we are calculating the Range of the  integer data types.This logic is applicable for all the integer data types.</p>\n\n<p>The full details of all the data types are given below,</p>\n\n<p>S.NO           Data Type        Bits               Ranges                                           values</p>\n\n<p>1                   boolean             1                –                                            true or false(1 or 0)</p>\n\n<p>2                   byte                    8             -128 to 127.                                    256(2^8)</p>\n\n<p>3                   short                 16         -32,768 to 32,767                       65,536(2^16)</p>\n\n<p>4                   int                      32           -2^31 to (2^31)-1                           2^32</p>\n\n<p>5                   long                   64              Refer NOTE                                     2^64</p>\n\n<p>6                   float                   32               Refer NOTE                                   ———</p>\n\n<p>7                  double               64               Refer NOTE                                  ———-</p>\n\n<p>8                   char                16              0 to 65,535                                     65,536(2^16)</p>\n"},{"tags":[],"owner":{"account_id":10676147,"reputation":11,"user_id":7859585,"display_name":"Manpreet Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492049819,"creation_date":1492049819,"answer_id":43382481,"question_id":16983341,"body_markdown":"The last bit i.e. number 8 we are writing it 2^7 is a sign bit that decides negative or positive sign so it is 2^0 +2^1 +2^2 +2^3 +2^4 +2^5+ 2^6 ","title":"How to calculate the range of primitive data types?","body":"<p>The last bit i.e. number 8 we are writing it 2^7 is a sign bit that decides negative or positive sign so it is 2^0 +2^1 +2^2 +2^3 +2^4 +2^5+ 2^6 </p>\n"},{"tags":[],"owner":{"account_id":11417693,"reputation":1,"user_id":8370084,"display_name":"Suganth S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502710084,"creation_date":1502710084,"answer_id":45673519,"question_id":16983341,"body_markdown":"Bit consists of 0’s and 1’s.**byte** normally consists of 8 bits.so the values can be calculated using the general formula which is given below,\r\n\r\nno of values data type can have=`2^n(2 power n)`, where n represents no of bits.\r\nso the value of byte data type=`2^8(i.e 1 byte=8 bits)`,here `n=8` \r\nbyte value=256\r\n\r\nAnd it should be shared equal on both sides of zero ( half values at negative and half value at positive ). Hence the range for byte is from -128 to 127. ","title":"How to calculate the range of primitive data types?","body":"<p>Bit consists of 0’s and 1’s.<strong>byte</strong> normally consists of 8 bits.so the values can be calculated using the general formula which is given below,</p>\n\n<p>no of values data type can have=<code>2^n(2 power n)</code>, where n represents no of bits.\nso the value of byte data type=<code>2^8(i.e 1 byte=8 bits)</code>,here <code>n=8</code> \nbyte value=256</p>\n\n<p>And it should be shared equal on both sides of zero ( half values at negative and half value at positive ). Hence the range for byte is from -128 to 127. </p>\n"},{"tags":[],"owner":{"display_name":"user6235549"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533736336,"creation_date":1510807669,"answer_id":47321833,"question_id":16983341,"body_markdown":"Formula for Range calculation is : -2^(n-1) to (2^(n-1)-1)\r\n\r\nwhere n = no. of bits of primitive datatype.\r\nExample:\r\n\r\nFor int datatype, n is 32, in short datatype, n is 16 etc.\r\n\r\nSo, int range will be: -2^(32-1) to (2^(32-1)-1)\r\n\r\nBy using the same formula Range of byte, short, float and double could be calculated.","title":"How to calculate the range of primitive data types?","body":"<p>Formula for Range calculation is : -2^(n-1) to (2^(n-1)-1)</p>\n\n<p>where n = no. of bits of primitive datatype.\nExample:</p>\n\n<p>For int datatype, n is 32, in short datatype, n is 16 etc.</p>\n\n<p>So, int range will be: -2^(32-1) to (2^(32-1)-1)</p>\n\n<p>By using the same formula Range of byte, short, float and double could be calculated.</p>\n"},{"tags":[],"owner":{"account_id":6196203,"reputation":11,"user_id":4827404,"display_name":"Cute Pari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533735820,"creation_date":1527668123,"answer_id":50599608,"question_id":16983341,"body_markdown":"**Formula to calculate range in Java**&lt;br&gt;\r\n-2&lt;sup&gt;(n-1)&lt;/sup&gt; to +2&lt;sup&gt;(n-1)&lt;/sup&gt;-1&lt;br&gt;\r\nWhere n is the number of bit (1 byte= 8 bit)\r\n\r\nSo, for byte type range would be:\r\n-2&lt;sup&gt;(8-1)&lt;/sup&gt; to +2&lt;sup&gt;(8-1)&lt;/sup&gt;-1&lt;br&gt;\r\nor, -2&lt;sup&gt;(7)&lt;/sup&gt; to +2&lt;sup&gt;(7)&lt;/sup&gt;-1&lt;br&gt;\r\nor, -128 to +127","title":"How to calculate the range of primitive data types?","body":"<p><strong>Formula to calculate range in Java</strong><br>\n-2<sup>(n-1)</sup> to +2<sup>(n-1)</sup>-1<br>\nWhere n is the number of bit (1 byte= 8 bit)</p>\n\n<p>So, for byte type range would be:\n-2<sup>(8-1)</sup> to +2<sup>(8-1)</sup>-1<br>\nor, -2<sup>(7)</sup> to +2<sup>(7)</sup>-1<br>\nor, -128 to +127</p>\n"},{"tags":[],"owner":{"account_id":6490755,"reputation":1449,"user_id":5355145,"accept_rate":86,"display_name":"Jayani Sumudini"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1587005106,"creation_date":1578804247,"answer_id":59700979,"question_id":16983341,"body_markdown":"Let&#39;s calculate range for 1 Byte\r\n\r\n 1. 1 bit can take 0 or 1\r\n 2. 1 Byte = 8 Bits\r\n 3. The first bit is used as a sign ( - or + )\r\n 4. then remaining bits are 7\r\n 5. so we can write 2^7 = 128 different numbers for one sign\r\n 6. we get 0 as a positive sign. then we have 128 numbers for the negative side,127 numbers for the positive side and 0 (zero)\r\n 7. so the range is **-128 to 127 including 0**\r\n\r\n ","title":"How to calculate the range of primitive data types?","body":"<p>Let's calculate range for 1 Byte</p>\n\n<ol>\n<li>1 bit can take 0 or 1</li>\n<li>1 Byte = 8 Bits</li>\n<li>The first bit is used as a sign ( - or + )</li>\n<li>then remaining bits are 7</li>\n<li>so we can write 2^7 = 128 different numbers for one sign</li>\n<li>we get 0 as a positive sign. then we have 128 numbers for the negative side,127 numbers for the positive side and 0 (zero)</li>\n<li>so the range is <strong>-128 to 127 including 0</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23736159,"reputation":1,"user_id":17754825,"display_name":"Michael Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640341133,"creation_date":1640341133,"answer_id":70471847,"question_id":16983341,"body_markdown":"Let&#39;s calculate range for 1 Byte in C Langauge **Datatype char**\r\n\r\n 0. In case of **char** dataype lets consider - \r\n 1. 1 Byte = 8 Bits\r\n 2. 2^8 = 256\r\n 3. so we can write **2^8 = 256** \r\n 4. In case of **unsigned** 0 to positive integers only.\r\n 4.1 In case of *signed* \r\n   2. we have 128 numbers for the negative side, 0 (zero) and 127 numbers for the positive side\r\n   3. so the range is  **-128 0 +127**\r\n   4. Here 0 is taking one bit\r\n\r\n ","title":"How to calculate the range of primitive data types?","body":"<p>Let's calculate range for 1 Byte in C Langauge <strong>Datatype char</strong></p>\n<ol start=\"0\">\n<li>In case of <strong>char</strong> dataype lets consider -</li>\n<li>1 Byte = 8 Bits</li>\n<li>2^8 = 256</li>\n<li>so we can write <strong>2^8 = 256</strong></li>\n<li>In case of <strong>unsigned</strong> 0 to positive integers only.\n4.1 In case of <em>signed</em></li>\n<li>we have 128 numbers for the negative side, 0 (zero) and 127 numbers for the positive side</li>\n<li>so the range is  <strong>-128 0 +127</strong></li>\n<li>Here 0 is taking one bit</li>\n</ol>\n"}],"owner":{"account_id":1601522,"reputation":609,"user_id":1552578,"accept_rate":55,"display_name":"Ankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22616,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":10,"score":5,"last_activity_date":1640341133,"creation_date":1370605512,"question_id":16983341,"body_markdown":"According to docs.oracle.com:-\r\n\r\nbyte: The byte data type is an 8-bit signed two&#39;s complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable&#39;s range is limited can serve as a form of documentation.\r\n\r\nByte - 8 bits    \r\n 2^7 2^6 2^5 2^4 2^3 2^2 2^1 2^0\r\n \r\n 128 64  32   16   8   4   2   1)\r\n\r\nAdding all these numbers we get a total of 255. Then how&#39;s the range which is -128 to 127 calculated. Is it hard-coded somewhere or there&#39;s some more technicality to this range?\r\n\r\nAny suggestions would be appreciated.","title":"How to calculate the range of primitive data types?","body":"<p>According to docs.oracle.com:-</p>\n\n<p>byte: The byte data type is an 8-bit signed two's complement integer. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable's range is limited can serve as a form of documentation.</p>\n\n<p>Byte - 8 bits<br>\n 2^7 2^6 2^5 2^4 2^3 2^2 2^1 2^0</p>\n\n<p>128 64  32   16   8   4   2   1)</p>\n\n<p>Adding all these numbers we get a total of 255. Then how's the range which is -128 to 127 calculated. Is it hard-coded somewhere or there's some more technicality to this range?</p>\n\n<p>Any suggestions would be appreciated.</p>\n"},{"tags":["java","android","kotlin","sharedpreferences","android-storage"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1543476092,"post_id":53533718,"comment_id":93935093,"body_markdown":"you can&#39;t just collect all possible ways here. Also, if `Shared Preferences` is not secure, then make it secured yourself - encrypt the values","body":"you can&#39;t just collect all possible ways here. Also, if <code>Shared Preferences</code> is not secure, then make it secured yourself - encrypt the values"},{"owner":{"account_id":11879507,"reputation":483,"user_id":8693592,"display_name":"Rishav Singla"},"score":0,"creation_date":1543476143,"post_id":53533718,"comment_id":93935108,"body_markdown":"@TejasJoshi SharedPreferences is not for storing user information, it generally used for holding some small values. For storing user information you can go for database depends upon your app","body":"@TejasJoshi SharedPreferences is not for storing user information, it generally used for holding some small values. For storing user information you can go for database depends upon your app"},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":1,"creation_date":1543476300,"post_id":53533718,"comment_id":93935169,"body_markdown":"have a look at [other options to store data.](https://developer.android.com/guide/topics/data/data-storage)","body":"have a look at <a href=\"https://developer.android.com/guide/topics/data/data-storage\" rel=\"nofollow noreferrer\">other options to store data.</a>"},{"owner":{"account_id":7072769,"reputation":75,"user_id":7477765,"display_name":"tj_"},"score":0,"creation_date":1543476431,"post_id":53533718,"comment_id":93935238,"body_markdown":"@RishavSingla Android Shared Preference are name-value pair saved as XML files. Majorly used to save user’s app preference or user’s details or state of the app by developers. Shared Preference are files which are saved inside directory named shared_prefs present within App Sandbox i.e.  /data/data/AppPackageName/shared_prefs .","body":"@RishavSingla Android Shared Preference are name-value pair saved as XML files. Majorly used to save user’s app preference or user’s details or state of the app by developers. Shared Preference are files which are saved inside directory named shared_prefs present within App Sandbox i.e.  /data/data/AppPackageName/shared_prefs ."},{"owner":{"account_id":11879507,"reputation":483,"user_id":8693592,"display_name":"Rishav Singla"},"score":0,"creation_date":1543477434,"post_id":53533718,"comment_id":93935680,"body_markdown":"@TejasJoshi i already know it, but user information can be long as much as possible, or user can change it also, and you have to get that information whereever in app, so shared preference is not a good idea..go for https://developer.android.com/training/data-storage/room/  , its secure private database","body":"@TejasJoshi i already know it, but user information can be long as much as possible, or user can change it also, and you have to get that information whereever in app, so shared preference is not a good idea..go for <a href=\"https://developer.android.com/training/data-storage/room/\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room</a>  , its secure private database"},{"owner":{"account_id":11879507,"reputation":483,"user_id":8693592,"display_name":"Rishav Singla"},"score":0,"creation_date":1543478072,"post_id":53533718,"comment_id":93935963,"body_markdown":"@TejasJoshi if you want to use sharedpreference then use Base64 encryption , this link will help you : https://stackoverflow.com/questions/30148729/how-to-secure-android-shared-preferences","body":"@TejasJoshi if you want to use sharedpreference then use Base64 encryption , this link will help you : <a href=\"https://stackoverflow.com/questions/30148729/how-to-secure-android-shared-preferences\" title=\"how to secure android shared preferences\">stackoverflow.com/questions/30148729/&hellip;</a>"},{"owner":{"account_id":7072769,"reputation":75,"user_id":7477765,"display_name":"tj_"},"score":0,"creation_date":1543481054,"post_id":53533718,"comment_id":93937401,"body_markdown":"Ty @RishavSingla but Base64 ??https://stackoverflow.com/questions/4070693/what-is-the-purpose-of-base-64-encoding-and-why-it-used-in-http-basic-authentica","body":"Ty @RishavSingla but Base64 ??<a href=\"https://stackoverflow.com/questions/4070693/what-is-the-purpose-of-base-64-encoding-and-why-it-used-in-http-basic-authentica\" title=\"what is the purpose of base 64 encoding and why it used in http basic authentica\">stackoverflow.com/questions/4070693/&hellip;</a>"},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1656707772,"post_id":53533718,"comment_id":128646327,"body_markdown":"Who says (private) SharedPreferences is not secure? Android apps are sandboxed and, therefore, other applications can&#39;t access its internal data.","body":"Who says (private) SharedPreferences is not secure? Android apps are sandboxed and, therefore, other applications can&#39;t access its internal data."}],"answers":[{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543476138,"creation_date":1543476138,"answer_id":53533760,"question_id":53533718,"body_markdown":"If you are storing information in the users&#39; device, no approach is 100% secure. You can hide the information in some ways (eg. encoding, encryption, etc) but still won&#39;t be 100% secure.\r\n\r\nIn order to make your information secure, you will need to store the information in a remote server.","title":"What could be used instead of Shared Preferences for storing user information??As People says Shared Preference is not Secure","body":"<p>If you are storing information in the users' device, no approach is 100% secure. You can hide the information in some ways (eg. encoding, encryption, etc) but still won't be 100% secure.</p>\n\n<p>In order to make your information secure, you will need to store the information in a remote server.</p>\n"},{"tags":[],"owner":{"account_id":5307392,"reputation":334,"user_id":4234803,"display_name":"Rahul Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543477182,"creation_date":1543477182,"answer_id":53534004,"question_id":53533718,"body_markdown":"Shared Preferences are stored as a file in the filesystem on the device. They are, by default, stored within the app&#39;s data directory with filesystem premissions set that only allow the UID that the specific application runs with to access them. So, they are private in so much as Linux file permissions restrict access to them, the same as on any Linux/Unix system.\r\n\r\nAnyone with root level access to the device will be able to see them, as root has access to everything on the filesystem. Also, any application that runs with the same UID as the creating app would be able to access them (this is not usually done and you need to take specific action to make two apps runs with the same UID, so this is probably not a big concern). Finally, if someone was able to mount your device&#39;s filesystem without using the installed Android OS, they could also bypass the permissions that restrict access.\r\n\r\n**If you&#39;re concerned about such access to your preferences (or any data written by your application), then you will want to encrypt it. If you are that concerned about them, you&#39;re going to need to figure out exactly how much protection is necessary for the level of risk you see.** \r\n\r\nYou can also use Database with encryption like whatsapp. Its a best way for security point of view. If you want you can hide the Database also. ","title":"What could be used instead of Shared Preferences for storing user information??As People says Shared Preference is not Secure","body":"<p>Shared Preferences are stored as a file in the filesystem on the device. They are, by default, stored within the app's data directory with filesystem premissions set that only allow the UID that the specific application runs with to access them. So, they are private in so much as Linux file permissions restrict access to them, the same as on any Linux/Unix system.</p>\n\n<p>Anyone with root level access to the device will be able to see them, as root has access to everything on the filesystem. Also, any application that runs with the same UID as the creating app would be able to access them (this is not usually done and you need to take specific action to make two apps runs with the same UID, so this is probably not a big concern). Finally, if someone was able to mount your device's filesystem without using the installed Android OS, they could also bypass the permissions that restrict access.</p>\n\n<p><strong>If you're concerned about such access to your preferences (or any data written by your application), then you will want to encrypt it. If you are that concerned about them, you're going to need to figure out exactly how much protection is necessary for the level of risk you see.</strong> </p>\n\n<p>You can also use Database with encryption like whatsapp. Its a best way for security point of view. If you want you can hide the Database also. </p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543477649,"creation_date":1543477376,"answer_id":53534066,"question_id":53533718,"body_markdown":"You can use `SQLCipher` library for encrypted database or encrypt/decrypt values yourself with some key and store result in `SharedPreferences`. To store keys use [Android keystone system][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/keystore","title":"What could be used instead of Shared Preferences for storing user information??As People says Shared Preference is not Secure","body":"<p>You can use <code>SQLCipher</code> library for encrypted database or encrypt/decrypt values yourself with some key and store result in <code>SharedPreferences</code>. To store keys use <a href=\"https://developer.android.com/training/articles/keystore\" rel=\"nofollow noreferrer\">Android keystone system</a>.</p>\n"}],"owner":{"account_id":7072769,"reputation":75,"user_id":7477765,"display_name":"tj_"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":53534066,"answer_count":3,"score":0,"last_activity_date":1640340978,"creation_date":1543475949,"question_id":53533718,"body_markdown":"What could be used instead of Shared Preferences for storing user information? People say Shared Preference is not Secure.","title":"What could be used instead of Shared Preferences for storing user information??As People says Shared Preference is not Secure","body":"<p>What could be used instead of Shared Preferences for storing user information? People say Shared Preference is not Secure.</p>\n"},{"tags":["java","android","localization"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1640352029,"post_id":70471777,"comment_id":124575497,"body_markdown":"You have to notify the adapter after changing the dataset . In this case may set a new Adapter because you must be using `ArrayAdapter` .And i don&#39;t think you can make a String array pluralized so you have to have 2 array or just have each item as String and then build the array from code .","body":"You have to notify the adapter after changing the dataset . In this case may set a new Adapter because you must be using <code>ArrayAdapter</code> .And i don&#39;t think you can make a String array pluralized so you have to have 2 array or just have each item as String and then build the array from code ."},{"owner":{"account_id":22523034,"reputation":67,"user_id":16716267,"display_name":"sizzlesmcnizzles"},"score":0,"creation_date":1640395565,"post_id":70471777,"comment_id":124583167,"body_markdown":"@ADM Yeah, i&#39;ve just decided to go down the 2 array route for now, in lieu of a better solution. Not ideal cus it won&#39;t handle localization of different quantities automatically, but yeah looks like its the best i&#39;ve got","body":"@ADM Yeah, i&#39;ve just decided to go down the 2 array route for now, in lieu of a better solution. Not ideal cus it won&#39;t handle localization of different quantities automatically, but yeah looks like its the best i&#39;ve got"}],"owner":{"account_id":22523034,"reputation":67,"user_id":16716267,"display_name":"sizzlesmcnizzles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640340692,"creation_date":1640340692,"question_id":70471777,"body_markdown":"I&#39;m creating an Android app in Java\r\n\r\nI have a `Spinner` that with have the following entries using a StringArray resource:\r\n&#39;day&#39;, &#39;week&#39;, &#39;month&#39; and &#39;year&#39;\r\ni also have an `EditText` where i can enter a number to chose the amount of days/weeks ect\r\nso I could set:\r\n\r\n1 week,\r\n4 year,\r\n8 day\r\nect\r\n\r\nI would like to switch the spinner to a pluralised version of the string array and then use the provided number as the quantity, so the above would be more grammatically correct.\r\n\r\nIs there a &#39;proper&#39; way to do this? Hopefully something like `getResources().getQuantityStringS(...)` or something?","title":"Is it possible to have a pluralised StringArray? Android","body":"<p>I'm creating an Android app in Java</p>\n<p>I have a <code>Spinner</code> that with have the following entries using a StringArray resource:\n'day', 'week', 'month' and 'year'\ni also have an <code>EditText</code> where i can enter a number to chose the amount of days/weeks ect\nso I could set:</p>\n<p>1 week,\n4 year,\n8 day\nect</p>\n<p>I would like to switch the spinner to a pluralised version of the string array and then use the provided number as the quantity, so the above would be more grammatically correct.</p>\n<p>Is there a 'proper' way to do this? Hopefully something like <code>getResources().getQuantityStringS(...)</code> or something?</p>\n"},{"tags":["java","android","kotlin","push-notification","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546980764,"creation_date":1546980764,"answer_id":54099517,"question_id":54098681,"body_markdown":"Try to use some flags, for example use **FLAG_ONE_SHOT** and **FLAG_CANCEL_CURRENT** to indicate that **PendingIntent** can be used only once and if the described **PendingIntent** already exists, the current one should be canceled before generating a new one:\r\n\r\n    val contentIntent = PendingIntent.getActivity(this, 0, \r\n        intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_CANCEL_CURRENT);","title":"Not pass value from push notification to Activity","body":"<p>Try to use some flags, for example use <strong>FLAG_ONE_SHOT</strong> and <strong>FLAG_CANCEL_CURRENT</strong> to indicate that <strong>PendingIntent</strong> can be used only once and if the described <strong>PendingIntent</strong> already exists, the current one should be canceled before generating a new one:</p>\n\n<pre><code>val contentIntent = PendingIntent.getActivity(this, 0, \n    intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_CANCEL_CURRENT);\n</code></pre>\n"}],"owner":{"account_id":11633499,"reputation":93,"user_id":8520727,"accept_rate":80,"display_name":"Yevgen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54099517,"answer_count":1,"score":0,"last_activity_date":1640340640,"creation_date":1546976543,"question_id":54098681,"body_markdown":"I can’t pass value from push notification to activity\r\n\r\nI use Firebase Messaging Service for push notification. But I can’t pass value to activity using PendingIntent.\r\n\r\n**MyFirebaseMessagingService**\r\n\r\n    val intent = Intent(this, MainActivity::class.java)\r\n        intent.putExtra(&quot;key&quot;, &quot;value&quot;)\r\n        val contentIntent = PendingIntent.getActivity(\r\n                this, 0, intent, 0)\r\n\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(R.drawable.sa_logo_mini)\r\n                .setLargeIcon(BitmapFactory.decodeResource(resources, R.drawable.sa_icon_big))\r\n                .setContentTitle(title)\r\n                .setContentText(content)\r\n                .setContentIntent(contentIntent)\r\n                .setContentInfo(&quot;Breaking&quot;)\r\n\r\n        notificationManager.notify(1, notificationBuilder.build())\r\n\r\n**MainActivity**\r\n\r\n        val Y = intent.getStringExtra(&quot;key&quot;)\r\n        Log.i(C.T, &quot;CHECHE = &quot;+Y)\r\n\r\nAfter click on push notification MainActivity start but intent.getStringExtra(&quot;key&quot;) always equals null.\r\n\r\nWhere a mistake?\r\n\r\n","title":"Not pass value from push notification to Activity","body":"<p>I can’t pass value from push notification to activity</p>\n\n<p>I use Firebase Messaging Service for push notification. But I can’t pass value to activity using PendingIntent.</p>\n\n<p><strong>MyFirebaseMessagingService</strong></p>\n\n<pre><code>val intent = Intent(this, MainActivity::class.java)\n    intent.putExtra(\"key\", \"value\")\n    val contentIntent = PendingIntent.getActivity(\n            this, 0, intent, 0)\n\n    notificationBuilder.setAutoCancel(true)\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setWhen(System.currentTimeMillis())\n            .setSmallIcon(R.drawable.sa_logo_mini)\n            .setLargeIcon(BitmapFactory.decodeResource(resources, R.drawable.sa_icon_big))\n            .setContentTitle(title)\n            .setContentText(content)\n            .setContentIntent(contentIntent)\n            .setContentInfo(\"Breaking\")\n\n    notificationManager.notify(1, notificationBuilder.build())\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>    val Y = intent.getStringExtra(\"key\")\n    Log.i(C.T, \"CHECHE = \"+Y)\n</code></pre>\n\n<p>After click on push notification MainActivity start but intent.getStringExtra(\"key\") always equals null.</p>\n\n<p>Where a mistake?</p>\n"},{"tags":["java","android","kotlin","android-view"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":3,"creation_date":1548673869,"post_id":54400673,"comment_id":95611939,"body_markdown":"`View` is a type. `View` is a class name, same as `String` for example","body":"<code>View</code> is a type. <code>View</code> is a class name, same as <code>String</code> for example"},{"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1548746442,"post_id":54400673,"comment_id":95641382,"body_markdown":"Why did you think `View` wasn&#39;t a type?","body":"Why did you think <code>View</code> wasn&#39;t a type?"},{"owner":{"account_id":9037970,"reputation":8357,"user_id":6733153,"accept_rate":52,"display_name":"Zorgan"},"score":0,"creation_date":1548748079,"post_id":54400673,"comment_id":95642175,"body_markdown":"Thanks @VladyslavMatviienko that clears it up.","body":"Thanks @VladyslavMatviienko that clears it up."},{"owner":{"account_id":9037970,"reputation":8357,"user_id":6733153,"accept_rate":52,"display_name":"Zorgan"},"score":0,"creation_date":1548748340,"post_id":54400673,"comment_id":95642285,"body_markdown":"@AlexeyRomanov because I didn&#39;t think you could just create new custom classes and make them types (like `View`), I thought these were the only possible data types: https://kotlinlang.org/docs/reference/basic-types.html","body":"@AlexeyRomanov because I didn&#39;t think you could just create new custom classes and make them types (like <code>View</code>), I thought these were the only possible data types: <a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/basic-types.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1223725,"reputation":5602,"user_id":1189800,"display_name":"Chetan Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548755035,"creation_date":1548674064,"answer_id":54400779,"question_id":54400673,"body_markdown":"Because \r\n\r\n1.We click on a `View` it may be a `Button` , `TextView` ,`EditText` or any layout  so on the basis of Integer ID difficult to match with actual views.\r\n\r\n2.`View` has many information including its Id ,that can be used like (Tag , Text  etc).\r\n\r\n3.Also view has its parent Layout Information can be used .\r\n\r\nPlease find more details at below link:\r\n\r\n[Why do we have to add &#39;View&#39; as parameter in onClick method and what it does?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37682776/why-do-we-have-to-add-view-as-parameter-in-onclick-method-and-what-it-does\r\n\r\n\r\nView `class` has `interface` with method `onClick(View view)`.\r\n\r\n    /**\r\n         * Interface definition for a callback to be invoked when a view is clicked.\r\n         */\r\n        public interface OnClickListener {\r\n            /**\r\n             * Called when a view has been clicked.\r\n             *\r\n             * @param v The view that was clicked.\r\n             */\r\n            void onClick(View v);\r\n        }\r\n\r\n","title":"View being passed as a parameter in Kotlin/Android","body":"<p>Because </p>\n\n<p>1.We click on a <code>View</code> it may be a <code>Button</code> , <code>TextView</code> ,<code>EditText</code> or any layout  so on the basis of Integer ID difficult to match with actual views.</p>\n\n<p>2.<code>View</code> has many information including its Id ,that can be used like (Tag , Text  etc).</p>\n\n<p>3.Also view has its parent Layout Information can be used .</p>\n\n<p>Please find more details at below link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37682776/why-do-we-have-to-add-view-as-parameter-in-onclick-method-and-what-it-does\">Why do we have to add 'View' as parameter in onClick method and what it does?</a></p>\n\n<p>View <code>class</code> has <code>interface</code> with method <code>onClick(View view)</code>.</p>\n\n<pre><code>/**\n     * Interface definition for a callback to be invoked when a view is clicked.\n     */\n    public interface OnClickListener {\n        /**\n         * Called when a view has been clicked.\n         *\n         * @param v The view that was clicked.\n         */\n        void onClick(View v);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548744166,"creation_date":1548674120,"answer_id":54400798,"question_id":54400673,"body_markdown":"`MainActivity` class is implementing `View.OnClickListener` interface, which has the following signature:\r\n\r\n    public interface OnClickListener {\r\n        void onClick(View v);\r\n    }\r\nSo `onClick` method is implemeted and it receives `View` as the parameter. \r\n\r\n`v` - is a view which was clicked.\r\n\r\n\r\n----------\r\n\r\n\r\n**Addition**:\r\nThe syntax of the overridden `onClick` method in Kotlin is the following:\r\n\r\n    override fun onClick(v: View) { ... }\r\n\r\nwhere `v` - is a view which was clicked; `View` - is the data type of object `v` from Android SDK. It is a parent class for many children, such as `Button`, `TextView` etc. That means `onClick` method can receive a `Button`, `TextView`, `ImageView` and other views that inherit from `View`. Here works one of the principles of OOP - **Polymorphism**.\r\n","title":"View being passed as a parameter in Kotlin/Android","body":"<p><code>MainActivity</code> class is implementing <code>View.OnClickListener</code> interface, which has the following signature:</p>\n\n<pre><code>public interface OnClickListener {\n    void onClick(View v);\n}\n</code></pre>\n\n<p>So <code>onClick</code> method is implemeted and it receives <code>View</code> as the parameter. </p>\n\n<p><code>v</code> - is a view which was clicked.</p>\n\n<hr>\n\n<p><strong>Addition</strong>:\nThe syntax of the overridden <code>onClick</code> method in Kotlin is the following:</p>\n\n<pre><code>override fun onClick(v: View) { ... }\n</code></pre>\n\n<p>where <code>v</code> - is a view which was clicked; <code>View</code> - is the data type of object <code>v</code> from Android SDK. It is a parent class for many children, such as <code>Button</code>, <code>TextView</code> etc. That means <code>onClick</code> method can receive a <code>Button</code>, <code>TextView</code>, <code>ImageView</code> and other views that inherit from <code>View</code>. Here works one of the principles of OOP - <strong>Polymorphism</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1888801,"reputation":151,"user_id":1707443,"display_name":"Carlos Aires"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548675469,"creation_date":1548675469,"answer_id":54401178,"question_id":54400673,"body_markdown":"The View attribute inform which View you clicked (every visual component of Android is a View) so you can use this information to identify &quot;who&quot; is calling the onClick.\r\n\r\nIf in my layout I have 3 buttons (button1, button2, button3) I can do something like this (in Java):\r\n```\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener  {\r\n...\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        button1 = findViewById(R.id.button1);\r\n        button2 = findViewById(R.id.button2);\r\n        button3 = findViewById(R.id.button3);\r\n\r\n        button1.setOnClickListener(this);\r\n        button2.setOnClickListener(this);\r\n        button3.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch(view.id) {\r\n            case R.id.button1:\r\n                button1Action();\r\n            break;\r\n\r\n            case R.id.button2:\r\n                button2Action();\r\n            break;\r\n\r\n            case R.id.button3:\r\n                button3Action();\r\n            break;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nOr you can do something like this and ignore the View attribute\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n...\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        button1 = findViewById(R.id.button1);\r\n        button2 = findViewById(R.id.button2);\r\n        button3 = findViewById(R.id.button3);\r\n\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                button1Action();\r\n            }\r\n        });\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                button2Action();\r\n            }\r\n        });\r\n        button3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                button3Action();\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n\r\nPS.: I didn&#39;t run this code. Probably it has some errors.","title":"View being passed as a parameter in Kotlin/Android","body":"<p>The View attribute inform which View you clicked (every visual component of Android is a View) so you can use this information to identify \"who\" is calling the onClick.</p>\n\n<p>If in my layout I have 3 buttons (button1, button2, button3) I can do something like this (in Java):</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener  {\n...\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        button1 = findViewById(R.id.button1);\n        button2 = findViewById(R.id.button2);\n        button3 = findViewById(R.id.button3);\n\n        button1.setOnClickListener(this);\n        button2.setOnClickListener(this);\n        button3.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch(view.id) {\n            case R.id.button1:\n                button1Action();\n            break;\n\n            case R.id.button2:\n                button2Action();\n            break;\n\n            case R.id.button3:\n                button3Action();\n            break;\n        }\n    }\n\n</code></pre>\n\n<p>Or you can do something like this and ignore the View attribute</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n...\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        button1 = findViewById(R.id.button1);\n        button2 = findViewById(R.id.button2);\n        button3 = findViewById(R.id.button3);\n\n        button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                button1Action();\n            }\n        });\n        button2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                button2Action();\n            }\n        });\n        button3.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                button3Action();\n            }\n        });\n    }\n\n</code></pre>\n\n<p>PS.: I didn't run this code. Probably it has some errors.</p>\n"}],"owner":{"account_id":9037970,"reputation":8357,"user_id":6733153,"accept_rate":52,"display_name":"Zorgan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1640340520,"creation_date":1548673688,"question_id":54400673,"body_markdown":"New to kotlin/android so excuse my beginner skills.\r\n\r\nHowever, why is `View` being passed in `onClick(v: View)` where the `type` should usually be? (e.g `Int`, `String`) etc. \r\n\r\nI didn&#39;t think this was possible/allowed. \r\n\r\nMy code:\r\n\r\n    class MainActivity : AppCompatActivity(), View.OnClickListener  {\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            choose_1_player.setOnClickListener(this)\r\n        }\r\n    \r\n        override fun onClick(v: View) {\r\n    \r\n            when (v.id){\r\n                R.id.choose_1_player -&gt; println(&quot;Hello&quot;)\r\n                R.id.choose_2_player -&gt; println(&quot;Hello&quot;)\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nIs it because the [function][1] is written in Java and not Kotlin?\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.OnClickListener","title":"View being passed as a parameter in Kotlin/Android","body":"<p>New to kotlin/android so excuse my beginner skills.</p>\n\n<p>However, why is <code>View</code> being passed in <code>onClick(v: View)</code> where the <code>type</code> should usually be? (e.g <code>Int</code>, <code>String</code>) etc. </p>\n\n<p>I didn't think this was possible/allowed. </p>\n\n<p>My code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), View.OnClickListener  {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        choose_1_player.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View) {\n\n        when (v.id){\n            R.id.choose_1_player -&gt; println(\"Hello\")\n            R.id.choose_2_player -&gt; println(\"Hello\")\n        }\n\n    }\n\n\n}\n</code></pre>\n\n<p>Is it because the <a href=\"https://developer.android.com/reference/android/view/View.OnClickListener\" rel=\"nofollow noreferrer\">function</a> is written in Java and not Kotlin?</p>\n"},{"tags":["java","maven","maven-2","dependencies"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1257418197,"post_id":1677473,"comment_id":1553836,"body_markdown":"Ahhh, The edit is perfect. Why didn&#39;t you write this in the first intention? Also, maybe consider changing the title :) I don&#39;t mean to be picky, this is just for the sake of clarity and classification. This will help the whole community in the future when searching for a similar issue (which is not crystal clear with the actual title and content that is about dependency:tree)","body":"Ahhh, The edit is perfect. Why didn&#39;t you write this in the first intention? Also, maybe consider changing the title :) I don&#39;t mean to be picky, this is just for the sake of clarity and classification. This will help the whole community in the future when searching for a similar issue (which is not crystal clear with the actual title and content that is about dependency:tree)"},{"owner":{"display_name":"user168237"},"score":1,"creation_date":1287112116,"post_id":1677473,"comment_id":4204942,"body_markdown":"Hi. Did you find the solution? I have this problem too :(","body":"Hi. Did you find the solution? I have this problem too :("},{"owner":{"account_id":102727,"reputation":13979,"user_id":275581,"accept_rate":92,"display_name":"metamatt"},"score":1,"creation_date":1299025084,"post_id":1677473,"comment_id":5796766,"body_markdown":"Does compilation fail, or just the dependency:tree goal alone? See Don Willis&#39; answer.","body":"Does compilation fail, or just the dependency:tree goal alone? See Don Willis&#39; answer."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1505230512,"post_id":1677473,"comment_id":79323480,"body_markdown":"OMG so in one module if it fails because it cannot find symbols of another module, the other should be added as dependency and installed as JAR? This is the key....","body":"OMG so in one module if it fails because it cannot find symbols of another module, the other should be added as dependency and installed as JAR? This is the key...."},{"owner":{"account_id":5912913,"reputation":934,"user_id":4652536,"accept_rate":17,"display_name":"yuxh"},"score":0,"creation_date":1542626914,"post_id":1677473,"comment_id":93623067,"body_markdown":"it&#39;s sad maven 3.6 does not solve this problem yet","body":"it&#39;s sad maven 3.6 does not solve this problem yet"}],"answers":[{"tags":[],"owner":{"account_id":46051,"reputation":36790,"user_id":135946,"accept_rate":92,"display_name":"Bostone"},"down_vote_count":6,"up_vote_count":29,"is_accepted":true,"score":23,"last_activity_date":1257379831,"creation_date":1257379831,"answer_id":1677554,"question_id":1677473,"body_markdown":"I think the problem is that when you specify a dependency Maven expects to have it as jar (or whatever) packaged and available from at least a local repo. I&#39;m sure that if you run `mvn install` on your commons project first everything will work.   ","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>I think the problem is that when you specify a dependency Maven expects to have it as jar (or whatever) packaged and available from at least a local repo. I'm sure that if you run <code>mvn install</code> on your commons project first everything will work.   </p>\n"},{"tags":[],"owner":{"account_id":576138,"reputation":1340,"user_id":231906,"display_name":"Don Willis"},"down_vote_count":0,"up_vote_count":125,"is_accepted":false,"score":125,"last_activity_date":1494515623,"creation_date":1260865209,"answer_id":1905927,"question_id":1677473,"body_markdown":"As discussed in [this maven mailing list thread][1], the dependency:tree goal by itself will look things up in the repository rather than the reactor.  You can work around this by mvn installing, as previously suggested, or doing something less onerous that invokes the reactor, such as\r\n\r\n    mvn compile dependency:tree\r\n\r\nWorks for me.\r\n\r\n\r\n  [1]: http://www.mail-archive.com/users@maven.apache.org/msg104341.html","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>As discussed in <a href=\"http://www.mail-archive.com/users@maven.apache.org/msg104341.html\" rel=\"noreferrer\">this maven mailing list thread</a>, the dependency:tree goal by itself will look things up in the repository rather than the reactor.  You can work around this by mvn installing, as previously suggested, or doing something less onerous that invokes the reactor, such as</p>\n\n<pre><code>mvn compile dependency:tree\n</code></pre>\n\n<p>Works for me.</p>\n"},{"tags":[],"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1324435804,"creation_date":1324435804,"answer_id":8584540,"question_id":1677473,"body_markdown":"Realizing this is an older thread but it seems that either the tool evolved or this might have been missed the first time around.\r\n\r\nIt is possible to perform a build that makes dependencies resolved without installing by doing a reactor build.\r\n\r\nIf you start your build in the parent that describes the module structure of your project then  your dependencies between your modules will be resolved during the build itself through the internal Maven reactor.\r\n\r\nOf course this is not the perfect solution since it does not solve the build of a single individual module within the structure.  In this case Maven will not have the dependencies in his reactor and will bee looking to resolve it in the repository.  So for individual builds you still have to install the dependencies first.\r\n\r\nHere is some [reference][1] describing this situation.\r\n\r\n\r\n  [1]: http://ahoehma.wordpress.com/2010/12/22/intermodule-dependencies-now-better-working-with-maven-3/","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>Realizing this is an older thread but it seems that either the tool evolved or this might have been missed the first time around.</p>\n\n<p>It is possible to perform a build that makes dependencies resolved without installing by doing a reactor build.</p>\n\n<p>If you start your build in the parent that describes the module structure of your project then  your dependencies between your modules will be resolved during the build itself through the internal Maven reactor.</p>\n\n<p>Of course this is not the perfect solution since it does not solve the build of a single individual module within the structure.  In this case Maven will not have the dependencies in his reactor and will bee looking to resolve it in the repository.  So for individual builds you still have to install the dependencies first.</p>\n\n<p>Here is some <a href=\"http://ahoehma.wordpress.com/2010/12/22/intermodule-dependencies-now-better-working-with-maven-3/\" rel=\"noreferrer\">reference</a> describing this situation.</p>\n"},{"tags":[],"owner":{"account_id":304046,"reputation":4566,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1359659779,"creation_date":1356276532,"answer_id":14012188,"question_id":1677473,"body_markdown":"for me, what led me to this thread was a similar problem and the solution was to ensure all module dependency pom&#39;s had\r\n\r\n     &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nthe parent had\r\n\r\n &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\nmy model dep had pom - so there was no jar to be found.","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>for me, what led me to this thread was a similar problem and the solution was to ensure all module dependency pom's had</p>\n\n<pre><code> &lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>the parent had</p>\n\n<p>pom</p>\n\n<p>my model dep had pom - so there was no jar to be found.</p>\n"},{"tags":[],"owner":{"account_id":1119550,"reputation":429,"user_id":1108188,"display_name":"mba"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1447369553,"creation_date":1447369553,"answer_id":33683118,"question_id":1677473,"body_markdown":"The only thing that workd for me : switching to gradle :(\r\n\r\nI have \r\n\r\n    Parent\r\n      +---dep1\r\n      +---war1 (using dep1)\r\n\r\nand I can just cd in war1 and use mvn tomcat7:run-war. \r\nI always have to install the whole project before, despite war1 references his parent and the parent references war1 and dep1 (as modules) so all dependencies should be known.\r\n\r\nI don&#39;t understand what the problem is.","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>The only thing that workd for me : switching to gradle :(</p>\n\n<p>I have </p>\n\n<pre><code>Parent\n  +---dep1\n  +---war1 (using dep1)\n</code></pre>\n\n<p>and I can just cd in war1 and use mvn tomcat7:run-war. \nI always have to install the whole project before, despite war1 references his parent and the parent references war1 and dep1 (as modules) so all dependencies should be known.</p>\n\n<p>I don't understand what the problem is.</p>\n"},{"tags":[],"owner":{"account_id":1248550,"reputation":2573,"user_id":1209475,"display_name":"Nitin Kamate"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545371340,"creation_date":1484131151,"answer_id":41588591,"question_id":1677473,"body_markdown":"Make sure the module which is failing gets resolved in the pom, is pointing to the right parent by including the &lt;parent&gt; configurations in the pom file of the module.","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>Make sure the module which is failing gets resolved in the pom, is pointing to the right parent by including the  configurations in the pom file of the module.</p>\n"},{"tags":[],"owner":{"account_id":15842570,"reputation":59,"user_id":11430647,"display_name":"bothor"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556602372,"creation_date":1556602372,"answer_id":55914503,"question_id":1677473,"body_markdown":"In a Maven module structure like this:\r\n\r\n```\r\n- parent\r\n  - child1\r\n  - child2\r\n```\r\n\r\nYou will have in the `parent` `pom` this:\r\n\r\n```\r\n&lt;modules&gt;\r\n  &lt;module&gt;child1&lt;/module&gt;\r\n  &lt;module&gt;child2&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\n\r\nIf you now depend on `child1` in `child2` by putting the following in your `&lt;dependencies&gt;` in `child2`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;child1&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou will receive an error that the JAR for `child1` cannot be found. This can be solved by declaring a `&lt;dependencyManagement&gt;` block including `child1` in the `pom` for `parent`:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;child1&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\n`child1` will now be build when you run a `compile` or `package` etc. goal on `parent`, and `child2` will find `child1`&#39;s compiled files.","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>In a Maven module structure like this:</p>\n\n<pre><code>- parent\n  - child1\n  - child2\n</code></pre>\n\n<p>You will have in the <code>parent</code> <code>pom</code> this:</p>\n\n<pre><code>&lt;modules&gt;\n  &lt;module&gt;child1&lt;/module&gt;\n  &lt;module&gt;child2&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>If you now depend on <code>child1</code> in <code>child2</code> by putting the following in your <code>&lt;dependencies&gt;</code> in <code>child2</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;example&lt;/groupId&gt;\n  &lt;artifactId&gt;child1&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You will receive an error that the JAR for <code>child1</code> cannot be found. This can be solved by declaring a <code>&lt;dependencyManagement&gt;</code> block including <code>child1</code> in the <code>pom</code> for <code>parent</code>:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;example&lt;/groupId&gt;\n      &lt;artifactId&gt;child1&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p><code>child1</code> will now be build when you run a <code>compile</code> or <code>package</code> etc. goal on <code>parent</code>, and <code>child2</code> will find <code>child1</code>'s compiled files.</p>\n"},{"tags":[],"owner":{"account_id":7052927,"reputation":185,"user_id":5401366,"display_name":"adrock20"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1564169391,"creation_date":1564169391,"answer_id":57226037,"question_id":1677473,"body_markdown":"Bonusing off the [answer][1] from [Don Willis][2]:\r\n\r\nIf your build creates test-jars to share test code among your reactor submodules you should use:\r\n\r\n```\r\nmvn test-compile dependency:tree\r\n```\r\n\r\nwhich will allow `dependency:tree` to run to completion in this case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1905927/5401366\r\n  [2]: https://stackoverflow.com/users/231906/don-willis","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>Bonusing off the <a href=\"https://stackoverflow.com/a/1905927/5401366\">answer</a> from <a href=\"https://stackoverflow.com/users/231906/don-willis\">Don Willis</a>:</p>\n\n<p>If your build creates test-jars to share test code among your reactor submodules you should use:</p>\n\n<pre><code>mvn test-compile dependency:tree\n</code></pre>\n\n<p>which will allow <code>dependency:tree</code> to run to completion in this case.</p>\n"},{"tags":[],"owner":{"account_id":23735830,"reputation":21,"user_id":17754535,"display_name":"sergeko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640340196,"creation_date":1640340196,"answer_id":70471706,"question_id":1677473,"body_markdown":"Using version &gt;= 3.1.2 of the dependency plugin seems to solve the issue.","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>Using version &gt;= 3.1.2 of the dependency plugin seems to solve the issue.</p>\n"}],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51998,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":1677554,"answer_count":9,"score":110,"last_activity_date":1640340196,"creation_date":1257378438,"question_id":1677473,"body_markdown":"I&#39;m trying to set up a multi-module Maven project, and the inter-module dependencies are apparently not being set up correctly.\r\n\r\nI have:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;modules&gt;\r\n      &lt;module&gt;commons&lt;/module&gt;\r\n      &lt;module&gt;storage&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\nin the parent POM (which has a packaging-type pom)\r\nand then subdirectories `commons/` and `storage/` which define JAR poms with the same name.\r\n\r\nStorage depends on Commons.\r\n\r\nIn the main (master) directory, I run `mvn dependency:tree` and see:\r\n\r\n    [INFO] Building system\r\n    [INFO]    task-segment: [dependency:tree]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] [dependency:tree {execution: default-cli}]\r\n    [INFO] domain:system:pom:1.0-SNAPSHOT\r\n    [INFO] \\- junit:junit:jar:3.8.1:test\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building commons\r\n    [INFO]    task-segment: [dependency:tree]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] [dependency:tree {execution: default-cli}]\r\n    ...correct tree...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building storage\r\n    [INFO]    task-segment: [dependency:tree]\r\n    [INFO] ------------------------------------------------------------------------\r\n    Downloading: http://my.repo/artifactory/repo/domain/commons/1.0-SNAPSHOT/commons-1.0-SNAPSHOT.jar\r\n    [INFO] Unable to find resource &#39;domain:commons:jar:1.0-SNAPSHOT&#39; in repository my.repo (http://my.repo/artifactory/repo)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] BUILD ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Failed to resolve artifact.\r\n    \r\n    Missing:\r\n    ----------\r\n    1) domain:commons:jar:1.0-SNAPSHOT\r\n\r\nWhy does the dependency on &quot;commons&quot; fail, even though the reactor has obviously seen it because it successfully processes its dependency tree?  It should definitely not be going to the &#39;net to find it as it&#39;s right there...\r\n\r\nThe pom for storage:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;system&lt;/artifactId&gt;\r\n        &lt;groupId&gt;domain&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;domain&lt;/groupId&gt;\r\n      &lt;artifactId&gt;storage&lt;/artifactId&gt;\r\n      &lt;name&gt;storage&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- module dependencies --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;domain&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- other dependencies --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThanks for any suggestions!\r\n\r\n(Edit)\r\n\r\nTo clarify, what I am looking for here is this:  I don&#39;t want to have to install module X to build module Y which depends on X, given that both are modules referenced from the same parent POM.  This makes intuitive sense to me that if I have two things in the same source tree, I shouldn&#39;t have to install intermediate products to continue the build.  Hopefully my thinking makes some sense here...","title":"Maven doesn&#39;t recognize sibling modules when running mvn dependency:tree","body":"<p>I'm trying to set up a multi-module Maven project, and the inter-module dependencies are apparently not being set up correctly.</p>\n\n<p>I have:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;modules&gt;\n  &lt;module&gt;commons&lt;/module&gt;\n  &lt;module&gt;storage&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>in the parent POM (which has a packaging-type pom)\nand then subdirectories <code>commons/</code> and <code>storage/</code> which define JAR poms with the same name.</p>\n\n<p>Storage depends on Commons.</p>\n\n<p>In the main (master) directory, I run <code>mvn dependency:tree</code> and see:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>[INFO] Building system\n[INFO]    task-segment: [dependency:tree]\n[INFO] ------------------------------------------------------------------------\n[INFO] [dependency:tree {execution: default-cli}]\n[INFO] domain:system:pom:1.0-SNAPSHOT\n[INFO] \\- junit:junit:jar:3.8.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] Building commons\n[INFO]    task-segment: [dependency:tree]\n[INFO] ------------------------------------------------------------------------\n[INFO] [dependency:tree {execution: default-cli}]\n...correct tree...\n[INFO] ------------------------------------------------------------------------\n[INFO] Building storage\n[INFO]    task-segment: [dependency:tree]\n[INFO] ------------------------------------------------------------------------\nDownloading: http://my.repo/artifactory/repo/domain/commons/1.0-SNAPSHOT/commons-1.0-SNAPSHOT.jar\n[INFO] Unable to find resource 'domain:commons:jar:1.0-SNAPSHOT' in repository my.repo (http://my.repo/artifactory/repo)\n[INFO] ------------------------------------------------------------------------\n[ERROR] BUILD ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Failed to resolve artifact.\n\nMissing:\n----------\n1) domain:commons:jar:1.0-SNAPSHOT\n</code></pre>\n\n<p>Why does the dependency on \"commons\" fail, even though the reactor has obviously seen it because it successfully processes its dependency tree?  It should definitely not be going to the 'net to find it as it's right there...</p>\n\n<p>The pom for storage:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;system&lt;/artifactId&gt;\n    &lt;groupId&gt;domain&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;domain&lt;/groupId&gt;\n  &lt;artifactId&gt;storage&lt;/artifactId&gt;\n  &lt;name&gt;storage&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;!-- module dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;domain&lt;/groupId&gt;\n      &lt;artifactId&gt;commons&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- other dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thanks for any suggestions!</p>\n\n<p>(Edit)</p>\n\n<p>To clarify, what I am looking for here is this:  I don't want to have to install module X to build module Y which depends on X, given that both are modules referenced from the same parent POM.  This makes intuitive sense to me that if I have two things in the same source tree, I shouldn't have to install intermediate products to continue the build.  Hopefully my thinking makes some sense here...</p>\n"},{"tags":["java","android","kotlin","wifi","android-wifi"],"answers":[{"tags":[],"owner":{"account_id":363893,"reputation":873,"user_id":707930,"accept_rate":82,"display_name":"Codii"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1407837265,"creation_date":1302858278,"answer_id":5674562,"question_id":5674333,"body_markdown":"    WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n    wifi.setWifiEnabled(false); // true or false to activate/deactivate wifi\r\n\r\nYou also need to request the permission in your AndroidManifest.xml :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;","title":"How to enable/disable WiFi from an application?","body":"<pre><code>WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\nwifi.setWifiEnabled(false); // true or false to activate/deactivate wifi\n</code></pre>\n\n<p>You also need to request the permission in your AndroidManifest.xml :</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343070,"reputation":2250,"user_id":674553,"accept_rate":100,"display_name":"kannappan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1302858953,"creation_date":1302858953,"answer_id":5674685,"question_id":5674333,"body_markdown":"try this code\r\n\r\n     Intent gpsOptionsIntent = new Intent(  android.provider.Settings.ACTION_WIFI_SETTINGS);  \r\n\t\t\t\tstartActivityForResult(gpsOptionsIntent,0); ","title":"How to enable/disable WiFi from an application?","body":"<p>try this code</p>\n\n<pre><code> Intent gpsOptionsIntent = new Intent(  android.provider.Settings.ACTION_WIFI_SETTINGS);  \n            startActivityForResult(gpsOptionsIntent,0); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1568805,"reputation":171,"user_id":1456985,"display_name":"Akshay Thapliyal"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1340279472,"creation_date":1339782681,"answer_id":11055794,"question_id":5674333,"body_markdown":"To enable/disable WiFi in your application you need to use WiFiManager class. Create an Object of WiFiManager class to get the services of WiFi.\r\n\r\n   \r\n\r\n    WifiManager wifi;\r\n    wifi=(WifiManager)getSystemService(Context.WIFI_SERVICE);\r\n    \r\n    wifi.setWifiEnabled(false);//Turn off Wifi\r\n    \r\n    wifi.setWifiEnabled(true);//Turn on Wifi\r\n\r\n    \r\n\r\n\r\n\r\nAnd you have to put the following permissions in AndroidManifest.xml\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.UPDATE_DEVICE_STATS&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n\r\nTo get the whole sample code of enable/disable Wifi in android with UI visit [this website][1] \r\n\r\n\r\n  [1]: http://androidfordev.blogspot.in/2012/06/enabledisable-wifi-in-android.html","title":"How to enable/disable WiFi from an application?","body":"<p>To enable/disable WiFi in your application you need to use WiFiManager class. Create an Object of WiFiManager class to get the services of WiFi.</p>\n\n<pre><code>WifiManager wifi;\nwifi=(WifiManager)getSystemService(Context.WIFI_SERVICE);\n\nwifi.setWifiEnabled(false);//Turn off Wifi\n\nwifi.setWifiEnabled(true);//Turn on Wifi\n</code></pre>\n\n<p>And you have to put the following permissions in AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.UPDATE_DEVICE_STATS\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n</code></pre>\n\n<p>To get the whole sample code of enable/disable Wifi in android with UI visit <a href=\"http://androidfordev.blogspot.in/2012/06/enabledisable-wifi-in-android.html\" rel=\"noreferrer\">this website</a> </p>\n"},{"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438853099,"creation_date":1438853099,"answer_id":31851858,"question_id":5674333,"body_markdown":"try this\r\n\r\n\r\n    public void disableWifi(Context context, Boolean bool) {\r\n        WifiManager wifi = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n    \r\n        if(bool)\r\n            wifi.setWifiEnabled(false);\r\n        else\r\n            wifi.setWifiEnabled(true);\r\n    }\r\n\r\n","title":"How to enable/disable WiFi from an application?","body":"<p>try this</p>\n\n<pre><code>public void disableWifi(Context context, Boolean bool) {\n    WifiManager wifi = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n\n    if(bool)\n        wifi.setWifiEnabled(false);\n    else\n        wifi.setWifiEnabled(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6887963,"reputation":1,"user_id":5292472,"display_name":"Yogendra Yaduwanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458943222,"creation_date":1458941602,"answer_id":36228396,"question_id":5674333,"body_markdown":"    public class MainActivity extends AppCompatActivity {\r\n\r\n        Switch btn;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            btn = (Switch) findViewById(R.id.switch1);\r\n            btn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    if (isChecked) {\r\n                        toggleWiFi(true);\r\n                        Toast.makeText(getApplicationContext(), &quot;Wi-Fi Enabled!&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        toggleWiFi(false);\r\n                        Toast.makeText(getApplicationContext(), &quot;Wi-Fi Disabled!&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public void toggleWiFi(boolean status){\r\n            WifiManager wifiManager = (WifiManager)this.getSystemService(WIFI_SERVICE);\r\n            if (status &amp;&amp; !wifiManager.isWifiEnabled()) {\r\n                wifiManager.setWifiEnabled(true);\r\n            } else if (!status &amp;&amp; wifiManager.isWifiEnabled()) {\r\n                wifiManager.setWifiEnabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\nAdd User Permission in Manifest Files ","title":"How to enable/disable WiFi from an application?","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Switch btn;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btn = (Switch) findViewById(R.id.switch1);\n        btn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if (isChecked) {\n                    toggleWiFi(true);\n                    Toast.makeText(getApplicationContext(), \"Wi-Fi Enabled!\", Toast.LENGTH_LONG).show();\n                } else {\n                    toggleWiFi(false);\n                    Toast.makeText(getApplicationContext(), \"Wi-Fi Disabled!\", Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n\n    public void toggleWiFi(boolean status){\n        WifiManager wifiManager = (WifiManager)this.getSystemService(WIFI_SERVICE);\n        if (status &amp;&amp; !wifiManager.isWifiEnabled()) {\n            wifiManager.setWifiEnabled(true);\n        } else if (!status &amp;&amp; wifiManager.isWifiEnabled()) {\n            wifiManager.setWifiEnabled(false);\n        }\n    }\n}\n</code></pre>\n\n<p>Add User Permission in Manifest Files </p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587288623,"creation_date":1587215873,"answer_id":61289755,"question_id":5674333,"body_markdown":"To enable/disable wifi from an app in **Android Q (Android 10)** use **Settings Panel**:\r\n\r\n    val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\r\n    startActivityForResult(panelIntent, 0)\r\n\r\nOn previous versions of Android this should work (appropriate permissions should be added to AndroidManifest file, see answers above):\r\n\r\n    (context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\r\n\r\n\r\nResulting code might look something like this:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\r\n        startActivityForResult(panelIntent, 0)\r\n    } else {\r\n        (context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\r\n    }\r\n\r\nWhere `context` is a reference to `android.content.Context` object.","title":"How to enable/disable WiFi from an application?","body":"<p>To enable/disable wifi from an app in <strong>Android Q (Android 10)</strong> use <strong>Settings Panel</strong>:</p>\n\n<pre><code>val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\nstartActivityForResult(panelIntent, 0)\n</code></pre>\n\n<p>On previous versions of Android this should work (appropriate permissions should be added to AndroidManifest file, see answers above):</p>\n\n<pre><code>(context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\n</code></pre>\n\n<p>Resulting code might look something like this:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\n    startActivityForResult(panelIntent, 0)\n} else {\n    (context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\n}\n</code></pre>\n\n<p>Where <code>context</code> is a reference to <code>android.content.Context</code> object.</p>\n"}],"owner":{"account_id":287693,"reputation":1051,"user_id":587674,"accept_rate":44,"display_name":"Mustafa İrer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54987,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":5674562,"answer_count":6,"score":34,"last_activity_date":1640340110,"creation_date":1302857089,"question_id":5674333,"body_markdown":"I want to enable/disable wifi from my Android application. How can I do that?","title":"How to enable/disable WiFi from an application?","body":"<p>I want to enable/disable wifi from my Android application. How can I do that?</p>\n"},{"tags":["java","android","kotlin","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":2635510,"reputation":600,"user_id":2280316,"accept_rate":100,"display_name":"Bita Mirshafiee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591214239,"creation_date":1591214239,"answer_id":62181647,"question_id":62181475,"body_markdown":"The problem is that ViewHolderItem is an inner class, which it&#39;s fields cannot be access from the outer class.\r\nfor creating a model class in kotlin use data class like this :\r\n\r\n    data class ViewHolderItem(val p1 : String, val p2 : Int, ...)","title":"Can&#39;t set text or drawable because of unresolved references in Kotlin","body":"<p>The problem is that ViewHolderItem is an inner class, which it's fields cannot be access from the outer class.\nfor creating a model class in kotlin use data class like this :</p>\n\n<pre><code>data class ViewHolderItem(val p1 : String, val p2 : Int, ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591219931,"creation_date":1591219931,"answer_id":62183059,"question_id":62181475,"body_markdown":"You have an Unresolved reference error because of this line:\r\n\r\n    val viewHolder: Any?\r\n\r\nHere `viewHolder` has type `Any?` and when you are referencing, for example, to `label` property `viewHolder.label` it shows the error because `Any` doesn&#39;t have such property.\r\n\r\nTo solve the problem use `ViewHolderItem` type for `viewHolder`:\r\n\r\n    val viewHolder: ViewHolderItem","title":"Can&#39;t set text or drawable because of unresolved references in Kotlin","body":"<p>You have an Unresolved reference error because of this line:</p>\n\n<pre><code>val viewHolder: Any?\n</code></pre>\n\n<p>Here <code>viewHolder</code> has type <code>Any?</code> and when you are referencing, for example, to <code>label</code> property <code>viewHolder.label</code> it shows the error because <code>Any</code> doesn't have such property.</p>\n\n<p>To solve the problem use <code>ViewHolderItem</code> type for <code>viewHolder</code>:</p>\n\n<pre><code>val viewHolder: ViewHolderItem\n</code></pre>\n"}],"owner":{"account_id":18586150,"reputation":13,"user_id":13675001,"display_name":"Vladislav Pechkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62183059,"answer_count":2,"score":0,"last_activity_date":1640339799,"creation_date":1591213584,"question_id":62181475,"body_markdown":"I&#39;m new to Kotlin and I try to learn it by writing simple app launcher on it using this Java guide: https://parallelcodes.com/create-android-launcher-program/\r\nSo far so good, but I&#39;m stuck with some &quot;Unresolved references&quot; errors, and I know I do something wrong, but can&#39;t figure out what exactly, as I don&#39;t understand Kotlin syntax very well.\r\nI&#39;ve tried probably everything I found in Google, as well as rewriting code here and there. Seems like newbies often face my problem and there is a lot of that kinda questions on StackOverflow.\r\n\r\nSo here are errors:\r\n```\r\nviewHolder.icon.setImageDrawable(appInfo.icon) // Unresolved reference: icon\r\nviewHolder.label.text = appInfo.label // Unresolved reference: label\r\nviewHolder.name.text = appInfo.name // Unresolved reference: name\r\n```\r\n\r\nHere is entire MainActivity class:\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    var apps: List&lt;AppInfo&gt;? = null\r\n    private var gridView: GridView? = null\r\n    private var adapter: ArrayAdapter&lt;AppInfo&gt;? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        loadApps()\r\n        loadListView()\r\n        addGridListeners()\r\n    }\r\n\r\n    private fun loadApps() {\r\n        val packageManager = packageManager\r\n        if (apps == null) {\r\n            apps = ArrayList()\r\n            val i = Intent(Intent.ACTION_MAIN, null)\r\n            i.addCategory(Intent.CATEGORY_LAUNCHER)\r\n            val availableApps: List&lt;ResolveInfo&gt; = packageManager.queryIntentActivities(i, 0)\r\n            for (ri in availableApps) {\r\n                val appinfo = AppInfo()\r\n                appinfo.label = ri.loadLabel(packageManager)\r\n                appinfo.name = ri.activityInfo.packageName\r\n                appinfo.icon = ri.activityInfo.loadIcon(packageManager)\r\n                (apps as ArrayList&lt;AppInfo&gt;).add(appinfo)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun addGridListeners() {\r\n        val packageManager = packageManager\r\n        gridView!!.onItemClickListener = OnItemClickListener { adapterView, view, i, l -&gt;\r\n            val intent: Intent? = packageManager.getLaunchIntentForPackage(apps!![i].name.toString())\r\n            this@MainActivity.startActivity(intent)\r\n        }\r\n    }\r\n\r\n    private fun loadListView() {\r\n        gridView = findViewById(R.id.gridview)\r\n        if (adapter == null) {\r\n            adapter = object : ArrayAdapter&lt;AppInfo&gt;(this, R.layout.apps_view, apps!!) {\r\n                override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\r\n                    var convertView = convertView\r\n                    val viewHolder: Any?\r\n                    if (convertView == null) {\r\n                        convertView = layoutInflater.inflate(R.layout.apps_view, parent, false)\r\n                        viewHolder = ViewHolderItem()\r\n                        viewHolder.icon = convertView.findViewById(R.id.img_icon)\r\n                        viewHolder.name = convertView.findViewById(R.id.txt_name)\r\n                        viewHolder.label = convertView.findViewById(R.id.txt_label)\r\n                        convertView.tag = viewHolder\r\n                    } else {\r\n                        viewHolder = convertView.tag\r\n                    }\r\n                    val appInfo = apps!![position]\r\n                    viewHolder.icon.setImageDrawable(appInfo.icon)\r\n                    viewHolder.label.text = appInfo.label\r\n                    viewHolder.name.text = appInfo.name\r\n                    return convertView!!\r\n                }\r\n\r\n                inner class ViewHolderItem {\r\n                    var icon: ImageView? = null\r\n                    var label: TextView? = null\r\n                    var name: TextView? = null\r\n                }\r\n            }\r\n        }\r\n        gridView!!.adapter = adapter\r\n    }\r\n}\r\n```\r\n\r\nHere is activity_main.xml in case it&#39;s needed:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;GridView android:id=&quot;@+id/gridview&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;\r\n    android:layout_weight=&quot;5&quot;\r\n    android:background=&quot;#000&quot;\r\n    android:horizontalSpacing=&quot;1dp&quot;\r\n    android:verticalSpacing=&quot;1dp&quot;\r\n    android:numColumns=&quot;4&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; /&gt;\r\n```\r\n\r\nHere is AppInfo class:\r\n```\r\nclass AppInfo {\r\n    var label: CharSequence? = null\r\n    var name: CharSequence? = null\r\n    var icon: Drawable? = null\r\n}\r\n```\r\n\r\nAnd here is apps_view.xml layout file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img_icon&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:gravity=&quot;center_horizontal&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_label&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:textColor=&quot;#361b1b&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_name&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;0sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nHope it&#39;s clear. What have I misunderstood?","title":"Can&#39;t set text or drawable because of unresolved references in Kotlin","body":"<p>I'm new to Kotlin and I try to learn it by writing simple app launcher on it using this Java guide: <a href=\"https://parallelcodes.com/create-android-launcher-program/\" rel=\"nofollow noreferrer\">https://parallelcodes.com/create-android-launcher-program/</a>\nSo far so good, but I'm stuck with some \"Unresolved references\" errors, and I know I do something wrong, but can't figure out what exactly, as I don't understand Kotlin syntax very well.\nI've tried probably everything I found in Google, as well as rewriting code here and there. Seems like newbies often face my problem and there is a lot of that kinda questions on StackOverflow.</p>\n\n<p>So here are errors:</p>\n\n<pre><code>viewHolder.icon.setImageDrawable(appInfo.icon) // Unresolved reference: icon\nviewHolder.label.text = appInfo.label // Unresolved reference: label\nviewHolder.name.text = appInfo.name // Unresolved reference: name\n</code></pre>\n\n<p>Here is entire MainActivity class:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var apps: List&lt;AppInfo&gt;? = null\n    private var gridView: GridView? = null\n    private var adapter: ArrayAdapter&lt;AppInfo&gt;? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        loadApps()\n        loadListView()\n        addGridListeners()\n    }\n\n    private fun loadApps() {\n        val packageManager = packageManager\n        if (apps == null) {\n            apps = ArrayList()\n            val i = Intent(Intent.ACTION_MAIN, null)\n            i.addCategory(Intent.CATEGORY_LAUNCHER)\n            val availableApps: List&lt;ResolveInfo&gt; = packageManager.queryIntentActivities(i, 0)\n            for (ri in availableApps) {\n                val appinfo = AppInfo()\n                appinfo.label = ri.loadLabel(packageManager)\n                appinfo.name = ri.activityInfo.packageName\n                appinfo.icon = ri.activityInfo.loadIcon(packageManager)\n                (apps as ArrayList&lt;AppInfo&gt;).add(appinfo)\n            }\n        }\n    }\n\n    private fun addGridListeners() {\n        val packageManager = packageManager\n        gridView!!.onItemClickListener = OnItemClickListener { adapterView, view, i, l -&gt;\n            val intent: Intent? = packageManager.getLaunchIntentForPackage(apps!![i].name.toString())\n            this@MainActivity.startActivity(intent)\n        }\n    }\n\n    private fun loadListView() {\n        gridView = findViewById(R.id.gridview)\n        if (adapter == null) {\n            adapter = object : ArrayAdapter&lt;AppInfo&gt;(this, R.layout.apps_view, apps!!) {\n                override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n                    var convertView = convertView\n                    val viewHolder: Any?\n                    if (convertView == null) {\n                        convertView = layoutInflater.inflate(R.layout.apps_view, parent, false)\n                        viewHolder = ViewHolderItem()\n                        viewHolder.icon = convertView.findViewById(R.id.img_icon)\n                        viewHolder.name = convertView.findViewById(R.id.txt_name)\n                        viewHolder.label = convertView.findViewById(R.id.txt_label)\n                        convertView.tag = viewHolder\n                    } else {\n                        viewHolder = convertView.tag\n                    }\n                    val appInfo = apps!![position]\n                    viewHolder.icon.setImageDrawable(appInfo.icon)\n                    viewHolder.label.text = appInfo.label\n                    viewHolder.name.text = appInfo.name\n                    return convertView!!\n                }\n\n                inner class ViewHolderItem {\n                    var icon: ImageView? = null\n                    var label: TextView? = null\n                    var name: TextView? = null\n                }\n            }\n        }\n        gridView!!.adapter = adapter\n    }\n}\n</code></pre>\n\n<p>Here is activity_main.xml in case it's needed:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;GridView android:id=\"@+id/gridview\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"5dp\"\n    android:layout_weight=\"5\"\n    android:background=\"#000\"\n    android:horizontalSpacing=\"1dp\"\n    android:verticalSpacing=\"1dp\"\n    android:numColumns=\"4\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\" /&gt;\n</code></pre>\n\n<p>Here is AppInfo class:</p>\n\n<pre><code>class AppInfo {\n    var label: CharSequence? = null\n    var name: CharSequence? = null\n    var icon: Drawable? = null\n}\n</code></pre>\n\n<p>And here is apps_view.xml layout file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#fff\"\n    android:orientation=\"vertical\"\n    android:padding=\"10dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/img_icon\"\n        android:layout_width=\"70dp\"\n        android:layout_height=\"50dp\"\n        android:gravity=\"center_horizontal\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txt_label\"\n        android:layout_width=\"70dp\"\n        android:layout_height=\"40dp\"\n        android:gravity=\"center_horizontal\"\n        android:textColor=\"#361b1b\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/txt_name\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:textColor=\"#fff\"\n        android:textSize=\"0sp\"\n        android:textStyle=\"bold\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Hope it's clear. What have I misunderstood?</p>\n"},{"tags":["java","spring","spring-mvc","scheduled-tasks","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1444043490,"creation_date":1444043490,"answer_id":32947168,"question_id":32946434,"body_markdown":"You can not. When you set the `fixedDelay` attribute to `-1` or attempt use `@Scheduled` without specifying a valid value for any of its attributes, Spring will complain that no attribute is set:\r\n\r\n&gt; Exactly one of the `&#39;cron&#39;`, `&#39;fixedDelay(String)&#39;`, or `&#39;fixedRate(String)&#39;` attributes is required\r\n\r\nYou can verify this behavior by going through the source code of [`ScheduledAnnotationBeanPostProcessor#processScheduled`][1].\r\n\r\nIt contains logic like:\r\n\r\n    boolean processScheduled = false;\r\n\r\n    // ...\r\n\r\n    if (fixedRate &gt;= 0) {\r\n\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n\t\tprocessedSchedule = true;\r\n\t\tthis.registrar.addFixedRateTask(new IntervalTask(runnable, fixedRate, initialDelay));\r\n\t}\r\n\r\n    // ...\r\n\r\n    Assert.isTrue(processedSchedule, errorMessage);\r\n\r\nTake a look at this [SO post](https://stackoverflow.com/q/18406713/1291150) for some options for conditionally disabling `@Scheduled`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.java#L267","title":"Is it possible to assign @Scheduled with a period representing &quot;never&quot; (in Spring)?","body":"<p>You can not. When you set the <code>fixedDelay</code> attribute to <code>-1</code> or attempt use <code>@Scheduled</code> without specifying a valid value for any of its attributes, Spring will complain that no attribute is set:</p>\n\n<blockquote>\n  <p>Exactly one of the <code>'cron'</code>, <code>'fixedDelay(String)'</code>, or <code>'fixedRate(String)'</code> attributes is required</p>\n</blockquote>\n\n<p>You can verify this behavior by going through the source code of <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.java#L267\" rel=\"nofollow noreferrer\"><code>ScheduledAnnotationBeanPostProcessor#processScheduled</code></a>.</p>\n\n<p>It contains logic like:</p>\n\n<pre><code>boolean processScheduled = false;\n\n// ...\n\nif (fixedRate &gt;= 0) {\n    Assert.isTrue(!processedSchedule, errorMessage);\n    processedSchedule = true;\n    this.registrar.addFixedRateTask(new IntervalTask(runnable, fixedRate, initialDelay));\n}\n\n// ...\n\nAssert.isTrue(processedSchedule, errorMessage);\n</code></pre>\n\n<p>Take a look at this <a href=\"https://stackoverflow.com/q/18406713/1291150\">SO post</a> for some options for conditionally disabling <code>@Scheduled</code>.</p>\n"},{"tags":[],"owner":{"account_id":253079,"reputation":10006,"user_id":531524,"accept_rate":75,"display_name":"Huseyin Yagli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640339710,"creation_date":1640339710,"answer_id":70471639,"question_id":32946434,"body_markdown":"As mentioned in spring docs, you can specify `&quot;-&quot;` to disable the triggering of the task:\r\n\r\n&gt; CRON_DISABLED: A special cron expression value that indicates a disabled trigger:\r\n&gt; `&quot;-&quot;`.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED","title":"Is it possible to assign @Scheduled with a period representing &quot;never&quot; (in Spring)?","body":"<p>As mentioned in spring docs, you can specify <code>&quot;-&quot;</code> to disable the triggering of the task:</p>\n<blockquote>\n<p>CRON_DISABLED: A special cron expression value that indicates a disabled trigger:\n<code>&quot;-&quot;</code>.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#CRON_DISABLED</a></p>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3992,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32947168,"answer_count":2,"score":8,"last_activity_date":1640339710,"creation_date":1444041188,"question_id":32946434,"body_markdown":"I&#39;m investigating using [@Scheduled](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html) at a fixed rate where in some *configurable* circumstances the scheduled job should never be run.\r\n\r\nThe documentation doesn&#39;t mention this but the default values for `fixedDelay()` and `fixedDelayString()` are `-1` and `&quot;&quot;` respectively. Can these be used to reliably ensure that the scheduled method doesn&#39;t fire?","title":"Is it possible to assign @Scheduled with a period representing &quot;never&quot; (in Spring)?","body":"<p>I'm investigating using <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"noreferrer\">@Scheduled</a> at a fixed rate where in some <em>configurable</em> circumstances the scheduled job should never be run.</p>\n\n<p>The documentation doesn't mention this but the default values for <code>fixedDelay()</code> and <code>fixedDelayString()</code> are <code>-1</code> and <code>\"\"</code> respectively. Can these be used to reliably ensure that the scheduled method doesn't fire?</p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing"],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640185024,"creation_date":1640184666,"answer_id":70450899,"question_id":70447172,"body_markdown":"\r\nThe first thing I would do is to make a proper benchmark using JMH and then have another look at the problem. JMH will take care of some obvious benchmark problems like warmup, running multiple times to increase reliability, and dead code elimination if done correctly. Apart from that, it will also give you access to a set of built-in profilers.\r\n\r\nI think your cutoff is way too low. Give each CPU a significant amount of linear memory to scan through (at least a few KB but probably a lot higher). This will not only reduce the overhead of FJ but also give the CPU some space to do its magic. ","title":"how to improve upon my multithreading code","body":"<p>The first thing I would do is to make a proper benchmark using JMH and then have another look at the problem. JMH will take care of some obvious benchmark problems like warmup, running multiple times to increase reliability, and dead code elimination if done correctly. Apart from that, it will also give you access to a set of built-in profilers.</p>\n<p>I think your cutoff is way too low. Give each CPU a significant amount of linear memory to scan through (at least a few KB but probably a lot higher). This will not only reduce the overhead of FJ but also give the CPU some space to do its magic.</p>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640338967,"creation_date":1640338967,"answer_id":70471547,"question_id":70447172,"body_markdown":"\r\n\r\nYou could use parallel streams:\r\n\r\n    boolean search(int x, int[] arr) {\r\n        return Arrays.stream(arr).parallel()\r\n            .filter(i -&gt; i == x)\r\n            .findAny()\r\n            .isPresent();\r\n    }\r\n\r\nThis way you don&#39;t have to deal with the low level mechanics of multithreading yourself.\r\n","title":"how to improve upon my multithreading code","body":"<p>You could use parallel streams:</p>\n<pre><code>boolean search(int x, int[] arr) {\n    return Arrays.stream(arr).parallel()\n        .filter(i -&gt; i == x)\n        .findAny()\n        .isPresent();\n}\n</code></pre>\n<p>This way you don't have to deal with the low level mechanics of multithreading yourself.</p>\n"}],"owner":{"account_id":22990059,"reputation":133,"user_id":17115688,"display_name":"tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70450899,"answer_count":2,"score":1,"last_activity_date":1640338967,"creation_date":1640166902,"question_id":70447172,"body_markdown":"normal way of searching for a number in an array:\r\n```\r\npublic class Search {\r\n    public static boolean search(int x, int [] arr) {\r\n        for (int i : arr) {\r\n            if (x == i) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\nmy way of multithreading it:\r\n```\r\nimport java.util.concurrent.RecursiveTask;\r\n\r\npublic class SearchAsync extends RecursiveTask&lt;Boolean&gt; {\r\n    private static final int CUTOFF = 8;\r\n\r\n    private final int x;\r\n    private final int[] arr;\r\n    private final int lo, hi;\r\n\r\n    private SearchAsync(int x, int[] arr) {\r\n        this(x, arr, 0, arr.length - 1);\r\n    }\r\n\r\n    private SearchAsync(int x, int[] arr, int lo, int hi) {\r\n        this.x = x;\r\n        this.arr = arr;\r\n        this.lo = lo;\r\n        this.hi = hi;\r\n    }\r\n\r\n    public static boolean search(int x, int[] arr) {\r\n        return new SearchAsync(x, arr).compute();\r\n    }\r\n\r\n    protected Boolean compute() {\r\n        if (hi - lo &lt; CUTOFF) {\r\n            return computeSync();\r\n        }\r\n        int mid = (lo + hi) &gt;&gt; 1;\r\n        SearchAsync sa1 = new SearchAsync(x, arr, lo, mid);\r\n        sa1.fork();\r\n        SearchAsync sa2 = new SearchAsync(x, arr, mid + 1, hi);\r\n        return sa2.compute() || sa1.join();\r\n    }\r\n\r\n    private boolean computeSync() {\r\n        for (int i = lo; i &lt;= hi; i++) {\r\n            if (x == arr[i]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nnow the testing classes:\r\n```\r\npublic class Test {\r\n    private static final int MAGIC_NUMBER = 69;\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int[] arr = new int[n];\r\n        int iter = Integer.parseInt(args[1]);\r\n        long start = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; iter; i++) {\r\n            Search.search(MAGIC_NUMBER, arr);\r\n        }\r\n        long end = System.currentTimeMillis();\r\n        System.out.println((end - start) / 1_000.0);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class TestAsync {\r\n    private static final int MAGIC_NUMBER = 69;\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int[] arr = new int[n];\r\n        int iter = Integer.parseInt(args[1]);\r\n        long start = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; iter; i++) {\r\n            SearchAsync.search(MAGIC_NUMBER, arr);\r\n        }\r\n        long end = System.currentTimeMillis();\r\n        System.out.println((end - start) / 1_000.0);\r\n    }\r\n}\r\n```\r\n\r\nrun these tests for a large array and lets say 10 times:\r\n```\r\ngursimarmiglani@Gursimars-MacBook-Pro multithread % java Test 1000000000 10\r\n1.924\r\n```\r\n\r\n```\r\ngursimarmiglani@Gursimars-MacBook-Pro multithread % java TestAsync 1000000000 10\r\n6.311\r\n```\r\n\r\nI guess that multithreading is recursive and forks too many processes. if u go to JDK 17&#39;s API page on RecursiveTask there&#39;s an example of computing the fibonacci function and I basically copied its format into here. how to improve upon multithreading it?","title":"how to improve upon my multithreading code","body":"<p>normal way of searching for a number in an array:</p>\n<pre><code>public class Search {\n    public static boolean search(int x, int [] arr) {\n        for (int i : arr) {\n            if (x == i) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>my way of multithreading it:</p>\n<pre><code>import java.util.concurrent.RecursiveTask;\n\npublic class SearchAsync extends RecursiveTask&lt;Boolean&gt; {\n    private static final int CUTOFF = 8;\n\n    private final int x;\n    private final int[] arr;\n    private final int lo, hi;\n\n    private SearchAsync(int x, int[] arr) {\n        this(x, arr, 0, arr.length - 1);\n    }\n\n    private SearchAsync(int x, int[] arr, int lo, int hi) {\n        this.x = x;\n        this.arr = arr;\n        this.lo = lo;\n        this.hi = hi;\n    }\n\n    public static boolean search(int x, int[] arr) {\n        return new SearchAsync(x, arr).compute();\n    }\n\n    protected Boolean compute() {\n        if (hi - lo &lt; CUTOFF) {\n            return computeSync();\n        }\n        int mid = (lo + hi) &gt;&gt; 1;\n        SearchAsync sa1 = new SearchAsync(x, arr, lo, mid);\n        sa1.fork();\n        SearchAsync sa2 = new SearchAsync(x, arr, mid + 1, hi);\n        return sa2.compute() || sa1.join();\n    }\n\n    private boolean computeSync() {\n        for (int i = lo; i &lt;= hi; i++) {\n            if (x == arr[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>now the testing classes:</p>\n<pre><code>public class Test {\n    private static final int MAGIC_NUMBER = 69;\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        int[] arr = new int[n];\n        int iter = Integer.parseInt(args[1]);\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; iter; i++) {\n            Search.search(MAGIC_NUMBER, arr);\n        }\n        long end = System.currentTimeMillis();\n        System.out.println((end - start) / 1_000.0);\n    }\n}\n</code></pre>\n<pre><code>public class TestAsync {\n    private static final int MAGIC_NUMBER = 69;\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        int[] arr = new int[n];\n        int iter = Integer.parseInt(args[1]);\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; iter; i++) {\n            SearchAsync.search(MAGIC_NUMBER, arr);\n        }\n        long end = System.currentTimeMillis();\n        System.out.println((end - start) / 1_000.0);\n    }\n}\n</code></pre>\n<p>run these tests for a large array and lets say 10 times:</p>\n<pre><code>gursimarmiglani@Gursimars-MacBook-Pro multithread % java Test 1000000000 10\n1.924\n</code></pre>\n<pre><code>gursimarmiglani@Gursimars-MacBook-Pro multithread % java TestAsync 1000000000 10\n6.311\n</code></pre>\n<p>I guess that multithreading is recursive and forks too many processes. if u go to JDK 17's API page on RecursiveTask there's an example of computing the fibonacci function and I basically copied its format into here. how to improve upon multithreading it?</p>\n"},{"tags":["java","spring","hibernate","jpa","entity"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1640285482,"post_id":70465922,"comment_id":124563266,"body_markdown":"can you share your property file, and your configuration file as well?","body":"can you share your property file, and your configuration file as well?"},{"owner":{"account_id":23731216,"reputation":71,"user_id":17750444,"display_name":"stan"},"score":0,"creation_date":1640286532,"post_id":70465922,"comment_id":124563539,"body_markdown":"this is property file\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbb\nspring.datasource.username=postgres\nspring.datasource.password=123456\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update","body":"this is property file spring.datasource.driver-class-name=org.postgresql.Driver spring.datasource.url=jdbc:postgresql://localhost:5432/dbb spring.datasource.username=postgres spring.datasource.password=123456 spring.jpa.show-sql=true spring.jpa.hibernate.ddl-auto=update"}],"owner":{"account_id":23731216,"reputation":71,"user_id":17750444,"display_name":"stan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640338884,"answer_count":0,"score":0,"last_activity_date":1640338940,"creation_date":1640283034,"question_id":70465922,"body_markdown":"i have this code \r\n\r\nUSER:\r\n\r\n    @Builder\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String username;\r\n    @Column(name = &quot;PASSWORD&quot;)\r\n    private String password;\r\n    @Column(name = &quot;FIRST_NAME&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    private String lastName;\r\n    private Role role;\r\n    @Column(name = &quot;EMAIL&quot;)\r\n    private String email;\r\n    private String country;\r\n    private Status status;\r\n    @OneToMany(mappedBy = &quot;author&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;Message&gt; messages;\r\n    @OneToMany(mappedBy = &quot;author&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;Comment&gt; comments;\r\n    @OneToOne(optional = false, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;GENDER_ID&quot;)\r\n    private Gender gender;\r\n    @OneToOne(optional = false,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ADDRESS_ID&quot;)\r\n    private Address address;\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;user_subscriptions&quot;,\r\n            joinColumns =  @JoinColumn(name = &quot;CHANNEL_ID&quot;) ,\r\n            inverseJoinColumns =  @JoinColumn(name = &quot;SUBSCRIBER_ID&quot;))\r\n    private Set&lt;User&gt; subscribers;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;user_subscriptions&quot;,\r\n            joinColumns =  @JoinColumn(name = &quot;SUBSCRIBER_ID&quot;) ,\r\n            inverseJoinColumns =  @JoinColumn(name = &quot;CHANNEL_ID&quot;))\r\n    private Set&lt;User&gt; subscriptions;\r\n    }\r\n\r\nCOMMENT:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Comment {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private String header;\r\n    private String text;\r\n    private int likeCount;\r\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;USER_ID&quot;)\r\n    private User author;\r\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;MESSAGE_ID&quot;)\r\n    private Message message;\r\n    }\r\n\r\nCountry:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Country {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    @OneToOne(optional = false, mappedBy = &quot;country&quot;)\r\n    private Address address;\r\n    @OneToMany(mappedBy = &quot;country&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;City&gt; cities;\r\n    @OneToMany(mappedBy = &quot;country&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;Region&gt; regions;\r\n    private String description;\r\n    }\r\n\r\nREGION:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Region {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    @OneToOne(optional = false, mappedBy = &quot;region&quot;)\r\n    private Address address;\r\n    @ManyToOne(optional = false,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;COUNTRY_ID&quot;)\r\n    private Country country;\r\n    }\r\n\r\nAnd i have the following problems ,how to solve this?\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.project.webstation.Models.Domain.Country.regions, com.project.webstation.Models.Domain.User.comments]","title":"Spring JPA error org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;","body":"<p>i have this code</p>\n<p>USER:</p>\n<pre><code>@Builder\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\nprivate String username;\n@Column(name = &quot;PASSWORD&quot;)\nprivate String password;\n@Column(name = &quot;FIRST_NAME&quot;)\nprivate String firstName;\n@Column(name = &quot;LAST_NAME&quot;)\nprivate String lastName;\nprivate Role role;\n@Column(name = &quot;EMAIL&quot;)\nprivate String email;\nprivate String country;\nprivate Status status;\n@OneToMany(mappedBy = &quot;author&quot;,fetch = FetchType.EAGER)\nprivate List&lt;Message&gt; messages;\n@OneToMany(mappedBy = &quot;author&quot;,fetch = FetchType.EAGER)\nprivate List&lt;Comment&gt; comments;\n@OneToOne(optional = false, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;GENDER_ID&quot;)\nprivate Gender gender;\n@OneToOne(optional = false,cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;ADDRESS_ID&quot;)\nprivate Address address;\n@ManyToMany\n@JoinTable(\n        name = &quot;user_subscriptions&quot;,\n        joinColumns =  @JoinColumn(name = &quot;CHANNEL_ID&quot;) ,\n        inverseJoinColumns =  @JoinColumn(name = &quot;SUBSCRIBER_ID&quot;))\nprivate Set&lt;User&gt; subscribers;\n\n@ManyToMany\n@JoinTable(\n        name = &quot;user_subscriptions&quot;,\n        joinColumns =  @JoinColumn(name = &quot;SUBSCRIBER_ID&quot;) ,\n        inverseJoinColumns =  @JoinColumn(name = &quot;CHANNEL_ID&quot;))\nprivate Set&lt;User&gt; subscriptions;\n}\n</code></pre>\n<p>COMMENT:</p>\n<pre><code>@Data\n@Entity\npublic class Comment {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\nprivate String header;\nprivate String text;\nprivate int likeCount;\n@ManyToOne(optional = false, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;USER_ID&quot;)\nprivate User author;\n@ManyToOne(optional = false, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;MESSAGE_ID&quot;)\nprivate Message message;\n}\n</code></pre>\n<p>Country:</p>\n<pre><code>@Data\n@Entity\npublic class Country {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n@OneToOne(optional = false, mappedBy = &quot;country&quot;)\nprivate Address address;\n@OneToMany(mappedBy = &quot;country&quot;,fetch = FetchType.EAGER)\nprivate List&lt;City&gt; cities;\n@OneToMany(mappedBy = &quot;country&quot;,fetch = FetchType.EAGER)\nprivate List&lt;Region&gt; regions;\nprivate String description;\n}\n</code></pre>\n<p>REGION:</p>\n<pre><code>@Data\n@Entity\npublic class Region {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n@OneToOne(optional = false, mappedBy = &quot;region&quot;)\nprivate Address address;\n@ManyToOne(optional = false,cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;COUNTRY_ID&quot;)\nprivate Country country;\n}\n</code></pre>\n<p>And i have the following problems ,how to solve this?</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.project.webstation.Models.Domain.Country.regions, com.project.webstation.Models.Domain.User.comments]</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640339057,"post_id":70471491,"comment_id":124572460,"body_markdown":"Also check other questions like https://stackoverflow.com/questions/26172324/how-to-check-scanner-hasnextsystem-in-with-a-timeout-if-nothing-is-typed","body":"Also check other questions like <a href=\"https://stackoverflow.com/questions/26172324/how-to-check-scanner-hasnextsystem-in-with-a-timeout-if-nothing-is-typed\" title=\"how to check scanner hasnextsystem in with a timeout if nothing is typed\">stackoverflow.com/questions/26172324/&hellip;</a>"},{"owner":{"account_id":9961217,"reputation":497,"user_id":7370494,"display_name":"Ansar Ozden"},"score":0,"creation_date":1640339087,"post_id":70471491,"comment_id":124572469,"body_markdown":"Hi. Try search `debounce throttle java`. Looks like You are trying implement debouncing algorithm.","body":"Hi. Try search <code>debounce throttle java</code>. Looks like You are trying implement debouncing algorithm."}],"owner":{"account_id":23711863,"reputation":1,"user_id":17733617,"display_name":"Chan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640339228,"answer_count":0,"score":0,"last_activity_date":1640338567,"creation_date":1640338567,"question_id":70471491,"body_markdown":"So I did a bit more research into what I wanted.\r\n\r\nI want to time an input, meaning that I want to ask for an input, however, if there is no input after a specified amount of time, a task will perform. If there is an input in that specfied amount of time, a different task will perform.\r\n\r\nI then want to loop this so every time a No input or input is specified, the code will then restart, asking for another input and it will restart for an infinite amount of time.\r\n\r\nI tried to do this by converting my timed input into a method and looping it in the main method. However, a problem I discovered is after a few tries of alternate inputs and inputting just an enter key, multiple instances of the timertask will perform, resulting in an exception. Is there an easier way to do this? or is there a way to not allow multiple timertask instances to perform?\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class timerTestasMethod {\r\n\r\n    public static String input = &quot;&quot;;\r\n    public static void main(String[] args) {\r\n        \r\n        while (true)\r\n        {\r\n            timerInput();\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    public static void timerInput() {\r\n\r\n        TimerTask task = new TimerTask() {\r\n            public void run()\r\n            {\r\n                if (input.contains(&quot;&quot;)){\r\n                    try {\r\n                        System.out.println(&quot;No Input&quot;);\r\n                        Thread.sleep(1000);\r\n                        main(null);\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;e&quot;);\r\n                    }    \r\n                }\r\n                \r\n            }\r\n        };\r\n\r\n        Timer timer = new Timer();\r\n        timer.schedule(task, 10*500);\r\n\r\n        System.out.println(&quot;You wanna hear something?&quot;);\r\n        Scanner in = new Scanner(System.in);\r\n        input = in.next();\r\n\r\n        timer.cancel();\r\n        timer.purge();\r\n\r\n        try {\r\n            System.out.println(&quot;With Input&quot;);\r\n            Thread.sleep(500);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;e&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How to loop an input that is timed?","body":"<p>So I did a bit more research into what I wanted.</p>\n<p>I want to time an input, meaning that I want to ask for an input, however, if there is no input after a specified amount of time, a task will perform. If there is an input in that specfied amount of time, a different task will perform.</p>\n<p>I then want to loop this so every time a No input or input is specified, the code will then restart, asking for another input and it will restart for an infinite amount of time.</p>\n<p>I tried to do this by converting my timed input into a method and looping it in the main method. However, a problem I discovered is after a few tries of alternate inputs and inputting just an enter key, multiple instances of the timertask will perform, resulting in an exception. Is there an easier way to do this? or is there a way to not allow multiple timertask instances to perform?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class timerTestasMethod {\n\n    public static String input = &quot;&quot;;\n    public static void main(String[] args) {\n        \n        while (true)\n        {\n            timerInput();\n        }\n\n        \n    }\n\n    public static void timerInput() {\n\n        TimerTask task = new TimerTask() {\n            public void run()\n            {\n                if (input.contains(&quot;&quot;)){\n                    try {\n                        System.out.println(&quot;No Input&quot;);\n                        Thread.sleep(1000);\n                        main(null);\n                    } catch (Exception e) {\n                        System.out.println(&quot;e&quot;);\n                    }    \n                }\n                \n            }\n        };\n\n        Timer timer = new Timer();\n        timer.schedule(task, 10*500);\n\n        System.out.println(&quot;You wanna hear something?&quot;);\n        Scanner in = new Scanner(System.in);\n        input = in.next();\n\n        timer.cancel();\n        timer.purge();\n\n        try {\n            System.out.println(&quot;With Input&quot;);\n            Thread.sleep(500);\n        } catch (Exception e) {\n            System.out.println(&quot;e&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","log4j","log4j2"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640168338,"post_id":70447248,"comment_id":124529869,"body_markdown":"First please show full pom file...furthermore you should upgrade to 2.17.0 log4j... see https://logging.apache.org/log4j/2.x/","body":"First please show full pom file...furthermore you should upgrade to 2.17.0 log4j... see <a href=\"https://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x</a>"},{"owner":{"account_id":16455309,"reputation":81,"user_id":12698389,"display_name":"Haru"},"score":0,"creation_date":1640220533,"post_id":70447248,"comment_id":124546419,"body_markdown":"Thank you for your comment. I added two sections: **Details of pom.xml** and **About log4j version** @khmarbaise","body":"Thank you for your comment. I added two sections: <b>Details of pom.xml</b> and <b>About log4j version</b> @khmarbaise"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640243151,"post_id":70447248,"comment_id":124549835,"body_markdown":"I&#39;m not sure what kind of official advice you need..read the page up to the end... Furthermore the part about multi release is for creating a jar ..do you want to create jar which is a multi release jar? If no you don&#39;t need it...","body":"I&#39;m not sure what kind of official advice you need..read the page up to the end... Furthermore the part about multi release is for creating a jar ..do you want to create jar which is a multi release jar? If no you don&#39;t need it..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640339426,"post_id":70447248,"comment_id":124572542,"body_markdown":"There are two options. Using JDK8 and build with that...that will run on JDK8+ Or you build with JDK17 and use `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;`...","body":"There are two options. Using JDK8 and build with that...that will run on JDK8+ Or you build with JDK17 and use <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code>..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640339519,"post_id":70447248,"comment_id":124572570,"body_markdown":"What looks strange is that you are using an ancient version of surefire -plugin (2.12?) ... and skip tests? Why?Don&#39;t you have any unit tests?","body":"What looks strange is that you are using an ancient version of surefire -plugin (2.12?) ... and skip tests? Why?Don&#39;t you have any unit tests?"},{"owner":{"account_id":16455309,"reputation":81,"user_id":12698389,"display_name":"Haru"},"score":0,"creation_date":1640339998,"post_id":70447248,"comment_id":124572675,"body_markdown":"I deleted **About log4j version** and **What I have tried** because they may confuse you. What I want to do is to upgrade Log4j into 2.17.0 and to build Java files which can run on JRE 8, 11 and 16. In addition, I don&#39;t need a multi release jar (after your comment, I found that **What I have tried** was at conflict with my goal). @khmarbaise","body":"I deleted <b>About log4j version</b> and <b>What I have tried</b> because they may confuse you. What I want to do is to upgrade Log4j into 2.17.0 and to build Java files which can run on JRE 8, 11 and 16. In addition, I don&#39;t need a multi release jar (after your comment, I found that <b>What I have tried</b> was at conflict with my goal). @khmarbaise"},{"owner":{"account_id":16455309,"reputation":81,"user_id":12698389,"display_name":"Haru"},"score":0,"creation_date":1640340222,"post_id":70447248,"comment_id":124572727,"body_markdown":"The above my comment is the reply for yesterday your comment. @khmarbaise","body":"The above my comment is the reply for yesterday your comment. @khmarbaise"}],"owner":{"account_id":16455309,"reputation":81,"user_id":12698389,"display_name":"Haru"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640338278,"creation_date":1640167270,"question_id":70447248,"body_markdown":"In order to solve the [security vulnerability][2], I have updated Log4j from 2.8.1 into 2.17.0 on pom.xml of Maven as below, building with Java 8.\r\n\r\n             &lt;dependency&gt;\r\n                 &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    -            &lt;version&gt;2.8.1&lt;/version&gt;\r\n    +            &lt;version&gt;2.17.0&lt;/version&gt;\r\n             &lt;/dependency&gt;\r\n    \r\n             &lt;dependency&gt;\r\n                 &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    -            &lt;version&gt;2.8.1&lt;/version&gt;\r\n    +            &lt;version&gt;2.17.0&lt;/version&gt;\r\n             &lt;/dependency&gt;\r\n\r\nWhile my Jar file worked well on JRE 8, it crashed on JRE 11 and 16 throwing the below exception. \r\n```\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n...\r\njava.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\r\n\tat org.apache.logging.log4j.LogManager.callerClass(LogManager.java:573)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:598)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:585)\r\n...\r\n```\r\nHow can I resolve the error? \r\n\r\nMy goal is\r\n-----------------\r\nBuilt with Java 8 and pom.xml, the Jar file works well on JRE 8, 11 and 16.\r\n\r\nDetails of pom.xml\r\n-----------------\r\nHere is the details of pom.xml in part. I&#39;m sorry to mask some blocks due to the confidentiality.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;xx.xx.xxxxxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xxxxx-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;x.x.x&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;xxxxxxxx&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n   &lt;/dependencies&gt;\r\n   &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                            &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n                            &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt;\r\n                            &lt;excludeArtifactIds&gt;jna-platform&lt;/excludeArtifactIds&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;finalName&gt;xxxxxxxx&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n  [2]: https://logging.apache.org/log4j/2.x/","title":"log4j.LogManager.callerClass crashed on JRE 11 and 16 except JRE 8","body":"<p>In order to solve the <a href=\"https://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">security vulnerability</a>, I have updated Log4j from 2.8.1 into 2.17.0 on pom.xml of Maven as below, building with Java 8.</p>\n<pre><code>         &lt;dependency&gt;\n             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n             &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n-            &lt;version&gt;2.8.1&lt;/version&gt;\n+            &lt;version&gt;2.17.0&lt;/version&gt;\n         &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n             &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n-            &lt;version&gt;2.8.1&lt;/version&gt;\n+            &lt;version&gt;2.17.0&lt;/version&gt;\n         &lt;/dependency&gt;\n</code></pre>\n<p>While my Jar file worked well on JRE 8, it crashed on JRE 11 and 16 throwing the below exception.</p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n...\njava.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\n    at org.apache.logging.log4j.LogManager.callerClass(LogManager.java:573)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:598)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:585)\n...\n</code></pre>\n<p>How can I resolve the error?</p>\n<h2>My goal is</h2>\n<p>Built with Java 8 and pom.xml, the Jar file works well on JRE 8, 11 and 16.</p>\n<h2>Details of pom.xml</h2>\n<p>Here is the details of pom.xml in part. I'm sorry to mask some blocks due to the confidentiality.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;xx.xx.xxxxxx&lt;/groupId&gt;\n        &lt;artifactId&gt;xxxxx-parent&lt;/artifactId&gt;\n        &lt;version&gt;x.x.x&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;xxxxxxxx&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n    ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n...\n   &lt;/dependencies&gt;\n   &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                            &lt;includeScope&gt;compile&lt;/includeScope&gt;\n                            &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt;\n                            &lt;excludeArtifactIds&gt;jna-platform&lt;/excludeArtifactIds&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;xxxxxxxx&lt;/finalName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","textview","accessibility"],"answers":[{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563315763,"creation_date":1563315342,"answer_id":57066142,"question_id":57066052,"body_markdown":"As per my knowledge, the `contentDescription` is applicable only for the views having to textual descriptions. For example, an `ImageView` might have a `contentDescription` with which the accessibility talkback feature might know what is the content of that view element when touched. \r\n\r\nI am quoting from [this link][1].\r\n\r\n&gt; The content description attribute links a text description to a\r\n&gt; control, ImageView, or other focusable objects that otherwise has no\r\n&gt; text content.\r\n\r\nHence, the talkback function should only vocalize the text that is written in your `TextView`. \r\n\r\nIn your case, you might consider having a work-around. Get an `ImageView` and set the `contentDescription` to that. The `ImageView` should have the same size as the `TextView` and should be placed over the `TextView`. Hence, when the `ImageView` is clicked, you can hear the desired `contentDescription` as specified in your program. The `ImageView` can have a transparent background or might be put `invisible`. Hope that helps!\r\n\r\n  [1]: https://www.deque.com/blog/android-imageviews-accessible-content-descriptions/","title":"TextView setContentDescription not working","body":"<p>As per my knowledge, the <code>contentDescription</code> is applicable only for the views having to textual descriptions. For example, an <code>ImageView</code> might have a <code>contentDescription</code> with which the accessibility talkback feature might know what is the content of that view element when touched. </p>\n\n<p>I am quoting from <a href=\"https://www.deque.com/blog/android-imageviews-accessible-content-descriptions/\" rel=\"nofollow noreferrer\">this link</a>.</p>\n\n<blockquote>\n  <p>The content description attribute links a text description to a\n  control, ImageView, or other focusable objects that otherwise has no\n  text content.</p>\n</blockquote>\n\n<p>Hence, the talkback function should only vocalize the text that is written in your <code>TextView</code>. </p>\n\n<p>In your case, you might consider having a work-around. Get an <code>ImageView</code> and set the <code>contentDescription</code> to that. The <code>ImageView</code> should have the same size as the <code>TextView</code> and should be placed over the <code>TextView</code>. Hence, when the <code>ImageView</code> is clicked, you can hear the desired <code>contentDescription</code> as specified in your program. The <code>ImageView</code> can have a transparent background or might be put <code>invisible</code>. Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":5324110,"reputation":335,"user_id":11841596,"display_name":"Akash Kakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564154664,"creation_date":1564154664,"answer_id":57222995,"question_id":57066052,"body_markdown":"There are chances that the text of the textView is being updated in other method/at other point after setting the contentDescription.\r\nHave you installed the latest version of Talkback?\r\nAlso, You will have to set the contentdescription everywhere you are setting this text.\r\nPlease let me know if any more help is required.\r\nIf you want, then I&#39;ll help you with code also\r\nAnd yes, the contentdescription can be applied to any view no matter what is it. so please don&#39;t use image view if not needed.","title":"TextView setContentDescription not working","body":"<p>There are chances that the text of the textView is being updated in other method/at other point after setting the contentDescription.\nHave you installed the latest version of Talkback?\nAlso, You will have to set the contentdescription everywhere you are setting this text.\nPlease let me know if any more help is required.\nIf you want, then I'll help you with code also\nAnd yes, the contentdescription can be applied to any view no matter what is it. so please don't use image view if not needed.</p>\n"},{"tags":[],"owner":{"account_id":3138672,"reputation":2245,"user_id":2654612,"accept_rate":75,"display_name":"MorZa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1591013442,"creation_date":1591013442,"answer_id":62131871,"question_id":57066052,"body_markdown":"The only that worked for me is AccessibilityDelegate (Kotlin):\r\n\r\n    val accessibilityDelegate: View.AccessibilityDelegate =\r\n                object : View.AccessibilityDelegate() {\r\n                    override fun onInitializeAccessibilityNodeInfo(v: View?, info: AccessibilityNodeInfo) {\r\n                        super.onInitializeAccessibilityNodeInfo(v, info)\r\n                        info.text = &quot;Custom Text&quot;\r\n                    }\r\n                }\r\n    myView.accessibilityDelegate = accessibilityDelegate","title":"TextView setContentDescription not working","body":"<p>The only that worked for me is AccessibilityDelegate (Kotlin):</p>\n\n<pre><code>val accessibilityDelegate: View.AccessibilityDelegate =\n            object : View.AccessibilityDelegate() {\n                override fun onInitializeAccessibilityNodeInfo(v: View?, info: AccessibilityNodeInfo) {\n                    super.onInitializeAccessibilityNodeInfo(v, info)\n                    info.text = \"Custom Text\"\n                }\n            }\nmyView.accessibilityDelegate = accessibilityDelegate\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10174578,"reputation":31,"user_id":7513725,"display_name":"fkdplc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640337179,"creation_date":1640337179,"answer_id":70471294,"question_id":57066052,"body_markdown":"thanks to MorZa for the answer. i think it is the most relevant and must be at the top. here is yet another variant i tried (it works but is more complicated):\r\n\r\n```\r\nclass AccessibilityTextView @JvmOverloads constructor(\r\n    context: Context,\r\n    attrs: AttributeSet? = null,\r\n    defStyleAttr: Int = 0\r\n) : AppCompatTextView(context, attrs, defStyleAttr) {\r\n\r\n    var customContentDescription: CharSequence = &quot;&quot;\r\n\r\n    @SuppressLint(&quot;GetContentDescriptionOverride&quot;)\r\n    override fun getContentDescription() = customContentDescription\r\n}\r\n```\r\n\r\nusage:\r\n```\r\nmyTextView.text = &quot;$5-$20&quot;\r\nmyTextView.customContentDescription = &quot;From $5 to $20&quot;\r\n```","title":"TextView setContentDescription not working","body":"<p>thanks to MorZa for the answer. i think it is the most relevant and must be at the top. here is yet another variant i tried (it works but is more complicated):</p>\n<pre><code>class AccessibilityTextView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : AppCompatTextView(context, attrs, defStyleAttr) {\n\n    var customContentDescription: CharSequence = &quot;&quot;\n\n    @SuppressLint(&quot;GetContentDescriptionOverride&quot;)\n    override fun getContentDescription() = customContentDescription\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>myTextView.text = &quot;$5-$20&quot;\nmyTextView.customContentDescription = &quot;From $5 to $20&quot;\n</code></pre>\n"}],"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62131871,"answer_count":4,"score":2,"last_activity_date":1640337179,"creation_date":1563314742,"question_id":57066052,"body_markdown":"I&#39;m trying to set the `contentDescription` on a `TextView` but it doesn&#39;t seem to be announced by TalkBack. TalkBack is only vocalizing the text content.\r\n\r\n\r\n    textView.setText(&quot;2d 9h left&quot;);\r\n    textView.setContentDescription(&quot;2days 9hours left&quot;);\r\n\r\nThe second line above has no effect. TalkBack says, &quot;2d 9h left&quot;.\r\n\r\nI&#39;ve also tried the following:\r\n\r\n    \tViewCompat.setAccessibilityDelegate(textView, new AccessibilityDelegateCompat()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void onPopulateAccessibilityEvent(View host, AccessibilityEvent event)\r\n\t\t\t{\r\n\t\t\t\tsuper.onPopulateAccessibilityEvent(host, event);\r\n\t\t\t\tevent.getText().add(host.getContentDescription());\r\n\t\t\t}\r\n\t\t});\r\n\r\nbut this results in TalkBack announcing &quot;2days 9hours left 2d 9h left&quot;, which is also incorrect.","title":"TextView setContentDescription not working","body":"<p>I'm trying to set the <code>contentDescription</code> on a <code>TextView</code> but it doesn't seem to be announced by TalkBack. TalkBack is only vocalizing the text content.</p>\n\n<pre><code>textView.setText(\"2d 9h left\");\ntextView.setContentDescription(\"2days 9hours left\");\n</code></pre>\n\n<p>The second line above has no effect. TalkBack says, \"2d 9h left\".</p>\n\n<p>I've also tried the following:</p>\n\n<pre><code>    ViewCompat.setAccessibilityDelegate(textView, new AccessibilityDelegateCompat()\n    {\n        @Override\n        public void onPopulateAccessibilityEvent(View host, AccessibilityEvent event)\n        {\n            super.onPopulateAccessibilityEvent(host, event);\n            event.getText().add(host.getContentDescription());\n        }\n    });\n</code></pre>\n\n<p>but this results in TalkBack announcing \"2days 9hours left 2d 9h left\", which is also incorrect.</p>\n"},{"tags":["java","spring","csv","javabeans","opencsv"],"owner":{"account_id":18094403,"reputation":31,"user_id":13153052,"display_name":"SatyaKinkar Gorai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1640337021,"creation_date":1585579684,"question_id":60933155,"body_markdown":"I am trying to map a bean to a CSV file with selected columns (not all columns) but the problem that my bean has other nested beans as attributes.\r\n```\r\nClass Student {\r\n\r\n@CsvBindByName\r\nprivate String s_id;\r\n\r\n@CsvBindByName\r\nprivate String name;\r\n\r\n@CsvRecurse\r\nprivate List&lt;Book&gt; books;\r\n}\r\n\r\nClass Book {\r\n\r\n@CsvBindByName\r\nprivate String bookName;\r\nprivate String bookAuthor;\r\n}\r\n```\r\nI want to map this object to csv file with below format\r\n```\r\ns_id;name;bookName\r\n```\r\nI have tried with below code but not getting bookName in csv\r\n```\r\nColumnPositionMappingStrategy&lt;Student&gt; mapStrategy\r\n                    = new ColumnPositionMappingStrategy&lt;&gt;();\r\n\r\n            mapStrategy.setType(Student.class);\r\n\r\n            String[] columns = new String[]{&quot;s_id&quot;, &quot;name&quot;, &quot;bookName&quot;};\r\n            mapStrategy.setColumnMapping(columns);\r\n\r\n            StatefulBeanToCsv&lt;Student&gt; btcsv = new StatefulBeanToCsvBuilder&lt;Student&gt;(writer)\r\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n                    .withMappingStrategy(mapStrategy)\r\n                    .withSeparator(&#39;;&#39;)\r\n                    .build();\r\n\r\n            btcsv.write(students);\r\n```\r\nCould anyone please help me.\r\n","title":"OpenCSV convert Object with Nested bean to csv","body":"<p>I am trying to map a bean to a CSV file with selected columns (not all columns) but the problem that my bean has other nested beans as attributes.</p>\n\n<pre><code>Class Student {\n\n@CsvBindByName\nprivate String s_id;\n\n@CsvBindByName\nprivate String name;\n\n@CsvRecurse\nprivate List&lt;Book&gt; books;\n}\n\nClass Book {\n\n@CsvBindByName\nprivate String bookName;\nprivate String bookAuthor;\n}\n</code></pre>\n\n<p>I want to map this object to csv file with below format</p>\n\n<pre><code>s_id;name;bookName\n</code></pre>\n\n<p>I have tried with below code but not getting bookName in csv</p>\n\n<pre><code>ColumnPositionMappingStrategy&lt;Student&gt; mapStrategy\n                    = new ColumnPositionMappingStrategy&lt;&gt;();\n\n            mapStrategy.setType(Student.class);\n\n            String[] columns = new String[]{\"s_id\", \"name\", \"bookName\"};\n            mapStrategy.setColumnMapping(columns);\n\n            StatefulBeanToCsv&lt;Student&gt; btcsv = new StatefulBeanToCsvBuilder&lt;Student&gt;(writer)\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n                    .withMappingStrategy(mapStrategy)\n                    .withSeparator(';')\n                    .build();\n\n            btcsv.write(students);\n</code></pre>\n\n<p>Could anyone please help me.</p>\n"},{"tags":["java","state","apache-flink"],"comments":[{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":1,"creation_date":1640333657,"post_id":70470494,"comment_id":124571305,"body_markdown":"I believe this is a duplicate of https://stackoverflow.com/questions/70435613/flink-change-max-parallelism-to-existing-job/70436859","body":"I believe this is a duplicate of <a href=\"https://stackoverflow.com/questions/70435613/flink-change-max-parallelism-to-existing-job/70436859\" title=\"flink change max parallelism to existing job\">stackoverflow.com/questions/70435613/&hellip;</a>"},{"owner":{"account_id":13773487,"reputation":608,"user_id":10707187,"display_name":"midugh"},"score":0,"creation_date":1641135385,"post_id":70470494,"comment_id":124725149,"body_markdown":"could you be more precise about what you tried and show some of your code","body":"could you be more precise about what you tried and show some of your code"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641135391,"post_id":70470494,"comment_id":124725152,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640336985,"creation_date":1640336985,"answer_id":70471262,"question_id":70470494,"body_markdown":"The maximum parallelism is a property of the new savepoint you are creating via `Savepoint.create(StateBackend stateBackend, int maxParallelism)`. Individual operators don&#39;t have their own maximum parallelism.\r\n\r\nIf your sink is stateful then it will have a state descriptor somewhere and you can migrate its state. If it&#39;s not stateful, there&#39;s nothing to worry about.","title":"How to change the maximum parallelism of an operator in Flink State","body":"<p>The maximum parallelism is a property of the new savepoint you are creating via <code>Savepoint.create(StateBackend stateBackend, int maxParallelism)</code>. Individual operators don't have their own maximum parallelism.</p>\n<p>If your sink is stateful then it will have a state descriptor somewhere and you can migrate its state. If it's not stateful, there's nothing to worry about.</p>\n"}],"owner":{"account_id":22832598,"reputation":1,"user_id":16980817,"display_name":"xiaoshijiang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640336985,"creation_date":1640330774,"question_id":70470494,"body_markdown":"I want to change the maximum parallelism of Flink Job, the current maximum parallelism in state is 128, I want to change it to 256, I changed the maximum parallelism in key state through state API, but the maximum parallelism of my sink operator is still 128, because there is no state descriptor defined, I can&#39;t get the state data from the name of the state descriptor, so I can&#39;t change it.How can I change it","title":"How to change the maximum parallelism of an operator in Flink State","body":"<p>I want to change the maximum parallelism of Flink Job, the current maximum parallelism in state is 128, I want to change it to 256, I changed the maximum parallelism in key state through state API, but the maximum parallelism of my sink operator is still 128, because there is no state descriptor defined, I can't get the state data from the name of the state descriptor, so I can't change it.How can I change it</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"score":0,"creation_date":1639078670,"post_id":70295505,"comment_id":124263507,"body_markdown":"you can share this array with another thread so that one thread can fill the values and another can check the array at the same time. When second thread finds that there&#39;s no any default values (or 0s) then it can notify to the first thread (or the main thread)","body":"you can share this array with another thread so that one thread can fill the values and another can check the array at the same time. When second thread finds that there&#39;s no any default values (or 0s) then it can notify to the first thread (or the main thread)"},{"owner":{"account_id":20063406,"reputation":29,"user_id":14709641,"display_name":"EgZoShift"},"score":0,"creation_date":1639078819,"post_id":70295505,"comment_id":124263556,"body_markdown":"Haven&#39;t worked with threads yet but still thanks for that solution.","body":"Haven&#39;t worked with threads yet but still thanks for that solution."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640058087,"post_id":70295505,"comment_id":124499620,"body_markdown":"@VipulVerma that sounds needlessly complex.","body":"@VipulVerma that sounds needlessly complex."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639080554,"creation_date":1639079156,"answer_id":70295852,"question_id":70295505,"body_markdown":"In **Java** by default an array of `int`s is filled with zeros. You can use this to check if the array is fully filled. For example you can create a method which checks for 0 and returns true if there are no 0:\r\n\r\n    public static bool isArrayFilled(int[] array) {\r\n        for(int i = array.length; i &gt;= 0; i--){\r\n            if(array[i] == 0) {\r\n                return false;\r\n            }\r\n         }\r\n         return true;\r\n    }\r\n\r\nIf array is big enough and filled out of order, you can use [advanced algorithms][1] to find at least one 0 value in the array.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/searching-algorithms/","title":"check if array is alrdeady FULLY filled with any non-default value","body":"<p>In <strong>Java</strong> by default an array of <code>int</code>s is filled with zeros. You can use this to check if the array is fully filled. For example you can create a method which checks for 0 and returns true if there are no 0:</p>\n<pre><code>public static bool isArrayFilled(int[] array) {\n    for(int i = array.length; i &gt;= 0; i--){\n        if(array[i] == 0) {\n            return false;\n        }\n     }\n     return true;\n}\n</code></pre>\n<p>If array is big enough and filled out of order, you can use <a href=\"https://www.geeksforgeeks.org/searching-algorithms/\" rel=\"nofollow noreferrer\">advanced algorithms</a> to find at least one 0 value in the array.</p>\n"},{"tags":[],"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639080069,"creation_date":1639080069,"answer_id":70296004,"question_id":70295505,"body_markdown":"Per my previous comment, you can share this array with another thread so that one thread can fill the values and another can check the array at the same time. When the second thread finds that there are no default values (or 0s) then it can notify the first thread (or the main thread). Here is how you can do that \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class CheckArray {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tvar arr = new int[50];\r\n    \r\n    \t\tThread arrayChecker = new Thread(() -&gt; {\r\n    \t\t\tvar isZeroPresent = false;\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tfor (int index = 0; index &lt; arr.length; index++) {\r\n    \t\t\t\t\tisZeroPresent = false;\r\n    \t\t\t\t\tif (arr[index] == 0) {\r\n    \t\t\t\t\t\tisZeroPresent = true;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif (isZeroPresent == false) {\r\n    \r\n    \t\t\t\t\t// if the for loop completed then control will come here\r\n    \t\t\t\t\tSystem.out.println(&quot;Array has been filled&quot;);\r\n    \t\t\t\t\tSystem.out.println(Arrays.toString(arr));\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tarrayChecker.start();\r\n    \t\t\r\n    \t\t// fill random values in the array\r\n    \t\t// while another thread has been started\r\n    \t\tRandom random = new Random(); \r\n    \t\twhile(true) {\r\n    \t\t\tThread.sleep(500);\r\n    \t\t\t\r\n    \t\t\tint index = random.nextInt(arr.length);\r\n    \t\t\tarr[index] = random.nextInt(100);\r\n    \t\t\tSystem.out.println(Arrays.toString(arr));\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n  \r\n\r\n    }","title":"check if array is alrdeady FULLY filled with any non-default value","body":"<p>Per my previous comment, you can share this array with another thread so that one thread can fill the values and another can check the array at the same time. When the second thread finds that there are no default values (or 0s) then it can notify the first thread (or the main thread). Here is how you can do that</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class CheckArray {\n\n    public static void main(String[] args) throws InterruptedException {\n        var arr = new int[50];\n\n        Thread arrayChecker = new Thread(() -&gt; {\n            var isZeroPresent = false;\n            while (true) {\n                for (int index = 0; index &lt; arr.length; index++) {\n                    isZeroPresent = false;\n                    if (arr[index] == 0) {\n                        isZeroPresent = true;\n                        break;\n                    }\n                }\n                if (isZeroPresent == false) {\n\n                    // if the for loop completed then control will come here\n                    System.out.println(&quot;Array has been filled&quot;);\n                    System.out.println(Arrays.toString(arr));\n                    System.exit(0);\n                }\n            }\n        });\n        arrayChecker.start();\n        \n        // fill random values in the array\n        // while another thread has been started\n        Random random = new Random(); \n        while(true) {\n            Thread.sleep(500);\n            \n            int index = random.nextInt(arr.length);\n            arr[index] = random.nextInt(100);\n            System.out.println(Arrays.toString(arr));\n        }\n        \n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640057715,"creation_date":1640057715,"answer_id":70430380,"question_id":70295505,"body_markdown":"I would simply maintain a variable size that keep tracks of how many values have been written to the array.\r\n\r\nExample:\r\n\r\n```\r\n        int size = 0;\r\n        int[] array = new int[100];\r\n        Random r = new Random();\r\n        while(size &lt; array.length){\r\n            int index = r.nextInt(100);\r\n            int val = r.nextInt(1000)+500;\r\n            if (array[index] == 0){\r\n              array[index] = val;\r\n              size++;\r\n            }\r\n        }\r\n        \r\n        System.out.println(Arrays.toString(array));\r\n```","title":"check if array is alrdeady FULLY filled with any non-default value","body":"<p>I would simply maintain a variable size that keep tracks of how many values have been written to the array.</p>\n<p>Example:</p>\n<pre><code>        int size = 0;\n        int[] array = new int[100];\n        Random r = new Random();\n        while(size &lt; array.length){\n            int index = r.nextInt(100);\n            int val = r.nextInt(1000)+500;\n            if (array[index] == 0){\n              array[index] = val;\n              size++;\n            }\n        }\n        \n        System.out.println(Arrays.toString(array));\n</code></pre>\n"}],"owner":{"account_id":20063406,"reputation":29,"user_id":14709641,"display_name":"EgZoShift"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640336654,"creation_date":1639077391,"question_id":70295505,"body_markdown":"I am not sure if it&#39;s rly possible to check but I have an issue rn where I have an array\r\n\r\nlet&#39;s say: `int[] unmarkedSum = new int[100];`\r\n\r\n\r\nNow I put something in this array when a certain condition is true so not in every single iteration. But I know for a fact that at some point the whole array will be filled with any positive values that are not 0 because of how my algorithm works.\r\n\r\nMy question here is: Is there a way of checking WHEN it&#39;s fully filled?\r\n\r\n\r\nLike I started like this: \r\n\r\n    for(int i = 0; i &lt; unmarkedSum.length; i++) {\r\n        if(unmarkedSum[i] == 0 {\r\n            break; \r\n        }\r\n        else {\r\n            // idk tbh \r\n        }\r\n    }","title":"check if array is alrdeady FULLY filled with any non-default value","body":"<p>I am not sure if it's rly possible to check but I have an issue rn where I have an array</p>\n<p>let's say: <code>int[] unmarkedSum = new int[100];</code></p>\n<p>Now I put something in this array when a certain condition is true so not in every single iteration. But I know for a fact that at some point the whole array will be filled with any positive values that are not 0 because of how my algorithm works.</p>\n<p>My question here is: Is there a way of checking WHEN it's fully filled?</p>\n<p>Like I started like this:</p>\n<pre><code>for(int i = 0; i &lt; unmarkedSum.length; i++) {\n    if(unmarkedSum[i] == 0 {\n        break; \n    }\n    else {\n        // idk tbh \n    }\n}\n</code></pre>\n"},{"tags":["java","list","loops","completable-future"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1639154827,"post_id":70307796,"comment_id":124284098,"body_markdown":"You are running it asynchronously with `supplyAsync()`, but the method will never use more than one core because it&#39;s written to perform badly and not parallelize.","body":"You are running it asynchronously with <code>supplyAsync()</code>, but the method will never use more than one core because it&#39;s written to perform badly and not parallelize."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1639155429,"post_id":70307796,"comment_id":124284363,"body_markdown":"You can try to divide your loop into a couple of loops and run them in parallel.","body":"You can try to divide your loop into a couple of loops and run them in parallel."},{"owner":{"account_id":22021256,"reputation":63,"user_id":16290051,"display_name":"d0750926"},"score":0,"creation_date":1639156449,"post_id":70307796,"comment_id":124284774,"body_markdown":"@Sergey Can you give me an example?","body":"@Sergey Can you give me an example?"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1639169869,"post_id":70307796,"comment_id":124289044,"body_markdown":"@d0750926 please see my answer.","body":"@d0750926 please see my answer."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639169834,"creation_date":1639169834,"answer_id":70310301,"question_id":70307796,"body_markdown":"You can divide your loop of users creation into smaller loops, and run them in parallel. Consider this example, which runs 4 times faster :\r\n\r\n    public static void main(String[] args) {\r\n        // create a pool executor of 4 threads, increase or decrease it if need\r\n        Executor executor = Executors.newFixedThreadPool(4); \r\n    \r\n        CompletableFuture&lt;List&lt;User&gt;&gt; future1 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; future2 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; future3 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\r\n        CompletableFuture&lt;List&lt;User&gt;&gt; future4 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\r\n    \r\n        List&lt;User&gt; allUsers = Stream.of(future1, future2, future3, future4)\r\n                        .map(CompletableFuture::join)\r\n                        .flatMap(List::stream)\r\n                        .collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    public static List&lt;User&gt; getUsers(int count) {\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            users.add(new User(&quot;someName&quot;, &quot;someAge&quot;));\r\n            try {\r\n                TimeUnit.MILLISECONDS.sleep(3000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return users;\r\n    }","title":"How to call a method and run it asynchronously?","body":"<p>You can divide your loop of users creation into smaller loops, and run them in parallel. Consider this example, which runs 4 times faster :</p>\n<pre><code>public static void main(String[] args) {\n    // create a pool executor of 4 threads, increase or decrease it if need\n    Executor executor = Executors.newFixedThreadPool(4); \n\n    CompletableFuture&lt;List&lt;User&gt;&gt; future1 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\n    CompletableFuture&lt;List&lt;User&gt;&gt; future2 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\n    CompletableFuture&lt;List&lt;User&gt;&gt; future3 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\n    CompletableFuture&lt;List&lt;User&gt;&gt; future4 = CompletableFuture.supplyAsync(() -&gt; getUsers(25), executor);\n\n    List&lt;User&gt; allUsers = Stream.of(future1, future2, future3, future4)\n                    .map(CompletableFuture::join)\n                    .flatMap(List::stream)\n                    .collect(Collectors.toList());\n}\n\n\npublic static List&lt;User&gt; getUsers(int count) {\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; count; i++) {\n        users.add(new User(&quot;someName&quot;, &quot;someAge&quot;));\n        try {\n            TimeUnit.MILLISECONDS.sleep(3000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    return users;\n}\n</code></pre>\n"}],"owner":{"account_id":22021256,"reputation":63,"user_id":16290051,"display_name":"d0750926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70310301,"answer_count":1,"score":1,"last_activity_date":1640336557,"creation_date":1639154582,"question_id":70307796,"body_markdown":"Is there a way to run `getUsers()` asynchronously only from `main()` in *Java 8*?\r\n\r\nRunning `getUsers()` on the main thread would take 300 seconds. I wish to make it in less than 180 seconds with 4 cores.\r\n\r\n```Java\r\npublic class Main {\r\n\r\n  // Getting users (with sleep)\r\n  public List&lt;User&gt; getUsers() {\r\n\r\n    \r\n    List&lt;User&gt; users = new ArrayList();\r\n    for(int i = 0; i &lt; 100; i++) {\r\n      users.add(new User(&quot;someName&quot;, &quot;someAge&quot;));\r\n      TimeUnit.MILLISECONDS.sleep(3000);\r\n    }\r\n    return users;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    \r\n    List&lt;User&gt; users = getUsers();\r\n  }  \r\n}\r\n```\r\n\r\nWithout modifying `getUsers()` (the objective), running the following is still taking 300 seconds:\r\n\r\n```Java\r\n  public static void main(String[] args) {\r\n    \r\n    List&lt;User&gt; users =\r\n    CompletableFuture.supplyAsync(() -&gt; getUsers()).join();\r\n  }  \r\n```","title":"How to call a method and run it asynchronously?","body":"<p>Is there a way to run <code>getUsers()</code> asynchronously only from <code>main()</code> in <em>Java 8</em>?</p>\n<p>Running <code>getUsers()</code> on the main thread would take 300 seconds. I wish to make it in less than 180 seconds with 4 cores.</p>\n<pre><code>public class Main {\n\n  // Getting users (with sleep)\n  public List&lt;User&gt; getUsers() {\n\n    \n    List&lt;User&gt; users = new ArrayList();\n    for(int i = 0; i &lt; 100; i++) {\n      users.add(new User(&quot;someName&quot;, &quot;someAge&quot;));\n      TimeUnit.MILLISECONDS.sleep(3000);\n    }\n    return users;\n  }\n\n  public static void main(String[] args) {\n    \n    List&lt;User&gt; users = getUsers();\n  }  \n}\n</code></pre>\n<p>Without modifying <code>getUsers()</code> (the objective), running the following is still taking 300 seconds:</p>\n<pre><code>  public static void main(String[] args) {\n    \n    List&lt;User&gt; users =\n    CompletableFuture.supplyAsync(() -&gt; getUsers()).join();\n  }  \n</code></pre>\n"},{"tags":["java","image","awt","image-scaling"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1640185209,"post_id":70449228,"comment_id":124536252,"body_markdown":"Try creating  your image using a `BufferedImage`. If you still have problems post an [mre] to demonstrate the problem.","body":"Try creating  your image using a <code>BufferedImage</code>. If you still have problems post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1640336804,"post_id":70449228,"comment_id":124571922,"body_markdown":"Another alternative is to do all your image processing on the original `BufferedImage` and save the scaling to an `Image` for the last step.","body":"Another alternative is to do all your image processing on the original <code>BufferedImage</code> and save the scaling to an <code>Image</code> for the last step."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640336441,"creation_date":1640336441,"answer_id":70471194,"question_id":70449228,"body_markdown":"There&#39;s no standard method for converting an `Image` to a `BufferedImage`.\r\n\r\nThis method will do the conversion.  Feel free to choose a different `BufferedImage` type than `TYPE_INT_RGB`.\r\n\r\n\tpublic BufferedImage toBufferedImage(Image image) {\r\n\t\tif (image instanceof BufferedImage) {\r\n\t\t\treturn (BufferedImage) image;\r\n\t\t}\r\n\r\n\t\tBufferedImage bi = new BufferedImage(image.getWidth(null), image.getHeight(null),\r\n\t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n\t\tGraphics g = bi.getGraphics();\r\n\t\tg.drawImage(image, 0, 0, null);\r\n\t\tg.dispose();\r\n\t\t\r\n\t\treturn bi;\r\n\t}","title":"Resizing Image object","body":"<p>There's no standard method for converting an <code>Image</code> to a <code>BufferedImage</code>.</p>\n<p>This method will do the conversion.  Feel free to choose a different <code>BufferedImage</code> type than <code>TYPE_INT_RGB</code>.</p>\n<pre><code>public BufferedImage toBufferedImage(Image image) {\n    if (image instanceof BufferedImage) {\n        return (BufferedImage) image;\n    }\n\n    BufferedImage bi = new BufferedImage(image.getWidth(null), image.getHeight(null),\n            BufferedImage.TYPE_INT_RGB);\n    Graphics g = bi.getGraphics();\n    g.drawImage(image, 0, 0, null);\n    g.dispose();\n    \n    return bi;\n}\n</code></pre>\n"}],"owner":{"account_id":21446045,"reputation":59,"user_id":15799592,"display_name":"Pawlinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640336441,"creation_date":1640176932,"question_id":70449228,"body_markdown":"I create Image and Graphics2D objects:\r\n\r\n    \t\timage = createImage(width, height);\r\n\t\t    buffer = (Graphics2D) image.getGraphics();\r\n\r\nThen why this code is not working:\r\n\r\n    image =image.getScaledInstance(width, height, Image.SCALE_SMOOTH);\r\n\tbuffer = (Graphics2D)  image.getGraphics();\r\n\r\nIt throws: \r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: getGraphics() not valid for images created with createImage(producer)\r\n\tat java.desktop/sun.awt.image.ToolkitImage.getGraphics(ToolkitImage.java:310)\r\n\r\nI&#39;m not sure if I understand it, but it seems like Image object created with `createImage()`  method and Image object created with  `getScaledInstance()` are not equal. Is there any option to use `getScaledInstance()` to only resize `image` without changing other values inside object so I can call `getGraphics()` then?","title":"Resizing Image object","body":"<p>I create Image and Graphics2D objects:</p>\n<pre><code>        image = createImage(width, height);\n        buffer = (Graphics2D) image.getGraphics();\n</code></pre>\n<p>Then why this code is not working:</p>\n<pre><code>image =image.getScaledInstance(width, height, Image.SCALE_SMOOTH);\nbuffer = (Graphics2D)  image.getGraphics();\n</code></pre>\n<p>It throws:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: getGraphics() not valid for images created with createImage(producer)\nat java.desktop/sun.awt.image.ToolkitImage.getGraphics(ToolkitImage.java:310)</p>\n</blockquote>\n<p>I'm not sure if I understand it, but it seems like Image object created with <code>createImage()</code>  method and Image object created with  <code>getScaledInstance()</code> are not equal. Is there any option to use <code>getScaledInstance()</code> to only resize <code>image</code> without changing other values inside object so I can call <code>getGraphics()</code> then?</p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":0,"creation_date":1640335936,"post_id":70470394,"comment_id":124571744,"body_markdown":"Still, what&#39;s strange is that I couldn&#39;t find any async call inside `scheduleWithFixedDelay` or `scheduleAtFixedRate` in `ScheduledThreadPoolExecutor` which might causing this to happen. If this is not the case then there must be some overhead in executing the task before returning the API call.","body":"Still, what&#39;s strange is that I couldn&#39;t find any async call inside <code>scheduleWithFixedDelay</code> or <code>scheduleAtFixedRate</code> in <code>ScheduledThreadPoolExecutor</code> which might causing this to happen. If this is not the case then there must be some overhead in executing the task before returning the API call."},{"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"score":1,"creation_date":1640337233,"post_id":70470394,"comment_id":124572013,"body_markdown":"I think the answer by [zysaaa](https://stackoverflow.com/a/70471134/9276996) resembles closer to this scenario","body":"I think the answer by <a href=\"https://stackoverflow.com/a/70471134/9276996\">zysaaa</a> resembles closer to this scenario"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640331690,"creation_date":1640331690,"answer_id":70470616,"question_id":70470394,"body_markdown":"You shutdown the executor too early. That&#39;s why other thread is not started yet. There is no guarantee that thread will start first then shutdown method. \r\n\r\nIf you use awaitTermination you will see the output. \r\n\r\n    scheduledExecutorService.awaitTermination(1, TimeUnit.MILLISECONDS);\r\n\r\n//Output: I am a runnable\r\n","title":"ScheduledExecutorService not executing task with an initialDelay 0","body":"<p>You shutdown the executor too early. That's why other thread is not started yet. There is no guarantee that thread will start first then shutdown method.</p>\n<p>If you use awaitTermination you will see the output.</p>\n<pre><code>scheduledExecutorService.awaitTermination(1, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>//Output: I am a runnable</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1640332747,"creation_date":1640331701,"answer_id":70470617,"question_id":70470394,"body_markdown":"Your call to [`ExecutorService#shutdown`][1] stops any further scheduling of tasks. Apparently your call happens so quickly that the scheduler never got to execute the first run of the scheduled task. This makes sense.\r\n\r\nWhat does not quite make sense is why a call to `schedule` happens to get scheduled fast enough to get its task executed in time before the shutdown, but calls to `scheduleWithFixedDelay` or `scheduleAtFixedRate` with a delay of zero do not get scheduled as quickly. Apparently there is some overhead in the `scheduleWithFixedDelay` and `scheduleAtFixedRate` calls, enough overhead that the program exits before they get a chance to make their first executions. \r\n\r\nAnyways, you can see the behavior in my version of your code [running live at IdeOne.com][2]. Adding this line:\r\n\r\n    Thread.sleep( 1_000 * 5 ) ;\r\n\r\n… before your shutdown gives enough time for some of the `scheduleWithFixedDelay` and `scheduleAtFixedRate` tasks to execute.\r\n\r\nOr see the same effect by adding a call to `awaitTermination` as shown in [correct Answer by Nguyen][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\r\n  [2]: https://ideone.com/CCz1iH\r\n  [3]: https://stackoverflow.com/a/70470616/642706","title":"ScheduledExecutorService not executing task with an initialDelay 0","body":"<p>Your call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorService#shutdown</code></a> stops any further scheduling of tasks. Apparently your call happens so quickly that the scheduler never got to execute the first run of the scheduled task. This makes sense.</p>\n<p>What does not quite make sense is why a call to <code>schedule</code> happens to get scheduled fast enough to get its task executed in time before the shutdown, but calls to <code>scheduleWithFixedDelay</code> or <code>scheduleAtFixedRate</code> with a delay of zero do not get scheduled as quickly. Apparently there is some overhead in the <code>scheduleWithFixedDelay</code> and <code>scheduleAtFixedRate</code> calls, enough overhead that the program exits before they get a chance to make their first executions.</p>\n<p>Anyways, you can see the behavior in my version of your code <a href=\"https://ideone.com/CCz1iH\" rel=\"nofollow noreferrer\">running live at IdeOne.com</a>. Adding this line:</p>\n<pre><code>Thread.sleep( 1_000 * 5 ) ;\n</code></pre>\n<p>… before your shutdown gives enough time for some of the <code>scheduleWithFixedDelay</code> and <code>scheduleAtFixedRate</code> tasks to execute.</p>\n<p>Or see the same effect by adding a call to <code>awaitTermination</code> as shown in <a href=\"https://stackoverflow.com/a/70470616/642706\">correct Answer by Nguyen</a>.</p>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640333352,"creation_date":1640333352,"answer_id":70470814,"question_id":70470394,"body_markdown":"The reason behind can be found in `ScheduledThreadPoolExecutor`, which is the implementation class of `Executors.newSingleThreadScheduledExecutor()`\r\n\r\n## 1. Task is executed when calling `schedule`,\r\nit is due to [executeExistingDelayedTasksAfterShutdown is true by default][1] \r\n```java\r\n    /**\r\n     * False if should cancel non-periodic not-yet-expired tasks on shutdown.\r\n     */\r\n    private volatile boolean executeExistingDelayedTasksAfterShutdown = true;\r\n```\r\n## 2. Task is not executed for `scheduleWithFixedDelay` or `scheduleAtFixedRate`\r\nit is due to [continueExistingPeriodicTasksAfterShutdown is false by default][2]\r\n```java\r\n    /**\r\n     * False if should cancel/suppress periodic tasks on shutdown.\r\n     */\r\n    private volatile boolean continueExistingPeriodicTasksAfterShutdown;\r\n```\r\n\r\nWe can override these parameters by [`ScheduledThreadPoolExecutor#setExecuteExistingDelayedTasksAfterShutdownPolicy`][3] and [`ScheduledThreadPoolExecutor#setContinueExistingPeriodicTasksAfterShutdownPolicy`][4] before scheduling the tasks.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/jdk-18+29/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L172\r\n  [2]: https://github.com/openjdk/jdk/blob/jdk-18+29/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L167\r\n  [3]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#setExecuteExistingDelayedTasksAfterShutdownPolicy(boolean)\r\n  [4]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#setContinueExistingPeriodicTasksAfterShutdownPolicy(boolean)","title":"ScheduledExecutorService not executing task with an initialDelay 0","body":"<p>The reason behind can be found in <code>ScheduledThreadPoolExecutor</code>, which is the implementation class of <code>Executors.newSingleThreadScheduledExecutor()</code></p>\n<h2>1. Task is executed when calling <code>schedule</code>,</h2>\n<p>it is due to <a href=\"https://github.com/openjdk/jdk/blob/jdk-18+29/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L172\" rel=\"nofollow noreferrer\">executeExistingDelayedTasksAfterShutdown is true by default</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * False if should cancel non-periodic not-yet-expired tasks on shutdown.\n     */\n    private volatile boolean executeExistingDelayedTasksAfterShutdown = true;\n</code></pre>\n<h2>2. Task is not executed for <code>scheduleWithFixedDelay</code> or <code>scheduleAtFixedRate</code></h2>\n<p>it is due to <a href=\"https://github.com/openjdk/jdk/blob/jdk-18+29/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L167\" rel=\"nofollow noreferrer\">continueExistingPeriodicTasksAfterShutdown is false by default</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * False if should cancel/suppress periodic tasks on shutdown.\n     */\n    private volatile boolean continueExistingPeriodicTasksAfterShutdown;\n</code></pre>\n<p>We can override these parameters by <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#setExecuteExistingDelayedTasksAfterShutdownPolicy(boolean)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#setExecuteExistingDelayedTasksAfterShutdownPolicy</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#setContinueExistingPeriodicTasksAfterShutdownPolicy(boolean)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#setContinueExistingPeriodicTasksAfterShutdownPolicy</code></a> before scheduling the tasks.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640336003,"creation_date":1640336003,"answer_id":70471134,"question_id":70470394,"body_markdown":"Why ```shutdown``` is called immediately, ```schedule``` can perform this task, but ```scheduleAtFixedRate``` does not perform this task?\r\n\r\nIf ```scheduleAtFixedRate``` is used, then this task is ```Periodic```, and default ```keepPeriodic``` policy is ```false```, so this task will be removed from work queue when ```shutdown``` is called.\r\n\r\nBut using ```schedule``` does not perform the logic of removing task.(```isPeriodic``` is false.)\r\n\r\n\r\nSee ```ScheduledThreadPoolExecutor#onShutdown```:\r\n\r\n```\r\n        @Override void onShutdown() {\r\n        BlockingQueue&lt;Runnable&gt; q = super.getQueue();\r\n        boolean keepDelayed =\r\n            getExecuteExistingDelayedTasksAfterShutdownPolicy();\r\n        boolean keepPeriodic =\r\n            getContinueExistingPeriodicTasksAfterShutdownPolicy();\r\n        // Traverse snapshot to avoid iterator exceptions\r\n        // TODO: implement and use efficient removeIf\r\n        // super.getQueue().removeIf(...);\r\n        for (Object e : q.toArray()) {\r\n            if (e instanceof RunnableScheduledFuture) {\r\n                RunnableScheduledFuture&lt;?&gt; t = (RunnableScheduledFuture&lt;?&gt;)e;\r\n                if ((t.isPeriodic()\r\n                     ? !keepPeriodic\r\n                     : (!keepDelayed &amp;&amp; t.getDelay(NANOSECONDS) &gt; 0))\r\n                    || t.isCancelled()) { // also remove if already cancelled\r\n                    if (q.remove(t))\r\n                        t.cancel(false);\r\n                }\r\n            }\r\n        }\r\n        tryTerminate();\r\n    }\r\n```\r\n\r\nSo I think the explanation from Basil Bourque&#39;s answer is inaccurate:\r\n\r\n&gt; Apparently there is some overhead in the scheduleWithFixedDelay and scheduleAtFixedRate calls, enough overhead that the program exits before they get a chance to make their first executions.\r\n\r\nIt&#39;s not because program exits before they get a chance to make their first executions, but because the worker threads in the thread pool did not get the task(It was removed,), and then the thread pool stop. At this time, the program exits. If the task is not removed, the program will not exit immediately.  Only when the worker thread in the thread pool have completed the tasks in the work queue, the program will exit. (Because the worker thread in the thread pool are not daemon threads).\r\n","title":"ScheduledExecutorService not executing task with an initialDelay 0","body":"<p>Why <code>shutdown</code> is called immediately, <code>schedule</code> can perform this task, but <code>scheduleAtFixedRate</code> does not perform this task?</p>\n<p>If <code>scheduleAtFixedRate</code> is used, then this task is <code>Periodic</code>, and default <code>keepPeriodic</code> policy is <code>false</code>, so this task will be removed from work queue when <code>shutdown</code> is called.</p>\n<p>But using <code>schedule</code> does not perform the logic of removing task.(<code>isPeriodic</code> is false.)</p>\n<p>See <code>ScheduledThreadPoolExecutor#onShutdown</code>:</p>\n<pre><code>        @Override void onShutdown() {\n        BlockingQueue&lt;Runnable&gt; q = super.getQueue();\n        boolean keepDelayed =\n            getExecuteExistingDelayedTasksAfterShutdownPolicy();\n        boolean keepPeriodic =\n            getContinueExistingPeriodicTasksAfterShutdownPolicy();\n        // Traverse snapshot to avoid iterator exceptions\n        // TODO: implement and use efficient removeIf\n        // super.getQueue().removeIf(...);\n        for (Object e : q.toArray()) {\n            if (e instanceof RunnableScheduledFuture) {\n                RunnableScheduledFuture&lt;?&gt; t = (RunnableScheduledFuture&lt;?&gt;)e;\n                if ((t.isPeriodic()\n                     ? !keepPeriodic\n                     : (!keepDelayed &amp;&amp; t.getDelay(NANOSECONDS) &gt; 0))\n                    || t.isCancelled()) { // also remove if already cancelled\n                    if (q.remove(t))\n                        t.cancel(false);\n                }\n            }\n        }\n        tryTerminate();\n    }\n</code></pre>\n<p>So I think the explanation from Basil Bourque's answer is inaccurate:</p>\n<blockquote>\n<p>Apparently there is some overhead in the scheduleWithFixedDelay and scheduleAtFixedRate calls, enough overhead that the program exits before they get a chance to make their first executions.</p>\n</blockquote>\n<p>It's not because program exits before they get a chance to make their first executions, but because the worker threads in the thread pool did not get the task(It was removed,), and then the thread pool stop. At this time, the program exits. If the task is not removed, the program will not exit immediately.  Only when the worker thread in the thread pool have completed the tasks in the work queue, the program will exit. (Because the worker thread in the thread pool are not daemon threads).</p>\n"}],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70470617,"answer_count":4,"score":4,"last_activity_date":1640336003,"creation_date":1640329706,"question_id":70470394,"body_markdown":"`ScheduledExecutorService` not executing a submitted task with an `initialDelay` of `0` time units when using `scheduleWithFixedDelay` or `scheduleAtFixedRate`. But it is executing the task when i call [`schedule`][1] on it\r\n\r\n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n    Runnable runnable = () -&gt; System.out.println(&quot;I am a runnable&quot;);\r\n    scheduledExecutorService.schedule(runnable, 0, TimeUnit.SECONDS);\r\n    scheduledExecutorService.shutdown();\r\n\r\nOutput\r\n\r\n    I am a runnable\r\n\r\nBut when I use `scheduleWithFixedDelay` or `scheduleAtFixedRate` instead of `schedule` the task is not getting executed. \r\n\r\n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n    Runnable runnable = () -&gt; System.out.println(&quot;I am a runnable&quot;);\r\n    scheduledExecutorService.scheduleWithFixedDelay(runnable, 0, 1, TimeUnit.SECONDS);\r\n    // or  scheduledExecutorService.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\r\n    scheduledExecutorService.shutdown();\r\n\r\nWhy is the task not getting executed in this scenario? I expected this task to be executed as the `initialDelay` is set to `0`\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)","title":"ScheduledExecutorService not executing task with an initialDelay 0","body":"<p><code>ScheduledExecutorService</code> not executing a submitted task with an <code>initialDelay</code> of <code>0</code> time units when using <code>scheduleWithFixedDelay</code> or <code>scheduleAtFixedRate</code>. But it is executing the task when i call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>schedule</code></a> on it</p>\n<pre><code>ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\nRunnable runnable = () -&gt; System.out.println(&quot;I am a runnable&quot;);\nscheduledExecutorService.schedule(runnable, 0, TimeUnit.SECONDS);\nscheduledExecutorService.shutdown();\n</code></pre>\n<p>Output</p>\n<pre><code>I am a runnable\n</code></pre>\n<p>But when I use <code>scheduleWithFixedDelay</code> or <code>scheduleAtFixedRate</code> instead of <code>schedule</code> the task is not getting executed.</p>\n<pre><code>ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\nRunnable runnable = () -&gt; System.out.println(&quot;I am a runnable&quot;);\nscheduledExecutorService.scheduleWithFixedDelay(runnable, 0, 1, TimeUnit.SECONDS);\n// or  scheduledExecutorService.scheduleAtFixedRate(runnable, 0, 1, TimeUnit.SECONDS);\nscheduledExecutorService.shutdown();\n</code></pre>\n<p>Why is the task not getting executed in this scenario? I expected this task to be executed as the <code>initialDelay</code> is set to <code>0</code></p>\n"},{"tags":["java","python","webcam","image-capture","javacv"],"comments":[{"owner":{"account_id":28201,"reputation":26631,"user_id":75103,"accept_rate":85,"display_name":"thebjorn"},"score":2,"creation_date":1340091479,"post_id":11094481,"comment_id":14531096,"body_markdown":"Buffer and timing issues are always something you need to handle when dealing with the real world (capture devices included, e.g. http://stackoverflow.com/questions/5595658/python-video-capture-loop ). Even a simple on/off switch has these issues (see http://www.labbookpages.co.uk/electronics/debounce.html for a deeper explanation of both hardware and software solutions).","body":"Buffer and timing issues are always something you need to handle when dealing with the real world (capture devices included, e.g. <a href=\"http://stackoverflow.com/questions/5595658/python-video-capture-loop\" title=\"python video capture loop\">stackoverflow.com/questions/5595658/python-video-capture-loo&zwnj;&#8203;p</a> ). Even a simple on/off switch has these issues (see <a href=\"http://www.labbookpages.co.uk/electronics/debounce.html\" rel=\"nofollow noreferrer\">labbookpages.co.uk/electronics/debounce.html</a> for a deeper explanation of both hardware and software solutions)."},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":1,"creation_date":1340092205,"post_id":11094481,"comment_id":14531355,"body_markdown":"Would the content of this page answer your question by any chance? [How to use JavaCV in an applet](http://code.google.com/p/javacv/wiki/HowToMakeAnApplet)","body":"Would the content of this page answer your question by any chance? <a href=\"http://code.google.com/p/javacv/wiki/HowToMakeAnApplet\" rel=\"nofollow noreferrer\">How to use JavaCV in an applet</a>"},{"owner":{"account_id":271958,"reputation":127827,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"score":1,"creation_date":1423517904,"post_id":11094481,"comment_id":45172869,"body_markdown":"See also: [How can I take camera images with Python?](http://stackoverflow.com/q/28418962/562769)","body":"See also: <a href=\"http://stackoverflow.com/q/28418962/562769\">How can I take camera images with Python?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28201,"reputation":26631,"user_id":75103,"accept_rate":85,"display_name":"thebjorn"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1340082497,"creation_date":1340082497,"answer_id":11094696,"question_id":11094481,"body_markdown":"On windows it is easy to interact with your webcam with pygame:\r\n\r\n    from VideoCapture import Device\r\n    cam = Device()\r\n    cam.saveSnapshot(&#39;image.jpg&#39;)\r\n\r\nI haven&#39;t tried using pygame on linux (all my linux boxen are servers without X), but this link might be helpful http://www.jperla.com/blog/post/capturing-frames-from-a-webcam-on-linux","title":"Capturing a single image from my webcam in Java or Python","body":"<p>On windows it is easy to interact with your webcam with pygame:</p>\n\n<pre><code>from VideoCapture import Device\ncam = Device()\ncam.saveSnapshot('image.jpg')\n</code></pre>\n\n<p>I haven't tried using pygame on linux (all my linux boxen are servers without X), but this link might be helpful <a href=\"http://www.jperla.com/blog/post/capturing-frames-from-a-webcam-on-linux\" rel=\"noreferrer\">http://www.jperla.com/blog/post/capturing-frames-from-a-webcam-on-linux</a></p>\n"},{"tags":[],"owner":{"account_id":478975,"reputation":18077,"user_id":891373,"accept_rate":81,"display_name":"Froyo"},"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1600160704,"creation_date":1340083794,"answer_id":11094891,"question_id":11094481,"body_markdown":"@thebjorn has given a good answer. But if you want more options, you can try OpenCV, SimpleCV.\r\n\r\nusing **SimpleCV** (not supported in python3.x):\r\n\r\n    from SimpleCV import Image, Camera\r\n\r\n    cam = Camera()\r\n    img = cam.getImage()\r\n    img.save(&quot;filename.jpg&quot;)\r\n\r\nusing **OpenCV**:\r\n\r\n    from cv2 import *\r\n    # initialize the camera\r\n    cam = VideoCapture(0)   # 0 -&gt; index of camera\r\n    s, img = cam.read()\r\n    if s:    # frame captured without any errors\r\n        namedWindow(&quot;cam-test&quot;,CV_WINDOW_AUTOSIZE)\r\n        imshow(&quot;cam-test&quot;,img)\r\n        waitKey(0)\r\n        destroyWindow(&quot;cam-test&quot;)\r\n        imwrite(&quot;filename.jpg&quot;,img) #save image\r\n\r\nusing **pygame**:\r\n\r\n    import pygame\r\n    import pygame.camera\r\n    \r\n    pygame.camera.init()\r\n    pygame.camera.list_cameras() #Camera detected or not\r\n    cam = pygame.camera.Camera(&quot;/dev/video0&quot;,(640,480))\r\n    cam.start()\r\n    img = cam.get_image()\r\n    pygame.image.save(img,&quot;filename.jpg&quot;)\r\n\r\nInstall **OpenCV**:\r\n\r\n    install python-opencv bindings, numpy\r\n\r\nInstall **SimpleCV**:\r\n\r\n    install python-opencv, pygame, numpy, scipy, simplecv\r\nget latest version of [SimpleCV][1]\r\n\r\nInstall **pygame**:\r\n\r\n    install pygame\r\n\r\n\r\n  [1]: https://github.com/ingenuitas/simplecv/downloads","title":"Capturing a single image from my webcam in Java or Python","body":"<p>@thebjorn has given a good answer. But if you want more options, you can try OpenCV, SimpleCV.</p>\n<p>using <strong>SimpleCV</strong> (not supported in python3.x):</p>\n<pre><code>from SimpleCV import Image, Camera\n\ncam = Camera()\nimg = cam.getImage()\nimg.save(&quot;filename.jpg&quot;)\n</code></pre>\n<p>using <strong>OpenCV</strong>:</p>\n<pre><code>from cv2 import *\n# initialize the camera\ncam = VideoCapture(0)   # 0 -&gt; index of camera\ns, img = cam.read()\nif s:    # frame captured without any errors\n    namedWindow(&quot;cam-test&quot;,CV_WINDOW_AUTOSIZE)\n    imshow(&quot;cam-test&quot;,img)\n    waitKey(0)\n    destroyWindow(&quot;cam-test&quot;)\n    imwrite(&quot;filename.jpg&quot;,img) #save image\n</code></pre>\n<p>using <strong>pygame</strong>:</p>\n<pre><code>import pygame\nimport pygame.camera\n\npygame.camera.init()\npygame.camera.list_cameras() #Camera detected or not\ncam = pygame.camera.Camera(&quot;/dev/video0&quot;,(640,480))\ncam.start()\nimg = cam.get_image()\npygame.image.save(img,&quot;filename.jpg&quot;)\n</code></pre>\n<p>Install <strong>OpenCV</strong>:</p>\n<pre><code>install python-opencv bindings, numpy\n</code></pre>\n<p>Install <strong>SimpleCV</strong>:</p>\n<pre><code>install python-opencv, pygame, numpy, scipy, simplecv\n</code></pre>\n<p>get latest version of <a href=\"https://github.com/ingenuitas/simplecv/downloads\" rel=\"noreferrer\">SimpleCV</a></p>\n<p>Install <strong>pygame</strong>:</p>\n<pre><code>install pygame\n</code></pre>\n"},{"tags":[],"owner":{"account_id":312316,"reputation":2674,"user_id":626311,"display_name":"Bartosz Firyn"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1548005390,"creation_date":1384546738,"answer_id":20009888,"question_id":11094481,"body_markdown":"Some time ago I wrote simple [Webcam Capture API][1] which can be used for that. The project is available on Github.\r\n\r\nExample code:\r\n\r\n    Webcam webcam = Webcam.getDefault();\r\n    webcam.open();\r\n    try {\r\n      ImageIO.write(webcam.getImage(), &quot;PNG&quot;, new File(&quot;test.png&quot;));\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      webcam.close();\r\n    }\r\n\r\n  [1]: https://github.com/sarxos/webcam-capture","title":"Capturing a single image from my webcam in Java or Python","body":"<p>Some time ago I wrote simple <a href=\"https://github.com/sarxos/webcam-capture\" rel=\"nofollow noreferrer\">Webcam Capture API</a> which can be used for that. The project is available on Github.</p>\n\n<p>Example code:</p>\n\n<pre><code>Webcam webcam = Webcam.getDefault();\nwebcam.open();\ntry {\n  ImageIO.write(webcam.getImage(), \"PNG\", new File(\"test.png\"));\n} catch (IOException e) {\n  e.printStackTrace();\n} finally {\n  webcam.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3392340,"reputation":5304,"user_id":2846920,"accept_rate":36,"display_name":"ShivaGuntuku"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1464785669,"creation_date":1464784460,"answer_id":37568776,"question_id":11094481,"body_markdown":"    import cv2\r\n    camera = cv2.VideoCapture(0)\r\n    while True:\r\n    \treturn_value,image = camera.read()\r\n    \tgray = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)\r\n    \tcv2.imshow(&#39;image&#39;,gray)\r\n    \tif cv2.waitKey(1)&amp; 0xFF == ord(&#39;s&#39;):\r\n    \t\tcv2.imwrite(&#39;test.jpg&#39;,image)\r\n    \t\tbreak\r\n    camera.release()\r\n    cv2.destroyAllWindows()\r\n\r\n","title":"Capturing a single image from my webcam in Java or Python","body":"<pre><code>import cv2\ncamera = cv2.VideoCapture(0)\nwhile True:\n    return_value,image = camera.read()\n    gray = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)\n    cv2.imshow('image',gray)\n    if cv2.waitKey(1)&amp; 0xFF == ord('s'):\n        cv2.imwrite('test.jpg',image)\n        break\ncamera.release()\ncv2.destroyAllWindows()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7781688,"reputation":51,"user_id":5887913,"display_name":"Andrea S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546879498,"creation_date":1546873321,"answer_id":54076817,"question_id":11094481,"body_markdown":"I wrote a tool to capture images from a webcam entirely in Python, based on DirectShow. You can find it here: https://github.com/andreaschiavinato/python_grabber. \r\n\r\nYou can use the whole application or just the class FilterGraph in dshow_graph.py in the following way:\r\n\r\n    from pygrabber.dshow_graph import FilterGraph\r\n    import numpy as np\r\n    from matplotlib.image import imsave\r\n    \r\n    graph = FilterGraph()\r\n    print(graph.get_input_devices())\r\n    device_index = input(&quot;Enter device number: &quot;)\r\n    graph.add_input_device(int(device_index))\r\n    graph.display_format_dialog()\r\n    filename = r&quot;c:\\temp\\imm.png&quot;\r\n    # np.flip(image, axis=2) required to convert image from BGR to RGB\r\n    graph.add_sample_grabber(lambda image : imsave(filename, np.flip(image, axis=2)))\r\n    graph.add_null_render()\r\n    graph.prepare()\r\n    graph.run()\r\n    x = input(&quot;Press key to grab photo&quot;)\r\n    graph.grab_frame()\r\n    x = input(f&quot;File {filename} saved. Press key to end&quot;)\r\n    graph.stop()\r\n\r\n\r\n\r\n","title":"Capturing a single image from my webcam in Java or Python","body":"<p>I wrote a tool to capture images from a webcam entirely in Python, based on DirectShow. You can find it here: <a href=\"https://github.com/andreaschiavinato/python_grabber\" rel=\"nofollow noreferrer\">https://github.com/andreaschiavinato/python_grabber</a>. </p>\n\n<p>You can use the whole application or just the class FilterGraph in dshow_graph.py in the following way:</p>\n\n<pre><code>from pygrabber.dshow_graph import FilterGraph\nimport numpy as np\nfrom matplotlib.image import imsave\n\ngraph = FilterGraph()\nprint(graph.get_input_devices())\ndevice_index = input(\"Enter device number: \")\ngraph.add_input_device(int(device_index))\ngraph.display_format_dialog()\nfilename = r\"c:\\temp\\imm.png\"\n# np.flip(image, axis=2) required to convert image from BGR to RGB\ngraph.add_sample_grabber(lambda image : imsave(filename, np.flip(image, axis=2)))\ngraph.add_null_render()\ngraph.prepare()\ngraph.run()\nx = input(\"Press key to grab photo\")\ngraph.grab_frame()\nx = input(f\"File {filename} saved. Press key to end\")\ngraph.stop()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15876524,"reputation":17,"user_id":11455601,"display_name":"Yfomnn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557066681,"creation_date":1557066681,"answer_id":55993028,"question_id":11094481,"body_markdown":"It can be done by using ecapture\r\nFirst, run\r\n\r\n    pip install ecapture\r\n\r\nThen in a new python script\r\ntype:\r\n```\r\n    from ecapture import ecapture as ec\r\n\r\n    ec.capture(0,&quot;test&quot;,&quot;img.jpg&quot;)\r\n```\r\nMore information from this[link][1]\r\n\r\n\r\n  [1]: https://pypi.org/project/ecapture/","title":"Capturing a single image from my webcam in Java or Python","body":"<p>It can be done by using ecapture\nFirst, run</p>\n\n<pre><code>pip install ecapture\n</code></pre>\n\n<p>Then in a new python script\ntype:</p>\n\n<pre><code>    from ecapture import ecapture as ec\n\n    ec.capture(0,\"test\",\"img.jpg\")\n</code></pre>\n\n<p>More information from this<a href=\"https://pypi.org/project/ecapture/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":13825232,"reputation":149,"user_id":9979728,"display_name":"Mayur Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640335862,"creation_date":1632307033,"answer_id":69282582,"question_id":11094481,"body_markdown":"**I am able to achieve it, this way in Python (Windows 10):**\r\n\r\nPlease install [PyAutoGUI][1]\r\n\r\n    import pyautogui as pg #For taking screenshot\r\n    import time # For necessary delay\r\n    import subprocess \r\n\r\n    # Launch Windows OS Camera\r\n    subprocess.run(&#39;start microsoft.windows.camera:&#39;, shell=True) \r\n    \r\n    time.sleep(2) # Required !\r\n    img=pg.screenshot() # Take screenshot using PyAutoGUI&#39;s function\r\n    time.sleep(2) # Required !\r\n    img.save(r&quot;C:\\Users\\mrmay\\OneDrive\\Desktop\\Selfie.PNG&quot;) # Save image screenshot at desired location on your computer\r\n\r\n    #Close the camera\r\n    subprocess.run(&#39;Taskkill /IM WindowsCamera.exe /F&#39;, shell=True) \r\n\r\n\r\n  [1]: https://pypi.org/project/PyAutoGUI/","title":"Capturing a single image from my webcam in Java or Python","body":"<p><strong>I am able to achieve it, this way in Python (Windows 10):</strong></p>\n<p>Please install <a href=\"https://pypi.org/project/PyAutoGUI/\" rel=\"nofollow noreferrer\">PyAutoGUI</a></p>\n<pre><code>import pyautogui as pg #For taking screenshot\nimport time # For necessary delay\nimport subprocess \n\n# Launch Windows OS Camera\nsubprocess.run('start microsoft.windows.camera:', shell=True) \n\ntime.sleep(2) # Required !\nimg=pg.screenshot() # Take screenshot using PyAutoGUI's function\ntime.sleep(2) # Required !\nimg.save(r&quot;C:\\Users\\mrmay\\OneDrive\\Desktop\\Selfie.PNG&quot;) # Save image screenshot at desired location on your computer\n\n#Close the camera\nsubprocess.run('Taskkill /IM WindowsCamera.exe /F', shell=True) \n</code></pre>\n"}],"owner":{"account_id":1560212,"reputation":1090,"user_id":1450248,"accept_rate":50,"display_name":"Matthew G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161626,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":11094696,"answer_count":7,"score":50,"last_activity_date":1640335862,"creation_date":1340080852,"question_id":11094481,"body_markdown":"I want to capture a single image from my webcam and save it to disk.  I want to do this in Java or Python (preferably Java).  I want something that will work on both 64-bit Win7 and 32-bit Linux.\r\n\r\nEDIT: I use Python 3.x, not 2.x\r\n\r\nBecause everywhere else I see this question asked people manage to get confused, I&#39;m going to state a few things explicitly:\r\n\r\n - I do not want to use Processing\r\n - I do not want to use any language other than those stated above\r\n - I do want to display this image on my screen in any way, shape or form\r\n - I do not want to display a live video feed from my webcam on my screen, or save such a feed to my hard drive\r\n - The Java Media Framework is far too out of date. Do not suggest it.\r\n - I would rather not use JavaCV, but if I absolutely must, I want to know exactly which files from the OpenCV library I need, and how I can use these files without including the entire library (and preferably without sticking these files in any sort of PATH. Everything should be included in the one directory)\r\n - I can use Eclipse on the 64-bit Win7 computer if need be, but I also have to be able to compile and use it on 32-bit Linux as well\r\n - **If you think I might or might not know something related to this subject in any way shape or form, please assume I do not know it, and tell me**\r\n\r\n\r\nEDIT2: I was able to get Froyo&#39;s pygame example working on Linux using Python 2.7 and pygame 1.9.1.  the pygame.camera.camera_list() call didn&#39;t work, but it was unnecessary for the rest of the example.  However, I had to call cam.set_controls() (for which you can find the documentation here [http://www.pygame.org/docs/ref/camera.html][1]) to up the brightness so I could actually see anything in the image I captured.\r\n\r\nAlso, I need to call the cam.get_image() and pygame.image.save() methods three times before the image I supposedly took on the first pair of calls actually gets saved.  They appeared to be stuck in a weird buffer.  Basically, instead of calling cam.get_image() once, I had to call it three times every single time I wanted to capture an image.  Then and only then did I call pygame.image.save().\r\n\r\nUnfortunately, as stated below, pygame.camera is only supported on Linux.  I still don&#39;t have a solution for Windows.\r\n\r\n\r\n  [1]: http://www.pygame.org/docs/ref/camera.html","title":"Capturing a single image from my webcam in Java or Python","body":"<p>I want to capture a single image from my webcam and save it to disk.  I want to do this in Java or Python (preferably Java).  I want something that will work on both 64-bit Win7 and 32-bit Linux.</p>\n\n<p>EDIT: I use Python 3.x, not 2.x</p>\n\n<p>Because everywhere else I see this question asked people manage to get confused, I'm going to state a few things explicitly:</p>\n\n<ul>\n<li>I do not want to use Processing</li>\n<li>I do not want to use any language other than those stated above</li>\n<li>I do want to display this image on my screen in any way, shape or form</li>\n<li>I do not want to display a live video feed from my webcam on my screen, or save such a feed to my hard drive</li>\n<li>The Java Media Framework is far too out of date. Do not suggest it.</li>\n<li>I would rather not use JavaCV, but if I absolutely must, I want to know exactly which files from the OpenCV library I need, and how I can use these files without including the entire library (and preferably without sticking these files in any sort of PATH. Everything should be included in the one directory)</li>\n<li>I can use Eclipse on the 64-bit Win7 computer if need be, but I also have to be able to compile and use it on 32-bit Linux as well</li>\n<li><strong>If you think I might or might not know something related to this subject in any way shape or form, please assume I do not know it, and tell me</strong></li>\n</ul>\n\n<p>EDIT2: I was able to get Froyo's pygame example working on Linux using Python 2.7 and pygame 1.9.1.  the pygame.camera.camera_list() call didn't work, but it was unnecessary for the rest of the example.  However, I had to call cam.set_controls() (for which you can find the documentation here <a href=\"http://www.pygame.org/docs/ref/camera.html\">http://www.pygame.org/docs/ref/camera.html</a>) to up the brightness so I could actually see anything in the image I captured.</p>\n\n<p>Also, I need to call the cam.get_image() and pygame.image.save() methods three times before the image I supposedly took on the first pair of calls actually gets saved.  They appeared to be stuck in a weird buffer.  Basically, instead of calling cam.get_image() once, I had to call it three times every single time I wanted to capture an image.  Then and only then did I call pygame.image.save().</p>\n\n<p>Unfortunately, as stated below, pygame.camera is only supported on Linux.  I still don't have a solution for Windows.</p>\n"},{"tags":["java","recursion","primes"],"comments":[{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":6,"creation_date":1502217328,"post_id":45575649,"comment_id":78110834,"body_markdown":"well for starters, don&#39;t use a recursive function","body":"well for starters, don&#39;t use a recursive function"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":5,"creation_date":1502217354,"post_id":45575649,"comment_id":78110849,"body_markdown":"The fundamental problem is that recursion is not the right approach.  Primality testing is not a recursive problem, and you will always exceed available storage quite quickly for large numbers.  I suggest you do some research on the web on the topic of &quot;primality testing&quot;.","body":"The fundamental problem is that recursion is not the right approach.  Primality testing is not a recursive problem, and you will always exceed available storage quite quickly for large numbers.  I suggest you do some research on the web on the topic of &quot;primality testing&quot;."},{"owner":{"account_id":11169077,"reputation":211,"user_id":8196692,"accept_rate":75,"display_name":"Team. Coco"},"score":0,"creation_date":1502217413,"post_id":45575649,"comment_id":78110882,"body_markdown":"Is there a rule of thumb that you guys follow when deciding whether or not to use a recursive function or not? For some reason I was fairly certain this was a recursive problem.","body":"Is there a rule of thumb that you guys follow when deciding whether or not to use a recursive function or not? For some reason I was fairly certain this was a recursive problem."},{"owner":{"account_id":10910575,"reputation":633,"user_id":8031594,"accept_rate":88,"display_name":"Jason V"},"score":1,"creation_date":1502217513,"post_id":45575649,"comment_id":78110934,"body_markdown":"recursion uses an enormous amount of heap space.. the call stack gets very large because of the amount of information it needs to keep track of each iteration. i would just standard loops...","body":"recursion uses an enormous amount of heap space.. the call stack gets very large because of the amount of information it needs to keep track of each iteration. i would just standard loops..."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502217850,"creation_date":1502217850,"answer_id":45575835,"question_id":45575649,"body_markdown":"The fundamental problem is that recursion is not the right approach. Primality testing is not a recursive problem, and you will always exceed available storage quite quickly for large numbers. I suggest you do some research on the web on the topic of &quot;primality testing&quot;.\r\n\t\r\nAs to a rule of thumb for deciding if a problem is recursive, I&#39;ve been doing this so long I&#39;m not sure I can express what has become completely intuitive, so I&#39;ll let someone else do it. \r\n\r\nHowever, it&#39;s worth pointing out that some problems that are mathematically recursive have computational solutions where iteration is far, far better than naive recursion. The prime (hah!) example of that is Fibonacci numbers. For large n the naively recursive solution eats memory and performs redundant calculations, while the iterative solution is faster and better all around.","title":"Java: Find out if a number is prime recursively","body":"<p>The fundamental problem is that recursion is not the right approach. Primality testing is not a recursive problem, and you will always exceed available storage quite quickly for large numbers. I suggest you do some research on the web on the topic of \"primality testing\".</p>\n\n<p>As to a rule of thumb for deciding if a problem is recursive, I've been doing this so long I'm not sure I can express what has become completely intuitive, so I'll let someone else do it. </p>\n\n<p>However, it's worth pointing out that some problems that are mathematically recursive have computational solutions where iteration is far, far better than naive recursion. The prime (hah!) example of that is Fibonacci numbers. For large n the naively recursive solution eats memory and performs redundant calculations, while the iterative solution is faster and better all around.</p>\n"},{"tags":[],"owner":{"account_id":7610133,"reputation":40891,"user_id":5771269,"display_name":"cdlane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502230339,"creation_date":1502228583,"answer_id":45578465,"question_id":45575649,"body_markdown":"The first problem I see is that your program is it&#39;s buggy.  It seems to think that 0, 1, &amp; 4 are primes and that 3 isn&#39;t.  The second problem I see is that it&#39;s wasting stack frames not properly dealing with simple cases before recursing.  Here&#39;s my rework of your code:\r\n\r\n\tpublic static boolean checkPrime(int n) {\r\n\t\treturn checkPrime1(n, 3);\r\n\t}\r\n\r\n\tpublic static boolean checkPrime1(int n, int currDivisor) {\r\n\t\tif (n &lt; 2) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (n % 2 == 0) {\r\n\t\t\treturn (n == 2);\r\n\t\t}\r\n\r\n\t\tif (currDivisor * currDivisor &gt; n) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (n % currDivisor == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn checkPrime1(n, currDivisor + 2);\r\n\t}\r\n\r\nAs far as handling:\r\n\r\n    System.out.println(checkPrime(1000000007));\r\n\r\nYou&#39;ll still get an `java.lang.StackOverflowError` but that&#39;s not the end of the story.  Most languages make decisions of how much memory to allocate to specific purposes.  It&#39;s the rare language like Perl that will reallocate memory to whatever resource is demanding it most and not make assumptions about how a program should behave.\r\n\r\nYou can change the amount of memory allocated to Java&#39;s stack -- calling `java` with the `-Xss2m` argument allocates sufficient extra stack to let you test 1000000007 (`true`, by the way.)\r\n\r\nIf you change the three `int` declarations above to `long`, you&#39;ll be able to test numbers like `2547487897L` or larger as long as you expand the stack (`-Xss4m` in this case.)\r\n\r\nI&#39;m not saying that this is a good problem for recursion, it isn&#39;t.  But if you&#39;re going to use recursion, use it wisely.  It&#39;s poor recursion that&#39;s gives recursion a bad name.  There are inefficient recursive Fibonnaci algorithms (usually doubly recursive) and efficient (singly recursive) ones.  Recursive code usually works best with recursive data.\r\n\r\nSome languages, not yet Java consistently, can optimize the above code as a tail recursion and make it effectively iterative performance.","title":"Java: Find out if a number is prime recursively","body":"<p>The first problem I see is that your program is it's buggy.  It seems to think that 0, 1, &amp; 4 are primes and that 3 isn't.  The second problem I see is that it's wasting stack frames not properly dealing with simple cases before recursing.  Here's my rework of your code:</p>\n\n<pre><code>public static boolean checkPrime(int n) {\n    return checkPrime1(n, 3);\n}\n\npublic static boolean checkPrime1(int n, int currDivisor) {\n    if (n &lt; 2) {\n        return false;\n    }\n\n    if (n % 2 == 0) {\n        return (n == 2);\n    }\n\n    if (currDivisor * currDivisor &gt; n) {\n        return true;\n    }\n\n    if (n % currDivisor == 0) {\n        return false;\n    }\n\n    return checkPrime1(n, currDivisor + 2);\n}\n</code></pre>\n\n<p>As far as handling:</p>\n\n<pre><code>System.out.println(checkPrime(1000000007));\n</code></pre>\n\n<p>You'll still get an <code>java.lang.StackOverflowError</code> but that's not the end of the story.  Most languages make decisions of how much memory to allocate to specific purposes.  It's the rare language like Perl that will reallocate memory to whatever resource is demanding it most and not make assumptions about how a program should behave.</p>\n\n<p>You can change the amount of memory allocated to Java's stack -- calling <code>java</code> with the <code>-Xss2m</code> argument allocates sufficient extra stack to let you test 1000000007 (<code>true</code>, by the way.)</p>\n\n<p>If you change the three <code>int</code> declarations above to <code>long</code>, you'll be able to test numbers like <code>2547487897L</code> or larger as long as you expand the stack (<code>-Xss4m</code> in this case.)</p>\n\n<p>I'm not saying that this is a good problem for recursion, it isn't.  But if you're going to use recursion, use it wisely.  It's poor recursion that's gives recursion a bad name.  There are inefficient recursive Fibonnaci algorithms (usually doubly recursive) and efficient (singly recursive) ones.  Recursive code usually works best with recursive data.</p>\n\n<p>Some languages, not yet Java consistently, can optimize the above code as a tail recursion and make it effectively iterative performance.</p>\n"},{"tags":[],"owner":{"account_id":23083242,"reputation":1,"user_id":17195190,"display_name":"mostafa aljbali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640335761,"creation_date":1640335761,"answer_id":70471099,"question_id":45575649,"body_markdown":"        /*by mostafa asem aljbali*/\r\n        static boolean isPrime(int num, int i){\r\n    \r\n            if (num &lt;= 2){\r\n                return (num == 2) ? true : false;\r\n            }\r\n            if (num % i == 0){\r\n                return false;\r\n            }\r\n            if (i * i &gt; num){\r\n                return true;\r\n            }\r\n    \r\n            return isPrime(num , (i + 1));\r\n        }\r\n     public static void main(String[] args){\r\n        System.out.println(&quot;Is Prime: &quot;+ isPrime(7, 2));\r\n    }\r\n\r\n","title":"Java: Find out if a number is prime recursively","body":"<pre><code>    /*by mostafa asem aljbali*/\n    static boolean isPrime(int num, int i){\n\n        if (num &lt;= 2){\n            return (num == 2) ? true : false;\n        }\n        if (num % i == 0){\n            return false;\n        }\n        if (i * i &gt; num){\n            return true;\n        }\n\n        return isPrime(num , (i + 1));\n    }\n public static void main(String[] args){\n    System.out.println(&quot;Is Prime: &quot;+ isPrime(7, 2));\n}\n</code></pre>\n"}],"owner":{"account_id":11169077,"reputation":211,"user_id":8196692,"accept_rate":75,"display_name":"Team. Coco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45578465,"answer_count":3,"score":1,"last_activity_date":1640335761,"creation_date":1502217170,"question_id":45575649,"body_markdown":"I&#39;m writing a function that returns true if a number is prime, and false otherwise\r\n\r\nHere is my current code:\r\n\r\n        public static boolean checkPrime(int n, int currDivisor){\r\n            if(n &lt; 2){\r\n                return true;\r\n            }\r\n            if(currDivisor == (n/2)){\r\n                return true;\r\n            }\r\n            else if(n % currDivisor == 0 ){\r\n                return false;           \r\n            }\r\n            else{\r\n                return checkPrime(n, currDivisor + 1);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args){\r\n            System.out.println(checkPrime(23352, 2));\r\n        }\r\n\r\n\r\nIt works for a lot of test cases except numbers like &quot;1000000007&quot; where I get an Out of memory error. How could I tweak this code to be more efficient space-wise?\r\n\r\n","title":"Java: Find out if a number is prime recursively","body":"<p>I'm writing a function that returns true if a number is prime, and false otherwise</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>    public static boolean checkPrime(int n, int currDivisor){\n        if(n &lt; 2){\n            return true;\n        }\n        if(currDivisor == (n/2)){\n            return true;\n        }\n        else if(n % currDivisor == 0 ){\n            return false;           \n        }\n        else{\n            return checkPrime(n, currDivisor + 1);\n        }\n    }\n\n    public static void main(String[] args){\n        System.out.println(checkPrime(23352, 2));\n    }\n</code></pre>\n\n<p>It works for a lot of test cases except numbers like \"1000000007\" where I get an Out of memory error. How could I tweak this code to be more efficient space-wise?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1308171440,"post_id":6346018,"comment_id":7451636,"body_markdown":"Yes, this is valid fix. I agree in that it would be nice if inference was used such that if only one alternative was explicitly indicated, others could be ignored in case of overload ambiguity -- I can add a Jira feature request for this.","body":"Yes, this is valid fix. I agree in that it would be nice if inference was used such that if only one alternative was explicitly indicated, others could be ignored in case of overload ambiguity -- I can add a Jira feature request for this."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1308171893,"post_id":6346018,"comment_id":7451760,"body_markdown":"One other thing -- it is interesting that there is an overload issue here, since Jackson actually does allow limited overload. Specifically, if argument was int or long (instead of double), problem would not occur. But other primitive types (double, float, boolean, char, byte, short) are not supported this way; although float and double probably should be. With int and long difference is resolved based on what JSON has -- JSON objects use POJO setter; JSON numbers int or long.","body":"One other thing -- it is interesting that there is an overload issue here, since Jackson actually does allow limited overload. Specifically, if argument was int or long (instead of double), problem would not occur. But other primitive types (double, float, boolean, char, byte, short) are not supported this way; although float and double probably should be. With int and long difference is resolved based on what JSON has -- JSON objects use POJO setter; JSON numbers int or long."}],"answers":[{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1308081352,"creation_date":1308080935,"answer_id":6349204,"question_id":6346018,"body_markdown":"It&#39;s not necessary to change the name of the setter method to avoid ambiguity.  You&#39;re otherwise on the right track with `@JsonIgnore`.  With `@JsonIgnore` on all of the same-named methods to be ignored, the one to use does not need the `@JsonProperty` annotation.\r\n\r\nHere&#39;s a simple example to demonstrate this point.\r\n\r\n**input.json:** `{&quot;value&quot;:&quot;forty-two&quot;}`\r\n\r\n**Foo.java:**\r\n\r\n    import java.io.File;\r\n    \r\n    import org.codehaus.jackson.annotate.JsonIgnore;\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    \r\n    public class Foo\r\n    {\r\n      String value;\r\n      \r\n      public String getValue() {return value;}\r\n      public void setValue(String value) {this.value = value;}\r\n      \r\n      @JsonIgnore\r\n      public void setValue(int value) {this.value = String.valueOf(value);}\r\n      \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Foo foo = mapper.readValue(new File(&quot;input.json&quot;), Foo.class);\r\n        System.out.println(mapper.writeValueAsString(foo));\r\n      }\r\n    }\r\n\r\nIf you don&#39;t want to alter the pristine POJO defs with a Jackson annotation, then you can use a `MixIn`.\r\n\r\n    import java.io.File;\r\n    \r\n    import org.codehaus.jackson.annotate.JsonIgnore;\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    \r\n    public class Foo\r\n    {\r\n      String value;\r\n      \r\n      public String getValue() {return value;}\r\n      public void setValue(String value) {this.value = value;}\r\n      public void setValue(int value) {this.value = String.valueOf(value);}\r\n      \r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.getDeserializationConfig().addMixInAnnotations(Foo.class, IgnoreFooSetValueIntMixIn.class);\r\n        Foo foo = mapper.readValue(new File(&quot;input.json&quot;), Foo.class);\r\n        System.out.println(mapper.writeValueAsString(foo));\r\n      }\r\n    }\r\n    \r\n    abstract class IgnoreFooSetValueIntMixIn\r\n    {\r\n      @JsonIgnore public abstract void setValue(int value);\r\n    }","title":"Deserializing JSON into object with overloaded methods using Jackson","body":"<p>It's not necessary to change the name of the setter method to avoid ambiguity.  You're otherwise on the right track with <code>@JsonIgnore</code>.  With <code>@JsonIgnore</code> on all of the same-named methods to be ignored, the one to use does not need the <code>@JsonProperty</code> annotation.</p>\n\n<p>Here's a simple example to demonstrate this point.</p>\n\n<p><strong>input.json:</strong> <code>{\"value\":\"forty-two\"}</code></p>\n\n<p><strong>Foo.java:</strong></p>\n\n<pre><code>import java.io.File;\n\nimport org.codehaus.jackson.annotate.JsonIgnore;\nimport org.codehaus.jackson.map.ObjectMapper;\n\npublic class Foo\n{\n  String value;\n\n  public String getValue() {return value;}\n  public void setValue(String value) {this.value = value;}\n\n  @JsonIgnore\n  public void setValue(int value) {this.value = String.valueOf(value);}\n\n  public static void main(String[] args) throws Exception\n  {\n    ObjectMapper mapper = new ObjectMapper();\n    Foo foo = mapper.readValue(new File(\"input.json\"), Foo.class);\n    System.out.println(mapper.writeValueAsString(foo));\n  }\n}\n</code></pre>\n\n<p>If you don't want to alter the pristine POJO defs with a Jackson annotation, then you can use a <code>MixIn</code>.</p>\n\n<pre><code>import java.io.File;\n\nimport org.codehaus.jackson.annotate.JsonIgnore;\nimport org.codehaus.jackson.map.ObjectMapper;\n\npublic class Foo\n{\n  String value;\n\n  public String getValue() {return value;}\n  public void setValue(String value) {this.value = value;}\n  public void setValue(int value) {this.value = String.valueOf(value);}\n\n  public static void main(String[] args) throws Exception\n  {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.getDeserializationConfig().addMixInAnnotations(Foo.class, IgnoreFooSetValueIntMixIn.class);\n    Foo foo = mapper.readValue(new File(\"input.json\"), Foo.class);\n    System.out.println(mapper.writeValueAsString(foo));\n  }\n}\n\nabstract class IgnoreFooSetValueIntMixIn\n{\n  @JsonIgnore public abstract void setValue(int value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348657031,"creation_date":1348657031,"answer_id":12600161,"question_id":6346018,"body_markdown":"In cases where @JsonIgnore doesn&#39;t help (I currently have such a case, but am still unsure of the reason), it is also possible to use @XmlTransient instead.","title":"Deserializing JSON into object with overloaded methods using Jackson","body":"<p>In cases where @JsonIgnore doesn't help (I currently have such a case, but am still unsure of the reason), it is also possible to use @XmlTransient instead.</p>\n"},{"tags":[],"owner":{"account_id":4202442,"reputation":455,"user_id":3442247,"accept_rate":68,"display_name":"gribo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1464867255,"creation_date":1464867255,"answer_id":37590667,"question_id":6346018,"body_markdown":"In Jackson &gt; 2.4 use directly :\r\n\r\n    mapper.addMixIn(Foo.class, IgnoreFooSetValueIntMixIn.class);","title":"Deserializing JSON into object with overloaded methods using Jackson","body":"<p>In Jackson > 2.4 use directly :</p>\n\n<pre><code>mapper.addMixIn(Foo.class, IgnoreFooSetValueIntMixIn.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23735614,"reputation":1,"user_id":17754330,"display_name":"user17754330"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640335755,"creation_date":1640335755,"answer_id":70471098,"question_id":6346018,"body_markdown":"```\r\n@JsonSetter\r\npublic void setMultiplier(SDOSAttribute multiplier) {\r\n     this.multiplier = multiplier;\r\n}\r\n\r\npublic void setMultiplier(double multiplier) {\r\n     this.multiplier.setValue(String.valueOf(multiplier));\r\n}\r\n```","title":"Deserializing JSON into object with overloaded methods using Jackson","body":"<pre><code>@JsonSetter\npublic void setMultiplier(SDOSAttribute multiplier) {\n     this.multiplier = multiplier;\n}\n\npublic void setMultiplier(double multiplier) {\n     this.multiplier.setValue(String.valueOf(multiplier));\n}\n</code></pre>\n"}],"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55604,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":6349204,"answer_count":4,"score":55,"last_activity_date":1640335755,"creation_date":1308065055,"question_id":6346018,"body_markdown":"I am attempting to deserialize a JSON object stored in CouchDb using Jackson.  This object needs to deserialize into a pojo that contains overloaded methods.  When I attempt to retrieve the object from couch and do the deserialization I get the following exception:\r\n\r\n&gt; org.ektorp.DbAccessException:\r\n&gt; org.codehaus.jackson.map.JsonMappingException:\r\n&gt; Conflicting setter definitions for\r\n&gt; property &quot;multiplier&quot;: \r\n&gt; com.db.commodities.framework.sdos.model.security.EqOpt#setMultiplier(1\r\n&gt; params) vs \r\n&gt; com.db.commodities.framework.sdos.model.security.EqOpt#setMultiplier(1\r\n&gt; params)\r\n\r\nI tried to annotate the setter I would like Jackson to use, but that appears to not have worked.\r\n\r\n    @JsonProperty(&quot;multiplier&quot;)\r\n    public void setMultiplier(SDOSAttribute multiplier) {\r\n         this.multiplier = multiplier;\r\n    }\r\n    \r\n    public void setMultiplier(double multiplier) {\r\n         this.multiplier.setValue(String.valueOf(multiplier));\r\n    }\r\n\r\nHow do I configure Jackson to properly deserialize using a specific method?  Or am I approaching this problem the wrong way?\r\n\r\n\r\n**EDIT:**\r\n\r\nI have made the following changes.  This seems to work, but is a little uglier.  If anyone has a better way to do this please feel free to share and I will gladly accept.\r\n\r\n\t@JsonProperty(&quot;multiplier&quot;)\r\n\tprotected void setMultiplierAttribute(SDOSAttribute multiplier) {\r\n\t\tthis.multiplier = multiplier;\r\n\t}\r\n\t\r\n\t@JsonIgnore\r\n\tpublic void setMultiplier(double multiplier) {\r\n\t\tthis.multiplier.setValue(String.valueOf(multiplier));\r\n\t}","title":"Deserializing JSON into object with overloaded methods using Jackson","body":"<p>I am attempting to deserialize a JSON object stored in CouchDb using Jackson.  This object needs to deserialize into a pojo that contains overloaded methods.  When I attempt to retrieve the object from couch and do the deserialization I get the following exception:</p>\n\n<blockquote>\n  <p>org.ektorp.DbAccessException:\n  org.codehaus.jackson.map.JsonMappingException:\n  Conflicting setter definitions for\n  property \"multiplier\": \n  com.db.commodities.framework.sdos.model.security.EqOpt#setMultiplier(1\n  params) vs \n  com.db.commodities.framework.sdos.model.security.EqOpt#setMultiplier(1\n  params)</p>\n</blockquote>\n\n<p>I tried to annotate the setter I would like Jackson to use, but that appears to not have worked.</p>\n\n<pre><code>@JsonProperty(\"multiplier\")\npublic void setMultiplier(SDOSAttribute multiplier) {\n     this.multiplier = multiplier;\n}\n\npublic void setMultiplier(double multiplier) {\n     this.multiplier.setValue(String.valueOf(multiplier));\n}\n</code></pre>\n\n<p>How do I configure Jackson to properly deserialize using a specific method?  Or am I approaching this problem the wrong way?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have made the following changes.  This seems to work, but is a little uglier.  If anyone has a better way to do this please feel free to share and I will gladly accept.</p>\n\n<pre><code>@JsonProperty(\"multiplier\")\nprotected void setMultiplierAttribute(SDOSAttribute multiplier) {\n    this.multiplier = multiplier;\n}\n\n@JsonIgnore\npublic void setMultiplier(double multiplier) {\n    this.multiplier.setValue(String.valueOf(multiplier));\n}\n</code></pre>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":1600053,"reputation":2644,"user_id":1481262,"accept_rate":100,"display_name":"vijay"},"score":0,"creation_date":1375738290,"post_id":18061588,"comment_id":26440803,"body_markdown":"provide more details as to what you want to do with the argument. do you plan to print the arguments? Or do you want to simply send the values of these arguments to another function?","body":"provide more details as to what you want to do with the argument. do you plan to print the arguments? Or do you want to simply send the values of these arguments to another function?"},{"owner":{"account_id":750643,"reputation":643,"user_id":750395,"accept_rate":35,"display_name":"Shay"},"score":0,"creation_date":1375773410,"post_id":18061588,"comment_id":26450414,"body_markdown":"I want to send these values to another function, probably in an array","body":"I want to send these values to another function, probably in an array"}],"answers":[{"tags":[],"owner":{"account_id":1600053,"reputation":2644,"user_id":1481262,"accept_rate":100,"display_name":"vijay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375782425,"creation_date":1375740049,"answer_id":18068520,"question_id":18061588,"body_markdown":"Before the for loop, you are storing/creating your array onto the local variable table at the `paramLength` index. But after the loop, you are accessing it from the `i`th index. Just to be safe: replace `i` with `paramLength` in your third-to-last source-code statement; i.e. do this: `this.visitVarInsn(Opcodes.ALOAD, paramLength);` instead of this `this.visitVarInsn(Opcodes.ALOAD, i)`.\r\n\r\nAlso, your `i` is initialized to `0`. For instance methods this means loading the **this** argument from the local variable table (read general explanation below). Make sure that it is exactly what you intend to do. If you do not intend to load the **this** variable, then initialize `i` to `1` for instance (non-static) methods.\r\n\r\n**General Explanation:**\r\n\r\nGiven that you claim to use `MethodAdapter.visitCode`, i will assume that you want access the **values** of the method arguments, **after** the method&#39;s invocation.\r\n\r\nThe method arguments are stored in the local variable table for each method invocation. Thus, you can access the values of the method arguments by simply loading, on to the operand stack, the first **N** variables from the local variable table; where N is simply the number of arguments to the method. Keep in mind that the local variable table is 0-indexed; and thus the indices start from 0. Also note that &quot;**this**&quot; is also treated as an argument in the case of instance methods. In case of instance methods, the local variable at index-0 indicates the  **this** &quot;variable&quot;.\r\n\r\nThe number of arguments to the method can be computed from the method description using the code in the following gist: https://gist.github.com/VijayKrishna/6160036. Using the `parseMethodArguments(String desc)` method you can easily compute the number of arguments to the method. Then somewhere in the `visitCode()` method, ideally as soon as possible, do this:\r\n    \r\n    @Override\r\n    public void visitCode() {\r\n        ...\r\n        char[] methodDescParsed = parseMethodArguments(methodDescription);\r\n        int N = methodDescParsed.length + (isMethodStatic ? 0 : 1);\r\n        ...\r\n    }\r\n\r\nMost of the computation in the parseMethodArguments simply parses the method description which is a string. It replaces the type descriptors for arrays and objects with a capital L. and leaves the type descriptors for primitives as is. It returns a `char[]` with each element in the array roughly indicating the type of argument passed.\r\n\r\nBecause the type of the **this** argument is not reflected in the method description, the `(isMethodStatic ? 1 : 0)` ternary expression is used to increment the argument count by 1, in case the method is not static, to account for the **this** argument.  \r\n`isMethodStatic` is `true` when the method is not an instance method, thus, no **this** argument and thus, no increment required;  \r\n`isMethodStatic` is `false` when the method is an instance method, thus, the **this** argument is present, thus the argument count is incremented.\r\n\r\nonce you get the argument count, the loose Java code using ASM is as follows to access the first **N** local variables of the method soon after its method invocation: \r\n\r\n\r\n    for(int i = 0; i &lt; N; i ++) {\r\n        int opcode = 0;\r\n        switch() {\r\n           case &#39;L&#39;: opcode = Opcodes.ALOAD; break;\r\n           case &#39;I&#39;: opocde = Opcodes.ILOAD; break;\r\n           case &#39;J&#39;: opcode = Opocdes.LLOAD; break;\r\n           case &#39;F&#39;: ...\r\n           case &#39;D&#39;: ...\r\n           // TODO: complete all the cases.\r\n        }\r\n    \r\n        mv.visitVarInsn(opcode, i);\r\n        // ith argument is now loaded on the operand stack.\r\n        // add more ASM code to do what ever it is that you want to do with the argument.\r\n    }","title":"get function arguments values using java asm for bytecode instrimentation","body":"<p>Before the for loop, you are storing/creating your array onto the local variable table at the <code>paramLength</code> index. But after the loop, you are accessing it from the <code>i</code>th index. Just to be safe: replace <code>i</code> with <code>paramLength</code> in your third-to-last source-code statement; i.e. do this: <code>this.visitVarInsn(Opcodes.ALOAD, paramLength);</code> instead of this <code>this.visitVarInsn(Opcodes.ALOAD, i)</code>.</p>\n\n<p>Also, your <code>i</code> is initialized to <code>0</code>. For instance methods this means loading the <strong>this</strong> argument from the local variable table (read general explanation below). Make sure that it is exactly what you intend to do. If you do not intend to load the <strong>this</strong> variable, then initialize <code>i</code> to <code>1</code> for instance (non-static) methods.</p>\n\n<p><strong>General Explanation:</strong></p>\n\n<p>Given that you claim to use <code>MethodAdapter.visitCode</code>, i will assume that you want access the <strong>values</strong> of the method arguments, <strong>after</strong> the method's invocation.</p>\n\n<p>The method arguments are stored in the local variable table for each method invocation. Thus, you can access the values of the method arguments by simply loading, on to the operand stack, the first <strong>N</strong> variables from the local variable table; where N is simply the number of arguments to the method. Keep in mind that the local variable table is 0-indexed; and thus the indices start from 0. Also note that \"<strong>this</strong>\" is also treated as an argument in the case of instance methods. In case of instance methods, the local variable at index-0 indicates the  <strong>this</strong> \"variable\".</p>\n\n<p>The number of arguments to the method can be computed from the method description using the code in the following gist: <a href=\"https://gist.github.com/VijayKrishna/6160036\" rel=\"nofollow\">https://gist.github.com/VijayKrishna/6160036</a>. Using the <code>parseMethodArguments(String desc)</code> method you can easily compute the number of arguments to the method. Then somewhere in the <code>visitCode()</code> method, ideally as soon as possible, do this:</p>\n\n<pre><code>@Override\npublic void visitCode() {\n    ...\n    char[] methodDescParsed = parseMethodArguments(methodDescription);\n    int N = methodDescParsed.length + (isMethodStatic ? 0 : 1);\n    ...\n}\n</code></pre>\n\n<p>Most of the computation in the parseMethodArguments simply parses the method description which is a string. It replaces the type descriptors for arrays and objects with a capital L. and leaves the type descriptors for primitives as is. It returns a <code>char[]</code> with each element in the array roughly indicating the type of argument passed.</p>\n\n<p>Because the type of the <strong>this</strong> argument is not reflected in the method description, the <code>(isMethodStatic ? 1 : 0)</code> ternary expression is used to increment the argument count by 1, in case the method is not static, to account for the <strong>this</strong> argument.<br>\n<code>isMethodStatic</code> is <code>true</code> when the method is not an instance method, thus, no <strong>this</strong> argument and thus, no increment required;<br>\n<code>isMethodStatic</code> is <code>false</code> when the method is an instance method, thus, the <strong>this</strong> argument is present, thus the argument count is incremented.</p>\n\n<p>once you get the argument count, the loose Java code using ASM is as follows to access the first <strong>N</strong> local variables of the method soon after its method invocation: </p>\n\n<pre><code>for(int i = 0; i &lt; N; i ++) {\n    int opcode = 0;\n    switch() {\n       case 'L': opcode = Opcodes.ALOAD; break;\n       case 'I': opocde = Opcodes.ILOAD; break;\n       case 'J': opcode = Opocdes.LLOAD; break;\n       case 'F': ...\n       case 'D': ...\n       // TODO: complete all the cases.\n    }\n\n    mv.visitVarInsn(opcode, i);\n    // ith argument is now loaded on the operand stack.\n    // add more ASM code to do what ever it is that you want to do with the argument.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8238744,"reputation":459,"user_id":6197002,"display_name":"haoxiqiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640335523,"creation_date":1640335523,"answer_id":70471067,"question_id":18061588,"body_markdown":"In AMS 9.x\r\n\r\nI have a simple suggest.\r\n```\r\n  // org.objectweb.asm.commons.GeneratorAdapter\r\n  public void loadArgArray() {\r\n    push(argumentTypes.length);\r\n    newArray(OBJECT_TYPE);\r\n    for (int i = 0; i &lt; argumentTypes.length; i++) {\r\n      dup();\r\n      push(i);\r\n      loadArg(i);\r\n      box(argumentTypes[i]);\r\n      arrayStore(OBJECT_TYPE);\r\n    }\r\n  }\r\n```\r\ny can easy get the args array and y can do like the `loadArgArray/loadArgXXX` methods to visit each arg.","title":"get function arguments values using java asm for bytecode instrimentation","body":"<p>In AMS 9.x</p>\n<p>I have a simple suggest.</p>\n<pre><code>  // org.objectweb.asm.commons.GeneratorAdapter\n  public void loadArgArray() {\n    push(argumentTypes.length);\n    newArray(OBJECT_TYPE);\n    for (int i = 0; i &lt; argumentTypes.length; i++) {\n      dup();\n      push(i);\n      loadArg(i);\n      box(argumentTypes[i]);\n      arrayStore(OBJECT_TYPE);\n    }\n  }\n</code></pre>\n<p>y can easy get the args array and y can do like the <code>loadArgArray/loadArgXXX</code> methods to visit each arg.</p>\n"}],"owner":{"account_id":750643,"reputation":643,"user_id":750395,"accept_rate":35,"display_name":"Shay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4965,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640335523,"creation_date":1375715474,"question_id":18061588,"body_markdown":"I am using asm for inserting a callback function inside each function which is executed.\r\nHow can I print the arguents values which?\r\n\r\nI am using MethodAdapter.visitCode to inject my function into each function ran.\r\n\r\nI want to insert the function argument into an array and send my callbackk function this array and return the arguments back to the stack so that the function can continue using them\r\n\r\nThe following code inserts the method argument into an array and is sent to a callback function as an Object array.\r\nI am having trouble returning the arguments back to the original function\r\n\r\n\r\n    @Override public void visitCode() \r\n    \t\t{\r\n    \t\t\r\n    \t\t\tint paramLength = paramTypes.length;\t\t\t\r\n    \t\t\tSystem.out.println(className + &quot;.&quot; + methodName + &quot;: paramLength = &quot; + paramLength);\r\n    \t\t\t\t\t\r\n    \t\t\t\r\n    \t\t\t// Create array with length equal to number of parameters\r\n    \t\t    mv.visitIntInsn(Opcodes.BIPUSH, paramLength);\r\n    \t\t    mv.visitTypeInsn(Opcodes.ANEWARRAY, &quot;java/lang/Object&quot;);\r\n    \t\t    mv.visitVarInsn(Opcodes.ASTORE, paramLength);\r\n    \r\n    \t\t    // Fill the created array with method parameters\r\n    \t\t     int i = 0;\r\n    \t\t    for (Type tp : paramTypes) \r\n    \t\t    {\r\n    \t\t    \tSystem.out.println(&quot;tp.getClassName() = &quot; + tp.getClassName());\t\t    \t\r\n    \t\t    \t\r\n    \t\t    \tmv.visitVarInsn(Opcodes.ALOAD, paramLength);\r\n    \t\t        mv.visitIntInsn(Opcodes.BIPUSH, i);\r\n    \r\n    \t\t        if (tp.equals(Type.BOOLEAN_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.ILOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Boolean&quot;, &quot;valueOf&quot;, &quot;(Z)Ljava/lang/Boolean;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.BYTE_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.ILOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Byte&quot;, &quot;valueOf&quot;, &quot;(B)Ljava/lang/Byte;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.CHAR_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.ILOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Character&quot;, &quot;valueOf&quot;, &quot;(C)Ljava/lang/Character;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.SHORT_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.ILOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Short&quot;, &quot;valueOf&quot;, &quot;(S)Ljava/lang/Short;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.INT_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.ILOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Integer&quot;, &quot;valueOf&quot;, &quot;(I)Ljava/lang/Integer;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.LONG_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.LLOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Long&quot;, &quot;valueOf&quot;, &quot;(J)Ljava/lang/Long;&quot;);\r\n    \t\t            i++;\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.FLOAT_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.FLOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Float&quot;, &quot;valueOf&quot;, &quot;(F)Ljava/lang/Float;&quot;);\r\n    \t\t        }\r\n    \t\t        else if (tp.equals(Type.DOUBLE_TYPE)) \r\n    \t\t        {\r\n    \t\t            mv.visitVarInsn(Opcodes.DLOAD, i);\r\n    \t\t            mv.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;java/lang/Double&quot;, &quot;valueOf&quot;, &quot;(D)Ljava/lang/Double;&quot;);\r\n    \t\t            i++;\r\n    \t\t        }\r\n    \t\t        else\r\n    \t\t            mv.visitVarInsn(Opcodes.ALOAD, i);\r\n    \r\n    \t\t        mv.visitInsn(Opcodes.AASTORE);\r\n    \t\t        i++;\r\n    \t\t    }\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t    //System.out.println(&quot;end for&quot;);\r\n    \t\t    \t\t    \r\n    \t\t    // Load class name and method name\t\t\t\t\t\t\r\n    \t\t    this.visitLdcInsn(className);\r\n    \t\t    this.visitLdcInsn(methodName);\t\t\t\r\n    \t\t\t // Load the array of parameters that we created\r\n    \t\t    this.visitVarInsn(Opcodes.ALOAD, i);\t\t    \t\t    \r\n    \t\t\t\r\n    \t\t    this.visitMethodInsn(Opcodes.INVOKESTATIC, &quot;callbackpackage/CallBack&quot;, &quot;callbackfunc&quot;, &quot;(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V&quot;);\r\n    super.visitCode();\r\n    }\t\t    \t\t\r\n\t\t    ","title":"get function arguments values using java asm for bytecode instrimentation","body":"<p>I am using asm for inserting a callback function inside each function which is executed.\nHow can I print the arguents values which?</p>\n\n<p>I am using MethodAdapter.visitCode to inject my function into each function ran.</p>\n\n<p>I want to insert the function argument into an array and send my callbackk function this array and return the arguments back to the stack so that the function can continue using them</p>\n\n<p>The following code inserts the method argument into an array and is sent to a callback function as an Object array.\nI am having trouble returning the arguments back to the original function</p>\n\n<pre><code>@Override public void visitCode() \n        {\n\n            int paramLength = paramTypes.length;            \n            System.out.println(className + \".\" + methodName + \": paramLength = \" + paramLength);\n\n\n            // Create array with length equal to number of parameters\n            mv.visitIntInsn(Opcodes.BIPUSH, paramLength);\n            mv.visitTypeInsn(Opcodes.ANEWARRAY, \"java/lang/Object\");\n            mv.visitVarInsn(Opcodes.ASTORE, paramLength);\n\n            // Fill the created array with method parameters\n             int i = 0;\n            for (Type tp : paramTypes) \n            {\n                System.out.println(\"tp.getClassName() = \" + tp.getClassName());             \n\n                mv.visitVarInsn(Opcodes.ALOAD, paramLength);\n                mv.visitIntInsn(Opcodes.BIPUSH, i);\n\n                if (tp.equals(Type.BOOLEAN_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.ILOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Boolean\", \"valueOf\", \"(Z)Ljava/lang/Boolean;\");\n                }\n                else if (tp.equals(Type.BYTE_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.ILOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Byte\", \"valueOf\", \"(B)Ljava/lang/Byte;\");\n                }\n                else if (tp.equals(Type.CHAR_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.ILOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Character\", \"valueOf\", \"(C)Ljava/lang/Character;\");\n                }\n                else if (tp.equals(Type.SHORT_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.ILOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Short\", \"valueOf\", \"(S)Ljava/lang/Short;\");\n                }\n                else if (tp.equals(Type.INT_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.ILOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Integer\", \"valueOf\", \"(I)Ljava/lang/Integer;\");\n                }\n                else if (tp.equals(Type.LONG_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.LLOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Long\", \"valueOf\", \"(J)Ljava/lang/Long;\");\n                    i++;\n                }\n                else if (tp.equals(Type.FLOAT_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.FLOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Float\", \"valueOf\", \"(F)Ljava/lang/Float;\");\n                }\n                else if (tp.equals(Type.DOUBLE_TYPE)) \n                {\n                    mv.visitVarInsn(Opcodes.DLOAD, i);\n                    mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Double\", \"valueOf\", \"(D)Ljava/lang/Double;\");\n                    i++;\n                }\n                else\n                    mv.visitVarInsn(Opcodes.ALOAD, i);\n\n                mv.visitInsn(Opcodes.AASTORE);\n                i++;\n            }\n\n\n            //System.out.println(\"end for\");\n\n            // Load class name and method name                      \n            this.visitLdcInsn(className);\n            this.visitLdcInsn(methodName);          \n             // Load the array of parameters that we created\n            this.visitVarInsn(Opcodes.ALOAD, i);                        \n\n            this.visitMethodInsn(Opcodes.INVOKESTATIC, \"callbackpackage/CallBack\", \"callbackfunc\", \"(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)V\");\nsuper.visitCode();\n}                   \n</code></pre>\n"},{"tags":["java","mysql","hibernate","tomcat"],"answers":[{"tags":[],"owner":{"account_id":11897446,"reputation":13,"user_id":8706401,"display_name":"Ritik Channa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640335501,"creation_date":1640335501,"answer_id":70471064,"question_id":70416129,"body_markdown":"Incompatible versions of SpringORM and Hibernate, Upgrade your hibernate or downgrade your Spring version.","title":"java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION","body":"<p>Incompatible versions of SpringORM and Hibernate, Upgrade your hibernate or downgrade your Spring version.</p>\n"}],"owner":{"account_id":23695496,"reputation":1,"user_id":17719265,"display_name":"James Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640335501,"creation_date":1639957041,"question_id":70416129,"body_markdown":"Development configuration :\r\n\r\nSpring boot\r\nMySQL\r\nApache Server\r\nTomcat 9.x.x\r\n\r\nIt works well in my develop system. But made war file into server and below error occurs when apache tomcat starts.\r\n\r\n\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: \r\nInvocation of init method failed; nested exception is java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION\r\n\r\n20-Dec-2021 09:40:54.191 SEVERE [main] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\r\n        java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n","title":"java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION","body":"<p>Development configuration :</p>\n<p>Spring boot\nMySQL\nApache Server\nTomcat 9.x.x</p>\n<p>It works well in my develop system. But made war file into server and below error occurs when apache tomcat starts.</p>\n<pre><code>    Caused by: org.springframework.beans.factory.BeanCreationException: \n</code></pre>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\nInvocation of init method failed; nested exception is java.lang.NoSuchFieldError: BEFORE_TRANSACTION_COMPLETION</p>\n<p>20-Dec-2021 09:40:54.191 SEVERE [main] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start</p>\n"},{"tags":["java","list","loops","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640166868,"creation_date":1640166429,"answer_id":70447085,"question_id":70446852,"body_markdown":"    public static void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\r\n\r\n\t\tlistOfValue.stream().parallel()\r\n                .forEach(map -&gt; map.forEach((key,value)-&gt;{\r\n\t\t\t        if(value instanceof byte[]) {\r\n\t\t\t           \tmap.put(key, Base64.getEncoder().encodeToString((byte[])value))  ;\r\n\t\t\t}\r\n\t\t}));\r\n\t}","title":"Loop through a list of map effectively","body":"<pre><code>public static void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\n\n    listOfValue.stream().parallel()\n            .forEach(map -&gt; map.forEach((key,value)-&gt;{\n                if(value instanceof byte[]) {\n                    map.put(key, Base64.getEncoder().encodeToString((byte[])value))  ;\n        }\n    }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23710945,"reputation":57,"user_id":17732827,"display_name":"Semih Ozturk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640166429,"creation_date":1640166429,"answer_id":70447086,"question_id":70446852,"body_markdown":"Alternatively, you can use parallelStream and filter as below.\r\n\r\n\r\n    private void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\r\n               listOfValue.parallelStream().forEach(map -&gt; {\r\n                map.entrySet().parallelStream().filter(entry-&gt;entry.getValue() instanceof byte[]).forEach(entry -&gt; {\r\n                    entry.setValue(Base64.getEncoder().encodeToString((byte[]) entry.getValue()));\r\n                });\r\n              });`\r\n    }","title":"Loop through a list of map effectively","body":"<p>Alternatively, you can use parallelStream and filter as below.</p>\n<pre><code>private void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\n           listOfValue.parallelStream().forEach(map -&gt; {\n            map.entrySet().parallelStream().filter(entry-&gt;entry.getValue() instanceof byte[]).forEach(entry -&gt; {\n                entry.setValue(Base64.getEncoder().encodeToString((byte[]) entry.getValue()));\n            });\n          });`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640167755,"creation_date":1640166437,"answer_id":70447087,"question_id":70446852,"body_markdown":"Current implementation seems to be ok, however, checking for emptiness of the list and the nested maps seems to be redundant.\r\n\r\nSome performance improvement may be possibly achieved if parallel streams are used to iterate the list/maps.\r\n```java\r\nprivate void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\r\n    Base64.Encoder base64encoder = Base64.getEncoder();\r\n    listOfValue.parallelStream()\r\n        .flatMap(map -&gt; map.entrySet().parallelStream())\r\n        .filter(entry -&gt; entry.getValue() instanceof byte[])\r\n        .forEach(entry -&gt; entry.setValue(\r\n            base64encoder.encodeToString((byte[]) entry.getValue())\r\n        ));\r\n}\r\n```\r\n[`Base64.Encoder`](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html) is thread-safe: _Instances of `Base64.Encoder` class are safe for use by multiple concurrent threads._.","title":"Loop through a list of map effectively","body":"<p>Current implementation seems to be ok, however, checking for emptiness of the list and the nested maps seems to be redundant.</p>\n<p>Some performance improvement may be possibly achieved if parallel streams are used to iterate the list/maps.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\n    Base64.Encoder base64encoder = Base64.getEncoder();\n    listOfValue.parallelStream()\n        .flatMap(map -&gt; map.entrySet().parallelStream())\n        .filter(entry -&gt; entry.getValue() instanceof byte[])\n        .forEach(entry -&gt; entry.setValue(\n            base64encoder.encodeToString((byte[]) entry.getValue())\n        ));\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html\" rel=\"nofollow noreferrer\"><code>Base64.Encoder</code></a> is thread-safe: <em>Instances of <code>Base64.Encoder</code> class are safe for use by multiple concurrent threads.</em>.</p>\n"}],"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70447087,"answer_count":3,"score":0,"last_activity_date":1640335209,"creation_date":1640165317,"question_id":70446852,"body_markdown":"Basically I have a `List&lt;Map&lt;String, Object&gt;&gt; listOfValue`and I need to check if the object is instance of byte then encode it to String as shown below:\r\n\r\n    private void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\r\n\r\n    Object value = null;\r\n\r\n\r\n    if (!CollectionUtils.isEmpty(listOfValue)) {\r\n\r\n        for (Map&lt;String, Object&gt; map : listOfValue) {\r\n\r\n            if (!map.isEmpty()) {\r\n\r\n                for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n\r\n                    value = entry.getValue();\r\n\r\n                    if (value instanceof byte[]) {\r\n\r\n                        entry.setValue(Base64.getEncoder().encodeToString((byte[]) value));\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nI am using java 8 and it is working as expected but is it the correct way of doing it or any better way in term of performance? ","title":"Loop through a list of map effectively","body":"<p>Basically I have a <code>List&lt;Map&lt;String, Object&gt;&gt; listOfValue</code>and I need to check if the object is instance of byte then encode it to String as shown below:</p>\n<pre><code>private void convertByteToBase64(List&lt;Map&lt;String, Object&gt;&gt; listOfValue) {\n\nObject value = null;\n\n\nif (!CollectionUtils.isEmpty(listOfValue)) {\n\n    for (Map&lt;String, Object&gt; map : listOfValue) {\n\n        if (!map.isEmpty()) {\n\n            for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n\n                value = entry.getValue();\n\n                if (value instanceof byte[]) {\n\n                    entry.setValue(Base64.getEncoder().encodeToString((byte[]) value));\n                }\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>I am using java 8 and it is working as expected but is it the correct way of doing it or any better way in term of performance?</p>\n"},{"tags":["java","list","sorting","arraylist","collections"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1640321296,"post_id":70469640,"comment_id":124569382,"body_markdown":"Have you considered using classes?","body":"Have you considered using classes?"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1640321377,"post_id":70469640,"comment_id":124569397,"body_markdown":"@shmosel do you mean using the List&lt;Object&gt; ?","body":"@shmosel do you mean using the List&lt;Object&gt; ?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1640321424,"post_id":70469640,"comment_id":124569402,"body_markdown":"I mean `List&lt;Person&gt;` where `class Person` contains fields `name`, `phone`, `address` and `birthday`.","body":"I mean <code>List&lt;Person&gt;</code> where <code>class Person</code> contains fields <code>name</code>, <code>phone</code>, <code>address</code> and <code>birthday</code>."},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1640321585,"post_id":70469640,"comment_id":124569426,"body_markdown":"@shmosel I haven&#39;t tried that yet. My code is completed using Lists. How do I sort it using classes? I can change my code","body":"@shmosel I haven&#39;t tried that yet. My code is completed using Lists. How do I sort it using classes? I can change my code"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1640321725,"post_id":70469640,"comment_id":124569446,"body_markdown":"This code shows classic “object phobia”. Create a person (or whatever name makes sense) object. Parallel arrays are not great OO.","body":"This code shows classic “object phobia”. Create a person (or whatever name makes sense) object. Parallel arrays are not great OO."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640321808,"post_id":70469640,"comment_id":124569454,"body_markdown":"I think I answered a similar question in the past...","body":"I think I answered a similar question in the past..."},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1640322561,"post_id":70469640,"comment_id":124569550,"body_markdown":"@hfontanez could you please share a link ? Or else I will write a new code. Thanks","body":"@hfontanez could you please share a link ? Or else I will write a new code. Thanks"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640322760,"post_id":70469640,"comment_id":124569575,"body_markdown":"It&#39;s the same that shmosel recommended. But, in order to sort a `Person` the class needs to implement `Comparable`.","body":"It&#39;s the same that shmosel recommended. But, in order to sort a <code>Person</code> the class needs to implement <code>Comparable</code>."},{"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"score":0,"creation_date":1640323127,"post_id":70469640,"comment_id":124569636,"body_markdown":"found similar question, https://stackoverflow.com/q/30821395  have a look you&#39;ll get help here","body":"found similar question, <a href=\"https://stackoverflow.com/q/30821395\">stackoverflow.com/q/30821395</a>  have a look you&#39;ll get help here"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1640328966,"post_id":70469640,"comment_id":124570483,"body_markdown":"You should also convert the birthdays to actual date because in general case their sorting largely depends on the format, that is, the birthdays can be sorted only if they are presented in YYYY-MM-DD or similar format (with leading zeroes in month/day)","body":"You should also convert the birthdays to actual date because in general case their sorting largely depends on the format, that is, the birthdays can be sorted only if they are presented in YYYY-MM-DD or similar format (with leading zeroes in month/day)"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640333516,"creation_date":1640333516,"answer_id":70470833,"question_id":70469640,"body_markdown":"Sorting of multiple lists of the same size is possible following these steps:\r\n1. Create an array/list of indexes according to the sorting rules (first by names, then by birthdays in appropriate YYYYMMDD format, etc.)\r\n```java\r\nList&lt;String&gt; names  = Arrays.asList(&quot;bbb&quot;, &quot;aaa&quot;, &quot;bbb&quot;, &quot;aaa&quot;);\r\nList&lt;String&gt; phones = Arrays.asList(&quot;1023456&quot;, &quot;1324560&quot;, &quot;1227890&quot;, &quot;1446752&quot;);\r\nList&lt;String&gt; bdays  = Arrays.asList(&quot;20001122&quot;, &quot;19980105&quot;, &quot;20010614&quot;, &quot;19990507&quot;);\r\n\r\nint[] indexes = IntStream.range(0, names.size())\r\n    .boxed()\r\n    .sorted(Comparator.comparing(names::get).thenComparing(bdays::get))\r\n    .mapToInt(Integer::intValue)\r\n    .toArray(); // -&gt; [1, 3, 0, 2]\r\n```\r\n2. Reorder each of the input lists according to the indexes.\r\nA separate method may be created for this:\r\n```java\r\nprivate static List&lt;String&gt; sort(List&lt;String&gt; list, int[] indexes) {\r\n    return Arrays.stream(indexes).mapToObj(list::get).collect(Collectors.toList());\r\n}\r\n// ...\r\nSystem.out.println(sort(names,  indexes)); -&gt; [aaa, aaa, bbb, bbb]\r\nSystem.out.println(sort(phones, indexes)); -&gt; [1324560, 1446752, 1023456, 1227890]\r\nSystem.out.println(sort(bdays,  indexes)); -&gt; [19980105, 19990507, 20001122, 20010614]\r\n```\r\n----\r\nHowever, it would be more natural to create a container object to combine the values from the different input lists, which has become quite simple after introducing `record` classes in Java 16, and the sort these objects:\r\n```\r\nrecord Person(String name, String phone, String bday) {}\r\n\r\nList&lt;Person&gt; persons = IntStream.range(0, names.size())\r\n    .boxed()\r\n    .map(i -&gt; new Person(names.get(i), phones.get(i), bdays.get(i)))\r\n    .sorted(Comparator.comparing(Person::name).thenComparing(Person::bday))\r\n    .collect(Collectors.toList());\r\n\r\npersons.forEach(System.out::println);\r\n```\r\nOutput:\r\n```\r\nPerson[name=aaa, phone=1324560, bday=19980105]\r\nPerson[name=aaa, phone=1446752, bday=19990507]\r\nPerson[name=bbb, phone=1023456, bday=20001122]\r\nPerson[name=bbb, phone=1227890, bday=20010614]\r\n```","title":"Sorting a number of lists based on two lists in Java","body":"<p>Sorting of multiple lists of the same size is possible following these steps:</p>\n<ol>\n<li>Create an array/list of indexes according to the sorting rules (first by names, then by birthdays in appropriate YYYYMMDD format, etc.)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; names  = Arrays.asList(&quot;bbb&quot;, &quot;aaa&quot;, &quot;bbb&quot;, &quot;aaa&quot;);\nList&lt;String&gt; phones = Arrays.asList(&quot;1023456&quot;, &quot;1324560&quot;, &quot;1227890&quot;, &quot;1446752&quot;);\nList&lt;String&gt; bdays  = Arrays.asList(&quot;20001122&quot;, &quot;19980105&quot;, &quot;20010614&quot;, &quot;19990507&quot;);\n\nint[] indexes = IntStream.range(0, names.size())\n    .boxed()\n    .sorted(Comparator.comparing(names::get).thenComparing(bdays::get))\n    .mapToInt(Integer::intValue)\n    .toArray(); // -&gt; [1, 3, 0, 2]\n</code></pre>\n<ol start=\"2\">\n<li>Reorder each of the input lists according to the indexes.\nA separate method may be created for this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;String&gt; sort(List&lt;String&gt; list, int[] indexes) {\n    return Arrays.stream(indexes).mapToObj(list::get).collect(Collectors.toList());\n}\n// ...\nSystem.out.println(sort(names,  indexes)); -&gt; [aaa, aaa, bbb, bbb]\nSystem.out.println(sort(phones, indexes)); -&gt; [1324560, 1446752, 1023456, 1227890]\nSystem.out.println(sort(bdays,  indexes)); -&gt; [19980105, 19990507, 20001122, 20010614]\n</code></pre>\n<hr />\n<p>However, it would be more natural to create a container object to combine the values from the different input lists, which has become quite simple after introducing <code>record</code> classes in Java 16, and the sort these objects:</p>\n<pre><code>record Person(String name, String phone, String bday) {}\n\nList&lt;Person&gt; persons = IntStream.range(0, names.size())\n    .boxed()\n    .map(i -&gt; new Person(names.get(i), phones.get(i), bdays.get(i)))\n    .sorted(Comparator.comparing(Person::name).thenComparing(Person::bday))\n    .collect(Collectors.toList());\n\npersons.forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>Person[name=aaa, phone=1324560, bday=19980105]\nPerson[name=aaa, phone=1446752, bday=19990507]\nPerson[name=bbb, phone=1023456, bday=20001122]\nPerson[name=bbb, phone=1227890, bday=20010614]\n</code></pre>\n"}],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640334965,"creation_date":1640321222,"question_id":70469640,"body_markdown":"I have four lists as follows:\r\n\r\n        ArrayList&lt;String&gt; tempNameList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; tempPhoneList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; tempAddressList = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; tempBirthdayList = new ArrayList&lt;&gt;();\r\n\r\nEach list contains records related to the other lists by index. I am trying to sort all the lists in ascending order by the person&#39;s Name and Birthday. I have tried using `Collections.sort()` but it only supports a single list at a time.     \r\nHow do I sort all the lists by name and birthday?","title":"Sorting a number of lists based on two lists in Java","body":"<p>I have four lists as follows:</p>\n<pre><code>    ArrayList&lt;String&gt; tempNameList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; tempPhoneList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; tempAddressList = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; tempBirthdayList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Each list contains records related to the other lists by index. I am trying to sort all the lists in ascending order by the person's Name and Birthday. I have tried using <code>Collections.sort()</code> but it only supports a single list at a time.<br />\nHow do I sort all the lists by name and birthday?</p>\n"},{"tags":["java","jpa","oracle11g","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1640187262,"post_id":70449138,"comment_id":124537068,"body_markdown":"If your json User just has a List of strings, making it seems like overkill to have a UserlanguageEntity entity/java class - all you need is an element collection, with a table containing the language string and the user id. Otherwise, you must configure your model and tell JPA what to do when you clear the list - check out orphanRemoval and CascadeType.REMOVE which you may want to set on the relationship.","body":"If your json User just has a List of strings, making it seems like overkill to have a UserlanguageEntity entity/java class - all you need is an element collection, with a table containing the language string and the user id. Otherwise, you must configure your model and tell JPA what to do when you clear the list - check out orphanRemoval and CascadeType.REMOVE which you may want to set on the relationship."},{"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"score":0,"creation_date":1640255872,"post_id":70449138,"comment_id":124553660,"body_markdown":"Yeah for sure but I need that entity along with other services and i found that i want to keep it as an extra entity.","body":"Yeah for sure but I need that entity along with other services and i found that i want to keep it as an extra entity."},{"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"score":0,"creation_date":1640255966,"post_id":70449138,"comment_id":124553689,"body_markdown":"And Orphanremoval is that point that i dont understand i thought that this is the way jpa handel with a list to merge it in the db :/","body":"And Orphanremoval is that point that i dont understand i thought that this is the way jpa handel with a list to merge it in the db :/"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1640268092,"post_id":70449138,"comment_id":124557583,"body_markdown":"If you don&#39;t delete entities when they are de-referenced, what do you think should happen to them exactly? JPA will certainly maintain the &#39;list&#39;, but since your table only has a fk field in USERLANGUAGE that is a part of its primary key, you can&#39;t exactly treat it like any old entity - it cannot be moved to point at another User. I can only guess at your model since you haven&#39;t shown entities or mappings, but it doesn&#39;t make sense to me to have USERLANGUAGE be an entity with this table setup. How are you going to map the &quot;English&quot; string to any existing &quot;English&quot; entity, and why bother trying","body":"If you don&#39;t delete entities when they are de-referenced, what do you think should happen to them exactly? JPA will certainly maintain the &#39;list&#39;, but since your table only has a fk field in USERLANGUAGE that is a part of its primary key, you can&#39;t exactly treat it like any old entity - it cannot be moved to point at another User. I can only guess at your model since you haven&#39;t shown entities or mappings, but it doesn&#39;t make sense to me to have USERLANGUAGE be an entity with this table setup. How are you going to map the &quot;English&quot; string to any existing &quot;English&quot; entity, and why bother trying"},{"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"score":0,"creation_date":1640334707,"post_id":70449138,"comment_id":124571515,"body_markdown":"Ah ok i got it. I edit the question above with the entities but i think its easier to store only the list like you explained and write a extra repository to get only the languages for specified user. I&#39;ll try it and post the result :D","body":"Ah ok i got it. I edit the question above with the entities but i think its easier to store only the list like you explained and write a extra repository to get only the languages for specified user. I&#39;ll try it and post the result :D"}],"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640334316,"creation_date":1640176459,"question_id":70449138,"body_markdown":"I have a little problem to understand how it make sense to insert a List of languages in JPA for a Oracle 19 DB. \r\n\r\nThe API receives a DTO with a list of chosen languages for one user. \r\n```\r\n{\r\n    &quot;userId&quot;: 173125,\r\n    &quot;logname&quot;: &quot;testor2&quot;,\r\n    &quot;lastname&quot;: &quot;Testimator2&quot;,\r\n    &quot;firstname&quot;: &quot;Testor2&quot;,\r\n    &quot;selectedLang&quot;: [\r\n        &quot;German&quot;,\r\n        &quot;English&quot;\r\n    ],\r\n}\r\n\r\n```\r\nThe Table looks like this for User and had a Table with pk and fk for user and language code. \r\n\r\nThe Table should remove unused languages that not in the received DTO || insert new languages in the table that not exist.\r\nTables that used in the db are:\r\n\r\nUSER\r\n\r\n| Columnname | Type           | keys       |\r\n| --------   | -------------- | ---------- |\r\n| USERID     | int            | PK         |\r\n| LOGNAME    | row            | -          |\r\n| NAME       | varchar        | -          |\r\n| LASTNAME   | varchar        | -          |\r\n\r\nUSERLANGUAGE\r\n\r\n| Columnname      | Type           | keys                     |\r\n| --------        | -------------- | ----------               |\r\n| USERLANGUAGEID  | int            | PK --part of primary key |\r\n| USERID          | int            | PK --part of primary key |\r\n| Languagecode    | varchar        | -                        |\r\n\r\n\r\nNow the tricky part. I want to store the languages as a List and have thought that jpa deals with the update, remove or inserts itself. \r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;, schema = &quot;test&quot;)\r\n    public class UserEntity {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;USERID&quot;, nullable = false)\r\n\tprivate long userid;\r\n\t@Column(name = &quot;LOGNAME&quot;, nullable = false, length = 50)\r\n\tprivate String logname;\r\n\t@Column(name = &quot;NAME&quot;, nullable = false, length = 60)\r\n\tprivate String name;\r\n\t@Column(name = &quot;LASTNAME&quot;, nullable = false, length = 80)\r\n\tprivate String lastname;\r\n\r\n\t@OneToMany(mappedBy = &quot;userid&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;UserlanguageEntity&gt; languages;\r\n\r\n\tpublic List&lt;UserlanguageEntity&gt; getLanguages() {\r\n\t\treturn languages;\r\n\t}\r\n\r\n\tpublic void setLanguages(List&lt;UserlanguageEntity&gt; languages) {\r\n\t\tthis.languages = languages;\r\n\t}\r\n\r\n\tpublic UserEntity addLanguage(UserlanguageEntity userlanguageEntity) {\r\n\t\tlanguages.add(userlanguageEntity);\r\n\t\tuserlanguageEntity.setUserid(this);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic UserEntity removeLanguage(UserlanguageEntity userlanguageEntity) {\r\n\t\tlanguages.remove(userlanguageEntity);\r\n\t\tuserlanguageEntity.setUserid(null);\r\n\t\treturn this;\r\n\t}\r\n    }\r\n\r\nUserLanguageEntity\r\n\r\n    @Entity\r\n    @Table(name = &quot;USRLANGUAGE&quot;)\r\n    public class UsrlanguageEntity {\r\n\r\n\r\n    @EmbeddedId\r\n    private UserId user;\r\n\r\n    private String languagecode;\r\n\r\n    @Basic\r\n    @Column(name = &quot;LANGUAGECODE&quot;, nullable = true, length = 4)\r\n    public String getLanguagecode() {\r\n        return languagecode;\r\n    }\r\n\r\n    public void setLanguagecode(String languagecode) {\r\n        this.languagecode = languagecode;\r\n    }\r\n\r\n    public UserId getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(UserId user) {\r\n        this.user = user;\r\n    }\r\n    ...\r\n    }\r\n\r\nEmbedded ID\r\n\r\n    @Embeddable\r\n    public class UserId implements Serializable {\r\n\r\n    @SequenceGenerator(name = &quot;userlanguageid&quot;, sequenceName = \r\n    &quot;USERLANGUAGEID&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \r\n    &quot;userlanguageid&quot;)\r\n    @Column(name = &quot;USERLANGUAGEID&quot;, nullable = false, precision = 0)\r\n    private long userlanguageid;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;USERID&quot;)\r\n    private UserEntity userid;\r\n    ...\r\n    }\r\n\r\nSo the fetch method is fine and works as intended, but when i want to update the languages I get errors. \r\nFirst of all get the list out of db to an UserEntity, then want to clear the UserLanguageEntitylist -&gt; the list in the UserEntity. And than add the received list, maybe thats imposible. So what would be the best implementation to get this to work. First i want to delete all languagecodes in the db and write the new list into it, but it feels a bit dirty to me because maybe some have not to be changed. \r\n\r\n    public void setUserDataForCompany(UserDto userDto) {\r\n        CompanyEntity companyEntity = companyRepository.findById(41).orElseThrow(\r\n            NoSuchElementException::new);\r\n        UserEntity userEntity = userRepository.findById(userDto.getUserId()).orElseThrow(\r\n            NoSuchElementException::new);\r\n        companyUserDataMapper.toEntity(userDto, companyEntity, userEntity);\r\n\r\n        setLanguagesForUser(userDto, userEntity);\r\n        userRepository.save(userEntity);\r\n    }\r\n    // Here i have no clue to update existing or store missing languages\r\n    private void setLanguagesForUser(UserDto userDto, UserEntity userEntity) {\r\n        userDto.getSelectedLang().forEach(language -&gt; {\r\n            UserlanguageEntity userlanguageEntity = new UserlanguageEntity();\r\n            userlanguageEntity.setLanguagecode(language.getLngCode());\r\n            userEntity.addLanguage(userlanguageEntity);\r\n        });\r\n    }\r\n\r\n\r\nCould someone get me a hint to doing it the right way?\r\n\r\n\r\nThanks a lot and cheers\r\n\r\n ","title":"update/delete/insert a List in JPA","body":"<p>I have a little problem to understand how it make sense to insert a List of languages in JPA for a Oracle 19 DB.</p>\n<p>The API receives a DTO with a list of chosen languages for one user.</p>\n<pre><code>{\n    &quot;userId&quot;: 173125,\n    &quot;logname&quot;: &quot;testor2&quot;,\n    &quot;lastname&quot;: &quot;Testimator2&quot;,\n    &quot;firstname&quot;: &quot;Testor2&quot;,\n    &quot;selectedLang&quot;: [\n        &quot;German&quot;,\n        &quot;English&quot;\n    ],\n}\n\n</code></pre>\n<p>The Table looks like this for User and had a Table with pk and fk for user and language code.</p>\n<p>The Table should remove unused languages that not in the received DTO || insert new languages in the table that not exist.\nTables that used in the db are:</p>\n<p>USER</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Columnname</th>\n<th>Type</th>\n<th>keys</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>USERID</td>\n<td>int</td>\n<td>PK</td>\n</tr>\n<tr>\n<td>LOGNAME</td>\n<td>row</td>\n<td>-</td>\n</tr>\n<tr>\n<td>NAME</td>\n<td>varchar</td>\n<td>-</td>\n</tr>\n<tr>\n<td>LASTNAME</td>\n<td>varchar</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>USERLANGUAGE</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Columnname</th>\n<th>Type</th>\n<th>keys</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>USERLANGUAGEID</td>\n<td>int</td>\n<td>PK --part of primary key</td>\n</tr>\n<tr>\n<td>USERID</td>\n<td>int</td>\n<td>PK --part of primary key</td>\n</tr>\n<tr>\n<td>Languagecode</td>\n<td>varchar</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now the tricky part. I want to store the languages as a List and have thought that jpa deals with the update, remove or inserts itself.</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;, schema = &quot;test&quot;)\npublic class UserEntity {\n\n@Id\n@Column(name = &quot;USERID&quot;, nullable = false)\nprivate long userid;\n@Column(name = &quot;LOGNAME&quot;, nullable = false, length = 50)\nprivate String logname;\n@Column(name = &quot;NAME&quot;, nullable = false, length = 60)\nprivate String name;\n@Column(name = &quot;LASTNAME&quot;, nullable = false, length = 80)\nprivate String lastname;\n\n@OneToMany(mappedBy = &quot;userid&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;UserlanguageEntity&gt; languages;\n\npublic List&lt;UserlanguageEntity&gt; getLanguages() {\n    return languages;\n}\n\npublic void setLanguages(List&lt;UserlanguageEntity&gt; languages) {\n    this.languages = languages;\n}\n\npublic UserEntity addLanguage(UserlanguageEntity userlanguageEntity) {\n    languages.add(userlanguageEntity);\n    userlanguageEntity.setUserid(this);\n    return this;\n}\n\npublic UserEntity removeLanguage(UserlanguageEntity userlanguageEntity) {\n    languages.remove(userlanguageEntity);\n    userlanguageEntity.setUserid(null);\n    return this;\n}\n}\n</code></pre>\n<p>UserLanguageEntity</p>\n<pre><code>@Entity\n@Table(name = &quot;USRLANGUAGE&quot;)\npublic class UsrlanguageEntity {\n\n\n@EmbeddedId\nprivate UserId user;\n\nprivate String languagecode;\n\n@Basic\n@Column(name = &quot;LANGUAGECODE&quot;, nullable = true, length = 4)\npublic String getLanguagecode() {\n    return languagecode;\n}\n\npublic void setLanguagecode(String languagecode) {\n    this.languagecode = languagecode;\n}\n\npublic UserId getUser() {\n    return user;\n}\n\npublic void setUser(UserId user) {\n    this.user = user;\n}\n...\n}\n</code></pre>\n<p>Embedded ID</p>\n<pre><code>@Embeddable\npublic class UserId implements Serializable {\n\n@SequenceGenerator(name = &quot;userlanguageid&quot;, sequenceName = \n&quot;USERLANGUAGEID&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \n&quot;userlanguageid&quot;)\n@Column(name = &quot;USERLANGUAGEID&quot;, nullable = false, precision = 0)\nprivate long userlanguageid;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;USERID&quot;)\nprivate UserEntity userid;\n...\n}\n</code></pre>\n<p>So the fetch method is fine and works as intended, but when i want to update the languages I get errors.\nFirst of all get the list out of db to an UserEntity, then want to clear the UserLanguageEntitylist -&gt; the list in the UserEntity. And than add the received list, maybe thats imposible. So what would be the best implementation to get this to work. First i want to delete all languagecodes in the db and write the new list into it, but it feels a bit dirty to me because maybe some have not to be changed.</p>\n<pre><code>public void setUserDataForCompany(UserDto userDto) {\n    CompanyEntity companyEntity = companyRepository.findById(41).orElseThrow(\n        NoSuchElementException::new);\n    UserEntity userEntity = userRepository.findById(userDto.getUserId()).orElseThrow(\n        NoSuchElementException::new);\n    companyUserDataMapper.toEntity(userDto, companyEntity, userEntity);\n\n    setLanguagesForUser(userDto, userEntity);\n    userRepository.save(userEntity);\n}\n// Here i have no clue to update existing or store missing languages\nprivate void setLanguagesForUser(UserDto userDto, UserEntity userEntity) {\n    userDto.getSelectedLang().forEach(language -&gt; {\n        UserlanguageEntity userlanguageEntity = new UserlanguageEntity();\n        userlanguageEntity.setLanguagecode(language.getLngCode());\n        userEntity.addLanguage(userlanguageEntity);\n    });\n}\n</code></pre>\n<p>Could someone get me a hint to doing it the right way?</p>\n<p>Thanks a lot and cheers</p>\n"},{"tags":["java","android","colors","background","spinner"],"answers":[{"tags":[],"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640334222,"creation_date":1640334222,"answer_id":70470914,"question_id":70391244,"body_markdown":"You want to use `setPopupBackgroundDrawable()` like this:\r\n\r\n    spinner.setPopupBackgroundDrawable(ColorDrawable(0xFF5733));","title":"How to set spinner popup background color dynamically with hex code?","body":"<p>You want to use <code>setPopupBackgroundDrawable()</code> like this:</p>\n<pre><code>spinner.setPopupBackgroundDrawable(ColorDrawable(0xFF5733));\n</code></pre>\n"}],"owner":{"account_id":23673746,"reputation":11,"user_id":17700204,"display_name":"Anjali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640334222,"creation_date":1639734468,"question_id":70391244,"body_markdown":"When I try to set spinner popup background, following code works;\r\n\r\n```setPopupBackgroundResource(R.drawable.black);```\r\n\r\nBut I need to set hex code dynamically as popup background and uses following code.But it doesn&#39;t work for me\r\n\r\n```spinner.setPopupBackgroundResource(#FF5733)```\r\n\r\n\r\nThanks in advance...:)","title":"How to set spinner popup background color dynamically with hex code?","body":"<p>When I try to set spinner popup background, following code works;</p>\n<p><code>setPopupBackgroundResource(R.drawable.black);</code></p>\n<p>But I need to set hex code dynamically as popup background and uses following code.But it doesn't work for me</p>\n<p><code>spinner.setPopupBackgroundResource(#FF5733)</code></p>\n<p>Thanks in advance...:)</p>\n"},{"tags":["java","android","swing","android-linearlayout","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":1220153,"reputation":1502,"user_id":1186938,"accept_rate":83,"display_name":"Marl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1329987787,"creation_date":1329987064,"answer_id":9409714,"question_id":9409498,"body_markdown":"You can use the FlowLayout, GridLayout or BorderLayout. In my experience in building GUI in java, I mostly use combinations of BorderLayouts (most of the time) and GridLayouts.\r\n\r\n&lt;a href=&quot;http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html&quot;&gt;Layout Basics&lt;/a&gt;\r\n\r\nIf you want it to look like\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ULMEE.jpg\r\n\r\nthe code is:\r\n\r\n    public void initComponents() {\r\n\r\n        jButton1 = new javax.swing.JButton();\r\n        jButton2 = new javax.swing.JButton();\r\n        jButton3 = new javax.swing.JButton();\r\n        jButton4 = new javax.swing.JButton();\r\n\r\n        setLayout(new java.awt.GridLayout(0, 1));\r\n\r\n        jButton1.setText(&quot;jButton1&quot;);\r\n        add(jButton1);\r\n\r\n        jButton2.setText(&quot;jButton2&quot;);\r\n        add(jButton2);\r\n\r\n        jButton3.setText(&quot;jButton3&quot;);\r\n        add(jButton3);\r\n\r\n        jButton4.setText(&quot;jButton4&quot;);\r\n        add(jButton4);\r\n    }","title":"Android&#39;s LinearLayout for Swing","body":"<p>You can use the FlowLayout, GridLayout or BorderLayout. In my experience in building GUI in java, I mostly use combinations of BorderLayouts (most of the time) and GridLayouts.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"noreferrer\">Layout Basics</a></p>\n\n<p>If you want it to look like</p>\n\n<p><img src=\"https://i.stack.imgur.com/ULMEE.jpg\" alt=\"enter image description here\"></p>\n\n<p>the code is:</p>\n\n<pre><code>public void initComponents() {\n\n    jButton1 = new javax.swing.JButton();\n    jButton2 = new javax.swing.JButton();\n    jButton3 = new javax.swing.JButton();\n    jButton4 = new javax.swing.JButton();\n\n    setLayout(new java.awt.GridLayout(0, 1));\n\n    jButton1.setText(\"jButton1\");\n    add(jButton1);\n\n    jButton2.setText(\"jButton2\");\n    add(jButton2);\n\n    jButton3.setText(\"jButton3\");\n    add(jButton3);\n\n    jButton4.setText(\"jButton4\");\n    add(jButton4);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1329996717,"creation_date":1329996717,"answer_id":9412192,"question_id":9409498,"body_markdown":"If you need individual weights use GridBagLayout. Or you can try BoxLayout.","title":"Android&#39;s LinearLayout for Swing","body":"<p>If you need individual weights use GridBagLayout. Or you can try BoxLayout.</p>\n"},{"tags":[],"owner":{"account_id":9497012,"reputation":11,"user_id":7059642,"display_name":"adierebel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640334209,"creation_date":1640334209,"answer_id":70470912,"question_id":9409498,"body_markdown":"You can use SwanLayout https://github.com/idayrus/swan-layout\r\n\r\nThis library bring **LinearLayout** and **FrameLayout** implementation to Java Swing\r\n\r\nExample in kotlin:\r\n\r\n```kotlin\r\nval panelVertical = JPanel(LinearLayout(LinearLayout.VERTICAL))\r\nval panelHorizontal = JPanel(LinearLayout(LinearLayout.HORIZONTAL))\r\nval lc = LinearConstraints()\r\n\r\nlc.reset()\r\nlc.width = 0\r\nlc.weight = 0.5\r\nlc.margin = 10\r\nlc.marginEnd = 5\r\npanelHorizontal.add(JButton(&quot;Horizontal (weight 0.5)&quot;), lc)\r\n\r\nlc.reset()\r\nlc.width = 0\r\nlc.weight = 0.5\r\nlc.margin = 10\r\nlc.marginStart = 5\r\npanelHorizontal.add(JButton(&quot;Horizontal (weight 0.5)&quot;), lc)\r\n\r\n// Add panelHorizontal to panelVertical\r\nlc.reset()\r\nlc.width = LinearConstraints.MATCH_PARENT\r\nlc.height = LinearConstraints.WRAP_CONTENT\r\npanelVertical.add(panelHorizontal, lc)\r\n\r\nlc.reset()\r\nlc.margin = 10\r\nlc.marginTop = 0\r\nlc.width = LinearConstraints.WRAP_CONTENT\r\nlc.height = LinearConstraints.WRAP_CONTENT\r\nlc.gravity = LinearConstraints.CENTER\r\npanelVertical.add(JButton(&quot;Gravity Center&quot;), lc)\r\n\r\nlc.reset()\r\nlc.margin = 10\r\nlc.marginTop = 0\r\nlc.width = LinearConstraints.MATCH_PARENT\r\nlc.height = LinearConstraints.MATCH_PARENT\r\npanelVertical.add(JButton(&quot;Fill Remain&quot;), lc)\r\n```\r\n\r\n[Result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MYpEb.png","title":"Android&#39;s LinearLayout for Swing","body":"<p>You can use SwanLayout <a href=\"https://github.com/idayrus/swan-layout\" rel=\"nofollow noreferrer\">https://github.com/idayrus/swan-layout</a></p>\n<p>This library bring <strong>LinearLayout</strong> and <strong>FrameLayout</strong> implementation to Java Swing</p>\n<p>Example in kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val panelVertical = JPanel(LinearLayout(LinearLayout.VERTICAL))\nval panelHorizontal = JPanel(LinearLayout(LinearLayout.HORIZONTAL))\nval lc = LinearConstraints()\n\nlc.reset()\nlc.width = 0\nlc.weight = 0.5\nlc.margin = 10\nlc.marginEnd = 5\npanelHorizontal.add(JButton(&quot;Horizontal (weight 0.5)&quot;), lc)\n\nlc.reset()\nlc.width = 0\nlc.weight = 0.5\nlc.margin = 10\nlc.marginStart = 5\npanelHorizontal.add(JButton(&quot;Horizontal (weight 0.5)&quot;), lc)\n\n// Add panelHorizontal to panelVertical\nlc.reset()\nlc.width = LinearConstraints.MATCH_PARENT\nlc.height = LinearConstraints.WRAP_CONTENT\npanelVertical.add(panelHorizontal, lc)\n\nlc.reset()\nlc.margin = 10\nlc.marginTop = 0\nlc.width = LinearConstraints.WRAP_CONTENT\nlc.height = LinearConstraints.WRAP_CONTENT\nlc.gravity = LinearConstraints.CENTER\npanelVertical.add(JButton(&quot;Gravity Center&quot;), lc)\n\nlc.reset()\nlc.margin = 10\nlc.marginTop = 0\nlc.width = LinearConstraints.MATCH_PARENT\nlc.height = LinearConstraints.MATCH_PARENT\npanelVertical.add(JButton(&quot;Fill Remain&quot;), lc)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MYpEb.png\" rel=\"nofollow noreferrer\">Result</a></p>\n"}],"owner":{"account_id":158354,"reputation":1744,"user_id":376926,"accept_rate":75,"display_name":"tilex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4823,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":9412192,"answer_count":3,"score":6,"last_activity_date":1640334209,"creation_date":1329985969,"question_id":9409498,"body_markdown":"Is there a LayoutManager for Swing that acts as LinearLayout in Android? I like an idea of components weights very much.","title":"Android&#39;s LinearLayout for Swing","body":"<p>Is there a LayoutManager for Swing that acts as LinearLayout in Android? I like an idea of components weights very much.</p>\n"},{"tags":["java","swing","user-interface","layout","layout-manager"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1594003769,"post_id":62748320,"comment_id":110964383,"body_markdown":"Not sure what you issue is. You could use a BoxLayout or a GridBagLayout. Or you could nest panels with different layout managers. Maybe start with a BorderLayout. Add a JPanel to the BorderLayout.PAGE_END with the text field and pinned items. Then have another JPanel in the center for the dynamic items to that you can scroll if necessary. We don&#39;t have enough information to provide a detailed answer.","body":"Not sure what you issue is. You could use a BoxLayout or a GridBagLayout. Or you could nest panels with different layout managers. Maybe start with a BorderLayout. Add a JPanel to the BorderLayout.PAGE_END with the text field and pinned items. Then have another JPanel in the center for the dynamic items to that you can scroll if necessary. We don&#39;t have enough information to provide a detailed answer."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1594007244,"post_id":62748320,"comment_id":110965081,"body_markdown":"I&#39;m seeing at least two `JList`s at least","body":"I&#39;m seeing at least two <code>JList</code>s at least"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1594039996,"post_id":62748320,"comment_id":110978174,"body_markdown":"How should it look if the user gives the GUI more width and height? Which elements or white space gets the extra?","body":"How should it look if the user gives the GUI more width and height? Which elements or white space gets the extra?"},{"owner":{"account_id":17588380,"reputation":825,"user_id":12760739,"display_name":"fctorial"},"score":0,"creation_date":1594050292,"post_id":62748320,"comment_id":110983867,"body_markdown":"@AndrewThompson It will be a small popup, around 100px wide and as tall as needed, so it will always have enough space.","body":"@AndrewThompson It will be a small popup, around 100px wide and as tall as needed, so it will always have enough space."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594058665,"creation_date":1594058665,"answer_id":62761898,"question_id":62748320,"body_markdown":"Here is one way to approach it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UgZXz.png","title":"How do I create this layout in java swing?","body":"<p>Here is one way to approach it.</p>\n<p><a href=\"https://i.stack.imgur.com/UgZXz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UgZXz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9497012,"reputation":11,"user_id":7059642,"display_name":"adierebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640333527,"creation_date":1640333527,"answer_id":70470835,"question_id":62748320,"body_markdown":"You can use 3rd party library\r\n\r\n - Swan Layout https://github.com/idayrus/swan-layout\r\n\r\nIf you use gradle, add this to build.gradle\r\n\r\n```gradle\r\nimplementation &#39;com.github.idayrus:swan-layout:1.01.000&#39;\r\n```\r\n\r\nfor other build tools, see https://jitpack.io/#idayrus/swan-layout/1.01.000\r\n\r\nExample in Kotlin:\r\n\r\n```kotlin\r\nval lc = LinearConstraints()\r\nval panel = JPanel(LinearLayout(LinearLayout.VERTICAL))\r\n\r\nlc.margin = 10\r\nlc.width = LinearConstraints.MATCH_PARENT\r\nlc.height = LinearConstraints.WRAP_CONTENT\r\npanel.add(JButton(&quot;Hello World&quot;), lc)\r\n```\r\n\r\n","title":"How do I create this layout in java swing?","body":"<p>You can use 3rd party library</p>\n<ul>\n<li>Swan Layout <a href=\"https://github.com/idayrus/swan-layout\" rel=\"nofollow noreferrer\">https://github.com/idayrus/swan-layout</a></li>\n</ul>\n<p>If you use gradle, add this to build.gradle</p>\n<pre><code>implementation 'com.github.idayrus:swan-layout:1.01.000'\n</code></pre>\n<p>for other build tools, see <a href=\"https://jitpack.io/#idayrus/swan-layout/1.01.000\" rel=\"nofollow noreferrer\">https://jitpack.io/#idayrus/swan-layout/1.01.000</a></p>\n<p>Example in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val lc = LinearConstraints()\nval panel = JPanel(LinearLayout(LinearLayout.VERTICAL))\n\nlc.margin = 10\nlc.width = LinearConstraints.MATCH_PARENT\nlc.height = LinearConstraints.WRAP_CONTENT\npanel.add(JButton(&quot;Hello World&quot;), lc)\n</code></pre>\n"}],"owner":{"account_id":17588380,"reputation":825,"user_id":12760739,"display_name":"fctorial"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1640333527,"creation_date":1594001389,"question_id":62748320,"body_markdown":"I&#39;m trying to make a layout that looks like this in java swing:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut none of the layout managers provided by swing fit this use case. In android I can simply use a linear layout and set the height of child elements to `wrap-content`, but swing doesn&#39;t have any corresponding feature. Swing layout managers tend to set the size of child elements themselves based on the constraints and this is causing issues with textfield.\r\n\r\nHow do I implement this layout in java swing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QzfHH.png","title":"How do I create this layout in java swing?","body":"<p>I'm trying to make a layout that looks like this in java swing:</p>\n<p><a href=\"https://i.stack.imgur.com/QzfHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QzfHH.png\" alt=\"enter image description here\" /></a></p>\n<p>but none of the layout managers provided by swing fit this use case. In android I can simply use a linear layout and set the height of child elements to <code>wrap-content</code>, but swing doesn't have any corresponding feature. Swing layout managers tend to set the size of child elements themselves based on the constraints and this is causing issues with textfield.</p>\n<p>How do I implement this layout in java swing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":408824,"reputation":5022,"user_id":779709,"display_name":"Pedantic"},"score":0,"creation_date":1399402419,"post_id":23502522,"comment_id":36044053,"body_markdown":"Can you boil down your attached source code to show what you do with your `JFrame`/`setDefaultCloseOpertaion` call?  Reference:  http://stackoverflow.com/questions/7799940/jframe-exit-on-close-java","body":"Can you boil down your attached source code to show what you do with your <code>JFrame</code>/<code>setDefaultCloseOpertaion</code> call?  Reference:  <a href=\"http://stackoverflow.com/questions/7799940/jframe-exit-on-close-java\" title=\"jframe exit on close java\">stackoverflow.com/questions/7799940/jframe-exit-on-close-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":4338261,"reputation":51,"user_id":3542220,"display_name":"Tony"},"score":0,"creation_date":1399404898,"post_id":23502522,"comment_id":36045480,"body_markdown":"I&#39;m just using.... setDefaultCloseOperation(EXIT_ON_CLOSE); in the constructor that creates the frame.","body":"I&#39;m just using.... setDefaultCloseOperation(EXIT_ON_CLOSE); in the constructor that creates the frame."},{"owner":{"account_id":4338261,"reputation":51,"user_id":3542220,"display_name":"Tony"},"score":0,"creation_date":1399405643,"post_id":23502522,"comment_id":36045868,"body_markdown":"DOH!!!  I forgot to add optFrame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE); to the Option window frame.   So it just got hidden when the close button was pressed.   Thanks for your link Pedantic...that helped me realise my mistake.  I appreciate the time you took to respond to this newbies question.","body":"DOH!!!  I forgot to add optFrame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON&zwnj;&#8203;_CLOSE); to the Option window frame.   So it just got hidden when the close button was pressed.   Thanks for your link Pedantic...that helped me realise my mistake.  I appreciate the time you took to respond to this newbies question."},{"owner":{"account_id":408824,"reputation":5022,"user_id":779709,"display_name":"Pedantic"},"score":1,"creation_date":1399434306,"post_id":23502522,"comment_id":36054624,"body_markdown":"No problem.  If you can explain here in an answer, and accept it for yourself you&#39;ll get some reputation and help others who search for this problem in the future.","body":"No problem.  If you can explain here in an answer, and accept it for yourself you&#39;ll get some reputation and help others who search for this problem in the future."}],"answers":[{"tags":[],"owner":{"account_id":4338261,"reputation":51,"user_id":3542220,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399491502,"creation_date":1399491502,"answer_id":23526819,"question_id":23502522,"body_markdown":"I forgot that my application opened another JFrame to display some options and I had not set any action to occur when the close button in the frame was pressed.  By default, Java sets it to &#39;hide the frame&#39; when closed(not helpful Java!!).  So Java was still using the frame, and hence the Windows task was still running.\r\n\r\nSo all I had to do was add...\r\n\r\noptFrame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE)\r\n\r\n...inside the initialization code for the options JFrame.  In short, don&#39;t forget to dispose of JFrames when you&#39;re done with them.","title":"Application not closing properly (Java Platform SE Binary won&#39;t close)","body":"<p>I forgot that my application opened another JFrame to display some options and I had not set any action to occur when the close button in the frame was pressed.  By default, Java sets it to 'hide the frame' when closed(not helpful Java!!).  So Java was still using the frame, and hence the Windows task was still running.</p>\n\n<p>So all I had to do was add...</p>\n\n<p>optFrame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE)</p>\n\n<p>...inside the initialization code for the options JFrame.  In short, don't forget to dispose of JFrames when you're done with them.</p>\n"}],"owner":{"account_id":4338261,"reputation":51,"user_id":3542220,"display_name":"Tony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3405,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640333282,"creation_date":1399401777,"question_id":23502522,"body_markdown":"I&#39;ve created a Java application and converted it to an `.exe` using Launch4j and it runs fine. But when it is closed, the &quot;Java (TM) Platform SE Binary&quot; task remains running in the Windows Task Manager. Each instance of the application I run creates a new task for this and they need to be manually end-tasked.\r\n\r\nAny ideas why this would happen? I&#39;ve only been coding in Java for about 3 weeks and this is my first application.\r\n\r\nHope it&#39;s ok to add links to the application + zipped source code. I can&#39;t add the source code directly as it is too long. Thanks for any advice or suggested solutions.\r\n\r\nApplication:\r\nhttp://www.filedropper.com/folderencryptor\r\n\r\nSource Code:\r\nhttp://www.filedropper.com/folderencryptor_1\r\n\r\n","title":"Application not closing properly (Java Platform SE Binary won&#39;t close)","body":"<p>I've created a Java application and converted it to an <code>.exe</code> using Launch4j and it runs fine. But when it is closed, the \"Java (TM) Platform SE Binary\" task remains running in the Windows Task Manager. Each instance of the application I run creates a new task for this and they need to be manually end-tasked.</p>\n\n<p>Any ideas why this would happen? I've only been coding in Java for about 3 weeks and this is my first application.</p>\n\n<p>Hope it's ok to add links to the application + zipped source code. I can't add the source code directly as it is too long. Thanks for any advice or suggested solutions.</p>\n\n<p>Application:\n<a href=\"http://www.filedropper.com/folderencryptor\" rel=\"nofollow noreferrer\">http://www.filedropper.com/folderencryptor</a></p>\n\n<p>Source Code:\n<a href=\"http://www.filedropper.com/folderencryptor_1\" rel=\"nofollow noreferrer\">http://www.filedropper.com/folderencryptor_1</a></p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635908572,"creation_date":1635908572,"answer_id":69819195,"question_id":69819129,"body_markdown":"You&#39;re in luck. Java doesn&#39;t have 2D or 3D arrays, at all. It only has arrays-of-arrays. The snippet of code you pasted is merely syntax sugar at work.\r\n\r\nThus:\r\n\r\n```\r\nint[][] chessboard = new int[8][];\r\nint row0 = new int[8];\r\nchessboard[0] = row0;\r\n```\r\n\r\nAn `int[][]` is simply a 1D array where each element in your array is, itself, an `int[]`. See, above, how we make a 1D int array and assign it to the `0` slot of the `chessboard` variable, thus proving `chessboard` is 1-dimensional just the same.\r\n\r\nForget about the syntax sugar and make the arrays as above, then you&#39;re in full control and can make each &#39;inner&#39; array whatever size you want it to be. The only weirdness is how to initialize them. `new int[8][]` is the non-syntax sugar version: That makes a 1D array of int arrays with room for 8 `int[]`, and like all normal array initializes, starts out with 8 null pointers, entirely identical to e.g. `String[] x = new String[8]`, which makes no strings, and after that e.g. `x[0]` would be `null`.\r\n\r\nYou&#39;re then free to call `chessboard[0] = new int[8]`, etcetera.\r\n","title":"3D arrays in JAVA with different number of elements","body":"<p>You're in luck. Java doesn't have 2D or 3D arrays, at all. It only has arrays-of-arrays. The snippet of code you pasted is merely syntax sugar at work.</p>\n<p>Thus:</p>\n<pre><code>int[][] chessboard = new int[8][];\nint row0 = new int[8];\nchessboard[0] = row0;\n</code></pre>\n<p>An <code>int[][]</code> is simply a 1D array where each element in your array is, itself, an <code>int[]</code>. See, above, how we make a 1D int array and assign it to the <code>0</code> slot of the <code>chessboard</code> variable, thus proving <code>chessboard</code> is 1-dimensional just the same.</p>\n<p>Forget about the syntax sugar and make the arrays as above, then you're in full control and can make each 'inner' array whatever size you want it to be. The only weirdness is how to initialize them. <code>new int[8][]</code> is the non-syntax sugar version: That makes a 1D array of int arrays with room for 8 <code>int[]</code>, and like all normal array initializes, starts out with 8 null pointers, entirely identical to e.g. <code>String[] x = new String[8]</code>, which makes no strings, and after that e.g. <code>x[0]</code> would be <code>null</code>.</p>\n<p>You're then free to call <code>chessboard[0] = new int[8]</code>, etcetera.</p>\n"},{"tags":[],"owner":{"account_id":19570700,"reputation":386,"user_id":14321922,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635909457,"creation_date":1635909457,"answer_id":69819278,"question_id":69819129,"body_markdown":"What you&#39;re describing is called a *jagged array*, an array whose elements are arrays of unequal lengths. You can prompt the user for inputs, then use those inputs to initialize your jagged array:\r\n\r\n```\r\nint size;\r\nint myArray[][][];\r\nScanner s = new Scanner();\r\n\r\n// Initialize outer array\r\nSystem.out.println(&quot;How many elements in myArray?&quot;);\r\nsize = s.nextInt();\r\nmyArray = new int[size][][];\r\n\r\n// Initialize each inner array\r\nfor (int i = 0; i &lt; myArray.length; i++) {\r\n     System.out.println(&quot;How many elements in myArray[&quot; + i + &quot;]?&quot;);\r\n     size = s.nextInt();\r\n     myArray[i] = new int[size][];\r\n     \r\n     // For each inner array, initialize each inner inner array\r\n     for (int j = 0; j &lt; myArray[i].length; j++) {\r\n          System.out.println(&quot;How many elements in myArray[&quot; + i + &quot;][&quot; + j + &quot;]?&quot;);\r\n          size = s.nextInt();\r\n          myArray[i][j] = new int[size];\r\n     }\r\n}\r\n```","title":"3D arrays in JAVA with different number of elements","body":"<p>What you're describing is called a <em>jagged array</em>, an array whose elements are arrays of unequal lengths. You can prompt the user for inputs, then use those inputs to initialize your jagged array:</p>\n<pre><code>int size;\nint myArray[][][];\nScanner s = new Scanner();\n\n// Initialize outer array\nSystem.out.println(&quot;How many elements in myArray?&quot;);\nsize = s.nextInt();\nmyArray = new int[size][][];\n\n// Initialize each inner array\nfor (int i = 0; i &lt; myArray.length; i++) {\n     System.out.println(&quot;How many elements in myArray[&quot; + i + &quot;]?&quot;);\n     size = s.nextInt();\n     myArray[i] = new int[size][];\n     \n     // For each inner array, initialize each inner inner array\n     for (int j = 0; j &lt; myArray[i].length; j++) {\n          System.out.println(&quot;How many elements in myArray[&quot; + i + &quot;][&quot; + j + &quot;]?&quot;);\n          size = s.nextInt();\n          myArray[i][j] = new int[size];\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444145,"reputation":1,"user_id":9060933,"display_name":"Ashwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640332704,"creation_date":1640332704,"answer_id":70470742,"question_id":69819129,"body_markdown":"Java&#39;s two-dimensional arrays are array of arrays. When you create a two-dimensional array in Java, it is actually a collection of several one-dimensional arrays. For instance, \r\n// read it as create eight 1-D arrays, each with a fixed size of four elements.\r\nint[] [] array = new int[8][4] \r\n// You could read it as creating eight 1-D arrays, each with an unspecified number of elements.\r\nint[] [] array = new int[8][] \r\n\r\nIn the same way, 3-D arrays are made up of a collection of 2-D arrays.\r\n\r\n\r\n    // You can read it as 3-D array consisting of 2 rows of 2-D arrays with unspecified number of levels \r\n    int[][][] array = new int[3][2][];\r\n    // Iterating through the 3-D array \r\n    for (int[][] array2D: array) {\r\n         for (int[] array1D: array2D) {\r\n             for(int element: array1D) {\r\n                 System.out.println(element);\r\n             }\r\n         }\r\n    }\r\n\r\n","title":"3D arrays in JAVA with different number of elements","body":"<p>Java's two-dimensional arrays are array of arrays. When you create a two-dimensional array in Java, it is actually a collection of several one-dimensional arrays. For instance,\n// read it as create eight 1-D arrays, each with a fixed size of four elements.\nint[] [] array = new int[8][4]\n// You could read it as creating eight 1-D arrays, each with an unspecified number of elements.\nint[] [] array = new int[8][]</p>\n<p>In the same way, 3-D arrays are made up of a collection of 2-D arrays.</p>\n<pre><code>// You can read it as 3-D array consisting of 2 rows of 2-D arrays with unspecified number of levels \nint[][][] array = new int[3][2][];\n// Iterating through the 3-D array \nfor (int[][] array2D: array) {\n     for (int[] array1D: array2D) {\n         for(int element: array1D) {\n             System.out.println(element);\n         }\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":20019861,"reputation":23,"user_id":14675036,"display_name":"edgard habanbou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69819278,"answer_count":3,"score":-1,"last_activity_date":1640332704,"creation_date":1635907884,"question_id":69819129,"body_markdown":"how to make this kind of array (different number of elements in each parent array) if i want to take the number of elements from the user : \r\n\r\n```\r\nint[][][] test = {\r\n            {\r\n              {0, 0, 0}, \r\n              {0, 0, 0}\r\n            }, \r\n            { \r\n              {0, 0, 0, 0}, \r\n              {0, 0, 0, 0}, \r\n              {0, 0, 0, 0}\r\n            } \r\n        };\r\n```","title":"3D arrays in JAVA with different number of elements","body":"<p>how to make this kind of array (different number of elements in each parent array) if i want to take the number of elements from the user :</p>\n<pre><code>int[][][] test = {\n            {\n              {0, 0, 0}, \n              {0, 0, 0}\n            }, \n            { \n              {0, 0, 0, 0}, \n              {0, 0, 0, 0}, \n              {0, 0, 0, 0}\n            } \n        };\n</code></pre>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":44775,"reputation":687,"user_id":131578,"accept_rate":75,"display_name":"Daniel Flower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640332354,"creation_date":1640332354,"answer_id":70470689,"question_id":56601839,"body_markdown":"The `consumeBytes` method returns a boolean that indicates whether or not a threshold was reached meaning a window update can be sent for the stream (i.e. to say that the stream can send more data).\r\n\r\nThe method does a `ctx.write` with the window update frame, but doesn&#39;t flush it. So if nothing is flushing the context, you need to do that:\r\n\r\n```java\r\nif (flowController.consumeBytes(stream, processed)) {\r\n    ctx.flush();\r\n}\r\n```","title":"Throttling reads on streams in HTTP/2 with Netty","body":"<p>The <code>consumeBytes</code> method returns a boolean that indicates whether or not a threshold was reached meaning a window update can be sent for the stream (i.e. to say that the stream can send more data).</p>\n<p>The method does a <code>ctx.write</code> with the window update frame, but doesn't flush it. So if nothing is flushing the context, you need to do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (flowController.consumeBytes(stream, processed)) {\n    ctx.flush();\n}\n</code></pre>\n"}],"owner":{"account_id":44775,"reputation":687,"user_id":131578,"accept_rate":75,"display_name":"Daniel Flower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70470689,"answer_count":1,"score":2,"last_activity_date":1640332354,"creation_date":1560528572,"question_id":56601839,"body_markdown":"In the Netty 4 [proxy example](https://github.com/netty/netty/tree/4.0/example/src/main/java/io/netty/example/proxy) AUTO_READ is turned off, which according to [this answer](https://stackoverflow.com/a/28294255/131578) is so that a channel sending a lot of data to the proxy doesn&#39;t use up too many buffers, which makes sense.\r\n\r\nHowever, my understanding is that in HTTP/2 you should never delay reads, and instead deal with the flow control on a stream-by-stream basis. I can&#39;t figure out how to do this in Netty though.\r\n\r\nIt feels like it should be achieved by returning 0 in `onDataRead` on an `Http2ConnectionHandler`. The following contrived example is how I expected it to work, where the bytes are not consumed for 100ms:\r\n\r\n```java\r\n@Override\r\npublic int onDataRead(ChannelHandlerContext ctx, int streamId, ByteBuf data,\r\n                      int padding, boolean endOfStream) throws Http2Exception {\r\n    int processed = data.readableBytes() + padding;\r\n\r\n    Http2LocalFlowController flowController = decoder().flowController();\r\n    Http2Stream stream = connection().stream(streamId);\r\n    executorService.schedule(() -&gt; {\r\n        ctx.executor().execute(() -&gt; {\r\n            try {\r\n                // ...do stuff...\r\n                flowController.consumeBytes(stream, processed);\r\n            } catch (Http2Exception e) {\r\n                e.printStackTrace(); // now what?\r\n            }\r\n        });\r\n    }, 100, TimeUnit.MILLISECONDS);\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\nWhen I use this, no exception is thrown, and the client just times out. (Note that if I call the `consumeBytes` call before returning from `onDataRead` then it does work.)\r\n\r\nWith some extra logging, when reading 16k messages I can see immediately that 65535 bytes are unconsumed. After beginning to consume, a window frame is reportedly sent after 32k. After the 4th message, `flowController.unconsumedBytes(stream)` reports 0 bytes unconsumed, however the next message never comes to `onDataRead`.\r\n\r\nThis apparently works for other people so I&#39;m struggling to see where the issue is.","title":"Throttling reads on streams in HTTP/2 with Netty","body":"<p>In the Netty 4 <a href=\"https://github.com/netty/netty/tree/4.0/example/src/main/java/io/netty/example/proxy\" rel=\"nofollow noreferrer\">proxy example</a> AUTO_READ is turned off, which according to <a href=\"https://stackoverflow.com/a/28294255/131578\">this answer</a> is so that a channel sending a lot of data to the proxy doesn't use up too many buffers, which makes sense.</p>\n<p>However, my understanding is that in HTTP/2 you should never delay reads, and instead deal with the flow control on a stream-by-stream basis. I can't figure out how to do this in Netty though.</p>\n<p>It feels like it should be achieved by returning 0 in <code>onDataRead</code> on an <code>Http2ConnectionHandler</code>. The following contrived example is how I expected it to work, where the bytes are not consumed for 100ms:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int onDataRead(ChannelHandlerContext ctx, int streamId, ByteBuf data,\n                      int padding, boolean endOfStream) throws Http2Exception {\n    int processed = data.readableBytes() + padding;\n\n    Http2LocalFlowController flowController = decoder().flowController();\n    Http2Stream stream = connection().stream(streamId);\n    executorService.schedule(() -&gt; {\n        ctx.executor().execute(() -&gt; {\n            try {\n                // ...do stuff...\n                flowController.consumeBytes(stream, processed);\n            } catch (Http2Exception e) {\n                e.printStackTrace(); // now what?\n            }\n        });\n    }, 100, TimeUnit.MILLISECONDS);\n\n    return 0;\n}\n</code></pre>\n<p>When I use this, no exception is thrown, and the client just times out. (Note that if I call the <code>consumeBytes</code> call before returning from <code>onDataRead</code> then it does work.)</p>\n<p>With some extra logging, when reading 16k messages I can see immediately that 65535 bytes are unconsumed. After beginning to consume, a window frame is reportedly sent after 32k. After the 4th message, <code>flowController.unconsumedBytes(stream)</code> reports 0 bytes unconsumed, however the next message never comes to <code>onDataRead</code>.</p>\n<p>This apparently works for other people so I'm struggling to see where the issue is.</p>\n"},{"tags":["java","java-8","avro"],"answers":[{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1502892867,"creation_date":1502892867,"answer_id":45715974,"question_id":45712231,"body_markdown":"You need to create your own [Conversion][1]s to support java-8 date-time api, below is a conversion for `java.time.LocalDate`:\r\n\r\n\r\n    class Java8LocalDateConversion extends Conversion&lt;LocalDate&gt; {\r\n        @Override\r\n        public Class&lt;LocalDate&gt; getConvertedType() {\r\n            return LocalDate.class;\r\n        }\r\n\r\n        @Override\r\n        public String getLogicalTypeName() {\r\n            //      v--- reuse the logical type `date`\r\n            return &quot;date&quot;;\r\n        }\r\n\r\n        @Override\r\n        // convert LocalDate to Integer\r\n        public Integer toInt(LocalDate value, Schema schema, LogicalType type) {\r\n            return (int) value.toEpochDay();\r\n        }\r\n\r\n        @Override\r\n        // parse LocalDate from Integer\r\n        public LocalDate fromInt(Integer value, Schema schema, LogicalType type) {\r\n            return LocalDate.ofEpochDay(value);\r\n        }\r\n    }\r\n\r\nThe logical types can be reused in avro, so you can using the existing `date` logical type, for example:\r\n\r\n    Schema schema = LogicalTypes.date().addToSchema(Schema.create(Type.INT));\r\n\r\n\r\nFor the serializing &amp; deserializing you should set the `GenericData` which will find your own conversion, for example:\r\n\r\n    //serializing\r\n    DatumWriter&lt;T&gt; out = new SpecificDatumWriter&lt;&gt;(schema, data());\r\n\r\n    // deserializing\r\n    DatumReader&lt;T&gt; in = new SpecificDatumReader&lt;&gt;(schema, schema, data());\r\n\r\n    private SpecificData data() {\r\n        SpecificData it = new SpecificData();\r\n        it.addLogicalTypeConversion(new Java8LocalDateConversion());\r\n        return it;\r\n    }\r\n\r\n\r\nIf you don&#39;t want to configure the `GenericData` every time, you can use the global `GenericData` instead, for example:\r\n\r\n    //      register the conversion globally ---v\r\n    SpecificData.get().addLogicalTypeConversion(new Java8LocalDateConversion());\r\n\r\n[1]: http://avro.apache.org/docs/1.8.2/api/java/org/apache/avro/Conversion.html","title":"Avro with Java 8 dates as logical type","body":"<p>You need to create your own <a href=\"http://avro.apache.org/docs/1.8.2/api/java/org/apache/avro/Conversion.html\" rel=\"noreferrer\">Conversion</a>s to support java-8 date-time api, below is a conversion for <code>java.time.LocalDate</code>:</p>\n\n<pre><code>class Java8LocalDateConversion extends Conversion&lt;LocalDate&gt; {\n    @Override\n    public Class&lt;LocalDate&gt; getConvertedType() {\n        return LocalDate.class;\n    }\n\n    @Override\n    public String getLogicalTypeName() {\n        //      v--- reuse the logical type `date`\n        return \"date\";\n    }\n\n    @Override\n    // convert LocalDate to Integer\n    public Integer toInt(LocalDate value, Schema schema, LogicalType type) {\n        return (int) value.toEpochDay();\n    }\n\n    @Override\n    // parse LocalDate from Integer\n    public LocalDate fromInt(Integer value, Schema schema, LogicalType type) {\n        return LocalDate.ofEpochDay(value);\n    }\n}\n</code></pre>\n\n<p>The logical types can be reused in avro, so you can using the existing <code>date</code> logical type, for example:</p>\n\n<pre><code>Schema schema = LogicalTypes.date().addToSchema(Schema.create(Type.INT));\n</code></pre>\n\n<p>For the serializing &amp; deserializing you should set the <code>GenericData</code> which will find your own conversion, for example:</p>\n\n<pre><code>//serializing\nDatumWriter&lt;T&gt; out = new SpecificDatumWriter&lt;&gt;(schema, data());\n\n// deserializing\nDatumReader&lt;T&gt; in = new SpecificDatumReader&lt;&gt;(schema, schema, data());\n\nprivate SpecificData data() {\n    SpecificData it = new SpecificData();\n    it.addLogicalTypeConversion(new Java8LocalDateConversion());\n    return it;\n}\n</code></pre>\n\n<p>If you don't want to configure the <code>GenericData</code> every time, you can use the global <code>GenericData</code> instead, for example:</p>\n\n<pre><code>//      register the conversion globally ---v\nSpecificData.get().addLogicalTypeConversion(new Java8LocalDateConversion());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149602,"reputation":543,"user_id":2120131,"display_name":"Auke"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1506954774,"creation_date":1506954774,"answer_id":46527643,"question_id":45712231,"body_markdown":"Currently (avro 1.8.2) this is not possible. It&#39;s hardcoded to generate Joda date/time classes. \r\n\r\nThe current `master` branch has switched to Java 8 and there is an [open issue][1] (with [Pull Request][2]) to add the ability to generate classes with `java.time.*` types.\r\n\r\nI have no idea on any kind of release schedule for whatever is currently in `master` unfortunately. If you feel adventurous you can apply the patch to `1.8.2`, since in theory it should all be compatible. The underlying base types when serializing / deserializing are still integers and longs.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/AVRO-2079\r\n  [2]: https://github.com/apache/avro/pull/248","title":"Avro with Java 8 dates as logical type","body":"<p>Currently (avro 1.8.2) this is not possible. It's hardcoded to generate Joda date/time classes. </p>\n\n<p>The current <code>master</code> branch has switched to Java 8 and there is an <a href=\"https://issues.apache.org/jira/browse/AVRO-2079\" rel=\"noreferrer\">open issue</a> (with <a href=\"https://github.com/apache/avro/pull/248\" rel=\"noreferrer\">Pull Request</a>) to add the ability to generate classes with <code>java.time.*</code> types.</p>\n\n<p>I have no idea on any kind of release schedule for whatever is currently in <code>master</code> unfortunately. If you feel adventurous you can apply the patch to <code>1.8.2</code>, since in theory it should all be compatible. The underlying base types when serializing / deserializing are still integers and longs.</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587122034,"creation_date":1587122034,"answer_id":61270269,"question_id":45712231,"body_markdown":"With avro 1.9.2 you can use e.g. [date][1] for `LocalDate`:\r\n\r\n```json\r\n\t{\r\n\t  &quot;name&quot;: &quot;Transaction&quot;,\r\n\t  &quot;type&quot;: &quot;record&quot;,\r\n\t  &quot;fields&quot;: [\r\n\t\t{\r\n\t\t  &quot;name&quot;: &quot;time&quot;,\r\n\t\t  &quot;type&quot;: {\r\n\t\t\t&quot;type&quot;: &quot;int&quot;,\r\n\t\t\t&quot;logicalType&quot;: &quot;date&quot;\r\n\t\t  }\r\n\t\t},\r\n```\r\n\r\nSee [Logical Types][2] for the other types.\r\n\r\n\r\n  [1]: https://avro.apache.org/docs/current/spec.html#Date\r\n  [2]: https://avro.apache.org/docs/current/spec.html#Logical+Types","title":"Avro with Java 8 dates as logical type","body":"<p>With avro 1.9.2 you can use e.g. <a href=\"https://avro.apache.org/docs/current/spec.html#Date\" rel=\"nofollow noreferrer\">date</a> for <code>LocalDate</code>:</p>\n\n<pre><code>    {\n      \"name\": \"Transaction\",\n      \"type\": \"record\",\n      \"fields\": [\n        {\n          \"name\": \"time\",\n          \"type\": {\n            \"type\": \"int\",\n            \"logicalType\": \"date\"\n          }\n        },\n</code></pre>\n\n<p>See <a href=\"https://avro.apache.org/docs/current/spec.html#Logical+Types\" rel=\"nofollow noreferrer\">Logical Types</a> for the other types.</p>\n"},{"tags":[],"owner":{"account_id":7983379,"reputation":300,"user_id":6023830,"display_name":"fml2"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1598521041,"creation_date":1598521041,"answer_id":63613199,"question_id":45712231,"body_markdown":"AVRO 1.10 added support for `LocalDateTime`, see [Apache Avro™ 1.10.0 Specification](https://avro.apache.org/docs/1.10.0/spec.html#Local+timestamp+%28millisecond+precision%29)","title":"Avro with Java 8 dates as logical type","body":"<p>AVRO 1.10 added support for <code>LocalDateTime</code>, see <a href=\"https://avro.apache.org/docs/1.10.0/spec.html#Local+timestamp+%28millisecond+precision%29\" rel=\"nofollow noreferrer\">Apache Avro™ 1.10.0 Specification</a></p>\n"},{"tags":[],"owner":{"account_id":938147,"reputation":514,"user_id":966699,"display_name":"Donald Duck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613832660,"creation_date":1613674086,"answer_id":66266273,"question_id":45712231,"body_markdown":" - use Avro version &gt;= `1.9.0` &lt; `1.10.0`\r\n - add  `&lt;dateTimeLogicalTypeImplementation&gt;jsr310&lt;/dateTimeLogicalTypeImplementation&gt;`\r\ninto `configuration` section.\r\n - use Avro version &gt;= `1.10.0`\r\n - java8/jsr310 native date/time classes used by default","title":"Avro with Java 8 dates as logical type","body":"<ul>\n<li>use Avro version &gt;= <code>1.9.0</code> &lt; <code>1.10.0</code></li>\n<li>add  <code>&lt;dateTimeLogicalTypeImplementation&gt;jsr310&lt;/dateTimeLogicalTypeImplementation&gt;</code>\ninto <code>configuration</code> section.</li>\n<li>use Avro version &gt;= <code>1.10.0</code></li>\n<li>java8/jsr310 native date/time classes used by default</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6400740,"reputation":471,"user_id":4963490,"display_name":"Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640332333,"creation_date":1640332333,"answer_id":70470682,"question_id":45712231,"body_markdown":"[Avro v1.11.0 TimeConversions][1] has built-in support for Java 8 time classes such as `LocalDate`, `Instant`, etc.  The `TimeConversions` must be registered with the `SpecificData` class or its sub-classes, such as `ReflectData`.  Here is a complete example of how to use `TimeConversions`:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Account\r\n{\r\n\tprivate int id;\r\n\tprivate LocalDate createdOn;\r\n\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\t// create schema from POJO Account class\r\n\t\tReflectData reflectData = ReflectData.get();\r\n\t\treflectData.addLogicalTypeConversion(new TimeConversions.DateConversion());\r\n\t\tSchema schema = reflectData.getSchema(Account.class);\r\n\t\tSystem.out.println(&quot;Schema in JSON:\\n&quot; + schema + &quot;\\n&quot;);\r\n\r\n\t\t// create avro writer\r\n\t\tDatumWriter&lt;Account&gt; datumWriter = new ReflectDatumWriter&lt;&gt;(schema);\r\n\t\tDataFileWriter&lt;Account&gt; dataFileWriter = new DataFileWriter&lt;&gt;(datumWriter);\r\n\t\t// dataFileWriter.setCodec(CodecFactory.snappyCodec()); // for compression\r\n\t\tdataFileWriter.create(schema, new File(&quot;accounts.avro&quot;));\r\n\t\tdataFileWriter.append(new Account(123, LocalDate.of(2001, 1, 1)));\r\n\t\tdataFileWriter.append(new Account(234, LocalDate.of(2002, 2, 2)));\r\n\t\tdataFileWriter.close();\r\n\r\n\t\t// create avro reader\r\n\t\tDatumReader&lt;Account&gt; datumReader = new ReflectDatumReader&lt;&gt;(schema);\r\n\t\tDataFileReader&lt;Account&gt; dataFileReader = new DataFileReader&lt;&gt;(new File(&quot;accounts.avro&quot;), datumReader);\r\n\t\tdataFileReader.forEach(System.out::println);\r\n\t}\r\n}\r\n```\r\n\r\n[1]:https://avro.apache.org/docs/1.8.0/api/java/org/apache/avro/data/TimeConversions.html","title":"Avro with Java 8 dates as logical type","body":"<p><a href=\"https://avro.apache.org/docs/1.8.0/api/java/org/apache/avro/data/TimeConversions.html\" rel=\"nofollow noreferrer\">Avro v1.11.0 TimeConversions</a> has built-in support for Java 8 time classes such as <code>LocalDate</code>, <code>Instant</code>, etc.  The <code>TimeConversions</code> must be registered with the <code>SpecificData</code> class or its sub-classes, such as <code>ReflectData</code>.  Here is a complete example of how to use <code>TimeConversions</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Account\n{\n    private int id;\n    private LocalDate createdOn;\n\n    public static void main(String[] args) throws IOException\n    {\n        // create schema from POJO Account class\n        ReflectData reflectData = ReflectData.get();\n        reflectData.addLogicalTypeConversion(new TimeConversions.DateConversion());\n        Schema schema = reflectData.getSchema(Account.class);\n        System.out.println(&quot;Schema in JSON:\\n&quot; + schema + &quot;\\n&quot;);\n\n        // create avro writer\n        DatumWriter&lt;Account&gt; datumWriter = new ReflectDatumWriter&lt;&gt;(schema);\n        DataFileWriter&lt;Account&gt; dataFileWriter = new DataFileWriter&lt;&gt;(datumWriter);\n        // dataFileWriter.setCodec(CodecFactory.snappyCodec()); // for compression\n        dataFileWriter.create(schema, new File(&quot;accounts.avro&quot;));\n        dataFileWriter.append(new Account(123, LocalDate.of(2001, 1, 1)));\n        dataFileWriter.append(new Account(234, LocalDate.of(2002, 2, 2)));\n        dataFileWriter.close();\n\n        // create avro reader\n        DatumReader&lt;Account&gt; datumReader = new ReflectDatumReader&lt;&gt;(schema);\n        DataFileReader&lt;Account&gt; dataFileReader = new DataFileReader&lt;&gt;(new File(&quot;accounts.avro&quot;), datumReader);\n        dataFileReader.forEach(System.out::println);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1497462,"reputation":829,"user_id":1403067,"accept_rate":100,"display_name":"injecto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17431,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":46527643,"answer_count":6,"score":23,"last_activity_date":1640332333,"creation_date":1502882565,"question_id":45712231,"body_markdown":"Latest Avro compiler (1.8.2) generates java sources for [dates logical types][1] with [Joda-Time][2] based implementations. How can I configure Avro compiler to produce sources that used Java 8 date-time API?\r\n\r\n\r\n  [1]: http://avro.apache.org/docs/1.8.2/spec.html#Date\r\n  [2]: http://www.joda.org/joda-time/","title":"Avro with Java 8 dates as logical type","body":"<p>Latest Avro compiler (1.8.2) generates java sources for <a href=\"http://avro.apache.org/docs/1.8.2/spec.html#Date\" rel=\"noreferrer\">dates logical types</a> with <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> based implementations. How can I configure Avro compiler to produce sources that used Java 8 date-time API?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"score":2,"creation_date":1640328044,"post_id":70470144,"comment_id":124570323,"body_markdown":"Does this answer your question? [Validating URL in Java](https://stackoverflow.com/questions/1600291/validating-url-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1600291/validating-url-in-java\">Validating URL in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640328200,"creation_date":1640327461,"answer_id":70470175,"question_id":70470144,"body_markdown":"You are saying ```custom URL``` first of all this is not a clear statement, you should be more clear, in normal case ```^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$``` this regex string should get the job done for you.","title":"What is a good regular expression to match a Custom URL?","body":"<p>You are saying <code>custom URL</code> first of all this is not a clear statement, you should be more clear, in normal case <code>^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$</code> this regex string should get the job done for you.</p>\n"},{"tags":[],"owner":{"account_id":17925286,"reputation":19,"user_id":13024091,"display_name":"amireza gh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640327819,"creation_date":1640327819,"answer_id":70470211,"question_id":70470144,"body_markdown":"for matching only URLs using regular expressions, you can use the regex above \r\n\r\n \r\n\r\n    String regex = &quot;((http|https)://)(www.)?&quot;\r\n                  + &quot;[a-zA-Z0-9@:%._\\\\+~#?&amp;//=]&quot;\r\n                  + &quot;{2,256}\\\\.[a-z]&quot;\r\n                  + &quot;{2,6}\\\\b([-a-zA-Z0-9@:%&quot;\r\n                  + &quot;._\\\\+~#?&amp;//=]*)&quot;;\r\n\r\nI found this [here][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/check-if-an-url-is-valid-or-not-using-regular-expression/","title":"What is a good regular expression to match a Custom URL?","body":"<p>for matching only URLs using regular expressions, you can use the regex above</p>\n<pre><code>String regex = &quot;((http|https)://)(www.)?&quot;\n              + &quot;[a-zA-Z0-9@:%._\\\\+~#?&amp;//=]&quot;\n              + &quot;{2,256}\\\\.[a-z]&quot;\n              + &quot;{2,6}\\\\b([-a-zA-Z0-9@:%&quot;\n              + &quot;._\\\\+~#?&amp;//=]*)&quot;;\n</code></pre>\n<p>I found this <a href=\"https://www.geeksforgeeks.org/check-if-an-url-is-valid-or-not-using-regular-expression/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10183542,"reputation":21,"user_id":7519427,"display_name":"Subham Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640331808,"creation_date":1640331808,"answer_id":70470628,"question_id":70470144,"body_markdown":"I think this should work just modified little from amireza&#39;s answer to add custom also after https or http\r\n\r\n    String regex = &quot;(http|https)&quot;\r\n\t\t\t  + &quot;[a-zA-Z0-9]&quot;\r\n\t\t\t  + &quot;(://)(www.)?&quot;\r\n              + &quot;[a-zA-Z0-9@:%._\\\\+~#?&amp;//=]&quot;\r\n              + &quot;{2,256}\\\\.[a-z]&quot;\r\n              + &quot;{2,6}\\\\b([-a-zA-Z0-9@:%&quot;\r\n              + &quot;._\\\\+~#?&amp;//=]*)&quot;;","title":"What is a good regular expression to match a Custom URL?","body":"<p>I think this should work just modified little from amireza's answer to add custom also after https or http</p>\n<pre><code>String regex = &quot;(http|https)&quot;\n          + &quot;[a-zA-Z0-9]&quot;\n          + &quot;(://)(www.)?&quot;\n          + &quot;[a-zA-Z0-9@:%._\\\\+~#?&amp;//=]&quot;\n          + &quot;{2,256}\\\\.[a-z]&quot;\n          + &quot;{2,6}\\\\b([-a-zA-Z0-9@:%&quot;\n          + &quot;._\\\\+~#?&amp;//=]*)&quot;;\n</code></pre>\n"}],"owner":{"account_id":22070963,"reputation":25,"user_id":16331944,"display_name":"ew2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1640334904,"answer_count":3,"score":-3,"last_activity_date":1640331808,"creation_date":1640327191,"question_id":70470144,"body_markdown":"I need to regularize url with many cases in java.\r\n\r\n* custom1://www.test.com:6666/path1/path2\r\n* custom2://www.test.com/path1/path2\r\n* custom3://www.test.com\r\n* www.test.com:6666\r\n* www.test.com:666\r\n\r\nif this case, what can i use regex..?","title":"What is a good regular expression to match a Custom URL?","body":"<p>I need to regularize url with many cases in java.</p>\n<ul>\n<li>custom1://www.test.com:6666/path1/path2</li>\n<li>custom2://www.test.com/path1/path2</li>\n<li>custom3://www.test.com</li>\n<li><a href=\"http://www.test.com:6666\" rel=\"nofollow noreferrer\">www.test.com:6666</a></li>\n<li><a href=\"http://www.test.com:666\" rel=\"nofollow noreferrer\">www.test.com:666</a></li>\n</ul>\n<p>if this case, what can i use regex..?</p>\n"},{"tags":["java","hibernate","model-view-controller","spring-data-jpa"],"owner":{"account_id":20074280,"reputation":25,"user_id":14718339,"display_name":"John kirito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640331650,"creation_date":1640331650,"question_id":70470611,"body_markdown":"I need to project dto that is in another dto projection. For example:\r\nI have this 2 DTOs\r\n\r\n    public class FirstDTO{\r\n        private SecondDTO secondDTO;\r\n        private Integer id;\r\n        private String name;\r\n        //getters,setters, constructor\r\n    }\r\n    \r\n    public class SecondDTO{\r\n        private Integer id;\r\n        private String name;\r\n        //getters,setters, constructor\r\n    }\r\n\r\n**FirstDTO** depends on **SecondDTO**, now to solve this issue i thought that i can do something like this:\r\n\r\n    @Repository\r\n    public interface FirstDTORepository extends JpaRepository&lt;Company, Long&gt; {\r\n    \r\n       @Query(&quot;SELECT NEW com.mycompany.myproject.dto.FirstDTO(&quot; + \r\n                &quot;NEW com.mycompany.myproject.dto.SecondDTO(r.id, r.name), &quot; +\r\n                &quot;c.id, &quot; +\r\n                &quot;c.name &quot; +\r\n            &quot;) FROM Company c &quot; +\r\n                &quot;LEFT JOIN c.reports r &quot;) \r\n       Page&lt;ReportPageDto&gt; findCompanies(Pageable pageable);\r\n    }\r\n\r\nBut this doesnt work. I need to project SecondDTO in the query in order to use the pageable sorting. I know some ways to solve this issue (for example we can project everything in one DTO and then split them to 2 DTOs(i dont like this solution)), but this question is not like &quot;I cant solve this problem, please help&quot;, but more like &quot;Is there another way of solving this problem?&quot;. Please take into account that i am passing Pageable. Thanks in advance :)","title":"How to project DTO in DTO Projections with JPA and Hibernate","body":"<p>I need to project dto that is in another dto projection. For example:\nI have this 2 DTOs</p>\n<pre><code>public class FirstDTO{\n    private SecondDTO secondDTO;\n    private Integer id;\n    private String name;\n    //getters,setters, constructor\n}\n\npublic class SecondDTO{\n    private Integer id;\n    private String name;\n    //getters,setters, constructor\n}\n</code></pre>\n<p><strong>FirstDTO</strong> depends on <strong>SecondDTO</strong>, now to solve this issue i thought that i can do something like this:</p>\n<pre><code>@Repository\npublic interface FirstDTORepository extends JpaRepository&lt;Company, Long&gt; {\n\n   @Query(&quot;SELECT NEW com.mycompany.myproject.dto.FirstDTO(&quot; + \n            &quot;NEW com.mycompany.myproject.dto.SecondDTO(r.id, r.name), &quot; +\n            &quot;c.id, &quot; +\n            &quot;c.name &quot; +\n        &quot;) FROM Company c &quot; +\n            &quot;LEFT JOIN c.reports r &quot;) \n   Page&lt;ReportPageDto&gt; findCompanies(Pageable pageable);\n}\n</code></pre>\n<p>But this doesnt work. I need to project SecondDTO in the query in order to use the pageable sorting. I know some ways to solve this issue (for example we can project everything in one DTO and then split them to 2 DTOs(i dont like this solution)), but this question is not like &quot;I cant solve this problem, please help&quot;, but more like &quot;Is there another way of solving this problem?&quot;. Please take into account that i am passing Pageable. Thanks in advance :)</p>\n"},{"tags":["java","mysql","group-by"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1640330762,"post_id":70470480,"comment_id":124570774,"body_markdown":"*Can only subqueries be used?* Depends on precise MySQL version. On 8+ window function FIRST_VALUE() will solve.","body":"<i>Can only subqueries be used?</i> Depends on precise MySQL version. On 8+ window function FIRST_VALUE() will solve."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1640331705,"post_id":70470480,"comment_id":124570940,"body_markdown":"*Mysql version 5.7* - subquery anycase.","body":"<i>Mysql version 5.7</i> - subquery anycase."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1640331775,"post_id":70470480,"comment_id":124570955,"body_markdown":"`to_days(f.createtime) = to_days(now())` causes fullscan anycase. Use `f.createtime &gt;=CURRENT_DATE AND f.createtime &lt; CURRENT_DATE + INTERVAL 1 DAY`, this form is sargable.","body":"<code>to_days(f.createtime) = to_days(now())</code> causes fullscan anycase. Use <code>f.createtime &gt;=CURRENT_DATE AND f.createtime &lt; CURRENT_DATE + INTERVAL 1 DAY</code>, this form is sargable."}],"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640331573,"creation_date":1640330603,"question_id":70470480,"body_markdown":"Mysql version 5.7\r\nIn group query, each group takes the maximum value, but the values of other columns are not the values of the row with the maximum value\r\n\r\n    \r\n        select d.userid,f.accesstype,MAX(f.createtime) from  tb_project a\r\n        inner join tb_contractor b on b.projectId=a.projectId\r\n        inner join tb_team c on c.corpBusinessId=b.corpBusinessId\r\n        inner join tb_user d on d.teamBusinessId=c.teamBusinessId\r\n        inner join tb_personauth e on e.userid=d.userid\r\n        inner join tb_accessrecords f on f.personguid=e.personguid\r\n        where a.projectId =  &#39;7AA5537B25D94DF5A6EF347B785D70F6&#39; and\r\n        DATE_SUB(CURDATE(), INTERVAL 3 DAY) &lt;= date(f.createtime)\r\n        GROUP BY d.userid\r\n\t\t\t\tORDER BY d.userid desc\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\nselect f.* from  tb_project a\r\n        inner join tb_contractor b on b.projectId=a.projectId\r\n        inner join tb_team c on c.corpBusinessId=b.corpBusinessId\r\n        inner join tb_user d on d.teamBusinessId=c.teamBusinessId\r\n        inner join tb_personauth e on e.userid=d.userid\r\n        inner join tb_accessrecords f on f.personguid=e.personguid\r\n        where a.projectId =  &#39;7AA5537B25D94DF5A6EF347B785D70F6&#39; and\r\n       to_days(f.createtime) = to_days(now())\r\nand d.userid=&#39;fd5a48caf2544cd5803e7933bd09a96f&#39;\r\norder by f.createtime desc \r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCan only subqueries be used？\r\nDifferent functions, different query results \r\nwhy？\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PCRet.png\r\n  [2]: https://i.stack.imgur.com/AxgST.png\r\n  [3]: https://i.stack.imgur.com/MGOcJ.png\r\n  [4]: https://i.stack.imgur.com/GHD5W.png","title":"There is a problem with Mysql grouping the maximum row value","body":"<p>Mysql version 5.7\nIn group query, each group takes the maximum value, but the values of other columns are not the values of the row with the maximum value</p>\n<pre><code>    select d.userid,f.accesstype,MAX(f.createtime) from  tb_project a\n    inner join tb_contractor b on b.projectId=a.projectId\n    inner join tb_team c on c.corpBusinessId=b.corpBusinessId\n    inner join tb_user d on d.teamBusinessId=c.teamBusinessId\n    inner join tb_personauth e on e.userid=d.userid\n    inner join tb_accessrecords f on f.personguid=e.personguid\n    where a.projectId =  '7AA5537B25D94DF5A6EF347B785D70F6' and\n    DATE_SUB(CURDATE(), INTERVAL 3 DAY) &lt;= date(f.createtime)\n    GROUP BY d.userid\n            ORDER BY d.userid desc\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PCRet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCRet.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>select f.* from  tb_project a\n        inner join tb_contractor b on b.projectId=a.projectId\n        inner join tb_team c on c.corpBusinessId=b.corpBusinessId\n        inner join tb_user d on d.teamBusinessId=c.teamBusinessId\n        inner join tb_personauth e on e.userid=d.userid\n        inner join tb_accessrecords f on f.personguid=e.personguid\n        where a.projectId =  '7AA5537B25D94DF5A6EF347B785D70F6' and\n       to_days(f.createtime) = to_days(now())\nand d.userid='fd5a48caf2544cd5803e7933bd09a96f'\norder by f.createtime desc \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AxgST.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxgST.png\" alt=\"enter image description here\" /></a></p>\n<p>Can only subqueries be used？\nDifferent functions, different query results\nwhy？</p>\n<p><a href=\"https://i.stack.imgur.com/MGOcJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGOcJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GHD5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHD5W.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","csv","jpa","h2"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640267766,"post_id":70463043,"comment_id":124557475,"body_markdown":"start by actually reading the error message. You are trying to write a String into a field that isn&#39;t a String","body":"start by actually reading the error message. You are trying to write a String into a field that isn&#39;t a String"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640267868,"post_id":70463043,"comment_id":124557510,"body_markdown":"@Stultuske I understand the error message and why it appears, what I do not know is what should I do so I can make the program work","body":"@Stultuske I understand the error message and why it appears, what I do not know is what should I do so I can make the program work"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640268671,"post_id":70463043,"comment_id":124557787,"body_markdown":"How are you expecting to turn string &#39;Ploiesti&#39; into an instance of DestinationEntity - where is that code, as that is what isn&#39;t happening and causing you this exception.","body":"How are you expecting to turn string &#39;Ploiesti&#39; into an instance of DestinationEntity - where is that code, as that is what isn&#39;t happening and causing you this exception."},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1640268713,"post_id":70463043,"comment_id":124557806,"body_markdown":"And &#39;15-12-2021&#39; is not a `Long`","body":"And &#39;15-12-2021&#39; is not a <code>Long</code>"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640268789,"post_id":70463043,"comment_id":124557832,"body_markdown":"@Chris I do have code for turning those dates in long values, and still the error","body":"@Chris I do have code for turning those dates in long values, and still the error"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640268845,"post_id":70463043,"comment_id":124557848,"body_markdown":"@Mansoor rather than telling what it is and it is not, could you give me at least some guidance if not a code solution","body":"@Mansoor rather than telling what it is and it is not, could you give me at least some guidance if not a code solution"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640268868,"post_id":70463043,"comment_id":124557862,"body_markdown":"because it isn&#39;t being called - and it does not make sense. Why do yo have to convert orderEntity.getDeliveryDate() to a string to turn it into a long? And you don&#39;t have anything being executed I saw posted above that can possibly handle turning  string &#39;Ploiesti&#39; into an instance of DestinationEntity, which is also mentioned in the error.","body":"because it isn&#39;t being called - and it does not make sense. Why do yo have to convert orderEntity.getDeliveryDate() to a string to turn it into a long? And you don&#39;t have anything being executed I saw posted above that can possibly handle turning  string &#39;Ploiesti&#39; into an instance of DestinationEntity, which is also mentioned in the error."},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640268986,"post_id":70463043,"comment_id":124557911,"body_markdown":"@Chris what exactly isn&#39;t being called?","body":"@Chris what exactly isn&#39;t being called?"},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1640269070,"post_id":70463043,"comment_id":124557944,"body_markdown":"Try using `FieldSetMapper` like below","body":"Try using <code>FieldSetMapper</code> like below"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640269075,"post_id":70463043,"comment_id":124557945,"body_markdown":"It is your code - shouldn&#39;t you tell me? Where is the code you have that converts the date strings into a long, and how are you sure it is being called?","body":"It is your code - shouldn&#39;t you tell me? Where is the code you have that converts the date strings into a long, and how are you sure it is being called?"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640269213,"post_id":70463043,"comment_id":124558007,"body_markdown":"@Chris that code is in ProcessorOrder","body":"@Chris that code is in ProcessorOrder"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1640269239,"post_id":70463043,"comment_id":124558016,"body_markdown":"@Mansoor like below where?","body":"@Mansoor like below where?"},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1640269464,"post_id":70463043,"comment_id":124558100,"body_markdown":"Check answers..","body":"Check answers.."}],"answers":[{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640269185,"creation_date":1640269185,"answer_id":70463367,"question_id":70463043,"body_markdown":"Looks like you need a custom `FieldSetMapper` because you need not only convert `String` into `Date` and then into `Long` but also lookup `DestinationEntity` by its name. Here is an example that converts `String` into `Date`\r\n\r\n    public class PersonFieldSetMapper implements FieldSetMapper&lt;Person&gt; {\r\n\r\n\t  @Override\r\n\t  public Person mapFieldSet(FieldSet fieldSet) throws BindException {\r\n\t\treturn new Person(fieldSet.readLong(&quot;id&quot;),\r\n\t\t\t\tfieldSet.readString(&quot;firstName&quot;),\r\n\t\t\t\tfieldSet.readString(&quot;lastName&quot;),\r\n\t\t\t\tfieldSet.readDate(&quot;birthdate&quot;, &quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n\t  }\r\n    }\r\n\r\nExample taken from here https://www.dineshonjava.com/spring-batch-read-from-csv-and-write-to-relational-db/\r\n\r\nYou also need to somehow add a `Map&lt;String, DestinationEntity&gt;` property to this `FieldSetMapper` to lookup `DestinationEntity`","title":"I can&#39;t populate H2 database with values form CSV file","body":"<p>Looks like you need a custom <code>FieldSetMapper</code> because you need not only convert <code>String</code> into <code>Date</code> and then into <code>Long</code> but also lookup <code>DestinationEntity</code> by its name. Here is an example that converts <code>String</code> into <code>Date</code></p>\n<pre><code>public class PersonFieldSetMapper implements FieldSetMapper&lt;Person&gt; {\n\n  @Override\n  public Person mapFieldSet(FieldSet fieldSet) throws BindException {\n    return new Person(fieldSet.readLong(&quot;id&quot;),\n            fieldSet.readString(&quot;firstName&quot;),\n            fieldSet.readString(&quot;lastName&quot;),\n            fieldSet.readDate(&quot;birthdate&quot;, &quot;yyyy-MM-dd HH:mm:ss&quot;));\n  }\n}\n</code></pre>\n<p>Example taken from here <a href=\"https://www.dineshonjava.com/spring-batch-read-from-csv-and-write-to-relational-db/\" rel=\"nofollow noreferrer\">https://www.dineshonjava.com/spring-batch-read-from-csv-and-write-to-relational-db/</a></p>\n<p>You also need to somehow add a <code>Map&lt;String, DestinationEntity&gt;</code> property to this <code>FieldSetMapper</code> to lookup <code>DestinationEntity</code></p>\n"},{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640269911,"creation_date":1640269364,"answer_id":70463397,"question_id":70463043,"body_markdown":"You can use FieldSetMapper like below and replace Mapper from your code. Use index based reads for each field. Like `id` will be *0* index\r\n\r\n\r\n````\r\n\r\npublic class OrderEntityMapper implements FieldSetMapper&lt;OrderEntity&gt; {\r\n\r\n@Override\r\npublic OrderEntity mapFieldSet(FieldSet fieldSet) throws BindException {\r\n    OrderEntity order=new OrderEntity();\r\n    order.setId(fieldSet.readLong(0));\r\n    // other fields\r\n    return order;\r\n}\r\n\r\n````\r\nThen replace `BeanWrapperFieldSetMapper&lt;OrderEntity&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;()` like\r\n\r\n\r\n````\r\n\r\n@Bean\r\npublic LineMapper&lt;OrderEntity&gt; lineMapperOrder() {\r\n\r\n    DefaultLineMapper&lt;OrderEntity&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\r\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n\r\n    lineTokenizer.setDelimiter(&quot;,&quot;);\r\n    lineTokenizer.setStrict(false);\r\n    lineTokenizer.setNames(&quot;id&quot;,&quot;destination&quot;,&quot;deliveryDate&quot;,&quot;statusOrder&quot;,&quot;lastUpdated&quot;);\r\n\r\n      defaultLineMapper.setLineTokenizer(lineTokenizer);\r\n    defaultLineMapper.setFieldSetMapper(new OrderEntityMapper());\r\n\r\n    return defaultLineMapper;\r\n   }\r\n\r\n}\r\n````","title":"I can&#39;t populate H2 database with values form CSV file","body":"<p>You can use FieldSetMapper like below and replace Mapper from your code. Use index based reads for each field. Like <code>id</code> will be <em>0</em> index</p>\n<pre><code>\npublic class OrderEntityMapper implements FieldSetMapper&lt;OrderEntity&gt; {\n\n@Override\npublic OrderEntity mapFieldSet(FieldSet fieldSet) throws BindException {\n    OrderEntity order=new OrderEntity();\n    order.setId(fieldSet.readLong(0));\n    // other fields\n    return order;\n}\n\n</code></pre>\n<p>Then replace <code>BeanWrapperFieldSetMapper&lt;OrderEntity&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;()</code> like</p>\n<pre><code>\n@Bean\npublic LineMapper&lt;OrderEntity&gt; lineMapperOrder() {\n\n    DefaultLineMapper&lt;OrderEntity&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n\n    lineTokenizer.setDelimiter(&quot;,&quot;);\n    lineTokenizer.setStrict(false);\n    lineTokenizer.setNames(&quot;id&quot;,&quot;destination&quot;,&quot;deliveryDate&quot;,&quot;statusOrder&quot;,&quot;lastUpdated&quot;);\n\n      defaultLineMapper.setLineTokenizer(lineTokenizer);\n    defaultLineMapper.setFieldSetMapper(new OrderEntityMapper());\n\n    return defaultLineMapper;\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1640331429,"creation_date":1640267433,"question_id":70463043,"body_markdown":"I am trying to populate an H2 database with values from a CSV file, like this:\r\n\r\n    @Component\r\n    public class DBWriterOrder implements ItemWriter&lt;OrderEntity&gt; {\r\n\r\n    private OrderRepository orderRepository;\r\n\r\n    @Autowired\r\n    public DBWriterOrder(OrderRepository orderRepository) {\r\n        this.orderRepository = orderRepository;\r\n    }\r\n\r\n    @Override\r\n    public void write(List&lt;? extends OrderEntity&gt; orders) throws Exception {\r\n        System.out.println(&quot;Data Saved for Orders: &quot; + orders);\r\n        orderRepository.saveAll(orders);\r\n\r\n         }\r\n    }\r\n-------------------------------------------------------------------------\r\n    @Component\r\n    public class ProcessorOrder implements ItemProcessor&lt;OrderEntity, OrderEntity&gt; {\r\n\r\n    public SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n    @Override\r\n    public OrderEntity process(OrderEntity orderEntity) throws Exception {\r\n\r\n        Date deliveryDate = sdf.parse(orderEntity.getDeliveryDate().toString());\r\n        long deliveryDateInMillis = deliveryDate.getTime();\r\n        orderEntity.setDeliveryDate(deliveryDateInMillis);\r\n\r\n        Date lastUpdated = sdf.parse(orderEntity.getLastUpdated().toString());\r\n        long lastUpdatedInMillis = lastUpdated.getTime();\r\n        orderEntity.setLastUpdated(lastUpdatedInMillis);\r\n\r\n\r\n        return orderEntity;\r\n        }\r\n    }\r\n-------------------------------------------------------------\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class SpringBatchConfigOrder {\r\n\r\n    @Bean\r\n    public Job jobOrder(JobBuilderFactory jobBuilderFactory,\r\n                   StepBuilderFactory stepBuilderFactory,\r\n                   ItemReader&lt;OrderEntity&gt; itemReader,\r\n                   ItemProcessor&lt;OrderEntity, OrderEntity&gt; itemProcessor,\r\n                   ItemWriter&lt;OrderEntity&gt; itemWriter\r\n    ) {\r\n\r\n        Step step = stepBuilderFactory.get(&quot;ETL-file-load&quot;)\r\n                .&lt;OrderEntity, OrderEntity&gt;chunk(100)\r\n                .reader(itemReader)\r\n                .processor(itemProcessor)\r\n                .writer(itemWriter)\r\n                .build();\r\n\r\n\r\n        return jobBuilderFactory.get(&quot;ETL-Load&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(step)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;OrderEntity&gt; itemReaderOrder() {\r\n\r\n        FlatFileItemReader&lt;OrderEntity&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n        flatFileItemReader.setResource(new FileSystemResource(&quot;src/main/resources/orders.csv&quot;));\r\n        flatFileItemReader.setName(&quot;CSV-Reader&quot;);\r\n        flatFileItemReader.setLinesToSkip(1);\r\n        flatFileItemReader.setLineMapper(lineMapperOrder());\r\n        return flatFileItemReader;\r\n    }\r\n\r\n    @Bean\r\n    public LineMapper&lt;OrderEntity&gt; lineMapperOrder() {\r\n\r\n        DefaultLineMapper&lt;OrderEntity&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n\r\n        lineTokenizer.setDelimiter(&quot;,&quot;);\r\n        lineTokenizer.setStrict(false);\r\n        lineTokenizer.setNames(&quot;id&quot;,&quot;destination&quot;,&quot;deliveryDate&quot;,&quot;statusOrder&quot;,&quot;lastUpdated&quot;);\r\n\r\n        BeanWrapperFieldSetMapper&lt;OrderEntity&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(OrderEntity.class);\r\n\r\n        defaultLineMapper.setLineTokenizer(lineTokenizer);\r\n        defaultLineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return defaultLineMapper;\r\n       }\r\n\r\n    }\r\n---------------------------------------------------------------------------\r\n    @RestController\r\n    @RequestMapping(&quot;/loadOrder&quot;)\r\n    public class OrderLoadController {\r\n\r\n    @Autowired\r\n    JobLauncher jobLauncherOrder;\r\n\r\n    @Autowired\r\n    Job jobOrder;\r\n\r\n    @GetMapping\r\n    public BatchStatus load() throws JobParametersInvalidException, JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\r\n\r\n\r\n        Map&lt;String, JobParameter&gt; maps = new HashMap&lt;&gt;();\r\n        maps.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\r\n        JobParameters parameters = new JobParameters(maps);\r\n        JobExecution jobExecution = jobLauncherOrder.run(jobOrder, parameters);\r\n\r\n        System.out.println(&quot;JobExecution: &quot; + jobExecution.getStatus());\r\n\r\n        System.out.println(&quot;Batch is Running...&quot;);\r\n        while (jobExecution.isRunning()) {\r\n            System.out.println(&quot;...&quot;);\r\n        }\r\n\r\n        return jobExecution.getStatus();\r\n        }\r\n    }\r\n\r\n\r\n------------------------------------------------------------\r\n\r\nAlso this is my entity class:\r\n\r\n    @Entity(name = &quot;orders&quot;)\r\n    @Data\r\n    public class OrderEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private DestinationEntity destination;\r\n    \r\n    private Long deliveryDate;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private OrderStatus statusOrder;\r\n\r\n    private Long lastUpdated;\r\n\r\n    }\r\n\r\n\r\n-----------------------------------------------------------------------------\r\nAnd this is my CSV file:\r\n\r\n    id,destination,deliveryDate,statusOrder,lastUpdated\r\n    1,Ploiesti,15-12-2021,NEW,15-12-2021\r\n    2,Ploiesti,15-12-2021,NEW,15-12-2021\r\n    3,Pitesti,15-12-2021,NEW,15-12-2021\r\n    4,Pitesti,15-12-2021,NEW,15-12-2021\r\n    5,Pitesti,15-12-2021,NEW,15-12-2021\r\n----------------------------------------------------------------------------------\r\n\r\nWhen I call the endpoint localhost:8082/loadController, my DB instead of being populated it remains empty and all I got is this error in the console:\r\n\r\n     org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[file [C:\\Users\\ALEX\\Desktop\\FinalProject\\demo\\src\\main\\resources\\orders.csv]], input=[1,Ploiesti,15-12-2021,NEW,15-12-2021]\r\n\t    at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n   \r\n     Caused by: org.springframework.validation.BindException: \r\n    org.springframework.validation.BeanPropertyBindingResult: 3 errors\r\n     Field error in object &#39;target&#39; on field &#39;lastUpdated&#39;: rejected value [15-12-2021]; codes [typeMismatch.target.lastUpdated,typeMismatch.lastUpdated,typeMismatch.java.lang.Long,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.lastUpdated,lastUpdated]; arguments []; default message [lastUpdated]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39; for property &#39;lastUpdated&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;15-12-2021&quot;]\r\n     Field error in object &#39;target&#39; on field &#39;destination&#39;: rejected value [Ploiesti]; codes [typeMismatch.target.destination,typeMismatch.destination,typeMismatch.com.example.demo.destination.DestinationEntity,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.destination,destination]; arguments []; default message [destination]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;com.example.demo.destination.DestinationEntity&#39; for property &#39;destination&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.example.demo.destination.DestinationEntity&#39; for property &#39;destination&#39;: no matching editors or conversion strategy found]\r\n     Field error in object &#39;target&#39; on field &#39;deliveryDate&#39;: rejected value [15-12-2021]; codes [typeMismatch.target.deliveryDate,typeMismatch.deliveryDate,typeMismatch.java.lang.Long,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.deliveryDate,deliveryDate]; arguments []; default message [deliveryDate]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39; for property &#39;deliveryDate&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;15-12-2021&quot;]\r\n\r\n-----------------------------------------------------------------------------------------\r\n\r\nIn the end, my question is what should I do and how should I do to get things done?\r\nI would prefer a full code solution because I am not sufficiently advanced to solve this on my own, only with indications.","title":"I can&#39;t populate H2 database with values form CSV file","body":"<p>I am trying to populate an H2 database with values from a CSV file, like this:</p>\n<pre><code>@Component\npublic class DBWriterOrder implements ItemWriter&lt;OrderEntity&gt; {\n\nprivate OrderRepository orderRepository;\n\n@Autowired\npublic DBWriterOrder(OrderRepository orderRepository) {\n    this.orderRepository = orderRepository;\n}\n\n@Override\npublic void write(List&lt;? extends OrderEntity&gt; orders) throws Exception {\n    System.out.println(&quot;Data Saved for Orders: &quot; + orders);\n    orderRepository.saveAll(orders);\n\n     }\n}\n</code></pre>\n<hr />\n<pre><code>@Component\npublic class ProcessorOrder implements ItemProcessor&lt;OrderEntity, OrderEntity&gt; {\n\npublic SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n@Override\npublic OrderEntity process(OrderEntity orderEntity) throws Exception {\n\n    Date deliveryDate = sdf.parse(orderEntity.getDeliveryDate().toString());\n    long deliveryDateInMillis = deliveryDate.getTime();\n    orderEntity.setDeliveryDate(deliveryDateInMillis);\n\n    Date lastUpdated = sdf.parse(orderEntity.getLastUpdated().toString());\n    long lastUpdatedInMillis = lastUpdated.getTime();\n    orderEntity.setLastUpdated(lastUpdatedInMillis);\n\n\n    return orderEntity;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class SpringBatchConfigOrder {\n\n@Bean\npublic Job jobOrder(JobBuilderFactory jobBuilderFactory,\n               StepBuilderFactory stepBuilderFactory,\n               ItemReader&lt;OrderEntity&gt; itemReader,\n               ItemProcessor&lt;OrderEntity, OrderEntity&gt; itemProcessor,\n               ItemWriter&lt;OrderEntity&gt; itemWriter\n) {\n\n    Step step = stepBuilderFactory.get(&quot;ETL-file-load&quot;)\n            .&lt;OrderEntity, OrderEntity&gt;chunk(100)\n            .reader(itemReader)\n            .processor(itemProcessor)\n            .writer(itemWriter)\n            .build();\n\n\n    return jobBuilderFactory.get(&quot;ETL-Load&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(step)\n            .build();\n}\n\n@Bean\npublic FlatFileItemReader&lt;OrderEntity&gt; itemReaderOrder() {\n\n    FlatFileItemReader&lt;OrderEntity&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n    flatFileItemReader.setResource(new FileSystemResource(&quot;src/main/resources/orders.csv&quot;));\n    flatFileItemReader.setName(&quot;CSV-Reader&quot;);\n    flatFileItemReader.setLinesToSkip(1);\n    flatFileItemReader.setLineMapper(lineMapperOrder());\n    return flatFileItemReader;\n}\n\n@Bean\npublic LineMapper&lt;OrderEntity&gt; lineMapperOrder() {\n\n    DefaultLineMapper&lt;OrderEntity&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n\n    lineTokenizer.setDelimiter(&quot;,&quot;);\n    lineTokenizer.setStrict(false);\n    lineTokenizer.setNames(&quot;id&quot;,&quot;destination&quot;,&quot;deliveryDate&quot;,&quot;statusOrder&quot;,&quot;lastUpdated&quot;);\n\n    BeanWrapperFieldSetMapper&lt;OrderEntity&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n    fieldSetMapper.setTargetType(OrderEntity.class);\n\n    defaultLineMapper.setLineTokenizer(lineTokenizer);\n    defaultLineMapper.setFieldSetMapper(fieldSetMapper);\n\n    return defaultLineMapper;\n   }\n\n}\n</code></pre>\n<hr />\n<pre><code>@RestController\n@RequestMapping(&quot;/loadOrder&quot;)\npublic class OrderLoadController {\n\n@Autowired\nJobLauncher jobLauncherOrder;\n\n@Autowired\nJob jobOrder;\n\n@GetMapping\npublic BatchStatus load() throws JobParametersInvalidException, JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException {\n\n\n    Map&lt;String, JobParameter&gt; maps = new HashMap&lt;&gt;();\n    maps.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\n    JobParameters parameters = new JobParameters(maps);\n    JobExecution jobExecution = jobLauncherOrder.run(jobOrder, parameters);\n\n    System.out.println(&quot;JobExecution: &quot; + jobExecution.getStatus());\n\n    System.out.println(&quot;Batch is Running...&quot;);\n    while (jobExecution.isRunning()) {\n        System.out.println(&quot;...&quot;);\n    }\n\n    return jobExecution.getStatus();\n    }\n}\n</code></pre>\n<hr />\n<p>Also this is my entity class:</p>\n<pre><code>@Entity(name = &quot;orders&quot;)\n@Data\npublic class OrderEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.EAGER)\nprivate DestinationEntity destination;\n\nprivate Long deliveryDate;\n\n@Enumerated(value = EnumType.STRING)\nprivate OrderStatus statusOrder;\n\nprivate Long lastUpdated;\n\n}\n</code></pre>\n<hr />\n<p>And this is my CSV file:</p>\n<pre><code>id,destination,deliveryDate,statusOrder,lastUpdated\n1,Ploiesti,15-12-2021,NEW,15-12-2021\n2,Ploiesti,15-12-2021,NEW,15-12-2021\n3,Pitesti,15-12-2021,NEW,15-12-2021\n4,Pitesti,15-12-2021,NEW,15-12-2021\n5,Pitesti,15-12-2021,NEW,15-12-2021\n</code></pre>\n<hr />\n<p>When I call the endpoint localhost:8082/loadController, my DB instead of being populated it remains empty and all I got is this error in the console:</p>\n<pre><code> org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[file [C:\\Users\\ALEX\\Desktop\\FinalProject\\demo\\src\\main\\resources\\orders.csv]], input=[1,Ploiesti,15-12-2021,NEW,15-12-2021]\n    at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n\n Caused by: org.springframework.validation.BindException: \norg.springframework.validation.BeanPropertyBindingResult: 3 errors\n Field error in object 'target' on field 'lastUpdated': rejected value [15-12-2021]; codes [typeMismatch.target.lastUpdated,typeMismatch.lastUpdated,typeMismatch.java.lang.Long,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.lastUpdated,lastUpdated]; arguments []; default message [lastUpdated]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.lang.Long' for property 'lastUpdated'; nested exception is java.lang.NumberFormatException: For input string: &quot;15-12-2021&quot;]\n Field error in object 'target' on field 'destination': rejected value [Ploiesti]; codes [typeMismatch.target.destination,typeMismatch.destination,typeMismatch.com.example.demo.destination.DestinationEntity,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.destination,destination]; arguments []; default message [destination]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'com.example.demo.destination.DestinationEntity' for property 'destination'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'com.example.demo.destination.DestinationEntity' for property 'destination': no matching editors or conversion strategy found]\n Field error in object 'target' on field 'deliveryDate': rejected value [15-12-2021]; codes [typeMismatch.target.deliveryDate,typeMismatch.deliveryDate,typeMismatch.java.lang.Long,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.deliveryDate,deliveryDate]; arguments []; default message [deliveryDate]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.lang.Long' for property 'deliveryDate'; nested exception is java.lang.NumberFormatException: For input string: &quot;15-12-2021&quot;]\n</code></pre>\n<hr />\n<p>In the end, my question is what should I do and how should I do to get things done?\nI would prefer a full code solution because I am not sufficiently advanced to solve this on my own, only with indications.</p>\n"},{"tags":["java","android","filter","android-edittext","maxlength"],"comments":[{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1434007482,"post_id":30774123,"comment_id":49598980,"body_markdown":"It is working, android:maxLength = &quot;5&quot; works!","body":"It is working, android:maxLength = &quot;5&quot; works!"},{"owner":{"account_id":1825090,"reputation":3563,"user_id":3828908,"accept_rate":69,"display_name":"Salmaan"},"score":0,"creation_date":1434007558,"post_id":30774123,"comment_id":49599031,"body_markdown":"But it isnt working for me :/","body":"But it isnt working for me :/"},{"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"score":0,"creation_date":1434007679,"post_id":30774123,"comment_id":49599115,"body_markdown":"I suggest you to check on a phone using USB debugging","body":"I suggest you to check on a phone using USB debugging"},{"owner":{"account_id":1825090,"reputation":3563,"user_id":3828908,"accept_rate":69,"display_name":"Salmaan"},"score":0,"creation_date":1434007865,"post_id":30774123,"comment_id":49599242,"body_markdown":"well thats what I am doing!","body":"well thats what I am doing!"},{"owner":{"account_id":5133110,"reputation":3741,"user_id":4112664,"display_name":"almightyGOSU"},"score":0,"creation_date":1434007888,"post_id":30774123,"comment_id":49599262,"body_markdown":"Show us what you mean by &quot;not working&quot;? Maybe a screenshot or something","body":"Show us what you mean by &quot;not working&quot;? Maybe a screenshot or something"},{"owner":{"account_id":5133110,"reputation":3741,"user_id":4112664,"display_name":"almightyGOSU"},"score":0,"creation_date":1434008088,"post_id":30774123,"comment_id":49599414,"body_markdown":"@Salmaan Maybe because your hint is longer than maxLength?","body":"@Salmaan Maybe because your hint is longer than maxLength?"},{"owner":{"account_id":1825090,"reputation":3563,"user_id":3828908,"accept_rate":69,"display_name":"Salmaan"},"score":0,"creation_date":1434008734,"post_id":30774123,"comment_id":49599891,"body_markdown":"No thats not the problem, ive tried a bigger maxLength","body":"No thats not the problem, ive tried a bigger maxLength"}],"answers":[{"tags":[],"owner":{"account_id":318831,"reputation":955,"user_id":636245,"accept_rate":63,"display_name":"Tripaty Sahu"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1438152111,"creation_date":1438152111,"answer_id":31693042,"question_id":30774123,"body_markdown":"If you are using InputFilter for the edittext, then maxLength will not work.","title":"android EditText maxLength not working","body":"<p>If you are using InputFilter for the edittext, then maxLength will not work.</p>\n"},{"tags":[],"owner":{"account_id":417273,"reputation":485,"user_id":793175,"accept_rate":67,"display_name":"Armando"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1446064366,"creation_date":1446064366,"answer_id":33401067,"question_id":30774123,"body_markdown":"Fairly old post but, I noticed how the XML is an actual `EditText` object, while you are adding the filters to a `TextView` which could handle it differently than `EditText`. If you are adding an `InputFilter` object manually, the xml property is overridden. \r\n\r\nThe example code on which you add `InputFilter`s to the `View` seems to be a `TextView` object. Make sure you pull the right view and it&#39;s being cast to `EditText` if you go with the manual addition of the filters--it&#39;s working for me right now.\r\n\r\nGood luck.","title":"android EditText maxLength not working","body":"<p>Fairly old post but, I noticed how the XML is an actual <code>EditText</code> object, while you are adding the filters to a <code>TextView</code> which could handle it differently than <code>EditText</code>. If you are adding an <code>InputFilter</code> object manually, the xml property is overridden. </p>\n\n<p>The example code on which you add <code>InputFilter</code>s to the <code>View</code> seems to be a <code>TextView</code> object. Make sure you pull the right view and it's being cast to <code>EditText</code> if you go with the manual addition of the filters--it's working for me right now.</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":8503760,"reputation":419,"user_id":6375989,"display_name":"Surya V"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1466425254,"creation_date":1466424942,"answer_id":37922370,"question_id":30774123,"body_markdown":"Try this, it will work for both maxlenght and input filter\r\n\r\n    month.setFilters(new InputFilter[]{new InputFilterMinMax(&quot;0&quot;, &quot;12&quot;), new InputFilter.LengthFilter(2)});","title":"android EditText maxLength not working","body":"<p>Try this, it will work for both maxlenght and input filter</p>\n\n<pre><code>month.setFilters(new InputFilter[]{new InputFilterMinMax(\"0\", \"12\"), new InputFilter.LengthFilter(2)});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526563015,"creation_date":1526563015,"answer_id":50392447,"question_id":30774123,"body_markdown":"If you already have InputFilter then maxLength will not work. You will have to create an additional InputFilter and add it:\r\n\r\n        // Filter for comma character\r\n        String blockCharacterSet = &quot;,&quot;;\r\n        InputFilter filter = (source, start, end, dest, dstart, dend) -&gt; {\r\n            if (source != null &amp;&amp; blockCharacterSet.contains((&quot;&quot; + source))) {\r\n                return &quot;&quot;;\r\n            }\r\n            return null;\r\n        };\r\n\r\n        // Filter for max Length\r\n        InputFilter filter1 = new InputFilter.LengthFilter(20);\r\n\r\n        // Set the filters\r\n        et_list_name.setFilters(new InputFilter[] { filter, filter1 });","title":"android EditText maxLength not working","body":"<p>If you already have InputFilter then maxLength will not work. You will have to create an additional InputFilter and add it:</p>\n\n<pre><code>    // Filter for comma character\n    String blockCharacterSet = \",\";\n    InputFilter filter = (source, start, end, dest, dstart, dend) -&gt; {\n        if (source != null &amp;&amp; blockCharacterSet.contains((\"\" + source))) {\n            return \"\";\n        }\n        return null;\n    };\n\n    // Filter for max Length\n    InputFilter filter1 = new InputFilter.LengthFilter(20);\n\n    // Set the filters\n    et_list_name.setFilters(new InputFilter[] { filter, filter1 });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582790918,"creation_date":1582790345,"answer_id":60428649,"question_id":30774123,"body_markdown":"**To add character restriction as well as input limit.**  \r\n\r\n       private String BlockCharacterSet_Name = &quot;\\\\@$#!=&gt;&lt;&amp;^*+\\&quot;\\&#39;&quot;;   \r\n\r\n     mFirstName.setFilters(new InputFilter[] {new InputFilter.LengthFilter(25),inputFilter_Name});\r\n    \r\n       \r\n\r\n     private InputFilter inputFilter_Name = new InputFilter() { //filter input for name fields\r\n            @Override\r\n            public CharSequence filter(CharSequence charSequence, int i, int i1, Spanned spanned, int i2, int i3) {\r\n                if (charSequence != null &amp;&amp; BlockCharacterSet_Name.contains((&quot;&quot; + charSequence))) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n\r\n\r\n&gt; {new InputFilter.LengthFilter(25),inputFilter_Name}\r\n\r\nallows you to set both max length limitation as well as your special characters restrictions both in the same InputFilter and therefore you dont need to create separate Inputfilter for the same.","title":"android EditText maxLength not working","body":"<p><strong>To add character restriction as well as input limit.</strong>  </p>\n\n<pre><code>   private String BlockCharacterSet_Name = \"\\\\@$#!=&gt;&lt;&amp;^*+\\\"\\'\";   \n\n mFirstName.setFilters(new InputFilter[] {new InputFilter.LengthFilter(25),inputFilter_Name});\n\n\n\n private InputFilter inputFilter_Name = new InputFilter() { //filter input for name fields\n        @Override\n        public CharSequence filter(CharSequence charSequence, int i, int i1, Spanned spanned, int i2, int i3) {\n            if (charSequence != null &amp;&amp; BlockCharacterSet_Name.contains((\"\" + charSequence))) {\n                return \"\";\n            }\n            return null;\n        }\n    };\n</code></pre>\n\n<blockquote>\n  <p>{new InputFilter.LengthFilter(25),inputFilter_Name}</p>\n</blockquote>\n\n<p>allows you to set both max length limitation as well as your special characters restrictions both in the same InputFilter and therefore you dont need to create separate Inputfilter for the same.</p>\n"},{"tags":[],"owner":{"account_id":2286156,"reputation":1708,"user_id":2010056,"display_name":"Amar Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584185192,"creation_date":1584185192,"answer_id":60682218,"question_id":30774123,"body_markdown":"Try this:\r\n\r\n    val existingFilters: Array&lt;InputFilter&gt; = editText.filters\r\n    editText.filters = existingFilters.apply { plus(filter) }\r\n\r\nYou need to get the list of existing filters like maxLength applied through XML and then add more filters to it. In your case, the maxLength property of the editText was overridden by the custom InputFilter you were trying to apply.","title":"android EditText maxLength not working","body":"<p>Try this:</p>\n\n<pre><code>val existingFilters: Array&lt;InputFilter&gt; = editText.filters\neditText.filters = existingFilters.apply { plus(filter) }\n</code></pre>\n\n<p>You need to get the list of existing filters like maxLength applied through XML and then add more filters to it. In your case, the maxLength property of the editText was overridden by the custom InputFilter you were trying to apply.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624454302,"creation_date":1624454302,"answer_id":68100620,"question_id":30774123,"body_markdown":"In my case DataBinding is used, but someone changed `filter` right in code using ViewBinding.\r\n\r\n    binding.edit_text.filters = arrayOf&lt;InputFilter&gt;(object : InputFilter {\r\n        override fun filter(\r\n            source: CharSequence?,\r\n            start: Int,\r\n            end: Int,\r\n            dest: Spanned?,\r\n            dstart: Int,\r\n            dend: Int\r\n        ): CharSequence {\r\n            return source.toString().filter { it.toString().matches((&quot;[${LETTERS}]&quot;).toRegex()) }\r\n        }\r\n    })\r\n\r\nAndroid Studio didn&#39;t find what method referred to &quot;@+id/edit_text&quot; until I removed that id from the `EditText`.","title":"android EditText maxLength not working","body":"<p>In my case DataBinding is used, but someone changed <code>filter</code> right in code using ViewBinding.</p>\n<pre><code>binding.edit_text.filters = arrayOf&lt;InputFilter&gt;(object : InputFilter {\n    override fun filter(\n        source: CharSequence?,\n        start: Int,\n        end: Int,\n        dest: Spanned?,\n        dstart: Int,\n        dend: Int\n    ): CharSequence {\n        return source.toString().filter { it.toString().matches((&quot;[${LETTERS}]&quot;).toRegex()) }\n    }\n})\n</code></pre>\n<p>Android Studio didn't find what method referred to &quot;@+id/edit_text&quot; until I removed that id from the <code>EditText</code>.</p>\n"},{"tags":[],"owner":{"account_id":8958000,"reputation":192,"user_id":6681665,"display_name":"Daniil Pavlenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640331418,"creation_date":1640331418,"answer_id":70470583,"question_id":30774123,"body_markdown":"&gt; If you are using InputFilter for the edittext, then maxLength will not work.\r\n\r\nIt&#39;s correct if you add a filter with replacing original filters.\r\n\r\nYou can use `android:maxLength=&quot;5&quot;` in your xml.\r\n\r\nAnd in your code just add a filter without replacing existed filters.\r\n\r\nKotlin:\r\n```kotlin\r\neditText.filters = arrayOf(\r\n  *editText.filters,\r\n  InputFilter.AllCaps(), // your filter\r\n  // other filters\r\n)\r\n```","title":"android EditText maxLength not working","body":"<blockquote>\n<p>If you are using InputFilter for the edittext, then maxLength will not work.</p>\n</blockquote>\n<p>It's correct if you add a filter with replacing original filters.</p>\n<p>You can use <code>android:maxLength=&quot;5&quot;</code> in your xml.</p>\n<p>And in your code just add a filter without replacing existed filters.</p>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>editText.filters = arrayOf(\n  *editText.filters,\n  InputFilter.AllCaps(), // your filter\n  // other filters\n)\n</code></pre>\n"}],"owner":{"account_id":1825090,"reputation":3563,"user_id":3828908,"accept_rate":69,"display_name":"Salmaan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18523,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":33401067,"answer_count":8,"score":22,"last_activity_date":1640331418,"creation_date":1434007108,"question_id":30774123,"body_markdown":"This is my xml\n\n    &lt;EditText\n    android:id=&quot;@+id/et_comment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:inputType=&quot;textNoSuggestions|textVisiblePassword&quot;\n    android:hint=&quot;Provide comments here...&quot;\n    android:gravity=&quot;top&quot;\n    android:maxLength=&quot;5&quot;\n    android:textSize=&quot;12sp&quot;\n    android:visibility=&quot;visible&quot;\n    /&gt;\nNeither is it working using this code  \n\n    TextView editEntryView = new TextView(...);\n    InputFilter[] filterArray = new InputFilter[1];\n    filterArray[0] = new InputFilter.LengthFilter(5);\n    editEntryView.setFilters(filterArray);\n\nmaxLenth is not working, I dont know why, but it isnt.  \nI have checked other answers on the stack but they are also not working.  \nPlease check if any of EditText attributes are conflicting or what is the problem?   \n  \n**EDIT: Same problem is being faced by other developers**  \nSee comments [here][1] same problem is being faced by Mansi and aat  \nAnd [here][2] in comments same problem is being faced by Vincy and Riser\n\n**EDIT: Problem solved**  \nI was using input filter which overrides the max length in xml making it not able to work.  \nThe reason input filter didn&#39;t worked for me was that I was using another input filter which overwrites the previous maxLength input filter.  \nMaking it into a single input filter fixed that issue for me.  \n\n  [1]: https://stackoverflow.com/a/12083367/3828908\n  [2]: https://stackoverflow.com/questions/3285412/limit-text-length-of-edittext-in-android","title":"android EditText maxLength not working","body":"<p>This is my xml</p>\n<pre><code>&lt;EditText\nandroid:id=&quot;@+id/et_comment&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:inputType=&quot;textNoSuggestions|textVisiblePassword&quot;\nandroid:hint=&quot;Provide comments here...&quot;\nandroid:gravity=&quot;top&quot;\nandroid:maxLength=&quot;5&quot;\nandroid:textSize=&quot;12sp&quot;\nandroid:visibility=&quot;visible&quot;\n/&gt;\n</code></pre>\n<p>Neither is it working using this code</p>\n<pre><code>TextView editEntryView = new TextView(...);\nInputFilter[] filterArray = new InputFilter[1];\nfilterArray[0] = new InputFilter.LengthFilter(5);\neditEntryView.setFilters(filterArray);\n</code></pre>\n<p>maxLenth is not working, I dont know why, but it isnt.<br />\nI have checked other answers on the stack but they are also not working.<br />\nPlease check if any of EditText attributes are conflicting or what is the problem?</p>\n<p><strong>EDIT: Same problem is being faced by other developers</strong><br />\nSee comments <a href=\"https://stackoverflow.com/a/12083367/3828908\">here</a> same problem is being faced by Mansi and aat<br />\nAnd <a href=\"https://stackoverflow.com/questions/3285412/limit-text-length-of-edittext-in-android\">here</a> in comments same problem is being faced by Vincy and Riser</p>\n<p><strong>EDIT: Problem solved</strong><br />\nI was using input filter which overrides the max length in xml making it not able to work.<br />\nThe reason input filter didn't worked for me was that I was using another input filter which overwrites the previous maxLength input filter.<br />\nMaking it into a single input filter fixed that issue for me.</p>\n"},{"tags":["java","spring","spring-boot","javafx"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":1,"creation_date":1640319426,"post_id":70469497,"comment_id":124569146,"body_markdown":"hi, the framework is fairly lightweight, memory usage would mostly depend on concurrent requests and application code","body":"hi, the framework is fairly lightweight, memory usage would mostly depend on concurrent requests and application code"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640319583,"post_id":70469497,"comment_id":124569167,"body_markdown":"I don’t know what you mean by spring boot creating static objects from things. And I really don’t know what you mean by a class being loaded from the metaspace - all class information is stored in the metaspace; why do you think using a DI framework would make a difference?","body":"I don’t know what you mean by spring boot creating static objects from things. And I really don’t know what you mean by a class being loaded from the metaspace - all class information is stored in the metaspace; why do you think using a DI framework would make a difference?"},{"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"score":0,"creation_date":1640320395,"post_id":70469497,"comment_id":124569266,"body_markdown":"@BoristheSpide i believe for classes with Component notation spring boot creates a static object of it during the launching of the application in the spring boot container, and we get access to it by using Autowired notation (at least this is what I understand from a youtube tutorial), which means a lot classes with Component notation = a lot of static variables that will never get garbage collected which is a major disadvantage ?","body":"@BoristheSpide i believe for classes with Component notation spring boot creates a static object of it during the launching of the application in the spring boot container, and we get access to it by using Autowired notation (at least this is what I understand from a youtube tutorial), which means a lot classes with Component notation = a lot of static variables that will never get garbage collected which is a major disadvantage ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1640321240,"post_id":70469497,"comment_id":124569377,"body_markdown":"The total memory of those objects is likely to be small; e.g. ~100Kb.  This small increase in memory usage is far outweighed by the advantages of using Spring Boot, Spring DI and so on.  (This question sounds to me like \npremature optimization.)   But if you think it will make a difference ... *measure it*.","body":"The total memory of those objects is likely to be small; e.g. ~100Kb.  This small increase in memory usage is far outweighed by the advantages of using Spring Boot, Spring DI and so on.  (This question sounds to me like  premature optimization.)   But if you think it will make a difference ... <i>measure it</i>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640321498,"post_id":70469497,"comment_id":124569413,"body_markdown":"First and foremost, Spring doesn’t create static anything. Secondly metaspace is a red herring. To your actual question - if you register these objects as Spring singletons, that implies they are currently also singletons; so do they get garbage collected _now_?","body":"First and foremost, Spring doesn’t create static anything. Secondly metaspace is a red herring. To your actual question - if you register these objects as Spring singletons, that implies they are currently also singletons; so do they get garbage collected <i>now</i>?"},{"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"score":1,"creation_date":1640321977,"post_id":70469497,"comment_id":124569477,"body_markdown":"@StephenC you are totally right, but I think this is for the web development case, for the JavaFX applications when the view controller doesn&#39;t get garbage collected means also the view objects will always stay there TableViews,ListViews,Panes ... which may take some important space, I will try to do a test to it, thank you.","body":"@StephenC you are totally right, but I think this is for the web development case, for the JavaFX applications when the view controller doesn&#39;t get garbage collected means also the view objects will always stay there TableViews,ListViews,Panes ... which may take some important space, I will try to do a test to it, thank you."},{"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"score":0,"creation_date":1640322170,"post_id":70469497,"comment_id":124569508,"body_markdown":"@BoristheSpider if they are singletons that explicitly means static, so I think the answer is no?","body":"@BoristheSpider if they are singletons that explicitly means static, so I think the answer is no?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640322175,"post_id":70469497,"comment_id":124569509,"body_markdown":"(For the record, 100kB is a guestimate.  But even if the memory overhead was 10MB, I still wouldn&#39;t think it mattered.)","body":"(For the record, 100kB is a guestimate.  But even if the memory overhead was 10MB, I still wouldn&#39;t think it mattered.)"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1640329512,"post_id":70469497,"comment_id":124570570,"body_markdown":"Singleton means “single instance”. Static is an implementation detail. A singleton by no means has to be static!","body":"Singleton means “single instance”. Static is an implementation detail. A singleton by no means has to be static!"},{"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"score":0,"creation_date":1640330522,"post_id":70469497,"comment_id":124570732,"body_markdown":"@BorisTheSpider i got you now, i should do more researching about how spring boot manage its container, i appreciate your help","body":"@BorisTheSpider i got you now, i should do more researching about how spring boot manage its container, i appreciate your help"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640330752,"creation_date":1640326039,"answer_id":70470018,"question_id":70469497,"body_markdown":"You write in comments:\r\n\r\n&gt; JavaFX applications when the view controller doesn&#39;t get garbage collected means also the view objects will always stay there TableViews,ListViews,Panes ... which may take some important space\r\n\r\nBut I don’t think it needs to be that way.\r\n\r\nThe controller instance which references the Java nodes is just a Java object like any other and will be available for garbage collection when there are no more references to it in the JVM.\r\n\r\nLet’s say you configure your JavaFX SpringBoot integration like this:\r\n\r\n * https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service\r\n\r\nSo you configure your controller factory to use Spring beans:\r\n\r\n    fxmlLoader.setControllerFactory(\r\n        springContext::getBean\r\n    );\r\n\r\nThen your controllers are Spring beans whose scope you can control.\r\n\r\nIf you use [prototype scope](https://www.baeldung.com/spring-bean-scopes#prototype):\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    public PersonController personControllerPrototype() {\r\n        return new PersonController();\r\n    }\r\n\r\nThen the behavior is as specified in:\r\n\r\n * https://stackoverflow.com/questions/8419073/regarding-the-scope-and-garbage-collection-in-spring-bean-container\r\n\r\n&gt; Spring does not manage the complete lifecycle of a prototype bean: the container instantiates, configures, and otherwise assembles a prototype object, and hands it to the client, with no further record of that prototype instance.\r\n\r\nTypically you will create a controller and add a reference to the object tree that it instantiates into the scene graph.  If you replace the tree in the scene graph when you navigate, and you don’t keep a reference to the controller anywhere, then the controller and any other associated nodes which have been removed from the scene graph can be garbage collected.\r\n\r\nOr, if you wanted to just load the fxml once and keep the controller around forever you could use singleton scope to do that.\r\n\r\nSo basically, you can choose the scope and lifecycle of your controllers to be as best fits your application or the individual controllers that you are using.","title":"Does using Spring boot with javafx will consume a lot of memory?","body":"<p>You write in comments:</p>\n<blockquote>\n<p>JavaFX applications when the view controller doesn't get garbage collected means also the view objects will always stay there TableViews,ListViews,Panes ... which may take some important space</p>\n</blockquote>\n<p>But I don’t think it needs to be that way.</p>\n<p>The controller instance which references the Java nodes is just a Java object like any other and will be available for garbage collection when there are no more references to it in the JVM.</p>\n<p>Let’s say you configure your JavaFX SpringBoot integration like this:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service\">Adding Spring Dependency Injection in JavaFX (JPA Repo, Service)</a></li>\n</ul>\n<p>So you configure your controller factory to use Spring beans:</p>\n<pre><code>fxmlLoader.setControllerFactory(\n    springContext::getBean\n);\n</code></pre>\n<p>Then your controllers are Spring beans whose scope you can control.</p>\n<p>If you use <a href=\"https://www.baeldung.com/spring-bean-scopes#prototype\" rel=\"nofollow noreferrer\">prototype scope</a>:</p>\n<pre><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic PersonController personControllerPrototype() {\n    return new PersonController();\n}\n</code></pre>\n<p>Then the behavior is as specified in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8419073/regarding-the-scope-and-garbage-collection-in-spring-bean-container\">Regarding the scope and garbage collection in Spring bean container</a></li>\n</ul>\n<blockquote>\n<p>Spring does not manage the complete lifecycle of a prototype bean: the container instantiates, configures, and otherwise assembles a prototype object, and hands it to the client, with no further record of that prototype instance.</p>\n</blockquote>\n<p>Typically you will create a controller and add a reference to the object tree that it instantiates into the scene graph.  If you replace the tree in the scene graph when you navigate, and you don’t keep a reference to the controller anywhere, then the controller and any other associated nodes which have been removed from the scene graph can be garbage collected.</p>\n<p>Or, if you wanted to just load the fxml once and keep the controller around forever you could use singleton scope to do that.</p>\n<p>So basically, you can choose the scope and lifecycle of your controllers to be as best fits your application or the individual controllers that you are using.</p>\n"}],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70470018,"answer_count":1,"score":5,"last_activity_date":1640330752,"creation_date":1640319258,"question_id":70469497,"body_markdown":"I&#39;m willing to use Spring boot technology in my JavaFX application (to get the advantage of its dependency injection), but I&#39;m wondering about the consequences on the memory, as you know any class with a &quot;component&quot; notation will be loaded to the MetaSpace (since it Spring boot will create a static object from it), so with tens of JavaFx view controllers loaded to the MetaSpace they will never get garbage collected from the launching of the application to the end, which is obviously a bad thing, is there any way to get around of this issue?","title":"Does using Spring boot with javafx will consume a lot of memory?","body":"<p>I'm willing to use Spring boot technology in my JavaFX application (to get the advantage of its dependency injection), but I'm wondering about the consequences on the memory, as you know any class with a &quot;component&quot; notation will be loaded to the MetaSpace (since it Spring boot will create a static object from it), so with tens of JavaFx view controllers loaded to the MetaSpace they will never get garbage collected from the launching of the application to the end, which is obviously a bad thing, is there any way to get around of this issue?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1640170103,"post_id":70447541,"comment_id":124530482,"body_markdown":"What exception are you getting and for what code line? What do you mean by `behaving very weirdly`?","body":"What exception are you getting and for what code line? What do you mean by <code>behaving very weirdly</code>?"},{"owner":{"account_id":8473722,"reputation":399,"user_id":6355561,"accept_rate":17,"display_name":"Manish B"},"score":0,"creation_date":1640170706,"post_id":70447541,"comment_id":124530673,"body_markdown":"Its going till month Dec 2023 and its throwing exception\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[@class=&#39;DayPicker-","body":"Its going till month Dec 2023 and its throwing exception org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[@class=&#39;DayPicker-"},{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1640329914,"post_id":70447541,"comment_id":124570638,"body_markdown":"@ManishB In your code, you need to place this line `String displayDate = driver.findElement(By.xpath(&quot;//div[@class=&#39;DayPicker-Caption&#39;]&quot;)).getText();` inside the while loop.","body":"@ManishB In your code, you need to place this line <code>String displayDate = driver.findElement(By.xpath(&quot;&#47;&#47;div[@class=&#39;DayPicker-Caption&zwnj;&#8203;&#39;]&quot;)).getText();</code> inside the while loop."}],"answers":[{"tags":[],"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640329983,"creation_date":1640328922,"answer_id":70470324,"question_id":70447541,"body_markdown":"In your code, you need to place this line `String displayDate = driver.findElement(By.xpath(&quot;//div[@class=&#39;DayPicker-Caption&#39;]&quot;)).getText();` inside the while loop.\r\n\r\nI tried my hand too and was able to select the dates by:\r\n - Clicking on the desired datepicker object\r\n - Check the displayed Month and Year and see if it matches with the desired/expected Month and Year we want to select\r\n - Keep on clicking on the next-month button(as long as it is not disabled) if the match fails in step 2\r\n - Once the desired Month and Year are reached, select the desired date\r\n\r\nPlease refer the following code to select the departure and arival dates:\r\n\r\n    package usecase;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class DatePicker {\r\n    \tpublic static WebDriver driver;\r\n    \r\n    \t/**\r\n    \t * selects the date provided in d/m/yyyy format\r\n    \t */\r\n    \tpublic static void selectDate(By dateObject, String date) {\r\n    \t\tdriver.findElement(dateObject).click();\r\n    \t\tSimpleDateFormat sdfInput = new SimpleDateFormat(&quot;d/M/yyyy&quot;);\r\n    \t\tSimpleDateFormat sdfOutput = new SimpleDateFormat(&quot;d-MMMM yyyy&quot;);\r\n    \t\ttry {\r\n    \t\t\tString outputDate = sdfOutput.format(sdfInput.parse(date));\r\n    \t\t\tSystem.out.println(outputDate);\r\n    \t\t\tString outputDay = outputDate.split(&quot;-&quot;)[0];\r\n    \t\t\tString outputMY = outputDate.split(&quot;-&quot;)[1];\r\n    \t\t\tString displayedHeading;\r\n    \t\t\twhile (!(displayedHeading = driver.findElement(By.className(&quot;DayPicker-Caption&quot;)).getText())\r\n    \t\t\t\t\t.equalsIgnoreCase(outputMY)) {\r\n    \t\t\t\tWebElement gotoNextMonth = driver.findElement(By.cssSelector(&quot;span[aria-label=&#39;Next Month&#39;]&quot;));\r\n    \t\t\t\tif (!gotoNextMonth.getAttribute(&quot;class&quot;).contains(&quot;interactionDisabled&quot;)) // click next month button\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// only if it is NOT\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n    \t\t\t\t\tgotoNextMonth.click();\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tSystem.err.println(&quot;The Date &quot; + date + &quot; could not be selected&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;DayPicker-Day&#39;]/div[text()=&#39;&quot; + outputDay + &quot;&#39;]&quot;)).click();\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;https://www.goibibo.com/&quot;);\r\n    \t\tselectDate(By.id(&quot;departureCalendar&quot;), &quot;25/6/2022&quot;);\r\n    \t\tselectDate(By.id(&quot;returnCalendar&quot;), &quot;1/7/2022&quot;);\r\n    \t\tThread.sleep(3000); // Let me see what happened on screen\r\n    \t\tdriver.quit();\r\n    \t}\r\n    }\r\n\r\n**Demo:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dYV8U.gif","title":"Weird behavior while selecting date in selenium","body":"<p>In your code, you need to place this line <code>String displayDate = driver.findElement(By.xpath(&quot;//div[@class='DayPicker-Caption']&quot;)).getText();</code> inside the while loop.</p>\n<p>I tried my hand too and was able to select the dates by:</p>\n<ul>\n<li>Clicking on the desired datepicker object</li>\n<li>Check the displayed Month and Year and see if it matches with the desired/expected Month and Year we want to select</li>\n<li>Keep on clicking on the next-month button(as long as it is not disabled) if the match fails in step 2</li>\n<li>Once the desired Month and Year are reached, select the desired date</li>\n</ul>\n<p>Please refer the following code to select the departure and arival dates:</p>\n<pre><code>package usecase;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class DatePicker {\n    public static WebDriver driver;\n\n    /**\n     * selects the date provided in d/m/yyyy format\n     */\n    public static void selectDate(By dateObject, String date) {\n        driver.findElement(dateObject).click();\n        SimpleDateFormat sdfInput = new SimpleDateFormat(&quot;d/M/yyyy&quot;);\n        SimpleDateFormat sdfOutput = new SimpleDateFormat(&quot;d-MMMM yyyy&quot;);\n        try {\n            String outputDate = sdfOutput.format(sdfInput.parse(date));\n            System.out.println(outputDate);\n            String outputDay = outputDate.split(&quot;-&quot;)[0];\n            String outputMY = outputDate.split(&quot;-&quot;)[1];\n            String displayedHeading;\n            while (!(displayedHeading = driver.findElement(By.className(&quot;DayPicker-Caption&quot;)).getText())\n                    .equalsIgnoreCase(outputMY)) {\n                WebElement gotoNextMonth = driver.findElement(By.cssSelector(&quot;span[aria-label='Next Month']&quot;));\n                if (!gotoNextMonth.getAttribute(&quot;class&quot;).contains(&quot;interactionDisabled&quot;)) // click next month button\n                                                                                            // only if it is NOT\n                                                                                            // disabled\n                    gotoNextMonth.click();\n                else {\n                    System.err.println(&quot;The Date &quot; + date + &quot; could not be selected&quot;);\n                    break;\n                }\n            }\n            driver.findElement(By.xpath(&quot;//div[@class='DayPicker-Day']/div[text()='&quot; + outputDay + &quot;']&quot;)).click();\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.goibibo.com/&quot;);\n        selectDate(By.id(&quot;departureCalendar&quot;), &quot;25/6/2022&quot;);\n        selectDate(By.id(&quot;returnCalendar&quot;), &quot;1/7/2022&quot;);\n        Thread.sleep(3000); // Let me see what happened on screen\n        driver.quit();\n    }\n}\n</code></pre>\n<p><strong>Demo:</strong>\n<a href=\"https://i.stack.imgur.com/dYV8U.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dYV8U.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8473722,"reputation":399,"user_id":6355561,"accept_rate":17,"display_name":"Manish B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640329983,"creation_date":1640168685,"question_id":70447541,"body_markdown":"I am trying to select a date using selenium+java but its behaving very weirdly.&lt;br&gt;\r\nApart from that i am getting element not found exception.&lt;br&gt;\r\nI am passing the date in the function&lt;br&gt;\r\nWhat i am doing wrong&lt;br&gt;\r\nBelow is the code\r\n\r\n    public class date_automation {\r\n    WebDriver driver = null;\r\n\r\n    @BeforeTest\r\n    public void initialise() {\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://www.goibibo.com/&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void test_calendar() throws InterruptedException {\r\n        WebElement departure_date = driver.findElement(By.id(&quot;departureCalendar&quot;));\r\n        departure_date.click();\r\n        selectDateInCalendar(&quot;23/01/2022&quot;);\r\n    }\r\n\r\n    public void selectDateInCalendar(String date) throws InterruptedException {\r\n\r\n        Date CurrentDate = new Date();\r\n        SimpleDateFormat newDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try {\r\n            Date expectedDate = newDateFormat.parse(date);\r\n            String day = new SimpleDateFormat(&quot;dd&quot;).format(expectedDate);\r\n            String month = new SimpleDateFormat(&quot;MMMM&quot;).format(expectedDate);\r\n            String year = new SimpleDateFormat(&quot;yyyy&quot;).format(expectedDate);\r\n            System.out.println(day + &quot;*****&quot; + month + &quot;*****&quot; + year);\r\n            String expectedMonthYear = month + &quot; &quot; + year;\r\n            System.out.println(expectedMonthYear);\r\n            String displayDate = driver.findElement(By.xpath(&quot;//div[@class=&#39;DayPicker-Caption&#39;]&quot;)).getText();\r\n            while (true) {\r\n\r\n                if (expectedMonthYear.equals(displayDate)) {\r\n                    driver.findElement(By.xpath(&quot;//div[text()=&#39;&quot; + day + &quot;&#39;]&quot;)).click();\r\n                } else {\r\n                    driver.findElement(By.xpath(&quot;//span[@class=&#39;DayPicker-NavButton DayPicker-NavButton--next&#39;]&quot;))\r\n                            .click();\r\n                }\r\n\r\n            }\r\n\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @AfterTest\r\n    public void cleanup() {\r\n        driver.quit();\r\n    }\r\n}","title":"Weird behavior while selecting date in selenium","body":"<p>I am trying to select a date using selenium+java but its behaving very weirdly.<br>\nApart from that i am getting element not found exception.<br>\nI am passing the date in the function<br>\nWhat i am doing wrong<br>\nBelow is the code</p>\n<pre><code>public class date_automation {\nWebDriver driver = null;\n\n@BeforeTest\npublic void initialise() {\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.goibibo.com/&quot;);\n}\n\n@Test\npublic void test_calendar() throws InterruptedException {\n    WebElement departure_date = driver.findElement(By.id(&quot;departureCalendar&quot;));\n    departure_date.click();\n    selectDateInCalendar(&quot;23/01/2022&quot;);\n}\n\npublic void selectDateInCalendar(String date) throws InterruptedException {\n\n    Date CurrentDate = new Date();\n    SimpleDateFormat newDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n    try {\n        Date expectedDate = newDateFormat.parse(date);\n        String day = new SimpleDateFormat(&quot;dd&quot;).format(expectedDate);\n        String month = new SimpleDateFormat(&quot;MMMM&quot;).format(expectedDate);\n        String year = new SimpleDateFormat(&quot;yyyy&quot;).format(expectedDate);\n        System.out.println(day + &quot;*****&quot; + month + &quot;*****&quot; + year);\n        String expectedMonthYear = month + &quot; &quot; + year;\n        System.out.println(expectedMonthYear);\n        String displayDate = driver.findElement(By.xpath(&quot;//div[@class='DayPicker-Caption']&quot;)).getText();\n        while (true) {\n\n            if (expectedMonthYear.equals(displayDate)) {\n                driver.findElement(By.xpath(&quot;//div[text()='&quot; + day + &quot;']&quot;)).click();\n            } else {\n                driver.findElement(By.xpath(&quot;//span[@class='DayPicker-NavButton DayPicker-NavButton--next']&quot;))\n                        .click();\n            }\n\n        }\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n}\n\n@AfterTest\npublic void cleanup() {\n    driver.quit();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","redisson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640332409,"post_id":70470415,"comment_id":124571060,"body_markdown":"You need to add the full stack trace of your NPE to your question.","body":"You need to add the full stack trace of your NPE to your question."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1640334642,"post_id":70470415,"comment_id":124571498,"body_markdown":"Can&#39;t you return a mock? When someone calls client.getMap(...), you can return another mock. Though returning mocks from stubbing of another mock is a code smell.","body":"Can&#39;t you return a mock? When someone calls client.getMap(...), you can return another mock. Though returning mocks from stubbing of another mock is a code smell."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1640334715,"post_id":70470415,"comment_id":124571519,"body_markdown":"If you are not using the client passed in const. anywhere else, why don&#39;t you just pass the map?","body":"If you are not using the client passed in const. anywhere else, why don&#39;t you just pass the map?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1640569279,"post_id":70470415,"comment_id":124606665,"body_markdown":"write the code testable, instead of writing code that is hard to test.","body":"write the code testable, instead of writing code that is hard to test."}],"owner":{"account_id":22845192,"reputation":11,"user_id":16991619,"display_name":"Rishabh Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640329953,"creation_date":1640329953,"question_id":70470415,"body_markdown":"I am trying to unit test my redis map cache, the class has the following implementation:\r\n\r\n    \r\n    public class ProductCacheTemplate extends CacheTemplate&lt;Integer, Product&gt; {\r\n\r\n    private RMapReactive&lt;Integer, Product&gt; map;\r\n\r\n    public ProductCacheTemplate(RedissonReactiveClient client) {\r\n        this.map = client.getMap(&quot;product&quot;, new TypedJsonJacksonCodec(Integer.class, Product.class));\r\n    }\r\n\r\n    @Override\r\n    protected Mono&lt;Product&gt; getFromCache(Integer id) {\r\n        return this.map.get(id);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected Mono&lt;Product&gt; updateCache(Integer id, Product product) {\r\n        return this.map.fastPut(id, product).thenReturn(product);\r\n    }\r\n\r\n    @Override\r\n    protected Mono&lt;Void&gt; deleteFromCache(Integer id) {\r\n        return this.map.fastRemove(id).then();\r\n    }\r\n    }\r\n\r\nI am wondering how do I mock the `RMapReactive&lt;Integer, Product&gt; map` in this case?\r\nI have tried the following approach but it doesn&#39;t work.\r\nI still get NullPointerException when trying to get from cache.\r\n\r\n    \r\n@ExtendWith(MockitoExtension.class)\r\nclass ProductCacheTemplateTest {\r\n\r\n    private ProductCacheTemplate productCache;\r\n\r\n    @Mock\r\n    private RedissonReactiveClient client;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        this.client = Mockito.mock(RedissonReactiveClient.class);\r\n        this.redisCacheProperties = getRedisCacheProperties();\r\n        when(this.client.getMapCache(redisCacheProperties.getBadgeCache().getName(),\r\n                                     new TypedJsonJacksonCodec(Integer.class, Product.class)))\r\n                .thenAnswer(\r\n                        invocation -&gt; {\r\n                            Integer key = invocation.getArgument(0);\r\n                            if (key.equals(TEST_KEY)) {\r\n                                return Mono.empty();\r\n                            }\r\n                            return null;\r\n                        });\r\n        this.productCache = Mockito.spy(new ProductCache(client));\r\n    }\r\n\r\n    @Test\r\n    void testGetFromCache() {\r\n        Mono&lt;Product&gt; result = productCache.get(TEST_KEY);\r\n        StepVerifier.create(result)\r\n                .verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    void putIntoCache() {\r\n        Mono&lt;Product&gt; result = productCache.put(TEST_KEY, TEST_VALUE);\r\n        StepVerifier.create(result)\r\n                .verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    void deleteFromCache() {\r\n        Mono&lt;Void&gt; result = productCache.delete(TEST_KEY);\r\n        StepVerifier.create(result)\r\n                .verifyComplete();\r\n    }\r\n\r\n    private static final Integer TEST_KEY = 1;\r\n    private static final Product TEST_VALUE = new Product();\r\n    }\r\n","title":"How to mock a parameter which is not passed to constructor but derived?","body":"<p>I am trying to unit test my redis map cache, the class has the following implementation:</p>\n<pre><code>public class ProductCacheTemplate extends CacheTemplate&lt;Integer, Product&gt; {\n\nprivate RMapReactive&lt;Integer, Product&gt; map;\n\npublic ProductCacheTemplate(RedissonReactiveClient client) {\n    this.map = client.getMap(&quot;product&quot;, new TypedJsonJacksonCodec(Integer.class, Product.class));\n}\n\n@Override\nprotected Mono&lt;Product&gt; getFromCache(Integer id) {\n    return this.map.get(id);\n}\n\n\n\n@Override\nprotected Mono&lt;Product&gt; updateCache(Integer id, Product product) {\n    return this.map.fastPut(id, product).thenReturn(product);\n}\n\n@Override\nprotected Mono&lt;Void&gt; deleteFromCache(Integer id) {\n    return this.map.fastRemove(id).then();\n}\n}\n</code></pre>\n<p>I am wondering how do I mock the <code>RMapReactive&lt;Integer, Product&gt; map</code> in this case?\nI have tried the following approach but it doesn't work.\nI still get NullPointerException when trying to get from cache.</p>\n<p>@ExtendWith(MockitoExtension.class)\nclass ProductCacheTemplateTest {</p>\n<pre><code>private ProductCacheTemplate productCache;\n\n@Mock\nprivate RedissonReactiveClient client;\n\n@BeforeEach\npublic void setUp() {\n    this.client = Mockito.mock(RedissonReactiveClient.class);\n    this.redisCacheProperties = getRedisCacheProperties();\n    when(this.client.getMapCache(redisCacheProperties.getBadgeCache().getName(),\n                                 new TypedJsonJacksonCodec(Integer.class, Product.class)))\n            .thenAnswer(\n                    invocation -&gt; {\n                        Integer key = invocation.getArgument(0);\n                        if (key.equals(TEST_KEY)) {\n                            return Mono.empty();\n                        }\n                        return null;\n                    });\n    this.productCache = Mockito.spy(new ProductCache(client));\n}\n\n@Test\nvoid testGetFromCache() {\n    Mono&lt;Product&gt; result = productCache.get(TEST_KEY);\n    StepVerifier.create(result)\n            .verifyComplete();\n}\n\n@Test\nvoid putIntoCache() {\n    Mono&lt;Product&gt; result = productCache.put(TEST_KEY, TEST_VALUE);\n    StepVerifier.create(result)\n            .verifyComplete();\n}\n\n@Test\nvoid deleteFromCache() {\n    Mono&lt;Void&gt; result = productCache.delete(TEST_KEY);\n    StepVerifier.create(result)\n            .verifyComplete();\n}\n\nprivate static final Integer TEST_KEY = 1;\nprivate static final Product TEST_VALUE = new Product();\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640329719,"creation_date":1640329719,"answer_id":70470397,"question_id":70469389,"body_markdown":"As I see, there is a problem in your PegawaiModel. You have addressed &#39;mappedBy = &quot;id_delivery&quot;&#39; for field listDelivery, while you had to declare the name of the corresponding field in the other model, namely &#39;idKurir&#39;. You must modify it into this:\r\n\r\n    //One to many relationship ke DeliveryModel\r\n    @OneToMany(mappedBy = &quot;idKurir&quot;, fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private List&lt;DeliveryModel&gt; listDelivery;","title":"Success to insert data in OneToMany Relationship, but then failed to insert data due to ConstraintViolationException after wait for some time","body":"<p>As I see, there is a problem in your PegawaiModel. You have addressed 'mappedBy = &quot;id_delivery&quot;' for field listDelivery, while you had to declare the name of the corresponding field in the other model, namely 'idKurir'. You must modify it into this:</p>\n<pre><code>//One to many relationship ke DeliveryModel\n@OneToMany(mappedBy = &quot;idKurir&quot;, fetch = FetchType.LAZY)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate List&lt;DeliveryModel&gt; listDelivery;\n</code></pre>\n"}],"owner":{"account_id":16862806,"reputation":49,"user_id":12193204,"display_name":"Pep Skipepep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640329719,"creation_date":1640317801,"question_id":70469389,"body_markdown":"I tried to insert data on delivery model by click button on requestUpdateItem HTML. First, it works, and after some time, for reason that I don&#39;t know, somehow it failed and give me this error.\r\n\r\n```\r\ncould not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\r\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl.addDelivery(DeliveryServiceImpl.java:35)\r\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl$$FastClassBySpringCGLIB$$ef9321f.invoke(&lt;generated&gt;)\r\n\r\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl$$EnhancerBySpringCGLIB$$9dac215c.addDelivery(&lt;generated&gt;)\r\nat apap.tugasakhir.sifactory.controller.DeliveryController.tambahDeliverySubmit(DeliveryController.java:159)\r\n\r\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`sifactory`.`delivery`, CONSTRAINT `FK4ah2rannygixep2r1bp3owkby` FOREIGN KEY (`id_delivery`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE)\r\n```\r\nHere is my code for DeliveryModel and PegawaiModel\r\n```\r\n@Table(name = &quot;delivery&quot;)\r\npublic class DeliveryModel {\r\n    @Id\r\n    @GeneratedValue(strategy =  GenerationType.IDENTITY)\r\n    private Integer id_delivery;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;id_cabang&quot;, nullable = false)\r\n    private Integer idCabang;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;tanggal_dibuat&quot;, nullable = false)\r\n    private LocalDate tanggal_dibuat;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;tanggal_dikirim&quot;, nullable = false)\r\n    private LocalDate tanggal_dikirim;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;sent&quot;, nullable = false)\r\n    private Boolean sent;\r\n\r\n    //Many to One Relationship ke Pegawai\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;id_pegawai&quot;, referencedColumnName = &quot;id_pegawai&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private PegawaiModel idKurir;\r\n\r\n    //One to One Relationship ke Request Update Item\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;id_request_update_item&quot;, referencedColumnName = &quot;id_request_update_item&quot;)\r\n    @JsonIgnore\r\n    private RequestUpdateItemModel id_request_update_item;\r\n}\r\n```\r\nand for PegawaiModel\r\n```\r\npublic class PegawaiModel implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id_pegawai;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;username&quot;, nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;nama&quot;, nullable = false)\r\n    private String nama;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;email&quot;, nullable = false)\r\n    private String email;\r\n\r\n    @NotNull\r\n    @Lob\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @NotNull\r\n    @Column(name=&quot;tanggal_lahir&quot;, nullable = false)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date tanggalLahir;\r\n\r\n    @ManyToOne(fetch= FetchType.EAGER, optional = false)\r\n    @JoinColumn(name=&quot;id_role&quot;, referencedColumnName = &quot;id_role&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private RoleModel id_role;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;counter&quot;, nullable = false)\r\n    private Integer counter;\r\n\r\n    //One to many relationship ke DeliveryModel\r\n    @OneToMany(mappedBy = &quot;id_delivery&quot;, fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private List&lt;DeliveryModel&gt; listDelivery;\r\n\r\n    //One to many relationship ke ProduksiModel\r\n    @OneToMany(mappedBy = &quot;id_pegawai&quot;, fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private List&lt;ProduksiModel&gt; listProduksi;\r\n\r\n\r\n}\r\n```\r\nand this is my DeliveryController\r\n```\r\n@PostMapping(&quot;/delivery/add/{idRUI}&quot;)\r\n    public String tambahDeliverySubmit(@ModelAttribute DeliveryModel delivery, Model model, @PathVariable Integer idRUI) {\r\n        RequestUpdateItemModel rui = requestUpdateItemService.getRequestUpdateItemById(idRUI);\r\n\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        User user = (User)auth.getPrincipal();\r\n        String username = user.getUsername();\r\n\r\n        PegawaiModel pegawai = pegawaiService.getUserByUsername(username);\r\n\r\n        if (rui.getDelivery() == null) {\r\n            pegawai.setCounter(pegawai.getCounter()+1);\r\n            List&lt;DeliveryModel&gt; listDelivery = pegawai.getListDelivery();\r\n            listDelivery.add(delivery);\r\n            pegawai.setListDelivery(listDelivery);\r\n            pegawaiService.updatePegawai(pegawai);\r\n\r\n            deliveryService.addDelivery(delivery);\r\n\r\n            rui.setExecuted(false);\r\n            rui.setDelivery(delivery);\r\n            requestUpdateItemService.updateRequestUpdateItem(rui);\r\n\r\n            delivery.setId_request_update_item(rui);\r\n            deliveryService.updateDelivery(delivery);\r\n\r\n            model.addAttribute(&quot;idRequest&quot;, delivery.getId_request_update_item().getId_request_update_item());\r\n            return &quot;add-delivery&quot;;\r\n        } else {\r\n            return &quot;delivery-failed&quot;;\r\n        }\r\n    }\r\n```\r\nWhat I confused most is when I tried in local, it worked. After some time, it gets that error. I tried to drop the DB, and it worked again. But after some time, it gets that error again. I also confuse why the error is on relationship between Delivery and Pegawai, because if I print delivery.getIdKurir(), it prints the right kurir (driver).\r\n\r\nI want to push this project on to heroku, but there is also give me this error:\r\n```\r\nThere was an unexpected error (type=Bad Request, status=400).\r\n```\r\n\r\nI am stuck. Please help me. Thanks in advance","title":"Success to insert data in OneToMany Relationship, but then failed to insert data due to ConstraintViolationException after wait for some time","body":"<p>I tried to insert data on delivery model by click button on requestUpdateItem HTML. First, it works, and after some time, for reason that I don't know, somehow it failed and give me this error.</p>\n<pre><code>could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl.addDelivery(DeliveryServiceImpl.java:35)\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl$$FastClassBySpringCGLIB$$ef9321f.invoke(&lt;generated&gt;)\n\nat apap.tugasakhir.sifactory.service.DeliveryServiceImpl$$EnhancerBySpringCGLIB$$9dac215c.addDelivery(&lt;generated&gt;)\nat apap.tugasakhir.sifactory.controller.DeliveryController.tambahDeliverySubmit(DeliveryController.java:159)\n\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`sifactory`.`delivery`, CONSTRAINT `FK4ah2rannygixep2r1bp3owkby` FOREIGN KEY (`id_delivery`) REFERENCES `pegawai` (`id_pegawai`) ON DELETE CASCADE)\n</code></pre>\n<p>Here is my code for DeliveryModel and PegawaiModel</p>\n<pre><code>@Table(name = &quot;delivery&quot;)\npublic class DeliveryModel {\n    @Id\n    @GeneratedValue(strategy =  GenerationType.IDENTITY)\n    private Integer id_delivery;\n\n    @NotNull\n    @Column(name = &quot;id_cabang&quot;, nullable = false)\n    private Integer idCabang;\n\n    @NotNull\n    @Column(name = &quot;tanggal_dibuat&quot;, nullable = false)\n    private LocalDate tanggal_dibuat;\n\n    @NotNull\n    @Column(name = &quot;tanggal_dikirim&quot;, nullable = false)\n    private LocalDate tanggal_dikirim;\n\n    @NotNull\n    @Column(name = &quot;sent&quot;, nullable = false)\n    private Boolean sent;\n\n    //Many to One Relationship ke Pegawai\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;id_pegawai&quot;, referencedColumnName = &quot;id_pegawai&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private PegawaiModel idKurir;\n\n    //One to One Relationship ke Request Update Item\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_request_update_item&quot;, referencedColumnName = &quot;id_request_update_item&quot;)\n    @JsonIgnore\n    private RequestUpdateItemModel id_request_update_item;\n}\n</code></pre>\n<p>and for PegawaiModel</p>\n<pre><code>public class PegawaiModel implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id_pegawai;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;username&quot;, nullable = false, unique = true)\n    private String username;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;nama&quot;, nullable = false)\n    private String nama;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @NotNull\n    @Lob\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @NotNull\n    @Column(name=&quot;tanggal_lahir&quot;, nullable = false)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date tanggalLahir;\n\n    @ManyToOne(fetch= FetchType.EAGER, optional = false)\n    @JoinColumn(name=&quot;id_role&quot;, referencedColumnName = &quot;id_role&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private RoleModel id_role;\n\n    @NotNull\n    @Column(name = &quot;counter&quot;, nullable = false)\n    private Integer counter;\n\n    //One to many relationship ke DeliveryModel\n    @OneToMany(mappedBy = &quot;id_delivery&quot;, fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private List&lt;DeliveryModel&gt; listDelivery;\n\n    //One to many relationship ke ProduksiModel\n    @OneToMany(mappedBy = &quot;id_pegawai&quot;, fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private List&lt;ProduksiModel&gt; listProduksi;\n\n\n}\n</code></pre>\n<p>and this is my DeliveryController</p>\n<pre><code>@PostMapping(&quot;/delivery/add/{idRUI}&quot;)\n    public String tambahDeliverySubmit(@ModelAttribute DeliveryModel delivery, Model model, @PathVariable Integer idRUI) {\n        RequestUpdateItemModel rui = requestUpdateItemService.getRequestUpdateItemById(idRUI);\n\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        User user = (User)auth.getPrincipal();\n        String username = user.getUsername();\n\n        PegawaiModel pegawai = pegawaiService.getUserByUsername(username);\n\n        if (rui.getDelivery() == null) {\n            pegawai.setCounter(pegawai.getCounter()+1);\n            List&lt;DeliveryModel&gt; listDelivery = pegawai.getListDelivery();\n            listDelivery.add(delivery);\n            pegawai.setListDelivery(listDelivery);\n            pegawaiService.updatePegawai(pegawai);\n\n            deliveryService.addDelivery(delivery);\n\n            rui.setExecuted(false);\n            rui.setDelivery(delivery);\n            requestUpdateItemService.updateRequestUpdateItem(rui);\n\n            delivery.setId_request_update_item(rui);\n            deliveryService.updateDelivery(delivery);\n\n            model.addAttribute(&quot;idRequest&quot;, delivery.getId_request_update_item().getId_request_update_item());\n            return &quot;add-delivery&quot;;\n        } else {\n            return &quot;delivery-failed&quot;;\n        }\n    }\n</code></pre>\n<p>What I confused most is when I tried in local, it worked. After some time, it gets that error. I tried to drop the DB, and it worked again. But after some time, it gets that error again. I also confuse why the error is on relationship between Delivery and Pegawai, because if I print delivery.getIdKurir(), it prints the right kurir (driver).</p>\n<p>I want to push this project on to heroku, but there is also give me this error:</p>\n<pre><code>There was an unexpected error (type=Bad Request, status=400).\n</code></pre>\n<p>I am stuck. Please help me. Thanks in advance</p>\n"},{"tags":["java","tomcat","vps","tomcat9","dspace"],"comments":[{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1640352922,"post_id":70470374,"comment_id":124575732,"body_markdown":"Tomcat started so that is not the problem (or it crashed?). I don&#39;t think tomcat by default listens to all the interfaces, you need to set address in the server.xml Then you have to check if it really listens (netstat -tnlp | grep 8080) and then you need to make sure you are not firewalling.\nhttps://stackoverflow.com/questions/6246127/cant-access-tomcat-using-ip-address","body":"Tomcat started so that is not the problem (or it crashed?). I don&#39;t think tomcat by default listens to all the interfaces, you need to set address in the server.xml Then you have to check if it really listens (netstat -tnlp | grep 8080) and then you need to make sure you are not firewalling. <a href=\"https://stackoverflow.com/questions/6246127/cant-access-tomcat-using-ip-address\" title=\"cant access tomcat using ip address\">stackoverflow.com/questions/6246127/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641134680,"post_id":70470374,"comment_id":124724991,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":23734833,"reputation":1,"user_id":17753625,"display_name":"raven swain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640329475,"creation_date":1640329475,"question_id":70470374,"body_markdown":"I&#39;ve finished installing dspace but having problems can&#39;t call it with ip public.\r\n\r\nwhen i check my tomcat with &quot;sudo systemct1 status tomcat&quot;\r\n\r\n```\r\ntomcat.service - Apache Tomcat Web Application Container\r\n   Loaded: loaded (/etc/systemd/system/tomcat.service; enabled; vendor preset: enabled)\r\n   Active: active (running) since Fri 2021-12-24 13:45:03 WIB; 2min 27s ago\r\n  Process: 20651 ExecStart=/opt/tomcat/bin/startup.sh (code=exited, status=0/SUCCESS)\r\n Main PID: 20658 (java)\r\n    Tasks: 32 (limit: 4915)\r\n   Memory: 104.3M\r\n   CGroup: /system.slice/tomcat.service\r\n           └─20658 /usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -Djava.util.logging.config.file=/opt/tomcat/conf/logging.pr\r\n\r\nDec 24 13:45:03 srv5.ugj.ac.id systemd[1]: Starting Apache Tomcat Web Application Container...\r\nDec 24 13:45:03 srv5.ugj.ac.id startup.sh[20651]: Tomcat started.\r\nDec 24 13:45:03 srv5.ugj.ac.id systemd[1]: Started Apache Tomcat Web Application Container.\r\n```\r\nhere is my tomcat.service\r\n```\r\n[Unit]\r\nDescription=Apache Tomcat Web Application Container\r\nAfter=network.target\r\n\r\n[Service]\r\nType=forking\r\n\r\nEnvironment=JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64\r\nEnvironment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid\r\nEnvironment=CATALINA_HOME=/opt/tomcat\r\nEnvironment=CATALINA_BASE=/opt/tomcat\r\nEnvironment=&#39;CATALINA_OPTS=-server -Xms384M -Xmx512M&#39;\r\nEnvironment=&#39;JAVA_OPTS=-Xms2048m -Xmx7168m -Dfile.encoding=UTF-8&#39;\r\n\r\nExecStart=/opt/tomcat/bin/startup.sh\r\nExecStop=/opt/tomcat/bin/shutdown.sh\r\n\r\nUser=tomcat\r\nGroup=tomcat\r\nUMask=0007\r\nRestartSec=10\r\nRestart=always\r\nReadWritePaths=/dspace\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\nplease help me ","title":"tomcat stuck while installing dspace on Virtual Private Server","body":"<p>I've finished installing dspace but having problems can't call it with ip public.</p>\n<p>when i check my tomcat with &quot;sudo systemct1 status tomcat&quot;</p>\n<pre><code>tomcat.service - Apache Tomcat Web Application Container\n   Loaded: loaded (/etc/systemd/system/tomcat.service; enabled; vendor preset: enabled)\n   Active: active (running) since Fri 2021-12-24 13:45:03 WIB; 2min 27s ago\n  Process: 20651 ExecStart=/opt/tomcat/bin/startup.sh (code=exited, status=0/SUCCESS)\n Main PID: 20658 (java)\n    Tasks: 32 (limit: 4915)\n   Memory: 104.3M\n   CGroup: /system.slice/tomcat.service\n           └─20658 /usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -Djava.util.logging.config.file=/opt/tomcat/conf/logging.pr\n\nDec 24 13:45:03 srv5.ugj.ac.id systemd[1]: Starting Apache Tomcat Web Application Container...\nDec 24 13:45:03 srv5.ugj.ac.id startup.sh[20651]: Tomcat started.\nDec 24 13:45:03 srv5.ugj.ac.id systemd[1]: Started Apache Tomcat Web Application Container.\n</code></pre>\n<p>here is my tomcat.service</p>\n<pre><code>[Unit]\nDescription=Apache Tomcat Web Application Container\nAfter=network.target\n\n[Service]\nType=forking\n\nEnvironment=JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64\nEnvironment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid\nEnvironment=CATALINA_HOME=/opt/tomcat\nEnvironment=CATALINA_BASE=/opt/tomcat\nEnvironment='CATALINA_OPTS=-server -Xms384M -Xmx512M'\nEnvironment='JAVA_OPTS=-Xms2048m -Xmx7168m -Dfile.encoding=UTF-8'\n\nExecStart=/opt/tomcat/bin/startup.sh\nExecStop=/opt/tomcat/bin/shutdown.sh\n\nUser=tomcat\nGroup=tomcat\nUMask=0007\nRestartSec=10\nRestart=always\nReadWritePaths=/dspace\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>please help me</p>\n"},{"tags":["java","string","api-design","java-text-blocks"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640326818,"post_id":70470049,"comment_id":124570157,"body_markdown":"Presumably, the authors disagree with you, and they think that the methods are useful.   Sorry but this question is opinion based.","body":"Presumably, the authors disagree with you, and they think that the methods are useful.   Sorry but this question is opinion based."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1640327116,"post_id":70470049,"comment_id":124570192,"body_markdown":"@StephenC Thanks, though I was hoping for something a little more authoritative than that.  I didn&#39;t see anything in the JEP explaining it.","body":"@StephenC Thanks, though I was hoping for something a little more authoritative than that.  I didn&#39;t see anything in the JEP explaining it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640327342,"post_id":70470049,"comment_id":124570219,"body_markdown":"Well ... if it isn&#39;t in the JEP it won&#39;t be anywhere else.  That and the javadocs are the only authoritative explanations published. But put it this way, if they *didn&#39;t* think those methods were useful, then they *wouldn&#39;t* have included them.","body":"Well ... if it isn&#39;t in the JEP it won&#39;t be anywhere else.  That and the javadocs are the only authoritative explanations published. But put it this way, if they <i>didn&#39;t</i> think those methods were useful, then they <i>wouldn&#39;t</i> have included them."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1640327460,"post_id":70470049,"comment_id":124570232,"body_markdown":"@StephenC Clearly.  My question isn&#39;t whether they thought it was useful, it&#39;s _why_ they thought it was useful.  This inclusion seems different than past Java API approaches, where such compiler-specific behaviors weren&#39;t generally included in the standard APIs, especially not something as core as `java.lang.String`.","body":"@StephenC Clearly.  My question isn&#39;t whether they thought it was useful, it&#39;s <i>why</i> they thought it was useful.  This inclusion seems different than past Java API approaches, where such compiler-specific behaviors weren&#39;t generally included in the standard APIs, especially not something as core as <code>java.lang.String</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640327498,"post_id":70470049,"comment_id":124570243,"body_markdown":"How do we know why they thought that?  Their thoughts aren&#39;t published  :-)","body":"How do we know why they thought that?  Their thoughts aren&#39;t published  :-)"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1640327532,"post_id":70470049,"comment_id":124570249,"body_markdown":"@StephenC Mailing list discussions, official posts by the authors, etc.","body":"@StephenC Mailing list discussions, official posts by the authors, etc."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640327561,"post_id":70470049,"comment_id":124570254,"body_markdown":"And have you found anything?  (Oracle employees don&#39;t post &quot;official&quot; statements ... unless they are management :-) )","body":"And have you found anything?  (Oracle employees don&#39;t post &quot;official&quot; statements ... unless they are management :-) )"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1640329557,"post_id":70470049,"comment_id":124570578,"body_markdown":"@StephenC I now found one thing; I expanded it into an answer. (https://stackoverflow.com/a/70470370/1108305)","body":"@StephenC I now found one thing; I expanded it into an answer. (<a href=\"https://stackoverflow.com/a/70470370/1108305\">stackoverflow.com/a/70470370/1108305</a>)"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662528869,"post_id":70470049,"comment_id":130023074,"body_markdown":"excellent question! I was debating with myself why this exists, too. Could it be that some _other_ compilers can use that? let&#39;s say `scalac` wants such a translation - and to standardize it - put it into the library itself. For example `Objects::requireNonNull` is used by `javac` (and other compilers too)... I am referring to `translateEscapes`","body":"excellent question! I was debating with myself why this exists, too. Could it be that some <i>other</i> compilers can use that? let&#39;s say <code>scalac</code> wants such a translation - and to standardize it - put it into the library itself. For example <code>Objects::requireNonNull</code> is used by <code>javac</code> (and other compilers too)... I am referring to <code>translateEscapes</code>"}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640329466,"creation_date":1640329466,"answer_id":70470370,"question_id":70470049,"body_markdown":"I&#39;ve done some online searching of the JDK mailing lists, bug trackers, etc.  I haven&#39;t found a post that fully explains the thought process behind the decision.\r\n\r\nI did however find the following [comment](https://bugs.openjdk.java.net/browse/JDK-8223776?focusedCommentId=14268527&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14268527) in the JDK Bug System by Brian Goetz, Java Language Architect at Oracle (emphasis added by me):\r\n\r\n&gt; I believe the tension here is that the `stripIndent()` method is caught in the following vise: the natural semantics for the language include stripping at both sides, and **we want to have a library method that does what the language does (so users don&#39;t have to recreate that functionality)**, but the behavior of `stripIndent()` is potentially surprising if you don&#39;t make the connection with the language behavior. And the obvious solution is to split the entry points; allow something like `indent()` to cover the &quot;reindent from the left only&quot; use case that Joe believes is the natural interpretation for library users, while leaving `stripIndent()` as is (possibly with some renames to connect it better with the language feature.)\r\n\r\nIt seems the language &amp; API designers want to have the logic used by the language available to developers.  This doesn&#39;t explain fully explain why they feel it might be useful to users of the API, but it does at least partially explain the decision to include it.","title":"Why were the translateEscapes &amp; stripIndent String methods included with the text block feature in Java 15?","body":"<p>I've done some online searching of the JDK mailing lists, bug trackers, etc.  I haven't found a post that fully explains the thought process behind the decision.</p>\n<p>I did however find the following <a href=\"https://bugs.openjdk.java.net/browse/JDK-8223776?focusedCommentId=14268527&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14268527\" rel=\"nofollow noreferrer\">comment</a> in the JDK Bug System by Brian Goetz, Java Language Architect at Oracle (emphasis added by me):</p>\n<blockquote>\n<p>I believe the tension here is that the <code>stripIndent()</code> method is caught in the following vise: the natural semantics for the language include stripping at both sides, and <strong>we want to have a library method that does what the language does (so users don't have to recreate that functionality)</strong>, but the behavior of <code>stripIndent()</code> is potentially surprising if you don't make the connection with the language behavior. And the obvious solution is to split the entry points; allow something like <code>indent()</code> to cover the &quot;reindent from the left only&quot; use case that Joe believes is the natural interpretation for library users, while leaving <code>stripIndent()</code> as is (possibly with some renames to connect it better with the language feature.)</p>\n</blockquote>\n<p>It seems the language &amp; API designers want to have the logic used by the language available to developers.  This doesn't explain fully explain why they feel it might be useful to users of the API, but it does at least partially explain the decision to include it.</p>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1640329466,"creation_date":1640326293,"question_id":70470049,"body_markdown":"In Java 15, [JEP 378: Text Blocks](https://openjdk.java.net/jeps/378) added three instance methods to `String`: `stripIndent()`, `translateEscapes()`, and `formatted(Object... args)`:\r\n\r\n&gt; The following methods will be added to support text blocks;\r\n&gt; \r\n&gt; * `String::stripIndent()`: used to strip away incidental white space from the text block content\r\n&gt; * `String::translateEscapes()`: used to translate escape sequences\r\n&gt; * `String::formatted(Object... args)`: simplify value substitution in the text block\r\n\r\nThe usefulness of `formatted` when working with text blocks is explained in the JEP, so its presence makes sense to me.\r\n\r\nThe other two methods, however, don&#39;t seem particularly useful as a developer working with text blocks.  Both indentation stripping and escape translation are things that are automatically handled by the compiler with regards to text blocks.  A code writer should never need to programmatically strip indentation from a Java text block, nor translate escapes in a text block.  Furthermore, escape translation has been in the Java compiler since its initial release, so other than the two new escape sequences added to support text blocks (`\\s` and `\\&lt;line-terminator&gt;`), it&#39;s not even a new feature to Java.\r\n\r\nThe JEP explains that the methods are available for developer access, but not the reason for this decision.\r\n\r\n&gt; The re-indentation algorithm will be normative in *The Java Language Specification*. Developers will have access to it via `String::stripIndent`, a new instance method.\r\n\r\n&gt; Developers will have access to escape processing via `String::translateEscapes`, a new instance method.\r\n\r\nWhy were these methods added to the public `String` API alongside text blocks in Java 15, when they&#39;re not useful for manipulating text blocks outside of the compiler (or code that otherwise reads Java source code)?\r\n\r\nI don&#39;t see it explained in the JEP, so I&#39;m wondering if there is any official word or discussion explaining the inclusion of these methods in the public API.","title":"Why were the translateEscapes &amp; stripIndent String methods included with the text block feature in Java 15?","body":"<p>In Java 15, <a href=\"https://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">JEP 378: Text Blocks</a> added three instance methods to <code>String</code>: <code>stripIndent()</code>, <code>translateEscapes()</code>, and <code>formatted(Object... args)</code>:</p>\n<blockquote>\n<p>The following methods will be added to support text blocks;</p>\n<ul>\n<li><code>String::stripIndent()</code>: used to strip away incidental white space from the text block content</li>\n<li><code>String::translateEscapes()</code>: used to translate escape sequences</li>\n<li><code>String::formatted(Object... args)</code>: simplify value substitution in the text block</li>\n</ul>\n</blockquote>\n<p>The usefulness of <code>formatted</code> when working with text blocks is explained in the JEP, so its presence makes sense to me.</p>\n<p>The other two methods, however, don't seem particularly useful as a developer working with text blocks.  Both indentation stripping and escape translation are things that are automatically handled by the compiler with regards to text blocks.  A code writer should never need to programmatically strip indentation from a Java text block, nor translate escapes in a text block.  Furthermore, escape translation has been in the Java compiler since its initial release, so other than the two new escape sequences added to support text blocks (<code>\\s</code> and <code>\\&lt;line-terminator&gt;</code>), it's not even a new feature to Java.</p>\n<p>The JEP explains that the methods are available for developer access, but not the reason for this decision.</p>\n<blockquote>\n<p>The re-indentation algorithm will be normative in <em>The Java Language Specification</em>. Developers will have access to it via <code>String::stripIndent</code>, a new instance method.</p>\n</blockquote>\n<blockquote>\n<p>Developers will have access to escape processing via <code>String::translateEscapes</code>, a new instance method.</p>\n</blockquote>\n<p>Why were these methods added to the public <code>String</code> API alongside text blocks in Java 15, when they're not useful for manipulating text blocks outside of the compiler (or code that otherwise reads Java source code)?</p>\n<p>I don't see it explained in the JEP, so I'm wondering if there is any official word or discussion explaining the inclusion of these methods in the public API.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":7489201,"reputation":335,"user_id":5691498,"accept_rate":89,"display_name":"Yogev Levy"},"score":0,"creation_date":1639929036,"post_id":70412906,"comment_id":124468168,"body_markdown":"Can you post the XML configuration file here?","body":"Can you post the XML configuration file here?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1639940277,"post_id":70412906,"comment_id":124470893,"body_markdown":"What JDK version are you using? The functionality described is available since [this commit](https://github.com/apache/xerces2-j/commit/f31e8d43486d87e58f02e2b49c1dd7905e998ed7) and Xerces 2.7.1. Is it possible that some other version of the library exists in your classpath or JDK?","body":"What JDK version are you using? The functionality described is available since <a href=\"https://github.com/apache/xerces2-j/commit/f31e8d43486d87e58f02e2b49c1dd7905e998ed7\" rel=\"nofollow noreferrer\">this commit</a> and Xerces 2.7.1. Is it possible that some other version of the library exists in your classpath or JDK?"},{"owner":{"account_id":10594661,"reputation":3,"user_id":7803833,"display_name":"KamleshSilag"},"score":0,"creation_date":1640329208,"post_id":70412906,"comment_id":124570520,"body_markdown":"@YogevLevy xml file is added to actual question","body":"@YogevLevy xml file is added to actual question"},{"owner":{"account_id":10594661,"reputation":3,"user_id":7803833,"display_name":"KamleshSilag"},"score":0,"creation_date":1640329396,"post_id":70412906,"comment_id":124570547,"body_markdown":"@jccampanero I&#39;m using java version &quot;1.8.0_291&quot;\nJava(TM) SE Runtime Environment (build 8.0.6.30 - pxa6480sr6fp30-20210507_01(SR6 FP30))","body":"@jccampanero I&#39;m using java version &quot;1.8.0_291&quot; Java(TM) SE Runtime Environment (build 8.0.6.30 - pxa6480sr6fp30-20210507_01(SR6 FP30))"},{"owner":{"account_id":7489201,"reputation":335,"user_id":5691498,"accept_rate":89,"display_name":"Yogev Levy"},"score":0,"creation_date":1641832272,"post_id":70412906,"comment_id":124904106,"body_markdown":"Couldn&#39;t find any specific issue in the XML. Did you try some plain &quot;example&quot; xml, just to make sure the problem is not in the content of the xml?","body":"Couldn&#39;t find any specific issue in the XML. Did you try some plain &quot;example&quot; xml, just to make sure the problem is not in the content of the xml?"}],"owner":{"account_id":10594661,"reputation":3,"user_id":7803833,"display_name":"KamleshSilag"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640329187,"creation_date":1639928615,"question_id":70412906,"body_markdown":"**With log4j.properties, the app is working all good. It is logging as expected. But with XML configuration it is not working**\r\n\r\nGetting this error. I have tried all the answers from the following stackoverflow answers - https://stackoverflow.com/questions/27860361/issue-http-apache-org-xml-features-xinclude-testing-log4j-2. But no success\r\n\r\nFollowing are the libraries i am using--\r\n - log4j-1.2-api-2.15.0.jar\r\n - log4j-api-2.15.0.jar\r\n - log4j-core-2.15.0.jar\r\n - log4j-jcl-2.15.0.jar\r\n - commons-logging-1.1.1.jar\r\n - xercesImpl-2.9.1.jar\r\n - jaxen-1.2.0.jar\r\n\r\n```\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 | ERROR StatusLogger Error parsing /opt/apps/user/app-name/conf/log4j.xml\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |  javax.xml.parsers.ParserConfigurationException: Feature &#39;http://apache.org/xml/features/xinclude&#39; is not recognized.\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:191)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:89)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:524)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:499)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:422)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:322)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:695)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogAdapter.getContext(LogAdapter.java:40)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogFactoryImpl.getInstance(LogFactoryImpl.java:40)\r\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogFactoryImpl.getInstance(LogFactoryImpl.java:55)\r\n```\r\n\r\nXML file \r\n--\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; filename=&quot;../logs/app.log&quot;\r\n                     filePattern=&quot;../logs/app.log.%d{yyyyMMddHHmmssSSS}&quot;\r\n                      bufferedIO=&quot;true&quot; bufferSize=&quot;5000000&quot; immediateFlush=&quot;false&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n            &lt;Pattern&gt;%d{dd MMM yyyy HH:mm:ss,SSS} %-5p [%t] [%X{PID}] %c - %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy interval=&quot;7200000&quot; /&gt; &lt;!-- 2 hours --&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;1 GB&quot;/&gt; &lt;!-- 1 GB --&gt;\r\n          &lt;/Policies&gt;\r\n          &lt;DirectWriteRolloverStrategy&gt;\r\n            &lt;Delete basePath=&quot;/opt/apps/user/app/logs&quot;&gt;\r\n              &lt;IfFileName glob=&quot;app.log.*&quot; /&gt;\r\n              &lt;IfLastModified age=&quot;7d&quot; /&gt;\r\n            &lt;/Delete&gt;\r\n          &lt;/DirectWriteRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;Async name=&quot;Async&quot; bufferSize=&quot;2048&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Async&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;!-- Only log warnings for Some test package --&gt;\r\n        &lt;Logger name=&quot;com.test&quot; level=&quot;warn&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Log4j2 migration - javax.xml.parsers.ParserConfigurationException: Feature &#39;http://apache.org/xml/features/xinclude&#39; is not recognized","body":"<p><strong>With log4j.properties, the app is working all good. It is logging as expected. But with XML configuration it is not working</strong></p>\n<p>Getting this error. I have tried all the answers from the following stackoverflow answers - <a href=\"https://stackoverflow.com/questions/27860361/issue-http-apache-org-xml-features-xinclude-testing-log4j-2\">Issue http://apache.org/xml/features/xinclude testing log4j 2</a>. But no success</p>\n<p>Following are the libraries i am using--</p>\n<ul>\n<li>log4j-1.2-api-2.15.0.jar</li>\n<li>log4j-api-2.15.0.jar</li>\n<li>log4j-core-2.15.0.jar</li>\n<li>log4j-jcl-2.15.0.jar</li>\n<li>commons-logging-1.1.1.jar</li>\n<li>xercesImpl-2.9.1.jar</li>\n<li>jaxen-1.2.0.jar</li>\n</ul>\n<pre><code>INFO   | jvm 1    | 2021/12/19 10:29:27 | ERROR StatusLogger Error parsing /opt/apps/user/app-name/conf/log4j.xml\nINFO   | jvm 1    | 2021/12/19 10:29:27 |  javax.xml.parsers.ParserConfigurationException: Feature 'http://apache.org/xml/features/xinclude' is not recognized.\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:191)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:89)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:524)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:499)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:422)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:322)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:695)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogAdapter.getContext(LogAdapter.java:40)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogFactoryImpl.getInstance(LogFactoryImpl.java:40)\nINFO   | jvm 1    | 2021/12/19 10:29:27 |       at org.apache.logging.log4j.jcl.LogFactoryImpl.getInstance(LogFactoryImpl.java:55)\n</code></pre>\n<h2>XML file</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;RollingFile name=&quot;RollingFile&quot; filename=&quot;../logs/app.log&quot;\n                 filePattern=&quot;../logs/app.log.%d{yyyyMMddHHmmssSSS}&quot;\n                  bufferedIO=&quot;true&quot; bufferSize=&quot;5000000&quot; immediateFlush=&quot;false&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d{dd MMM yyyy HH:mm:ss,SSS} %-5p [%t] [%X{PID}] %c - %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy interval=&quot;7200000&quot; /&gt; &lt;!-- 2 hours --&gt;\n        &lt;SizeBasedTriggeringPolicy size=&quot;1 GB&quot;/&gt; &lt;!-- 1 GB --&gt;\n      &lt;/Policies&gt;\n      &lt;DirectWriteRolloverStrategy&gt;\n        &lt;Delete basePath=&quot;/opt/apps/user/app/logs&quot;&gt;\n          &lt;IfFileName glob=&quot;app.log.*&quot; /&gt;\n          &lt;IfLastModified age=&quot;7d&quot; /&gt;\n        &lt;/Delete&gt;\n      &lt;/DirectWriteRolloverStrategy&gt;\n    &lt;/RollingFile&gt;\n    &lt;Async name=&quot;Async&quot; bufferSize=&quot;2048&quot;&gt;\n      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n    &lt;/Async&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;!-- Only log warnings for Some test package --&gt;\n    &lt;Logger name=&quot;com.test&quot; level=&quot;warn&quot;&gt;\n      &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","jenkins","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640329261,"post_id":70470337,"comment_id":124570531,"body_markdown":"Please don&#39;t post images, copy and paste the error message into your question.","body":"Please don&#39;t post images, copy and paste the error message into your question."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640329850,"post_id":70470337,"comment_id":124570630,"body_markdown":"From what I can see, you’re extensively relying on `Thread.sleep` to ensure the page is ready. This is _extremely_ fragile - and almost guaranteed to randomly fail. If you want stable Selenium tests you’re going to have to write better ones…","body":"From what I can see, you’re extensively relying on <code>Thread.sleep</code> to ensure the page is ready. This is <i>extremely</i> fragile - and almost guaranteed to randomly fail. If you want stable Selenium tests you’re going to have to write better ones…"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1640330013,"post_id":70470337,"comment_id":124570654,"body_markdown":"(Also, why do you have both JUnit and TestNG; using two testing frameworks is definitely a case of more is not better)","body":"(Also, why do you have both JUnit and TestNG; using two testing frameworks is definitely a case of more is not better)"},{"owner":{"account_id":21283373,"reputation":33,"user_id":17101031,"display_name":"soul king"},"score":0,"creation_date":1640351745,"post_id":70470337,"comment_id":124575420,"body_markdown":"I recreated the project, carefully connected everything and everything worked, what was the error was unclear","body":"I recreated the project, carefully connected everything and everything worked, what was the error was unclear"}],"owner":{"account_id":21283373,"reputation":33,"user_id":17101031,"display_name":"soul king"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640329076,"creation_date":1640329076,"question_id":70470337,"body_markdown":"I got a few simple tests,running under maven,locally its works fine,but when i tryed to run it on jenkins i got a error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9l3Gg.png\r\n\r\nWhen i run test locally all works fine, i can find element,which jenkins think in no attached to document or clickable,i also use Explicitly Wait in order to wait for element to be clickable, really hope someone can help.\r\nYou can check my repo here https://github.com/KirillPochta/PageObjectTrue.git","title":"Jenkins cant run my test properly,throws errors","body":"<p>I got a few simple tests,running under maven,locally its works fine,but when i tryed to run it on jenkins i got a error:\n<a href=\"https://i.stack.imgur.com/9l3Gg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9l3Gg.png\" alt=\"enter image description here\" /></a></p>\n<p>When i run test locally all works fine, i can find element,which jenkins think in no attached to document or clickable,i also use Explicitly Wait in order to wait for element to be clickable, really hope someone can help.\nYou can check my repo here <a href=\"https://github.com/KirillPochta/PageObjectTrue.git\" rel=\"nofollow noreferrer\">https://github.com/KirillPochta/PageObjectTrue.git</a></p>\n"},{"tags":["java","android","libgdx","ads","appodeal"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1640322353,"post_id":70467489,"comment_id":124569529,"body_markdown":"I think you have created a test demo project for test Ad. but you should keep same package name of project to show ad, because  they will  check package name getting from contex.","body":"I think you have created a test demo project for test Ad. but you should keep same package name of project to show ad, because  they will  check package name getting from contex."},{"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"score":0,"creation_date":1640328591,"post_id":70467489,"comment_id":124570418,"body_markdown":"YES! That did it! I never would have thought of that. Thank you! If you post that as an answer I&#39;ll accept it tomorrow (heading to bed now, I&#39;ve been at this a long time today).","body":"YES! That did it! I never would have thought of that. Thank you! If you post that as an answer I&#39;ll accept it tomorrow (heading to bed now, I&#39;ve been at this a long time today)."}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640329047,"creation_date":1640329047,"answer_id":70470334,"question_id":70467489,"body_markdown":"I think you have created a test demo project for test Ad. but you should keep same package name of project to show ad, because they will check package name getting from context.\r\n\r\n\r\n    package com.mygdx.adtest;    //You should pay attention to this.\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import com.appodeal.ads.Appodeal;\r\n    import com.appodeal.ads.BannerView;\r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\r\n            \r\n            // LAYOUT: combines LibGDX View and Ad View\r\n            RelativeLayout relativeLayout = new RelativeLayout(this);\r\n            \r\n            // Ad View\r\n            Appodeal.initialize(this, &quot;fee50c333ff3825fd6ad6d38cff78154de3025546d47a84f&quot;, Appodeal.BANNER);\r\n            Appodeal.setTesting(true);\r\n            Appodeal.show(this, Appodeal.BANNER);\r\n            \r\n            BannerView bannerView = new BannerView(this, null);\r\n            Appodeal.setBannerViewId(bannerView.getId());\r\n            \r\n            // LibGDX View\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);     \r\n            View libgdxView = initializeForView(new AppodealTest(), config);\r\n            \r\n            // add to view\r\n            relativeLayout.addView(bannerView);\r\n            relativeLayout.addView(libgdxView);\r\n            \r\n            // set layout\r\n            setContentView(relativeLayout);\r\n        }\r\n    }","title":"Appodeal Banner Ads in LibGDX &quot;Wrong Package Name&quot;","body":"<p>I think you have created a test demo project for test Ad. but you should keep same package name of project to show ad, because they will check package name getting from context.</p>\n<pre><code>package com.mygdx.adtest;    //You should pay attention to this.\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.RelativeLayout;\n\nimport com.appodeal.ads.Appodeal;\nimport com.appodeal.ads.BannerView;\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\n        \n        // LAYOUT: combines LibGDX View and Ad View\n        RelativeLayout relativeLayout = new RelativeLayout(this);\n        \n        // Ad View\n        Appodeal.initialize(this, &quot;fee50c333ff3825fd6ad6d38cff78154de3025546d47a84f&quot;, Appodeal.BANNER);\n        Appodeal.setTesting(true);\n        Appodeal.show(this, Appodeal.BANNER);\n        \n        BannerView bannerView = new BannerView(this, null);\n        Appodeal.setBannerViewId(bannerView.getId());\n        \n        // LibGDX View\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);     \n        View libgdxView = initializeForView(new AppodealTest(), config);\n        \n        // add to view\n        relativeLayout.addView(bannerView);\n        relativeLayout.addView(libgdxView);\n        \n        // set layout\n        setContentView(relativeLayout);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70470334,"answer_count":1,"score":0,"last_activity_date":1640329047,"creation_date":1640294395,"question_id":70467489,"body_markdown":"I’m trying to test Appodeal’s demo banner ads inside of LibGDX and I get this banner that displays a “You provided a wrong package name” error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI’ve googled that error message but cannot find anything. I have downloaded the Appodeal test app and their test ads display correctly. I am using the same test ID’s for Appodeal and Admob that their test app uses. I have gone through their setup tutorial and looked at the code for their test app, but I cannot figure out what I’m doing wrong. Any help figuring this out will be greatly appreciated!\r\n\r\nI created a small test app, here is my code.\r\n\r\n**AndroidLauncher.java**\r\n\r\n    package com.mygdx.adtest;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import com.appodeal.ads.Appodeal;\r\n    import com.appodeal.ads.BannerView;\r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\r\n            \r\n            // LAYOUT: combines LibGDX View and Ad View\r\n            RelativeLayout relativeLayout = new RelativeLayout(this);\r\n            \r\n            // Ad View\r\n            Appodeal.initialize(this, &quot;fee50c333ff3825fd6ad6d38cff78154de3025546d47a84f&quot;, Appodeal.BANNER);\r\n            Appodeal.setTesting(true);\r\n            Appodeal.show(this, Appodeal.BANNER);\r\n            \r\n            BannerView bannerView = new BannerView(this, null);\r\n            Appodeal.setBannerViewId(bannerView.getId());\r\n            \r\n            // LibGDX View\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);     \r\n            View libgdxView = initializeForView(new AppodealTest(), config);\r\n            \r\n            // add to view\r\n            relativeLayout.addView(bannerView);\r\n            relativeLayout.addView(libgdxView);\r\n            \r\n            // set layout\r\n            setContentView(relativeLayout);\r\n        }\r\n    }\r\n\r\n**AppodealTest.java**\r\n\r\n    package com.mygdx.adtest;\r\n    \r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class AppodealTest extends ApplicationAdapter {\r\n        @Override public void create () { }\r\n        @Override public void render () { ScreenUtils.clear(0.2f, 0.3f, 0.4f, 1); }\r\n        @Override public void dispose () { }\r\n    }\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mygdx.adtest&quot; &gt;\r\n        \r\n        &lt;!-- APPODEAL --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:isGame=&quot;true&quot;\r\n            android:appCategory=&quot;game&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/GdxTheme&quot; &gt;\r\n            \r\n            &lt;activity\r\n                android:name=&quot;com.mygdx.adtest.AndroidLauncher&quot;\r\n                android:label=&quot;@string/app_name&quot; \r\n                android:screenOrientation=&quot;fullUser&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        \r\n            &lt;!-- ADMOB --&gt;\r\n            &lt;meta-data\r\n                    android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n                    android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n**PROJECT: build.gradle**\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        apply plugin: &quot;eclipse&quot;\r\n        version = &#39;1.0&#39;\r\n        ext {\r\n            appName = &quot;AppodealTest&quot;\r\n            gdxVersion = &#39;1.10.0&#39;\r\n            roboVMVersion = &#39;2.3.12&#39;\r\n            box2DLightsVersion = &#39;1.5&#39;\r\n            ashleyVersion = &#39;1.7.3&#39;\r\n            aiVersion = &#39;1.8.2&#39;\r\n            gdxControllersVersion = &#39;2.1.0&#39;\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            google()\r\n            gradlePluginPortal()\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n        }\r\n    }\r\n    \r\n    project(&quot;:desktop&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:android&quot;) {\r\n        apply plugin: &quot;com.android.application&quot;\r\n        configurations { natives }\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:core&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n        dependencies {\r\n            api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n        }\r\n    }\r\n\r\n**ANDROID: build.gradle**\r\n\r\n    android {\r\n        buildToolsVersion &quot;30.0.2&quot;\r\n        compileSdkVersion 30\r\n        sourceSets {\r\n            main {\r\n                manifest.srcFile &#39;AndroidManifest.xml&#39;\r\n                java.srcDirs = [&#39;src&#39;]\r\n                aidl.srcDirs = [&#39;src&#39;]\r\n                renderscript.srcDirs = [&#39;src&#39;]\r\n                res.srcDirs = [&#39;res&#39;]\r\n                assets.srcDirs = [&#39;assets&#39;]\r\n                jniLibs.srcDirs = [&#39;libs&#39;]\r\n            }\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/robovm/ios/robovm.xml&#39;\r\n        }\r\n        defaultConfig {\r\n            applicationId &quot;com.mygdx.adtest&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 30\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        \r\n        // APPODEAL\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    // called every time gradle gets executed, takes the native dependencies of\r\n    // the natives configuration, and extracts them to the proper libs/ folders\r\n    // so they get packed with the APK.\r\n    task copyAndroidNatives {\r\n        doFirst {\r\n            file(&quot;libs/armeabi/&quot;).mkdirs()\r\n            file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\r\n            file(&quot;libs/arm64-v8a/&quot;).mkdirs()\r\n            file(&quot;libs/x86_64/&quot;).mkdirs()\r\n            file(&quot;libs/x86/&quot;).mkdirs()\r\n            configurations.natives.copy().files.each { jar -&gt;\r\n                def outputDir = null\r\n                if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\r\n                if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\r\n                if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\r\n                if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\r\n                if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\r\n                if(outputDir != null) {\r\n                    copy {\r\n                        from zipTree(jar)\r\n                        into outputDir\r\n                        include &quot;*.so&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.whenTaskAdded { packageTask -&gt;\r\n        if (packageTask.name.contains(&quot;package&quot;)) {\r\n            packageTask.dependsOn &#39;copyAndroidNatives&#39;\r\n        }\r\n    }\r\n    \r\n    task run(type: Exec) {\r\n        def path\r\n        def localProperties = project.file(&quot;../local.properties&quot;)\r\n        if (localProperties.exists()) {\r\n            Properties properties = new Properties()\r\n            localProperties.withInputStream { instr -&gt;\r\n                properties.load(instr)\r\n            }\r\n            def sdkDir = properties.getProperty(&#39;sdk.dir&#39;)\r\n            if (sdkDir) {\r\n                path = sdkDir\r\n            } else {\r\n                path = &quot;$System.env.ANDROID_HOME&quot;\r\n            }\r\n        } else {\r\n            path = &quot;$System.env.ANDROID_HOME&quot;\r\n        }\r\n        def adb = path + &quot;/platform-tools/adb&quot;\r\n        commandLine &quot;$adb&quot;, &#39;shell&#39;, &#39;am&#39;, &#39;start&#39;, &#39;-n&#39;, &#39;com.mygdx.adtest/com.mygdx.adtest.AndroidLauncher&#39;\r\n    }\r\n    \r\n    eclipse.project.name = appName + &quot;-android&quot;\r\n    \r\n    // APPODEAL\r\n    repositories {\r\n        // Add Appodeal repository\r\n        maven { url &quot;https://artifactory.appodeal.com/appodeal&quot; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n        \r\n        // APPODEAL\r\n        implementation &#39;com.appodeal.ads:sdk:2.10.3.+&#39;\r\n    }\r\n\r\n**network_security_config.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n                &lt;certificates src=&quot;user&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5a0Ll.jpg","title":"Appodeal Banner Ads in LibGDX &quot;Wrong Package Name&quot;","body":"<p>I’m trying to test Appodeal’s demo banner ads inside of LibGDX and I get this banner that displays a “You provided a wrong package name” error.</p>\n<p><a href=\"https://i.stack.imgur.com/5a0Ll.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5a0Ll.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I’ve googled that error message but cannot find anything. I have downloaded the Appodeal test app and their test ads display correctly. I am using the same test ID’s for Appodeal and Admob that their test app uses. I have gone through their setup tutorial and looked at the code for their test app, but I cannot figure out what I’m doing wrong. Any help figuring this out will be greatly appreciated!</p>\n<p>I created a small test app, here is my code.</p>\n<p><strong>AndroidLauncher.java</strong></p>\n<pre><code>package com.mygdx.adtest;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.RelativeLayout;\n\nimport com.appodeal.ads.Appodeal;\nimport com.appodeal.ads.BannerView;\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\n        \n        // LAYOUT: combines LibGDX View and Ad View\n        RelativeLayout relativeLayout = new RelativeLayout(this);\n        \n        // Ad View\n        Appodeal.initialize(this, &quot;fee50c333ff3825fd6ad6d38cff78154de3025546d47a84f&quot;, Appodeal.BANNER);\n        Appodeal.setTesting(true);\n        Appodeal.show(this, Appodeal.BANNER);\n        \n        BannerView bannerView = new BannerView(this, null);\n        Appodeal.setBannerViewId(bannerView.getId());\n        \n        // LibGDX View\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);     \n        View libgdxView = initializeForView(new AppodealTest(), config);\n        \n        // add to view\n        relativeLayout.addView(bannerView);\n        relativeLayout.addView(libgdxView);\n        \n        // set layout\n        setContentView(relativeLayout);\n    }\n}\n</code></pre>\n<p><strong>AppodealTest.java</strong></p>\n<pre><code>package com.mygdx.adtest;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class AppodealTest extends ApplicationAdapter {\n    @Override public void create () { }\n    @Override public void render () { ScreenUtils.clear(0.2f, 0.3f, 0.4f, 1); }\n    @Override public void dispose () { }\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mygdx.adtest&quot; &gt;\n    \n    &lt;!-- APPODEAL --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:isGame=&quot;true&quot;\n        android:appCategory=&quot;game&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/GdxTheme&quot; &gt;\n        \n        &lt;activity\n            android:name=&quot;com.mygdx.adtest.AndroidLauncher&quot;\n            android:label=&quot;@string/app_name&quot; \n            android:screenOrientation=&quot;fullUser&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    \n        &lt;!-- ADMOB --&gt;\n        &lt;meta-data\n                android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n                android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>PROJECT: build.gradle</strong></p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n    }\n}\n\nallprojects {\n    apply plugin: &quot;eclipse&quot;\n    version = '1.0'\n    ext {\n        appName = &quot;AppodealTest&quot;\n        gdxVersion = '1.10.0'\n        roboVMVersion = '2.3.12'\n        box2DLightsVersion = '1.5'\n        ashleyVersion = '1.7.3'\n        aiVersion = '1.8.2'\n        gdxControllersVersion = '2.1.0'\n    }\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        google()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n    }\n}\n\nproject(&quot;:desktop&quot;) {\n    apply plugin: &quot;java-library&quot;\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\n    }\n}\n\nproject(&quot;:android&quot;) {\n    apply plugin: &quot;com.android.application&quot;\n    configurations { natives }\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n    }\n}\n\nproject(&quot;:core&quot;) {\n    apply plugin: &quot;java-library&quot;\n    dependencies {\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n    }\n}\n</code></pre>\n<p><strong>ANDROID: build.gradle</strong></p>\n<pre><code>android {\n    buildToolsVersion &quot;30.0.2&quot;\n    compileSdkVersion 30\n    sourceSets {\n        main {\n            manifest.srcFile 'AndroidManifest.xml'\n            java.srcDirs = ['src']\n            aidl.srcDirs = ['src']\n            renderscript.srcDirs = ['src']\n            res.srcDirs = ['res']\n            assets.srcDirs = ['assets']\n            jniLibs.srcDirs = ['libs']\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/robovm/ios/robovm.xml'\n    }\n    defaultConfig {\n        applicationId &quot;com.mygdx.adtest&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        multiDexEnabled true\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    \n    // APPODEAL\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\n// called every time gradle gets executed, takes the native dependencies of\n// the natives configuration, and extracts them to the proper libs/ folders\n// so they get packed with the APK.\ntask copyAndroidNatives {\n    doFirst {\n        file(&quot;libs/armeabi/&quot;).mkdirs()\n        file(&quot;libs/armeabi-v7a/&quot;).mkdirs()\n        file(&quot;libs/arm64-v8a/&quot;).mkdirs()\n        file(&quot;libs/x86_64/&quot;).mkdirs()\n        file(&quot;libs/x86/&quot;).mkdirs()\n        configurations.natives.copy().files.each { jar -&gt;\n            def outputDir = null\n            if (jar.name.endsWith(&quot;natives-arm64-v8a.jar&quot;)) outputDir = file(&quot;libs/arm64-v8a&quot;)\n            if (jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;)\n            if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;)\n            if(jar.name.endsWith(&quot;natives-x86_64.jar&quot;)) outputDir = file(&quot;libs/x86_64&quot;)\n            if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;)\n            if(outputDir != null) {\n                copy {\n                    from zipTree(jar)\n                    into outputDir\n                    include &quot;*.so&quot;\n                }\n            }\n        }\n    }\n}\n\ntasks.whenTaskAdded { packageTask -&gt;\n    if (packageTask.name.contains(&quot;package&quot;)) {\n        packageTask.dependsOn 'copyAndroidNatives'\n    }\n}\n\ntask run(type: Exec) {\n    def path\n    def localProperties = project.file(&quot;../local.properties&quot;)\n    if (localProperties.exists()) {\n        Properties properties = new Properties()\n        localProperties.withInputStream { instr -&gt;\n            properties.load(instr)\n        }\n        def sdkDir = properties.getProperty('sdk.dir')\n        if (sdkDir) {\n            path = sdkDir\n        } else {\n            path = &quot;$System.env.ANDROID_HOME&quot;\n        }\n    } else {\n        path = &quot;$System.env.ANDROID_HOME&quot;\n    }\n    def adb = path + &quot;/platform-tools/adb&quot;\n    commandLine &quot;$adb&quot;, 'shell', 'am', 'start', '-n', 'com.mygdx.adtest/com.mygdx.adtest.AndroidLauncher'\n}\n\neclipse.project.name = appName + &quot;-android&quot;\n\n// APPODEAL\nrepositories {\n    // Add Appodeal repository\n    maven { url &quot;https://artifactory.appodeal.com/appodeal&quot; }\n}\n\ndependencies {\n    implementation 'androidx.multidex:multidex:2.0.1'\n    \n    // APPODEAL\n    implementation 'com.appodeal.ads:sdk:2.10.3.+'\n}\n</code></pre>\n<p><strong>network_security_config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=&quot;system&quot; /&gt;\n            &lt;certificates src=&quot;user&quot; /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;127.0.0.1&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":["java","microsoft-dynamics","dynamics-nav","dynamics-nav-2013"],"answers":[{"tags":[],"owner":{"account_id":2038621,"reputation":2158,"user_id":1820340,"accept_rate":36,"display_name":"Mak Sim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393058484,"creation_date":1393058484,"answer_id":21951917,"question_id":21940410,"body_markdown":"By default Nav uses Windows Active Directory authorization. I&#39;m not sure what wsimport do in java but credentials provided in url unlikely to work. You need to go through negotiation procedure to authorize with server or change authorization type in `Nav Server Administration` snap-in on server (or in configuration file).\r\n\r\nSee [here][1] about credential types and [here][2] is how to configure server. Also see usefull post in Freddy&#39;s blog on [how to connect to Nav from Java][3] (I believe its still relevant though it&#39;s for Nav 2009).\r\n\r\n`soapUI` can handle NTLM authorization type so you can see all requests and responses through negotiation process in it&#39;s logs.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/hh169371%28v=nav.70%29.aspx\r\n  [2]: http://msdn.microsoft.com/en-us/library/dd355055%28v=nav.70%29.aspx\r\n  [3]: http://blogs.msdn.com/b/freddyk/archive/2010/01/19/connecting-to-nav-web-services-from-java.aspx","title":"Access Dynamics NAV Webservice with Java","body":"<p>By default Nav uses Windows Active Directory authorization. I'm not sure what wsimport do in java but credentials provided in url unlikely to work. You need to go through negotiation procedure to authorize with server or change authorization type in <code>Nav Server Administration</code> snap-in on server (or in configuration file).</p>\n\n<p>See <a href=\"http://msdn.microsoft.com/en-us/library/hh169371%28v=nav.70%29.aspx\" rel=\"nofollow\">here</a> about credential types and <a href=\"http://msdn.microsoft.com/en-us/library/dd355055%28v=nav.70%29.aspx\" rel=\"nofollow\">here</a> is how to configure server. Also see usefull post in Freddy's blog on <a href=\"http://blogs.msdn.com/b/freddyk/archive/2010/01/19/connecting-to-nav-web-services-from-java.aspx\" rel=\"nofollow\">how to connect to Nav from Java</a> (I believe its still relevant though it's for Nav 2009).</p>\n\n<p><code>soapUI</code> can handle NTLM authorization type so you can see all requests and responses through negotiation process in it's logs.</p>\n"},{"tags":[],"owner":{"account_id":12883653,"reputation":2815,"user_id":10030693,"display_name":"Gilbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640328508,"creation_date":1629230359,"answer_id":68823338,"question_id":21940410,"body_markdown":"You can use either `NTLM authentication` or `Basic authentication` to access a `NAV` web service. You can use `Postman`, `curl` or any of the popular programming languages. \r\n\r\nUse `NTLM authentication` when NAV is using the `Windows` credential type. The username and password belong to the `Windows` user added in NAV. The user must be `enabled` in NAV. The username and password must be valid on the windows machine, that is, someone can login on the computer using them. Ensure that the checkbox `Use NTLM Authentication` is checked in `NAV Administration`. Postman has beta support for NTLM authentication.\r\n\r\nUse `Basic authentication` when NAV is using `NavUserPassword` credential type. The user must exist in NAV and have a username and password. To supply the fields when making a request, Base64 encode the username and password combination, that is, base64 encode this: username:password. For example, if my username is jack and password is  Jack@1234, the base64 encoded string I&#39;ll use is: amFjazpKYWNrQDEyMzQK  . I&#39;ve obtained it using below bash command:\r\n```\r\necho &#39;jack:Jack@1234&#39; | base64\r\n```\r\nUse the normal protocol for basic authentication to supply the authentication in the http request. See: https://learning.postman.com/docs/sending-requests/authorization/\r\n\r\n\r\nBelow is a guide on NTLM authentication using the httpntlm library in node.js. Another library you can use is axios-nltm. \r\n\r\nFor PHP developers, see this [article][1] on php ntlm authentication. \r\n\r\n`NTLM authentication` allows a client to access a resource on the server by providing credentials for a Windows account that exists on the server. \r\n\r\nSo if the server has a user named `GilbertS` with a password `Gilbert1000`, you can send a request to the server by running the following javascript code:\r\n\r\n```\r\nconst httpntlm = require(&#39;httpntlm&#39;);\r\n\r\nconst NAV_DimQuery = &quot;http://junit:7148/BC140/ODataV4/Company(&#39;CronusCompany&#39;)/MyDimensionQuery&quot;;\r\nhttpntlm.get({\r\n    url: NAV_DimQuery,\r\n    username: &#39;GilbertS&#39;,\r\n    password: &#39;Gilbert100&#39;,\r\n    domain: &#39;JUNIT&#39;\r\n}, function(err, res) {\r\n    if(err) {\r\n        throw err;\r\n    } \r\n    console.log(res);\r\n});\r\n```\r\nInstall the necessary library by entering the command: `npm i httpntlm`  Note that other languages like PHP and Java have a similar library.\r\n\r\nTo get the Domain name, from the command prompt or terminal of the server, run: `SET`    Look for the value of a key called `USERDOMAIN`. Note that the domain can be left blank if the server is a PC and not a dedicated Windows Server.\r\n\r\n**NAV / Business Central specific configurations** \r\n\r\nIn NAV or Business Central Administration, there is a field in the General tab called `Use NTLM Authentication` ensure that it is checked (set to true). If you can not modify it from the NAV / BC Administration window, edit the `CustomSettings.config` file in path: `C:\\Program Files\\Microsoft Dynamics 365 Business Central\\140\\Service`.\r\n\r\n\r\nBecause we are using NTLM to authenticate, ensure that NAV / BC is configured to use `Windows authentication`. You do so by setting the `Credential Type` to `Windows`.\r\n\r\nIf the `Credential Type` is set to something else or you do not tick `Use NTLM Authentication`, you will get an error when sending the request saying something like the server does not allow NTLM.\r\n\r\nAlso, make sure that the Windows user you are using to access data in NAV / BC exists in the Users table in NAV / BC and that user is enabled.\r\n\r\nIf the NAV server is using NavUserPassword authentication, you can create another server instance that uses Windows authentication for the same database.\r\n\r\nFinally, beware of a certain case where running the code makes the NAV Server to stop, I am still trying to figure out what causes this. \r\n\r\nYou can make inquiries in the comments in case there is something that is still making your requests to fail.\r\n\r\n\r\nI&#39;ve created two npm libraries to help with NAV / BC web service integration.\r\n\r\nA library that makes creating a URL to send to the web service to consume Odata simple and declarative:\r\nhttps://www.npmjs.com/package/navodata\r\n\r\n\r\nA client built on top of `httpntlm` library for accessing a web service using windows authentication. Provides error handling and use of promises:\r\nhttps://www.npmjs.com/package/navclient\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://thomas.rabaix.net/articles/using-soap-php-with-ntlm-authentication/\r\n  [2]: https://www.packtpub.com/product/extending-microsoft-dynamics-nav-2016-cookbook/9781786460608","title":"Access Dynamics NAV Webservice with Java","body":"<p>You can use either <code>NTLM authentication</code> or <code>Basic authentication</code> to access a <code>NAV</code> web service. You can use <code>Postman</code>, <code>curl</code> or any of the popular programming languages.</p>\n<p>Use <code>NTLM authentication</code> when NAV is using the <code>Windows</code> credential type. The username and password belong to the <code>Windows</code> user added in NAV. The user must be <code>enabled</code> in NAV. The username and password must be valid on the windows machine, that is, someone can login on the computer using them. Ensure that the checkbox <code>Use NTLM Authentication</code> is checked in <code>NAV Administration</code>. Postman has beta support for NTLM authentication.</p>\n<p>Use <code>Basic authentication</code> when NAV is using <code>NavUserPassword</code> credential type. The user must exist in NAV and have a username and password. To supply the fields when making a request, Base64 encode the username and password combination, that is, base64 encode this: username:password. For example, if my username is jack and password is  Jack@1234, the base64 encoded string I'll use is: amFjazpKYWNrQDEyMzQK  . I've obtained it using below bash command:</p>\n<pre><code>echo 'jack:Jack@1234' | base64\n</code></pre>\n<p>Use the normal protocol for basic authentication to supply the authentication in the http request. See: <a href=\"https://learning.postman.com/docs/sending-requests/authorization/\" rel=\"nofollow noreferrer\">https://learning.postman.com/docs/sending-requests/authorization/</a></p>\n<p>Below is a guide on NTLM authentication using the httpntlm library in node.js. Another library you can use is axios-nltm.</p>\n<p>For PHP developers, see this <a href=\"https://thomas.rabaix.net/articles/using-soap-php-with-ntlm-authentication/\" rel=\"nofollow noreferrer\">article</a> on php ntlm authentication.</p>\n<p><code>NTLM authentication</code> allows a client to access a resource on the server by providing credentials for a Windows account that exists on the server.</p>\n<p>So if the server has a user named <code>GilbertS</code> with a password <code>Gilbert1000</code>, you can send a request to the server by running the following javascript code:</p>\n<pre><code>const httpntlm = require('httpntlm');\n\nconst NAV_DimQuery = &quot;http://junit:7148/BC140/ODataV4/Company('CronusCompany')/MyDimensionQuery&quot;;\nhttpntlm.get({\n    url: NAV_DimQuery,\n    username: 'GilbertS',\n    password: 'Gilbert100',\n    domain: 'JUNIT'\n}, function(err, res) {\n    if(err) {\n        throw err;\n    } \n    console.log(res);\n});\n</code></pre>\n<p>Install the necessary library by entering the command: <code>npm i httpntlm</code>  Note that other languages like PHP and Java have a similar library.</p>\n<p>To get the Domain name, from the command prompt or terminal of the server, run: <code>SET</code>    Look for the value of a key called <code>USERDOMAIN</code>. Note that the domain can be left blank if the server is a PC and not a dedicated Windows Server.</p>\n<p><strong>NAV / Business Central specific configurations</strong></p>\n<p>In NAV or Business Central Administration, there is a field in the General tab called <code>Use NTLM Authentication</code> ensure that it is checked (set to true). If you can not modify it from the NAV / BC Administration window, edit the <code>CustomSettings.config</code> file in path: <code>C:\\Program Files\\Microsoft Dynamics 365 Business Central\\140\\Service</code>.</p>\n<p>Because we are using NTLM to authenticate, ensure that NAV / BC is configured to use <code>Windows authentication</code>. You do so by setting the <code>Credential Type</code> to <code>Windows</code>.</p>\n<p>If the <code>Credential Type</code> is set to something else or you do not tick <code>Use NTLM Authentication</code>, you will get an error when sending the request saying something like the server does not allow NTLM.</p>\n<p>Also, make sure that the Windows user you are using to access data in NAV / BC exists in the Users table in NAV / BC and that user is enabled.</p>\n<p>If the NAV server is using NavUserPassword authentication, you can create another server instance that uses Windows authentication for the same database.</p>\n<p>Finally, beware of a certain case where running the code makes the NAV Server to stop, I am still trying to figure out what causes this.</p>\n<p>You can make inquiries in the comments in case there is something that is still making your requests to fail.</p>\n<p>I've created two npm libraries to help with NAV / BC web service integration.</p>\n<p>A library that makes creating a URL to send to the web service to consume Odata simple and declarative:\n<a href=\"https://www.npmjs.com/package/navodata\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/navodata</a></p>\n<p>A client built on top of <code>httpntlm</code> library for accessing a web service using windows authentication. Provides error handling and use of promises:\n<a href=\"https://www.npmjs.com/package/navclient\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/navclient</a></p>\n"}],"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21951917,"answer_count":2,"score":1,"last_activity_date":1640328508,"creation_date":1393001714,"question_id":21940410,"body_markdown":"I am trying to access a Dynamics NAV 2013 R2 web service from Java. The web service is running and when I enter the URL in the Internet Explorer, I can see the WSDL but first I am prompted for Username and Password. On Wireshark I can see that it uses authentication based on NTLM. Sofar I was only able to open the WSDL from Internet Explorer, when I open it on Firefox, it give me a blank page and no error.\r\n\r\nWhat I am trying to do is to access the Web Service from Java using the wsimport tool, but I am unable to authenticate. I have already created a folder in `~/.metro/auth` and put the following line in there:\r\n\r\n    http://userfoobar:passforbar@192.168.0.170:7047//DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization\r\n\r\nand I am trying to access the web page with:\r\n\r\n    wsimport -d generated -s sources http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization\r\n\r\nI always get the error:\r\n\r\n    [ERROR] Server returned HTTP response code: 401 for URL: http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization,  &quot;http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization&quot; needs authorization, please provide authorization file with read access at /home/user/.metro/auth or use -Xauthfile to give the authorization file and on each line provide authorization information using this format : http[s]://user:password@host:port//&lt;url-path&gt;\r\n\r\n\r\nI have tried this both from Linux and the Windows 7 machine which runs the NAV Webservice. Do I have to perform any additional configuration in NAV? Are there any special tricks to get this to work?","title":"Access Dynamics NAV Webservice with Java","body":"<p>I am trying to access a Dynamics NAV 2013 R2 web service from Java. The web service is running and when I enter the URL in the Internet Explorer, I can see the WSDL but first I am prompted for Username and Password. On Wireshark I can see that it uses authentication based on NTLM. Sofar I was only able to open the WSDL from Internet Explorer, when I open it on Firefox, it give me a blank page and no error.</p>\n\n<p>What I am trying to do is to access the Web Service from Java using the wsimport tool, but I am unable to authenticate. I have already created a folder in <code>~/.metro/auth</code> and put the following line in there:</p>\n\n<pre><code>http://userfoobar:passforbar@192.168.0.170:7047//DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization\n</code></pre>\n\n<p>and I am trying to access the web page with:</p>\n\n<pre><code>wsimport -d generated -s sources http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization\n</code></pre>\n\n<p>I always get the error:</p>\n\n<pre><code>[ERROR] Server returned HTTP response code: 401 for URL: http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization,  \"http://@192.168.0.170:7047/DynamicsNAV71/WS/CRONUS%20AG/Page/PageWithCapitalization\" needs authorization, please provide authorization file with read access at /home/user/.metro/auth or use -Xauthfile to give the authorization file and on each line provide authorization information using this format : http[s]://user:password@host:port//&lt;url-path&gt;\n</code></pre>\n\n<p>I have tried this both from Linux and the Windows 7 machine which runs the NAV Webservice. Do I have to perform any additional configuration in NAV? Are there any special tricks to get this to work?</p>\n"},{"tags":["java","swing","graphics2d"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1640257621,"post_id":70461133,"comment_id":124554282,"body_markdown":"*&quot;I uploaded a simplified application..&quot;* [Edit] to add a [mre] (here). All relevant code should be included as (code formatted) text right here. *&quot;with load option&quot;* Hard code some data. `MyFrame` is a terribly non-descriptive name for the class. How about `DataVisualizer` or `DataVisualizerWindow`? Longer, but a whole lot more useful.","body":"<i>&quot;I uploaded a simplified application..&quot;</i> <a href=\"https://stackoverflow.com/posts/70461133/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (here). All relevant code should be included as (code formatted) text right here. <i>&quot;with load option&quot;</i> Hard code some data. <code>MyFrame</code> is a terribly non-descriptive name for the class. How about <code>DataVisualizer</code> or <code>DataVisualizerWindow</code>? Longer, but a whole lot more useful."},{"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"score":0,"creation_date":1640258930,"post_id":70461133,"comment_id":124554696,"body_markdown":"Yes, you absolutely right. But I created a short example to show my issue.","body":"Yes, you absolutely right. But I created a short example to show my issue."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1640261351,"post_id":70461133,"comment_id":124555396,"body_markdown":"Shouldn&#39;t paintComponent be overridden instead of paint?","body":"Shouldn&#39;t paintComponent be overridden instead of paint?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640262147,"post_id":70461133,"comment_id":124555638,"body_markdown":"@JustanotherJavaprogrammer: yes, and the super for the overridden method should also be called inside the painting override.","body":"@JustanotherJavaprogrammer: yes, and the super for the overridden method should also be called inside the painting override."},{"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"score":0,"creation_date":1640262183,"post_id":70461133,"comment_id":124555652,"body_markdown":"Indeed... But it does not solve my problem on how to call the drawLine method outside the constructor.","body":"Indeed... But it does not solve my problem on how to call the drawLine method outside the constructor."},{"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"score":0,"creation_date":1640262347,"post_id":70461133,"comment_id":124555704,"body_markdown":"The GUI works and the action event also, i can load the file, display its name and content etc. But I don;t know how to feed the x,y data to a method that receives the x and y int values and executes a drawLine method. This call is done after the inital GUI creation and i am runing a method inside the MyFrame class .","body":"The GUI works and the action event also, i can load the file, display its name and content etc. But I don;t know how to feed the x,y data to a method that receives the x and y int values and executes a drawLine method. This call is done after the inital GUI creation and i am runing a method inside the MyFrame class ."},{"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"score":0,"creation_date":1640262591,"post_id":70461133,"comment_id":124555783,"body_markdown":"The current MyPlane class does create a Graphics plane with the 4 blue outer lines and it is shown on the Panel (p1) as set in the Myframe class, so that is working, even with overriding Paint instead of PaintComponent .....  But then .... how to add new lines to it...","body":"The current MyPlane class does create a Graphics plane with the 4 blue outer lines and it is shown on the Panel (p1) as set in the Myframe class, so that is working, even with overriding Paint instead of PaintComponent .....  But then .... how to add new lines to it..."},{"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"score":0,"creation_date":1640262696,"post_id":70461133,"comment_id":124555803,"body_markdown":"I am sorry, but I am lost, I think I just don&#39;t fully get the usage of class interaction.","body":"I am sorry, but I am lost, I think I just don&#39;t fully get the usage of class interaction."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1640270495,"post_id":70461133,"comment_id":124558464,"body_markdown":"*But I don;t know how to feed the x,y data to a method* - you just create a method to add the data to the model of your drawing panel. Check out the `DrawOnComponent` example from [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for an example of this approach. The simply example allows you to dynamically add any number of objects to draw.","body":"<i>But I don;t know how to feed the x,y data to a method</i> - you just create a method to add the data to the model of your drawing panel. Check out the <code>DrawOnComponent</code> example from <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for an example of this approach. The simply example allows you to dynamically add any number of objects to draw."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640270861,"creation_date":1640267458,"answer_id":70463046,"question_id":70461133,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing][1].  Skip the Netbeans section.\r\n\r\nHere&#39;s the revised GUI before &quot;reading the file&quot;.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere&#39;s the revised GUI after &quot;reading the file&quot;.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI created an application model to hold the line segments.  This model is passed to the drawing `JPanel` so that the line segments can be drawn in the `paintComponent` method of the drawing `JPanel`.\r\n\r\nI cleaned up your GUI.  I used [Swing layout managers][4] to create the GUI.  I separated the creation of the `JPanels` from the creation of the `JFrame` so the code is easier for people to read and understand.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.text.JTextComponent;\r\n    \r\n    public class ExampleDrawingGUI {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; new ExampleDrawingGUI().new MyFrame());\r\n    \t}\r\n    \r\n    \tpublic class MyFrame extends JFrame {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate ExampleDrawingModel model;\r\n    \t\t\r\n    \t\tJTextComponent tc;\r\n    \t\t\r\n    \t\tMyPanel p1;\r\n    \r\n    \t\tpublic MyFrame() {\r\n    \t\t\tsuper(&quot;My Frame&quot;);\r\n    \t\t\tthis.model = new ExampleDrawingModel();\r\n    \t\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\tthis.setJMenuBar(createMenuBar());\r\n    \t\t\t\r\n    \t\t\tp1 = new MyPanel(model);\r\n    \t\t\tthis.add(p1, BorderLayout.CENTER);\r\n    \t\t\tthis.add(createTextPanel(), BorderLayout.SOUTH);\r\n    \t\t\t\r\n    \t\t\tthis.pack();\r\n    \t\t\tthis.setLocationByPlatform(true);\r\n    //\t\t\tthis.setResizable(false);\r\n    \t\t\tthis.setVisible(true);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate JMenuBar createMenuBar() {\r\n    \t\t\tJMenuBar mb = new JMenuBar();\r\n    \t\t\tJMenu fm = new JMenu(&quot;File&quot;);\r\n    \t\t\tJMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\r\n    \t\t\tloadItem.addActionListener(e -&gt; {\r\n    \t\t\t\ttc.setText(&quot;loading&quot; + &quot;\\n&quot;);\r\n    \t\t\t\tmodel.readFile();\r\n    \t\t\t\tp1.repaint();\r\n    \t\t\t});\r\n    \t\t\tfm.add(loadItem);\r\n    \t\t\tmb.add(fm);\r\n    \t\t\t\r\n    \t\t\treturn mb;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate JPanel createTextPanel() {\r\n    \t\t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\t\r\n    \t\t\ttc = new JTextPane();\r\n    \t\t\ttc.setPreferredSize(new Dimension(450, 50));\r\n    \t\t\tJScrollPane sp = new JScrollPane(tc);\r\n    \t\t\tpanel.add(sp, BorderLayout.CENTER);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void repaint() {\r\n    \t\t\tp1.repaint();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class MyPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate ExampleDrawingModel model;\r\n    \r\n    \t\tpublic MyPanel(ExampleDrawingModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(new Dimension(450, 200));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tGraphics2D g2D = (Graphics2D) g;\r\n    \t\t\tpaintBorder(g2D);\r\n    \t\t\t\r\n    \t\t\tfor (LineSegment line : model.getLines()) {\r\n    \t\t\t\tPoint startPoint = line.getStartPoint();\r\n    \t\t\t\tPoint endPoint = line.getEndPoint();\r\n    \t\t\t\tg2D.drawLine(startPoint.x, startPoint.y, endPoint.x, endPoint.y);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void paintBorder(Graphics2D g2D) {\r\n    \t\t\tint margin = 5;\r\n    \t\t\tint x1 = margin;\r\n    \t\t\tint x2 = getWidth() - margin;\r\n    \t\t\tint y1 = margin;\r\n    \t\t\tint y2 = getHeight() - margin;\r\n    \t\t\t\r\n    \t\t\tg2D.setStroke(new BasicStroke(3f));\r\n    \t\t\tg2D.setPaint(Color.blue);\r\n    \t\t\tg2D.drawLine(x1, y1, x1, y2);\r\n    \t\t\tg2D.drawLine(x1, y1, x2, y1);\r\n    \t\t\tg2D.drawLine(x2, y1, x2, y2);\r\n    \t\t\tg2D.drawLine(x1, y2, x2, y2);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic class ExampleDrawingModel {\r\n    \t\t\r\n    \t\tprivate List&lt;LineSegment&gt; lines;\r\n    \t\t\r\n    \t\tpublic ExampleDrawingModel() {\r\n    \t\t\tthis.lines = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void readFile() {\r\n    \t\t\tthis.lines.clear();\r\n    \t\t\t// Here&#39;s where you&#39;d read a file and create a list of lines.\r\n    \t\t\tlines.add(new LineSegment(new Point(100, 100), new Point(100, 150)));\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;LineSegment&gt; getLines() {\r\n    \t\t\treturn lines;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class LineSegment {\r\n    \t\t\r\n    \t\tprivate final Point startPoint, endPoint;\r\n    \r\n    \t\tpublic LineSegment(Point startPoint, Point endPoint) {\r\n    \t\t\tthis.startPoint = startPoint;\r\n    \t\t\tthis.endPoint = endPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getStartPoint() {\r\n    \t\t\treturn startPoint;\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getEndPoint() {\r\n    \t\t\treturn endPoint;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n  [2]: https://i.stack.imgur.com/8rX9y.png\r\n  [3]: https://i.stack.imgur.com/JXSaW.png\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"Add new data to Graphics2D panel in a Java Swing application","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.</p>\n<p>Here's the revised GUI before &quot;reading the file&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/8rX9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rX9y.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the revised GUI after &quot;reading the file&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/JXSaW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXSaW.png\" alt=\"enter image description here\" /></a></p>\n<p>I created an application model to hold the line segments.  This model is passed to the drawing <code>JPanel</code> so that the line segments can be drawn in the <code>paintComponent</code> method of the drawing <code>JPanel</code>.</p>\n<p>I cleaned up your GUI.  I used <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Swing layout managers</a> to create the GUI.  I separated the creation of the <code>JPanels</code> from the creation of the <code>JFrame</code> so the code is easier for people to read and understand.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.text.JTextComponent;\n\npublic class ExampleDrawingGUI {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new ExampleDrawingGUI().new MyFrame());\n    }\n\n    public class MyFrame extends JFrame {\n\n        private static final long serialVersionUID = 1L;\n\n        private ExampleDrawingModel model;\n        \n        JTextComponent tc;\n        \n        MyPanel p1;\n\n        public MyFrame() {\n            super(&quot;My Frame&quot;);\n            this.model = new ExampleDrawingModel();\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            this.setJMenuBar(createMenuBar());\n            \n            p1 = new MyPanel(model);\n            this.add(p1, BorderLayout.CENTER);\n            this.add(createTextPanel(), BorderLayout.SOUTH);\n            \n            this.pack();\n            this.setLocationByPlatform(true);\n//          this.setResizable(false);\n            this.setVisible(true);\n        }\n        \n        private JMenuBar createMenuBar() {\n            JMenuBar mb = new JMenuBar();\n            JMenu fm = new JMenu(&quot;File&quot;);\n            JMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\n            loadItem.addActionListener(e -&gt; {\n                tc.setText(&quot;loading&quot; + &quot;\\n&quot;);\n                model.readFile();\n                p1.repaint();\n            });\n            fm.add(loadItem);\n            mb.add(fm);\n            \n            return mb;\n        }\n        \n        private JPanel createTextPanel() {\n            JPanel panel = new JPanel(new BorderLayout());\n            panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n            \n            tc = new JTextPane();\n            tc.setPreferredSize(new Dimension(450, 50));\n            JScrollPane sp = new JScrollPane(tc);\n            panel.add(sp, BorderLayout.CENTER);\n            \n            return panel;\n        }\n        \n        public void repaint() {\n            p1.repaint();\n        }\n\n    }\n\n    public class MyPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private ExampleDrawingModel model;\n\n        public MyPanel(ExampleDrawingModel model) {\n            this.model = model;\n            this.setPreferredSize(new Dimension(450, 200));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2D = (Graphics2D) g;\n            paintBorder(g2D);\n            \n            for (LineSegment line : model.getLines()) {\n                Point startPoint = line.getStartPoint();\n                Point endPoint = line.getEndPoint();\n                g2D.drawLine(startPoint.x, startPoint.y, endPoint.x, endPoint.y);\n            }\n        }\n\n        private void paintBorder(Graphics2D g2D) {\n            int margin = 5;\n            int x1 = margin;\n            int x2 = getWidth() - margin;\n            int y1 = margin;\n            int y2 = getHeight() - margin;\n            \n            g2D.setStroke(new BasicStroke(3f));\n            g2D.setPaint(Color.blue);\n            g2D.drawLine(x1, y1, x1, y2);\n            g2D.drawLine(x1, y1, x2, y1);\n            g2D.drawLine(x2, y1, x2, y2);\n            g2D.drawLine(x1, y2, x2, y2);\n        }\n\n    }\n    \n    public class ExampleDrawingModel {\n        \n        private List&lt;LineSegment&gt; lines;\n        \n        public ExampleDrawingModel() {\n            this.lines = new ArrayList&lt;&gt;();\n        }\n        \n        public void readFile() {\n            this.lines.clear();\n            // Here's where you'd read a file and create a list of lines.\n            lines.add(new LineSegment(new Point(100, 100), new Point(100, 150)));\n        }\n\n        public List&lt;LineSegment&gt; getLines() {\n            return lines;\n        }\n        \n    }\n    \n    public class LineSegment {\n        \n        private final Point startPoint, endPoint;\n\n        public LineSegment(Point startPoint, Point endPoint) {\n            this.startPoint = startPoint;\n            this.endPoint = endPoint;\n        }\n\n        public Point getStartPoint() {\n            return startPoint;\n        }\n\n        public Point getEndPoint() {\n            return endPoint;\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640268000,"creation_date":1640268000,"answer_id":70463162,"question_id":70461133,"body_markdown":"\r\nFirst off, some problems with your code:\r\n\r\n```\r\nclass MyFrame extends JFrame {\r\n\r\n\t//....\r\n\r\n\tMyFrame() {\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setLayout(null);  // !! Good God, no don&#39;t do this!\r\n\t\tthis.setBounds(0, 0, 464, 312); // and don&#39;t do this\r\n```\r\n\r\nAvoid null layouts and setBounds like the plague as this makes for very inflexible GUI&#39;s that while they might look good on one platform look terrible on most other platforms or screen resolutions and that are very difficult to update and maintain. Instead you will want to study and learn the layout managers and then nest JPanels, each using its own layout manager to create pleasing and complex GUI&#39;s that look good on all OS&#39;s. \r\n\r\nAlso, don&#39;t forget to call `pack()` on your JFrame *after* adding components and before setting visible, in order for the layout managers to do their things.\r\n \r\nAnd then:\r\n\r\n```\r\nclass MyPanel extends JPanel {\r\n\t// ...\r\n\r\n\tGraphics2D g2D; //!! -- no, don&#39;t do this\r\n```\r\n\r\nIf you create a Graphics or Graphics2D field, you are tempted to use it outside of a painting method, and this is a recipe for disaster since any Graphics obtained from a component is short lived and doing this risks creating a brittle graphic or throwing a NullPointerException\r\n\r\n```\r\n    public void paint (Graphics g) {\r\n        \r\n        g2D = (Graphics2D) g;\r\n        g2D.setStroke(new BasicStroke(1));\r\n        g2D.setPaint(Color.blue);\r\n        g2D.drawLine(5, 5, 445,5);\r\n        g2D.drawLine(445, 5, 445,195);\r\n        g2D.drawLine(445, 195, 5,195);\r\n        g2D.drawLine(5, 195, 5,5);          \r\n    }\r\n```\r\n\r\nDon&#39;t override paint but rather paintComponent since this is less risky (paint has greater responsibilities that you don&#39;t want to mess with) and smoother animations if needed since paintComponent uses double buffering by default.\r\n\r\nAlso, you almost *always* should call the super&#39;s painting method in your own override, and so instead do:\r\n\r\n```\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\t// first call the super&#39;s method:\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2D = (Graphics2D) g.create();\t\t\r\n```\r\n\r\n____________________\r\n\r\nNow as for your actual problem, creating images and drawing after the GUI has been rendered, probably the easiest way to do this is to create a BufferedImage and draw with it in your GUI. You can do this easily by calling Graphics method `drawImage(...)`. And you can pass a BufferedImage into your drawing JPanel any time it is needed. So for instance, your code could look something like...\r\n\r\n\r\n\r\n\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Foo {\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\t\t\t\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\r\n\t\t\tMainPanel mainPanel = new MainPanel();\r\n\t\t\tMyMenu myMenu = new MyMenu();\r\n\t\t\tmyMenu.setMyPanel(mainPanel.getMyPanel());\r\n\t\t\tmyMenu.setMainPanel(mainPanel);\r\n\t\t\t\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.setJMenuBar(myMenu);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setResizable(false);\r\n\t\t\tframe.setLocationRelativeTo(null);\t\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass MainPanel extends JPanel {\r\n\tprivate static final int GAP = 5;\r\n\tprivate JTextArea textArea = new JTextArea(4, 40);\r\n\tprivate MyPanel myPanel = new MyPanel();\r\n\t\r\n\tpublic MainPanel() {\r\n\t\ttextArea.setFocusable(false);\r\n\t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n\t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\r\n\t\tsetLayout(new BorderLayout(GAP, GAP));\r\n\t\tadd(myPanel);\r\n\t\tadd(scrollPane, BorderLayout.PAGE_END);\r\n\t}\r\n\t\r\n\tpublic MyPanel getMyPanel() {\r\n\t\treturn myPanel;\r\n\t}\r\n\r\n\tpublic void appendTextAreaText(String text) {\r\n\t\ttextArea.append(text);\r\n\t}\r\n\t\r\n\tpublic void setBuffImg(BufferedImage bImage) {\r\n\t\tmyPanel.setBuffImg(bImage);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass MyMenu extends JMenuBar {\r\n\tprivate MainPanel mainPanel;\r\n\tprivate MyPanel myPanel;\r\n\t\r\n\tpublic MyMenu() {\r\n\t\tJMenu fm = new JMenu(&quot;File&quot;);\r\n\t\tJMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\r\n\t\tloadItem.addActionListener(e -&gt; {\r\n\t\t\t// Emulate reading file here in a background thread\r\n\t\t\t\r\n\t\t\tif (myPanel != null) {\r\n\t\t\t\tint width = MyPanel.MY_WIDTH;\r\n\t\t\t\tint height = MyPanel.MY_HEIGHT;\r\n\t\t\t\tBufferedImage bImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t\t\tGraphics2D g2 = bImg.createGraphics();\r\n\t\t\t\t\r\n\t\t\t\t// draw with g2 here using data from file\r\n\r\n\t\t\t\t// emulating this:\r\n\t\t\t\tg2.setColor(Color.RED);\r\n\t\t\t\t\r\n\t\t\t\tfloat strokeWidth = (float) (2 + 6 * Math.random());\r\n\t\t\t\tg2.setStroke(new BasicStroke(strokeWidth));\r\n\t\t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\t\r\n\t\t\t\tint x2 = (int) (MyPanel.MY_WIDTH * (1 + Math.random()) / 2);\r\n\t\t\t\tint y2 = (int) (MyPanel.MY_HEIGHT * (1 + Math.random()) / 2);\r\n\t\t\t\tg2.drawLine(5, 5, x2, y2);\r\n\t\t\t\t\r\n\t\t\t\tg2.dispose();\r\n\t\t\t\t\r\n\t\t\t\tmyPanel.setBuffImg(bImg);\r\n\t\t\t\t\r\n\t\t\t\tif (mainPanel != null) {\r\n\t\t\t\t\tmainPanel.appendTextAreaText(&quot;adding image \\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tfm.add(loadItem);\r\n\t\tadd(fm);\t\t\r\n\t}\r\n\t\r\n\tpublic void setMyPanel(MyPanel myPanel) {\r\n\t\tthis.myPanel = myPanel;\r\n\t}\r\n\t\r\n\tpublic void setMainPanel(MainPanel mainPanel) {\r\n\t\tthis.mainPanel = mainPanel;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n```\r\nclass MyPanel extends JPanel {\r\n\tprivate static final int GAP = 5;\r\n\tpublic static final int MY_WIDTH = 450;\r\n\tpublic static final int MY_HEIGHT = 200;\r\n\tprivate BufferedImage bImg = null;\r\n\r\n\t// Graphics2D g2D; //!! -- no, never do this!!\r\n\r\n\tMyPanel() {\r\n\t\t// this.setPreferredSize(new Dimension(450, 200));\r\n\t\tsetBackground(Color.WHITE);\r\n\t}\r\n\t\r\n\t// better to override getPreferredSize\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(MY_WIDTH + 2 * GAP, MY_HEIGHT + 2 * GAP);\r\n\t}\r\n\t\r\n\tpublic void setBuffImg(BufferedImage bImg) {\r\n\t\tthis.bImg = bImg;\r\n\t\trepaint();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\t// first call the super&#39;s method:\r\n\t\tsuper.paintComponent(g);\r\n\t\tif (bImg != null) {\r\n\t\t\tg.drawImage(bImg, GAP, GAP, null);\r\n\t\t}\r\n\r\n\t\tGraphics2D g2D = (Graphics2D) g.create();\r\n\t\tg2D.setStroke(new BasicStroke(1));\r\n\t\tg2D.setPaint(Color.blue);\r\n\t\tRectangle rect = new Rectangle(GAP, GAP, getWidth() - 2 * GAP, getHeight() - 2 * GAP);\r\n\t\tg2D.draw(rect);\r\n\t}\r\n\r\n\t// Don&#39;t override paint but rather paintComponent\r\n\t// public void paint (Graphics g) {\r\n\r\n}\r\n```","title":"Add new data to Graphics2D panel in a Java Swing application","body":"<p>First off, some problems with your code:</p>\n<pre><code>class MyFrame extends JFrame {\n\n    //....\n\n    MyFrame() {\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(null);  // !! Good God, no don't do this!\n        this.setBounds(0, 0, 464, 312); // and don't do this\n</code></pre>\n<p>Avoid null layouts and setBounds like the plague as this makes for very inflexible GUI's that while they might look good on one platform look terrible on most other platforms or screen resolutions and that are very difficult to update and maintain. Instead you will want to study and learn the layout managers and then nest JPanels, each using its own layout manager to create pleasing and complex GUI's that look good on all OS's.</p>\n<p>Also, don't forget to call <code>pack()</code> on your JFrame <em>after</em> adding components and before setting visible, in order for the layout managers to do their things.</p>\n<p>And then:</p>\n<pre><code>class MyPanel extends JPanel {\n    // ...\n\n    Graphics2D g2D; //!! -- no, don't do this\n</code></pre>\n<p>If you create a Graphics or Graphics2D field, you are tempted to use it outside of a painting method, and this is a recipe for disaster since any Graphics obtained from a component is short lived and doing this risks creating a brittle graphic or throwing a NullPointerException</p>\n<pre><code>    public void paint (Graphics g) {\n        \n        g2D = (Graphics2D) g;\n        g2D.setStroke(new BasicStroke(1));\n        g2D.setPaint(Color.blue);\n        g2D.drawLine(5, 5, 445,5);\n        g2D.drawLine(445, 5, 445,195);\n        g2D.drawLine(445, 195, 5,195);\n        g2D.drawLine(5, 195, 5,5);          \n    }\n</code></pre>\n<p>Don't override paint but rather paintComponent since this is less risky (paint has greater responsibilities that you don't want to mess with) and smoother animations if needed since paintComponent uses double buffering by default.</p>\n<p>Also, you almost <em>always</em> should call the super's painting method in your own override, and so instead do:</p>\n<pre><code>    @Override\n    protected void paintComponent(Graphics g) {\n        // first call the super's method:\n        super.paintComponent(g);\n        Graphics2D g2D = (Graphics2D) g.create();       \n</code></pre>\n<hr />\n<p>Now as for your actual problem, creating images and drawing after the GUI has been rendered, probably the easiest way to do this is to create a BufferedImage and draw with it in your GUI. You can do this easily by calling Graphics method <code>drawImage(...)</code>. And you can pass a BufferedImage into your drawing JPanel any time it is needed. So for instance, your code could look something like...</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.*;\n\npublic class Foo {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {          \n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            MainPanel mainPanel = new MainPanel();\n            MyMenu myMenu = new MyMenu();\n            myMenu.setMyPanel(mainPanel.getMyPanel());\n            myMenu.setMainPanel(mainPanel);\n            \n            frame.add(mainPanel);\n            frame.setJMenuBar(myMenu);\n            frame.pack();\n            frame.setResizable(false);\n            frame.setLocationRelativeTo(null);  \n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<pre><code>class MainPanel extends JPanel {\n    private static final int GAP = 5;\n    private JTextArea textArea = new JTextArea(4, 40);\n    private MyPanel myPanel = new MyPanel();\n    \n    public MainPanel() {\n        textArea.setFocusable(false);\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        \n        setBorder(BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP));\n        setLayout(new BorderLayout(GAP, GAP));\n        add(myPanel);\n        add(scrollPane, BorderLayout.PAGE_END);\n    }\n    \n    public MyPanel getMyPanel() {\n        return myPanel;\n    }\n\n    public void appendTextAreaText(String text) {\n        textArea.append(text);\n    }\n    \n    public void setBuffImg(BufferedImage bImage) {\n        myPanel.setBuffImg(bImage);\n    }\n}\n</code></pre>\n<pre><code>class MyMenu extends JMenuBar {\n    private MainPanel mainPanel;\n    private MyPanel myPanel;\n    \n    public MyMenu() {\n        JMenu fm = new JMenu(&quot;File&quot;);\n        JMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\n        loadItem.addActionListener(e -&gt; {\n            // Emulate reading file here in a background thread\n            \n            if (myPanel != null) {\n                int width = MyPanel.MY_WIDTH;\n                int height = MyPanel.MY_HEIGHT;\n                BufferedImage bImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n                Graphics2D g2 = bImg.createGraphics();\n                \n                // draw with g2 here using data from file\n\n                // emulating this:\n                g2.setColor(Color.RED);\n                \n                float strokeWidth = (float) (2 + 6 * Math.random());\n                g2.setStroke(new BasicStroke(strokeWidth));\n                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n                \n                int x2 = (int) (MyPanel.MY_WIDTH * (1 + Math.random()) / 2);\n                int y2 = (int) (MyPanel.MY_HEIGHT * (1 + Math.random()) / 2);\n                g2.drawLine(5, 5, x2, y2);\n                \n                g2.dispose();\n                \n                myPanel.setBuffImg(bImg);\n                \n                if (mainPanel != null) {\n                    mainPanel.appendTextAreaText(&quot;adding image \\n&quot;);\n                }\n                \n            }\n        });\n        fm.add(loadItem);\n        add(fm);        \n    }\n    \n    public void setMyPanel(MyPanel myPanel) {\n        this.myPanel = myPanel;\n    }\n    \n    public void setMainPanel(MainPanel mainPanel) {\n        this.mainPanel = mainPanel;\n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>class MyPanel extends JPanel {\n    private static final int GAP = 5;\n    public static final int MY_WIDTH = 450;\n    public static final int MY_HEIGHT = 200;\n    private BufferedImage bImg = null;\n\n    // Graphics2D g2D; //!! -- no, never do this!!\n\n    MyPanel() {\n        // this.setPreferredSize(new Dimension(450, 200));\n        setBackground(Color.WHITE);\n    }\n    \n    // better to override getPreferredSize\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(MY_WIDTH + 2 * GAP, MY_HEIGHT + 2 * GAP);\n    }\n    \n    public void setBuffImg(BufferedImage bImg) {\n        this.bImg = bImg;\n        repaint();\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        // first call the super's method:\n        super.paintComponent(g);\n        if (bImg != null) {\n            g.drawImage(bImg, GAP, GAP, null);\n        }\n\n        Graphics2D g2D = (Graphics2D) g.create();\n        g2D.setStroke(new BasicStroke(1));\n        g2D.setPaint(Color.blue);\n        Rectangle rect = new Rectangle(GAP, GAP, getWidth() - 2 * GAP, getHeight() - 2 * GAP);\n        g2D.draw(rect);\n    }\n\n    // Don't override paint but rather paintComponent\n    // public void paint (Graphics g) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":23727968,"reputation":13,"user_id":17747632,"display_name":"xpsion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70463046,"answer_count":2,"score":1,"last_activity_date":1640328414,"creation_date":1640256897,"question_id":70461133,"body_markdown":"I am writing a Java Swing application for data processing.\r\none of the functions I need to add is to visualize the data in a graphical way.\r\nFor this I want to use the Graphics2D class.\r\n\r\nI have a GUI created, integrated my program and also a panel that draws the graphics using the Graphics2D class.\r\n\r\nBut my problem is that I can&#39;t figure out how to call the drawLine method after selecting and loading a file from the GUI\r\n\r\nBelow is short code example, showing my issue.\r\nIt just contains a basic GUI with 2 panels and a menu with load option to explain my problem:\r\n\r\nIn de MyFrame.java file, I put a comment at line 87 to show exactly where I am stuck.\r\n\r\nThe appl is based on 3 files:\r\nmain: here it creates an instance of MyFrame of the GUI\r\nMyframe: creates the GUI and further process of data\r\nMyPanel: makes a Jpanel of the Graphics2D with a base blue rectangle frame as start view.\r\n\r\nIf Anyone could give me a hint on how to call this drawLine method from outside the MyFrame() constructor...\r\n\r\nI still don&#39;t fully understand the whole point on how to interact between classes...\r\n\r\nhere is a picture of what the GUI looks:\r\n\r\n![enter image description here][1]\r\n\r\nThank you for helping me on this\r\n\r\n\r\n``` lang-java\r\npublic class main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MyFrame();\t\t\t\t\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n2. MyFrame.java:\r\n\r\n``` lang-java\r\npublic class MyFrame extends JFrame {\r\n\r\n\tJTextComponent tc;\r\n\tString fileName;\r\n\t\r\n\tMyFrame() {\r\n\t this.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n\t this.setLayout(null);\r\n\t this.setBounds(0,0,464,312);\r\n\t \r\n\t tc = new JTextPane();\r\n\t tc.setBounds(0,520,450,50);\r\n\t tc.setPreferredSize(new Dimension(450,50));\r\n\t \r\n\t JScrollPane sp = new JScrollPane(tc);\r\n\t \r\n\t JMenuBar mb = new JMenuBar();\r\n\t JMenu fm = new JMenu(&quot;File&quot;);\r\n\t JMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\r\n\t   loadItem.addActionListener(e -&gt; {tc.setText(&quot;loading&quot;+&quot;\\n&quot;);\r\n\t   \t\t\t\t\t\t\t\t\tSDprocess();});\r\n\t   fm.add(loadItem);\r\n\t   mb.add(fm);\r\n\t   \r\n\t MyPanel p1 = new MyPanel();\r\n\t   p1.setBounds(0,0,450,200);\r\n\t   p1.setPreferredSize(new Dimension(450,200));\r\n\t   \r\n\t JPanel p2 = new JPanel();\r\n\t   p2.setBounds(0,200,450,50);\r\n\t   p2.setPreferredSize(new Dimension(450,50));\r\n\t   p2.add(sp);\r\n\t   \r\n\t this.setJMenuBar(mb);  \r\n\t this.add(p1);\r\n\t this.add(p2);\r\n\t this.setResizable(false);\r\n\t this.setVisible(true); \r\n\t}\r\n\t\r\n\t\r\n\tpublic void SDprocess() {\r\n\t\r\n\t\tFile fr = null;\r\n\t\r\n\t\tJFileChooser fc = new JFileChooser();\r\n\t\tint result = fc.showOpenDialog(this);\r\n\t   if (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\r\n\t\t\tfr = fc.getSelectedFile();\r\n\t\t\tfileName=fr.getName();\t\t\t\t\t\r\n\t\t\tSystem.out.println(fileName);\r\n\t\t}\t\r\n\t\ttry {\r\n\t\t\tScanner sc = new Scanner(fr);\r\n\t\t\t\ttc.setText(fileName +&quot; loading\\n&quot;);\r\n\t\t\twhile (sc.hasNextLine()) {\r\n\t\t\t\tString line = sc.nextLine();\r\n\t\t\t\t\r\n\t\t\t// ...\r\n\t\t\t// rest of code to get the x and y data for drawing\r\n\t\t\t// lines using  drawLine(x1,y1,x2,y2) method. \r\n\t\t    //\r\n\t\t\t// at this point I need to call this drawLine method but how ???\r\n\t\t\t// i just don&#39;t know how to call this method from this point and how to \r\n\t\t\t// and update the graphics panel p1 after adding the data....\r\n\t\t\t}\r\n\t\tsc.close();\r\n\t\t} catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\t\r\n}\r\n```\r\n\r\n\r\n3. MyPanel.java:\r\n\r\n``` lang-java\r\npublic class MyPanel extends JPanel {\r\n\r\n\tGraphics2D g2D;\r\n\t\r\n\tMyPanel() {\r\n\t\tthis.setPreferredSize(new Dimension (450,200));\r\n\t}\r\n    public void paint (Graphics g) {\r\n\t\t\r\n\t\tg2D = (Graphics2D) g;\r\n\t\tg2D.setStroke(new BasicStroke(1));\r\n\t\tg2D.setPaint(Color.blue);\r\n\t\tg2D.drawLine(5, 5, 445,5);\r\n\t\tg2D.drawLine(445, 5, 445,195);\r\n\t\tg2D.drawLine(445, 195, 5,195);\r\n\t\tg2D.drawLine(5, 195, 5,5);\t\t\t\r\n\t}\t\r\n}\r\n```\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vRjHR.png","title":"Add new data to Graphics2D panel in a Java Swing application","body":"<p>I am writing a Java Swing application for data processing.\none of the functions I need to add is to visualize the data in a graphical way.\nFor this I want to use the Graphics2D class.</p>\n<p>I have a GUI created, integrated my program and also a panel that draws the graphics using the Graphics2D class.</p>\n<p>But my problem is that I can't figure out how to call the drawLine method after selecting and loading a file from the GUI</p>\n<p>Below is short code example, showing my issue.\nIt just contains a basic GUI with 2 panels and a menu with load option to explain my problem:</p>\n<p>In de MyFrame.java file, I put a comment at line 87 to show exactly where I am stuck.</p>\n<p>The appl is based on 3 files:\nmain: here it creates an instance of MyFrame of the GUI\nMyframe: creates the GUI and further process of data\nMyPanel: makes a Jpanel of the Graphics2D with a base blue rectangle frame as start view.</p>\n<p>If Anyone could give me a hint on how to call this drawLine method from outside the MyFrame() constructor...</p>\n<p>I still don't fully understand the whole point on how to interact between classes...</p>\n<p>here is a picture of what the GUI looks:</p>\n<p><img src=\"https://i.stack.imgur.com/vRjHR.png\" alt=\"enter image description here\" /></p>\n<p>Thank you for helping me on this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class main {\n\n    public static void main(String[] args) {\n        new MyFrame();                      \n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>MyFrame.java:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFrame extends JFrame {\n\n    JTextComponent tc;\n    String fileName;\n    \n    MyFrame() {\n     this.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n     this.setLayout(null);\n     this.setBounds(0,0,464,312);\n     \n     tc = new JTextPane();\n     tc.setBounds(0,520,450,50);\n     tc.setPreferredSize(new Dimension(450,50));\n     \n     JScrollPane sp = new JScrollPane(tc);\n     \n     JMenuBar mb = new JMenuBar();\n     JMenu fm = new JMenu(&quot;File&quot;);\n     JMenuItem loadItem = new JMenuItem(&quot;Load file&quot;);\n       loadItem.addActionListener(e -&gt; {tc.setText(&quot;loading&quot;+&quot;\\n&quot;);\n                                        SDprocess();});\n       fm.add(loadItem);\n       mb.add(fm);\n       \n     MyPanel p1 = new MyPanel();\n       p1.setBounds(0,0,450,200);\n       p1.setPreferredSize(new Dimension(450,200));\n       \n     JPanel p2 = new JPanel();\n       p2.setBounds(0,200,450,50);\n       p2.setPreferredSize(new Dimension(450,50));\n       p2.add(sp);\n       \n     this.setJMenuBar(mb);  \n     this.add(p1);\n     this.add(p2);\n     this.setResizable(false);\n     this.setVisible(true); \n    }\n    \n    \n    public void SDprocess() {\n    \n        File fr = null;\n    \n        JFileChooser fc = new JFileChooser();\n        int result = fc.showOpenDialog(this);\n       if (result == JFileChooser.APPROVE_OPTION) {\n            \n            fr = fc.getSelectedFile();\n            fileName=fr.getName();                  \n            System.out.println(fileName);\n        }   \n        try {\n            Scanner sc = new Scanner(fr);\n                tc.setText(fileName +&quot; loading\\n&quot;);\n            while (sc.hasNextLine()) {\n                String line = sc.nextLine();\n                \n            // ...\n            // rest of code to get the x and y data for drawing\n            // lines using  drawLine(x1,y1,x2,y2) method. \n            //\n            // at this point I need to call this drawLine method but how ???\n            // i just don't know how to call this method from this point and how to \n            // and update the graphics panel p1 after adding the data....\n            }\n        sc.close();\n        } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }   \n}\n</code></pre>\n<ol start=\"3\">\n<li>MyPanel.java:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyPanel extends JPanel {\n\n    Graphics2D g2D;\n    \n    MyPanel() {\n        this.setPreferredSize(new Dimension (450,200));\n    }\n    public void paint (Graphics g) {\n        \n        g2D = (Graphics2D) g;\n        g2D.setStroke(new BasicStroke(1));\n        g2D.setPaint(Color.blue);\n        g2D.drawLine(5, 5, 445,5);\n        g2D.drawLine(445, 5, 445,195);\n        g2D.drawLine(445, 195, 5,195);\n        g2D.drawLine(5, 195, 5,5);          \n    }   \n}\n</code></pre>\n"},{"tags":["java","xml","jackson","hashmap","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1576583452,"creation_date":1576583452,"answer_id":59373684,"question_id":59356720,"body_markdown":"You need to implement custom serialiser to write `Map` entry like this. Example implementation:\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n    import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class XmlApp {\r\n        public static void main(String[] args) throws IOException {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n            map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n    \r\n            Application app = new Application();\r\n            app.setEntry(map);\r\n    \r\n            // xml output format\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n            System.out.println(xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(app));\r\n        }\r\n    }\r\n    \r\n    @JacksonXmlRootElement(localName = &quot;headers&quot;)\r\n    @JsonSerialize(using = ApplicationJsonSerializer.class)\r\n    class Application {\r\n    \r\n        private Map&lt;String, Object&gt; entry;\r\n    \r\n        public Map&lt;String, Object&gt; getEntry() {\r\n            return Collections.unmodifiableMap(entry);\r\n        }\r\n    \r\n        public void setEntry(Map&lt;String, Object&gt; entry) {\r\n            this.entry = entry;\r\n        }\r\n    }\r\n    \r\n    class ApplicationJsonSerializer extends JsonSerializer&lt;Application&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Application value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            ToXmlGenerator xmlGen = (ToXmlGenerator) gen;\r\n            xmlGen.writeStartObject();\r\n            for (Map.Entry&lt;String, Object&gt; entry : value.getEntry().entrySet()) {\r\n                xmlGen.writeObjectFieldStart(&quot;entry&quot;);\r\n                writeAttributes(xmlGen, entry.getKey());\r\n                xmlGen.writeRaw(entry.getValue().toString());\r\n                xmlGen.writeEndObject();\r\n            }\r\n            xmlGen.writeEndObject();\r\n        }\r\n    \r\n        private void writeAttributes(ToXmlGenerator gen, String key) throws IOException {\r\n            gen.setNextIsAttribute(true);\r\n            gen.writeFieldName(&quot;key&quot;);\r\n            gen.writeString(key);\r\n            gen.setNextIsAttribute(false);\r\n        }\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;headers&gt;\r\n      &lt;entry key=&quot;key1&quot;&gt;value1&lt;/entry&gt;\r\n      &lt;entry key=&quot;key2&quot;&gt;value2&lt;/entry&gt;\r\n    &lt;/headers&gt;","title":"Coverting a Java Map to XML using Jackson library","body":"<p>You need to implement custom serialiser to write <code>Map</code> entry like this. Example implementation:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\nimport com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\n\nimport java.io.IOException;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class XmlApp {\n    public static void main(String[] args) throws IOException {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(\"key1\", \"value1\");\n        map.put(\"key2\", \"value2\");\n\n        Application app = new Application();\n        app.setEntry(map);\n\n        // xml output format\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n        System.out.println(xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(app));\n    }\n}\n\n@JacksonXmlRootElement(localName = \"headers\")\n@JsonSerialize(using = ApplicationJsonSerializer.class)\nclass Application {\n\n    private Map&lt;String, Object&gt; entry;\n\n    public Map&lt;String, Object&gt; getEntry() {\n        return Collections.unmodifiableMap(entry);\n    }\n\n    public void setEntry(Map&lt;String, Object&gt; entry) {\n        this.entry = entry;\n    }\n}\n\nclass ApplicationJsonSerializer extends JsonSerializer&lt;Application&gt; {\n\n    @Override\n    public void serialize(Application value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        ToXmlGenerator xmlGen = (ToXmlGenerator) gen;\n        xmlGen.writeStartObject();\n        for (Map.Entry&lt;String, Object&gt; entry : value.getEntry().entrySet()) {\n            xmlGen.writeObjectFieldStart(\"entry\");\n            writeAttributes(xmlGen, entry.getKey());\n            xmlGen.writeRaw(entry.getValue().toString());\n            xmlGen.writeEndObject();\n        }\n        xmlGen.writeEndObject();\n    }\n\n    private void writeAttributes(ToXmlGenerator gen, String key) throws IOException {\n        gen.setNextIsAttribute(true);\n        gen.writeFieldName(\"key\");\n        gen.writeString(key);\n        gen.setNextIsAttribute(false);\n    }\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;headers&gt;\n  &lt;entry key=\"key1\"&gt;value1&lt;/entry&gt;\n  &lt;entry key=\"key2\"&gt;value2&lt;/entry&gt;\n&lt;/headers&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110362,"reputation":1148,"user_id":292049,"accept_rate":45,"display_name":"user292049"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576781213,"creation_date":1576780664,"answer_id":59415246,"question_id":59356720,"body_markdown":"I found another solution\r\n\r\n```\r\nimport org.apache.camel.Body;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Handler;\r\nimport org.apache.camel.Headers;\r\n\r\nimport lombok.Data;\r\nimport lombok.Setter;\r\n\r\n....\r\n\r\n    @Override\r\n    @Handler\r\n    public void record(Exchange exchange, @Headers Map&lt;String, Object&gt; headers, @Body String payload) {\r\n\r\n     XmlMapper xmlMapper = new XmlMapper(); // XmlMapper is the main class from Jackson 2.x that helps us in serialization\r\n\r\n        // Convert Camel headers HashMap to xml format\r\n        String headersXml = &quot;&quot;;\r\n        try {\r\n            MessageMapHolder messageMapHolder = new MessageMapHolder(headers);\r\n            headersXml = xmlMapper.writeValueAsString(messageMapHolder);\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Error during xml serialization&quot;, e);\r\n        }\r\n ....\r\n}\r\n```\r\n\r\n```\r\n    /**\r\n     * Serialise to write Map entry into the below structure\r\n     * e.g.\r\n     * &lt;headers&gt;\r\n     * &lt;entry key=&quot;key1&quot;&gt;value1&lt;/entry&gt;\r\n     * &lt;entry key=&quot;key2&quot;&gt;value2&lt;/entry&gt;\r\n     * &lt;/headers&gt;\r\n     */\r\n    @JacksonXmlRootElement(localName = &quot;headers&quot;)\r\n    @Data\r\n    private static class MessageMapHolder {\r\n\r\n        @Setter\r\n        @JacksonXmlProperty(localName = &quot;entry&quot;)\r\n        private List&lt;Entry&gt; entries;\r\n\r\n        MessageMapHolder(Map&lt;String, Object&gt; headers) {\r\n            try {\r\n                entries = new ArrayList&lt;&gt;();\r\n                headers.forEach((k, v) -&gt; {\r\n                    entries.add(new Entry(k, String.valueOf(v)));\r\n                });\r\n            } catch (Exception e) {\r\n                log.warn(&quot;Error in converting Camel Header to String: {}&quot;, e.getMessage());\r\n            }\r\n        }\r\n\r\n        @Data\r\n        @AllArgsConstructor\r\n        private static class Entry {\r\n            @JacksonXmlProperty(isAttribute = true)\r\n            private String key;\r\n\r\n            @JacksonXmlText\r\n            private String value;\r\n        }\r\n    }\r\n```","title":"Coverting a Java Map to XML using Jackson library","body":"<p>I found another solution</p>\n\n<pre><code>import org.apache.camel.Body;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Handler;\nimport org.apache.camel.Headers;\n\nimport lombok.Data;\nimport lombok.Setter;\n\n....\n\n    @Override\n    @Handler\n    public void record(Exchange exchange, @Headers Map&lt;String, Object&gt; headers, @Body String payload) {\n\n     XmlMapper xmlMapper = new XmlMapper(); // XmlMapper is the main class from Jackson 2.x that helps us in serialization\n\n        // Convert Camel headers HashMap to xml format\n        String headersXml = \"\";\n        try {\n            MessageMapHolder messageMapHolder = new MessageMapHolder(headers);\n            headersXml = xmlMapper.writeValueAsString(messageMapHolder);\n        } catch (JsonProcessingException e) {\n            log.error(\"Error during xml serialization\", e);\n        }\n ....\n}\n</code></pre>\n\n<pre><code>    /**\n     * Serialise to write Map entry into the below structure\n     * e.g.\n     * &lt;headers&gt;\n     * &lt;entry key=\"key1\"&gt;value1&lt;/entry&gt;\n     * &lt;entry key=\"key2\"&gt;value2&lt;/entry&gt;\n     * &lt;/headers&gt;\n     */\n    @JacksonXmlRootElement(localName = \"headers\")\n    @Data\n    private static class MessageMapHolder {\n\n        @Setter\n        @JacksonXmlProperty(localName = \"entry\")\n        private List&lt;Entry&gt; entries;\n\n        MessageMapHolder(Map&lt;String, Object&gt; headers) {\n            try {\n                entries = new ArrayList&lt;&gt;();\n                headers.forEach((k, v) -&gt; {\n                    entries.add(new Entry(k, String.valueOf(v)));\n                });\n            } catch (Exception e) {\n                log.warn(\"Error in converting Camel Header to String: {}\", e.getMessage());\n            }\n        }\n\n        @Data\n        @AllArgsConstructor\n        private static class Entry {\n            @JacksonXmlProperty(isAttribute = true)\n            private String key;\n\n            @JacksonXmlText\n            private String value;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":110362,"reputation":1148,"user_id":292049,"accept_rate":45,"display_name":"user292049"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4421,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59373684,"answer_count":2,"score":5,"last_activity_date":1640327580,"creation_date":1576499583,"question_id":59356720,"body_markdown":"How do I convert a Java `Map` to XML using Jackson?\r\n\r\nVersion:\r\n\r\n```\r\n&#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.9.8&#39;\r\n```\r\n\r\nCode:\r\n\r\n``` java\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n\r\npublic class MainApp {\r\n\t\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n        map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n        map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        Application app = new Application();\r\n        app.setEntry(map);\r\n\r\n        // xml output format\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n        System.out.println(xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(app));\r\n\r\n    }\r\n\t\r\n    @JacksonXmlRootElement(localName = &quot;headers&quot;)\r\n    public static class Application {\r\n\r\n        private Map&lt;String, Object&gt; entry;\r\n\r\n        public Map&lt;String, Object&gt; getEntry() {\r\n            return Collections.unmodifiableMap(entry);\r\n        }\r\n\r\n        public void setEntry(Map&lt;String, Object&gt; entry) {\r\n            this.entry = entry;\r\n        }\r\n    }\t\r\n\t\r\n}\r\n```\r\n\r\nActual output:\r\n\r\n``` xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;headers&gt;\r\n  &lt;entry&gt;\r\n    &lt;key1&gt;value1&lt;/key1&gt;\r\n    &lt;key2&gt;value2&lt;/key2&gt;\r\n  &lt;/entry&gt;\r\n&lt;/headers&gt;\r\n```\r\n\r\nDesired output:\r\n\r\n``` xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;headers&gt;\r\n    &lt;entry key=&quot;key1&quot;&gt;value1&lt;/entry&gt;\r\n    &lt;entry key=&quot;key2&quot;&gt;value2&lt;/entry&gt;\r\n&lt;/headers&gt;\r\n```\r\n\r\n","title":"Coverting a Java Map to XML using Jackson library","body":"<p>How do I convert a Java <code>Map</code> to XML using Jackson?</p>\n<p>Version:</p>\n<pre><code>'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.9.8'\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\npublic class MainApp {\n    \n    public static void main(String[] args) throws JsonProcessingException {\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        map.put(&quot;key1&quot;, &quot;value1&quot;);\n        map.put(&quot;key2&quot;, &quot;value2&quot;);\n\n        Application app = new Application();\n        app.setEntry(map);\n\n        // xml output format\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n        System.out.println(xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(app));\n\n    }\n    \n    @JacksonXmlRootElement(localName = &quot;headers&quot;)\n    public static class Application {\n\n        private Map&lt;String, Object&gt; entry;\n\n        public Map&lt;String, Object&gt; getEntry() {\n            return Collections.unmodifiableMap(entry);\n        }\n\n        public void setEntry(Map&lt;String, Object&gt; entry) {\n            this.entry = entry;\n        }\n    }   \n    \n}\n</code></pre>\n<p>Actual output:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;headers&gt;\n  &lt;entry&gt;\n    &lt;key1&gt;value1&lt;/key1&gt;\n    &lt;key2&gt;value2&lt;/key2&gt;\n  &lt;/entry&gt;\n&lt;/headers&gt;\n</code></pre>\n<p>Desired output:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;headers&gt;\n    &lt;entry key=&quot;key1&quot;&gt;value1&lt;/entry&gt;\n    &lt;entry key=&quot;key2&quot;&gt;value2&lt;/entry&gt;\n&lt;/headers&gt;\n</code></pre>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640327264,"creation_date":1640327264,"answer_id":70470154,"question_id":70470047,"body_markdown":"TL;DR: there is no single thing which can fix this error. If it can be fixed and how depends on the (missing) details.\r\n\r\nThis error means that the server closed the connection. If this error occurs only from time to time with the same server there is nothing you can do except accepting that the server sometimes behaves this way, i.e. catch the error and treat the connection as failed. Such problems can happen for a variety of reasons, like temporary malfunction of the server or server-side rejecting connections due to server overload.\r\n\r\nIf it happens systematically with specific servers on has to debug this specific problem - there might be ways to fix it by adjusting how the client communicates with the server or there might be not. More details are needed to find out.\r\n","title":"how to fix ssl exception on java 11 when it come randomly","body":"<p>TL;DR: there is no single thing which can fix this error. If it can be fixed and how depends on the (missing) details.</p>\n<p>This error means that the server closed the connection. If this error occurs only from time to time with the same server there is nothing you can do except accepting that the server sometimes behaves this way, i.e. catch the error and treat the connection as failed. Such problems can happen for a variety of reasons, like temporary malfunction of the server or server-side rejecting connections due to server overload.</p>\n<p>If it happens systematically with specific servers on has to debug this specific problem - there might be ways to fix it by adjusting how the client communicates with the server or there might be not. More details are needed to find out.</p>\n"}],"owner":{"account_id":23373138,"reputation":35,"user_id":17443634,"display_name":"jujil lokoko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640327264,"creation_date":1640326288,"question_id":70470047,"body_markdown":"hi guys i have problem for hit endpoint use ssl\r\n\r\nwhy on java 11 randomly give sslexception when we hit endpoint https ?\r\n\r\n    error javax.net.ssl.SSLException: Connection reset\r\n\r\nhow to fix this issue ? i have try add some code like this\r\n\r\n   System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);\r\n\r\nbut still getting the issue","title":"how to fix ssl exception on java 11 when it come randomly","body":"<p>hi guys i have problem for hit endpoint use ssl</p>\n<p>why on java 11 randomly give sslexception when we hit endpoint https ?</p>\n<pre><code>error javax.net.ssl.SSLException: Connection reset\n</code></pre>\n<p>how to fix this issue ? i have try add some code like this</p>\n<p>System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);</p>\n<p>but still getting the issue</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1640223249,"post_id":70456792,"comment_id":124546804,"body_markdown":"You should to the `else` case first, checking if `current.getNext() == null`. That avoids the NPE.","body":"You should to the <code>else</code> case first, checking if <code>current.getNext() == null</code>. That avoids the NPE."}],"answers":[{"tags":[],"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640326149,"creation_date":1640264148,"answer_id":70462428,"question_id":70456792,"body_markdown":"Modified the initial suggestion, just check the head node first and if that is the one to be removed, make the change to the `head` and exit the function. The rest of the flow will take care of removing at any other location in the list.\r\n\r\n```\r\npublic Book remove(Book bookToRemove)\r\n{\r\n    Node current = head; //each Node stores a Book\r\n\r\n    if(isEmpty())\r\n\t{\r\n        System.out.println(&quot;No books to remove!&quot;);\r\n        return bookToRemove;   //no need to continue\r\n    }\r\n\r\n    if(current.getBook().equals(bookToRemove))\r\n    {\r\n      //found in head itself, make new head and exit\r\n      head = current.getNext();\r\n      return bookToRemove;\r\n    }\r\n    while(current.getNext() != null &amp;&amp; !isEmpty())\r\n\t{\r\n        if(current.getNext().getBook().equals(bookToRemove))\r\n\t\t{\r\n            Node temp = current.getNext();\r\n            current.setNext(temp.getNext());\r\n            return bookToRemove;\r\n        }        \r\n        current = current.getNext();\r\n    }\r\n    return bookToRemove;\r\n}\r\n```","title":"Removing the last object in a node in a manual linked list implementation","body":"<p>Modified the initial suggestion, just check the head node first and if that is the one to be removed, make the change to the <code>head</code> and exit the function. The rest of the flow will take care of removing at any other location in the list.</p>\n<pre><code>public Book remove(Book bookToRemove)\n{\n    Node current = head; //each Node stores a Book\n\n    if(isEmpty())\n    {\n        System.out.println(&quot;No books to remove!&quot;);\n        return bookToRemove;   //no need to continue\n    }\n\n    if(current.getBook().equals(bookToRemove))\n    {\n      //found in head itself, make new head and exit\n      head = current.getNext();\n      return bookToRemove;\n    }\n    while(current.getNext() != null &amp;&amp; !isEmpty())\n    {\n        if(current.getNext().getBook().equals(bookToRemove))\n        {\n            Node temp = current.getNext();\n            current.setNext(temp.getNext());\n            return bookToRemove;\n        }        \n        current = current.getNext();\n    }\n    return bookToRemove;\n}\n</code></pre>\n"}],"owner":{"display_name":"user17618436"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70462428,"answer_count":1,"score":0,"last_activity_date":1640326781,"creation_date":1640222786,"question_id":70456792,"body_markdown":"My current implementation of the removal operation of linked lists only works when the Node to be removed is not at the end of the list. I need the previous Node to now point to null, instead of pointing to the last Node, in order for it to be deleted. Instead of throwing a NullPointerException, the remove operation for the last Node just keeps the list as is. How would I change the `else if` condition to reflect this?\r\n\r\n    public Book remove(Book bookToRemove){\r\n\r\n        Node current = head; //each Node stores a Book\r\n\r\n        if(isEmpty()){\r\n            System.out.println(&quot;No books to remove!&quot;);\r\n        }\r\n        \r\n        //what happens if the next next one is null?\r\n        while(current.getNext() != null &amp;&amp; !isEmpty()){\r\n            if(current.getNext().getBook().equals(bookToRemove)){\r\n                Node temp = current.getNext();\r\n                current.setNext(temp.getNext());\r\n                return bookToRemove;\r\n            }\r\n\r\n            \r\n            else if(current.getNext() == null){ //\r\n                //if the next node is null, it cannot be removed, or the previous node will have nothing to point to\r\n                current.setNext(null);\r\n                return bookToRemove;\r\n            }\r\n\r\n            current = current.getNext();\r\n        }\r\n\r\n        return bookToRemove;\r\n    }","title":"Removing the last object in a node in a manual linked list implementation","body":"<p>My current implementation of the removal operation of linked lists only works when the Node to be removed is not at the end of the list. I need the previous Node to now point to null, instead of pointing to the last Node, in order for it to be deleted. Instead of throwing a NullPointerException, the remove operation for the last Node just keeps the list as is. How would I change the <code>else if</code> condition to reflect this?</p>\n<pre><code>public Book remove(Book bookToRemove){\n\n    Node current = head; //each Node stores a Book\n\n    if(isEmpty()){\n        System.out.println(&quot;No books to remove!&quot;);\n    }\n    \n    //what happens if the next next one is null?\n    while(current.getNext() != null &amp;&amp; !isEmpty()){\n        if(current.getNext().getBook().equals(bookToRemove)){\n            Node temp = current.getNext();\n            current.setNext(temp.getNext());\n            return bookToRemove;\n        }\n\n        \n        else if(current.getNext() == null){ //\n            //if the next node is null, it cannot be removed, or the previous node will have nothing to point to\n            current.setNext(null);\n            return bookToRemove;\n        }\n\n        current = current.getNext();\n    }\n\n    return bookToRemove;\n}\n</code></pre>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539572448,"post_id":52809099,"comment_id":92536383,"body_markdown":"The `Spring` object could be configured from a xml file.  Very useful if you want to change values e.g. for a DB Connection or some other configuration Object","body":"The <code>Spring</code> object could be configured from a xml file.  Very useful if you want to change values e.g. for a DB Connection or some other configuration Object"},{"owner":{"account_id":14040809,"reputation":43,"user_id":10142269,"display_name":"Honey Preet"},"score":0,"creation_date":1539572740,"post_id":52809099,"comment_id":92536454,"body_markdown":"I want to use annotations not spring.xml file.","body":"I want to use annotations not spring.xml file."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539576399,"post_id":52809099,"comment_id":92537155,"body_markdown":"`Hello h=ct.getBean(&quot;h&quot;,Hello.class);`  - what is wrong with this?  Also search for bean injection","body":"<code>Hello h=ct.getBean(&quot;h&quot;,Hello.class);</code>  - what is wrong with this?  Also search for bean injection"},{"owner":{"account_id":14040809,"reputation":43,"user_id":10142269,"display_name":"Honey Preet"},"score":0,"creation_date":1539577652,"post_id":52809099,"comment_id":92537426,"body_markdown":"see the code in AppConfig class.","body":"see the code in AppConfig class."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539577788,"post_id":52809099,"comment_id":92537459,"body_markdown":"You should not create the class using `new` - see autowired or use the same method as per your `main`","body":"You should not create the class using <code>new</code> - see autowired or use the same method as per your <code>main</code>"}],"answers":[{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539586625,"creation_date":1539577420,"answer_id":52809736,"question_id":52809099,"body_markdown":"***Edit***  when you use `@Component(&quot;h&quot;)` , you are creating a bean with name h with certain properties defined in Hello class. So you don&#39;t need Appconfig class. And also you should not try to change beans properties (like setGender) elsewhere except in Hello class.\r\nSo when should i use config class? When you dont mark Hello class as bean(i.e dont use component annotation). You create a Hello class object, set certain properties and mark it as a bean(using @bean).\r\n\r\n\r\n\r\n\r\n\r\nNo you don&#39;t have to create object by yourself.\r\nMark Hello class as `@Component(&quot;h&quot;)` and you can get the bean directly using `Hello h=ct.getBean(&quot;h&quot;,Hello.class);` .\r\n\r\nYou can also use [Autowired][1] annotation to get your bean anywhere and do whatever you want to.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-autowire","title":"Creating object using spring annotations","body":"<p><strong><em>Edit</em></strong>  when you use <code>@Component(\"h\")</code> , you are creating a bean with name h with certain properties defined in Hello class. So you don't need Appconfig class. And also you should not try to change beans properties (like setGender) elsewhere except in Hello class.\nSo when should i use config class? When you dont mark Hello class as bean(i.e dont use component annotation). You create a Hello class object, set certain properties and mark it as a bean(using @bean).</p>\n\n<p>No you don't have to create object by yourself.\nMark Hello class as <code>@Component(\"h\")</code> and you can get the bean directly using <code>Hello h=ct.getBean(\"h\",Hello.class);</code> .</p>\n\n<p>You can also use <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">Autowired</a> annotation to get your bean anywhere and do whatever you want to.</p>\n"},{"tags":[],"owner":{"account_id":12682930,"reputation":1163,"user_id":9215910,"display_name":"Pooja Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539578120,"creation_date":1539578120,"answer_id":52809821,"question_id":52809099,"body_markdown":"You don&#39;t require to create bean explicitly in AppConfig.java class as you already have @Component annotation on Hello.java class.\r\nIt will automatically create bean.\r\n\r\nYou can directly access the bean with your code in main but you need to specify name of bean in @Component as &quot;h&quot;.\r\n\r\n     ApplicationContext ct=new AnnotationConfigApplicationContext(AppConfig.class);\r\n    \r\n            Hello h=ct.getBean(&quot;h&quot;,Hello.class);\r\n    \r\n            h.print();\r\n\r\n\r\n","title":"Creating object using spring annotations","body":"<p>You don't require to create bean explicitly in AppConfig.java class as you already have @Component annotation on Hello.java class.\nIt will automatically create bean.</p>\n\n<p>You can directly access the bean with your code in main but you need to specify name of bean in @Component as \"h\".</p>\n\n<pre><code> ApplicationContext ct=new AnnotationConfigApplicationContext(AppConfig.class);\n\n        Hello h=ct.getBean(\"h\",Hello.class);\n\n        h.print();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539579077,"creation_date":1539579077,"answer_id":52809936,"question_id":52809099,"body_markdown":"You just need to use `Autowired` and have a `getter`\r\n\r\n    @Autowired\r\n    private Hello hello;\r\n\r\n    public Hello getHello () {return hello;}\r\n","title":"Creating object using spring annotations","body":"<p>You just need to use <code>Autowired</code> and have a <code>getter</code></p>\n\n<pre><code>@Autowired\nprivate Hello hello;\n\npublic Hello getHello () {return hello;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5859401,"reputation":1532,"user_id":4615649,"display_name":"CRISTIAN ROMERO MATESANZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539593553,"creation_date":1539593553,"answer_id":52812956,"question_id":52809099,"body_markdown":"Thera are 2 ways to be able to create a bean inside Spring Context\r\n\r\n 1. Using @Component annotation (delegate creation Spring Framework )\r\n\r\n**@Component**: annotation above a class indicates that this class is a component and should be automatically detected and instantiated. Thus a Spring component bean will look like :\r\n\r\n    @Component\r\n    public class User {\r\n      private String name;\r\n \r\n      private String address;\r\n \r\n      public String getName() {\r\n\treturn name;\r\n      }\r\n \r\n      public void setName(String name) {\r\n\tthis.name = name;\r\n      }\r\n \r\n      public String getAddress() {\r\n\treturn address;\r\n      }\r\n \r\n      public void setAddress(String address) {\r\n\tthis.address = address;\r\n      }\r\n    }\r\n\r\nScan your beans with component scan:\r\n\r\nXml old school Spring configuration:\r\n\r\n      &lt;context:component-scan base-package=”com.yourpackage” /&gt;\r\n  \r\nComponent scan (If you use Spring boot it will be included inside @SpringBootAppilcation)\r\n  \r\n    @ComponentScan(basePackageClasses = Yourclass.class)\r\n\r\n 2. Using @Configuration annotation: (your actual choose)\r\n\r\nUsing @Configuration class with a method annotated with @bean. You should provide here how to create new object setting values (your getHello method):\r\n\r\n     @Bean(name=&quot;h&quot;)\r\n    public Hello getHello(){\r\n        Hello h= new Hello();\r\n        h.setGender(&quot;male&quot;);\r\n        return h;\r\n    }\r\n\r\n\r\n","title":"Creating object using spring annotations","body":"<p>Thera are 2 ways to be able to create a bean inside Spring Context</p>\n\n<ol>\n<li>Using @Component annotation (delegate creation Spring Framework )</li>\n</ol>\n\n<p><strong>@Component</strong>: annotation above a class indicates that this class is a component and should be automatically detected and instantiated. Thus a Spring component bean will look like :</p>\n\n<pre><code>@Component\npublic class User {\n  private String name;\n\n  private String address;\n\n  public String getName() {\nreturn name;\n  }\n\n  public void setName(String name) {\nthis.name = name;\n  }\n\n  public String getAddress() {\nreturn address;\n  }\n\n  public void setAddress(String address) {\nthis.address = address;\n  }\n}\n</code></pre>\n\n<p>Scan your beans with component scan:</p>\n\n<p>Xml old school Spring configuration:</p>\n\n<pre><code>  &lt;context:component-scan base-package=”com.yourpackage” /&gt;\n</code></pre>\n\n<p>Component scan (If you use Spring boot it will be included inside @SpringBootAppilcation)</p>\n\n<pre><code>@ComponentScan(basePackageClasses = Yourclass.class)\n</code></pre>\n\n<ol start=\"2\">\n<li>Using @Configuration annotation: (your actual choose)</li>\n</ol>\n\n<p>Using @Configuration class with a method annotated with @bean. You should provide here how to create new object setting values (your getHello method):</p>\n\n<pre><code> @Bean(name=\"h\")\npublic Hello getHello(){\n    Hello h= new Hello();\n    h.setGender(\"male\");\n    return h;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3209614,"reputation":824,"user_id":2709855,"accept_rate":46,"display_name":"vijaya kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640326590,"creation_date":1640326590,"answer_id":70470078,"question_id":52809099,"body_markdown":"Answering this question as there is no accepted answer. So, what you have done is one way of asking SpringContainer to create bean and that can be used in other places.\r\n\r\nBasically, we can ask spring to create object for us using three types.\r\n\r\n 1. XML-based Configuration,  \r\n 2. Annotation-based Configuration,\r\n 3. Java-basedConfiguration.\r\n\r\nYou have used Java-based configuration. Its not like we should not use &quot;new&quot; keyword to create object when using spring framework. It is kind of useful at some scenarios like creating object of DataSource(providing database details).\r\n\r\nSo, if you want spring to create object for you along with object properties, we can make use of @component and @value annotation. Refer code below,\r\n\r\n    package com.vj.spring.springanno;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Hello {\r\n    \r\n    \t@Value(&quot;dummy value&quot;)\r\n        String gender;\r\n    \r\n    \t\r\n        public void print(){\r\n            System.out.println(&quot;Hello world &quot;+gender);\r\n        }\r\n    \r\n        public String getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n    }\r\nYour Appconfig class should look like this(read comments as well),\r\n\r\n    package com.vj.spring.springanno;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration // makes this class similar to spring.xml(old school way)\r\n    @ComponentScan(&quot;com.vj.spring&quot;) // replacement of &lt;context:component-scan base-package=”com.yourpackage” /&gt; in spring.xml\r\n    public class AppConfig {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\r\n    \t\tHello hello = context.getBean(Hello.class); // or context.getBean(&quot;hello&quot;,Hello.class);\r\n    \t\thello.print();\r\n    \r\n    \t}\r\n    }\r\n\r\nBy default, if use @component annotation, it creates reference name like &quot;hello&quot; (camelCase of Class name). If you would want so specify reference name, you could do like @component(&quot;h&quot;).","title":"Creating object using spring annotations","body":"<p>Answering this question as there is no accepted answer. So, what you have done is one way of asking SpringContainer to create bean and that can be used in other places.</p>\n<p>Basically, we can ask spring to create object for us using three types.</p>\n<ol>\n<li>XML-based Configuration,</li>\n<li>Annotation-based Configuration,</li>\n<li>Java-basedConfiguration.</li>\n</ol>\n<p>You have used Java-based configuration. Its not like we should not use &quot;new&quot; keyword to create object when using spring framework. It is kind of useful at some scenarios like creating object of DataSource(providing database details).</p>\n<p>So, if you want spring to create object for you along with object properties, we can make use of @component and @value annotation. Refer code below,</p>\n<pre><code>package com.vj.spring.springanno;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Hello {\n\n    @Value(&quot;dummy value&quot;)\n    String gender;\n\n    \n    public void print(){\n        System.out.println(&quot;Hello world &quot;+gender);\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n}\n</code></pre>\n<p>Your Appconfig class should look like this(read comments as well),</p>\n<pre><code>package com.vj.spring.springanno;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration // makes this class similar to spring.xml(old school way)\n@ComponentScan(&quot;com.vj.spring&quot;) // replacement of &lt;context:component-scan base-package=”com.yourpackage” /&gt; in spring.xml\npublic class AppConfig {\n\n\n    public static void main(String[] args) {\n\n        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n        Hello hello = context.getBean(Hello.class); // or context.getBean(&quot;hello&quot;,Hello.class);\n        hello.print();\n\n    }\n}\n</code></pre>\n<p>By default, if use @component annotation, it creates reference name like &quot;hello&quot; (camelCase of Class name). If you would want so specify reference name, you could do like @component(&quot;h&quot;).</p>\n"}],"owner":{"account_id":14040809,"reputation":43,"user_id":10142269,"display_name":"Honey Preet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1640326590,"creation_date":1539571597,"question_id":52809099,"body_markdown":"I am beginner to spring. I have gone through some online tutorials and written a simple program, but I couldn&#39;t understand the worth. When we use spring.xml file and we create object with getBean method. But, in case of annotations I am creating the object using new, which I think is not right. Please see below the code and let me know if the procedure i have followed is problematic or not.\r\n\r\n    Hello.java:\r\n\r\n    package bean;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Hello {\r\n    \t\r\n    \tString gender;\r\n    \t\r\n    \tpublic void print(){\r\n    \t\tSystem.out.println(&quot;Hello world &quot;+gender);\r\n    \t}\r\n    \r\n    \tpublic String getGender() {\r\n    \t\treturn gender;\r\n    \t}\r\n    \r\n    \tpublic void setGender(String gender) {\r\n    \t\tthis.gender = gender;\r\n    \t}\r\n    \r\n    }\r\n\r\n    AppConfig.java:\r\n    \r\n    package config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import bean.Hello;\r\n    \r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n    \t@Bean(name=&quot;h&quot;)\r\n    \tpublic Hello getHello(){\r\n    \t\tHello h= new Hello();\r\n    \t\th.setGender(&quot;male&quot;);\r\n    \t\treturn h;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    Driver.java:\r\n    \r\n    package client;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    import bean.Hello;\r\n    import config.AppConfig;\r\n    \r\n    public class Driver {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tApplicationContext ct=new AnnotationConfigApplicationContext(AppConfig.class);\r\n    \t\t\r\n    \t\tHello h=ct.getBean(&quot;h&quot;,Hello.class);\r\n    \t\t\r\n    \t\th.print();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAs you can see in AppConfig.java, I am creating the object of my class using \r\n\r\n    Hello h= new Hello();\r\n\r\nThis looks problematic. If i have to create object by myself, then why do we need spring. Please suggest what I am doing wrong here.","title":"Creating object using spring annotations","body":"<p>I am beginner to spring. I have gone through some online tutorials and written a simple program, but I couldn't understand the worth. When we use spring.xml file and we create object with getBean method. But, in case of annotations I am creating the object using new, which I think is not right. Please see below the code and let me know if the procedure i have followed is problematic or not.</p>\n\n<pre><code>Hello.java:\n\npackage bean;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Hello {\n\n    String gender;\n\n    public void print(){\n        System.out.println(\"Hello world \"+gender);\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n}\n\nAppConfig.java:\n\npackage config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport bean.Hello;\n\n@Configuration\npublic class AppConfig {\n\n    @Bean(name=\"h\")\n    public Hello getHello(){\n        Hello h= new Hello();\n        h.setGender(\"male\");\n        return h;\n    }\n\n}\n\nDriver.java:\n\npackage client;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\nimport bean.Hello;\nimport config.AppConfig;\n\npublic class Driver {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        ApplicationContext ct=new AnnotationConfigApplicationContext(AppConfig.class);\n\n        Hello h=ct.getBean(\"h\",Hello.class);\n\n        h.print();\n\n    }\n\n}\n</code></pre>\n\n<p>As you can see in AppConfig.java, I am creating the object of my class using </p>\n\n<pre><code>Hello h= new Hello();\n</code></pre>\n\n<p>This looks problematic. If i have to create object by myself, then why do we need spring. Please suggest what I am doing wrong here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1640319538,"post_id":70469413,"comment_id":124569165,"body_markdown":"Your example input list is a `List&lt;List&lt;List&lt;string&gt;&gt;&gt;` (3-dimensions), while the output is `List&lt;List&lt;string&gt;&gt;` (2-dimensions). This involves not only filtering but also flattening. Anyway, please post your code to show what have you tried.","body":"Your example input list is a <code>List&lt;List&lt;List&lt;string&gt;&gt;&gt;</code> (3-dimensions), while the output is <code>List&lt;List&lt;string&gt;&gt;</code> (2-dimensions). This involves not only filtering but also flattening. Anyway, please post your code to show what have you tried."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1640320346,"post_id":70469413,"comment_id":124569256,"body_markdown":"`list.stream().flatMap(List::stream).filter(inner -&gt; inner.get(2).startsWith(&quot;CX_&quot;)).collect(Collectors.toList())`","body":"<code>list.stream().flatMap(List::stream).filter(inner -&gt; inner.get(2).startsWith(&quot;CX_&quot;)).collect(Collectors.toList())</code>"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640326483,"creation_date":1640319459,"answer_id":70469514,"question_id":70469413,"body_markdown":"You can use stream and filter to retrieve the result with condition        \r\n\r\n    @Test\r\n      public void test() {\r\n        List&lt;String&gt; row1 = Arrays.asList(&quot;AA&quot;,&quot;BB&quot;,&quot;CX_11&quot;);\r\n        List&lt;String&gt; row2 = Arrays.asList(&quot;CC&quot;,&quot;D&quot;,&quot;CD_11&quot;);\r\n        List&lt;List&lt;String&gt;&gt; list = Arrays.asList(row1,row2);\r\n        Assertions.assertEquals(row1, getFirstList(list,&quot;CX_&quot;));\r\n        Assertions.assertEquals(row2, getFirstList(list,&quot;CD_&quot;));\r\n      }\r\n\r\n      public List&lt;List&lt;String&gt;&gt; getAllList(List&lt;List&lt;String&gt;&gt; list,String key){\r\n        return list.stream().filter(this.contain(key)).collect(Collectors.toList());\r\n      }\r\n      \r\n      public List&lt;Map&lt;String,String&gt;&gt; getListOfMap(List&lt;List&lt;String&gt;&gt; list,String key){\r\n        Function&lt;List&lt;String&gt;,Map&lt;String,String&gt;&gt; convertListToMap = (l)-&gt;{\r\n          Map&lt;String,String&gt; map = new LinkedHashMap&lt;&gt;();\r\n          map.put(&quot;name&quot;, l.get(1));\r\n          map.put(&quot;code&quot;, l.get(2));\r\n          return map;\r\n        }; \r\n        return list.stream().filter(this.contain(key)).map(convertListToMap).collect(Collectors.toList());\r\n      }\r\n      \r\n      public List&lt;String&gt; getFirstList(List&lt;List&lt;String&gt;&gt; list,String key){\r\n        return list.stream().filter(this.contain(key)).findFirst().get();\r\n      }\r\n      \r\n      private Predicate&lt;List&lt;String&gt;&gt; contain(String key){\r\n        return (l)-&gt; l.stream().anyMatch(s-&gt; s.contains(key));\r\n      }","title":"List&lt;List&lt;String&gt;&gt; with filter","body":"<p>You can use stream and filter to retrieve the result with condition</p>\n<pre><code>@Test\n  public void test() {\n    List&lt;String&gt; row1 = Arrays.asList(&quot;AA&quot;,&quot;BB&quot;,&quot;CX_11&quot;);\n    List&lt;String&gt; row2 = Arrays.asList(&quot;CC&quot;,&quot;D&quot;,&quot;CD_11&quot;);\n    List&lt;List&lt;String&gt;&gt; list = Arrays.asList(row1,row2);\n    Assertions.assertEquals(row1, getFirstList(list,&quot;CX_&quot;));\n    Assertions.assertEquals(row2, getFirstList(list,&quot;CD_&quot;));\n  }\n\n  public List&lt;List&lt;String&gt;&gt; getAllList(List&lt;List&lt;String&gt;&gt; list,String key){\n    return list.stream().filter(this.contain(key)).collect(Collectors.toList());\n  }\n  \n  public List&lt;Map&lt;String,String&gt;&gt; getListOfMap(List&lt;List&lt;String&gt;&gt; list,String key){\n    Function&lt;List&lt;String&gt;,Map&lt;String,String&gt;&gt; convertListToMap = (l)-&gt;{\n      Map&lt;String,String&gt; map = new LinkedHashMap&lt;&gt;();\n      map.put(&quot;name&quot;, l.get(1));\n      map.put(&quot;code&quot;, l.get(2));\n      return map;\n    }; \n    return list.stream().filter(this.contain(key)).map(convertListToMap).collect(Collectors.toList());\n  }\n  \n  public List&lt;String&gt; getFirstList(List&lt;List&lt;String&gt;&gt; list,String key){\n    return list.stream().filter(this.contain(key)).findFirst().get();\n  }\n  \n  private Predicate&lt;List&lt;String&gt;&gt; contain(String key){\n    return (l)-&gt; l.stream().anyMatch(s-&gt; s.contains(key));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580339,"reputation":217,"user_id":1465837,"display_name":"SoftwareEngineer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640319880,"creation_date":1640319880,"answer_id":70469548,"question_id":70469413,"body_markdown":"    You can do it by the following steps:\r\n    1. Declare a List&lt;List&lt;String&gt;&gt; will be returned\r\n    2. Foreach List&lt;List&lt;String&gt;&gt;, fetch each List&lt;String&gt;\r\n           2.1. With each List&lt;String&gt;, foreach it, fetch each string\r\n           2.2. If each string contains CX_ value, add this List&lt;String&gt; to the returned List&lt;List&lt;String&gt;&gt;","title":"List&lt;List&lt;String&gt;&gt; with filter","body":"<pre><code>You can do it by the following steps:\n1. Declare a List&lt;List&lt;String&gt;&gt; will be returned\n2. Foreach List&lt;List&lt;String&gt;&gt;, fetch each List&lt;String&gt;\n       2.1. With each List&lt;String&gt;, foreach it, fetch each string\n       2.2. If each string contains CX_ value, add this List&lt;String&gt; to the returned List&lt;List&lt;String&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":20498063,"reputation":15,"user_id":15042526,"display_name":"Tusker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70469514,"answer_count":2,"score":1,"last_activity_date":1640326483,"creation_date":1640318169,"question_id":70469413,"body_markdown":"I have a list which contains another list Which has String values\r\n```\r\n[ \r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_123&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CD_124&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CY_456&quot;]\r\n],\r\n[ \r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CB_456&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_564&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CZ_345&quot;]\r\n],[ \r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CE_234&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CM_235&quot;],\r\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_4534&quot;]\r\n]\r\n```\r\nI have to filter the list which start with CX_ value in the inner list\r\n\r\nThe result should look like:\r\n```\r\n[\r\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_123&quot;],\r\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_564&quot;],\r\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_4534&quot;]\r\n]\r\n```","title":"List&lt;List&lt;String&gt;&gt; with filter","body":"<p>I have a list which contains another list Which has String values</p>\n<pre><code>[ \n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_123&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CD_124&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CY_456&quot;]\n],\n[ \n [&quot;ax&quot;, &quot;BX&quot;, &quot;CB_456&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_564&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CZ_345&quot;]\n],[ \n [&quot;ax&quot;, &quot;BX&quot;, &quot;CE_234&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CM_235&quot;],\n [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_4534&quot;]\n]\n</code></pre>\n<p>I have to filter the list which start with CX_ value in the inner list</p>\n<p>The result should look like:</p>\n<pre><code>[\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_123&quot;],\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_564&quot;],\n   [&quot;ax&quot;, &quot;BX&quot;, &quot;CX_4534&quot;]\n]\n</code></pre>\n"},{"tags":["java","spring","azure","azure-sql-database","azure-sql-server"],"answers":[{"tags":[],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640325939,"creation_date":1640325939,"answer_id":70470005,"question_id":70462465,"body_markdown":"Found that auto commit is causing the delay - replaced autocommit with connection.commit()\r\n\r\n    public class JDBCSample {\r\n        ...\r\n    \r\n        public static void main(String[] args) {\r\n            ...\r\n    \r\n            // Open a connection\r\n            try {\r\n                ...\r\n    \r\n                JdbcTemplate jdbcTemplate = new JdbcTemplate();\r\n                // Direct SQL Server Datasource\r\n                //jdbcTemplate.setDataSource(ds);\r\n    \r\n                // Hikari Connection Pooling\r\n                jdbcTemplate.setDataSource(dataSource());\r\n    \r\n                String deleteSQL = &quot;Delete from DeleteMe&quot;;\r\n                jdbcTemplate.update(deleteSQL);\r\n    \r\n                /* Using PreparedStatement*/\r\n                /**/\r\n                Connection conn = dataSource().getConnection();\r\n                conn.setAutoCommit(false);\r\n                PreparedStatement stmt = conn.prepareStatement(&quot;insert into DeleteMe VALUES(?, &#39;vijas&#39;, &#39;asdf&#39;, 36, &#39;2020-10-30&#39;, &#39;safd&#39;)&quot;);\r\n    \r\n                try\r\n                {\r\n                    for (int id = 1; id &lt;= 2800; id++) {\r\n                        stmt.setInt(1, id);\r\n                        stmt.addBatch();\r\n                    }\r\n    \r\n                    stmt.executeBatch();\r\n    \t\t\t\tconn.commit();\r\n                }\r\n                catch (SQLException e) {\r\n                    System.out.println(&quot;Error message: &quot; + e.getMessage());\r\n                    return; // Exit if there was an error\r\n                }\r\n    \r\n                LocalDateTime endTime = LocalDateTime.now();\r\n                System.out.println(dtf.format(endTime));\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public static DataSource dataSource(){\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            hikariConfig.setJdbcUrl(&quot;jdbc:....&quot;);\r\n            hikariConfig.setUsername(&quot;....&quot;);\r\n            hikariConfig.setPassword(&quot;....&quot;);\r\n    \r\n            hikariConfig.setMaximumPoolSize(10);\r\n            hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\r\n            hikariConfig.setPoolName(&quot;springHikariCP&quot;);\r\n    \r\n            HikariDataSource dataSource = new HikariDataSource(hikariConfig);\r\n    \r\n            return dataSource;\r\n        }\r\n    }","title":"Spring application : Azure SQL Server Insert is slow","body":"<p>Found that auto commit is causing the delay - replaced autocommit with connection.commit()</p>\n<pre><code>public class JDBCSample {\n    ...\n\n    public static void main(String[] args) {\n        ...\n\n        // Open a connection\n        try {\n            ...\n\n            JdbcTemplate jdbcTemplate = new JdbcTemplate();\n            // Direct SQL Server Datasource\n            //jdbcTemplate.setDataSource(ds);\n\n            // Hikari Connection Pooling\n            jdbcTemplate.setDataSource(dataSource());\n\n            String deleteSQL = &quot;Delete from DeleteMe&quot;;\n            jdbcTemplate.update(deleteSQL);\n\n            /* Using PreparedStatement*/\n            /**/\n            Connection conn = dataSource().getConnection();\n            conn.setAutoCommit(false);\n            PreparedStatement stmt = conn.prepareStatement(&quot;insert into DeleteMe VALUES(?, 'vijas', 'asdf', 36, '2020-10-30', 'safd')&quot;);\n\n            try\n            {\n                for (int id = 1; id &lt;= 2800; id++) {\n                    stmt.setInt(1, id);\n                    stmt.addBatch();\n                }\n\n                stmt.executeBatch();\n                conn.commit();\n            }\n            catch (SQLException e) {\n                System.out.println(&quot;Error message: &quot; + e.getMessage());\n                return; // Exit if there was an error\n            }\n\n            LocalDateTime endTime = LocalDateTime.now();\n            System.out.println(dtf.format(endTime));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Bean(destroyMethod = &quot;close&quot;)\n    public static DataSource dataSource(){\n        HikariConfig hikariConfig = new HikariConfig();\n        hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        hikariConfig.setJdbcUrl(&quot;jdbc:....&quot;);\n        hikariConfig.setUsername(&quot;....&quot;);\n        hikariConfig.setPassword(&quot;....&quot;);\n\n        hikariConfig.setMaximumPoolSize(10);\n        hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\n        hikariConfig.setPoolName(&quot;springHikariCP&quot;);\n\n        HikariDataSource dataSource = new HikariDataSource(hikariConfig);\n\n        return dataSource;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70470005,"answer_count":1,"score":0,"last_activity_date":1640325939,"creation_date":1640264400,"question_id":70462465,"body_markdown":"I have a spring batch application that uses Azure SQL Server as a database. \r\n\r\nI have a hyperscale Azure SQL server instance with 20 vCores\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBelow is my table structure\r\n\r\n    SET ANSI_NULLS ON\r\n    GO\r\n    \r\n    SET QUOTED_IDENTIFIER ON\r\n    GO\r\n    \r\n    IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N&#39;[Schema].[DeleteMe]&#39;) AND type in (N&#39;U&#39;))\r\n    DROP TABLE [Schema].[DeleteMe]\r\n    GO\r\n    \r\n    CREATE TABLE [Schema].[DeleteMe](\r\n    [ID] [int] NOT NULL,\r\n    [LastName] [char](255) NOT NULL,\r\n    [FirstName] [char](255) NOT NULL,\r\n    [Age] [int] NOT NULL,\r\n    [DOJ] [datetime2](0) NOT NULL,\r\n    [Role] [varchar](255) NULL\r\n    ) ON [PRIMARY]\r\n    GO\r\n\r\nIt is taking ~10 seconds to insert 2800 records\r\n\r\n    public class JDBCSample {\r\n        ...\r\n    \r\n        public static void main(String[] args) {\r\n            ...\r\n    \r\n            // Open a connection\r\n            try {\r\n                ...\r\n    \r\n                JdbcTemplate jdbcTemplate = new JdbcTemplate();\r\n                // Direct SQL Server Datasource\r\n                //jdbcTemplate.setDataSource(ds);\r\n    \r\n                // Hikari Connection Pooling\r\n                jdbcTemplate.setDataSource(dataSource());\r\n    \r\n                String deleteSQL = &quot;Delete from DeleteMe&quot;;\r\n                jdbcTemplate.update(deleteSQL);\r\n    \r\n                /* Using PreparedStatement*/\r\n                /**/\r\n                Connection conn = dataSource().getConnection();\r\n                conn.setAutoCommit(true);\r\n                PreparedStatement stmt = conn.prepareStatement(&quot;insert into DeleteMe VALUES(?, &#39;vijas&#39;, &#39;asdf&#39;, 36, &#39;2020-10-30&#39;, &#39;safd&#39;)&quot;);\r\n    \r\n                try\r\n                {\r\n                    for (int id = 1; id &lt;= 2800; id++) {\r\n                        stmt.setInt(1, id);\r\n                        stmt.addBatch();\r\n                    }\r\n    \r\n                    stmt.executeBatch();\r\n                }\r\n                catch (SQLException e) {\r\n                    System.out.println(&quot;Error message: &quot; + e.getMessage());\r\n                    return; // Exit if there was an error\r\n                }\r\n    \r\n                LocalDateTime endTime = LocalDateTime.now();\r\n                System.out.println(dtf.format(endTime));\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public static DataSource dataSource(){\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            hikariConfig.setJdbcUrl(&quot;jdbc:....&quot;);\r\n            hikariConfig.setUsername(&quot;....&quot;);\r\n            hikariConfig.setPassword(&quot;....&quot;);\r\n    \r\n            hikariConfig.setMaximumPoolSize(10);\r\n            hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\r\n            hikariConfig.setPoolName(&quot;springHikariCP&quot;);\r\n    \r\n            /*\r\n            hikariConfig.addDataSourceProperty(&quot;dataSource.cachePrepStmts&quot;, &quot;true&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;dataSource.prepStmtCacheSize&quot;, &quot;5000&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;dataSource.prepStmtCacheSqlLimit&quot;, &quot;4096&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;dataSource.useServerPrepStmts&quot;, &quot;true&quot;);\r\n    \r\n            hikariConfig.addDataSourceProperty(&quot;hibernate.jdbc.batch_size&quot;, &quot;5000&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\r\n            hikariConfig.addDataSourceProperty(&quot;hibernate.jdbc.batch_versioned_data&quot;, &quot;true&quot;);\r\n            */\r\n    \r\n            HikariDataSource dataSource = new HikariDataSource(hikariConfig);\r\n    \r\n            return dataSource;\r\n        }\r\n    }\r\n\r\nNote: I have tried the below parameters to the JDBC properties\r\n\r\n&gt; statementPoolingCacheSize=10;disableStatementPooling=false;enablePrepareOnFirstPreparedStatementCall=true;sendStringParametersAsUnicode=false;\r\n\r\n\r\nI want to reduce the execution time further to less than a second. How do I achieve this? this is a blocker for Production deployment.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZoHv1.png","title":"Spring application : Azure SQL Server Insert is slow","body":"<p>I have a spring batch application that uses Azure SQL Server as a database.</p>\n<p>I have a hyperscale Azure SQL server instance with 20 vCores</p>\n<p><a href=\"https://i.stack.imgur.com/ZoHv1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZoHv1.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my table structure</p>\n<pre><code>SET ANSI_NULLS ON\nGO\n\nSET QUOTED_IDENTIFIER ON\nGO\n\nIF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[Schema].[DeleteMe]') AND type in (N'U'))\nDROP TABLE [Schema].[DeleteMe]\nGO\n\nCREATE TABLE [Schema].[DeleteMe](\n[ID] [int] NOT NULL,\n[LastName] [char](255) NOT NULL,\n[FirstName] [char](255) NOT NULL,\n[Age] [int] NOT NULL,\n[DOJ] [datetime2](0) NOT NULL,\n[Role] [varchar](255) NULL\n) ON [PRIMARY]\nGO\n</code></pre>\n<p>It is taking ~10 seconds to insert 2800 records</p>\n<pre><code>public class JDBCSample {\n    ...\n\n    public static void main(String[] args) {\n        ...\n\n        // Open a connection\n        try {\n            ...\n\n            JdbcTemplate jdbcTemplate = new JdbcTemplate();\n            // Direct SQL Server Datasource\n            //jdbcTemplate.setDataSource(ds);\n\n            // Hikari Connection Pooling\n            jdbcTemplate.setDataSource(dataSource());\n\n            String deleteSQL = &quot;Delete from DeleteMe&quot;;\n            jdbcTemplate.update(deleteSQL);\n\n            /* Using PreparedStatement*/\n            /**/\n            Connection conn = dataSource().getConnection();\n            conn.setAutoCommit(true);\n            PreparedStatement stmt = conn.prepareStatement(&quot;insert into DeleteMe VALUES(?, 'vijas', 'asdf', 36, '2020-10-30', 'safd')&quot;);\n\n            try\n            {\n                for (int id = 1; id &lt;= 2800; id++) {\n                    stmt.setInt(1, id);\n                    stmt.addBatch();\n                }\n\n                stmt.executeBatch();\n            }\n            catch (SQLException e) {\n                System.out.println(&quot;Error message: &quot; + e.getMessage());\n                return; // Exit if there was an error\n            }\n\n            LocalDateTime endTime = LocalDateTime.now();\n            System.out.println(dtf.format(endTime));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Bean(destroyMethod = &quot;close&quot;)\n    public static DataSource dataSource(){\n        HikariConfig hikariConfig = new HikariConfig();\n        hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        hikariConfig.setJdbcUrl(&quot;jdbc:....&quot;);\n        hikariConfig.setUsername(&quot;....&quot;);\n        hikariConfig.setPassword(&quot;....&quot;);\n\n        hikariConfig.setMaximumPoolSize(10);\n        hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\n        hikariConfig.setPoolName(&quot;springHikariCP&quot;);\n\n        /*\n        hikariConfig.addDataSourceProperty(&quot;dataSource.cachePrepStmts&quot;, &quot;true&quot;);\n        hikariConfig.addDataSourceProperty(&quot;dataSource.prepStmtCacheSize&quot;, &quot;5000&quot;);\n        hikariConfig.addDataSourceProperty(&quot;dataSource.prepStmtCacheSqlLimit&quot;, &quot;4096&quot;);\n        hikariConfig.addDataSourceProperty(&quot;dataSource.useServerPrepStmts&quot;, &quot;true&quot;);\n\n        hikariConfig.addDataSourceProperty(&quot;hibernate.jdbc.batch_size&quot;, &quot;5000&quot;);\n        hikariConfig.addDataSourceProperty(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\n        hikariConfig.addDataSourceProperty(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\n        hikariConfig.addDataSourceProperty(&quot;hibernate.jdbc.batch_versioned_data&quot;, &quot;true&quot;);\n        */\n\n        HikariDataSource dataSource = new HikariDataSource(hikariConfig);\n\n        return dataSource;\n    }\n}\n</code></pre>\n<p>Note: I have tried the below parameters to the JDBC properties</p>\n<blockquote>\n<p>statementPoolingCacheSize=10;disableStatementPooling=false;enablePrepareOnFirstPreparedStatementCall=true;sendStringParametersAsUnicode=false;</p>\n</blockquote>\n<p>I want to reduce the execution time further to less than a second. How do I achieve this? this is a blocker for Production deployment.</p>\n"},{"tags":["java","mysql","jpa"],"comments":[{"owner":{"account_id":5914573,"reputation":528,"user_id":4653764,"accept_rate":25,"display_name":"Pawan Tiwari"},"score":0,"creation_date":1640326195,"post_id":70469854,"comment_id":124570059,"body_markdown":"You can use like: `findBySalaryOrderByDesc`","body":"You can use like: <code>findBySalaryOrderByDesc</code>"}],"answers":[{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640325916,"creation_date":1640324787,"answer_id":70469914,"question_id":70469854,"body_markdown":"Have you got this basic query in JPA?\r\n\r\nSo just add pagination to that query, set the page size to 1 and get the second page.","title":"Second Highest Salary using JPA method","body":"<p>Have you got this basic query in JPA?</p>\n<p>So just add pagination to that query, set the page size to 1 and get the second page.</p>\n"}],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70469914,"answer_count":1,"score":0,"last_activity_date":1640325916,"creation_date":1640323878,"question_id":70469854,"body_markdown":"I recently faced an interview question to find 2nd highest salary from MySQL table.\r\n\r\nI gave the query,\r\n\r\n    select Distinct salary from Employee order by salary desc limit 1 offset 2.\r\n\r\nBut he asked me to write the same with JPA in build method queries..\r\n\r\nI was able to guess like findBySalaryGreaterThan..\r\n\r\nNot able to get the correct answer..\r\n\r\nHow to write JPA in build method query for second highest salary..","title":"Second Highest Salary using JPA method","body":"<p>I recently faced an interview question to find 2nd highest salary from MySQL table.</p>\n<p>I gave the query,</p>\n<pre><code>select Distinct salary from Employee order by salary desc limit 1 offset 2.\n</code></pre>\n<p>But he asked me to write the same with JPA in build method queries..</p>\n<p>I was able to guess like findBySalaryGreaterThan..</p>\n<p>Not able to get the correct answer..</p>\n<p>How to write JPA in build method query for second highest salary..</p>\n"},{"tags":["java","web-services","tomcat","timeout"],"comments":[{"owner":{"account_id":212638,"reputation":3564,"user_id":465582,"accept_rate":86,"display_name":"Kevin D"},"score":0,"creation_date":1292601357,"post_id":4472210,"comment_id":4888499,"body_markdown":"I&#39;d suggest splitting this into two questions for your two problems","body":"I&#39;d suggest splitting this into two questions for your two problems"},{"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"score":0,"creation_date":1292601567,"post_id":4472210,"comment_id":4888553,"body_markdown":"You should seriously consider profiling your application for memory leaks.","body":"You should seriously consider profiling your application for memory leaks."}],"answers":[{"tags":[],"owner":{"account_id":212638,"reputation":3564,"user_id":465582,"accept_rate":86,"display_name":"Kevin D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1292601607,"creation_date":1292601607,"answer_id":4472303,"question_id":4472210,"body_markdown":"Disclaimer: I&#39;ve never worked with CXF\r\n\r\nThis blog [here][1] seens to be describing a very similar situation to your timeout.\r\n\r\nThe sample code given their indicates the use of an `HTTPConduit` with an `HTTPCLientPolicy` can solve the issue.\r\n\r\n\r\n\r\n    MyWebService service = new MyWebService();\r\n    MyWebServicePortType client = service.MyWebServicePort();\r\n    \r\n    Client cl = ClientProxy.getClient(client);\r\n    \r\n    HTTPConduit http = (HTTPConduit) cl.getConduit();\r\n    \r\n    HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy();\r\n    httpClientPolicy.setConnectionTimeout(0);\r\n    httpClientPolicy.setReceiveTimeout(0);\r\n    \r\n    http.setClient(httpClientPolicy);\r\n    \r\n    client.doSomething(...);\r\n\r\n\r\n  [1]: http://lhein.blogspot.com/2008/09/apache-cxf-and-time-outs.html","title":"Web-Service on Tomcat with Timeout","body":"<p>Disclaimer: I've never worked with CXF</p>\n\n<p>This blog <a href=\"http://lhein.blogspot.com/2008/09/apache-cxf-and-time-outs.html\" rel=\"nofollow\">here</a> seens to be describing a very similar situation to your timeout.</p>\n\n<p>The sample code given their indicates the use of an <code>HTTPConduit</code> with an <code>HTTPCLientPolicy</code> can solve the issue.</p>\n\n<pre><code>MyWebService service = new MyWebService();\nMyWebServicePortType client = service.MyWebServicePort();\n\nClient cl = ClientProxy.getClient(client);\n\nHTTPConduit http = (HTTPConduit) cl.getConduit();\n\nHTTPClientPolicy httpClientPolicy = new HTTPClientPolicy();\nhttpClientPolicy.setConnectionTimeout(0);\nhttpClientPolicy.setReceiveTimeout(0);\n\nhttp.setClient(httpClientPolicy);\n\nclient.doSomething(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13614826,"reputation":1,"user_id":9821050,"display_name":"user9821050"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640324560,"creation_date":1640324560,"answer_id":70469899,"question_id":4472210,"body_markdown":"You problem is outOfMemory, Can you try to change the parameter -Xmx1600m for -Xmx2048m or more. It into file /etc/init.d/tomcat \r\n\r\n\r\n    ### BEGIN INIT INFO\r\n    # Provides: tomcat8\r\n    # Required-Start: $network $syslog\r\n    # Required-Stop: $network $syslog\r\n    # Default-Start:\r\n    # Default-Stop:\r\n    # Description: Tomcat 8\r\n    # Short-Description: start and stop tomcat\r\n    ### END INIT INFO\r\n    \r\n    ## Source function library.\r\n    #. /etc/rc.d/init.d/functions\r\n    #export JAVA_HOME=/usr/java/default\r\n    export JAVA_HOME=/opt/jdk1.8.0_201\r\n    export JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 \\\r\n      -Dnet.sf.ehcache.skipUpdateCheck=true \\\r\n      -XX:+UseConcMarkSweepGC \\\r\n      -XX:+CMSClassUnloadingEnabled \\\r\n      -XX:+UseParNewGC \\\r\n      -XX:MaxPermSize=256m \\\r\n      -Xms512m -Xmx2048m&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n    TOMCAT_HOME=/opt/tomcat-latest\r\n    TOMCAT_USER=root\r\n    SHUTDOWN_WAIT=20\r\n\r\n","title":"Web-Service on Tomcat with Timeout","body":"<p>You problem is outOfMemory, Can you try to change the parameter -Xmx1600m for -Xmx2048m or more. It into file /etc/init.d/tomcat</p>\n<pre><code>### BEGIN INIT INFO\n# Provides: tomcat8\n# Required-Start: $network $syslog\n# Required-Stop: $network $syslog\n# Default-Start:\n# Default-Stop:\n# Description: Tomcat 8\n# Short-Description: start and stop tomcat\n### END INIT INFO\n\n## Source function library.\n#. /etc/rc.d/init.d/functions\n#export JAVA_HOME=/usr/java/default\nexport JAVA_HOME=/opt/jdk1.8.0_201\nexport JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 \\\n  -Dnet.sf.ehcache.skipUpdateCheck=true \\\n  -XX:+UseConcMarkSweepGC \\\n  -XX:+CMSClassUnloadingEnabled \\\n  -XX:+UseParNewGC \\\n  -XX:MaxPermSize=256m \\\n  -Xms512m -Xmx2048m&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\nTOMCAT_HOME=/opt/tomcat-latest\nTOMCAT_USER=root\nSHUTDOWN_WAIT=20\n</code></pre>\n"}],"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4472303,"answer_count":2,"score":0,"last_activity_date":1640324560,"creation_date":1292601165,"question_id":4472210,"body_markdown":"I have an application witch runs about 30 min. with some input data. It has also test data, so the application takes about 30 sec.\r\n\r\nThe application should be available in a webservice. I used CXF and tomcat. All works fine with the testdata. With real data there is a timeout after about 1 min: a SocketTimeoutException\r\n\r\nI had a look at all timeout parameters (server.xml, all web.xml) but doesn&#39;t help. \r\n\r\nMy application is very memory consuming. I added this vm value to the server -Xmx1600m. Without, I get a OutOfMemoryException\r\n\r\nAny idea what I could still try? Can I set the memory on level session?\r\nThanks!","title":"Web-Service on Tomcat with Timeout","body":"<p>I have an application witch runs about 30 min. with some input data. It has also test data, so the application takes about 30 sec.</p>\n\n<p>The application should be available in a webservice. I used CXF and tomcat. All works fine with the testdata. With real data there is a timeout after about 1 min: a SocketTimeoutException</p>\n\n<p>I had a look at all timeout parameters (server.xml, all web.xml) but doesn't help. </p>\n\n<p>My application is very memory consuming. I added this vm value to the server -Xmx1600m. Without, I get a OutOfMemoryException</p>\n\n<p>Any idea what I could still try? Can I set the memory on level session?\nThanks!</p>\n"},{"tags":["java","garbage-collection","g1gc"],"answers":[{"tags":[],"owner":{"account_id":23698355,"reputation":91,"user_id":17721806,"display_name":"ceragon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640323955,"creation_date":1640236300,"answer_id":70457888,"question_id":70443249,"body_markdown":"Firstly，I think you may have misunderstood the effect of `G1MixedGCLiveThresholdPercent` (the default value is 65% in Jdk7 and [85%](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L235) in Jdk 11).\r\n`G1MixedGCLiveThresholdPercent` is not the space ratio of garbage objects, but the space ratio of live objects. If the space of live objects in a region exceeds 85% (in jdk11), then the region will not be selected into the \r\n `collection set` (region collection to be recycled)\r\n\r\nSecondly，`G1HeapWastePercent` (the default value is 10% in Jdk7 and [5%](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L241) in Jdk11) \r\nis a condition for triggering Mixed GC and exiting Mixed GC.\r\nWhen the garbage objects in the `collection set` account for more than 5% (in jdk11) of the total heap allocated space,\r\nthe Mixed GC will be triggered, and one of the sufficient conditions for exiting the Mixed GC That is\r\nthe garbage object rate in the `collection set` is lower than 5%.\r\n\r\nTherefore, if `G1HeapWastePercent` is set to 0%, as long as there are garbage objects in the collection set, Mixed GC will be triggered.\r\nThen the sufficient condition for exiting Mixed GC will become that the `collection set` is empty,\r\nBecause every Mixed GC will remove the reclaimed region from the `collection set`.\r\n\r\nFinally, I want to explain to you the execution process of G1 GC, so that you can better understand the whole process.\r\n\r\n---\r\n\r\nG1 contains 3 phases, `concurrent marking`, `Only Young GC`, and `Mixed GC`. The general process is as follows:\r\n\r\n1. At the end of `Only Young GC`, it will be judged whether it is necessary to start `concurrent marking`\r\n2. After the `concurrent marking` is finish, the space occupied by live objects and garbage objects in each region (old generation) will be calculated.\r\n   1. Then the `collection set` (old region collection to be recycled) is generated, and only the old generation regions whose size of surviving objects account for the total size of the region exceeds G1MixedGCLiveThresholdPercent will enter the `collection set`.\r\n   2. After that, sort the `collection set`, with the highest `_gc_efficiency` ranking first.\r\n3. If `reclaimable_percent` of `collection set` exceeds `G1HeapWastePercent` %, then `Mixed GC` will be triggered later.\r\n4. `Mixed GC` will select all young regions and `old_region_length` of old regions are reclaimed.\r\n   1. At the end of Mixed GC execution, if `reclaimable_percent` still exceeds `G1HeapWastePercent`%, then `Mixed GC` will be executed again later.\r\n\r\n---\r\n\r\nLet me explain several parameters and concepts mentioned below:\r\n\r\n### G1MixedGCLiveThresholdPercent\r\n\r\n1. The default value in openjdk11 is 85, [G1MixedGCLiveThresholdPercent](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L235)\r\n2. The relevant use location is [mixed_gc_live_threshold_bytes](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/collectionSetChooser.hpp#L105), which is used to calculate the threshold of the survival rate of objects in a single region. Regions that exceed this threshold will not enter the `collection set`.\r\n\r\n### _gc_efficiency\r\n\r\n1. The recycling value of a single region\r\n2. _gc_efficiency = `the size of garbage objects in a single region` / `the time it takes to transfer this region`\r\n3. If there are more garbage objects in the region and the less time it takes to transfer, the _gc_efficiency will higher.\r\n\r\n### G1HeapWastePercent\r\n\r\n1. The default value in openjdk11 is 5, [G1HeapWastePercent](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L241)\r\n2. The related code [next_gc_should_be_mixed](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1094) is used to determine whether the next GC is `Mixed GC`.\r\n\r\n### reclaimable_percent\r\n\r\n1. reclaimable_percent = `garbage object size` / `total space size`\r\n2. The garbage object here refers to the total size of garbage objects in the `collection set`\r\n\r\n### G1MixedGCCountTarget\r\n\r\n1. The default value in openjdk11 is 8, [G1MixedGCCountTarget](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L246)\r\n2. Indicates that once Mixed GC is triggered, Expect to execute 8 Mixed GC.\r\n\r\n### G1OldCSetRegionThresholdPercent\r\n\r\n1. The default value in openjdk11 is 10, [G1OldCSetRegionThresholdPercent](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L264)\r\n2. Every time Mixed GC, the selected old_region_length has a maximum value\r\n3. The maximum value = `the number of allocated regions in heap` * 10 / 100\r\n\r\n### old_region_length\r\n\r\n1. This value means that this `Mixed GC` selects `old_region_length` of Old Regions in `collecion set` for recycling\r\n2. The lower limit of this value is [`min_old_cset_length`](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectionSet.cpp#L416), and the upper limit is [`max_old_cset_length`](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectionSet.cpp#L417)\r\n3. `min_old_cset_length` = [`the size of collection set / G1MixedGCCountTarget`](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1105). \r\n4. `max_old_cset_length` = [`the number of allocated regions in heap * G1OldCSetRegionThresholdPercent / 100`](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1126)\r\n5. Because G1 will strictly control each `GC Pause Time`, so the final old_region_length is constrained by the gc pause time. But Mixed GC will put as many regions in `collecion set` as possible into `old_region_length`, until the total time it takes to reclaim these regions is close to the estimated `GC Pause Time`.","title":"Consequences of setting G1HeapWastePercent to zero in G1","body":"<p>Firstly，I think you may have misunderstood the effect of <code>G1MixedGCLiveThresholdPercent</code> (the default value is 65% in Jdk7 and <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L235\" rel=\"nofollow noreferrer\">85%</a> in Jdk 11).\n<code>G1MixedGCLiveThresholdPercent</code> is not the space ratio of garbage objects, but the space ratio of live objects. If the space of live objects in a region exceeds 85% (in jdk11), then the region will not be selected into the\n<code>collection set</code> (region collection to be recycled)</p>\n<p>Secondly，<code>G1HeapWastePercent</code> (the default value is 10% in Jdk7 and <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L241\" rel=\"nofollow noreferrer\">5%</a> in Jdk11)\nis a condition for triggering Mixed GC and exiting Mixed GC.\nWhen the garbage objects in the <code>collection set</code> account for more than 5% (in jdk11) of the total heap allocated space,\nthe Mixed GC will be triggered, and one of the sufficient conditions for exiting the Mixed GC That is\nthe garbage object rate in the <code>collection set</code> is lower than 5%.</p>\n<p>Therefore, if <code>G1HeapWastePercent</code> is set to 0%, as long as there are garbage objects in the collection set, Mixed GC will be triggered.\nThen the sufficient condition for exiting Mixed GC will become that the <code>collection set</code> is empty,\nBecause every Mixed GC will remove the reclaimed region from the <code>collection set</code>.</p>\n<p>Finally, I want to explain to you the execution process of G1 GC, so that you can better understand the whole process.</p>\n<hr />\n<p>G1 contains 3 phases, <code>concurrent marking</code>, <code>Only Young GC</code>, and <code>Mixed GC</code>. The general process is as follows:</p>\n<ol>\n<li>At the end of <code>Only Young GC</code>, it will be judged whether it is necessary to start <code>concurrent marking</code></li>\n<li>After the <code>concurrent marking</code> is finish, the space occupied by live objects and garbage objects in each region (old generation) will be calculated.\n<ol>\n<li>Then the <code>collection set</code> (old region collection to be recycled) is generated, and only the old generation regions whose size of surviving objects account for the total size of the region exceeds G1MixedGCLiveThresholdPercent will enter the <code>collection set</code>.</li>\n<li>After that, sort the <code>collection set</code>, with the highest <code>_gc_efficiency</code> ranking first.</li>\n</ol>\n</li>\n<li>If <code>reclaimable_percent</code> of <code>collection set</code> exceeds <code>G1HeapWastePercent</code> %, then <code>Mixed GC</code> will be triggered later.</li>\n<li><code>Mixed GC</code> will select all young regions and <code>old_region_length</code> of old regions are reclaimed.\n<ol>\n<li>At the end of Mixed GC execution, if <code>reclaimable_percent</code> still exceeds <code>G1HeapWastePercent</code>%, then <code>Mixed GC</code> will be executed again later.</li>\n</ol>\n</li>\n</ol>\n<hr />\n<p>Let me explain several parameters and concepts mentioned below:</p>\n<h3>G1MixedGCLiveThresholdPercent</h3>\n<ol>\n<li>The default value in openjdk11 is 85, <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L235\" rel=\"nofollow noreferrer\">G1MixedGCLiveThresholdPercent</a></li>\n<li>The relevant use location is <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/collectionSetChooser.hpp#L105\" rel=\"nofollow noreferrer\">mixed_gc_live_threshold_bytes</a>, which is used to calculate the threshold of the survival rate of objects in a single region. Regions that exceed this threshold will not enter the <code>collection set</code>.</li>\n</ol>\n<h3>_gc_efficiency</h3>\n<ol>\n<li>The recycling value of a single region</li>\n<li>_gc_efficiency = <code>the size of garbage objects in a single region</code> / <code>the time it takes to transfer this region</code></li>\n<li>If there are more garbage objects in the region and the less time it takes to transfer, the _gc_efficiency will higher.</li>\n</ol>\n<h3>G1HeapWastePercent</h3>\n<ol>\n<li>The default value in openjdk11 is 5, <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L241\" rel=\"nofollow noreferrer\">G1HeapWastePercent</a></li>\n<li>The related code <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1094\" rel=\"nofollow noreferrer\">next_gc_should_be_mixed</a> is used to determine whether the next GC is <code>Mixed GC</code>.</li>\n</ol>\n<h3>reclaimable_percent</h3>\n<ol>\n<li>reclaimable_percent = <code>garbage object size</code> / <code>total space size</code></li>\n<li>The garbage object here refers to the total size of garbage objects in the <code>collection set</code></li>\n</ol>\n<h3>G1MixedGCCountTarget</h3>\n<ol>\n<li>The default value in openjdk11 is 8, <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L246\" rel=\"nofollow noreferrer\">G1MixedGCCountTarget</a></li>\n<li>Indicates that once Mixed GC is triggered, Expect to execute 8 Mixed GC.</li>\n</ol>\n<h3>G1OldCSetRegionThresholdPercent</h3>\n<ol>\n<li>The default value in openjdk11 is 10, <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1_globals.hpp#L264\" rel=\"nofollow noreferrer\">G1OldCSetRegionThresholdPercent</a></li>\n<li>Every time Mixed GC, the selected old_region_length has a maximum value</li>\n<li>The maximum value = <code>the number of allocated regions in heap</code> * 10 / 100</li>\n</ol>\n<h3>old_region_length</h3>\n<ol>\n<li>This value means that this <code>Mixed GC</code> selects <code>old_region_length</code> of Old Regions in <code>collecion set</code> for recycling</li>\n<li>The lower limit of this value is <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectionSet.cpp#L416\" rel=\"nofollow noreferrer\"><code>min_old_cset_length</code></a>, and the upper limit is <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectionSet.cpp#L417\" rel=\"nofollow noreferrer\"><code>max_old_cset_length</code></a></li>\n<li><code>min_old_cset_length</code> = <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1105\" rel=\"nofollow noreferrer\"><code>the size of collection set / G1MixedGCCountTarget</code></a>.</li>\n<li><code>max_old_cset_length</code> = <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/hotspot/share/gc/g1/g1Policy.cpp#L1126\" rel=\"nofollow noreferrer\"><code>the number of allocated regions in heap * G1OldCSetRegionThresholdPercent / 100</code></a></li>\n<li>Because G1 will strictly control each <code>GC Pause Time</code>, so the final old_region_length is constrained by the gc pause time. But Mixed GC will put as many regions in <code>collecion set</code> as possible into <code>old_region_length</code>, until the total time it takes to reclaim these regions is close to the estimated <code>GC Pause Time</code>.</li>\n</ol>\n"}],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70457888,"answer_count":1,"score":0,"last_activity_date":1640323955,"creation_date":1640135739,"question_id":70443249,"body_markdown":"Good day , I am using G1 in production(Hotspot JDK 11) and trying to understand how it works. As far as I understand , Old GC in G1 only cleans those regions which are full of garbage, otherwise regions are put into some queue.\r\n\r\n\r\nLater on Mixed GC is triggered and it will clean Young regions with  `amount of Old generations/G1MixedGCCountTarget` Old regions. Old regions to be scanned are determined by `G1MixedGCLiveThresholdPercent` which by default is 65% which is if 65 % of the region is garbage then it will be cleaned. \r\n\r\nHowever I am not sure if I understood the meaning of `G1HeapWastePercent`. \r\nFrom the official documentation\r\n\r\n&gt;Sets the percentage of heap that you are willing to waste. The Java &gt;HotSpot VM does not initiate the mixed garbage collection cycle when the &gt;reclaimable percentage is less than the heap waste percentage. The default is 10 percent. This setting is not available in Java HotSpot VM, build 23.\r\n\r\nSo let&#39;s say regions contains 65% of garbage. G1 started to move life objects from Young regions to single Old region that is filled with garbage, once this region only contains 10 % of the garbage then G1 switches to another old region region. If my assumption is correct then setting `G1HeapWastePercent` to 0 will fully fill this region with life objects. Is it correct ? And will I have any benefits setting G1HeapWastePercent to zero if time latency isn&#39;t a priority for my application ? ","title":"Consequences of setting G1HeapWastePercent to zero in G1","body":"<p>Good day , I am using G1 in production(Hotspot JDK 11) and trying to understand how it works. As far as I understand , Old GC in G1 only cleans those regions which are full of garbage, otherwise regions are put into some queue.</p>\n<p>Later on Mixed GC is triggered and it will clean Young regions with  <code>amount of Old generations/G1MixedGCCountTarget</code> Old regions. Old regions to be scanned are determined by <code>G1MixedGCLiveThresholdPercent</code> which by default is 65% which is if 65 % of the region is garbage then it will be cleaned.</p>\n<p>However I am not sure if I understood the meaning of <code>G1HeapWastePercent</code>.\nFrom the official documentation</p>\n<blockquote>\n<p>Sets the percentage of heap that you are willing to waste. The Java &gt;HotSpot VM does not initiate the mixed garbage collection cycle when the &gt;reclaimable percentage is less than the heap waste percentage. The default is 10 percent. This setting is not available in Java HotSpot VM, build 23.</p>\n</blockquote>\n<p>So let's say regions contains 65% of garbage. G1 started to move life objects from Young regions to single Old region that is filled with garbage, once this region only contains 10 % of the garbage then G1 switches to another old region region. If my assumption is correct then setting <code>G1HeapWastePercent</code> to 0 will fully fill this region with life objects. Is it correct ? And will I have any benefits setting G1HeapWastePercent to zero if time latency isn't a priority for my application ?</p>\n"},{"tags":["java","oauth-2.0","webclient","spring-security-oauth2","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":5253091,"reputation":1524,"user_id":4444577,"display_name":"Srinath Menon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640323365,"creation_date":1640323365,"answer_id":70469817,"question_id":70451305,"body_markdown":"    spring.security.oauth2.client.provider.apigee.token-uri=https://host/v1/authorization\r\n\r\nThis seems to be the problem here. The token-uri should be as follows:\r\n\r\n    https://hostname:port/oauth2/v2.0/token\r\n\r\nFor eg: If the IDP is Azure AD, the URI would be as follows:\r\n\r\n    https://login.microsoftonline.com/&lt;Client URI&gt;/oauth2/v2.0/token","title":"WebClient Oauth2 - Token type must be Bearer error","body":"<pre><code>spring.security.oauth2.client.provider.apigee.token-uri=https://host/v1/authorization\n</code></pre>\n<p>This seems to be the problem here. The token-uri should be as follows:</p>\n<pre><code>https://hostname:port/oauth2/v2.0/token\n</code></pre>\n<p>For eg: If the IDP is Azure AD, the URI would be as follows:</p>\n<pre><code>https://login.microsoftonline.com/&lt;Client URI&gt;/oauth2/v2.0/token\n</code></pre>\n"}],"owner":{"account_id":13433957,"reputation":11,"user_id":14082645,"display_name":"Edgar Lizcano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640323365,"creation_date":1640186400,"question_id":70451305,"body_markdown":"I&#39;m implementing a `WebClient` with OAuth2 authorization in Java 11 and Spring Boot. The authorization service responds `200` with the token, but then it shows me the following error:  \r\n`&quot;[invalid_token_response] An error occurred parsing the Access Token response: Token type must be Bearer&quot;`\r\n\r\nMy WebClient Config:\r\n```java\r\n    @Bean\r\n    public ReactiveClientRegistrationRepository clientRegistrations(\r\n            @Value(&quot;${spring.security.oauth2.client.provider.apigee.token-uri}&quot;) String tokenUri,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.client-id}&quot;) String clientId,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.client-secret}&quot;) String clientSecret,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.scope}&quot;) String scope,\r\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.authorization-grant-type}&quot;) String authorizationGrantType) {\r\n\r\n        ClientRegistration registration = ClientRegistration\r\n                .withRegistrationId(REGISTRATION_ID)\r\n                .tokenUri(tokenUri)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .scope(scope)\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n                .authorizationGrantType(new AuthorizationGrantType(authorizationGrantType))\r\n                .build();\r\n\r\n        return new InMemoryReactiveClientRegistrationRepository(registration);\r\n    }\r\n\r\n    @Bean\r\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                clientRegistrations, clientService);\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth.setDefaultClientRegistrationId(REGISTRATION_ID);\r\n        return WebClient.builder()\r\n                .filter(oauth)\r\n                .build();\r\n    }\r\n```\r\nAnd the properties\r\n```yaml\r\nspring.security.oauth2.client.registration.apigee.client-id=client-id\r\nspring.security.oauth2.client.registration.apigee.client-secret=client-secret\r\nspring.security.oauth2.client.registration.apigee.authorization-grant-type=client_credentials\r\nspring.security.oauth2.client.registration.apigee.client-authentication-method=client_secret_post\r\nspring.security.oauth2.client.registration.apigee.scope=write,read\r\nspring.security.oauth2.client.provider.apigee.token-uri=https://host/v1/authorization\r\n```","title":"WebClient Oauth2 - Token type must be Bearer error","body":"<p>I'm implementing a <code>WebClient</code> with OAuth2 authorization in Java 11 and Spring Boot. The authorization service responds <code>200</code> with the token, but then it shows me the following error:<br />\n<code>&quot;[invalid_token_response] An error occurred parsing the Access Token response: Token type must be Bearer&quot;</code></p>\n<p>My WebClient Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public ReactiveClientRegistrationRepository clientRegistrations(\n            @Value(&quot;${spring.security.oauth2.client.provider.apigee.token-uri}&quot;) String tokenUri,\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.client-id}&quot;) String clientId,\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.client-secret}&quot;) String clientSecret,\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.scope}&quot;) String scope,\n            @Value(&quot;${spring.security.oauth2.client.registration.apigee.authorization-grant-type}&quot;) String authorizationGrantType) {\n\n        ClientRegistration registration = ClientRegistration\n                .withRegistrationId(REGISTRATION_ID)\n                .tokenUri(tokenUri)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .scope(scope)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                .authorizationGrantType(new AuthorizationGrantType(authorizationGrantType))\n                .build();\n\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                clientRegistrations, clientService);\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth.setDefaultClientRegistrationId(REGISTRATION_ID);\n        return WebClient.builder()\n                .filter(oauth)\n                .build();\n    }\n</code></pre>\n<p>And the properties</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.security.oauth2.client.registration.apigee.client-id=client-id\nspring.security.oauth2.client.registration.apigee.client-secret=client-secret\nspring.security.oauth2.client.registration.apigee.authorization-grant-type=client_credentials\nspring.security.oauth2.client.registration.apigee.client-authentication-method=client_secret_post\nspring.security.oauth2.client.registration.apigee.scope=write,read\nspring.security.oauth2.client.provider.apigee.token-uri=https://host/v1/authorization\n</code></pre>\n"},{"tags":["java","kerberos","spnego"],"comments":[{"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"score":0,"creation_date":1462183290,"post_id":36965455,"comment_id":61514496,"body_markdown":"With RC4-HMAC1, it works... ;-(","body":"With RC4-HMAC1, it works... ;-("},{"owner":{"account_id":2439905,"reputation":585,"user_id":2128730,"accept_rate":75,"display_name":"David Fernandez"},"score":1,"creation_date":1462273156,"post_id":36965455,"comment_id":61557269,"body_markdown":"I am facing exactly the same problem. Not working with any AES, but working with RC4-HMAC. Checksum failed all the time...","body":"I am facing exactly the same problem. Not working with any AES, but working with RC4-HMAC. Checksum failed all the time..."},{"owner":{"account_id":1065714,"reputation":386,"user_id":5531239,"display_name":"jastang"},"score":0,"creation_date":1462545365,"post_id":36965455,"comment_id":61694732,"body_markdown":"on the AD account, did you check the boxes for &quot;this account supports Kerberos AES 128/256 bit encryption&quot;?","body":"on the AD account, did you check the boxes for &quot;this account supports Kerberos AES 128/256 bit encryption&quot;?"},{"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"score":0,"creation_date":1462603540,"post_id":36965455,"comment_id":61715237,"body_markdown":"No, I didn&#39;t. But I receive a Kerberos ticket encrypted with AES256 - I suppose because this is the default in newer Windows versions.","body":"No, I didn&#39;t. But I receive a Kerberos ticket encrypted with AES256 - I suppose because this is the default in newer Windows versions."},{"owner":{"account_id":1048391,"reputation":3074,"user_id":1052899,"display_name":"Fabiano Tarlao"},"score":1,"creation_date":1502883342,"post_id":36965455,"comment_id":78382823,"body_markdown":"I have posted an answer to a similar question [here](https://stackoverflow.com/a/45712445/1052899).","body":"I have posted an answer to a similar question <a href=\"https://stackoverflow.com/a/45712445/1052899\">here</a>."},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1511493039,"post_id":36965455,"comment_id":81886273,"body_markdown":"Is this system still up and running?  I have some ideas we can try out.","body":"Is this system still up and running?  I have some ideas we can try out."},{"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"score":0,"creation_date":1511509190,"post_id":36965455,"comment_id":81891129,"body_markdown":"Despite the question being old, the issue is still current. So: Thank you very much, any help is appreciated! ;)","body":"Despite the question being old, the issue is still current. So: Thank you very much, any help is appreciated! ;)"},{"owner":{"account_id":4166764,"reputation":181,"user_id":3415577,"display_name":"Blake Russo"},"score":0,"creation_date":1561493684,"post_id":36965455,"comment_id":100080170,"body_markdown":"I am seeing the same problem with arc hour hmac when using Java 1.8 SPENGO to forward tickets. Were you able to resolve this by selecting the check boxes on SPN to support AES128 + AES256 in AD? Should they be selected and what about pre-authentication? It fails in java debug right before then trys then keytab which returns this.","body":"I am seeing the same problem with arc hour hmac when using Java 1.8 SPENGO to forward tickets. Were you able to resolve this by selecting the check boxes on SPN to support AES128 + AES256 in AD? Should they be selected and what about pre-authentication? It fails in java debug right before then trys then keytab which returns this."},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1640273127,"post_id":36965455,"comment_id":124559404,"body_markdown":"Looks like you never read the (in)famous GitBook _&quot;Hadoop and Kerberos, the Madness beyond the Gate&quot;_ by Steve Loughran -- there are two chapters about cryptic error messages and some possible root causes https://steveloughran.gitbooks.io/kerberos_and_hadoop/content/sections/errors.html","body":"Looks like you never read the (in)famous GitBook <i>&quot;Hadoop and Kerberos, the Madness beyond the Gate&quot;</i> by Steve Loughran -- there are two chapters about cryptic error messages and some possible root causes <a href=\"https://steveloughran.gitbooks.io/kerberos_and_hadoop/content/sections/errors.html\" rel=\"nofollow noreferrer\">steveloughran.gitbooks.io/kerberos_and_hadoop/content/sectio&zwnj;&#8203;ns/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23729427,"reputation":1,"user_id":17748911,"display_name":"Alexey Glukhikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640267483,"creation_date":1640267483,"answer_id":70463053,"question_id":36965455,"body_markdown":"I seen this issue while using Java 17 and Spnego\r\n\r\nMy Keytab-file contained entries for AES128/256. We have enabled AES-token for the AD account through Support. Then I see a error &quot;checksum failed&quot; (KVN and password are not changed).\r\nSupport generates  keytab via ktpass. I replace it on the server and after restarting the application the error was resolved.\r\n\r\nI re-generated the keytab-file via ktab with the new kvn - keytab also worked.\r\n\r\nAfter enabling AES, you need &quot;refresh&quot; the account in AD for change the KVN parameter. And then the integration will work.","title":"SPNEGO / ActiveDirectory / AES256: Checksum failed","body":"<p>I seen this issue while using Java 17 and Spnego</p>\n<p>My Keytab-file contained entries for AES128/256. We have enabled AES-token for the AD account through Support. Then I see a error &quot;checksum failed&quot; (KVN and password are not changed).\nSupport generates  keytab via ktpass. I replace it on the server and after restarting the application the error was resolved.</p>\n<p>I re-generated the keytab-file via ktab with the new kvn - keytab also worked.</p>\n<p>After enabling AES, you need &quot;refresh&quot; the account in AD for change the KVN parameter. And then the integration will work.</p>\n"}],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1640321425,"creation_date":1462097476,"question_id":36965455,"body_markdown":"I am trying to use SPNEGO / Kerberos5 authentication with Active Directory 2008 and Java. I followed this guide: http://spnego.sourceforge.net/ - &quot;preflight&quot; went well, but later I get the famous exception:\r\n\r\n    Exception in thread &quot;main&quot; GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\r\n    \tat sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\r\n    \tat sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n    \tat sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n    \tat sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\r\n    \tat sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\r\n    \tat sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n    \tat sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n    \tat de.meona.auth.spnego.TestSpnegoAes.main(TestSpnegoAes.java:45)\r\n    Caused by: KrbException: Checksum failed\r\n    \tat sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\r\n\r\nI had a close look at this post, as the problem seems similar:\r\nhttps://stackoverflow.com/questions/8509087/checksum-failed-kerberos-spring-active-directory-2008\r\n\r\nIn order to make the problems reproducible, I wrote a small Java class. I was able to single-step to the line where the exception happens. I think it is because the secret service key used for decryption is different from the secret service key the Active Directory used to encrypt the service ticket. How can this be?\r\n\r\n    public class TestSpnegoAes {\r\n    \r\n    \tprivate static Oid spnegoOid = null;\r\n    \tprivate static String negotiate = &quot;YIIGowYGKwYBBQUCoIIGlzCCBpOgMDAuBgkqhkiC9xIBAgIGCSqGSIb3EgECAgYKKwYBBAGCNwICHgYKKwYBBAGCNwICCqKCBl0EggZZYIIGVQYJKoZIhvcSAQICAQBuggZEMIIGQKADAgEFoQMCAQ6iBwMFACAAAACjggTUYYIE0DCCBMygAwIBBaENGwtNRU9OQS5JTlRSQaIsMCqgAwIBAqEjMCEbBEhUVFAbGWV4ZS13dXR0a2UtMDMubWVvbmEuaW50cmGjggSGMIIEgqADAgESoQMCAQaiggR0BIIEcGT4WR3IzKSxdgGfSZwLUwXKs0AW+0MhOUR5NBQ7oFXdzBxPhEzZ+aNlYAGxiGgCiFFOIDFJuEJhsQ0+Iqd2EKf6VLYQXfRdGD0Zbi4Fzh1bpHzPzo+8UW1XffWg+nAUg7r/QKrkSLrLF0qIfRBseCP2khdKU0xwCRf197aPjJ8y35kGYF/IT3DRTJZbOCCCLPb7szhl3nnUuqfHLcoc//KzPuKKbMMdaw7w3ftZCk9Lx8GIxxxudSLsaa/v8jRtnFxvyLIz4j7CFJus98Qr9IB7oe/c2/L2CbrzdeBwX5MsYCHod0szWl/V7hs96RXtZauhw3dmB+W0PXEZiOBy50cfJLdIJjpPFTf/ET2+22lPbPsEWWxJwZegqMxFEuOTSIjcTigD3Ct5f5HqSuvNKY5J7e5Bk3sWNKdBxW73DRV7ncvX8CTdEVHubjKyc82cdVeOTHO6wGB0V+LQOrwhgmf16Ss5osynEv+rH38e2DH6rYCPKa3PrPnqHJfQ8kutjxjB8D6hQ1CHFXPrlY1j9j0ABJvZcL94N+BpRPLH+Ve78d4WBw3QBw3Aq0Xux/0NEjnznM6D2HEQpEoUZ+reVBp7wwZlXqOc9eVZH6IXys4nIrrQ13BLAi2KqLwZyglanL9vpVfA/zxT8lsZuzkhiowLniPs52kni04zVi5abu7QB0gTAUDAd44a9sXMGTj8UTZIef9TY3XBpKyyQGE5SJUdGSyh1SdhubErA0bHLWNsNhgKnFIA5gFimWA4LsLhEvnIK89vemlHj20VleU0Yre5tsdnMlOYsYOgsrBbL0wMqzIWXHAVjDLtC3+j2cW3PoSmC2FL7vDDPR7Y62x3o1pmyzioyId3LthqZA/G6f24w3xdiZKLCFEnAX3rY0jly7DwbWAByCJufJshGGZWOqOB39HPBxHhgrw/VtDWRGYBApfdSsmumZd3RsLM2xheodDHXjW4twFYM3M0CyvL97FuOuBGIdFceIGgI/kQENbaITLy7B9sxTVy+mT86Fac/a2wUWq+sdryLTdgtgMVZ/xlh79mReXXTdxnvchPtC68Q74KPNYAOitmDdM2tanIwLWcxdHAgMsEef605FDeuH+WjJyT8NomEtyaR9jTRK1/v2agbPZBAIlBkqMlC24/m5A6clxHDPtVKLKVl0/FfBIPdVx57FK6qrJu+QKcEU1sdkbAbanwq3EKCqHKwsyPFPjiP+ujqMF+h2fVD1hbLjaU3bGFodoT+mRQ7j/mwYE3YTBH/9rypzvO5MsVZDqkyqPbJcf/KX5I8Ta68wxaH32jxQBSAlQjVVqKYJNbB7ruJVLg5HZcMnFNz9d+jgYNVFDEl5Q2UgPYdfzspXpf22sX2NDHbhQOvAGXaIoTkhZIkBeCLEeiEE/VqPiqp9CdOtgwGDOzpt1U3Bd+i16MFC3Sd9zufWKQ+52E9r5sRjbypNG71xFykM3IzYMgGIk5/UDmJCHJ4JBGhK4VIoYOW73PU2ZMcu5GcbiSXDGXqTdHpIIBUTCCAU2gAwIBEqKCAUQEggFAJEhKQVHtVkOCR4BD4PkUujH+VvrWYRg2mGc3E4yxgs/asJqLKXHGjr2h08i89SAN63nG8VXuQt9Iwo50eqUOHVKtoRIyASzGQbTU/lIMVjyEg7++hf4Wq/7IJ1fQ4bKk8LSD7/ZawTmPTt0msKCfEDToc85h8fW0YH6SleqBVpbJDS+t2hVVHXhNLfqoC9CVsYsTWUqMLd0sno4b2bzyVxz15PBB007B/hv6JPiy6fH871HHZRImXJ+3pgQtNlVddpDI6dcPDi7+7CFSNnWwMYrixBMcsNj+GahROpiiEm8Mpu7zDNXVJNKmBufBBzE66YjuXYwFKIaVeTxo9/juv5Dy2gRxykoVR/Hq2J2aRuUWk69LbDu30mwQs1gw8n5V4vOujcXHqTJ59B9JixtOGLvNTCg25sVrk/+EmO/nhmc=&quot;;\r\n    \tprivate static GSSManager manager;\r\n    \r\n    \t// -Dsun.security.krb5.debug=true\r\n    \t// -Djava.security.auth.login.config=login.conf\r\n    \r\n    \tpublic static void main(String[] args) throws GSSException, LoginException, PrivilegedActionException {\r\n    \t\tspnegoOid = new Oid(&quot;1.3.6.1.5.5.2&quot;);\r\n    \r\n    \t\tmanager = GSSManager.getInstance();\r\n    \r\n    \t\tLoginContext loginContext = new LoginContext(&quot;spnego-server&quot;);\r\n    \t\tloginContext.login();\r\n    \r\n    \t\tSubject subject = loginContext.getSubject();\r\n    \t\tGSSCredential serviceCredentials = getServerCredential(subject);\r\n    \r\n    \t\tGSSContext context = manager.createContext(serviceCredentials);\r\n    \r\n    \t\tbyte[] token = Base64.decode(negotiate);\r\n    \t\tcontext.acceptSecContext(token, 0, token.length);\r\n    \t}\r\n    \r\n    \tstatic GSSCredential getServerCredential(final Subject subject) throws PrivilegedActionException {\r\n    \r\n    \t\tfinal PrivilegedExceptionAction&lt;GSSCredential&gt; action = new PrivilegedExceptionAction&lt;GSSCredential&gt;() {\r\n    \t\t\tpublic GSSCredential run() throws GSSException {\r\n    \t\t\t\treturn manager.createCredential(null, GSSCredential.INDEFINITE_LIFETIME, spnegoOid,\r\n    \t\t\t\t\t\tGSSCredential.ACCEPT_ONLY);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\treturn Subject.doAs(subject, action);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThis is my login.conf file:\r\n\r\n    spnego-server {\r\n    \tcom.sun.security.auth.module.Krb5LoginModule required\r\n    \tuseKeyTab=true\r\n    \tstoreKey=true\r\n    \tisInitiator=false\r\n    \tkeyTab=&quot;file:///C:/Temp/krbtest/meona-service.keytab&quot; \r\n    \tprincipal=meona-service;\r\n    };\r\n\r\nI you would like to reproduce, I am happy to give the keytab file as well. It was produced on the PDC using &quot;kpass /out keytab /princ meona-service@meona.intra /pass ... /crypto AES256-SHA1 /ptype KRB5_NT_PRINCIPAL&quot;.\r\n\r\nAs the LoginContext login succeeds, I think the key is recovered successfully.\r\n\r\nThis is the stdout:\r\n\r\n    Java config name: null\r\n    Native config name: C:\\Windows\\krb5.ini\r\n    Found KeyTab C:\\Temp\\krbtest\\meona-service.keytab for meona-service@meona.intra\r\n    Found KeyTab C:\\Temp\\krbtest\\meona-service.keytab for meona-service@meona.intra\r\n    Entered Krb5Context.acceptSecContext with state=STATE_NEW\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): MEONA.INTRA\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): meona-service\r\n    &gt;&gt;&gt; KeyTab: load() entry length: 75; type: 18\r\n    Looking for keys for: meona-service@meona.intra\r\n    Added key: 18version: 1\r\n    &gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\r\n    Exception in thread &quot;main&quot; GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\r\n    \tat sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\r\n\r\nIf I do not use a keytab, but use pre-authentication, I am able to recover the key, but get the same error later on.\r\n\r\nAny ideas?\r\n\r\n\r\n\r\nHere is the krb5.conf I used to generate the SPNEGO negotiate header.\r\n\r\n    [libdefaults]\r\n    \tdefault_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\r\n    \tdefault_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\r\n    \tpermitted_enctypes   = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\r\n    \tdefault_realm = MEONA.INTRA\r\n    \t\r\n    [realms]\r\n    \tMEONA.INTRA = {\r\n    \t\tkdc = pdc.meona.intra\r\n    \t\tdefault_domain = MEONA.INTRA\r\n    }\r\n    \r\n    [domain_realm]\r\n    \t.MEONA.INTRA = MEONA.INTRA \r\n\r\nI tried different variants (with/without &quot;.intra&quot;, uppercase/lowercase), without success. **But after changing the ticket encryption (using the settings of the AD service user) to ARC4/HMAC1, everything works as expected - what is the problem with AES256?**","title":"SPNEGO / ActiveDirectory / AES256: Checksum failed","body":"<p>I am trying to use SPNEGO / Kerberos5 authentication with Active Directory 2008 and Java. I followed this guide: <a href=\"http://spnego.sourceforge.net/\" rel=\"nofollow noreferrer\">http://spnego.sourceforge.net/</a> - \"preflight\" went well, but later I get the famous exception:</p>\n\n<pre><code>Exception in thread \"main\" GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\n    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\n    at sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at de.meona.auth.spnego.TestSpnegoAes.main(TestSpnegoAes.java:45)\nCaused by: KrbException: Checksum failed\n    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\n</code></pre>\n\n<p>I had a close look at this post, as the problem seems similar:\n<a href=\"https://stackoverflow.com/questions/8509087/checksum-failed-kerberos-spring-active-directory-2008\">checksum failed: Kerberos / Spring / Active Directory (2008)</a></p>\n\n<p>In order to make the problems reproducible, I wrote a small Java class. I was able to single-step to the line where the exception happens. I think it is because the secret service key used for decryption is different from the secret service key the Active Directory used to encrypt the service ticket. How can this be?</p>\n\n<pre><code>public class TestSpnegoAes {\n\n    private static Oid spnegoOid = null;\n    private static String negotiate = \"YIIGowYGKwYBBQUCoIIGlzCCBpOgMDAuBgkqhkiC9xIBAgIGCSqGSIb3EgECAgYKKwYBBAGCNwICHgYKKwYBBAGCNwICCqKCBl0EggZZYIIGVQYJKoZIhvcSAQICAQBuggZEMIIGQKADAgEFoQMCAQ6iBwMFACAAAACjggTUYYIE0DCCBMygAwIBBaENGwtNRU9OQS5JTlRSQaIsMCqgAwIBAqEjMCEbBEhUVFAbGWV4ZS13dXR0a2UtMDMubWVvbmEuaW50cmGjggSGMIIEgqADAgESoQMCAQaiggR0BIIEcGT4WR3IzKSxdgGfSZwLUwXKs0AW+0MhOUR5NBQ7oFXdzBxPhEzZ+aNlYAGxiGgCiFFOIDFJuEJhsQ0+Iqd2EKf6VLYQXfRdGD0Zbi4Fzh1bpHzPzo+8UW1XffWg+nAUg7r/QKrkSLrLF0qIfRBseCP2khdKU0xwCRf197aPjJ8y35kGYF/IT3DRTJZbOCCCLPb7szhl3nnUuqfHLcoc//KzPuKKbMMdaw7w3ftZCk9Lx8GIxxxudSLsaa/v8jRtnFxvyLIz4j7CFJus98Qr9IB7oe/c2/L2CbrzdeBwX5MsYCHod0szWl/V7hs96RXtZauhw3dmB+W0PXEZiOBy50cfJLdIJjpPFTf/ET2+22lPbPsEWWxJwZegqMxFEuOTSIjcTigD3Ct5f5HqSuvNKY5J7e5Bk3sWNKdBxW73DRV7ncvX8CTdEVHubjKyc82cdVeOTHO6wGB0V+LQOrwhgmf16Ss5osynEv+rH38e2DH6rYCPKa3PrPnqHJfQ8kutjxjB8D6hQ1CHFXPrlY1j9j0ABJvZcL94N+BpRPLH+Ve78d4WBw3QBw3Aq0Xux/0NEjnznM6D2HEQpEoUZ+reVBp7wwZlXqOc9eVZH6IXys4nIrrQ13BLAi2KqLwZyglanL9vpVfA/zxT8lsZuzkhiowLniPs52kni04zVi5abu7QB0gTAUDAd44a9sXMGTj8UTZIef9TY3XBpKyyQGE5SJUdGSyh1SdhubErA0bHLWNsNhgKnFIA5gFimWA4LsLhEvnIK89vemlHj20VleU0Yre5tsdnMlOYsYOgsrBbL0wMqzIWXHAVjDLtC3+j2cW3PoSmC2FL7vDDPR7Y62x3o1pmyzioyId3LthqZA/G6f24w3xdiZKLCFEnAX3rY0jly7DwbWAByCJufJshGGZWOqOB39HPBxHhgrw/VtDWRGYBApfdSsmumZd3RsLM2xheodDHXjW4twFYM3M0CyvL97FuOuBGIdFceIGgI/kQENbaITLy7B9sxTVy+mT86Fac/a2wUWq+sdryLTdgtgMVZ/xlh79mReXXTdxnvchPtC68Q74KPNYAOitmDdM2tanIwLWcxdHAgMsEef605FDeuH+WjJyT8NomEtyaR9jTRK1/v2agbPZBAIlBkqMlC24/m5A6clxHDPtVKLKVl0/FfBIPdVx57FK6qrJu+QKcEU1sdkbAbanwq3EKCqHKwsyPFPjiP+ujqMF+h2fVD1hbLjaU3bGFodoT+mRQ7j/mwYE3YTBH/9rypzvO5MsVZDqkyqPbJcf/KX5I8Ta68wxaH32jxQBSAlQjVVqKYJNbB7ruJVLg5HZcMnFNz9d+jgYNVFDEl5Q2UgPYdfzspXpf22sX2NDHbhQOvAGXaIoTkhZIkBeCLEeiEE/VqPiqp9CdOtgwGDOzpt1U3Bd+i16MFC3Sd9zufWKQ+52E9r5sRjbypNG71xFykM3IzYMgGIk5/UDmJCHJ4JBGhK4VIoYOW73PU2ZMcu5GcbiSXDGXqTdHpIIBUTCCAU2gAwIBEqKCAUQEggFAJEhKQVHtVkOCR4BD4PkUujH+VvrWYRg2mGc3E4yxgs/asJqLKXHGjr2h08i89SAN63nG8VXuQt9Iwo50eqUOHVKtoRIyASzGQbTU/lIMVjyEg7++hf4Wq/7IJ1fQ4bKk8LSD7/ZawTmPTt0msKCfEDToc85h8fW0YH6SleqBVpbJDS+t2hVVHXhNLfqoC9CVsYsTWUqMLd0sno4b2bzyVxz15PBB007B/hv6JPiy6fH871HHZRImXJ+3pgQtNlVddpDI6dcPDi7+7CFSNnWwMYrixBMcsNj+GahROpiiEm8Mpu7zDNXVJNKmBufBBzE66YjuXYwFKIaVeTxo9/juv5Dy2gRxykoVR/Hq2J2aRuUWk69LbDu30mwQs1gw8n5V4vOujcXHqTJ59B9JixtOGLvNTCg25sVrk/+EmO/nhmc=\";\n    private static GSSManager manager;\n\n    // -Dsun.security.krb5.debug=true\n    // -Djava.security.auth.login.config=login.conf\n\n    public static void main(String[] args) throws GSSException, LoginException, PrivilegedActionException {\n        spnegoOid = new Oid(\"1.3.6.1.5.5.2\");\n\n        manager = GSSManager.getInstance();\n\n        LoginContext loginContext = new LoginContext(\"spnego-server\");\n        loginContext.login();\n\n        Subject subject = loginContext.getSubject();\n        GSSCredential serviceCredentials = getServerCredential(subject);\n\n        GSSContext context = manager.createContext(serviceCredentials);\n\n        byte[] token = Base64.decode(negotiate);\n        context.acceptSecContext(token, 0, token.length);\n    }\n\n    static GSSCredential getServerCredential(final Subject subject) throws PrivilegedActionException {\n\n        final PrivilegedExceptionAction&lt;GSSCredential&gt; action = new PrivilegedExceptionAction&lt;GSSCredential&gt;() {\n            public GSSCredential run() throws GSSException {\n                return manager.createCredential(null, GSSCredential.INDEFINITE_LIFETIME, spnegoOid,\n                        GSSCredential.ACCEPT_ONLY);\n            }\n        };\n        return Subject.doAs(subject, action);\n    }\n\n}\n</code></pre>\n\n<p>This is my login.conf file:</p>\n\n<pre><code>spnego-server {\n    com.sun.security.auth.module.Krb5LoginModule required\n    useKeyTab=true\n    storeKey=true\n    isInitiator=false\n    keyTab=\"file:///C:/Temp/krbtest/meona-service.keytab\" \n    principal=meona-service;\n};\n</code></pre>\n\n<p>I you would like to reproduce, I am happy to give the keytab file as well. It was produced on the PDC using \"kpass /out keytab /princ meona-service@meona.intra /pass ... /crypto AES256-SHA1 /ptype KRB5_NT_PRINCIPAL\".</p>\n\n<p>As the LoginContext login succeeds, I think the key is recovered successfully.</p>\n\n<p>This is the stdout:</p>\n\n<pre><code>Java config name: null\nNative config name: C:\\Windows\\krb5.ini\nFound KeyTab C:\\Temp\\krbtest\\meona-service.keytab for meona-service@meona.intra\nFound KeyTab C:\\Temp\\krbtest\\meona-service.keytab for meona-service@meona.intra\nEntered Krb5Context.acceptSecContext with state=STATE_NEW\n&gt;&gt;&gt; KeyTabInputStream, readName(): MEONA.INTRA\n&gt;&gt;&gt; KeyTabInputStream, readName(): meona-service\n&gt;&gt;&gt; KeyTab: load() entry length: 75; type: 18\nLooking for keys for: meona-service@meona.intra\nAdded key: 18version: 1\n&gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\nException in thread \"main\" GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\n    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\n</code></pre>\n\n<p>If I do not use a keytab, but use pre-authentication, I am able to recover the key, but get the same error later on.</p>\n\n<p>Any ideas?</p>\n\n<p>Here is the krb5.conf I used to generate the SPNEGO negotiate header.</p>\n\n<pre><code>[libdefaults]\n    default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\n    default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\n    permitted_enctypes   = aes256-cts-hmac-sha1-96 aes128-cts rc4-hmac des3-cbc-sha1 des-cbc-md5 des-cbc-crc\n    default_realm = MEONA.INTRA\n\n[realms]\n    MEONA.INTRA = {\n        kdc = pdc.meona.intra\n        default_domain = MEONA.INTRA\n}\n\n[domain_realm]\n    .MEONA.INTRA = MEONA.INTRA \n</code></pre>\n\n<p>I tried different variants (with/without \".intra\", uppercase/lowercase), without success. <strong>But after changing the ticket encryption (using the settings of the AD service user) to ARC4/HMAC1, everything works as expected - what is the problem with AES256?</strong></p>\n"},{"tags":["java","bash","jar","javadoc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640323560,"post_id":70469600,"comment_id":124569710,"body_markdown":"So what are you asking?  How to generate the javadoc?  How to include the generated javadoc in a JAR?  How to make your application browse / show the javadocs?  How to get an IDE to show it?  Please clarify.","body":"So what are you asking?  How to generate the javadoc?  How to include the generated javadoc in a JAR?  How to make your application browse / show the javadocs?  How to get an IDE to show it?  Please clarify."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640324088,"post_id":70469600,"comment_id":124569794,"body_markdown":"By the way, the `jar` command doesn&#39;t do wildcard expansion, so `src/**/*.java` probably won&#39;t expand as you might hope it would.  The expansion is handled by your command shell.","body":"By the way, the <code>jar</code> command doesn&#39;t do wildcard expansion, so <code>src&#47;**&#47;*.java</code> probably won&#39;t expand as you might hope it would.  The expansion is handled by your command shell."},{"owner":{"account_id":13561344,"reputation":11,"user_id":17752965,"display_name":"Synergetic"},"score":0,"creation_date":1640329698,"post_id":70469600,"comment_id":124570602,"body_markdown":"@StephenC How would I include the javadoc in the jarfile, so that an IDE would show it yes. I know about the javadoc command to generate HTML variant, but that&#39;s not what I want","body":"@StephenC How would I include the javadoc in the jarfile, so that an IDE would show it yes. I know about the javadoc command to generate HTML variant, but that&#39;s not what I want"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640348115,"post_id":70469600,"comment_id":124574579,"body_markdown":"Well, an IDE doesn&#39;t look for javadocs.  It looks for Java source code, and produces extracts the document snippets on the fly.   And you typically don&#39;t put your source code in your main JAR file, you put it into a separate JAR (or ZIP) file to your compiled code.  But the answer is that you create the JAR / ZIP file like an ordinary one.  You prepare a list of all of the pathnames and  pass them to the `jar` command.  (Like the `jar` manual says ...)","body":"Well, an IDE doesn&#39;t look for javadocs.  It looks for Java source code, and produces extracts the document snippets on the fly.   And you typically don&#39;t put your source code in your main JAR file, you put it into a separate JAR (or ZIP) file to your compiled code.  But the answer is that you create the JAR / ZIP file like an ordinary one.  You prepare a list of all of the pathnames and  pass them to the <code>jar</code> command.  (Like the <code>jar</code> manual says ...)"}],"owner":{"account_id":13561344,"reputation":11,"user_id":17752965,"display_name":"Synergetic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640320616,"creation_date":1640320616,"question_id":70469600,"body_markdown":"Here is my current bash script that lets you compile java sources to class files in the bin directory and then to copy it to a dedicated directory so imports won&#39;t be `import bin.library.Class` but just `import library.Class`. I&#39;ve seen other threads, but they&#39;re either using Eclipse or running a java project while having JARs in a lib folder. *If you&#39;re wondering how to do that `java -cp &#39;bin/;lib/*&#39; main.Main`*\r\n\r\n**Current script that allows for compilation with class files**\r\n\r\n```bash\r\njavac -d bin $(find . -name &quot;*.java&quot;)\r\ncp -r ./bin/library ./library\r\njar cf0 TestLibrary.jar library/**/*.class\r\nrm -r library\r\n```\r\n\r\nI know there is like `-uf` to add files to my JAR file, but adding the `src/**/*.java` files does not work at all. Essentially I want when I include my Java library in the `.classpath` using the line `&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/TestLibrary.jar&quot;/&gt;` I want when I hover over a method I can see the Javadoc I have in my source files.","title":"Including source files / javadoc comments in compiled JAR file using Bash scripting","body":"<p>Here is my current bash script that lets you compile java sources to class files in the bin directory and then to copy it to a dedicated directory so imports won't be <code>import bin.library.Class</code> but just <code>import library.Class</code>. I've seen other threads, but they're either using Eclipse or running a java project while having JARs in a lib folder. <em>If you're wondering how to do that <code>java -cp 'bin/;lib/*' main.Main</code></em></p>\n<p><strong>Current script that allows for compilation with class files</strong></p>\n<pre class=\"lang-sh prettyprint-override\"><code>javac -d bin $(find . -name &quot;*.java&quot;)\ncp -r ./bin/library ./library\njar cf0 TestLibrary.jar library/**/*.class\nrm -r library\n</code></pre>\n<p>I know there is like <code>-uf</code> to add files to my JAR file, but adding the <code>src/**/*.java</code> files does not work at all. Essentially I want when I include my Java library in the <code>.classpath</code> using the line <code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/TestLibrary.jar&quot;/&gt;</code> I want when I hover over a method I can see the Javadoc I have in my source files.</p>\n"},{"tags":["java","selenium","jenkins","selenium-webdriver"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1582241203,"post_id":60326743,"comment_id":106719876,"body_markdown":"Can you include the exact error message and stack trace? Can you post the plain text output of the build in Jenkins? We need more information to solve your problem.","body":"Can you include the exact error message and stack trace? Can you post the plain text output of the build in Jenkins? We need more information to solve your problem."},{"owner":{"account_id":17809367,"reputation":1,"user_id":12934354,"display_name":"Yaswanth"},"score":0,"creation_date":1582297218,"post_id":60326743,"comment_id":106739992,"body_markdown":"I got it solved by replacing the hostname with ip address of the machine. Thanks eg:http://hostname:4444/wd/hub to http://ipaddress:4444/wd/hub","body":"I got it solved by replacing the hostname with ip address of the machine. Thanks eg:<a href=\"http://hostname:4444/wd/hub\" rel=\"nofollow noreferrer\">hostname:4444/wd/hub</a> to <a href=\"http://ipaddress:4444/wd/hub\" rel=\"nofollow noreferrer\">ipaddress:4444/wd/hub</a>"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1582328895,"post_id":60326743,"comment_id":106752724,"body_markdown":"Update the question with the error stack trace","body":"Update the question with the error stack trace"}],"answers":[{"tags":[],"owner":{"account_id":14134607,"reputation":416,"user_id":10214027,"display_name":"Tork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640319932,"creation_date":1640319932,"answer_id":70469554,"question_id":60326743,"body_markdown":"I faced the same issue.\r\n\r\nFor those who have installed selenium grid in the same machine running the tests, simply use:\r\n\r\n        http://localhost:4444","title":"Getting java.net.unknown host exception when trying to selenium scripts remotely in grid from jenkins running in linux","body":"<p>I faced the same issue.</p>\n<p>For those who have installed selenium grid in the same machine running the tests, simply use:</p>\n<pre><code>    http://localhost:4444\n</code></pre>\n"}],"owner":{"account_id":17809367,"reputation":1,"user_id":12934354,"display_name":"Yaswanth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640319932,"creation_date":1582224715,"question_id":60326743,"body_markdown":"Can anyone help me on below problem\r\n\r\nJenkins running in Linux server trying to run selenium scripts in selenium grid hosted in Windows\r\nStage in Jenkinsfile:\r\n\r\n    Stage(&quot;Functionaltest&quot;)\r\n    Checkout:scm\r\n    steps.sh(script: Gradle Functionaltest)\r\n\r\nThanks,\r\nYaswanth","title":"Getting java.net.unknown host exception when trying to selenium scripts remotely in grid from jenkins running in linux","body":"<p>Can anyone help me on below problem</p>\n\n<p>Jenkins running in Linux server trying to run selenium scripts in selenium grid hosted in Windows\nStage in Jenkinsfile:</p>\n\n<pre><code>Stage(\"Functionaltest\")\nCheckout:scm\nsteps.sh(script: Gradle Functionaltest)\n</code></pre>\n\n<p>Thanks,\nYaswanth</p>\n"},{"tags":["java","selenium","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1615319531,"post_id":66553745,"comment_id":117653315,"body_markdown":"Unit tests belong to `src/test/java/&lt;package&gt;/XClassTest.java` and the test framework should be defined with scope:test and not with `compile` scope. Also make the test class follow naming convention like `*Test.java` ...","body":"Unit tests belong to <code>src&#47;test&#47;java&#47;&lt;package&gt;&#47;XClassTest.java</code> and the test framework should be defined with scope:test and not with <code>compile</code> scope. Also make the test class follow naming convention like <code>*Test.java</code> ..."},{"owner":{"account_id":12541862,"reputation":1,"user_id":9126542,"display_name":"UltraKill"},"score":0,"creation_date":1615319979,"post_id":66553745,"comment_id":117653467,"body_markdown":"first advice is followed. Second it was earlier scoped to test but it was throwing error even for java file in /src/test/java in eclipse run itself, so I followed  another stackoverflow advices and changed to compile which then it resolved those erros and made it eclipse executable. third is followed as well. Testutil do not have any test itself, it just have dataproviders which are required for test. So it doesn&#39;t make sense to name it as test.","body":"first advice is followed. Second it was earlier scoped to test but it was throwing error even for java file in /src/test/java in eclipse run itself, so I followed  another stackoverflow advices and changed to compile which then it resolved those erros and made it eclipse executable. third is followed as well. Testutil do not have any test itself, it just have dataproviders which are required for test. So it doesn&#39;t make sense to name it as test."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1615321288,"post_id":66553745,"comment_id":117653980,"body_markdown":"Running in Eclipse is not helpful. First check should be always the plain command line... Yes ok fine to name Testutils that way but it should be put into `src/test/java` as well (it belongs to the test classes) The compile scope is simply wrong. Apart from that you should never put an absolute path in your code... that works only on a single machine...","body":"Running in Eclipse is not helpful. First check should be always the plain command line... Yes ok fine to name Testutils that way but it should be put into <code>src&#47;test&#47;java</code> as well (it belongs to the test classes) The compile scope is simply wrong. Apart from that you should never put an absolute path in your code... that works only on a single machine..."}],"answers":[{"tags":[],"owner":{"account_id":5664592,"reputation":46,"user_id":4481094,"display_name":"Rahul Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615350166,"creation_date":1615350166,"answer_id":66558348,"question_id":66553745,"body_markdown":"Change the scope of the dependency\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.10&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\nor you can try remove the scope\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;6.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nare you placing the test classes inside the default test package, then its need to be changed to under **src** (if its a automation project)","title":"Maven won&#39;t recognise testNG annotation for files in &#39;/src/main/java&#39; when maven test is executed through cmd","body":"<p>Change the scope of the dependency</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.10&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>or you can try remove the scope</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;6.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>are you placing the test classes inside the default test package, then its need to be changed to under <strong>src</strong> (if its a automation project)</p>\n"},{"tags":[],"owner":{"account_id":12541862,"reputation":1,"user_id":9126542,"display_name":"UltraKill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636455147,"creation_date":1636455147,"answer_id":69896841,"question_id":66553745,"body_markdown":"In case anybody faced same problem, take a look at the classpath of your project. It should point to the actual repository. In my case I was initially pointing it towards the eclipse project when I ran it in cmd thus it kept throwing error.","title":"Maven won&#39;t recognise testNG annotation for files in &#39;/src/main/java&#39; when maven test is executed through cmd","body":"<p>In case anybody faced same problem, take a look at the classpath of your project. It should point to the actual repository. In my case I was initially pointing it towards the eclipse project when I ran it in cmd thus it kept throwing error.</p>\n"},{"tags":[],"owner":{"account_id":8469754,"reputation":61,"user_id":7742878,"display_name":"swngstack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640319275,"creation_date":1640319275,"answer_id":70469498,"question_id":66553745,"body_markdown":"I was facing same issue and followed what [Rahul Das][1] said but made a slight change; I updated the scope of the dependency to `&lt;scope&gt;compile&lt;/scope&gt;`.\r\n\r\nSo finally the dependency will look like:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n\r\nThat update in **scope** did the trick for me\r\n\r\n  [1]: https://stackoverflow.com/a/66558348/7742878","title":"Maven won&#39;t recognise testNG annotation for files in &#39;/src/main/java&#39; when maven test is executed through cmd","body":"<p>I was facing same issue and followed what <a href=\"https://stackoverflow.com/a/66558348/7742878\">Rahul Das</a> said but made a slight change; I updated the scope of the dependency to <code>&lt;scope&gt;compile&lt;/scope&gt;</code>.</p>\n<p>So finally the dependency will look like:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>That update in <strong>scope</strong> did the trick for me</p>\n"}],"owner":{"account_id":12541862,"reputation":1,"user_id":9126542,"display_name":"UltraKill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640319275,"creation_date":1615319211,"question_id":66553745,"body_markdown":"I am facing particular issue that when I run the project as maven test in eclipse it runs fine. But when I try to execute the same in command line, build fails with errors like followings - \r\n\r\n&gt; //src/main/java/com/qa/util/TestUtil.java:[10,18] package org.testng\r\n&gt; does not exist [ERROR]\r\n&gt; //src/main/java/com/qa/util/TestUtil.java:[11,30] package\r\n&gt; org.testng.annotations does not exist [ERROR]\r\n&gt; //src/main/java/com/qa/util/TestUtil.java:[64,35] cannot find symbol\r\n&gt; [ERROR]   symbol:   class ITestContext [ERROR]   location: class\r\n&gt; com.eBusiness.qa.util.TestUtil\r\n\r\nOut of curiosity I also tried moving entire /java folder under test folder but the issue remain. What is wrong in my configuration?\r\n\r\nMy TestUtil.java file:\r\n\r\n    package com.qa.util;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    \r\n    \r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    \r\n    import com.eBusiness.qa.base.TestBase;\r\n    \r\n    public class TestUtil extends TestBase{\r\n    \t\r\n    \tpublic static long PAGE_LOAD_TIMEOUT = 60;\r\n    \tpublic static long IMPLICIT_WAIT = 20;\t\r\n    \t\r\n    \tstatic Workbook book;\r\n    \tstatic Sheet sheet;\r\n    \r\n    \t@DataProvider(name=&quot;test&quot;)\r\n    \tpublic static Object[][] getTestData2() throws IOException { \r\n    \t\tFileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\Teju\\\\Downloads\\\\payrollDps.xlsx&quot;);\r\n    \t\tsheet = book.getSheet(&quot;allowance&quot;);\r\n    \t\tObject[][] data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\r\n            int noOfColumns = sheet.getRow(0).getLastCellNum();\r\n            //System.out.println(noOfColumns);\r\n            String[] Headers = new String[noOfColumns];\r\n            for (int j=0;j&lt;noOfColumns;j++){\r\n                Headers[j] = sheet.getRow(0).getCell(j).getStringCellValue();\r\n            }\r\n                for (int a=0;a&lt;noOfColumns;a++){\r\n                    if(Headers[a].equals(&quot;Allowance Name&quot;)){\r\n                    \tfor (int i = 1; i &lt; sheet.getLastRowNum(); i++) {\r\n                    \t\tdata[i][a] = sheet.getRow(i).getCell(a).toString();\r\n                    \t\t}\r\n                     }\r\n                }\r\n                try {book.close();} catch (IOException e) {\te.printStackTrace();}\r\n    \t\t  return data;\r\n    \t}\t\r\n    \t\t\r\n    \t@DataProvider(name=&quot;Data&quot;)\r\n        public Object[][] getDataFromDataprovider(){\r\n        return new Object[][] \r\n        \t{\r\n                { &quot;ATitle&quot; , &quot;Adesc&quot;},\r\n            };\r\n    \t}\r\n    \t\r\n    \tpublic static void refreshPage(){\r\n    \t\tdriver.navigate().refresh();\r\n    \t}\r\n    \t\r\n    \tpublic static void takeScreenshotAtEndOfTest() throws IOException {\r\n    \t\tFile scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n    \t\tString currentDir = System.getProperty(&quot;user.dir&quot;);\t\t\r\n    \t\tFileUtils.copyFile(scrFile, new File(currentDir + &quot;/screenshots/&quot; + System.currentTimeMillis() + &quot;.png&quot;));\r\n    \t\t\r\n    \t\t}\t\r\n    }\r\n\r\nAlso my pom if needed:\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;HRMS&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;eBusinessAutomation&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;name&gt;project&lt;/name&gt;\r\n\t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n\t&lt;url&gt;https://www.github.com&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;jcenter&lt;/id&gt;\r\n\t\t\t&lt;name&gt;bintray&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;21.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.0-alpha-7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;com.springsource.org.junit&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.7.5&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.7.5&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openxml4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-beta&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paulhammant&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ngwebdriver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.41.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n\t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t &lt;!-- This is added to create java project --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- Attach the shade into the package phase --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;com.mkyong.hashing.App&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;useSystemClassLoader&gt;true&lt;/useSystemClassLoader&gt;\r\n\t\t\t\t\t\t\t&lt;suiteXmlFiles&gt;code_test_run&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;","title":"Maven won&#39;t recognise testNG annotation for files in &#39;/src/main/java&#39; when maven test is executed through cmd","body":"<p>I am facing particular issue that when I run the project as maven test in eclipse it runs fine. But when I try to execute the same in command line, build fails with errors like followings -</p>\n<blockquote>\n<p>//src/main/java/com/qa/util/TestUtil.java:[10,18] package org.testng\ndoes not exist [ERROR]\n//src/main/java/com/qa/util/TestUtil.java:[11,30] package\norg.testng.annotations does not exist [ERROR]\n//src/main/java/com/qa/util/TestUtil.java:[64,35] cannot find symbol\n[ERROR]   symbol:   class ITestContext [ERROR]   location: class\ncom.eBusiness.qa.util.TestUtil</p>\n</blockquote>\n<p>Out of curiosity I also tried moving entire /java folder under test folder but the issue remain. What is wrong in my configuration?</p>\n<p>My TestUtil.java file:</p>\n<pre><code>package com.qa.util;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\nimport org.testng.annotations.DataProvider;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\n\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\n\nimport com.eBusiness.qa.base.TestBase;\n\npublic class TestUtil extends TestBase{\n    \n    public static long PAGE_LOAD_TIMEOUT = 60;\n    public static long IMPLICIT_WAIT = 20;  \n    \n    static Workbook book;\n    static Sheet sheet;\n\n    @DataProvider(name=&quot;test&quot;)\n    public static Object[][] getTestData2() throws IOException { \n        FileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\Teju\\\\Downloads\\\\payrollDps.xlsx&quot;);\n        sheet = book.getSheet(&quot;allowance&quot;);\n        Object[][] data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\n        int noOfColumns = sheet.getRow(0).getLastCellNum();\n        //System.out.println(noOfColumns);\n        String[] Headers = new String[noOfColumns];\n        for (int j=0;j&lt;noOfColumns;j++){\n            Headers[j] = sheet.getRow(0).getCell(j).getStringCellValue();\n        }\n            for (int a=0;a&lt;noOfColumns;a++){\n                if(Headers[a].equals(&quot;Allowance Name&quot;)){\n                    for (int i = 1; i &lt; sheet.getLastRowNum(); i++) {\n                        data[i][a] = sheet.getRow(i).getCell(a).toString();\n                        }\n                 }\n            }\n            try {book.close();} catch (IOException e) { e.printStackTrace();}\n          return data;\n    }   \n        \n    @DataProvider(name=&quot;Data&quot;)\n    public Object[][] getDataFromDataprovider(){\n    return new Object[][] \n        {\n            { &quot;ATitle&quot; , &quot;Adesc&quot;},\n        };\n    }\n    \n    public static void refreshPage(){\n        driver.navigate().refresh();\n    }\n    \n    public static void takeScreenshotAtEndOfTest() throws IOException {\n        File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        String currentDir = System.getProperty(&quot;user.dir&quot;);     \n        FileUtils.copyFile(scrFile, new File(currentDir + &quot;/screenshots/&quot; + System.currentTimeMillis() + &quot;.png&quot;));\n        \n        }   \n}\n</code></pre>\n<p>Also my pom if needed:</p>\n\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;HRMS&lt;/groupId&gt;\n&lt;artifactId&gt;eBusinessAutomation&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;project&lt;/name&gt;\n&lt;!-- FIXME change it to the project's website --&gt;\n&lt;url&gt;https://www.github.com&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jcenter&lt;/id&gt;\n        &lt;name&gt;bintray&lt;/name&gt;\n        &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0-alpha-7&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.10&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;com.springsource.org.junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;openxml4j&lt;/artifactId&gt;\n        &lt;version&gt;1.0-beta&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paulhammant&lt;/groupId&gt;\n        &lt;artifactId&gt;ngwebdriver&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;2.41.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n            defaults (may be moved to parent pom) --&gt;\n        &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n             &lt;!-- This is added to create java project --&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;!-- Attach the shade into the package phase --&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;com.mkyong.hashing.App&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;useSystemClassLoader&gt;true&lt;/useSystemClassLoader&gt;\n                        &lt;suiteXmlFiles&gt;code_test_run&lt;/suiteXmlFiles&gt;\n                    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","sql","json","spring","postgresql"],"answers":[{"tags":[],"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640319130,"creation_date":1640317674,"answer_id":70469371,"question_id":70469087,"body_markdown":"If you are using an ORM library like hibernate, which spring supports very well, you can look into [this post][1]. Once you&#39;ve created your data entity classes, Hibernate can create a relational database structure based on your data entities automatically. Here is another good [tutorial][2] on the subject\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/306806/hibernate-automatically-creating-updating-the-db-tables-based-on-entity-classes\r\n  [2]: https://www.baeldung.com/spring-data-jpa-generate-db-schema","title":"Creating Postgres table based on nested JSON?","body":"<p>If you are using an ORM library like hibernate, which spring supports very well, you can look into <a href=\"https://stackoverflow.com/questions/306806/hibernate-automatically-creating-updating-the-db-tables-based-on-entity-classes\">this post</a>. Once you've created your data entity classes, Hibernate can create a relational database structure based on your data entities automatically. Here is another good <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">tutorial</a> on the subject</p>\n"}],"owner":{"account_id":21499519,"reputation":11,"user_id":15843974,"display_name":"mushjoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640319130,"creation_date":1640313430,"question_id":70469087,"body_markdown":"is there a better way to create DB table for the particular JSON data I&#39;m trying to work with? \r\n\r\nI&#39;m making a basic CRUD REST app with Spring/Hibernate that handles JSON data that I got from https://jsonplaceholder.typicode.com/users\r\n\r\nAs you can see in the link, the JSON data has nested JSONs and I made them into individual Java classes named Address, Company, Geo, and User. \r\n\r\nAt this point, I&#39;m thinking of assigning each variable in those classes into each columns of the table by using @Column annotation because I don&#39;t know how to insert nested JSON or Arrays into postgres table.\r\n\r\nSo, by result, my SQL script ends up looking rather... primitive: \r\n```\r\ncreate table users.&quot;user&quot;\r\n(\r\n\tid serial\r\n\t\tconstraint user_pk\r\n\t\t\tprimary key,\r\n\tname varchar default null,\r\n\tusername varchar default null,\r\n\temail varchar default null,\r\n\tstreet varchar default null,\r\n\tsuite varchar default null,\r\n\tcity varchar default null,\r\n\tzipcode varchar default null,\r\n\tlat varchar default null,\r\n\tlng varchar default null,\r\n\tphone varchar default null,\r\n\twebsite varchar default null,\r\n\tcompany_name varchar default null,\r\n\tcatch_phrase varchar default null,\r\n\tbs varchar default null\r\n);\r\n``` \r\n\r\nIs there a more elegant way of creating DB table for this particular JSON data? ","title":"Creating Postgres table based on nested JSON?","body":"<p>is there a better way to create DB table for the particular JSON data I'm trying to work with?</p>\n<p>I'm making a basic CRUD REST app with Spring/Hibernate that handles JSON data that I got from <a href=\"https://jsonplaceholder.typicode.com/users\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/users</a></p>\n<p>As you can see in the link, the JSON data has nested JSONs and I made them into individual Java classes named Address, Company, Geo, and User.</p>\n<p>At this point, I'm thinking of assigning each variable in those classes into each columns of the table by using @Column annotation because I don't know how to insert nested JSON or Arrays into postgres table.</p>\n<p>So, by result, my SQL script ends up looking rather... primitive:</p>\n<pre><code>create table users.&quot;user&quot;\n(\n    id serial\n        constraint user_pk\n            primary key,\n    name varchar default null,\n    username varchar default null,\n    email varchar default null,\n    street varchar default null,\n    suite varchar default null,\n    city varchar default null,\n    zipcode varchar default null,\n    lat varchar default null,\n    lng varchar default null,\n    phone varchar default null,\n    website varchar default null,\n    company_name varchar default null,\n    catch_phrase varchar default null,\n    bs varchar default null\n);\n</code></pre>\n<p>Is there a more elegant way of creating DB table for this particular JSON data?</p>\n"},{"tags":["java","android-sqlite","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640319059,"creation_date":1640319059,"answer_id":70469481,"question_id":70450540,"body_markdown":"You are moving to the first row in the cursor, then moving to the next row. \r\nIf only 1 row is retrieved then you skip that row and do nothing. \r\n\r\nIf there are multiple rows in the extracted cursor then you are effectively moving to the last row and setting the editMatricule&#39;s text to &quot; &quot;. Thus irrespective of the notion of a current position in the cursor you will always move to the last rather than the next.\r\n\r\nIt&#39;s impossible to provide a fix to your issue because so much would be left to speculation. However, perhaps consider the following that allows traversal  (i.e. not only Next but also First, Previous and Last):-\r\n\r\n**First** a simple layout with a TextView that shows the Student (Etudiant) with an EditText for the mark.\r\n\r\nBelow the Student details are 4 buttons First,Prev,Next and Last:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;&gt;\r\n        &lt;/TextView&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/etudiant_name&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;8&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;/TextView&gt;\r\n            &lt;EditText\r\n                android:id=&quot;@+id/etudiant_mark&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;/EditText&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/first_etudiant&quot;\r\n                android:layout_margin=&quot;1dp&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;FIRST&quot;\r\n                &gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/prev_etudiant&quot;\r\n                android:layout_margin=&quot;1dp&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;PREV&quot;\r\n                &gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/next_etudiant&quot;\r\n                android:layout_margin=&quot;1dp&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;NEXT&quot;\r\n                &gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/last_etudiant&quot;\r\n                android:layout_margin=&quot;1dp&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;LAST&quot;\r\n                &gt;\r\n            &lt;/Button&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**Next** the DatabaseHelper **DBHelper** :-\r\n\r\n    class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DATABASE_NAME = &quot;thedatabase.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n    \r\n        public static final String TABLE_NAME_MATRICULE = &quot;matricule&quot;;\r\n        public static final String MATRICULE_COL_ID = BaseColumns._ID;\r\n        public static final String MATRICULE_COL_MARK = &quot;matricule_MARK&quot;;\r\n        public static final String MATRICULE_COL_ETUDIANT = &quot;matricule_etudiant&quot;;\r\n    \r\n        DBHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(&quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME_MATRICULE + &quot; (&quot;\r\n                    + MATRICULE_COL_ID + &quot; INTEGER PRIMARY KEY,&quot;\r\n                    + MATRICULE_COL_ETUDIANT + &quot; TEXT, &quot;\r\n                    + MATRICULE_COL_MARK + &quot; INTEGER &quot; +\r\n                    &quot;);&quot;\r\n            );\r\n            db.execSQL(&quot;INSERT OR IGNORE INTO &quot; + TABLE_NAME_MATRICULE\r\n                    + &quot;(&quot; + MATRICULE_COL_ETUDIANT + &quot;,&quot; + MATRICULE_COL_MARK + &quot;)&quot; +\r\n                    &quot; VALUES (&#39;Etudiant1&#39;,0),(&#39;Etudiant2&#39;,0),(&#39;Etudiant3&#39;,0),(&#39;Etudiant4&#39;,0)&quot;\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n    \r\n        }\r\n    \r\n        public Cursor DisplayEtudiant() {\r\n            return this.getWritableDatabase().query(TABLE_NAME_MATRICULE,null,null,null,null,null,null);\r\n        }\r\n    }\r\n\r\n\r\n- Note that the table is just to demonstrate the technique and is unlikely to reflect your table(s). The `DisplayEtudiant` again is just to demonstrate.\r\n\r\n**Last** the activity **MainActivity**. This using the layout above and thus inclduing onClick listeners for the 4 buttons which traverse the cursor changing the display accordingly:-\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DBHelper DB;\r\n        Cursor cursor;\r\n        int current_matricule_position = 0;\r\n        int matricule_count = 0;\r\n        TextView etduiant_name;\r\n        EditText etudiant_mark;\r\n        Button first,prev,next,last;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            etduiant_name = this.findViewById(R.id.etudiant_name);\r\n            etudiant_mark = this.findViewById(R.id.etudiant_mark);\r\n            first = this.findViewById(R.id.first_etudiant);\r\n            prev = this.findViewById(R.id.prev_etudiant);\r\n            next = this.findViewById(R.id.next_etudiant);\r\n            last = this.findViewById(R.id.last_etudiant);\r\n            DB = new DBHelper(this);\r\n            setOrRefreshCursor();\r\n            displayCurrent();\r\n            setupButtons();\r\n        }\r\n    \r\n    \r\n        private void setupButtons() {\r\n            first.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (matricule_count &gt; 0) {\r\n                        cursor.moveToFirst();\r\n                        current_matricule_position = 0;\r\n                        displayCurrent();\r\n                    }\r\n                }\r\n            });\r\n            prev.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (matricule_count &gt; 0) {\r\n                        if (current_matricule_position &gt; 0) {\r\n                            current_matricule_position--;\r\n                            cursor.moveToPrevious();\r\n                            displayCurrent();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            next.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (matricule_count &gt; 0) {\r\n                        if (current_matricule_position &lt; (matricule_count - 1)) {\r\n                            current_matricule_position++;\r\n                            cursor.moveToNext();\r\n                            displayCurrent();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            last.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (matricule_count &gt; 0) {\r\n                        cursor.moveToLast();\r\n                        current_matricule_position = cursor.getPosition();\r\n                        displayCurrent();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void displayCurrent() {\r\n            etduiant_name.setText(cursor.getString(cursor.getColumnIndex(DBHelper.MATRICULE_COL_ETUDIANT)));\r\n            etudiant_mark.setText(cursor.getString(cursor.getColumnIndex(DBHelper.MATRICULE_COL_MARK)));\r\n        }\r\n    \r\n        private void setOrRefreshCursor() {\r\n            cursor = DB.DisplayEtudiant();\r\n            if (current_matricule_position &lt; 0) {\r\n                cursor.moveToFirst();\r\n            } else {\r\n                cursor.moveToPosition(current_matricule_position);\r\n            }\r\n            current_matricule_position = cursor.getPosition();\r\n            matricule_count = cursor.getCount();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            cursor.close();\r\n        }\r\n    }\r\n\r\nThe App when run displays :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nClicking a button moves to the respective etudiant if the move should/can be made (e.g. when at the first etudian First and Prev will do nothing, likewise when at the last etudiant Last and Next do nothing).\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kknjO.png","title":"Move cursor position on every click of button Java","body":"<p>You are moving to the first row in the cursor, then moving to the next row.\nIf only 1 row is retrieved then you skip that row and do nothing.</p>\n<p>If there are multiple rows in the extracted cursor then you are effectively moving to the last row and setting the editMatricule's text to &quot; &quot;. Thus irrespective of the notion of a current position in the cursor you will always move to the last rather than the next.</p>\n<p>It's impossible to provide a fix to your issue because so much would be left to speculation. However, perhaps consider the following that allows traversal  (i.e. not only Next but also First, Previous and Last):-</p>\n<p><strong>First</strong> a simple layout with a TextView that shows the Student (Etudiant) with an EditText for the mark.</p>\n<p>Below the Student details are 4 buttons First,Prev,Next and Last:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;&gt;\n    &lt;/TextView&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;horizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/etudiant_name&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;8&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;/TextView&gt;\n        &lt;EditText\n            android:id=&quot;@+id/etudiant_mark&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;2&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;/EditText&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;Button\n            android:id=&quot;@+id/first_etudiant&quot;\n            android:layout_margin=&quot;1dp&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;FIRST&quot;\n            &gt;\n        &lt;/Button&gt;\n        &lt;Button\n            android:id=&quot;@+id/prev_etudiant&quot;\n            android:layout_margin=&quot;1dp&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;PREV&quot;\n            &gt;\n        &lt;/Button&gt;\n        &lt;Button\n            android:id=&quot;@+id/next_etudiant&quot;\n            android:layout_margin=&quot;1dp&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;NEXT&quot;\n            &gt;\n        &lt;/Button&gt;\n        &lt;Button\n            android:id=&quot;@+id/last_etudiant&quot;\n            android:layout_margin=&quot;1dp&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;LAST&quot;\n            &gt;\n        &lt;/Button&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Next</strong> the DatabaseHelper <strong>DBHelper</strong> :-</p>\n<pre><code>class DBHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;thedatabase.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n\n    public static final String TABLE_NAME_MATRICULE = &quot;matricule&quot;;\n    public static final String MATRICULE_COL_ID = BaseColumns._ID;\n    public static final String MATRICULE_COL_MARK = &quot;matricule_MARK&quot;;\n    public static final String MATRICULE_COL_ETUDIANT = &quot;matricule_etudiant&quot;;\n\n    DBHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME_MATRICULE + &quot; (&quot;\n                + MATRICULE_COL_ID + &quot; INTEGER PRIMARY KEY,&quot;\n                + MATRICULE_COL_ETUDIANT + &quot; TEXT, &quot;\n                + MATRICULE_COL_MARK + &quot; INTEGER &quot; +\n                &quot;);&quot;\n        );\n        db.execSQL(&quot;INSERT OR IGNORE INTO &quot; + TABLE_NAME_MATRICULE\n                + &quot;(&quot; + MATRICULE_COL_ETUDIANT + &quot;,&quot; + MATRICULE_COL_MARK + &quot;)&quot; +\n                &quot; VALUES ('Etudiant1',0),('Etudiant2',0),('Etudiant3',0),('Etudiant4',0)&quot;\n        );\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n\n    }\n\n    public Cursor DisplayEtudiant() {\n        return this.getWritableDatabase().query(TABLE_NAME_MATRICULE,null,null,null,null,null,null);\n    }\n}\n</code></pre>\n<ul>\n<li>Note that the table is just to demonstrate the technique and is unlikely to reflect your table(s). The <code>DisplayEtudiant</code> again is just to demonstrate.</li>\n</ul>\n<p><strong>Last</strong> the activity <strong>MainActivity</strong>. This using the layout above and thus inclduing onClick listeners for the 4 buttons which traverse the cursor changing the display accordingly:-</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\npublic class MainActivity extends AppCompatActivity {\n\n    DBHelper DB;\n    Cursor cursor;\n    int current_matricule_position = 0;\n    int matricule_count = 0;\n    TextView etduiant_name;\n    EditText etudiant_mark;\n    Button first,prev,next,last;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        etduiant_name = this.findViewById(R.id.etudiant_name);\n        etudiant_mark = this.findViewById(R.id.etudiant_mark);\n        first = this.findViewById(R.id.first_etudiant);\n        prev = this.findViewById(R.id.prev_etudiant);\n        next = this.findViewById(R.id.next_etudiant);\n        last = this.findViewById(R.id.last_etudiant);\n        DB = new DBHelper(this);\n        setOrRefreshCursor();\n        displayCurrent();\n        setupButtons();\n    }\n\n\n    private void setupButtons() {\n        first.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (matricule_count &gt; 0) {\n                    cursor.moveToFirst();\n                    current_matricule_position = 0;\n                    displayCurrent();\n                }\n            }\n        });\n        prev.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (matricule_count &gt; 0) {\n                    if (current_matricule_position &gt; 0) {\n                        current_matricule_position--;\n                        cursor.moveToPrevious();\n                        displayCurrent();\n                    }\n                }\n            }\n        });\n        next.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (matricule_count &gt; 0) {\n                    if (current_matricule_position &lt; (matricule_count - 1)) {\n                        current_matricule_position++;\n                        cursor.moveToNext();\n                        displayCurrent();\n                    }\n                }\n            }\n        });\n        last.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (matricule_count &gt; 0) {\n                    cursor.moveToLast();\n                    current_matricule_position = cursor.getPosition();\n                    displayCurrent();\n                }\n            }\n        });\n    }\n\n    private void displayCurrent() {\n        etduiant_name.setText(cursor.getString(cursor.getColumnIndex(DBHelper.MATRICULE_COL_ETUDIANT)));\n        etudiant_mark.setText(cursor.getString(cursor.getColumnIndex(DBHelper.MATRICULE_COL_MARK)));\n    }\n\n    private void setOrRefreshCursor() {\n        cursor = DB.DisplayEtudiant();\n        if (current_matricule_position &lt; 0) {\n            cursor.moveToFirst();\n        } else {\n            cursor.moveToPosition(current_matricule_position);\n        }\n        current_matricule_position = cursor.getPosition();\n        matricule_count = cursor.getCount();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        cursor.close();\n    }\n}\n</code></pre>\n<p>The App when run displays :-</p>\n<p><a href=\"https://i.stack.imgur.com/kknjO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kknjO.png\" alt=\"enter image description here\" /></a></p>\n<p>Clicking a button moves to the respective etudiant if the move should/can be made (e.g. when at the first etudian First and Prev will do nothing, likewise when at the last etudiant Last and Next do nothing).</p>\n"}],"owner":{"account_id":20662516,"reputation":11,"user_id":15170179,"display_name":"dounia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640319059,"creation_date":1640183103,"question_id":70450540,"body_markdown":"I created an application of student management on Android studio and i want to enter students&#39; marks to the database on every click of a button.\r\n\r\nThis is the piece of code i wrote for the cursor, So the cursor is in the first row in the table and i want it to move to the next position on every click of a button . \r\n \r\n\r\n    Cursor cursor = DB.DisplayEtudiant(matricule);\r\n            cursor.moveToFirst();\r\n    while(cursor.moveToNext()){\r\n            editMatricule.setText(cursor.getString(0));\r\n            editNote.setText(&quot; &quot;);\r\n    }\r\nThe while loop here does not work and i cannot understand why.\r\n","title":"Move cursor position on every click of button Java","body":"<p>I created an application of student management on Android studio and i want to enter students' marks to the database on every click of a button.</p>\n<p>This is the piece of code i wrote for the cursor, So the cursor is in the first row in the table and i want it to move to the next position on every click of a button .</p>\n<pre><code>Cursor cursor = DB.DisplayEtudiant(matricule);\n        cursor.moveToFirst();\nwhile(cursor.moveToNext()){\n        editMatricule.setText(cursor.getString(0));\n        editNote.setText(&quot; &quot;);\n}\n</code></pre>\n<p>The while loop here does not work and i cannot understand why.</p>\n"},{"tags":["java","maven","compiler-errors"],"comments":[{"owner":{"account_id":2377354,"reputation":554,"user_id":2080322,"display_name":"Ajinkya"},"score":0,"creation_date":1560852947,"post_id":56646698,"comment_id":99863386,"body_markdown":"Try to separately compile data-access module and look for any errors.","body":"Try to separately compile data-access module and look for any errors."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1560853081,"post_id":56646698,"comment_id":99863469,"body_markdown":"Could you add the `pom.xml` from `data-access` ?","body":"Could you add the <code>pom.xml</code> from <code>data-access</code> ?"},{"owner":{"account_id":9541910,"reputation":454,"user_id":7089716,"display_name":"davidbaguetta"},"score":0,"creation_date":1560853488,"post_id":56646698,"comment_id":99863701,"body_markdown":"@Ajinkya Did that. Got the exact same log.","body":"@Ajinkya Did that. Got the exact same log."},{"owner":{"account_id":2377354,"reputation":554,"user_id":2080322,"display_name":"Ajinkya"},"score":0,"creation_date":1560853577,"post_id":56646698,"comment_id":99863744,"body_markdown":"Please share pom.xml for that module","body":"Please share pom.xml for that module"},{"owner":{"account_id":9541910,"reputation":454,"user_id":7089716,"display_name":"davidbaguetta"},"score":0,"creation_date":1560853661,"post_id":56646698,"comment_id":99863790,"body_markdown":"Check the edit I made","body":"Check the edit I made"},{"owner":{"account_id":2377354,"reputation":554,"user_id":2080322,"display_name":"Ajinkya"},"score":0,"creation_date":1560854373,"post_id":56646698,"comment_id":99864156,"body_markdown":"What is maven compiler plugin configuration? Probably present in your parent pom.","body":"What is maven compiler plugin configuration? Probably present in your parent pom."},{"owner":{"account_id":9541910,"reputation":454,"user_id":7089716,"display_name":"davidbaguetta"},"score":0,"creation_date":1560854984,"post_id":56646698,"comment_id":99864510,"body_markdown":"Check my second edit","body":"Check my second edit"},{"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1600113328,"post_id":56646698,"comment_id":112980163,"body_markdown":"I had the same problem tonight. At last, it was the resolution of an empty diamond operator that causes the pain. I found the problem switching back the compatibility to version 1.8.","body":"I had the same problem tonight. At last, it was the resolution of an empty diamond operator that causes the pain. I found the problem switching back the compatibility to version 1.8."}],"answers":[{"tags":[],"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560853004,"creation_date":1560853004,"answer_id":56646858,"question_id":56646698,"body_markdown":"Follow steps are given below,\r\n\r\n    1) Run as Maven clean\r\n    2) Go to Project(top bar in eclipse) and clean it\r\n    3) Run as Maven install\r\n\r\n(Sometimes need to clean twice in eclipse before run mvn install)\r\nHope this will help.","title":"What causes &quot;an unknown compilation problem occurred&quot;?","body":"<p>Follow steps are given below,</p>\n\n<pre><code>1) Run as Maven clean\n2) Go to Project(top bar in eclipse) and clean it\n3) Run as Maven install\n</code></pre>\n\n<p>(Sometimes need to clean twice in eclipse before run mvn install)\nHope this will help.</p>\n"},{"tags":[],"owner":{"account_id":2377354,"reputation":554,"user_id":2080322,"display_name":"Ajinkya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560855771,"creation_date":1560855771,"answer_id":56647662,"question_id":56646698,"body_markdown":"You are using old version of maven plugin (3.1) to compile your code. To compile java 11 code using maven please use maven plugin with below configuration:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;11&lt;/release&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"What causes &quot;an unknown compilation problem occurred&quot;?","body":"<p>You are using old version of maven plugin (3.1) to compile your code. To compile java 11 code using maven please use maven plugin with below configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13919235,"reputation":113,"user_id":10050131,"display_name":"Pramod Kajla"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615138326,"creation_date":1615137999,"answer_id":66519330,"question_id":56646698,"body_markdown":"I was facing same issue. I was able to get rid of this issue after removing\r\n\r\n**\\&lt;compilerArgument\\&gt;-Werror\\&lt;/compilerArgument\\&gt;**\r\n\r\nline from maven compiler plugin configuration in pom.xml file.\r\n\r\nmaven-compiler-plugin configuration before removing above line:\r\n       \r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t&lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nmaven-compiler-plugin configuration after removing above line:\r\n       \r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"What causes &quot;an unknown compilation problem occurred&quot;?","body":"<p>I was facing same issue. I was able to get rid of this issue after removing</p>\n<p><strong>&lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;</strong></p>\n<p>line from maven compiler plugin configuration in pom.xml file.</p>\n<p>maven-compiler-plugin configuration before removing above line:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>maven-compiler-plugin configuration after removing above line:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139364,"reputation":103,"user_id":6130058,"display_name":"Feku279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640317237,"creation_date":1640280031,"answer_id":70465438,"question_id":56646698,"body_markdown":"You are using the maven compiler plugin and it is a fight to use correct version compatibility between maven, JDK, and this plug-in.\r\nIn my case, reason of the issue was, I was using jdk-8u291-windows-x64 instead of jdk-8u211-windows-x64. \r\n","title":"What causes &quot;an unknown compilation problem occurred&quot;?","body":"<p>You are using the maven compiler plugin and it is a fight to use correct version compatibility between maven, JDK, and this plug-in.\nIn my case, reason of the issue was, I was using jdk-8u291-windows-x64 instead of jdk-8u211-windows-x64.</p>\n"}],"owner":{"account_id":9541910,"reputation":454,"user_id":7089716,"display_name":"davidbaguetta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7775,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1640317237,"creation_date":1560852543,"question_id":56646698,"body_markdown":"When trying to compile my project using Maven, I get the following error: `An unknown compilation problem occurred`.\r\n\r\nI tried running the following command to get more details on the error, but I still can&#39;t figure it out: `mvn -e -X clean install`\r\n\r\nThis is the log I got:\r\n\r\n```java\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] An unknown compilation problem occurred\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary:\r\n[INFO] \r\n[INFO] app ................................................ SUCCESS [  2.033 s]\r\n[INFO] models ............................................. SUCCESS [  4.418 s]\r\n[INFO] authorization-db ................................... SUCCESS [  1.654 s]\r\n[INFO] test-utils ......................................... SUCCESS [  0.721 s]\r\n[INFO] clients ............................................ SUCCESS [  7.412 s]\r\n[INFO] data-access ........................................ FAILURE [  3.289 s]\r\n[INFO] templating ......................................... SKIPPED\r\n[INFO] guice-vertx ........................................ SKIPPED\r\n[INFO] routing ............................................ SKIPPED\r\n[INFO] frontend-tests ..................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 19.756 s\r\n[INFO] Finished at: 2019-06-18T11:00:07+01:00\r\n[INFO] Final Memory: 53M/190M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project data-access: Compilation failure\r\n[ERROR] An unknown compilation problem occurred\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project data-access: Compilation failure\r\nAn unknown compilation problem occurred\r\n\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\nAn unknown compilation problem occurred\r\n\r\n\tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n\tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n\t... 21 more\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;goals&gt; -rf :data-access\r\n```\r\n\r\nEDIT: This is the `pom.xml` file of the `data-access` module:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.some.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;artifactId&gt;data-access&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;authorization-db&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.englishtown.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-guice&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testtools&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-unit&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-codetrans&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-rx-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;clients&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;models&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test-utils&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n      &lt;version&gt;3.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEDIT 2: Maven compiler plugin configuration on root `pom.xml`:\r\n\r\n```xml\r\n\r\n...\r\n\r\n&lt;properties&gt;\r\n  &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\r\n  &lt;java.version&gt;11&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n\r\n...\r\n\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;source&gt;${java.version}&lt;/source&gt;\r\n    &lt;target&gt;${java.version}&lt;/target&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n...\r\n```\r\n\r\nTo note that this compilation problem started happening after I migrated the Java version in the project from 1.8 to 11.","title":"What causes &quot;an unknown compilation problem occurred&quot;?","body":"<p>When trying to compile my project using Maven, I get the following error: <code>An unknown compilation problem occurred</code>.</p>\n\n<p>I tried running the following command to get more details on the error, but I still can't figure it out: <code>mvn -e -X clean install</code></p>\n\n<p>This is the log I got:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] An unknown compilation problem occurred\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] app ................................................ SUCCESS [  2.033 s]\n[INFO] models ............................................. SUCCESS [  4.418 s]\n[INFO] authorization-db ................................... SUCCESS [  1.654 s]\n[INFO] test-utils ......................................... SUCCESS [  0.721 s]\n[INFO] clients ............................................ SUCCESS [  7.412 s]\n[INFO] data-access ........................................ FAILURE [  3.289 s]\n[INFO] templating ......................................... SKIPPED\n[INFO] guice-vertx ........................................ SKIPPED\n[INFO] routing ............................................ SKIPPED\n[INFO] frontend-tests ..................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 19.756 s\n[INFO] Finished at: 2019-06-18T11:00:07+01:00\n[INFO] Final Memory: 53M/190M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project data-access: Compilation failure\n[ERROR] An unknown compilation problem occurred\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project data-access: Compilation failure\nAn unknown compilation problem occurred\n\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\nAn unknown compilation problem occurred\n\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 21 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :data-access\n</code></pre>\n\n<p>EDIT: This is the <code>pom.xml</code> file of the <code>data-access</code> module:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;com.some.app&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;data-access&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\n      &lt;artifactId&gt;authorization-db&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.englishtown.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-guice&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;testtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-unit&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-codetrans&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-rx-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\n      &lt;artifactId&gt;clients&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\n      &lt;artifactId&gt;models&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.some.app&lt;/groupId&gt;\n      &lt;artifactId&gt;test-utils&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n      &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;skip&gt;true&lt;/skip&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>EDIT 2: Maven compiler plugin configuration on root <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>\n...\n\n&lt;properties&gt;\n  &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\n  &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n...\n\n&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;${java.version}&lt;/source&gt;\n    &lt;target&gt;${java.version}&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n...\n</code></pre>\n\n<p>To note that this compilation problem started happening after I migrated the Java version in the project from 1.8 to 11.</p>\n"},{"tags":["java","maven","log4j","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":66967,"reputation":500,"user_id":196207,"display_name":"Sankozi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575535391,"creation_date":1575535391,"answer_id":59191218,"question_id":59186619,"body_markdown":"It looks like your appender `SREWebServiceAppender` is using `JavaOauthWithCertificate` which is logging using log4j. That way logging will cause more logging and will always end with stack overflow. \r\n\r\nYou should update your logging config. You can either (from most to less sensible):\r\n\r\n - do not log DEBUG messages in appender `log4j.appender.A3=com.test.sre.logging.SREWebServiceAppender` (https://logging.apache.org/log4j/1.2/faq.html#a2.9)\r\n - stop logging DEBUG messages in class `com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken` (I have no idea what category are those)\r\n - stop logging DEBUG messages in root\r\n - remove appender `log4j.appender.A3=com.test.sre.logging.SREWebServiceAppender`","title":"Stackoverflow while using log4j 1.2.17","body":"<p>It looks like your appender <code>SREWebServiceAppender</code> is using <code>JavaOauthWithCertificate</code> which is logging using log4j. That way logging will cause more logging and will always end with stack overflow. </p>\n\n<p>You should update your logging config. You can either (from most to less sensible):</p>\n\n<ul>\n<li>do not log DEBUG messages in appender <code>log4j.appender.A3=com.test.sre.logging.SREWebServiceAppender</code> (<a href=\"https://logging.apache.org/log4j/1.2/faq.html#a2.9\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/1.2/faq.html#a2.9</a>)</li>\n<li>stop logging DEBUG messages in class <code>com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken</code> (I have no idea what category are those)</li>\n<li>stop logging DEBUG messages in root</li>\n<li>remove appender <code>log4j.appender.A3=com.test.sre.logging.SREWebServiceAppender</code></li>\n</ul>\n"}],"owner":{"account_id":13793870,"reputation":35,"user_id":9955516,"display_name":"Sri Satya Krishna Challa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59191218,"answer_count":1,"score":0,"last_activity_date":1640316343,"creation_date":1575506713,"question_id":59186619,"body_markdown":"I&#39;m facing &quot;StackOverflow&quot; error while using the log4j 1.2.17 in my project.\r\n    \r\nBelow is the stack trace of the error\r\n    \r\n        java.lang.StackOverflowError\r\n        \tat org.apache.log4j.PatternLayout.format(PatternLayout.java:506)\r\n        \tat org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:310)\r\n        \tat org.apache.log4j.WriterAppender.append(WriterAppender.java:162)\r\n        \tat org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\r\n        \tat org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\r\n        \tat org.apache.log4j.Category.callAppenders(Category.java:206)\r\n        \tat org.apache.log4j.Category.forcedLog(Category.java:391)\r\n        \tat org.apache.log4j.Category.debug(Category.java:260)\r\n        \tat com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken(JavaOauthWithCertificate.java:42)\r\n        \tat com.java.oauth.client.JavaOauthWithCertificate.getTokenByCertificate(JavaOauthWithCertificate.java:112)\r\n        \tat com.test.sre.service.ServiceWrapperImpl.logMessage(ServiceWrapperImpl.java:54)\r\n        \tat com.test.sre.logging.SREWebServiceAppender.append(SREWebServiceAppender.java:59)\r\n        \tat org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\r\n        \tat org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\r\n        \tat org.apache.log4j.Category.callAppenders(Category.java:206)\r\n        \tat org.apache.log4j.Category.forcedLog(Category.java:391)\r\n        \tat org.apache.log4j.Category.debug(Category.java:260)\r\n        \tat com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken(JavaOauthWithCertificate.java:42)\r\n        \tat com.java.oauth.client.JavaOauthWithCertificate.getTokenByCertificate(JavaOauthWithCertificate.java:112)\r\n    \r\n    \r\nThe part of code inside ReadRequiredConfigurationsToObtainToken at line 42 is\r\n    \r\nlogger.debug(****** validation started *******)\r\n    \r\nThe SRE web service appender is writing the logs to the database. This calls extended AppenderSkeleton class for implementing custom appender. When the code is running, the execution is getting stuck at this point and is throwing the error after certain time.\r\n    \r\nI have tried to increase stack size and heap size of the JVM but no luck yet.\r\n    \r\nBelow is the log4j configuration set in the properties file\r\n    \r\n    log4j.rootLogger=DEBUG, A1, A2, A3\r\n    \r\n    # service will ignore this output, but somebody manually running might be interested\r\n    log4j.appender.A1=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A1.layout.ConversionPattern=[%d] %-5p %c %x - %m%n\r\n    \r\n    # also log to a file - again probably not monitored in production but might be handy for debugging\r\n    log4j.appender.A2=org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.A2.File=C:\\\\EnergyTrading\\\\logs\\\\debug.log\r\n    log4j.appender.A2.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n    log4j.appender.A2.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A2.layout.ConversionPattern=[%d] %-5p %c %x - %m%n\r\n    \r\n    #web service appender - directs log messages to \r\n    log4j.appender.A3=com.test.sre.logging.SREWebServiceAppender\r\n    \r\n    Any help on this error would be greatly helpful.","title":"Stackoverflow while using log4j 1.2.17","body":"<p>I'm facing \"StackOverflow\" error while using the log4j 1.2.17 in my project.</p>\n\n<p>Below is the stack trace of the error</p>\n\n<pre><code>    java.lang.StackOverflowError\n        at org.apache.log4j.PatternLayout.format(PatternLayout.java:506)\n        at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:310)\n        at org.apache.log4j.WriterAppender.append(WriterAppender.java:162)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\n        at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\n        at org.apache.log4j.Category.callAppenders(Category.java:206)\n        at org.apache.log4j.Category.forcedLog(Category.java:391)\n        at org.apache.log4j.Category.debug(Category.java:260)\n        at com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken(JavaOauthWithCertificate.java:42)\n        at com.java.oauth.client.JavaOauthWithCertificate.getTokenByCertificate(JavaOauthWithCertificate.java:112)\n        at com.test.sre.service.ServiceWrapperImpl.logMessage(ServiceWrapperImpl.java:54)\n        at com.test.sre.logging.SREWebServiceAppender.append(SREWebServiceAppender.java:59)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\n        at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\n        at org.apache.log4j.Category.callAppenders(Category.java:206)\n        at org.apache.log4j.Category.forcedLog(Category.java:391)\n        at org.apache.log4j.Category.debug(Category.java:260)\n        at com.java.oauth.client.JavaOauthWithCertificate.ReadRequiredConfigurationsToObtainToken(JavaOauthWithCertificate.java:42)\n        at com.java.oauth.client.JavaOauthWithCertificate.getTokenByCertificate(JavaOauthWithCertificate.java:112)\n</code></pre>\n\n<p>The part of code inside ReadRequiredConfigurationsToObtainToken at line 42 is</p>\n\n<p>logger.debug(****** validation started *******)</p>\n\n<p>The SRE web service appender is writing the logs to the database. This calls extended AppenderSkeleton class for implementing custom appender. When the code is running, the execution is getting stuck at this point and is throwing the error after certain time.</p>\n\n<p>I have tried to increase stack size and heap size of the JVM but no luck yet.</p>\n\n<p>Below is the log4j configuration set in the properties file</p>\n\n<pre><code>log4j.rootLogger=DEBUG, A1, A2, A3\n\n# service will ignore this output, but somebody manually running might be interested\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=[%d] %-5p %c %x - %m%n\n\n# also log to a file - again probably not monitored in production but might be handy for debugging\nlog4j.appender.A2=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.A2.File=C:\\\\EnergyTrading\\\\logs\\\\debug.log\nlog4j.appender.A2.DatePattern='.'yyyy-MM-dd\nlog4j.appender.A2.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A2.layout.ConversionPattern=[%d] %-5p %c %x - %m%n\n\n#web service appender - directs log messages to \nlog4j.appender.A3=com.test.sre.logging.SREWebServiceAppender\n\nAny help on this error would be greatly helpful.\n</code></pre>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":23725844,"reputation":23,"user_id":17745755,"display_name":"Sid Sharma"},"score":0,"creation_date":1640238646,"post_id":70458126,"comment_id":124548934,"body_markdown":"user1.map(usr -&gt; usr. getProp1()).subscribe(System.out::println);\n\nI have tried something like this, but how do i set it to object?","body":"user1.map(usr -&gt; usr. getProp1()).subscribe(System.out::println);  I have tried something like this, but how do i set it to object?"}],"answers":[{"tags":[],"owner":{"account_id":1916652,"reputation":223,"user_id":1729123,"display_name":"sridhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640314055,"creation_date":1640239793,"answer_id":70458272,"question_id":70458126,"body_markdown":"Zip the two monos and create the superUser from the tuple\r\n\r\n    Mono.zip(user1, user2).flatMap(data-&gt;{\r\n        // get those values as below\r\n        data.getT1();\r\n        data.getT2();\r\n\r\n        // set it to superUser\r\n        return &lt;your_response_object&gt;;\r\n    });\r\n\r\n","title":"Grab Attributes from two Mono Objects and set them as a property to a third object using Reactor Java","body":"<p>Zip the two monos and create the superUser from the tuple</p>\n<pre><code>Mono.zip(user1, user2).flatMap(data-&gt;{\n    // get those values as below\n    data.getT1();\n    data.getT2();\n\n    // set it to superUser\n    return &lt;your_response_object&gt;;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640243275,"creation_date":1640243275,"answer_id":70458765,"question_id":70458126,"body_markdown":"Use [Mono#zipWith][1] like this:\r\n```java\r\nMono&lt;SuperUser&gt; superUserMono = user1.zipWith(user2)\r\n    .map(userTuple -&gt; {\r\n       superUser.setProp1(userTuple.getT1().getProp1());\r\n       superUser.setProp2(userTuple.getT2().getProp1());\r\n       \r\n       return superUser;\r\n    })\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-","title":"Grab Attributes from two Mono Objects and set them as a property to a third object using Reactor Java","body":"<p>Use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\">Mono#zipWith</a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;SuperUser&gt; superUserMono = user1.zipWith(user2)\n    .map(userTuple -&gt; {\n       superUser.setProp1(userTuple.getT1().getProp1());\n       superUser.setProp2(userTuple.getT2().getProp1());\n       \n       return superUser;\n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16812688,"reputation":142,"user_id":12155325,"display_name":"dilbert2219"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640271632,"creation_date":1640271632,"answer_id":70463834,"question_id":70458126,"body_markdown":"This is somewhat cleaner way to do it :)\r\n\r\n```\r\nSuperUser superUser = new SuperUser();\r\n\r\nreturn Mono.zip(user1, user2).flatMap(data -&gt; {\r\n\t\t\tString prop1 = data.getT1().getProp1();\r\n\t\t\tString prop2 = data.getT2().getProp1();\r\n\t\t\tif(prop1 != null)) {\r\n\t\t\t\t\tsuperUser.setProp1(prop1);\r\n\t\t\t}\r\n\t\t\tif(prop2 != null) {\r\n\t\t\t\tsuperUser.setProp2(prop2);\r\n\t\t\t}\r\n\t\t\treturn superUser;\r\n\t\t});\r\n```","title":"Grab Attributes from two Mono Objects and set them as a property to a third object using Reactor Java","body":"<p>This is somewhat cleaner way to do it :)</p>\n<pre><code>SuperUser superUser = new SuperUser();\n\nreturn Mono.zip(user1, user2).flatMap(data -&gt; {\n            String prop1 = data.getT1().getProp1();\n            String prop2 = data.getT2().getProp1();\n            if(prop1 != null)) {\n                    superUser.setProp1(prop1);\n            }\n            if(prop2 != null) {\n                superUser.setProp2(prop2);\n            }\n            return superUser;\n        });\n</code></pre>\n"}],"owner":{"account_id":23725844,"reputation":23,"user_id":17745755,"display_name":"Sid Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70463834,"answer_count":3,"score":2,"last_activity_date":1640314055,"creation_date":1640238566,"question_id":70458126,"body_markdown":"I have two Api&#39;s that return two different Mono objects\r\n\r\n```\r\nMono&lt;User&gt; user1 = api.service1(...);\r\nMono&lt;UserV2&gt; user2 = api.service2(...);\r\n```\r\n\r\nI want to grab a property from these objects say and set them to another object say SuperUser\r\n\r\n\r\n```\r\nSuperUser superUser = new SuperUser();\r\n```\r\n\r\ni want to do something like this\r\n\r\n```\r\nsuperUser.setProp1(user1.getProp1());\r\nsuperUser.setProp2(user2.getProp1());\r\n```\r\n\r\nOnce that is done, i want to send the superUser Object some method.","title":"Grab Attributes from two Mono Objects and set them as a property to a third object using Reactor Java","body":"<p>I have two Api's that return two different Mono objects</p>\n<pre><code>Mono&lt;User&gt; user1 = api.service1(...);\nMono&lt;UserV2&gt; user2 = api.service2(...);\n</code></pre>\n<p>I want to grab a property from these objects say and set them to another object say SuperUser</p>\n<pre><code>SuperUser superUser = new SuperUser();\n</code></pre>\n<p>i want to do something like this</p>\n<pre><code>superUser.setProp1(user1.getProp1());\nsuperUser.setProp2(user2.getProp1());\n</code></pre>\n<p>Once that is done, i want to send the superUser Object some method.</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng","testng-eclipse"],"answers":[{"tags":[],"owner":{"account_id":13875569,"reputation":2288,"user_id":10017326,"display_name":"rahul rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597855326,"creation_date":1597855326,"answer_id":63491430,"question_id":63490483,"body_markdown":"You can try to kill your driver with annotation @AfterClass instead of @AfterTest.\r\n\r\n    @AfterClass\r\n        public void browserclose (){\r\n            driver.quit();\r\n            System.out.println(&quot;TestCase : Browser was closed&quot;);\r\n        }","title":"How to use driver.quit() when running parallel tests","body":"<p>You can try to kill your driver with annotation @AfterClass instead of @AfterTest.</p>\n<pre><code>@AfterClass\n    public void browserclose (){\n        driver.quit();\n        System.out.println(&quot;TestCase : Browser was closed&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10314837,"reputation":56,"user_id":7609452,"display_name":"danoblinux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597915223,"creation_date":1597915223,"answer_id":63502034,"question_id":63490483,"body_markdown":"Since you are doing your parallel execution inside one java class but different methods (e.g. one @Test annotation one method) you need to call **@AfterMethod** hook to close all drivers (after every method / @Test annotation method).","title":"How to use driver.quit() when running parallel tests","body":"<p>Since you are doing your parallel execution inside one java class but different methods (e.g. one @Test annotation one method) you need to call <strong>@AfterMethod</strong> hook to close all drivers (after every method / @Test annotation method).</p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598002579,"creation_date":1598002579,"answer_id":63520312,"question_id":63490483,"body_markdown":"You should completely re-design your class.. First of all **avoid using static fields when design your code to be running in parallel**. Static field is a property of a class, not of an object. So being instantiated it is shared between all parallel threads and thus that can lead to unexpected results unless synchronized.\r\n\r\nSo you need to remove `static` modifier and create your driver objects in `@BeforeTest` (not in test code) and then quit your drivers in `@AfterTest`.","title":"How to use driver.quit() when running parallel tests","body":"<p>You should completely re-design your class.. First of all <strong>avoid using static fields when design your code to be running in parallel</strong>. Static field is a property of a class, not of an object. So being instantiated it is shared between all parallel threads and thus that can lead to unexpected results unless synchronized.</p>\n<p>So you need to remove <code>static</code> modifier and create your driver objects in <code>@BeforeTest</code> (not in test code) and then quit your drivers in <code>@AfterTest</code>.</p>\n"}],"owner":{"account_id":13303863,"reputation":483,"user_id":9604444,"display_name":"mastercool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63502034,"answer_count":3,"score":1,"last_activity_date":1640312731,"creation_date":1597851418,"question_id":63490483,"body_markdown":"i am running 4 parallel using `testNG` and Selenium. My Java file looks like this:\r\n```\r\npublic class SecondNGTest {\r\n\t\r\n\tpublic static WebDriver driver;\r\n    public static ChromeOptions chromeOptions;\r\n    \r\n    public static final String USERNAME = PRIVATE&quot;;\r\n    public static final String AUTOMATE_KEY = &quot;PRIVATE&quot;;\r\n    public static final String URL = &quot;https://&quot; + USERNAME + &quot;:&quot; + AUTOMATE_KEY + &quot;@hub-cloud.browserstack.com/wd/hub&quot;;\r\n    \r\n    public static DesiredCapabilities caps;\r\n\r\n    @Test    \r\n    public void executSessionOne() throws MalformedURLException{\r\n            //First session of WebDriver\r\n        caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\r\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\r\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\r\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\r\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\r\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\r\n\r\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\r\n\r\n        driver = new RemoteWebDriver(new URL(URL), caps);\r\n        chromeOptions = new ChromeOptions();\r\n\r\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \r\n            //Goto guru99 site\r\n            driver.get(&quot;http://google.com/&quot;);\r\n            \r\n        }\r\n        \r\n    @Test    \r\n        public void executeSessionTwo() throws MalformedURLException{\r\n            //Second session of WebDriver\r\n        caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\r\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\r\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\r\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\r\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\r\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\r\n\r\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\r\n\r\n        driver = new RemoteWebDriver(new URL(URL), caps);\r\n        chromeOptions = new ChromeOptions();\r\n\r\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \r\n            //Goto guru99 site\r\n            driver.get(&quot;http://youtube.com/&quot;);\r\n        \r\n        }\r\n        \r\n    @Test    \r\n        public void executSessionThree() throws MalformedURLException{\r\n            //Third session of WebDriver\r\n        caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\r\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\r\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\r\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\r\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\r\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\r\n\r\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\r\n\r\n        driver = new RemoteWebDriver(new URL(URL), caps);\r\n        chromeOptions = new ChromeOptions();\r\n\r\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \r\n            //Goto guru99 site\r\n            driver.get(&quot;http://slack.com/&quot;);\r\n        \r\n        }    \r\n    \r\n    @Test    \r\n    public void executSessionFour() throws MalformedURLException{\r\n        //Third session of WebDriver\r\n    caps = new DesiredCapabilities();\r\n    caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\r\n    caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\r\n    caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\r\n    caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\r\n    caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\r\n    caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\r\n\r\n    caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\r\n\r\n    driver = new RemoteWebDriver(new URL(URL), caps);\r\n    chromeOptions = new ChromeOptions();\r\n\r\n    String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \r\n        //Goto guru99 site\r\n        driver.get(&quot;http://yahoo.com/&quot;);\r\n    \r\n    } \r\n    \r\n    @AfterTest\r\n    public void browserclose (){\r\n        driver.quit();\r\n        System.out.println(&quot;TestCase : Browser was closed&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt works as it should by opening up 4 browser windows at once and running the tests but the problem is they never end. The `@AfterTest` block is only being triggered once, so one of the windows does close but the rest are left open and I have to manually close them. How can I close/quit each driver when each test is done?\r\n\r\nEDIT: here is my testng.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;TestSuite&quot;  &gt;\r\n&lt;test name=&quot;testGuru&quot; thread-count=&quot;4&quot; parallel=&quot;methods&quot;&gt;\r\n&lt;classes&gt;\r\n&lt;class name=&quot;selerixautomation.SecondNGTest&quot;&gt;\r\n&lt;/class&gt;\r\n&lt;/classes&gt;\r\n&lt;/test&gt;\r\n&lt;/suite&gt;\r\n```","title":"How to use driver.quit() when running parallel tests","body":"<p>i am running 4 parallel using <code>testNG</code> and Selenium. My Java file looks like this:</p>\n<pre><code>public class SecondNGTest {\n    \n    public static WebDriver driver;\n    public static ChromeOptions chromeOptions;\n    \n    public static final String USERNAME = PRIVATE&quot;;\n    public static final String AUTOMATE_KEY = &quot;PRIVATE&quot;;\n    public static final String URL = &quot;https://&quot; + USERNAME + &quot;:&quot; + AUTOMATE_KEY + &quot;@hub-cloud.browserstack.com/wd/hub&quot;;\n    \n    public static DesiredCapabilities caps;\n\n    @Test    \n    public void executSessionOne() throws MalformedURLException{\n            //First session of WebDriver\n        caps = new DesiredCapabilities();\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\n\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\n\n        driver = new RemoteWebDriver(new URL(URL), caps);\n        chromeOptions = new ChromeOptions();\n\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \n            //Goto guru99 site\n            driver.get(&quot;http://google.com/&quot;);\n            \n        }\n        \n    @Test    \n        public void executeSessionTwo() throws MalformedURLException{\n            //Second session of WebDriver\n        caps = new DesiredCapabilities();\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\n\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\n\n        driver = new RemoteWebDriver(new URL(URL), caps);\n        chromeOptions = new ChromeOptions();\n\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \n            //Goto guru99 site\n            driver.get(&quot;http://youtube.com/&quot;);\n        \n        }\n        \n    @Test    \n        public void executSessionThree() throws MalformedURLException{\n            //Third session of WebDriver\n        caps = new DesiredCapabilities();\n        caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\n        caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\n        caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\n        caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\n        caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\n        caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\n\n        caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\n\n        driver = new RemoteWebDriver(new URL(URL), caps);\n        chromeOptions = new ChromeOptions();\n\n        String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \n            //Goto guru99 site\n            driver.get(&quot;http://slack.com/&quot;);\n        \n        }    \n    \n    @Test    \n    public void executSessionFour() throws MalformedURLException{\n        //Third session of WebDriver\n    caps = new DesiredCapabilities();\n    caps.setCapability(&quot;os&quot;, &quot;Windows&quot;);\n    caps.setCapability(&quot;os_version&quot;, &quot;10&quot;);\n    caps.setCapability(&quot;browser&quot;, &quot;Chrome&quot;);\n    caps.setCapability(&quot;browser_version&quot;, &quot;80.0 beta&quot;);\n    caps.setCapability(&quot;browserstack.local&quot;, &quot;false&quot;);\n    caps.setCapability(&quot;browserstack.selenium_version&quot;, &quot;3.5.2&quot;);\n\n    caps.setCapability(&quot;name&quot;, &quot;selenium test&quot;);\n\n    driver = new RemoteWebDriver(new URL(URL), caps);\n    chromeOptions = new ChromeOptions();\n\n    String chromeDriverPath = &quot;resources/chromedriver.exe&quot;;\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);   \n        //Goto guru99 site\n        driver.get(&quot;http://yahoo.com/&quot;);\n    \n    } \n    \n    @AfterTest\n    public void browserclose (){\n        driver.quit();\n        System.out.println(&quot;TestCase : Browser was closed&quot;);\n    }\n}\n</code></pre>\n<p>It works as it should by opening up 4 browser windows at once and running the tests but the problem is they never end. The <code>@AfterTest</code> block is only being triggered once, so one of the windows does close but the rest are left open and I have to manually close them. How can I close/quit each driver when each test is done?</p>\n<p>EDIT: here is my testng.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;TestSuite&quot;  &gt;\n&lt;test name=&quot;testGuru&quot; thread-count=&quot;4&quot; parallel=&quot;methods&quot;&gt;\n&lt;classes&gt;\n&lt;class name=&quot;selerixautomation.SecondNGTest&quot;&gt;\n&lt;/class&gt;\n&lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640309317,"creation_date":1640309317,"answer_id":70468813,"question_id":70468774,"body_markdown":"You aren&#39;t being consistent with `currentKey` **and** your second `if` is wrong. You are testing `method` but then invoking on `operation`. Let&#39;s fix that. Like,\r\n\r\n\tHashMap&lt;String, List&lt;String&gt;&gt; operation = new HashMap&lt;&gt;();\r\n\tList&lt;String&gt; method = Arrays.asList(&quot;get&quot;, &quot;put&quot;, &quot;post&quot;);\r\n\tfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n\t\tString currentKey = entry.getKey();\r\n\t\tif (currentKey.contains(&quot;/&quot;) &amp;&amp; !currentKey.contains(&quot;$ref&quot;)) {\r\n\t\t\toperation.put(currentKey, new ArrayList&lt;&gt;());\r\n\t\t}\r\n\t\tif (operation.containsKey(currentKey)) {\r\n\t\t\toperation.get(currentKey).add(currentKey);\r\n\t\t}\r\n\r\n\t\tif (entry.getValue() instanceof Map) {\r\n\t\t\titerate((Map&lt;String, Object&gt;) entry.getValue());\r\n\t\t}\r\n\t}\r\n\r\n","title":"Java HashMap is becoming null after exiting from if condition","body":"<p>You aren't being consistent with <code>currentKey</code> <strong>and</strong> your second <code>if</code> is wrong. You are testing <code>method</code> but then invoking on <code>operation</code>. Let's fix that. Like,</p>\n<pre><code>HashMap&lt;String, List&lt;String&gt;&gt; operation = new HashMap&lt;&gt;();\nList&lt;String&gt; method = Arrays.asList(&quot;get&quot;, &quot;put&quot;, &quot;post&quot;);\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    String currentKey = entry.getKey();\n    if (currentKey.contains(&quot;/&quot;) &amp;&amp; !currentKey.contains(&quot;$ref&quot;)) {\n        operation.put(currentKey, new ArrayList&lt;&gt;());\n    }\n    if (operation.containsKey(currentKey)) {\n        operation.get(currentKey).add(currentKey);\n    }\n\n    if (entry.getValue() instanceof Map) {\n        iterate((Map&lt;String, Object&gt;) entry.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640312539,"creation_date":1640311505,"answer_id":70468945,"question_id":70468774,"body_markdown":"This is where the problems are:\r\n\r\n     for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        if (entry.getKey().contains(&quot;/&quot;) \r\n            &amp;&amp; !entry.getKey().contains(&quot;$ref&quot;)) {\r\n            currentKey = entry.getKey();\r\n            operation.put(entry.getKey(), params); // Here value is assigned\r\n                                                   // successfully\r\n        }\r\n        if (method.contains(entry.getKey())) {\r\n             operation.get(currentKey).add(entry.getKey()); \r\n                                                   // Here its null pointer\r\n                                                   // exception &amp; HashMap has no data\r\n        }\r\n        ...\r\n     }\r\n\r\n\r\nThe first test is testing the value of the key.  The second test is testing whether the key is contained in `methods`.  These tests are different.  \r\n\r\nBased on the code that you have shown us, there are actually 4 possibilities for the outcomes of these tests:\r\n\r\n  - both tests succeed\r\n  - both tests fail\r\n  - first test succeeds, and second test fails\r\n  - first test fails, and second test succeeds\r\n\r\nThe last possibility is the probably the cause of the NPE.\r\n\r\nIf (for example) the key does not contain the string `&quot;/&quot;`, but it the `method` string (or collection or whatever) *does* contain the key, then:\r\n\r\n   1.  The `operation.put...` statement IS NOT executed\r\n   2.  The `operation.get...` statement IS executed ... and will NPE because the `operation.get` call returns `null`.\r\n\r\nAnd there is this is exacerbated by a second problem.   When the first test fails, it won&#39;t perform the `currentKey = entry.getKey();` statement.  That means that `operation.get(currentKey)` will be using a `currentKey` value *from a previous step*.  The value could even be `null`.  (Note that `operation.get(null)` will most likely return `null`.)\r\n\r\n-------------------\r\n\r\nIn short, your code appears to contain at least two bugs, and the most plausible explanation for the missing `operation` map entry is that your code didn&#39;t put it there!  (It is not *becoming* `null`.)\r\n\r\n(We do not need to hypothesize a flaw in `HashMap` to explain this.)\r\n\r\nIf this doesn&#39;t explain the problem to your satisfaction, you will need to add a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to your question ... so that we can run it ourselves.\r\n\r\n\r\n\r\n","title":"Java HashMap is becoming null after exiting from if condition","body":"<p>This is where the problems are:</p>\n<pre><code> for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    if (entry.getKey().contains(&quot;/&quot;) \n        &amp;&amp; !entry.getKey().contains(&quot;$ref&quot;)) {\n        currentKey = entry.getKey();\n        operation.put(entry.getKey(), params); // Here value is assigned\n                                               // successfully\n    }\n    if (method.contains(entry.getKey())) {\n         operation.get(currentKey).add(entry.getKey()); \n                                               // Here its null pointer\n                                               // exception &amp; HashMap has no data\n    }\n    ...\n }\n</code></pre>\n<p>The first test is testing the value of the key.  The second test is testing whether the key is contained in <code>methods</code>.  These tests are different.</p>\n<p>Based on the code that you have shown us, there are actually 4 possibilities for the outcomes of these tests:</p>\n<ul>\n<li>both tests succeed</li>\n<li>both tests fail</li>\n<li>first test succeeds, and second test fails</li>\n<li>first test fails, and second test succeeds</li>\n</ul>\n<p>The last possibility is the probably the cause of the NPE.</p>\n<p>If (for example) the key does not contain the string <code>&quot;/&quot;</code>, but it the <code>method</code> string (or collection or whatever) <em>does</em> contain the key, then:</p>\n<ol>\n<li>The <code>operation.put...</code> statement IS NOT executed</li>\n<li>The <code>operation.get...</code> statement IS executed ... and will NPE because the <code>operation.get</code> call returns <code>null</code>.</li>\n</ol>\n<p>And there is this is exacerbated by a second problem.   When the first test fails, it won't perform the <code>currentKey = entry.getKey();</code> statement.  That means that <code>operation.get(currentKey)</code> will be using a <code>currentKey</code> value <em>from a previous step</em>.  The value could even be <code>null</code>.  (Note that <code>operation.get(null)</code> will most likely return <code>null</code>.)</p>\n<hr />\n<p>In short, your code appears to contain at least two bugs, and the most plausible explanation for the missing <code>operation</code> map entry is that your code didn't put it there!  (It is not <em>becoming</em> <code>null</code>.)</p>\n<p>(We do not need to hypothesize a flaw in <code>HashMap</code> to explain this.)</p>\n<p>If this doesn't explain the problem to your satisfaction, you will need to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to your question ... so that we can run it ourselves.</p>\n"}],"owner":{"account_id":2266672,"reputation":97,"user_id":1995151,"accept_rate":67,"display_name":"user1995151"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1640312539,"creation_date":1640308794,"question_id":70468774,"body_markdown":"In first if condition putting a value in HashMap &amp; in next if condition the HashMap is null.\r\n\r\n\t\tHashMap&lt;String, List&gt; operation = new HashMap&lt;&gt;();\r\n        List method = Arrays.asList(&quot;get&quot;,&quot;put&quot;,&quot;post&quot;);\r\n        ArrayList &lt;String&gt; params = new ArrayList&lt;String&gt;();\r\n         for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            if(entry.getKey().contains(&quot;/&quot;) &amp;&amp; !entry.getKey().contains(&quot;$ref&quot;)){\r\n                currentKey = entry.getKey();\r\n                operation.put(entry.getKey(),params); // Here value is assigned successfully\r\n            }\r\n            if(method.contains(entry.getKey())){\r\n                 operation.get(currentKey).add(entry.getKey()); //Here its null point exception &amp; HashMap has no data\r\n            }\r\n           \r\n            if (entry.getValue() instanceof Map) {\r\n                iterate((Map&lt;String, Object&gt;) entry.getValue());\r\n            } \r\n        }","title":"Java HashMap is becoming null after exiting from if condition","body":"<p>In first if condition putting a value in HashMap &amp; in next if condition the HashMap is null.</p>\n<pre><code>    HashMap&lt;String, List&gt; operation = new HashMap&lt;&gt;();\n    List method = Arrays.asList(&quot;get&quot;,&quot;put&quot;,&quot;post&quot;);\n    ArrayList &lt;String&gt; params = new ArrayList&lt;String&gt;();\n     for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n        if(entry.getKey().contains(&quot;/&quot;) &amp;&amp; !entry.getKey().contains(&quot;$ref&quot;)){\n            currentKey = entry.getKey();\n            operation.put(entry.getKey(),params); // Here value is assigned successfully\n        }\n        if(method.contains(entry.getKey())){\n             operation.get(currentKey).add(entry.getKey()); //Here its null point exception &amp; HashMap has no data\n        }\n       \n        if (entry.getValue() instanceof Map) {\n            iterate((Map&lt;String, Object&gt;) entry.getValue());\n        } \n    }\n</code></pre>\n"},{"tags":["java","constructor","datepicker","wicket"],"comments":[{"owner":{"account_id":2491110,"reputation":1737,"user_id":2168532,"display_name":"Michael Zhavzharov"},"score":0,"creation_date":1408704762,"post_id":25444266,"comment_id":39700518,"body_markdown":"Is this stack trace complete? see your console log in IDE, may be there is more significant explanation. This is too broad exception, that you have posted.","body":"Is this stack trace complete? see your console log in IDE, may be there is more significant explanation. This is too broad exception, that you have posted."},{"owner":{"account_id":3154350,"reputation":575,"user_id":2667060,"accept_rate":45,"display_name":"Aybek Kokanbekov"},"score":0,"creation_date":1408713695,"post_id":25444266,"comment_id":39705753,"body_markdown":"I&#39;ve added complete StackTrace","body":"I&#39;ve added complete StackTrace"},{"owner":{"account_id":2491110,"reputation":1737,"user_id":2168532,"display_name":"Michael Zhavzharov"},"score":1,"creation_date":1408715620,"post_id":25444266,"comment_id":39706975,"body_markdown":"Ok, the real exception is: java.lang.NoClassDefFoundError: org/apache/wicket/markup/head/HeaderItem. It means, that your classloader could not find this class. It&#39;s about your project settings. There is a lot of information about this problem in google, for examlpe check this: http://stackoverflow.com/a/17974068/2168532","body":"Ok, the real exception is: java.lang.NoClassDefFoundError: org/apache/wicket/markup/head/HeaderItem. It means, that your classloader could not find this class. It&#39;s about your project settings. There is a lot of information about this problem in google, for examlpe check this: <a href=\"http://stackoverflow.com/a/17974068/2168532\">stackoverflow.com/a/17974068/2168532</a>"}],"answers":[{"tags":[],"owner":{"account_id":2856017,"reputation":1273,"user_id":2452275,"accept_rate":77,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408701979,"creation_date":1408701979,"answer_id":25444510,"question_id":25444266,"body_markdown":"Something is going wrong in you constructor. When an exception is throw in the constructor, Wicket catches it an displays that message. Does the field &#39;date&#39; have a getter and setter? These are required for the PropertyModel in DateTextField.","title":"WICKET: Can&#39;t instantiate page using constructor when using DatePicker","body":"<p>Something is going wrong in you constructor. When an exception is throw in the constructor, Wicket catches it an displays that message. Does the field 'date' have a getter and setter? These are required for the PropertyModel in DateTextField.</p>\n"}],"owner":{"account_id":3154350,"reputation":575,"user_id":2667060,"accept_rate":45,"display_name":"Aybek Kokanbekov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640311455,"creation_date":1408701209,"question_id":25444266,"body_markdown":"This time I have problem on putting DatePicker on my wicket Page.\r\n&lt;br&gt;&lt;br&gt;\r\nMy code is follows:&lt;br&gt;\r\n\r\n    public class StateDB extends BasePage {\r\n        private Date date = new Date();\r\n        public StateDB() {\r\n            Form form = new Form(&quot;form&quot;);\r\n            DateTextField birthDate = new DateTextField(&quot;birthDate&quot;, new PropertyModel&lt;Date&gt;(\r\n                    this, &quot;date&quot;), new StyleDateConverter(&quot;S-&quot;, true));\r\n            PickDate datePicker = new PickDate();\r\n            datePicker.setShowOnFieldClick(true);\r\n            datePicker.setAutoHide(true);\r\n            birthDate.add(datePicker);\r\n            form.add(birthDate);  \r\n            add(form);\r\n        }\r\n    }\r\n\r\nWhen I run it on server and link to this page I&#39;m getting Exception:&lt;br&gt;\r\n\r\n    Last cause: org.apache.wicket.markup.head.HeaderItem\r\n    WicketMessage: Can&#39;t instantiate page using constructor &#39;public kz.company.myPackage.controller.StateDB()&#39;. Might be it doesn&#39;t exist, may be it is not visible (public).\r\n\r\nBut as you can see constructor of my class is public\r\n\r\n    public StateDB() {\r\nThere is stacktrace\r\n\r\n    Complete stack:\r\n    \r\n    org.apache.wicket.WicketRuntimeException: Can&#39;t instantiate page using constructor &#39;public kz.company.myPackage.controller.StateDB()&#39;. Might be it doesn&#39;t exist, may be it is not visible (public).\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:196)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\r\n         at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\r\n         at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\r\n         at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\r\n         at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\r\n         at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\r\n         at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\r\n         at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\r\n         at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\r\n         at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)\r\n    \r\n    java.lang.reflect.InvocationTargetException\r\n         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n         at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n         at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\r\n         at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\r\n         at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\r\n         at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\r\n         at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\r\n         at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\r\n         at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\r\n         at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\r\n         at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\r\n         at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/wicket/markup/head/HeaderItem\r\n         at kz.company.myPackage.controller.StateDB.&lt;init&gt;(StateDB.java:72)\r\n         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n         at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\r\n         at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\r\n         at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\r\n         at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\r\n         at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\r\n         at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\r\n         at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\r\n         at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\r\n         at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\r\n         at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\r\n         at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\r\n         at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\r\n         at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)","title":"WICKET: Can&#39;t instantiate page using constructor when using DatePicker","body":"<p>This time I have problem on putting DatePicker on my wicket Page.\n<br><br>\nMy code is follows:<br></p>\n\n<pre><code>public class StateDB extends BasePage {\n    private Date date = new Date();\n    public StateDB() {\n        Form form = new Form(\"form\");\n        DateTextField birthDate = new DateTextField(\"birthDate\", new PropertyModel&lt;Date&gt;(\n                this, \"date\"), new StyleDateConverter(\"S-\", true));\n        PickDate datePicker = new PickDate();\n        datePicker.setShowOnFieldClick(true);\n        datePicker.setAutoHide(true);\n        birthDate.add(datePicker);\n        form.add(birthDate);  \n        add(form);\n    }\n}\n</code></pre>\n\n<p>When I run it on server and link to this page I'm getting Exception:<br></p>\n\n<pre><code>Last cause: org.apache.wicket.markup.head.HeaderItem\nWicketMessage: Can't instantiate page using constructor 'public kz.company.myPackage.controller.StateDB()'. Might be it doesn't exist, may be it is not visible (public).\n</code></pre>\n\n<p>But as you can see constructor of my class is public</p>\n\n<pre><code>public StateDB() {\n</code></pre>\n\n<p>There is stacktrace</p>\n\n<pre><code>Complete stack:\n\norg.apache.wicket.WicketRuntimeException: Can't instantiate page using constructor 'public kz.company.myPackage.controller.StateDB()'. Might be it doesn't exist, may be it is not visible (public).\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:196)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\n     at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\n     at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\n     at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\n     at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\n     at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\n     at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\n     at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\n     at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\n     at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)\n\njava.lang.reflect.InvocationTargetException\n     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n     at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\n     at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\n     at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\n     at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\n     at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\n     at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\n     at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\n     at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\n     at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\n     at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)\n\njava.lang.NoClassDefFoundError: org/apache/wicket/markup/head/HeaderItem\n     at kz.company.myPackage.controller.StateDB.&lt;init&gt;(StateDB.java:72)\n     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n     at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68)\n     at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47)\n     at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103)\n     at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264)\n     at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165)\n     at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105)\n     at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224)\n     at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167)\n     at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:784)\n     at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)\n     at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212)\n     at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283)\n     at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:188)\n</code></pre>\n"},{"tags":["java","arraylist","stream"],"answers":[{"tags":[],"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1640310476,"creation_date":1640310177,"answer_id":70468873,"question_id":70468817,"body_markdown":"For this question, you can simply use a for each loop to iterate over the List and, if the ownerName matches the name you&#39;re looking for, add it to your sum.\r\n```java\r\ndouble sum = 0;\r\nfor (OrderItem item: yourListName){\r\n    if (item.getOwnerName().equals(nameYoureSearchingFor))\r\n        sum+=item.value;\r\n}\r\n```\r\nIf you want to use an iterator, you can use:\r\n```java\r\nOrderItem item;\r\n        double sum = 0;\r\n        Iterator&lt;OrderItem&gt; iterator = list.stream().iterator();\r\n        while(iterator.hasNext()){\r\n            item = iterator.next();\r\n            if (item.getOwnerName().equals(nameYoureLookingFor))\r\n                sum+= item.getValue();\r\n        }\r\n```\r\n","title":"Sum of attribute value in Object List","body":"<p>For this question, you can simply use a for each loop to iterate over the List and, if the ownerName matches the name you're looking for, add it to your sum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double sum = 0;\nfor (OrderItem item: yourListName){\n    if (item.getOwnerName().equals(nameYoureSearchingFor))\n        sum+=item.value;\n}\n</code></pre>\n<p>If you want to use an iterator, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OrderItem item;\n        double sum = 0;\n        Iterator&lt;OrderItem&gt; iterator = list.stream().iterator();\n        while(iterator.hasNext()){\n            item = iterator.next();\n            if (item.getOwnerName().equals(nameYoureLookingFor))\n                sum+= item.getValue();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640310335,"creation_date":1640310335,"answer_id":70468877,"question_id":70468817,"body_markdown":" You could do this is\r\n\r\n      Double sum = list.stream()\r\n                .filter(orderItem -&gt; orderItem.getItemName().equals(&quot;john&quot;))\r\n                .mapToDouble(OrderItem::getValue)\r\n                .sum();","title":"Sum of attribute value in Object List","body":"<p>You could do this is</p>\n<pre><code>  Double sum = list.stream()\n            .filter(orderItem -&gt; orderItem.getItemName().equals(&quot;john&quot;))\n            .mapToDouble(OrderItem::getValue)\n            .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640310365,"creation_date":1640310365,"answer_id":70468880,"question_id":70468817,"body_markdown":"Assuming you have a list of `OrderItems`, we can group them by `ownerName` and do a sum as a downstream collector:\r\n\r\n```\r\nList&lt;OrderItem&gt; items = List.of(\r\n              new OrderItem(1,&quot;item1&quot;,&quot;John&quot;,12.00);\r\n              new OrderItem(2,&quot;item2&quot;,&quot;John&quot;,385.00);\r\n              new OrderItem(3,&quot;item3&quot;,&quot;John&quot;,20.00);\r\n              new OrderItem(4,&quot;item4&quot;,&quot;Doe&quot;,19.00));\r\n\r\nMap&lt;String, Double&gt; result = items.stream()\r\n        .collect(Collectors.groupingBy(OrderItem::ownerName,\r\n                 Collectors.summingDouble(OrderItem::value)));\r\n```\r\n\r\nFrom the `result` map we can get each value by the owner name:\r\n\r\n```\r\nSystem.out.println(result.get(&quot;John&quot;)); //prints 417.00\r\n```","title":"Sum of attribute value in Object List","body":"<p>Assuming you have a list of <code>OrderItems</code>, we can group them by <code>ownerName</code> and do a sum as a downstream collector:</p>\n<pre><code>List&lt;OrderItem&gt; items = List.of(\n              new OrderItem(1,&quot;item1&quot;,&quot;John&quot;,12.00);\n              new OrderItem(2,&quot;item2&quot;,&quot;John&quot;,385.00);\n              new OrderItem(3,&quot;item3&quot;,&quot;John&quot;,20.00);\n              new OrderItem(4,&quot;item4&quot;,&quot;Doe&quot;,19.00));\n\nMap&lt;String, Double&gt; result = items.stream()\n        .collect(Collectors.groupingBy(OrderItem::ownerName,\n                 Collectors.summingDouble(OrderItem::value)));\n</code></pre>\n<p>From the <code>result</code> map we can get each value by the owner name:</p>\n<pre><code>System.out.println(result.get(&quot;John&quot;)); //prints 417.00\n</code></pre>\n"}],"owner":{"account_id":18103075,"reputation":13,"user_id":13160677,"display_name":"Steven93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640310814,"accepted_answer_id":70468880,"answer_count":3,"score":1,"last_activity_date":1640310842,"creation_date":1640309388,"question_id":70468817,"body_markdown":"I have an order which contains a list of order items List&lt;OrderItem&lt;OrderItem&gt;&gt;. As for the order item.\r\n```\r\npublic class OrderItem {\r\n  private long itemId;\r\n  private String itemName;\r\n  private String ownerName;\r\n  private double value;\r\n\r\n  // all the related constructors, mutators and accessors are included.\r\n}\r\n```\r\n\r\nIf in this list I have the following items\r\n```\r\nOrderItem(1,&quot;item1&quot;,&quot;John&quot;,12.00);\r\nOrderItem(2,&quot;item2&quot;,&quot;John&quot;,385.00);\r\nOrderItem(3,&quot;item3&quot;,&quot;John&quot;,20.00);\r\nOrderItem(4,&quot;item4&quot;,&quot;Doe&quot;,19.00);\r\n```\r\nAnd I want to calculate the sum of value from which the order owner&#39;s name is the same.\r\n\r\ne.g. if owner name is &quot;John&quot;,then return 417.00, if name is &quot;Doe&quot;, then it is 19.00.\r\n\r\nHow can I do this through Java stream? Many thanks","title":"Sum of attribute value in Object List","body":"<p>I have an order which contains a list of order items List&lt;OrderItem&gt;. As for the order item.</p>\n<pre><code>public class OrderItem {\n  private long itemId;\n  private String itemName;\n  private String ownerName;\n  private double value;\n\n  // all the related constructors, mutators and accessors are included.\n}\n</code></pre>\n<p>If in this list I have the following items</p>\n<pre><code>OrderItem(1,&quot;item1&quot;,&quot;John&quot;,12.00);\nOrderItem(2,&quot;item2&quot;,&quot;John&quot;,385.00);\nOrderItem(3,&quot;item3&quot;,&quot;John&quot;,20.00);\nOrderItem(4,&quot;item4&quot;,&quot;Doe&quot;,19.00);\n</code></pre>\n<p>And I want to calculate the sum of value from which the order owner's name is the same.</p>\n<p>e.g. if owner name is &quot;John&quot;,then return 417.00, if name is &quot;Doe&quot;, then it is 19.00.</p>\n<p>How can I do this through Java stream? Many thanks</p>\n"},{"tags":["java","eclipse","editor","text-cursor"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1568837414,"post_id":20646591,"comment_id":102406005,"body_markdown":"My workaround is to hit ESC twice to exit the Smart Insert box thingy, then it doesn&#39;t happen.","body":"My workaround is to hit ESC twice to exit the Smart Insert box thingy, then it doesn&#39;t happen."}],"answers":[{"tags":[],"owner":{"account_id":1803340,"reputation":121,"user_id":1641084,"accept_rate":100,"display_name":"maus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399829378,"creation_date":1399829378,"answer_id":23595753,"question_id":20646591,"body_markdown":"This doesn&#39;t happen for me if I *check* &quot;automatically close&quot; for parentheses. It seems that if you don&#39;t let Eclipse close parentheses it&#39;ll assume the next closing paren you&#39;ve typed is the one you want. If you let it close parens, it&#39;ll add a paren after `anotherMethod(` and the cursor will stay there. Auto-close of parens isn&#39;t that bad since you can usually type over it without it resulting in two close parens.","title":"How to stop Eclipse from moving cursor for closing java parenthesis?","body":"<p>This doesn't happen for me if I <em>check</em> \"automatically close\" for parentheses. It seems that if you don't let Eclipse close parentheses it'll assume the next closing paren you've typed is the one you want. If you let it close parens, it'll add a paren after <code>anotherMethod(</code> and the cursor will stay there. Auto-close of parens isn't that bad since you can usually type over it without it resulting in two close parens.</p>\n"}],"owner":{"account_id":1242573,"reputation":311,"user_id":1204809,"display_name":"Kobaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1640309914,"creation_date":1387321924,"question_id":20646591,"body_markdown":"One problem with Eclipse I am having is the editor will move my cursor when attempting to add a closing parenthesis in java code.\r\n\r\nI will begin typing\r\n\r\n    class.method\r\n\r\nAnd then ctrl + space to auto complete the method attributes\r\n\r\n    class.method(string, anotherString)\r\n\r\nWhich conveniently highlights the first attribute and moves my cursor to just after the g in string.\r\n\r\nThe problem comes when I backspace and change string, for example, to a second method call.\r\n\r\n    class.method(anotherMethod(, anotherString)\r\n\r\nWhen I type the closing parenthesis to the opening parenthesis of anotherMethod, my cursor is moved to the end of the line and highlights the closing parenthesis after anotherString.\r\n\r\nThis is a rather annoying pain, as I have to move the cursor back to where it was originally to complete anotherMethod.\r\n\r\nI have unchecked Preferences -&gt; java -&gt; editor -&gt; typing -&gt; &quot;automatically close&quot; but the problem persists. I also thought it had to do with my formatting settings, but restoring those to default doesn&#39;t fix the issue either.\r\n\r\nIs there a way to tell Eclipse to stop moving my cursor?\r\n","title":"How to stop Eclipse from moving cursor for closing java parenthesis?","body":"<p>One problem with Eclipse I am having is the editor will move my cursor when attempting to add a closing parenthesis in java code.</p>\n\n<p>I will begin typing</p>\n\n<pre><code>class.method\n</code></pre>\n\n<p>And then ctrl + space to auto complete the method attributes</p>\n\n<pre><code>class.method(string, anotherString)\n</code></pre>\n\n<p>Which conveniently highlights the first attribute and moves my cursor to just after the g in string.</p>\n\n<p>The problem comes when I backspace and change string, for example, to a second method call.</p>\n\n<pre><code>class.method(anotherMethod(, anotherString)\n</code></pre>\n\n<p>When I type the closing parenthesis to the opening parenthesis of anotherMethod, my cursor is moved to the end of the line and highlights the closing parenthesis after anotherString.</p>\n\n<p>This is a rather annoying pain, as I have to move the cursor back to where it was originally to complete anotherMethod.</p>\n\n<p>I have unchecked Preferences -> java -> editor -> typing -> \"automatically close\" but the problem persists. I also thought it had to do with my formatting settings, but restoring those to default doesn't fix the issue either.</p>\n\n<p>Is there a way to tell Eclipse to stop moving my cursor?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"comments":[{"owner":{"account_id":1545009,"reputation":67059,"user_id":1438733,"accept_rate":100,"display_name":"Cat"},"score":0,"creation_date":1346568496,"post_id":12233784,"comment_id":16395022,"body_markdown":"I&#39;m not sure of your use cases for SQLite, but this may be of use: http://shopwith.it/2011/12/16/how-to-improve-android-app-performance-by-caching-data-in-sqlite-and-images-to-the-sd-card-android-developer-tips/","body":"I&#39;m not sure of your use cases for SQLite, but this may be of use: <a href=\"http://shopwith.it/2011/12/16/how-to-improve-android-app-performance-by-caching-data-in-sqlite-and-images-to-the-sd-card-android-developer-tips/\" rel=\"nofollow noreferrer\">shopwith.it/2011/12/16/&hellip;</a>"},{"owner":{"display_name":"user610650"},"score":0,"creation_date":1346577174,"post_id":12233784,"comment_id":16396245,"body_markdown":"If you&#39;re up for it, can you explain why you need to retrieve so many records at once? Also can&#39;t you collapse to less in your SELECT statement?","body":"If you&#39;re up for it, can you explain why you need to retrieve so many records at once? Also can&#39;t you collapse to less in your SELECT statement?"}],"answers":[{"tags":[],"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1346666804,"creation_date":1346567253,"answer_id":12233899,"question_id":12233784,"body_markdown":"Optimizing what you do inside the loop is the only way of improving the speed of the whole operation. For instance if you&#39;re doing `getColumnIndex` calls on every iteration, you will be loosing precious time. Do it once, store the value.\r\n\r\nUse `traceView` to locate where you&#39;re loosing time and improve it there. Sadly I can&#39;t give a concrete answer, since I don&#39;t know what you&#39;re doing inside the loop.\r\n\r\n&lt;hr&gt;\r\n[Traceview Debugging][1]\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/tools/debugging/debugging-tracing.html","title":"Is there any faster way to iterate through rows from Sqlite query?","body":"<p>Optimizing what you do inside the loop is the only way of improving the speed of the whole operation. For instance if you're doing <code>getColumnIndex</code> calls on every iteration, you will be loosing precious time. Do it once, store the value.</p>\n\n<p>Use <code>traceView</code> to locate where you're loosing time and improve it there. Sadly I can't give a concrete answer, since I don't know what you're doing inside the loop.</p>\n\n<p><hr>\n<a href=\"http://developer.android.com/tools/debugging/debugging-tracing.html\" rel=\"nofollow\">Traceview Debugging</a></p>\n"}],"owner":{"account_id":408627,"reputation":22880,"user_id":779408,"accept_rate":70,"display_name":"Bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2637,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":12233899,"answer_count":1,"score":14,"last_activity_date":1640309767,"creation_date":1346565640,"question_id":12233784,"body_markdown":"I am using the following lines for looping on rows of a Sqlite query.\r\n\r\n\r\n    this.open(); // opening db\r\n    Cursor cursor = db.rawQuery(strQuery, null);\r\n    \r\n    cursor.moveToFirst();\r\n    do {    \r\n\r\n        // do something    \r\n\r\n    } while (cursor.moveToNext());\r\n         \r\n    cursor.close();\r\n\r\nWhen the number of rows is about 15000 it takes long time. **It takes about 4 seconds for empty `while` block** and about 6 second for `while` block that has some codes. It shows that iterating on rows in this way is time consuming.\r\n\r\nIs there any faster way for looping on rows in android and Sqlite?\r\n\r\nThanks,\r\n","title":"Is there any faster way to iterate through rows from Sqlite query?","body":"<p>I am using the following lines for looping on rows of a Sqlite query.</p>\n\n<pre><code>this.open(); // opening db\nCursor cursor = db.rawQuery(strQuery, null);\n\ncursor.moveToFirst();\ndo {    \n\n    // do something    \n\n} while (cursor.moveToNext());\n\ncursor.close();\n</code></pre>\n\n<p>When the number of rows is about 15000 it takes long time. <strong>It takes about 4 seconds for empty <code>while</code> block</strong> and about 6 second for <code>while</code> block that has some codes. It shows that iterating on rows in this way is time consuming.</p>\n\n<p>Is there any faster way for looping on rows in android and Sqlite?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","binary","hex","base-conversion"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1478431667,"post_id":40448780,"comment_id":68143230,"body_markdown":"*&quot;is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)?&quot;* no, but `String.format()` can fill missing chars before another string...","body":"<i>&quot;is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)?&quot;</i> no, but <code>String.format()</code> can fill missing chars before another string..."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640309431,"creation_date":1478431716,"answer_id":40448810,"question_id":40448780,"body_markdown":"Hint: use string concatenation to add the appropriate number of zeros in the appropriate place.\r\n\r\nFor example:\r\n\r\n    public String hexToBin(String hex) throws NumberFormatException {\r\n        String bin = Integer.toBinaryString(Integer.parseInt(hex, 16));\r\n        int len = bin.length();\r\n        return len == 8 ? bin : &quot;00000000&quot;.substring(len - 8) + bin;\r\n    }\r\n\r\n&lt;sup&gt;(Warning: untested ...)&lt;/sup&gt;","title":"Conversion from hex to binary keeping 8 bits in Java","body":"<p>Hint: use string concatenation to add the appropriate number of zeros in the appropriate place.</p>\n<p>For example:</p>\n<pre><code>public String hexToBin(String hex) throws NumberFormatException {\n    String bin = Integer.toBinaryString(Integer.parseInt(hex, 16));\n    int len = bin.length();\n    return len == 8 ? bin : &quot;00000000&quot;.substring(len - 8) + bin;\n}\n</code></pre>\n<p><sup>(Warning: untested ...)</sup></p>\n"},{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478432271,"creation_date":1478432271,"answer_id":40448886,"question_id":40448780,"body_markdown":"&gt; My question is: is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)?\r\n\r\nNo, there isn&#39;t. You have to write it yourself.\r\n\r\nHere&#39;s one simple way. If you *know* the input is always a single byte, then you could add 256 to the number before calling `toBinaryString`. That way, the string will be guaranteed to be 9 characters long, and then you can just shave off the first character using `substring`:\r\n\r\n    String bin = Integer.toBinaryString(256 + i).substring(1);\r\n","title":"Conversion from hex to binary keeping 8 bits in Java","body":"<blockquote>\n  <p>My question is: is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)?</p>\n</blockquote>\n\n<p>No, there isn't. You have to write it yourself.</p>\n\n<p>Here's one simple way. If you <em>know</em> the input is always a single byte, then you could add 256 to the number before calling <code>toBinaryString</code>. That way, the string will be guaranteed to be 9 characters long, and then you can just shave off the first character using <code>substring</code>:</p>\n\n<pre><code>String bin = Integer.toBinaryString(256 + i).substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5687603,"reputation":183,"user_id":4496636,"accept_rate":80,"display_name":"vandermies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478432678,"creation_date":1478432678,"answer_id":40448950,"question_id":40448780,"body_markdown":"I&#39;ve concatenated this way. Thanks!\r\n\r\n    private String hexToBin (String hex){\r\n    \t\tint i = Integer.parseInt(hex, 16);\r\n    \t\tString bin = Integer.toBinaryString(i);\r\n    \t\twhile (bin.length()&lt;8){\r\n    \t\t\tbin=&quot;0&quot;+bin;\r\n    \t\t}\r\n    \t\treturn bin;\r\n    \t\t\r\n    \t}","title":"Conversion from hex to binary keeping 8 bits in Java","body":"<p>I've concatenated this way. Thanks!</p>\n\n<pre><code>private String hexToBin (String hex){\n        int i = Integer.parseInt(hex, 16);\n        String bin = Integer.toBinaryString(i);\n        while (bin.length()&lt;8){\n            bin=\"0\"+bin;\n        }\n        return bin;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":5687603,"reputation":183,"user_id":4496636,"accept_rate":80,"display_name":"vandermies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40448810,"answer_count":3,"score":0,"last_activity_date":1640309431,"creation_date":1478431519,"question_id":40448780,"body_markdown":"I need to write in a 8x8 matrix the binary values of 8 hexadecimal numbers (one for row). Those numbers will be at the most 8 bits long. I wrote the following code to convert from hexadecimal to binary:\r\n\r\n    private String hexToBin (String hex){\r\n\t\tint i = Integer.parseInt(hex, 16);\r\n\t\tString bin = Integer.toBinaryString(i);\r\n\t\treturn bin;\r\n\t\t\r\n\t}\r\n\r\nBut I have the problem that values below 0x80 don&#39;t need 8 bits to be represented in binary. My question is: is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)? Thanks a lot","title":"Conversion from hex to binary keeping 8 bits in Java","body":"<p>I need to write in a 8x8 matrix the binary values of 8 hexadecimal numbers (one for row). Those numbers will be at the most 8 bits long. I wrote the following code to convert from hexadecimal to binary:</p>\n\n<pre><code>private String hexToBin (String hex){\n    int i = Integer.parseInt(hex, 16);\n    String bin = Integer.toBinaryString(i);\n    return bin;\n\n}\n</code></pre>\n\n<p>But I have the problem that values below 0x80 don't need 8 bits to be represented in binary. My question is: is there a function to convert to binary in an 8-bit format (filling the left positions with zeros)? Thanks a lot</p>\n"},{"tags":["java","hive","orc"],"comments":[{"owner":{"account_id":8517095,"reputation":304,"user_id":6385205,"display_name":"liliwei"},"score":0,"creation_date":1661925726,"post_id":70458909,"comment_id":129884461,"body_markdown":"Currently, we do this by estimating the size of the file ourselves. For details, see https://github.com/apache/iceberg/pull/3784.","body":"Currently, we do this by estimating the size of the file ourselves. For details, see <a href=\"https://github.com/apache/iceberg/pull/3784\" rel=\"nofollow noreferrer\">github.com/apache/iceberg/pull/3784</a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640309340,"creation_date":1640245801,"answer_id":70459131,"question_id":70458909,"body_markdown":"I don&#39;t think there is a way to do precisely that.  The [javadoc][1] for the `Writer.getRawDataSize` method states:\r\n\r\n&gt; Raw data size will be compute when writing the file footer. Hence raw data size value will be available only after closing the writer.\r\n\r\nAnd there isn&#39;t an explicit `flush` method in the API.\r\n\r\nHowever, the `WriterImpl` classes add a `writeIntermediateFooter` method ([javadoc](https://orc.apache.org/api/orc-core/org/apache/orc/impl/WriterImpl.html#writeIntermediateFooter--)) that appears to&lt;sup&gt;1&lt;/sup&gt; flush the data added so far to disk.  If you used the method&#39;s return value, that would probably be a good estimate of the current file size.\r\n\r\n&lt;sup&gt;1 - I am making some assumptions about how the method achieves what it is described as doing.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://orc.apache.org/api/orc-core/org/apache/orc/impl/WriterImpl.html#getRawDataSize--","title":"How get the length of the ORC file being written?","body":"<p>I don't think there is a way to do precisely that.  The <a href=\"https://orc.apache.org/api/orc-core/org/apache/orc/impl/WriterImpl.html#getRawDataSize--\" rel=\"nofollow noreferrer\">javadoc</a> for the <code>Writer.getRawDataSize</code> method states:</p>\n<blockquote>\n<p>Raw data size will be compute when writing the file footer. Hence raw data size value will be available only after closing the writer.</p>\n</blockquote>\n<p>And there isn't an explicit <code>flush</code> method in the API.</p>\n<p>However, the <code>WriterImpl</code> classes add a <code>writeIntermediateFooter</code> method (<a href=\"https://orc.apache.org/api/orc-core/org/apache/orc/impl/WriterImpl.html#writeIntermediateFooter--\" rel=\"nofollow noreferrer\">javadoc</a>) that appears to<sup>1</sup> flush the data added so far to disk.  If you used the method's return value, that would probably be a good estimate of the current file size.</p>\n<p><sup>1 - I am making some assumptions about how the method achieves what it is described as doing.</sup></p>\n"}],"owner":{"account_id":8517095,"reputation":304,"user_id":6385205,"display_name":"liliwei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640309340,"creation_date":1640244301,"question_id":70458909,"body_markdown":"I&#39;m writing data to an ORC file. I want to get the length of this file. (including data that has been flush and the data that&#39;s still in the buff cache) What should I do, please? I don&#39;t want to close the file immediately.\r\nI use JAVA.","title":"How get the length of the ORC file being written?","body":"<p>I'm writing data to an ORC file. I want to get the length of this file. (including data that has been flush and the data that's still in the buff cache) What should I do, please? I don't want to close the file immediately.\nI use JAVA.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1640120614,"post_id":70441508,"comment_id":124519603,"body_markdown":"You cannot add a JDialog to anything, as it is tied to a OS native peer window.  You might want to look into using JWindow for what you are trying to accomplish","body":"You cannot add a JDialog to anything, as it is tied to a OS native peer window.  You might want to look into using JWindow for what you are trying to accomplish"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1640121283,"post_id":70441508,"comment_id":124519765,"body_markdown":"Not sure what your issues are. You can easily create a JDialog with any components your want. You add logic to your button to check if the dialog is visible or not and then do appropriate processing. You make the dialog non-modal so you can give focus to any component on the dialog once it is visible. You can add a WindowListener to the dialog and handle the windowDeactivated event to close the dialog. If you need more help post an [mre] showing what you have done and ask one specific question at a time.","body":"Not sure what your issues are. You can easily create a JDialog with any components your want. You add logic to your button to check if the dialog is visible or not and then do appropriate processing. You make the dialog non-modal so you can give focus to any component on the dialog once it is visible. You can add a WindowListener to the dialog and handle the windowDeactivated event to close the dialog. If you need more help post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you have done and ask one specific question at a time."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640121548,"post_id":70441508,"comment_id":124519844,"body_markdown":"[`JPopupMenu#setInvoker`](https://docs.oracle.com/javase/10/docs/api/javax/swing/JPopupMenu.html)?","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/JPopupMenu.html\" rel=\"nofollow noreferrer\"><code>JPopupMenu#setInvoker</code></a>?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1640132000,"post_id":70441508,"comment_id":124522153,"body_markdown":"If you want JDialogue behaviour then use a JDialogue and simply position it on screen [relative to your menu](https://stackoverflow.com/questions/22056821/java-open-a-jframe-relative-to-the-position-of-a-button-menu-like-behaviour), or if you can just insert buttons or similar into your JPopupMenu using `yourPopup.insert(component, index);` and make the buttons perform the relevant action.","body":"If you want JDialogue behaviour then use a JDialogue and simply position it on screen <a href=\"https://stackoverflow.com/questions/22056821/java-open-a-jframe-relative-to-the-position-of-a-button-menu-like-behaviour\">relative to your menu</a>, or if you can just insert buttons or similar into your JPopupMenu using <code>yourPopup.insert(component, index);</code> and make the buttons perform the relevant action."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640309293,"creation_date":1640309293,"answer_id":70468812,"question_id":70441508,"body_markdown":"Your &quot;solution&quot; is very brittle.  Try moving the main `JFrame` before left-clicking on the `JButton`.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing][1].  Skip the Netbeans section.  Study the rest of the tutorial.\r\n\r\nI created a main `JFrame` that pops up a `JDialog`.  I put the close `JButton` on the `JDialog`.  The `JDialog` is modal, meaning you cannot access the main `JFrame` while the `JDialog` is visible.\r\n\r\nYou can place the `JDialog` anywhere you wish on the screen.  Normally, you have a `JDialog` appear in the center of the parent `JFrame`.  That&#39;s where users expect a dialog to appear.  I placed the `JDialog` towards the upper left, just to show you how it&#39;s done.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class PopupExample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; new PopupExample().createAndShowGUI());\r\n    \t}\r\n    \r\n    \tprivate JFrame mainWindow;\r\n    \r\n    \tpublic void createAndShowGUI() {\r\n    \t\tmainWindow = new JFrame(&quot;Main Window&quot;);\r\n    \t\tmainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tmainWindow.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tmainWindow.pack();\r\n    \t\tmainWindow.setLocationByPlatform(true);\r\n    \t\tmainWindow.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(200, 200, 200, 200));\r\n    \r\n    \t\tJButton button = new JButton(&quot;button&quot;);\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tcreateAndShowDialog(mainWindow);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate void createAndShowDialog(JFrame frame) {\r\n    \t\tJDialog dialog = new JDialog(frame, &quot;Dialog&quot;, true);\r\n    \t\tdialog.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\tdialog.add(createDialogPanel(dialog), BorderLayout.CENTER);\r\n    \r\n    \t\tdialog.pack();\r\n    \t\t\r\n    \t\t// Here&#39;s where you set the location of the JDialog relative\r\n    \t\t// to the main JFrame\r\n    \t\tPoint origin = frame.getLocation();\r\n    \t\tdialog.setLocation(new Point(origin.x + 30, origin.y + 30));\r\n    \t\t\r\n    \t\tdialog.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDialogPanel(JDialog dialog) {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\r\n    \r\n    \t\tJButton button = new JButton(&quot;Close&quot;);\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tdialog.dispose();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n","title":"How to mimic the behavior of JPopupMenu with JDialog?","body":"<p>Your &quot;solution&quot; is very brittle.  Try moving the main <code>JFrame</code> before left-clicking on the <code>JButton</code>.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.  Study the rest of the tutorial.</p>\n<p>I created a main <code>JFrame</code> that pops up a <code>JDialog</code>.  I put the close <code>JButton</code> on the <code>JDialog</code>.  The <code>JDialog</code> is modal, meaning you cannot access the main <code>JFrame</code> while the <code>JDialog</code> is visible.</p>\n<p>You can place the <code>JDialog</code> anywhere you wish on the screen.  Normally, you have a <code>JDialog</code> appear in the center of the parent <code>JFrame</code>.  That's where users expect a dialog to appear.  I placed the <code>JDialog</code> towards the upper left, just to show you how it's done.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class PopupExample {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new PopupExample().createAndShowGUI());\n    }\n\n    private JFrame mainWindow;\n\n    public void createAndShowGUI() {\n        mainWindow = new JFrame(&quot;Main Window&quot;);\n        mainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        mainWindow.add(createMainPanel(), BorderLayout.CENTER);\n\n        mainWindow.pack();\n        mainWindow.setLocationByPlatform(true);\n        mainWindow.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(200, 200, 200, 200));\n\n        JButton button = new JButton(&quot;button&quot;);\n        panel.add(button);\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                createAndShowDialog(mainWindow);\n            }\n        });\n\n        return panel;\n    }\n\n    private void createAndShowDialog(JFrame frame) {\n        JDialog dialog = new JDialog(frame, &quot;Dialog&quot;, true);\n        dialog.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        dialog.add(createDialogPanel(dialog), BorderLayout.CENTER);\n\n        dialog.pack();\n        \n        // Here's where you set the location of the JDialog relative\n        // to the main JFrame\n        Point origin = frame.getLocation();\n        dialog.setLocation(new Point(origin.x + 30, origin.y + 30));\n        \n        dialog.setVisible(true);\n    }\n\n    private JPanel createDialogPanel(JDialog dialog) {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\n\n        JButton button = new JButton(&quot;Close&quot;);\n        panel.add(button);\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                dialog.dispose();\n            }\n        });\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17889587,"reputation":59,"user_id":12996387,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640309293,"creation_date":1640120193,"question_id":70441508,"body_markdown":"I&#39;m implementing an &quot;in app&quot; search engine with Swing and I want it to behave exactly like Windows 10&#39;s search box.\r\n\r\nThe search box should:\r\n\r\n - Open above and to the right of the search button, touching the button&#39;s edge.\r\n - Have the focus when open.\r\n - Close (if open) on a press of the search button.\r\n - Close (if open) when pressing with the mouse anywhere out of the search box.\r\n\r\nIt was perfect if JPopUpMenu could have JDialog as it&#39;s child but since it can&#39;t I need to implement the behaviors from scratch (or do I?). \r\n\r\nThis is my first time using Swing and I&#39;m having difficulties implementing everything by myself.  \r\n I tried looking for examples online but I couldn&#39;t find much helpful information.\r\n\r\nIs there a workaround to the fact that JPopUpMenu can&#39;t host JDialog?  \r\nAre there examples of implementing the behaviors I described? \r\n\r\nThanks\r\n\r\n===============================Edit============================\r\nThanks for the comments so far. I&#39;ve managed to get the behavior I wanted except one issue.  \r\n\r\nThe following code creates a frame with a button:  \r\n\r\n    public static void main(String[] args){\r\n        \r\n        JFrame mainWindow = new JFrame();\r\n        mainWindow.setSize(420,420);\r\n        mainWindow.setVisible(true);\r\n\r\n        JFrame popUp = new JFrame();\r\n        popUp.setSize(210, 210);\r\n\r\n        JButton button = new JButton(&quot;button&quot;);\r\n        mainWindow.add(button);\r\n\r\n        button.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(!button.isSelected()){\r\n                    button.setSelected(true);\r\n                    popUp.setVisible(true);\r\n                }\r\n                else{\r\n                    button.setSelected(false);\r\n                    popUp.setVisible(false);\r\n                }\r\n            }\r\n        });\r\n\r\n        popUp.addWindowFocusListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowLostFocus(WindowEvent e) {\r\n                popUp.setVisible(false);\r\n            }\r\n        });\r\n    }\r\n\r\n  \r\n\r\nWhen I click the button, a pop-up window appears and if I click out of the main window the pop up disappear but then when I want to re-open the pop-up I need to press the button twice.\r\n\r\n  How can I get the button to operate correctly when the pop-up was closed due to lose of focus?  ","title":"How to mimic the behavior of JPopupMenu with JDialog?","body":"<p>I'm implementing an &quot;in app&quot; search engine with Swing and I want it to behave exactly like Windows 10's search box.</p>\n<p>The search box should:</p>\n<ul>\n<li>Open above and to the right of the search button, touching the button's edge.</li>\n<li>Have the focus when open.</li>\n<li>Close (if open) on a press of the search button.</li>\n<li>Close (if open) when pressing with the mouse anywhere out of the search box.</li>\n</ul>\n<p>It was perfect if JPopUpMenu could have JDialog as it's child but since it can't I need to implement the behaviors from scratch (or do I?).</p>\n<p>This is my first time using Swing and I'm having difficulties implementing everything by myself.<br />\nI tried looking for examples online but I couldn't find much helpful information.</p>\n<p>Is there a workaround to the fact that JPopUpMenu can't host JDialog?<br />\nAre there examples of implementing the behaviors I described?</p>\n<p>Thanks</p>\n<p>===============================Edit============================\nThanks for the comments so far. I've managed to get the behavior I wanted except one issue.</p>\n<p>The following code creates a frame with a button:</p>\n<pre><code>public static void main(String[] args){\n    \n    JFrame mainWindow = new JFrame();\n    mainWindow.setSize(420,420);\n    mainWindow.setVisible(true);\n\n    JFrame popUp = new JFrame();\n    popUp.setSize(210, 210);\n\n    JButton button = new JButton(&quot;button&quot;);\n    mainWindow.add(button);\n\n    button.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if(!button.isSelected()){\n                button.setSelected(true);\n                popUp.setVisible(true);\n            }\n            else{\n                button.setSelected(false);\n                popUp.setVisible(false);\n            }\n        }\n    });\n\n    popUp.addWindowFocusListener(new WindowAdapter() {\n        @Override\n        public void windowLostFocus(WindowEvent e) {\n            popUp.setVisible(false);\n        }\n    });\n}\n</code></pre>\n<p>When I click the button, a pop-up window appears and if I click out of the main window the pop up disappear but then when I want to re-open the pop-up I need to press the button twice.</p>\n<p>How can I get the button to operate correctly when the pop-up was closed due to lose of focus?</p>\n"},{"tags":["java","logging","log4j","logback","slf4j"],"owner":{"account_id":2174900,"reputation":21,"user_id":1925803,"display_name":"Ed Schaller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640309249,"creation_date":1640309249,"question_id":70468808,"body_markdown":"What official or third party backends for SLF4J don&#39;t expand/interpret/etc, other than &#39;{}&#39; expansion, my log messages and run toString() on the arguments?\r\n\r\nIn the wake of CVE-2021-44228 I was not exactly happy to find that log4j was interpolating/interpreting/expanding my log messages and arguments. I didn&#39;t want this, didn&#39;t know log4j could do this and would never have expected it to be a default. It feels like a violation of what I expected from a logger.\r\n\r\nOf the official backends:\r\n\r\n - Log4j 1.x is no longer supported and anything &lt; 2.17 is asking for a head ache with the security policy folks who&#39;s technical knowledge goes no deeper than version must be &gt;= 2.17\r\n - Logback?\r\n - Simple?\r\n - NoOp shouldn&#39;t (I hope) but it isn&#39;t very useful either\r\n\r\nThe only third party back end I&#39;ve used is log4j 2 and we all know it does such expansion. Are there others?\r\n\r\nI&#39;ve written my own, can certainly deep dive on docs and audit code but I thought it worth asking both for my knowledge and any others feeling the same. Thanks!\r\n\r\n\r\n\r\n","title":"SLF4J Backend that does NOT not interpret/expand log messages or arguments?","body":"<p>What official or third party backends for SLF4J don't expand/interpret/etc, other than '{}' expansion, my log messages and run toString() on the arguments?</p>\n<p>In the wake of CVE-2021-44228 I was not exactly happy to find that log4j was interpolating/interpreting/expanding my log messages and arguments. I didn't want this, didn't know log4j could do this and would never have expected it to be a default. It feels like a violation of what I expected from a logger.</p>\n<p>Of the official backends:</p>\n<ul>\n<li>Log4j 1.x is no longer supported and anything &lt; 2.17 is asking for a head ache with the security policy folks who's technical knowledge goes no deeper than version must be &gt;= 2.17</li>\n<li>Logback?</li>\n<li>Simple?</li>\n<li>NoOp shouldn't (I hope) but it isn't very useful either</li>\n</ul>\n<p>The only third party back end I've used is log4j 2 and we all know it does such expansion. Are there others?</p>\n<p>I've written my own, can certainly deep dive on docs and audit code but I thought it worth asking both for my knowledge and any others feeling the same. Thanks!</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1700778,"reputation":63,"user_id":1560916,"display_name":"Blackdiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640308797,"creation_date":1640308797,"answer_id":70468775,"question_id":70468644,"body_markdown":"I find a way to achieve this, instead of writing a custom task, I add `dependsOn` directly in `bootRun` task in the application&#39;s (here is my convo module) `build.gradle.kts`:\r\n```\r\ntasks.withType&lt;org.springframework.boot.gradle.tasks.run.BootRun&gt;() {\r\n    dependsOn(&quot;:database:spotlessApply&quot;).dependsOn(&quot;:security:spotlessApply&quot;)\r\n}\r\n```","title":"Debug a Spring Boot application started in custom task in Intellij","body":"<p>I find a way to achieve this, instead of writing a custom task, I add <code>dependsOn</code> directly in <code>bootRun</code> task in the application's (here is my convo module) <code>build.gradle.kts</code>:</p>\n<pre><code>tasks.withType&lt;org.springframework.boot.gradle.tasks.run.BootRun&gt;() {\n    dependsOn(&quot;:database:spotlessApply&quot;).dependsOn(&quot;:security:spotlessApply&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":1700778,"reputation":63,"user_id":1560916,"display_name":"Blackdiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640308797,"creation_date":1640306789,"question_id":70468644,"body_markdown":"I use Spring Boot and want to execute Spotless to reformat code before `bootRun` everytime, so I write the following tasks in my build.gradle.kts:\r\n```\r\ntask(&quot;startServer&quot;) {\r\n    setGroup(&quot;Sample category&quot;)\r\n    dependsOn(&quot;:security:spotlessApply&quot;, &quot;:database:spotlessApply&quot;).finalizedBy(&quot;:convo:bootRun&quot;)\r\n}\r\n```\r\nWhen I execute this task in debug mode, Intellij doesn&#39;t stop at the breakpoint, but if I execute the built-in `bootRun` task, it works.\r\n\r\nHow can I let Intellij debug the Spring Boot application started in my `startServer` tasks?","title":"Debug a Spring Boot application started in custom task in Intellij","body":"<p>I use Spring Boot and want to execute Spotless to reformat code before <code>bootRun</code> everytime, so I write the following tasks in my build.gradle.kts:</p>\n<pre><code>task(&quot;startServer&quot;) {\n    setGroup(&quot;Sample category&quot;)\n    dependsOn(&quot;:security:spotlessApply&quot;, &quot;:database:spotlessApply&quot;).finalizedBy(&quot;:convo:bootRun&quot;)\n}\n</code></pre>\n<p>When I execute this task in debug mode, Intellij doesn't stop at the breakpoint, but if I execute the built-in <code>bootRun</code> task, it works.</p>\n<p>How can I let Intellij debug the Spring Boot application started in my <code>startServer</code> tasks?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8257,"page":1735,"page_size":100}
