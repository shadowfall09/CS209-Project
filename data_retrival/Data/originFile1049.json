{"items":[{"tags":["java","tomcat","logging","apache-camel","activemq"],"comments":[{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1660575076,"post_id":73353473,"comment_id":129558610,"body_markdown":"This is a logging configuration issue, not specific to ActiveMQ. It would be helpful for you to post your startup environment variables and your logging configuration.","body":"This is a logging configuration issue, not specific to ActiveMQ. It would be helpful for you to post your startup environment variables and your logging configuration."},{"owner":{"account_id":1617839,"reputation":324,"user_id":1495021,"accept_rate":75,"display_name":"YS_NE"},"score":0,"creation_date":1660729013,"post_id":73353473,"comment_id":129599075,"body_markdown":"@MattPavlovich - Thanks I have added more info about startup script and log4j.xml","body":"@MattPavlovich - Thanks I have added more info about startup script and log4j.xml"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1661107087,"post_id":73353473,"comment_id":129687699,"body_markdown":"Your log-level threshold looks like it only applies to the &quot;file&quot; appender. From your description of the problem, it looks like those logs are being sent to the &quot;console&quot; appender. Perhaps there is more than one log4j.xml or log4j.properties which is being loaded? Try setting `-Dlog4j.debug` and restarting your server to see what log4j is doing during configuration.","body":"Your log-level threshold looks like it only applies to the &quot;file&quot; appender. From your description of the problem, it looks like those logs are being sent to the &quot;console&quot; appender. Perhaps there is more than one log4j.xml or log4j.properties which is being loaded? Try setting <code>-Dlog4j.debug</code> and restarting your server to see what log4j is doing during configuration."},{"owner":{"account_id":1617839,"reputation":324,"user_id":1495021,"accept_rate":75,"display_name":"YS_NE"},"score":0,"creation_date":1662692868,"post_id":73353473,"comment_id":130069652,"body_markdown":"Thanks @ChristopherSchultz, I posted how the issue got fixed in my case.","body":"Thanks @ChristopherSchultz, I posted how the issue got fixed in my case."}],"answers":[{"tags":[],"owner":{"account_id":1617839,"reputation":324,"user_id":1495021,"accept_rate":75,"display_name":"YS_NE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662692816,"creation_date":1662692816,"answer_id":73656939,"question_id":73353473,"body_markdown":"I found the answer for this problem. At least in my case, it was a side effect of having a log4j jars and logback jars together. However application server was configured to use log4j but one of the dependency jar brought logback jars as transitive dependency and it was getting wrapped up in application war file. After I excluded the logback jars from war, this absolute crazy logging stopped. I havent done full analysis, that why would it will log a totally unrelated logs e.g. in this case a DEBUG statement from https://activemq.apache.org/maven/apidocs/org/apache/activemq/ActiveMQSession.html#commit()\r\n\r\nFollowing is the method this class, which has debug logger.\r\n```\r\npublic void commit() throws JMSException {\r\n        this.checkClosed();\r\n        if (!this.getTransacted()) {\r\n            throw new IllegalStateException(&quot;Not a transacted session&quot;);\r\n        } else {\r\n            if (LOG.isDebugEnabled()) {\r\n                LOG.debug(this.getSessionId() + &quot; Transaction Commit :&quot; + this.transactionContext.getTransactionId());\r\n            }\r\n\r\n            this.transactionContext.commit();\r\n        }\r\n    }\r\n```\r\n","title":"Unexpected DEBUG logs in Tomcat catalina.out","body":"<p>I found the answer for this problem. At least in my case, it was a side effect of having a log4j jars and logback jars together. However application server was configured to use log4j but one of the dependency jar brought logback jars as transitive dependency and it was getting wrapped up in application war file. After I excluded the logback jars from war, this absolute crazy logging stopped. I havent done full analysis, that why would it will log a totally unrelated logs e.g. in this case a DEBUG statement from <a href=\"https://activemq.apache.org/maven/apidocs/org/apache/activemq/ActiveMQSession.html#commit()\" rel=\"nofollow noreferrer\">https://activemq.apache.org/maven/apidocs/org/apache/activemq/ActiveMQSession.html#commit()</a></p>\n<p>Following is the method this class, which has debug logger.</p>\n<pre><code>public void commit() throws JMSException {\n        this.checkClosed();\n        if (!this.getTransacted()) {\n            throw new IllegalStateException(&quot;Not a transacted session&quot;);\n        } else {\n            if (LOG.isDebugEnabled()) {\n                LOG.debug(this.getSessionId() + &quot; Transaction Commit :&quot; + this.transactionContext.getTransactionId());\n            }\n\n            this.transactionContext.commit();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1617839,"reputation":324,"user_id":1495021,"accept_rate":75,"display_name":"YS_NE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662692816,"creation_date":1660496105,"question_id":73353473,"body_markdown":"My `catalina.out` file of Tomcat 8.0.30 is logging tons of DEBUG logs.  I&#39;m not sure why these DEBUG logs are getting logged in `catalina.out` and not in the log file configured for application. Why in container log?\r\n\r\nSecond question is that in `log4j.xml` I already have `org.apache` package log level to `WARN`, then why these DEBUG logs are getting logged? However, I understand that `log4j.xml` does not control logs of `catalina.out`.\r\n\r\n```\r\n07:00:17.729 [queue://company.generic.local-6] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:9 Transaction Commit :null\r\n07:00:17.728 [queue://company.generic.local-4] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:7 Transaction Commit :null\r\n07:00:17.729 [queue://company.generic.local-8] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:10 Transaction Commit :null\r\n... 12 lines omitted ...\r\n07:00:19.318 [queue://company.generic.local-9] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:3 Transaction Commit :null\r\n... 236 lines omitted ...\r\n07:00:19.729 [queue://company.generic.local-2] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:5 Transaction Commit :null\r\nShow all 257 lines\r\n```\r\n\r\nthis is a partial startup script\r\n\r\n\r\n```\r\nCATALINA_HOME=${CATALINA_HOME:-/opt/tomcat8\r\nCATALINA_BASE=${CATALINA_BASE:-/opt/${SERVICE}}\r\nCATALINA_OUT=${CATALINA_OUT:-/var/log/catalina.out}\r\nexport CATALINA_HOME CATALINA_BASE CATALINA_OUT\r\nCATALINA_OPT=&quot;CATALINA_OPT -Dlog4j.configuration=file:/opt/log4j.xml&quot;\r\nexport CATALINA_OPT\r\n\r\nexec &amp;&gt;&gt; ${CATALINA_OUT}\r\n...\r\nEXECUTABLE=&quot;$CATALINA_HOME/bin/catalina.sh&quot;\r\nnohup &quot;$EXECUTABLE&quot; run -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\r\n```\r\n\r\nI am using log4j not log4j2. In log4j.xml it is clearly indicated to log only WARN level for package org.apache.activemq. There is only one appender in log4j.xml. Partial log4j.xml is \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n&lt;appender class=&quot;org.apache.log4j.RollingFileAppender&quot; name=&quot;file&quot;&gt;\r\n    &lt;param name=&quot;File&quot; value=&quot;/var/log/service.log&quot;/&gt;\r\n    &lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\r\n      ....\r\n    &lt;/layout&gt;\r\n  &lt;/appender&gt; \r\n\r\n  &lt;logger name=&quot;org.apache&quot;&gt;\r\n    &lt;level value=&quot;warn&quot;/&gt;\r\n  &lt;/logger&gt;\r\n  &lt;root&gt;\r\n    &lt;priority value=&quot;warn&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;file&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/log4j:configuration&gt;\r\n```\r\n","title":"Unexpected DEBUG logs in Tomcat catalina.out","body":"<p>My <code>catalina.out</code> file of Tomcat 8.0.30 is logging tons of DEBUG logs.  I'm not sure why these DEBUG logs are getting logged in <code>catalina.out</code> and not in the log file configured for application. Why in container log?</p>\n<p>Second question is that in <code>log4j.xml</code> I already have <code>org.apache</code> package log level to <code>WARN</code>, then why these DEBUG logs are getting logged? However, I understand that <code>log4j.xml</code> does not control logs of <code>catalina.out</code>.</p>\n<pre><code>07:00:17.729 [queue://company.generic.local-6] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:9 Transaction Commit :null\n07:00:17.728 [queue://company.generic.local-4] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:7 Transaction Commit :null\n07:00:17.729 [queue://company.generic.local-8] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:10 Transaction Commit :null\n... 12 lines omitted ...\n07:00:19.318 [queue://company.generic.local-9] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:3 Transaction Commit :null\n... 236 lines omitted ...\n07:00:19.729 [queue://company.generic.local-2] DEBUG org.apache.activemq.ActiveMQSession - ID:us03dv4vafpc01.ilnx.com-36014-1659188569211-3:1:5 Transaction Commit :null\nShow all 257 lines\n</code></pre>\n<p>this is a partial startup script</p>\n<pre><code>CATALINA_HOME=${CATALINA_HOME:-/opt/tomcat8\nCATALINA_BASE=${CATALINA_BASE:-/opt/${SERVICE}}\nCATALINA_OUT=${CATALINA_OUT:-/var/log/catalina.out}\nexport CATALINA_HOME CATALINA_BASE CATALINA_OUT\nCATALINA_OPT=&quot;CATALINA_OPT -Dlog4j.configuration=file:/opt/log4j.xml&quot;\nexport CATALINA_OPT\n\nexec &amp;&gt;&gt; ${CATALINA_OUT}\n...\nEXECUTABLE=&quot;$CATALINA_HOME/bin/catalina.sh&quot;\nnohup &quot;$EXECUTABLE&quot; run -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\n</code></pre>\n<p>I am using log4j not log4j2. In log4j.xml it is clearly indicated to log only WARN level for package org.apache.activemq. There is only one appender in log4j.xml. Partial log4j.xml is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\n&lt;appender class=&quot;org.apache.log4j.RollingFileAppender&quot; name=&quot;file&quot;&gt;\n    &lt;param name=&quot;File&quot; value=&quot;/var/log/service.log&quot;/&gt;\n    &lt;layout class=&quot;org.apache.log4j.EnhancedPatternLayout&quot;&gt;\n      ....\n    &lt;/layout&gt;\n  &lt;/appender&gt; \n\n  &lt;logger name=&quot;org.apache&quot;&gt;\n    &lt;level value=&quot;warn&quot;/&gt;\n  &lt;/logger&gt;\n  &lt;root&gt;\n    &lt;priority value=&quot;warn&quot;/&gt;\n    &lt;appender-ref ref=&quot;file&quot;/&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","osgi","apache-felix"],"comments":[{"owner":{"account_id":6372683,"reputation":3810,"user_id":4944649,"accept_rate":74,"display_name":"Matthew Fontana"},"score":0,"creation_date":1464794444,"post_id":37571316,"comment_id":62632815,"body_markdown":"Typically in Rest design you would have a controller per product unless every product was identical.  Is there a reason you just don&#39;t want to create a separate rest service for each product?  If every product is the same why not just have a product name and id field?","body":"Typically in Rest design you would have a controller per product unless every product was identical.  Is there a reason you just don&#39;t want to create a separate rest service for each product?  If every product is the same why not just have a product name and id field?"},{"owner":{"account_id":783152,"reputation":681,"user_id":837342,"accept_rate":29,"display_name":"lsc"},"score":0,"creation_date":1464799724,"post_id":37571316,"comment_id":62636201,"body_markdown":"hmm, I don&#39;t have much differences between products. In class level some method implementations will differ. i.e there can be few methods that I need to override. So those methods will implement the specific behaviors for ProductXYZ. So in that case I don&#39;t think we need separate rest services for each product.","body":"hmm, I don&#39;t have much differences between products. In class level some method implementations will differ. i.e there can be few methods that I need to override. So those methods will implement the specific behaviors for ProductXYZ. So in that case I don&#39;t think we need separate rest services for each product."},{"owner":{"account_id":6372683,"reputation":3810,"user_id":4944649,"accept_rate":74,"display_name":"Matthew Fontana"},"score":0,"creation_date":1464803913,"post_id":37571316,"comment_id":62638596,"body_markdown":"Is there a reason you can&#39;t just add those implementations over the lifecycle of the product?  Why do you need runtime lookups?","body":"Is there a reason you can&#39;t just add those implementations over the lifecycle of the product?  Why do you need runtime lookups?"},{"owner":{"account_id":892776,"reputation":19519,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"score":0,"creation_date":1464849754,"post_id":37571316,"comment_id":62654818,"body_markdown":"Yes. Good question. Dynamically adding features at runtime does not match very well with the whole microservice lifecycle. Typical toolings basically treat each service as more or less immutable.","body":"Yes. Good question. Dynamically adding features at runtime does not match very well with the whole microservice lifecycle. Typical toolings basically treat each service as more or less immutable."}],"owner":{"account_id":783152,"reputation":681,"user_id":837342,"accept_rate":29,"display_name":"lsc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662692462,"creation_date":1464790674,"question_id":37571316,"body_markdown":"I have a requirement to load dynamic modules on a Spring Boot Microservice. i.e Assume I have a MicroService called ProductService that will create different kind of products. And assume that I want to dynamically add products so there I use OSGI product modules. \r\n\r\nSo if I add ProductXYZ as a OSGI module and how can I call a method on that module via Spring boot REST API. i.e\r\n/products/id/description?name=ProductXYZ \r\n\r\nHere the issue is, in Spring Boot (even Spring web MVC) these rest calls are handle in the controller. And to get description of ProductXYZ I should create an object of ProductXYZ in the controller. But when coding the controller class it is impossible to call &quot;new ProductXYZ()&quot; as we don&#39;t have ProductXYZ when coding controller. We have ProductXYZ in later after we add osgi ProductXYZ module. \r\n\r\nThanks. ","title":"Spring Boot (or mvc), OSGI integration : Dynamically creating objects for dynamic OSGI modules","body":"<p>I have a requirement to load dynamic modules on a Spring Boot Microservice. i.e Assume I have a MicroService called ProductService that will create different kind of products. And assume that I want to dynamically add products so there I use OSGI product modules. </p>\n\n<p>So if I add ProductXYZ as a OSGI module and how can I call a method on that module via Spring boot REST API. i.e\n/products/id/description?name=ProductXYZ </p>\n\n<p>Here the issue is, in Spring Boot (even Spring web MVC) these rest calls are handle in the controller. And to get description of ProductXYZ I should create an object of ProductXYZ in the controller. But when coding the controller class it is impossible to call \"new ProductXYZ()\" as we don't have ProductXYZ when coding controller. We have ProductXYZ in later after we add osgi ProductXYZ module. </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","enums","tree","id3"],"answers":[{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334864356,"creation_date":1334861490,"answer_id":10234825,"question_id":10233099,"body_markdown":"you can add a child class to features:\r\n\r\n    import java.util.*;\r\n    interface hasEnumChildren {\r\n    \tClass clazz();\r\n    }\r\n    enum fuelstats {\r\n    \tnotempty,empty\r\n    }\r\n    enum lightstatus {\r\n    \tDim,Normal\r\n    }\r\n    enum scents {\r\n    \tnormal,gas\r\n    }\r\n    enum soundstatus {\r\n    \tNormal,Howl,Screech,Click\r\n    }\r\n    enum turn {\r\n    \tno,yes\r\n    }\r\n    enum problems {\r\n    \tbattery,starter,solenoid,outofgas,flooding\r\n    }\r\n    enum features implements hasEnumChildren {\r\n    \tlightstatus(lightstatus.class),soundstatus(soundstatus.class),fuelstats(fuelstats.class),scents(scents.class),turn(turn.class),problems(problems.class);\r\n    \tfeatures(Class clazz) {\r\n    \t\tthis.clazz=clazz;\r\n    \t}\r\n    \tfinal Class clazz;\r\n    \t@Override public Class clazz() {\r\n    \t\treturn clazz;\r\n    \t}\r\n    }\r\n    public class So10233099 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Arrays.asList(features.lightstatus.clazz().getEnumConstants()));\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"ID3 Java Enum Tree","body":"<p>you can add a child class to features:</p>\n\n<pre><code>import java.util.*;\ninterface hasEnumChildren {\n    Class clazz();\n}\nenum fuelstats {\n    notempty,empty\n}\nenum lightstatus {\n    Dim,Normal\n}\nenum scents {\n    normal,gas\n}\nenum soundstatus {\n    Normal,Howl,Screech,Click\n}\nenum turn {\n    no,yes\n}\nenum problems {\n    battery,starter,solenoid,outofgas,flooding\n}\nenum features implements hasEnumChildren {\n    lightstatus(lightstatus.class),soundstatus(soundstatus.class),fuelstats(fuelstats.class),scents(scents.class),turn(turn.class),problems(problems.class);\n    features(Class clazz) {\n        this.clazz=clazz;\n    }\n    final Class clazz;\n    @Override public Class clazz() {\n        return clazz;\n    }\n}\npublic class So10233099 {\n    public static void main(String[] args) {\n        System.out.println(Arrays.asList(features.lightstatus.clazz().getEnumConstants()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371368,"reputation":193,"user_id":2830499,"display_name":"Konstantinos Giannakopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662692453,"creation_date":1385361717,"answer_id":20186238,"question_id":10233099,"body_markdown":"I had a similar problem, building an hierarchy of enums. But in my case, an hierarchy of classes could also do the trick. In case you are interested here is a question I posted:\r\nhttps://stackoverflow.com/questions/20114444/how-to-build-an-hierarchy-tree-of-categories-in-java-using-enums-or-any-other-wa\r\n\r\nNow, concerning only enum hierarchy, as you can see above, I found  that this may work for you:\r\n\r\n\r\n\r\nhttp://alexradzin.blogspot.hk/2010/10/hierarchical-structures-with-java-enums_05.html\r\n\r\nIn particular:\r\n\r\n    public enum OsType {\r\n    OS(null),\r\n        Windows(OS),\r\n            WindowsNT(Windows),\r\n                WindowsNTWorkstation(WindowsNT),\r\n                WindowsNTServer(WindowsNT),\r\n            Windows2000(Windows),\r\n                Windows2000Server(Windows2000),\r\n                Windows2000Workstation(Windows2000),\r\n            WindowsXp(Windows),\r\n            WindowsVista(Windows),\r\n            Windows7(Windows),\r\n            Windows95(Windows),\r\n            Windows98(Windows),\r\n        Unix(OS) {\r\n                @Override\r\n                public boolean supportsXWindows() {\r\n                    return true;\r\n                }\r\n            },\r\n            Linux(Unix),\r\n            AIX(Unix),\r\n            HpUx(Unix),\r\n            SunOs(Unix),\r\n    ;\r\n    private OsType parent = null;\r\n\r\n    private OsType(OsType parent) {\r\n        this.parent = parent;\r\n    }\r\n\r\nI hope it helps!","title":"ID3 Java Enum Tree","body":"<p>I had a similar problem, building an hierarchy of enums. But in my case, an hierarchy of classes could also do the trick. In case you are interested here is a question I posted:\n<a href=\"https://stackoverflow.com/questions/20114444/how-to-build-an-hierarchy-tree-of-categories-in-java-using-enums-or-any-other-wa\">How to build an hierarchy tree of categories in java using enums or any other way?</a></p>\n<p>Now, concerning only enum hierarchy, as you can see above, I found  that this may work for you:</p>\n<p><a href=\"http://alexradzin.blogspot.hk/2010/10/hierarchical-structures-with-java-enums_05.html\" rel=\"nofollow noreferrer\">http://alexradzin.blogspot.hk/2010/10/hierarchical-structures-with-java-enums_05.html</a></p>\n<p>In particular:</p>\n<pre><code>public enum OsType {\nOS(null),\n    Windows(OS),\n        WindowsNT(Windows),\n            WindowsNTWorkstation(WindowsNT),\n            WindowsNTServer(WindowsNT),\n        Windows2000(Windows),\n            Windows2000Server(Windows2000),\n            Windows2000Workstation(Windows2000),\n        WindowsXp(Windows),\n        WindowsVista(Windows),\n        Windows7(Windows),\n        Windows95(Windows),\n        Windows98(Windows),\n    Unix(OS) {\n            @Override\n            public boolean supportsXWindows() {\n                return true;\n            }\n        },\n        Linux(Unix),\n        AIX(Unix),\n        HpUx(Unix),\n        SunOs(Unix),\n;\nprivate OsType parent = null;\n\nprivate OsType(OsType parent) {\n    this.parent = parent;\n}\n</code></pre>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":1419663,"reputation":51,"user_id":1344558,"accept_rate":58,"display_name":"Dakkadakka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662692453,"creation_date":1334854906,"question_id":10233099,"body_markdown":"I&#39;m trying to make a non-binary learning tree that&#39;s a simplified version of the ID3 algorithm.  To do this, I tried to use enums, because there are several references teaching enum hierarchies, but I&#39;m having trouble with the transfer of enums to the functions I need to make the tree.  I&#39;ve set up everything I need for the tree as best as I could, but I&#39;m having trouble with the initial construction of the tree.\r\n\r\nFirst, I made six enums, each with their own file so I wouldn&#39;t need to write &quot;main.enumname&quot; everywhere.  These first five enums represent car diagnostics.\r\n\r\n    public enum fuelstats {notempty, empty}\r\n    public enum lightstatus {Dim, Normal}\r\n    public enum scents {normal, gas}\r\n    public enum soundstatus {Normal, Howl, Screech, Click}\r\n    public enum turn {no, yes}\r\n\r\nNext, I made two more enums.  One for the different diagnostic results, and one for the different &quot;topics&quot; of car diagnostics.\r\n\r\n    public enum problems {battery, starter, solenoid, outofgas, flooding}\r\n    public enum features {lightstatus, soundstatus, fuelstats, scents, turn, problems}\r\n\r\nI then made five data examples of different car diagnostics to be sorted in the tree.\r\n\r\n    Example example1 = new Example(lightstatus.Dim, soundstatus.Howl, turn.yes, fuelstats.notempty, scents.normal, problems.battery);\r\n    Example example2 = new Example(lightstatus.Normal, soundstatus.Screech, turn.no, fuelstats.notempty, scents.normal, problems.starter);\r\n    Example example3 = new Example(lightstatus.Normal, soundstatus.Click, turn.no, fuelstats.notempty, scents.normal, problems.solenoid);\r\n    Example example4 = new Example(lightstatus.Normal, soundstatus.Normal, turn.yes, fuelstats.empty, scents.normal, problems.outofgas);\r\n    Example example5 = new Example(lightstatus.Normal, soundstatus.Normal, turn.yes, fuelstats.notempty, scents.gas, problems.flooding);\r\n    \r\n    //make an array list of Examples.\r\n    ArrayList&lt;Example&gt; Examples = new ArrayList&lt;Example&gt;();\r\n    Examples.add(example1);\r\n\r\n    Examples.add(example2);\r\n    Examples.add(example3);\r\n    Examples.add(example4);\r\n    Examples.add(example5);\r\n\r\nI put the various car diagnostics, called Features, in an ArrayList for shuffling purposes, because they will be randomly used to build the tree.\r\n\r\n    //This ArrayList holds the Enums for shuffling purposes.\r\n    ArrayList&lt;features&gt; Features = new ArrayList&lt;features&gt;();\r\n    \r\n    Features.add(features.soundstatus);\r\n    Features.add(features.lightstatus);\r\n    Features.add(features.turn);\r\n    Features.add(features.scents);\r\n    Features.add(features.fuelstats);\r\n    \t\t\r\n    // Shuffle the elements in the list\r\n    Collections.shuffle(Features);\r\n    \t\t\r\n    //The Features Array List is now a shuffled tree.\r\n    //We will do a single loop that will serve as our stack.\r\n    \t\t\r\n    //First we take the top of the list and assign it to the root.\r\n    Tree id3 = new Tree(Features.get(0),Examples);\r\n\r\nBut how do I write a tree that:\r\nTakes in a feature enum that makes the subject of the root match the enum, and all of the different statuses of the enum the children?  For example, if soundstatus is the root, it should make four children that are Normal, Howl, Screech, and Click.  That way I can match the Example sounds with the children sounds.  This is my node so far.\r\n\r\n    public class Node \r\n    {\r\n    \t\r\n    \tArrayList&lt;Node&gt; children;\r\n    \t\r\n    \t\r\n    \t/* Constructor*/\r\n    \tpublic Node(ArrayList&lt;Node&gt; ExampleList) \r\n    \t{ \r\n    \t\tthis.ExampleList = ExampleList;\r\n    \t\tthis.parent = parent;\r\n    \t\tthis.children = children; \r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;Node&gt; getChildren() \r\n    \t{ \r\n    \t\treturn children; \r\n    \t}\r\n    \t\r\n    \tpublic void addChild(Node n) \r\n    \t{ \r\n    \t\tchildren.add(n);\r\n    \t}\r\n    \r\n    \tprivate ArrayList&lt;Node&gt; children;\r\n    \t\r\n    \tEnum phrase;\r\n    \t\r\n    \tprivate boolean isUsed;\r\n    \t\r\n    \tNode parent;\r\n    \t\r\n    \tpublic void setUsed(boolean isUsed) \r\n    \t{\r\n    \t\tthis.isUsed = isUsed;\r\n    \t}\r\n    \r\n    \tpublic boolean isUsed() \r\n    \t{\r\n    \t\treturn isUsed;\r\n    \t}\r\n    \t//This method states if the node is a leaf \r\n    \tpublic boolean isLeaf()\r\n    \t{\r\n    \t\tif (this.getChildren() == null)\r\n    \t\treturn true;\r\n    \t\t\r\n    \t\telse\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }","title":"ID3 Java Enum Tree","body":"<p>I'm trying to make a non-binary learning tree that's a simplified version of the ID3 algorithm.  To do this, I tried to use enums, because there are several references teaching enum hierarchies, but I'm having trouble with the transfer of enums to the functions I need to make the tree.  I've set up everything I need for the tree as best as I could, but I'm having trouble with the initial construction of the tree.</p>\n\n<p>First, I made six enums, each with their own file so I wouldn't need to write \"main.enumname\" everywhere.  These first five enums represent car diagnostics.</p>\n\n<pre><code>public enum fuelstats {notempty, empty}\npublic enum lightstatus {Dim, Normal}\npublic enum scents {normal, gas}\npublic enum soundstatus {Normal, Howl, Screech, Click}\npublic enum turn {no, yes}\n</code></pre>\n\n<p>Next, I made two more enums.  One for the different diagnostic results, and one for the different \"topics\" of car diagnostics.</p>\n\n<pre><code>public enum problems {battery, starter, solenoid, outofgas, flooding}\npublic enum features {lightstatus, soundstatus, fuelstats, scents, turn, problems}\n</code></pre>\n\n<p>I then made five data examples of different car diagnostics to be sorted in the tree.</p>\n\n<pre><code>Example example1 = new Example(lightstatus.Dim, soundstatus.Howl, turn.yes, fuelstats.notempty, scents.normal, problems.battery);\nExample example2 = new Example(lightstatus.Normal, soundstatus.Screech, turn.no, fuelstats.notempty, scents.normal, problems.starter);\nExample example3 = new Example(lightstatus.Normal, soundstatus.Click, turn.no, fuelstats.notempty, scents.normal, problems.solenoid);\nExample example4 = new Example(lightstatus.Normal, soundstatus.Normal, turn.yes, fuelstats.empty, scents.normal, problems.outofgas);\nExample example5 = new Example(lightstatus.Normal, soundstatus.Normal, turn.yes, fuelstats.notempty, scents.gas, problems.flooding);\n\n//make an array list of Examples.\nArrayList&lt;Example&gt; Examples = new ArrayList&lt;Example&gt;();\nExamples.add(example1);\n\nExamples.add(example2);\nExamples.add(example3);\nExamples.add(example4);\nExamples.add(example5);\n</code></pre>\n\n<p>I put the various car diagnostics, called Features, in an ArrayList for shuffling purposes, because they will be randomly used to build the tree.</p>\n\n<pre><code>//This ArrayList holds the Enums for shuffling purposes.\nArrayList&lt;features&gt; Features = new ArrayList&lt;features&gt;();\n\nFeatures.add(features.soundstatus);\nFeatures.add(features.lightstatus);\nFeatures.add(features.turn);\nFeatures.add(features.scents);\nFeatures.add(features.fuelstats);\n\n// Shuffle the elements in the list\nCollections.shuffle(Features);\n\n//The Features Array List is now a shuffled tree.\n//We will do a single loop that will serve as our stack.\n\n//First we take the top of the list and assign it to the root.\nTree id3 = new Tree(Features.get(0),Examples);\n</code></pre>\n\n<p>But how do I write a tree that:\nTakes in a feature enum that makes the subject of the root match the enum, and all of the different statuses of the enum the children?  For example, if soundstatus is the root, it should make four children that are Normal, Howl, Screech, and Click.  That way I can match the Example sounds with the children sounds.  This is my node so far.</p>\n\n<pre><code>public class Node \n{\n\n    ArrayList&lt;Node&gt; children;\n\n\n    /* Constructor*/\n    public Node(ArrayList&lt;Node&gt; ExampleList) \n    { \n        this.ExampleList = ExampleList;\n        this.parent = parent;\n        this.children = children; \n    }\n\n    public ArrayList&lt;Node&gt; getChildren() \n    { \n        return children; \n    }\n\n    public void addChild(Node n) \n    { \n        children.add(n);\n    }\n\n    private ArrayList&lt;Node&gt; children;\n\n    Enum phrase;\n\n    private boolean isUsed;\n\n    Node parent;\n\n    public void setUsed(boolean isUsed) \n    {\n        this.isUsed = isUsed;\n    }\n\n    public boolean isUsed() \n    {\n        return isUsed;\n    }\n    //This method states if the node is a leaf \n    public boolean isLeaf()\n    {\n        if (this.getChildren() == null)\n        return true;\n\n        else\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","posix","nio"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1588824186,"post_id":61649670,"comment_id":109050102,"body_markdown":"Are you referring to interface [`java.nio.file.attribute.BasicFileAttributes`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/BasicFileAttributes.html) ?","body":"Are you referring to interface <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/BasicFileAttributes.html\" rel=\"nofollow noreferrer\"><code>java.nio.file.attribute.BasicFileAttributes</code></a> ?"},{"owner":{"account_id":10025552,"reputation":281,"user_id":13475302,"display_name":"Belenot"},"score":0,"creation_date":1588824461,"post_id":61649670,"comment_id":109050159,"body_markdown":"@Abra, yes, I am","body":"@Abra, yes, I am"}],"answers":[{"tags":[],"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662692444,"creation_date":1662619242,"answer_id":73644679,"question_id":61649670,"body_markdown":"It is a `unique identifier`, to more info [fileKey()][1]\r\nhere is the code\r\n\r\n\r\nLet me show you with an example in both Windows OS and Linux OS.\r\nThe code is the following\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Path path = Path.of(&quot;resources/test_en.properties&quot;);\r\n        BasicFileAttributes basicFileAttributes = Files.readAttributes(path, BasicFileAttributes.class);\r\n        System.out.println(basicFileAttributes.fileKey());\r\n    }\r\n\r\n When I execute this code in Windows OS, I get **null** as a result\r\n\r\nLet&#39;s execute this code in Linux, to do this, I installed WSL on Windows. After that install Java 11 in your subsytem (You can find a lot of resources on the Internet how you can setup Java 11 on WSL)\r\nI assume you have installed Java 11, then create a demo file by executing below command\r\n\r\n    touch hello.txt\r\n\r\n\r\nafter that, execute following command\r\n\r\n    ls -i\r\n\r\nand you will get file name and its unique identifier, it is called **inode**\r\n\r\nhere is the result\r\n\r\n     49539595901185150 hello.txt\r\n\r\nResult probably will be different in your computer\r\n\r\nThen create a new java file and add above Java code into it, but change the file path in the code like following\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCompile the code and execute, you will get the result of the `fileKey()` method\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/BasicFileAttributes.html#fileKey--\r\n  [2]: https://i.stack.imgur.com/q7D9W.png\r\n  [3]: https://i.stack.imgur.com/93Yir.png","title":"Java NIO filekey structure","body":"<p>It is a <code>unique identifier</code>, to more info <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/BasicFileAttributes.html#fileKey--\" rel=\"nofollow noreferrer\">fileKey()</a>\nhere is the code</p>\n<p>Let me show you with an example in both Windows OS and Linux OS.\nThe code is the following</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Path path = Path.of(&quot;resources/test_en.properties&quot;);\n    BasicFileAttributes basicFileAttributes = Files.readAttributes(path, BasicFileAttributes.class);\n    System.out.println(basicFileAttributes.fileKey());\n}\n</code></pre>\n<p>When I execute this code in Windows OS, I get <strong>null</strong> as a result</p>\n<p>Let's execute this code in Linux, to do this, I installed WSL on Windows. After that install Java 11 in your subsytem (You can find a lot of resources on the Internet how you can setup Java 11 on WSL)\nI assume you have installed Java 11, then create a demo file by executing below command</p>\n<pre><code>touch hello.txt\n</code></pre>\n<p>after that, execute following command</p>\n<pre><code>ls -i\n</code></pre>\n<p>and you will get file name and its unique identifier, it is called <strong>inode</strong></p>\n<p>here is the result</p>\n<pre><code> 49539595901185150 hello.txt\n</code></pre>\n<p>Result probably will be different in your computer</p>\n<p>Then create a new java file and add above Java code into it, but change the file path in the code like following\n<a href=\"https://i.stack.imgur.com/q7D9W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q7D9W.png\" alt=\"enter image description here\" /></a></p>\n<p>Compile the code and execute, you will get the result of the <code>fileKey()</code> method\n<a href=\"https://i.stack.imgur.com/93Yir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93Yir.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10025552,"reputation":281,"user_id":13475302,"display_name":"Belenot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662692444,"creation_date":1588823970,"question_id":61649670,"body_markdown":"What are a `dev` and `ino` in NIO&#39;s `fileKey` String representation?\r\nI saw similar questions, but didn&#39;t find any description about what those keys are exactly are ","title":"Java NIO filekey structure","body":"<p>What are a <code>dev</code> and <code>ino</code> in NIO's <code>fileKey</code> String representation?\nI saw similar questions, but didn't find any description about what those keys are exactly are </p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":1293274,"reputation":2686,"user_id":1244949,"display_name":"WalterM"},"score":2,"creation_date":1448652375,"post_id":33963680,"comment_id":55684721,"body_markdown":"if it does throw the exception the finally block will get executed still. Exception will be thrown from the method.","body":"if it does throw the exception the finally block will get executed still. Exception will be thrown from the method."},{"owner":{"account_id":3561942,"reputation":825,"user_id":2974642,"accept_rate":28,"display_name":"UnworthyToast"},"score":0,"creation_date":1448652531,"post_id":33963680,"comment_id":55684788,"body_markdown":"@WalterM but I thought the point of including an exception in a throws clause was so that the compiler would allow you to have specific catch statements with references to the different kinds of exceptions that can be thrown. If a checked exception can be thrown without a catch statement, then what&#39;s the point of having a catch statement at all?","body":"@WalterM but I thought the point of including an exception in a throws clause was so that the compiler would allow you to have specific catch statements with references to the different kinds of exceptions that can be thrown. If a checked exception can be thrown without a catch statement, then what&#39;s the point of having a catch statement at all?"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1453475509,"post_id":33963680,"comment_id":57631211,"body_markdown":"Possible duplicate of [Java Try Catch Finally blocks without Catch](http://stackoverflow.com/questions/4559661/java-try-catch-finally-blocks-without-catch)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4559661/java-try-catch-finally-blocks-without-catch\">Java Try Catch Finally blocks without Catch</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1448652420,"creation_date":1448652420,"answer_id":33963737,"question_id":33963680,"body_markdown":"&gt; And where in the code would a `StreamException` be caught?\r\n\r\nThe `try` has a `finally` but no `catch`. The `finally` would execute, and the `Exception` would propagate to the **caller**.","title":"Try block without any catch statements","body":"<blockquote>\n  <p>And where in the code would a <code>StreamException</code> be caught?</p>\n</blockquote>\n\n<p>The <code>try</code> has a <code>finally</code> but no <code>catch</code>. The <code>finally</code> would execute, and the <code>Exception</code> would propagate to the <strong>caller</strong>.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480964934,"creation_date":1448652424,"answer_id":33963739,"question_id":33963680,"body_markdown":"The point is to make sure the stream gets closed, regardless of what else happens in the method. Anything thrown while iterating through the stream gets thrown to the caller. (Each caller in turn is free to either catch the exception or throw it to its caller, and so on.)\r\n\r\nIf this code used try-with-resources then that would make sure the exception thrown on close couldn&#39;t mask the exception thrown while iterating through the stream. (As it is if the close method throws an exception then that&#39;s what the caller sees, even if something in the try-block had thrown something.)","title":"Try block without any catch statements","body":"<p>The point is to make sure the stream gets closed, regardless of what else happens in the method. Anything thrown while iterating through the stream gets thrown to the caller. (Each caller in turn is free to either catch the exception or throw it to its caller, and so on.)</p>\n\n<p>If this code used try-with-resources then that would make sure the exception thrown on close couldn't mask the exception thrown while iterating through the stream. (As it is if the close method throws an exception then that's what the caller sees, even if something in the try-block had thrown something.)</p>\n"},{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448652506,"creation_date":1448652506,"answer_id":33963757,"question_id":33963680,"body_markdown":"The `StreamException` if I&#39;m not wrong won&#39;t be handled from this class but on the one with a `catch (StreamException se) {...}` i.e. the caller.\r\n\r\nThe `finally` block will **always** be executed no matter if an exception is thrown or not, so it will always close the stream.\r\n\r\nYou can have 3 different types of `try` blocks:\r\n\r\n1. `try-catch` (Try or catch blocks will be executed)\r\n2. `try-catch-finally` (Try or catch blocks will be executed AND finally block will execute no matter what)\r\n3. `try-finally` (Both blocks will be executed)","title":"Try block without any catch statements","body":"<p>The <code>StreamException</code> if I'm not wrong won't be handled from this class but on the one with a <code>catch (StreamException se) {...}</code> i.e. the caller.</p>\n\n<p>The <code>finally</code> block will <strong>always</strong> be executed no matter if an exception is thrown or not, so it will always close the stream.</p>\n\n<p>You can have 3 different types of <code>try</code> blocks:</p>\n\n<ol>\n<li><code>try-catch</code> (Try or catch blocks will be executed)</li>\n<li><code>try-catch-finally</code> (Try or catch blocks will be executed AND finally block will execute no matter what)</li>\n<li><code>try-finally</code> (Both blocks will be executed)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448652722,"creation_date":1448652722,"answer_id":33963797,"question_id":33963680,"body_markdown":"`throws SomeException` written followed by method signature,\r\n\r\nmeans some code which is written in side that method-block might be throw compile-time exception.\r\n\r\nAnd as per java&#39;s `exception` rules. while any `compile-time exception` throws then it ***needs to be either declare or handle.***\r\n\r\n\r\nHere, in your code not written any `throw` statement, but some method call from block need to `handle or declare` it.\r\n\r\n    throws Exception would propagate to the invoker.","title":"Try block without any catch statements","body":"<p><code>throws SomeException</code> written followed by method signature,</p>\n\n<p>means some code which is written in side that method-block might be throw compile-time exception.</p>\n\n<p>And as per java's <code>exception</code> rules. while any <code>compile-time exception</code> throws then it <strong><em>needs to be either declare or handle.</em></strong></p>\n\n<p>Here, in your code not written any <code>throw</code> statement, but some method call from block need to <code>handle or declare</code> it.</p>\n\n<pre><code>throws Exception would propagate to the invoker.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2977782,"reputation":5116,"user_id":2528472,"accept_rate":100,"display_name":"hubatish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518568080,"creation_date":1518568080,"answer_id":48777883,"question_id":33963680,"body_markdown":"Java 7 introduced the `try-with-resources` statement that handles this situation perfectly.\r\n\r\n    public boolean searchFor(String file, String word)\r\n        throws StreamException\r\n    {\r\n        try (Stream input = new Stream(file)) {\r\n            while (!input.eof()) {\r\n                if (input.next().equals(word)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;         //not found\r\n        }\r\n    }\r\n\r\nThis does the same thing as your example, and works for anything that implements AutoCloseable. \r\n\r\nNote for anyone replacing code: There is a small difference in which Exception is returned vs suppressed if an exception is thrown in both the `try` block and the `try-with` statement or `finally` block. See [Oracle docs][1] for more detail. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Try block without any catch statements","body":"<p>Java 7 introduced the <code>try-with-resources</code> statement that handles this situation perfectly.</p>\n\n<pre><code>public boolean searchFor(String file, String word)\n    throws StreamException\n{\n    try (Stream input = new Stream(file)) {\n        while (!input.eof()) {\n            if (input.next().equals(word)) {\n                return true;\n            }\n        }\n        return false;         //not found\n    }\n}\n</code></pre>\n\n<p>This does the same thing as your example, and works for anything that implements AutoCloseable. </p>\n\n<p>Note for anyone replacing code: There is a small difference in which Exception is returned vs suppressed if an exception is thrown in both the <code>try</code> block and the <code>try-with</code> statement or <code>finally</code> block. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Oracle docs</a> for more detail. </p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662691606,"creation_date":1662691606,"answer_id":73656835,"question_id":33963680,"body_markdown":"Please note that if there isn&#39;t a catch, the exception will still escape the block:\r\n\r\n    try {\r\n        try {\r\n            System.out.println(&#39;0&#39;);\r\n            int i = 100 / 0; // throw an exception\r\n        } finally {\r\n            System.out.println(&#39;1&#39;);\r\n        }\r\n        System.out.println(&#39;2&#39;);\r\n    } catch (Exception e) {\r\n        System.out.println(&#39;3&#39;);\r\n    }\r\n\r\nOutput:\r\n0\r\n1\r\n3\r\n","title":"Try block without any catch statements","body":"<p>Please note that if there isn't a catch, the exception will still escape the block:</p>\n<pre><code>try {\n    try {\n        System.out.println('0');\n        int i = 100 / 0; // throw an exception\n    } finally {\n        System.out.println('1');\n    }\n    System.out.println('2');\n} catch (Exception e) {\n    System.out.println('3');\n}\n</code></pre>\n<p>Output:\n0\n1\n3</p>\n"}],"owner":{"account_id":3561942,"reputation":825,"user_id":2974642,"accept_rate":28,"display_name":"UnworthyToast"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12062,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33963737,"answer_count":6,"score":8,"last_activity_date":1662691606,"creation_date":1448652206,"question_id":33963680,"body_markdown":"I was reading through a Java textbook in a chapter on exceptions and assertions, and came across this block of code that I had a question on.\r\n\r\n    public boolean searchFor(String file, String word)\r\n        throws StreamException\r\n    {\r\n        Stream input = null;\r\n\r\n        try {\r\n            input = new Stream(file);\r\n            while (!input.eof())\r\n                if (input.next().equals(word))\r\n                    return true;\r\n            return false;         //not found\r\n        } finally {\r\n            if (input != null)\r\n                input.close();\r\n        }\r\n    }\r\n\r\nIn the next paragraph, the text says that &quot;the `searchFor` method declares that it throws `StreamException` so that any exceptions generated are passed through to the invoking code after cleanup, including any `StreamException` thrown by the invocation of close.\r\n\r\nI was under the impression that including a `throws` clause was what allowed a programmer to throw a specific class (or subclass) of an exception, and that a class could be thrown if and only if it or one of its superclasses was in the `throws` clause. But here, there is a `throws` clause with no `throw` statement in the `try` block. So what is the point of including the clause in the first place? And where in the code would a `StreamException` be caught?","title":"Try block without any catch statements","body":"<p>I was reading through a Java textbook in a chapter on exceptions and assertions, and came across this block of code that I had a question on.</p>\n\n<pre><code>public boolean searchFor(String file, String word)\n    throws StreamException\n{\n    Stream input = null;\n\n    try {\n        input = new Stream(file);\n        while (!input.eof())\n            if (input.next().equals(word))\n                return true;\n        return false;         //not found\n    } finally {\n        if (input != null)\n            input.close();\n    }\n}\n</code></pre>\n\n<p>In the next paragraph, the text says that \"the <code>searchFor</code> method declares that it throws <code>StreamException</code> so that any exceptions generated are passed through to the invoking code after cleanup, including any <code>StreamException</code> thrown by the invocation of close.</p>\n\n<p>I was under the impression that including a <code>throws</code> clause was what allowed a programmer to throw a specific class (or subclass) of an exception, and that a class could be thrown if and only if it or one of its superclasses was in the <code>throws</code> clause. But here, there is a <code>throws</code> clause with no <code>throw</code> statement in the <code>try</code> block. So what is the point of including the clause in the first place? And where in the code would a <code>StreamException</code> be caught?</p>\n"},{"tags":["java","matlab","memory-leaks","editor","opendocument"],"comments":[{"owner":{"account_id":9897892,"reputation":57149,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1662729400,"post_id":73653607,"comment_id":130079766,"body_markdown":"If you found a bug in MATLAB, you should tell the MathWorks. They are the ones that can fix it. https://www.mathworks.com/support/servicerequests/reportabug.html","body":"If you found a bug in MATLAB, you should tell the MathWorks. They are the ones that can fix it. <a href=\"https://www.mathworks.com/support/servicerequests/reportabug.html\" rel=\"nofollow noreferrer\">mathworks.com/support/servicerequests/reportabug.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662691530,"creation_date":1662691329,"answer_id":73656815,"question_id":73653607,"body_markdown":"It may not be a &#39;memory -leak&#39;, There is a difference between used heap and allocated heap. \r\n\r\nThe JVM may hold the already allocated Memory even if is not used by heap space now.\r\n\r\nIn your case, the JVM process will hold memory during open files, but will not give it back to OS immediately.\r\n\r\nYou can check this answer [why does this java process not release memory][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38190585/why-does-this-java-process-not-release-memory","title":"Memory leak using editor Open and close document (Codetools.matlab.desktop.editor)","body":"<p>It may not be a 'memory -leak', There is a difference between used heap and allocated heap.</p>\n<p>The JVM may hold the already allocated Memory even if is not used by heap space now.</p>\n<p>In your case, the JVM process will hold memory during open files, but will not give it back to OS immediately.</p>\n<p>You can check this answer <a href=\"https://stackoverflow.com/questions/38190585/why-does-this-java-process-not-release-memory\">why does this java process not release memory</a>.</p>\n"}],"owner":{"account_id":1678121,"reputation":351,"user_id":1543154,"display_name":"skm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662691530,"creation_date":1662661697,"question_id":73653607,"body_markdown":"Programmatically opening and closing files in the Matlab editor results in a memory leak. The following code illustrates the problem:\r\n```\r\nfunction TestEditorMemoryLeak(filepaths)\r\n\tfor i = 1 : numel(filepaths)\r\n\t\tdocobj = matlab.desktop.editor.openDocument(filepaths{i});\r\n\t\tdisp([num2str(i), &#39;: &#39;, filepaths{i}]);\r\n\t\tpause(0.2);\r\n\t\tdocobj.closeNoPrompt();\r\n\tend\r\nend\r\n```\r\n*Warning: do not run the above code with a large number of files. Depending on how much Java heap memory is allocated under matlab general settings, it could cause matlab to crash and hang causing loss of command history and matlab settings*.\r\n\r\nI used the above code on about 1300 files, where each file was not too large - maybe an average of around 50 lines per file. On my system, which has the default 768 MB of Java heap memory allocated, the memory runs out after about a thousand files and matlab hangs badly.\r\n\r\nI thought that Java garbage collection might clean up after the function runs, but the 768 MB of memory remains used and never goes back to normal in the Windows task manager.\r\n\r\nIncreasing the Java heap memory setting appropriately, resolves the issue, but I would like to find a real solution. Is there a way to avoid this memory leak? - For example, a way to tell matlab to clean up every now and then? Would be grateful to anyone who has a solution.","title":"Memory leak using editor Open and close document (Codetools.matlab.desktop.editor)","body":"<p>Programmatically opening and closing files in the Matlab editor results in a memory leak. The following code illustrates the problem:</p>\n<pre><code>function TestEditorMemoryLeak(filepaths)\n    for i = 1 : numel(filepaths)\n        docobj = matlab.desktop.editor.openDocument(filepaths{i});\n        disp([num2str(i), ': ', filepaths{i}]);\n        pause(0.2);\n        docobj.closeNoPrompt();\n    end\nend\n</code></pre>\n<p><em>Warning: do not run the above code with a large number of files. Depending on how much Java heap memory is allocated under matlab general settings, it could cause matlab to crash and hang causing loss of command history and matlab settings</em>.</p>\n<p>I used the above code on about 1300 files, where each file was not too large - maybe an average of around 50 lines per file. On my system, which has the default 768 MB of Java heap memory allocated, the memory runs out after about a thousand files and matlab hangs badly.</p>\n<p>I thought that Java garbage collection might clean up after the function runs, but the 768 MB of memory remains used and never goes back to normal in the Windows task manager.</p>\n<p>Increasing the Java heap memory setting appropriately, resolves the issue, but I would like to find a real solution. Is there a way to avoid this memory leak? - For example, a way to tell matlab to clean up every now and then? Would be grateful to anyone who has a solution.</p>\n"},{"tags":["java","regex","base64","decode"],"answers":[{"tags":[],"owner":{"account_id":247414,"reputation":1157,"user_id":2809546,"accept_rate":80,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1382421223,"creation_date":1382420824,"answer_id":19509899,"question_id":19508955,"body_markdown":" 1. `.replace(regex,repl)` treats regex as &quot;literal&quot; (doesn&#39;t allow to\r\n    use &quot;`^`&quot; to denote beginning of line, etc) - try `.replaceFirst(regex,repl)` instead\r\n 2. as discussed [here][1] - try other\r\n    Base64-decoders (which might better suit Your needs, the one below may have issues above 64KB of string length)\r\n\r\nAside from validation/handling - should end up with something like [this][2]:\r\n\r\n\tString imageData = &quot;data:image/jpeg;base64,SGVsbG8sIHdvcmxkIQ==&quot;;\r\n\timageData = imageData.replaceFirst(&quot;^data:image/[^;]*;base64,?&quot;,&quot;&quot;);\r\n\tbyte[] bytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(imageData);\r\n\tSystem.out.println(new String(bytes));\r\n\r\nOutput:\r\n\r\n    Hello, world!\r\n  [1]: https://stackoverflow.com/questions/469695/decode-base64-data-in-java\r\n  [2]: http://ideone.com/19NH6n","title":"java expression to remove the dat/image part from image data","body":"<ol>\n<li><code>.replace(regex,repl)</code> treats regex as \"literal\" (doesn't allow to\nuse \"<code>^</code>\" to denote beginning of line, etc) - try <code>.replaceFirst(regex,repl)</code> instead</li>\n<li>as discussed <a href=\"https://stackoverflow.com/questions/469695/decode-base64-data-in-java\">here</a> - try other\nBase64-decoders (which might better suit Your needs, the one below may have issues above 64KB of string length)</li>\n</ol>\n\n<p>Aside from validation/handling - should end up with something like <a href=\"http://ideone.com/19NH6n\" rel=\"noreferrer\">this</a>:</p>\n\n<pre><code>String imageData = \"data:image/jpeg;base64,SGVsbG8sIHdvcmxkIQ==\";\nimageData = imageData.replaceFirst(\"^data:image/[^;]*;base64,?\",\"\");\nbyte[] bytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(imageData);\nSystem.out.println(new String(bytes));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hello, world!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662690076,"creation_date":1662689479,"answer_id":73656641,"question_id":19508955,"body_markdown":"The simplest way I found is to **split it at the comma** and then **save the right side** of the resulted array, to demonstrate:\r\n\r\n    if (imageData.contains(&quot;,&quot;)) {\r\n\t\timageData = imageData.split(&quot;,&quot;)[1];\r\n\t}\r\n\r\nThis splits the base at the comma (which returns an array) and saves the second item (what was after comma) back to the variable.*\r\n\r\nAt this point **we have the base64 without the metadata**.\r\n\r\nNow, if you want to **save the base64 into a byte array** we can simply do so with the following code:\r\n\r\n    byte[] byteArr = Base64.getDecoder().decode(imageData);\r\n\r\n\r\n*Base64 should not have any other commas in it so do not worry about it splitting further (but in case you want to use .split() elsewhere you can always pass a second parameter that will limit the number of resulting strings after the split, say if you want it to split only at the first comma then it would look like `.split(&quot;,&quot;, 2);`","title":"java expression to remove the dat/image part from image data","body":"<p>The simplest way I found is to <strong>split it at the comma</strong> and then <strong>save the right side</strong> of the resulted array, to demonstrate:</p>\n<pre><code>if (imageData.contains(&quot;,&quot;)) {\n    imageData = imageData.split(&quot;,&quot;)[1];\n}\n</code></pre>\n<p>This splits the base at the comma (which returns an array) and saves the second item (what was after comma) back to the variable.*</p>\n<p>At this point <strong>we have the base64 without the metadata</strong>.</p>\n<p>Now, if you want to <strong>save the base64 into a byte array</strong> we can simply do so with the following code:</p>\n<pre><code>byte[] byteArr = Base64.getDecoder().decode(imageData);\n</code></pre>\n<p>*Base64 should not have any other commas in it so do not worry about it splitting further (but in case you want to use .split() elsewhere you can always pass a second parameter that will limit the number of resulting strings after the split, say if you want it to split only at the first comma then it would look like <code>.split(&quot;,&quot;, 2);</code></p>\n"}],"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19509899,"answer_count":2,"score":0,"last_activity_date":1662690076,"creation_date":1382415965,"question_id":19508955,"body_markdown":"I have a image data from which I need to remove the following substring \r\n    \r\n    data:image/jpeg;base64,\r\n\r\nfrom the string\r\n\r\n    data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD......\r\n\r\n    data:image/png;base64......\r\n    data:image/;base64\r\n\r\nand then I am thinking of doing something like the following \r\n\r\n       imageData = imageData.replace(&quot;regex&quot;, &quot;&quot;);\r\n       return Base64.decodeBase64(imageData.getBytes());\r\n\r\nI want to know the regex first and also want to know whether calling\r\n        \r\n        imageData.getBytes()\r\nwill work out or not...\r\n","title":"java expression to remove the dat/image part from image data","body":"<p>I have a image data from which I need to remove the following substring </p>\n\n<pre><code>data:image/jpeg;base64,\n</code></pre>\n\n<p>from the string</p>\n\n<pre><code>data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD......\n\ndata:image/png;base64......\ndata:image/;base64\n</code></pre>\n\n<p>and then I am thinking of doing something like the following </p>\n\n<pre><code>   imageData = imageData.replace(\"regex\", \"\");\n   return Base64.decodeBase64(imageData.getBytes());\n</code></pre>\n\n<p>I want to know the regex first and also want to know whether calling</p>\n\n<pre><code>    imageData.getBytes()\n</code></pre>\n\n<p>will work out or not...</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1662659221,"post_id":73653170,"comment_id":130063030,"body_markdown":"Are you getting  anything in  logcat ?","body":"Are you getting  anything in  logcat ?"},{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1662663918,"post_id":73653170,"comment_id":130064392,"body_markdown":"Just take screenshots of logcat and add here.","body":"Just take screenshots of logcat and add here."},{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1662667191,"post_id":73653170,"comment_id":130065331,"body_markdown":"Clear the logcat and show only when you get that issue","body":"Clear the logcat and show only when you get that issue"}],"answers":[{"tags":[],"owner":{"display_name":"user2430364"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662671846,"creation_date":1662666847,"answer_id":73654426,"question_id":73653170,"body_markdown":"[This is a 1/4 of logcat content.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbMv5.gif\r\n\r\n    This is second logcat - after clear logcat.\r\n\r\n    2022-09-08 23:03:25.664 6760-6760/? I/pagesplitterap: Late-enabling\r\n    -Xcheck:jni\r\n    2022-09-08 23:03:25.731 6760-6760/? I/pagesplitterap: Unquickening 12\r\n    vdex files!\r\n    2022-09-08 23:03:25.737 6760-6760/? W/pagesplitterap: Unexpected CPU \r\n    variant for X86 using defaults: x86\r\n    2022-09-08 23:03:26.651 6760-6760/ru.appheads.pagesplitterapp \r\n    D/NetworkSecurityConfig: No Network Security Config specified, using \r\n    platform default\r\n    2022-09-08 23:03:26.651 6760-6760/ru.appheads.pagesplitterapp\r\n    D/NetworkSecurityConfig: No Network Security Config specified, using \r\n    platform default\r\n    2022-09-08 23:03:26.739 6760-6783/ru.appheads.pagesplitterapp\r\n    D/libEGL: \r\n    loaded /vendor/lib/egl/libEGL_emulation.so\r\n    2022-09-08 23:03:26.743 6760-6783/ru.appheads.pagesplitterapp \r\n    D/libEGL: \r\n    loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n    2022-09-08 23:03:26.753 6760-6783/ru.appheads.pagesplitterapp \r\n    D/libEGL: \r\n    loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n    2022-09-08 23:03:27.182 6760-6760/ru.appheads.pagesplitterapp \r\n    D/AndroidRuntime: Shutting down VM\r\n    \r\n    \r\n    --------- beginning of crash\r\n    2022-09-08 23:03:27.184 6760-6760/ru.appheads.pagesplitterapp\r\n     E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: ru.appheads.pagesplitterapp, PID: 6760\r\n    java.lang.RuntimeException: Unable to start activity\r\n    ComponentInfo   {ru.appheads.pagesplitterapp\r\n    /ru.appheads.pagesplitterapp.MainActivity}:\r\n    java.lang.ClassCastException: androidx.viewpager2.widget.ViewPager2 \r\n    cannot be cast to androidx.viewpager.widget.ViewPager\r\n    at\r\n    android.app.ActivityThread.performLaunchActivity\r\n    (ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity\r\n    (ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute\r\n    (LaunchActivityItem.java:85)\r\n        at\r\n    android.app.servertransaction.TransactionExecutor.executeCallbacks\r\n    (TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute\r\n    (TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage\r\n    (ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n    (RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.ClassCastException:\r\n     androidx.viewpager2.widget.ViewPager2 cannot be cast to\r\n     androidx.viewpager.widget.ViewPager\r\n        at ru.appheads.pagesplitterapp.MainActivity.onCreate \r\n     (MainActivity.java:19)\r\n        at android.app.Activity.performCreate(Activity.java:7994)\r\n        at android.app.Activity.performCreate(Activity.java:7978)\r\n        at  android.app.Instrumentation.callActivityOnCreate\r\n     (Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity\r\n     (ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity \r\n     (ActivityThread.java:3601)&#160;\r\n        at  android.app.servertransaction.LaunchActivityItem.execute \r\n     (LaunchActivityItem.java:85)&#160;\r\n        at  android.app.servertransaction.TransactionExecutor. \r\n     executeCallbacks (TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute\r\n    (TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage\r\n     (ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run \r\n    (RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n    2022-09-08 23:03:27.217 6760-6760/ru.appheads.pagesplitterapp\r\n    I/Process: Sending signal. PID: 6760 SIG: 9","title":"Android Studio Page Spitter","body":"<p><a href=\"https://i.stack.imgur.com/MbMv5.gif\" rel=\"nofollow noreferrer\">This is a 1/4 of logcat content.</a></p>\n<pre><code>This is second logcat - after clear logcat.\n\n2022-09-08 23:03:25.664 6760-6760/? I/pagesplitterap: Late-enabling\n-Xcheck:jni\n2022-09-08 23:03:25.731 6760-6760/? I/pagesplitterap: Unquickening 12\nvdex files!\n2022-09-08 23:03:25.737 6760-6760/? W/pagesplitterap: Unexpected CPU \nvariant for X86 using defaults: x86\n2022-09-08 23:03:26.651 6760-6760/ru.appheads.pagesplitterapp \nD/NetworkSecurityConfig: No Network Security Config specified, using \nplatform default\n2022-09-08 23:03:26.651 6760-6760/ru.appheads.pagesplitterapp\nD/NetworkSecurityConfig: No Network Security Config specified, using \nplatform default\n2022-09-08 23:03:26.739 6760-6783/ru.appheads.pagesplitterapp\nD/libEGL: \nloaded /vendor/lib/egl/libEGL_emulation.so\n2022-09-08 23:03:26.743 6760-6783/ru.appheads.pagesplitterapp \nD/libEGL: \nloaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2022-09-08 23:03:26.753 6760-6783/ru.appheads.pagesplitterapp \nD/libEGL: \nloaded /vendor/lib/egl/libGLESv2_emulation.so\n2022-09-08 23:03:27.182 6760-6760/ru.appheads.pagesplitterapp \nD/AndroidRuntime: Shutting down VM\n\n\n--------- beginning of crash\n2022-09-08 23:03:27.184 6760-6760/ru.appheads.pagesplitterapp\n E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: ru.appheads.pagesplitterapp, PID: 6760\njava.lang.RuntimeException: Unable to start activity\nComponentInfo   {ru.appheads.pagesplitterapp\n/ru.appheads.pagesplitterapp.MainActivity}:\njava.lang.ClassCastException: androidx.viewpager2.widget.ViewPager2 \ncannot be cast to androidx.viewpager.widget.ViewPager\nat\nandroid.app.ActivityThread.performLaunchActivity\n(ActivityThread.java:3449)\n    at android.app.ActivityThread.handleLaunchActivity\n(ActivityThread.java:3601)\n    at android.app.servertransaction.LaunchActivityItem.execute\n(LaunchActivityItem.java:85)\n    at\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks\n(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute\n(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage\n(ActivityThread.java:2066)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n Caused by: java.lang.ClassCastException:\n androidx.viewpager2.widget.ViewPager2 cannot be cast to\n androidx.viewpager.widget.ViewPager\n    at ru.appheads.pagesplitterapp.MainActivity.onCreate \n (MainActivity.java:19)\n    at android.app.Activity.performCreate(Activity.java:7994)\n    at android.app.Activity.performCreate(Activity.java:7978)\n    at  android.app.Instrumentation.callActivityOnCreate\n (Instrumentation.java:1309)\n    at android.app.ActivityThread.performLaunchActivity\n (ActivityThread.java:3422)\n    at android.app.ActivityThread.handleLaunchActivity \n (ActivityThread.java:3601)\n    at  android.app.servertransaction.LaunchActivityItem.execute \n (LaunchActivityItem.java:85)\n    at  android.app.servertransaction.TransactionExecutor. \n executeCallbacks (TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute\n(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage\n (ActivityThread.java:2066)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run \n(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-09-08 23:03:27.217 6760-6760/ru.appheads.pagesplitterapp\nI/Process: Sending signal. PID: 6760 SIG: 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662690039,"creation_date":1662690039,"answer_id":73656688,"question_id":73653170,"body_markdown":"you are using Viewpager2 in xml and imported and declared Viewpager in MainActivity, that&#39;s why you are getting ClassCastException. Both xml and activity viewPager type should be same\r\n\r\n","title":"Android Studio Page Spitter","body":"<p>you are using Viewpager2 in xml and imported and declared Viewpager in MainActivity, that's why you are getting ClassCastException. Both xml and activity viewPager type should be same</p>\n"}],"owner":{"display_name":"user2430364"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73656688,"answer_count":2,"score":0,"last_activity_date":1662690039,"creation_date":1662659010,"question_id":73653170,"body_markdown":"Regards to all.\r\n\r\nI am a beginner in Android Studio. I&#39;m trying to make a simple application that converts long text into multiple pages. I found an old example of the &quot;PageSplitter&quot; project, but the new version of Android Studio reported a lot of errors. I managed to debug it but when I start the project in the emulator it starts to open and then a message appears that the application has been terminated. Can anyone help me find the error. Thanks in advance. Here is the code:\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;ru.appheads.pagesplitterapp&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Pagesplitterapp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;    \r\n\r\nMainActivity.java\r\n\r\n    package ru.appheads.pagesplitterapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.text.TextPaint;\r\n    import android.view.ViewTreeObserver;\r\n\r\n    import androidx.fragment.app.FragmentActivity;\r\n    import androidx.viewpager.widget.ViewPager;\r\n\r\n\r\n    public class MainActivity extends FragmentActivity {\r\n    private ViewPager pagesView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n        pagesView = (ViewPager) findViewById(R.id.pages);\r\n\r\n        // to get ViewPager width and height we have to wait global layout\r\n        pagesView.getViewTreeObserver().addOnGlobalLayoutListener(new\r\n    ViewTreeObserver.OnGlobalLayoutListener() {\r\n            @Override\r\n            public void onGlobalLayout() {\r\n                PageSplitter pageSplitter = new PageSplitter(pagesView.getWidth(),\r\n    pagesView.getHeight(), 1, 0);\r\n\r\n                TextPaint textPaint = new TextPaint();\r\n                textPaint.setTextSize(getResources().getDimension(R.dimen.text_size));\r\n                for (int i = 0; i &lt; 1000; i++) {\r\n                    pageSplitter.append(&quot;Hello, &quot;, textPaint);\r\n                    textPaint.setFakeBoldText(true);\r\n                    pageSplitter.append(&quot;world&quot;, textPaint);\r\n                    textPaint.setFakeBoldText(false);\r\n                    pageSplitter.append(&quot;! &quot;, textPaint);\r\n                    if ((i + 1) % 100 == 0) {\r\n                        pageSplitter.append(&quot;\\n&quot;, textPaint);\r\n                    }\r\n                }\r\n\r\n                pagesView.setAdapter(new TextPagerAdapter(getSupportFragmentManager(),\r\n    pageSplitter.getPages()));\r\n                pagesView.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n            }\r\n        });\r\n\r\n     }\r\n     }\r\n    \r\nPageFragment.java\r\n\r\n    package ru.appheads.pagesplitterapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.util.TypedValue;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.fragment.app.Fragment;\r\n\r\n    public class PageFragment extends Fragment {\r\n    private final static String PAGE_TEXT = &quot;PAGE_TEXT&quot;;\r\n\r\n    public static PageFragment newInstance(CharSequence pageText) {\r\n        PageFragment frag = new PageFragment();\r\n        Bundle args = new Bundle();\r\n        args.putCharSequence(PAGE_TEXT, pageText);\r\n        frag.setArguments(args);\r\n        return frag;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle\r\n    savedInstanceState) {\r\n        CharSequence text = getArguments().getCharSequence(PAGE_TEXT);\r\n        TextView pageView = (TextView) inflater.inflate(R.layout.page, container, false);\r\n        pageView.setTextSize(TypedValue.COMPLEX_UNIT_PX,\r\n    getResources().getDimension(R.dimen.text_size));\r\n        pageView.setText(text);\r\n        return pageView;\r\n    }\r\n    }    \r\n\r\nPageSpitter.java\r\n\r\n    package ru.appheads.pagesplitterapp;\r\n\r\n    import android.graphics.Typeface;\r\n    import android.text.SpannableString;\r\n    import android.text.SpannableStringBuilder;\r\n    import android.text.TextPaint;\r\n    import android.text.style.StyleSpan;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class PageSplitter {\r\n    private final int pageWidth;\r\n    private final int pageHeight;\r\n    private final float lineSpacingMultiplier;\r\n    private final int lineSpacingExtra;\r\n    private final List&lt;CharSequence&gt; pages = new ArrayList&lt;CharSequence&gt;();\r\n    private SpannableStringBuilder currentLine = new SpannableStringBuilder();\r\n    private SpannableStringBuilder currentPage = new SpannableStringBuilder();\r\n    private int currentLineHeight;\r\n    private int pageContentHeight;\r\n    private int currentLineWidth;\r\n    private int textLineHeight;\r\n\r\n    public PageSplitter(int pageWidth, int pageHeight, float lineSpacingMultiplier, int\r\n    lineSpacingExtra) {\r\n        this.pageWidth = pageWidth;\r\n        this.pageHeight = pageHeight;\r\n        this.lineSpacingMultiplier = lineSpacingMultiplier;\r\n        this.lineSpacingExtra = lineSpacingExtra;\r\n    }\r\n\r\n    public void append(String text, TextPaint textPaint) {\r\n        textLineHeight = (int) Math.ceil(textPaint.getFontMetrics(null) * lineSpacingMultiplier +\r\n    lineSpacingExtra);\r\n        String[] paragraphs = text.split(&quot;\\n&quot;, -1);\r\n        int i;\r\n        for (i = 0; i &lt; paragraphs.length - 1; i++) {\r\n            appendText(paragraphs[i], textPaint);\r\n            appendNewLine();\r\n        }\r\n        appendText(paragraphs[i], textPaint);\r\n    }\r\n\r\n    private void appendText(String text, TextPaint textPaint) {\r\n        String[] words = text.split(&quot; &quot;, -1);\r\n        int i;\r\n        for (i = 0; i &lt; words.length - 1; i++) {\r\n            appendWord(words[i] + &quot; &quot;, textPaint);\r\n        }\r\n        appendWord(words[i], textPaint);\r\n    }\r\n\r\n    private void appendNewLine() {\r\n        currentLine.append(&quot;\\n&quot;);\r\n        checkForPageEnd();\r\n        appendLineToPage(textLineHeight);\r\n    }\r\n\r\n    private void checkForPageEnd() {\r\n        if (pageContentHeight + currentLineHeight &gt; pageHeight) {\r\n            pages.add(currentPage);\r\n            currentPage = new SpannableStringBuilder();\r\n            pageContentHeight = 0;\r\n        }\r\n    }\r\n\r\n    private void appendWord(String appendedText, TextPaint textPaint) {\r\n        int textWidth = (int) Math.ceil(textPaint.measureText(appendedText));\r\n        if (currentLineWidth + textWidth &gt;= pageWidth) {\r\n            checkForPageEnd();\r\n            appendLineToPage(textLineHeight);\r\n        }\r\n        appendTextToLine(appendedText, textPaint, textWidth);\r\n    }\r\n\r\n    private void appendLineToPage(int textLineHeight) {\r\n        currentPage.append(currentLine);\r\n        pageContentHeight += currentLineHeight;\r\n\r\n        currentLine = new SpannableStringBuilder();\r\n        currentLineHeight = textLineHeight;\r\n        currentLineWidth = 0;\r\n    }\r\n\r\n    private void appendTextToLine(String appendedText, TextPaint textPaint, int textWidth) {\r\n        currentLineHeight = Math.max(currentLineHeight, textLineHeight);\r\n        currentLine.append(renderToSpannable(appendedText, textPaint));\r\n        currentLineWidth += textWidth;\r\n    }\r\n\r\n    public List&lt;CharSequence&gt; getPages() {\r\n        List&lt;CharSequence&gt; copyPages = new ArrayList&lt;CharSequence&gt;(pages);\r\n        SpannableStringBuilder lastPage = new SpannableStringBuilder(currentPage);\r\n        if (pageContentHeight + currentLineHeight &gt; pageHeight) {\r\n            copyPages.add(lastPage);\r\n            lastPage = new SpannableStringBuilder();\r\n        }\r\n        lastPage.append(currentLine);\r\n        copyPages.add(lastPage);\r\n        return copyPages;\r\n    }\r\n\r\n    private SpannableString renderToSpannable(String text, TextPaint textPaint) {\r\n        SpannableString spannable = new SpannableString(text);\r\n\r\n        if (textPaint.isFakeBoldText()) {\r\n            spannable.setSpan(new StyleSpan(Typeface.BOLD), 0, spannable.length(), 0);\r\n        }\r\n        return spannable;\r\n     }\r\n     }\r\n    \r\n\r\nTextAdapter.java\r\n\r\n    package ru.appheads.pagesplitterapp;\r\n\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.fragment.app.FragmentPagerAdapter;\r\n\r\n    import java.util.List;\r\n\r\n    public class TextPagerAdapter extends FragmentPagerAdapter {\r\n    private final List&lt;CharSequence&gt; pageTexts;\r\n\r\n    public TextPagerAdapter(FragmentManager fm, List&lt;CharSequence&gt; pageTexts) {\r\n        super(fm);\r\n        this.pageTexts = pageTexts;\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int i) {\r\n        return PageFragment.newInstance(pageTexts.get(i));\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return pageTexts.size();\r\n    }\r\n    }    \r\n\r\nactivity_main.xml\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;ru.appheads.pagesplitterapp.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2 xmlns:android=&quot;http://schemas.android.com/apk/res\r\n    /android&quot;\r\n        android:id=&quot;@+id/pages&quot;\r\n        android:overScrollMode=&quot;never&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;&gt;\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n    &lt;/RelativeLayout&gt;    \r\n\r\nPage.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:lineSpacingMultiplier=&quot;1&quot;\r\n    android:lineSpacingExtra=&quot;0sp&quot;&gt;\r\n    &lt;/TextView&gt;    \r\n\r\nstyles.xml\r\n\r\n    &lt;resources&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;android:Theme.Holo.Light.DarkActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n  \r\n\r\nbuild.gradle.app\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;ru.appheads.pagesplitterapp&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-\r\n    rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n    \r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.viewpager2:viewpager2:1.0.0&#39;\r\n    //implementation &#39;androidx.fragment:fragment-ktx:1.2.0-beta02&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    }       ","title":"Android Studio Page Spitter","body":"<p>Regards to all.</p>\n<p>I am a beginner in Android Studio. I'm trying to make a simple application that converts long text into multiple pages. I found an old example of the &quot;PageSplitter&quot; project, but the new version of Android Studio reported a lot of errors. I managed to debug it but when I start the project in the emulator it starts to open and then a message appears that the application has been terminated. Can anyone help me find the error. Thanks in advance. Here is the code:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;ru.appheads.pagesplitterapp&quot;&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Pagesplitterapp&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;    \n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package ru.appheads.pagesplitterapp;\n\nimport android.os.Bundle;\nimport android.text.TextPaint;\nimport android.view.ViewTreeObserver;\n\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager.widget.ViewPager;\n\n\npublic class MainActivity extends FragmentActivity {\nprivate ViewPager pagesView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_main);\n    pagesView = (ViewPager) findViewById(R.id.pages);\n\n    // to get ViewPager width and height we have to wait global layout\n    pagesView.getViewTreeObserver().addOnGlobalLayoutListener(new\nViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            PageSplitter pageSplitter = new PageSplitter(pagesView.getWidth(),\npagesView.getHeight(), 1, 0);\n\n            TextPaint textPaint = new TextPaint();\n            textPaint.setTextSize(getResources().getDimension(R.dimen.text_size));\n            for (int i = 0; i &lt; 1000; i++) {\n                pageSplitter.append(&quot;Hello, &quot;, textPaint);\n                textPaint.setFakeBoldText(true);\n                pageSplitter.append(&quot;world&quot;, textPaint);\n                textPaint.setFakeBoldText(false);\n                pageSplitter.append(&quot;! &quot;, textPaint);\n                if ((i + 1) % 100 == 0) {\n                    pageSplitter.append(&quot;\\n&quot;, textPaint);\n                }\n            }\n\n            pagesView.setAdapter(new TextPagerAdapter(getSupportFragmentManager(),\npageSplitter.getPages()));\n            pagesView.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n        }\n    });\n\n }\n }\n</code></pre>\n<p>PageFragment.java</p>\n<pre><code>package ru.appheads.pagesplitterapp;\n\nimport android.os.Bundle;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.fragment.app.Fragment;\n\npublic class PageFragment extends Fragment {\nprivate final static String PAGE_TEXT = &quot;PAGE_TEXT&quot;;\n\npublic static PageFragment newInstance(CharSequence pageText) {\n    PageFragment frag = new PageFragment();\n    Bundle args = new Bundle();\n    args.putCharSequence(PAGE_TEXT, pageText);\n    frag.setArguments(args);\n    return frag;\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle\nsavedInstanceState) {\n    CharSequence text = getArguments().getCharSequence(PAGE_TEXT);\n    TextView pageView = (TextView) inflater.inflate(R.layout.page, container, false);\n    pageView.setTextSize(TypedValue.COMPLEX_UNIT_PX,\ngetResources().getDimension(R.dimen.text_size));\n    pageView.setText(text);\n    return pageView;\n}\n}    \n</code></pre>\n<p>PageSpitter.java</p>\n<pre><code>package ru.appheads.pagesplitterapp;\n\nimport android.graphics.Typeface;\nimport android.text.SpannableString;\nimport android.text.SpannableStringBuilder;\nimport android.text.TextPaint;\nimport android.text.style.StyleSpan;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PageSplitter {\nprivate final int pageWidth;\nprivate final int pageHeight;\nprivate final float lineSpacingMultiplier;\nprivate final int lineSpacingExtra;\nprivate final List&lt;CharSequence&gt; pages = new ArrayList&lt;CharSequence&gt;();\nprivate SpannableStringBuilder currentLine = new SpannableStringBuilder();\nprivate SpannableStringBuilder currentPage = new SpannableStringBuilder();\nprivate int currentLineHeight;\nprivate int pageContentHeight;\nprivate int currentLineWidth;\nprivate int textLineHeight;\n\npublic PageSplitter(int pageWidth, int pageHeight, float lineSpacingMultiplier, int\nlineSpacingExtra) {\n    this.pageWidth = pageWidth;\n    this.pageHeight = pageHeight;\n    this.lineSpacingMultiplier = lineSpacingMultiplier;\n    this.lineSpacingExtra = lineSpacingExtra;\n}\n\npublic void append(String text, TextPaint textPaint) {\n    textLineHeight = (int) Math.ceil(textPaint.getFontMetrics(null) * lineSpacingMultiplier +\nlineSpacingExtra);\n    String[] paragraphs = text.split(&quot;\\n&quot;, -1);\n    int i;\n    for (i = 0; i &lt; paragraphs.length - 1; i++) {\n        appendText(paragraphs[i], textPaint);\n        appendNewLine();\n    }\n    appendText(paragraphs[i], textPaint);\n}\n\nprivate void appendText(String text, TextPaint textPaint) {\n    String[] words = text.split(&quot; &quot;, -1);\n    int i;\n    for (i = 0; i &lt; words.length - 1; i++) {\n        appendWord(words[i] + &quot; &quot;, textPaint);\n    }\n    appendWord(words[i], textPaint);\n}\n\nprivate void appendNewLine() {\n    currentLine.append(&quot;\\n&quot;);\n    checkForPageEnd();\n    appendLineToPage(textLineHeight);\n}\n\nprivate void checkForPageEnd() {\n    if (pageContentHeight + currentLineHeight &gt; pageHeight) {\n        pages.add(currentPage);\n        currentPage = new SpannableStringBuilder();\n        pageContentHeight = 0;\n    }\n}\n\nprivate void appendWord(String appendedText, TextPaint textPaint) {\n    int textWidth = (int) Math.ceil(textPaint.measureText(appendedText));\n    if (currentLineWidth + textWidth &gt;= pageWidth) {\n        checkForPageEnd();\n        appendLineToPage(textLineHeight);\n    }\n    appendTextToLine(appendedText, textPaint, textWidth);\n}\n\nprivate void appendLineToPage(int textLineHeight) {\n    currentPage.append(currentLine);\n    pageContentHeight += currentLineHeight;\n\n    currentLine = new SpannableStringBuilder();\n    currentLineHeight = textLineHeight;\n    currentLineWidth = 0;\n}\n\nprivate void appendTextToLine(String appendedText, TextPaint textPaint, int textWidth) {\n    currentLineHeight = Math.max(currentLineHeight, textLineHeight);\n    currentLine.append(renderToSpannable(appendedText, textPaint));\n    currentLineWidth += textWidth;\n}\n\npublic List&lt;CharSequence&gt; getPages() {\n    List&lt;CharSequence&gt; copyPages = new ArrayList&lt;CharSequence&gt;(pages);\n    SpannableStringBuilder lastPage = new SpannableStringBuilder(currentPage);\n    if (pageContentHeight + currentLineHeight &gt; pageHeight) {\n        copyPages.add(lastPage);\n        lastPage = new SpannableStringBuilder();\n    }\n    lastPage.append(currentLine);\n    copyPages.add(lastPage);\n    return copyPages;\n}\n\nprivate SpannableString renderToSpannable(String text, TextPaint textPaint) {\n    SpannableString spannable = new SpannableString(text);\n\n    if (textPaint.isFakeBoldText()) {\n        spannable.setSpan(new StyleSpan(Typeface.BOLD), 0, spannable.length(), 0);\n    }\n    return spannable;\n }\n }\n</code></pre>\n<p>TextAdapter.java</p>\n<pre><code>package ru.appheads.pagesplitterapp;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentPagerAdapter;\n\nimport java.util.List;\n\npublic class TextPagerAdapter extends FragmentPagerAdapter {\nprivate final List&lt;CharSequence&gt; pageTexts;\n\npublic TextPagerAdapter(FragmentManager fm, List&lt;CharSequence&gt; pageTexts) {\n    super(fm);\n    this.pageTexts = pageTexts;\n}\n\n@Override\npublic Fragment getItem(int i) {\n    return PageFragment.newInstance(pageTexts.get(i));\n}\n\n@Override\npublic int getCount() {\n    return pageTexts.size();\n}\n}    \n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\nandroid:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\nandroid:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\nandroid:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\ntools:context=&quot;ru.appheads.pagesplitterapp.MainActivity&quot;&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2 xmlns:android=&quot;http://schemas.android.com/apk/res\n/android&quot;\n    android:id=&quot;@+id/pages&quot;\n    android:overScrollMode=&quot;never&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_width=&quot;match_parent&quot;&gt;\n&lt;/androidx.viewpager2.widget.ViewPager2&gt;\n&lt;/RelativeLayout&gt;    \n</code></pre>\n<p>Page.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:lineSpacingMultiplier=&quot;1&quot;\nandroid:lineSpacingExtra=&quot;0sp&quot;&gt;\n&lt;/TextView&gt;    \n</code></pre>\n<p>styles.xml</p>\n<pre><code>&lt;resources&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;android:Theme.Holo.Light.DarkActionBar&quot;&gt;\n&lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>build.gradle.app</p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\ncompileSdk 32\n\ndefaultConfig {\n    applicationId &quot;ru.appheads.pagesplitterapp&quot;\n    minSdk 21\n    targetSdk 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-\nrules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.5.0'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'androidx.viewpager2:viewpager2:1.0.0'\n//implementation 'androidx.fragment:fragment-ktx:1.2.0-beta02'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}       \n</code></pre>\n"},{"tags":["java","cassandra","datastax-java-driver","cqlsh"],"comments":[{"owner":{"account_id":6676121,"reputation":1483,"user_id":5150685,"display_name":"Alec  Collier "},"score":0,"creation_date":1440636955,"post_id":32237341,"comment_id":52360055,"body_markdown":"Are you able to send through your java code to connect and query? This should work, I have done this exact thing in the past with 2 node cluster and 1 being down.","body":"Are you able to send through your java code to connect and query? This should work, I have done this exact thing in the past with 2 node cluster and 1 being down."},{"owner":{"account_id":6779979,"reputation":339,"user_id":5220619,"display_name":"Aravind Chamakura"},"score":0,"creation_date":1440692294,"post_id":32237341,"comment_id":52389308,"body_markdown":"Can you share your java code. Unless you are setting consistency ALL in your java code, there is no reason for you java code to fail.","body":"Can you share your java code. Unless you are setting consistency ALL in your java code, there is no reason for you java code to fail."},{"owner":{"account_id":4096306,"reputation":29,"user_id":5270423,"display_name":"Liam"},"score":0,"creation_date":1440738422,"post_id":32237341,"comment_id":52406439,"body_markdown":"It looks like there is a problem with BatchStatements from DataStax Java driver when one of the nodes fail.  Why do batch statements fail from Java driver when there is a node failure, while BoundStatements work fine?","body":"It looks like there is a problem with BatchStatements from DataStax Java driver when one of the nodes fail.  Why do batch statements fail from Java driver when there is a node failure, while BoundStatements work fine?"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662689331,"creation_date":1662689331,"answer_id":73656632,"question_id":32237341,"body_markdown":"For those coming across this post, the mutations (write statements) in a CQL batch need to be persisted to the `system.batchlog` of TWO nodes to ensure that if a batch fails to get written on a replica, the batch in the `batchlog` can be replayed to the replica that failed.\r\n\r\nThis behaviour is the `LOGGED` part of the `LOGGED BATCH`. It is a fail-safe that ensures either (a) ALL of the batch statements are applied, or (b) NONE of the batch succeeds because (c) there is no rollback mechanism for failed batches.\r\n\r\nIn this scenario where there are only two nodes but one node is down, the coordinator cannot persist the batch on two nodes so the batch is marked as failed -- NONE of the statements in the batch are even attempted so there is no rollback required. Cheers!","title":"Why do CQL Batch statements fail when one node of a two-node cluster is down?","body":"<p>For those coming across this post, the mutations (write statements) in a CQL batch need to be persisted to the <code>system.batchlog</code> of TWO nodes to ensure that if a batch fails to get written on a replica, the batch in the <code>batchlog</code> can be replayed to the replica that failed.</p>\n<p>This behaviour is the <code>LOGGED</code> part of the <code>LOGGED BATCH</code>. It is a fail-safe that ensures either (a) ALL of the batch statements are applied, or (b) NONE of the batch succeeds because (c) there is no rollback mechanism for failed batches.</p>\n<p>In this scenario where there are only two nodes but one node is down, the coordinator cannot persist the batch on two nodes so the batch is marked as failed -- NONE of the statements in the batch are even attempted so there is no rollback required. Cheers!</p>\n"}],"owner":{"account_id":4096306,"reputation":29,"user_id":5270423,"display_name":"Liam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662689331,"creation_date":1440626047,"question_id":32237341,"body_markdown":"I have created a Cassandra cluster with 2 nodes and keyspaces with a replication factor of 2:\r\n\r\n    CREATE KEYSPACE data WITH REPLICATION = { &#39;class&#39; : &#39;SimpleStrategy&#39;, &#39;replication_factor&#39; : 2 };\r\n\r\nEverything works fine when both nodes are up.  But whenever I take down one of the nodes, I receive the following error from my Java client:\r\n\r\n    com.datastax.driver.core.exceptions.UnavailableException: Not enough replica available for query at consistency ONE (1 required but only 0 alive)\r\n\r\nSince one node is still up and running and the key space is replicated, I was expecting the queries to succeed. In fact, I&#39;m able to login into the cqlsh on the running node and manually set &quot;consistency one&quot; on the CLI, and execute queries successfully from cqlsh.\r\n\r\nBut from my Java client, the queries all fail, even though one node is still healthy.  But if I use nodetool to remove the down node manually (`nodetool removenode`),  the Java client then works fine. i&#39;m using the DataStax Java driver.\r\n\r\nHere is a test Java code:\r\n```java\r\npublic class CassandraTest {\r\n\r\n    public static void main(String[] args) {\r\n\r\n            Cluster cluster;\r\n            Session session;\r\n            ResultSet results;\r\n            Row rows;\r\n\r\n            // Connect to the cluster and keyspace &quot;demo&quot;\r\n            cluster = Cluster\r\n                            .builder()\r\n                            .addContactPoint(&quot;172.31.2.11&quot;)\r\n                        //  .withRetryPolicy(DefaultRetryPolicy.INSTANCE)\r\n                        //  .withLoadBalancingPolicy(\r\n                        //                  new TokenAwarePolicy(new DCAwareRoundRobinPolicy()))\r\n                         .build();\r\n                session = cluster.connect(&quot;user_data&quot;);\r\n\r\n                // Insert one record into the users table\r\n                PreparedStatement statement = session.prepare(\r\n\r\n                &quot;INSERT INTO user_profile&quot; + &quot;(last_name, user_id, user_roles, email, first_name)&quot;\r\n                                + &quot;VALUES (?,?,?,?,?);&quot;);\r\n\r\n                BatchStatement batch  = new BatchStatement();\r\n                batch.add (statement.bind(&quot;Jones&quot;, &quot;22321&quot;, &quot;Test Role&quot;,\r\n                                &quot;bob@example.com&quot;, &quot;Bob&quot;));\r\n                batch.add (statement.bind(&quot;Jones2&quot;, &quot;222321&quot;, &quot;2Test Role&quot;,\r\n                                &quot;2bob@example.com&quot;, &quot;2Bob&quot;));\r\n\r\n                session.execute (batch);\r\n      }      \r\n}\r\n```\r\n\r\nIt looks like there are issue with BatchStatements from the DataStax Java driver when one of the Cassandra nodes fail.  If I change the code to use BoundStatement, instead of BatchStatement, the Java code works.\r\n\r\nAny suggested workarounds to get BatchStatements to work correctly when one of the nodes are down?\r\n\r\n","title":"Why do CQL Batch statements fail when one node of a two-node cluster is down?","body":"<p>I have created a Cassandra cluster with 2 nodes and keyspaces with a replication factor of 2:</p>\n\n<pre><code>CREATE KEYSPACE data WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 2 };\n</code></pre>\n\n<p>Everything works fine when both nodes are up.  But whenever I take down one of the nodes, I receive the following error from my Java client:</p>\n\n<pre><code>com.datastax.driver.core.exceptions.UnavailableException: Not enough replica available for query at consistency ONE (1 required but only 0 alive)\n</code></pre>\n\n<p>Since one node is still up and running and the key space is replicated, I was expecting the queries to succeed. In fact, I'm able to login into the cqlsh on the running node and manually set \"consistency one\" on the CLI, and execute queries successfully from cqlsh.</p>\n\n<p>But from my Java client, the queries all fail, even though one node is still healthy.  But if I use nodetool to remove the down node manually (<code>nodetool removenode</code>),  the Java client then works fine. i'm using the DataStax Java driver.</p>\n\n<p>Here is a test Java code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CassandraTest {\n\n    public static void main(String[] args) {\n\n            Cluster cluster;\n            Session session;\n            ResultSet results;\n            Row rows;\n\n            // Connect to the cluster and keyspace \"demo\"\n            cluster = Cluster\n                            .builder()\n                            .addContactPoint(\"172.31.2.11\")\n                        //  .withRetryPolicy(DefaultRetryPolicy.INSTANCE)\n                        //  .withLoadBalancingPolicy(\n                        //                  new TokenAwarePolicy(new DCAwareRoundRobinPolicy()))\n                         .build();\n                session = cluster.connect(\"user_data\");\n\n                // Insert one record into the users table\n                PreparedStatement statement = session.prepare(\n\n                \"INSERT INTO user_profile\" + \"(last_name, user_id, user_roles, email, first_name)\"\n                                + \"VALUES (?,?,?,?,?);\");\n\n                BatchStatement batch  = new BatchStatement();\n                batch.add (statement.bind(\"Jones\", \"22321\", \"Test Role\",\n                                \"bob@example.com\", \"Bob\"));\n                batch.add (statement.bind(\"Jones2\", \"222321\", \"2Test Role\",\n                                \"2bob@example.com\", \"2Bob\"));\n\n                session.execute (batch);\n      }      \n}\n</code></pre>\n\n<p>It looks like there are issue with BatchStatements from the DataStax Java driver when one of the Cassandra nodes fail.  If I change the code to use BoundStatement, instead of BatchStatement, the Java code works.</p>\n\n<p>Any suggested workarounds to get BatchStatements to work correctly when one of the nodes are down?</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1528718724,"post_id":50795639,"comment_id":88600508,"body_markdown":"I assume Your button and textViews are on the same view. So use another view&#39;s type for button. That&#39;s it.","body":"I assume Your button and textViews are on the same view. So use another view&#39;s type for button. That&#39;s it."}],"answers":[{"tags":[],"owner":{"account_id":11013148,"reputation":5634,"user_id":8089770,"display_name":"Vidhi Dave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1528731463,"creation_date":1528713317,"answer_id":50795749,"question_id":50795639,"body_markdown":"Explanation : In this answer i have added a divider above every item in your RecyclerView and after the RecyclerView itself. This way you wont have &quot;overdraw&quot;, where 2 lines are painted on top of each other.I have used View tag for this purpose which draws a simple line from the xml.\r\n\r\n**Row file :**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;View android:layout_height=&quot;2dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;/&gt;\r\n        \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvBarcode&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvData&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n**Main file :**\r\n\r\n \r\n\r\n    &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;android.support.v7.widget.RecyclerView\r\n                android:id=&quot;@+id/repository_rv&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:listitem=&quot;@layout/tmp3&quot;\r\n                android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n    \r\n            &lt;View\r\n                android:id=&quot;@+id/bottomLine&quot;\r\n                android:layout_height=&quot;2dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:background=&quot;@color/colorPrimary&quot;/&gt;\r\n\r\n     &lt;/LinearLayout&gt;","title":"Adding a DividerItemDecoration on top of the element","body":"<p>Explanation : In this answer i have added a divider above every item in your RecyclerView and after the RecyclerView itself. This way you wont have \"overdraw\", where 2 lines are painted on top of each other.I have used View tag for this purpose which draws a simple line from the xml.</p>\n\n<p><strong>Row file :</strong></p>\n\n\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;View android:layout_height=\"2dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_marginBottom=\"5dp\"\n        android:background=\"@color/colorPrimary\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvDescrizione\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:textStyle=\"italic\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvBarcode\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvData\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:layout_alignParentEnd=\"true\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>Main file :</strong></p>\n\n<pre><code>&lt;LinearLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/repository_rv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            tools:listitem=\"@layout/tmp3\"\n            android:layout_marginTop=\"30dp\"/&gt;\n\n        &lt;View\n            android:id=\"@+id/bottomLine\"\n            android:layout_height=\"2dp\"\n            android:layout_marginTop=\"5dp\"\n            android:layout_width=\"match_parent\"\n            android:background=\"@color/colorPrimary\"/&gt;\n\n &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5814923,"reputation":1889,"user_id":6997819,"display_name":"Vir Rajpurohit"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1528713328,"creation_date":1528713328,"answer_id":50795752,"question_id":50795639,"body_markdown":"Don&#39;t add divider via Item Decoration. Instead put Two vies above and below of your row code like below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;Vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;View \r\n       android:layout_height=&quot;1px&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:background=&quot;#000000&quot;\r\n       /&gt;\r\n    &lt;RelativeLayout \r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n     &lt;TextView\r\n            android:id=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvBarcode&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvData&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n    &lt;View android:layout_height=&quot;1px&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot;\r\n      /&gt;\r\n    &lt;/LinearLayout&gt;","title":"Adding a DividerItemDecoration on top of the element","body":"<p>Don't add divider via Item Decoration. Instead put Two vies above and below of your row code like below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"Vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n&lt;View \n   android:layout_height=\"1px\"\n   android:layout_width=\"match_parent\"\n   android:background=\"#000000\"\n   /&gt;\n&lt;RelativeLayout \n   android:layout_width=\"match_parent\"\n   android:layout_height=\"wrap_content\"&gt;\n\n &lt;TextView\n        android:id=\"@+id/tvDescrizione\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:textStyle=\"italic\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvBarcode\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvData\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:layout_alignParentEnd=\"true\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;View android:layout_height=\"1px\"\nandroid:layout_width=\"match_parent\"\nandroid:background=\"#000000\"\n  /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161834,"reputation":2714,"user_id":1915831,"accept_rate":56,"display_name":"Rubin Yoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662688163,"creation_date":1662688163,"answer_id":73656554,"question_id":50795639,"body_markdown":"Copy and paste `DividerItemDecoration` and change the following two lines. I only tested for vertical orientation.\r\n\r\n```\r\n//Change - getItemOffsets\r\n//old \r\noutRect.set(0, 0, 0, mDivider.getIntrinsicHeight())\r\n//new\r\noutRect.set(0, mDivider.getIntrinsicHeight(), 0, 0)\r\n\r\n//Change - drawVertical\r\n//old\r\nfinal int bottom = mBounds.bottom + Math.round(child.getTranslationY())\r\n//new\r\nfinal int bottom = mBounds.bottom + Math.round(child.getTranslationY()) - child.getHeight()\r\n\r\n```","title":"Adding a DividerItemDecoration on top of the element","body":"<p>Copy and paste <code>DividerItemDecoration</code> and change the following two lines. I only tested for vertical orientation.</p>\n<pre><code>//Change - getItemOffsets\n//old \noutRect.set(0, 0, 0, mDivider.getIntrinsicHeight())\n//new\noutRect.set(0, mDivider.getIntrinsicHeight(), 0, 0)\n\n//Change - drawVertical\n//old\nfinal int bottom = mBounds.bottom + Math.round(child.getTranslationY())\n//new\nfinal int bottom = mBounds.bottom + Math.round(child.getTranslationY()) - child.getHeight()\n\n</code></pre>\n"}],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50795749,"answer_count":3,"score":6,"last_activity_date":1662688163,"creation_date":1528712908,"question_id":50795639,"body_markdown":"I&#39;m trying to add a divider on top of my element in a RecyclerView.\r\n\r\nFollowing google i&#39;ve succeded to add a DividerItemDecoration, the code is as below:\r\n\r\n**DividerItemDecoration:**\r\n\r\n    public class DividerItemDecoration extends RecyclerView.ItemDecoration {\r\n\r\n    private static final int[] ATTRS = new int[]{\r\n            android.R.attr.listDivider\r\n    };\r\n\r\n    public static final int HORIZONTAL_LIST = LinearLayoutManager.HORIZONTAL;\r\n    public static final int VERTICAL_LIST = LinearLayoutManager.VERTICAL;\r\n    private Drawable mDivider;\r\n    private int mOrientation;\r\n\r\n    public DividerItemDecoration(Context context, int orientation) {\r\n        final TypedArray a = context.obtainStyledAttributes(ATTRS);\r\n        mDivider = a.getDrawable(0);\r\n        a.recycle();\r\n        setOrientation(orientation);\r\n    }\r\n\r\n    public void setOrientation(int orientation) {\r\n        if (orientation != HORIZONTAL_LIST &amp;&amp; orientation != VERTICAL_LIST) {\r\n            throw new IllegalArgumentException(&quot;invalid orientation&quot;);\r\n        }\r\n        mOrientation = orientation;\r\n    }\r\n\r\n    @Override\r\n    public void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\r\n        if (mOrientation == VERTICAL_LIST) {\r\n            drawVertical(c, parent);\r\n        } else {\r\n            drawHorizontal(c, parent);\r\n        }\r\n    }\r\n\r\n    public void drawVertical(Canvas c, RecyclerView parent) {\r\n        final int left = parent.getPaddingLeft();\r\n        final int right = parent.getWidth() - parent.getPaddingRight();\r\n\r\n        final int childCount = parent.getChildCount();\r\n        for (int i = 0; i &lt; childCount; i++) {\r\n            final View child = parent.getChildAt(i);\r\n            final RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child\r\n                    .getLayoutParams();\r\n            final int top = child.getBottom() + params.bottomMargin;\r\n            final int bottom = top + mDivider.getIntrinsicHeight();\r\n            mDivider.setBounds(left, top, right, bottom);\r\n            mDivider.draw(c);\r\n        }\r\n    }\r\n\r\n    public void drawHorizontal(Canvas c, RecyclerView parent) {\r\n        final int top = parent.getPaddingTop();\r\n        final int bottom = parent.getHeight() - parent.getPaddingBottom();\r\n\r\n        final int childCount = parent.getChildCount();\r\n        for (int i = 0; i &lt; childCount; i++) {\r\n            final View child = parent.getChildAt(i);\r\n            final RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child\r\n                    .getLayoutParams();\r\n            final int left = child.getRight() + params.rightMargin;\r\n            final int right = left + mDivider.getIntrinsicHeight();\r\n            mDivider.setBounds(left, top, right, bottom);\r\n            mDivider.draw(c);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\r\n        if (mOrientation == VERTICAL_LIST) {\r\n            outRect.set(0, 0, 0, mDivider.getIntrinsicHeight());\r\n        } else {\r\n            outRect.set(0, 0, mDivider.getIntrinsicWidth(), 0);\r\n        }\r\n    }\r\n    }\r\n\r\n**The result:**\r\n\r\n[![DividerItemDecoration][1]][1]\r\n\r\n**What i&#39;m trying to accomplish:**\r\n\r\n[![DividerItemDecorationResult][2]][2]\r\n\r\n\r\nI&#39;ve tried to play with the offset and the index but didn&#39;t get expected result.\r\n\r\nHow can I add the same item divider on top of my elements?\r\n\r\nAlso in case of necessary i&#39;ve leave my layout of the row, here is the code:\r\n\r\n**Row:**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvBarcode&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvData&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/tvDescrizione&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;18sp&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/YfE3h.png\r\n  [2]: https://i.stack.imgur.com/H1Srn.png","title":"Adding a DividerItemDecoration on top of the element","body":"<p>I'm trying to add a divider on top of my element in a RecyclerView.</p>\n\n<p>Following google i've succeded to add a DividerItemDecoration, the code is as below:</p>\n\n<p><strong>DividerItemDecoration:</strong></p>\n\n<pre><code>public class DividerItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate static final int[] ATTRS = new int[]{\n        android.R.attr.listDivider\n};\n\npublic static final int HORIZONTAL_LIST = LinearLayoutManager.HORIZONTAL;\npublic static final int VERTICAL_LIST = LinearLayoutManager.VERTICAL;\nprivate Drawable mDivider;\nprivate int mOrientation;\n\npublic DividerItemDecoration(Context context, int orientation) {\n    final TypedArray a = context.obtainStyledAttributes(ATTRS);\n    mDivider = a.getDrawable(0);\n    a.recycle();\n    setOrientation(orientation);\n}\n\npublic void setOrientation(int orientation) {\n    if (orientation != HORIZONTAL_LIST &amp;&amp; orientation != VERTICAL_LIST) {\n        throw new IllegalArgumentException(\"invalid orientation\");\n    }\n    mOrientation = orientation;\n}\n\n@Override\npublic void onDrawOver(Canvas c, RecyclerView parent, RecyclerView.State state) {\n    if (mOrientation == VERTICAL_LIST) {\n        drawVertical(c, parent);\n    } else {\n        drawHorizontal(c, parent);\n    }\n}\n\npublic void drawVertical(Canvas c, RecyclerView parent) {\n    final int left = parent.getPaddingLeft();\n    final int right = parent.getWidth() - parent.getPaddingRight();\n\n    final int childCount = parent.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        final View child = parent.getChildAt(i);\n        final RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child\n                .getLayoutParams();\n        final int top = child.getBottom() + params.bottomMargin;\n        final int bottom = top + mDivider.getIntrinsicHeight();\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n}\n\npublic void drawHorizontal(Canvas c, RecyclerView parent) {\n    final int top = parent.getPaddingTop();\n    final int bottom = parent.getHeight() - parent.getPaddingBottom();\n\n    final int childCount = parent.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        final View child = parent.getChildAt(i);\n        final RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) child\n                .getLayoutParams();\n        final int left = child.getRight() + params.rightMargin;\n        final int right = left + mDivider.getIntrinsicHeight();\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n}\n\n@Override\npublic void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n    if (mOrientation == VERTICAL_LIST) {\n        outRect.set(0, 0, 0, mDivider.getIntrinsicHeight());\n    } else {\n        outRect.set(0, 0, mDivider.getIntrinsicWidth(), 0);\n    }\n}\n}\n</code></pre>\n\n<p><strong>The result:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/YfE3h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YfE3h.png\" alt=\"DividerItemDecoration\"></a></p>\n\n<p><strong>What i'm trying to accomplish:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/H1Srn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/H1Srn.png\" alt=\"DividerItemDecorationResult\"></a></p>\n\n<p>I've tried to play with the offset and the index but didn't get expected result.</p>\n\n<p>How can I add the same item divider on top of my elements?</p>\n\n<p>Also in case of necessary i've leave my layout of the row, here is the code:</p>\n\n<p><strong>Row:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvDescrizione\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:textStyle=\"italic\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvBarcode\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvData\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/tvDescrizione\"\n        android:layout_alignParentEnd=\"true\"\n        android:textColor=\"#000\"\n        android:textSize=\"18sp\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662659275,"creation_date":1662659275,"answer_id":73653207,"question_id":73653011,"body_markdown":"You could extend the conditional expression of the `while` loop as follows:\r\n\r\n\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\tdouble value;\r\n\t\twhile (!userInput.hasNextDouble() || (value = userInput.nextDouble()) &lt; 0) {\r\n\t\t\tuserInput.nextLine(); // throws away bad input\r\n\t\t\tSystem.out.println(&quot;Please enter a valid, non-negative double value&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tarray[i] = value;\r\n\t}\r\n","title":"How to validate scanner so only non negative doubles are added to array?","body":"<p>You could extend the conditional expression of the <code>while</code> loop as follows:</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    double value;\n    while (!userInput.hasNextDouble() || (value = userInput.nextDouble()) &lt; 0) {\n        userInput.nextLine(); // throws away bad input\n        System.out.println(&quot;Please enter a valid, non-negative double value&quot;);\n    }\n    \n    array[i] = value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19585505,"reputation":71,"user_id":14333706,"display_name":"nejlasahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662662093,"creation_date":1662662093,"answer_id":73653676,"question_id":73653011,"body_markdown":"I tried using do-while instead of while. So I can access the input first.\r\n\r\n    public static double[] createArray() {\r\n            Scanner userInput = new Scanner(System.in);\r\n            double[] array = new double[10];\r\n            double value;\r\n            boolean isValid;\r\n            System.out.println(&quot;Input 10 non-negative double numbers&quot;);\r\n    \r\n            for(int i = 0 ; i &lt; array.length ; i++) {\r\n                //input validation\r\n                do {\r\n                    value = userInput.hasNextDouble() ? userInput.nextDouble() : 0;\r\n                    if(value &gt; 0) {\r\n                        array[i] = value;\r\n                        isValid = true;\r\n                    }else {\r\n                        System.out.println(&quot;Please input a valid double input&quot;);\r\n                        isValid = false;\r\n                    }\r\n                }while(!isValid);\r\n    \r\n            }\r\n            userInput.close();\r\n            return array;\r\n        }","title":"How to validate scanner so only non negative doubles are added to array?","body":"<p>I tried using do-while instead of while. So I can access the input first.</p>\n<pre><code>public static double[] createArray() {\n        Scanner userInput = new Scanner(System.in);\n        double[] array = new double[10];\n        double value;\n        boolean isValid;\n        System.out.println(&quot;Input 10 non-negative double numbers&quot;);\n\n        for(int i = 0 ; i &lt; array.length ; i++) {\n            //input validation\n            do {\n                value = userInput.hasNextDouble() ? userInput.nextDouble() : 0;\n                if(value &gt; 0) {\n                    array[i] = value;\n                    isValid = true;\n                }else {\n                    System.out.println(&quot;Please input a valid double input&quot;);\n                    isValid = false;\n                }\n            }while(!isValid);\n\n        }\n        userInput.close();\n        return array;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662687933,"creation_date":1662687933,"answer_id":73656531,"question_id":73653011,"body_markdown":"My approach would be, in the for loop of your createArray method to first **get the input**, then use **while loop to see if input is less than 0** in which case you will prompt the user to input a positive number. This will loop until a positive input is received.\r\n\r\nI have tested it on my end and seem to get the results you are looking for.\r\nYour createArray method should look something like this:\r\n\r\n    public static double[] createArray() {\r\n        Scanner userInput = new Scanner(System.in);\r\n        double[] array = new double[10];\r\n        System.out.println(&quot;Input 10 non-negative double numbers&quot;);\r\n\r\n        for(int i = 0 ; i &lt; array.length ; i++) {\r\n            //input validation\r\n            double input = userInput.nextDouble();\r\n            while (input &lt; 0) {\r\n                System.out.println(&quot;Please input a positive number&quot;);\r\n                input = userInput.nextDouble();\r\n            }\r\n            array[i] = input;\r\n        }\r\n\r\n        userInput.close();\r\n        return array;\r\n    }","title":"How to validate scanner so only non negative doubles are added to array?","body":"<p>My approach would be, in the for loop of your createArray method to first <strong>get the input</strong>, then use <strong>while loop to see if input is less than 0</strong> in which case you will prompt the user to input a positive number. This will loop until a positive input is received.</p>\n<p>I have tested it on my end and seem to get the results you are looking for.\nYour createArray method should look something like this:</p>\n<pre><code>public static double[] createArray() {\n    Scanner userInput = new Scanner(System.in);\n    double[] array = new double[10];\n    System.out.println(&quot;Input 10 non-negative double numbers&quot;);\n\n    for(int i = 0 ; i &lt; array.length ; i++) {\n        //input validation\n        double input = userInput.nextDouble();\n        while (input &lt; 0) {\n            System.out.println(&quot;Please input a positive number&quot;);\n            input = userInput.nextDouble();\n        }\n        array[i] = input;\n    }\n\n    userInput.close();\n    return array;\n}\n</code></pre>\n"}],"owner":{"account_id":20575588,"reputation":1,"user_id":15102852,"display_name":"Levy Ocampo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662687933,"creation_date":1662658100,"question_id":73653011,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class ArrayReview {\r\n    public static void main(String[] args){\r\n        double[] doublesArray = createArray();\r\n        printArray(doublesArray);\r\n    }\r\n\r\n    //&quot;input method&quot; create array of 10 doubles\r\n    public static double[] createArray() {\r\n        Scanner userInput = new Scanner(System.in);\r\n        double[] array = new double[10];\r\n        System.out.println(&quot;Input 10 non-negative double numbers&quot;);\r\n        for(int i = 0 ; i &lt; array.length ; i++) {\r\n            //input validation\r\n            while(!userInput.hasNextDouble()) {\r\n                userInput.nextLine(); //throws away bad input\r\n                System.out.println(&quot;Please input a valid double input&quot;);\r\n            }\r\n            if(userInput.hasNextDouble()) {\r\n                array[i] = userInput.nextDouble();\r\n            }\r\n        }\r\n        userInput.close();\r\n        return array;\r\n    }\r\n\r\n    //print all values in an array of doubles\r\n    public static void printArray(double[] array) {\r\n        for(int i = 0 ; i &lt; array.length ; i++) {\r\n            System.out.print(array[i] + &quot; &quot;);\r\n        }\r\n    }\r\n    }\r\nI need to validate all the users input so that only non negative numbers are allowed into the array. Currently I was able to check if the user inputs a letter or special character but negative numbers are still able to go into the array.\r\n\r\nI&#39;ve tried using the &quot;&lt;&quot; operand in the while statement to see if the userInput&lt;0 but i&#39;m getting an error if i do that. Would I be better off making a method that is solely dedicated to checking if its a negative or not or is there an easier way?","title":"How to validate scanner so only non negative doubles are added to array?","body":"<pre><code>import java.util.Scanner;\n\npublic class ArrayReview {\npublic static void main(String[] args){\n    double[] doublesArray = createArray();\n    printArray(doublesArray);\n}\n\n//&quot;input method&quot; create array of 10 doubles\npublic static double[] createArray() {\n    Scanner userInput = new Scanner(System.in);\n    double[] array = new double[10];\n    System.out.println(&quot;Input 10 non-negative double numbers&quot;);\n    for(int i = 0 ; i &lt; array.length ; i++) {\n        //input validation\n        while(!userInput.hasNextDouble()) {\n            userInput.nextLine(); //throws away bad input\n            System.out.println(&quot;Please input a valid double input&quot;);\n        }\n        if(userInput.hasNextDouble()) {\n            array[i] = userInput.nextDouble();\n        }\n    }\n    userInput.close();\n    return array;\n}\n\n//print all values in an array of doubles\npublic static void printArray(double[] array) {\n    for(int i = 0 ; i &lt; array.length ; i++) {\n        System.out.print(array[i] + &quot; &quot;);\n    }\n}\n}\n</code></pre>\n<p>I need to validate all the users input so that only non negative numbers are allowed into the array. Currently I was able to check if the user inputs a letter or special character but negative numbers are still able to go into the array.</p>\n<p>I've tried using the &quot;&lt;&quot; operand in the while statement to see if the userInput&lt;0 but i'm getting an error if i do that. Would I be better off making a method that is solely dedicated to checking if its a negative or not or is there an easier way?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":11810243,"reputation":364,"user_id":8641842,"display_name":"nightblade9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662687576,"creation_date":1662687576,"answer_id":73656510,"question_id":73655683,"body_markdown":"I found the culprit in the application server logs:\r\n\r\n```\r\nNo active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\nLooks like I somehow ended up with multiple run configurations in IntelliJ IDEA; deleting them all so that there&#39;s only one, and setting the profile via the environment variable `spring.profiles.active=dev` fixed it.","title":"OAuth2: WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39;","body":"<p>I found the culprit in the application server logs:</p>\n<pre><code>No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Looks like I somehow ended up with multiple run configurations in IntelliJ IDEA; deleting them all so that there's only one, and setting the profile via the environment variable <code>spring.profiles.active=dev</code> fixed it.</p>\n"}],"owner":{"account_id":11810243,"reputation":364,"user_id":8641842,"display_name":"nightblade9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73656510,"answer_count":1,"score":0,"last_activity_date":1662687576,"creation_date":1662677257,"question_id":73655683,"body_markdown":"I&#39;m following along with [this Spring Boot tutorial](https://spring.io/guides/tutorials/spring-boot-oauth2/). I got the application running, registered with GitHub for OAuth, and I&#39;m able to authenticate via GitHub, get redirected to my application, and see the index page.\r\n\r\nOn the same tutorial, there&#39;s a section named &quot;Making the Home Page Public&quot; which suggests modifying your application with a couple of changes: extending `WebSecurityConfigurerAdapter` (which was recently deprecated), and adding this method:\r\n\r\n```java\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests(a -&gt; a\r\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n            )\r\n            .exceptionHandling(e -&gt; e\r\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n            )\r\n            .oauth2Login();\r\n    }\r\n```\r\n\r\nAdding this, causes my application to no longer run; when I run the `bootRun` gradle task, I get an error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nMethod springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; in your configuration.\r\n\r\n\r\n&gt; Task :bootRun FAILED\r\n```\r\n\r\nI tried looking for solutions on how to add the `ClientRegistrationRepository`. My understanding is that this class is only used when your application is becoming an OAuth provider.\r\n\r\nAlternatively, if I&#39;m solving the wrong problem - if there&#39;s a way to enable unauthenticated users to access the home/`index.html` page without using this method, I am open to doing that instead. ","title":"OAuth2: WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39;","body":"<p>I'm following along with <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">this Spring Boot tutorial</a>. I got the application running, registered with GitHub for OAuth, and I'm able to authenticate via GitHub, get redirected to my application, and see the index page.</p>\n<p>On the same tutorial, there's a section named &quot;Making the Home Page Public&quot; which suggests modifying your application with a couple of changes: extending <code>WebSecurityConfigurerAdapter</code> (which was recently deprecated), and adding this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests(a -&gt; a\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .exceptionHandling(e -&gt; e\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n            )\n            .oauth2Login();\n    }\n</code></pre>\n<p>Adding this, causes my application to no longer run; when I run the <code>bootRun</code> gradle task, I get an error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nMethod springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.\n\n\n&gt; Task :bootRun FAILED\n</code></pre>\n<p>I tried looking for solutions on how to add the <code>ClientRegistrationRepository</code>. My understanding is that this class is only used when your application is becoming an OAuth provider.</p>\n<p>Alternatively, if I'm solving the wrong problem - if there's a way to enable unauthenticated users to access the home/<code>index.html</code> page without using this method, I am open to doing that instead.</p>\n"},{"tags":["java","ietf-netmod-yang"],"comments":[{"owner":{"account_id":213453,"reputation":752,"user_id":466842,"accept_rate":50,"display_name":"Keshava "},"score":0,"creation_date":1406273899,"post_id":24950398,"comment_id":38777500,"body_markdown":"I finally used the Yangtools from OpenDaylight project.\nSee https://wiki.opendaylight.org/view/Main_Page.","body":"I finally used the Yangtools from OpenDaylight project. See <a href=\"https://wiki.opendaylight.org/view/Main_Page\" rel=\"nofollow noreferrer\">wiki.opendaylight.org/view/Main_Page</a>."}],"answers":[{"tags":[],"owner":{"account_id":4144556,"reputation":82,"user_id":3398704,"accept_rate":50,"display_name":"Sathya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1406274282,"creation_date":1406274282,"answer_id":24950562,"question_id":24950398,"body_markdown":"Yes, that&#39;s true.\r\n\r\nUse yang-parser-impl from Open daylight.\r\nIt provides a yang parser  and returns a set of parsed modules.\r\nWhich you can further query to get more node objects.","title":"Parsing YANG Model in java","body":"<p>Yes, that's true.</p>\n\n<p>Use yang-parser-impl from Open daylight.\nIt provides a yang parser  and returns a set of parsed modules.\nWhich you can further query to get more node objects.</p>\n"},{"tags":[],"owner":{"account_id":1720985,"reputation":11,"user_id":3484548,"display_name":"Vithun Venugopalan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463581704,"creation_date":1463581704,"answer_id":37302561,"question_id":24950398,"body_markdown":"The above API is valid for previous versions. Use the following API for the current version\r\n\r\n\t\tYangTextSchemaContextResolver yangContextResolver = YangTextSchemaContextResolver.create(&quot;yang-context-resolver&quot;);\r\n\r\n\t\tyangContextResolver.registerSource(new URL(&quot;file:///home/ABA/XXX/Workspaces/ABC/X/config.yang&quot;));\r\n\t\tyangContextResolver.registerSource(new URL(&quot;file:///home/ABC/XXX/Workspaces/ABC/X/XXX-YY.yang&quot;));\r\n\t\t\r\n\t\t\r\n\t\tOptional&lt;SchemaContext&gt; sc = yangContextResolver.getSchemaContext();","title":"Parsing YANG Model in java","body":"<p>The above API is valid for previous versions. Use the following API for the current version</p>\n\n<pre><code>    YangTextSchemaContextResolver yangContextResolver = YangTextSchemaContextResolver.create(\"yang-context-resolver\");\n\n    yangContextResolver.registerSource(new URL(\"file:///home/ABA/XXX/Workspaces/ABC/X/config.yang\"));\n    yangContextResolver.registerSource(new URL(\"file:///home/ABC/XXX/Workspaces/ABC/X/XXX-YY.yang\"));\n\n\n    Optional&lt;SchemaContext&gt; sc = yangContextResolver.getSchemaContext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26286506,"reputation":1,"user_id":19954121,"display_name":"frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662687422,"creation_date":1662687422,"answer_id":73656496,"question_id":24950398,"body_markdown":"you can use [Yangkit][1] parser.\r\n\r\nmaven dependency\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.yang-central.yangkit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;yangkit-parser&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    YangSchemaContext schemaContext = YangYinParser.parse(&quot;yangdir&quot;);\r\n    schemaContext.validate();\r\n\r\n  [1]: https://github.com/yang-central/yangkit","title":"Parsing YANG Model in java","body":"<p>you can use <a href=\"https://github.com/yang-central/yangkit\" rel=\"nofollow noreferrer\">Yangkit</a> parser.</p>\n<p>maven dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.yang-central.yangkit&lt;/groupId&gt;\n    &lt;artifactId&gt;yangkit-parser&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\nYangSchemaContext schemaContext = YangYinParser.parse(&quot;yangdir&quot;);\nschemaContext.validate();\n</code></pre>\n"}],"owner":{"account_id":213453,"reputation":752,"user_id":466842,"accept_rate":50,"display_name":"Keshava "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":24950562,"answer_count":3,"score":9,"last_activity_date":1662687422,"creation_date":1406273703,"question_id":24950398,"body_markdown":"How do I parse YANG models in java ? \r\nI need to convert the yang model into a xml format.\r\n\r\nI have already tried pyang. But since it is in python, it does not suite my requirement.\r\n","title":"Parsing YANG Model in java","body":"<p>How do I parse YANG models in java ? \nI need to convert the yang model into a xml format.</p>\n\n<p>I have already tried pyang. But since it is in python, it does not suite my requirement.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"score":0,"creation_date":1662660511,"post_id":73653333,"comment_id":130063395,"body_markdown":"Does [this](https://stackoverflow.com/a/687842/19926805) help you?","body":"Does <a href=\"https://stackoverflow.com/a/687842/19926805\">this</a> help you?"},{"owner":{"account_id":26201278,"reputation":21,"user_id":19881615,"display_name":"belinyom"},"score":0,"creation_date":1662663728,"post_id":73653333,"comment_id":130064338,"body_markdown":"Thank you very much, it did help. However, I did not understand the logic and reason behind .size starts with the value 1 and .get starts with the value 0 index in an array. Is it because that the 0 cannot be sized compared to 1 and 0 can be counted instead of sized?","body":"Thank you very much, it did help. However, I did not understand the logic and reason behind .size starts with the value 1 and .get starts with the value 0 index in an array. Is it because that the 0 cannot be sized compared to 1 and 0 can be counted instead of sized?"},{"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"score":0,"creation_date":1662665789,"post_id":73653333,"comment_id":130064938,"body_markdown":"In nearly every programming language, the 1st item of an array has the index 0. That&#39;s just a Language Specification.\nThe `.size()` method doesn&#39;t start with a 1. You could have an empty array, therefor the size would be 0.","body":"In nearly every programming language, the 1st item of an array has the index 0. That&#39;s just a Language Specification. The <code>.size()</code> method doesn&#39;t start with a 1. You could have an empty array, therefor the size would be 0."}],"answers":[{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662686655,"creation_date":1662686655,"answer_id":73656431,"question_id":73653333,"body_markdown":"From my understanding you want to print out the last item in the list.\r\n\r\nIf that is the case you can simply use the following code:\r\n\r\n    System.out.println(listOfNames.get(listOfNames.size() - 1));\r\n\r\nExplanation:\r\n\r\n`.get()` - this method of Collections Framework (which List is part of) **returns the element at a particular index**. Thus, in the parenthesis, we need to specify the index of the last element in the List.\r\n\r\n`.size()` - this method of Collections Framework **returns the number of elements in the List** (in this case). The number we get is how many items is in the List.\r\n\r\nNow, in most programming languages and situations **indexes start at a 0**.\r\nIf we use the size of the list as the index of the last item, that won&#39;t work as the index will be out of bounds.\r\n\r\nTo use your example, you have 4 names in the List, hence .size() will return `4`. \r\nSince the last index in the listOfNames List in your example is 3 (*because items are indexed 0, 1, 2, 3 - that is all four elements*), there is no item at index 4. So we would get a run-time error.\r\n\r\nA very simple and common solution is to simply **subtract 1 from the size**.\r\n\r\nHopefully this helps. It might be confusing at first but you will get used to it as most of the time indexes start at 0.\r\n\r\n","title":"How to output the last name from an array and user input using size.list in Java Netbeans","body":"<p>From my understanding you want to print out the last item in the list.</p>\n<p>If that is the case you can simply use the following code:</p>\n<pre><code>System.out.println(listOfNames.get(listOfNames.size() - 1));\n</code></pre>\n<p>Explanation:</p>\n<p><code>.get()</code> - this method of Collections Framework (which List is part of) <strong>returns the element at a particular index</strong>. Thus, in the parenthesis, we need to specify the index of the last element in the List.</p>\n<p><code>.size()</code> - this method of Collections Framework <strong>returns the number of elements in the List</strong> (in this case). The number we get is how many items is in the List.</p>\n<p>Now, in most programming languages and situations <strong>indexes start at a 0</strong>.\nIf we use the size of the list as the index of the last item, that won't work as the index will be out of bounds.</p>\n<p>To use your example, you have 4 names in the List, hence .size() will return <code>4</code>.\nSince the last index in the listOfNames List in your example is 3 (<em>because items are indexed 0, 1, 2, 3 - that is all four elements</em>), there is no item at index 4. So we would get a run-time error.</p>\n<p>A very simple and common solution is to simply <strong>subtract 1 from the size</strong>.</p>\n<p>Hopefully this helps. It might be confusing at first but you will get used to it as most of the time indexes start at 0.</p>\n"}],"owner":{"account_id":26201278,"reputation":21,"user_id":19881615,"display_name":"belinyom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73656431,"answer_count":1,"score":0,"last_activity_date":1662686655,"creation_date":1662660066,"question_id":73653333,"body_markdown":"I have been trying to get the last name in this list in order to output it using `list.size()`. However, `list.size()` only prints the number of names in an array.\r\n\r\nIs there a simpler way to explain how I can only record the last name (which is Anna in this case) and print it out when while loop is broken/stopped?\r\n\r\n\r\nThe following names are inputted by the user using scanner utility:\r\n\r\nJohn\r\n\r\nMarry \r\n\r\nAnderson\r\n\r\nAnna\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            ArrayList&lt;String&gt; listOfNames = new ArrayList&lt;&gt;();\r\n    \r\n            while (true) {\r\n                String input = scanner.nextLine();\r\n                if (input.equals(&quot;&quot;)) {\r\n                    System.out.println(listOfNames.size());\r\n                    break;\r\n                }\r\n                listOfNames.add(input);\r\n            }\r\n\r\n","title":"How to output the last name from an array and user input using size.list in Java Netbeans","body":"<p>I have been trying to get the last name in this list in order to output it using <code>list.size()</code>. However, <code>list.size()</code> only prints the number of names in an array.</p>\n<p>Is there a simpler way to explain how I can only record the last name (which is Anna in this case) and print it out when while loop is broken/stopped?</p>\n<p>The following names are inputted by the user using scanner utility:</p>\n<p>John</p>\n<p>Marry</p>\n<p>Anderson</p>\n<p>Anna</p>\n<pre><code>        Scanner scanner = new Scanner(System.in);\n        ArrayList&lt;String&gt; listOfNames = new ArrayList&lt;&gt;();\n\n        while (true) {\n            String input = scanner.nextLine();\n            if (input.equals(&quot;&quot;)) {\n                System.out.println(listOfNames.size());\n                break;\n            }\n            listOfNames.add(input);\n        }\n</code></pre>\n"},{"tags":["java","string","loops","binary"],"comments":[{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1585171779,"post_id":60857615,"comment_id":107673633,"body_markdown":"Are you allowed to use regular expressions?","body":"Are you allowed to use regular expressions?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1585171872,"post_id":60857615,"comment_id":107673666,"body_markdown":"@Marvin I doubt it (or rather it may not be forbidden, but it&#39;s not the expected solution). These kinds of assignments are usually meant to teach logical thinking. So while the answers provided here solve the problem, they don&#39;t help the learner.","body":"@Marvin I doubt it (or rather it may not be forbidden, but it&#39;s not the expected solution). These kinds of assignments are usually meant to teach logical thinking. So while the answers provided here solve the problem, they don&#39;t help the learner."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":2,"creation_date":1585171898,"post_id":60857615,"comment_id":107673679,"body_markdown":"if ((tempB == &#39;0&#39;) || (tempB == &#39;1&#39;)) {binCount = binCount + 1;} else...","body":"if ((tempB == &#39;0&#39;) || (tempB == &#39;1&#39;)) {binCount = binCount + 1;} else..."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1585171908,"post_id":60857615,"comment_id":107673682,"body_markdown":"With your loops, why not check each char is &#39;0&#39; or &#39;1&#39; ?","body":"With your loops, why not check each char is &#39;0&#39; or &#39;1&#39; ?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1585171912,"post_id":60857615,"comment_id":107673686,"body_markdown":"`return value.matches(&quot;^[01]+$&quot;)`","body":"<code>return value.matches(&quot;^[01]+$&quot;)</code>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1585172112,"post_id":60857615,"comment_id":107673749,"body_markdown":"You are calculating modulo of ASCII codes in the **decimal** system.","body":"You are calculating modulo of ASCII codes in the <b>decimal</b> system."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1585172359,"post_id":60857615,"comment_id":107673833,"body_markdown":"Please stop deleting this question!","body":"Please stop deleting this question!"},{"owner":{"account_id":17759202,"reputation":31,"user_id":12895550,"display_name":"TragicFlawz"},"score":0,"creation_date":1585179583,"post_id":60857615,"comment_id":107675994,"body_markdown":"@Marvin I am note sure what a regular expression is. In the assignment details it wants us to use a charAt() in the solution. I hope that answers the question.","body":"@Marvin I am note sure what a regular expression is. In the assignment details it wants us to use a charAt() in the solution. I hope that answers the question."},{"owner":{"account_id":17759202,"reputation":31,"user_id":12895550,"display_name":"TragicFlawz"},"score":0,"creation_date":1585179705,"post_id":60857615,"comment_id":107676021,"body_markdown":"@Johannes Kuhn I have not see that used in class before so I don&#39;t think I can use it. Thank you for your help though.","body":"@Johannes Kuhn I have not see that used in class before so I don&#39;t think I can use it. Thank you for your help though."},{"owner":{"account_id":17759202,"reputation":31,"user_id":12895550,"display_name":"TragicFlawz"},"score":0,"creation_date":1585179748,"post_id":60857615,"comment_id":107676031,"body_markdown":"@PM77-1 I am not sure what that means.","body":"@PM77-1 I am not sure what that means."},{"owner":{"account_id":17759202,"reputation":31,"user_id":12895550,"display_name":"TragicFlawz"},"score":0,"creation_date":1585182099,"post_id":60857615,"comment_id":107676585,"body_markdown":"@NomadMaker I get a out of bounds exception when I do that.","body":"@NomadMaker I get a out of bounds exception when I do that."},{"owner":{"account_id":7648649,"reputation":195,"user_id":5798300,"display_name":"T.kowshik Yedida"},"score":0,"creation_date":1614431461,"post_id":60857615,"comment_id":117386454,"body_markdown":"String x=&quot;100020&quot;;\n    x = x.replace(&quot;1&quot;,&quot;&quot;).replace(&quot;0&quot;,&quot;&quot;);\n    return x.length() == 0;","body":"String x=&quot;100020&quot;;     x = x.replace(&quot;1&quot;,&quot;&quot;).replace(&quot;0&quot;,&quot;&quot;);     return x.length() == 0;"}],"answers":[{"tags":[],"owner":{"account_id":5558433,"reputation":546,"user_id":4408910,"display_name":"tlong314"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585172546,"creation_date":1585172546,"answer_id":60857802,"question_id":60857615,"body_markdown":"I believe your issue is here: `int tempB = value.charAt(i);` You convert tempB into a char, which is being cast to an int. But that converts it to its ASCII int value, so each &#39;0&#39; char is cast to 48 and each &#39;1&#39; value is cast to 49. Note: neither 48 nor 49 is zero or one mod 10, so nothing is ever being added to bin.\r\n\r\nYou need to convert each char to its actual integer value (namely, zero or one), with String.valueOf or Character.getNumericValue:\r\n\r\nhttps://www.javatpoint.com/java-char-to-int\r\n\r\nOtherwise (besides the fact that you never use the b variable anywhere, so don&#39;t really need it) your logic looks pretty sound.","title":"How to check if a string is binary in Java","body":"<p>I believe your issue is here: <code>int tempB = value.charAt(i);</code> You convert tempB into a char, which is being cast to an int. But that converts it to its ASCII int value, so each '0' char is cast to 48 and each '1' value is cast to 49. Note: neither 48 nor 49 is zero or one mod 10, so nothing is ever being added to bin.</p>\n\n<p>You need to convert each char to its actual integer value (namely, zero or one), with String.valueOf or Character.getNumericValue:</p>\n\n<p><a href=\"https://www.javatpoint.com/java-char-to-int\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-char-to-int</a></p>\n\n<p>Otherwise (besides the fact that you never use the b variable anywhere, so don't really need it) your logic looks pretty sound.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585240465,"creation_date":1585186742,"answer_id":60859842,"question_id":60857615,"body_markdown":"Here is step by step analysis of your program.\r\n```\r\npublic static boolean validBinary(String value) {\r\n```\r\nGet rid of the following as it is not used.\r\n```\r\n    int b = Integer.parseInt(value);\r\n```\r\nInitializing `binCount` and starting the loop.\r\n```\r\n    int binCount = 0;\r\n    for(int i = 0; i &lt; value.length(); i++) {\r\n        int tempB = value.charAt(i);\r\n```\r\nThis is where the problem starts. Even though `tempB` is declared an `int` it still has the value of an ASCII character.  So &#39;0&#39; thru &#39;9&#39; are really 48 thru 57 inclusive.  So instead of converting to integers, just compare them as they exist which are characters.  In that case you can forget the % operator. So\r\nthe new if statement should be:\r\n```\r\n    if (tempB == &#39;0&#39; || tempB == &#39;1&#39;) {\r\n``` \r\ninstead of \r\n```\r\n    if(tempB % 10 == 0 || tempB % 10 == 1) {\r\n```\r\nKeep the rest of your code and the program should work just fine.\r\n```    \r\n      binCount = binCount + 1;\r\n    }\r\n    else {\r\n            binCount = -1;\r\n            break;\r\n        }\r\n    }\r\n    if (binCount &gt; 0) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n```\r\n## Possible Improvements ##\r\n\r\nThe whole point of the exercise is to validate whether the number is binary.  So you don&#39;t need any bookkeeping such as `bincount` do do that.  As soon as your test for `0` or `1` fails, just return `false`.  No need for further processing.  But if you finish checking the entire string and haven&#39;t failed the test, then all the characters must be 0 or 1. So return `true`.  That would look like this.\r\n\r\n```\r\n  for(int i = 0; i &lt; value.length(); i++) {\r\n        int tempB = value.charAt(i);\r\n        if (tempB == &#39;0&#39; || tempB == &#39;1&#39;) {\r\n             continue; // process next character.\r\n                       // continue skips rest of loop\r\n         }\r\n         return false;\r\n   }\r\n   // no failures, so\r\n   return true;\r\n```\r\nAlternative logic without the `continue` could be:\r\n```\r\n  for(int i = 0; i &lt; value.length(); i++) {\r\n        int tempB = value.charAt(i);\r\n        if (tempB != &#39;0&#39; &amp;&amp; tempB != &#39;1&#39;) {\r\n             return false;\r\n         }\r\n   }\r\n   // no failures, so\r\n   return true;","title":"How to check if a string is binary in Java","body":"<p>Here is step by step analysis of your program.</p>\n\n<pre><code>public static boolean validBinary(String value) {\n</code></pre>\n\n<p>Get rid of the following as it is not used.</p>\n\n<pre><code>    int b = Integer.parseInt(value);\n</code></pre>\n\n<p>Initializing <code>binCount</code> and starting the loop.</p>\n\n<pre><code>    int binCount = 0;\n    for(int i = 0; i &lt; value.length(); i++) {\n        int tempB = value.charAt(i);\n</code></pre>\n\n<p>This is where the problem starts. Even though <code>tempB</code> is declared an <code>int</code> it still has the value of an ASCII character.  So '0' thru '9' are really 48 thru 57 inclusive.  So instead of converting to integers, just compare them as they exist which are characters.  In that case you can forget the % operator. So\nthe new if statement should be:</p>\n\n<pre><code>    if (tempB == '0' || tempB == '1') {\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>    if(tempB % 10 == 0 || tempB % 10 == 1) {\n</code></pre>\n\n<p>Keep the rest of your code and the program should work just fine.</p>\n\n<pre><code>      binCount = binCount + 1;\n    }\n    else {\n            binCount = -1;\n            break;\n        }\n    }\n    if (binCount &gt; 0) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n</code></pre>\n\n<h2>Possible Improvements</h2>\n\n<p>The whole point of the exercise is to validate whether the number is binary.  So you don't need any bookkeeping such as <code>bincount</code> do do that.  As soon as your test for <code>0</code> or <code>1</code> fails, just return <code>false</code>.  No need for further processing.  But if you finish checking the entire string and haven't failed the test, then all the characters must be 0 or 1. So return <code>true</code>.  That would look like this.</p>\n\n<pre><code>  for(int i = 0; i &lt; value.length(); i++) {\n        int tempB = value.charAt(i);\n        if (tempB == '0' || tempB == '1') {\n             continue; // process next character.\n                       // continue skips rest of loop\n         }\n         return false;\n   }\n   // no failures, so\n   return true;\n</code></pre>\n\n<p>Alternative logic without the <code>continue</code> could be:</p>\n\n<pre><code>  for(int i = 0; i &lt; value.length(); i++) {\n        int tempB = value.charAt(i);\n        if (tempB != '0' &amp;&amp; tempB != '1') {\n             return false;\n         }\n   }\n   // no failures, so\n   return true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20825268,"reputation":1,"user_id":15295919,"display_name":"Shambhavi Rai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614430132,"creation_date":1614430132,"answer_id":66398974,"question_id":60857615,"body_markdown":"public static boolean validBinary(String value) {\r\n\r\n    int binCount = 0;\r\n    int len = value.length();\r\n    for(int i = 0; i &lt; len; i++) {\r\n        char tempB = value.charAt(i);\r\n        if(tempB == &#39;0&#39; || tempB == &#39;1&#39;) {\r\n            binCount = binCount + 1;\r\n            continue;\r\n        }\r\n        else {\r\n            binCount = -1;\r\n            break;\r\n        }\r\n    }\r\n    if (binCount &gt; 0) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n\r\n}","title":"How to check if a string is binary in Java","body":"<p>public static boolean validBinary(String value) {</p>\n<pre><code>int binCount = 0;\nint len = value.length();\nfor(int i = 0; i &lt; len; i++) {\n    char tempB = value.charAt(i);\n    if(tempB == '0' || tempB == '1') {\n        binCount = binCount + 1;\n        continue;\n    }\n    else {\n        binCount = -1;\n        break;\n    }\n}\nif (binCount &gt; 0) {\n    return true;\n}\nelse {\n    return false;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1439009,"reputation":53,"user_id":1359715,"display_name":"Sonny Benavides"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662686557,"creation_date":1662686557,"answer_id":73656425,"question_id":60857615,"body_markdown":"You could use a basic regular expression:\r\n\r\n    public static final String BIT_REGEX = &quot;[01]{1,}&quot;;\r\n    Pattern pattern = Pattern.compile(BIT_REGEX);\r\n    Matcher matcher = pattern.matcher(value);\r\n    isValid = matcher.matches();","title":"How to check if a string is binary in Java","body":"<p>You could use a basic regular expression:</p>\n<pre><code>public static final String BIT_REGEX = &quot;[01]{1,}&quot;;\nPattern pattern = Pattern.compile(BIT_REGEX);\nMatcher matcher = pattern.matcher(value);\nisValid = matcher.matches();\n</code></pre>\n"}],"owner":{"account_id":17759202,"reputation":31,"user_id":12895550,"display_name":"TragicFlawz"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6054,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":60859842,"answer_count":4,"score":-3,"last_activity_date":1662686557,"creation_date":1585171588,"question_id":60857615,"body_markdown":"```\r\n   /**\r\n     * Given a String as input, return true if the String represents a valid\r\n     * binary value (i.e. contains only the digits 1 and 0). Returns false if\r\n     * the String does not represent a binary value.\r\n     *\r\n     * @param value\r\n     *            A String value that may contain a binary value\r\n     * @return true if the String value contains a binary value, false otherwise\r\n     */\r\n```\r\nNo matter what I do it only returns false. I am new to programming and suck at seeing how the logic runs. \r\nThank you for any and all help.\r\n\r\n    public static boolean validBinary(String value) {\r\n    \t\r\n    \tint b = Integer.parseInt(value);\r\n    \tint binCount = 0;\r\n    \tfor(int i = 0; i &lt; value.length(); i++) {\r\n    \t\tint tempB = value.charAt(i);\r\n    \t\tif(tempB % 10 == 0 || tempB % 10 == 1) {\r\n    \t\t\tbinCount = binCount + 1;\r\n       \t\t}\r\n    \t\telse {\r\n                binCount = -1;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \tif (binCount &gt; 0) {\r\n    \t\treturn true;\r\n    \t}\r\n    \telse {\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How to check if a string is binary in Java","body":"<pre><code>   /**\n     * Given a String as input, return true if the String represents a valid\n     * binary value (i.e. contains only the digits 1 and 0). Returns false if\n     * the String does not represent a binary value.\n     *\n     * @param value\n     *            A String value that may contain a binary value\n     * @return true if the String value contains a binary value, false otherwise\n     */\n</code></pre>\n\n<p>No matter what I do it only returns false. I am new to programming and suck at seeing how the logic runs. \nThank you for any and all help.</p>\n\n<pre><code>public static boolean validBinary(String value) {\n\n    int b = Integer.parseInt(value);\n    int binCount = 0;\n    for(int i = 0; i &lt; value.length(); i++) {\n        int tempB = value.charAt(i);\n        if(tempB % 10 == 0 || tempB % 10 == 1) {\n            binCount = binCount + 1;\n        }\n        else {\n            binCount = -1;\n            break;\n        }\n    }\n    if (binCount &gt; 0) {\n        return true;\n    }\n    else {\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jsqlparser"],"answers":[{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506596103,"creation_date":1506596103,"answer_id":46467406,"question_id":46467016,"body_markdown":"The easiest possibility is if you already have implemented a visitor to set this expression to \r\n\r\n    1 = 1\r\n\r\nthis would be done with something like\r\n\r\n    expr.setLeftExpression(new LongValue(1));\r\n    expr.setRightExpression(new LongValue(1));\r\n\r\nIf you want to completly remove this from your sql, you have to implement some kind of stack to keep track of previous visited parts of your sql, to get those objects you have your expression to remove from. But this is not trivial if you take parenthesis, calculations, etc. into account. \r\n\r\nIMHO keep it simple and try the simple replacement.","title":"Remove an expression in JSqlParser","body":"<p>The easiest possibility is if you already have implemented a visitor to set this expression to </p>\n\n<pre><code>1 = 1\n</code></pre>\n\n<p>this would be done with something like</p>\n\n<pre><code>expr.setLeftExpression(new LongValue(1));\nexpr.setRightExpression(new LongValue(1));\n</code></pre>\n\n<p>If you want to completly remove this from your sql, you have to implement some kind of stack to keep track of previous visited parts of your sql, to get those objects you have your expression to remove from. But this is not trivial if you take parenthesis, calculations, etc. into account. </p>\n\n<p>IMHO keep it simple and try the simple replacement.</p>\n"},{"tags":[],"owner":{"account_id":11569550,"reputation":79,"user_id":8476706,"display_name":"muk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662683557,"creation_date":1662683557,"answer_id":73656198,"question_id":46467016,"body_markdown":"you can use DeParser to rewrite sql.\r\n\r\n    final Statement statement = CCJSqlParserUtil.parse(sql);\r\n    Select select = (Select) statement;\r\n    final SelectBody selectBody = select.getSelectBody();\r\n    final PlainSelect plainSelect = (PlainSelect) selectBody;\r\n    \r\n    final StringBuilder buffer = new StringBuilder();\r\n    final SelectDeParser selectDeParser = new SelectDeParser();\r\n    final ExpressionDeParser expressionDeParser = new ExpressionDeParser(null, buffer) {\r\n        @Override\r\n        public void visit(EqualsTo equalsTo) {\r\n            if (equalsTo.getLeftExpression() instanceof Column &amp;&amp; equalsTo.getRightExpression() instanceof Column jdbcParameter) {\r\n                // do nothing\r\n            }else{\r\n                super.visit(equalsTo);\r\n            }\r\n        }\r\n    };\r\n    selectDeParser.setExpressionVisitor(expressionDeParser);\r\n    selectDeParser.setBuffer(buffer);\r\n    \r\n    plainSelect.accept(selectDeParser);\r\n    \r\n    System.out.println(buffer.toString());","title":"Remove an expression in JSqlParser","body":"<p>you can use DeParser to rewrite sql.</p>\n<pre><code>final Statement statement = CCJSqlParserUtil.parse(sql);\nSelect select = (Select) statement;\nfinal SelectBody selectBody = select.getSelectBody();\nfinal PlainSelect plainSelect = (PlainSelect) selectBody;\n\nfinal StringBuilder buffer = new StringBuilder();\nfinal SelectDeParser selectDeParser = new SelectDeParser();\nfinal ExpressionDeParser expressionDeParser = new ExpressionDeParser(null, buffer) {\n    @Override\n    public void visit(EqualsTo equalsTo) {\n        if (equalsTo.getLeftExpression() instanceof Column &amp;&amp; equalsTo.getRightExpression() instanceof Column jdbcParameter) {\n            // do nothing\n        }else{\n            super.visit(equalsTo);\n        }\n    }\n};\nselectDeParser.setExpressionVisitor(expressionDeParser);\nselectDeParser.setBuffer(buffer);\n\nplainSelect.accept(selectDeParser);\n\nSystem.out.println(buffer.toString());\n</code></pre>\n"}],"owner":{"account_id":10672199,"reputation":771,"user_id":8154723,"accept_rate":50,"display_name":"Tomer Shay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46467406,"answer_count":2,"score":0,"last_activity_date":1662683557,"creation_date":1506595018,"question_id":46467016,"body_markdown":"I&#39;m trying to find the easiest way to remove an expression (for example, a condition) from a query parsed with JSQLParser.\r\n\r\nLet&#39;s assume I have the following query (no real logic here):\r\n\r\n    select a,b,c from table where a &gt; 1 and c &gt; 4 and a = b\r\n\r\nAssuming that, I would like to remove one of the conditions, say &quot;a = b&quot;, what would be the best way?\r\n\r\nI used the following code to track down the condition that has two columns in an &quot;EqualTo&quot; expression, but now that I have the expression object in hand, I&#39;m not sure what&#39;s the best way to remove it from the where clause.\r\n\r\n    subselect.getWhere().accept(new ExpressionVisitorAdapter() {\r\n          @Override\r\n          public void visit(EqualsTo expr) {\r\n               if (expr.getLeftExpression() instanceof Column &amp;&amp; expr.getRightExpression() instanceof Column &amp;&amp;\r\n                      ((Column)expr.getLeftExpression()).getTable() != ((Column)expr.getRightExpression()).getTable()) {\r\n                   // Now what?\r\n               }\r\n          }\r\n    });","title":"Remove an expression in JSqlParser","body":"<p>I'm trying to find the easiest way to remove an expression (for example, a condition) from a query parsed with JSQLParser.</p>\n\n<p>Let's assume I have the following query (no real logic here):</p>\n\n<pre><code>select a,b,c from table where a &gt; 1 and c &gt; 4 and a = b\n</code></pre>\n\n<p>Assuming that, I would like to remove one of the conditions, say \"a = b\", what would be the best way?</p>\n\n<p>I used the following code to track down the condition that has two columns in an \"EqualTo\" expression, but now that I have the expression object in hand, I'm not sure what's the best way to remove it from the where clause.</p>\n\n<pre><code>subselect.getWhere().accept(new ExpressionVisitorAdapter() {\n      @Override\n      public void visit(EqualsTo expr) {\n           if (expr.getLeftExpression() instanceof Column &amp;&amp; expr.getRightExpression() instanceof Column &amp;&amp;\n                  ((Column)expr.getLeftExpression()).getTable() != ((Column)expr.getRightExpression()).getTable()) {\n               // Now what?\n           }\n      }\n});\n</code></pre>\n"},{"tags":["java","android-studio","scrollview","android-constraintlayout","constraintlayout-barrier"],"comments":[{"owner":{"account_id":10455387,"reputation":1093,"user_id":8387076,"display_name":"Wrichik Basu"},"score":0,"creation_date":1662362879,"post_id":73604167,"comment_id":129980036,"body_markdown":"Can you try adding the following to the `ScrollView`: `android:fitsSystemWindows=&quot;false&quot;` \n`android:scrollbars=&quot;vertical&quot;` and let me know if it works?","body":"Can you try adding the following to the <code>ScrollView</code>: <code>android:fitsSystemWindows=&quot;false&quot;</code>  <code>android:scrollbars=&quot;vertical&quot;</code> and let me know if it works?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1662500776,"post_id":73604167,"comment_id":130018934,"body_markdown":"Your new layout works OK in my emulator. Is something else happening with the layout? Without further information, I don&#39;t think anyone will be able to assist you. Posting a sample project that exhibits the problem may help.","body":"Your new layout works OK in my emulator. Is something else happening with the layout? Without further information, I don&#39;t think anyone will be able to assist you. Posting a sample project that exhibits the problem may help."},{"owner":{"account_id":19993652,"reputation":11,"user_id":16346247,"display_name":"Gab"},"score":0,"creation_date":1662523765,"post_id":73604167,"comment_id":130022187,"body_markdown":"I used 2.7 QVGA emulator to get the small screen size phone effect. Which emulator did you use ? Are there emulators that have compatibility problem with scrollview or scrolling effects?  I am very new in using android studio or into developing android app, so pardon some of my questions if they sound basic  ?","body":"I used 2.7 QVGA emulator to get the small screen size phone effect. Which emulator did you use ? Are there emulators that have compatibility problem with scrollview or scrolling effects?  I am very new in using android studio or into developing android app, so pardon some of my questions if they sound basic  ?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1662525949,"post_id":73604167,"comment_id":130022530,"body_markdown":"I was using a Nexus 5 emulator but I tried you 2.7 QVGA emulator and I still get a full scroll. Something else is going on that is not evident from your question. Can you post what you are seeing? Maybe that will give a clue.","body":"I was using a Nexus 5 emulator but I tried you 2.7 QVGA emulator and I still get a full scroll. Something else is going on that is not evident from your question. Can you post what you are seeing? Maybe that will give a clue."},{"owner":{"account_id":19993652,"reputation":11,"user_id":16346247,"display_name":"Gab"},"score":0,"creation_date":1662540337,"post_id":73604167,"comment_id":130026667,"body_markdown":"Thanks for this. I think it is good to know that you are not experiencing any problem from your side. I have just uploaded a screenshot of my android studio working environment.  let me know if it helps or not and we see what next to do.","body":"Thanks for this. I think it is good to know that you are not experiencing any problem from your side. I have just uploaded a screenshot of my android studio working environment.  let me know if it helps or not and we see what next to do."},{"owner":{"account_id":19993652,"reputation":11,"user_id":16346247,"display_name":"Gab"},"score":0,"creation_date":1662540740,"post_id":73604167,"comment_id":130026834,"body_markdown":"Could it be a code missing in the themes, gradle or manifest ? Some code I may need to add that I have not done ?","body":"Could it be a code missing in the themes, gradle or manifest ? Some code I may need to add that I have not done ?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1662558180,"post_id":73604167,"comment_id":130033799,"body_markdown":"You layout now has all constraints defined. I can&#39;t reproduce the scrolling issue, so I have nothing further to add.","body":"You layout now has all constraints defined. I can&#39;t reproduce the scrolling issue, so I have nothing further to add."},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1662684252,"post_id":73604167,"comment_id":130068502,"body_markdown":"I&#39;ve tried the above XML on the same emulator that you are using with `API 28`. I recommend you start a new project and only add the above and see if it works or not. If it does work then, you have to compare or complete working on the new project!","body":"I&#39;ve tried the above XML on the same emulator that you are using with <code>API 28</code>. I recommend you start a new project and only add the above and see if it works or not. If it does work then, you have to compare or complete working on the new project!"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662381845,"creation_date":1662381845,"answer_id":73609584,"question_id":73604167,"body_markdown":"The _TextViews_ &quot;textView2&quot;, &quot;textView3&quot; and &quot;textView4&quot; do not have vertical constraints. They probably look OK in the Android Studio designer because they have ` tools:layout_editor_absoluteY=&quot;420dp&quot;` set. That setting only has value in the designer and has no effect when the app is run. Without a vertical contraint, the view will shift to the top.\r\n\r\nMake sure all of your view have horizontal and vertical constraints set.","title":"What am I doing wrong: Constraintlayout inside ScrollView in Android Studio not scrolling to the end","body":"<p>The <em>TextViews</em> &quot;textView2&quot;, &quot;textView3&quot; and &quot;textView4&quot; do not have vertical constraints. They probably look OK in the Android Studio designer because they have <code> tools:layout_editor_absoluteY=&quot;420dp&quot;</code> set. That setting only has value in the designer and has no effect when the app is run. Without a vertical contraint, the view will shift to the top.</p>\n<p>Make sure all of your view have horizontal and vertical constraints set.</p>\n"}],"owner":{"account_id":19993652,"reputation":11,"user_id":16346247,"display_name":"Gab"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662683329,"creation_date":1662346506,"question_id":73604167,"body_markdown":"I am not sure what I am doing wrong. I have read most of the samples I could find on YouTube and other places and tried the solutions they gave, but have not been able to resolve my issue. \r\n\r\nThe issue is that I am using `ConstraintLayout` inside `ScrollView`. I try to scroll, it does not really scroll at all. Therefore, some elements at the bottom are not shown. Below is my code. What am I doing wrong?\r\n\r\nThe below code is edited to include the corrections given and it is still not working. I really appreciate you suggestions and your intentions to help.\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n       &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/scrolvw&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:fitsSystemWindows=&quot;false&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n    \r\n    \r\n    \r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    \r\n            android:id=&quot;@+id/constLay&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:context=&quot;.RegisterActivity&quot;&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/regAppLogo&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:contentDescription=&quot;@string/fambuk_logo&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/firstNameInputLayout&quot;\r\n                app:layout_constraintDimensionRatio=&quot;3:0.45&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:srcCompat=&quot;@mipmap/fambuklogo&quot;\r\n                tools:ignore=&quot;ImageContrastCheck&quot; /&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/firstNameInputLayout&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n                android:layout_width=&quot;280dp&quot;\r\n    \r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginStart=&quot;1dp&quot;\r\n                android:layout_marginLeft=&quot;1dp&quot;\r\n                android:layout_marginEnd=&quot;1dp&quot;\r\n                android:layout_marginRight=&quot;1dp&quot;\r\n                android:hint=&quot;First name&quot;\r\n    \r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/lastnameInputLayout&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/regAppLogo&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/firstNameEditText&quot;\r\n                    style=&quot;@style/Widget.Design.TextInputLayout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:height=&quot;48dp&quot;\r\n    \r\n                    app:layout_constraintDimensionRatio=&quot;5:1&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/lastnameInputLayout&quot;\r\n                style=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n                android:layout_width=&quot;280dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginTop=&quot;14dp&quot;\r\n                android:hint=&quot;Last name&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/userNameInputLayout&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/firstNameInputLayout&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/lastNameEditText&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/userNameInputLayout&quot;\r\n                style=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n                android:layout_width=&quot;280dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginStart=&quot;1dp&quot;\r\n                android:layout_marginLeft=&quot;1dp&quot;\r\n                android:layout_marginTop=&quot;14dp&quot;\r\n                android:layout_marginEnd=&quot;1dp&quot;\r\n                android:layout_marginRight=&quot;1dp&quot;\r\n                android:hint=&quot;Username&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/emailLayout&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/lastnameInputLayout&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/userNameEditText&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/emailLayout&quot;\r\n                android:layout_width=&quot;280dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginStart=&quot;1dp&quot;\r\n                android:layout_marginLeft=&quot;1dp&quot;\r\n                android:layout_marginTop=&quot;14dp&quot;\r\n                android:layout_marginEnd=&quot;1dp&quot;\r\n                android:layout_marginRight=&quot;1dp&quot;\r\n                android:hint=&quot;Email&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/passInputLayout&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/userNameInputLayout&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/emailEditText&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/passInputLayout&quot;\r\n                android:layout_width=&quot;280dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginStart=&quot;1dp&quot;\r\n                android:layout_marginLeft=&quot;1dp&quot;\r\n                android:layout_marginTop=&quot;14dp&quot;\r\n                android:layout_marginEnd=&quot;1dp&quot;\r\n                android:layout_marginRight=&quot;1dp&quot;\r\n                android:hint=&quot;Password&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/emailLayout&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.textfield.TextInputEditText\r\n                    android:id=&quot;@+id/passEditText&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;36dp&quot;\r\n    \r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/passInputLayout&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot;\r\n                    tools:layout_editor_absoluteX=&quot;-2dp&quot; /&gt;\r\n    \r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:layout_marginTop=&quot;14dp&quot;\r\n                android:text=&quot;Sign up&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/passInputLayout&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:text=&quot;Already have an account ?&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:text=&quot;Sign in&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.473&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/textView2&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.Guideline\r\n                android:id=&quot;@+id/guideline6&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                app:layout_constraintGuide_begin=&quot;20dp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView4&quot;\r\n                android:layout_width=&quot;255dp&quot;\r\n                android:layout_height=&quot;23dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n    \r\n                android:orientation=&quot;horizontal&quot;\r\n                android:text=&quot;By signing up you agree with our terms and conditions&quot;\r\n                android:visibility=&quot;visible&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n[![Screenshot of what shows up from the code][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ne1eS.png\r\n  ","title":"What am I doing wrong: Constraintlayout inside ScrollView in Android Studio not scrolling to the end","body":"<p>I am not sure what I am doing wrong. I have read most of the samples I could find on YouTube and other places and tried the solutions they gave, but have not been able to resolve my issue.</p>\n<p>The issue is that I am using <code>ConstraintLayout</code> inside <code>ScrollView</code>. I try to scroll, it does not really scroll at all. Therefore, some elements at the bottom are not shown. Below is my code. What am I doing wrong?</p>\n<p>The below code is edited to include the corrections given and it is still not working. I really appreciate you suggestions and your intentions to help.</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/scrolvw&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:fillViewport=&quot;true&quot;\n    android:fitsSystemWindows=&quot;false&quot;\n    android:scrollbars=&quot;vertical&quot;\n\n\n\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n\n        android:id=&quot;@+id/constLay&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:context=&quot;.RegisterActivity&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/regAppLogo&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:contentDescription=&quot;@string/fambuk_logo&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/firstNameInputLayout&quot;\n            app:layout_constraintDimensionRatio=&quot;3:0.45&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:srcCompat=&quot;@mipmap/fambuklogo&quot;\n            tools:ignore=&quot;ImageContrastCheck&quot; /&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/firstNameInputLayout&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n            android:layout_width=&quot;280dp&quot;\n\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginStart=&quot;1dp&quot;\n            android:layout_marginLeft=&quot;1dp&quot;\n            android:layout_marginEnd=&quot;1dp&quot;\n            android:layout_marginRight=&quot;1dp&quot;\n            android:hint=&quot;First name&quot;\n\n            app:layout_constraintBottom_toTopOf=&quot;@+id/lastnameInputLayout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/regAppLogo&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/firstNameEditText&quot;\n                style=&quot;@style/Widget.Design.TextInputLayout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:height=&quot;48dp&quot;\n\n                app:layout_constraintDimensionRatio=&quot;5:1&quot;\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/lastnameInputLayout&quot;\n            style=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\n            android:layout_width=&quot;280dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginTop=&quot;14dp&quot;\n            android:hint=&quot;Last name&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/userNameInputLayout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/firstNameInputLayout&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/lastNameEditText&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/userNameInputLayout&quot;\n            style=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\n            android:layout_width=&quot;280dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginStart=&quot;1dp&quot;\n            android:layout_marginLeft=&quot;1dp&quot;\n            android:layout_marginTop=&quot;14dp&quot;\n            android:layout_marginEnd=&quot;1dp&quot;\n            android:layout_marginRight=&quot;1dp&quot;\n            android:hint=&quot;Username&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/emailLayout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/lastnameInputLayout&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/userNameEditText&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/emailLayout&quot;\n            android:layout_width=&quot;280dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginStart=&quot;1dp&quot;\n            android:layout_marginLeft=&quot;1dp&quot;\n            android:layout_marginTop=&quot;14dp&quot;\n            android:layout_marginEnd=&quot;1dp&quot;\n            android:layout_marginRight=&quot;1dp&quot;\n            android:hint=&quot;Email&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/passInputLayout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/userNameInputLayout&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/emailEditText&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/passInputLayout&quot;\n            android:layout_width=&quot;280dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginStart=&quot;1dp&quot;\n            android:layout_marginLeft=&quot;1dp&quot;\n            android:layout_marginTop=&quot;14dp&quot;\n            android:layout_marginEnd=&quot;1dp&quot;\n            android:layout_marginRight=&quot;1dp&quot;\n            android:hint=&quot;Password&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/emailLayout&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=&quot;@+id/passEditText&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;36dp&quot;\n\n                app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/passInputLayout&quot;\n                tools:ignore=&quot;TextContrastCheck&quot;\n                tools:layout_editor_absoluteX=&quot;-2dp&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:layout_marginTop=&quot;14dp&quot;\n            android:text=&quot;Sign up&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/passInputLayout&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView2&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Already have an account ?&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Sign in&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.473&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/textView2&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.Guideline\n            android:id=&quot;@+id/guideline6&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintGuide_begin=&quot;20dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView4&quot;\n            android:layout_width=&quot;255dp&quot;\n            android:layout_height=&quot;23dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n\n            android:orientation=&quot;horizontal&quot;\n            android:text=&quot;By signing up you agree with our terms and conditions&quot;\n            android:visibility=&quot;visible&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ne1eS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ne1eS.png\" alt=\"Screenshot of what shows up from the code\" /></a></p>\n"},{"tags":["java","cassandra","sonarqube","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":986276,"reputation":599,"user_id":5379032,"display_name":"Vovka"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1443435587,"creation_date":1443434959,"answer_id":32820432,"question_id":32819883,"body_markdown":"The ResultSet is not &quot;linked&quot; to a connection or any other resource that needs closing. It&#39;s backed by an array. See: https://github.com/datastax/java-driver/blob/2.1/driver-core/src/main/java/com/datastax/driver/core/ArrayBackedResultSet.java\r\n\r\ncredits: https://groups.google.com/a/lists.datastax.com/forum/#!topic/java-driver-user/yjDP1xeYyYM\r\n\r\nStatement contains only statement ID, so you don&#39;t need to close it too.\r\n\r\n","title":"Close ResultSet and Statement resources (datastax, no close() method)","body":"<p>The ResultSet is not \"linked\" to a connection or any other resource that needs closing. It's backed by an array. See: <a href=\"https://github.com/datastax/java-driver/blob/2.1/driver-core/src/main/java/com/datastax/driver/core/ArrayBackedResultSet.java\" rel=\"noreferrer\">https://github.com/datastax/java-driver/blob/2.1/driver-core/src/main/java/com/datastax/driver/core/ArrayBackedResultSet.java</a></p>\n\n<p>credits: <a href=\"https://groups.google.com/a/lists.datastax.com/forum/#!topic/java-driver-user/yjDP1xeYyYM\" rel=\"noreferrer\">https://groups.google.com/a/lists.datastax.com/forum/#!topic/java-driver-user/yjDP1xeYyYM</a></p>\n\n<p>Statement contains only statement ID, so you don't need to close it too.</p>\n"}],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2053,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32820432,"answer_count":1,"score":4,"last_activity_date":1662683237,"creation_date":1443433169,"question_id":32819883,"body_markdown":"# Hello World !\r\n\r\nI&#39;m in trouble trying to close some datastax resources (Statement, ResultSet).\r\nSonar is yelling at me to close those resources after i use them.\r\n\r\n(for information after i use this myMethod() i call a *System.exit(0)*) Bu anyway, I would like to do it according to Sonar\r\n\r\n*session.close()* is not enough since it appears to let Statement and ResultSet.\r\n\r\n**/!\\ ResultSet and Statement are from com.datastax.com.driver and these close() method doesn&#39;t exist on them. (different from java.sql)**\r\n\r\nI think a session.getCluster.close() would do, but I don&#39;t want to close the Cluster.\r\n\r\n**What would be the right way to close those resources properly ?**\r\n\r\n    import com.datastax.driver.core.ResultSet;\r\n    import com.datastax.driver.core.Row;\r\n    import com.datastax.driver.core.Session;\r\n    import com.datastax.driver.core.Statement;\r\n    public void myMethod() {\r\n\r\n        Statement statement = session.prepare(&quot;select * from .....&quot;).bind();\r\n        ResultSet rs = session.execute(statement);\r\n\r\n        // doSomethingWithThisResultSet() ...\r\n\r\n        session.close();\r\n    }\r\n\r\nThanks in advance for your help !","title":"Close ResultSet and Statement resources (datastax, no close() method)","body":"<h1>Hello World !</h1>\n\n<p>I'm in trouble trying to close some datastax resources (Statement, ResultSet).\nSonar is yelling at me to close those resources after i use them.</p>\n\n<p>(for information after i use this myMethod() i call a <em>System.exit(0)</em>) Bu anyway, I would like to do it according to Sonar</p>\n\n<p><em>session.close()</em> is not enough since it appears to let Statement and ResultSet.</p>\n\n<p><strong>/!\\ ResultSet and Statement are from com.datastax.com.driver and these close() method doesn't exist on them. (different from java.sql)</strong></p>\n\n<p>I think a session.getCluster.close() would do, but I don't want to close the Cluster.</p>\n\n<p><strong>What would be the right way to close those resources properly ?</strong></p>\n\n<pre><code>import com.datastax.driver.core.ResultSet;\nimport com.datastax.driver.core.Row;\nimport com.datastax.driver.core.Session;\nimport com.datastax.driver.core.Statement;\npublic void myMethod() {\n\n    Statement statement = session.prepare(\"select * from .....\").bind();\n    ResultSet rs = session.execute(statement);\n\n    // doSomethingWithThisResultSet() ...\n\n    session.close();\n}\n</code></pre>\n\n<p>Thanks in advance for your help !</p>\n"},{"tags":["java","soap","exchangewebservices","ews-managed-api"],"answers":[{"tags":[],"owner":{"account_id":1085024,"reputation":20746,"user_id":1080923,"display_name":"Glen Scales"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662683203,"creation_date":1662683203,"answer_id":73656176,"question_id":73645661,"body_markdown":"The EWS Logs on the CAS (Client Access Server) should have details about the throttling issue. Are you using Impersonation in you Application if you not using Impersonation then the concurrent connections are charged against the account your using with Impersonation that get charged against the account your impersonating. The difference here is that a single user can have no more the 10 streaming subscriptions (unless you modify the web.config) if your using impersonation than you can scale your application to 1000&#39;s of users see https://github.com/MicrosoftDocs/office-developer-exchange-docs/blob/main/docs/exchange-web-services/how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md","title":"How can I monitor EWS SOAP messages relating to subscription creation","body":"<p>The EWS Logs on the CAS (Client Access Server) should have details about the throttling issue. Are you using Impersonation in you Application if you not using Impersonation then the concurrent connections are charged against the account your using with Impersonation that get charged against the account your impersonating. The difference here is that a single user can have no more the 10 streaming subscriptions (unless you modify the web.config) if your using impersonation than you can scale your application to 1000's of users see <a href=\"https://github.com/MicrosoftDocs/office-developer-exchange-docs/blob/main/docs/exchange-web-services/how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md\" rel=\"nofollow noreferrer\">https://github.com/MicrosoftDocs/office-developer-exchange-docs/blob/main/docs/exchange-web-services/how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md</a></p>\n"}],"owner":{"account_id":5926365,"reputation":380,"user_id":4662114,"accept_rate":12,"display_name":"CaptainObv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662683203,"creation_date":1662624402,"question_id":73645661,"body_markdown":"We have a spring java app using EWS to connect to our on prem 2016 Exchange server and &#39;stream&#39; pulling emails. Every 30 minutes a new 30 minute subscription is made (via new thread). We assume old connection just expires.\n\nWhen one instance is running in our environment, it works perfectly fine, but when two instances run, after some time one instance will eventually start throwing error about \n\n&gt; You have exceeded the available concurrent connections for your account. Try again once your other requests have completed.\n\nIt seems like an issue which is then hit by throttling. I found that the Exchange servers config is:\n\n    EWSMaxConcurrency=27, MaxStreamingConcurrency=10,\n    HangingConnectionLimit=10\n\nOur code previously didn&#39;t explicitly close connections and unsubscribe (was running fine without when one instance). We tried including both but the issue still persists and we noticed the close method for StreamingSubscriptionConnection throws error. The team that handles the Exchange server can find errors referencing the exceeding connection count error above, but nothing relating to the close connection error \n\n    ...[m.e.w.d.n.StreamingSubscriptionConnection.close(349)]: java.lang.Exception: microsoft.exchange.webservices.data.notification.StreamingSubscriptionConnection\n\nCurrently we don&#39;t have much ability to make changes on the exchange server side. I&#39;m not familiar with SOAP messages but I was planning to look into how to monitor them to see what inbound and outbound messages there are for some insights \n\nFor the service I set `service.setTraceEnabled(true)` and `service.setTraceFlags(EnumSet.allOf(TraceFlags.class)`\n\nHowever I only see trace messages in console when an email arrives. I dont see any messages during start up when a subscription/connection is created \n\nCan anyone help provide any advice on how I can monitor these subscription related messages? \n\nI tried using SOAPUI but I&#39;m having difficulty applying our server&#39;s WSDL. I considered using the Tunnelij plugin for intellij but I&#39;m not too familiar with how to set it up either \n\n\nMy suspicion is that there is some intermittent latency issue on Exchange server side, perhaps response messages are not coming back in a timely manner, and this may be screwing up. I presume if I monitor these SOAP messages then I should see more than 10 requests to subscribe before that error appears ","title":"How can I monitor EWS SOAP messages relating to subscription creation","body":"<p>We have a spring java app using EWS to connect to our on prem 2016 Exchange server and 'stream' pulling emails. Every 30 minutes a new 30 minute subscription is made (via new thread). We assume old connection just expires.</p>\n<p>When one instance is running in our environment, it works perfectly fine, but when two instances run, after some time one instance will eventually start throwing error about</p>\n<blockquote>\n<p>You have exceeded the available concurrent connections for your account. Try again once your other requests have completed.</p>\n</blockquote>\n<p>It seems like an issue which is then hit by throttling. I found that the Exchange servers config is:</p>\n<pre><code>EWSMaxConcurrency=27, MaxStreamingConcurrency=10,\nHangingConnectionLimit=10\n</code></pre>\n<p>Our code previously didn't explicitly close connections and unsubscribe (was running fine without when one instance). We tried including both but the issue still persists and we noticed the close method for StreamingSubscriptionConnection throws error. The team that handles the Exchange server can find errors referencing the exceeding connection count error above, but nothing relating to the close connection error</p>\n<pre><code>...[m.e.w.d.n.StreamingSubscriptionConnection.close(349)]: java.lang.Exception: microsoft.exchange.webservices.data.notification.StreamingSubscriptionConnection\n</code></pre>\n<p>Currently we don't have much ability to make changes on the exchange server side. I'm not familiar with SOAP messages but I was planning to look into how to monitor them to see what inbound and outbound messages there are for some insights</p>\n<p>For the service I set <code>service.setTraceEnabled(true)</code> and <code>service.setTraceFlags(EnumSet.allOf(TraceFlags.class)</code></p>\n<p>However I only see trace messages in console when an email arrives. I dont see any messages during start up when a subscription/connection is created</p>\n<p>Can anyone help provide any advice on how I can monitor these subscription related messages?</p>\n<p>I tried using SOAPUI but I'm having difficulty applying our server's WSDL. I considered using the Tunnelij plugin for intellij but I'm not too familiar with how to set it up either</p>\n<p>My suspicion is that there is some intermittent latency issue on Exchange server side, perhaps response messages are not coming back in a timely manner, and this may be screwing up. I presume if I monitor these SOAP messages then I should see more than 10 requests to subscribe before that error appears</p>\n"},{"tags":["java","enums","java-8"],"comments":[{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1428299153,"post_id":29465943,"comment_id":47094620,"body_markdown":"What would it mean to get an enum value as a string? Do you want a list of the names of the enum constants?","body":"What would it mean to get an enum value as a string? Do you want a list of the names of the enum constants?"},{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":0,"creation_date":1428299412,"post_id":29465943,"comment_id":47094702,"body_markdown":"@user2357112, values as `list of String`","body":"@user2357112, values as <code>list of String</code>"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1428299502,"post_id":29465943,"comment_id":47094722,"body_markdown":"That doesn&#39;t answer the question. Enum values are not strings.","body":"That doesn&#39;t answer the question. Enum values are not strings."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1428299848,"post_id":29465943,"comment_id":47094835,"body_markdown":"Could you show how you might do this without Java 8?","body":"Could you show how you might do this without Java 8?"},{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":2,"creation_date":1428309605,"post_id":29465943,"comment_id":47098029,"body_markdown":"@ user2357112 I do agree, enum values are not string, it is it own type but I need the conversion","body":"@ user2357112 I do agree, enum values are not string, it is it own type but I need the conversion"}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":2,"up_vote_count":225,"is_accepted":true,"score":223,"last_activity_date":1559336327,"creation_date":1428299170,"answer_id":29465971,"question_id":29465943,"body_markdown":"You can do (pre-Java 8):\r\n\r\n    List&lt;Enum&gt; enumValues = Arrays.asList(Enum.values());\r\n\r\nor \r\n   \r\n    List&lt;Enum&gt; enumValues = new ArrayList&lt;Enum&gt;(EnumSet.allOf(Enum.class));\r\n\r\nUsing Java 8 features, you can map each constant to its name:\r\n\r\n    List&lt;String&gt; enumNames = Stream.of(Enum.values())\r\n                                   .map(Enum::name)\r\n                                   .collect(Collectors.toList());","title":"Get enum values as List of String in Java 8","body":"<p>You can do (pre-Java 8):</p>\n\n<pre><code>List&lt;Enum&gt; enumValues = Arrays.asList(Enum.values());\n</code></pre>\n\n<p>or </p>\n\n<pre><code>List&lt;Enum&gt; enumValues = new ArrayList&lt;Enum&gt;(EnumSet.allOf(Enum.class));\n</code></pre>\n\n<p>Using Java 8 features, you can map each constant to its name:</p>\n\n<pre><code>List&lt;String&gt; enumNames = Stream.of(Enum.values())\n                               .map(Enum::name)\n                               .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1586973498,"creation_date":1576976393,"answer_id":59440957,"question_id":29465943,"body_markdown":"You could also do something as follow\r\n\r\n```\r\npublic enum DAY {MON, TUES, WED, THU, FRI, SAT, SUN};\r\nEnumSet.allOf(DAY.class).stream().map(e -&gt; e.name()).collect(Collectors.toList())\r\n```\r\nor \r\n```\r\nEnumSet.allOf(DAY.class).stream().map(DAY::name).collect(Collectors.toList())\r\n```\r\n\r\nThe main reason why I stumbled across this question is that I wanted to write a generic validator that validates whether a given string enum name is valid for a given enum type (Sharing in case anyone finds useful).\r\n\r\nFor the validation, I had to use `Apache&#39;s EnumUtils` library since the type of enum is not known at compile time. \r\n\r\n```\r\n@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\npublic static void isValidEnumsValid(Class clazz, Set&lt;String&gt; enumNames) {\r\n\tSet&lt;String&gt; notAllowedNames = enumNames.stream()\r\n\t\t\t.filter(enumName -&gt; !EnumUtils.isValidEnum(clazz, enumName))\r\n\t\t\t.collect(Collectors.toSet());\r\n\t\t\r\n\tif (notAllowedNames.size() &gt; 0) {\r\n        String validEnumNames = (String) EnumUtils.getEnumMap(clazz).keySet().stream()\r\n    \t\t.collect(Collectors.joining(&quot;, &quot;));\r\n\r\n\t\tthrow new IllegalArgumentException(&quot;The requested values &#39;&quot; + notAllowedNames.stream()\r\n\t\t\t\t.collect(Collectors.joining(&quot;,&quot;)) + &quot;&#39; are not valid. Please select one more (case-sensitive) &quot;\r\n\t\t\t\t+ &quot;of the following : &quot; + validEnumNames);\r\n\t}\r\n}\r\n```\r\nI was too lazy to write an enum annotation validator as shown in here https://stackoverflow.com/a/51109419/1225551","title":"Get enum values as List of String in Java 8","body":"<p>You could also do something as follow</p>\n\n<pre><code>public enum DAY {MON, TUES, WED, THU, FRI, SAT, SUN};\nEnumSet.allOf(DAY.class).stream().map(e -&gt; e.name()).collect(Collectors.toList())\n</code></pre>\n\n<p>or </p>\n\n<pre><code>EnumSet.allOf(DAY.class).stream().map(DAY::name).collect(Collectors.toList())\n</code></pre>\n\n<p>The main reason why I stumbled across this question is that I wanted to write a generic validator that validates whether a given string enum name is valid for a given enum type (Sharing in case anyone finds useful).</p>\n\n<p>For the validation, I had to use <code>Apache's EnumUtils</code> library since the type of enum is not known at compile time. </p>\n\n<pre><code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\npublic static void isValidEnumsValid(Class clazz, Set&lt;String&gt; enumNames) {\n    Set&lt;String&gt; notAllowedNames = enumNames.stream()\n            .filter(enumName -&gt; !EnumUtils.isValidEnum(clazz, enumName))\n            .collect(Collectors.toSet());\n\n    if (notAllowedNames.size() &gt; 0) {\n        String validEnumNames = (String) EnumUtils.getEnumMap(clazz).keySet().stream()\n            .collect(Collectors.joining(\", \"));\n\n        throw new IllegalArgumentException(\"The requested values '\" + notAllowedNames.stream()\n                .collect(Collectors.joining(\",\")) + \"' are not valid. Please select one more (case-sensitive) \"\n                + \"of the following : \" + validEnumNames);\n    }\n}\n</code></pre>\n\n<p>I was too lazy to write an enum annotation validator as shown in here <a href=\"https://stackoverflow.com/a/51109419/1225551\">https://stackoverflow.com/a/51109419/1225551</a></p>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662683163,"creation_date":1662683163,"answer_id":73656168,"question_id":29465943,"body_markdown":"If you need to go to an array, you can do this:\r\n\r\n```java\r\npublic enum DAY {MON, TUES, WED, THU, FRI, SAT, SUN};\r\n\r\nString[] days = Stream.of(DAY.values()).map(Enum::name).toArray(String[]::new);\r\n```","title":"Get enum values as List of String in Java 8","body":"<p>If you need to go to an array, you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum DAY {MON, TUES, WED, THU, FRI, SAT, SUN};\n\nString[] days = Stream.of(DAY.values()).map(Enum::name).toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208122,"favorite_count":0,"down_vote_count":2,"up_vote_count":108,"accepted_answer_id":29465971,"answer_count":3,"score":106,"last_activity_date":1662683163,"creation_date":1428299013,"question_id":29465943,"body_markdown":"Is there any Java 8 method or easy way, which returns Enum values as a List of String, like:\r\n\r\n    List&lt;String&gt; sEnum = getEnumValuesAsString();","title":"Get enum values as List of String in Java 8","body":"<p>Is there any Java 8 method or easy way, which returns Enum values as a List of String, like:</p>\n\n<pre><code>List&lt;String&gt; sEnum = getEnumValuesAsString();\n</code></pre>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":1831588,"reputation":5216,"user_id":1662877,"display_name":"Stefan Podkowinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1455115736,"creation_date":1455115736,"answer_id":35318344,"question_id":35311566,"body_markdown":"You should have a look at Spark. Using the [Spark Cassandra Connector](https://github.com/datastax/spark-cassandra-connector) allows you to read data from Cassandra from multiple Spark nodes that can be deployed additionally on the Cassandra nodes or in a separate cluster. Data is read, processed and written back in parallel by running a Spark job, which can also be scheduled for daily execution.\r\n\r\nAs your data size is constantly growing, it would probably also make sense to look into [Spark Streaming](https://spark.apache.org/docs/latest/streaming-programming-guide.html), allowing you to continually process and update your data, just based on the new data coming in. This would prevent reprocessing the same data over and over again, but it of course depends on your use-case if that&#39;s an option for you. ","title":"how to read all row from very huge table in cassandra?","body":"<p>You should have a look at Spark. Using the <a href=\"https://github.com/datastax/spark-cassandra-connector\" rel=\"nofollow\">Spark Cassandra Connector</a> allows you to read data from Cassandra from multiple Spark nodes that can be deployed additionally on the Cassandra nodes or in a separate cluster. Data is read, processed and written back in parallel by running a Spark job, which can also be scheduled for daily execution.</p>\n\n<p>As your data size is constantly growing, it would probably also make sense to look into <a href=\"https://spark.apache.org/docs/latest/streaming-programming-guide.html\" rel=\"nofollow\">Spark Streaming</a>, allowing you to continually process and update your data, just based on the new data coming in. This would prevent reprocessing the same data over and over again, but it of course depends on your use-case if that's an option for you. </p>\n"}],"owner":{"account_id":5824774,"reputation":233,"user_id":4591582,"accept_rate":44,"display_name":"visingh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35318344,"answer_count":1,"score":0,"last_activity_date":1662682666,"creation_date":1455097421,"question_id":35311566,"body_markdown":"I have a Cassandra cluster with two node and replica_factor=2 in same datacenter. Table in ~150 million and continuously increasing that i need to read process and update corresponding row in Cassandra once in a day. \r\n\r\n* Is there any better approach to do this?\r\n\r\n* Is there any way to divide all row in parallel chunk and each chunk process by some thread? \r\n\r\n* Cassandra version: 2.2.1\r\n\r\n* java version: openjdk 1.7\r\n","title":"how to read all row from very huge table in cassandra?","body":"<p>I have a Cassandra cluster with two node and replica_factor=2 in same datacenter. Table in ~150 million and continuously increasing that i need to read process and update corresponding row in Cassandra once in a day. </p>\n\n<ul>\n<li><p>Is there any better approach to do this?</p></li>\n<li><p>Is there any way to divide all row in parallel chunk and each chunk process by some thread? </p></li>\n<li><p>Cassandra version: 2.2.1</p></li>\n<li><p>java version: openjdk 1.7</p></li>\n</ul>\n"},{"tags":["java","cassandra","datastax-java-driver","cassandra-cli"],"comments":[{"owner":{"account_id":4913296,"reputation":7305,"user_id":3957972,"display_name":"phact"},"score":0,"creation_date":1446214158,"post_id":33428094,"comment_id":54663909,"body_markdown":"You&#39;re using the DataStax Java driver for this program?","body":"You&#39;re using the DataStax Java driver for this program?"},{"owner":{"account_id":3382635,"reputation":551,"user_id":3705186,"accept_rate":67,"display_name":"Dhyan"},"score":0,"creation_date":1446220165,"post_id":33428094,"comment_id":54667844,"body_markdown":"yes .http://mvnrepository.com/artifact/com.datastax.cassandra/cassandra-driver-core/2.1.4","body":"yes .<a href=\"http://mvnrepository.com/artifact/com.datastax.cassandra/cassandra-driver-core/2.1.4\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.datastax.cassandra/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446214975,"creation_date":1446214975,"answer_id":33438246,"question_id":33428094,"body_markdown":"The datastax java driver receives these notifications from C* over a designated connection to one of your C* nodes using the [&#39;STATUS_CHANGE&#39;](https://github.com/apache/cassandra/blob/cassandra-2.2.0/doc/native_protocol_v4.spec#L730) event subscription.  Ultimately UP &amp; DOWN events are detected via information that the C* node receives from gossip and C* sends an event for the rpc_address or broadcast_rpc_address of that host (with broadcast_rpc_address taking precedence).\r\n\r\nI&#39;m assuming you are configuring rpc_address in cassandra.yaml to these 192.168.1.x addresses right?\r\n\r\nIt&#39;s possible there is a bug in C* (what versions are you on of C* and the driver?).  Another possibility is that the peers information may be somehow corrupted so the driver may see x.y.z.2 and 192.168.1.2 as separate hosts (I don&#39;t anticipate that).  Did you originally use the public ips as your rpc_address and then change to private later?  One thing that would be good to check is that state of the system.peers table on each C* node by executing the following command in cqlsh on each node:\r\n\r\n    select peer,rpc_address from system.peers;\r\n\r\nto see if x.y.z.2 shows up as rpc_address on any of your hosts.","title":"cassandra state listener sends duplicate signals one with public ip and another with private ip","body":"<p>The datastax java driver receives these notifications from C* over a designated connection to one of your C* nodes using the <a href=\"https://github.com/apache/cassandra/blob/cassandra-2.2.0/doc/native_protocol_v4.spec#L730\" rel=\"nofollow\">'STATUS_CHANGE'</a> event subscription.  Ultimately UP &amp; DOWN events are detected via information that the C* node receives from gossip and C* sends an event for the rpc_address or broadcast_rpc_address of that host (with broadcast_rpc_address taking precedence).</p>\n\n<p>I'm assuming you are configuring rpc_address in cassandra.yaml to these 192.168.1.x addresses right?</p>\n\n<p>It's possible there is a bug in C* (what versions are you on of C* and the driver?).  Another possibility is that the peers information may be somehow corrupted so the driver may see x.y.z.2 and 192.168.1.2 as separate hosts (I don't anticipate that).  Did you originally use the public ips as your rpc_address and then change to private later?  One thing that would be good to check is that state of the system.peers table on each C* node by executing the following command in cqlsh on each node:</p>\n\n<pre><code>select peer,rpc_address from system.peers;\n</code></pre>\n\n<p>to see if x.y.z.2 shows up as rpc_address on any of your hosts.</p>\n"}],"owner":{"account_id":3382635,"reputation":551,"user_id":3705186,"accept_rate":67,"display_name":"Dhyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662682497,"creation_date":1446175136,"question_id":33428094,"body_markdown":"I have a 5 node cassandra cluster and the listen_address in each nodes are configured with its private address in cassandra.yml.  \r\n\r\n**Config looks like below :**  \r\n**NOTE: 192.168.1.* is a private ip address**  \r\n\r\n    cassandra 1| listen_address:192.168.1.1  | publicip :kafka1/x.y.z.1  \r\n    cassandra 2| listen_address:192.168.1.2  | publicip :kafka2/x.y.z.2  \r\n    cassandra 3| listen_address:192.168.1.3  | publicip :kafka3/x.y.z.3  \r\n    cassandra 4| listen_address:192.168.1.4  | publicip :kafka4/x.y.z.4  \r\n    cassandra 5| listen_address:192.168.1.5  | publicip :kafka5/x.y.z.5\r\n\r\nI also have a java program which acts as Cassandra state listener listening on onAdd,onUp,onDown ,onRemove call&#39;s. \r\n \r\n**NOTE** : Java program talk&#39;s to cassandra via public domain name  \r\n(E.G) cassandra_hosts:kafka1,kafka2,kafka3,kafka4  \r\n\r\n        {\r\n        private Set&lt;Host&gt; downHostList = Collections.synchronizedSet(new HashSet&lt;Host&gt;());\r\n        //onup/onAdd Implemetation\r\n        public void onAdd(Host host) {\t\t\r\n            \tif(downHostList.contains(host)){\r\n            \t\tdownHostList.remove(host);\r\n            \t}\r\n            \tLOG.info(&quot;Down host count {} and the list is[{}]&quot;,downHostList.size(),downHostList);\t\t\r\n            }\r\n            //onDown/OnRemove Implentation\r\n            public void onDown(Host host) {\r\n            \tif(!host.isUp()){\r\n            \t\tdownHostList.add(host);\r\n            \t}\r\n            \tLOG.info(&quot;Down host count {} and the list is[{}]&quot;,downHostList.size(),downHostList);\r\n            }  \r\n    }\r\n\r\n**Below is the observation from the output :**  \r\nWhen i bring node 2 down i see that onDown is called twice .one time i got the public ip address and the next time i got the private ip address .So the count was \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/28BNG.png\r\n  [2]: http://i.stack.imgur.com/b4vWG.jpg\r\n\r\n**Update :NOV 2**  \r\n  Though i don&#39;t have an answer for this .My workaround for this is to use the private ip in my java program to talk to Cassandra .. I will continue to use this as i wait for some on from Cassandra community answers this ..","title":"cassandra state listener sends duplicate signals one with public ip and another with private ip","body":"<p>I have a 5 node cassandra cluster and the listen_address in each nodes are configured with its private address in cassandra.yml.  </p>\n\n<p><strong>Config looks like below :</strong><br>\n<strong>NOTE: 192.168.1.* is a private ip address</strong>  </p>\n\n<pre><code>cassandra 1| listen_address:192.168.1.1  | publicip :kafka1/x.y.z.1  \ncassandra 2| listen_address:192.168.1.2  | publicip :kafka2/x.y.z.2  \ncassandra 3| listen_address:192.168.1.3  | publicip :kafka3/x.y.z.3  \ncassandra 4| listen_address:192.168.1.4  | publicip :kafka4/x.y.z.4  \ncassandra 5| listen_address:192.168.1.5  | publicip :kafka5/x.y.z.5\n</code></pre>\n\n<p>I also have a java program which acts as Cassandra state listener listening on onAdd,onUp,onDown ,onRemove call's. </p>\n\n<p><strong>NOTE</strong> : Java program talk's to cassandra via public domain name<br>\n(E.G) cassandra_hosts:kafka1,kafka2,kafka3,kafka4  </p>\n\n<pre><code>    {\n    private Set&lt;Host&gt; downHostList = Collections.synchronizedSet(new HashSet&lt;Host&gt;());\n    //onup/onAdd Implemetation\n    public void onAdd(Host host) {      \n            if(downHostList.contains(host)){\n                downHostList.remove(host);\n            }\n            LOG.info(\"Down host count {} and the list is[{}]\",downHostList.size(),downHostList);        \n        }\n        //onDown/OnRemove Implentation\n        public void onDown(Host host) {\n            if(!host.isUp()){\n                downHostList.add(host);\n            }\n            LOG.info(\"Down host count {} and the list is[{}]\",downHostList.size(),downHostList);\n        }  \n}\n</code></pre>\n\n<p><strong>Below is the observation from the output :</strong><br>\nWhen i bring node 2 down i see that onDown is called twice .one time i got the public ip address and the next time i got the private ip address .So the count was \n<a href=\"https://i.stack.imgur.com/b4vWG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4vWG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update :NOV 2</strong><br>\n  Though i don't have an answer for this .My workaround for this is to use the private ip in my java program to talk to Cassandra .. I will continue to use this as i wait for some on from Cassandra community answers this ..</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":8639096,"reputation":24,"user_id":6468275,"display_name":"Ali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1465978169,"creation_date":1465978169,"answer_id":37829622,"question_id":37826272,"body_markdown":"TTLs are set per cells and not rows. If you want to get \r\nselect val, TTL(val) from test;\r\nto show you the remaining TTL in seconds\r\n\r\nFor example\r\n\r\n    &gt; insert into test (id, val) VALUES (uuid(), &#39;some value&#39;) using ttl 100;\r\n    &gt; select val, TTL(val) from test;\r\n\r\n     val           | ttl(val)\r\n    ---------------+--------------\r\n       hello world |      92\r\n\r\nI executed the select query 8 seconds after inserting the row.","title":"TTL get from ROW object of datastax java driver","body":"<p>TTLs are set per cells and not rows. If you want to get \nselect val, TTL(val) from test;\nto show you the remaining TTL in seconds</p>\n\n<p>For example</p>\n\n<pre><code>&gt; insert into test (id, val) VALUES (uuid(), 'some value') using ttl 100;\n&gt; select val, TTL(val) from test;\n\n val           | ttl(val)\n---------------+--------------\n   hello world |      92\n</code></pre>\n\n<p>I executed the select query 8 seconds after inserting the row.</p>\n"},{"tags":[],"owner":{"account_id":906011,"reputation":103,"user_id":940911,"display_name":"Vaishakh Narasimhareddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470171977,"creation_date":1470171977,"answer_id":38730448,"question_id":37826272,"body_markdown":"    PreparedStatement prep = session.prepare(&quot;SELECT val, TTL(val) from TABLE&quot;);\r\n    BoundStatement boundStmt = new BoundStatement(prep);\r\n    Row r = session.execute(boundStmt).one();\r\n    r.getInt(&quot;TTL(val)&quot;);\r\n\r\nWill give you the TTL on the value in seconds. \r\n\r\n\r\n\r\n","title":"TTL get from ROW object of datastax java driver","body":"<pre><code>PreparedStatement prep = session.prepare(\"SELECT val, TTL(val) from TABLE\");\nBoundStatement boundStmt = new BoundStatement(prep);\nRow r = session.execute(boundStmt).one();\nr.getInt(\"TTL(val)\");\n</code></pre>\n\n<p>Will give you the TTL on the value in seconds. </p>\n"}],"owner":{"account_id":8635622,"reputation":103,"user_id":6465943,"accept_rate":100,"display_name":"SKR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37829622,"answer_count":2,"score":1,"last_activity_date":1662682444,"creation_date":1465965546,"question_id":37826272,"body_markdown":"How can we get TTL of a ROW returned from Cassandra.\n\nCurrently i am fetching TTL as part of Select cql query , e.g. SELECT NO,TTL;\nAnd then using Row.getInt(&quot;TTL&quot;);\n\nIs there any other better way to do this.","title":"TTL get from ROW object of datastax java driver","body":"<p>How can we get TTL of a ROW returned from Cassandra.</p>\n\n<p>Currently i am fetching TTL as part of Select cql query , e.g. SELECT NO,TTL;\nAnd then using Row.getInt(\"TTL\");</p>\n\n<p>Is there any other better way to do this.</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1456555681,"post_id":35666674,"comment_id":59013039,"body_markdown":"Is there a metadata retrieval call that can return the column types? If not you may be out of luck, but if there is you can write code to handle all the possibilities.","body":"Is there a metadata retrieval call that can return the column types? If not you may be out of luck, but if there is you can write code to handle all the possibilities."}],"answers":[{"tags":[],"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1456562555,"creation_date":1456561150,"answer_id":35667408,"question_id":35666674,"body_markdown":"This code will print the type of each column and value\r\n    \r\n    ResultSet results = getSession().execute(&quot;Select * from test.table&quot;);    \r\n    int numcols = results.getColumnDefinitions().size();\r\n    for ( Row row : results ) {\r\n       for (int colIndex = 0; colIndex &lt; numcols; colIndex++) {\r\n             System.out.println(&quot;Type : &quot;+row.getColumnDefinitions().getType(colIndex));\r\n             Class c = row.getColumnDefinitions().getType(colIndex).asJavaClass();\r\n             if(c == Integer.class) {\r\n                  System.out.println(&quot;Data :&quot; + row.getInt(colIndex));\r\n             }\r\n             //similar for other type\r\n       }\r\n    }","title":"Cassandra : How to get the String value of column data irrespective of datatype","body":"<p>This code will print the type of each column and value</p>\n\n<pre><code>ResultSet results = getSession().execute(\"Select * from test.table\");    \nint numcols = results.getColumnDefinitions().size();\nfor ( Row row : results ) {\n   for (int colIndex = 0; colIndex &lt; numcols; colIndex++) {\n         System.out.println(\"Type : \"+row.getColumnDefinitions().getType(colIndex));\n         Class c = row.getColumnDefinitions().getType(colIndex).asJavaClass();\n         if(c == Integer.class) {\n              System.out.println(\"Data :\" + row.getInt(colIndex));\n         }\n         //similar for other type\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":6003685,"reputation":172,"user_id":4716210,"accept_rate":33,"display_name":"Dalu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35667408,"answer_count":1,"score":1,"last_activity_date":1662682217,"creation_date":1456555449,"question_id":35666674,"body_markdown":"I am trying to fetch the results from a `com.datastax.driver.core.ResultSet` and print it:\r\n\r\n    ResultSet results = getSession().execute(&quot;Select * from test.table&quot;); //getsession returns a session\r\n    int numcols = results.getColumnDefinitions().size();\r\n    for ( Row row : results ) {\r\n        for (int colIndex = 0; colIndex &lt; numcols; colIndex++) {\r\n               System.out.println(&quot;data: &quot; + row.getString(colIndex));\r\n         }\r\n    }\r\n\r\n`row.getString(colIndex)` throws an exception in case of datatypes other than String. How will I be able to get a string data irrespective of what data type it is? ","title":"Cassandra : How to get the String value of column data irrespective of datatype","body":"<p>I am trying to fetch the results from a <code>com.datastax.driver.core.ResultSet</code> and print it:</p>\n\n<pre><code>ResultSet results = getSession().execute(\"Select * from test.table\"); //getsession returns a session\nint numcols = results.getColumnDefinitions().size();\nfor ( Row row : results ) {\n    for (int colIndex = 0; colIndex &lt; numcols; colIndex++) {\n           System.out.println(\"data: \" + row.getString(colIndex));\n     }\n}\n</code></pre>\n\n<p><code>row.getString(colIndex)</code> throws an exception in case of datatypes other than String. How will I be able to get a string data irrespective of what data type it is? </p>\n"},{"tags":["java","apache-spark","cassandra","datastax-java-driver","spark-cassandra-connector"],"comments":[{"owner":{"account_id":4913296,"reputation":7305,"user_id":3957972,"display_name":"phact"},"score":0,"creation_date":1455921429,"post_id":35515113,"comment_id":58723271,"body_markdown":"Check out this example https://github.com/rssvihla/datastax_work/blob/master/spark_commons/examples/spark_bulk_operations/src/main/scala/pro/foundev/scala/BulkUpgrade.scala","body":"Check out this example <a href=\"https://github.com/rssvihla/datastax_work/blob/master/spark_commons/examples/spark_bulk_operations/src/main/scala/pro/foundev/scala/BulkUpgrade.scala\" rel=\"nofollow noreferrer\">github.com/rssvihla/datastax_work/blob/master/spark_commons/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1159527,"reputation":542,"user_id":1139336,"accept_rate":87,"display_name":"mithrix"},"score":0,"creation_date":1455926609,"post_id":35515113,"comment_id":58725139,"body_markdown":"I&quot;m sorry I dont see how that is similar??","body":"I&quot;m sorry I dont see how that is similar??"},{"owner":{"account_id":4913296,"reputation":7305,"user_id":3957972,"display_name":"phact"},"score":0,"creation_date":1455980462,"post_id":35515113,"comment_id":58739251,"body_markdown":"The point is, you shouldn&#39;t be reading with the java driver directly and then processing with spark. Use the spark context cassandraTable method and let spark do the reads for you in a parallel, partitioned, node local fashion.","body":"The point is, you shouldn&#39;t be reading with the java driver directly and then processing with spark. Use the spark context cassandraTable method and let spark do the reads for you in a parallel, partitioned, node local fashion."},{"owner":{"account_id":1159527,"reputation":542,"user_id":1139336,"accept_rate":87,"display_name":"mithrix"},"score":0,"creation_date":1455980838,"post_id":35515113,"comment_id":58739381,"body_markdown":"I understand using spark cassandratable but my issue is not knowing how to use spark to change the data the way I am in the Java for loop. That&#39;s what I need help with.  I want to get rid of the Java loop that&#39;s the whole point of the post.","body":"I understand using spark cassandratable but my issue is not knowing how to use spark to change the data the way I am in the Java for loop. That&#39;s what I need help with.  I want to get rid of the Java loop that&#39;s the whole point of the post."},{"owner":{"account_id":4913296,"reputation":7305,"user_id":3957972,"display_name":"phact"},"score":0,"creation_date":1455981087,"post_id":35515113,"comment_id":58739477,"body_markdown":"The channel filtering could happen in a .filter or even in a .where if your table is partitioned to handle that query. Then you can apply the groupby, ideally it would be a spanby instead for performance.","body":"The channel filtering could happen in a .filter or even in a .where if your table is partitioned to handle that query. Then you can apply the groupby, ideally it would be a spanby instead for performance."},{"owner":{"account_id":1159527,"reputation":542,"user_id":1139336,"accept_rate":87,"display_name":"mithrix"},"score":0,"creation_date":1455981258,"post_id":35515113,"comment_id":58739539,"body_markdown":"Channel isn&#39;t in the original raw data it is generated by the for loop.  How would that be accomplished with spark","body":"Channel isn&#39;t in the original raw data it is generated by the for loop.  How would that be accomplished with spark"}],"answers":[{"tags":[],"owner":{"account_id":5913085,"reputation":544,"user_id":4652656,"display_name":"Pankaj Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456248850,"creation_date":1456149016,"answer_id":35555366,"question_id":35515113,"body_markdown":"    JavaRDD&lt;MeasuredValue&gt; rdd = javaFunctions(sc).cassandraTable(&quot;SB1000_47130646&quot;, &quot;Measured_Value&quot;, mapRowTo(MeasuredValue.class));\r\n    JavaRDD&lt;Value&gt; valueRdd = rdd.flatMap(new FlatMapFunction&lt;MeasuredValue, Value&gt;(){\r\n    @Override \r\n    public Iterable&lt;Value&gt; call(MeasuredValue row) throws Exception { \r\n    double start_frequency = row.getStart_frequency(); \r\n    float power = row.getPower(); \r\n    double bandwidth = row.getBandwidth(); \r\n    \r\n    // Define Variable \r\n    double channel,channel_end, increment;  \r\n    \r\n    // Initialize Variables \r\n    channel_end = 1.6159E8; \r\n    increment = 5000; \r\n    \r\n    List&lt;Value&gt; list = new ArrayList&lt;Value&gt;(); \r\n    // Create Channel Power Buckets \r\n    for(channel = 1.6000E8; channel &lt;= channel_end; ){ \r\n    if( (channel &gt;= start_frequency) &amp;&amp; (channel &lt;= (start_frequency + bandwidth)) ) { \r\n    list.add(new Value(channel, power)); \r\n    } // end if \r\n    channel+=increment; \r\n    } // end for \r\n    \r\n    return list; \r\n    }    \r\n        });\r\n    \r\n        sqlContext.createDataFrame(valueRdd, Value.class).groupBy(col(&quot;channel&quot;))\r\n        .agg(min(&quot;power&quot;), max(&quot;power&quot;), avg(&quot;power&quot;))\r\n        .write().mode(SaveMode.Append)      \r\n        .option(&quot;table&quot;, &quot;results&quot;)\r\n        .option(&quot;keyspace&quot;, &quot;model&quot;)\r\n        .format(&quot;org.apache.spark.sql.cassandra&quot;).save();\r\n    \r\n    } // end session\r\n    \r\n    public static class MeasuredValue implements Serializable {\r\n    \r\n            public MeasuredValue() { }\r\n    \r\n            private double start_frequency;\r\n            public double getStart_frequency() { return start_frequency; }\r\n            public void setStart_frequency(double start_frequency) { this.start_frequency = start_frequency; }\r\n    \r\n            private double bandwidth ;\r\n            public double getBandwidth() { return bandwidth; }\r\n            public void setBandwidth(double bandwidth) { this.bandwidth = bandwidth; }\r\n    \r\n            private float power;    \r\n            public float getPower() { return power; }\r\n            public void setPower(float power) { this.power = power; }\r\n    \r\n        }","title":"How to Replace JAVA loop with Direct Spark Cassandra Table Data Manipulation","body":"<pre><code>JavaRDD&lt;MeasuredValue&gt; rdd = javaFunctions(sc).cassandraTable(\"SB1000_47130646\", \"Measured_Value\", mapRowTo(MeasuredValue.class));\nJavaRDD&lt;Value&gt; valueRdd = rdd.flatMap(new FlatMapFunction&lt;MeasuredValue, Value&gt;(){\n@Override \npublic Iterable&lt;Value&gt; call(MeasuredValue row) throws Exception { \ndouble start_frequency = row.getStart_frequency(); \nfloat power = row.getPower(); \ndouble bandwidth = row.getBandwidth(); \n\n// Define Variable \ndouble channel,channel_end, increment;  \n\n// Initialize Variables \nchannel_end = 1.6159E8; \nincrement = 5000; \n\nList&lt;Value&gt; list = new ArrayList&lt;Value&gt;(); \n// Create Channel Power Buckets \nfor(channel = 1.6000E8; channel &lt;= channel_end; ){ \nif( (channel &gt;= start_frequency) &amp;&amp; (channel &lt;= (start_frequency + bandwidth)) ) { \nlist.add(new Value(channel, power)); \n} // end if \nchannel+=increment; \n} // end for \n\nreturn list; \n}    \n    });\n\n    sqlContext.createDataFrame(valueRdd, Value.class).groupBy(col(\"channel\"))\n    .agg(min(\"power\"), max(\"power\"), avg(\"power\"))\n    .write().mode(SaveMode.Append)      \n    .option(\"table\", \"results\")\n    .option(\"keyspace\", \"model\")\n    .format(\"org.apache.spark.sql.cassandra\").save();\n\n} // end session\n\npublic static class MeasuredValue implements Serializable {\n\n        public MeasuredValue() { }\n\n        private double start_frequency;\n        public double getStart_frequency() { return start_frequency; }\n        public void setStart_frequency(double start_frequency) { this.start_frequency = start_frequency; }\n\n        private double bandwidth ;\n        public double getBandwidth() { return bandwidth; }\n        public void setBandwidth(double bandwidth) { this.bandwidth = bandwidth; }\n\n        private float power;    \n        public float getPower() { return power; }\n        public void setPower(float power) { this.power = power; }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":1159527,"reputation":542,"user_id":1139336,"accept_rate":87,"display_name":"mithrix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35555366,"answer_count":1,"score":4,"last_activity_date":1662682192,"creation_date":1455916306,"question_id":35515113,"body_markdown":"I&quot;m trying to make my code more efficient since i have to process billions of rows of data in cassandra.  I currently use a JAVA loop within the Datastax Cassandra Spark Connector to pull out the data and put it into a format that I&#39;m familiar with [(multimap)][1] in order to get spark to do the manipulation.  I&#39;d like to be able to replace this Multimap loop with a direct spark manipulation of the cassandra table to save time and make everything more efficient. I&#39;d greatly appreciate any code suggestions to accomplish that. Here is my existing code:\r\n\r\n            Statement stmt = new SimpleStatement(&quot;SELECT \\&quot;Power\\&quot;,\\&quot;Bandwidth\\&quot;,\\&quot;Start_Frequency\\&quot; FROM \\&quot;SB1000_49552019\\&quot;.\\&quot;Measured_Value\\&quot;;&quot;);\r\n            stmt.setFetchSize(2000000);\r\n            ResultSet results = session.execute(stmt);\r\n           \r\n    // Get the Variables from each Row of Cassandra Data        \r\n            Multimap&lt;Double, Float&gt; data = LinkedListMultimap.create();\r\n            for (Row row : results){       \r\n               // Column Names in Cassandra (Case Sensitive)\r\n               start_frequency = row.getDouble(&quot;Start_Frequency&quot;);\r\n               power = row.getFloat(&quot;Power&quot;);\r\n               bandwidth = row.getDouble(&quot;Bandwidth&quot;); \r\n               \r\n    // Create Channel Power Buckets    \r\n                    for(channel = 1.6000E8; channel &lt;= channel_end;  ){ \r\n                        if( (channel &gt;= start_frequency) &amp;&amp; (channel &lt;= (start_frequency + bandwidth)) ) {     \r\n                         data.put(channel, power);\r\n                        }  // end if\r\n                        channel+=increment;\r\n                    }  // end for      \r\n            } // end &quot;row&quot; for\r\n            \r\n    // Create Spark List for DataFrame        \r\n            List&lt;Value&gt; values = data.asMap().entrySet()\r\n                .stream()\r\n                .flatMap(x -&gt; x.getValue()\r\n                        .stream()\r\n                        .map(y -&gt; new Value(x.getKey(), y)))\r\n                .collect(Collectors.toList());\r\n        \r\n    // Create DataFrame and Calculate Results\r\n        sqlContext.createDataFrame(sc.parallelize(values), Value.class).groupBy(col(&quot;channel&quot;))\r\n            .agg(min(&quot;power&quot;), max(&quot;power&quot;), avg(&quot;power&quot;))\r\n            .write().mode(SaveMode.Append)      \r\n            .option(&quot;table&quot;, &quot;results&quot;)\r\n            .option(&quot;keyspace&quot;, &quot;model&quot;)\r\n            .format(&quot;org.apache.spark.sql.cassandra&quot;).save();\r\n        \r\n        } // end session\r\n    } // End Compute \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35508003/spark-can-a-multimap-be-converted-to-a-dataframe-in-java","title":"How to Replace JAVA loop with Direct Spark Cassandra Table Data Manipulation","body":"<p>I\"m trying to make my code more efficient since i have to process billions of rows of data in cassandra.  I currently use a JAVA loop within the Datastax Cassandra Spark Connector to pull out the data and put it into a format that I'm familiar with <a href=\"https://stackoverflow.com/questions/35508003/spark-can-a-multimap-be-converted-to-a-dataframe-in-java\">(multimap)</a> in order to get spark to do the manipulation.  I'd like to be able to replace this Multimap loop with a direct spark manipulation of the cassandra table to save time and make everything more efficient. I'd greatly appreciate any code suggestions to accomplish that. Here is my existing code:</p>\n\n<pre><code>        Statement stmt = new SimpleStatement(\"SELECT \\\"Power\\\",\\\"Bandwidth\\\",\\\"Start_Frequency\\\" FROM \\\"SB1000_49552019\\\".\\\"Measured_Value\\\";\");\n        stmt.setFetchSize(2000000);\n        ResultSet results = session.execute(stmt);\n\n// Get the Variables from each Row of Cassandra Data        \n        Multimap&lt;Double, Float&gt; data = LinkedListMultimap.create();\n        for (Row row : results){       \n           // Column Names in Cassandra (Case Sensitive)\n           start_frequency = row.getDouble(\"Start_Frequency\");\n           power = row.getFloat(\"Power\");\n           bandwidth = row.getDouble(\"Bandwidth\"); \n\n// Create Channel Power Buckets    \n                for(channel = 1.6000E8; channel &lt;= channel_end;  ){ \n                    if( (channel &gt;= start_frequency) &amp;&amp; (channel &lt;= (start_frequency + bandwidth)) ) {     \n                     data.put(channel, power);\n                    }  // end if\n                    channel+=increment;\n                }  // end for      \n        } // end \"row\" for\n\n// Create Spark List for DataFrame        \n        List&lt;Value&gt; values = data.asMap().entrySet()\n            .stream()\n            .flatMap(x -&gt; x.getValue()\n                    .stream()\n                    .map(y -&gt; new Value(x.getKey(), y)))\n            .collect(Collectors.toList());\n\n// Create DataFrame and Calculate Results\n    sqlContext.createDataFrame(sc.parallelize(values), Value.class).groupBy(col(\"channel\"))\n        .agg(min(\"power\"), max(\"power\"), avg(\"power\"))\n        .write().mode(SaveMode.Append)      \n        .option(\"table\", \"results\")\n        .option(\"keyspace\", \"model\")\n        .format(\"org.apache.spark.sql.cassandra\").save();\n\n    } // end session\n} // End Compute \n</code></pre>\n"},{"tags":["java","apache-poi","sxssf"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1662720453,"post_id":73655926,"comment_id":130076567,"body_markdown":"Have you tried plain SXSSFWorkbook? DeferredSXSSFWorkbook may not support autosizing.","body":"Have you tried plain SXSSFWorkbook? DeferredSXSSFWorkbook may not support autosizing."},{"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"score":0,"creation_date":1662953209,"post_id":73655926,"comment_id":130116987,"body_markdown":"It does work just like XSSFWorkbook but it doesn&#39;t really do streaming hence I specifically asked for deferred one. I didn&#39;t find any documentation about sizing being unsupported and POI doesn&#39;t generate any warnings so it&#39;s hard to tell if I&#39;m making some mistake or it&#39;s expected behavior.","body":"It does work just like XSSFWorkbook but it doesn&#39;t really do streaming hence I specifically asked for deferred one. I didn&#39;t find any documentation about sizing being unsupported and POI doesn&#39;t generate any warnings so it&#39;s hard to tell if I&#39;m making some mistake or it&#39;s expected behavior."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1663004571,"post_id":73655926,"comment_id":130132523,"body_markdown":"https://poi.apache.org/apidocs/5.0/index.html?org/apache/poi/xssf/streaming/DeferredSXSSFWorkbook.html -- this class is marked as `@Beta` and mentions in its description that it is experimental. One external contributor provided a PR and that&#39;s it -- noone has touched it since. POI&#39;s code base is gigantic and the volunteer base is small.","body":"<a href=\"https://poi.apache.org/apidocs/5.0/index.html?org/apache/poi/xssf/streaming/DeferredSXSSFWorkbook.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/5.0/index.html?org/apache/poi/xssf/&hellip;</a> -- this class is marked as <code>@Beta</code> and mentions in its description that it is experimental. One external contributor provided a PR and that&#39;s it -- noone has touched it since. POI&#39;s code base is gigantic and the volunteer base is small."},{"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"score":0,"creation_date":1663018366,"post_id":73655926,"comment_id":130136405,"body_markdown":"I&#39;m aware. Just hoping someone went through the pains of using it and has some findings to share","body":"I&#39;m aware. Just hoping someone went through the pains of using it and has some findings to share"}],"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662681876,"creation_date":1662680050,"question_id":73655926,"body_markdown":"Is it possible to autosize columns with `DeferredSXSSFWorkbook` / `setRowGenerator`?\r\n\r\nI&#39;ve set `rowAccessWindowSize` to 25 and attempt to autosize at row 20 but it doesn&#39;t do anything.\r\n\r\nSimplified example:\r\n\r\n```java\r\nvar wb = new DeferredSXSSFWorkbook(25);\r\nvar sheet1 = wb.createSheet(&quot;sheet1&quot;);\r\nsheet1.setRowGenerator(sheet -&gt; {\r\n  sheet.trackAllColumnsForAutoSizing();\r\n  var row = sheet.createRow(0);\r\n  row.createCell(0).setCellValue(&quot;Some very long string that exceeds default column width&quot;);\r\n  sheet.autoSizeColumn(0);\r\n});\r\nwb.write(new FileOutputStream(&quot;test.xlsx&quot;));\r\n```\r\n\r\nEquivalent code with `XSSFWorkbook` (no streaming) works correctly.\r\n\r\nCreated a replit to demonstrate but for some reason it generates corrupted files: https://replit.com/@MarcinWinicki/DeferredSXSSFWorkbook-autosizing?v=1","title":"DeferredSXSSFWorkbook autosizing of columns","body":"<p>Is it possible to autosize columns with <code>DeferredSXSSFWorkbook</code> / <code>setRowGenerator</code>?</p>\n<p>I've set <code>rowAccessWindowSize</code> to 25 and attempt to autosize at row 20 but it doesn't do anything.</p>\n<p>Simplified example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var wb = new DeferredSXSSFWorkbook(25);\nvar sheet1 = wb.createSheet(&quot;sheet1&quot;);\nsheet1.setRowGenerator(sheet -&gt; {\n  sheet.trackAllColumnsForAutoSizing();\n  var row = sheet.createRow(0);\n  row.createCell(0).setCellValue(&quot;Some very long string that exceeds default column width&quot;);\n  sheet.autoSizeColumn(0);\n});\nwb.write(new FileOutputStream(&quot;test.xlsx&quot;));\n</code></pre>\n<p>Equivalent code with <code>XSSFWorkbook</code> (no streaming) works correctly.</p>\n<p>Created a replit to demonstrate but for some reason it generates corrupted files: <a href=\"https://replit.com/@MarcinWinicki/DeferredSXSSFWorkbook-autosizing?v=1\" rel=\"nofollow noreferrer\">https://replit.com/@MarcinWinicki/DeferredSXSSFWorkbook-autosizing?v=1</a></p>\n"},{"tags":["javascript","java","regex"],"comments":[{"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"score":0,"creation_date":1662519270,"post_id":73629565,"comment_id":130021587,"body_markdown":"Does this not suit your needs? `[A-Z0-9\\-\\s]{6,7}`","body":"Does this not suit your needs? <code>[A-Z0-9\\-\\s]{6,7}</code>"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1662520126,"post_id":73629565,"comment_id":130021714,"body_markdown":"Hi @Aggragoth, it failed the cases like below 97 995 this is not Valid but it&#39;s allowed as its length is 6 which includes space  https://regex101.com/r/RLrabZ/1 \nif including space or hyphen length should be 7. if not included the length of either 6 or 7.","body":"Hi @Aggragoth, it failed the cases like below 97 995 this is not Valid but it&#39;s allowed as its length is 6 which includes space  <a href=\"https://regex101.com/r/RLrabZ/1\" rel=\"nofollow noreferrer\">regex101.com/r/RLrabZ/1</a>  if including space or hyphen length should be 7. if not included the length of either 6 or 7."},{"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"score":0,"creation_date":1662521643,"post_id":73629565,"comment_id":130021913,"body_markdown":"Then use the following: `^[A-Z0-9\\-\\s]{7}$|^[A-Z0-9]{6,7}$`","body":"Then use the following: <code>^[A-Z0-9\\-\\s]{7}$|^[A-Z0-9]{6,7}$</code>"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1662522109,"post_id":73629565,"comment_id":130021975,"body_markdown":"Thanks, @Aggragoth, it&#39;s working as expected but in one case it failed as it accepted the space or hyphen as the first or last character but space or hyphen should not be the first or last character https://regex101.com/r/sm4od3/1","body":"Thanks, @Aggragoth, it&#39;s working as expected but in one case it failed as it accepted the space or hyphen as the first or last character but space or hyphen should not be the first or last character <a href=\"https://regex101.com/r/sm4od3/1\" rel=\"nofollow noreferrer\">regex101.com/r/sm4od3/1</a>"},{"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"score":0,"creation_date":1662524932,"post_id":73629565,"comment_id":130022365,"body_markdown":"Please be careful to outline these requirements in your description. Your note does not make that clear; in-fact, it implies the opposite.","body":"Please be careful to outline these requirements in your description. Your note does not make that clear; in-fact, it implies the opposite."}],"answers":[{"tags":[],"owner":{"account_id":5301,"reputation":91455,"user_id":8454,"accept_rate":100,"display_name":"Andy Lester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662519575,"creation_date":1662519575,"answer_id":73629615,"question_id":73629565,"body_markdown":"From looking at your examples, it sounds like what you want is:\r\n\r\n* Three alphabetic characters `[A-Z]{3}`\r\n* An optional space or hyphen `[ -]?`\r\n* Three or four digits `[0-9]{3,4}`\r\n\r\nWhich looks like this, with the beginning and end of string anchors.\r\n\r\n    ^[A-Z]{3}[ -]?[0-9]{3,4}$","title":"Regex to validate the alpha numeric which optionally include the hypen or space","body":"<p>From looking at your examples, it sounds like what you want is:</p>\n<ul>\n<li>Three alphabetic characters <code>[A-Z]{3}</code></li>\n<li>An optional space or hyphen <code>[ -]?</code></li>\n<li>Three or four digits <code>[0-9]{3,4}</code></li>\n</ul>\n<p>Which looks like this, with the beginning and end of string anchors.</p>\n<pre><code>^[A-Z]{3}[ -]?[0-9]{3,4}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11846929,"reputation":1232,"user_id":8669256,"display_name":"MoonMist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662526746,"creation_date":1662525166,"answer_id":73630178,"question_id":73629565,"body_markdown":"Here&#39;s the solution as discussed in the comments of your main post.\r\n\r\n```\r\n^[A-Z0-9]{6,7}$|(?=^.{7}$)^[A-Z0-9]+[- ]?[A-Z0-9]+$\r\n```\r\n\r\nWhen asking a question, please be sure to outline **all** of your requirements. Its very hard for people to give a correct solution to questions that they don&#39;t know the full context of.","title":"Regex to validate the alpha numeric which optionally include the hypen or space","body":"<p>Here's the solution as discussed in the comments of your main post.</p>\n<pre><code>^[A-Z0-9]{6,7}$|(?=^.{7}$)^[A-Z0-9]+[- ]?[A-Z0-9]+$\n</code></pre>\n<p>When asking a question, please be sure to outline <strong>all</strong> of your requirements. Its very hard for people to give a correct solution to questions that they don't know the full context of.</p>\n"},{"tags":[],"owner":{"account_id":3486275,"reputation":7429,"user_id":7475450,"display_name":"Peter Thoeny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662681844,"creation_date":1662681844,"answer_id":73656063,"question_id":73629565,"body_markdown":"Here is functional code with test input based on your requirement to have 6 or 7 alphanumeric chars, or a pattern of 7 chars where all but one are alphanumeric chars with one interspersed space or dash. In addition, do not allow a pattern of all the same char:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const input = [\r\n      &#39;A12B3C&#39;,\r\n      &#39;ACB1234&#39;,\r\n      &#39;123H67J&#39;,\r\n      &#39;ABC-123&#39;,\r\n      &#39;ANV 123&#39;,\r\n      &#39;ABV-12345&#39;,\r\n      &#39;ABC 1234&#39;,\r\n      &#39;ABC-12&#39;,\r\n      &#39;ABC 12&#39;,\r\n      &#39;ABV--35&#39;,\r\n      &#39;AV- 345&#39;,\r\n      &#39;AV- 124&#39;,\r\n      &#39;AV- 124&#39;,\r\n      &#39;AV-12&#39;,\r\n      &#39;AV-12&#39;,\r\n      &#39;AAAAAA&#39;,\r\n      &#39;1111111&#39;,\r\n      &#39;1111-11&#39;,\r\n      &#39;1112-11&#39;,\r\n      &#39;AAAA AA&#39;\r\n    ];\r\n    const re = /^(?:(?!^(.)\\1+$)[A-Za-z0-9]{6,7}|(?=^.{7}$)(?!^(.)\\2*[ -]\\2+$)[A-Za-z0-9]+[ -][A-Za-z0-9]+)$/;\r\n\r\n    input.forEach(str =&gt; {\r\n      console.log(str + &#39; =&gt; &#39; + re.test(str));\r\n    });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOutput:\r\n```\r\nA12B3C =&gt; true\r\nACB1234 =&gt; true\r\n123H67J =&gt; true\r\nABC-123 =&gt; true\r\nANV 123 =&gt; true\r\nABV-12345 =&gt; false\r\nABC 1234 =&gt; false\r\nABC-12 =&gt; false\r\nABC 12 =&gt; false\r\nABV--35 =&gt; false\r\nAV- 345 =&gt; false\r\nAV- 124 =&gt; false\r\nAV- 124 =&gt; false\r\nAV-12 =&gt; false\r\nAV-12 =&gt; false\r\nAAAAAA =&gt; false\r\n1111111 =&gt; false\r\n1111-11 =&gt; false\r\n1112-11 =&gt; true\r\nAAAA AA =&gt; false\r\n```\r\nExplanation:\r\n- `^` - anchor at start\r\n- `(?:` - non capture group start\r\n- `(?!^(.)\\1+$)` - negative lookahead for all the same char\r\n- `[A-Za-z0-9]{6,7}` - expect 6 or 7 alphanumeric chars\r\n- `|` - logical OR\r\n- `(?=^.{7}$)` - positive lookahead for exactly 7 chars\r\n- `(?!^(.)\\2*[ -]\\2+$)` - negative lookahead for all the same char with interspersed space or dash\r\n- `[A-Za-z0-9]+[ -][A-Za-z0-9]+` - expect 1+ alphanumeric chars, a space or dash, followed by 1+ alphanumeric chars\r\n- `)` - non capture group end\r\n- `$` - anchor at end\r\n","title":"Regex to validate the alpha numeric which optionally include the hypen or space","body":"<p>Here is functional code with test input based on your requirement to have 6 or 7 alphanumeric chars, or a pattern of 7 chars where all but one are alphanumeric chars with one interspersed space or dash. In addition, do not allow a pattern of all the same char:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\n  'A12B3C',\n  'ACB1234',\n  '123H67J',\n  'ABC-123',\n  'ANV 123',\n  'ABV-12345',\n  'ABC 1234',\n  'ABC-12',\n  'ABC 12',\n  'ABV--35',\n  'AV- 345',\n  'AV- 124',\n  'AV- 124',\n  'AV-12',\n  'AV-12',\n  'AAAAAA',\n  '1111111',\n  '1111-11',\n  '1112-11',\n  'AAAA AA'\n];\nconst re = /^(?:(?!^(.)\\1+$)[A-Za-z0-9]{6,7}|(?=^.{7}$)(?!^(.)\\2*[ -]\\2+$)[A-Za-z0-9]+[ -][A-Za-z0-9]+)$/;\n\ninput.forEach(str =&gt; {\n  console.log(str + ' =&gt; ' + re.test(str));\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Output:</p>\n<pre><code>A12B3C =&gt; true\nACB1234 =&gt; true\n123H67J =&gt; true\nABC-123 =&gt; true\nANV 123 =&gt; true\nABV-12345 =&gt; false\nABC 1234 =&gt; false\nABC-12 =&gt; false\nABC 12 =&gt; false\nABV--35 =&gt; false\nAV- 345 =&gt; false\nAV- 124 =&gt; false\nAV- 124 =&gt; false\nAV-12 =&gt; false\nAV-12 =&gt; false\nAAAAAA =&gt; false\n1111111 =&gt; false\n1111-11 =&gt; false\n1112-11 =&gt; true\nAAAA AA =&gt; false\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><code>^</code> - anchor at start</li>\n<li><code>(?:</code> - non capture group start</li>\n<li><code>(?!^(.)\\1+$)</code> - negative lookahead for all the same char</li>\n<li><code>[A-Za-z0-9]{6,7}</code> - expect 6 or 7 alphanumeric chars</li>\n<li><code>|</code> - logical OR</li>\n<li><code>(?=^.{7}$)</code> - positive lookahead for exactly 7 chars</li>\n<li><code>(?!^(.)\\2*[ -]\\2+$)</code> - negative lookahead for all the same char with interspersed space or dash</li>\n<li><code>[A-Za-z0-9]+[ -][A-Za-z0-9]+</code> - expect 1+ alphanumeric chars, a space or dash, followed by 1+ alphanumeric chars</li>\n<li><code>)</code> - non capture group end</li>\n<li><code>$</code> - anchor at end</li>\n</ul>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662681844,"creation_date":1662519053,"question_id":73629565,"body_markdown":"Validate the given string which includes the alphanumeric of the length either 6 or 7 (includes space or hyphen only once) \r\n\r\nthe input string length is either 6 or 7 characters if includes a hyphen or space its length should be 7. \r\nOnly one space or Hyphen is allowed as a max\r\n\r\nNote: the Hyphen or Space is any place in the string and in the below example given few\r\n```\r\nex: \r\nA12B3C    -&gt; Valid \r\nACB1234   -&gt; Valid\r\n123H67J   -&gt; Valid\r\nABC-123   -&gt; Valid\r\nANV 123   -&gt; Valid \r\nABV-12345 -&gt; Not Valid \r\nABC 1234  -&gt; Not Valid \r\nABC-12    -&gt; NOT Valid\r\nABC 12    -&gt; Not Valid\r\nABV--35 -&gt; Not Valid\r\nAV- 345 -&gt; Not Valid  \r\nAV- 124 -&gt; Not Valid \r\nAV- 124 -&gt; Not Valid \r\nAV-12 5 -&gt; Not Valid \r\nAV-12 5 -&gt; Not Valid \r\n\r\n```\r\n```\r\nRegex: ^(?![^0-9A-Z]*([0-9A-Z])(?:[^0-9A-Z]*\\1)+[^0-9A-Z]*$)(?=.{7}$)[0-9A-Z]+(?:[- ][0-9A-Z]+)?$\r\n\r\nfailed the cases like ANV123 as its expected 7 characters\r\n```","title":"Regex to validate the alpha numeric which optionally include the hypen or space","body":"<p>Validate the given string which includes the alphanumeric of the length either 6 or 7 (includes space or hyphen only once)</p>\n<p>the input string length is either 6 or 7 characters if includes a hyphen or space its length should be 7.\nOnly one space or Hyphen is allowed as a max</p>\n<p>Note: the Hyphen or Space is any place in the string and in the below example given few</p>\n<pre><code>ex: \nA12B3C    -&gt; Valid \nACB1234   -&gt; Valid\n123H67J   -&gt; Valid\nABC-123   -&gt; Valid\nANV 123   -&gt; Valid \nABV-12345 -&gt; Not Valid \nABC 1234  -&gt; Not Valid \nABC-12    -&gt; NOT Valid\nABC 12    -&gt; Not Valid\nABV--35 -&gt; Not Valid\nAV- 345 -&gt; Not Valid  \nAV- 124 -&gt; Not Valid \nAV- 124 -&gt; Not Valid \nAV-12 5 -&gt; Not Valid \nAV-12 5 -&gt; Not Valid \n\n</code></pre>\n<pre><code>Regex: ^(?![^0-9A-Z]*([0-9A-Z])(?:[^0-9A-Z]*\\1)+[^0-9A-Z]*$)(?=.{7}$)[0-9A-Z]+(?:[- ][0-9A-Z]+)?$\n\nfailed the cases like ANV123 as its expected 7 characters\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array","null"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":2,"creation_date":1662674623,"post_id":73655369,"comment_id":130067068,"body_markdown":"Suggestion: Create an `Item` class and use an `ArrayList&lt;Item&gt;` or `List&lt;Item&gt;` instead of an Array to hold instances of `Item`. An **ArrayList** or **List** can grow dynamically whereas an Array can not.","body":"Suggestion: Create an <code>Item</code> class and use an <code>ArrayList&lt;Item&gt;</code> or <code>List&lt;Item&gt;</code> instead of an Array to hold instances of <code>Item</code>. An <b>ArrayList</b> or <b>List</b> can grow dynamically whereas an Array can not."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662678979,"creation_date":1662678979,"answer_id":73655828,"question_id":73655369,"body_markdown":"Declare your 2D String Array and initialize to the number of items you want to handle within your vending machine, let&#39;s say `10` Rows (items) with 3 data Columns in each row:\r\n\r\n    String[][] items = new String[10][3];\r\n\r\nOpen stream to accept Keyboard input using the Scanner class:\r\n\r\n    Scanner userInput = new Scanner(System.in);\r\n\r\nNow create a `for` loop to iterate through each item row within the array so that each can be filled by the User. The following is in its&#39; simplest form with no validation. If you just hit the &lt;kbd&gt;Enter&lt;/kbd&gt; key when asked for an Item Name then the entry process will end:\r\n\r\n    for (int i = 0; i &lt; items.length; i++) {\r\n        System.out.print(&quot;Enter a name for item #&quot; + (i + 1) + &quot;: -&gt; &quot;);\r\n        String itemName = userInput.nextLine().trim();\r\n        if (itemName.isEmpty()) { \r\n            break; \r\n        }\r\n        System.out.print(&quot;Enter expiry for item #&quot; + (i + 1) + &quot;: -&gt; &quot;);\r\n        String itemExpiry = userInput.nextLine().trim();\r\n        System.out.print(&quot;Enter price for item  #&quot; + (i + 1) + &quot;: -&gt; &quot;);\r\n        String itemPrice = userInput.nextLine().trim();\r\n        items[i][0] = itemName;\r\n        items[i][1] = itemExpiry;\r\n        items[i][2] = itemPrice;\r\n        System.out.println();\r\n    }\r\n\r\nNow, display all the entered items contained within the array into the Console Window:\r\n\r\n    for (String[] diffItems : items) {\r\n        if (diffItems[0] != null) {\r\n            System.out.println(Arrays.toString(diffItems));\r\n        }\r\n    }\r\n","title":"(Java) How to Overwrite A 2D Array Where I&#39;ve Already Declared Null Values","body":"<p>Declare your 2D String Array and initialize to the number of items you want to handle within your vending machine, let's say <code>10</code> Rows (items) with 3 data Columns in each row:</p>\n<pre><code>String[][] items = new String[10][3];\n</code></pre>\n<p>Open stream to accept Keyboard input using the Scanner class:</p>\n<pre><code>Scanner userInput = new Scanner(System.in);\n</code></pre>\n<p>Now create a <code>for</code> loop to iterate through each item row within the array so that each can be filled by the User. The following is in its' simplest form with no validation. If you just hit the <kbd>Enter</kbd> key when asked for an Item Name then the entry process will end:</p>\n<pre><code>for (int i = 0; i &lt; items.length; i++) {\n    System.out.print(&quot;Enter a name for item #&quot; + (i + 1) + &quot;: -&gt; &quot;);\n    String itemName = userInput.nextLine().trim();\n    if (itemName.isEmpty()) { \n        break; \n    }\n    System.out.print(&quot;Enter expiry for item #&quot; + (i + 1) + &quot;: -&gt; &quot;);\n    String itemExpiry = userInput.nextLine().trim();\n    System.out.print(&quot;Enter price for item  #&quot; + (i + 1) + &quot;: -&gt; &quot;);\n    String itemPrice = userInput.nextLine().trim();\n    items[i][0] = itemName;\n    items[i][1] = itemExpiry;\n    items[i][2] = itemPrice;\n    System.out.println();\n}\n</code></pre>\n<p>Now, display all the entered items contained within the array into the Console Window:</p>\n<pre><code>for (String[] diffItems : items) {\n    if (diffItems[0] != null) {\n        System.out.println(Arrays.toString(diffItems));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14625236,"reputation":56,"user_id":10562793,"display_name":"VoidPointer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662680132,"creation_date":1662680132,"answer_id":73655936,"question_id":73655369,"body_markdown":"If you prefer using 2D arrays, at first you&#39;d need to find the first &quot;empty&quot; space in your vending machine -&gt; a null element. *(I&#39;ll keep it in a method so it&#39;s clear and easier to use)*\r\n\r\n```java\r\npublic int getFreeSpaceIndex(final String[][] vendingMachine) {\r\n    for (int index = 0; index &lt; vendingMachine.length; index++)\r\n        if (vendingMachine[index] == null)\r\n            return index;\r\n    // meaning there&#39;s no empty space, you should use some static field\r\n    // to describe this situation to avoid magic numbers in your code\r\n    return -1;\r\n}\r\n```\r\n\r\nAfter you found the element you can insert whatever you want in there\r\n```java\r\n// you&#39;ve got the itemT1 array that you&#39;ve created\r\n// and let&#39;s say a user inputs the water item down below,\r\n// I simplified it to declaration, cause it&#39;s off the topic\r\nfinal String[] water = new String[] {&quot;Water&quot;, &quot;15&quot;};\r\nfinal int freeSpaceIndex = findFreeSpaceIndex(itemT1);\r\nif (freeSpaceIndex == -1) {\r\n    System.err.printf(&quot;There&#39;s not enough space for the %s item.&quot;, Arrays.toString(water));\r\n} else {\r\n    itemT1[freeSpaceIndex] = item;\r\n}\r\n```\r\n\r\nUltimately you can wrap the array into your own data structure and simply make an `addItem(String[])` method that will search for an empty space and handle the overflow.\r\n\r\n```java\r\nclass VendingMachineStock {\r\n    private String[][] stock = new String[][] {null, null, null, null, null, null, null, null, null};\r\n    // constructors, api...\r\n\r\n    public boolean hasFreeSpace() {\r\n        return getFreeSpaceIndex() != -1;\r\n    }\r\n\r\n    public boolean addItem(final String[] item) {\r\n        final int freeSpaceIndex = getFreeSpaceIndex();\r\n        if (freeSpaceIndex == -1) {\r\n            System.err.printf(&quot;There&#39;s not enough space for the %s item.&quot;, Arrays.toString(water));\r\n            return false;\r\n        }\r\n        stock[freeSpaceIndex] = item;\r\n        return true;\r\n    }\r\n\r\n    private int getFreeSpaceIndex() {\r\n        for (int index = 0; index &lt; stock.length; index++)\r\n            if (stock[index] == null)\r\n                return index;\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nBut there&#39;re many flaws in a code like this. Anyone can mess up and add `String[] {&quot;15&quot;, &quot;Water&quot;}` or even `new String[] {&quot;15&quot;, &quot;30&quot;, &quot;I&#39;m Foo Bar :)&quot;}`.\r\n\r\nThe right data structure for your problem would actually be a linked list with `Item` objects (as @DevilsHnd mentioned) and your own limiting structure over it.\r\n\r\n```java\r\nclass Item {\r\n    private final String name;\r\n    private int price;\r\n    // default getters, setters, consturctor...\r\n}\r\n\r\nclass VendingMachineStock {\r\n    private final LinkedList&lt;Item&gt; stock;\r\n    // this will limit your stock list size\r\n    private int maxSlots; \r\n\r\n    // I omit API and constructor intentionally, it&#39;s off the\r\n    // topic, but you must write it\r\n\r\n    public void addItem(final Item item) {\r\n        // you can either throw exceptions or return boolean\r\n        // flag indicating the result, it&#39;s up to you.\r\n        // in this case I prefer a detailed explanation on why\r\n        // the method did not add the item.\r\n        if (stock.size() &gt;= maxSlots) {\r\n            throw new IllegalStateException(&quot;Stock overflow, can&#39;t add more items&quot;);\r\n        }\r\n        stock.add(item);\r\n    }\r\n}\r\n```","title":"(Java) How to Overwrite A 2D Array Where I&#39;ve Already Declared Null Values","body":"<p>If you prefer using 2D arrays, at first you'd need to find the first &quot;empty&quot; space in your vending machine -&gt; a null element. <em>(I'll keep it in a method so it's clear and easier to use)</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getFreeSpaceIndex(final String[][] vendingMachine) {\n    for (int index = 0; index &lt; vendingMachine.length; index++)\n        if (vendingMachine[index] == null)\n            return index;\n    // meaning there's no empty space, you should use some static field\n    // to describe this situation to avoid magic numbers in your code\n    return -1;\n}\n</code></pre>\n<p>After you found the element you can insert whatever you want in there</p>\n<pre class=\"lang-java prettyprint-override\"><code>// you've got the itemT1 array that you've created\n// and let's say a user inputs the water item down below,\n// I simplified it to declaration, cause it's off the topic\nfinal String[] water = new String[] {&quot;Water&quot;, &quot;15&quot;};\nfinal int freeSpaceIndex = findFreeSpaceIndex(itemT1);\nif (freeSpaceIndex == -1) {\n    System.err.printf(&quot;There's not enough space for the %s item.&quot;, Arrays.toString(water));\n} else {\n    itemT1[freeSpaceIndex] = item;\n}\n</code></pre>\n<p>Ultimately you can wrap the array into your own data structure and simply make an <code>addItem(String[])</code> method that will search for an empty space and handle the overflow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class VendingMachineStock {\n    private String[][] stock = new String[][] {null, null, null, null, null, null, null, null, null};\n    // constructors, api...\n\n    public boolean hasFreeSpace() {\n        return getFreeSpaceIndex() != -1;\n    }\n\n    public boolean addItem(final String[] item) {\n        final int freeSpaceIndex = getFreeSpaceIndex();\n        if (freeSpaceIndex == -1) {\n            System.err.printf(&quot;There's not enough space for the %s item.&quot;, Arrays.toString(water));\n            return false;\n        }\n        stock[freeSpaceIndex] = item;\n        return true;\n    }\n\n    private int getFreeSpaceIndex() {\n        for (int index = 0; index &lt; stock.length; index++)\n            if (stock[index] == null)\n                return index;\n        return -1;\n    }\n}\n</code></pre>\n<p>But there're many flaws in a code like this. Anyone can mess up and add <code>String[] {&quot;15&quot;, &quot;Water&quot;}</code> or even <code>new String[] {&quot;15&quot;, &quot;30&quot;, &quot;I'm Foo Bar :)&quot;}</code>.</p>\n<p>The right data structure for your problem would actually be a linked list with <code>Item</code> objects (as @DevilsHnd mentioned) and your own limiting structure over it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Item {\n    private final String name;\n    private int price;\n    // default getters, setters, consturctor...\n}\n\nclass VendingMachineStock {\n    private final LinkedList&lt;Item&gt; stock;\n    // this will limit your stock list size\n    private int maxSlots; \n\n    // I omit API and constructor intentionally, it's off the\n    // topic, but you must write it\n\n    public void addItem(final Item item) {\n        // you can either throw exceptions or return boolean\n        // flag indicating the result, it's up to you.\n        // in this case I prefer a detailed explanation on why\n        // the method did not add the item.\n        if (stock.size() &gt;= maxSlots) {\n            throw new IllegalStateException(&quot;Stock overflow, can't add more items&quot;);\n        }\n        stock.add(item);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25318611,"reputation":13,"user_id":19140283,"display_name":"Shelby Longbottom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662680132,"creation_date":1662673907,"question_id":73655369,"body_markdown":"Hi I&#39;m using a 2d array to simulate a vending machine.\r\n\r\nI want to declare an array with a set length and make it oversize so it can accommodate me adding items to it.\r\n\r\nEx:\r\n```\r\nString[][] itemsT1 = new String[][] {null, null, null, null, null, null, null, null, null};\r\nint itemCount = 0;\r\n\r\n// The way I&#39;ve been adding things in my &quot;addItem&#39; method is:\r\n\r\nif ( (items.length &gt; 0) &amp;&amp; (itemsCount &lt; items.length) ) {\r\n            items[itemsCount][0] = nameOfItem;\r\n            items[itemsCount][1] = expirationDate;\r\n            itemsCount++;\r\n            System.out.println(&quot;Item added&quot;);\r\n        }\r\n\r\n// so that the end result of the array should be (with nameOfItem = &quot;Water&quot; and expDate = &quot;15&quot;) something like this:\r\n\r\n{ {&quot;Water&quot;, &quot;15&quot;}, null, null, null, null, null, null, null, null}\r\n\r\n// and it&#39;s scalable to be hypothetically used again:\r\n\r\n{ {&quot;Water&quot;, &quot;15&quot;}, {&quot;Chocolate&quot;, &quot;20&quot;}, {&quot;Juice&quot;, &quot;25&quot;}, null, null, null, null, null, null}\r\n```\r\n\r\nI might be back with more questions so thank you for answering, and let me know if I need to provide more!\r\n","title":"(Java) How to Overwrite A 2D Array Where I&#39;ve Already Declared Null Values","body":"<p>Hi I'm using a 2d array to simulate a vending machine.</p>\n<p>I want to declare an array with a set length and make it oversize so it can accommodate me adding items to it.</p>\n<p>Ex:</p>\n<pre><code>String[][] itemsT1 = new String[][] {null, null, null, null, null, null, null, null, null};\nint itemCount = 0;\n\n// The way I've been adding things in my &quot;addItem' method is:\n\nif ( (items.length &gt; 0) &amp;&amp; (itemsCount &lt; items.length) ) {\n            items[itemsCount][0] = nameOfItem;\n            items[itemsCount][1] = expirationDate;\n            itemsCount++;\n            System.out.println(&quot;Item added&quot;);\n        }\n\n// so that the end result of the array should be (with nameOfItem = &quot;Water&quot; and expDate = &quot;15&quot;) something like this:\n\n{ {&quot;Water&quot;, &quot;15&quot;}, null, null, null, null, null, null, null, null}\n\n// and it's scalable to be hypothetically used again:\n\n{ {&quot;Water&quot;, &quot;15&quot;}, {&quot;Chocolate&quot;, &quot;20&quot;}, {&quot;Juice&quot;, &quot;25&quot;}, null, null, null, null, null, null}\n</code></pre>\n<p>I might be back with more questions so thank you for answering, and let me know if I need to provide more!</p>\n"},{"tags":["java","maven","inria-spoon"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1509299869,"post_id":47003274,"comment_id":80953311,"body_markdown":"This is much too general for this site.","body":"This is much too general for this site."},{"owner":{"account_id":968493,"reputation":1887,"user_id":1153476,"accept_rate":20,"display_name":"Martin Monperrus"},"score":0,"creation_date":1509398500,"post_id":47003274,"comment_id":80995815,"body_markdown":"Does this help: https://github.com/INRIA/spoon/pull/1676/files?","body":"Does this help: <a href=\"https://github.com/INRIA/spoon/pull/1676/files\" rel=\"nofollow noreferrer\">github.com/INRIA/spoon/pull/1676/files</a>?"},{"owner":{"account_id":12121261,"reputation":11,"user_id":8852611,"display_name":"Liam"},"score":0,"creation_date":1509802756,"post_id":47003274,"comment_id":81172613,"body_markdown":"@MartinMonperrus This does help alot thank you :). I just have to clarify somethings. (1) Are all the processors you create supposed to be in a separate project to the actual Spoon project. (2) What is the &quot;Binary of your processor&quot; as mentioned in &quot;$ java -classpath /path/to/binary/of/your/processor.jar:spoon-core&quot;.","body":"@MartinMonperrus This does help alot thank you :). I just have to clarify somethings. (1) Are all the processors you create supposed to be in a separate project to the actual Spoon project. (2) What is the &quot;Binary of your processor&quot; as mentioned in &quot;$ java -classpath /path/to/binary/of/your/processor.jar:spoon-core&quot;."}],"owner":{"account_id":12121261,"reputation":11,"user_id":8852611,"display_name":"Liam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662679117,"creation_date":1509298838,"question_id":47003274,"body_markdown":"I&#39;m completely new to Spoon and have very basic knowledge of Maven,\r\n\r\nSo my question is, where do I start off with Spoon. I&#39;ve read the &quot;Getting Started&quot; guide over and over but I&#39;ve hit a wall at the &quot;Apply the processor&quot; section.\r\n\r\nAny help/advice would be greatly appreciated ","title":"Starting Off With Spoon","body":"<p>I'm completely new to Spoon and have very basic knowledge of Maven,</p>\n\n<p>So my question is, where do I start off with Spoon. I've read the \"Getting Started\" guide over and over but I've hit a wall at the \"Apply the processor\" section.</p>\n\n<p>Any help/advice would be greatly appreciated </p>\n"},{"tags":["java","comments","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":390220,"reputation":449,"user_id":750142,"accept_rate":40,"display_name":"Simon Urli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528878422,"creation_date":1528878422,"answer_id":50832491,"question_id":50780598,"body_markdown":"By default Spoon does not take into account the comment from the source code.\r\nIn order to make them available you have to switch an option to activate them.\r\n\r\nThis can be done using the following code:\r\n\r\n    Launcher launcher = new Launcher();\r\n    launcher.getEnvironment().setCommentEnabled(true);\r\n\r\n\r\n\r\nAnd now it should work. ","title":"How to Get Comments Using SPOON?","body":"<p>By default Spoon does not take into account the comment from the source code.\nIn order to make them available you have to switch an option to activate them.</p>\n\n<p>This can be done using the following code:</p>\n\n<pre><code>Launcher launcher = new Launcher();\nlauncher.getEnvironment().setCommentEnabled(true);\n</code></pre>\n\n<p>And now it should work. </p>\n"}],"owner":{"account_id":9656760,"reputation":345,"user_id":7166057,"accept_rate":86,"display_name":"Yongfeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50832491,"answer_count":1,"score":0,"last_activity_date":1662679103,"creation_date":1528605519,"question_id":50780598,"body_markdown":"all! I&#39;m not sure whether you guys meet questions when using **SPOON** to get Java code comments. According to the description in the following website,\r\n\r\n&gt; http://spoon.gforge.inria.fr/comments.html\r\n\r\nWe know the diversity kinds of Java comments that **SPOON** can deal with, but when I use either the function `CtElement.getDocComment()` or the interface `spoon.reflect.code.CtComment`, I CANNOT get any comment content.\r\n\r\nThere only one Launcher object in main function,\r\n\r\n    Launcher launcher = new Launcher();\r\n    launcher.addInputResource(&quot;src/main/java/org/xxx/A.java&quot;);\r\n    CtModel model = launcher.buildModel();\r\n    model.processWith(new CLSProsessor());\r\n\r\nthe processor `CLSProcessor` is as follows,\r\n\r\n    class COMProcessore extends AbstractProcessor&lt;CtComment&gt;{\r\n\r\n\t  @Override\r\n      public boolean isToBeProcessed(CtComment candidate) {\r\n        // only process Javadoc\r\n        if (candidate.getCommentType() == CtComment.CommentType.JAVADOC) {\r\n            return true;\r\n        }\r\n        return false;\r\n      }\r\n\t\r\n\t  @Override\r\n\t  public void process(CtComment arg0) {\r\n\t\tSystem.out.println(&quot;&gt;&gt;&quot; + arg0.getContent());\t\r\n\t  }\r\n    }\r\n\r\nLooking for your kind help, and any comments are welcome!","title":"How to Get Comments Using SPOON?","body":"<p>all! I'm not sure whether you guys meet questions when using <strong>SPOON</strong> to get Java code comments. According to the description in the following website,</p>\n\n<blockquote>\n  <p><a href=\"http://spoon.gforge.inria.fr/comments.html\" rel=\"nofollow noreferrer\">http://spoon.gforge.inria.fr/comments.html</a></p>\n</blockquote>\n\n<p>We know the diversity kinds of Java comments that <strong>SPOON</strong> can deal with, but when I use either the function <code>CtElement.getDocComment()</code> or the interface <code>spoon.reflect.code.CtComment</code>, I CANNOT get any comment content.</p>\n\n<p>There only one Launcher object in main function,</p>\n\n<pre><code>Launcher launcher = new Launcher();\nlauncher.addInputResource(\"src/main/java/org/xxx/A.java\");\nCtModel model = launcher.buildModel();\nmodel.processWith(new CLSProsessor());\n</code></pre>\n\n<p>the processor <code>CLSProcessor</code> is as follows,</p>\n\n<pre><code>class COMProcessore extends AbstractProcessor&lt;CtComment&gt;{\n\n  @Override\n  public boolean isToBeProcessed(CtComment candidate) {\n    // only process Javadoc\n    if (candidate.getCommentType() == CtComment.CommentType.JAVADOC) {\n        return true;\n    }\n    return false;\n  }\n\n  @Override\n  public void process(CtComment arg0) {\n    System.out.println(\"&gt;&gt;\" + arg0.getContent());   \n  }\n}\n</code></pre>\n\n<p>Looking for your kind help, and any comments are welcome!</p>\n"},{"tags":["java","parsing","methods","function-call","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":390220,"reputation":449,"user_id":750142,"accept_rate":40,"display_name":"Simon Urli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533197126,"creation_date":1533197126,"answer_id":51648574,"question_id":51639091,"body_markdown":"The easiest way in Spoon to retrieve all methods from a model is to use a processor of `CtMethod` you can try a code like this one:\r\n\r\n    public class MyProcessForMethods extends AbstractProcessor&lt;CtMethod&gt; {\r\n       public void process(CtMethod myMethod) {\r\n          System.out.println(mymethod.getSimpleName());\r\n       }\r\n    }\r\n\r\n\r\nand to use it:\r\n\r\n    Launcher launcher = new Launcher();\r\n    launcher.addInputResource(&quot;/path/to/your/source&quot;);\r\n    launcher.addProcessor(new MyProcessForMethods());\r\n    launcher.run();\r\n\r\n\r\nThe method `process()` will be called each time a new `CtMethod` is find in the model: then it will process as well method nested from inner types and normal methods.\r\n\r\nDon&#39;t hesitate to open an issue on Spoon Github repository and to provide more insight on how you&#39;re using Spoon right now. ","title":"INRIA SPOON nested methods and nested methodcalls","body":"<p>The easiest way in Spoon to retrieve all methods from a model is to use a processor of <code>CtMethod</code> you can try a code like this one:</p>\n\n<pre><code>public class MyProcessForMethods extends AbstractProcessor&lt;CtMethod&gt; {\n   public void process(CtMethod myMethod) {\n      System.out.println(mymethod.getSimpleName());\n   }\n}\n</code></pre>\n\n<p>and to use it:</p>\n\n<pre><code>Launcher launcher = new Launcher();\nlauncher.addInputResource(\"/path/to/your/source\");\nlauncher.addProcessor(new MyProcessForMethods());\nlauncher.run();\n</code></pre>\n\n<p>The method <code>process()</code> will be called each time a new <code>CtMethod</code> is find in the model: then it will process as well method nested from inner types and normal methods.</p>\n\n<p>Don't hesitate to open an issue on Spoon Github repository and to provide more insight on how you're using Spoon right now. </p>\n"}],"owner":{"account_id":14006330,"reputation":27,"user_id":10116392,"display_name":"larasmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662679081,"creation_date":1533144527,"question_id":51639091,"body_markdown":"I am trying to use SPOON developed by INRIA to retrieve all the methods in a program as well as all the method calls. I am able to do so for normal methods, however, I am not able to retrieve nested methods and I am not able to retrieve nested method calls either. \r\n\r\nHere is a fragment of code that I am parsing, In this case, I would like spoon to collect the method run() which is nested without the main, I would also like to retrieve the call from run to the constructor of the class ElbowLiner, could you please give me  directions on how to achieve this. I used getAll(true) to retrieve everything including the nested method calls but it did not work, I was not able to retrieve run() in the code fragment below and I was not able to retrieve the method call either from run() to the constructor of ElbowLiner\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                \r\n                // Create the two text areas\r\n                TextAreaFigure ta = new TextAreaFigure();\r\n                ta.setBounds(new Point2D.Double(10,10),new Point2D.Double(100,100));\r\n                \r\n                TextAreaFigure tb = new TextAreaFigure();\r\n                tb.setBounds(new Point2D.Double(210,110),new Point2D.Double(300,200));\r\n                \r\n                // Create an elbow connection\r\n                ConnectionFigure cf = new LineConnectionFigure();\r\n                cf.setLiner(new ElbowLiner());\r\n                \r\n                // Connect the figures\r\n                cf.setStartConnector(ta.findConnector(Geom.center(ta.getBounds()), cf));\r\n                cf.setEndConnector(tb.findConnector(Geom.center(tb.getBounds()), cf));\r\n                \r\n                // Add all figures to a drawing\r\n                Drawing drawing = new DefaultDrawing();\r\n                drawing.add(ta);\r\n                drawing.add(tb);\r\n                drawing.add(cf);\r\n                \r\n                // Show the drawing\r\n                JFrame f = new JFrame(&quot;My Drawing&quot;);\r\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                f.setSize(400,300);\r\n                \r\n                DrawingView view = new DefaultDrawingView();\r\n                view.setDrawing(drawing);\r\n                f.getContentPane().add(view.getComponent());\r\n                \r\n                f.setVisible(true);\r\n            }\r\n        });\r\n    }","title":"INRIA SPOON nested methods and nested methodcalls","body":"<p>I am trying to use SPOON developed by INRIA to retrieve all the methods in a program as well as all the method calls. I am able to do so for normal methods, however, I am not able to retrieve nested methods and I am not able to retrieve nested method calls either. </p>\n\n<p>Here is a fragment of code that I am parsing, In this case, I would like spoon to collect the method run() which is nested without the main, I would also like to retrieve the call from run to the constructor of the class ElbowLiner, could you please give me  directions on how to achieve this. I used getAll(true) to retrieve everything including the nested method calls but it did not work, I was not able to retrieve run() in the code fragment below and I was not able to retrieve the method call either from run() to the constructor of ElbowLiner</p>\n\n<pre><code>public static void main(String[] args) {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n\n            // Create the two text areas\n            TextAreaFigure ta = new TextAreaFigure();\n            ta.setBounds(new Point2D.Double(10,10),new Point2D.Double(100,100));\n\n            TextAreaFigure tb = new TextAreaFigure();\n            tb.setBounds(new Point2D.Double(210,110),new Point2D.Double(300,200));\n\n            // Create an elbow connection\n            ConnectionFigure cf = new LineConnectionFigure();\n            cf.setLiner(new ElbowLiner());\n\n            // Connect the figures\n            cf.setStartConnector(ta.findConnector(Geom.center(ta.getBounds()), cf));\n            cf.setEndConnector(tb.findConnector(Geom.center(tb.getBounds()), cf));\n\n            // Add all figures to a drawing\n            Drawing drawing = new DefaultDrawing();\n            drawing.add(ta);\n            drawing.add(tb);\n            drawing.add(cf);\n\n            // Show the drawing\n            JFrame f = new JFrame(\"My Drawing\");\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setSize(400,300);\n\n            DrawingView view = new DefaultDrawingView();\n            view.setDrawing(drawing);\n            f.getContentPane().add(view.getComponent());\n\n            f.setVisible(true);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","methods","call","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":390220,"reputation":449,"user_id":750142,"accept_rate":40,"display_name":"Simon Urli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533753099,"creation_date":1533753099,"answer_id":51753464,"question_id":51750756,"body_markdown":"&gt;  I am not sure if this is a bug in spoon or if I am using the wrong API to retrieve the constructor calls.\r\n\r\nI&#39;m one of the contributor of Spoon. It looks to me that you&#39;re using the right API, but I&#39;m not sure because your example looks a bit messy here.\r\nI think it would be easier if you open an issue on [Spoon Github repository][1] and specify: \r\n\r\n 1. the project you&#39;re working on if it&#39;s open-source\r\n 2. how you launch Spoon (the version of Spoon, arguments, etc)\r\n 3. what do you expect exactly\r\n\r\nThen we could investigate to check exactly what happens there. Thanks!\r\n\r\n\r\n  [1]: https://github.com/INRIA/spoon","title":"INRIA SPOON INNER METHODS CALLING CONSTRUCTORS","body":"<blockquote>\n  <p>I am not sure if this is a bug in spoon or if I am using the wrong API to retrieve the constructor calls.</p>\n</blockquote>\n\n<p>I'm one of the contributor of Spoon. It looks to me that you're using the right API, but I'm not sure because your example looks a bit messy here.\nI think it would be easier if you open an issue on <a href=\"https://github.com/INRIA/spoon\" rel=\"nofollow noreferrer\">Spoon Github repository</a> and specify: </p>\n\n<ol>\n<li>the project you're working on if it's open-source</li>\n<li>how you launch Spoon (the version of Spoon, arguments, etc)</li>\n<li>what do you expect exactly</li>\n</ol>\n\n<p>Then we could investigate to check exactly what happens there. Thanks!</p>\n"}],"owner":{"account_id":14006330,"reputation":27,"user_id":10116392,"display_name":"larasmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662679069,"creation_date":1533743127,"question_id":51750756,"body_markdown":"I am trying to extract the calls from the method run() to the constructors. Here is the code I am trying to parse\r\n\r\n\t        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                \r\n                // Create the two text areas\r\n                TextAreaFigure ta = new TextAreaFigure();\r\n                ta.setBounds(new Point2D.Double(10,10),new Point2D.Double(100,100));\r\n                \r\n                TextAreaFigure tb = new TextAreaFigure();\r\n                tb.setBounds(new Point2D.Double(210,110),new Point2D.Double(300,200));\r\n                \r\n                // Create an elbow connection\r\n                ConnectionFigure cf = new LineConnectionFigure();\r\n                cf.setLiner(new ElbowLiner());\r\n                \r\n                // Connect the figures\r\n                cf.setStartConnector(ta.findConnector(Geom.center(ta.getBounds()), cf));\r\n                cf.setEndConnector(tb.findConnector(Geom.center(tb.getBounds()), cf));\r\n                \r\n                // Add all figures to a drawing\r\n                Drawing drawing = new DefaultDrawing();\r\n                drawing.add(ta);\r\n                drawing.add(tb);\r\n                drawing.add(cf);\r\n                \r\n                // Show the drawing\r\n                JFrame f = new JFrame(&quot;My Drawing&quot;);\r\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                f.setSize(400,300);\r\n                \r\n                DrawingView view = new DefaultDrawingView();\r\n                view.setDrawing(drawing);\r\n                f.getContentPane().add(view.getComponent());\r\n                \r\n                f.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\nHere is the code I am using to extract the calls from method run() to the constructors. The problem that I have is that the last line:  String constructorClassName=    cons.getExecutable().getDeclaringType().toString();  is returning the wrong class name, instead of getting &quot;jhot.draw.TextAreaFigure()&quot; as the name I am getting &quot;jhot.mini.samples.TextAreaFigure()&quot;. The file that I am parsing is located under &quot;jhot.mini.samples&quot; while the constructor is declared within &quot;jhot.draw.TextAreaFigure()&quot;. I am not sure if this is a bug in spoon or if I am using the wrong API to retrieve the constructor calls.\r\n\r\n       for(CtMethod&lt;?&gt; method :clazz.getMethods()) {\r\n    \tList&lt;CtConstructorCall&gt; ctNewClasses = method.getElements(new TypeFilter&lt;CtConstructorCall&gt;(CtConstructorCall.class));\r\n    \t\r\n    \tfor( CtConstructorCall myclass: ctNewClasses) {\r\n    \t\t//CONSTRUCTOR \r\n\t\t\t\r\n    \t\tif(myclass instanceof CtConstructorCall&lt;?&gt;) {\r\n    \t\t\tSystem.out.println(&quot;yes&quot;);\r\n    \t\t\tList&lt;CtMethod&gt; methoddeclared = myclass.getElements(new TypeFilter&lt;CtMethod&gt;(CtMethod.class)); \r\n    \t\t\tfor(CtMethod&lt;?&gt; meth: methoddeclared) {\r\n    \t\t\t\t methodinside=meth.getSignature(); \r\n    \t\t\t\t methodinsideclass=clazz.getQualifiedName(); \r\n    \t\t\t\t\r\n    \t\t\t\tString mymethod=methodinsideclass+&quot;.&quot;+methodinside; \r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tResultSet methodsinside = st.executeQuery(&quot;SELECT methods.* from methods where methods.fullmethod=&#39;&quot;+mymethod+&quot;&#39;&quot;); \r\n    \t    \t\t//while(callingmethodsrefined.next()){\r\n    \t    \t\tif(methodsinside.next()) {\r\n    \t    \t\t\t MethodIDINSIDE = methodsinside.getString(&quot;id&quot;); \r\n    \t    \t\t\t CLASSNAMEINSIDE = methodsinside.getString(&quot;classname&quot;); \r\n    \t    \t\t\t CLASSIDINSIDE = methodsinside.getString(&quot;classid&quot;); \r\n\r\n    \t    \t\t\t//System.out.println(&quot;CALLEE METHOD ID: &quot;+ CALLEEID);\r\n    \t    \t\t}\r\n    \t\r\n            \t    \t\tList&lt;CtConstructorCall&gt; constructors = meth.getElements(new TypeFilter&lt;CtConstructorCall&gt;(CtConstructorCall.class)); \r\n                \t\t\tfor(CtConstructorCall&lt;?&gt; cons: constructors) {\t\r\n                \t\t\t\t\r\n                \t\t\t\t\r\n                \t\t\t\t\r\n                \t\t\t\tString constructorClassName=\tcons.getExecutable().getDeclaringType().toString(); \r\n                \t\t\t\t\r\n                \t\t\t\t\r\n   \r\n        \t\t\t\t\r\n        \t\t\t}\r\n                \t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\t\r\n    \t\t}\r\n        \t\t\t","title":"INRIA SPOON INNER METHODS CALLING CONSTRUCTORS","body":"<p>I am trying to extract the calls from the method run() to the constructors. Here is the code I am trying to parse</p>\n\n<pre><code>        SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n\n            // Create the two text areas\n            TextAreaFigure ta = new TextAreaFigure();\n            ta.setBounds(new Point2D.Double(10,10),new Point2D.Double(100,100));\n\n            TextAreaFigure tb = new TextAreaFigure();\n            tb.setBounds(new Point2D.Double(210,110),new Point2D.Double(300,200));\n\n            // Create an elbow connection\n            ConnectionFigure cf = new LineConnectionFigure();\n            cf.setLiner(new ElbowLiner());\n\n            // Connect the figures\n            cf.setStartConnector(ta.findConnector(Geom.center(ta.getBounds()), cf));\n            cf.setEndConnector(tb.findConnector(Geom.center(tb.getBounds()), cf));\n\n            // Add all figures to a drawing\n            Drawing drawing = new DefaultDrawing();\n            drawing.add(ta);\n            drawing.add(tb);\n            drawing.add(cf);\n\n            // Show the drawing\n            JFrame f = new JFrame(\"My Drawing\");\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setSize(400,300);\n\n            DrawingView view = new DefaultDrawingView();\n            view.setDrawing(drawing);\n            f.getContentPane().add(view.getComponent());\n\n            f.setVisible(true);\n        }\n    });\n}\n</code></pre>\n\n<p>Here is the code I am using to extract the calls from method run() to the constructors. The problem that I have is that the last line:  String constructorClassName=    cons.getExecutable().getDeclaringType().toString();  is returning the wrong class name, instead of getting \"jhot.draw.TextAreaFigure()\" as the name I am getting \"jhot.mini.samples.TextAreaFigure()\". The file that I am parsing is located under \"jhot.mini.samples\" while the constructor is declared within \"jhot.draw.TextAreaFigure()\". I am not sure if this is a bug in spoon or if I am using the wrong API to retrieve the constructor calls.</p>\n\n<pre><code>   for(CtMethod&lt;?&gt; method :clazz.getMethods()) {\n    List&lt;CtConstructorCall&gt; ctNewClasses = method.getElements(new TypeFilter&lt;CtConstructorCall&gt;(CtConstructorCall.class));\n\n    for( CtConstructorCall myclass: ctNewClasses) {\n        //CONSTRUCTOR \n\n        if(myclass instanceof CtConstructorCall&lt;?&gt;) {\n            System.out.println(\"yes\");\n            List&lt;CtMethod&gt; methoddeclared = myclass.getElements(new TypeFilter&lt;CtMethod&gt;(CtMethod.class)); \n            for(CtMethod&lt;?&gt; meth: methoddeclared) {\n                 methodinside=meth.getSignature(); \n                 methodinsideclass=clazz.getQualifiedName(); \n\n                String mymethod=methodinsideclass+\".\"+methodinside; \n\n\n\n                ResultSet methodsinside = st.executeQuery(\"SELECT methods.* from methods where methods.fullmethod='\"+mymethod+\"'\"); \n                //while(callingmethodsrefined.next()){\n                if(methodsinside.next()) {\n                     MethodIDINSIDE = methodsinside.getString(\"id\"); \n                     CLASSNAMEINSIDE = methodsinside.getString(\"classname\"); \n                     CLASSIDINSIDE = methodsinside.getString(\"classid\"); \n\n                    //System.out.println(\"CALLEE METHOD ID: \"+ CALLEEID);\n                }\n\n                        List&lt;CtConstructorCall&gt; constructors = meth.getElements(new TypeFilter&lt;CtConstructorCall&gt;(CtConstructorCall.class)); \n                        for(CtConstructorCall&lt;?&gt; cons: constructors) {  \n\n\n\n                            String constructorClassName=    cons.getExecutable().getDeclaringType().toString(); \n\n\n\n\n                }\n                        }\n                    }\n\n        }\n</code></pre>\n"},{"tags":["java","inria-spoon"],"comments":[{"owner":{"account_id":968493,"reputation":1887,"user_id":1153476,"accept_rate":20,"display_name":"Martin Monperrus"},"score":0,"creation_date":1612788750,"post_id":66085689,"comment_id":116867723,"body_markdown":"Interesting question. Could you ask on Github?","body":"Interesting question. Could you ask on Github?"},{"owner":{"account_id":20651764,"reputation":1,"user_id":15161877,"display_name":"Udit Dasari"},"score":0,"creation_date":1612876463,"post_id":66085689,"comment_id":116898315,"body_markdown":"https://github.com/INRIA/spoon/issues/3789 yes, here it is","body":"<a href=\"https://github.com/INRIA/spoon/issues/3789\" rel=\"nofollow noreferrer\">github.com/INRIA/spoon/issues/3789</a> yes, here it is"}],"owner":{"account_id":20651764,"reputation":1,"user_id":15161877,"display_name":"Udit Dasari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662679024,"creation_date":1612684520,"question_id":66085689,"body_markdown":"Is there any way, i can prevent spoon parser from accessing the JVM classpath and provide necessary jars (rt.jar etc) in launcher.setSouceClassPath() ?","title":"Prevent spoon from accessing the JVM class path","body":"<p>Is there any way, i can prevent spoon parser from accessing the JVM classpath and provide necessary jars (rt.jar etc) in launcher.setSouceClassPath() ?</p>\n"},{"tags":["java","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":19845392,"reputation":96,"user_id":14537150,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615738082,"creation_date":1615738082,"answer_id":66626666,"question_id":66511178,"body_markdown":"To summarize a discussion about this at the [Spoon forum][1], the problem here concerns the semantics of `CtElement.replace`. The meaning is not that the invocation target takes on the same state as its argument. It means that the AST model which used to contain the invocation&#39;s target object as a node now contains the argument object as a replacement.\r\n\r\nWhen you used `replace` on a `CtMethod`, you probably checked the change with a parent element such as a `CtClass` and not that `CtMethod` itself. Similarly, you could use `originalElement.getParent()` after replacement to get a part of the current model to check the change. In this case, it will return a `CtPackage` that has a type element referenced by `uniqueParent` instead of `originalElement`.\r\n\r\n\r\n  [1]: https://github.com/INRIA/spoon/issues/3827","title":"API function `replace` doesn&#39;t replace a class with a CtClass instance","body":"<p>To summarize a discussion about this at the <a href=\"https://github.com/INRIA/spoon/issues/3827\" rel=\"nofollow noreferrer\">Spoon forum</a>, the problem here concerns the semantics of <code>CtElement.replace</code>. The meaning is not that the invocation target takes on the same state as its argument. It means that the AST model which used to contain the invocation's target object as a node now contains the argument object as a replacement.</p>\n<p>When you used <code>replace</code> on a <code>CtMethod</code>, you probably checked the change with a parent element such as a <code>CtClass</code> and not that <code>CtMethod</code> itself. Similarly, you could use <code>originalElement.getParent()</code> after replacement to get a part of the current model to check the change. In this case, it will return a <code>CtPackage</code> that has a type element referenced by <code>uniqueParent</code> instead of <code>originalElement</code>.</p>\n"}],"owner":{"account_id":6845616,"reputation":257,"user_id":5264537,"display_name":"Aman Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66626666,"answer_count":1,"score":0,"last_activity_date":1662679006,"creation_date":1615068896,"question_id":66511178,"body_markdown":"I am trying to execute the following piece of code.\r\n\r\n```java\r\nSystem.out.println(originalElement);\r\nSystem.out.println(uniqueParent);\r\n((CtClass) originalElement).replace((CtClass) uniqueParent);\r\n```\r\n\r\nwhere\r\n\r\n`originalElement` is\r\n```java\r\nclass Already {}\r\n```\r\nand `uniqueParent` is\r\n```java\r\nclass Already {\r\n    class Klass {}\r\n}\r\n```\r\n\r\nHowever, when I try to replace `originalElement` with `uniqueParent`, it doesn&#39;t work. I have tried the replace API with other elements such as `CtMethod` and it works there. I wanted to know if this is the intended behaviour with `CtClass` or is it supposed to be a bug?\r\n\r\n","title":"API function `replace` doesn&#39;t replace a class with a CtClass instance","body":"<p>I am trying to execute the following piece of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(originalElement);\nSystem.out.println(uniqueParent);\n((CtClass) originalElement).replace((CtClass) uniqueParent);\n</code></pre>\n<p>where</p>\n<p><code>originalElement</code> is</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Already {}\n</code></pre>\n<p>and <code>uniqueParent</code> is</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Already {\n    class Klass {}\n}\n</code></pre>\n<p>However, when I try to replace <code>originalElement</code> with <code>uniqueParent</code>, it doesn't work. I have tried the replace API with other elements such as <code>CtMethod</code> and it works there. I wanted to know if this is the intended behaviour with <code>CtClass</code> or is it supposed to be a bug?</p>\n"},{"tags":["java","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":19845392,"reputation":96,"user_id":14537150,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1615900397,"creation_date":1615900397,"answer_id":66655950,"question_id":66610637,"body_markdown":"If you by &quot;without fully compiling&quot; mean that you don&#39;t want Spoon to resolve type references in the compiled snippet then you can try:\r\n\r\n    Environment env = new StandardEnvironment();\r\n    env.setInputClassLoader(new URLClassLoader(new URL[]{}, null));\r\n    Factory factory = new FactoryImpl(new DefaultCoreFactory(),env);\r\n    CtCodeSnippetStatement statement = factory.createCodeSnippetStatement(&quot;pkg.MyClass myClass = new pkg.MyClass();&quot;);\r\n    CtStatement compiledStatement = statement.compile();\r\n\r\nAn environment is used here without input resources and it will prevent the system classloader from accessing the classpath. Elements in `compiledStatement` will return `null` with `getDeclaration`, and return `null` with `getTypeDeclaration` for accesses to user-defined classes. ","title":"Building Spoon CtElements for a CtCodeSnippetStatement without strict compiling","body":"<p>If you by &quot;without fully compiling&quot; mean that you don't want Spoon to resolve type references in the compiled snippet then you can try:</p>\n<pre><code>Environment env = new StandardEnvironment();\nenv.setInputClassLoader(new URLClassLoader(new URL[]{}, null));\nFactory factory = new FactoryImpl(new DefaultCoreFactory(),env);\nCtCodeSnippetStatement statement = factory.createCodeSnippetStatement(&quot;pkg.MyClass myClass = new pkg.MyClass();&quot;);\nCtStatement compiledStatement = statement.compile();\n</code></pre>\n<p>An environment is used here without input resources and it will prevent the system classloader from accessing the classpath. Elements in <code>compiledStatement</code> will return <code>null</code> with <code>getDeclaration</code>, and return <code>null</code> with <code>getTypeDeclaration</code> for accesses to user-defined classes.</p>\n"}],"owner":{"account_id":20943657,"reputation":3,"user_id":15387065,"display_name":"J.H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66655950,"answer_count":1,"score":0,"last_activity_date":1662678987,"creation_date":1615616276,"question_id":66610637,"body_markdown":"Is there a way to build CtElements for a CtCodeSnippetStatement without fully compiling? I have snippets Id like to be able to scan and further process, before inserting them into a class with the rest of their dependencies (methods / global variables which the snippet may reference).","title":"Building Spoon CtElements for a CtCodeSnippetStatement without strict compiling","body":"<p>Is there a way to build CtElements for a CtCodeSnippetStatement without fully compiling? I have snippets Id like to be able to scan and further process, before inserting them into a class with the rest of their dependencies (methods / global variables which the snippet may reference).</p>\n"},{"tags":["java","control-flow-graph","soot","inria-spoon","wala"],"comments":[{"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"score":1,"creation_date":1617026153,"post_id":66825461,"comment_id":118178429,"body_markdown":"JavaParser and Spoon are for Java **source** code; Soot is for Java byte code (source code parsing unmaintained for years). The others I am not sure.","body":"JavaParser and Spoon are for Java <b>source</b> code; Soot is for Java byte code (source code parsing unmaintained for years). The others I am not sure."},{"owner":{"account_id":1295630,"reputation":407,"user_id":1246775,"accept_rate":36,"display_name":"Ekin"},"score":0,"creation_date":1622357235,"post_id":66825461,"comment_id":119766171,"body_markdown":"@JMax Unfortunately, you are not right on Soot not being maintained for years. Please check its GitHub page (https://github.com/soot-oss/soot). You might have been confused when the time it was developed/maintained in McGill. Currently, it&#39;s maintained by the University of Paderborn.","body":"@JMax Unfortunately, you are not right on Soot not being maintained for years. Please check its GitHub page (<a href=\"https://github.com/soot-oss/soot\" rel=\"nofollow noreferrer\">github.com/soot-oss/soot</a>). You might have been confused when the time it was developed/maintained in McGill. Currently, it&#39;s maintained by the University of Paderborn."},{"owner":{"account_id":10583629,"reputation":1134,"user_id":7796663,"accept_rate":67,"display_name":"JMax"},"score":1,"creation_date":1622559488,"post_id":66825461,"comment_id":119823605,"body_markdown":"@Ekin I was talking about the part of Soot that reads Java source. The part that reads/writes Java or Android byte code is still maintained, but the part that reads Java source code is more or less unusable.","body":"@Ekin I was talking about the part of Soot that reads Java source. The part that reads/writes Java or Android byte code is still maintained, but the part that reads Java source code is more or less unusable."}],"answers":[{"tags":[],"owner":{"account_id":19845392,"reputation":96,"user_id":14537150,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617183463,"creation_date":1617183463,"answer_id":66885188,"question_id":66825461,"body_markdown":"Spoon would be a good fit for many tasks on your list, and it is quite easy to use. It is primarily used for source code transformation and analysis with the official documentation at [http://spoon.gforge.inria.fr/][1]. For control and data flow analysis there is the [spoon-control-flow][2] package which is based on Spoon.\r\n\r\n\r\n  [1]: https://spoon.gforge.inria.fr/\r\n  [2]: https://github.com/INRIA/spoon/tree/master/spoon-control-flow","title":"What is the difference between wala and soot?","body":"<p>Spoon would be a good fit for many tasks on your list, and it is quite easy to use. It is primarily used for source code transformation and analysis with the official documentation at <a href=\"https://spoon.gforge.inria.fr/\" rel=\"nofollow noreferrer\">http://spoon.gforge.inria.fr/</a>. For control and data flow analysis there is the <a href=\"https://github.com/INRIA/spoon/tree/master/spoon-control-flow\" rel=\"nofollow noreferrer\">spoon-control-flow</a> package which is based on Spoon.</p>\n"},{"tags":[],"owner":{"account_id":1295630,"reputation":407,"user_id":1246775,"accept_rate":36,"display_name":"Ekin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622359698,"creation_date":1622359386,"answer_id":67758758,"question_id":66825461,"body_markdown":"I used Soot many times, for different things. I am 100% sure that Soot extracts control-flow graphs, and performs intraprocedural and dataflow analysis. They really do have a good community and good people who are willing to help you out. However, I am not quite sure if you can extract PDG or SDG with Soot. I read papers that claim they did it with Soot, but there are no source codes or examples that I was able to find (maybe you have to do some modification, I don&#39;t know). But I also do know that you can perform an [interprocedural analysis with Soot][1] as well. \r\n\r\nHere are some [tutorials for Soot][2]. If you have any questions I recommend you to join their mail group and ask questions if you have any.\r\n\r\nFor WALA, I was also in a need of a PDG since that in its wiki it says you can extract a PDGs. Even though when you import the WALA project there are some example codes in it that you might want to look at. However, I was never able to get it running, because there wasn&#39;t enough documentation. Most of its documentation is pretty old.\r\n\r\nHere are some [tutorials for WALA][3].\r\nHere is also a [dataflow analysis test case][4] code that they have. Maybe it can give you some insight. I strongly recommend you to look into their test cases, it might help.\r\n\r\nBriefly, I believe you can all of the things you asked with Soot and WALA. However, personally, I was mostly able to do them with Soot. I guess it is more of a matter of how familiar get with them and how much you like one of them.\n\r\n\r\n  [1]: https://www.bodden.de/pubs/bodden12inter-procedural.pdf\r\n  [2]: https://github.com/soot-oss/soot/wiki/Tutorials\r\n  [3]: https://github.com/wala/WALA/wiki/Tutorials\r\n  [4]: https://github.com/wala/WALA/blob/3e1a81fdc05773923e104ea4a55fdddb10965539/com.ibm.wala.core/src/test/java/com/ibm/wala/examples/analysis/dataflow/DataflowTest.java","title":"What is the difference between wala and soot?","body":"<p>I used Soot many times, for different things. I am 100% sure that Soot extracts control-flow graphs, and performs intraprocedural and dataflow analysis. They really do have a good community and good people who are willing to help you out. However, I am not quite sure if you can extract PDG or SDG with Soot. I read papers that claim they did it with Soot, but there are no source codes or examples that I was able to find (maybe you have to do some modification, I don't know). But I also do know that you can perform an <a href=\"https://www.bodden.de/pubs/bodden12inter-procedural.pdf\" rel=\"nofollow noreferrer\">interprocedural analysis with Soot</a> as well.</p>\n<p>Here are some <a href=\"https://github.com/soot-oss/soot/wiki/Tutorials\" rel=\"nofollow noreferrer\">tutorials for Soot</a>. If you have any questions I recommend you to join their mail group and ask questions if you have any.</p>\n<p>For WALA, I was also in a need of a PDG since that in its wiki it says you can extract a PDGs. Even though when you import the WALA project there are some example codes in it that you might want to look at. However, I was never able to get it running, because there wasn't enough documentation. Most of its documentation is pretty old.</p>\n<p>Here are some <a href=\"https://github.com/wala/WALA/wiki/Tutorials\" rel=\"nofollow noreferrer\">tutorials for WALA</a>.\nHere is also a <a href=\"https://github.com/wala/WALA/blob/3e1a81fdc05773923e104ea4a55fdddb10965539/com.ibm.wala.core/src/test/java/com/ibm/wala/examples/analysis/dataflow/DataflowTest.java\" rel=\"nofollow noreferrer\">dataflow analysis test case</a> code that they have. Maybe it can give you some insight. I strongly recommend you to look into their test cases, it might help.</p>\n<p>Briefly, I believe you can all of the things you asked with Soot and WALA. However, personally, I was mostly able to do them with Soot. I guess it is more of a matter of how familiar get with them and how much you like one of them.</p>\n"}],"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1662678972,"creation_date":1616800764,"question_id":66825461,"body_markdown":"I need to chose a framework for following tasks in Java:\r\n\r\n- extract control flow graph\r\n- interprocedural and intraprocedural analysis\r\n- dataflow analysis\r\n- PDG\r\n- different souce code analysis tasks (like method body extraction, test code extraction)\r\n\r\nWhich framework would be a good fit for my tasks?\r\n\r\nI came across so many different tools apart from wala, soot as well like JavaParser, Spoon, to name a few.\r\n\r\nWhich framework should I chose? Ideally I would like to adopt a tool that is easier to use. Additionally, my expectation was given the popularity of Java tools should already exist for all these tasks. Or my understanding is wrong?\r\n\r\nI will appreciate it if anyone please point me to different resources etc.\r\n","title":"What is the difference between wala and soot?","body":"<p>I need to chose a framework for following tasks in Java:</p>\n<ul>\n<li>extract control flow graph</li>\n<li>interprocedural and intraprocedural analysis</li>\n<li>dataflow analysis</li>\n<li>PDG</li>\n<li>different souce code analysis tasks (like method body extraction, test code extraction)</li>\n</ul>\n<p>Which framework would be a good fit for my tasks?</p>\n<p>I came across so many different tools apart from wala, soot as well like JavaParser, Spoon, to name a few.</p>\n<p>Which framework should I chose? Ideally I would like to adopt a tool that is easier to use. Additionally, my expectation was given the popularity of Java tools should already exist for all these tasks. Or my understanding is wrong?</p>\n<p>I will appreciate it if anyone please point me to different resources etc.</p>\n"},{"tags":["java","eclipse","jsp"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1304684383,"creation_date":1304684383,"answer_id":5911308,"question_id":5911201,"body_markdown":"You need to print the values by `&lt;%= %&gt;`. The `&lt;% %&gt;` won&#39;t print anything.\r\n\r\n    &lt;option value=&quot;&lt;%=str%&gt;&quot;&gt;&lt;%=str%&gt;&lt;/option&gt;\r\n\r\n---\r\n\r\n**Unrelated** to the problem: this is [not][1] the best practice. Consider using taglibs/EL. You end up with better readable/maintainable code. \r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;jsp:useBean id=&quot;taxonomicTypeFeed&quot; class=&quot;com.example.TaxonomicTypeFeed&quot; /&gt;\r\n    ...\r\n    &lt;select&gt;\r\n        &lt;c:forEach items=&quot;${taxonomicTypeFeed.types}&quot; var=&quot;type&quot;&gt;\r\n            &lt;option value=&quot;${type}&quot;&gt;${type}&lt;/option&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/select&gt;\r\n\r\nInstead of `&lt;jsp:useBean&gt;` you can also use a preprocessing [servlet][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files\r\n  [2]: https://stackoverflow.com/tags/servlets/info","title":"Java populating &lt;option&gt; dropdown list","body":"<p>You need to print the values by <code>&lt;%= %&gt;</code>. The <code>&lt;% %&gt;</code> won't print anything.</p>\n\n<pre><code>&lt;option value=\"&lt;%=str%&gt;\"&gt;&lt;%=str%&gt;&lt;/option&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Unrelated</strong> to the problem: this is <a href=\"https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files\">not</a> the best practice. Consider using taglibs/EL. You end up with better readable/maintainable code. </p>\n\n<pre><code>&lt;%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;jsp:useBean id=\"taxonomicTypeFeed\" class=\"com.example.TaxonomicTypeFeed\" /&gt;\n...\n&lt;select&gt;\n    &lt;c:forEach items=\"${taxonomicTypeFeed.types}\" var=\"type\"&gt;\n        &lt;option value=\"${type}\"&gt;${type}&lt;/option&gt;\n    &lt;/c:forEach&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Instead of <code>&lt;jsp:useBean&gt;</code> you can also use a preprocessing <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a>.</p>\n"}],"owner":{"account_id":110175,"reputation":721,"user_id":291652,"accept_rate":71,"display_name":"urema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5911308,"answer_count":1,"score":2,"last_activity_date":1662678493,"creation_date":1304683813,"question_id":5911201,"body_markdown":"I have the following code:\r\n\r\n    &lt;div&gt;\r\n\t&lt;%\r\n\t\tTaxonomicTypeFeed ttf = new TaxonomicTypeFeed();\r\n\t\tArrayList&lt;String&gt; tmp = ttf.getTypes();\r\n\t\tSystem.out.println(&quot;Going to print&quot;);\r\n\t        for (int i=0; i &lt; tmp.size(); i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(tmp.get(i));\r\n\t\t}\r\n\t%&gt;\r\n\t\t\t\t\r\n\t\t&lt;form&gt;\r\n\t\t\t&lt;select&gt;\r\n\t\t\t&lt;%\r\n\t\t\t    Iterator&lt;String&gt; i = tmp.iterator();\r\n\t\t\t    while (i.hasNext())\r\n\t\t\t    {\r\n\t\t\t\tString str = i.next(); %&gt;\r\n\t\t\t\t&lt;option value=&quot;&lt;%str.toString();%&gt;&quot;&gt;&lt;%str.toString();%&gt;\r\n\t\t\t\t&lt;/option&gt;\r\n\t\t\t&lt;%}%&gt;\r\n\t\t&lt;/select&gt;\r\n\t    &lt;/form&gt;\r\n\t&lt;/div&gt;\r\n\r\nIt creates a dropdown list fine, however there is no text.\r\nThis is the first time I have ever used any of these options before, so I have no idea if I am even going about it in the right manner.","title":"Java populating &lt;option&gt; dropdown list","body":"<p>I have the following code:</p>\n<pre><code>&lt;div&gt;\n&lt;%\n    TaxonomicTypeFeed ttf = new TaxonomicTypeFeed();\n    ArrayList&lt;String&gt; tmp = ttf.getTypes();\n    System.out.println(&quot;Going to print&quot;);\n        for (int i=0; i &lt; tmp.size(); i++)\n    {\n        System.out.println(tmp.get(i));\n    }\n%&gt;\n            \n    &lt;form&gt;\n        &lt;select&gt;\n        &lt;%\n            Iterator&lt;String&gt; i = tmp.iterator();\n            while (i.hasNext())\n            {\n            String str = i.next(); %&gt;\n            &lt;option value=&quot;&lt;%str.toString();%&gt;&quot;&gt;&lt;%str.toString();%&gt;\n            &lt;/option&gt;\n        &lt;%}%&gt;\n    &lt;/select&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n<p>It creates a dropdown list fine, however there is no text.\nThis is the first time I have ever used any of these options before, so I have no idea if I am even going about it in the right manner.</p>\n"},{"tags":["java","generics","hashmap","dagger"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1662679245,"post_id":73655759,"comment_id":130067824,"body_markdown":"Type parameters are really just information for the compiler.  They cease to exist at run time.  In other words, `return new Repository&lt;EntityA&gt;();` and `return new Repository&lt;EntityB&gt;();` would actually both return the exact same thing.","body":"Type parameters are really just information for the compiler.  They cease to exist at run time.  In other words, <code>return new Repository&lt;EntityA&gt;();</code> and <code>return new Repository&lt;EntityB&gt;();</code> would actually both return the exact same thing."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662683053,"post_id":73655759,"comment_id":130068330,"body_markdown":"You&#39;ll need to show more context. What are you actually trying to do? Is `Config` a concrete class? Why is it not responsible for creating a suitable `Repository`?","body":"You&#39;ll need to show more context. What are you actually trying to do? Is <code>Config</code> a concrete class? Why is it not responsible for creating a suitable <code>Repository</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662683098,"post_id":73655759,"comment_id":130068338,"body_markdown":"And is `return Repository&lt;EntityA&gt;` meant to be `return new Repository&lt;&gt;()`?","body":"And is <code>return Repository&lt;EntityA&gt;</code> meant to be <code>return new Repository&lt;&gt;()</code>?"}],"owner":{"account_id":7096798,"reputation":15,"user_id":5430031,"display_name":"Megha Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662678151,"creation_date":1662678151,"question_id":73655759,"body_markdown":"I have a map like this - ```Map&lt;Class&lt;? extends Entity&gt;, Config&lt;? extends Entity&gt;&gt; entityClassToConfigMap```\r\n\r\nEntries in this class are like: ```&lt;EntityA.class, Config&lt;EntityA&gt;&gt;``` where EntityA extends Entity. Now I want to iterate over this map and based on the keys in the map I want to create more generic objects like:\r\n\r\n```\r\nswitch (entityKey.class) {\r\n   case (EntityA.class):\r\n       return Repository&lt;EntityA&gt;\r\n    case (EntityB.class):\r\n       return Repository&lt;EntityB&gt;\r\n...\r\n}\r\n```\r\n\r\nI know switch cannot work like that. Is there any other alternative? I am using dagger for dependency injection so also tried building providers using @IntoMap and @ClassKey but that too doesn&#39;t work.\r\n\r\nAny pointers will be appreciated. Thanks!","title":"How do we create generic object where the type of the object is a variable in java?","body":"<p>I have a map like this - <code>Map&lt;Class&lt;? extends Entity&gt;, Config&lt;? extends Entity&gt;&gt; entityClassToConfigMap</code></p>\n<p>Entries in this class are like: <code>&lt;EntityA.class, Config&lt;EntityA&gt;&gt;</code> where EntityA extends Entity. Now I want to iterate over this map and based on the keys in the map I want to create more generic objects like:</p>\n<pre><code>switch (entityKey.class) {\n   case (EntityA.class):\n       return Repository&lt;EntityA&gt;\n    case (EntityB.class):\n       return Repository&lt;EntityB&gt;\n...\n}\n</code></pre>\n<p>I know switch cannot work like that. Is there any other alternative? I am using dagger for dependency injection so also tried building providers using @IntoMap and @ClassKey but that too doesn't work.</p>\n<p>Any pointers will be appreciated. Thanks!</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1662674710,"post_id":73655374,"comment_id":130067086,"body_markdown":"Given [JLS, &#167;15.17.3](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.3) and the [documentation of OracleDB&#39;s `MOD` operation](https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions088.htm#i77996), Java&#39;s `%`-operation and OracleDB&#39;s `MOD` operation should be equivalent.","body":"Given <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.3\" rel=\"nofollow noreferrer\">JLS, &#167;15.17.3</a> and the <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions088.htm#i77996\" rel=\"nofollow noreferrer\">documentation of OracleDB&#39;s <code>MOD</code> operation</a>, Java&#39;s <code>%</code>-operation and OracleDB&#39;s <code>MOD</code> operation should be equivalent."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1662674868,"post_id":73655374,"comment_id":130067119,"body_markdown":"An interesting tid bid on the difference between `MOD` and `REMAINDER` can be found in the [documentation of OracleDB&#39;s `REMAINDER` operation](https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions133.htm): &quot;*The `MOD` function is similar to `REMAINDER` except that it uses `FLOOR` in its formula, whereas `REMAINDER` uses `ROUND`*&quot;.","body":"An interesting tid bid on the difference between <code>MOD</code> and <code>REMAINDER</code> can be found in the <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions133.htm\" rel=\"nofollow noreferrer\">documentation of OracleDB&#39;s <code>REMAINDER</code> operation</a>: &quot;<i>The <code>MOD</code> function is similar to <code>REMAINDER</code> except that it uses <code>FLOOR</code> in its formula, whereas <code>REMAINDER</code> uses <code>ROUND</code></i>&quot;."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1662675481,"post_id":73655374,"comment_id":130067227,"body_markdown":"The Oracle documentation on REMAINDER is terrible!","body":"The Oracle documentation on REMAINDER is terrible!"}],"answers":[{"tags":[],"owner":{"account_id":5503436,"reputation":333,"user_id":4372075,"display_name":"flyaround"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662677702,"creation_date":1662677394,"answer_id":73655694,"question_id":73655374,"body_markdown":"As Turing85 mentioned the Java&#39;s `%`-[operation][1] and Oracle SQL&#39;s `MOD` [operation][2] seems be equivalent.\r\n\r\n**Oracle**\r\n\r\n    REMAINDER(11,-4)   /* -1 */\r\n    REMAINDER(-11,-4)  /*  1 */\r\n    MOD(11,-4)         /*  3 */\r\n    MOD(-11,-4)        /* -3 */\r\n\r\n**Java**\r\n\r\n     11%-4            /*  3 */\r\n    -11%-4            /* -3 */\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.3\r\n  [2]: https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions088.htm#i77996","title":"Equivalent function in Oracle SQL for the Java Operator &#39;%&#39;","body":"<p>As Turing85 mentioned the Java's <code>%</code>-<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.3\" rel=\"nofollow noreferrer\">operation</a> and Oracle SQL's <code>MOD</code> <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions088.htm#i77996\" rel=\"nofollow noreferrer\">operation</a> seems be equivalent.</p>\n<p><strong>Oracle</strong></p>\n<pre><code>REMAINDER(11,-4)   /* -1 */\nREMAINDER(-11,-4)  /*  1 */\nMOD(11,-4)         /*  3 */\nMOD(-11,-4)        /* -3 */\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code> 11%-4            /*  3 */\n-11%-4            /* -3 */\n</code></pre>\n"}],"owner":{"account_id":5503436,"reputation":333,"user_id":4372075,"display_name":"flyaround"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73655694,"answer_count":1,"score":1,"last_activity_date":1662677702,"creation_date":1662673972,"question_id":73655374,"body_markdown":"What is the equivalent in Oracle SQL to have exactly same behavior of the Java % (Modulo) Operator?\r\n\r\nExample Java:\r\n\r\n    System.out.println(9 % 4);  // 1\r\n\r\nAs known Oracle SQL provides *REMAINDER* and *MOD*:\r\n\r\n    REMAINDER(9,4)  /* 1 */\r\n    MOD(9,4)        /* 1 */\r\n\r\nIt is not clear to me what the appropriate equivalent is here and how to evidence it.","title":"Equivalent function in Oracle SQL for the Java Operator &#39;%&#39;","body":"<p>What is the equivalent in Oracle SQL to have exactly same behavior of the Java % (Modulo) Operator?</p>\n<p>Example Java:</p>\n<pre><code>System.out.println(9 % 4);  // 1\n</code></pre>\n<p>As known Oracle SQL provides <em>REMAINDER</em> and <em>MOD</em>:</p>\n<pre><code>REMAINDER(9,4)  /* 1 */\nMOD(9,4)        /* 1 */\n</code></pre>\n<p>It is not clear to me what the appropriate equivalent is here and how to evidence it.</p>\n"},{"tags":["java","hibernate","postgresql-9.1","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1347946594,"creation_date":1347946594,"answer_id":12470956,"question_id":12468698,"body_markdown":"The clean way is to filter the Entitys who will produce unique-violation-exceptions. \r\nAfter you filtered that entitys, you can save the good ones.\r\n\r\nExceptions should used as they realy are: Exceptions.","title":"How to ignore unique violation during insert list of objects which contain set of object","body":"<p>The clean way is to filter the Entitys who will produce unique-violation-exceptions. \nAfter you filtered that entitys, you can save the good ones.</p>\n\n<p>Exceptions should used as they realy are: Exceptions.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347956859,"creation_date":1347956859,"answer_id":12473085,"question_id":12468698,"body_markdown":"Handle this dirty by Exceptions.\r\n\r\n1. Try to Update the Database, if fine break here.\r\nCatch the UniqueViolationException and find the JDBCException. Upcast to your qualified Database Exception and find the broken Children.\r\n\r\n2. Remove the Children from the Parent.\r\n\r\n3. Go to 1.\r\n\r\n","title":"How to ignore unique violation during insert list of objects which contain set of object","body":"<p>Handle this dirty by Exceptions.</p>\n\n<ol>\n<li><p>Try to Update the Database, if fine break here.\nCatch the UniqueViolationException and find the JDBCException. Upcast to your qualified Database Exception and find the broken Children.</p></li>\n<li><p>Remove the Children from the Parent.</p></li>\n<li><p>Go to 1.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1426618,"reputation":436,"user_id":1349953,"accept_rate":100,"display_name":"Kamil Kalinowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662677382,"creation_date":1662677382,"answer_id":73655693,"question_id":12468698,"body_markdown":"This is a Postgres-specific answer and not very kosher, but you could employ a similar approach with different DBs:\r\n\r\ntake the advantage of `on conflict` clause in native Postgres `insert` statement. That way you won&#39;t have to handle the unique constraint exceptions at all, the DB will solve the conflicts for you as it encounters them.\r\n\r\n1. Prepare a native SQL insert statement e.g. \r\n```insert into child (id, parent_id, data) values (:id, :parent_id, :data) on conflict do nothing```\r\n1. Use the previously written statement with  `javax.persistence.EntityManager#createNativeQuery(java.lang.String)`\r\n\r\n```\r\nEntityManager.createNativeQuery(sql)\r\n                .setParameter(&quot;id&quot;, it.id)\r\n                .setParameter(&quot;parent_id&quot;, parentId)\r\n                .setParameter(&quot;data&quot;, it.data)\r\n                .executeUpdate()\r\n```\r\n1. Repeat for all the children","title":"How to ignore unique violation during insert list of objects which contain set of object","body":"<p>This is a Postgres-specific answer and not very kosher, but you could employ a similar approach with different DBs:</p>\n<p>take the advantage of <code>on conflict</code> clause in native Postgres <code>insert</code> statement. That way you won't have to handle the unique constraint exceptions at all, the DB will solve the conflicts for you as it encounters them.</p>\n<ol>\n<li>Prepare a native SQL insert statement e.g.\n<code>insert into child (id, parent_id, data) values (:id, :parent_id, :data) on conflict do nothing</code></li>\n<li>Use the previously written statement with  <code>javax.persistence.EntityManager#createNativeQuery(java.lang.String)</code></li>\n</ol>\n<pre><code>EntityManager.createNativeQuery(sql)\n                .setParameter(&quot;id&quot;, it.id)\n                .setParameter(&quot;parent_id&quot;, parentId)\n                .setParameter(&quot;data&quot;, it.data)\n                .executeUpdate()\n</code></pre>\n<ol>\n<li>Repeat for all the children</li>\n</ol>\n"}],"owner":{"account_id":1675176,"reputation":1927,"user_id":1540896,"accept_rate":83,"display_name":"Mariusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4592,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12473085,"answer_count":3,"score":7,"last_activity_date":1662677382,"creation_date":1347926487,"question_id":12468698,"body_markdown":"I use PostgreSQL nad Spring data JPA with Hibernate. I have relation OneToMany with orphanRemoval = false because I very often add many childs to relation. \r\n\r\nParent:\r\n\r\n&gt; @OneToMany(mappedBy = &quot;parent&quot;, cascade = { CascadeType.ALL }, orphanRemoval = false, fetch = FetchType.LAZY)\r\n\tpublic Set&lt;Child&gt; getChildren() {\r\n\t\treturn children;\r\n\t}\r\n\r\nChild:\r\n\r\n&gt; \t@ManyToOne\r\n\t@JoinColumn(name = &quot;parent_id&quot;)\r\n\tpublic Parent getParent() {\r\n\t\treturn parent;\r\n\t}\r\n\r\nTo persist or merge object I use method \r\n\r\n&gt; Iterable&lt; T &gt;\tsave(Iterable&lt; extends T&gt; entities)\r\n\r\nform CrudRepository. I save list of parents, where every parent contain set of child. Child table has unique constraint. If constraint violations occurs I want to ignore that and ommit (do not persist) child which cases viloations but I want insert every child which doesn&#39;t case constraint violation. How to do that?","title":"How to ignore unique violation during insert list of objects which contain set of object","body":"<p>I use PostgreSQL nad Spring data JPA with Hibernate. I have relation OneToMany with orphanRemoval = false because I very often add many childs to relation. </p>\n\n<p>Parent:</p>\n\n<blockquote>\n  <p>@OneToMany(mappedBy = \"parent\", cascade = { CascadeType.ALL }, orphanRemoval = false, fetch = FetchType.LAZY)\n      public Set getChildren() {\n          return children;\n      }</p>\n</blockquote>\n\n<p>Child:</p>\n\n<blockquote>\n  <p>@ManyToOne\n      @JoinColumn(name = \"parent_id\")\n      public Parent getParent() {\n          return parent;\n      }</p>\n</blockquote>\n\n<p>To persist or merge object I use method </p>\n\n<blockquote>\n  <p>Iterable&lt; T > save(Iterable&lt; extends T> entities)</p>\n</blockquote>\n\n<p>form CrudRepository. I save list of parents, where every parent contain set of child. Child table has unique constraint. If constraint violations occurs I want to ignore that and ommit (do not persist) child which cases viloations but I want insert every child which doesn't case constraint violation. How to do that?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662677097,"post_id":73652529,"comment_id":130067500,"body_markdown":"_guarantee that no demographic records are ignored based on having an older timestamp_ - Then why not create a table for those events, and join the stream to the int ID in the table, and ignore timestamps?","body":"<i>guarantee that no demographic records are ignored based on having an older timestamp</i> - Then why not create a table for those events, and join the stream to the int ID in the table, and ignore timestamps?"},{"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"score":0,"creation_date":1662743821,"post_id":73652529,"comment_id":130084730,"body_markdown":"@OneCricketeer: create a table for the demographics? I did convert the stream to a table but had the exact same problem.","body":"@OneCricketeer: create a table for the demographics? I did convert the stream to a table but had the exact same problem."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662773489,"post_id":73652529,"comment_id":130090363,"body_markdown":"Yes, but you&#39;ll probably want to use remote statestore lookups to do joins against many partitions.","body":"Yes, but you&#39;ll probably want to use remote statestore lookups to do joins against many partitions."},{"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"score":0,"creation_date":1662875562,"post_id":73652529,"comment_id":130104701,"body_markdown":"@OneCricketeer, I&#39;d prefer to join a the primary KStream with a KTable indexed with the same key to enhance the Value with lookup data. This way I take advantage of sharding (with I don&#39;t get with GKTable or storage). Is this possible nor not?","body":"@OneCricketeer, I&#39;d prefer to join a the primary KStream with a KTable indexed with the same key to enhance the Value with lookup data. This way I take advantage of sharding (with I don&#39;t get with GKTable or storage). Is this possible nor not?"}],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662677025,"creation_date":1662655428,"question_id":73652529,"body_markdown":"I have a Kafka Streams topology that starts with a KStream from a topic of *Event* messages. Each *Event* has a *Patient ID*. This KStream then joins with a patient demographics KStream to enhance the resulting value&#39;s patient information. \r\n\r\nBoth topics have 30 partitions and both use the *Patient ID* as the key. Therefore it&#39;s co-partitioned and the data in both topics are sharded based on the same key. \r\n\r\nThe problem is that even though every patient is in TOPIC_PATIENT_INFO, quite often the demographic record isn&#39;t found in the left join. For example, in the ValueJoiner below, the *demog* object will be null.\r\n\r\n\r\n    KStream&lt;Integer, GenericRecord&gt; ksEvents = builder.stream(TOPIC_EVENTS);\r\n    KStream&lt;Integer, GenericRecord&gt; ksDemogs = builder.stream(TOPIC_PATIENT_INFO);\r\n\r\n    ksEvents\r\n     .peek((key, value) -&gt; log.info(&quot;before join k:{}, v:{}&quot;, key, value))\r\n     .leftJoin(ksDemogs, getValueJoinerWithKey(), JoinWindows.of(Duration.ofDays(500000)))     \r\n     .peek((key, value) -&gt; log.info(&quot;after join k:{}, v:{}&quot;, key, value))\r\n\r\n elsewhere in the code:\r\n\r\n    ValueJoinerWithKey&lt;Integer, GenericRecord, GenericRecord, GenericRecord&gt; getValueJoinerWithKey() {\r\n        return (key, event, demog) -&gt; {\r\n           // demog *should* never be null because every patient ID is in the patient_info topic.\r\n        }\r\n    }\r\n\r\n\r\nFor the demographics, I could have used a *GlobalKTable* instead of a *KStream* yet this would remove the advantage of co-partitioning and require that all instances of the streaming app contain all the demographic records; I&#39;d like to use sharding if possible.\r\n\r\nFYI: the large JoinWindow is to guarantee that no demographic records are ignored based on having an older timestamp.","title":"Kafka KStream to KStream left join not matching as expected","body":"<p>I have a Kafka Streams topology that starts with a KStream from a topic of <em>Event</em> messages. Each <em>Event</em> has a <em>Patient ID</em>. This KStream then joins with a patient demographics KStream to enhance the resulting value's patient information.</p>\n<p>Both topics have 30 partitions and both use the <em>Patient ID</em> as the key. Therefore it's co-partitioned and the data in both topics are sharded based on the same key.</p>\n<p>The problem is that even though every patient is in TOPIC_PATIENT_INFO, quite often the demographic record isn't found in the left join. For example, in the ValueJoiner below, the <em>demog</em> object will be null.</p>\n<pre><code>KStream&lt;Integer, GenericRecord&gt; ksEvents = builder.stream(TOPIC_EVENTS);\nKStream&lt;Integer, GenericRecord&gt; ksDemogs = builder.stream(TOPIC_PATIENT_INFO);\n\nksEvents\n .peek((key, value) -&gt; log.info(&quot;before join k:{}, v:{}&quot;, key, value))\n .leftJoin(ksDemogs, getValueJoinerWithKey(), JoinWindows.of(Duration.ofDays(500000)))     \n .peek((key, value) -&gt; log.info(&quot;after join k:{}, v:{}&quot;, key, value))\n</code></pre>\n<p>elsewhere in the code:</p>\n<pre><code>ValueJoinerWithKey&lt;Integer, GenericRecord, GenericRecord, GenericRecord&gt; getValueJoinerWithKey() {\n    return (key, event, demog) -&gt; {\n       // demog *should* never be null because every patient ID is in the patient_info topic.\n    }\n}\n</code></pre>\n<p>For the demographics, I could have used a <em>GlobalKTable</em> instead of a <em>KStream</em> yet this would remove the advantage of co-partitioning and require that all instances of the streaming app contain all the demographic records; I'd like to use sharding if possible.</p>\n<p>FYI: the large JoinWindow is to guarantee that no demographic records are ignored based on having an older timestamp.</p>\n"},{"tags":["java","eclipse","swt"],"comments":[{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":1,"creation_date":1339580797,"post_id":11012202,"comment_id":14392869,"body_markdown":"[A blog talks about it](http://tasktop.com/blog/eclipse/living-inside-eclipse-embedding-browsers-and-google-chrome) but a proper roadmap for embedding it is still not quite clear to me","body":"<a href=\"http://tasktop.com/blog/eclipse/living-inside-eclipse-embedding-browsers-and-google-chrome\" rel=\"nofollow noreferrer\">A blog talks about it</a> but a proper roadmap for embedding it is still not quite clear to me"},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1339580812,"post_id":11012202,"comment_id":14392880,"body_markdown":"Isn&#39;t webkit already part of Eclipse, and that you can browse inside of eclipse...","body":"Isn&#39;t webkit already part of Eclipse, and that you can browse inside of eclipse..."},{"owner":{"account_id":84562,"reputation":192,"user_id":236307,"display_name":"ssnyder"},"score":0,"creation_date":1341334127,"post_id":11012202,"comment_id":14892575,"body_markdown":"webkit is not included on windows.  You have to either install XULRunner to use with Firefox or the WebKit available with Safari.  I&#39;ve been unable to get this working with Chrome on windows.  If you need help getting firefox or safari working on Windows - let me know, I&#39;ve got those working - at least up to the latest supported versions in Eclipse Juno.","body":"webkit is not included on windows.  You have to either install XULRunner to use with Firefox or the WebKit available with Safari.  I&#39;ve been unable to get this working with Chrome on windows.  If you need help getting firefox or safari working on Windows - let me know, I&#39;ve got those working - at least up to the latest supported versions in Eclipse Juno."}],"answers":[{"tags":[],"owner":{"account_id":1363814,"reputation":5827,"user_id":1300669,"accept_rate":91,"display_name":"RP-"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1339581777,"creation_date":1339581042,"answer_id":11012350,"question_id":11012202,"body_markdown":"If you can not make it through UI, Try to edit settings in the following file.\r\n&lt;pre&gt;&lt;code&gt;YOUR-WORKSPACE\\\\.metadata\\\\.plugins\\org.eclipse.core.runtime\\\\.settings&lt;/code&gt;&lt;/pre&gt; there will be a file called `org.eclipse.ui.browser.prefs` open it with any text editor and change the appropriate values, It is self descriptive you can easily find out what to change and all. Have a back up of the same before you modify.\r\n\r\nHope this helps you.\r\n\r\nEDIT: Restart your eclipse to effect the above change.","title":"Integrate Google Chrome browser into eclipse","body":"<p>If you can not make it through UI, Try to edit settings in the following file.\n<pre><code>YOUR-WORKSPACE\\.metadata\\.plugins\\org.eclipse.core.runtime\\.settings</code></pre> there will be a file called <code>org.eclipse.ui.browser.prefs</code> open it with any text editor and change the appropriate values, It is self descriptive you can easily find out what to change and all. Have a back up of the same before you modify.</p>\n\n<p>Hope this helps you.</p>\n\n<p>EDIT: Restart your eclipse to effect the above change.</p>\n"},{"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1339741055,"creation_date":1339740471,"answer_id":11045441,"question_id":11012202,"body_markdown":"No, as of current stable release of google chrome, you cannot use it inside SWT. The reason is that google chrome (and essentially chromium) doesn&#39;t support ActiveX (like IE, Firefox, Safari etc) but is based on [NPAPI][1]. (**Note:** I am considering that you are working on Windows machine as you haven&#39;t mentioned in your question !!)\r\n\r\nBut there are projects which are trying to make an embeddable version of chromium. See these links:\r\n\r\n1. [Chromiumembedded][2]\r\n2. https://stackoverflow.com/questions/2162173/is-google-chrome-embeddable \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/NPAPI\r\n  [2]: http://code.google.com/p/chromiumembedded/","title":"Integrate Google Chrome browser into eclipse","body":"<p>No, as of current stable release of google chrome, you cannot use it inside SWT. The reason is that google chrome (and essentially chromium) doesn't support ActiveX (like IE, Firefox, Safari etc) but is based on <a href=\"http://en.wikipedia.org/wiki/NPAPI\" rel=\"nofollow noreferrer\">NPAPI</a>. (<strong>Note:</strong> I am considering that you are working on Windows machine as you haven't mentioned in your question !!)</p>\n\n<p>But there are projects which are trying to make an embeddable version of chromium. See these links:</p>\n\n<ol>\n<li><a href=\"http://code.google.com/p/chromiumembedded/\" rel=\"nofollow noreferrer\">Chromiumembedded</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2162173/is-google-chrome-embeddable\">Is Google Chrome embeddable?</a> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1781326,"reputation":37,"user_id":1623991,"display_name":"Kaustubh Dixit"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1366436556,"creation_date":1366436556,"answer_id":16117089,"question_id":11012202,"body_markdown":"You can set it through Eclipse UI. \r\n\r\nGoto : Window &gt; Preferences &gt; General &gt; Web Browser \r\n\r\nSelect &quot;Use External Browser&quot; radio button \r\n\r\nClick &quot;New&quot; button to add a new browser eg. Chrome !\r\n\r\nClick Apply + Ok\r\n\r\n... and you have it working !","title":"Integrate Google Chrome browser into eclipse","body":"<p>You can set it through Eclipse UI. </p>\n\n<p>Goto : Window > Preferences > General > Web Browser </p>\n\n<p>Select \"Use External Browser\" radio button </p>\n\n<p>Click \"New\" button to add a new browser eg. Chrome !</p>\n\n<p>Click Apply + Ok</p>\n\n<p>... and you have it working !</p>\n"},{"tags":[],"owner":{"account_id":1065222,"reputation":430,"user_id":1065978,"display_name":"Rotka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402500031,"creation_date":1402500031,"answer_id":24166690,"question_id":11012202,"body_markdown":"Bug 405031 - [Browser] implement Chromium support\r\n\r\n https://bugs.eclipse.org/bugs/show_bug.cgi?id=405031","title":"Integrate Google Chrome browser into eclipse","body":"<p>Bug 405031 - [Browser] implement Chromium support</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=405031\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=405031</a></p>\n"},{"tags":[],"owner":{"account_id":26285656,"reputation":1,"user_id":19953414,"display_name":"Sebastian Sampaoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662676716,"creation_date":1662676716,"answer_id":73655626,"question_id":11012202,"body_markdown":"To integrate Chromium into Eclipse or SWT applications you can use https://github.com/equoplatform/chromium-swt.","title":"Integrate Google Chrome browser into eclipse","body":"<p>To integrate Chromium into Eclipse or SWT applications you can use <a href=\"https://github.com/equoplatform/chromium-swt\" rel=\"nofollow noreferrer\">https://github.com/equoplatform/chromium-swt</a>.</p>\n"}],"owner":{"account_id":1190399,"reputation":323,"user_id":1163331,"accept_rate":8,"display_name":"Darshan Nair"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19991,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1662676716,"creation_date":1339580553,"question_id":11012202,"body_markdown":"I am trying to create an application using SWT Browser. Is it possible to integrate Google Chrome as browser into Eclipse (not as external web browser)?","title":"Integrate Google Chrome browser into eclipse","body":"<p>I am trying to create an application using SWT Browser. Is it possible to integrate Google Chrome as browser into Eclipse (not as external web browser)?</p>\n"},{"tags":["java","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":8540893,"reputation":771,"user_id":6401064,"display_name":"Ouss&#232;ma Hassine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662676592,"creation_date":1662676592,"answer_id":73655616,"question_id":73090997,"body_markdown":"If you moved to use compose fully, then I think you can proceed like this:\r\ncreate you Custom view and call it in compose\r\n\r\n    \r\n    class VideoCrop extends TextureView implements TextureView.SurfaceTextureListener {\r\n\r\n    private MediaPlayer mPlayer;\r\n    private Surface mSurface;\r\n    private TextureView textureview;\r\n    \r\n    public VideoCrop(Context context) {\r\n       super(context);\r\n       setSurfaceTextureListener(this);\r\n       setOpaque(false);\r\n    }\r\n    \r\n    @Override\r\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n    \r\n        if (mPlayer == null) {\r\n            try {\r\n                mSurface = new Surface(surface);\r\n                mPlayer = new MediaPlayer();\r\n                mPlayer.setSurface(mSurface);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            }\r\n    }\r\n    \r\n    @Override\r\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n        return false;\r\n    }\r\n    \r\n    @Override\r\n    public void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\r\n    \r\n    }\r\n    }\r\n\r\nand in compose\r\n\r\n    @Composable\r\n    fun CustomView(){\r\n        val context = LocalContext.current\r\n\r\n        AndroidView(factory = {\r\n               VideoCrop(context).apply {\r\n                   layoutParams = FrameLayout.LayoutParams(MATCH_PARENT, MATCH_PARENT)\r\n               }\r\n          })\r\n    }","title":"Using TextureView and MediaPlayer in Jetpack Compose","body":"<p>If you moved to use compose fully, then I think you can proceed like this:\ncreate you Custom view and call it in compose</p>\n<pre><code>class VideoCrop extends TextureView implements TextureView.SurfaceTextureListener {\n\nprivate MediaPlayer mPlayer;\nprivate Surface mSurface;\nprivate TextureView textureview;\n\npublic VideoCrop(Context context) {\n   super(context);\n   setSurfaceTextureListener(this);\n   setOpaque(false);\n}\n\n@Override\npublic void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n\n    if (mPlayer == null) {\n        try {\n            mSurface = new Surface(surface);\n            mPlayer = new MediaPlayer();\n            mPlayer.setSurface(mSurface);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        }\n}\n\n@Override\npublic void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\n\n}\n\n@Override\npublic boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n    return false;\n}\n\n@Override\npublic void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\n\n}\n}\n</code></pre>\n<p>and in compose</p>\n<pre><code>@Composable\nfun CustomView(){\n    val context = LocalContext.current\n\n    AndroidView(factory = {\n           VideoCrop(context).apply {\n               layoutParams = FrameLayout.LayoutParams(MATCH_PARENT, MATCH_PARENT)\n           }\n      })\n}\n</code></pre>\n"}],"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73655616,"answer_count":1,"score":3,"last_activity_date":1662676592,"creation_date":1658581517,"question_id":73090997,"body_markdown":"**My source code was written in Java and now I want to convert to Compose**\r\n\r\n**How can I convert the above code to Compose?**\r\n\r\nJava\r\n\r\n```java\r\n\r\nclass VideoCropActivity extends Activity implements TextureView.SurfaceTextureListener {\r\n\r\n    private MediaPlayer mPlayer;\r\n    private Surface mSurface;\r\n    private TextureView textureview;\r\n    \r\n    public void initSurface() {\r\n        textureview = (TextureView) findViewById(R.id.aliyun_video_textureview);\r\n        textureview.setSurfaceTextureListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n\r\n        if (mPlayer == null) {\r\n            try {\r\n                mSurface = new Surface(surface);\r\n                mPlayer = new MediaPlayer();\r\n                mPlayer.setSurface(mSurface);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\r\n\r\n    }\r\n}\r\n\r\n\r\n````\r\n\r\n**How can I convert the above code to Compose?**\r\n\r\n**My source code was written in Java and now I want to convert to Compose**\r\n\r\n\r\n\r\n**This is the way I use now, but it&#39;s not working**\r\n\r\n```kotlin\r\nAndroidView(factory = {\r\n        val view = LayoutInflater.from(it).inflate(R.layout.aliyun_video_player, null)\r\n        val textureView = view.findViewById&lt;TextureView&gt;(R.id.videoTextureView)\r\n        textureView.apply {\r\n\r\n            object : TextureView.SurfaceTextureListener {\r\n                override fun onSurfaceTextureAvailable(p0: SurfaceTexture, p1: Int, p2: Int) {\r\n                    // TODO(&quot;Not yet implemented&quot;)\r\n                    println(&quot;=================&quot;)\r\n                }\r\n\r\n                override fun onSurfaceTextureSizeChanged(p0: SurfaceTexture, p1: Int, p2: Int) {\r\n                    TODO(&quot;Not yet implemented&quot;)\r\n                }\r\n\r\n                override fun onSurfaceTextureDestroyed(p0: SurfaceTexture): Boolean {\r\n                    TODO(&quot;Not yet implemented&quot;)\r\n                }\r\n\r\n                override fun onSurfaceTextureUpdated(p0: SurfaceTexture) {\r\n                    TODO(&quot;Not yet implemented&quot;)\r\n                }\r\n            }\r\n        }\r\n    }, update = {\r\n\r\n        val s = it.surfaceTexture\r\n        if (s != null) {\r\n            val surface = android.view.Surface(it.surfaceTexture)\r\n            val mediaPlayer = MediaPlayer()\r\n            mediaPlayer.setSurface(surface)\r\n            println(it)\r\n\r\n        }\r\n\r\n    })\r\n\r\n```\r\n\r\n**My source code was written in Java and now I want to convert to Compose**\r\n\r\n**My source code was written in Java and now I want to convert to Compose**\r\n\r\n\r\n\r\n\r\n","title":"Using TextureView and MediaPlayer in Jetpack Compose","body":"<p><strong>My source code was written in Java and now I want to convert to Compose</strong></p>\n<p><strong>How can I convert the above code to Compose?</strong></p>\n<p>Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass VideoCropActivity extends Activity implements TextureView.SurfaceTextureListener {\n\n    private MediaPlayer mPlayer;\n    private Surface mSurface;\n    private TextureView textureview;\n    \n    public void initSurface() {\n        textureview = (TextureView) findViewById(R.id.aliyun_video_textureview);\n        textureview.setSurfaceTextureListener(this);\n    }\n\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n\n        if (mPlayer == null) {\n            try {\n                mSurface = new Surface(surface);\n                mPlayer = new MediaPlayer();\n                mPlayer.setSurface(mSurface);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            }\n    }\n\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\n\n    }\n\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n        return false;\n    }\n\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\n\n    }\n}\n\n\n</code></pre>\n<p><strong>How can I convert the above code to Compose?</strong></p>\n<p><strong>My source code was written in Java and now I want to convert to Compose</strong></p>\n<p><strong>This is the way I use now, but it's not working</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>AndroidView(factory = {\n        val view = LayoutInflater.from(it).inflate(R.layout.aliyun_video_player, null)\n        val textureView = view.findViewById&lt;TextureView&gt;(R.id.videoTextureView)\n        textureView.apply {\n\n            object : TextureView.SurfaceTextureListener {\n                override fun onSurfaceTextureAvailable(p0: SurfaceTexture, p1: Int, p2: Int) {\n                    // TODO(&quot;Not yet implemented&quot;)\n                    println(&quot;=================&quot;)\n                }\n\n                override fun onSurfaceTextureSizeChanged(p0: SurfaceTexture, p1: Int, p2: Int) {\n                    TODO(&quot;Not yet implemented&quot;)\n                }\n\n                override fun onSurfaceTextureDestroyed(p0: SurfaceTexture): Boolean {\n                    TODO(&quot;Not yet implemented&quot;)\n                }\n\n                override fun onSurfaceTextureUpdated(p0: SurfaceTexture) {\n                    TODO(&quot;Not yet implemented&quot;)\n                }\n            }\n        }\n    }, update = {\n\n        val s = it.surfaceTexture\n        if (s != null) {\n            val surface = android.view.Surface(it.surfaceTexture)\n            val mediaPlayer = MediaPlayer()\n            mediaPlayer.setSurface(surface)\n            println(it)\n\n        }\n\n    })\n\n</code></pre>\n<p><strong>My source code was written in Java and now I want to convert to Compose</strong></p>\n<p><strong>My source code was written in Java and now I want to convert to Compose</strong></p>\n"},{"tags":["java","subprocess","swt","chromium","chromium-embedded"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1605254813,"post_id":64812258,"comment_id":114599933,"body_markdown":"It might be better to ask this on [Eclipse Bugzilla](https://bugs.eclipse.org/bugs/) where the developers should see it","body":"It might be better to ask this on <a href=\"https://bugs.eclipse.org/bugs/\" rel=\"nofollow noreferrer\">Eclipse Bugzilla</a> where the developers should see it"}],"owner":{"account_id":2906040,"reputation":171,"user_id":4127116,"display_name":"avehlies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662676524,"creation_date":1605217678,"question_id":64812258,"body_markdown":"I&#39;ve updated to SWT 4.17.0 recently which allows the use of ```SWT.CHROMIUM``` as a ```style``` value on a ```Browser```. When creating the ```Browser``` a ```chromium_subp-4936r26.exe``` process is created in Task Manager in Windows.\r\n\r\nSometimes when closing the application, the subprocess is removed from Task Manager, but other times, it will just stick around and actually start to use more and more CPU to the point where fans in the laptop start to go into high gear.\r\n\r\nI&#39;ve tried adding a ```DisposeListener``` on the parent ```Composite``` to call ```browser.close();``` and ```browser.dispose();``` but that doesn&#39;t always work.\r\n\r\nI&#39;ve also gone so far as to outright call ```Chromium.shutdown();``` while my application closes and it still isn&#39;t consistent. It looks like there are some examples of subprocesses continuing to run ( https://magpcss.org/ceforum/viewtopic.php?t=15413 ) but with the way Chromium is implemented in SWT, I don&#39;t think I have access to those inner objects.\r\n\r\nI&#39;ve tested out if it happens if I&#39;m leaving the window open for a long time or if it&#39;s only happening when opening the window and closing before it fully creates the ```Browser```. It might leave the subprocess going more often when I close it quickly, but I can&#39;t guarantee that&#39;s an accurate assessment.\r\n\r\nWhat, if anything, can I do to be sure that all ```chromium_subp-4936r26.exe``` processes are killed when my application closes?","title":"SWT Chromium browser subprocesses continue running after application is closed","body":"<p>I've updated to SWT 4.17.0 recently which allows the use of <code>SWT.CHROMIUM</code> as a <code>style</code> value on a <code>Browser</code>. When creating the <code>Browser</code> a <code>chromium_subp-4936r26.exe</code> process is created in Task Manager in Windows.</p>\n<p>Sometimes when closing the application, the subprocess is removed from Task Manager, but other times, it will just stick around and actually start to use more and more CPU to the point where fans in the laptop start to go into high gear.</p>\n<p>I've tried adding a <code>DisposeListener</code> on the parent <code>Composite</code> to call <code>browser.close();</code> and <code>browser.dispose();</code> but that doesn't always work.</p>\n<p>I've also gone so far as to outright call <code>Chromium.shutdown();</code> while my application closes and it still isn't consistent. It looks like there are some examples of subprocesses continuing to run ( <a href=\"https://magpcss.org/ceforum/viewtopic.php?t=15413\" rel=\"nofollow noreferrer\">https://magpcss.org/ceforum/viewtopic.php?t=15413</a> ) but with the way Chromium is implemented in SWT, I don't think I have access to those inner objects.</p>\n<p>I've tested out if it happens if I'm leaving the window open for a long time or if it's only happening when opening the window and closing before it fully creates the <code>Browser</code>. It might leave the subprocess going more often when I close it quickly, but I can't guarantee that's an accurate assessment.</p>\n<p>What, if anything, can I do to be sure that all <code>chromium_subp-4936r26.exe</code> processes are killed when my application closes?</p>\n"},{"tags":["java","swt"],"answers":[{"tags":[],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641395524,"creation_date":1641395524,"answer_id":70595211,"question_id":70595087,"body_markdown":"According to the [Eclipse Foundation][1] - &quot;The Browser widget binds to a suitable native HTML rendering engine for the platform it is running on (Internet Explorer on Windows, Mozilla on Linux, Safari on the Mac&quot;\r\n\r\n\r\n  [1]: https://www.eclipse.org/articles/Article-SWT-browser-widget/browser.html","title":"How SWT browser work internally, does it call native browser or it uses OS libraries?","body":"<p>According to the <a href=\"https://www.eclipse.org/articles/Article-SWT-browser-widget/browser.html\" rel=\"nofollow noreferrer\">Eclipse Foundation</a> - &quot;The Browser widget binds to a suitable native HTML rendering engine for the platform it is running on (Internet Explorer on Windows, Mozilla on Linux, Safari on the Mac&quot;</p>\n"},{"tags":[],"owner":{"account_id":26285656,"reputation":1,"user_id":19953414,"display_name":"Sebastian Sampaoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662675875,"creation_date":1662675875,"answer_id":73655560,"question_id":70595087,"body_markdown":"The open source SWT browser Equo Chromium (https://github.com/equoplatform/chromium-swt) does not rely on native browsers (Internet Explorer on Windows, WebKit on macOS, and WebKitGTK+ or Mozilla/XULRunner on Linux). Instead, it binds to Chromium. Then you will have the same rendering experience across all platforms and you won&#39;t have to install any external libraries.\r\n","title":"How SWT browser work internally, does it call native browser or it uses OS libraries?","body":"<p>The open source SWT browser Equo Chromium (<a href=\"https://github.com/equoplatform/chromium-swt\" rel=\"nofollow noreferrer\">https://github.com/equoplatform/chromium-swt</a>) does not rely on native browsers (Internet Explorer on Windows, WebKit on macOS, and WebKitGTK+ or Mozilla/XULRunner on Linux). Instead, it binds to Chromium. Then you will have the same rendering experience across all platforms and you won't have to install any external libraries.</p>\n"}],"owner":{"account_id":19800679,"reputation":1,"user_id":14501769,"display_name":"Girish Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662675875,"creation_date":1641395003,"question_id":70595087,"body_markdown":"How SWT browser works internally? does it call native browser or it uses OS libraries? \r\n\r\nKindly explain internal working of swt browsers or share some free documentations","title":"How SWT browser work internally, does it call native browser or it uses OS libraries?","body":"<p>How SWT browser works internally? does it call native browser or it uses OS libraries?</p>\n<p>Kindly explain internal working of swt browsers or share some free documentations</p>\n"},{"tags":["javascript","java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1509842959,"post_id":47113915,"comment_id":81184292,"body_markdown":"I assume you tried the mechanisms described in the [API documentation](https://docs.oracle.com/javase/9/docs/api/javafx/scene/web/WebEngine.html). Post what you tried and describe exactly the problems you had implementing it.","body":"I assume you tried the mechanisms described in the <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">API documentation</a>. Post what you tried and describe exactly the problems you had implementing it."},{"owner":{"account_id":11416375,"reputation":628,"user_id":8555967,"display_name":"K&#252;roro"},"score":0,"creation_date":1509873249,"post_id":47113915,"comment_id":81189573,"body_markdown":"@James_D hmm, I never tried anything yet, cause my research and their examples are somewhat complicated for me... I&#39;ve searched about Java `Applet`s but I don&#39;t know how can I implement it cause I&#39;ve seen examples which they used it in a Swing application.","body":"@James_D hmm, I never tried anything yet, cause my research and their examples are somewhat complicated for me... I&#39;ve searched about Java <code>Applet</code>s but I don&#39;t know how can I implement it cause I&#39;ve seen examples which they used it in a Swing application."}],"answers":[{"tags":[],"owner":{"account_id":12118689,"reputation":196,"user_id":8851293,"display_name":"Oshan Mendis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1509868701,"creation_date":1509868701,"answer_id":47119418,"question_id":47113915,"body_markdown":"This is well explained in the [Java API Documentation][1] under **Calling back to Java from JavaScript**\r\n\r\n    public class JavaApplication {\r\n        public void exit() {\r\n            Platform.exit();\r\n        }\r\n    }\r\n    ...\r\n    JavaApplication javaApp = new JavaApplication();\r\n    JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n    window.setMember(&quot;app&quot;, javaApp);\r\n\r\n \r\nYou can then refer to the object and the method from your HTML page:\r\n\r\n    &lt;a href=&quot;&quot; onclick=&quot;app.exit()&quot;&gt;Click here to exit application&lt;/a&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/javafx/scene/web/WebEngine.html","title":"JavaFX invoking Java methods using JavaScript","body":"<p>This is well explained in the <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/scene/web/WebEngine.html\" rel=\"noreferrer\">Java API Documentation</a> under <strong>Calling back to Java from JavaScript</strong></p>\n\n<pre><code>public class JavaApplication {\n    public void exit() {\n        Platform.exit();\n    }\n}\n...\nJavaApplication javaApp = new JavaApplication();\nJSObject window = (JSObject) webEngine.executeScript(\"window\");\nwindow.setMember(\"app\", javaApp);\n</code></pre>\n\n<p>You can then refer to the object and the method from your HTML page:</p>\n\n<pre><code>&lt;a href=\"\" onclick=\"app.exit()\"&gt;Click here to exit application&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":11416375,"reputation":628,"user_id":8555967,"display_name":"K&#252;roro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3599,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":47119418,"answer_count":1,"score":3,"last_activity_date":1662675697,"creation_date":1509819037,"question_id":47113915,"body_markdown":"My application is completely styled in a web document form (HTML, CSS &amp; JavaScript), and I&#39;m only using JavaFX WebView to load it as a normal resource.\r\n\r\nI would like to invoke a method from one of my classes (a Java code) using JavaScript.\r\n\r\nLike for example, a simple Hello World to the console:\r\n\r\n    public class Hello {\r\n      public void world() {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n      }\r\n    }\r\n\r\nHow can I invoke the `world()` method in this case?\r\n\r\nSo my code from the page is something like this:\r\n\r\n    &lt;!-- onlick action from a button calls hello() function --&gt;\r\n    &lt;button onclick=&quot;hello();&quot; value=&quot;Invoke&quot;&gt;&lt;/button&gt;\r\n    \r\n    &lt;script&gt;\r\n      function hello() {\r\n        /* CODE WHICH INVOKE A JAVA METHOD */\r\n      }\r\n    &lt;/script&gt;\r\n\r\nAny way to achieve this?\r\n\r\n\r\n----------\r\n\r\n\r\n# UPDATE\r\n\r\n&gt; **Notice:** For those people who were looking for a complete and simple example about how to achieve this, you can test all the following codes written below.\r\n\r\nI&#39;ve finally achieved my goal, thanks to sir @Oshan_Mendis&#39; answer. This example is based from this tutorial from Oracle docs: [6 Making Upcalls from JavaScript to JavaFX][1].\r\n\r\nBut here, I&#39;ll be using my own code, the main goal is to call a method from Java code using JavaScript from the HTML page.\r\n\r\n## File contents:\r\n\r\n    Controller.java   /* Controller class for WebView */\r\n    Hello.java        /* Class in which method(s) will be invoked */\r\n    Main.java         /* Main class (launches the application) */\r\n    main.fxml         /* Main layout (WebView) */\r\n    index.html        /* Main layout web page content */\r\n\r\n### 1. Creating the Main-Class (Main.java)\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Main extends Application {\r\n      @Override\r\n      public void start(Stage stage) throws Exception {\r\n        /* The root layout of the application, an FXML contains the WebView layout. */\r\n        Parent root = FXMLLoader.load(Main.class.getResource(&quot;/main.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n      }\r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n    }\r\n\r\n### 2. Preparing the Main layout (main.fxml)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.web.WebView?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx/8&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n          fx:controller=&quot;Controller&quot;  &lt;!-- The controller class for this layout --&gt;\r\n          prefHeight=&quot;400.0&quot;\r\n          prefWidth=&quot;300.0&quot;&gt;\r\n      &lt;children&gt;\r\n        &lt;!-- Given the webView ID to initiate the web page --&gt;\r\n        &lt;WebView fx:id=&quot;webView&quot; /&gt;\r\n      &lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\n### 3. Setting up the web page (Controller.java)\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.concurrent.Worker.State;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import netscape.javascript.JSObject;\r\n\r\n    public class Controller implements Initializable {\r\n      private WebEngine webEngine;\r\n      @FXML private WebView webView;\r\n      @Override\r\n      public void initialize(URL location, ResourceBundle resources) {\r\n        /* Load the web page URL (location of the resource) */\r\n        URL url = Controller.class.getResource(&quot;/index.html&quot;);\r\n        webEngine = webView.getEngine();\r\n        webEngine.load(url.toExternalForm());\r\n        /* Set the State listener as well as the name of the JavaScript object and its\r\n         * corresponding Java object (the class in which methods will be invoked) that\r\n         * will serve as the bridge for the two objects.\r\n         */\r\n        webEngine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;State&gt;() {\r\n          @Override\r\n          public void changed(ObservableValue&lt;? extends State&gt; observableValue, State oldState, State newState) {\r\n            if (newState == State.SUCCEEDED) {\r\n              JSObject window = (JSObject) webEngine.executeScript(&quot;window&quot;);\r\n              /* The two objects are named using the setMember() method. */\r\n              window.setMember(&quot;invoke&quot;, new Hello());\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n### 4. Preferred class and its method to invoke (Hello.java)\r\n\r\n    public class Hello {\r\n      public void world() {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n      }\r\n    }\r\n\r\n### 5. Main layout web page content (index.html)\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;script&gt;\r\n          function helloWorld() {\r\n            /* JavaScript object name and the method to invoke */\r\n            invoke.world();\r\n          }\r\n        &lt;/script&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;!-- onlick event calls helloWorld() function --&gt;\r\n        &lt;button onclick=&quot;helloWorld()&quot;&gt;INVOKE&lt;/button&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&gt; **Note:** You can perform other mouse-related events other than onclick event in this case like: onmouseenter, onmouseover, onmousemove, onmouseup, etc.. But I&#39;m not really sure if these are the only supported events of invoking methods.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/8/webview/js-javafx.htm#BABIBFIG","title":"JavaFX invoking Java methods using JavaScript","body":"<p>My application is completely styled in a web document form (HTML, CSS &amp; JavaScript), and I'm only using JavaFX WebView to load it as a normal resource.</p>\n\n<p>I would like to invoke a method from one of my classes (a Java code) using JavaScript.</p>\n\n<p>Like for example, a simple Hello World to the console:</p>\n\n<pre><code>public class Hello {\n  public void world() {\n    System.out.println(\"Hello World!\");\n  }\n}\n</code></pre>\n\n<p>How can I invoke the <code>world()</code> method in this case?</p>\n\n<p>So my code from the page is something like this:</p>\n\n<pre><code>&lt;!-- onlick action from a button calls hello() function --&gt;\n&lt;button onclick=\"hello();\" value=\"Invoke\"&gt;&lt;/button&gt;\n\n&lt;script&gt;\n  function hello() {\n    /* CODE WHICH INVOKE A JAVA METHOD */\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Any way to achieve this?</p>\n\n<hr>\n\n<h1>UPDATE</h1>\n\n<blockquote>\n  <p><strong>Notice:</strong> For those people who were looking for a complete and simple example about how to achieve this, you can test all the following codes written below.</p>\n</blockquote>\n\n<p>I've finally achieved my goal, thanks to sir @Oshan_Mendis' answer. This example is based from this tutorial from Oracle docs: <a href=\"https://docs.oracle.com/javafx/8/webview/js-javafx.htm#BABIBFIG\" rel=\"noreferrer\">6 Making Upcalls from JavaScript to JavaFX</a>.</p>\n\n<p>But here, I'll be using my own code, the main goal is to call a method from Java code using JavaScript from the HTML page.</p>\n\n<h2>File contents:</h2>\n\n<pre><code>Controller.java   /* Controller class for WebView */\nHello.java        /* Class in which method(s) will be invoked */\nMain.java         /* Main class (launches the application) */\nmain.fxml         /* Main layout (WebView) */\nindex.html        /* Main layout web page content */\n</code></pre>\n\n<h3>1. Creating the Main-Class (Main.java)</h3>\n\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n  @Override\n  public void start(Stage stage) throws Exception {\n    /* The root layout of the application, an FXML contains the WebView layout. */\n    Parent root = FXMLLoader.load(Main.class.getResource(\"/main.fxml\"));\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.show();\n  }\n  public static void main(String[] args) {\n    launch(args);\n  }\n}\n</code></pre>\n\n<h3>2. Preparing the Main layout (main.fxml)</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.web.WebView?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox xmlns=\"http://javafx.com/javafx/8\"\n      xmlns:fx=\"http://javafx.com/fxml/1\"\n      fx:controller=\"Controller\"  &lt;!-- The controller class for this layout --&gt;\n      prefHeight=\"400.0\"\n      prefWidth=\"300.0\"&gt;\n  &lt;children&gt;\n    &lt;!-- Given the webView ID to initiate the web page --&gt;\n    &lt;WebView fx:id=\"webView\" /&gt;\n  &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<h3>3. Setting up the web page (Controller.java)</h3>\n\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker.State;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport netscape.javascript.JSObject;\n\npublic class Controller implements Initializable {\n  private WebEngine webEngine;\n  @FXML private WebView webView;\n  @Override\n  public void initialize(URL location, ResourceBundle resources) {\n    /* Load the web page URL (location of the resource) */\n    URL url = Controller.class.getResource(\"/index.html\");\n    webEngine = webView.getEngine();\n    webEngine.load(url.toExternalForm());\n    /* Set the State listener as well as the name of the JavaScript object and its\n     * corresponding Java object (the class in which methods will be invoked) that\n     * will serve as the bridge for the two objects.\n     */\n    webEngine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;State&gt;() {\n      @Override\n      public void changed(ObservableValue&lt;? extends State&gt; observableValue, State oldState, State newState) {\n        if (newState == State.SUCCEEDED) {\n          JSObject window = (JSObject) webEngine.executeScript(\"window\");\n          /* The two objects are named using the setMember() method. */\n          window.setMember(\"invoke\", new Hello());\n        }\n      }\n    });\n  }\n}\n</code></pre>\n\n<h3>4. Preferred class and its method to invoke (Hello.java)</h3>\n\n<pre><code>public class Hello {\n  public void world() {\n    System.out.println(\"Hello World!\");\n  }\n}\n</code></pre>\n\n<h3>5. Main layout web page content (index.html)</h3>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;script&gt;\n      function helloWorld() {\n        /* JavaScript object name and the method to invoke */\n        invoke.world();\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;!-- onlick event calls helloWorld() function --&gt;\n    &lt;button onclick=\"helloWorld()\"&gt;INVOKE&lt;/button&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> You can perform other mouse-related events other than onclick event in this case like: onmouseenter, onmouseover, onmousemove, onmouseup, etc.. But I'm not really sure if these are the only supported events of invoking methods.</p>\n</blockquote>\n"},{"tags":["java","user-interface","swing","awt","nullpointerexception"],"comments":[{"owner":{"account_id":51577,"reputation":54292,"user_id":154152,"display_name":"Noon Silk"},"score":0,"creation_date":1262864148,"post_id":2019914,"comment_id":1941693,"body_markdown":"Is &quot;jButton1&quot; set to something?","body":"Is &quot;jButton1&quot; set to something?"},{"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"score":0,"creation_date":1262864340,"post_id":2019914,"comment_id":1941721,"body_markdown":"yes ,I set an image for this button which name is yahoo_1.gif","body":"yes ,I set an image for this button which name is yahoo_1.gif"},{"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"score":1,"creation_date":1262866939,"post_id":2019914,"comment_id":1941986,"body_markdown":"I use this poor checking (Peter Lang recommended)which is:System.out.println(getClass().getResource(&quot;/Images/yahoo_1.gif&quot;));\nand it returns null,why? please help me.","body":"I use this poor checking (Peter Lang recommended)which is:System.out.println(getClass().getResource(&quot;/Images/yahoo_&zwnj;&#8203;1.gif&quot;)); and it returns null,why? please help me."}],"answers":[{"tags":[],"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1262867564,"creation_date":1262864526,"answer_id":2019956,"question_id":2019914,"body_markdown":"This means, that `getClass().getResource(&quot;/Images/yahoo_1.gif&quot;)` returns `null`.\r\n\r\n[JavaDoc][1] states that this happens if\r\n&gt; the resource could not be found or the invoker doesn&#39;t have adequate privileges to get the resource.\r\n\r\n1. Check if `getResource` really returns `null`:&lt;br&gt;\r\n`System.out.println(getClass().getResource(&quot;/Images/yahoo_1.gif&quot;));`\r\n\r\n1. Make sure that your path is correct and that it is in your classpath.\r\n\r\n**EDIT**:\r\n\r\nI just tried it with NetBeans. I created the following structure\r\n\r\n    Source Packages\r\n      Images\r\n        yahoo_1.gif\r\n\r\nand your code worked fine. Is this your structure?\r\n\r\nTry to right-click on your application and select `Clean and Build`.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>This means, that <code>getClass().getResource(\"/Images/yahoo_1.gif\")</code> returns <code>null</code>.</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29\" rel=\"noreferrer\">JavaDoc</a> states that this happens if</p>\n\n<blockquote>\n  <p>the resource could not be found or the invoker doesn't have adequate privileges to get the resource.</p>\n</blockquote>\n\n<ol>\n<li><p>Check if <code>getResource</code> really returns <code>null</code>:<br>\n<code>System.out.println(getClass().getResource(\"/Images/yahoo_1.gif\"));</code></p></li>\n<li><p>Make sure that your path is correct and that it is in your classpath.</p></li>\n</ol>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>I just tried it with NetBeans. I created the following structure</p>\n\n<pre><code>Source Packages\n  Images\n    yahoo_1.gif\n</code></pre>\n\n<p>and your code worked fine. Is this your structure?</p>\n\n<p>Try to right-click on your application and select <code>Clean and Build</code>.</p>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262864572,"creation_date":1262864572,"answer_id":2019960,"question_id":2019914,"body_markdown":"It looks like `getClass().getResource(&quot;/Images/yahoo_1.gif&quot;)` returns `null` i.e. the .gif cannot be found on your classpath. (Images versus images maybe?)","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>It looks like <code>getClass().getResource(\"/Images/yahoo_1.gif\")</code> returns <code>null</code> i.e. the .gif cannot be found on your classpath. (Images versus images maybe?)</p>\n"},{"tags":[],"owner":{"account_id":78707,"reputation":22338,"user_id":223806,"display_name":"Paolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262864646,"creation_date":1262864646,"answer_id":2019969,"question_id":2019914,"body_markdown":"The URL being passed in is null from this line:\r\n\r\n    getClass().getResource(&quot;/Images/yahoo_1.gif&quot;)\r\n\r\nFrom the JDK documentation:\r\n\r\n&gt; [getResource(..) returns] A URL object for reading the resource,\r\n&gt; or null if the resource could not be\r\n&gt; found or the invoker doesn&#39;t have\r\n&gt; adequate privileges to get the\r\n&gt; resource\r\n\r\nMaybe you meant (&quot;Images/yahoo_1.gif&quot;) - i.e. relative path not absolute?","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>The URL being passed in is null from this line:</p>\n\n<pre><code>getClass().getResource(\"/Images/yahoo_1.gif\")\n</code></pre>\n\n<p>From the JDK documentation:</p>\n\n<blockquote>\n  <p>[getResource(..) returns] A URL object for reading the resource,\n  or null if the resource could not be\n  found or the invoker doesn't have\n  adequate privileges to get the\n  resource</p>\n</blockquote>\n\n<p>Maybe you meant (\"Images/yahoo_1.gif\") - i.e. relative path not absolute?</p>\n"},{"tags":[],"owner":{"account_id":237135,"reputation":41,"user_id":505099,"display_name":"Ioana Marginean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289513787,"creation_date":1289512603,"answer_id":4159663,"question_id":2019914,"body_markdown":"In order to fix this, the images need to be copied in the **bin** directory - not in **src** directory.\r\n\r\nOtherwise you will get null all the time on **getClass().getResource(&quot;image.png&quot;)**. \r\nThe path is **not null** and you can set it as the above - only if you copy the images that you need inside the binary directory, where .class files for your project are located.\r\n\r\nThis fixed the problem. Let me know if I helped in this.\r\n\r\nIoana","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>In order to fix this, the images need to be copied in the <strong>bin</strong> directory - not in <strong>src</strong> directory.</p>\n\n<p>Otherwise you will get null all the time on <strong>getClass().getResource(\"image.png\")</strong>. \nThe path is <strong>not null</strong> and you can set it as the above - only if you copy the images that you need inside the binary directory, where .class files for your project are located.</p>\n\n<p>This fixed the problem. Let me know if I helped in this.</p>\n\n<p>Ioana</p>\n"},{"tags":[],"owner":{"account_id":8408792,"reputation":487,"user_id":6311455,"display_name":"0_o"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467329851,"creation_date":1464121953,"answer_id":37423333,"question_id":2019914,"body_markdown":"\t\r\nI had the same problem. What worked for me was:\r\n\r\n 1. Look into the jar file or in the bin folder(the one with .class files) and see the path of image.\r\n 2. List item\r\n","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>I had the same problem. What worked for me was:</p>\n\n<ol>\n<li>Look into the jar file or in the bin folder(the one with .class files) and see the path of image.</li>\n<li>List item</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9691141,"reputation":1,"user_id":7189188,"display_name":"sudheer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1479731201,"creation_date":1479729227,"answer_id":40719550,"question_id":2019914,"body_markdown":"    private class HandlerClass implements ActionListener{\r\n    \t\tpublic void actionperformed(ActionEvent event){\r\n    \t\t\tJOptionPane.showMessageDialog(null, String.format(&quot;%s&quot;, event.getActionCommand()));\r\n    \t\t}\r\n    \r\n    }","title":"Why does my icon handling code throw a NullPointerException?","body":"<pre><code>private class HandlerClass implements ActionListener{\n        public void actionperformed(ActionEvent event){\n            JOptionPane.showMessageDialog(null, String.format(\"%s\", event.getActionCommand()));\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22135017,"reputation":1,"user_id":16385962,"display_name":"QuieroAprender"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655452510,"creation_date":1655435312,"answer_id":72653930,"question_id":2019914,"body_markdown":"After reviewing some things when trying to add an image I was presented with the same problem that usually occurs in project with maven.\r\n\r\nI found a solution that uses the full path to be able to access the image. Also, create a function that returns an icon with the image and automatically scaled according to the dimensions that are sent to it.\r\n\r\nPath -&gt; directory where the image is located, width -&gt; width of the icon, heigth-&gt; height of the icon I hope it serves you, this is my first contribution in the community\r\n\r\n\r\n```java\r\npublic Icon getIcon(String ruta, int width, int heigth) {\r\n        Image image = (new ImageIcon(ruta)).getImage().getScaledInstance(width, heigth, 0);\r\n        Icon mIcono = new javax.swing.ImageIcon(image);\r\n        return mIcono;\r\n    }\r\n```","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>After reviewing some things when trying to add an image I was presented with the same problem that usually occurs in project with maven.</p>\n<p>I found a solution that uses the full path to be able to access the image. Also, create a function that returns an icon with the image and automatically scaled according to the dimensions that are sent to it.</p>\n<p>Path -&gt; directory where the image is located, width -&gt; width of the icon, heigth-&gt; height of the icon I hope it serves you, this is my first contribution in the community</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Icon getIcon(String ruta, int width, int heigth) {\n        Image image = (new ImageIcon(ruta)).getImage().getScaledInstance(width, heigth, 0);\n        Icon mIcono = new javax.swing.ImageIcon(image);\n        return mIcono;\n    }\n</code></pre>\n"}],"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29384,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2019956,"answer_count":7,"score":6,"last_activity_date":1662675627,"creation_date":1262864026,"question_id":2019914,"body_markdown":"I have added an image for my button,but when I run that frame this exception will be thrown .why?please help me.\r\n\r\n    init:\r\n    \r\n    deps-jar:\r\n    compile-single:\r\n    run-single:\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n            at javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:138)\r\n            at ClientGUI.IdAndPasswordFrame.initComponents(IdAndPasswordFrame.java:91)\r\n            at ClientGUI.IdAndPasswordFrame.&lt;init&gt;(IdAndPasswordFrame.java:22)\r\n            at ClientGUI.IdAndPasswordFrame$4.run(IdAndPasswordFrame.java:200)\r\n            at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\r\n            at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\r\n            at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\r\n            at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\r\n            at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\r\n            at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\r\n            at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\r\n            at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\r\n    BUILD SUCCESSFUL (total time: 1 second)\r\n\r\n\r\n\r\nline 138:\r\n\r\n    public ImageIcon (URL location) {\r\n        this(location, location.toExternalForm());\r\n    }\r\n\r\nline91:\r\n\r\n     jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/Images/yahoo_1.gif&quot;))); // NOI18N\r\n\r\n**I use this poor checking (Peter Lang recommended)which is:System.out.println(getClass().getResource(&quot;/Images/yahoo_1.gif&quot;)); and it returns null,why? please help me.**","title":"Why does my icon handling code throw a NullPointerException?","body":"<p>I have added an image for my button,but when I run that frame this exception will be thrown .why?please help me.</p>\n\n<pre><code>init:\n\ndeps-jar:\ncompile-single:\nrun-single:\nException in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n        at javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:138)\n        at ClientGUI.IdAndPasswordFrame.initComponents(IdAndPasswordFrame.java:91)\n        at ClientGUI.IdAndPasswordFrame.&lt;init&gt;(IdAndPasswordFrame.java:22)\n        at ClientGUI.IdAndPasswordFrame$4.run(IdAndPasswordFrame.java:200)\n        at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\nBUILD SUCCESSFUL (total time: 1 second)\n</code></pre>\n\n<p>line 138:</p>\n\n<pre><code>public ImageIcon (URL location) {\n    this(location, location.toExternalForm());\n}\n</code></pre>\n\n<p>line91:</p>\n\n<pre><code> jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/Images/yahoo_1.gif\"))); // NOI18N\n</code></pre>\n\n<p><strong>I use this poor checking (Peter Lang recommended)which is:System.out.println(getClass().getResource(\"/Images/yahoo_1.gif\")); and it returns null,why? please help me.</strong></p>\n"},{"tags":["java","html","css"],"comments":[{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":1,"creation_date":1662675400,"post_id":73655500,"comment_id":130067214,"body_markdown":"Your question is tagged JavaScript, but your code looks like Java, and the library is for Java.","body":"Your question is tagged JavaScript, but your code looks like Java, and the library is for Java."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1662676408,"post_id":73655500,"comment_id":130067381,"body_markdown":"ANSI4J is for coloring text in a TTY console.  HTML textareas don&#39;t support styling, but there are HTML WYSIWYG editors that might preserve styles in pasted text.","body":"ANSI4J is for coloring text in a TTY console.  HTML textareas don&#39;t support styling, but there are HTML WYSIWYG editors that might preserve styles in pasted text."},{"owner":{"account_id":3783619,"reputation":11,"user_id":8333864,"display_name":"rpthomps"},"score":0,"creation_date":1662736174,"post_id":73655500,"comment_id":130082396,"body_markdown":"Thank you Barmar and Mike Samuel I will look into WYSIWYG","body":"Thank you Barmar and Mike Samuel I will look into WYSIWYG"}],"owner":{"account_id":3783619,"reputation":11,"user_id":8333864,"display_name":"rpthomps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662675434,"creation_date":1662675095,"question_id":73655500,"body_markdown":"I have html and javascript that grabs a file and parses it and places chunks of the file in a textbox. However, the file has ANSI codes for colors. I want the textbox to display these colors as well. I have found [ANSI4J](https://github.com/PavelKastornyy/ansi4j) but I don&#39;t know how to incorporate it into my code. There is a readme file and it posts the following: \r\n\r\n```//First of all we create configuration for text attributes.\r\nvar palette = new XtermPalette256();\r\nAttributeConfig config = new DefaultTextAttributeConfig.Builder()\r\n        .defaultForegroundColor(0x000000)\r\n        .defaultBackgroundColor(0xffffff)\r\n        .fontFamilies(List.of(&quot;Arial&quot;, &quot;&#39;Times New Roman&#39;, Times, serif&quot;))\r\n        .extraColorsEnabled(true)\r\n        .palette16(palette)\r\n        .palette256(palette)\r\n        .build();\r\n\r\n//Now we need context that will keep attributes.\r\nAttributeContext context = new DefaultAttributeContext(List.of(config));\r\n\r\n//Now we create a function processor.\r\nvar processor = new DefaultCssFunctionProcessor.Builder()\r\n        .resolvers(new DefaultTextAttributeResolver())\r\n        .generators(new JavaFxCssGenerator())\r\n        .build();\r\n...\r\n//To generate CSS declarations we need to process function fragments. Currently only SGR functions are supported\r\nFragment fragment = ... ;\r\nif (fragment.getType() == FragmentType.FUNCTION) {\r\n    FunctionFragment functionFragment = (FunctionFragment) fragment;\r\n    if (functionFragment.getFunction() == ControlSequenceFunction.SGR_SELECT_GRAPHIC_RENDITION) {\r\n        List&lt;String&gt; declarations = processor.process(functionFragment, context);\r\n        var style = String.join(&quot;;&quot;, declarations);\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nbut I don&#39;t know what to do with this.\r\n\r\nAny help would be appreciated.","title":"incorporating javascript library into code","body":"<p>I have html and javascript that grabs a file and parses it and places chunks of the file in a textbox. However, the file has ANSI codes for colors. I want the textbox to display these colors as well. I have found <a href=\"https://github.com/PavelKastornyy/ansi4j\" rel=\"nofollow noreferrer\">ANSI4J</a> but I don't know how to incorporate it into my code. There is a readme file and it posts the following:</p>\n<pre><code>var palette = new XtermPalette256();\nAttributeConfig config = new DefaultTextAttributeConfig.Builder()\n        .defaultForegroundColor(0x000000)\n        .defaultBackgroundColor(0xffffff)\n        .fontFamilies(List.of(&quot;Arial&quot;, &quot;'Times New Roman', Times, serif&quot;))\n        .extraColorsEnabled(true)\n        .palette16(palette)\n        .palette256(palette)\n        .build();\n\n//Now we need context that will keep attributes.\nAttributeContext context = new DefaultAttributeContext(List.of(config));\n\n//Now we create a function processor.\nvar processor = new DefaultCssFunctionProcessor.Builder()\n        .resolvers(new DefaultTextAttributeResolver())\n        .generators(new JavaFxCssGenerator())\n        .build();\n...\n//To generate CSS declarations we need to process function fragments. Currently only SGR functions are supported\nFragment fragment = ... ;\nif (fragment.getType() == FragmentType.FUNCTION) {\n    FunctionFragment functionFragment = (FunctionFragment) fragment;\n    if (functionFragment.getFunction() == ControlSequenceFunction.SGR_SELECT_GRAPHIC_RENDITION) {\n        List&lt;String&gt; declarations = processor.process(functionFragment, context);\n        var style = String.join(&quot;;&quot;, declarations);\n        ...\n    }\n\n}\n</code></pre>\n<p>but I don't know what to do with this.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-amqp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662618162,"post_id":73644307,"comment_id":130048130,"body_markdown":"Have you actually **read** the error? It is complaining about the health check **not** your listener. The fact that you disable the listener doesn&#39;t mean Spring Boot doesn&#39;t detect the presence of RabbitMQ and does auto-configuration for it. You would need to disable that as well.","body":"Have you actually <b>read</b> the error? It is complaining about the health check <b>not</b> your listener. The fact that you disable the listener doesn&#39;t mean Spring Boot doesn&#39;t detect the presence of RabbitMQ and does auto-configuration for it. You would need to disable that as well."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662675115,"post_id":73644307,"comment_id":130067163,"body_markdown":"Removed kafka tag since your logs are explictly for RabbitMQ","body":"Removed kafka tag since your logs are explictly for RabbitMQ"},{"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":""},"score":0,"creation_date":1663030772,"post_id":73644307,"comment_id":130138425,"body_markdown":"Thank you for the reply. After adding the configuration (spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration), it works as I want.","body":"Thank you for the reply. After adding the configuration (spring.autoconfigure.exclude=org.springframework.boot.autoc&zwnj;&#8203;onfigure.amqp.Rabbit&zwnj;&#8203;AutoConfiguration), it works as I want."}],"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662675082,"creation_date":1662616764,"question_id":73644307,"body_markdown":"I have a problem with implementing the RabbitMQ listener or Kafka consumer by Springboot Profile.\r\n\r\nThe RabbitMQ library is added to gradle \r\n(implementation &#39;org.springframework.amqp:spring-rabbit:2.4.6&#39;)\r\n\r\nAnd the sources of RabbitMQ listener and Kafka consumer are implemented as follows.\r\n\r\nProfile Configured to use Kafka not RabbitMQ for the current message queue. I set it to spring.profiles.active = ProfileConfig.SIMUL, but the following error occurs.\r\n\r\nSince it was filtered by Profile, RabbitMQ should not be run, but I don&#39;t know why this problem occurs.\r\n\r\n```java \r\n@Component\r\n@Profile(ProfileConfig.DEDICATE)\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class RabbitMQListener {\r\n  private final ObjectMapper objectMapper;\r\n  private final CollectionProcessor collectionProcessor;\r\n  private final CollectionManagement collectionManagement;\r\n  private final AssetManagement assetManagement;\r\n  private final AssetProcessor assetProcessor;\r\n  private final TraceService traceService;\r\n\r\n  @RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;})\r\n  public void receiveMessage(final String message) {\r\n    try {\r\n      JSONParser parser = new JSONParser();\r\n      JSONObject json = (JSONObject) parser.parse(message);\r\n      String messageType = json.get(&quot;messageType&quot;).toString();\r\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\r\n      AsyncType asyncType = AsyncType.valueOf(messageType);\r\n      executeMessage(asyncType, message);\r\n    } catch (JsonProcessingException | IllegalArgumentException | ParseException e) {\r\n      traceService.removeTraceId();\r\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\r\n    }\r\n  }\r\n}\r\n```   \r\n```java    \r\n\r\n@Service\r\n@Profile({ProfileConfig.DEV, ProfileConfig.PROD, ProfileConfig.SIMUL})\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class KafkaConsumer {\r\n\r\n  private final ObjectMapper objectMapper;\r\n  private final CollectionProcessor collectionProcessor;\r\n  private final CollectionManagement collectionManagement;\r\n  private final AssetManagement assetManagement;\r\n  private final AssetProcessor assetProcessor;\r\n  private final TraceService traceService;\r\n\r\n  @KafkaListener(topics = {&quot;${aws.kafka.topic}&quot;})\r\n  public void consume(@Payload String message, @Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key){\r\n    try {\r\n      JSONParser parser = new JSONParser();\r\n      JSONObject json = (JSONObject) parser.parse(message);\r\n      String messageType = json.get(&quot;messageType&quot;).toString();\r\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\r\n      AsyncType asyncType = AsyncType.valueOf(messageType);\r\n      executeMessage(asyncType, message);\r\n    } catch (JsonProcessingException | IllegalArgumentException | ParseException e) {\r\n      traceService.removeTraceId();\r\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\r\n    }\r\n  }\r\n}\r\n```\r\n```\r\nWARN  22-09-08 14:41:23 Rabbit health check failed - [RMI TCP Connection(5)-xxx.xxx.xxx.xxx] [RabbitHealthIndicator:94]\r\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602)\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:724)\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2175)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2148)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2128)\r\n\tat org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:49)\r\n\tat org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44)\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor219.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:640)\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:615)\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565)\r\n\t... 49 common frames omitted\r\n```\r\n\r\n","title":"Spring boot Using Rabbitmq or kafka by Profile","body":"<p>I have a problem with implementing the RabbitMQ listener or Kafka consumer by Springboot Profile.</p>\n<p>The RabbitMQ library is added to gradle\n(implementation 'org.springframework.amqp:spring-rabbit:2.4.6')</p>\n<p>And the sources of RabbitMQ listener and Kafka consumer are implemented as follows.</p>\n<p>Profile Configured to use Kafka not RabbitMQ for the current message queue. I set it to spring.profiles.active = ProfileConfig.SIMUL, but the following error occurs.</p>\n<p>Since it was filtered by Profile, RabbitMQ should not be run, but I don't know why this problem occurs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(ProfileConfig.DEDICATE)\n@Slf4j\n@AllArgsConstructor\npublic class RabbitMQListener {\n  private final ObjectMapper objectMapper;\n  private final CollectionProcessor collectionProcessor;\n  private final CollectionManagement collectionManagement;\n  private final AssetManagement assetManagement;\n  private final AssetProcessor assetProcessor;\n  private final TraceService traceService;\n\n  @RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;})\n  public void receiveMessage(final String message) {\n    try {\n      JSONParser parser = new JSONParser();\n      JSONObject json = (JSONObject) parser.parse(message);\n      String messageType = json.get(&quot;messageType&quot;).toString();\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\n      AsyncType asyncType = AsyncType.valueOf(messageType);\n      executeMessage(asyncType, message);\n    } catch (JsonProcessingException | IllegalArgumentException | ParseException e) {\n      traceService.removeTraceId();\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\n@Profile({ProfileConfig.DEV, ProfileConfig.PROD, ProfileConfig.SIMUL})\n@Slf4j\n@AllArgsConstructor\npublic class KafkaConsumer {\n\n  private final ObjectMapper objectMapper;\n  private final CollectionProcessor collectionProcessor;\n  private final CollectionManagement collectionManagement;\n  private final AssetManagement assetManagement;\n  private final AssetProcessor assetProcessor;\n  private final TraceService traceService;\n\n  @KafkaListener(topics = {&quot;${aws.kafka.topic}&quot;})\n  public void consume(@Payload String message, @Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key){\n    try {\n      JSONParser parser = new JSONParser();\n      JSONObject json = (JSONObject) parser.parse(message);\n      String messageType = json.get(&quot;messageType&quot;).toString();\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\n      AsyncType asyncType = AsyncType.valueOf(messageType);\n      executeMessage(asyncType, message);\n    } catch (JsonProcessingException | IllegalArgumentException | ParseException e) {\n      traceService.removeTraceId();\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\n    }\n  }\n}\n</code></pre>\n<pre><code>WARN  22-09-08 14:41:23 Rabbit health check failed - [RMI TCP Connection(5)-xxx.xxx.xxx.xxx] [RabbitHealthIndicator:94]\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:602)\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:724)\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2175)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2148)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2128)\n    at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:49)\n    at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44)\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77)\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66)\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71)\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor219.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:640)\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:615)\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:565)\n    ... 49 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1662620550,"post_id":73643991,"comment_id":130048823,"body_markdown":"there&#39;s clearly something wrong as per this log message you sent:  in group KafkaStudy has failed, removing it from the group\nbut the piece of code you sent is not enough to find out the reason. \nNeed more detailed logging with possible error messages and more complete code.","body":"there&#39;s clearly something wrong as per this log message you sent:  in group KafkaStudy has failed, removing it from the group but the piece of code you sent is not enough to find out the reason.  Need more detailed logging with possible error messages and more complete code."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662674951,"post_id":73643991,"comment_id":130067136,"body_markdown":"There is no error in your logs","body":"There is no error in your logs"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662675021,"creation_date":1662675021,"answer_id":73655491,"question_id":73643991,"body_markdown":"By default, the consumer starts at the end of the topic. You need a new group id with\r\n\r\n    properties.put(&quot;auto.offset.reset&quot;,&quot;earliest&quot;);\r\n\r\nOr produce data while consumer is running. ","title":"unable to to poll the message from the kafka server by using the consumer","body":"<p>By default, the consumer starts at the end of the topic. You need a new group id with</p>\n<pre><code>properties.put(&quot;auto.offset.reset&quot;,&quot;earliest&quot;);\n</code></pre>\n<p>Or produce data while consumer is running.</p>\n"}],"owner":{"account_id":16161739,"reputation":1,"user_id":11667618,"display_name":"Kingfight98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662675021,"creation_date":1662613800,"question_id":73643991,"body_markdown":"while I run the java code use the kafka comsumer to poll the message from the kafka server, it always show 0 message, \r\n\r\nthe kafka server log shows the group error: \r\n~~~\r\n[2022-09-08 05:03:03,785] INFO [GroupCoordinator 1]: Dynamic Member with unknown member id joins group KafkaStudy in Empty state. Created a new member id consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b for this member and add to the group. (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:03,785] INFO [GroupCoordinator 1]: Preparing to rebalance group KafkaStudy in state PreparingRebalance with old generation 27 (__consumer_offsets-15) (reason: Adding new member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b with group instance id None; client reason: not provided) (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:03,788] INFO [GroupCoordinator 1]: Stabilized group KafkaStudy generation 28 (__consumer_offsets-15) with 1 members (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:03,809] INFO [GroupCoordinator 1]: Assignment received from leader consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b for group KafkaStudy for generation 28. The group has 1 members, 0 of which are static. (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:13,819] INFO [GroupCoordinator 1]: Member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b in group KafkaStudy has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:13,820] INFO [GroupCoordinator 1]: Preparing to rebalance group KafkaStudy in state PreparingRebalance with old generation 28 (__consumer_offsets-15) (reason: removing member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\r\n\r\n[2022-09-08 05:03:13,821] INFO [GroupCoordinator 1]: Group KafkaStudy with generation 29 is now empty (__consumer_offsets-15) (kafka.coordinator.group.GroupCoordinator)\r\n~~~\r\n\r\nthe below are code: \r\n~~~\r\n Properties properties = new Properties();\r\n        properties.put(&quot;bootstrap.servers&quot;,&quot;192.168.226.133:9092&quot;);\r\n        properties.put(&quot;key.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        properties.put(&quot;value.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        properties.put(&quot;enable.auto.commit&quot;, true);\r\n        properties.put(&quot;group.id&quot;,&quot;KafkaStudy&quot;);\r\n        properties.put(&quot;group.instance.id&quot;,&quot;1&quot;);\r\n        consumer = new KafkaConsumer&lt;String, String&gt;(properties);\r\n        consumer.subscribe(Collections.singleton(&quot;quickstart-events&quot;));\r\n\r\n        try{\r\n               ConsumerRecords&lt;String,String&gt; records = consumer.poll(100);\r\n                for (ConsumerRecord&lt;String, String&gt; record : records) {System.out.println(record.value());}\r\n\r\n            } finally{\r\n            consumer.close();\r\n        }\r\n~~~\r\n","title":"unable to to poll the message from the kafka server by using the consumer","body":"<p>while I run the java code use the kafka comsumer to poll the message from the kafka server, it always show 0 message,</p>\n<p>the kafka server log shows the group error:</p>\n<pre><code>[2022-09-08 05:03:03,785] INFO [GroupCoordinator 1]: Dynamic Member with unknown member id joins group KafkaStudy in Empty state. Created a new member id consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b for this member and add to the group. (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:03,785] INFO [GroupCoordinator 1]: Preparing to rebalance group KafkaStudy in state PreparingRebalance with old generation 27 (__consumer_offsets-15) (reason: Adding new member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b with group instance id None; client reason: not provided) (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:03,788] INFO [GroupCoordinator 1]: Stabilized group KafkaStudy generation 28 (__consumer_offsets-15) with 1 members (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:03,809] INFO [GroupCoordinator 1]: Assignment received from leader consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b for group KafkaStudy for generation 28. The group has 1 members, 0 of which are static. (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:13,819] INFO [GroupCoordinator 1]: Member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b in group KafkaStudy has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:13,820] INFO [GroupCoordinator 1]: Preparing to rebalance group KafkaStudy in state PreparingRebalance with old generation 28 (__consumer_offsets-15) (reason: removing member consumer-1-e99d5a30-346b-4e26-8ff5-7f0e5fac3e9b on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\n\n[2022-09-08 05:03:13,821] INFO [GroupCoordinator 1]: Group KafkaStudy with generation 29 is now empty (__consumer_offsets-15) (kafka.coordinator.group.GroupCoordinator)\n</code></pre>\n<p>the below are code:</p>\n<pre><code> Properties properties = new Properties();\n        properties.put(&quot;bootstrap.servers&quot;,&quot;192.168.226.133:9092&quot;);\n        properties.put(&quot;key.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        properties.put(&quot;value.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        properties.put(&quot;enable.auto.commit&quot;, true);\n        properties.put(&quot;group.id&quot;,&quot;KafkaStudy&quot;);\n        properties.put(&quot;group.instance.id&quot;,&quot;1&quot;);\n        consumer = new KafkaConsumer&lt;String, String&gt;(properties);\n        consumer.subscribe(Collections.singleton(&quot;quickstart-events&quot;));\n\n        try{\n               ConsumerRecords&lt;String,String&gt; records = consumer.poll(100);\n                for (ConsumerRecord&lt;String, String&gt; record : records) {System.out.println(record.value());}\n\n            } finally{\n            consumer.close();\n        }\n</code></pre>\n"},{"tags":["java","sbt","deeplearning4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1661895830,"post_id":73546888,"comment_id":129879945,"body_markdown":"Could you post your full build.sbt? You&#39;re probably including some -platform artifacts.","body":"Could you post your full build.sbt? You&#39;re probably including some -platform artifacts."},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1661901453,"post_id":73546888,"comment_id":129880988,"body_markdown":"You might need to exclude the -platform artifacts and readd the ones with classifiers:https://github.com/bytedeco/javacpp-presets/wiki/Reducing-the-Number-of-Dependencies","body":"You might need to exclude the -platform artifacts and readd the ones with classifiers:<a href=\"https://github.com/bytedeco/javacpp-presets/wiki/Reducing-the-Number-of-Dependencies\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacpp-presets/wiki/&hellip;</a>"},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1661957615,"post_id":73546888,"comment_id":129895927,"body_markdown":"@AdamGibson - see updated description","body":"@AdamGibson - see updated description"},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1661957857,"post_id":73546888,"comment_id":129896029,"body_markdown":"@SamuelAudet - I will try to use &quot;SBT-JavaCV&quot;, thanks. But on pure SBT level it should also be possible to define excludes, based on an artifacts &quot;classifier&quot; . I just dont know how.","body":"@SamuelAudet - I will try to use &quot;SBT-JavaCV&quot;, thanks. But on pure SBT level it should also be possible to define excludes, based on an artifacts &quot;classifier&quot; . I just dont know how."},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1662149240,"post_id":73546888,"comment_id":129947815,"body_markdown":"@SamuelAudet- I try to follow the &quot;SBT-JavaCV&quot; but not really understanding what Im doing there.\nAdded in plugins.sbt:  addSbtPlugin(&quot;org.bytedeco&quot; % &quot;sbt-javacpp&quot; % &quot;1.17&quot;)\n\nAdded in build.sbt:\njavaCppPresetLibs ++= Seq(&quot;opencv&quot; -&gt; &quot;4.5.5&quot;, &quot;opencv-gpu&quot; -&gt; &quot;4.5.5&quot;, &quot;mkl-redist&quot; -&gt; &quot;2022.0&quot;)\njavaCppPlatform := Seq(&quot;windows-x86_64&quot;, &quot;linux-x86_64&quot;)\njavaCppVersion := &quot;1.5.7&quot;\nfork := true\n\nand the outcome just gets even bigger and still includes jars for macox and android.","body":"@SamuelAudet- I try to follow the &quot;SBT-JavaCV&quot; but not really understanding what Im doing there. Added in plugins.sbt:  addSbtPlugin(&quot;org.bytedeco&quot; % &quot;sbt-javacpp&quot; % &quot;1.17&quot;)  Added in build.sbt: javaCppPresetLibs ++= Seq(&quot;opencv&quot; -&gt; &quot;4.5.5&quot;, &quot;opencv-gpu&quot; -&gt; &quot;4.5.5&quot;, &quot;mkl-redist&quot; -&gt; &quot;2022.0&quot;) javaCppPlatform := Seq(&quot;windows-x86_64&quot;, &quot;linux-x86_64&quot;) javaCppVersion := &quot;1.5.7&quot; fork := true  and the outcome just gets even bigger and still includes jars for macox and android."},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1662149244,"post_id":73546888,"comment_id":129947816,"body_markdown":"Most of this seem to come from my explicit dependency on &quot;org.nd4j:nd4j-native-platform&quot; (taken from here https://deeplearning4j.konduit.ai/multi-project/explanation/build-tools). \n\nIm still not sure if this problem is mainly about how to use SBT properly for tis case - or if its beyond SBT and I need to fiddle around with all those transitive dependencies of deeplearning4j and org.nd4j ( they dont even have a active project page .. http://nd4j.org)","body":"Most of this seem to come from my explicit dependency on &quot;org.nd4j:nd4j-native-platform&quot; (taken from here <a href=\"https://deeplearning4j.konduit.ai/multi-project/explanation/build-tools\" rel=\"nofollow noreferrer\">deeplearning4j.konduit.ai/multi-project/explanation/build-to&zwnj;&#8203;ols</a>).   Im still not sure if this problem is mainly about how to use SBT properly for tis case - or if its beyond SBT and I need to fiddle around with all those transitive dependencies of deeplearning4j and org.nd4j ( they dont even have a active project page .. <a href=\"http://nd4j.org\" rel=\"nofollow noreferrer\">nd4j.org</a>)"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1662287339,"post_id":73546888,"comment_id":129967204,"body_markdown":"If you&#39;re having problems with nd4j-native-platform, you can add manually only the artifacts you need instead, yes, that works fine.","body":"If you&#39;re having problems with nd4j-native-platform, you can add manually only the artifacts you need instead, yes, that works fine."},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1662488411,"post_id":73546888,"comment_id":130015560,"body_markdown":"@SamuelAudet - thanks. When I replace &quot;nd4j-native-platform&quot; with a more specific, I save a good chunk. But I save only the direct &quot;nd4j-native-&lt;some platform&gt;.jar&quot; libs. When I compare the dependency tree output and inspect the final fat-jar artifact, these dependencies are still in with all their ~ 10 platform varieties: org.bytedeco.ffmpeg , org.bytedeco.hdf5 , org.bytedeco.javacpp , org.bytedeco.leptonica, org.bytedeco.openblas , org.bytedeco.opencv. \n\nIt looks like for them also always the &quot;platform&quot; jar is given as dependency, so I always get all their variants. See examples","body":"@SamuelAudet - thanks. When I replace &quot;nd4j-native-platform&quot; with a more specific, I save a good chunk. But I save only the direct &quot;nd4j-native-&lt;some platform&gt;.jar&quot; libs. When I compare the dependency tree output and inspect the final fat-jar artifact, these dependencies are still in with all their ~ 10 platform varieties: org.bytedeco.ffmpeg , org.bytedeco.hdf5 , org.bytedeco.javacpp , org.bytedeco.leptonica, org.bytedeco.openblas , org.bytedeco.opencv.   It looks like for them also always the &quot;platform&quot; jar is given as dependency, so I always get all their variants. See examples"},{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1662488536,"post_id":73546888,"comment_id":130015596,"body_markdown":"org.deeplearning4j:deeplearning4j-core:1.0.0-M2\n-&gt;org.datavec:datavec-data-image:1.0.0-M2\n--&gt;org.bytedeco:opencv-platform:4.5.5-1.5.7\n---&gt;org.bytedeco:openblas-platform:0.3.19-1.5.7\n----&gt;org.bytedeco:javacpp-platform:1.5.7   and second example: \n\n\norg.deeplearning4j:deeplearning4j-core:1.0.0-M2\n-&gt;org.deeplearning4j:deeplearning4j-modelimport:1.0.0-M2\n--&gt;org.bytedeco:hdf5-platform:1.12.1-1.5.7\n---&gt;org.bytedeco:javacpp-platform:1.5.7\n\n.. so &quot;deeplearning4j-core&quot; is pointing trasitively to the &quot;-platform&quot; jars and so for all them, SBT still resolves ~ 10 platform dependent big jars.","body":"org.deeplearning4j:deeplearning4j-core:1.0.0-M2 -&gt;org.datavec:datavec-data-image:1.0.0-M2 --&gt;org.bytedeco:opencv-platform:4.5.5-1.5.7 ---&gt;org.bytedeco:openblas-platform:0.3.19-1.5.7 ----&gt;org.bytedeco:javacpp-platform:1.5.7   and second example:    org.deeplearning4j:deeplearning4j-core:1.0.0-M2 -&gt;org.deeplearning4j:deeplearning4j-modelimport:1.0.0-M2 --&gt;org.bytedeco:hdf5-platform:1.12.1-1.5.7 ---&gt;org.bytedeco:javacpp-platform:1.5.7  .. so &quot;deeplearning4j-core&quot; is pointing trasitively to the &quot;-platform&quot; jars and so for all them, SBT still resolves ~ 10 platform dependent big jars."}],"answers":[{"tags":[],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662674964,"creation_date":1662674964,"answer_id":73655486,"question_id":73546888,"body_markdown":"I solved it for my specific case now. First I opened a request on the DL4J forum (https://community.konduit.ai/t/limit-native-dependencies-to-one-platform-on-sbt/2005/2) and got similar suggestions as here.\r\n\r\nIn short - all the &quot;SBT-JavaCV&quot; related settings did not show any results, I dont know if it was active at all and I didnt find log output so its unclear to me, what I missed there.\r\n\r\nSo in the end I changed in my build.sbt to the following:\r\n\r\n1) I added to my &quot;deeplearning4j-nlp&quot; dependency these transitive excludes in the section **libraryDependencies ++= Seq(**:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n```\r\n  &quot;org.deeplearning4j&quot; % &quot;deeplearning4j-nlp&quot; % &quot;1.0.0-M2&quot;  excludeAll(\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;ffmpeg-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;hdf5-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;hdf5-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;javacpp-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;leptonica-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;openblas-platform&quot;),\r\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;opencv-platform&quot;)\r\n  ),\r\n```\r\n\r\n\r\n.. and that avoided the xyz-plattform jars to come into my fat-jar outcome. Then after it, I just explicitly named the platforms that Im interested in via the &quot;classifier&quot;:\r\n\r\n```\r\n &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot;        classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n  &quot;org.bytedeco&quot; % &quot;hdf5&quot; % &quot;1.12.1-1.5.7&quot;       classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n  &quot;org.bytedeco&quot; % &quot;javacpp&quot; % &quot;1.5.7&quot;           classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n  &quot;org.bytedeco&quot; % &quot;leptonica&quot; % &quot;1.82.0-1.5.7&quot;  classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n  &quot;org.bytedeco&quot; % &quot;openblas&quot; % &quot;0.3.19-1.5.7&quot;   classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n  &quot;org.bytedeco&quot; % &quot;opencv&quot; % &quot;4.5.5-1.5.7&quot;      classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\r\n```\r\n\r\nAnd this yields me a fat-jar with just the platform libs that I specify in that &quot;classifier&quot;.\r\n\r\nAnyways, @SamuelAudet &amp; @AdamGibson thanks for you time and guidance.","title":"Avoid platform specific dependencies in SBT packageBin","body":"<p>I solved it for my specific case now. First I opened a request on the DL4J forum (<a href=\"https://community.konduit.ai/t/limit-native-dependencies-to-one-platform-on-sbt/2005/2\" rel=\"nofollow noreferrer\">https://community.konduit.ai/t/limit-native-dependencies-to-one-platform-on-sbt/2005/2</a>) and got similar suggestions as here.</p>\n<p>In short - all the &quot;SBT-JavaCV&quot; related settings did not show any results, I dont know if it was active at all and I didnt find log output so its unclear to me, what I missed there.</p>\n<p>So in the end I changed in my build.sbt to the following:</p>\n<ol>\n<li>I added to my &quot;deeplearning4j-nlp&quot; dependency these transitive excludes in the section <strong>libraryDependencies ++= Seq(</strong>:</li>\n</ol>\n\n<pre><code>  &quot;org.deeplearning4j&quot; % &quot;deeplearning4j-nlp&quot; % &quot;1.0.0-M2&quot;  excludeAll(\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;ffmpeg-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;hdf5-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;hdf5-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;javacpp-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;leptonica-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;openblas-platform&quot;),\n    ExclusionRule(organization = &quot;org.bytedeco&quot;, name = &quot;opencv-platform&quot;)\n  ),\n</code></pre>\n<p>.. and that avoided the xyz-plattform jars to come into my fat-jar outcome. Then after it, I just explicitly named the platforms that Im interested in via the &quot;classifier&quot;:</p>\n<pre><code> &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot;        classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n  &quot;org.bytedeco&quot; % &quot;hdf5&quot; % &quot;1.12.1-1.5.7&quot;       classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n  &quot;org.bytedeco&quot; % &quot;javacpp&quot; % &quot;1.5.7&quot;           classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n  &quot;org.bytedeco&quot; % &quot;leptonica&quot; % &quot;1.82.0-1.5.7&quot;  classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n  &quot;org.bytedeco&quot; % &quot;openblas&quot; % &quot;0.3.19-1.5.7&quot;   classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n  &quot;org.bytedeco&quot; % &quot;opencv&quot; % &quot;4.5.5-1.5.7&quot;      classifier &quot;windows-x86_64&quot; classifier &quot;linux-x86_64&quot;,\n</code></pre>\n<p>And this yields me a fat-jar with just the platform libs that I specify in that &quot;classifier&quot;.</p>\n<p>Anyways, @SamuelAudet &amp; @AdamGibson thanks for you time and guidance.</p>\n"}],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73655486,"answer_count":1,"score":1,"last_activity_date":1662674964,"creation_date":1661883450,"question_id":73546888,"body_markdown":"In a Java11 project (actually Java Play-Framework) I depend directly on `org.deeplearning4j:deeplearning4j-nlp:1.0.0-M2` in my build.sbt running SBT 1.5.5.\r\n\r\nThat dependency transitively depends on several other libraries (like e.g. `org.bytedeco:ffmpeg:5.0-1.5.7`) that exists as platform dependent libraries and seem to use the SBT &quot;classifier&quot; to indicate the platform .. linux-x86, linux-x86_64, android-x86_64, windows... and so on. Now with my SBT commands like `sbt universal:packageBin` that yields me all platform versions of all of those quite large jars in my final &quot;fat-jar&quot; outcome and the result is 8 times as big as needed.\r\nThe other native packager variants like `windows:packageBin` or `debian:packageBin` behave the same and include those jars in all platform variants.\r\n\r\n\r\nI dont know how to set globally, that for any transitive dependency, I want to exclude the classifier X, Y and Z (in my case I would exclude the platforms that are not relevant for me)\r\n\r\nEven the verbose way of excluding each unwanted one doesnt work:\r\n```\r\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;macosx-x86_64&quot;\r\n```\r\n.. still has the &quot;org.bytedeco.ffmpeg-5.0-1.5.7-macosx-x86_64.jar&quot; in my final fat-jar artifact.\r\n\r\n\r\n----------\r\n \r\nHere the redacted build.sbt\r\n```\r\nimport com.typesafe.sbt.packager.SettingsHelper._\r\n\r\nname := &quot;&quot;&quot;my-name&quot;&quot;&quot;\r\n\r\nlazy val isSubmodule = !file(&quot;./root.txt&quot;).exists\r\n\r\n// common properties ///////////////////////////////////////////////////////////////\r\n\r\nlazy val commonPropsPath = if (isSubmodule) { &quot;../../common_conf/config.properties&quot; }\r\n  else { &quot;./common_conf/config.properties&quot;}\r\n\r\nlazy val commonProps = settingKey[java.util.Properties](&quot;The application properties&quot;)\r\n\r\ncommonProps := {\r\n  val prop = new java.util.Properties()\r\n  IO.load(prop, new File(commonPropsPath))\r\n  prop\r\n}\r\n\r\norganization := commonProps.value.getProperty(&quot;organization&quot;)\r\nversion := commonProps.value.getProperty(&quot;version&quot;)\r\nscalaVersion := commonProps.value.getProperty(&quot;scalaVersion&quot;)\r\n\r\n// ######### javacOptions #########\r\njavacOptions ++= Seq(&quot;-source&quot;, &quot;1.10&quot;, &quot;-target&quot;, &quot;1.10&quot;)\r\njavacOptions ++= Seq(&quot;-Xlint:unchecked&quot;, &quot;-Xlint:cast&quot;)\r\njavacOptions ++= Seq(&quot;-Werror&quot;)\r\njavacOptions ++= Seq(&quot;-Xlint:-options&quot;)\r\n\r\n// ######### scalacOptions #########\r\nscalacOptions ++=  Seq(&quot;-target:jvm-1.8&quot;)\r\nscalacOptions in(Compile, doc) += &quot;-no-java-comments&quot;\r\n\r\n// common properties ///////////////////////////////////////////////////////////////\r\n\r\n\r\nlazy val matching = (project in file(&quot;.&quot;))\r\n  .enablePlugins(PlayJava, PlayEbean, GitVersioning, BuildInfoPlugin, JavaAppPackaging, DebianPlugin, SbtWeb)\r\n  .settings(\r\n    ...... )\r\n\r\n\r\nCompile / playEbeanModels := Seq(&quot;my.code.package.**&quot;)\r\nplayEbeanDebugLevel := 4\r\n\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc,\r\n  filters,\r\n  javaWs,\r\n  guice,\r\n\r\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;8.0.29&quot;,\r\n  &quot;org.liquibase&quot; % &quot;liquibase-core&quot; % &quot;4.11.0&quot;,\r\n\r\n  &quot;org.deeplearning4j&quot; % &quot;deeplearning4j-nlp&quot; % &quot;1.0.0-M2&quot; ,  \r\n  &quot;org.nd4j&quot; % &quot;nd4j-native-platform&quot; % &quot;1.0.0-M2&quot;,\r\n  &quot;org.nd4j&quot; % &quot;nd4j-native&quot; % &quot;1.0.0-M2&quot;,\r\n  &quot;org.apache.lucene&quot; % &quot;lucene-snowball&quot; % &quot;3.0.3&quot;,\r\n  &quot;org.jsoup&quot; % &quot;jsoup&quot; % &quot;1.15.+&quot;, \r\n\r\n  &quot;org.projectlombok&quot; % &quot;lombok&quot; % &quot;1.18.24&quot;, \r\n  &quot;io.ebean&quot; % &quot;ebean-externalmapping-xml&quot; % &quot;12.6.1&quot;, \r\n\r\n  &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;2.11.+&quot;,\r\n  &quot;commons-codec&quot; % &quot;commons-codec&quot; % &quot;1.15&quot;,\r\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.12.+&quot;,\r\n\r\n\r\n  &quot;javax.xml.bind&quot; % &quot;jaxb-api&quot; % &quot;2.3.1&quot;,\r\n  &quot;com.sun.xml.bind&quot; % &quot;jaxb-core&quot; % &quot;2.3.0.1&quot;,\r\n  &quot;com.sun.xml.bind&quot; % &quot;jaxb-impl&quot; % &quot;2.3.1&quot;\r\n\r\n)\r\n\r\n// test here to exclude each unwanted dependency individually\r\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;macosx-x86_64&quot;\r\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;windows-x86_64&quot;\r\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;windows-x86&quot;\r\n\r\n\r\nresolvers ++= Seq(\r\n  Resolver.mavenLocal,\r\n  Resolver.sonatypeRepo(&quot;snapshots&quot;)\r\n)\r\n\r\nTest / fork := false\r\n\r\nupdateOptions := updateOptions.value.withCachedResolution(true)\r\n\r\nif (isSubmodule) {\r\n  jcheckStyleConfig := &quot;../../conf/checkstyle-config.xml&quot;\r\n}\r\nelse {\r\n  jcheckStyleConfig := &quot;./conf/checkstyle-config.xml&quot;\r\n}\r\n\r\nTest / jacocoExcludes := Seq(\r\n  &quot;**.*&quot;\r\n)\r\n\r\n// Debian package description\r\nLinux / maintainer := &quot;My values here&quot;\r\nLinux / packageSummary := &quot;My values here&quot;\r\npackageDescription := &quot;My values here&quot;\r\n\r\npublishTo := {\r\n ........\r\n}\r\n\r\ncredentials += Credentials(.......)\r\n\r\npublish in Debian := (publish in Debian).dependsOn(publish).value\r\n\r\nCompile / packageBin / publishArtifact := true\r\nCompile / packageDoc / publishArtifact := false\r\nCompile / packageSrc / publishArtifact := false\r\nTest / publishArtifact := false\r\n\r\nmakeDeploymentSettings(Debian, packageBin in Debian, &quot;deb&quot;)\r\n\r\n```","title":"Avoid platform specific dependencies in SBT packageBin","body":"<p>In a Java11 project (actually Java Play-Framework) I depend directly on <code>org.deeplearning4j:deeplearning4j-nlp:1.0.0-M2</code> in my build.sbt running SBT 1.5.5.</p>\n<p>That dependency transitively depends on several other libraries (like e.g. <code>org.bytedeco:ffmpeg:5.0-1.5.7</code>) that exists as platform dependent libraries and seem to use the SBT &quot;classifier&quot; to indicate the platform .. linux-x86, linux-x86_64, android-x86_64, windows... and so on. Now with my SBT commands like <code>sbt universal:packageBin</code> that yields me all platform versions of all of those quite large jars in my final &quot;fat-jar&quot; outcome and the result is 8 times as big as needed.\nThe other native packager variants like <code>windows:packageBin</code> or <code>debian:packageBin</code> behave the same and include those jars in all platform variants.</p>\n<p>I dont know how to set globally, that for any transitive dependency, I want to exclude the classifier X, Y and Z (in my case I would exclude the platforms that are not relevant for me)</p>\n<p>Even the verbose way of excluding each unwanted one doesnt work:</p>\n<pre><code>excludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;macosx-x86_64&quot;\n</code></pre>\n<p>.. still has the &quot;org.bytedeco.ffmpeg-5.0-1.5.7-macosx-x86_64.jar&quot; in my final fat-jar artifact.</p>\n<hr />\n<p>Here the redacted build.sbt</p>\n<pre><code>import com.typesafe.sbt.packager.SettingsHelper._\n\nname := &quot;&quot;&quot;my-name&quot;&quot;&quot;\n\nlazy val isSubmodule = !file(&quot;./root.txt&quot;).exists\n\n// common properties ///////////////////////////////////////////////////////////////\n\nlazy val commonPropsPath = if (isSubmodule) { &quot;../../common_conf/config.properties&quot; }\n  else { &quot;./common_conf/config.properties&quot;}\n\nlazy val commonProps = settingKey[java.util.Properties](&quot;The application properties&quot;)\n\ncommonProps := {\n  val prop = new java.util.Properties()\n  IO.load(prop, new File(commonPropsPath))\n  prop\n}\n\norganization := commonProps.value.getProperty(&quot;organization&quot;)\nversion := commonProps.value.getProperty(&quot;version&quot;)\nscalaVersion := commonProps.value.getProperty(&quot;scalaVersion&quot;)\n\n// ######### javacOptions #########\njavacOptions ++= Seq(&quot;-source&quot;, &quot;1.10&quot;, &quot;-target&quot;, &quot;1.10&quot;)\njavacOptions ++= Seq(&quot;-Xlint:unchecked&quot;, &quot;-Xlint:cast&quot;)\njavacOptions ++= Seq(&quot;-Werror&quot;)\njavacOptions ++= Seq(&quot;-Xlint:-options&quot;)\n\n// ######### scalacOptions #########\nscalacOptions ++=  Seq(&quot;-target:jvm-1.8&quot;)\nscalacOptions in(Compile, doc) += &quot;-no-java-comments&quot;\n\n// common properties ///////////////////////////////////////////////////////////////\n\n\nlazy val matching = (project in file(&quot;.&quot;))\n  .enablePlugins(PlayJava, PlayEbean, GitVersioning, BuildInfoPlugin, JavaAppPackaging, DebianPlugin, SbtWeb)\n  .settings(\n    ...... )\n\n\nCompile / playEbeanModels := Seq(&quot;my.code.package.**&quot;)\nplayEbeanDebugLevel := 4\n\nlibraryDependencies ++= Seq(\n  javaJdbc,\n  filters,\n  javaWs,\n  guice,\n\n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;8.0.29&quot;,\n  &quot;org.liquibase&quot; % &quot;liquibase-core&quot; % &quot;4.11.0&quot;,\n\n  &quot;org.deeplearning4j&quot; % &quot;deeplearning4j-nlp&quot; % &quot;1.0.0-M2&quot; ,  \n  &quot;org.nd4j&quot; % &quot;nd4j-native-platform&quot; % &quot;1.0.0-M2&quot;,\n  &quot;org.nd4j&quot; % &quot;nd4j-native&quot; % &quot;1.0.0-M2&quot;,\n  &quot;org.apache.lucene&quot; % &quot;lucene-snowball&quot; % &quot;3.0.3&quot;,\n  &quot;org.jsoup&quot; % &quot;jsoup&quot; % &quot;1.15.+&quot;, \n\n  &quot;org.projectlombok&quot; % &quot;lombok&quot; % &quot;1.18.24&quot;, \n  &quot;io.ebean&quot; % &quot;ebean-externalmapping-xml&quot; % &quot;12.6.1&quot;, \n\n  &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;2.11.+&quot;,\n  &quot;commons-codec&quot; % &quot;commons-codec&quot; % &quot;1.15&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.12.+&quot;,\n\n\n  &quot;javax.xml.bind&quot; % &quot;jaxb-api&quot; % &quot;2.3.1&quot;,\n  &quot;com.sun.xml.bind&quot; % &quot;jaxb-core&quot; % &quot;2.3.0.1&quot;,\n  &quot;com.sun.xml.bind&quot; % &quot;jaxb-impl&quot; % &quot;2.3.1&quot;\n\n)\n\n// test here to exclude each unwanted dependency individually\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;macosx-x86_64&quot;\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;windows-x86_64&quot;\nexcludeDependencies  += &quot;org.bytedeco&quot; % &quot;ffmpeg&quot; % &quot;5.0-1.5.7&quot; classifier &quot;windows-x86&quot;\n\n\nresolvers ++= Seq(\n  Resolver.mavenLocal,\n  Resolver.sonatypeRepo(&quot;snapshots&quot;)\n)\n\nTest / fork := false\n\nupdateOptions := updateOptions.value.withCachedResolution(true)\n\nif (isSubmodule) {\n  jcheckStyleConfig := &quot;../../conf/checkstyle-config.xml&quot;\n}\nelse {\n  jcheckStyleConfig := &quot;./conf/checkstyle-config.xml&quot;\n}\n\nTest / jacocoExcludes := Seq(\n  &quot;**.*&quot;\n)\n\n// Debian package description\nLinux / maintainer := &quot;My values here&quot;\nLinux / packageSummary := &quot;My values here&quot;\npackageDescription := &quot;My values here&quot;\n\npublishTo := {\n ........\n}\n\ncredentials += Credentials(.......)\n\npublish in Debian := (publish in Debian).dependsOn(publish).value\n\nCompile / packageBin / publishArtifact := true\nCompile / packageDoc / publishArtifact := false\nCompile / packageSrc / publishArtifact := false\nTest / publishArtifact := false\n\nmakeDeploymentSettings(Debian, packageBin in Debian, &quot;deb&quot;)\n\n</code></pre>\n"},{"tags":["java","oauth","keycloak","webclient","spring-webclient"],"comments":[{"owner":{"account_id":22426002,"reputation":366,"user_id":16632604,"display_name":"Flimtix"},"score":0,"creation_date":1654182149,"post_id":65250004,"comment_id":128034891,"body_markdown":"It does not work for me if I set the bearer token as `default header`. I have to insert it as header when requesting. Any idea why?","body":"It does not work for me if I set the bearer token as <code>default header</code>. I have to insert it as header when requesting. Any idea why?"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1644395913,"creation_date":1644395913,"answer_id":71046327,"question_id":65250004,"body_markdown":"Or simply set it during the process of sending:\r\n\r\n    webClient.get()\r\n    \t.uri(url)\r\n    \t.headers(h -&gt; h.setBearerAuth(token))\r\n        .retrieve();","title":"Spring WebClient set Bearer auth token in header","body":"<p>Or simply set it during the process of sending:</p>\n<pre><code>webClient.get()\n    .uri(url)\n    .headers(h -&gt; h.setBearerAuth(token))\n    .retrieve();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662674496,"creation_date":1662674496,"answer_id":73655443,"question_id":65250004,"body_markdown":"I ended up using an [`ExchangeFilterFunction`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html) filter in a similar situation.  In my case, I have a Spring component which retrieves the token to use.  If `context` in your `context.getTokenString()` example is a Spring bean, you should be able to do the same:\r\n\r\n```lang-java\r\n@Bean\r\nWebClient webClient(SomeContext context) {\r\n    return WebClient.builder()\r\n            .filter((request, next) -&gt; next.exchange(\r\n                    withBearerAuth(request, context.getTokenValue())))\r\n            .build();\r\n}\r\n\r\nprivate static ClientRequest withBearerAuth(ClientRequest request, \r\n                                            String token) {\r\n    return ClientRequest.from(request)\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\r\n            .build();\r\n}\r\n```","title":"Spring WebClient set Bearer auth token in header","body":"<p>I ended up using an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"nofollow noreferrer\"><code>ExchangeFilterFunction</code></a> filter in a similar situation.  In my case, I have a Spring component which retrieves the token to use.  If <code>context</code> in your <code>context.getTokenString()</code> example is a Spring bean, you should be able to do the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nWebClient webClient(SomeContext context) {\n    return WebClient.builder()\n            .filter((request, next) -&gt; next.exchange(\n                    withBearerAuth(request, context.getTokenValue())))\n            .build();\n}\n\nprivate static ClientRequest withBearerAuth(ClientRequest request, \n                                            String token) {\n    return ClientRequest.from(request)\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25584,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1662674731,"creation_date":1607684176,"question_id":65250004,"body_markdown":"Following scenario:\r\n\r\nI have two Microservices A and B. Service A is a Bearer client that has an open api and receives requests from clients that have to be authorized by keycloak. Now I want to send an authorized Request from Service A to Service B, which is also a bearer client.\r\n\r\nI thought about adding the functionality as a filter function during the webclient builder process like \r\n\r\n```lang-java\r\n@Bean\r\nWebClient webClient() {\r\n    return WebClient.builder()\r\n            .filter(authHeader())\r\n            .build();\r\n}\r\n\r\nprivate ExchangeFilterFunction authHeader(String token) {\r\n    return (request, next) -&gt; next.exchange(ClientRequest.from(request).headers((headers) -&gt; {\r\n        headers.setBearerAuth(token);\r\n    }).build());\r\n}\r\n```\r\n\r\nThis is an example I found in another question. It seems to to be the right way to me but can I provide the &quot;String token&quot; parameter at that stage of configuration?\r\n\r\nI&#39;m just switching from `RestTemplate` to `WebClient`, so sorry I this is a dump question.\r\n\r\nEDIT: \r\nI am able to set the header manually while building a new `WebClient`. \r\n\r\n```lang-java\r\nreturn WebClient.builder()\r\n        .defaultHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+ context.getTokenString())\r\n        .build();\r\n```\r\n\r\nAs I know from the `RestTemplate`, it can be used as a Singleton. There also exists a `KeyCloakRestTemplate` which injects the header automatically. \r\n\r\n`WebClient` is immutable, so when I inject it, I can&#39;t just use it and add the header afterwards. \r\nIn addition, I can&#39;t set this header on startup as I have to wait for a request to take the bearer header and pass it in. So I guess there is not other way than doing it this way?","title":"Spring WebClient set Bearer auth token in header","body":"<p>Following scenario:</p>\n<p>I have two Microservices A and B. Service A is a Bearer client that has an open api and receives requests from clients that have to be authorized by keycloak. Now I want to send an authorized Request from Service A to Service B, which is also a bearer client.</p>\n<p>I thought about adding the functionality as a filter function during the webclient builder process like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nWebClient webClient() {\n    return WebClient.builder()\n            .filter(authHeader())\n            .build();\n}\n\nprivate ExchangeFilterFunction authHeader(String token) {\n    return (request, next) -&gt; next.exchange(ClientRequest.from(request).headers((headers) -&gt; {\n        headers.setBearerAuth(token);\n    }).build());\n}\n</code></pre>\n<p>This is an example I found in another question. It seems to to be the right way to me but can I provide the &quot;String token&quot; parameter at that stage of configuration?</p>\n<p>I'm just switching from <code>RestTemplate</code> to <code>WebClient</code>, so sorry I this is a dump question.</p>\n<p>EDIT:\nI am able to set the header manually while building a new <code>WebClient</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return WebClient.builder()\n        .defaultHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+ context.getTokenString())\n        .build();\n</code></pre>\n<p>As I know from the <code>RestTemplate</code>, it can be used as a Singleton. There also exists a <code>KeyCloakRestTemplate</code> which injects the header automatically.</p>\n<p><code>WebClient</code> is immutable, so when I inject it, I can't just use it and add the header afterwards.\nIn addition, I can't set this header on startup as I have to wait for a request to take the bearer header and pass it in. So I guess there is not other way than doing it this way?</p>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":1877557,"reputation":5688,"user_id":1698431,"accept_rate":75,"display_name":"lenz"},"score":0,"creation_date":1434146772,"post_id":30812823,"comment_id":49673752,"body_markdown":"Can you share the code with what you have tried so far?","body":"Can you share the code with what you have tried so far?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1434146986,"post_id":30812823,"comment_id":49673819,"body_markdown":"Use a DocumentFilter on a normal JTextField instead","body":"Use a DocumentFilter on a normal JTextField instead"},{"owner":{"account_id":6357761,"reputation":1753,"user_id":4934409,"accept_rate":78,"display_name":"Scriptim"},"score":0,"creation_date":1434147100,"post_id":30812823,"comment_id":49673847,"body_markdown":"how? can you give me a code example","body":"how? can you give me a code example"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1434147378,"post_id":30812823,"comment_id":49673918,"body_markdown":"[Implementing a DocumntFilter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) and [Examples](http://www.jroller.com/dpmihai/entry/documentfilter)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumntFilter</a> and <a href=\"http://www.jroller.com/dpmihai/entry/documentfilter\" rel=\"nofollow noreferrer\">Examples</a>"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1434147405,"post_id":30812823,"comment_id":49673926,"body_markdown":"You could pass the formatted text field a [`MaskFormatter`](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html) which specifies valid characters","body":"You could pass the formatted text field a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/MaskFormatter.html\" rel=\"nofollow noreferrer\"><code>MaskFormatter</code></a> which specifies valid characters"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1434201907,"post_id":30812823,"comment_id":49684746,"body_markdown":"Convert your requirements into a `java.text.Format`, and use it in combination with the `JFormattedTextField`, as shown [here](http://stackoverflow.com/a/13424140/1076463)","body":"Convert your requirements into a <code>java.text.Format</code>, and use it in combination with the <code>JFormattedTextField</code>, as shown <a href=\"http://stackoverflow.com/a/13424140/1076463\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662674665,"creation_date":1434147855,"answer_id":30813018,"question_id":30812823,"body_markdown":"You don&#39;t want to format the value, you want to filter the content.  Use a `DocumentFilter` on a plain on `JTextField`\r\n\r\nStart by having a look at [Implementing a DocumntFilter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) and [Examples](http://www.jroller.com/dpmihai/entry/documentfilter) for more details...\r\n\r\nAs an example, a &quot;binary filter&quot;, which will only accept `0` and `1`\r\n\r\n    public class BinaryDocumentFilter extends DocumentFilter {\r\n        @Override\r\n        public void insertString(DocumentFilter.FilterBypass fb, int offset,\r\n                String text, AttributeSet attr)\r\n                throws BadLocationException {\r\n            StringBuilder buffer = new StringBuilder(text.length());\r\n            for (int i = text.length() - 1; i &gt;= 0; i--) {\r\n                char ch = text.charAt(i);\r\n                if (ch == &#39;0&#39; || ch == &#39;1&#39;) {\r\n                    buffer.append(ch);\r\n                }\r\n            }\r\n            super.insertString(fb, offset, buffer.toString(), attr);\r\n        }\r\n\r\n        @Override\r\n        public void replace(DocumentFilter.FilterBypass fb,\r\n                int offset, int length, String string, AttributeSet attr) throws BadLocationException {\r\n            if (length &gt; 0) {\r\n                fb.remove(offset, length);\r\n            }\r\n            insertString(fb, offset, string, attr);\r\n        }\r\n    }\r\n\r\n\r\nWhich can be applied directly to the field&#39;s `Document`:\r\n\r\n    JTextField binaryField = new JTextField(10);\r\n    ((AbstractDocument)binaryField.getDocument()).setDocumentFilter(new BinaryDocumentFilter());\r\n\r\n","title":"Restrict JTextField to only accept certain characters","body":"<p>You don't want to format the value, you want to filter the content.  Use a <code>DocumentFilter</code> on a plain on <code>JTextField</code></p>\n<p>Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumntFilter</a> and <a href=\"http://www.jroller.com/dpmihai/entry/documentfilter\" rel=\"nofollow noreferrer\">Examples</a> for more details...</p>\n<p>As an example, a &quot;binary filter&quot;, which will only accept <code>0</code> and <code>1</code></p>\n<pre><code>public class BinaryDocumentFilter extends DocumentFilter {\n    @Override\n    public void insertString(DocumentFilter.FilterBypass fb, int offset,\n            String text, AttributeSet attr)\n            throws BadLocationException {\n        StringBuilder buffer = new StringBuilder(text.length());\n        for (int i = text.length() - 1; i &gt;= 0; i--) {\n            char ch = text.charAt(i);\n            if (ch == '0' || ch == '1') {\n                buffer.append(ch);\n            }\n        }\n        super.insertString(fb, offset, buffer.toString(), attr);\n    }\n\n    @Override\n    public void replace(DocumentFilter.FilterBypass fb,\n            int offset, int length, String string, AttributeSet attr) throws BadLocationException {\n        if (length &gt; 0) {\n            fb.remove(offset, length);\n        }\n        insertString(fb, offset, string, attr);\n    }\n}\n</code></pre>\n<p>Which can be applied directly to the field's <code>Document</code>:</p>\n<pre><code>JTextField binaryField = new JTextField(10);\n((AbstractDocument)binaryField.getDocument()).setDocumentFilter(new BinaryDocumentFilter());\n</code></pre>\n"}],"owner":{"account_id":6357761,"reputation":1753,"user_id":4934409,"accept_rate":78,"display_name":"Scriptim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1764,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":30813018,"answer_count":1,"score":1,"last_activity_date":1662674665,"creation_date":1434146634,"question_id":30812823,"body_markdown":"I have 4 `JTextFields` that should only accept certain characters:\r\n\r\n 1. binary digits (`0`, `1`)\r\n 2. octal digits, so (`0` - `7`)\r\n 3. all digits (`0` - `9`)\r\n 4. all hexadecimal characters (`0` - `9`, `a` - `f`, `A` - `F`)\r\n\r\nThe user must not be able to input a *forbidden* character.\r\n\r\nI know how I could validate the input afterwards, but not how to filter it.\r\n\r\n---\r\n\r\nI tried using a `MaskFormatter`, but then I can&#39;t enter anything at all.\r\n\r\n    MaskFormatter binaryFormatter = new MaskFormatter();\r\n    binaryFormatter.setValidCharacters(&quot;01&quot;);\r\n    JFormattedTextField binaryText = new JFormattedTextField(binaryFormatter);","title":"Restrict JTextField to only accept certain characters","body":"<p>I have 4 <code>JTextFields</code> that should only accept certain characters:</p>\n\n<ol>\n<li>binary digits (<code>0</code>, <code>1</code>)</li>\n<li>octal digits, so (<code>0</code> - <code>7</code>)</li>\n<li>all digits (<code>0</code> - <code>9</code>)</li>\n<li>all hexadecimal characters (<code>0</code> - <code>9</code>, <code>a</code> - <code>f</code>, <code>A</code> - <code>F</code>)</li>\n</ol>\n\n<p>The user must not be able to input a <em>forbidden</em> character.</p>\n\n<p>I know how I could validate the input afterwards, but not how to filter it.</p>\n\n<hr>\n\n<p>I tried using a <code>MaskFormatter</code>, but then I can't enter anything at all.</p>\n\n<pre><code>MaskFormatter binaryFormatter = new MaskFormatter();\nbinaryFormatter.setValidCharacters(\"01\");\nJFormattedTextField binaryText = new JFormattedTextField(binaryFormatter);\n</code></pre>\n"},{"tags":["java","selenium","process","containers"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662661473,"post_id":73653509,"comment_id":130063665,"body_markdown":"What is a CEF application?","body":"What is a CEF application?"},{"owner":{"account_id":26283701,"reputation":11,"user_id":19951791,"display_name":"Arthur"},"score":0,"creation_date":1662662018,"post_id":73653509,"comment_id":130063855,"body_markdown":"CEF = Chromium Embedded Framework. There is a complete Wikipedia article about it.","body":"CEF = Chromium Embedded Framework. There is a complete Wikipedia article about it."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1662667384,"post_id":73653509,"comment_id":130065392,"body_markdown":"The processess need to interact. Could you specify how they interact? Do they use IPC, RMI, HTTP, sockets, shared memory, files on disk, ...","body":"The processess need to interact. Could you specify how they interact? Do they use IPC, RMI, HTTP, sockets, shared memory, files on disk, ..."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662669648,"creation_date":1662669648,"answer_id":73654815,"question_id":73653509,"body_markdown":"Yes, you can run your apps in docker, and run either selenium inside them independently ( so you have 1-1 relationship ) use Selenium Remote Webdriver and treat each docker instance as a remote machine (1 - many).\r\n\r\nI don&#39;t think I can give you a concrete example because I have no idea what your application looks like nor it would be feasible to have it here, but these are basically the parts you are looking for: \r\n\r\n- Run an app with docker\r\n- Expose the apps to the host machine (your machine, where these dockers run)\r\n- Use Selenium RemoteWebDriver to reach each one of the instances.","title":"Containerizing executables in Java","body":"<p>Yes, you can run your apps in docker, and run either selenium inside them independently ( so you have 1-1 relationship ) use Selenium Remote Webdriver and treat each docker instance as a remote machine (1 - many).</p>\n<p>I don't think I can give you a concrete example because I have no idea what your application looks like nor it would be feasible to have it here, but these are basically the parts you are looking for:</p>\n<ul>\n<li>Run an app with docker</li>\n<li>Expose the apps to the host machine (your machine, where these dockers run)</li>\n<li>Use Selenium RemoteWebDriver to reach each one of the instances.</li>\n</ul>\n"}],"owner":{"account_id":26283701,"reputation":11,"user_id":19951791,"display_name":"Arthur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73654815,"answer_count":1,"score":0,"last_activity_date":1662674483,"creation_date":1662661129,"question_id":73653509,"body_markdown":"I have a CEF (Chromium Embedded Framework) application I am controlling with Selenium. Normally the application does not allow multiple instances of it to be running at the same time since it modifies directly its root files. I need to be able to run multiple instances (controlled by Selenium) though and some kind of containerization is therefore needed, correct? I&#39;ve been looking into Docker containers, but as far as I understand, it doesn&#39;t really suit my needs as I need to be able to control the Selenium instances (or maybe other executables later on).\r\n\r\nSo, what should I do? Here&#39;s what I need:\r\n\r\n - isolate processes\r\n - the processes need to exist in some kind of virtual filesystem?\r\n - probably be able to implement virtual network adapters\r\n - be able to interact with the containerized process\r\n - implemented in Java\r\n\r\nHow can I proceed?\r\n","title":"Containerizing executables in Java","body":"<p>I have a CEF (Chromium Embedded Framework) application I am controlling with Selenium. Normally the application does not allow multiple instances of it to be running at the same time since it modifies directly its root files. I need to be able to run multiple instances (controlled by Selenium) though and some kind of containerization is therefore needed, correct? I've been looking into Docker containers, but as far as I understand, it doesn't really suit my needs as I need to be able to control the Selenium instances (or maybe other executables later on).</p>\n<p>So, what should I do? Here's what I need:</p>\n<ul>\n<li>isolate processes</li>\n<li>the processes need to exist in some kind of virtual filesystem?</li>\n<li>probably be able to implement virtual network adapters</li>\n<li>be able to interact with the containerized process</li>\n<li>implemented in Java</li>\n</ul>\n<p>How can I proceed?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1662661238,"post_id":73651959,"comment_id":130063591,"body_markdown":"are you sure in Postman when you make a GET request you pass your access token as Bearer authentication? This exception is raised in `DecodedJWT decodedJWT = jwtVerifier.verify(token);` call by constructor of the [`JWTDecoder` class](https://github.com/auth0/java-jwt/blob/master/lib/src/main/java/com/auth0/jwt/JWTDecoder.java#L46)","body":"are you sure in Postman when you make a GET request you pass your access token as Bearer authentication? This exception is raised in <code>DecodedJWT decodedJWT = jwtVerifier.verify(token);</code> call by constructor of the <a href=\"https://github.com/auth0/java-jwt/blob/master/lib/src/main/java/com/auth0/jwt/JWTDecoder.java#L46\" rel=\"nofollow noreferrer\"><code>JWTDecoder</code> class</a>"},{"owner":{"display_name":"user13906062"},"score":0,"creation_date":1662661422,"post_id":73651959,"comment_id":130063643,"body_markdown":"@AndrewThomas, yes I send Authorization in key, and for the value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJDaGF0Iiwicm9sZXMiOiJST0xFX1VTRVIiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2xvZ2luIiwiZXhwIjoxNjYyNjU1OTYxfQ.OMJQ_nVobmj56r5u8EqJYZ_3px2xCOiJ463spP3fkRw","body":"@AndrewThomas, yes I send Authorization in key, and for the value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJDaGF0Iiwicm9&zwnj;&#8203;sZXMiOiJST0xFX1VTRVI&zwnj;&#8203;iLCJpc3MiOiJodHRwOi8&zwnj;&#8203;vbG9jYWxob3N0OjgwODA&zwnj;&#8203;vYXBpL2xvZ2luIiwiZXh&zwnj;&#8203;wIjoxNjYyNjU1OTYxfQ.&zwnj;&#8203;OMJQ_nVobmj56r5u8EqJ&zwnj;&#8203;YZ_3px2xCOiJ463spP3f&zwnj;&#8203;kRw"},{"owner":{"display_name":"user13906062"},"score":1,"creation_date":1662661477,"post_id":73651959,"comment_id":130063667,"body_markdown":"I&#39;ve tested without the hasAnyAuthority, but with permitAll and it worked","body":"I&#39;ve tested without the hasAnyAuthority, but with permitAll and it worked"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1662706333,"post_id":73651959,"comment_id":130071869,"body_markdown":"Any reason to why you are not using the built in JWT features of spring security instead of writing all that custom code https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1","body":"Any reason to why you are not using the built in JWT features of spring security instead of writing all that custom code <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1662708438,"post_id":73651959,"comment_id":130072523,"body_markdown":"honestly I don&#39;t know what goes wrong: your jwt seems alright, it can decoded with HS256, but somewhere `IllegalArgumentException` is raised and auth0 library converts it to  `JWTDecodeException` with this message. Try to debug `JWTDecoder` and `JWTVerifier` class to see what goes wrong, or provide a link to your repo with code","body":"honestly I don&#39;t know what goes wrong: your jwt seems alright, it can decoded with HS256, but somewhere <code>IllegalArgumentException</code> is raised and auth0 library converts it to  <code>JWTDecodeException</code> with this message. Try to debug <code>JWTDecoder</code> and <code>JWTVerifier</code> class to see what goes wrong, or provide a link to your repo with code"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":1,"creation_date":1662708673,"post_id":73651959,"comment_id":130072604,"body_markdown":"And @Toerktumlare is right - you shouldn&#39;t waste your time trying to write custom security and debug its problems when Spring provides its own JWT support","body":"And @Toerktumlare is right - you shouldn&#39;t waste your time trying to write custom security and debug its problems when Spring provides its own JWT support"},{"owner":{"display_name":"user13906062"},"score":0,"creation_date":1662709279,"post_id":73651959,"comment_id":130072846,"body_markdown":"hey guys, I will try to use the JWT library :) thanks again for your time, appreciated it","body":"hey guys, I will try to use the JWT library :) thanks again for your time, appreciated it"},{"owner":{"display_name":"user13906062"},"score":0,"creation_date":1662717548,"post_id":73651959,"comment_id":130075612,"body_markdown":"@Toerktumlare, i just read the medium poist, and yes it&#39;s easier. but i don&#39;t understand how to add authorities and roles with a user class... coud you have an example with authentification and a user class with roles ?","body":"@Toerktumlare, i just read the medium poist, and yes it&#39;s easier. but i don&#39;t understand how to add authorities and roles with a user class... coud you have an example with authentification and a user class with roles ?"},{"owner":{"display_name":"user13906062"},"score":0,"creation_date":1662962106,"post_id":73651959,"comment_id":130118350,"body_markdown":"@Toerktumlare, could you send me a github project implementing the authorization (with medium&#39;s method) + authentification ?","body":"@Toerktumlare, could you send me a github project implementing the authorization (with medium&#39;s method) + authentification ?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1662962892,"post_id":73651959,"comment_id":130118521,"body_markdown":"Are the links to the github project in the post broken?","body":"Are the links to the github project in the post broken?"},{"owner":{"display_name":"user13906062"},"score":0,"creation_date":1663055961,"post_id":73651959,"comment_id":130143000,"body_markdown":"@Toerktumlare, no but it&#39;s only an authorization project :)","body":"@Toerktumlare, no but it&#39;s only an authorization project :)"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1663060482,"post_id":73651959,"comment_id":130144517,"body_markdown":"is the official spring security docs broken?","body":"is the official spring security docs broken?"}],"owner":{"display_name":"user13906062"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662674342,"creation_date":1662652463,"question_id":73651959,"body_markdown":"I followed a tutorial on Spring Security. I have set up an authentication that works: here is my authentication filter.\r\n\r\n\r\n\r\n```\r\npackage com.securitycrud.crudTest.filter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static org.springframework.util.MimeTypeUtils.APPLICATION_JSON_VALUE;\r\n\r\n@Slf4j\r\npublic class CustomAuthentificationFilter extends UsernamePasswordAuthenticationFilter {\r\n    private final AuthenticationManager authenticationManager;\r\n    public CustomAuthentificationFilter(AuthenticationManager authenticationManager){\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\r\n\r\n        return authenticationManager.authenticate(authenticationToken);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\r\n        User user = (User)authentication.getPrincipal();\r\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n        String access_token = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis()+ 10 * 60 * 1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.joining()))\r\n                .sign(algorithm);\r\n\r\n        String refresh_token = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis()+ 30 * 60 * 1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.joining()))\r\n                .sign(algorithm);\r\n\r\n        Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\r\n        tokens.put(&quot;access_token&quot;, access_token);\r\n        tokens.put(&quot;refresh_token&quot;, refresh_token);\r\n        response.setContentType(APPLICATION_JSON_VALUE);\r\n        new ObjectMapper().writeValue(response.getOutputStream(), tokens);\r\n    }\r\n}\r\n```\r\n\r\nThen here is the authorization and config class.\r\n```\r\npackage com.securitycrud.crudTest.security;\r\n\r\nimport com.securitycrud.crudTest.filter.CustomAuthentificationFilter;\r\nimport com.securitycrud.crudTest.filter.CustomAuthorizationFilter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport static org.springframework.http.HttpMethod.GET;\r\nimport static org.springframework.http.HttpMethod.POST;\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\r\n\r\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        CustomAuthentificationFilter customAuthentificationFilter = new CustomAuthentificationFilter(authenticationManagerBean());\r\n        customAuthentificationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(STATELESS);\r\n        // en dessous: les url qu&#39;on ne veut pas s&#233;curiser par l&#39;authentification: ex page d&#39;acceuil\r\n\r\n        http.authorizeRequests().antMatchers(&quot;/api/login&quot;, &quot;/api/token/refresh&quot;).permitAll();\r\n        http.authorizeRequests().antMatchers(&quot;/api/users&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;,&quot;ROLE_USER&quot;);\r\n        http.authorizeRequests().antMatchers(POST, &quot;/api/user/save/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        http.addFilter(customAuthentificationFilter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception{\r\n        return super.authenticationManagerBean();\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n```\r\npackage com.securitycrud.crudTest.filter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.interfaces.DecodedJWT;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static java.util.Arrays.stream;\r\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\r\nimport static org.springframework.util.MimeTypeUtils.APPLICATION_JSON_VALUE;\r\n\r\n@Slf4j\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if(request.getServletPath().equals(&quot;/api/login&quot;)||request.getServletPath().equals(&quot;/api/token/refresh&quot;) ){\r\n            filterChain.doFilter(request,response);\r\n        } else {\r\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\r\n\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                    JWTVerifier jwtVerifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = jwtVerifier.verify(token);\r\n                    String username = decodedJWT.getSubject();\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role -&gt; {\r\n                        authorities.add(new SimpleGrantedAuthority(role));\r\n                        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n                        SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                        try {\r\n                            filterChain.doFilter(request, response);\r\n                        } catch (IOException | ServletException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n\r\n                }catch (Exception exception){\r\n                    log.error(&quot;error loggin in: {}&quot;, exception.getMessage());\r\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\r\n                    response.setStatus(FORBIDDEN.value());\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error_token&quot;, exception.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n\r\n                }\r\n\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nNevertheless, when I try on Postman, I connect well, and I get the token well (and I am role user)\r\n\r\nThen, I test the GET api/users request.\r\nAnd there I can&#39;t. I get the following error:\r\n403 Forbidden: {\r\n    &quot;error_token&quot;: &quot;The input is not a valid base 64 encoded string.&quot;\r\n}\r\n\r\nI don&#39;t understand.... I tried to search but no way...\r\n\r\nDoes anyone have an idea?\r\n","title":"Spring Security error 403 during authorization","body":"<p>I followed a tutorial on Spring Security. I have set up an authentication that works: here is my authentication filter.</p>\n<pre><code>package com.securitycrud.crudTest.filter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nimport static org.springframework.util.MimeTypeUtils.APPLICATION_JSON_VALUE;\n\n@Slf4j\npublic class CustomAuthentificationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n    public CustomAuthentificationFilter(AuthenticationManager authenticationManager){\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n\n        return authenticationManager.authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\n        User user = (User)authentication.getPrincipal();\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String access_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+ 10 * 60 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.joining()))\n                .sign(algorithm);\n\n        String refresh_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+ 30 * 60 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.joining()))\n                .sign(algorithm);\n\n        Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\n        tokens.put(&quot;access_token&quot;, access_token);\n        tokens.put(&quot;refresh_token&quot;, refresh_token);\n        response.setContentType(APPLICATION_JSON_VALUE);\n        new ObjectMapper().writeValue(response.getOutputStream(), tokens);\n    }\n}\n</code></pre>\n<p>Then here is the authorization and config class.</p>\n<pre><code>package com.securitycrud.crudTest.security;\n\nimport com.securitycrud.crudTest.filter.CustomAuthentificationFilter;\nimport com.securitycrud.crudTest.filter.CustomAuthorizationFilter;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport static org.springframework.http.HttpMethod.GET;\nimport static org.springframework.http.HttpMethod.POST;\nimport static org.springframework.security.config.Customizer.withDefaults;\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\n\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n\n    }\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        CustomAuthentificationFilter customAuthentificationFilter = new CustomAuthentificationFilter(authenticationManagerBean());\n        customAuthentificationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(STATELESS);\n        // en dessous: les url qu'on ne veut pas scuriser par l'authentification: ex page d'acceuil\n\n        http.authorizeRequests().antMatchers(&quot;/api/login&quot;, &quot;/api/token/refresh&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/api/users&quot;).hasAnyRole(&quot;ROLE_ADMIN&quot;,&quot;ROLE_USER&quot;);\n        http.authorizeRequests().antMatchers(POST, &quot;/api/user/save/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeRequests().anyRequest().authenticated();\n        http.addFilter(customAuthentificationFilter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception{\n        return super.authenticationManagerBean();\n    }\n    }\n\n\n\n\n</code></pre>\n<pre><code>package com.securitycrud.crudTest.filter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static java.util.Arrays.stream;\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\nimport static org.springframework.util.MimeTypeUtils.APPLICATION_JSON_VALUE;\n\n@Slf4j\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if(request.getServletPath().equals(&quot;/api/login&quot;)||request.getServletPath().equals(&quot;/api/token/refresh&quot;) ){\n            filterChain.doFilter(request,response);\n        } else {\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\n\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n                    JWTVerifier jwtVerifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = jwtVerifier.verify(token);\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(role));\n                        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null, authorities);\n                        SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                        try {\n                            filterChain.doFilter(request, response);\n                        } catch (IOException | ServletException e) {\n                            throw new RuntimeException(e);\n                        }\n                    });\n\n                }catch (Exception exception){\n                    log.error(&quot;error loggin in: {}&quot;, exception.getMessage());\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\n                    response.setStatus(FORBIDDEN.value());\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_token&quot;, exception.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n\n                }\n\n            } else {\n                filterChain.doFilter(request, response);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Nevertheless, when I try on Postman, I connect well, and I get the token well (and I am role user)</p>\n<p>Then, I test the GET api/users request.\nAnd there I can't. I get the following error:\n403 Forbidden: {\n&quot;error_token&quot;: &quot;The input is not a valid base 64 encoded string.&quot;\n}</p>\n<p>I don't understand.... I tried to search but no way...</p>\n<p>Does anyone have an idea?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350693662,"creation_date":1350693662,"answer_id":12984220,"question_id":7197133,"body_markdown":"If you want to use your app to fire that intent .. so call your app directly through package name\r\ncheck the following code:\r\n\r\n    Intent in = getPackageManager().getLaunchIntentForPackage(&quot;com.package.myappweb&quot;);\r\n    in.putExtra(&quot;myURL&quot;,&quot;http://www.google.com&quot;);\r\n    in.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity( in );\r\n\r\nyou can pass the URL through intent and get it in your app by:\r\n\r\n\r\n    String url=getIntent().getStringExtra(&quot;myURL&quot;);\r\n    if(url!=null){\r\n    /// launch app and use one tab for showing the webpage\r\n    }else{\r\n    //launch app normally.\r\n    }\r\n\r\n\r\nthe code you mentioned used for using app as web-app ..that will show popup window to use to pick up any browser to deal with the link .. not that would be for any app wanna open link\r\n\r\n\r\ngood luck,","title":"Android open browser from service avoiding multiple tabs","body":"<p>If you want to use your app to fire that intent .. so call your app directly through package name\ncheck the following code:</p>\n\n<pre><code>Intent in = getPackageManager().getLaunchIntentForPackage(\"com.package.myappweb\");\nin.putExtra(\"myURL\",\"http://www.google.com\");\nin.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity( in );\n</code></pre>\n\n<p>you can pass the URL through intent and get it in your app by:</p>\n\n<pre><code>String url=getIntent().getStringExtra(\"myURL\");\nif(url!=null){\n/// launch app and use one tab for showing the webpage\n}else{\n//launch app normally.\n}\n</code></pre>\n\n<p>the code you mentioned used for using app as web-app ..that will show popup window to use to pick up any browser to deal with the link .. not that would be for any app wanna open link</p>\n\n<p>good luck,</p>\n"},{"tags":[],"owner":{"account_id":178404,"reputation":988,"user_id":410354,"accept_rate":60,"display_name":"Luca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352061541,"creation_date":1352061541,"answer_id":13222666,"question_id":7197133,"body_markdown":"The way to avoid multiple tabs is as follows: \r\n\r\n    Intent intent = new Intent(Intent.ACTION_VIEW);\r\n    intent.setData(uri);\r\n    intent.putExtra(Browser.EXTRA_APPLICATION_ID, getPackageName());\r\n    startActivity(intent);\r\n\r\nThe EXTRA_APPLICATION_ID will contain an ID of your app, and the browser will recycle a tab that was opened by your application, rather than opening a new tab.  In this way, all the pages opened by your application will share the same tab, and you will not have &quot;tab inflation&quot; in the browser.\r\n\r\n","title":"Android open browser from service avoiding multiple tabs","body":"<p>The way to avoid multiple tabs is as follows: </p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_VIEW);\nintent.setData(uri);\nintent.putExtra(Browser.EXTRA_APPLICATION_ID, getPackageName());\nstartActivity(intent);\n</code></pre>\n\n<p>The EXTRA_APPLICATION_ID will contain an ID of your app, and the browser will recycle a tab that was opened by your application, rather than opening a new tab.  In this way, all the pages opened by your application will share the same tab, and you will not have \"tab inflation\" in the browser.</p>\n"},{"tags":[],"owner":{"account_id":5346073,"reputation":1082,"user_id":4261600,"accept_rate":100,"display_name":"6rchid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662674183,"creation_date":1662674183,"answer_id":73655406,"question_id":7197133,"body_markdown":"None of the solutions above involving `Browser.EXTRA_APPLICATION_ID` work. \r\n\r\nHowever, Google&#39;s [Custom Tabs][1] which is now the standard for opening URL&#39;s was easy to implement and works like a charm. Here&#39;s all you need to open a tab: \r\n\r\n```\r\nimplementation &quot;androidx.browser:browser:1.4.0&quot;\r\n```\r\n\r\n```\r\nString url = &quot;https://google.com/&quot;;\r\nCustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\nCustomTabsIntent customTabsIntent = builder.build();\r\ncustomTabsIntent.launchUrl(this, Uri.parse(url));\r\n```\r\n\r\nMore can be found [here][2].\r\n\r\n\r\n  [1]: https://developer.chrome.com/docs/android/custom-tabs/\r\n  [2]: https://developer.chrome.com/docs/android/custom-tabs/integration-guide/","title":"Android open browser from service avoiding multiple tabs","body":"<p>None of the solutions above involving <code>Browser.EXTRA_APPLICATION_ID</code> work.</p>\n<p>However, Google's <a href=\"https://developer.chrome.com/docs/android/custom-tabs/\" rel=\"nofollow noreferrer\">Custom Tabs</a> which is now the standard for opening URL's was easy to implement and works like a charm. Here's all you need to open a tab:</p>\n<pre><code>implementation &quot;androidx.browser:browser:1.4.0&quot;\n</code></pre>\n<pre><code>String url = &quot;https://google.com/&quot;;\nCustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\nCustomTabsIntent customTabsIntent = builder.build();\ncustomTabsIntent.launchUrl(this, Uri.parse(url));\n</code></pre>\n<p>More can be found <a href=\"https://developer.chrome.com/docs/android/custom-tabs/integration-guide/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":326827,"reputation":83,"user_id":648816,"display_name":"Aitchehtee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3646,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1662674183,"creation_date":1314306175,"question_id":7197133,"body_markdown":"I am trying to open the browser window from my service with a link that opens in the current tab of the browser. when I use\r\n    \r\n    Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(&quot;http://www.google.com&quot;));\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    context.startActivity(intent);\r\n\r\nIf the browser was opened and in the foreground before my service starts the intent and the browser opens the link in the same window/tab. If the Browser was minimized and the service starts the intent, the browser opens the webpage in a new window/tab.\r\n\r\nI cannot use a web-view as it needs to be in the web browser and it will only be dealing with the default browser. I have checked out the thread at https://stackoverflow.com/questions/5489086/open-an-url-in-android-browser-avoid-multiple-tabs but it did not have an answer. I also have tried force closing the browser but that is also does not work.\r\n\r\nThank you for any help!","title":"Android open browser from service avoiding multiple tabs","body":"<p>I am trying to open the browser window from my service with a link that opens in the current tab of the browser. when I use</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(\"http://www.google.com\"));\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\ncontext.startActivity(intent);\n</code></pre>\n\n<p>If the browser was opened and in the foreground before my service starts the intent and the browser opens the link in the same window/tab. If the Browser was minimized and the service starts the intent, the browser opens the webpage in a new window/tab.</p>\n\n<p>I cannot use a web-view as it needs to be in the web browser and it will only be dealing with the default browser. I have checked out the thread at <a href=\"https://stackoverflow.com/questions/5489086/open-an-url-in-android-browser-avoid-multiple-tabs\">Open an url in android browser, avoid multiple tabs</a> but it did not have an answer. I also have tried force closing the browser but that is also does not work.</p>\n\n<p>Thank you for any help!</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1575763158,"post_id":59231305,"comment_id":104675703,"body_markdown":"Show you code of AddEmployee.java.","body":"Show you code of AddEmployee.java."},{"owner":{"account_id":16060501,"reputation":57,"user_id":11591503,"display_name":"Wajdan Faheem"},"score":0,"creation_date":1575763690,"post_id":59231305,"comment_id":104675778,"body_markdown":"It should be added now","body":"It should be added now"}],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575763984,"creation_date":1575763984,"answer_id":59231398,"question_id":59231305,"body_markdown":"`getResource()` doesn&#39;t find the image and returns `null`, which causes the problem in the Icon class. Check where you image actually is and use correct path.\r\n","title":"AWT: NullPointerException when creating icon","body":"<p><code>getResource()</code> doesn't find the image and returns <code>null</code>, which causes the problem in the Icon class. Check where you image actually is and use correct path.</p>\n"},{"tags":[],"owner":{"account_id":6821374,"reputation":318,"user_id":5248424,"display_name":"Gulshan Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575799384,"creation_date":1575799384,"answer_id":59234297,"question_id":59231305,"body_markdown":"I notice , you have used absolute path here, cause it begins with /\r\n\r\n    jLabel18.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/InheritancePackage/Save_1.png&quot;)));\r\n\r\nOn your computer, the image is at the desired location: \r\n\r\n    /InheritancePackage/Save_1.png\r\n\r\nbut on different computer its not present at /InheritancePackage/Save_1.png, its relative to jar file and hence not found, thus NullPointerException for icon!!\r\n\r\nInstead, you should be using relative path, try removing / at the begining and use:\r\n\r\n    InheritancePackage/Save_1.png\r\n","title":"AWT: NullPointerException when creating icon","body":"<p>I notice , you have used absolute path here, cause it begins with /</p>\n\n<pre><code>jLabel18.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/InheritancePackage/Save_1.png\")));\n</code></pre>\n\n<p>On your computer, the image is at the desired location: </p>\n\n<pre><code>/InheritancePackage/Save_1.png\n</code></pre>\n\n<p>but on different computer its not present at /InheritancePackage/Save_1.png, its relative to jar file and hence not found, thus NullPointerException for icon!!</p>\n\n<p>Instead, you should be using relative path, try removing / at the begining and use:</p>\n\n<pre><code>InheritancePackage/Save_1.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16060501,"reputation":57,"user_id":11591503,"display_name":"Wajdan Faheem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1576277557,"creation_date":1576277557,"answer_id":59330765,"question_id":59231305,"body_markdown":"I found a solution.\r\nStep by step solution:\r\n\r\n1. Right clicking your project\r\n\r\n2. Hover over &quot;new&quot; and select &quot;folder&quot;\r\n\r\n3. Name your folder &quot;src/main/resources&quot; \r\n\r\n4. Move all your images to that new folder\r\n\r\n5. When selecting images for icons, go into that package of the new folder for the images.\r\n\r\nAfter doing this, there will be no more null pointer and the images will transfer over when exporting it as a ZIP.\r\n\r\nThat should fix this problem because it worked for me!","title":"AWT: NullPointerException when creating icon","body":"<p>I found a solution.\nStep by step solution:</p>\n\n<ol>\n<li><p>Right clicking your project</p></li>\n<li><p>Hover over \"new\" and select \"folder\"</p></li>\n<li><p>Name your folder \"src/main/resources\" </p></li>\n<li><p>Move all your images to that new folder</p></li>\n<li><p>When selecting images for icons, go into that package of the new folder for the images.</p></li>\n</ol>\n\n<p>After doing this, there will be no more null pointer and the images will transfer over when exporting it as a ZIP.</p>\n\n<p>That should fix this problem because it worked for me!</p>\n"},{"tags":[],"owner":{"account_id":15484486,"reputation":54,"user_id":11170876,"display_name":"Muhammad Faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662673542,"creation_date":1662673542,"answer_id":73655329,"question_id":59231305,"body_markdown":" I was also facing this error, As you are using Maven, By default Maven don&#39;t move resource from Java code to your compiled classes. So you can use this maven plugin to do that. after that we will not face this error.\r\n\r\n    \r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t  &lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t&lt;!-- here the phase you need --&gt;\r\n\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t  &lt;outputDirectory&gt;${basedir}/target/classes/ordg/pos/resources/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t  &lt;resources&gt;          \r\n\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t  &lt;directory&gt;${basedir}/src/main/java/ordg/pos/resources/&lt;/directory&gt;\r\n\t\t\t\t\t\t  &lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t  &lt;/resources&gt;              \r\n\t\t\t\t\t&lt;/configuration&gt;            \r\n\t\t\t\t  &lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt; ","title":"AWT: NullPointerException when creating icon","body":"<p>I was also facing this error, As you are using Maven, By default Maven don't move resource from Java code to your compiled classes. So you can use this maven plugin to do that. after that we will not face this error.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy-resources&lt;/id&gt;\n                &lt;!-- here the phase you need --&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;outputDirectory&gt;${basedir}/target/classes/ordg/pos/resources/&lt;/outputDirectory&gt;\n                  &lt;resources&gt;          \n                    &lt;resource&gt;\n                      &lt;directory&gt;${basedir}/src/main/java/ordg/pos/resources/&lt;/directory&gt;\n                      &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                  &lt;/resources&gt;              \n                &lt;/configuration&gt;            \n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;/plugin&gt; \n</code></pre>\n"}],"owner":{"account_id":16060501,"reputation":57,"user_id":11591503,"display_name":"Wajdan Faheem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59330765,"answer_count":4,"score":0,"last_activity_date":1662673542,"creation_date":1575762821,"question_id":59231305,"body_markdown":"Whenever I set an image as an icon I get an error.\r\nHere is my Addemployee code:\r\nhttps://pastebin.com/xnbXP1B2\r\n\r\nThe error is:\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\r\n\tat InheritancePackage.AddEmployee.initComponents(AddEmployee.java:471)\r\n\tat InheritancePackage.AddEmployee.&lt;init&gt;(AddEmployee.java:96)\r\n\tat InheritancePackage.Menu.MainAddMouseClicked(Menu.java:554)\r\n\tat InheritancePackage.Menu$9.mouseClicked(Menu.java:269)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6397)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4556)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```\r\n\r\nThe way I setup the icon inside the jlabel is through &quot;Image Within Project&quot; and if you check the project menu the picture package is included. All of the picture that are used are in the &quot;picture&quot; package.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3D7lK.png\r\n\r\n\r\nDoes anyone know how to resolve this?","title":"AWT: NullPointerException when creating icon","body":"<p>Whenever I set an image as an icon I get an error.\nHere is my Addemployee code:\n<a href=\"https://pastebin.com/xnbXP1B2\" rel=\"nofollow noreferrer\">https://pastebin.com/xnbXP1B2</a></p>\n\n<p>The error is:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n    at java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\n    at InheritancePackage.AddEmployee.initComponents(AddEmployee.java:471)\n    at InheritancePackage.AddEmployee.&lt;init&gt;(AddEmployee.java:96)\n    at InheritancePackage.Menu.MainAddMouseClicked(Menu.java:554)\n    at InheritancePackage.Menu$9.mouseClicked(Menu.java:269)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6397)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2263)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4556)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n\n<p>The way I setup the icon inside the jlabel is through \"Image Within Project\" and if you check the project menu the picture package is included. All of the picture that are used are in the \"picture\" package.\n<a href=\"https://i.stack.imgur.com/3D7lK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3D7lK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know how to resolve this?</p>\n"},{"tags":["java","android","android-intent","android-activity","qr-code"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662394968,"creation_date":1662394968,"answer_id":73612242,"question_id":73604105,"body_markdown":"There are a lot of issues with this:\r\n\r\n1. You are launching `PatientActivity`, not `ResultActivity` in `handleResult()`\r\n2. You are trying to set the value of a `TextView` in another `Activity` with this code:\r\n    `ResultActivity.scanText2.setText(rawResult.getText());`\r\n\r\nThis is an absolute no-no. Pass the data to `ResultActivity` as an `Intent` extra when you launch it. You cannot access the views of another `Activity` like that.\r\n\r\n3. You expect that `ResultActivity.scanText2` will contain a reference to a `TextView`, but at this point it will only contain `null`. The reason is that it takes some time for `ResultActivity` to actually start and call its `onCreate()`. You have not accounted for this timing in your code. To solve this problem, just see (2) above.\r\n\r\nAlso, you should have gotten a bunch of crashes with useful messages in your logcat. In the future please look there to solve problems and/or post the messages with stacktrace in your Stackoverflow questions.","title":"The value of QR Code Scanner cannot show on new activity","body":"<p>There are a lot of issues with this:</p>\n<ol>\n<li>You are launching <code>PatientActivity</code>, not <code>ResultActivity</code> in <code>handleResult()</code></li>\n<li>You are trying to set the value of a <code>TextView</code> in another <code>Activity</code> with this code:\n<code>ResultActivity.scanText2.setText(rawResult.getText());</code></li>\n</ol>\n<p>This is an absolute no-no. Pass the data to <code>ResultActivity</code> as an <code>Intent</code> extra when you launch it. You cannot access the views of another <code>Activity</code> like that.</p>\n<ol start=\"3\">\n<li>You expect that <code>ResultActivity.scanText2</code> will contain a reference to a <code>TextView</code>, but at this point it will only contain <code>null</code>. The reason is that it takes some time for <code>ResultActivity</code> to actually start and call its <code>onCreate()</code>. You have not accounted for this timing in your code. To solve this problem, just see (2) above.</li>\n</ol>\n<p>Also, you should have gotten a bunch of crashes with useful messages in your logcat. In the future please look there to solve problems and/or post the messages with stacktrace in your Stackoverflow questions.</p>\n"}],"owner":{"account_id":25863188,"reputation":13,"user_id":19595325,"display_name":"Hamdhana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73612242,"answer_count":1,"score":1,"last_activity_date":1662672690,"creation_date":1662345788,"question_id":73604105,"body_markdown":"I am trying to make a simple QR Code scanner and run well if the result shows in the MainActivity. But when I&#39;m trying to generate new Activity as a result, it can&#39;t show. Would you like to help me with this problem? Thank you.\r\n\r\nHere is the result of the scanner code in the scanner.java:\r\n```\r\n@Override\r\n    public void handleResult(Result rawResult) {\r\n        startActivity(new Intent(getApplicationContext(),ResultActivity.class));\r\n        ResultActivity.scanText2.setText(rawResult.getText());\r\n        onBackPressed(); \r\n\r\n    }\r\n```\r\n\r\nAnd here is the code of my new Activity for showing the result:\r\n```\r\npublic class ResultActivity extends AppCompatActivity {\r\n    public static TextView scanText2;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_patient);\r\n\r\n        scanText2 = (TextView) findViewById(R.id.scanText2);\r\n    }\r\n}\r\n```","title":"The value of QR Code Scanner cannot show on new activity","body":"<p>I am trying to make a simple QR Code scanner and run well if the result shows in the MainActivity. But when I'm trying to generate new Activity as a result, it can't show. Would you like to help me with this problem? Thank you.</p>\n<p>Here is the result of the scanner code in the scanner.java:</p>\n<pre><code>@Override\n    public void handleResult(Result rawResult) {\n        startActivity(new Intent(getApplicationContext(),ResultActivity.class));\n        ResultActivity.scanText2.setText(rawResult.getText());\n        onBackPressed(); \n\n    }\n</code></pre>\n<p>And here is the code of my new Activity for showing the result:</p>\n<pre><code>public class ResultActivity extends AppCompatActivity {\n    public static TextView scanText2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_patient);\n\n        scanText2 = (TextView) findViewById(R.id.scanText2);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","design-patterns","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":3881276,"reputation":416,"user_id":3213708,"accept_rate":75,"display_name":"nanachimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662672634,"creation_date":1662585157,"answer_id":73641512,"question_id":73641034,"body_markdown":"Instead of inheritance I would rather use composition (dependency injection) to achieve this abstraction (reusability)\r\n\r\nLike this:\r\n\r\n    class MyTest1 {\r\n    \r\n      private AMock aMock;\r\n    \r\n      ...\r\n      \r\n    }\r\nSure you can use use inheritance to avoid duplication in BMock, CMock. etc.\r\nBut even here I will rather use composition to achieve the same Goal.\r\nGenerally inheritance should be used if you want to enforce some behaviour (generally through constructor and abstract method).\r\n\r\nIn your case (as far as I understand), you are more interested by the features that each mock provides independently.\r\n\r\nIn case EMock internally uses a method from BMock ... to achieve its task:\r\n\r\n    class EMock {\r\n    \r\n      private AMock aMock;\r\n       \r\n      private BMock aMock;\r\n\r\n      ...\r\n      \r\n    }\r\n\r\nIn case nothing from BMock is used in EMock:\r\n\r\n    class MyTest1 {\r\n    \r\n      private AMock aMock;\r\n    \r\n      private BMock bMock;\r\n    \r\n      ...\r\n\r\n      private EMock eMock;\r\n\r\n      \r\n      // further methods where aMock.doSomeStuff() ... is called.\r\n    }","title":"How can I reuse test implementation?","body":"<p>Instead of inheritance I would rather use composition (dependency injection) to achieve this abstraction (reusability)</p>\n<p>Like this:</p>\n<pre><code>class MyTest1 {\n\n  private AMock aMock;\n\n  ...\n  \n}\n</code></pre>\n<p>Sure you can use use inheritance to avoid duplication in BMock, CMock. etc.\nBut even here I will rather use composition to achieve the same Goal.\nGenerally inheritance should be used if you want to enforce some behaviour (generally through constructor and abstract method).</p>\n<p>In your case (as far as I understand), you are more interested by the features that each mock provides independently.</p>\n<p>In case EMock internally uses a method from BMock ... to achieve its task:</p>\n<pre><code>class EMock {\n\n  private AMock aMock;\n   \n  private BMock aMock;\n\n  ...\n  \n}\n</code></pre>\n<p>In case nothing from BMock is used in EMock:</p>\n<pre><code>class MyTest1 {\n\n  private AMock aMock;\n\n  private BMock bMock;\n\n  ...\n\n  private EMock eMock;\n\n  \n  // further methods where aMock.doSomeStuff() ... is called.\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73641512,"answer_count":1,"score":0,"last_activity_date":1662672634,"creation_date":1662581848,"question_id":73641034,"body_markdown":"I started creating JUnit tests for the different algorithms, but soon I realized that most of the time, I write the same code, so I decided to centralize those parts.\r\n\r\nInstead of doing multiple calls to the DB, I prefer to create a mock, and read values from CSV.\r\nI mock each provider that is responsible to do the call to DB and return values.\r\n\r\nLet&#39;s say I have the following providers: A, B, C, D, E, F.&lt;br&gt;\r\nI created for each one an abstract class on which I have some methods, one to read values from csv, another one to filter the result and use it in the when-thenReturn statement: AMock, BMock, CMock, DMock, EMock, FMock.\r\n\r\nI know that I can&#39;t create a test that extends all these classes, so at the moment, I use this workaround:\r\n\r\nEMock extends FMock&lt;br&gt;\r\nDMock extends EMock&lt;br&gt;\r\nCMock extends DMock&lt;br&gt;\r\nBMock extends CMock&lt;br&gt;\r\nAMock extends BMock&lt;br&gt;\r\n\r\nMyTest1 extends AMock&lt;br&gt;\r\nMyTest2 extends AMock&lt;br&gt;\r\nMyTest3 extends CMock&lt;br&gt;\r\n\r\netc.\r\n\r\nBut I don&#39;t like it very well, because I don&#39;t need it all every time, &lt;br&gt;\r\nfor example if MyTest2 needs only AMock and EMock, extending the AMock I have them all.\r\n\r\nIt&#39;s there a more elegant approach?","title":"How can I reuse test implementation?","body":"<p>I started creating JUnit tests for the different algorithms, but soon I realized that most of the time, I write the same code, so I decided to centralize those parts.</p>\n<p>Instead of doing multiple calls to the DB, I prefer to create a mock, and read values from CSV.\nI mock each provider that is responsible to do the call to DB and return values.</p>\n<p>Let's say I have the following providers: A, B, C, D, E, F.<br>\nI created for each one an abstract class on which I have some methods, one to read values from csv, another one to filter the result and use it in the when-thenReturn statement: AMock, BMock, CMock, DMock, EMock, FMock.</p>\n<p>I know that I can't create a test that extends all these classes, so at the moment, I use this workaround:</p>\n<p>EMock extends FMock<br>\nDMock extends EMock<br>\nCMock extends DMock<br>\nBMock extends CMock<br>\nAMock extends BMock<br></p>\n<p>MyTest1 extends AMock<br>\nMyTest2 extends AMock<br>\nMyTest3 extends CMock<br></p>\n<p>etc.</p>\n<p>But I don't like it very well, because I don't need it all every time, <br>\nfor example if MyTest2 needs only AMock and EMock, extending the AMock I have them all.</p>\n<p>It's there a more elegant approach?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1662656713,"post_id":73652629,"comment_id":130062221,"body_markdown":"`src_music_typing.mp3 (No such file or directory)` where is your file located? Have you tried providing *absolute* path for it?","body":"<code>src_music_typing.mp3 (No such file or directory)</code> where is your file located? Have you tried providing <i>absolute</i> path for it?"},{"owner":{"account_id":26136534,"reputation":1,"user_id":19826448,"display_name":"Chanyoung"},"score":0,"creation_date":1662656888,"post_id":73652629,"comment_id":130062272,"body_markdown":"No, I have not tried! I haven&#39;t even thought for the path.","body":"No, I have not tried! I haven&#39;t even thought for the path."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662656828,"creation_date":1662656828,"answer_id":73652783,"question_id":73652629,"body_markdown":"The error is telling you simply that `src_music_typing.mp3` does not exist; evidently you aren&#39;t running this in the directory you think you&#39;re running it in. Trivial solution: Make that path string (`String filename = &quot;src_...&quot;`) an absolute path instead.\r\n\r\nNB: It&#39;s a cavalcade of problems, here. Your code is bad and it leads to inefficient error messages. Inefficient enough to confuse you, for example.\r\n\r\nYou should _never_ catch an exception just to log it and then blindly continue; I know a _ton_ of code snippets do this, but that part of them is just bad. You don&#39;t want to do that - dealing with an error by __blindly continuing on__ is, obviously, a really silly thing to do!\r\n\r\nThe right way to deal with exceptions that you don&#39;t explicitly know how to handle is instead to just throw them on. your `play` method should be declared as `throws IOException`, as this is inherent to your API design, this is fine (it&#39;s inherent because your music player class as a property that represents a file name, and anything file related is expected to throw IOExceptions, hence, fine - not leaking an abstraction).\r\n\r\nThen the whole try/catch bit can just go away, yay! Your code is better __and__ shorter __and__ easier to understand, win win win!\r\n\r\nBecause you didn&#39;t do that, and you just run blindly on, you get a second error that is complaining about attempting to invoke `play()` on a null pointer. This error is meaningless, in that it&#39;s merely a symptom, not the cause. The cause is the _first_ error message. This is one of a few key reasons why &#39;keep blindly going&#39; is a really bad idea - it means you get a ton of meaningless, confusing errors after the actual problem, resulting in a ton of error output, most of which is just hiding the actual problem.\r\n\r\nIf you can&#39;t throw them on, a distant second best solution is to put this in your catch blocks: `throw new RuntimeException(&quot;uncaught&quot;, e);`. This preserves __all__ error information (type, message, stack trace, causal chain - all of it), and still ensures code does not blindly continue when your method is an unknown (to you) state. If you have an IDE that inserts catch blocks for you, __update its template__.\r\n\r\nNB: `main` can and usually should be declared as `static void main(String[] args) throws Exception {`.\r\n","title":"Java mp3 file errors","body":"<p>The error is telling you simply that <code>src_music_typing.mp3</code> does not exist; evidently you aren't running this in the directory you think you're running it in. Trivial solution: Make that path string (<code>String filename = &quot;src_...&quot;</code>) an absolute path instead.</p>\n<p>NB: It's a cavalcade of problems, here. Your code is bad and it leads to inefficient error messages. Inefficient enough to confuse you, for example.</p>\n<p>You should <em>never</em> catch an exception just to log it and then blindly continue; I know a <em>ton</em> of code snippets do this, but that part of them is just bad. You don't want to do that - dealing with an error by <strong>blindly continuing on</strong> is, obviously, a really silly thing to do!</p>\n<p>The right way to deal with exceptions that you don't explicitly know how to handle is instead to just throw them on. your <code>play</code> method should be declared as <code>throws IOException</code>, as this is inherent to your API design, this is fine (it's inherent because your music player class as a property that represents a file name, and anything file related is expected to throw IOExceptions, hence, fine - not leaking an abstraction).</p>\n<p>Then the whole try/catch bit can just go away, yay! Your code is better <strong>and</strong> shorter <strong>and</strong> easier to understand, win win win!</p>\n<p>Because you didn't do that, and you just run blindly on, you get a second error that is complaining about attempting to invoke <code>play()</code> on a null pointer. This error is meaningless, in that it's merely a symptom, not the cause. The cause is the <em>first</em> error message. This is one of a few key reasons why 'keep blindly going' is a really bad idea - it means you get a ton of meaningless, confusing errors after the actual problem, resulting in a ton of error output, most of which is just hiding the actual problem.</p>\n<p>If you can't throw them on, a distant second best solution is to put this in your catch blocks: <code>throw new RuntimeException(&quot;uncaught&quot;, e);</code>. This preserves <strong>all</strong> error information (type, message, stack trace, causal chain - all of it), and still ensures code does not blindly continue when your method is an unknown (to you) state. If you have an IDE that inserts catch blocks for you, <strong>update its template</strong>.</p>\n<p>NB: <code>main</code> can and usually should be declared as <code>static void main(String[] args) throws Exception {</code>.</p>\n"}],"owner":{"account_id":26136534,"reputation":1,"user_id":19826448,"display_name":"Chanyoung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73652783,"answer_count":1,"score":0,"last_activity_date":1662672628,"creation_date":1662656100,"question_id":73652629,"body_markdown":"I am new to programming and trying to insert the mp3 file on Mac, but I have errors with these codes. I have been looking for solutions for a long time but I was not able to find the right answers. I would like to know what I did wrong.\r\n\r\n\r\n\r\n```\r\nimport javazoom.jl.player.Player;\r\nimport java.io.BufferedInputStream;\r\nimport java.io.FileInputStream;\r\n\r\npublic class Music {\r\n\r\n    public static void main(String [] args) {\r\n\r\n        String filename = &quot;src_music_typing.mp3&quot;;\r\n        MusicPlayer music = new MusicPlayer(filename);\r\n        music.play();\r\n    }\r\n}\r\n\r\nclass MusicPlayer {\r\n\r\n    private final String mp3File;\r\n\r\n    private Player jlPlayer;\r\n\r\n    public MusicPlayer(String mp3File) {\r\n        this.mp3File = mp3File;\r\n    }\r\n\r\n    public void play() {\r\n        try {\r\n            FileInputStream fis = new FileInputStream(mp3File);\r\n            BufferedInputStream bis = new BufferedInputStream(fis);\r\n            jlPlayer = new Player(bis);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;problem file is &quot; + mp3File);\r\n            System.out.println(e.getMessage());\r\n        }\r\n        new Thread() {\r\n            public void run() {\r\n                try {\r\n                    jlPlayer.play();\r\n                } catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n    public void close() {\r\n        if(jlPlayer != null) jlPlayer.close();\r\n    }\r\n}\r\n```\r\n\r\nProblem:\r\n\r\n```\r\nproblem file is src_music_typing.mp3\r\n\r\nsrc_music_typing.mp3 (No such file or directory)\r\n\r\nCannot invoke &quot;javazoom.jl.player.Player.play()&quot; because &quot;this.this$0.jlPlayer&quot; is null\r\n```","title":"Java mp3 file errors","body":"<p>I am new to programming and trying to insert the mp3 file on Mac, but I have errors with these codes. I have been looking for solutions for a long time but I was not able to find the right answers. I would like to know what I did wrong.</p>\n<pre><code>import javazoom.jl.player.Player;\nimport java.io.BufferedInputStream;\nimport java.io.FileInputStream;\n\npublic class Music {\n\n    public static void main(String [] args) {\n\n        String filename = &quot;src_music_typing.mp3&quot;;\n        MusicPlayer music = new MusicPlayer(filename);\n        music.play();\n    }\n}\n\nclass MusicPlayer {\n\n    private final String mp3File;\n\n    private Player jlPlayer;\n\n    public MusicPlayer(String mp3File) {\n        this.mp3File = mp3File;\n    }\n\n    public void play() {\n        try {\n            FileInputStream fis = new FileInputStream(mp3File);\n            BufferedInputStream bis = new BufferedInputStream(fis);\n            jlPlayer = new Player(bis);\n        } catch (Exception e) {\n            System.out.println(&quot;problem file is &quot; + mp3File);\n            System.out.println(e.getMessage());\n        }\n        new Thread() {\n            public void run() {\n                try {\n                    jlPlayer.play();\n                } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                }\n            }\n        }.start();\n    }\n    public void close() {\n        if(jlPlayer != null) jlPlayer.close();\n    }\n}\n</code></pre>\n<p>Problem:</p>\n<pre><code>problem file is src_music_typing.mp3\n\nsrc_music_typing.mp3 (No such file or directory)\n\nCannot invoke &quot;javazoom.jl.player.Player.play()&quot; because &quot;this.this$0.jlPlayer&quot; is null\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1662672395,"post_id":73655163,"comment_id":130066625,"body_markdown":"What is the guarantee of uniqueness for the UUID? Why isn&#39;t your big integer just as unique as the original UUID? Considering all you&#39;re doing is converting it from a String representation and making it an Integer representation? What is **your** criteria for uniqueness?","body":"What is the guarantee of uniqueness for the UUID? Why isn&#39;t your big integer just as unique as the original UUID? Considering all you&#39;re doing is converting it from a String representation and making it an Integer representation? What is <b>your</b> criteria for uniqueness?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1662672424,"post_id":73655163,"comment_id":130066631,"body_markdown":"Every number is unique.","body":"Every number is unique."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":1,"creation_date":1662672933,"post_id":73655163,"comment_id":130066743,"body_markdown":"UUID collisions are [extraordinarily rare](https://stackoverflow.com/a/24876263/6296561). You can never truly guarantee uniqueness when you randomize anything. Reducing the number of options, however, increases the probability of a collision. If you truly need no collisions and a truly 0% (and not effectively 0%) chance of a collision, you need a way to centrally manage the number used. Otherwise, collisions can happen on paper. However, for the vast majority of applications, effectively 0% is good enough","body":"UUID collisions are <a href=\"https://stackoverflow.com/a/24876263/6296561\">extraordinarily rare</a>. You can never truly guarantee uniqueness when you randomize anything. Reducing the number of options, however, increases the probability of a collision. If you truly need no collisions and a truly 0% (and not effectively 0%) chance of a collision, you need a way to centrally manage the number used. Otherwise, collisions can happen on paper. However, for the vast majority of applications, effectively 0% is good enough"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662674308,"post_id":73655163,"comment_id":130067017,"body_markdown":"Playing Russian roulette with a revolver with 1,000,000,000,000,000,000,000,000,000,000,000,000 chambers","body":"Playing Russian roulette with a revolver with 1,000,000,000,000,000,000,000,000,000,000,000,000 chambers"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662672537,"creation_date":1662672537,"answer_id":73655208,"question_id":73655163,"body_markdown":"You definitely can&#39;t _guarantee_ uniqueness any more than `UUID.randomUUID()` can.  Without synchronizing with, like, a server somewhere, you can&#39;t guarantee that; you can just make it improbable.\r\n\r\nBut to make it improbable as possible, just use the random constructor:\r\n\r\n\r\n```\r\nSecureRandom random = new SecureRandom()\r\nBigInteger bigint;\r\ndo {\r\n  bigint = new BigInteger(120, random); // 2^120 &gt; 10^36\r\n} while (bigint.compareTo(BigInteger.TEN.pow(36)) &gt;= 0);\r\n```","title":"How to generate Unique 36 digit (ONLY NUMBER) from Java UUID","body":"<p>You definitely can't <em>guarantee</em> uniqueness any more than <code>UUID.randomUUID()</code> can.  Without synchronizing with, like, a server somewhere, you can't guarantee that; you can just make it improbable.</p>\n<p>But to make it improbable as possible, just use the random constructor:</p>\n<pre><code>SecureRandom random = new SecureRandom()\nBigInteger bigint;\ndo {\n  bigint = new BigInteger(120, random); // 2^120 &gt; 10^36\n} while (bigint.compareTo(BigInteger.TEN.pow(36)) &gt;= 0);\n</code></pre>\n"}],"owner":{"account_id":13835212,"reputation":47,"user_id":9986910,"display_name":"Java Cloud Techno"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662672537,"creation_date":1662672163,"question_id":73655163,"body_markdown":"Using UUID.randomUUID() is best when we need the universal unique number of 36 char as alfa numeric but can&#39;t see an authentic function to generate the 36 digits number (Unique).\r\n\r\n    String lUUID = String.format(&quot;%040d&quot;, new BigInteger(UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;), 16));\r\n\r\nThe above code we can use to generate the unique number but it&#39;s giving 40 digits and no guarantee of being uniqueness.\r\n","title":"How to generate Unique 36 digit (ONLY NUMBER) from Java UUID","body":"<p>Using UUID.randomUUID() is best when we need the universal unique number of 36 char as alfa numeric but can't see an authentic function to generate the 36 digits number (Unique).</p>\n<pre><code>String lUUID = String.format(&quot;%040d&quot;, new BigInteger(UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;), 16));\n</code></pre>\n<p>The above code we can use to generate the unique number but it's giving 40 digits and no guarantee of being uniqueness.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1662624811,"post_id":73642428,"comment_id":130050066,"body_markdown":"Can&#39;t reproduce this. Post the code from controller.","body":"Can&#39;t reproduce this. Post the code from controller."}],"answers":[{"tags":[],"owner":{"account_id":4535404,"reputation":301,"user_id":3684747,"display_name":"user3684747"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662595179,"creation_date":1662595179,"answer_id":73642491,"question_id":73642428,"body_markdown":"Add @JsonIgnore to the fields (getter in this case) instead of directly to the property\r\n\r\n    @JsonIgnore\r\n    public String getId() { return this.id; }","title":"JsonIgnore on field in list of objects","body":"<p>Add @JsonIgnore to the fields (getter in this case) instead of directly to the property</p>\n<pre><code>@JsonIgnore\npublic String getId() { return this.id; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662672418,"creation_date":1662635667,"answer_id":73648166,"question_id":73642428,"body_markdown":"I assume that your `response` variable in `ProjectService` class looks something like this:\r\n\r\n \r\n\r\n     String response = &quot;[\\n&quot; +\r\n                    &quot;  {\\n&quot; +\r\n                    &quot;    \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                    &quot;    \\&quot;name\\&quot;: \\&quot;Test\\&quot;\\n&quot; +\r\n                    &quot;  }\\n&quot; +\r\n                    &quot;]&quot;;\r\n\r\nYou are trying to convert your json to a `List.class`, not a list of users `List&lt;User&gt;`, so\r\nchange this line of code:\r\n\r\n    return new ObjectMapper().readValue(response, List.class);\r\n\r\nto this:\r\n\r\n    new ObjectMapper().readValue(response, new TypeReference&lt;List&lt;User&gt;&gt;(){});\r\n","title":"JsonIgnore on field in list of objects","body":"<p>I assume that your <code>response</code> variable in <code>ProjectService</code> class looks something like this:</p>\n<pre><code> String response = &quot;[\\n&quot; +\n                &quot;  {\\n&quot; +\n                &quot;    \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;Test\\&quot;\\n&quot; +\n                &quot;  }\\n&quot; +\n                &quot;]&quot;;\n</code></pre>\n<p>You are trying to convert your json to a <code>List.class</code>, not a list of users <code>List&lt;User&gt;</code>, so\nchange this line of code:</p>\n<pre><code>return new ObjectMapper().readValue(response, List.class);\n</code></pre>\n<p>to this:</p>\n<pre><code>new ObjectMapper().readValue(response, new TypeReference&lt;List&lt;User&gt;&gt;(){});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662641847,"creation_date":1662641847,"answer_id":73649470,"question_id":73642428,"body_markdown":"I tried to reproduce your problem and couldn&#39;t. It worked for me. So may be it is the version of your library. Here is the versions I used:\r\n \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;2.13.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;2.13.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAnd here is the code I ran:\r\n\r\n    private static void jsonParserIgnoreTest() {\r\n        try {\r\n            JsonPerson person = new JsonPerson(1L, &quot;Jack&quot;);\r\n            System.out.println(&quot;Single person: &quot; + JsonUtils.writeObjectToJsonString(person));\r\n            List&lt;JsonPerson&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(person);\r\n            JsonGroup group = new JsonGroup(&quot;Interest Group&quot;, list);\r\n\r\n\r\n            System.out.println(&quot;Group: &quot; + JsonUtils.writeObjectToJsonString(group));\r\n            System.out.println(&quot;List: &quot; + JsonUtils.writeObjectToJsonString(list));\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nAnd here is the output I got:\r\n\r\n    Single person: {&quot;name&quot;:&quot;Jack&quot;}\r\n    Group: {&quot;groupName&quot;:&quot;Interest Group&quot;,&quot;people&quot;:[{&quot;name&quot;:&quot;Jack&quot;}]}\r\n    List: [{&quot;name&quot;:&quot;Jack&quot;}]\r\n\r\nHere are the classes JsonPerson and JsonGroup (omitting setters and getters)\r\n\r\n    public class JsonPerson {\r\n        @JsonIgnore\r\n        private Long id;\r\n        private String name;\r\n    \r\n        public JsonPerson() {\r\n        }\r\n        public JsonPerson(Long id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class JsonGroup {\r\n        String groupName;\r\n        List&lt;JsonPerson&gt; people;\r\n    \r\n        public JsonGroup() {\r\n        }\r\n    \r\n        public JsonGroup(String name, List&lt;JsonPerson&gt; people) {\r\n            groupName = name;\r\n            this.people = people;\r\n        }\r\n    \r\n    }\r\n\r\nThe class `JsonUtils` - a thin wrapper over Jackson-Json Library. It is part of Open source MgntUtils library written and maintained by me. If you are interested you can use it too. Here is [JsonUtils Javadoc][1] and the library could be obtained as [Maven artifact On Maven central][2] and on [Github][3] (including sources and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"JsonIgnore on field in list of objects","body":"<p>I tried to reproduce your problem and couldn't. It worked for me. So may be it is the version of your library. Here is the versions I used:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n          &lt;version&gt;2.13.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n          &lt;version&gt;2.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And here is the code I ran:</p>\n<pre><code>private static void jsonParserIgnoreTest() {\n    try {\n        JsonPerson person = new JsonPerson(1L, &quot;Jack&quot;);\n        System.out.println(&quot;Single person: &quot; + JsonUtils.writeObjectToJsonString(person));\n        List&lt;JsonPerson&gt; list = new ArrayList&lt;&gt;();\n        list.add(person);\n        JsonGroup group = new JsonGroup(&quot;Interest Group&quot;, list);\n\n\n        System.out.println(&quot;Group: &quot; + JsonUtils.writeObjectToJsonString(group));\n        System.out.println(&quot;List: &quot; + JsonUtils.writeObjectToJsonString(list));\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And here is the output I got:</p>\n<pre><code>Single person: {&quot;name&quot;:&quot;Jack&quot;}\nGroup: {&quot;groupName&quot;:&quot;Interest Group&quot;,&quot;people&quot;:[{&quot;name&quot;:&quot;Jack&quot;}]}\nList: [{&quot;name&quot;:&quot;Jack&quot;}]\n</code></pre>\n<p>Here are the classes JsonPerson and JsonGroup (omitting setters and getters)</p>\n<pre><code>public class JsonPerson {\n    @JsonIgnore\n    private Long id;\n    private String name;\n\n    public JsonPerson() {\n    }\n    public JsonPerson(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n\npublic class JsonGroup {\n    String groupName;\n    List&lt;JsonPerson&gt; people;\n\n    public JsonGroup() {\n    }\n\n    public JsonGroup(String name, List&lt;JsonPerson&gt; people) {\n        groupName = name;\n        this.people = people;\n    }\n\n}\n</code></pre>\n<p>The class <code>JsonUtils</code> - a thin wrapper over Jackson-Json Library. It is part of Open source MgntUtils library written and maintained by me. If you are interested you can use it too. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils Javadoc</a> and the library could be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact On Maven central</a> and on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including sources and Javadoc)</p>\n"}],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73648166,"answer_count":3,"score":1,"last_activity_date":1662672418,"creation_date":1662594240,"question_id":73642428,"body_markdown":"I have applied JsonIgnore annotation on a field in class. \r\n\r\n```\r\npublic class User {\r\n\r\nprivate String name;\r\n\r\n@JsonIgnore\r\nprivate String id;\r\n\r\npublic String getName(){ return this.name;}\r\npublic void setName(String name){ this.name = name; }\r\n\r\npublic String getId() { return this.id; }\r\npublic void setId(String id) {this.id = id; }\r\n\r\n}\r\n```\r\n\r\nWhen the class object is returned as single object, the field gets ignored.\r\n\r\n    public ResponseEntity&lt;User&gt; get() {.... some code to get user and return User object}\r\n\r\nHowever, when the list of object is returned as response, the field is not getting ignored and still present in response.\r\n\r\n```\r\nProjectController.java\r\n@RequestMapping(value=&quot;/{projectId}/users&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; list(\r\n            @ApiParam(value = &quot;projectId&quot;)\r\n            @PathVariable UUID projectId) {\r\n        return ok(projectsService.getUsers(projectId));\r\n    }\r\n```\r\n\r\n```\r\nProjectService.java\r\npublic List&lt;User&gt; getUsers(UUID projectId) {\r\n\r\n// Some code here to fetch the data from another container , so framing URI here and sending the req\r\n            String response = HttpUtils.getRequest(uri);\r\n            return new ObjectMapper().readValue(response, List.class);\r\n    }\r\n```\r\n\r\nCould you please help on how to ignore the field completely from sending in responses.","title":"JsonIgnore on field in list of objects","body":"<p>I have applied JsonIgnore annotation on a field in class.</p>\n<pre><code>public class User {\n\nprivate String name;\n\n@JsonIgnore\nprivate String id;\n\npublic String getName(){ return this.name;}\npublic void setName(String name){ this.name = name; }\n\npublic String getId() { return this.id; }\npublic void setId(String id) {this.id = id; }\n\n}\n</code></pre>\n<p>When the class object is returned as single object, the field gets ignored.</p>\n<pre><code>public ResponseEntity&lt;User&gt; get() {.... some code to get user and return User object}\n</code></pre>\n<p>However, when the list of object is returned as response, the field is not getting ignored and still present in response.</p>\n<pre><code>ProjectController.java\n@RequestMapping(value=&quot;/{projectId}/users&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; list(\n            @ApiParam(value = &quot;projectId&quot;)\n            @PathVariable UUID projectId) {\n        return ok(projectsService.getUsers(projectId));\n    }\n</code></pre>\n<pre><code>ProjectService.java\npublic List&lt;User&gt; getUsers(UUID projectId) {\n\n// Some code here to fetch the data from another container , so framing URI here and sending the req\n            String response = HttpUtils.getRequest(uri);\n            return new ObjectMapper().readValue(response, List.class);\n    }\n</code></pre>\n<p>Could you please help on how to ignore the field completely from sending in responses.</p>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":25898463,"reputation":66,"user_id":19624734,"display_name":"lpettinato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662670502,"creation_date":1662668834,"answer_id":73654720,"question_id":73654084,"body_markdown":"**Short answer**: Yes thanks to try-with-resources.\r\n\r\n**Long answer**: \r\n\r\nThese two are completely unrelated concepts. You are mixing *try-with-resources*(1) which is a java concept and the *destroyMethod*(2), a callback method of a spring managed bean.\r\n\r\nExplaining per point:\r\n 1. **try-with-resources**: it&#39;s a syntactic sugar (Java 1.7 or later) for:\r\n \r\n```\r\n    MyResource  myResource = ResourceFactory.generateResource();\r\n\r\n    try {\r\n        ...\r\n    } finally {\r\n        myResource.close();\r\n    }\r\n```\r\n\r\nand it will be called for any class that implements `java.lang.AutoCloseable` or `java.io.Closeable` interface.\r\n \r\nReference: https://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html     \r\n\r\n 2. **destroyMethod** it&#39;s a callback method, that spring lets you implement, called before the instance is destroyed by the container as per: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-nature\r\n\r\nBut,\r\n\r\nIn case of a prototype bean, Spring does not manage his complete  lifecycle; initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called.\r\n\r\nReference:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-prototype \r\n\r\n","title":"Can we use spring prototype bean together with try-with-resources?","body":"<p><strong>Short answer</strong>: Yes thanks to try-with-resources.</p>\n<p><strong>Long answer</strong>:</p>\n<p>These two are completely unrelated concepts. You are mixing <em>try-with-resources</em>(1) which is a java concept and the <em>destroyMethod</em>(2), a callback method of a spring managed bean.</p>\n<p>Explaining per point:</p>\n<ol>\n<li><strong>try-with-resources</strong>: it's a syntactic sugar (Java 1.7 or later) for:</li>\n</ol>\n<pre><code>    MyResource  myResource = ResourceFactory.generateResource();\n\n    try {\n        ...\n    } finally {\n        myResource.close();\n    }\n</code></pre>\n<p>and it will be called for any class that implements <code>java.lang.AutoCloseable</code> or <code>java.io.Closeable</code> interface.</p>\n<p>Reference: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html</a></p>\n<ol start=\"2\">\n<li><strong>destroyMethod</strong> it's a callback method, that spring lets you implement, called before the instance is destroyed by the container as per: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-nature\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-nature</a></li>\n</ol>\n<p>But,</p>\n<p>In case of a prototype bean, Spring does not manage his complete  lifecycle; initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called.</p>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-prototype</a></p>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662670502,"creation_date":1662664594,"question_id":73654084,"body_markdown":"Want to know if we can use spring prototype bean with try-with-resources mechanism:\r\n\r\n`MyResource` implements `AutoCloseable`\r\n\r\nSuppose I have a bean defined as:\r\n\r\n    @Configuration\r\n    public class ResourceCreation {\r\n    \r\n        @Bean()\r\n        @Scope(&quot;prototype&quot;)\r\n        public MyResource createResource() {\r\n            return new MyResource(&quot;Test&quot;);\r\n        }\r\n    }\r\n\r\nI have a factory class to generate the prototype beans:\r\n\r\n    public class ResourceFactory() {\r\n        @Autowired\r\n        ApplicationContext m_applicationContext;\r\n    \r\n        public static generateResource() {\r\n            return m_applicationContext.getBean(MyResource.Class);\r\n        }\r\n    }\r\n\r\nThen to use try-with-resources:\r\n\r\n    try (MyResource = ResourceFactory.generateResource()) {\r\n        ...\r\n    }\r\n\r\nSo in this way, is there any problem? Because spring container should manage the lifecycle of the prototype bean.\r\nWill the `close()` method in the `MyResource` gets called after the try block ends?\r\n","title":"Can we use spring prototype bean together with try-with-resources?","body":"<p>Want to know if we can use spring prototype bean with try-with-resources mechanism:</p>\n<p><code>MyResource</code> implements <code>AutoCloseable</code></p>\n<p>Suppose I have a bean defined as:</p>\n<pre><code>@Configuration\npublic class ResourceCreation {\n\n    @Bean()\n    @Scope(&quot;prototype&quot;)\n    public MyResource createResource() {\n        return new MyResource(&quot;Test&quot;);\n    }\n}\n</code></pre>\n<p>I have a factory class to generate the prototype beans:</p>\n<pre><code>public class ResourceFactory() {\n    @Autowired\n    ApplicationContext m_applicationContext;\n\n    public static generateResource() {\n        return m_applicationContext.getBean(MyResource.Class);\n    }\n}\n</code></pre>\n<p>Then to use try-with-resources:</p>\n<pre><code>try (MyResource = ResourceFactory.generateResource()) {\n    ...\n}\n</code></pre>\n<p>So in this way, is there any problem? Because spring container should manage the lifecycle of the prototype bean.\nWill the <code>close()</code> method in the <code>MyResource</code> gets called after the try block ends?</p>\n"},{"tags":["java","android","kotlin","android-databinding","dynamic-feature-module"],"comments":[{"owner":{"account_id":3876345,"reputation":1083,"user_id":3210277,"accept_rate":0,"display_name":"chrisdottel"},"score":0,"creation_date":1591486815,"post_id":62238993,"comment_id":110075512,"body_markdown":"What does your layout and data header look like in the xml file?  Also, when I was getting these errors and couldn&#39;t find any problems with the xml syntax I had to clean the project.  Usually this fixed the issues.","body":"What does your layout and data header look like in the xml file?  Also, when I was getting these errors and couldn&#39;t find any problems with the xml syntax I had to clean the project.  Usually this fixed the issues."},{"owner":{"account_id":10732953,"reputation":106,"user_id":7898450,"display_name":"Jitendra Reddy"},"score":0,"creation_date":1591488040,"post_id":62238993,"comment_id":110075723,"body_markdown":"@AnonAnonym updated the post","body":"@AnonAnonym updated the post"},{"owner":{"account_id":10732953,"reputation":106,"user_id":7898450,"display_name":"Jitendra Reddy"},"score":0,"creation_date":1591488698,"post_id":62238993,"comment_id":110075816,"body_markdown":"@AnonAnonym I tired cleaning build and caches but it didn&#39;t work","body":"@AnonAnonym I tired cleaning build and caches but it didn&#39;t work"},{"owner":{"account_id":2817506,"reputation":321,"user_id":2422149,"display_name":"smuk"},"score":0,"creation_date":1607536436,"post_id":62238993,"comment_id":115306146,"body_markdown":"Hi, this is possible duplicate to https://stackoverflow.com/questions/63176547/cannot-find-bindindadapter-in-dynamic-feature-module\n\nIt seems that binding adapter defined in app module is not accessible from feature module. Look closely at log from kapt task, I bet you will see errors such as &quot;Cannot find a setter for &lt;android.widget.TextView app:*&gt;&quot;.\nWhen you move or copy the binding adapter to the feature module it works.","body":"Hi, this is possible duplicate to <a href=\"https://stackoverflow.com/questions/63176547/cannot-find-bindindadapter-in-dynamic-feature-module\" title=\"cannot find bindindadapter in dynamic feature module\">stackoverflow.com/questions/63176547/&hellip;</a>  It seems that binding adapter defined in app module is not accessible from feature module. Look closely at log from kapt task, I bet you will see errors such as &quot;Cannot find a setter for &lt;android.widget.TextView app:*&gt;&quot;. When you move or copy the binding adapter to the feature module it works."}],"answers":[{"tags":[],"owner":{"account_id":11245249,"reputation":21,"user_id":8248218,"display_name":"Gamze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662669945,"creation_date":1662669945,"answer_id":73654862,"question_id":62238993,"body_markdown":"I had the same problem because I was trying to access the class in the other module. It fixed when I put the class I was trying to access into the module containing xml. You can access only the classes in that module from within the XML.","title":"Access Binding Adapters in multi module project","body":"<p>I had the same problem because I was trying to access the class in the other module. It fixed when I put the class I was trying to access into the module containing xml. You can access only the classes in that module from within the XML.</p>\n"}],"owner":{"account_id":10732953,"reputation":106,"user_id":7898450,"display_name":"Jitendra Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1662669945,"creation_date":1591484448,"question_id":62238993,"body_markdown":"I&#39;ve got a multi module project where the app module contains my binding adapters and my feature module depends on my app module since it is a dynamic feature module.\r\n\r\nApp (contains binding adapters) ----&gt; Dynamic feature module (where the layout is present)\r\n\r\n**I have databinding and kapt enabled in all the modules.**\r\n\r\nI&#39;m unable to build the app successfully. Android Studio gives me the following error,\r\n\r\n```\r\nerror: cannot find symbol\r\nimport com.app.module1.databinding.FeatureItemBindingImpl;\r\n```\r\n\r\n**Layout file in dynamic feature module:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n        &lt;variable\r\n            name=&quot;item&quot;\r\n            type=&quot;com.app.module1.views.FeatureItem&quot; /&gt;\r\n\r\n        &lt;variable\r\n            name=&quot;clickListener&quot;\r\n            type=&quot;com.app.module1.views.FeatureRecyclerViewAdapter.FeatureItemClickListener&quot; /&gt;\r\n    &lt;/data&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        app:cardElevation=&quot;3dp&quot;\r\n        android:id=&quot;@+id/card&quot;\r\n        android:onClick=&quot;@{(view) -&gt; clickListener.onClickFeature(view, item)}&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:id=&quot;@+id/feature_image&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;7&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                app:set_image=&quot;@{item.featureImage}&quot;\r\n                tools:src=&quot;@color/green_200&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.textview.MaterialTextView\r\n                android:id=&quot;@+id/feature_name&quot;\r\n                style=&quot;@style/TextAppearance.MyTheme.Body2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@{item.featureName.featureTitle}&quot;\r\n                tools:text=&quot;Order Pills&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n&lt;/layout&gt;\r\n```\r\n\r\n**Binding Adapter in the App module:**\r\n\r\n```\r\n@BindingAdapter(&quot;set_image&quot;)\r\nfun AppCompatImageView.setImageToImageView(@DrawableRes drawable: Int) {\r\n    this.setImageResource(drawable)\r\n}\r\n```","title":"Access Binding Adapters in multi module project","body":"<p>I've got a multi module project where the app module contains my binding adapters and my feature module depends on my app module since it is a dynamic feature module.</p>\n\n<p>App (contains binding adapters) ----> Dynamic feature module (where the layout is present)</p>\n\n<p><strong>I have databinding and kapt enabled in all the modules.</strong></p>\n\n<p>I'm unable to build the app successfully. Android Studio gives me the following error,</p>\n\n<pre><code>error: cannot find symbol\nimport com.app.module1.databinding.FeatureItemBindingImpl;\n</code></pre>\n\n<p><strong>Layout file in dynamic feature module:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"item\"\n            type=\"com.app.module1.views.FeatureItem\" /&gt;\n\n        &lt;variable\n            name=\"clickListener\"\n            type=\"com.app.module1.views.FeatureRecyclerViewAdapter.FeatureItemClickListener\" /&gt;\n    &lt;/data&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:layout_margin=\"10dp\"\n        app:cardElevation=\"3dp\"\n        android:id=\"@+id/card\"\n        android:onClick=\"@{(view) -&gt; clickListener.onClickFeature(view, item)}\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatImageView\n                android:id=\"@+id/feature_image\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"7\"\n                android:scaleType=\"fitXY\"\n                app:set_image=\"@{item.featureImage}\"\n                tools:src=\"@color/green_200\" /&gt;\n\n            &lt;com.google.android.material.textview.MaterialTextView\n                android:id=\"@+id/feature_name\"\n                style=\"@style/TextAppearance.MyTheme.Body2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_vertical\"\n                android:layout_weight=\"1\"\n                android:gravity=\"center\"\n                android:text=\"@{item.featureName.featureTitle}\"\n                tools:text=\"Order Pills\" /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>Binding Adapter in the App module:</strong></p>\n\n<pre><code>@BindingAdapter(\"set_image\")\nfun AppCompatImageView.setImageToImageView(@DrawableRes drawable: Int) {\n    this.setImageResource(drawable)\n}\n</code></pre>\n"},{"tags":["java","generics","covariance"],"owner":{"account_id":307540,"reputation":8013,"user_id":618895,"accept_rate":62,"display_name":"bj0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662669359,"creation_date":1662669359,"question_id":73654787,"body_markdown":"I think I have a decent understanding of covariance in java when it comes to `List&lt;Base&gt;` and `List&lt;? extends Base&gt;`.  I ran into an issue where I was using a wrapper class (`LiveData` in this case) and it&#39;s not working how I expected it to. \r\n\r\nI duplicated the issue in a java repl:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) { \r\n    List&lt;? extends Sub0&gt; test0 = List.of(new C());\r\n\r\n    List&lt;Sub1&gt; test1 = List.of(new Sub1());\r\n\r\n    List&lt;? extends Base&gt; x = test0;\r\n    x = test1;\r\n    \r\n    Holder&lt;List&lt;? extends Sub0&gt;&gt; ha = new Holder(test0);\r\n    Holder&lt;List&lt;Sub1&gt;&gt; hb = new Holder(test1);\r\n\r\n    Holder&lt;List&lt;? extends Base&gt;&gt; z = ha;\r\n    z = hb;\r\n    \r\n  } \r\n}\r\n\r\ninterface Base {}\r\n\r\nabstract class Sub0 implements Base {}\r\n\r\nclass Sub1 implements Base {}\r\n\r\nclass C extends Sub0 {}\r\n\r\nclass Holder&lt;T&gt; {\r\n  T obj;\r\n  public Holder(T obj){\r\n  this.obj = obj;\r\n  }\r\n}\r\n```\r\n\r\nThe `x = test0` and `x = test1` lines compile as I would expect, but the `z = ha` and `z = hb` do not, and I&#39;m not really sure why.","title":"How does java collection covariance work in a wrapper class?","body":"<p>I think I have a decent understanding of covariance in java when it comes to <code>List&lt;Base&gt;</code> and <code>List&lt;? extends Base&gt;</code>.  I ran into an issue where I was using a wrapper class (<code>LiveData</code> in this case) and it's not working how I expected it to.</p>\n<p>I duplicated the issue in a java repl:</p>\n<pre><code>import java.util.List;\n\nclass Main {  \n  public static void main(String args[]) { \n    List&lt;? extends Sub0&gt; test0 = List.of(new C());\n\n    List&lt;Sub1&gt; test1 = List.of(new Sub1());\n\n    List&lt;? extends Base&gt; x = test0;\n    x = test1;\n    \n    Holder&lt;List&lt;? extends Sub0&gt;&gt; ha = new Holder(test0);\n    Holder&lt;List&lt;Sub1&gt;&gt; hb = new Holder(test1);\n\n    Holder&lt;List&lt;? extends Base&gt;&gt; z = ha;\n    z = hb;\n    \n  } \n}\n\ninterface Base {}\n\nabstract class Sub0 implements Base {}\n\nclass Sub1 implements Base {}\n\nclass C extends Sub0 {}\n\nclass Holder&lt;T&gt; {\n  T obj;\n  public Holder(T obj){\n  this.obj = obj;\n  }\n}\n</code></pre>\n<p>The <code>x = test0</code> and <code>x = test1</code> lines compile as I would expect, but the <code>z = ha</code> and <code>z = hb</code> do not, and I'm not really sure why.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1662662440,"post_id":73653688,"comment_id":130063975,"body_markdown":"`welcomeMessage.contains(&quot;Welcome%s, You have notification!&quot;.formatted(name));`? --- As an aside: in the `welcomeMessage`, you are most probably missing a blank (`&quot;Welcome&quot; + name + &quot;, You have notification!&quot;` -&gt; `&quot;Welcome &quot; + name + &quot;, You have notification!&quot;`)","body":"<code>welcomeMessage.contains(&quot;Welcome%s, You have notification!&quot;.formatted(name));</code>? --- As an aside: in the <code>welcomeMessage</code>, you are most probably missing a blank (<code>&quot;Welcome&quot; + name + &quot;, You have notification!&quot;</code> -&gt; <code>&quot;Welcome &quot; + name + &quot;, You have notification!&quot;</code>)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1662662527,"post_id":73653688,"comment_id":130063997,"body_markdown":"But the real question is: why do you want this?","body":"But the real question is: why do you want this?"},{"owner":{"account_id":13441392,"reputation":2711,"user_id":9698467,"display_name":"Stefan Zhelyazkov"},"score":0,"creation_date":1662662774,"post_id":73653688,"comment_id":130064059,"body_markdown":"Does this work for your case? `welcomeMessage.contains(&quot;You have notification!&quot;)`. I imagine this would be sufficient to check.","body":"Does this work for your case? <code>welcomeMessage.contains(&quot;You have notification!&quot;)</code>. I imagine this would be sufficient to check."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1662662839,"post_id":73653688,"comment_id":130064083,"body_markdown":"Perhaps you want something like `welcomeMessage.matches(&quot;.*Welcome[^,]*, You have notification!.*&quot;)`?","body":"Perhaps you want something like <code>welcomeMessage.matches(&quot;.*Welcome[^,]*, You have notification!.*&quot;)</code>?"},{"owner":{"account_id":24497293,"reputation":538,"user_id":18413363,"display_name":"Gregor Hartl Watters"},"score":2,"creation_date":1662662848,"post_id":73653688,"comment_id":130064085,"body_markdown":"You could also do: `welcomeMessage.startsWith(&quot;Welcome &quot;) &amp;&amp; welcomeMessage.endsWith(&quot;, You have notification!)`","body":"You could also do: <code>welcomeMessage.startsWith(&quot;Welcome &quot;) &amp;&amp; welcomeMessage.endsWith(&quot;, You have notification!)</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662664085,"post_id":73653688,"comment_id":130064440,"body_markdown":"Did you inadvertently omit a SPACE after the word Welcome?","body":"Did you inadvertently omit a SPACE after the word Welcome?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662663816,"creation_date":1662663816,"answer_id":73653942,"question_id":73653688,"body_markdown":"# `String#startsWith` &amp; `endsWith`\r\n\r\nThe `String` class provides specific methods:\r\n\r\n - [`startsWith`][1]\r\n - [`endsWith`][2]\r\n\r\nExample:\r\n\r\n    boolean containsPhrases = \r\n        message.startsWith( &quot;Welcome&quot; )\r\n        &amp;&amp;\r\n        message.endsWith( &quot;, You have notification!&quot; )\r\n    ;\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String)","title":"Skip substring in String.Contains in Java","body":"<h1><code>String#startsWith</code> &amp; <code>endsWith</code></h1>\n<p>The <code>String</code> class provides specific methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#startsWith(java.lang.String)\" rel=\"noreferrer\"><code>startsWith</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String)\" rel=\"noreferrer\"><code>endsWith</code></a></li>\n</ul>\n<p>Example:</p>\n<pre><code>boolean containsPhrases = \n    message.startsWith( &quot;Welcome&quot; )\n    &amp;&amp;\n    message.endsWith( &quot;, You have notification!&quot; )\n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662665647,"creation_date":1662665647,"answer_id":73654272,"question_id":73653688,"body_markdown":"very simple  \r\n\r\n    String name = &quot;Test&quot;;\r\n    String welcomeMessage = &quot;Welcome&quot; + name + &quot;, You have notification!&quot;;\r\n                System.out.println(welcomeMessage + &quot; matches &quot; + welcomeMessage.matches(&quot;Welcome.+You have notification!&quot;));\r\n\r\n","title":"Skip substring in String.Contains in Java","body":"<p>very simple</p>\n<pre><code>String name = &quot;Test&quot;;\nString welcomeMessage = &quot;Welcome&quot; + name + &quot;, You have notification!&quot;;\n            System.out.println(welcomeMessage + &quot; matches &quot; + welcomeMessage.matches(&quot;Welcome.+You have notification!&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662668770,"creation_date":1662668770,"answer_id":73654709,"question_id":73653688,"body_markdown":"With `matches` on a _regular expression_. There are some special regex characters that need to be escaped with a backslash, twice `\\\\` in a regex.\r\n \r\n    welcomeMessage.matches(&quot;Welcome .*, you have notification\\\\!&quot;);\r\n\r\n`.*` stands for `.` = any character without line breaks, and `*` = repeat the previous 0 or more times. So any string.","title":"Skip substring in String.Contains in Java","body":"<p>With <code>matches</code> on a <em>regular expression</em>. There are some special regex characters that need to be escaped with a backslash, twice <code>\\\\</code> in a regex.</p>\n<pre><code>welcomeMessage.matches(&quot;Welcome .*, you have notification\\\\!&quot;);\n</code></pre>\n<p><code>.*</code> stands for <code>.</code> = any character without line breaks, and <code>*</code> = repeat the previous 0 or more times. So any string.</p>\n"}],"owner":{"account_id":15450425,"reputation":227,"user_id":11145980,"display_name":"MPK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1662668770,"creation_date":1662662196,"question_id":73653688,"body_markdown":"For a given string\r\n\r\n```\r\nString name = &quot;Test&quot;;\r\nString welcomeMessage = &quot;Welcome&quot; + name + &quot;, You have notification!&quot;;\r\n```\r\nHow can we check if welcomeMessage contains &quot;Welcome, you have notification&quot; substring by escaping name variable as name variable keeps on changing?\r\n\r\nI want to achieve \r\n\r\n```\r\nwelcomeMessage.contains(&quot;Welcome, You have notification!&quot;); //to return true\r\n```\r\nWhat would be the best way to skip name variable?\r\n\r\n\r\n\r\n\r\n","title":"Skip substring in String.Contains in Java","body":"<p>For a given string</p>\n<pre><code>String name = &quot;Test&quot;;\nString welcomeMessage = &quot;Welcome&quot; + name + &quot;, You have notification!&quot;;\n</code></pre>\n<p>How can we check if welcomeMessage contains &quot;Welcome, you have notification&quot; substring by escaping name variable as name variable keeps on changing?</p>\n<p>I want to achieve</p>\n<pre><code>welcomeMessage.contains(&quot;Welcome, You have notification!&quot;); //to return true\n</code></pre>\n<p>What would be the best way to skip name variable?</p>\n"},{"tags":["java","grpc-java","protobuf-java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1662479180,"post_id":73624538,"comment_id":130012679,"body_markdown":"It would be a bit hard to diagnose the stacktrace for code which is not shared against a test case which does not demonstrate the same issue. You should post your actual code involved, and perhaps point out the line numbers properly for others.","body":"It would be a bit hard to diagnose the stacktrace for code which is not shared against a test case which does not demonstrate the same issue. You should post your actual code involved, and perhaps point out the line numbers properly for others."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1662480048,"post_id":73624538,"comment_id":130012990,"body_markdown":"Unfortunately, this not possible. All I can say is that the extra stacktrace elements are from the lines that has `public class ClassName`. The code was generated by protobuf. The code for `AbstractParser.parseFrom` is available on github here: https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java","body":"Unfortunately, this not possible. All I can say is that the extra stacktrace elements are from the lines that has <code>public class ClassName</code>. The code was generated by protobuf. The code for <code>AbstractParser.parseFrom</code> is available on github here: <a href=\"https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/s&zwnj;&#8203;rc/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662486073,"creation_date":1662486073,"answer_id":73625930,"question_id":73624538,"body_markdown":"If you look at the bytecode, it doesn&#39;t match the sourcecode. Some extra stuff was added. You can see if yourself by grabbing protobuf-java-3.20.0.jar, extracting the jar and running  `javap -c -l com/google/protobuf/AbstractParser.class`\r\n\r\n\r\n```\r\n  public java.lang.Object parseFrom(com.google.protobuf.CodedInputStream, com.google.protobuf.ExtensionRegistryLite) throws com.google.protobuf.InvalidProtocolBufferException;\r\n    Code:\r\n       0: aload_0\r\n       1: aload_1\r\n       2: aload_2\r\n       3: invokevirtual #14                 // Method parseFrom:(Lcom/google/protobuf/CodedInputStream;Lcom/google/protobuf/ExtensionRegistryLite;)Lcom/google/protobuf/MessageLite;\r\n       6: areturn\r\n    LineNumberTable:\r\n      line 48: 0\r\n    LocalVariableTable:\r\n      Start  Length  Slot  Name   Signature\r\n          0       7     0  this   Lcom/google/protobuf/AbstractParser;\r\n```\r\nLine number table points to 48 which is the line where the class definition begins...\r\n\r\nThe corresponding source code does not have any methods that return Object https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java\r\n\r\n\r\nThe above bytecode calls the below bytecode which corresponds with the source code.\r\n\r\n```\r\n  public MessageType parseFrom(com.google.protobuf.CodedInputStream, com.google.protobuf.ExtensionRegistryLite) throws com.google.protobuf.InvalidProtocolBufferException;\r\n    Code:\r\n       0: aload_0\r\n       1: aload_0\r\n       2: aload_1\r\n       3: aload_2\r\n       4: invokevirtual #11                 // Method parsePartialFrom:(Lcom/google/protobuf/CodedInputStream;Lcom/google/protobuf/ExtensionRegistryLite;)Ljava/lang/Object;\r\n       7: checkcast     #12                 // class com/google/protobuf/MessageLite\r\n      10: invokespecial #13                 // Method checkMessageInitialized:(Lcom/google/protobuf/MessageLite;)Lcom/google/protobuf/MessageLite;\r\n      13: areturn\r\n    LineNumberTable:\r\n      line 86: 0\r\n    LocalVariableTable:\r\n      Start  Length  Slot  Name   Signature\r\n          0      14     0  this   Lcom/google/protobuf/AbstractParser;\r\n          0      14     1 input   Lcom/google/protobuf/CodedInputStream;\r\n          0      14     2 extensionRegistry   Lcom/google/protobuf/ExtensionRegistryLite;\r\n```\r\n\r\n\r\nThis explains where the extra StackTraceElements came from. Now the question becomes, where did this extra bytecode come from?","title":"Where did my logs get these extra StackTraceElements that point to line of classname?","body":"<p>If you look at the bytecode, it doesn't match the sourcecode. Some extra stuff was added. You can see if yourself by grabbing protobuf-java-3.20.0.jar, extracting the jar and running  <code>javap -c -l com/google/protobuf/AbstractParser.class</code></p>\n<pre><code>  public java.lang.Object parseFrom(com.google.protobuf.CodedInputStream, com.google.protobuf.ExtensionRegistryLite) throws com.google.protobuf.InvalidProtocolBufferException;\n    Code:\n       0: aload_0\n       1: aload_1\n       2: aload_2\n       3: invokevirtual #14                 // Method parseFrom:(Lcom/google/protobuf/CodedInputStream;Lcom/google/protobuf/ExtensionRegistryLite;)Lcom/google/protobuf/MessageLite;\n       6: areturn\n    LineNumberTable:\n      line 48: 0\n    LocalVariableTable:\n      Start  Length  Slot  Name   Signature\n          0       7     0  this   Lcom/google/protobuf/AbstractParser;\n</code></pre>\n<p>Line number table points to 48 which is the line where the class definition begins...</p>\n<p>The corresponding source code does not have any methods that return Object <a href=\"https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java</a></p>\n<p>The above bytecode calls the below bytecode which corresponds with the source code.</p>\n<pre><code>  public MessageType parseFrom(com.google.protobuf.CodedInputStream, com.google.protobuf.ExtensionRegistryLite) throws com.google.protobuf.InvalidProtocolBufferException;\n    Code:\n       0: aload_0\n       1: aload_0\n       2: aload_1\n       3: aload_2\n       4: invokevirtual #11                 // Method parsePartialFrom:(Lcom/google/protobuf/CodedInputStream;Lcom/google/protobuf/ExtensionRegistryLite;)Ljava/lang/Object;\n       7: checkcast     #12                 // class com/google/protobuf/MessageLite\n      10: invokespecial #13                 // Method checkMessageInitialized:(Lcom/google/protobuf/MessageLite;)Lcom/google/protobuf/MessageLite;\n      13: areturn\n    LineNumberTable:\n      line 86: 0\n    LocalVariableTable:\n      Start  Length  Slot  Name   Signature\n          0      14     0  this   Lcom/google/protobuf/AbstractParser;\n          0      14     1 input   Lcom/google/protobuf/CodedInputStream;\n          0      14     2 extensionRegistry   Lcom/google/protobuf/ExtensionRegistryLite;\n</code></pre>\n<p>This explains where the extra StackTraceElements came from. Now the question becomes, where did this extra bytecode come from?</p>\n"}],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662668760,"creation_date":1662478275,"question_id":73624538,"body_markdown":"I have a stacktrace that from my logs that looks like:\r\n```\r\nAug 10, 2022 10:10:10 PM io.grpc.internal.SerializingExecutor run\r\nSEVERE: Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable@5703a7b7\r\njava.lang.NullPointerException\r\n\tat MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:20)\r\n\tat MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:10)\r\n\tat MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:50)\r\n\tat MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:40)\r\n\tat com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:86)\r\n\tat com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:48)\r\n\tat io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parseFrom(ProtoLiteUtils.java:223)\r\n\tat io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:215)\r\n\tat io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:118)\r\n\tat io.grpc.MethodDescriptor.parseRequest(MethodDescriptor.java:307)\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:318)\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:301)\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:834)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nHowever, when you look at the corresponding generated code, `MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:10)`, `MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:40)`, and `com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:48)` point to the line that begins that class definition with `public [static] class ClassName`, for the first time the stacktrace enters that class.\r\n\r\nI am not able to provide the source code generated by protobuf for MyProtoFile, but the rest of the stack trace is publicly available on github. For example, Abstract parser is available here: https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java. You can see that line 48 is the beginning of the class definition for AbstractParser.\r\n\r\nIf you try running with Vanilla java 11:\r\n\r\n```\r\npublic class ConstructorStackTrace {\r\n\r\n    public static class InnerClass {\r\n        public InnerClass() {\r\n            throw new NullPointerException(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String []args){\r\n        System.err.println(&quot;OneConstructor&quot;);\r\n        try {\r\n            OneConstructor constructorStackTrace = new OneConstructor();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.err.println(&quot;NestedConstructor&quot;);\r\n        try {\r\n            NestedConstructor constructorStackTrace = new NestedConstructor();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.err.println(&quot;InnerClass&quot;);\r\n        try {\r\n            InnerClass constructorStackTrace = new InnerClass();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass OneConstructor {\r\n    public  OneConstructor() {\r\n        throw new NullPointerException(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\nclass NestedConstructor {\r\n    public NestedConstructor() {\r\n        this(&quot;Hello&quot;);\r\n    }\r\n\r\n    public NestedConstructor(String hello) {\r\n        throw new NullPointerException(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nYou get the below which do not have StackTraceElements for the first line of the class definition:\r\n```\r\nOneConstructor\r\njava.lang.NullPointerException: hello\r\n        at OneConstructor.&lt;init&gt;(ConstructorStackTrace.java:33)\r\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:12)\r\nNestedConstructor\r\njava.lang.NullPointerException: hello\r\n        at NestedConstructor.&lt;init&gt;(ConstructorStackTrace.java:43)\r\n        at NestedConstructor.&lt;init&gt;(ConstructorStackTrace.java:39)\r\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:18)\r\nInnerClass\r\njava.lang.NullPointerException: hello\r\n        at ConstructorStackTrace$InnerClass.&lt;init&gt;(ConstructorStackTrace.java:5)\r\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:24)\r\n```\r\n\r\nWhere did these extra StackTraceElements come from? Is this something inserted by grpc? by grpc&#39;s logging (their logging has a different format tha mine)? The rest of my logs don&#39;t have these extra StackTraceElements. At first I thought I had the wrong version of the code, but three classes (MyProtoClass, MyProtoClass$1, AbstractParser) all follow this pattern, making it to much of a coincidence.","title":"Where did my logs get these extra StackTraceElements that point to line of classname?","body":"<p>I have a stacktrace that from my logs that looks like:</p>\n<pre><code>Aug 10, 2022 10:10:10 PM io.grpc.internal.SerializingExecutor run\nSEVERE: Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable@5703a7b7\njava.lang.NullPointerException\n    at MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:20)\n    at MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:10)\n    at MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:50)\n    at MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:40)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:86)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:48)\n    at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parseFrom(ProtoLiteUtils.java:223)\n    at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:215)\n    at io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller.parse(ProtoLiteUtils.java:118)\n    at io.grpc.MethodDescriptor.parseRequest(MethodDescriptor.java:307)\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:318)\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:301)\n    at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:834)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>However, when you look at the corresponding generated code, <code>MyProtoFile$MyProtoClass.&lt;init&gt;(MyProtoFile.java:10)</code>, <code>MyProtoFile$MyProtoClass$1.parsePartialFrom(MyProtoFile.java:40)</code>, and <code>com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:48)</code> point to the line that begins that class definition with <code>public [static] class ClassName</code>, for the first time the stacktrace enters that class.</p>\n<p>I am not able to provide the source code generated by protobuf for MyProtoFile, but the rest of the stack trace is publicly available on github. For example, Abstract parser is available here: <a href=\"https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/blob/v3.20.0/java/core/src/main/java/com/google/protobuf/AbstractParser.java</a>. You can see that line 48 is the beginning of the class definition for AbstractParser.</p>\n<p>If you try running with Vanilla java 11:</p>\n<pre><code>public class ConstructorStackTrace {\n\n    public static class InnerClass {\n        public InnerClass() {\n            throw new NullPointerException(&quot;hello&quot;);\n        }\n    }\n\n    public static void main(String []args){\n        System.err.println(&quot;OneConstructor&quot;);\n        try {\n            OneConstructor constructorStackTrace = new OneConstructor();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.err.println(&quot;NestedConstructor&quot;);\n        try {\n            NestedConstructor constructorStackTrace = new NestedConstructor();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.err.println(&quot;InnerClass&quot;);\n        try {\n            InnerClass constructorStackTrace = new InnerClass();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass OneConstructor {\n    public  OneConstructor() {\n        throw new NullPointerException(&quot;hello&quot;);\n    }\n}\n\nclass NestedConstructor {\n    public NestedConstructor() {\n        this(&quot;Hello&quot;);\n    }\n\n    public NestedConstructor(String hello) {\n        throw new NullPointerException(&quot;hello&quot;);\n    }\n}\n\n</code></pre>\n<p>You get the below which do not have StackTraceElements for the first line of the class definition:</p>\n<pre><code>OneConstructor\njava.lang.NullPointerException: hello\n        at OneConstructor.&lt;init&gt;(ConstructorStackTrace.java:33)\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:12)\nNestedConstructor\njava.lang.NullPointerException: hello\n        at NestedConstructor.&lt;init&gt;(ConstructorStackTrace.java:43)\n        at NestedConstructor.&lt;init&gt;(ConstructorStackTrace.java:39)\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:18)\nInnerClass\njava.lang.NullPointerException: hello\n        at ConstructorStackTrace$InnerClass.&lt;init&gt;(ConstructorStackTrace.java:5)\n        at ConstructorStackTrace.main(ConstructorStackTrace.java:24)\n</code></pre>\n<p>Where did these extra StackTraceElements come from? Is this something inserted by grpc? by grpc's logging (their logging has a different format tha mine)? The rest of my logs don't have these extra StackTraceElements. At first I thought I had the wrong version of the code, but three classes (MyProtoClass, MyProtoClass$1, AbstractParser) all follow this pattern, making it to much of a coincidence.</p>\n"},{"tags":["java","polymorphism","conditional-operator","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662668696,"creation_date":1662664966,"answer_id":73654152,"question_id":73653663,"body_markdown":"When you write your conditional expression as an argument to a method invocation, it is a [_poly expression_][1].\r\n\r\n&gt; A reference conditional expression is a poly expression if it appears in an assignment context or an invocation context (&#167;5.2. &#167;5.3). Otherwise, it is a standalone expression.\r\n\r\nPassing such a conditional expression to a method invocation is an invocation context, so you have a poly expression.\r\n\r\nWhat&#39;s a poly expression?  [This site][2] gives a better explanation of what poly expressions are than Java tutorials or the JLS:\r\n\r\n&gt; First, for some expressions, termed _poly expressions_, the deduced type can be influenced by the target type. The same expression can have different types in different contexts.\r\n\r\nThis means that the type of the conditional expression is influenced by the target type.  Because Jackson&#39;s `readValue` method is generic, the target type of the second parameter `Class&lt;T&gt;` becomes `Class&lt;Employee&gt;` based on the return type of `Employee`.\r\n\r\nBut because Java&#39;s generics are invariant, a `Class&lt;FullTimeEmployee&gt;` is not a `Class&lt;Employee&gt;`, and a `Class&lt;PartTimeEmployee&gt;` isn&#39;t either.\r\n\r\nBut if a conditional expression _isn&#39;t_ a poly expression, a standalone expression, then its type can be determined without context such as target types.  In this instance, it is `Class&lt;? extends Employee&gt;`.\r\n\r\nTo remove the type mismatch due to the poly expression, you can do one of 2 things I can see, other than replacing the conditional expression into an if-then statement:\r\n\r\n1. Cast the entire conditional expression to `Class&lt;? extends Employee&gt;`.  This makes it so it&#39;s not a poly expression at all.\r\n\r\n```\r\nemployee = new ObjectMapper().readValue(jsonString,\r\n    (Class&lt;? extends Employee&gt;) (isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class));\r\n```\r\n\r\n2. Or split the conditional expression into its own statement.  It&#39;s still a poly expression, but the target type inference now matches.\r\n\r\n```\r\nClass&lt;? extends Employee&gt; c = isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class;\r\nEmployee employee2 = om.readValue(jsonString, c);\r\n```\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.25.3\r\n[2]: https://cr.openjdk.java.net/~dlsmith/jsr335/jsr335-0.6.2/D.html","title":"polymorphism fails in ternary but passes in standard conditional (capture of ?)","body":"<p>When you write your conditional expression as an argument to a method invocation, it is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.25.3\" rel=\"nofollow noreferrer\"><em>poly expression</em></a>.</p>\n<blockquote>\n<p>A reference conditional expression is a poly expression if it appears in an assignment context or an invocation context (5.2. 5.3). Otherwise, it is a standalone expression.</p>\n</blockquote>\n<p>Passing such a conditional expression to a method invocation is an invocation context, so you have a poly expression.</p>\n<p>What's a poly expression?  <a href=\"https://cr.openjdk.java.net/%7Edlsmith/jsr335/jsr335-0.6.2/D.html\" rel=\"nofollow noreferrer\">This site</a> gives a better explanation of what poly expressions are than Java tutorials or the JLS:</p>\n<blockquote>\n<p>First, for some expressions, termed <em>poly expressions</em>, the deduced type can be influenced by the target type. The same expression can have different types in different contexts.</p>\n</blockquote>\n<p>This means that the type of the conditional expression is influenced by the target type.  Because Jackson's <code>readValue</code> method is generic, the target type of the second parameter <code>Class&lt;T&gt;</code> becomes <code>Class&lt;Employee&gt;</code> based on the return type of <code>Employee</code>.</p>\n<p>But because Java's generics are invariant, a <code>Class&lt;FullTimeEmployee&gt;</code> is not a <code>Class&lt;Employee&gt;</code>, and a <code>Class&lt;PartTimeEmployee&gt;</code> isn't either.</p>\n<p>But if a conditional expression <em>isn't</em> a poly expression, a standalone expression, then its type can be determined without context such as target types.  In this instance, it is <code>Class&lt;? extends Employee&gt;</code>.</p>\n<p>To remove the type mismatch due to the poly expression, you can do one of 2 things I can see, other than replacing the conditional expression into an if-then statement:</p>\n<ol>\n<li>Cast the entire conditional expression to <code>Class&lt;? extends Employee&gt;</code>.  This makes it so it's not a poly expression at all.</li>\n</ol>\n<pre><code>employee = new ObjectMapper().readValue(jsonString,\n    (Class&lt;? extends Employee&gt;) (isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class));\n</code></pre>\n<ol start=\"2\">\n<li>Or split the conditional expression into its own statement.  It's still a poly expression, but the target type inference now matches.</li>\n</ol>\n<pre><code>Class&lt;? extends Employee&gt; c = isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class;\nEmployee employee2 = om.readValue(jsonString, c);\n</code></pre>\n"}],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73654152,"answer_count":1,"score":2,"last_activity_date":1662668696,"creation_date":1662662010,"question_id":73653663,"body_markdown":"I have an interface called `Employee` and two implementing classes `FullTimeEmployee` and `PartTimeEmployee`.  In a seperate class, I am attempting to use `ObjectMapper` to assign the correct class.  The method looks as follows\r\n\r\n```java\r\npublic Employee retrieveEmployee(String employeeId){\r\n  Employee employee;\r\n  var jsonString = lookupEmployee(employeeId);\r\n  employee = new ObjectMapper().readValue(jsonString, isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class;\r\n  return employee;\r\n}\r\n```\r\n\r\nThis gives me a compiler error in the IDE  where the Required Type is `Class &lt;capture of ? extends Employee&gt;`, but provided is `Class &lt;FullTimeEmployee&gt;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, if I open the ternary up into a standard `if...then`, everything works fine.  \r\n```java\r\n  if (isFullTime(employeeId)){\r\n    employee = new ObjectMapper().readValue(jsonString, FullTimeEmployee.class);\r\n  } else {\r\n    employee = new ObjectMapper().readValue(jsonString, PartTimeEmployee.class);\r\n  }\r\n```\r\n\r\nWhat is happening here, and why does one work but not the other?\r\n\r\n  [1]: https://i.stack.imgur.com/Gzv6D.png","title":"polymorphism fails in ternary but passes in standard conditional (capture of ?)","body":"<p>I have an interface called <code>Employee</code> and two implementing classes <code>FullTimeEmployee</code> and <code>PartTimeEmployee</code>.  In a seperate class, I am attempting to use <code>ObjectMapper</code> to assign the correct class.  The method looks as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Employee retrieveEmployee(String employeeId){\n  Employee employee;\n  var jsonString = lookupEmployee(employeeId);\n  employee = new ObjectMapper().readValue(jsonString, isFullTime(employeeId) ? FullTimeEmployee.class : PartTimeEmployee.class;\n  return employee;\n}\n</code></pre>\n<p>This gives me a compiler error in the IDE  where the Required Type is <code>Class &lt;capture of ? extends Employee&gt;</code>, but provided is <code>Class &lt;FullTimeEmployee&gt;</code></p>\n<p><a href=\"https://i.stack.imgur.com/Gzv6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gzv6D.png\" alt=\"enter image description here\" /></a></p>\n<p>However, if I open the ternary up into a standard <code>if...then</code>, everything works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  if (isFullTime(employeeId)){\n    employee = new ObjectMapper().readValue(jsonString, FullTimeEmployee.class);\n  } else {\n    employee = new ObjectMapper().readValue(jsonString, PartTimeEmployee.class);\n  }\n</code></pre>\n<p>What is happening here, and why does one work but not the other?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"score":2,"creation_date":1498620463,"post_id":44793065,"comment_id":76566824,"body_markdown":"`used undeclared dependencies found`  means that this dependency is transitive. Declare it in pom.xml. `Unused declared\ndependencies found` means that this dependency is declared in pom.xml but it&#39;s not used. Just remove it from pom.xml","body":"<code>used undeclared dependencies found</code>  means that this dependency is transitive. Declare it in pom.xml. <code>Unused declared dependencies found</code> means that this dependency is declared in pom.xml but it&#39;s not used. Just remove it from pom.xml"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1498620952,"post_id":44793065,"comment_id":76566925,"body_markdown":"@JaySmith Hi, thanks for the comment. Yes, I know what these mean but didn&#39;t think that they are the reason for getting the error and failing the build. Having said that, I did resolve these warnings and the build finished successfully (please see the update). I&#39;d really like to understand why what seems to be minor warnings caused the whole build to fail.","body":"@JaySmith Hi, thanks for the comment. Yes, I know what these mean but didn&#39;t think that they are the reason for getting the error and failing the build. Having said that, I did resolve these warnings and the build finished successfully (please see the update). I&#39;d really like to understand why what seems to be minor warnings caused the whole build to fail."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1498621217,"post_id":44793065,"comment_id":76566990,"body_markdown":"Put back the configuration that generate the problem and run maven with `-e -X` parameters, they are errors and debug respectively so you will see what caused the problem. Perhaps an underlying exception?","body":"Put back the configuration that generate the problem and run maven with <code>-e -X</code> parameters, they are errors and debug respectively so you will see what caused the problem. Perhaps an underlying exception?"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1498621672,"post_id":44793065,"comment_id":76567092,"body_markdown":"@JorgeCampos thanks for your comment. I mentioned in my question that I did run it with `-X` and the error appears straight after the warnings. I just added a more detailed log to the question. Also, I just managed to resolve the error by changing the package scope to `runtime` instead of the default `compile`.","body":"@JorgeCampos thanks for your comment. I mentioned in my question that I did run it with <code>-X</code> and the error appears straight after the warnings. I just added a more detailed log to the question. Also, I just managed to resolve the error by changing the package scope to <code>runtime</code> instead of the default <code>compile</code>."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1498623431,"post_id":44793065,"comment_id":76567587,"body_markdown":"Accordingly to the provided link on [MojoExecutionException](http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException) It is an exception launched by a plugin which means that perhaps the plugin that thrown the warning may be signaling the build to fail in a bogusly way.","body":"Accordingly to the provided link on <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">MojoExecutionException</a> It is an exception launched by a plugin which means that perhaps the plugin that thrown the warning may be signaling the build to fail in a bogusly way."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1623907255,"post_id":44793065,"comment_id":120211711,"body_markdown":"Just make sure of a configuration `&lt;failOnWarning&gt;false&lt;/failOnWarning&gt;` if you don&#39;t want to fail for warnings. That worked for me.","body":"Just make sure of a configuration <code>&lt;failOnWarning&gt;false&lt;&#47;failOnWarning&gt;</code> if you don&#39;t want to fail for warnings. That worked for me."}],"answers":[{"tags":[],"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1498635348,"creation_date":1498635348,"answer_id":44796295,"question_id":44793065,"body_markdown":"Apparently the used undeclared dependencies warning **was** the culprit of my problem. After adding the dependency explicitly to the pom file, the issue was resolved.","title":"Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10","body":"<p>Apparently the used undeclared dependencies warning <strong>was</strong> the culprit of my problem. After adding the dependency explicitly to the pom file, the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":5065208,"reputation":365,"user_id":4065466,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1616685292,"creation_date":1559616030,"answer_id":56436712,"question_id":44793065,"body_markdown":"The reason of this  is: \r\n\r\n```\r\n[WARNING] Used undeclared dependencies found:\r\n[WARNING]    javax.activation:activation:jar:1.1:test\r\n[WARNING] Unused declared dependencies found:\r\n[WARNING]    org.slf4j:slf4j-log4j12:jar:1.7.6:compile\r\n```\r\n\r\nyou should remove `org.slf4j:slf4j-log4j12` dependency and add `javax.activation:activation` dependency.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10","body":"<p>The reason of this  is:</p>\n<pre><code>[WARNING] Used undeclared dependencies found:\n[WARNING]    javax.activation:activation:jar:1.1:test\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.slf4j:slf4j-log4j12:jar:1.7.6:compile\n</code></pre>\n<p>you should remove <code>org.slf4j:slf4j-log4j12</code> dependency and add <code>javax.activation:activation</code> dependency.</p>\n"},{"tags":[],"owner":{"account_id":4673634,"reputation":1338,"user_id":3784768,"display_name":"Denys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662668461,"creation_date":1662668461,"answer_id":73654667,"question_id":44793065,"body_markdown":"Same here, got same problem (few times for last few months) and found that fixing all warnings with Used undeclared dependencies/Unused declared dependencies fixes the issue.","title":"Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10","body":"<p>Same here, got same problem (few times for last few months) and found that fixing all warnings with Used undeclared dependencies/Unused declared dependencies fixes the issue.</p>\n"}],"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26879,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":44796295,"answer_count":3,"score":13,"last_activity_date":1662668461,"creation_date":1498619843,"question_id":44793065,"body_markdown":"I have this error when attempting to `install` the maven project:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only\r\n&gt; (analyze-only) on project functional-tests: Dependency\r\n&gt; problems found -&gt; [Help 1]\r\n\r\nIt appears right after the integration tests, during the `verify` phase. I can hardly guess where to look as not much other information is provided by the logs. I tried to run maven with `-X` argument to have a deeper look but that&#39;s the only error that appears. The last thing I see before the error appears in the detailed log is this WARNING below (that I doubt has anything to do with the error):\r\n\r\n    [WARNING] Used undeclared dependencies found:\r\n    [WARNING]    javax.activation:activation:jar:1.1:test\r\n    [WARNING] Unused declared dependencies found:\r\n    [WARNING]    org.slf4j:slf4j-log4j12:jar:1.7.6:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 27.090 s\r\n    [INFO] Finished at: 2017-06-28T10:58:54+08:00\r\n    [INFO] Final Memory: 60M/1042M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Dependency problems found\r\n    \tat org.apache.maven.plugin.dependency.analyze.AbstractAnalyzeMojo.execute(AbstractAnalyzeMojo.java:260)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nWhat could be causing this issue?\r\n\r\n**UPDATE**:\r\nI have resolved the issues that caused the warnings above and it did help removing the error. Now I only wonder why having used undeclared dependencies or declared unused dependencies are causing the whole build to fail? \r\n\r\n**UPDATE2**:\r\nChanging the `slf4j` scope to `runtime` also solved the problem.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10","body":"<p>I have this error when attempting to <code>install</code> the maven project:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only\n  (analyze-only) on project functional-tests: Dependency\n  problems found -> [Help 1]</p>\n</blockquote>\n\n<p>It appears right after the integration tests, during the <code>verify</code> phase. I can hardly guess where to look as not much other information is provided by the logs. I tried to run maven with <code>-X</code> argument to have a deeper look but that's the only error that appears. The last thing I see before the error appears in the detailed log is this WARNING below (that I doubt has anything to do with the error):</p>\n\n<pre><code>[WARNING] Used undeclared dependencies found:\n[WARNING]    javax.activation:activation:jar:1.1:test\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.slf4j:slf4j-log4j12:jar:1.7.6:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 27.090 s\n[INFO] Finished at: 2017-06-28T10:58:54+08:00\n[INFO] Final Memory: 60M/1042M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.10:analyze-only (analyze-only) on project functional-tests: Dependency problems found\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Dependency problems found\n    at org.apache.maven.plugin.dependency.analyze.AbstractAnalyzeMojo.execute(AbstractAnalyzeMojo.java:260)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>What could be causing this issue?</p>\n\n<p><strong>UPDATE</strong>:\nI have resolved the issues that caused the warnings above and it did help removing the error. Now I only wonder why having used undeclared dependencies or declared unused dependencies are causing the whole build to fail? </p>\n\n<p><strong>UPDATE2</strong>:\nChanging the <code>slf4j</code> scope to <code>runtime</code> also solved the problem.</p>\n"},{"tags":["java","android","android-fragments","android-framelayout"],"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":1,"creation_date":1487941551,"post_id":42439367,"comment_id":72022655,"body_markdown":"Look into tag names for fragment manager","body":"Look into tag names for fragment manager"},{"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"score":0,"creation_date":1487942050,"post_id":42439367,"comment_id":72022972,"body_markdown":"check answer I posted","body":"check answer I posted"},{"owner":{"account_id":6997330,"reputation":3803,"user_id":5364583,"accept_rate":98,"display_name":"J&#233;w&#244;m&#39;"},"score":0,"creation_date":1487943114,"post_id":42439367,"comment_id":72023662,"body_markdown":"I try your solution but it&#39;s not working (look at my edit)","body":"I try your solution but it&#39;s not working (look at my edit)"}],"answers":[{"tags":[],"owner":{"account_id":8314754,"reputation":8277,"user_id":6248491,"accept_rate":100,"display_name":"Sneh Pandya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487941590,"creation_date":1487941590,"answer_id":42439426,"question_id":42439367,"body_markdown":"In your each Fragment class, just define Log inside `onCreateView` method.","title":"Get the fragment name or id","body":"<p>In your each Fragment class, just define Log inside <code>onCreateView</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2502138,"reputation":1953,"user_id":2176952,"display_name":"Jd Prajapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487943892,"creation_date":1487941698,"answer_id":42439452,"question_id":42439367,"body_markdown":"You need to check using instance like\r\n\r\nyou need to check with your fragment object:\r\n\r\n     public Fragment getVisibleFragment(){\r\n       FragmentManager fragmentManager = MainActivity.this.getSupportFragmentManager();\r\n       List&lt;Fragment&gt; fragments = fragmentManager.getFragments();\r\n       if(fragments != null){\r\n        for(Fragment fragment : fragments){\r\n            if(fragment != null &amp;&amp; fragment.isVisible())\r\n                return fragment;\r\n        }\r\n       }\r\n       return null;\r\n     }\r\n\r\n    fragment = getVisibleFragment();\r\n    if (fragment instance of MyFragment1){\r\n\r\n    }","title":"Get the fragment name or id","body":"<p>You need to check using instance like</p>\n\n<p>you need to check with your fragment object:</p>\n\n<pre><code> public Fragment getVisibleFragment(){\n   FragmentManager fragmentManager = MainActivity.this.getSupportFragmentManager();\n   List&lt;Fragment&gt; fragments = fragmentManager.getFragments();\n   if(fragments != null){\n    for(Fragment fragment : fragments){\n        if(fragment != null &amp;&amp; fragment.isVisible())\n            return fragment;\n    }\n   }\n   return null;\n }\n\nfragment = getVisibleFragment();\nif (fragment instance of MyFragment1){\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1487941853,"creation_date":1487941853,"answer_id":42439492,"question_id":42439367,"body_markdown":"You need to use below code to get runtime  **fragment** from `FrameLayout`\r\n\r\n        Fragment fragmentInFrame = (Fragemnt)getSupportFragmentManager()\r\n                                                 .findFragmentById(R.id.frag2_view);\r\n\r\nthen you have check fragment type using  `instanceof` \r\n\r\n    if (fragmentInFrame instanceof MyFragment1){\r\n\r\n       Log.d(&quot;debug&quot;, &quot;you are in MyFragment1&quot;);\r\n\r\n    }else if (fragmentInFrame instanceof MyFragment2){\r\n\r\n        Log.d(&quot;debug&quot;, &quot;you are in MyFragment2&quot;);\r\n\r\n    }","title":"Get the fragment name or id","body":"<p>You need to use below code to get runtime  <strong>fragment</strong> from <code>FrameLayout</code></p>\n\n<pre><code>    Fragment fragmentInFrame = (Fragemnt)getSupportFragmentManager()\n                                             .findFragmentById(R.id.frag2_view);\n</code></pre>\n\n<p>then you have check fragment type using  <code>instanceof</code> </p>\n\n<pre><code>if (fragmentInFrame instanceof MyFragment1){\n\n   Log.d(\"debug\", \"you are in MyFragment1\");\n\n}else if (fragmentInFrame instanceof MyFragment2){\n\n    Log.d(\"debug\", \"you are in MyFragment2\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5107718,"reputation":2319,"user_id":4095334,"display_name":"Shreyash S Sarnayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487943807,"creation_date":1487943807,"answer_id":42440185,"question_id":42439367,"body_markdown":"    final Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\r\n\r\n    getSupportFragmentManager().beginTransaction()\r\n         .replace(R.id.framelayout, new MyFragment1())\r\n         .commit();\r\n\r\nYou are replacing the fragment here. So the `fragmentInFrame` will still refer to old fragment. \r\n\r\nSo after replacing you need to update `fragmentInFrame` variable by finding it again.\r\n\r\n    fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\r\n\r\nNow checking the `fragmentInFrame` will work.\r\n\r\nDon&#39;t forget to remove the `final` keyword.","title":"Get the fragment name or id","body":"<pre><code>final Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\n\ngetSupportFragmentManager().beginTransaction()\n     .replace(R.id.framelayout, new MyFragment1())\n     .commit();\n</code></pre>\n\n<p>You are replacing the fragment here. So the <code>fragmentInFrame</code> will still refer to old fragment. </p>\n\n<p>So after replacing you need to update <code>fragmentInFrame</code> variable by finding it again.</p>\n\n<pre><code>fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\n</code></pre>\n\n<p>Now checking the <code>fragmentInFrame</code> will work.</p>\n\n<p>Don't forget to remove the <code>final</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":6997330,"reputation":3803,"user_id":5364583,"accept_rate":98,"display_name":"J&#233;w&#244;m&#39;"},"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1507557965,"creation_date":1507557965,"answer_id":46648406,"question_id":42439367,"body_markdown":"**I found the solution**\r\n\r\n   \r\n    getSupportFragmentManager().beginTransaction()\r\n         .replace(R.id.framelayout,new MyFragment1())\r\n         .commit();\r\n\r\n    final Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\r\n    \r\n    if (fragmentInFrame instanceof MyFragment1){\r\n          Log.d(&quot;debug&quot;, &quot;you are in MyFragment1&quot;);\r\n    } else if (fragmentInFrame instanceof MyFragment2) {\r\n          Log.d(&quot;debug&quot;, &quot;you are in MyFragment2&quot;);\r\n    }","title":"Get the fragment name or id","body":"<p><strong>I found the solution</strong></p>\n\n<pre><code>getSupportFragmentManager().beginTransaction()\n     .replace(R.id.framelayout,new MyFragment1())\n     .commit();\n\nfinal Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.framelayout);\n\nif (fragmentInFrame instanceof MyFragment1){\n      Log.d(\"debug\", \"you are in MyFragment1\");\n} else if (fragmentInFrame instanceof MyFragment2) {\n      Log.d(\"debug\", \"you are in MyFragment2\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15049793,"reputation":1414,"user_id":10861790,"display_name":"Diako Hasani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564038336,"creation_date":1564038336,"answer_id":57196134,"question_id":42439367,"body_markdown":"I Have One `ContentFrameLayout` this Id Is `Fragment_Main`\r\n\r\nYou Can Use `FrameLayout`\r\n\r\nTo `Activity` Write This code\r\n\r\n    final Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.Fragment_Main);\r\n    \r\n    if(fragmentInFrame instanceof YourFragment){\r\n    \r\n    }\r\n\r\n\r\nTo `Fragment` Write This Code\r\n\r\n    final Fragment fragmentInFrame =getActivity().getSupportFragmentManager().findFragmentById(R.id.Fragment_Main);\r\n\r\n    if(fragmentInFrame instanceof YourFragment){\r\n    \r\n    }\r\n\r\n\r\n","title":"Get the fragment name or id","body":"<p>I Have One <code>ContentFrameLayout</code> this Id Is <code>Fragment_Main</code></p>\n\n<p>You Can Use <code>FrameLayout</code></p>\n\n<p>To <code>Activity</code> Write This code</p>\n\n<pre><code>final Fragment fragmentInFrame = getSupportFragmentManager().findFragmentById(R.id.Fragment_Main);\n\nif(fragmentInFrame instanceof YourFragment){\n\n}\n</code></pre>\n\n<p>To <code>Fragment</code> Write This Code</p>\n\n<pre><code>final Fragment fragmentInFrame =getActivity().getSupportFragmentManager().findFragmentById(R.id.Fragment_Main);\n\nif(fragmentInFrame instanceof YourFragment){\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3025805,"reputation":23,"user_id":2565854,"display_name":"user2565854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662668391,"creation_date":1662668391,"answer_id":73654657,"question_id":42439367,"body_markdown":"Accepted answer from @J&#233;w&#244;m&#39; did properly work from me. Note that you must specify the root_framelayout R.id FrameLayout holding all the fragments and implementing non deprecated androidx methods\r\n\r\nThat&#39;s the id used in onPreferenceStartFragment():\r\n\r\n            getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.root_framelayout, fragment)\r\n                .addToBackStack(null)\r\n                .commit();","title":"Get the fragment name or id","body":"<p>Accepted answer from @Jwm' did properly work from me. Note that you must specify the root_framelayout R.id FrameLayout holding all the fragments and implementing non deprecated androidx methods</p>\n<p>That's the id used in onPreferenceStartFragment():</p>\n<pre><code>        getSupportFragmentManager().beginTransaction()\n            .replace(R.id.root_framelayout, fragment)\n            .addToBackStack(null)\n            .commit();\n</code></pre>\n"}],"owner":{"account_id":6997330,"reputation":3803,"user_id":5364583,"accept_rate":98,"display_name":"J&#233;w&#244;m&#39;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22619,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":46648406,"answer_count":7,"score":2,"last_activity_date":1662668391,"creation_date":1487941385,"question_id":42439367,"body_markdown":"I have a `framelayout` called one time in my `Activity` and various time in other `Fragment` (passing by the same `framelayout` of the `Activity`).\r\n\r\nIn my `MainActivity.class`, I need to know in what fragment is my `framelayout`.\r\nFor example, I need to know if `framelayout` is using `MyFragment1.class` or `MyFragment2.class`.\r\n\r\nI need something like this (in this example, the `log` have to say me *&quot;you are in MyFragment1&quot;*):\r\n\r\n    FrameLayout frameLayout = (FrameLayout) findViewById(R.id.framelayout);\r\n\r\n     getSupportFragmentManager().beginTransaction()\r\n            .replace(R.id.framelayout,new MyFragment1())\r\n            .commit();\r\n\r\n    if (framelayout.getname.equals(&quot;package.MyFragment1.class&quot;))\r\n     Log.d(&quot;debug&quot;, &quot;you are in MyFragment1&quot;);\r\n    else if (framelayout.getname.equals(&quot;package.MyFragment2.class&quot;))\r\n     Log.d(&quot;debug&quot;, &quot;you are in MyFragment2&quot;);\r\n\r\nHow can I do that?","title":"Get the fragment name or id","body":"<p>I have a <code>framelayout</code> called one time in my <code>Activity</code> and various time in other <code>Fragment</code> (passing by the same <code>framelayout</code> of the <code>Activity</code>).</p>\n<p>In my <code>MainActivity.class</code>, I need to know in what fragment is my <code>framelayout</code>.\nFor example, I need to know if <code>framelayout</code> is using <code>MyFragment1.class</code> or <code>MyFragment2.class</code>.</p>\n<p>I need something like this (in this example, the <code>log</code> have to say me <em>&quot;you are in MyFragment1&quot;</em>):</p>\n<pre><code>FrameLayout frameLayout = (FrameLayout) findViewById(R.id.framelayout);\n\n getSupportFragmentManager().beginTransaction()\n        .replace(R.id.framelayout,new MyFragment1())\n        .commit();\n\nif (framelayout.getname.equals(&quot;package.MyFragment1.class&quot;))\n Log.d(&quot;debug&quot;, &quot;you are in MyFragment1&quot;);\nelse if (framelayout.getname.equals(&quot;package.MyFragment2.class&quot;))\n Log.d(&quot;debug&quot;, &quot;you are in MyFragment2&quot;);\n</code></pre>\n<p>How can I do that?</p>\n"},{"tags":["java","pdf","pdf-generation","accessibility","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":24634612,"reputation":29,"user_id":18533435,"display_name":"confusedDeveloper66"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662668027,"creation_date":1651676767,"answer_id":72115284,"question_id":71783119,"body_markdown":"Originally I found a workaround for passing the PAC 3 tests, I would draw the images after everything was written and for whatever reason that worked on my 13 page document but when I tried to convert a 2 page document the error started to appear again. \r\n\r\nSince then I found the proper way of giving an image a bounding box you will need to add this code to the image creation and it will satisfy PAC 3 tests (the proper way)\r\n```\r\n\t\tPDRectangle boundingBox = new PDRectangle(x, y, width, height);\r\n\r\n\t\tCOSDictionary attr = new COSDictionary();\r\n\t\tattr.setString(COSName.BBOX, boundingBox.toString());\r\n\r\n\t\tcurrentElem.getCOSObject().setItem(COSName.A, attr);\r\n```","title":"Is there a way to set bounding box of figure in PDFBox","body":"<p>Originally I found a workaround for passing the PAC 3 tests, I would draw the images after everything was written and for whatever reason that worked on my 13 page document but when I tried to convert a 2 page document the error started to appear again.</p>\n<p>Since then I found the proper way of giving an image a bounding box you will need to add this code to the image creation and it will satisfy PAC 3 tests (the proper way)</p>\n<pre><code>        PDRectangle boundingBox = new PDRectangle(x, y, width, height);\n\n        COSDictionary attr = new COSDictionary();\n        attr.setString(COSName.BBOX, boundingBox.toString());\n\n        currentElem.getCOSObject().setItem(COSName.A, attr);\n</code></pre>\n"}],"owner":{"account_id":24634612,"reputation":29,"user_id":18533435,"display_name":"confusedDeveloper66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72115284,"answer_count":1,"score":1,"last_activity_date":1662668027,"creation_date":1649338372,"question_id":71783119,"body_markdown":"I&#39;m trying to create a PDF that&#39;s PAC3 compliant and I need to add images to the PDF. I was able add an image to the PDF but when I run the PDF in PAC 3. I get an error because my image doesn&#39;t have a bounding box. \r\nPAC3 output:\r\n[image of PAC3][1]\r\nHere&#39;s my code for adding an image to the pdf document.\r\n```\r\nPDStructureElement currentElem;\r\npublic void drawImage(PDStructureElement parent, float width, float height, float x,float y) throws IOException {\r\n\t\tcurrentElem = addContentToParent(null, StandardStructureTypes.Figure, parent);\r\n\t\tcurrentElem.setAlternateDescription(&quot;logo&quot;);\r\n\r\n\t\t\r\n\t\tPDImageXObject logoImg = PDImageXObject.createFromFile(&quot;logo.jpg&quot;, this.pdf);\r\n\t\r\n\t\t\r\n\t\t\r\n\t\tPDPageContentStream contentStream = new PDPageContentStream(this.pdf, this.pdf.getPage(0), PDPageContentStream.AppendMode.APPEND, false);\r\n\t\tsetNextMarkedContentDictionary();\r\n\t\tcontentStream.beginMarkedContent(COSName.IMAGE, PDPropertyList.create(currentMarkedContentDictionary));\r\n\r\n\t\tcontentStream.drawImage(logoImg, x, y,45,42);\r\n\t\tcontentStream.endMarkedContent();\r\n\r\n\t\tcontentStream.close();\r\n\t\taddContentToParent(COSName.IMAGE, null, currentElem);\r\n\r\n\t}\r\n```\r\n **My Question:**\r\nHow do I add a bounding box to a image? Is it even possible with PDFBox?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mJXP8.png","title":"Is there a way to set bounding box of figure in PDFBox","body":"<p>I'm trying to create a PDF that's PAC3 compliant and I need to add images to the PDF. I was able add an image to the PDF but when I run the PDF in PAC 3. I get an error because my image doesn't have a bounding box.\nPAC3 output:\n<a href=\"https://i.stack.imgur.com/mJXP8.png\" rel=\"nofollow noreferrer\">image of PAC3</a>\nHere's my code for adding an image to the pdf document.</p>\n<pre><code>PDStructureElement currentElem;\npublic void drawImage(PDStructureElement parent, float width, float height, float x,float y) throws IOException {\n        currentElem = addContentToParent(null, StandardStructureTypes.Figure, parent);\n        currentElem.setAlternateDescription(&quot;logo&quot;);\n\n        \n        PDImageXObject logoImg = PDImageXObject.createFromFile(&quot;logo.jpg&quot;, this.pdf);\n    \n        \n        \n        PDPageContentStream contentStream = new PDPageContentStream(this.pdf, this.pdf.getPage(0), PDPageContentStream.AppendMode.APPEND, false);\n        setNextMarkedContentDictionary();\n        contentStream.beginMarkedContent(COSName.IMAGE, PDPropertyList.create(currentMarkedContentDictionary));\n\n        contentStream.drawImage(logoImg, x, y,45,42);\n        contentStream.endMarkedContent();\n\n        contentStream.close();\n        addContentToParent(COSName.IMAGE, null, currentElem);\n\n    }\n</code></pre>\n<p><strong>My Question:</strong>\nHow do I add a bounding box to a image? Is it even possible with PDFBox?</p>\n"},{"tags":["java","json","functional-programming","jackson"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662658166,"creation_date":1662657817,"answer_id":73652962,"question_id":73652495,"body_markdown":"Instead of creating such a *function* I would rather go with utility method because `ObjectMapper.readValue()` throws `IOException` which is checked. Therefore it should be handled because we can&#39;t propagate checked exceptions outside the `Function`.\r\n\r\nIf you wonder how it might look like, here it is:\r\n\r\n    public Function&lt;ByteBuffer, List&lt;MyObject&gt;&gt; deserialize(ObjectMapper objectMapper) {\r\n\r\n        return buffer -&gt; {\r\n            try {\r\n                return objectMapper.readValue(buffer.array(),new TypeReference&lt;List&lt;MyObject&gt;&gt;() {\r\n                });\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\nInstead, let&#39;s consider a utility-class:\r\n\r\n    public static final ObjectMapper objectMapper = // initializing the mapper\r\n    \r\n    public static List&lt;MyObject&gt; deserialize(ByteBuffer buffer) throws IOException {\r\n        \r\n        return objectMapper.readValue(buffer.array(),new TypeReference&lt;&gt;() {});\r\n    }","title":"Applying java.util.function.Function to JSON Deserialization","body":"<p>Instead of creating such a <em>function</em> I would rather go with utility method because <code>ObjectMapper.readValue()</code> throws <code>IOException</code> which is checked. Therefore it should be handled because we can't propagate checked exceptions outside the <code>Function</code>.</p>\n<p>If you wonder how it might look like, here it is:</p>\n<pre><code>public Function&lt;ByteBuffer, List&lt;MyObject&gt;&gt; deserialize(ObjectMapper objectMapper) {\n\n    return buffer -&gt; {\n        try {\n            return objectMapper.readValue(buffer.array(),new TypeReference&lt;List&lt;MyObject&gt;&gt;() {\n            });\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    };\n}\n</code></pre>\n<p>Instead, let's consider a utility-class:</p>\n<pre><code>public static final ObjectMapper objectMapper = // initializing the mapper\n\npublic static List&lt;MyObject&gt; deserialize(ByteBuffer buffer) throws IOException {\n    \n    return objectMapper.readValue(buffer.array(),new TypeReference&lt;&gt;() {});\n}\n</code></pre>\n"}],"owner":{"account_id":4244992,"reputation":624,"user_id":3473925,"accept_rate":0,"display_name":"bostonjava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73652962,"answer_count":1,"score":1,"last_activity_date":1662667791,"creation_date":1662655232,"question_id":73652495,"body_markdown":"I have a class that accept a *function* ```Function&lt;ByteBuffer, T&gt; deserialize``` as a constructor argument.\r\n\r\nI want to create a function which converts JSON into a list of objects.\r\n\r\nHere&#39;s what I am trying to do:\r\n\r\n```java\r\npublic Function&lt;ByteBuffer, List&lt;MyObject&gt;&gt; deserialize(\r\n    final ObjectMapper objectMapper) {\r\n\r\n    return objectMapper.readValue(??, new TypeReference&lt;List&lt;MyObject&gt;&gt;(){});\r\n}\r\n```\r\n\r\nObviously the syntax is wrong here. How can I fix this?\r\n\r\n","title":"Applying java.util.function.Function to JSON Deserialization","body":"<p>I have a class that accept a <em>function</em> <code>Function&lt;ByteBuffer, T&gt; deserialize</code> as a constructor argument.</p>\n<p>I want to create a function which converts JSON into a list of objects.</p>\n<p>Here's what I am trying to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Function&lt;ByteBuffer, List&lt;MyObject&gt;&gt; deserialize(\n    final ObjectMapper objectMapper) {\n\n    return objectMapper.readValue(??, new TypeReference&lt;List&lt;MyObject&gt;&gt;(){});\n}\n</code></pre>\n<p>Obviously the syntax is wrong here. How can I fix this?</p>\n"},{"tags":["java","tomcat","grails","recaptcha","grails-rest-api"],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491651151,"creation_date":1491651151,"answer_id":43293540,"question_id":43275006,"body_markdown":"&gt;java.lang.ClassNotFoundException: grails.plugins.rest.client.RestBuilder\r\n\r\nstates clearly that this class is missing in your production war or Tomcat.\r\n\r\nMake sure you are setting proper dependencies in your `gradle` config as per [plugin ref-doc][1]:\r\n\r\n    compile &quot;org.grails.plugins:rest-client-builder:2.1.1&quot;\r\n\r\nCheck that those jars are also present in your war or Tomcat&#39;s classpath\r\n\r\n\r\n  [1]: https://grails.org/plugin/rest-client-builder","title":"Grails: Exception with RestBuilder only while running in production tomcat server","body":"<blockquote>\n  <p>java.lang.ClassNotFoundException: grails.plugins.rest.client.RestBuilder</p>\n</blockquote>\n\n<p>states clearly that this class is missing in your production war or Tomcat.</p>\n\n<p>Make sure you are setting proper dependencies in your <code>gradle</code> config as per <a href=\"https://grails.org/plugin/rest-client-builder\" rel=\"nofollow noreferrer\">plugin ref-doc</a>:</p>\n\n<pre><code>compile \"org.grails.plugins:rest-client-builder:2.1.1\"\n</code></pre>\n\n<p>Check that those jars are also present in your war or Tomcat's classpath</p>\n"},{"tags":[],"owner":{"account_id":7774994,"reputation":51,"user_id":5883384,"accept_rate":23,"display_name":"Ragesh ck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491904257,"creation_date":1491904257,"answer_id":43342493,"question_id":43275006,"body_markdown":"Copying the file `grails-datastore-rest-client-3.1.4.RELEASE.jar` into the tomcat lib folder resolved the problem.\r\nYou can download the jar file from [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.grails/grails-datastore-rest-client/3.1.4.RELEASE","title":"Grails: Exception with RestBuilder only while running in production tomcat server","body":"<p>Copying the file <code>grails-datastore-rest-client-3.1.4.RELEASE.jar</code> into the tomcat lib folder resolved the problem.\nYou can download the jar file from <a href=\"https://mvnrepository.com/artifact/org.grails/grails-datastore-rest-client/3.1.4.RELEASE\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6272474,"reputation":1,"user_id":4876290,"display_name":"joy2014"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662666790,"creation_date":1662110936,"answer_id":73580478,"question_id":43275006,"body_markdown":"If someone is still looking for the answer: Please add the line below to `build.gradle` and it should work (pulls in a necessary dependency):\r\n\r\n```groovy\r\nimplementation &#39;org.grails:grails-datastore-rest-client:6.1.9.RELEASE&#39;\r\n```","title":"Grails: Exception with RestBuilder only while running in production tomcat server","body":"<p>If someone is still looking for the answer: Please add the line below to <code>build.gradle</code> and it should work (pulls in a necessary dependency):</p>\n<pre><code>implementation 'org.grails:grails-datastore-rest-client:6.1.9.RELEASE'\n</code></pre>\n"}],"owner":{"account_id":7774994,"reputation":51,"user_id":5883384,"accept_rate":23,"display_name":"Ragesh ck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662666790,"creation_date":1491558637,"question_id":43275006,"body_markdown":"I created the war file and deployed into tomcat server but while submitting the registration page(having recaptcha) this error is happening, but not in the local machine and app running in the local machine using the GGTS IDE.\r\n\r\nFollowing is the error happening in the production server\r\n\r\n        errors.GrailsExceptionResolver  - ClassNotFoundException occurred when processing request: [POST] /IFP/signup/completeSignUp\r\n    grails.plugins.rest.client.RestBuilder. Stacktrace follows:\r\n    java.lang.ClassNotFoundException: grails.plugins.rest.client.RestBuilder\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.getDeclaredMethods(Class.java:1975)\r\n        at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:46)\r\n        at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:33)\r\n        at com.megatome.grails.recaptcha.ReCaptcha.checkAnswer(ReCaptcha.groovy:171)\r\n        at com.megatome.grails.RecaptchaService.verifyAnswer(RecaptchaService.groovy:147)\r\n        at com.controllers.portal.SignupController.completeSignUp(SignupController.groovy:42)\r\n        at grails.plugin.cache.web.filter.PageFragmentCachingFilter.doFilter(PageFragmentCachingFilter.java:198)\r\n        at grails.plugin.cache.web.filter.AbstractFilter.doFilter(AbstractFilter.java:63)\r\n        at grails.plugin.springsecurity.web.filter.GrailsAnonymousAuthenticationFilter.doFilter(GrailsAnonymousAuthenticationFilter.java:53)\r\n        at grails.plugin.springsecurity.web.authentication.RequestHolderAuthenticationFilter.doFilter(RequestHolderAuthenticationFilter.java:53)\r\n        at grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.java:62)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nFrom my view this exception is happening after the implementation of recaptcha.\r\nPlease help me for resolving this issue.","title":"Grails: Exception with RestBuilder only while running in production tomcat server","body":"<p>I created the war file and deployed into tomcat server but while submitting the registration page(having recaptcha) this error is happening, but not in the local machine and app running in the local machine using the GGTS IDE.</p>\n\n<p>Following is the error happening in the production server</p>\n\n<pre><code>    errors.GrailsExceptionResolver  - ClassNotFoundException occurred when processing request: [POST] /IFP/signup/completeSignUp\ngrails.plugins.rest.client.RestBuilder. Stacktrace follows:\njava.lang.ClassNotFoundException: grails.plugins.rest.client.RestBuilder\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.getDeclaredMethods(Class.java:1975)\n    at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:46)\n    at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:33)\n    at com.megatome.grails.recaptcha.ReCaptcha.checkAnswer(ReCaptcha.groovy:171)\n    at com.megatome.grails.RecaptchaService.verifyAnswer(RecaptchaService.groovy:147)\n    at com.controllers.portal.SignupController.completeSignUp(SignupController.groovy:42)\n    at grails.plugin.cache.web.filter.PageFragmentCachingFilter.doFilter(PageFragmentCachingFilter.java:198)\n    at grails.plugin.cache.web.filter.AbstractFilter.doFilter(AbstractFilter.java:63)\n    at grails.plugin.springsecurity.web.filter.GrailsAnonymousAuthenticationFilter.doFilter(GrailsAnonymousAuthenticationFilter.java:53)\n    at grails.plugin.springsecurity.web.authentication.RequestHolderAuthenticationFilter.doFilter(RequestHolderAuthenticationFilter.java:53)\n    at grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.java:62)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>From my view this exception is happening after the implementation of recaptcha.\nPlease help me for resolving this issue.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662666780,"creation_date":1662666780,"answer_id":73654414,"question_id":73648693,"body_markdown":"It&#39;s recommended not to use iterations for streaming, as they prevent checkpointing from being used. If you care about fault tolerance guarantees, an alternative would be to send the loopback control events to a sink, and add a source that reads from that sink. Or you might consider using the Stateful Functions API instead.\r\n\r\nAs for your original question, I don&#39;t know if it&#39;s possible to use a broadcast stream with iterations. Broadcast streams were added well after iterations were effectively abandoned, so if it does happen to work I&#39;d consider that more-or-less accidental, and not a supported feature.","title":"Flink broadcasting side outputs of a parallel process function in feedback loop?","body":"<p>It's recommended not to use iterations for streaming, as they prevent checkpointing from being used. If you care about fault tolerance guarantees, an alternative would be to send the loopback control events to a sink, and add a source that reads from that sink. Or you might consider using the Stateful Functions API instead.</p>\n<p>As for your original question, I don't know if it's possible to use a broadcast stream with iterations. Broadcast streams were added well after iterations were effectively abandoned, so if it does happen to work I'd consider that more-or-less accidental, and not a supported feature.</p>\n"}],"owner":{"account_id":11057209,"reputation":17,"user_id":11791225,"display_name":"Komal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73654414,"answer_count":1,"score":0,"last_activity_date":1662666780,"creation_date":1662638059,"question_id":73648693,"body_markdown":"I&#39;m using Apache Flink v1.9.1\r\n\r\nI have a keyed (partitioned) data stream that needs to generate some tuples of data and some control signals that need to be looped back to the generator. Except I want the control signal stream to be broadcast to all the partitioned/parallel tasks of the generator. \r\nThe control signal is of a different data type than the main data stream. \r\n\r\nIs this even possible to implement this using broadcast and iterate? If not is there any other way to achieve this?\r\n\r\nHere&#39;s rough pseudocode of what I&#39;m trying to do:\r\n\r\n    IterativeStream&lt;Integer&gt; iteration = initialkeyedStream.iterate();  \r\n    DataStream&lt;Tuple2&lt;Integer, Long&gt;&gt; mainDataStream = iteration.process(/*some stuff happens here/*);\r\n    DataStream&lt;String&gt; sideOutputStream = mainDataStream.getSideOutput(outputTag); //control signal stream\r\n    DataStream&lt;String&gt; bcsideOutputStream = sideOutputStream.broadcast(); *//or should this be BroadcastStream&lt;String&gt; bcsideOutputStream?*\r\n    iteration.closeWith(bcsideOutputStream);\r\n\r\n\r\n","title":"Flink broadcasting side outputs of a parallel process function in feedback loop?","body":"<p>I'm using Apache Flink v1.9.1</p>\n<p>I have a keyed (partitioned) data stream that needs to generate some tuples of data and some control signals that need to be looped back to the generator. Except I want the control signal stream to be broadcast to all the partitioned/parallel tasks of the generator.\nThe control signal is of a different data type than the main data stream.</p>\n<p>Is this even possible to implement this using broadcast and iterate? If not is there any other way to achieve this?</p>\n<p>Here's rough pseudocode of what I'm trying to do:</p>\n<pre><code>IterativeStream&lt;Integer&gt; iteration = initialkeyedStream.iterate();  \nDataStream&lt;Tuple2&lt;Integer, Long&gt;&gt; mainDataStream = iteration.process(/*some stuff happens here/*);\nDataStream&lt;String&gt; sideOutputStream = mainDataStream.getSideOutput(outputTag); //control signal stream\nDataStream&lt;String&gt; bcsideOutputStream = sideOutputStream.broadcast(); *//or should this be BroadcastStream&lt;String&gt; bcsideOutputStream?*\niteration.closeWith(bcsideOutputStream);\n</code></pre>\n"},{"tags":["java","spring","enums"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662665017,"post_id":73653898,"comment_id":130064723,"body_markdown":"What exactly is your question? Are you asking how to implement that `isValidEnum` method?","body":"What exactly is your question? Are you asking how to implement that <code>isValidEnum</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662666605,"creation_date":1662665755,"answer_id":73654285,"question_id":73653898,"body_markdown":"If you asking how to verify that a particular file name is represented within your enum, add a static method to the enum.\r\n\r\nHere is some untested code.\r\n\r\n```java\r\npublic enum ModulacaoFilesEnum {\r\n    FILE001(&quot;FILE 001.xlsx&quot;),\r\n    FILE002(&quot;FILE 002.xlsx&quot;),\r\n    FILE003(&quot;FILE 003.xlsx&quot;);\r\n    \r\n    @Getter\r\n    private final String fileName;\r\n\r\n    ModulacaoFilesEnum(String fileName) {\r\n        this.fileName = fileName;\r\n    }\r\n\r\n    public static Optional&lt; ModulacaoFilesEnum &gt; forFileName( final String fileName ) \r\n    {\r\n        Objects.requireNonNull( fileName ) ;\r\n        return\r\n            Arrays\r\n            .stream( ModulacaoFilesEnum.values() )\r\n            .filter( mfEnum -&gt; mfEnum.fileName.equals( fileName ) ) \r\n            .findAny()\r\n        ;\r\n    }\r\n\r\n}\r\n```","title":"how can i check fileName from java enum EnumUtils.isValidEnum?","body":"<p>If you asking how to verify that a particular file name is represented within your enum, add a static method to the enum.</p>\n<p>Here is some untested code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ModulacaoFilesEnum {\n    FILE001(&quot;FILE 001.xlsx&quot;),\n    FILE002(&quot;FILE 002.xlsx&quot;),\n    FILE003(&quot;FILE 003.xlsx&quot;);\n    \n    @Getter\n    private final String fileName;\n\n    ModulacaoFilesEnum(String fileName) {\n        this.fileName = fileName;\n    }\n\n    public static Optional&lt; ModulacaoFilesEnum &gt; forFileName( final String fileName ) \n    {\n        Objects.requireNonNull( fileName ) ;\n        return\n            Arrays\n            .stream( ModulacaoFilesEnum.values() )\n            .filter( mfEnum -&gt; mfEnum.fileName.equals( fileName ) ) \n            .findAny()\n        ;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18618594,"reputation":158,"user_id":13569349,"display_name":"Mateus Nogueira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662666605,"creation_date":1662663550,"question_id":73653898,"body_markdown":"it works with enum but i cant create an enum with spaces, then i created filename. Is it possible to check file name?\r\n\r\n\r\n\r\n    public enum ModulacaoFilesEnum {\r\n        FILE001(&quot;FILE 001.xlsx&quot;),\r\n        FILE002(&quot;FILE 002.xlsx&quot;),\r\n        FILE003(&quot;FILE 003.xlsx&quot;);\r\n        @Getter\r\n        private final String fileName;\r\n    \r\n        ModulacaoFilesEnum(String fileName) {\r\n            this.fileName = fileName;\r\n        }\r\n    }\r\n\r\nfrom\r\n\r\n        if (EnumUtils.isValidEnum(ModulacaoFilesEnum.class, file.getOriginalFilename())) {\r\n            throw new NotModulacaoFileException(file);\r\n        }","title":"how can i check fileName from java enum EnumUtils.isValidEnum?","body":"<p>it works with enum but i cant create an enum with spaces, then i created filename. Is it possible to check file name?</p>\n<pre><code>public enum ModulacaoFilesEnum {\n    FILE001(&quot;FILE 001.xlsx&quot;),\n    FILE002(&quot;FILE 002.xlsx&quot;),\n    FILE003(&quot;FILE 003.xlsx&quot;);\n    @Getter\n    private final String fileName;\n\n    ModulacaoFilesEnum(String fileName) {\n        this.fileName = fileName;\n    }\n}\n</code></pre>\n<p>from</p>\n<pre><code>    if (EnumUtils.isValidEnum(ModulacaoFilesEnum.class, file.getOriginalFilename())) {\n        throw new NotModulacaoFileException(file);\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1541489623,"post_id":53161703,"comment_id":93224824,"body_markdown":"Please show your full pom files ....","body":"Please show your full pom files ...."},{"owner":{"account_id":44802,"reputation":4276,"user_id":131697,"accept_rate":71,"display_name":"Alexander Kj&#228;ll"},"score":0,"creation_date":1541522037,"post_id":53161703,"comment_id":93242106,"body_markdown":"@khmarbaise here is a complete example https://github.com/alexanderkjall/pgsql2/tree/convert-to-maven if the module-info.java file is deleted the tests starts working","body":"@khmarbaise here is a complete example <a href=\"https://github.com/alexanderkjall/pgsql2/tree/convert-to-maven\" rel=\"nofollow noreferrer\">github.com/alexanderkjall/pgsql2/tree/convert-to-maven</a> if the module-info.java file is deleted the tests starts working"}],"answers":[{"tags":[],"owner":{"account_id":44802,"reputation":4276,"user_id":131697,"accept_rate":71,"display_name":"Alexander Kj&#228;ll"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541523106,"creation_date":1541523106,"answer_id":53176428,"question_id":53161703,"body_markdown":"I resolved this by adding:\r\n\r\n        &lt;configuration&gt;\r\n          &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n        &lt;/configuration&gt;\r\n\r\nTo the maven-surefire-plugin plugin section, that gave me the warning `[WARNING] useSystemClassloader setting has no effect when not forking`.","title":"Get maven surefire to run on classpath with module-info.java file present","body":"<p>I resolved this by adding:</p>\n\n<pre><code>    &lt;configuration&gt;\n      &lt;forkCount&gt;0&lt;/forkCount&gt;\n    &lt;/configuration&gt;\n</code></pre>\n\n<p>To the maven-surefire-plugin plugin section, that gave me the warning <code>[WARNING] useSystemClassloader setting has no effect when not forking</code>.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662666169,"creation_date":1662666169,"answer_id":73654342,"question_id":53161703,"body_markdown":"As of Surefire 3.0.0-M2, the correct solution is to set:\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;useModulePath&gt;false&lt;/useModulePath&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nSee https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#useModulePath for more information.","title":"Get maven surefire to run on classpath with module-info.java file present","body":"<p>As of Surefire 3.0.0-M2, the correct solution is to set:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;useModulePath&gt;false&lt;/useModulePath&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>See <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#useModulePath\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#useModulePath</a> for more information.</p>\n"}],"owner":{"account_id":44802,"reputation":4276,"user_id":131697,"accept_rate":71,"display_name":"Alexander Kj&#228;ll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662666169,"creation_date":1541449582,"question_id":53161703,"body_markdown":"I&#39;m trying to write a library that can be run on the module path without trouble, but I&#39;m using the `org.testcontainers` package for tests, and they have a number of dependencies that doesn&#39;t work on the module path.\r\n\r\nThese are the errors I get when trying to run surefire with my `module-info.java` present:\r\n\r\n\r\n&gt; [WARNING] Can&#39;t extract module name from visible-assertions-2.1.1.jar:\r\n&gt; TtyCheck.class found in top-level directory (unnamed package not\r\n&gt; allowed in module) [WARNING] Can&#39;t extract module name from\r\n&gt; native-lib-loader-2.0.2.jar: native.lib.loader: Invalid module name:\r\n&gt; &#39;native&#39; is not a Java identifier [WARNING] Can&#39;t extract module name\r\n&gt; from junixsocket-native-common-2.0.4.jar: junixsocket.native.common:\r\n&gt; Invalid module name: &#39;native&#39; is not a Java identifier\r\n\r\n\r\nThese lead to further problems with class not found.\r\n\r\nNote that this is a run time problem, the code compiles without problem and the produced jar works.\r\n\r\nAs far as I have understood the surefire documentation, it tries to run tests on the module path if the `module-info.java` file is present.\r\n\r\nIs there any way to disable this behavior and fore maven surefire to run the tests on the class path instead of the module path?","title":"Get maven surefire to run on classpath with module-info.java file present","body":"<p>I'm trying to write a library that can be run on the module path without trouble, but I'm using the <code>org.testcontainers</code> package for tests, and they have a number of dependencies that doesn't work on the module path.</p>\n\n<p>These are the errors I get when trying to run surefire with my <code>module-info.java</code> present:</p>\n\n<blockquote>\n  <p>[WARNING] Can't extract module name from visible-assertions-2.1.1.jar:\n  TtyCheck.class found in top-level directory (unnamed package not\n  allowed in module) [WARNING] Can't extract module name from\n  native-lib-loader-2.0.2.jar: native.lib.loader: Invalid module name:\n  'native' is not a Java identifier [WARNING] Can't extract module name\n  from junixsocket-native-common-2.0.4.jar: junixsocket.native.common:\n  Invalid module name: 'native' is not a Java identifier</p>\n</blockquote>\n\n<p>These lead to further problems with class not found.</p>\n\n<p>Note that this is a run time problem, the code compiles without problem and the produced jar works.</p>\n\n<p>As far as I have understood the surefire documentation, it tries to run tests on the module path if the <code>module-info.java</code> file is present.</p>\n\n<p>Is there any way to disable this behavior and fore maven surefire to run the tests on the class path instead of the module path?</p>\n"},{"tags":["java","thymeleaf","freemarker"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1627968538,"post_id":68630752,"comment_id":121289503,"body_markdown":"How is this a FreeMarker issue?","body":"How is this a FreeMarker issue?"},{"owner":{"account_id":22354387,"reputation":13,"user_id":16571923,"display_name":"bindCake"},"score":0,"creation_date":1627969305,"post_id":68630752,"comment_id":121289659,"body_markdown":"because addInline is not working at all, I can only make &lt;img src=&quot;cid:logo&quot;&gt; work with addAttachment image, when it should work with addInline.","body":"because addInline is not working at all, I can only make &lt;img src=&quot;cid:logo&quot;&gt; work with addAttachment image, when it should work with addInline."}],"answers":[{"tags":[],"owner":{"account_id":26284767,"reputation":1,"user_id":19952684,"display_name":"Sonny Wandel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662665995,"creation_date":1662665995,"answer_id":73654316,"question_id":68630752,"body_markdown":"You need to change the order of the helper commands. In my case I had the same problem as you had. For an inline attachment you need to use &quot;helper.addInline&quot;, but the order matters.\r\n\r\nThe following is not working:\r\n\r\n    helper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\r\n    helper.setText(html, true);\r\n\r\nBut this is working: \r\n\r\n    helper.setText(html, true);\r\n    helper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\r\n\r\nFirst, add the html via &quot;setText&quot;, after you can add an inline attachment via &quot;addInline&quot;.\r\n\r\nThis worked fine for me\r\n\r\n\r\n\r\n","title":"Freemarker is not displaying images on mail templates","body":"<p>You need to change the order of the helper commands. In my case I had the same problem as you had. For an inline attachment you need to use &quot;helper.addInline&quot;, but the order matters.</p>\n<p>The following is not working:</p>\n<pre><code>helper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\nhelper.setText(html, true);\n</code></pre>\n<p>But this is working:</p>\n<pre><code>helper.setText(html, true);\nhelper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\n</code></pre>\n<p>First, add the html via &quot;setText&quot;, after you can add an inline attachment via &quot;addInline&quot;.</p>\n<p>This worked fine for me</p>\n"}],"owner":{"account_id":22354387,"reputation":13,"user_id":16571923,"display_name":"bindCake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662665995,"creation_date":1627968200,"question_id":68630752,"body_markdown":"I&#39;ve been trying to send images in my ftl templates but it is not working.\r\n\r\nI tried base64, outlook works - gmail does not work\r\nI tried ```&lt;img src=&quot;cid:logo&quot; alt=&quot;logo&quot;&gt;``` outlook does not work - gmail does not work\r\nI tried with attachement also using ```cid```outlook works - gmail doesnt...\r\n\r\nHow can I maje it work on both? Or at least make it work on gmail...\r\n\r\ntemplate.ftl\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;img src=&quot;cid:logo.png&quot; alt=&quot;logo&quot;&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nJava code\r\n```\r\n@Service\r\npublic class EmailServiceImpl implements EmailService {\r\n\r\n    @Autowired\r\n    private Configuration freemarkerConfig;\r\n\r\n    @Autowired\r\n    private JavaMailSender sender;\r\n\r\n    @Override\r\n    public MailResponse sendEmail(final MailRequest mail, final String template, final Map&lt;String, Object&gt; model) {\r\n        final MailResponse response = new MailResponse();\r\n        final MimeMessage message = this.sender.createMimeMessage();\r\n        try {\r\n            final MimeMessageHelper helper = new MimeMessageHelper(message, true,\r\n                    StandardCharsets.UTF_8.name());\r\n\r\n            final Template t = this.freemarkerConfig.getTemplate(template);\r\n\r\n            final String html = FreeMarkerTemplateUtils.processTemplateIntoString(t, model);\r\n            \r\n            // addInline() not working at all...\r\n            // helper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\r\n            helper.addAttachment(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\r\n            helper.setText(html, true);\r\n            helper.setTo(mail.getTo());\r\n            helper.setSubject(mail.getSubject());\r\n            helper.setFrom(mail.getFrom());\r\n            this.sender.send(message);\r\n\r\n            response.setMessage(&quot;mail send to : &quot; + mail.getTo());\r\n            response.setSent(Boolean.TRUE);\r\n\r\n        } catch (MessagingException | IOException | TemplateException e) {\r\n            response.setMessage(&quot;Mail Sending failure : &quot; + e.getMessage());\r\n            response.setSent(Boolean.FALSE);\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs said before, addInline is not working at all, and I would like to make it work so I don&#39;t send images as attachments, which is not even working for gmail anyway...","title":"Freemarker is not displaying images on mail templates","body":"<p>I've been trying to send images in my ftl templates but it is not working.</p>\n<p>I tried base64, outlook works - gmail does not work\nI tried <code>&lt;img src=&quot;cid:logo&quot; alt=&quot;logo&quot;&gt;</code> outlook does not work - gmail does not work\nI tried with attachement also using <code>cid</code>outlook works - gmail doesnt...</p>\n<p>How can I maje it work on both? Or at least make it work on gmail...</p>\n<p>template.ftl</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img src=&quot;cid:logo.png&quot; alt=&quot;logo&quot;&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Java code</p>\n<pre><code>@Service\npublic class EmailServiceImpl implements EmailService {\n\n    @Autowired\n    private Configuration freemarkerConfig;\n\n    @Autowired\n    private JavaMailSender sender;\n\n    @Override\n    public MailResponse sendEmail(final MailRequest mail, final String template, final Map&lt;String, Object&gt; model) {\n        final MailResponse response = new MailResponse();\n        final MimeMessage message = this.sender.createMimeMessage();\n        try {\n            final MimeMessageHelper helper = new MimeMessageHelper(message, true,\n                    StandardCharsets.UTF_8.name());\n\n            final Template t = this.freemarkerConfig.getTemplate(template);\n\n            final String html = FreeMarkerTemplateUtils.processTemplateIntoString(t, model);\n            \n            // addInline() not working at all...\n            // helper.addInline(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\n            helper.addAttachment(&quot;logo.png&quot;, new ClassPathResource(&quot;logo.png&quot;));\n            helper.setText(html, true);\n            helper.setTo(mail.getTo());\n            helper.setSubject(mail.getSubject());\n            helper.setFrom(mail.getFrom());\n            this.sender.send(message);\n\n            response.setMessage(&quot;mail send to : &quot; + mail.getTo());\n            response.setSent(Boolean.TRUE);\n\n        } catch (MessagingException | IOException | TemplateException e) {\n            response.setMessage(&quot;Mail Sending failure : &quot; + e.getMessage());\n            response.setSent(Boolean.FALSE);\n        }\n\n        return response;\n    }\n\n}\n</code></pre>\n<p>As said before, addInline is not working at all, and I would like to make it work so I don't send images as attachments, which is not even working for gmail anyway...</p>\n"},{"tags":["java","windows","system","exit"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662507943,"post_id":73627813,"comment_id":130020081,"body_markdown":"Yes, [setQuitHandler](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Desktop.html#setQuitHandler(java.awt.desktop.QuitHandler)).","body":"Yes, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Desktop.html#setQuitHandler(java.awt.desktop.QuitHandler)\" rel=\"nofollow noreferrer\">setQuitHandler</a>."}],"answers":[{"tags":[],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662654513,"creation_date":1662654513,"answer_id":73652359,"question_id":73627813,"body_markdown":"The Runtime.getRuntime().addShutdownHook(new Thread() } method solves the OS-linkage for Windows Task Bar &quot;Close All Windows&quot;.  In your app&#39;s launch sequence, you want to wait until everything has launched successfully, then call something like this method as the last step in the launch sequence:\r\n\r\n&#39;&#39;&#39;\r\n\r\n\tprivate static void enableShutdownHookToSaveUserPrefsAndWork() {\r\n\t\t//this code implants the task of recording Prefs &amp; User Work files during the shutdown sequence.\r\n\t\t//Covers the cases where the OS shuts down this app: \r\n\t\t// tested: 1) Win &quot;Close All Windows&quot;, 2) MacOS menu-Quit, 3) MacOS dock-icon Quit\r\n\t\tRuntime.getRuntime().addShutdownHook(new Thread() {\r\n\r\n\t\t    @Override\r\n\t\t    public void run() {\r\n \t\t\t\t\r\n\t\t\t\tinShutdownSequence = true;\r\n\t\t\t\tcommenceQuitSequence(); // saves user work; disposes \r\n\t\t\t\t\r\n\t\t    }\r\n\t\t});\r\n\t}\r\n\t// When this thread suspends, the DestroyJavaVM thread relinquishes all app memory, quits and hands back control to the OS.\r\n\r\n&#39;&#39;&#39;","title":"Java/Swing app on Win10/11 not responding to TaskBar Close-All-Windows GUI command","body":"<p>The Runtime.getRuntime().addShutdownHook(new Thread() } method solves the OS-linkage for Windows Task Bar &quot;Close All Windows&quot;.  In your app's launch sequence, you want to wait until everything has launched successfully, then call something like this method as the last step in the launch sequence:</p>\n<p>'''</p>\n<pre><code>private static void enableShutdownHookToSaveUserPrefsAndWork() {\n    //this code implants the task of recording Prefs &amp; User Work files during the shutdown sequence.\n    //Covers the cases where the OS shuts down this app: \n    // tested: 1) Win &quot;Close All Windows&quot;, 2) MacOS menu-Quit, 3) MacOS dock-icon Quit\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n\n        @Override\n        public void run() {\n            \n            inShutdownSequence = true;\n            commenceQuitSequence(); // saves user work; disposes \n            \n        }\n    });\n}\n// When this thread suspends, the DestroyJavaVM thread relinquishes all app memory, quits and hands back control to the OS.\n</code></pre>\n<p>'''</p>\n"},{"tags":[],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662665831,"creation_date":1662665831,"answer_id":73654294,"question_id":73627813,"body_markdown":"How did I stumble into this problem?\r\n\r\nI had long ago implemented the ShutdownHook, and it worked fine on the MacOS, the test being if the User&#39;s most recent work is saved at Quit-time, using the Dock-icon&#39;s &quot;Quit&quot; feature.\r\n\r\nOn Windows10, it was a different story when using the TaskBar &quot;Close All Windows&quot; option....that snuffed the app without saving the user&#39;s work (even though the work is saved by the User closing either app window).\r\n\r\nI finally figure this out.  As one of those &quot;default&quot; decisions made going into Beta release, it was assumed that the Windows app should have a Java Console (text output) window to help with bug reporting.\r\nThe plan was to quash the Console window for V1.0 release.\r\n\r\nThere is no way to wire up the Console window to have its close button tell the app to Quit...closing the Console blindly halts the JVM.\r\n\r\nIt also turns out that the TaskBar-icon &quot;Close All Windows&quot; feature closes the Console window first.  Whoops!\r\n\r\nNow that I&#39;ve modified the Win launcher to launch the JVM with &quot;javaw.exe&quot; instead of &quot;java.exe&quot;, there is no console window, and the\r\nTaskBar-icon &quot;Close All Windows&quot; command passes control to the JVM --&gt; myApp windows to close themselves, and the User&#39;s work is auto-saved.  This solves the OP.\r\n\r\nThe more &quot;forceful&quot; OS-triggered halts of the app (User Log Off, Restart, Shutdown, Task Manager kill-process) seem to call the Java ShutdownHook, but then preempt it during the file writes...resulting in an empty file being written to disk!  Based on my testing, these processes do WORSE than just killing the JVM.  They corrupt the file write in progress. BEWARE\r\n ","title":"Java/Swing app on Win10/11 not responding to TaskBar Close-All-Windows GUI command","body":"<p>How did I stumble into this problem?</p>\n<p>I had long ago implemented the ShutdownHook, and it worked fine on the MacOS, the test being if the User's most recent work is saved at Quit-time, using the Dock-icon's &quot;Quit&quot; feature.</p>\n<p>On Windows10, it was a different story when using the TaskBar &quot;Close All Windows&quot; option....that snuffed the app without saving the user's work (even though the work is saved by the User closing either app window).</p>\n<p>I finally figure this out.  As one of those &quot;default&quot; decisions made going into Beta release, it was assumed that the Windows app should have a Java Console (text output) window to help with bug reporting.\nThe plan was to quash the Console window for V1.0 release.</p>\n<p>There is no way to wire up the Console window to have its close button tell the app to Quit...closing the Console blindly halts the JVM.</p>\n<p>It also turns out that the TaskBar-icon &quot;Close All Windows&quot; feature closes the Console window first.  Whoops!</p>\n<p>Now that I've modified the Win launcher to launch the JVM with &quot;javaw.exe&quot; instead of &quot;java.exe&quot;, there is no console window, and the\nTaskBar-icon &quot;Close All Windows&quot; command passes control to the JVM --&gt; myApp windows to close themselves, and the User's work is auto-saved.  This solves the OP.</p>\n<p>The more &quot;forceful&quot; OS-triggered halts of the app (User Log Off, Restart, Shutdown, Task Manager kill-process) seem to call the Java ShutdownHook, but then preempt it during the file writes...resulting in an empty file being written to disk!  Based on my testing, these processes do WORSE than just killing the JVM.  They corrupt the file write in progress. BEWARE</p>\n"}],"owner":{"account_id":5893192,"reputation":294,"user_id":4639117,"display_name":"pbierre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662665831,"creation_date":1662498900,"question_id":73627813,"body_markdown":"This is an educational app for Win10/11.  It hosts 2 app windows at all times the app is running (even if minimized).\r\n\r\nThe app auto-saves the user&#39;s work (into XML files) during the app-Quit sequence.  To Quit, the user hits the Close button on either window.  That triggers the auto-save.\r\n\r\nBut, the Win OS provides a GUI command down in the Task Bar, a right-click menu tied to the app icon -- Close All Windows.\r\n\r\nHow does Windows signal to the app that the User wants to close all of the app&#39;s windows?  It seems that it doesn&#39;t bother, and just kills the app.\r\n\r\nAre there hooks in Java/Swing to pick off this form of user-Quit from the TaskBar?\r\n\r\nClosely related, there are 3 other Win OS actions that indirectly kill an app...Shut Down / Restart / Log Off User.  Same question, does Java have an &quot;OS listener&quot; that can pick off the impending forced Quit?","title":"Java/Swing app on Win10/11 not responding to TaskBar Close-All-Windows GUI command","body":"<p>This is an educational app for Win10/11.  It hosts 2 app windows at all times the app is running (even if minimized).</p>\n<p>The app auto-saves the user's work (into XML files) during the app-Quit sequence.  To Quit, the user hits the Close button on either window.  That triggers the auto-save.</p>\n<p>But, the Win OS provides a GUI command down in the Task Bar, a right-click menu tied to the app icon -- Close All Windows.</p>\n<p>How does Windows signal to the app that the User wants to close all of the app's windows?  It seems that it doesn't bother, and just kills the app.</p>\n<p>Are there hooks in Java/Swing to pick off this form of user-Quit from the TaskBar?</p>\n<p>Closely related, there are 3 other Win OS actions that indirectly kill an app...Shut Down / Restart / Log Off User.  Same question, does Java have an &quot;OS listener&quot; that can pick off the impending forced Quit?</p>\n"},{"tags":["java","linux","fonts","java-17","fontconfig"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661866733,"post_id":73543024,"comment_id":129869869,"body_markdown":"I think that could vary between distros but do you actually need to install it? You could use ```java.awt.Font createFont```  with the font file","body":"I think that could vary between distros but do you actually need to install it? You could use <code>java.awt.Font createFont</code>  with the font file"}],"answers":[{"tags":[],"owner":{"account_id":4532618,"reputation":188,"user_id":3682640,"display_name":"user3682640"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1662665371,"creation_date":1662665371,"answer_id":73654215,"question_id":73543024,"body_markdown":"For my configuration (java.18/Spring Boot/jib/Docker/ubuntu) I&#39;ve used this these commands for resolving the issue:\r\n\r\n    RUN echo &#39;debconf debconf/frontend select Noninteractive&#39; | debconf-set-selections\r\n    RUN apt-get update -y\r\n    RUN apt-get install -y apt-utils    --no-install-recommends\r\n    RUN apt-get install -y libfreetype6 --no-install-recommends\r\n    RUN apt-get install -y fontconfig   --no-install-recommends\r\n    RUN apt-get install -y fonts-dejavu --no-install-recommends\r\n\r\n","title":"How to install font on linux","body":"<p>For my configuration (java.18/Spring Boot/jib/Docker/ubuntu) I've used this these commands for resolving the issue:</p>\n<pre><code>RUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections\nRUN apt-get update -y\nRUN apt-get install -y apt-utils    --no-install-recommends\nRUN apt-get install -y libfreetype6 --no-install-recommends\nRUN apt-get install -y fontconfig   --no-install-recommends\nRUN apt-get install -y fonts-dejavu --no-install-recommends\n</code></pre>\n"}],"owner":{"account_id":25464310,"reputation":65,"user_id":19263597,"display_name":"Anup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73654215,"answer_count":1,"score":2,"last_activity_date":1662665371,"creation_date":1661865002,"question_id":73543024,"body_markdown":"I am using windows os, So there is no issue with Font(java.awt) class object creation. but my testing environment is on linux. So on that I am getting NULL POINTER exception.\r\n```\r\nCannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\r\n```\r\nAfter seacrhing I found that there should be fonts folder in usr/share directory on linux.\r\nSo someone can please suggest. Do I have to just copy fonts to that directory or there is other way to intsall?","title":"How to install font on linux","body":"<p>I am using windows os, So there is no issue with Font(java.awt) class object creation. but my testing environment is on linux. So on that I am getting NULL POINTER exception.</p>\n<pre><code>Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\n</code></pre>\n<p>After seacrhing I found that there should be fonts folder in usr/share directory on linux.\nSo someone can please suggest. Do I have to just copy fonts to that directory or there is other way to intsall?</p>\n"},{"tags":["java","android-studio","talkback"],"owner":{"account_id":22164056,"reputation":29,"user_id":16410576,"display_name":"coolguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662664809,"creation_date":1662664809,"question_id":73654125,"body_markdown":"For example, I am running an app with **TalkBack** on, when I click on **button A**, the **TalkBack** will focus on **button A**, and it will launch a popup window, after I close the popup window, **TalkBack** will reset the focus to the **first view**, but how do I make it focus back to **button A** after I close popup window?","title":"Is there a way to make talk back focus back to the previous view when a popup window closed in Android Studio?","body":"<p>For example, I am running an app with <strong>TalkBack</strong> on, when I click on <strong>button A</strong>, the <strong>TalkBack</strong> will focus on <strong>button A</strong>, and it will launch a popup window, after I close the popup window, <strong>TalkBack</strong> will reset the focus to the <strong>first view</strong>, but how do I make it focus back to <strong>button A</strong> after I close popup window?</p>\n"},{"tags":["java","generics","inheritance","enums"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662663418,"post_id":73653792,"comment_id":130064242,"body_markdown":"If `@AllArgsConstructor` is irrelevant to your Question, delete. If relevant, explain.","body":"If <code>@AllArgsConstructor</code> is irrelevant to your Question, delete. If relevant, explain."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662663940,"post_id":73653792,"comment_id":130064398,"body_markdown":"[see here](https://stackoverflow.com/q/3437897/592355) (Top question!)","body":"<a href=\"https://stackoverflow.com/q/3437897/592355\">see here</a> (Top question!)"},{"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"score":0,"creation_date":1662664933,"post_id":73653792,"comment_id":130064697,"body_markdown":"@xerx593 I&#39;m aware of this point, I mentioned that I can&#39;t use it and need a workaround.","body":"@xerx593 I&#39;m aware of this point, I mentioned that I can&#39;t use it and need a workaround."}],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662664801,"creation_date":1662662829,"question_id":73653792,"body_markdown":"I have interface and two enum class:\r\n\r\n    public interface SortColumnType {\r\n      String getName();\r\n    }\r\n    \r\n    public enum OneSortColumnType implements SortColumnType {\r\n      ID(&quot;id&quot;),\r\n      NAME(&quot;name&quot;);\r\n    \r\n      private final String name;\r\n    \r\n      @Override\r\n      public String getName() {\r\n        return name;\r\n      }\r\n    }\r\n    \r\n    public enum SecondSortColumnType implements SortColumnType {\r\n      ID(&quot;id&quot;),\r\n      DATE(&quot;date&quot;);\r\n    \r\n      private final String name;\r\n    \r\n      @Override\r\n      public String getName() {\r\n        return name;\r\n      }\r\n    }\r\n\r\nAnd class whit parameter. This class is created ONLY through the constructor without parameters. Enum classes are already inheriting from Enum&lt;T&gt; and cannot inherit from other classes. Enum.valueOf() is not suitable because I cannot pass Class during initialization or other actions. \r\nHow to make the default value of a field with the ID parameter?\r\n\r\n\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class SortColum&lt;T extends SortColumnType&gt; {\r\n    \r\n      T sortColumn = Enum.valueOf(T.class, &quot;ID&quot;); //Exception\r\n    \r\n      SortType sortDirection = SortType.ASC;\r\n    }\r\n\r\nIs it possible somehow through the creation of a common class?","title":"Enum inheritance and generic type parameters","body":"<p>I have interface and two enum class:</p>\n<pre><code>public interface SortColumnType {\n  String getName();\n}\n\npublic enum OneSortColumnType implements SortColumnType {\n  ID(&quot;id&quot;),\n  NAME(&quot;name&quot;);\n\n  private final String name;\n\n  @Override\n  public String getName() {\n    return name;\n  }\n}\n\npublic enum SecondSortColumnType implements SortColumnType {\n  ID(&quot;id&quot;),\n  DATE(&quot;date&quot;);\n\n  private final String name;\n\n  @Override\n  public String getName() {\n    return name;\n  }\n}\n</code></pre>\n<p>And class whit parameter. This class is created ONLY through the constructor without parameters. Enum classes are already inheriting from Enum and cannot inherit from other classes. Enum.valueOf() is not suitable because I cannot pass Class during initialization or other actions.\nHow to make the default value of a field with the ID parameter?</p>\n<pre><code>@Setter\n@NoArgsConstructor\npublic class SortColum&lt;T extends SortColumnType&gt; {\n\n  T sortColumn = Enum.valueOf(T.class, &quot;ID&quot;); //Exception\n\n  SortType sortDirection = SortType.ASC;\n}\n</code></pre>\n<p>Is it possible somehow through the creation of a common class?</p>\n"},{"tags":["java","spring-boot","validation","controller"],"answers":[{"tags":[],"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662572818,"creation_date":1662571444,"answer_id":73639464,"question_id":73638868,"body_markdown":"You can make use of ExceptionHandler and/or ControllerAdvice\r\n\r\nHere&#39;s an example of ExceptionHandler that you can include in your existing Controller:\r\n\r\n      @ExceptionHandler(ConstraintViolationException.class)\r\n      public ResponseEntity&lt;List&lt;String&gt;&gt; handleConstraintViolationException(ConstraintViolationException cve) {\r\n        List&lt;String&gt; errorMessages = cve.getConstraintViolations()\r\n            .stream()\r\n            .map(ConstraintViolation::getMessage)\r\n            .toList();\r\n    \r\n        return new ResponseEntity&lt;&gt;(errorMessages, HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\nNote that you probably want to create a better response model rather than just a ```List&lt;String&gt;``` shown above.\r\n\r\n\r\nSome further info: https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f","title":"Springboot controller send 400 on validation error","body":"<p>You can make use of ExceptionHandler and/or ControllerAdvice</p>\n<p>Here's an example of ExceptionHandler that you can include in your existing Controller:</p>\n<pre><code>  @ExceptionHandler(ConstraintViolationException.class)\n  public ResponseEntity&lt;List&lt;String&gt;&gt; handleConstraintViolationException(ConstraintViolationException cve) {\n    List&lt;String&gt; errorMessages = cve.getConstraintViolations()\n        .stream()\n        .map(ConstraintViolation::getMessage)\n        .toList();\n\n    return new ResponseEntity&lt;&gt;(errorMessages, HttpStatus.BAD_REQUEST);\n  }\n</code></pre>\n<p>Note that you probably want to create a better response model rather than just a <code>List&lt;String&gt;</code> shown above.</p>\n<p>Some further info: <a href=\"https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f\" rel=\"nofollow noreferrer\">https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f</a></p>\n"},{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662664565,"creation_date":1662664565,"answer_id":73654080,"question_id":73638868,"body_markdown":"I agree with the `@ExceptionHandler` solution proposed by Tim. I&#39;ve used the same approach in all my projects. \r\n\r\nBesides this, I can also recommend looking into the [Zalando Problem][1] library, which has out-of-the-box support for handling `ConstraintViolationException` and many others. It also provides a unified format of responses for the whole application with any necessary customizations. This is a simple guide that shows the basic examples of usage  [A Guide to the Problem Spring Web Library][2].\r\n\r\nRegarding your comment saying that assigning the 400 status will create a total mess because this exception may also be thrown on the repository level. I think that it&#39;s a bad practice to return to the client responses with DB-level exception messages or any other internal messages. It will be better to implement handlers for such exceptions by rethrowing problem-specific exceptions with clear messages. \r\n\r\nAnd even if you wouldn&#39;t consider doing that, why do you think that returning 400 status for `ConstraintViolationException` which was thrown on the repository level is a bad idea? Such exceptions usually mean that you have violated some DB constraint, which is just another type of validation. Such exceptions will always be caused by the incorrect data, supplied to the application by a client. Don&#39;t you think that it makes sense to treat such errors as bad requests?\r\n\r\n\r\n  [1]: https://github.com/zalando/problem\r\n  [2]: https://www.baeldung.com/problem-spring-web","title":"Springboot controller send 400 on validation error","body":"<p>I agree with the <code>@ExceptionHandler</code> solution proposed by Tim. I've used the same approach in all my projects.</p>\n<p>Besides this, I can also recommend looking into the <a href=\"https://github.com/zalando/problem\" rel=\"nofollow noreferrer\">Zalando Problem</a> library, which has out-of-the-box support for handling <code>ConstraintViolationException</code> and many others. It also provides a unified format of responses for the whole application with any necessary customizations. This is a simple guide that shows the basic examples of usage  <a href=\"https://www.baeldung.com/problem-spring-web\" rel=\"nofollow noreferrer\">A Guide to the Problem Spring Web Library</a>.</p>\n<p>Regarding your comment saying that assigning the 400 status will create a total mess because this exception may also be thrown on the repository level. I think that it's a bad practice to return to the client responses with DB-level exception messages or any other internal messages. It will be better to implement handlers for such exceptions by rethrowing problem-specific exceptions with clear messages.</p>\n<p>And even if you wouldn't consider doing that, why do you think that returning 400 status for <code>ConstraintViolationException</code> which was thrown on the repository level is a bad idea? Such exceptions usually mean that you have violated some DB constraint, which is just another type of validation. Such exceptions will always be caused by the incorrect data, supplied to the application by a client. Don't you think that it makes sense to treat such errors as bad requests?</p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662664565,"creation_date":1662568081,"question_id":73638868,"body_markdown":"I&#39;ve a very simple spring boot controller with param validation.\r\n\r\n    @GetMapping(value = &quot;/test/{p}&quot;)\r\n       @NonNull\r\n       public String test(@PathVariable(value = &quot;p&quot;, required = true) @Valid @Size(min = 2) String t) {\r\n    \r\n          return &quot;&quot;;\r\n       }\r\n\r\nif I send any string longer than 2 letters it returns 200, but if I send any 1 letter string it returns 500.\r\nI would like the return code for failed validation be 400 which makes much more sense... how can i set the status code for constraint validation fail on spring boot controller","title":"Springboot controller send 400 on validation error","body":"<p>I've a very simple spring boot controller with param validation.</p>\n<pre><code>@GetMapping(value = &quot;/test/{p}&quot;)\n   @NonNull\n   public String test(@PathVariable(value = &quot;p&quot;, required = true) @Valid @Size(min = 2) String t) {\n\n      return &quot;&quot;;\n   }\n</code></pre>\n<p>if I send any string longer than 2 letters it returns 200, but if I send any 1 letter string it returns 500.\nI would like the return code for failed validation be 400 which makes much more sense... how can i set the status code for constraint validation fail on spring boot controller</p>\n"},{"tags":["java","multithreading","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662664498,"creation_date":1662664498,"answer_id":73654073,"question_id":73653243,"body_markdown":"Found out `ExecutorServiceProvider` which can be injected directly in Jersey:\r\n\r\n    @Inject\r\n    private final ExecutorServiceProvider executorServiceProvider;\r\n\r\nThen\r\n   \r\n    ExecutorService executorService = executorServiceProvider.getExecutorService();","title":"Is there a common shared thread pool / executor in JAX-RS on server side?","body":"<p>Found out <code>ExecutorServiceProvider</code> which can be injected directly in Jersey:</p>\n<pre><code>@Inject\nprivate final ExecutorServiceProvider executorServiceProvider;\n</code></pre>\n<p>Then</p>\n<pre><code>ExecutorService executorService = executorServiceProvider.getExecutorService();\n</code></pre>\n"}],"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662664498,"creation_date":1662659494,"question_id":73653243,"body_markdown":"I have a JAX-RS service:\r\n\r\n    @GET\r\n    @Path(&quot;/foo&quot;)\r\n    /* ... */\r\n    public Response show() {\r\n      // Execute an async  task here\r\n    \r\n      return Response.ok().entity(result).build();\r\n    }\r\n\r\nI am aware we can create a thread pool service, or use the JVM `commonPool()`, but I wonder if there is an internal thread pool in JAX-RS standard or implementation (I use Jersey with Jetty) e.g. the thread pool for handling the requests?","title":"Is there a common shared thread pool / executor in JAX-RS on server side?","body":"<p>I have a JAX-RS service:</p>\n<pre><code>@GET\n@Path(&quot;/foo&quot;)\n/* ... */\npublic Response show() {\n  // Execute an async  task here\n\n  return Response.ok().entity(result).build();\n}\n</code></pre>\n<p>I am aware we can create a thread pool service, or use the JVM <code>commonPool()</code>, but I wonder if there is an internal thread pool in JAX-RS standard or implementation (I use Jersey with Jetty) e.g. the thread pool for handling the requests?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662664478,"creation_date":1662612036,"answer_id":73643819,"question_id":73638474,"body_markdown":"At least you need to extract domain name or base url from the request. Then, use that domain name to get the IP Address via Java&#39;s `InetAddress` class.\r\n\r\nCode :\r\n\r\n    @RequestMapping(&quot;/extract&quot;)\r\n\tpublic void extract(HttpServletRequest request) throws MalformedURLException {\r\n\t    String domainName = ServletUriComponentsBuilder.fromRequestUri(request)\r\n            .replacePath(null)\r\n            .build()\r\n            .toUriString();\r\n        InetAddress ip = InetAddress.getByName(new URL(domainName).getHost());\r\n        System.out.println(ip);\r\n\t}","title":"Get IP from specific URL in Spring Boot App","body":"<p>At least you need to extract domain name or base url from the request. Then, use that domain name to get the IP Address via Java's <code>InetAddress</code> class.</p>\n<p>Code :</p>\n<pre><code>@RequestMapping(&quot;/extract&quot;)\npublic void extract(HttpServletRequest request) throws MalformedURLException {\n    String domainName = ServletUriComponentsBuilder.fromRequestUri(request)\n        .replacePath(null)\n        .build()\n        .toUriString();\n    InetAddress ip = InetAddress.getByName(new URL(domainName).getHost());\n    System.out.println(ip);\n}\n</code></pre>\n"}],"owner":{"account_id":25712961,"reputation":13,"user_id":19471174,"display_name":"mrostamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73643819,"answer_count":1,"score":1,"last_activity_date":1662664478,"creation_date":1662566209,"question_id":73638474,"body_markdown":"I want to get IP address from domain name in Spring Boot App (not from request)\r\n\r\n\r\n\r\n    https://google.com ==&gt; 142.251.40.142","title":"Get IP from specific URL in Spring Boot App","body":"<p>I want to get IP address from domain name in Spring Boot App (not from request)</p>\n<pre><code>https://google.com ==&gt; 142.251.40.142\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1660815916,"post_id":73400789,"comment_id":129624029,"body_markdown":"Use a set instead of a list?","body":"Use a set instead of a list?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1660816009,"post_id":73400789,"comment_id":129624067,"body_markdown":"So you have a list of objects that can contain duplicates which you want to remove or merge?","body":"So you have a list of objects that can contain duplicates which you want to remove or merge?"},{"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"score":0,"creation_date":1660816085,"post_id":73400789,"comment_id":129624100,"body_markdown":"@Thomas merge by adding CurrencyUSD, ExccessAmount","body":"@Thomas merge by adding CurrencyUSD, ExccessAmount"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1660816237,"post_id":73400789,"comment_id":129624151,"body_markdown":"In that case try to create a set, implement `equals()` and hashcode()` appropriately (in `Author`) and run over the list: try to add the element as a copy (so you don&#39;t change the original ones - if you&#39;re ok with that you don&#39;t need a copy) and  if the element already exists add the values as needed instead of adding it. Just make sure the values that can change are not part of `equals()` and `hashcode()` - if you need them to be part of this, use a map and add a separate key class.","body":"In that case try to create a set, implement <code>equals()</code> and hashcode()` appropriately (in <code>Author</code>) and run over the list: try to add the element as a copy (so you don&#39;t change the original ones - if you&#39;re ok with that you don&#39;t need a copy) and  if the element already exists add the values as needed instead of adding it. Just make sure the values that can change are not part of <code>equals()</code> and <code>hashcode()</code> - if you need them to be part of this, use a map and add a separate key class."},{"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"score":0,"creation_date":1660816386,"post_id":73400789,"comment_id":129624217,"body_markdown":"@Thomas How can I do that","body":"@Thomas How can I do that"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1660816944,"post_id":73400789,"comment_id":129624417,"body_markdown":"How can you do what? Add `equals()` and `hashcode()`? Create a copy? Iterate and merge?","body":"How can you do what? Add <code>equals()</code> and <code>hashcode()</code>? Create a copy? Iterate and merge?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660818072,"creation_date":1660818072,"answer_id":73401357,"question_id":73400789,"body_markdown":"You were in the right track by grouping, just add a reducing collector:\r\n\r\n    Map&lt;String, Author&gt; mapList =\r\n            arrayListofObjects.stream()\r\n                              .collect(Collectors.groupingBy(authorObj -&gt; authorObj.getTransId() + &quot;_&quot; + authorObj.getCountryCode(),\r\n                                                             Collectors.reducing(new Author(&quot;&quot;, &quot;&quot;, 0, 0),\r\n                                                                                 (x,y) -&gt; {\r\n                                                                 y.setCurrencyUSD(y.currencyUSD + x.currencyUSD);\r\n                                                                 y.setExccessAmount(y.exccessAmount + x.exccessAmount);\r\n                                                                 return y;\r\n                                                             })));\r\n\r\n    final Collection&lt;Author&gt; aggregated = new ArrayList&lt;&gt;(mapList.values());","title":"Compare two Objects in a List and make it as one Object if any Duplicates","body":"<p>You were in the right track by grouping, just add a reducing collector:</p>\n<pre><code>Map&lt;String, Author&gt; mapList =\n        arrayListofObjects.stream()\n                          .collect(Collectors.groupingBy(authorObj -&gt; authorObj.getTransId() + &quot;_&quot; + authorObj.getCountryCode(),\n                                                         Collectors.reducing(new Author(&quot;&quot;, &quot;&quot;, 0, 0),\n                                                                             (x,y) -&gt; {\n                                                             y.setCurrencyUSD(y.currencyUSD + x.currencyUSD);\n                                                             y.setExccessAmount(y.exccessAmount + x.exccessAmount);\n                                                             return y;\n                                                         })));\n\nfinal Collection&lt;Author&gt; aggregated = new ArrayList&lt;&gt;(mapList.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660818949,"creation_date":1660818949,"answer_id":73401555,"question_id":73400789,"body_markdown":"Another way can be\r\n```\r\nList&lt;Author&gt; out = arrayListofObjects.stream()\r\n\t\t\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\t\t\tCollectors.toMap(e-&gt;e.getTransId()+e.getCountryCode(), Function.identity(), (a, b) -&gt; {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\ta.setCurrencyUSD(a.getCurrencyUSD()+b.getCurrencyUSD());\r\n\t\t\t\t\t\t\t\ta.setExccessAmount(a.getExccessAmount()+b.getExccessAmount());\r\n\t\t\t\t\t\t\treturn a;\r\n\t\t\t\t\t\t}), m -&gt; new ArrayList&lt;&gt;(m.values())));\r\nout.forEach(System.out::println);\r\n```","title":"Compare two Objects in a List and make it as one Object if any Duplicates","body":"<p>Another way can be</p>\n<pre><code>List&lt;Author&gt; out = arrayListofObjects.stream()\n                .collect(Collectors.collectingAndThen(\n                        Collectors.toMap(e-&gt;e.getTransId()+e.getCountryCode(), Function.identity(), (a, b) -&gt; {                         \n                                a.setCurrencyUSD(a.getCurrencyUSD()+b.getCurrencyUSD());\n                                a.setExccessAmount(a.getExccessAmount()+b.getExccessAmount());\n                            return a;\n                        }), m -&gt; new ArrayList&lt;&gt;(m.values())));\nout.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660823778,"creation_date":1660823297,"answer_id":73402566,"question_id":73400789,"body_markdown":"For comparison, I&#39;ll also add a version not using streams:\r\n         \r\n    //map of unquie authors based on transid and country code, keep order of authors as per the list\r\n    Map&lt;String, Author&gt; uniqueAuthors = new LinkedHashMap&lt;&gt;(); \r\n\r\n    //iterate over the incoming list of authors\r\n    for( Author author : arrayListofObjects ) {\r\n      //get the author based on &quot;&lt;transid&gt;_&lt;country_code&gt;&quot;\r\n      //if the author doesn&#39;t exist create a new copy using the incoming key and 0 values\r\n      Author uniqueAuthor = uniqueAuthors .computeIfAbsent(author.getTransId() + &quot;_&quot; + author.getCountryCode(),\r\n        key -&gt; new Author(author.getTransId(), author.getCountryCode(), 0,0 );\r\n\r\n      //add the currency into the unique author\r\n      uniqueAuthor.setCurrencyUSD(uniqueAuthor.getCurrencyUSD() + author.getCurrencyUSD());\r\n      //add the excess amount into the unique author\r\n      uniqueAuthor.setExccessAmount(uniqueAuthor.getExccessAmount() + author.getExccessAmount());\r\n    }\r\n\r\n    //create a list of unique authors that keeps the original ordering\r\n    List&lt;Author&gt; listOfUniqueAuthors = new ArrayList&lt;&gt;(uniqueAuthors.values());\r\n\r\nQuick description of this approach:\r\n\r\n- `LinkedHashMap` keeps the order of insertion and thus would help to get authors in the order in which they appeared in the original list (based on first appearance)\r\n- `computeIfAbsent()` executes the lambda if there is no value for the given key and adds it to the map, otherwise just returns the existing value\r\n- the lambda is used to create a new author with the same trans id and country code so we don&#39;t change the original elements\r\n- we add the values of the current author from the list into the unique author from the map - if this is a new copy we&#39;ll just add the values to 0","title":"Compare two Objects in a List and make it as one Object if any Duplicates","body":"<p>For comparison, I'll also add a version not using streams:</p>\n<pre><code>//map of unquie authors based on transid and country code, keep order of authors as per the list\nMap&lt;String, Author&gt; uniqueAuthors = new LinkedHashMap&lt;&gt;(); \n\n//iterate over the incoming list of authors\nfor( Author author : arrayListofObjects ) {\n  //get the author based on &quot;&lt;transid&gt;_&lt;country_code&gt;&quot;\n  //if the author doesn't exist create a new copy using the incoming key and 0 values\n  Author uniqueAuthor = uniqueAuthors .computeIfAbsent(author.getTransId() + &quot;_&quot; + author.getCountryCode(),\n    key -&gt; new Author(author.getTransId(), author.getCountryCode(), 0,0 );\n\n  //add the currency into the unique author\n  uniqueAuthor.setCurrencyUSD(uniqueAuthor.getCurrencyUSD() + author.getCurrencyUSD());\n  //add the excess amount into the unique author\n  uniqueAuthor.setExccessAmount(uniqueAuthor.getExccessAmount() + author.getExccessAmount());\n}\n\n//create a list of unique authors that keeps the original ordering\nList&lt;Author&gt; listOfUniqueAuthors = new ArrayList&lt;&gt;(uniqueAuthors.values());\n</code></pre>\n<p>Quick description of this approach:</p>\n<ul>\n<li><code>LinkedHashMap</code> keeps the order of insertion and thus would help to get authors in the order in which they appeared in the original list (based on first appearance)</li>\n<li><code>computeIfAbsent()</code> executes the lambda if there is no value for the given key and adds it to the map, otherwise just returns the existing value</li>\n<li>the lambda is used to create a new author with the same trans id and country code so we don't change the original elements</li>\n<li>we add the values of the current author from the list into the unique author from the map - if this is a new copy we'll just add the values to 0</li>\n</ul>\n"}],"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1662663605,"creation_date":1660815758,"question_id":73400789,"body_markdown":"I have ArrayList of objects \r\n\r\n    public static void prepareList() {\t\t\r\n\t\t\r\n\t\tAuthor a1 =new Author();\r\n\t\tAuthor a2 =new Author();\r\n\t\tAuthor a3 =new Author();\r\n\t\tAuthor a4 =new Author();\r\n\t\tAuthor a5 =new Author();\r\n\t\tAuthor a6 =new Author();\r\n\t\tAuthor a7 =new Author();\t\t\r\n\t\t\r\n\t\ta1.setTransId(&quot;1111111&quot;);\r\n\t\ta1.setCountryCode(&quot;US&quot;);\r\n\t\ta1.setCurrencyUSD(100000);\r\n\t\ta1.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta2.setTransId(&quot;1111111&quot;);\r\n\t\ta2.setCountryCode(&quot;US&quot;);\r\n\t\ta2.setCurrencyUSD(100000);\r\n\t\ta2.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta3.setTransId(&quot;1111111&quot;);\r\n\t\ta3.setCountryCode(&quot;IN&quot;);\r\n\t\ta3.setCurrencyUSD(100000);\r\n\t\ta3.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta4.setTransId(&quot;222222&quot;);\r\n\t\ta4.setCountryCode(&quot;US&quot;);\r\n\t\ta4.setCurrencyUSD(100000);\r\n\t\ta4.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta5.setTransId(&quot;222222&quot;);\r\n\t\ta5.setCountryCode(&quot;US&quot;);\r\n\t\ta5.setCurrencyUSD(100000);\r\n\t\ta5.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta6.setTransId(&quot;3333333&quot;);\r\n\t\ta6.setCountryCode(&quot;US&quot;);\r\n\t\ta6.setCurrencyUSD(100000);\r\n\t\ta6.setExccessAmount(1000.00);\r\n\t\t\r\n\t\ta7.setTransId(&quot;444444&quot;);\r\n\t\ta7.setCountryCode(&quot;US&quot;);\r\n\t\ta7.setCurrencyUSD(100000);\r\n\t\ta7.setExccessAmount(1000.00);\r\n\t\t\r\n\t\t\r\n\t\tCollection&lt;Author&gt; arrayListofObjects = new ArrayList&lt;Author&gt;();\r\n\r\n\t\tarrayListofObjects.add(a1);\r\n\t\tarrayListofObjects.add(a2);\r\n\t\tarrayListofObjects.add(a3);\r\n\t\tarrayListofObjects.add(a4);\r\n\t\tarrayListofObjects.add(a5);\r\n\t\tarrayListofObjects.add(a6);\r\n\t\tarrayListofObjects.add(a7);\r\n\t\t\r\n\t\tSystem.out.println(&quot;arrayListofObjects Size = &quot; + arrayListofObjects.size());\r\n\t\tMap&lt;String, List&lt;Author&gt;&gt; mapList = arrayListofObjects.stream().collect(Collectors.groupingBy(authorObj -&gt; authorObj.getTransId()+&quot;_&quot;+\r\n\t\t\t\tauthorObj.getCountryCode()));\r\n\t\tSystem.out.println(&quot;Map Size = &quot; + mapList.size());\r\n\t\tfor(Entry&lt;String, List&lt;Author&gt;&gt; listobj : mapList.entrySet()) {\r\n\t\t\tString key = listobj.getKey();\r\n\t\t\t//System.out.println(&quot;key = &quot; + key);\r\n\t\t\tList&lt;Author&gt; contraList = mapList.get(key);\r\n\t\t\t//System.out.println(&quot;contraList = &quot; + contraList.size());\r\n\t\t\t//TODO if the list size is &gt;1 then add CurrencyUSD and ExccessAmount, make as one object in that list (Size should be 1)\r\n\t\t\tif(contraList.size()&gt;1) {\r\n\t\t\t\tSystem.out.println(&quot;key = &quot; + key);\r\n                System.out.println(&quot;contraList = &quot; + contraList.size());\r\n\t\t\t}\r\n\t\t}\r\n\r\nHere a1,a2 and a4,a5 are having same TransId, CountryCode\r\nI want to make them one obj adding CurrencyUSD, ExccessAmount\r\nachieving less time consuming way as I will be dealing with large data. Maybe using comparator, Streams.\r\n\r\nI see one similar question but its time consuming not working as expected.\r\n","title":"Compare two Objects in a List and make it as one Object if any Duplicates","body":"<p>I have ArrayList of objects</p>\n<pre><code>public static void prepareList() {      \n    \n    Author a1 =new Author();\n    Author a2 =new Author();\n    Author a3 =new Author();\n    Author a4 =new Author();\n    Author a5 =new Author();\n    Author a6 =new Author();\n    Author a7 =new Author();        \n    \n    a1.setTransId(&quot;1111111&quot;);\n    a1.setCountryCode(&quot;US&quot;);\n    a1.setCurrencyUSD(100000);\n    a1.setExccessAmount(1000.00);\n    \n    a2.setTransId(&quot;1111111&quot;);\n    a2.setCountryCode(&quot;US&quot;);\n    a2.setCurrencyUSD(100000);\n    a2.setExccessAmount(1000.00);\n    \n    a3.setTransId(&quot;1111111&quot;);\n    a3.setCountryCode(&quot;IN&quot;);\n    a3.setCurrencyUSD(100000);\n    a3.setExccessAmount(1000.00);\n    \n    a4.setTransId(&quot;222222&quot;);\n    a4.setCountryCode(&quot;US&quot;);\n    a4.setCurrencyUSD(100000);\n    a4.setExccessAmount(1000.00);\n    \n    a5.setTransId(&quot;222222&quot;);\n    a5.setCountryCode(&quot;US&quot;);\n    a5.setCurrencyUSD(100000);\n    a5.setExccessAmount(1000.00);\n    \n    a6.setTransId(&quot;3333333&quot;);\n    a6.setCountryCode(&quot;US&quot;);\n    a6.setCurrencyUSD(100000);\n    a6.setExccessAmount(1000.00);\n    \n    a7.setTransId(&quot;444444&quot;);\n    a7.setCountryCode(&quot;US&quot;);\n    a7.setCurrencyUSD(100000);\n    a7.setExccessAmount(1000.00);\n    \n    \n    Collection&lt;Author&gt; arrayListofObjects = new ArrayList&lt;Author&gt;();\n\n    arrayListofObjects.add(a1);\n    arrayListofObjects.add(a2);\n    arrayListofObjects.add(a3);\n    arrayListofObjects.add(a4);\n    arrayListofObjects.add(a5);\n    arrayListofObjects.add(a6);\n    arrayListofObjects.add(a7);\n    \n    System.out.println(&quot;arrayListofObjects Size = &quot; + arrayListofObjects.size());\n    Map&lt;String, List&lt;Author&gt;&gt; mapList = arrayListofObjects.stream().collect(Collectors.groupingBy(authorObj -&gt; authorObj.getTransId()+&quot;_&quot;+\n            authorObj.getCountryCode()));\n    System.out.println(&quot;Map Size = &quot; + mapList.size());\n    for(Entry&lt;String, List&lt;Author&gt;&gt; listobj : mapList.entrySet()) {\n        String key = listobj.getKey();\n        //System.out.println(&quot;key = &quot; + key);\n        List&lt;Author&gt; contraList = mapList.get(key);\n        //System.out.println(&quot;contraList = &quot; + contraList.size());\n        //TODO if the list size is &gt;1 then add CurrencyUSD and ExccessAmount, make as one object in that list (Size should be 1)\n        if(contraList.size()&gt;1) {\n            System.out.println(&quot;key = &quot; + key);\n            System.out.println(&quot;contraList = &quot; + contraList.size());\n        }\n    }\n</code></pre>\n<p>Here a1,a2 and a4,a5 are having same TransId, CountryCode\nI want to make them one obj adding CurrencyUSD, ExccessAmount\nachieving less time consuming way as I will be dealing with large data. Maybe using comparator, Streams.</p>\n<p>I see one similar question but its time consuming not working as expected.</p>\n"},{"tags":["java","android-studio","datepicker","android-datepicker"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1662660858,"post_id":73653214,"comment_id":130063492,"body_markdown":"Why are you forming a date  string and then parse it to obtain a `LocalDate`? You can directly use `LocalDate.of(year, month, dayOfMonth)`.","body":"Why are you forming a date  string and then parse it to obtain a <code>LocalDate</code>? You can directly use <code>LocalDate.of(year, month, dayOfMonth)</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1662662413,"post_id":73653214,"comment_id":130063970,"body_markdown":"And why do you do `monthOfYear + 1`?","body":"And why do you do <code>monthOfYear + 1</code>?"},{"owner":{"account_id":25948834,"reputation":13,"user_id":19667185,"display_name":"quinten"},"score":0,"creation_date":1662668989,"post_id":73653214,"comment_id":130065790,"body_markdown":"Thanks! ```LocalDate.of(year, month, dayOfMonth)``` tis fixed it.","body":"Thanks! <code>LocalDate.of(year, month, dayOfMonth)</code> tis fixed it."},{"owner":{"account_id":25948834,"reputation":13,"user_id":19667185,"display_name":"quinten"},"score":0,"creation_date":1662669086,"post_id":73653214,"comment_id":130065818,"body_markdown":"And if I dont add the +1 and -1, the datapicker gets the worng moth. Maybe it starts counting on 0.","body":"And if I dont add the +1 and -1, the datapicker gets the worng moth. Maybe it starts counting on 0."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1662672067,"post_id":73653214,"comment_id":130066558,"body_markdown":"I see. That +1 and -1 is for compatibility reasons (with `Calendar.MONTH`).","body":"I see. That +1 and -1 is for compatibility reasons (with <code>Calendar.MONTH</code>)."}],"owner":{"account_id":25948834,"reputation":13,"user_id":19667185,"display_name":"quinten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662663360,"creation_date":1662659317,"question_id":73653214,"body_markdown":"I&#39;m working on a project where I want to make an app which has some kind of calendar.\r\n\r\nBecause I think a datepicker is a handy tool, I want to uses this. When the date is picked, the ```CalendarUtils.selectedDate``` has to change to in order to change the week view. To let this work, I have to make a ```LocalDate``` from a ```string``` (output datepicker).\r\n\r\nUnfortunately my app only makes it 50% of the times when the datepicker is used. Sometimes it works, sometimes it doesn&#39;t. I&#39;m fairy certain it has something to do with this line\r\n\r\n```\r\nLocalDate localDate = LocalDate.parse(date_string, formatter);\r\n```\r\n\r\nbecause when I just use a string to display the date (and skip the updating weekview) it works all the time.\r\n\r\nSomeone who can help me or know a way to bypass this problem?\r\n\r\nMy code:\r\n\r\n```\r\npackage codewithcal.au.calendarappexample;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.app.DatePickerDialog;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\n\r\nimport static codewithcal.au.calendarappexample.CalendarUtils.daysInWeekArray;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.LocalDateTime;\r\n\r\n\r\npublic class WeekViewActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener\r\n{\r\n    private TextView monthYearText;\r\n    private RecyclerView calendarRecyclerView;\r\n    private ListView eventListView;\r\n    TextView dateView;\r\n    DatePickerDialog picker;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_week_view);\r\n        initWidgets();\r\n        CalendarUtils.selectedDate = LocalDate.now();\r\n        setWeekView();\r\n\r\n        // datepicker\r\n\r\n        dateView = findViewById(R.id.monthYearTV);\r\n        dateView.setOnClickListener(v -&gt; {\r\n            picker = new DatePickerDialog(WeekViewActivity.this,\r\n                    (view, year, monthOfYear, dayOfMonth) -&gt; {\r\n                        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n                        String date_string = dayOfMonth + &quot;/&quot; + (monthOfYear + 1) + &quot;/&quot; + year;\r\n                        LocalDate localDate = LocalDate.parse(date_string, formatter);\r\n                        CalendarUtils.selectedDate = localDate;\r\n                        setWeekView();\r\n                        dateView.setText(localDate.format(formatter));\r\n                    }, CalendarUtils.selectedDate.getYear(), CalendarUtils.selectedDate.getMonthValue()-1, CalendarUtils.selectedDate.getDayOfMonth());\r\n            picker.show();\r\n        });\r\n    }\r\n\r\n    private void initWidgets()\r\n    {\r\n        calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\r\n        monthYearText = findViewById(R.id.monthYearTV);\r\n        eventListView = findViewById(R.id.eventListView);\r\n    }\r\n\r\n    private void setWeekView()\r\n    {\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        LocalDateTime now = LocalDateTime.now();\r\n        monthYearText.setText(dtf.format(now));\r\n        ArrayList&lt;LocalDate&gt; days = daysInWeekArray(CalendarUtils.selectedDate);\r\n\r\n        CalendarAdapter calendarAdapter = new CalendarAdapter(days, this);\r\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\r\n        calendarRecyclerView.setLayoutManager(layoutManager);\r\n        calendarRecyclerView.setAdapter(calendarAdapter);\r\n        setEventAdpater();\r\n    }\r\n\r\n\r\n    public void previousWeekAction(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusWeeks(1);\r\n        setWeekView();\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        monthYearText.setText(dtf.format(CalendarUtils.selectedDate));\r\n    }\r\n\r\n    public void nextWeekAction(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusWeeks(1);\r\n        setWeekView();\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        monthYearText.setText(dtf.format(CalendarUtils.selectedDate));\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(int position, LocalDate date)\r\n    {\r\n        CalendarUtils.selectedDate = date;\r\n        setWeekView();\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n        monthYearText.setText(dtf.format(date));\r\n    }\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n        setEventAdpater();\r\n    }\r\n\r\n    private void setEventAdpater()\r\n    {\r\n        ArrayList&lt;Event&gt; dailyEvents = Event.eventsForDate(CalendarUtils.selectedDate);\r\n        EventAdapter eventAdapter = new EventAdapter(getApplicationContext(), dailyEvents);\r\n        eventListView.setAdapter(eventAdapter);\r\n    }\r\n\r\n    public void newEventAction(View view)\r\n    {\r\n        startActivity(new Intent(this, EventEditActivity.class));\r\n    }\r\n}\r\n```\r\n```\r\npackage codewithcal.au.calendarappexample;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.List;\r\n\r\npublic class EventAdapter extends ArrayAdapter&lt;Event&gt;\r\n{\r\n    public EventAdapter(@NonNull Context context, List&lt;Event&gt; events)\r\n    {\r\n        super(context, 0, events);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent)\r\n    {\r\n        Event event = getItem(position);\r\n\r\n        if (convertView == null)\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.event_cell, parent, false);\r\n\r\n        TextView eventCellTV = convertView.findViewById(R.id.eventCellTV);\r\n\r\n        String eventTitle = event.getName() +&quot; &quot;+ CalendarUtils.formattedTime(event.getTime());\r\n        eventCellTV.setText(eventTitle);\r\n        return convertView;\r\n    }\r\n}\r\n```\r\n\r\nA screen from how the interface looks:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/29uzZ.png","title":"DatePickerDialog and LocalDate.parse crashes app in Android Studio","body":"<p>I'm working on a project where I want to make an app which has some kind of calendar.</p>\n<p>Because I think a datepicker is a handy tool, I want to uses this. When the date is picked, the <code>CalendarUtils.selectedDate</code> has to change to in order to change the week view. To let this work, I have to make a <code>LocalDate</code> from a <code>string</code> (output datepicker).</p>\n<p>Unfortunately my app only makes it 50% of the times when the datepicker is used. Sometimes it works, sometimes it doesn't. I'm fairy certain it has something to do with this line</p>\n<pre><code>LocalDate localDate = LocalDate.parse(date_string, formatter);\n</code></pre>\n<p>because when I just use a string to display the date (and skip the updating weekview) it works all the time.</p>\n<p>Someone who can help me or know a way to bypass this problem?</p>\n<p>My code:</p>\n<pre><code>package codewithcal.au.calendarappexample;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.app.DatePickerDialog;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\n\nimport static codewithcal.au.calendarappexample.CalendarUtils.daysInWeekArray;\nimport java.time.format.DateTimeFormatter;\nimport java.time.LocalDateTime;\n\n\npublic class WeekViewActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener\n{\n    private TextView monthYearText;\n    private RecyclerView calendarRecyclerView;\n    private ListView eventListView;\n    TextView dateView;\n    DatePickerDialog picker;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_week_view);\n        initWidgets();\n        CalendarUtils.selectedDate = LocalDate.now();\n        setWeekView();\n\n        // datepicker\n\n        dateView = findViewById(R.id.monthYearTV);\n        dateView.setOnClickListener(v -&gt; {\n            picker = new DatePickerDialog(WeekViewActivity.this,\n                    (view, year, monthOfYear, dayOfMonth) -&gt; {\n                        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n                        String date_string = dayOfMonth + &quot;/&quot; + (monthOfYear + 1) + &quot;/&quot; + year;\n                        LocalDate localDate = LocalDate.parse(date_string, formatter);\n                        CalendarUtils.selectedDate = localDate;\n                        setWeekView();\n                        dateView.setText(localDate.format(formatter));\n                    }, CalendarUtils.selectedDate.getYear(), CalendarUtils.selectedDate.getMonthValue()-1, CalendarUtils.selectedDate.getDayOfMonth());\n            picker.show();\n        });\n    }\n\n    private void initWidgets()\n    {\n        calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\n        monthYearText = findViewById(R.id.monthYearTV);\n        eventListView = findViewById(R.id.eventListView);\n    }\n\n    private void setWeekView()\n    {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        LocalDateTime now = LocalDateTime.now();\n        monthYearText.setText(dtf.format(now));\n        ArrayList&lt;LocalDate&gt; days = daysInWeekArray(CalendarUtils.selectedDate);\n\n        CalendarAdapter calendarAdapter = new CalendarAdapter(days, this);\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\n        calendarRecyclerView.setLayoutManager(layoutManager);\n        calendarRecyclerView.setAdapter(calendarAdapter);\n        setEventAdpater();\n    }\n\n\n    public void previousWeekAction(View view)\n    {\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusWeeks(1);\n        setWeekView();\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        monthYearText.setText(dtf.format(CalendarUtils.selectedDate));\n    }\n\n    public void nextWeekAction(View view)\n    {\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusWeeks(1);\n        setWeekView();\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        monthYearText.setText(dtf.format(CalendarUtils.selectedDate));\n    }\n\n    @Override\n    public void onItemClick(int position, LocalDate date)\n    {\n        CalendarUtils.selectedDate = date;\n        setWeekView();\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n        monthYearText.setText(dtf.format(date));\n    }\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        setEventAdpater();\n    }\n\n    private void setEventAdpater()\n    {\n        ArrayList&lt;Event&gt; dailyEvents = Event.eventsForDate(CalendarUtils.selectedDate);\n        EventAdapter eventAdapter = new EventAdapter(getApplicationContext(), dailyEvents);\n        eventListView.setAdapter(eventAdapter);\n    }\n\n    public void newEventAction(View view)\n    {\n        startActivity(new Intent(this, EventEditActivity.class));\n    }\n}\n</code></pre>\n<pre><code>package codewithcal.au.calendarappexample;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.List;\n\npublic class EventAdapter extends ArrayAdapter&lt;Event&gt;\n{\n    public EventAdapter(@NonNull Context context, List&lt;Event&gt; events)\n    {\n        super(context, 0, events);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent)\n    {\n        Event event = getItem(position);\n\n        if (convertView == null)\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.event_cell, parent, false);\n\n        TextView eventCellTV = convertView.findViewById(R.id.eventCellTV);\n\n        String eventTitle = event.getName() +&quot; &quot;+ CalendarUtils.formattedTime(event.getTime());\n        eventCellTV.setText(eventTitle);\n        return convertView;\n    }\n}\n</code></pre>\n<p>A screen from how the interface looks:</p>\n<p><a href=\"https://i.stack.imgur.com/29uzZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/29uzZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662663079,"creation_date":1662650788,"answer_id":73651585,"question_id":73650518,"body_markdown":"See theory about an Aggregator pattern in the EIP book: https://www.enterpriseintegrationpatterns.com/patterns/messaging/Aggregator.html.\r\n\r\nThen take a look into its implementation in Spring Integration: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator.\r\n\r\nIndeed a correlation details is important info to determine that some messages belong to the same group to emit a single aggregated message for them.\r\n\r\nExactly this approach is done in the Scatter Gather as well: when we distribute message for recipient, we populate the mentioned headers into its copies for every recipient. The aggregator will gather replies and correlate them to group according to their correlation details headers.\r\n\r\nThere is no guarantee in which order replies come to the aggregator, but you can add an `outputProcessor(MessageGroupProcessor outputProcessor)` option to sort messages in the group whatever way you need. This callback happens before the output message is emitted.\r\n\r\n**UPDATE**\r\n\r\nThank you for sharing the code! Now it makes it more cleaner.\r\n\r\nSo, you have two levels of correlation: splitter-aggregator in the begging and in the end of flow. And then scatter-gather in the middle. This is correct that you see a single message with a list of payloads in the final aggregator: just because you use a default strategy for that `gatherer`. What I suggested to do is to use a custom group processor exactly on the `gatherer`. All the logic I explained you in comment is exactly for that level, but you misled me to an aggregator I didn&#39;t know until now. When you look into that custom processor on the gatherer, you&#39;ll see 3 messages in a group and there you can sort them respectively by their `sequenceNumber`.","title":"What is correlationId and sequenceNumber and what role it plays to aggregation?","body":"<p>See theory about an Aggregator pattern in the EIP book: <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/Aggregator.html\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/patterns/messaging/Aggregator.html</a>.</p>\n<p>Then take a look into its implementation in Spring Integration: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator</a>.</p>\n<p>Indeed a correlation details is important info to determine that some messages belong to the same group to emit a single aggregated message for them.</p>\n<p>Exactly this approach is done in the Scatter Gather as well: when we distribute message for recipient, we populate the mentioned headers into its copies for every recipient. The aggregator will gather replies and correlate them to group according to their correlation details headers.</p>\n<p>There is no guarantee in which order replies come to the aggregator, but you can add an <code>outputProcessor(MessageGroupProcessor outputProcessor)</code> option to sort messages in the group whatever way you need. This callback happens before the output message is emitted.</p>\n<p><strong>UPDATE</strong></p>\n<p>Thank you for sharing the code! Now it makes it more cleaner.</p>\n<p>So, you have two levels of correlation: splitter-aggregator in the begging and in the end of flow. And then scatter-gather in the middle. This is correct that you see a single message with a list of payloads in the final aggregator: just because you use a default strategy for that <code>gatherer</code>. What I suggested to do is to use a custom group processor exactly on the <code>gatherer</code>. All the logic I explained you in comment is exactly for that level, but you misled me to an aggregator I didn't know until now. When you look into that custom processor on the gatherer, you'll see 3 messages in a group and there you can sort them respectively by their <code>sequenceNumber</code>.</p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73651585,"answer_count":1,"score":0,"last_activity_date":1662663079,"creation_date":1662646355,"question_id":73650518,"body_markdown":"I&#39;m using scatter gather pattern which uses three parallel flows. I can see the aggregated groupMessage consists of the responses coming in order of which comes first. Can I change the index of the messages that are grouped together in aggregate() method by using correlationId and sequenceNumber?\r\n\r\n \r\n\r\n     public IntegrationFlow flow() {\r\n        return flow -&gt;\r\n                .split()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2())\r\n                            .recipientFlow(flow3()),\r\n                    gatherer -&gt; gatherer.releaseLockBeforeSend(true))\r\n                .log(&quot;Gatherer&quot;)\r\n                .aggregate(aggregatingAndFormingRequestForFlow4())\r\n                .to(flow4())\r\n\r\n    public MessageGroupProcessor aggregatingAndFormingRequestForFlow4() {\r\n        return group -&gt; {\r\n             System.out.println(&quot;Get Messages: &quot; + group.getMessages())\r\n      // here I need to send three responses as arguments to do further processing but as group is a list in the runtime I don&#39;t know the index       \r\n             prepareRequest()\r\n    /// }\r\n\r\nHere if I see the log : \r\n\r\n    INFO [pool-12-thread-1]Gatherer:GenericMessage [payload=[response from flow1, response from flow2, response from flow3 ], headers={sequenceNumber=1, sequenceDetails=[[f4da9a6f-f27d-91ac-cbef-5106eb614d62, 1, 1]], errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0, sequenceSize=1, replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0,correlationId=f4da9a6f-f27d-91ac-cbef-5106eb614d62, id=378f5406-ce9e-19fb-c909-5d5c7c4093c0, timestamp=1662660858032}]\r\n\r\n    Get Messages: [payload=[response from flow1, response from flow2, response from flow3 ], headers={sequenceNumber=1, sequenceDetails=[[f4da9a6f-f27d-91ac-cbef-5106eb614d62, 1, 1]], errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0, sequenceSize=1, replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0,correlationId=f4da9a6f-f27d-91ac-cbef-5106eb614d62, id=378f5406-ce9e-19fb-c909-5d5c7c4093c0, timestamp=1662660858032}]\r\n\r\n\r\nu can see the log it&#39;s an array of three responses combined.\r\n\r\n\r\n","title":"What is correlationId and sequenceNumber and what role it plays to aggregation?","body":"<p>I'm using scatter gather pattern which uses three parallel flows. I can see the aggregated groupMessage consists of the responses coming in order of which comes first. Can I change the index of the messages that are grouped together in aggregate() method by using correlationId and sequenceNumber?</p>\n<pre><code> public IntegrationFlow flow() {\n    return flow -&gt;\n            .split()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2())\n                        .recipientFlow(flow3()),\n                gatherer -&gt; gatherer.releaseLockBeforeSend(true))\n            .log(&quot;Gatherer&quot;)\n            .aggregate(aggregatingAndFormingRequestForFlow4())\n            .to(flow4())\n\npublic MessageGroupProcessor aggregatingAndFormingRequestForFlow4() {\n    return group -&gt; {\n         System.out.println(&quot;Get Messages: &quot; + group.getMessages())\n  // here I need to send three responses as arguments to do further processing but as group is a list in the runtime I don't know the index       \n         prepareRequest()\n/// }\n</code></pre>\n<p>Here if I see the log :</p>\n<pre><code>INFO [pool-12-thread-1]Gatherer:GenericMessage [payload=[response from flow1, response from flow2, response from flow3 ], headers={sequenceNumber=1, sequenceDetails=[[f4da9a6f-f27d-91ac-cbef-5106eb614d62, 1, 1]], errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0, sequenceSize=1, replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0,correlationId=f4da9a6f-f27d-91ac-cbef-5106eb614d62, id=378f5406-ce9e-19fb-c909-5d5c7c4093c0, timestamp=1662660858032}]\n\nGet Messages: [payload=[response from flow1, response from flow2, response from flow3 ], headers={sequenceNumber=1, sequenceDetails=[[f4da9a6f-f27d-91ac-cbef-5106eb614d62, 1, 1]], errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0, sequenceSize=1, replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@1b6efbf0,correlationId=f4da9a6f-f27d-91ac-cbef-5106eb614d62, id=378f5406-ce9e-19fb-c909-5d5c7c4093c0, timestamp=1662660858032}]\n</code></pre>\n<p>u can see the log it's an array of three responses combined.</p>\n"},{"tags":["java","spring","unit-testing","junit","jersey"],"answers":[{"tags":[],"owner":{"account_id":431239,"reputation":486,"user_id":815168,"display_name":"Grigoris Grigoriadis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1404224671,"creation_date":1404224671,"answer_id":24512682,"question_id":24509754,"body_markdown":"After debugging the jersey-spring3 (version 2.9.1) library it seems that the problem lies in the SpringComponentProvider.createSpringContext\r\n\r\n    private ApplicationContext createSpringContext() {\r\n        ApplicationHandler applicationHandler = locator.getService(ApplicationHandler.class);\r\n        ApplicationContext springContext = (ApplicationContext) applicationHandler.getConfiguration().getProperty(PARAM_SPRING_CONTEXT);\r\n        if (springContext == null) {\r\n            String contextConfigLocation = (String) applicationHandler.getConfiguration().getProperty(PARAM_CONTEXT_CONFIG_LOCATION);\r\n            springContext = createXmlSpringConfiguration(contextConfigLocation);\r\n        }\r\n        return springContext;\r\n    }\r\n\r\nIt checks if a property named &quot;contextConfig&quot; exists in the application properties and if not it initializes the spring application context.\r\nEven if you initialized a spring application context in your tests, jersey will create another context and use that one instead. So we have to somehow pass the ApplicationContext from our tests in the Jersey Application class. The solution is the following:\r\n \r\n    @ContextConfiguration(locations = &quot;classpath:jersey-spring-applicationContext.xml&quot;)\r\n    public abstract class JerseySpringTest\r\n    {\r\n        private JerseyTest _jerseyTest;\r\n\r\n        public final WebTarget target(final String path)\r\n        {\r\n            return _jerseyTest.target(path);\r\n        }\r\n\r\n        @Before\r\n        public void setup() throws Exception\r\n        {\r\n            _jerseyTest.setUp();\r\n        }\r\n\r\n        @After\r\n        public void tearDown() throws Exception\r\n        {\r\n            _jerseyTest.tearDown();\r\n        }\r\n\r\n        @Autowired\r\n        public void setApplicationContext(final ApplicationContext context)\r\n        {\r\n            _jerseyTest = new JerseyTest()\r\n            {\r\n                @Override\r\n                protected Application configure()\r\n                {\r\n                    ResourceConfig application = JerseySpringTest.this.configure();\r\n                    application.property(&quot;contextConfig&quot;, context);\r\n    \r\n                    return application;\r\n                }\r\n            };\r\n        }\r\n\r\n        protected abstract ResourceConfig configure();\r\n    }\r\n\r\nThe above class will take the application context from our tests and pass it to the configured ResourceConfig, so that the SpringComponentProvider will return the same application context to jersey. We also use the jersey-spring-applicationContext.xml in order to include jersey specific spring configuration. \r\n\r\n*We cannot inherit from JerseyTest because it initializes the Application in the constructor before the test application context is initialized.*\r\n\r\nYou can now use this base class to create your tests for example\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;classpath:testContext.xml&quot;)\r\n    public class SomeTest extends JerseySpringTest\r\n    {\r\n         @Autowired\r\n         private AObject _aObject;\r\n\r\n         @Test\r\n         public void test()\r\n         {\r\n              // configure mock _aObject when(_aObject.method()).thenReturn() etc...\r\n\r\n             Response response = target(&quot;api/method&quot;).request(MediaType.APPLICATION_JSON).get();\r\n             Assert.assertEquals(Response.Status.OK.getStatusCode(), response.getStatus());\r\n         }\r\n\r\n         @Override\r\n         protected ResourceConfig configure()\r\n         {\r\n            return new ResourceConfig(MyResource.class);\r\n         }\r\n    }\r\n\r\nIn testContext.xml add the following definition in order to inject a mock AObject.\r\n\r\n    &lt;bean class=&quot;org.mockito.Mockito&quot; factory-method=&quot;mock&quot;&gt;\r\n        &lt;constructor-arg value=&quot;com.yourcompany.AObject&quot; /&gt;\r\n    &lt;/bean&gt;","title":"Force Jersey to read mocks from JerseyTest","body":"<p>After debugging the jersey-spring3 (version 2.9.1) library it seems that the problem lies in the SpringComponentProvider.createSpringContext</p>\n\n<pre><code>private ApplicationContext createSpringContext() {\n    ApplicationHandler applicationHandler = locator.getService(ApplicationHandler.class);\n    ApplicationContext springContext = (ApplicationContext) applicationHandler.getConfiguration().getProperty(PARAM_SPRING_CONTEXT);\n    if (springContext == null) {\n        String contextConfigLocation = (String) applicationHandler.getConfiguration().getProperty(PARAM_CONTEXT_CONFIG_LOCATION);\n        springContext = createXmlSpringConfiguration(contextConfigLocation);\n    }\n    return springContext;\n}\n</code></pre>\n\n<p>It checks if a property named \"contextConfig\" exists in the application properties and if not it initializes the spring application context.\nEven if you initialized a spring application context in your tests, jersey will create another context and use that one instead. So we have to somehow pass the ApplicationContext from our tests in the Jersey Application class. The solution is the following:</p>\n\n<pre><code>@ContextConfiguration(locations = \"classpath:jersey-spring-applicationContext.xml\")\npublic abstract class JerseySpringTest\n{\n    private JerseyTest _jerseyTest;\n\n    public final WebTarget target(final String path)\n    {\n        return _jerseyTest.target(path);\n    }\n\n    @Before\n    public void setup() throws Exception\n    {\n        _jerseyTest.setUp();\n    }\n\n    @After\n    public void tearDown() throws Exception\n    {\n        _jerseyTest.tearDown();\n    }\n\n    @Autowired\n    public void setApplicationContext(final ApplicationContext context)\n    {\n        _jerseyTest = new JerseyTest()\n        {\n            @Override\n            protected Application configure()\n            {\n                ResourceConfig application = JerseySpringTest.this.configure();\n                application.property(\"contextConfig\", context);\n\n                return application;\n            }\n        };\n    }\n\n    protected abstract ResourceConfig configure();\n}\n</code></pre>\n\n<p>The above class will take the application context from our tests and pass it to the configured ResourceConfig, so that the SpringComponentProvider will return the same application context to jersey. We also use the jersey-spring-applicationContext.xml in order to include jersey specific spring configuration. </p>\n\n<p><em>We cannot inherit from JerseyTest because it initializes the Application in the constructor before the test application context is initialized.</em></p>\n\n<p>You can now use this base class to create your tests for example</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = \"classpath:testContext.xml\")\npublic class SomeTest extends JerseySpringTest\n{\n     @Autowired\n     private AObject _aObject;\n\n     @Test\n     public void test()\n     {\n          // configure mock _aObject when(_aObject.method()).thenReturn() etc...\n\n         Response response = target(\"api/method\").request(MediaType.APPLICATION_JSON).get();\n         Assert.assertEquals(Response.Status.OK.getStatusCode(), response.getStatus());\n     }\n\n     @Override\n     protected ResourceConfig configure()\n     {\n        return new ResourceConfig(MyResource.class);\n     }\n}\n</code></pre>\n\n<p>In testContext.xml add the following definition in order to inject a mock AObject.</p>\n\n<pre><code>&lt;bean class=\"org.mockito.Mockito\" factory-method=\"mock\"&gt;\n    &lt;constructor-arg value=\"com.yourcompany.AObject\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52362,"reputation":11550,"user_id":156477,"accept_rate":81,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479133757,"creation_date":1479133757,"answer_id":40591082,"question_id":24509754,"body_markdown":"I couldn&#39;t get the answer https://stackoverflow.com/a/24512682/156477 from @Grigoris working, although his explanation for why it is happening is correct.\r\n\r\nIn the end I went for the approach below which exposes a special setter to insert the mock object. Not as &#39;clean&#39; as the approach above, but worth the tradeoff of exposing the apiProvider I wanted to mock so I could write some tests..\r\n\r\n\r\n    public MyAPITest extends JerseyTest {\r\n\r\n        // Declare instance of the API I want to test - this will be instantiated in configure()\r\n        MyAPI myAPI;\r\n\r\n        @Override\r\n        protected ResourceConfig configure()\r\n        {  \r\n            MockitoAnnotations.initMocks(this);\r\n            myAPI = new MyAPI();\r\n\r\n            ResourceConfig resourceConfig = new ResourceConfig();\r\n            resourceConfig.register(MyAPI).property(&quot;contextConfig&quot;, new ClassPathXmlApplicationContext(&quot;classpath:spring.testHarnessContext.xml&quot;));\r\n            return resourceConfig;\r\n        }\r\n\r\n        @Mock\r\n        private MyAPIProvider mockAPIProvider;\r\n\r\n        @Before\r\n        public void before() {\r\n            myAPI.setMockProvider(mockAPIProvider);\r\n        }\r\n\r\n\r\n        @Test\r\n        public void test() {\r\n\r\n            // I can now define the mock behaviours and call the API and validate the outcomes\r\n            when(mockAPIProvider....)\r\n            target().path(&quot;....)            \r\n        }\r\n    }","title":"Force Jersey to read mocks from JerseyTest","body":"<p>I couldn't get the answer <a href=\"https://stackoverflow.com/a/24512682/156477\">https://stackoverflow.com/a/24512682/156477</a> from @Grigoris working, although his explanation for why it is happening is correct.</p>\n\n<p>In the end I went for the approach below which exposes a special setter to insert the mock object. Not as 'clean' as the approach above, but worth the tradeoff of exposing the apiProvider I wanted to mock so I could write some tests..</p>\n\n<pre><code>public MyAPITest extends JerseyTest {\n\n    // Declare instance of the API I want to test - this will be instantiated in configure()\n    MyAPI myAPI;\n\n    @Override\n    protected ResourceConfig configure()\n    {  \n        MockitoAnnotations.initMocks(this);\n        myAPI = new MyAPI();\n\n        ResourceConfig resourceConfig = new ResourceConfig();\n        resourceConfig.register(MyAPI).property(\"contextConfig\", new ClassPathXmlApplicationContext(\"classpath:spring.testHarnessContext.xml\"));\n        return resourceConfig;\n    }\n\n    @Mock\n    private MyAPIProvider mockAPIProvider;\n\n    @Before\n    public void before() {\n        myAPI.setMockProvider(mockAPIProvider);\n    }\n\n\n    @Test\n    public void test() {\n\n        // I can now define the mock behaviours and call the API and validate the outcomes\n        when(mockAPIProvider....)\n        target().path(\"....)            \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299934,"reputation":602,"user_id":4894900,"display_name":"VincentS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519286716,"creation_date":1519286716,"answer_id":48922350,"question_id":24509754,"body_markdown":"If anyone is interested in the solution https://stackoverflow.com/a/40591082/4894900 from Kevin for Jersey v1:\r\n\r\n\r\n    public MyAPITest extends JerseyTest {\r\n\r\n        @InjectMocks\r\n        MyAPI myAPI;\r\n\r\n        @Mock\r\n        MyApiService myApiService;\r\n\r\n        @Override\r\n        protected AppDescriptorconfigure()\r\n        {  \r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            ResourceConfig rc = new DefaultResourceConfig();\r\n            rc.getSingletons().add(myAPI);\r\n\r\n            return new LowLevelAppDescriptor.Builder(rc).contextPath(&quot;context&quot;).build();\r\n        }\r\n\r\n        @Test\r\n        public void test() {\r\n            // I can now define the mock behaviours\r\n            when(myApiService...)\r\n\r\n            WebResource webResource = resource().path(&quot;mypath&quot;);\r\n            ClientResponse result = webResource.get(ClientResponse.class);            \r\n        }\r\n    }","title":"Force Jersey to read mocks from JerseyTest","body":"<p>If anyone is interested in the solution <a href=\"https://stackoverflow.com/a/40591082/4894900\">https://stackoverflow.com/a/40591082/4894900</a> from Kevin for Jersey v1:</p>\n\n<pre><code>public MyAPITest extends JerseyTest {\n\n    @InjectMocks\n    MyAPI myAPI;\n\n    @Mock\n    MyApiService myApiService;\n\n    @Override\n    protected AppDescriptorconfigure()\n    {  \n        MockitoAnnotations.initMocks(this);\n\n        ResourceConfig rc = new DefaultResourceConfig();\n        rc.getSingletons().add(myAPI);\n\n        return new LowLevelAppDescriptor.Builder(rc).contextPath(\"context\").build();\n    }\n\n    @Test\n    public void test() {\n        // I can now define the mock behaviours\n        when(myApiService...)\n\n        WebResource webResource = resource().path(\"mypath\");\n        ClientResponse result = webResource.get(ClientResponse.class);            \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662662859,"creation_date":1660888817,"answer_id":73412434,"question_id":24509754,"body_markdown":"Further improvising the accepted solution by removing xml dependency. More details available [here](https://amithkumarg.medium.com/jerseytest-with-spring-and-mockito-mimics-spring-slice-testing-with-webmvctest-and-mockbean-18cf3476faa2).\r\n\r\n***JerseySpringTest abstracting JerseyTest***:\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import org.apache.commons.collections4.CollectionUtils;\r\n    import org.apache.commons.collections4.MapUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.glassfish.jersey.logging.LoggingFeature;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.test.JerseyTest;\r\n    import org.glassfish.jersey.test.TestProperties;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.springframework.beans.factory.support.DefaultListableBeanFactory;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.GenericApplicationContext;\r\n    \r\n    /** Run JerseyTest with custom spring context with mocks Mimics Spring @WebMvcTest with @MockBean */\r\n    public abstract class JerseySpringTest extends JerseyTest {\r\n    \r\n      @Override\r\n      protected ResourceConfig configure() {\r\n        MockitoAnnotations.openMocks(this);\r\n        enable(TestProperties.LOG_TRAFFIC);\r\n        enable(TestProperties.DUMP_ENTITY);\r\n        set(TestProperties.CONTAINER_PORT, &quot;0&quot;);\r\n        final ResourceConfig resourceConfig =\r\n            new ResourceConfig()\r\n                .property(&quot;contextConfig&quot;, createSpringContext(getBeanMap()))\r\n                .property(LoggingFeature.LOGGING_FEATURE_LOGGER_LEVEL_SERVER, &quot;WARNING&quot;)\r\n                .register(getResourceClass());\r\n        return serverConfig(resourceConfig);\r\n      }\r\n    \r\n      /**\r\n       * Gives the test class opportunity to further customize the configuration. Like registering a\r\n       * MultiPartFeature if required.\r\n       *\r\n       * @param config\r\n       * @return\r\n       */\r\n      protected ResourceConfig serverConfig(final ResourceConfig config) {\r\n        return config;\r\n      }\r\n    \r\n      /**\r\n       * Supplies all the bean objects required to be loaded in the application context for the Resource class\r\n       * under test\r\n       *\r\n       * @return\r\n       */\r\n      protected List&lt;Object&gt; getBeans() {\r\n        return Collections.emptyList();\r\n      }\r\n      \r\n       /**\r\n       * Supplies all the bean objects with name qualifier required to be loaded in the application context for the Resource class\r\n       * under test\r\n       *\r\n       * @return\r\n       */\r\n      protected Map&lt;String, Object&gt; getQualifiedBeans() {\r\n        return Collections.emptyMap();\r\n      }\r\n    \r\n      private Map&lt;String, Object&gt; getBeanMap() {\r\n        final Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        CollectionUtils.emptyIfNull(getBeans())\r\n            .forEach(obj -&gt; result.put(StringUtils.uncapitalize(obj.getClass().getSimpleName()), obj));\r\n        result.putAll(MapUtils.emptyIfNull(getQualifiedBeans()));\r\n        return result;\r\n      }\r\n    \r\n      /**\r\n       * Resource class under test\r\n       *\r\n       * @return\r\n       */\r\n      protected abstract Class&lt;?&gt; getResourceClass();\r\n    \r\n      /**\r\n       * Creates &amp; returns a Spring GenericApplicationContext from the given beans with qualified names\r\n       *\r\n       * @param beans\r\n       * @return\r\n       */\r\n      public static ApplicationContext createSpringContext(Map&lt;String, Object&gt; beans) {\r\n        final DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\r\n        MapUtils.emptyIfNull(beans).forEach((k, obj) -&gt; beanFactory.registerSingleton(k, obj));\r\n        final GenericApplicationContext context = new GenericApplicationContext(beanFactory);\r\n        context.refresh();\r\n        return context;\r\n      }\r\n    }\r\n\r\n***Sample Resource With Test:***\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertAll;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.when;\r\n    import java.util.List;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.glassfish.jersey.client.ClientConfig;\r\n    import org.glassfish.jersey.media.multipart.MultiPartFeature;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Path(&quot;/rest&quot;)\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class RestResource {\r\n      private final ServiceXYZ serviceXYZ;\r\n      private final ServiceABC serviceABC;\r\n      @Qualifier(&quot;greeter&quot;)\r\n      private final String greeterName;\r\n    \r\n      @GET\r\n      @Path(&quot;/serviceXYZ/greet/{name}&quot;)\r\n      public Response greetByServiceXYZ(@PathParam(&quot;name&quot;) final String name) {\r\n        return Response.ok(serviceXYZ.greet(name) + &quot;, Regards: &quot; + greeterName).build();\r\n      }\r\n    \r\n      @GET\r\n      @Path(&quot;/serviceABC/greet/{name}&quot;)\r\n      public Response greetByServiceABC(@PathParam(&quot;name&quot;) final String name) {\r\n        return Response.ok(serviceABC.greet(name)+ &quot;, Regards: &quot; + greeterName).build();\r\n      }\r\n    }\r\n    \r\n    @Service\r\n    class ServiceXYZ {\r\n      public final String greet(final String name) {\r\n        return &quot;Welcome &quot; + name + &quot; to Hello World!&quot;;\r\n      }\r\n    }\r\n    \r\n    @Service\r\n    class ServiceABC {\r\n      public final String greet(final String name) {\r\n        return &quot;Welcome &quot; + name + &quot; to Hello Universe!&quot;;\r\n      }\r\n    }\r\n    \r\n    class ResourceTest extends JerseySpringTest {\r\n    \r\n      @InjectMocks private RestResource subject;\r\n      @Mock private ServiceXYZ serviceXYZ;\r\n      @Mock private ServiceABC serviceABC;\r\n    \r\n      // only required to override for custom server config, say if the Resource accepts file input\r\n      @Override\r\n      protected ResourceConfig serverConfig(final ResourceConfig config) {\r\n        return config.register(MultiPartFeature.class);\r\n      }\r\n    \r\n      @Override\r\n      protected Map&lt;String, Object&gt; getQualifiedBeans() {\r\n        return Map.of(&quot;greeter&quot;, &quot;Amith Kumar&quot;);\r\n      }\r\n    \r\n      @Override\r\n      protected List&lt;Object&gt; getBeans() {\r\n        return List.of(subject, serviceXYZ, serviceABC);\r\n      }\r\n    \r\n      @Override\r\n      protected Class&lt;?&gt; getResourceClass() {\r\n        return RestResource.class;\r\n      }\r\n    \r\n      // only required to override for custom client config, say if the Resource accepts file input\r\n      @Override\r\n      protected void configureClient(ClientConfig config) {\r\n        config.register(MultiPartFeature.class);\r\n      }\r\n    \r\n      @Test\r\n      void testServiceXYZGreets() {\r\n        // ARRANGE\r\n        when(serviceXYZ.greet(&quot;foo&quot;)).thenReturn(&quot;Hello foo&quot;);\r\n    \r\n        // ACT\r\n        Response output = target(&quot;/rest/serviceXYZ/greet/foo&quot;).request().get();\r\n    \r\n        // ASSERT\r\n        assertAll(\r\n            () -&gt; assertEquals(Status.OK.getStatusCode(), output.getStatus()),\r\n            () -&gt; assertEquals(&quot;Hello foo, Regards: Amith Kumar&quot;, output.readEntity(String.class)));\r\n      }\r\n    \r\n      @Test\r\n      void testServiceABCGreets() {\r\n        // ARRANGE\r\n        when(serviceXYZ.greet(&quot;boo&quot;)).thenReturn(&quot;Hola boo&quot;);\r\n    \r\n        // ACT\r\n        Response output = target(&quot;/rest/serviceABC/greet/boo&quot;).request().get();\r\n    \r\n        // ASSERT\r\n        assertAll(\r\n            () -&gt; assertEquals(Status.OK.getStatusCode(), output.getStatus()),\r\n            () -&gt; assertEquals(&quot;Hola boo, Regards: Amith Kumar&quot;, output.readEntity(String.class)));\r\n      }\r\n    }","title":"Force Jersey to read mocks from JerseyTest","body":"<p>Further improvising the accepted solution by removing xml dependency. More details available <a href=\"https://amithkumarg.medium.com/jerseytest-with-spring-and-mockito-mimics-spring-slice-testing-with-webmvctest-and-mockbean-18cf3476faa2\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><em><strong>JerseySpringTest abstracting JerseyTest</strong></em>:</p>\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport org.apache.commons.collections4.CollectionUtils;\nimport org.apache.commons.collections4.MapUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.glassfish.jersey.logging.LoggingFeature;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.test.JerseyTest;\nimport org.glassfish.jersey.test.TestProperties;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.beans.factory.support.DefaultListableBeanFactory;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.GenericApplicationContext;\n\n/** Run JerseyTest with custom spring context with mocks Mimics Spring @WebMvcTest with @MockBean */\npublic abstract class JerseySpringTest extends JerseyTest {\n\n  @Override\n  protected ResourceConfig configure() {\n    MockitoAnnotations.openMocks(this);\n    enable(TestProperties.LOG_TRAFFIC);\n    enable(TestProperties.DUMP_ENTITY);\n    set(TestProperties.CONTAINER_PORT, &quot;0&quot;);\n    final ResourceConfig resourceConfig =\n        new ResourceConfig()\n            .property(&quot;contextConfig&quot;, createSpringContext(getBeanMap()))\n            .property(LoggingFeature.LOGGING_FEATURE_LOGGER_LEVEL_SERVER, &quot;WARNING&quot;)\n            .register(getResourceClass());\n    return serverConfig(resourceConfig);\n  }\n\n  /**\n   * Gives the test class opportunity to further customize the configuration. Like registering a\n   * MultiPartFeature if required.\n   *\n   * @param config\n   * @return\n   */\n  protected ResourceConfig serverConfig(final ResourceConfig config) {\n    return config;\n  }\n\n  /**\n   * Supplies all the bean objects required to be loaded in the application context for the Resource class\n   * under test\n   *\n   * @return\n   */\n  protected List&lt;Object&gt; getBeans() {\n    return Collections.emptyList();\n  }\n  \n   /**\n   * Supplies all the bean objects with name qualifier required to be loaded in the application context for the Resource class\n   * under test\n   *\n   * @return\n   */\n  protected Map&lt;String, Object&gt; getQualifiedBeans() {\n    return Collections.emptyMap();\n  }\n\n  private Map&lt;String, Object&gt; getBeanMap() {\n    final Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    CollectionUtils.emptyIfNull(getBeans())\n        .forEach(obj -&gt; result.put(StringUtils.uncapitalize(obj.getClass().getSimpleName()), obj));\n    result.putAll(MapUtils.emptyIfNull(getQualifiedBeans()));\n    return result;\n  }\n\n  /**\n   * Resource class under test\n   *\n   * @return\n   */\n  protected abstract Class&lt;?&gt; getResourceClass();\n\n  /**\n   * Creates &amp; returns a Spring GenericApplicationContext from the given beans with qualified names\n   *\n   * @param beans\n   * @return\n   */\n  public static ApplicationContext createSpringContext(Map&lt;String, Object&gt; beans) {\n    final DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\n    MapUtils.emptyIfNull(beans).forEach((k, obj) -&gt; beanFactory.registerSingleton(k, obj));\n    final GenericApplicationContext context = new GenericApplicationContext(beanFactory);\n    context.refresh();\n    return context;\n  }\n}\n</code></pre>\n<p><em><strong>Sample Resource With Test:</strong></em></p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertAll;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.when;\nimport java.util.List;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport lombok.RequiredArgsConstructor;\nimport org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n@Path(&quot;/rest&quot;)\n@Component\n@RequiredArgsConstructor\nclass RestResource {\n  private final ServiceXYZ serviceXYZ;\n  private final ServiceABC serviceABC;\n  @Qualifier(&quot;greeter&quot;)\n  private final String greeterName;\n\n  @GET\n  @Path(&quot;/serviceXYZ/greet/{name}&quot;)\n  public Response greetByServiceXYZ(@PathParam(&quot;name&quot;) final String name) {\n    return Response.ok(serviceXYZ.greet(name) + &quot;, Regards: &quot; + greeterName).build();\n  }\n\n  @GET\n  @Path(&quot;/serviceABC/greet/{name}&quot;)\n  public Response greetByServiceABC(@PathParam(&quot;name&quot;) final String name) {\n    return Response.ok(serviceABC.greet(name)+ &quot;, Regards: &quot; + greeterName).build();\n  }\n}\n\n@Service\nclass ServiceXYZ {\n  public final String greet(final String name) {\n    return &quot;Welcome &quot; + name + &quot; to Hello World!&quot;;\n  }\n}\n\n@Service\nclass ServiceABC {\n  public final String greet(final String name) {\n    return &quot;Welcome &quot; + name + &quot; to Hello Universe!&quot;;\n  }\n}\n\nclass ResourceTest extends JerseySpringTest {\n\n  @InjectMocks private RestResource subject;\n  @Mock private ServiceXYZ serviceXYZ;\n  @Mock private ServiceABC serviceABC;\n\n  // only required to override for custom server config, say if the Resource accepts file input\n  @Override\n  protected ResourceConfig serverConfig(final ResourceConfig config) {\n    return config.register(MultiPartFeature.class);\n  }\n\n  @Override\n  protected Map&lt;String, Object&gt; getQualifiedBeans() {\n    return Map.of(&quot;greeter&quot;, &quot;Amith Kumar&quot;);\n  }\n\n  @Override\n  protected List&lt;Object&gt; getBeans() {\n    return List.of(subject, serviceXYZ, serviceABC);\n  }\n\n  @Override\n  protected Class&lt;?&gt; getResourceClass() {\n    return RestResource.class;\n  }\n\n  // only required to override for custom client config, say if the Resource accepts file input\n  @Override\n  protected void configureClient(ClientConfig config) {\n    config.register(MultiPartFeature.class);\n  }\n\n  @Test\n  void testServiceXYZGreets() {\n    // ARRANGE\n    when(serviceXYZ.greet(&quot;foo&quot;)).thenReturn(&quot;Hello foo&quot;);\n\n    // ACT\n    Response output = target(&quot;/rest/serviceXYZ/greet/foo&quot;).request().get();\n\n    // ASSERT\n    assertAll(\n        () -&gt; assertEquals(Status.OK.getStatusCode(), output.getStatus()),\n        () -&gt; assertEquals(&quot;Hello foo, Regards: Amith Kumar&quot;, output.readEntity(String.class)));\n  }\n\n  @Test\n  void testServiceABCGreets() {\n    // ARRANGE\n    when(serviceXYZ.greet(&quot;boo&quot;)).thenReturn(&quot;Hola boo&quot;);\n\n    // ACT\n    Response output = target(&quot;/rest/serviceABC/greet/boo&quot;).request().get();\n\n    // ASSERT\n    assertAll(\n        () -&gt; assertEquals(Status.OK.getStatusCode(), output.getStatus()),\n        () -&gt; assertEquals(&quot;Hola boo, Regards: Amith Kumar&quot;, output.readEntity(String.class)));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1186386,"reputation":9719,"user_id":1160259,"accept_rate":87,"display_name":"chaliasos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3747,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":24512682,"answer_count":4,"score":8,"last_activity_date":1662662859,"creation_date":1404215980,"question_id":24509754,"body_markdown":"I want to test a Resourse with JerseyTest. I have created the following test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;classpath:testApplicationContext.xml&quot;)\r\n    public class ResourceTest extends JerseyTest\r\n    {\r\n        @Configuration\r\n        public static class Config\r\n        {\r\n            @Bean\r\n            public AObject aObject()\r\n            {\r\n                return mock(AObject.class);\r\n            }\r\n        }\r\n    \r\n        @Autowired\r\n        public AObject _aObject;\r\n    \r\n        @Test\r\n        public void testResource()\r\n        {\r\n            // configouring mock _aObject\r\n    \r\n            Response response = target(&quot;path&quot;);\r\n            Assert.assertEquals(Response.Status.OK.getStatusCode(), response.getStatus());\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected Application configure()\r\n        {\r\n            return new ResourceConfig(Resource.class).property(&quot;contextConfigLocation&quot;, &quot;classpath:testApplicationContext.xml&quot;);\r\n        }\r\n    }\r\n\r\nMy Resource also has an AObject reference with `@Autowired` annotation.\r\n\r\nMy problem is that my `JerseyTest` and the `Resource` (that is configured by the test) have different instances for the Mock object. In the console I see that the `testApplicationContext.xml` is loaded twice, once for the test and one for the Resource.\r\n\r\nHow can I force jersey to use the same mock?","title":"Force Jersey to read mocks from JerseyTest","body":"<p>I want to test a Resourse with JerseyTest. I have created the following test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = \"classpath:testApplicationContext.xml\")\npublic class ResourceTest extends JerseyTest\n{\n    @Configuration\n    public static class Config\n    {\n        @Bean\n        public AObject aObject()\n        {\n            return mock(AObject.class);\n        }\n    }\n\n    @Autowired\n    public AObject _aObject;\n\n    @Test\n    public void testResource()\n    {\n        // configouring mock _aObject\n\n        Response response = target(\"path\");\n        Assert.assertEquals(Response.Status.OK.getStatusCode(), response.getStatus());\n    }\n\n\n    @Override\n    protected Application configure()\n    {\n        return new ResourceConfig(Resource.class).property(\"contextConfigLocation\", \"classpath:testApplicationContext.xml\");\n    }\n}\n</code></pre>\n\n<p>My Resource also has an AObject reference with <code>@Autowired</code> annotation.</p>\n\n<p>My problem is that my <code>JerseyTest</code> and the <code>Resource</code> (that is configured by the test) have different instances for the Mock object. In the console I see that the <code>testApplicationContext.xml</code> is loaded twice, once for the test and one for the Resource.</p>\n\n<p>How can I force jersey to use the same mock?</p>\n"},{"tags":["java","swagger","openapi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":8512909,"reputation":1411,"user_id":6382398,"display_name":"Stephan Strate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662661889,"creation_date":1662661889,"answer_id":73653643,"question_id":73615573,"body_markdown":"So, there are multiple questions here:\r\n\r\n1. *How to hide schemas?* This should work using `@Schema(hidden = true)` annotation.\r\n2. *How to add additional information (like description) to fields?* You can use regular openapi `@Schema` annotation (see https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema)","title":"OpenAPI (Swagger) Configuration Quarkus","body":"<p>So, there are multiple questions here:</p>\n<ol>\n<li><em>How to hide schemas?</em> This should work using <code>@Schema(hidden = true)</code> annotation.</li>\n<li><em>How to add additional information (like description) to fields?</em> You can use regular openapi <code>@Schema</code> annotation (see <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema</a>)</li>\n</ol>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662661889,"creation_date":1662422835,"question_id":73615573,"body_markdown":"Good Night. I am new to Quarkus and I am configuring the swagger through OpenApi, however I have doubts about its configuration, for example I work with Request/Response through object composition, however, if I wanted to hide some classes how to do it and that I only know show the ones I want, example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to hide those Era, CalendarDate and Date classes, how do I do that?\r\n\r\n\r\nI would also like to add a description to the fields, in my case I only use the post method, but what would be the label to add a description to the fields?:\r\n\r\n\r\nI tried with the @Parameters tag to add a description to the accountNumberCustomerAccount field, however, it is not reflected in the description of the schemas in the OpenApi:\r\n\r\n    package org.tmve.subscriber.domains.request.body;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.Data;\r\n    import org.eclipse.microprofile.openapi.annotations.media.Schema;\r\n    import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\r\n    \r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Data\r\n    \r\n    @Schema(name=&quot;UpdatePrepaidSubscriberPlanBSRequest&quot;, description = &quot;Campos de entradas para el cambio de plan&quot;)\r\n    public class UpdatePrepaidSubscriberPlanBSRequest {\r\n    \r\n        @NotNull\r\n        @Size(min=1,max=10)\r\n        @NotEmpty\r\n        @Pattern(regexp=&quot;^\\\\d+$&quot;)\r\n        @JsonProperty(&quot;subscriberId&quot;)\r\n        private String subscriberId;\r\n    \r\n        @NotNull\r\n        @NotEmpty\r\n        @Size(min=1,max=12)\r\n        @Parameter(description=&quot;Numero de cuenta cliente&quot;, required = true)\r\n        private String accountNumberCustomerAccount;\r\n    \r\n        @NotNull\r\n        @NotEmpty\r\n        private String planCode;\r\n    \r\n        @NotNull\r\n        @NotEmpty\r\n        private String coverageZone;\r\n    \r\n        @NotNull\r\n        @NotEmpty\r\n        private String salesAgent;\r\n    \r\n    }\r\n\r\nHowever, at the OpenApi level I get something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nGreetings and thanks in advance\r\n\r\n  [1]: https://i.stack.imgur.com/nRee5.png\r\n  [2]: https://i.stack.imgur.com/qComl.png","title":"OpenAPI (Swagger) Configuration Quarkus","body":"<p>Good Night. I am new to Quarkus and I am configuring the swagger through OpenApi, however I have doubts about its configuration, for example I work with Request/Response through object composition, however, if I wanted to hide some classes how to do it and that I only know show the ones I want, example:</p>\n<p><a href=\"https://i.stack.imgur.com/nRee5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nRee5.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to hide those Era, CalendarDate and Date classes, how do I do that?</p>\n<p>I would also like to add a description to the fields, in my case I only use the post method, but what would be the label to add a description to the fields?:</p>\n<p>I tried with the @Parameters tag to add a description to the accountNumberCustomerAccount field, however, it is not reflected in the description of the schemas in the OpenApi:</p>\n<pre><code>package org.tmve.subscriber.domains.request.body;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\nimport org.eclipse.microprofile.openapi.annotations.media.Schema;\nimport org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\n\n@Data\n\n@Schema(name=&quot;UpdatePrepaidSubscriberPlanBSRequest&quot;, description = &quot;Campos de entradas para el cambio de plan&quot;)\npublic class UpdatePrepaidSubscriberPlanBSRequest {\n\n    @NotNull\n    @Size(min=1,max=10)\n    @NotEmpty\n    @Pattern(regexp=&quot;^\\\\d+$&quot;)\n    @JsonProperty(&quot;subscriberId&quot;)\n    private String subscriberId;\n\n    @NotNull\n    @NotEmpty\n    @Size(min=1,max=12)\n    @Parameter(description=&quot;Numero de cuenta cliente&quot;, required = true)\n    private String accountNumberCustomerAccount;\n\n    @NotNull\n    @NotEmpty\n    private String planCode;\n\n    @NotNull\n    @NotEmpty\n    private String coverageZone;\n\n    @NotNull\n    @NotEmpty\n    private String salesAgent;\n\n}\n</code></pre>\n<p>However, at the OpenApi level I get something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/qComl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qComl.png\" alt=\"enter image description here\" /></a></p>\n<p>Greetings and thanks in advance</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662655216,"post_id":73652430,"comment_id":130061743,"body_markdown":"So for each timestamp in the list, if its date is todays date, retain it, otherwise discard it, is that it? Sorry, its not perfectly clear to me yet.","body":"So for each timestamp in the list, if its date is todays date, retain it, otherwise discard it, is that it? Sorry, its not perfectly clear to me yet."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662655301,"post_id":73652430,"comment_id":130061767,"body_markdown":"`strings.removeIf(s -&gt; ! LocalDate.parse(s, DateTimeFormatter.ofPattern(&quot;dd/mm/uuuu HH:mm:ss&quot;)).equals(LocalDate.now()));` (will need refinement).","body":"<code>strings.removeIf(s -&gt; ! LocalDate.parse(s, DateTimeFormatter.ofPattern(&quot;dd&#47;mm&#47;uuuu HH:mm:ss&quot;)).equals(LocalDate.now()));</code> (will need refinement)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662658902,"post_id":73652430,"comment_id":130062940,"body_markdown":"What are you trying to do with the line: `String string2 = String.valueOf(new ArrayList&lt;String&gt;());`?","body":"What are you trying to do with the line: <code>String string2 = String.valueOf(new ArrayList&lt;String&gt;());</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1662660009,"post_id":73652430,"comment_id":130063261,"body_markdown":"What exactly do you mean by removing the timestamp from the same?  Do you mean to ignore the time-of-day? Edit your Question to clarify.","body":"What exactly do you mean by removing the timestamp from the same?  Do you mean to ignore the time-of-day? Edit your Question to clarify."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662661839,"creation_date":1662659436,"answer_id":73653231,"question_id":73652430,"body_markdown":"First, I suggest you educate the publisher of your data about the value of using only [ISO 8601][1] standard formats when exchanging date-time values via text.\r\n\r\nAlso, educate the publisher about including an offset or time zone if the data is meant to represent a specific point on the timeline.\r\n\r\nIf changing to standard format is not an option, define a formatting pattern to fit your inputs.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu HH:mm:ss&quot; ) ;\r\n\r\nParse each input as a `LocalDateTime` object.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\r\n\r\nDetermine todays date. Doing so requires a time zone. For any given moment, the date varies around the globe by time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ; \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nExtract the date from each `LocalDateTime`, compare to todays date.\r\n\r\n    if( ldt.toLocalDate().isEqual( today ) ) {  }\r\n\r\nWe can do the parsing and testing-for-today in a single statement using streams.\r\n\r\n    List &lt; String &gt; inputs =  ;\r\n    List &lt; LocalDateTime &gt; hits = \r\n        inputs\r\n        .map(\r\n            input -&gt; LocalDateTime.parse( input , f )\r\n        )\r\n        .filter(\r\n            ldt -&gt; ldt.toLocalDate().isEqual( today )\r\n        )\r\n        .toList()\r\n    ;\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"Removing time constrain from a list of dates and times in java","body":"<p>First, I suggest you educate the publisher of your data about the value of using only <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats when exchanging date-time values via text.</p>\n<p>Also, educate the publisher about including an offset or time zone if the data is meant to represent a specific point on the timeline.</p>\n<p>If changing to standard format is not an option, define a formatting pattern to fit your inputs.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu HH:mm:ss&quot; ) ;\n</code></pre>\n<p>Parse each input as a <code>LocalDateTime</code> object.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\n</code></pre>\n<p>Determine todays date. Doing so requires a time zone. For any given moment, the date varies around the globe by time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ; \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Extract the date from each <code>LocalDateTime</code>, compare to todays date.</p>\n<pre><code>if( ldt.toLocalDate().isEqual( today ) ) {  }\n</code></pre>\n<p>We can do the parsing and testing-for-today in a single statement using streams.</p>\n<pre><code>List &lt; String &gt; inputs =  ;\nList &lt; LocalDateTime &gt; hits = \n    inputs\n    .map(\n        input -&gt; LocalDateTime.parse( input , f )\n    )\n    .filter(\n        ldt -&gt; ldt.toLocalDate().isEqual( today )\n    )\n    .toList()\n;\n</code></pre>\n"}],"owner":{"account_id":25835379,"reputation":1,"user_id":19571866,"display_name":"Pooja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662912389,"answer_count":1,"score":-1,"last_activity_date":1662661839,"creation_date":1662654873,"question_id":73652430,"body_markdown":"I have web table in which one of the columns has date and timestamp. I&#39;m trying to achieve a list of only current dates, and also removing the timestamp from the same.\r\n\r\nHere&#39;s the code I&#39;ve written:\r\n\r\n\tList&lt;WebElement&gt; colValues = new ArrayList&lt;&gt;();\r\n\tcolValues = driver.findElements(By.xpath(&quot;//table[@class=&#39;v-table-table&#39;]//tbody//tr//td[17]&quot;));\r\n\tList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\tString string2 = String.valueOf(new ArrayList&lt;String&gt;());\r\n\tfor(WebElement e : colValues)\r\n\t{\r\n\t\tstrings.add(e.getText());\r\n\t\tSystem.out.println(&quot;Strings&quot;+strings);\r\n\t\tstring2 = String.valueOf(strings.size());\r\n\t\tfor(int i = 1; i&lt;=10; i++)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nList elements: `[08/09/2022 06:44:09, 31/12/9999 00:00:00, 08/09/2022 06:40:17, 08/09/2022 06:37:48, 08/09/2022 04:52:42, 08/09/2022 04:49:36, 08/09/2022 06:07:56, 08/09/2022 05:08:55, 04/11/2019 22:02:35, 15/04/2019 13:13:55]`\r\n\r\nExpected: remove timestamps and retrieve only today&#39;s date in list","title":"Removing time constrain from a list of dates and times in java","body":"<p>I have web table in which one of the columns has date and timestamp. I'm trying to achieve a list of only current dates, and also removing the timestamp from the same.</p>\n<p>Here's the code I've written:</p>\n<pre><code>List&lt;WebElement&gt; colValues = new ArrayList&lt;&gt;();\ncolValues = driver.findElements(By.xpath(&quot;//table[@class='v-table-table']//tbody//tr//td[17]&quot;));\nList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nString string2 = String.valueOf(new ArrayList&lt;String&gt;());\nfor(WebElement e : colValues)\n{\n    strings.add(e.getText());\n    System.out.println(&quot;Strings&quot;+strings);\n    string2 = String.valueOf(strings.size());\n    for(int i = 1; i&lt;=10; i++)\n    {\n        \n    }\n}\n</code></pre>\n<p>List elements: <code>[08/09/2022 06:44:09, 31/12/9999 00:00:00, 08/09/2022 06:40:17, 08/09/2022 06:37:48, 08/09/2022 04:52:42, 08/09/2022 04:49:36, 08/09/2022 06:07:56, 08/09/2022 05:08:55, 04/11/2019 22:02:35, 15/04/2019 13:13:55]</code></p>\n<p>Expected: remove timestamps and retrieve only today's date in list</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1662662290,"post_id":73653540,"comment_id":130063933,"body_markdown":"A bit of code clean up:   Make `triageType` a non-public member. Also, declare  `Queue&lt;Patient&gt; queue;` there and make it non-public.  The &#39;if ... else ...` should be moved to inside the constructor:  `if (triageType == TriageType.FIFO) { queue = new LinkedList&lt;&gt;();} else {queue = new PriorityQueue&lt;&gt;();}`","body":"A bit of code clean up:   Make <code>triageType</code> a non-public member. Also, declare  <code>Queue&lt;Patient&gt; queue;</code> there and make it non-public.  The &#39;if ... else ...` should be moved to inside the constructor:  <code>if (triageType == TriageType.FIFO) { queue = new LinkedList&lt;&gt;();} else {queue = new PriorityQueue&lt;&gt;();}</code>"},{"owner":{"account_id":26283920,"reputation":23,"user_id":19951971,"display_name":"jimrustle"},"score":2,"creation_date":1662663091,"post_id":73653540,"comment_id":130064150,"body_markdown":"Thank you ! I think this answers the question that I asked in my comment below.","body":"Thank you ! I think this answers the question that I asked in my comment below."}],"answers":[{"tags":[],"owner":{"account_id":11451958,"reputation":138,"user_id":8394118,"display_name":"kske"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662661704,"creation_date":1662661704,"answer_id":73653609,"question_id":73653540,"body_markdown":"You cannot determine the static type of the field at runtime. Instead, you would use a common supertype, in this case `Queue` as the type.\r\n\r\nIf that doesn&#39;t fit your needs, say if you need to use methods specific to `PriorityQueue`, the right solution would be to use polymorphism for this, declaring two separete classes, e.g., `FIFOClinic` and `GravityClinic`, which both declare the queue as they require it. The public methods that these classes would have in common should be extracted to a `Clinic` interface.\r\n\r\nWhile the `Clinic` interface can be used in all instances where the public methods are called, the two classes have to be explicitly referenced during construction. If you require the construction to be uniform, i.e., depend only on a `TriageType` parameter, you could use the [abstract factory pattern][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-abstract-factory-pattern","title":"How to declare class fields that have different types depending on the constructor parameters in Java","body":"<p>You cannot determine the static type of the field at runtime. Instead, you would use a common supertype, in this case <code>Queue</code> as the type.</p>\n<p>If that doesn't fit your needs, say if you need to use methods specific to <code>PriorityQueue</code>, the right solution would be to use polymorphism for this, declaring two separete classes, e.g., <code>FIFOClinic</code> and <code>GravityClinic</code>, which both declare the queue as they require it. The public methods that these classes would have in common should be extracted to a <code>Clinic</code> interface.</p>\n<p>While the <code>Clinic</code> interface can be used in all instances where the public methods are called, the two classes have to be explicitly referenced during construction. If you require the construction to be uniform, i.e., depend only on a <code>TriageType</code> parameter, you could use the <a href=\"https://www.baeldung.com/java-abstract-factory-pattern\" rel=\"nofollow noreferrer\">abstract factory pattern</a>.</p>\n"}],"owner":{"account_id":26283920,"reputation":23,"user_id":19951971,"display_name":"jimrustle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73653609,"answer_count":1,"score":2,"last_activity_date":1662661704,"creation_date":1662661334,"question_id":73653540,"body_markdown":"I&#39;m new with Java and I&#39;m trying to implement a class to encapsulate a clinic with a queue to determine the next patient to treat.\r\n\r\nWhen initializing an instance of the class, I want to pass a triage type parameter to the constructor to decide how the clinic will select the next patient (frist in first out, or based on the gravity of the disease). Concretely, I want to have a single `queue` class field that is going to either be a `Queue` or a `PriorityQueue` depending on the triage parameter. I have a hard time to figure how to declare the `queue` field.\r\n    \r\n    public enum TriageType {\r\n\t\tFIFO,\r\n        GRAVITY\r\n\t}\r\n\r\n    public class Clinic {\r\n\r\n        public TriageType triageType;\r\n\r\n        // This code block doesn&#39;t work, but it&#39;s the kind \r\n        // of behavior that I want\r\n        if (triageType == TriageType.FIFO) {\r\n            Queue&lt;Patient&gt; queue = new LinkedList&lt;&gt;()\r\n        }\r\n        else {\r\n            PriorityQueue&lt;Patient&gt; queue = new PriorityQueue&lt;&gt;()\r\n        }\r\n\r\n        public Clinic(TriageType _triageType) {\r\n            this.triageType = _triageType;\r\n        }\r\n    }\r\n\r\nIs it possible to do this without using two distinct classes?\r\n\r\nThanks a lot.\r\n\r\n","title":"How to declare class fields that have different types depending on the constructor parameters in Java","body":"<p>I'm new with Java and I'm trying to implement a class to encapsulate a clinic with a queue to determine the next patient to treat.</p>\n<p>When initializing an instance of the class, I want to pass a triage type parameter to the constructor to decide how the clinic will select the next patient (frist in first out, or based on the gravity of the disease). Concretely, I want to have a single <code>queue</code> class field that is going to either be a <code>Queue</code> or a <code>PriorityQueue</code> depending on the triage parameter. I have a hard time to figure how to declare the <code>queue</code> field.</p>\n<pre><code>public enum TriageType {\n    FIFO,\n    GRAVITY\n}\n\npublic class Clinic {\n\n    public TriageType triageType;\n\n    // This code block doesn't work, but it's the kind \n    // of behavior that I want\n    if (triageType == TriageType.FIFO) {\n        Queue&lt;Patient&gt; queue = new LinkedList&lt;&gt;()\n    }\n    else {\n        PriorityQueue&lt;Patient&gt; queue = new PriorityQueue&lt;&gt;()\n    }\n\n    public Clinic(TriageType _triageType) {\n        this.triageType = _triageType;\n    }\n}\n</code></pre>\n<p>Is it possible to do this without using two distinct classes?</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662665323,"post_id":73653492,"comment_id":130064816,"body_markdown":"What about ```if (!endPath.toFile().isDirectory()) Files.copy(pathFile, endPath, StandardCopyOption.REPLACE_EXISTING);\n``` ? If that&#39;s not quite right, it might give you a clue","body":"What about <code>if (!endPath.toFile().isDirectory()) Files.copy(pathFile, endPath, StandardCopyOption.REPLACE_EXISTING); </code> ? If that&#39;s not quite right, it might give you a clue"},{"owner":{"account_id":21786166,"reputation":11,"user_id":17368831,"display_name":"Cristea Octavian"},"score":0,"creation_date":1662696832,"post_id":73653492,"comment_id":130070162,"body_markdown":"That wasn&#39;t exactly what I needed but it gave me the clue! Thanks!","body":"That wasn&#39;t exactly what I needed but it gave me the clue! Thanks!"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1680680224,"post_id":73653492,"comment_id":133937209,"body_markdown":"@CristeaOctavian so what was is?","body":"@CristeaOctavian so what was is?"},{"owner":{"account_id":21786166,"reputation":11,"user_id":17368831,"display_name":"Cristea Octavian"},"score":0,"creation_date":1680770318,"post_id":73653492,"comment_id":133955415,"body_markdown":"@caduceus, ohh, I don&#39;t really remember. I finished the project 6+ plus months ago, and I don&#39;t have the slightest idea what was the issue.","body":"@caduceus, ohh, I don&#39;t really remember. I finished the project 6+ plus months ago, and I don&#39;t have the slightest idea what was the issue."}],"owner":{"account_id":21786166,"reputation":11,"user_id":17368831,"display_name":"Cristea Octavian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1662661040,"creation_date":1662661014,"question_id":73653492,"body_markdown":"I have the following code that should replace an image in a folder inside Local AppData, although I get an exception saying &quot;java.nio.file.DirectoryNotEmptyException: C:\\Users\\user\\AppData\\Local\\Roblox\\Versions\\version-76a406688204424a\\content\\textures&quot;. What can I do?\r\n\r\nCode:\r\n```\r\npackage robloxstudioclassimageloader;\r\n\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardCopyOption;\r\nimport java.util.Scanner;\r\n\r\npublic class RobloxStudioClassImageLoader {\r\n    \r\n    private static Path pathFile = Paths.get(&quot;resources/ClassImages.png&quot;);\r\n    private static Scanner scanner;\r\n    private static String path;\r\n    private static Path textureFile;\r\n    \r\n    public static void main(String[] args) {\r\n        try{\r\n            scanner = new Scanner(new File(&quot;resources/path.txt&quot;));\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n        path = scanner.nextLine();\r\n        textureFile = Paths.get(path);\r\n        File RobloxPath = new File(path);\r\n        if(RobloxPath.isDirectory()){\r\n            for (final File versionEntry : RobloxPath.listFiles()) { //versions folder\r\n                if (versionEntry.isDirectory()) {\r\n                   for (final File contentEntry : versionEntry.listFiles()) { //version folder\r\n                        if (contentEntry.isDirectory()) {\r\n                            if(contentEntry.getName().equals(&quot;content&quot;)){\r\n                                for (final File contentEntry2 : contentEntry.listFiles()) { //content folder\r\n                                    if (contentEntry2.getName().equals(&quot;textures&quot;)) {\r\n                                        for (final File textureEntry : contentEntry2.listFiles()) { //texture file\r\n                                            if(textureEntry.getName().equals(&quot;ClassImages.PNG&quot;) || textureEntry.getName().equals(&quot;ClassImages.png&quot;)) {\r\n                                                System.out.println(textureEntry.getName());\r\n                                                Path endPath = Paths.get(textureEntry.getParent());\r\n                                                System.out.println(endPath);\r\n                                                try{\r\n                                                    Files.copy(pathFile,endPath,StandardCopyOption.REPLACE_EXISTING);\r\n                                                }catch(Exception e){\r\n                                                    System.out.println(e);\r\n                                                }\r\n                                                System.out.println(&quot;ENDED&quot;);\r\n                                                System.exit(0);\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```","title":"DirectoryNotEmptyException exception unknowingly why","body":"<p>I have the following code that should replace an image in a folder inside Local AppData, although I get an exception saying &quot;java.nio.file.DirectoryNotEmptyException: C:\\Users\\user\\AppData\\Local\\Roblox\\Versions\\version-76a406688204424a\\content\\textures&quot;. What can I do?</p>\n<p>Code:</p>\n<pre><code>package robloxstudioclassimageloader;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\nimport java.util.Scanner;\n\npublic class RobloxStudioClassImageLoader {\n    \n    private static Path pathFile = Paths.get(&quot;resources/ClassImages.png&quot;);\n    private static Scanner scanner;\n    private static String path;\n    private static Path textureFile;\n    \n    public static void main(String[] args) {\n        try{\n            scanner = new Scanner(new File(&quot;resources/path.txt&quot;));\n        }catch(Exception e){\n            System.out.println(e);\n        }\n        path = scanner.nextLine();\n        textureFile = Paths.get(path);\n        File RobloxPath = new File(path);\n        if(RobloxPath.isDirectory()){\n            for (final File versionEntry : RobloxPath.listFiles()) { //versions folder\n                if (versionEntry.isDirectory()) {\n                   for (final File contentEntry : versionEntry.listFiles()) { //version folder\n                        if (contentEntry.isDirectory()) {\n                            if(contentEntry.getName().equals(&quot;content&quot;)){\n                                for (final File contentEntry2 : contentEntry.listFiles()) { //content folder\n                                    if (contentEntry2.getName().equals(&quot;textures&quot;)) {\n                                        for (final File textureEntry : contentEntry2.listFiles()) { //texture file\n                                            if(textureEntry.getName().equals(&quot;ClassImages.PNG&quot;) || textureEntry.getName().equals(&quot;ClassImages.png&quot;)) {\n                                                System.out.println(textureEntry.getName());\n                                                Path endPath = Paths.get(textureEntry.getParent());\n                                                System.out.println(endPath);\n                                                try{\n                                                    Files.copy(pathFile,endPath,StandardCopyOption.REPLACE_EXISTING);\n                                                }catch(Exception e){\n                                                    System.out.println(e);\n                                                }\n                                                System.out.println(&quot;ENDED&quot;);\n                                                System.exit(0);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662562579,"post_id":73637167,"comment_id":130035704,"body_markdown":"I nowhere see the UTF-8 encoding to be applied to get a string from the bytes - also why do you re-encode your byte array `data` after decoding it?\nTo give you a better solution in an answer, please provide a runnable [mre] with test data.","body":"I nowhere see the UTF-8 encoding to be applied to get a string from the bytes - also why do you re-encode your byte array <code>data</code> after decoding it? To give you a better solution in an answer, please provide a runnable <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with test data."},{"owner":{"account_id":26267818,"reputation":3,"user_id":19938118,"display_name":"KebCoding"},"score":0,"creation_date":1662617202,"post_id":73637167,"comment_id":130047912,"body_markdown":"the bytes in decodeStream seems to be not encoded. But a decode method is called in BASE64DecoderStream.read(). Therefore the data is encoded through the decode. Thats my assumption on the behaviour i got.","body":"the bytes in decodeStream seems to be not encoded. But a decode method is called in BASE64DecoderStream.read(). Therefore the data is encoded through the decode. Thats my assumption on the behaviour i got."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662625873,"post_id":73637167,"comment_id":130050388,"body_markdown":"You are using a `BASE64DecoderStream` that reads base64 encoded data and returns raw bytes for you. You just have to use `new String(data, StandardCharsets.UTF_8)` to get your plain text from that... &quot;encoded through the decode&quot;? no! Please provide some of your test data also in base64 encoded form so I can give a better example in an answer.","body":"You are using a <code>BASE64DecoderStream</code> that reads base64 encoded data and returns raw bytes for you. You just have to use <code>new String(data, StandardCharsets.UTF_8)</code> to get your plain text from that... &quot;encoded through the decode&quot;? no! Please provide some of your test data also in base64 encoded form so I can give a better example in an answer."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662660638,"creation_date":1662660638,"answer_id":73653425,"question_id":73637167,"body_markdown":"I prepared some small example for you.\r\n\r\nFirst expected output string is obviously &quot;Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;. Second expected output string is &quot;BASE64 Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;. I encoded it externally.\r\n\r\nI didn&#39;t use any utils for reading in the streams.\r\n\r\n``` lang-java\r\npackage examples.stackoverflow.q73637167;\r\n\r\nimport com.sun.xml.internal.messaging.saaj.packaging.mime.util.BASE64DecoderStream;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Q73637167 {\r\n\tprivate static String decodeMessage(InputStream message, Charset charset) throws IOException {\r\n\t\tString result = &quot;&quot;;\r\n\t\tif(message instanceof ByteArrayInputStream) {\r\n\t\t\tByteArrayInputStream bis = (ByteArrayInputStream) message;\r\n\t\t\tbyte[] data = new byte[bis.available()];\r\n\t\t\tbis.read(data);\r\n\t\t\tresult = new String(data, charset);\r\n\t\t} else if(message instanceof BASE64DecoderStream) {\r\n\t\t\tBASE64DecoderStream decodeStream = (BASE64DecoderStream) message;\r\n\r\n\t\t\t// Read all the bytes from the array in an ever growing buffer.\r\n\t\t\t// Didn&#39;t use any utils for minimum dependencies. Don&#39;t to this at home!\r\n\t\t\tbyte[] data = new byte[1024];\r\n\t\t\tint count = decodeStream.read(data);\r\n\t\t\tint startPos = 0;\r\n\t\t\twhile(count == 1024) {\r\n\t\t\t\tbyte[] addBuffer = new byte[data.length + 1024];\r\n\t\t\t\tSystem.arraycopy(data, 0, addBuffer, 0, data.length);\r\n\t\t\t\tstartPos = data.length;\r\n\t\t\t\tdata = addBuffer;\r\n\t\t\t\tcount = decodeStream.read(data, startPos, 1024);\r\n\t\t\t}\r\n\t\t\tint maxlen = data.length - 1024 + count;\r\n\r\n\t\t\t// convert already decoded data in byte array to String.\r\n\t\t\tresult = new String(data, 0, maxlen, charset);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// case 1: plain text\r\n\t\tByteArrayInputStream byis = new ByteArrayInputStream(\r\n\t\t\t\t&quot;Test mit &#220;ml&#228;uten. &#246;&#246;&#246;&#223;&#223;&#223;&quot;.getBytes(StandardCharsets.UTF_8));\r\n\t\tSystem.out.println(&quot;Plain text case: &quot; + decodeMessage(byis, StandardCharsets.UTF_8));\r\n\r\n\t\t// case 2: base64 encoded\r\n\t\tBASE64DecoderStream b64is = new BASE64DecoderStream(new ByteArrayInputStream(\r\n\t\t\t\t&quot;QkFTRTY0IFRlc3QgbWl0IMOcbWzDpHV0ZW4uIMO2w7bDtsOfw5/Dnwo=&quot;.getBytes(StandardCharsets.US_ASCII)));\r\n\t\tSystem.out.println(&quot;Base64 case: &quot; + decodeMessage(b64is, StandardCharsets.UTF_8));\r\n\t}\r\n}\r\n```\r\n\r\nIf you want to process messages but not actually send them, I would recommend that you switch from java.mail-api to a different library: [Mime4J](https://james.apache.org/mime4j/index.html), a subproject of Apache James (a java mail server).\r\n\r\nWith that, message parsing is as easy as this:\r\n```\r\nMessageBuilder messageBuilder = new DefaultMessageBuilder();\r\nMessage message = messageBuilder.parseMessage(inputStream);\r\n```\r\nand you get back a nice DOM for your mime messages. (`inputStream` here is any `InputStream`, not specific for encoded or not encoded etc.)\r\nAll classes you see are part of the libs. I just found this lib recently for one of my own projects. If you use only the necessary parts, it&#39;s really small and quick. (I just needed apache-mime4j-core and apache-mime4j-dom for parsing messages from files.)","title":"BASE64DecoderStream message content to string (javax.mail)","body":"<p>I prepared some small example for you.</p>\n<p>First expected output string is obviously &quot;Test mit mluten. &quot;. Second expected output string is &quot;BASE64 Test mit mluten. &quot;. I encoded it externally.</p>\n<p>I didn't use any utils for reading in the streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q73637167;\n\nimport com.sun.xml.internal.messaging.saaj.packaging.mime.util.BASE64DecoderStream;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class Q73637167 {\n    private static String decodeMessage(InputStream message, Charset charset) throws IOException {\n        String result = &quot;&quot;;\n        if(message instanceof ByteArrayInputStream) {\n            ByteArrayInputStream bis = (ByteArrayInputStream) message;\n            byte[] data = new byte[bis.available()];\n            bis.read(data);\n            result = new String(data, charset);\n        } else if(message instanceof BASE64DecoderStream) {\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) message;\n\n            // Read all the bytes from the array in an ever growing buffer.\n            // Didn't use any utils for minimum dependencies. Don't to this at home!\n            byte[] data = new byte[1024];\n            int count = decodeStream.read(data);\n            int startPos = 0;\n            while(count == 1024) {\n                byte[] addBuffer = new byte[data.length + 1024];\n                System.arraycopy(data, 0, addBuffer, 0, data.length);\n                startPos = data.length;\n                data = addBuffer;\n                count = decodeStream.read(data, startPos, 1024);\n            }\n            int maxlen = data.length - 1024 + count;\n\n            // convert already decoded data in byte array to String.\n            result = new String(data, 0, maxlen, charset);\n        }\n        return result;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // case 1: plain text\n        ByteArrayInputStream byis = new ByteArrayInputStream(\n                &quot;Test mit mluten. &quot;.getBytes(StandardCharsets.UTF_8));\n        System.out.println(&quot;Plain text case: &quot; + decodeMessage(byis, StandardCharsets.UTF_8));\n\n        // case 2: base64 encoded\n        BASE64DecoderStream b64is = new BASE64DecoderStream(new ByteArrayInputStream(\n                &quot;QkFTRTY0IFRlc3QgbWl0IMOcbWzDpHV0ZW4uIMO2w7bDtsOfw5/Dnwo=&quot;.getBytes(StandardCharsets.US_ASCII)));\n        System.out.println(&quot;Base64 case: &quot; + decodeMessage(b64is, StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>If you want to process messages but not actually send them, I would recommend that you switch from java.mail-api to a different library: <a href=\"https://james.apache.org/mime4j/index.html\" rel=\"nofollow noreferrer\">Mime4J</a>, a subproject of Apache James (a java mail server).</p>\n<p>With that, message parsing is as easy as this:</p>\n<pre><code>MessageBuilder messageBuilder = new DefaultMessageBuilder();\nMessage message = messageBuilder.parseMessage(inputStream);\n</code></pre>\n<p>and you get back a nice DOM for your mime messages. (<code>inputStream</code> here is any <code>InputStream</code>, not specific for encoded or not encoded etc.)\nAll classes you see are part of the libs. I just found this lib recently for one of my own projects. If you use only the necessary parts, it's really small and quick. (I just needed apache-mime4j-core and apache-mime4j-dom for parsing messages from files.)</p>\n"}],"owner":{"account_id":26267818,"reputation":3,"user_id":19938118,"display_name":"KebCoding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73653425,"answer_count":1,"score":0,"last_activity_date":1662660638,"creation_date":1662560636,"question_id":73637167,"body_markdown":"javax.mail Version 1.6.2\r\njava version : jdk1.8.0_192\r\n\r\nI  try getting my message content (a simple Text) as string(plainText) but have a problem if my content is of type BASE64DecoderStream.\r\nThe message content should be a string similar to this :&quot;Testnachricht 1 von 10:10 Uhr mit Umlauten &#228; &#252; &#246; und &#223; - Gleicher Text im Inhalt mit Versand und Lesebest&#228;tigung&quot;\r\n\r\nBut on decoding I got two different behaviours with the same code:\r\n- the expected string but without any spaces or umlauts(&#228;,&#252;,&#246;) similar to: &quot;Testnachricht1von10:10UhrmitUmlautenundGleicherText&quot;\r\n- or an error:&quot;BASE64Decoder: Error in encoded stream needed 4 valid base64 characters but only got 2 befor EOF, the 10 most recent characters were &#39;epr\\195\\188ft.\\r\\n&#39;&quot;\r\n\r\n```\r\n    private void processMessageText(Message message, MimeMessage mimeMessage){\r\n        String plainText;\r\n        Object content = message.getContent();\r\n        if (content instanceof ByteArrayInputStream) {\r\n            ByteArrayInputStream bis = (ByteArrayInputStream)content;\r\n            byte[] data = ObjectUtil.readFully(bis);\r\n            plainText = new String(data);\r\n        } else if (content instanceof BASE64DecoderStream) {\r\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) content;\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int c;\r\n            while ((c = decodeStream.read()) != -1) {\r\n                out.write(c);\r\n            }\r\n            byte[] data = out.toByteArray();\r\n            plainText = Base64.getEncoder().encodeToString(data);\r\n\r\n        } else {\r\n            plainText = content.toString();\r\n        }\r\n    }\r\n```\r\nBecause of the old versions in use, IOUtils.toByteArray(BASE64DecoderStream) or .readAllBytes() is not possible ( https://stackoverflow.com/questions/2764504/getting-base64-content-string-of-an-image-from-a-mimepart-in-java)\r\n\r\n\r\n\r\nthe content related headers in message :\r\n- Content-Type = application/pkcs7-mime; smime-type=authenticated-enveloped-data; name=smime.p7m\r\n- Content-Disposition = attachment; filename=smime.p7m\r\n- Content-Transfer-Encoding = base64\r\n\r\nthe content related headers in mimeMessage:\r\n- Content-Type = text/plain; charset=utf-8; format=flowed\r\n- Content-Transfer-Encoding = 8bit\r\n\r\n\r\n\r\n","title":"BASE64DecoderStream message content to string (javax.mail)","body":"<p>javax.mail Version 1.6.2\njava version : jdk1.8.0_192</p>\n<p>I  try getting my message content (a simple Text) as string(plainText) but have a problem if my content is of type BASE64DecoderStream.\nThe message content should be a string similar to this :&quot;Testnachricht 1 von 10:10 Uhr mit Umlauten    und  - Gleicher Text im Inhalt mit Versand und Lesebesttigung&quot;</p>\n<p>But on decoding I got two different behaviours with the same code:</p>\n<ul>\n<li>the expected string but without any spaces or umlauts(,,) similar to: &quot;Testnachricht1von10:10UhrmitUmlautenundGleicherText&quot;</li>\n<li>or an error:&quot;BASE64Decoder: Error in encoded stream needed 4 valid base64 characters but only got 2 befor EOF, the 10 most recent characters were 'epr\\195\\188ft.\\r\\n'&quot;</li>\n</ul>\n<pre><code>    private void processMessageText(Message message, MimeMessage mimeMessage){\n        String plainText;\n        Object content = message.getContent();\n        if (content instanceof ByteArrayInputStream) {\n            ByteArrayInputStream bis = (ByteArrayInputStream)content;\n            byte[] data = ObjectUtil.readFully(bis);\n            plainText = new String(data);\n        } else if (content instanceof BASE64DecoderStream) {\n            BASE64DecoderStream decodeStream = (BASE64DecoderStream) content;\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            int c;\n            while ((c = decodeStream.read()) != -1) {\n                out.write(c);\n            }\n            byte[] data = out.toByteArray();\n            plainText = Base64.getEncoder().encodeToString(data);\n\n        } else {\n            plainText = content.toString();\n        }\n    }\n</code></pre>\n<p>Because of the old versions in use, IOUtils.toByteArray(BASE64DecoderStream) or .readAllBytes() is not possible ( <a href=\"https://stackoverflow.com/questions/2764504/getting-base64-content-string-of-an-image-from-a-mimepart-in-java\">getting base64 content string of an image from a mimepart in Java</a>)</p>\n<p>the content related headers in message :</p>\n<ul>\n<li>Content-Type = application/pkcs7-mime; smime-type=authenticated-enveloped-data; name=smime.p7m</li>\n<li>Content-Disposition = attachment; filename=smime.p7m</li>\n<li>Content-Transfer-Encoding = base64</li>\n</ul>\n<p>the content related headers in mimeMessage:</p>\n<ul>\n<li>Content-Type = text/plain; charset=utf-8; format=flowed</li>\n<li>Content-Transfer-Encoding = 8bit</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26283777,"reputation":11,"user_id":19951859,"display_name":"wildfireshtc"},"score":0,"creation_date":1662658729,"post_id":73652943,"comment_id":130062887,"body_markdown":"I solved the question ;-) Thank you very much for your attention! Good luck to you!","body":"I solved the question ;-) Thank you very much for your attention! Good luck to you!"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1662658795,"post_id":73652943,"comment_id":130062907,"body_markdown":"You can post an answer if you solved your problem and think it would be helpful to others","body":"You can post an answer if you solved your problem and think it would be helpful to others"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662658883,"post_id":73652943,"comment_id":130062935,"body_markdown":"@wildfireshtc what&#39;s the answer?","body":"@wildfireshtc what&#39;s the answer?"}],"answers":[{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662660605,"creation_date":1662660605,"answer_id":73653417,"question_id":73652943,"body_markdown":"One way you can achieve this is by splitting the string into two and replacing the characters only on the second string, should look something like this:\r\n\r\n    String s = &quot;name surname patname&quot;;\r\n\r\n    //splitting at a space character and setting limit of how many strings it is split into\r\n    String[] sArr = s.split(&quot; &quot;, 2); \r\n    \r\n    System.out.println(sArr[0] + &quot; &quot; + sArr[1].replaceAll(&quot;\\\\B.\\\\B&quot;, &quot;*&quot;));\r\n\r\nthis should have your desired output: `name s*****e p*****e` \r\n","title":"How to replace only the surname and patronymic with &quot; * &quot;?","body":"<p>One way you can achieve this is by splitting the string into two and replacing the characters only on the second string, should look something like this:</p>\n<pre><code>String s = &quot;name surname patname&quot;;\n\n//splitting at a space character and setting limit of how many strings it is split into\nString[] sArr = s.split(&quot; &quot;, 2); \n\nSystem.out.println(sArr[0] + &quot; &quot; + sArr[1].replaceAll(&quot;\\\\B.\\\\B&quot;, &quot;*&quot;));\n</code></pre>\n<p>this should have your desired output: <code>name s*****e p*****e</code></p>\n"}],"owner":{"account_id":26283777,"reputation":11,"user_id":19951859,"display_name":"wildfireshtc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662660605,"creation_date":1662657710,"question_id":73652943,"body_markdown":"Could you please help me? I have &quot;name surname patronomyc&quot;. I only want to replace the &quot;surname patronomyc&quot; with &quot; * &quot;. I can only replace everything with &quot; * &quot;.\r\n```java\r\nString s = &quot;name surname patname&quot;;\r\nSystem.out.println(s.replaceAll( &quot;\\\\B.\\\\B&quot;, &quot;*&quot; ))\r\n```\r\nOutput -- `n ** e s****e p ****e`\r\n\r\nHow to replace only the surname and patronymic with &quot; * &quot;?\r\n\r\nExample: `name s ***** e p ***** e`\r\n","title":"How to replace only the surname and patronymic with &quot; * &quot;?","body":"<p>Could you please help me? I have &quot;name surname patronomyc&quot;. I only want to replace the &quot;surname patronomyc&quot; with &quot; * &quot;. I can only replace everything with &quot; * &quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;name surname patname&quot;;\nSystem.out.println(s.replaceAll( &quot;\\\\B.\\\\B&quot;, &quot;*&quot; ))\n</code></pre>\n<p>Output -- <code>n ** e s****e p ****e</code></p>\n<p>How to replace only the surname and patronymic with &quot; * &quot;?</p>\n<p>Example: <code>name s ***** e p ***** e</code></p>\n"},{"tags":["java","garbage-collection","zgc"],"comments":[{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":1,"creation_date":1662659496,"post_id":69830560,"comment_id":130063111,"body_markdown":"Just few questions to understand the context and how you concluded that the JVM got stuck in GC. 1- What version of Oracle JDK are you using? 2- What JVM options are you using? 3- Did you enable GC log file (**) to understand the behavior of this JVM ? * Given you asked for ZGC (debuted in Java 11), GC log file is enabled with:\na- G1: -Xlog:gc*:time,gc+phases=debug:file=gc.log OR\nb- non-G1: -Xlog:gc*:file=gc.log","body":"Just few questions to understand the context and how you concluded that the JVM got stuck in GC. 1- What version of Oracle JDK are you using? 2- What JVM options are you using? 3- Did you enable GC log file (<i>*) to understand the behavior of this JVM ? * Given you asked for ZGC (debuted in Java 11), GC log file is enabled with: a- G1: -Xlog:gc</i>:time,gc+phases=debug:file=gc.log OR b- non-G1: -Xlog:gc*:file=gc.log"}],"answers":[{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662659641,"creation_date":1662659641,"answer_id":73653264,"question_id":69830560,"body_markdown":"Use this simple command to verify if that JVM option is enabled:\r\n\r\n    java -XX:+PrintFlagsFinal -XX:+UseZGC -version | grep -i Overhead\r\n         bool UseGCOverheadLimit                       = true                                      {product} {default}\r\n    java version &quot;17.0.3.1&quot; 2022-04-22 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)","title":"Is UseGCOverheadLimit supported by ZGC?","body":"<p>Use this simple command to verify if that JVM option is enabled:</p>\n<pre><code>java -XX:+PrintFlagsFinal -XX:+UseZGC -version | grep -i Overhead\n     bool UseGCOverheadLimit                       = true                                      {product} {default}\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":83500,"reputation":2830,"user_id":234073,"accept_rate":86,"display_name":"hotzen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73653264,"answer_count":1,"score":0,"last_activity_date":1662659641,"creation_date":1635966855,"question_id":69830560,"body_markdown":"we are currently using `G1GC` which [does _not_ honour/support](https://stackoverflow.com/questions/45925980/is-usegcoverheadlimit-supported-with-g1-gc/45927722#45927722) `UseGCOverheadLimit`, so our app is sometimes completely stuck in GC-thrashing and the jvm never aborts/crashes.\r\n\r\nJust checking which options we do have, [according to this overview](https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C) the latest GC is [ZGC](https://wiki.openjdk.java.net/display/zgc/Main) but I can&#39;t find anything whether `ZGC` actually supports the overhead limit?","title":"Is UseGCOverheadLimit supported by ZGC?","body":"<p>we are currently using <code>G1GC</code> which <a href=\"https://stackoverflow.com/questions/45925980/is-usegcoverheadlimit-supported-with-g1-gc/45927722#45927722\">does <em>not</em> honour/support</a> <code>UseGCOverheadLimit</code>, so our app is sometimes completely stuck in GC-thrashing and the jvm never aborts/crashes.</p>\n<p>Just checking which options we do have, <a href=\"https://docs.oracle.com/en/java/javase/11/gctuning/available-collectors.html#GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C\" rel=\"nofollow noreferrer\">according to this overview</a> the latest GC is <a href=\"https://wiki.openjdk.java.net/display/zgc/Main\" rel=\"nofollow noreferrer\">ZGC</a> but I can't find anything whether <code>ZGC</code> actually supports the overhead limit?</p>\n"},{"tags":["java","json","tree","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662294558,"creation_date":1662294230,"answer_id":73599365,"question_id":73598200,"body_markdown":"Need to separate the objects by both the `id` and `type.typeName` values in the first transformation spec, in order to filter out by `type.typeName=xx` within the next spec long with distinctly picked `id` values through use of **`@(1,id).@(1,typeName)`** identifiers on the Right Hand Side for the leaf elements such as \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;type&quot;: {\r\n                    &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n                    &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n                    &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp;1 replicates key name &quot;type&quot;\r\n                  }\r\n                }\r\n              },\r\n              &quot;type&quot;: {\r\n                &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n                &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n                &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp; replicates the values of the elements nested within the &quot;type&quot; object\r\n              }\r\n            }\r\n          },\r\n          &quot;type&quot;: {\r\n            &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\r\n            &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\r\n            &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;xx&quot;: &quot;&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JROjq.jpg","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>Need to separate the objects by both the <code>id</code> and <code>type.typeName</code> values in the first transformation spec, in order to filter out by <code>type.typeName=xx</code> within the next spec long with distinctly picked <code>id</code> values through use of <strong><code>@(1,id).@(1,typeName)</code></strong> identifiers on the Right Hand Side for the leaf elements such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;type&quot;: {\n                    &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n                    &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n                    &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp;1 replicates key name &quot;type&quot;\n                  }\n                }\n              },\n              &quot;type&quot;: {\n                &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n                &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n                &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot; // &amp; replicates the values of the elements nested within the &quot;type&quot; object\n              }\n            }\n          },\n          &quot;type&quot;: {\n            &quot;@(1,id)&quot;: &quot;@(1,id).@(1,typeName).id&quot;,\n            &quot;@(1,action)&quot;: &quot;@(1,id).@(1,typeName).action&quot;,\n            &quot;*&quot;: &quot;@(1,id).@(1,typeName).&amp;1.&amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;xx&quot;: &quot;&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/JROjq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JROjq.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662659189,"creation_date":1662659189,"answer_id":73653192,"question_id":73598200,"body_markdown":"You may consider another library *Josson* that a simple statement can do the job. And the function even supports unknown and unlimited number of path levels.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: 11,&quot; +\r\n        &quot;  \\&quot;item\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\r\n        &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;      \\&quot;type\\&quot;: {&quot; +\r\n        &quot;        \\&quot;id\\&quot;: \\&quot;11_1_xx\\&quot;,&quot; +\r\n        &quot;        \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      \\&quot;item\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;          \\&quot;type\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: \\&quot;11_1_1_zz\\&quot;,&quot; +\r\n        &quot;            \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          \\&quot;item\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;              \\&quot;id\\&quot;: \\&quot;11_1_1_1\\&quot;,&quot; +\r\n        &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;              \\&quot;type\\&quot;: {&quot; +\r\n        &quot;                \\&quot;id\\&quot;: \\&quot;11_1_1_1_xx\\&quot;,&quot; +\r\n        &quot;                \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;              }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          ]&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\r\n        &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;          \\&quot;type\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: \\&quot;11_1_2_xx\\&quot;,&quot; +\r\n        &quot;            \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          \\&quot;item\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;              \\&quot;id\\&quot;: \\&quot;11_1_2_1\\&quot;,&quot; +\r\n        &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\r\n        &quot;              \\&quot;type\\&quot;: {&quot; +\r\n        &quot;                \\&quot;id\\&quot;: \\&quot;11_1_2_1_zz\\&quot;,&quot; +\r\n        &quot;                \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\r\n        &quot;              }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          ]&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;      ]&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;cumulateCollect(item[type.typeName=&#39;xx&#39;]*.field(item:), item).flatten(1)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ {\r\n      &quot;id&quot; : &quot;11_1&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_2&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_2_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    }, {\r\n      &quot;id&quot; : &quot;11_1_1_1&quot;,\r\n      &quot;action&quot; : &quot;add&quot;,\r\n      &quot;type&quot; : {\r\n        &quot;id&quot; : &quot;11_1_1_1_xx&quot;,\r\n        &quot;typeName&quot; : &quot;xx&quot;\r\n      }\r\n    } ]","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>You may consider another library <em>Josson</em> that a simple statement can do the job. And the function even supports unknown and unlimited number of path levels.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: 11,&quot; +\n    &quot;  \\&quot;item\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;id\\&quot;: \\&quot;11_1\\&quot;,&quot; +\n    &quot;      \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;      \\&quot;type\\&quot;: {&quot; +\n    &quot;        \\&quot;id\\&quot;: \\&quot;11_1_xx\\&quot;,&quot; +\n    &quot;        \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      \\&quot;item\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_1\\&quot;,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;          \\&quot;type\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: \\&quot;11_1_1_zz\\&quot;,&quot; +\n    &quot;            \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\n    &quot;          },&quot; +\n    &quot;          \\&quot;item\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;              \\&quot;id\\&quot;: \\&quot;11_1_1_1\\&quot;,&quot; +\n    &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;              \\&quot;type\\&quot;: {&quot; +\n    &quot;                \\&quot;id\\&quot;: \\&quot;11_1_1_1_xx\\&quot;,&quot; +\n    &quot;                \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;              }&quot; +\n    &quot;            }&quot; +\n    &quot;          ]&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;          \\&quot;id\\&quot;: \\&quot;11_1_2\\&quot;,&quot; +\n    &quot;          \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;          \\&quot;type\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: \\&quot;11_1_2_xx\\&quot;,&quot; +\n    &quot;            \\&quot;typeName\\&quot;: \\&quot;xx\\&quot;&quot; +\n    &quot;          },&quot; +\n    &quot;          \\&quot;item\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;              \\&quot;id\\&quot;: \\&quot;11_1_2_1\\&quot;,&quot; +\n    &quot;              \\&quot;action\\&quot;: \\&quot;add\\&quot;,&quot; +\n    &quot;              \\&quot;type\\&quot;: {&quot; +\n    &quot;                \\&quot;id\\&quot;: \\&quot;11_1_2_1_zz\\&quot;,&quot; +\n    &quot;                \\&quot;typeName\\&quot;: \\&quot;zz\\&quot;&quot; +\n    &quot;              }&quot; +\n    &quot;            }&quot; +\n    &quot;          ]&quot; +\n    &quot;        }&quot; +\n    &quot;      ]&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;cumulateCollect(item[type.typeName='xx']*.field(item:), item).flatten(1)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;id&quot; : &quot;11_1&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;11_1_2&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_2_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;11_1_1_1&quot;,\n  &quot;action&quot; : &quot;add&quot;,\n  &quot;type&quot; : {\n    &quot;id&quot; : &quot;11_1_1_1_xx&quot;,\n    &quot;typeName&quot; : &quot;xx&quot;\n  }\n} ]\n</code></pre>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73599365,"answer_count":2,"score":0,"last_activity_date":1662659189,"creation_date":1662283487,"question_id":73598200,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to filter by the inner value of the attribute.\r\n\r\n**My goal is to get an array that contains only the items with the typeName &#39;xx&#39;.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 11,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;11_1&quot;,\r\n      &quot;action&quot;: &quot;add&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;id&quot;: &quot;11_1_xx&quot;,\r\n        &quot;typeName&quot;: &quot;xx&quot;\r\n      },\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;11_1_1&quot;,\r\n          &quot;action&quot;: &quot;add&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;id&quot;: &quot;11_1_1_zz&quot;,\r\n            &quot;typeName&quot;: &quot;zz&quot;\r\n          },\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_1_1&quot;,\r\n              &quot;action&quot;: &quot;add&quot;,\r\n              &quot;type&quot;: {\r\n                &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\r\n                &quot;typeName&quot;: &quot;xx&quot;\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;11_1_2&quot;,\r\n          &quot;action&quot;: &quot;add&quot;,\r\n          &quot;type&quot;: {\r\n            &quot;id&quot;: &quot;11_1_2_xx&quot;,\r\n            &quot;typeName&quot;: &quot;xx&quot;\r\n          },\r\n          &quot;item&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;11_1_2_1&quot;,\r\n              &quot;action&quot;: &quot;add&quot;,\r\n              &quot;type&quot;: {\r\n                &quot;id&quot;: &quot;11_1_2_1_zz&quot;,\r\n                &quot;typeName&quot;: &quot;zz&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;11_1&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;11_1_1_1&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n}, {\r\n    &quot;id&quot;: &quot;11_1_2&quot;,\r\n    &quot;action&quot;: &quot;add&quot;,\r\n    &quot;type&quot;: {\r\n      &quot;id&quot;: &quot;11_1_2_xx&quot;,\r\n      &quot;typeName&quot;: &quot;xx&quot;\r\n    }\r\n  }\r\n]\r\n\r\n\r\n```\r\n\r\nCan you please help me to write a simple spec that will do this?\r\n","title":"JOLT shift transformation: filter by inner value of a property (not the name)","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to filter by the inner value of the attribute.</p>\n<p><strong>My goal is to get an array that contains only the items with the typeName 'xx'.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 11,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;11_1&quot;,\n      &quot;action&quot;: &quot;add&quot;,\n      &quot;type&quot;: {\n        &quot;id&quot;: &quot;11_1_xx&quot;,\n        &quot;typeName&quot;: &quot;xx&quot;\n      },\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;11_1_1&quot;,\n          &quot;action&quot;: &quot;add&quot;,\n          &quot;type&quot;: {\n            &quot;id&quot;: &quot;11_1_1_zz&quot;,\n            &quot;typeName&quot;: &quot;zz&quot;\n          },\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_1_1&quot;,\n              &quot;action&quot;: &quot;add&quot;,\n              &quot;type&quot;: {\n                &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\n                &quot;typeName&quot;: &quot;xx&quot;\n              }\n            }\n          ]\n        },\n        {\n          &quot;id&quot;: &quot;11_1_2&quot;,\n          &quot;action&quot;: &quot;add&quot;,\n          &quot;type&quot;: {\n            &quot;id&quot;: &quot;11_1_2_xx&quot;,\n            &quot;typeName&quot;: &quot;xx&quot;\n          },\n          &quot;item&quot;: [\n            {\n              &quot;id&quot;: &quot;11_1_2_1&quot;,\n              &quot;action&quot;: &quot;add&quot;,\n              &quot;type&quot;: {\n                &quot;id&quot;: &quot;11_1_2_1_zz&quot;,\n                &quot;typeName&quot;: &quot;zz&quot;\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;11_1&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n  },\n  {\n    &quot;id&quot;: &quot;11_1_1_1&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_1_1_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n}, {\n    &quot;id&quot;: &quot;11_1_2&quot;,\n    &quot;action&quot;: &quot;add&quot;,\n    &quot;type&quot;: {\n      &quot;id&quot;: &quot;11_1_2_xx&quot;,\n      &quot;typeName&quot;: &quot;xx&quot;\n    }\n  }\n]\n\n\n</code></pre>\n<p>Can you please help me to write a simple spec that will do this?</p>\n"},{"tags":["java","c++","arduino","serial-port","processing"],"comments":[{"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"score":1,"creation_date":1644512887,"post_id":71068806,"comment_id":125632567,"body_markdown":"Does this answer your question? [Arduino and Processing Code Error &quot;disabling\\_serialevent()&quot;](https://stackoverflow.com/questions/26070466/arduino-and-processing-code-error-disabling-serialevent)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26070466/arduino-and-processing-code-error-disabling-serialevent\">Arduino and Processing Code Error &quot;disabling_serialevent()&quot;</a>"},{"owner":{"account_id":24217311,"reputation":11,"user_id":18172999,"display_name":"Toran Mintamu"},"score":0,"creation_date":1644803725,"post_id":71068806,"comment_id":125695581,"body_markdown":"i tried but it doesn&#39;t work","body":"i tried but it doesn&#39;t work"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1662658587,"post_id":71068806,"comment_id":130062844,"body_markdown":"There are plenty of duplicates for this problem (that probably has the same reason). What is the canonical question?","body":"There are plenty of duplicates for this problem (that probably has the same reason). What is the canonical question?"}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662659012,"creation_date":1645030973,"answer_id":71146168,"question_id":71068806,"body_markdown":"That error occurs whenever an exception is thrown within the method.\r\n\r\nYou&#39;ve chosen not to handle exceptions when creating the `Robot` instance.\r\n\r\nI recommend initialising `Robot` once in setup rather than over and over again (whenever there&#39;s a new serial message).\r\nAdditionally, it might help to use [Java naming conventions][1] such as reserving `TitleCase` for class names and `camelCase` for instance names.\r\n\r\nThe main error is probably with this line though:\r\n\r\n    KeyString = KeyString.substring(0, KeyString.indexOf(&#39;:&#39;));\r\n\r\nThis is optimistically assuming there are absolutely no errors with serial communication and the always is a `:` character. If something goes wrong and the string either split or empty, `indexOf(&#39;:&#39;)` will return -1 (not found) which makes `.substring(0, -1)` and illegal character index range.\r\n\r\nHere&#39;s a modified version of your code with above suggestions applied:\r\n\r\n```java\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.KeyStroke;\r\n\r\nimport processing.serial.*;\r\n\r\n// Arduino serial port\r\nSerial arduino;\r\n// input string from Arduino\r\nString keyString = &quot;&quot;;\r\n// keyboard shortcut trigger\r\nRobot keyboard;\r\n\r\nvoid setup()\r\n{\r\n  println(&quot;HI&quot;);\r\n  size(700, 500);\r\n\r\n  try{\r\n    arduino = new Serial(this, &quot;COM3&quot;, 9600);\r\n    arduino.bufferUntil(&#39;\\n&#39;);\r\n  }catch(Exception e){\r\n    println(&quot;error setting up Arduino: double check the port name is correct, present in Device Manager and not used by other apps (e.g. Serial Monitor)&quot;);\r\n    e.printStackTrace();\r\n    exit();\r\n  }\r\n\r\n  try{\r\n   keyboard = new Robot();\r\n  }catch(Exception e){\r\n    println(&quot;Error setting up Robot keyboard trigger&quot;);\r\n    exit();\r\n  }\r\n\r\n}\r\nvoid draw(){\r\n  background(0, 0, 0);\r\n  fill(255, 0, 0);\r\n  text(&quot;Press any key&quot;, 100, 175);\r\n}\r\n\r\nvoid serialEvent(Serial arduino) {\r\n  keyString = arduino.readString(&#39;\\n&#39;);\r\n  // handle edge case\r\n  if(keyString == null){\r\n    // optional: println(&quot;null string: skipping&quot;)\r\n    return;\r\n  }\r\n  // remove any whitespace\r\n  keyString.trim();\r\n  if(keyString.isEmpty()){\r\n    // optional: println(&quot;read empty string: skipping&quot;)\r\n    return;\r\n  }\r\n\r\n  // extract 1st section until &#39;:&#39;\r\n  int separatorIndex = keyString.indexOf(&#39;:&#39;);\r\n  if(separatorIndex &lt; 0){\r\n    // optional: println(&quot;no &#39;:&#39; found: skipping&quot;)\r\n    return;\r\n  }\r\n\r\n  keyString = keyString.substring(0, separatorIndex);\r\n  println(keyString);\r\n\r\n  switch(keyString){\r\n    case &quot;Up&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_UP);\r\n      keyboard.keyRelease(KeyEvent.VK_UP);\r\n      break;\r\n    case &quot;Down&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_DOWN);\r\n      keyboard.keyRelease(KeyEvent.VK_DOWN);\r\n      break;\r\n    case &quot;Left&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_LEFT);\r\n      keyboard.keyRelease(KeyEvent.VK_LEFT);\r\n      break;\r\n    case &quot;Right&quot; :\r\n      keyboard.keyPress(KeyEvent.VK_RIGHT);\r\n      keyboard.keyRelease(KeyEvent.VK_RIGHT);\r\n      break;\r\n  }\r\n\r\n}\r\n```\r\n\r\nI would also double check test the `keyPress()/keyRelease()` calls in isolation to ensure that the above code will work as intended (and won&#39;t require a delay between press and release).\r\n\r\nIf you simply to need to send a keypress you can send a single byte(value from 0-255). The actual `keyCode` for the arrow keys are 37(left), 38(up), 39(right), 40(down) so you could do send this from Arduino:\r\n\r\n    Serial.write(38);\r\n\r\nand on the Processing side read a single byte and check it&#39;s value.\r\nRemember that in Java a byte is from -127 to 128 instead of 0-255, so you&#39;d need to mask it, for example:\r\n\r\n    if(arduino.read() &amp; 0xFF == 38) println(&quot;up&quot;);\r\n\r\nAlso note that there are other microcontrollers that could work as HID device (e.g., USB keyboard or mouse) instead of serial port. [Makey Makey][2] is a cute example of that, but there are also Arduino boards using the [ATmega32U4][3] chip which can act as HID device (e.g., [Arduino Leonardo][4], 32U4 breakouts, etc.).\r\nFor this, check out the [Keyboard Arduino Reference][5].\r\n\r\nThe advantage of this option would be simplicity: one less failure point (the serial communication software to trigger the keypresses).\r\nThis disadvantage would be sending additional data. For example, if you need to send some extra values/data after the &#39;:&#39; that won&#39;t be straightforward to replace with keypresses.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://makeymakey.com/\r\n  [3]: https://www.microchip.com/wwwproducts/en/ATmega32U4\r\n  [4]: https://store.arduino.cc/arduino-leonardo-with-headers\r\n  [5]: https://www.arduino.cc/reference/en/language/functions/usb/keyboard/\r\n\r\n","title":"Arduino and Processing code error &quot;disabling serialEvent()&quot;","body":"<p>That error occurs whenever an exception is thrown within the method.</p>\n<p>You've chosen not to handle exceptions when creating the <code>Robot</code> instance.</p>\n<p>I recommend initialising <code>Robot</code> once in setup rather than over and over again (whenever there's a new serial message).\nAdditionally, it might help to use <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> such as reserving <code>TitleCase</code> for class names and <code>camelCase</code> for instance names.</p>\n<p>The main error is probably with this line though:</p>\n<pre><code>KeyString = KeyString.substring(0, KeyString.indexOf(':'));\n</code></pre>\n<p>This is optimistically assuming there are absolutely no errors with serial communication and the always is a <code>:</code> character. If something goes wrong and the string either split or empty, <code>indexOf(':')</code> will return -1 (not found) which makes <code>.substring(0, -1)</code> and illegal character index range.</p>\n<p>Here's a modified version of your code with above suggestions applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.KeyStroke;\n\nimport processing.serial.*;\n\n// Arduino serial port\nSerial arduino;\n// input string from Arduino\nString keyString = &quot;&quot;;\n// keyboard shortcut trigger\nRobot keyboard;\n\nvoid setup()\n{\n  println(&quot;HI&quot;);\n  size(700, 500);\n\n  try{\n    arduino = new Serial(this, &quot;COM3&quot;, 9600);\n    arduino.bufferUntil('\\n');\n  }catch(Exception e){\n    println(&quot;error setting up Arduino: double check the port name is correct, present in Device Manager and not used by other apps (e.g. Serial Monitor)&quot;);\n    e.printStackTrace();\n    exit();\n  }\n\n  try{\n   keyboard = new Robot();\n  }catch(Exception e){\n    println(&quot;Error setting up Robot keyboard trigger&quot;);\n    exit();\n  }\n\n}\nvoid draw(){\n  background(0, 0, 0);\n  fill(255, 0, 0);\n  text(&quot;Press any key&quot;, 100, 175);\n}\n\nvoid serialEvent(Serial arduino) {\n  keyString = arduino.readString('\\n');\n  // handle edge case\n  if(keyString == null){\n    // optional: println(&quot;null string: skipping&quot;)\n    return;\n  }\n  // remove any whitespace\n  keyString.trim();\n  if(keyString.isEmpty()){\n    // optional: println(&quot;read empty string: skipping&quot;)\n    return;\n  }\n\n  // extract 1st section until ':'\n  int separatorIndex = keyString.indexOf(':');\n  if(separatorIndex &lt; 0){\n    // optional: println(&quot;no ':' found: skipping&quot;)\n    return;\n  }\n\n  keyString = keyString.substring(0, separatorIndex);\n  println(keyString);\n\n  switch(keyString){\n    case &quot;Up&quot; :\n      keyboard.keyPress(KeyEvent.VK_UP);\n      keyboard.keyRelease(KeyEvent.VK_UP);\n      break;\n    case &quot;Down&quot; :\n      keyboard.keyPress(KeyEvent.VK_DOWN);\n      keyboard.keyRelease(KeyEvent.VK_DOWN);\n      break;\n    case &quot;Left&quot; :\n      keyboard.keyPress(KeyEvent.VK_LEFT);\n      keyboard.keyRelease(KeyEvent.VK_LEFT);\n      break;\n    case &quot;Right&quot; :\n      keyboard.keyPress(KeyEvent.VK_RIGHT);\n      keyboard.keyRelease(KeyEvent.VK_RIGHT);\n      break;\n  }\n\n}\n</code></pre>\n<p>I would also double check test the <code>keyPress()/keyRelease()</code> calls in isolation to ensure that the above code will work as intended (and won't require a delay between press and release).</p>\n<p>If you simply to need to send a keypress you can send a single byte(value from 0-255). The actual <code>keyCode</code> for the arrow keys are 37(left), 38(up), 39(right), 40(down) so you could do send this from Arduino:</p>\n<pre><code>Serial.write(38);\n</code></pre>\n<p>and on the Processing side read a single byte and check it's value.\nRemember that in Java a byte is from -127 to 128 instead of 0-255, so you'd need to mask it, for example:</p>\n<pre><code>if(arduino.read() &amp; 0xFF == 38) println(&quot;up&quot;);\n</code></pre>\n<p>Also note that there are other microcontrollers that could work as HID device (e.g., USB keyboard or mouse) instead of serial port. <a href=\"https://makeymakey.com/\" rel=\"nofollow noreferrer\">Makey Makey</a> is a cute example of that, but there are also Arduino boards using the <a href=\"https://www.microchip.com/wwwproducts/en/ATmega32U4\" rel=\"nofollow noreferrer\">ATmega32U4</a> chip which can act as HID device (e.g., <a href=\"https://store.arduino.cc/arduino-leonardo-with-headers\" rel=\"nofollow noreferrer\">Arduino Leonardo</a>, 32U4 breakouts, etc.).\nFor this, check out the <a href=\"https://www.arduino.cc/reference/en/language/functions/usb/keyboard/\" rel=\"nofollow noreferrer\">Keyboard Arduino Reference</a>.</p>\n<p>The advantage of this option would be simplicity: one less failure point (the serial communication software to trigger the keypresses).\nThis disadvantage would be sending additional data. For example, if you need to send some extra values/data after the ':' that won't be straightforward to replace with keypresses.</p>\n"}],"owner":{"account_id":24217311,"reputation":11,"user_id":18172999,"display_name":"Toran Mintamu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662659012,"creation_date":1644510721,"question_id":71068806,"body_markdown":"I am facing the following error in [Processing][1].\r\n\r\nI&#39;m using Windows 10, Processing version 3.5.4, and Arduino version 1.8.16.\r\n\r\n&gt; Error, disabling serialEvent() for COM3\r\nnull\r\n\r\nProcessing code:\r\n\r\n```\r\nimport processing.serial.*;\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.KeyStroke;\r\nSerial MyPort;\r\nString KeyString = &quot;&quot;;\r\n\r\nvoid setup()\r\n{\r\n  System.out.println(&quot;HI&quot;);\r\n  size(700, 500);\r\n  MyPort = new Serial(this, &quot;COM3&quot;, 9600);\r\n  MyPort.bufferUntil(&#39;\\n&#39;);\r\n}\r\n\r\nvoid draw() {\r\n  background(0, 0, 0);\r\n  fill(255, 0, 0);\r\n  text(&quot;Press any key&quot;, 100, 175);\r\n}\r\n\r\nvoid serialEvent(Serial MyPort)throws Exception {\r\n   KeyString = MyPort.readStringUntil(&#39;\\n&#39;);\r\n   KeyString = KeyString.substring(0, KeyString.indexOf(&#39;:&#39;));\r\n   System.out.println(KeyString);\r\n   Robot Arduino = new Robot();\r\n\r\n   switch(KeyString) {\r\n\r\n     case &quot;Up&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_UP);\r\n       Arduino.keyRelease(KeyEvent.VK_UP);\r\n       break;\r\n\r\n     case &quot;Down&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_DOWN);\r\n       Arduino.keyRelease(KeyEvent.VK_DOWN);\r\n       break;\r\n\r\n     case &quot;Left&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_LEFT);\r\n       Arduino.keyRelease(KeyEvent.VK_LEFT);\r\n       break;\r\n\r\n     case &quot;Right&quot;:\r\n       Arduino.keyPress(KeyEvent.VK_RIGHT);\r\n       Arduino.keyRelease(KeyEvent.VK_RIGHT);\r\n       break;\r\n   }\r\n\r\n}\r\n```\r\n\r\nOr is there a way to control the buttons (up, down, left, right, any...)?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Processing_%28programming_language%29\r\n\r\n\r\n\r\n\r\n\r\n","title":"Arduino and Processing code error &quot;disabling serialEvent()&quot;","body":"<p>I am facing the following error in <a href=\"https://en.wikipedia.org/wiki/Processing_%28programming_language%29\" rel=\"nofollow noreferrer\">Processing</a>.</p>\n<p>I'm using Windows 10, Processing version 3.5.4, and Arduino version 1.8.16.</p>\n<blockquote>\n<p>Error, disabling serialEvent() for COM3\nnull</p>\n</blockquote>\n<p>Processing code:</p>\n<pre><code>import processing.serial.*;\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.KeyStroke;\nSerial MyPort;\nString KeyString = &quot;&quot;;\n\nvoid setup()\n{\n  System.out.println(&quot;HI&quot;);\n  size(700, 500);\n  MyPort = new Serial(this, &quot;COM3&quot;, 9600);\n  MyPort.bufferUntil('\\n');\n}\n\nvoid draw() {\n  background(0, 0, 0);\n  fill(255, 0, 0);\n  text(&quot;Press any key&quot;, 100, 175);\n}\n\nvoid serialEvent(Serial MyPort)throws Exception {\n   KeyString = MyPort.readStringUntil('\\n');\n   KeyString = KeyString.substring(0, KeyString.indexOf(':'));\n   System.out.println(KeyString);\n   Robot Arduino = new Robot();\n\n   switch(KeyString) {\n\n     case &quot;Up&quot;:\n       Arduino.keyPress(KeyEvent.VK_UP);\n       Arduino.keyRelease(KeyEvent.VK_UP);\n       break;\n\n     case &quot;Down&quot;:\n       Arduino.keyPress(KeyEvent.VK_DOWN);\n       Arduino.keyRelease(KeyEvent.VK_DOWN);\n       break;\n\n     case &quot;Left&quot;:\n       Arduino.keyPress(KeyEvent.VK_LEFT);\n       Arduino.keyRelease(KeyEvent.VK_LEFT);\n       break;\n\n     case &quot;Right&quot;:\n       Arduino.keyPress(KeyEvent.VK_RIGHT);\n       Arduino.keyRelease(KeyEvent.VK_RIGHT);\n       break;\n   }\n\n}\n</code></pre>\n<p>Or is there a way to control the buttons (up, down, left, right, any...)?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1662658569,"post_id":73653026,"comment_id":130062837,"body_markdown":"Use [`getSelectedItems()`](https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems()) instead of `getSelectedItem()` to get a list of everything that&#39;s selected.","body":"Use <a href=\"https://openjfx.io/javadoc/18/javafx.controls/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems()\" rel=\"nofollow noreferrer\"><code>getSelectedItems()</code></a> instead of <code>getSelectedItem()</code> to get a list of everything that&#39;s selected."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1662658712,"post_id":73653026,"comment_id":130062880,"body_markdown":"Off topic: use proper class structures, e.g. `Deck`, `Truck`, `Wheel`, and `Part` classes as appropriate, with `name` and `price` field to avoid all the ridiculously repetitive code.","body":"Off topic: use proper class structures, e.g. <code>Deck</code>, <code>Truck</code>, <code>Wheel</code>, and <code>Part</code> classes as appropriate, with <code>name</code> and <code>price</code> field to avoid all the ridiculously repetitive code."}],"answers":[{"tags":[],"owner":{"account_id":11937791,"reputation":17,"user_id":8735629,"display_name":"Scott Gibson"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1662658946,"creation_date":1662658500,"answer_id":73653083,"question_id":73653026,"body_markdown":"Try using the GetSelectedItems (instead of GetSelectedItem), since your code will return a MultipleSelectionModel\r\n\r\nhttps://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--\r\n\r\nheres an example of it on stack overflow \r\n\r\nhttps://stackoverflow.com/questions/24158394/javafx-listview-multiple-selection","title":"JavaFX - How do I check if the user selected multiple items in a ListView","body":"<p>Try using the GetSelectedItems (instead of GetSelectedItem), since your code will return a MultipleSelectionModel</p>\n<p><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MultipleSelectionModel.html#getSelectedItems--</a></p>\n<p>heres an example of it on stack overflow</p>\n<p><a href=\"https://stackoverflow.com/questions/24158394/javafx-listview-multiple-selection\">JavaFX ListView Multiple Selection</a></p>\n"}],"owner":{"account_id":22716015,"reputation":3,"user_id":16881266,"display_name":"EMAN-GAMING"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662659263,"answer_count":1,"score":0,"last_activity_date":1662658946,"creation_date":1662658177,"question_id":73653026,"body_markdown":"I&#39;m trying to have a user pick as many items on a JavaFX ListView. However, the method I&#39;m using doesn&#39;t seem to take into account the the possibility of multiple choices.\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.geometry.Pos;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.SelectionMode;\r\n    import javafx.scene.control.Alert.AlertType;\r\n    \r\n    /**\r\n     *  Skateboard Designer\r\n     *  \r\n     *  @author Emanuel &quot;Manny&quot; Luna\r\n     */\r\n    \r\n    public class SkateboardDesigner_Luna extends Application\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t// Launch the application.\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage)\r\n    \t{\r\n    \t\t// *********************************************\r\n    \t\t// Set up components.\r\n    \t\t// *********************************************      \r\n    \r\n    \t\t// Build the Decks ComboBox.\r\n    \t\tComboBox&lt;String&gt; deckComboBox = new ComboBox&lt;&gt;();\r\n    \t\tdeckComboBox.getItems().addAll(&quot;The Master Thrasher $60&quot;,\r\n    \t\t\t\t&quot;The Dictator        $45&quot;,\r\n    \t\t\t\t&quot;The Street King     $50&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select a deck\r\n    \t\tLabel deckPromptLabel = new Label(&quot;Select a Deck&quot;);\r\n    \t\tVBox deckVBox = new VBox(10, deckPromptLabel, deckComboBox);\r\n    \r\n    \t\t// Build the Truck Assemblies ComboBox.\r\n    \t\tComboBox&lt;String&gt; truckComboBox = new ComboBox&lt;&gt;();\r\n    \t\ttruckComboBox.getItems().addAll(&quot;7.75 inch axle  $35&quot;,\r\n    \t\t\t\t&quot;8 inch axle     $40&quot;,\r\n    \t\t\t\t&quot;8.5 inch axle   $45&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select a truck assembly\r\n    \t\tLabel truckPromptLabel = new Label(&quot;Select a Truck Assembly&quot;);\r\n    \t\tVBox truckVBox = new VBox(10, truckPromptLabel, truckComboBox);\r\n    \r\n    \t\t// Build the Wheels ComboBox.\r\n    \t\tComboBox&lt;String&gt; wheelComboBox = new ComboBox&lt;&gt;();\r\n    \t\twheelComboBox.getItems().addAll(&quot;51mm  $20&quot;,\r\n    \t\t\t\t&quot;55mm  $22&quot;,\r\n    \t\t\t\t&quot;58mm  $24&quot;,\r\n    \t\t\t\t&quot;61mm  $28&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select wheels\r\n    \t\tLabel wheelPromptLabel = new Label(&quot;Select Wheels&quot;);\r\n    \t\tVBox wheelVBox = new VBox(10, wheelPromptLabel, wheelComboBox);\r\n    \r\n    \t\t// Build the Misc ListView.\r\n    \t\tListView&lt;String&gt; miscListView = new ListView&lt;&gt;();\r\n    \t\tmiscListView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n    \t\tmiscListView.getItems().addAll(&quot;Grip Tape        $10&quot;,\r\n    \t\t\t\t&quot;Bearings         $30&quot;,\r\n    \t\t\t\t&quot;Riser Pads       $2&quot;,\r\n    \t\t\t\t&quot;Nuts &amp; Bolts Kit $3&quot;);\r\n    \r\n    \t\t// Label to prompt the user to select misc parts\r\n    \t\tLabel miscPromptLabel = new Label(&quot;Select Misc Parts&quot;);\r\n    \t\tVBox miscVBox = new VBox(10, miscPromptLabel, miscListView);\r\n    \t\tHBox partsHBox = new HBox(10, deckVBox, truckVBox, wheelVBox, miscVBox);\r\n    \r\n    \t\t// Create the output label for total cost.\r\n    \t\tLabel costDescriptor = new Label(&quot;Cost:&quot;);\r\n    \t\tLabel costOutputLabel = new Label(&quot;0.00&quot;);\r\n    \t\tHBox costHBox = new HBox(10, costDescriptor, costOutputLabel);\r\n    \t\tcostHBox.setAlignment(Pos.CENTER);\r\n    \r\n    \t\t// Create the Calculate button.\r\n    \t\tButton calcButton = new Button(&quot;Calculate Cost&quot;);\r\n    \r\n    \t\t// Put everything into a VBox\r\n    \t\tVBox mainVBox = new VBox(10, partsHBox, costHBox, calcButton);\r\n    \t\tmainVBox.setAlignment(Pos.CENTER);\r\n    \t\tmainVBox.setPadding(new Insets(10));\r\n    \r\n    \t\t// *********************************************\r\n    \t\t// Register the event handler for the button here.\r\n    \t\t// *********************************************   \r\n    \t\tcalcButton.setOnAction(new EventHandler&lt;ActionEvent&gt;()\r\n    \t\t{\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(ActionEvent arg0) \r\n    \t\t\t{\r\n    \r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tdouble subTotal = 0;\r\n    \t\t\t\t\tdouble taxes = 0;\r\n    \t\t\t\t\tdouble total = 0;\r\n    \r\n    \t\t\t\t\t// First, the function will check to see what the \r\n    \t\t\t\t\t// user has chosen in the combo box&#39;s.\r\n    \r\n    \t\t\t\t\tString deck = deckComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString truck = truckComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString wheels = wheelComboBox.getSelectionModel().getSelectedItem();\r\n    \t\t\t\t\tString misc = miscListView.getSelectionModel().getSelectedItem();\r\n    \r\n    \r\n    \t\t\t\t\t// Second, the function checks what has been selected\r\n    \r\n    \r\n    \t\t\t\t\tif (deck.equals(&quot;The Master Thrasher $60&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 60;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (deck.equals(&quot;The Dictator        $45&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 45;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (deck.equals(&quot;The Street King     $50&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 50;\r\n    \t\t\t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\t\t\tif (truck.equals(&quot;7.75 inch axle  $35&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 35;\r\n    \r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (truck.equals(&quot;8 inch axle     $40&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 40;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (truck.equals(&quot;8.5 inch axle   $45&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 45;\r\n    \t\t\t\t\t}\r\n    \r\n    \r\n    \t\t\t\t\tif (wheels.equals(&quot;51mm  $20&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 20;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (wheels.equals(&quot;58mm  $24&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 24;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (wheels.equals(&quot;61mm  $28&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 28;\r\n    \t\t\t\t\t}\r\n    \r\n    // Here&#39;s the mistake\r\n    \t\t\t\t\tif(misc.equals(&quot;&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 10;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Bearings         $30&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 30;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Riser Pads       $2&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 2;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (misc.equals(&quot;Nuts &amp; Bolts Kit $3&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tsubTotal += 3;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttaxes = subTotal * 0.07;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttotal = subTotal + taxes;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tcostDescriptor.setText(String.format(&quot;Sub Total:\\nTax:\\nTotal:&quot;));\r\n    \t\t\t\t\tcostOutputLabel.setText(String.format(&quot;$%.2f%n$%.2f%n$%.2f&quot;, subTotal, taxes, total));\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t\tcatch(Exception e)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tAlert a = new Alert(AlertType.ERROR, &quot;Please pick one item from each category.&quot;);\r\n    \t\t\t\t\ta.setTitle(&quot;Error Message&quot;);\r\n    \t\t\t\t\ta.show();\r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t});\r\n    \r\n    \t\t// *********************************************\r\n    \t\t// Show the GUI!\r\n    \t\t// *********************************************\r\n    \r\n    \t\t// Add the main VBox to a scene.\r\n    \t\tScene scene = new Scene(mainVBox);\r\n    \r\n    \t\t// Set the scene to the stage and display it.\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    }\r\n\r\nWhen using &quot;misc&quot; it only takes the first option the user presses. How can I have it that it can add multiple items in the ListView and the method to know that the user checked a couple of items and then add the prices?","title":"JavaFX - How do I check if the user selected multiple items in a ListView","body":"<p>I'm trying to have a user pick as many items on a JavaFX ListView. However, the method I'm using doesn't seem to take into account the the possibility of multiple choices.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.geometry.Pos;\nimport javafx.geometry.Insets;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.SelectionMode;\nimport javafx.scene.control.Alert.AlertType;\n\n/**\n *  Skateboard Designer\n *  \n *  @author Emanuel &quot;Manny&quot; Luna\n */\n\npublic class SkateboardDesigner_Luna extends Application\n{\n    public static void main(String[] args)\n    {\n        // Launch the application.\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        // *********************************************\n        // Set up components.\n        // *********************************************      \n\n        // Build the Decks ComboBox.\n        ComboBox&lt;String&gt; deckComboBox = new ComboBox&lt;&gt;();\n        deckComboBox.getItems().addAll(&quot;The Master Thrasher $60&quot;,\n                &quot;The Dictator        $45&quot;,\n                &quot;The Street King     $50&quot;);\n\n        // Label to prompt the user to select a deck\n        Label deckPromptLabel = new Label(&quot;Select a Deck&quot;);\n        VBox deckVBox = new VBox(10, deckPromptLabel, deckComboBox);\n\n        // Build the Truck Assemblies ComboBox.\n        ComboBox&lt;String&gt; truckComboBox = new ComboBox&lt;&gt;();\n        truckComboBox.getItems().addAll(&quot;7.75 inch axle  $35&quot;,\n                &quot;8 inch axle     $40&quot;,\n                &quot;8.5 inch axle   $45&quot;);\n\n        // Label to prompt the user to select a truck assembly\n        Label truckPromptLabel = new Label(&quot;Select a Truck Assembly&quot;);\n        VBox truckVBox = new VBox(10, truckPromptLabel, truckComboBox);\n\n        // Build the Wheels ComboBox.\n        ComboBox&lt;String&gt; wheelComboBox = new ComboBox&lt;&gt;();\n        wheelComboBox.getItems().addAll(&quot;51mm  $20&quot;,\n                &quot;55mm  $22&quot;,\n                &quot;58mm  $24&quot;,\n                &quot;61mm  $28&quot;);\n\n        // Label to prompt the user to select wheels\n        Label wheelPromptLabel = new Label(&quot;Select Wheels&quot;);\n        VBox wheelVBox = new VBox(10, wheelPromptLabel, wheelComboBox);\n\n        // Build the Misc ListView.\n        ListView&lt;String&gt; miscListView = new ListView&lt;&gt;();\n        miscListView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n        miscListView.getItems().addAll(&quot;Grip Tape        $10&quot;,\n                &quot;Bearings         $30&quot;,\n                &quot;Riser Pads       $2&quot;,\n                &quot;Nuts &amp; Bolts Kit $3&quot;);\n\n        // Label to prompt the user to select misc parts\n        Label miscPromptLabel = new Label(&quot;Select Misc Parts&quot;);\n        VBox miscVBox = new VBox(10, miscPromptLabel, miscListView);\n        HBox partsHBox = new HBox(10, deckVBox, truckVBox, wheelVBox, miscVBox);\n\n        // Create the output label for total cost.\n        Label costDescriptor = new Label(&quot;Cost:&quot;);\n        Label costOutputLabel = new Label(&quot;0.00&quot;);\n        HBox costHBox = new HBox(10, costDescriptor, costOutputLabel);\n        costHBox.setAlignment(Pos.CENTER);\n\n        // Create the Calculate button.\n        Button calcButton = new Button(&quot;Calculate Cost&quot;);\n\n        // Put everything into a VBox\n        VBox mainVBox = new VBox(10, partsHBox, costHBox, calcButton);\n        mainVBox.setAlignment(Pos.CENTER);\n        mainVBox.setPadding(new Insets(10));\n\n        // *********************************************\n        // Register the event handler for the button here.\n        // *********************************************   \n        calcButton.setOnAction(new EventHandler&lt;ActionEvent&gt;()\n        {\n\n            @Override\n            public void handle(ActionEvent arg0) \n            {\n\n                try {\n\n                    double subTotal = 0;\n                    double taxes = 0;\n                    double total = 0;\n\n                    // First, the function will check to see what the \n                    // user has chosen in the combo box's.\n\n                    String deck = deckComboBox.getSelectionModel().getSelectedItem();\n                    String truck = truckComboBox.getSelectionModel().getSelectedItem();\n                    String wheels = wheelComboBox.getSelectionModel().getSelectedItem();\n                    String misc = miscListView.getSelectionModel().getSelectedItem();\n\n\n                    // Second, the function checks what has been selected\n\n\n                    if (deck.equals(&quot;The Master Thrasher $60&quot;))\n                    {\n                        subTotal += 60;\n                    }\n\n                    else if (deck.equals(&quot;The Dictator        $45&quot;))\n                    {\n                        subTotal += 45;\n                    }\n\n                    else if (deck.equals(&quot;The Street King     $50&quot;))\n                    {\n                        subTotal += 50;\n                    }\n\n\n\n                    if (truck.equals(&quot;7.75 inch axle  $35&quot;))\n                    {\n                        subTotal += 35;\n\n                    }\n\n                    else if (truck.equals(&quot;8 inch axle     $40&quot;))\n                    {\n                        subTotal += 40;\n                    }\n\n                    else if (truck.equals(&quot;8.5 inch axle   $45&quot;))\n                    {\n                        subTotal += 45;\n                    }\n\n\n                    if (wheels.equals(&quot;51mm  $20&quot;))\n                    {\n                        subTotal += 20;\n                    }\n\n                    else if (wheels.equals(&quot;58mm  $24&quot;))\n                    {\n                        subTotal += 24;\n                    }\n\n                    else if (wheels.equals(&quot;61mm  $28&quot;))\n                    {\n                        subTotal += 28;\n                    }\n\n// Here's the mistake\n                    if(misc.equals(&quot;&quot;))\n                    {\n                        subTotal += 10;\n                    }\n\n                    if (misc.equals(&quot;Bearings         $30&quot;))\n                    {\n                        subTotal += 30;\n                    }\n\n                    if (misc.equals(&quot;Riser Pads       $2&quot;))\n                    {\n                        subTotal += 2;\n                    }\n\n                    if (misc.equals(&quot;Nuts &amp; Bolts Kit $3&quot;))\n                    {\n                        subTotal += 3;\n                    }\n\n                        \n                    \n                    \n                    \n                    taxes = subTotal * 0.07;\n                    \n                    total = subTotal + taxes;\n                    \n                    costDescriptor.setText(String.format(&quot;Sub Total:\\nTax:\\nTotal:&quot;));\n                    costOutputLabel.setText(String.format(&quot;$%.2f%n$%.2f%n$%.2f&quot;, subTotal, taxes, total));\n\n                }\n\n\n                catch(Exception e)\n                {\n                    Alert a = new Alert(AlertType.ERROR, &quot;Please pick one item from each category.&quot;);\n                    a.setTitle(&quot;Error Message&quot;);\n                    a.show();\n                }\n\n\n            }\n\n        });\n\n        // *********************************************\n        // Show the GUI!\n        // *********************************************\n\n        // Add the main VBox to a scene.\n        Scene scene = new Scene(mainVBox);\n\n        // Set the scene to the stage and display it.\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>When using &quot;misc&quot; it only takes the first option the user presses. How can I have it that it can add multiple items in the ListView and the method to know that the user checked a couple of items and then add the prices?</p>\n"},{"tags":["java","spring","spring-boot","maven","microservices"],"comments":[{"owner":{"account_id":11488702,"reputation":77,"user_id":8420441,"accept_rate":33,"display_name":"Bijay Kumar Rai"},"score":0,"creation_date":1662657101,"post_id":73652655,"comment_id":130062339,"body_markdown":"I think this will help you. &lt;https://stackoverflow.com/questions/45755580/differentiate-between-maven-multi-module-and-spring-micro-services&gt;","body":"I think this will help you. &lt;<a href=\"https://stackoverflow.com/questions/45755580/differentiate-between-maven-multi-module-and-spring-micro-services\" title=\"differentiate between maven multi module and spring micro services\">stackoverflow.com/questions/45755580/&hellip;</a>&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662657335,"creation_date":1662657335,"answer_id":73652884,"question_id":73652655,"body_markdown":"What you are signalling is at if monorepo is a good strategy or multi- repo (repo per service/library).\r\n\r\n**Note:** \r\n&gt; Each independent repo or same repo can be itself multimodule project itself.\r\n\r\nThere is already a huge debate on mono vs multi repo. \r\n\r\nBoth are good fit for microservices.\r\n\r\n**Lots of things become influencing factor for this decision.**\r\n1. How are you going to write devops pipelines.\r\n2. how you want to structure your builds.\r\n3. Team requirements - is it okay for multiple teams/members committing in same repo for per microservice/team structure.\r\n\r\n\r\n**If you are going for monorepo(single repository all microservices+ libs)**\r\n1. You see all code at one place.\r\n2. Easy to collaborate as codebase is same.\r\n3. Easy to build and fix if any issues as its single codebase\r\n4. Easy to control build lifecycle - ie libs will be built in order first then microservices.\r\n5. Sometimes you will run in conflicts and issues if multiple teams are committing in same codebase.\r\n6. However, all teammates must follow some standards, practices and guidlines when many people are working on same repo. It is very essential to have proper procedure for commit, build and release.\r\n\r\n**If you are going for multi repo(repository per ms and libs)**\r\n1. You need to ensure you build separate project with dependencies in order you want. \r\n2. Build pipelines will be configured separately and cross dependencies will be there.\r\n3. You will have additional overhead to maintain separate projects.\r\n4. Debugging can be little difficult sometimes.\r\n5. Teams/members will collaborate and have responsibility to maintain their own repository. If that repo breaks, that repo and its build breaks.\r\n6. You need to ensure you publish your dependencies first and build them then work on your microservices.\r\n7. Its good if you have enough bandwidth to maintain multiple repositories.\r\n\r\nEssentially both are good approaches depending on your team structure, maturity and model that you feel comfortable.\r\n\r\nI am following monorepo for our services, following is the structure.\r\n\r\n     README.md\r\n     db\r\n    &#160;&#160;  create-dbs.sh\r\n     docker-compose.yaml\r\n     docs\r\n    &#160;&#160;  1. Prerequisites.md\r\n    &#160;&#160;  2. Documentation.md\r\n    &#160;&#160;  3. Running services.md\r\n     pom.xml\r\n     services\r\n    &#160;&#160;  books-service\r\n    &#160;&#160;  products-service\r\n     shared\r\n    &#160;&#160;  archunit-tests\r\n    &#160;&#160;  auditing-utils\r\n    &#160;&#160;  project-bom\r\n    &#160;&#160;  event-publisher\r\n    &#160;&#160;  logging-utils\r\n    &#160;&#160;  rest-clients\r\n    &#160;&#160;  utils\r\n     templates\r\n         azure-template\r\n\r\n\r\n**Few recommendations for you:**\r\n1. You can have a bill of materials for all services(bom) in libraries.\r\n2. You can have separate folder for services, libraries, documentation and so on.\r\n3. The parent pom can build whole project with libraries first then services.\r\n4. All folders need not be maven project, can be just simple folders.","title":"Microservices and maven structure","body":"<p>What you are signalling is at if monorepo is a good strategy or multi- repo (repo per service/library).</p>\n<p><strong>Note:</strong></p>\n<blockquote>\n<p>Each independent repo or same repo can be itself multimodule project itself.</p>\n</blockquote>\n<p>There is already a huge debate on mono vs multi repo.</p>\n<p>Both are good fit for microservices.</p>\n<p><strong>Lots of things become influencing factor for this decision.</strong></p>\n<ol>\n<li>How are you going to write devops pipelines.</li>\n<li>how you want to structure your builds.</li>\n<li>Team requirements - is it okay for multiple teams/members committing in same repo for per microservice/team structure.</li>\n</ol>\n<p><strong>If you are going for monorepo(single repository all microservices+ libs)</strong></p>\n<ol>\n<li>You see all code at one place.</li>\n<li>Easy to collaborate as codebase is same.</li>\n<li>Easy to build and fix if any issues as its single codebase</li>\n<li>Easy to control build lifecycle - ie libs will be built in order first then microservices.</li>\n<li>Sometimes you will run in conflicts and issues if multiple teams are committing in same codebase.</li>\n<li>However, all teammates must follow some standards, practices and guidlines when many people are working on same repo. It is very essential to have proper procedure for commit, build and release.</li>\n</ol>\n<p><strong>If you are going for multi repo(repository per ms and libs)</strong></p>\n<ol>\n<li>You need to ensure you build separate project with dependencies in order you want.</li>\n<li>Build pipelines will be configured separately and cross dependencies will be there.</li>\n<li>You will have additional overhead to maintain separate projects.</li>\n<li>Debugging can be little difficult sometimes.</li>\n<li>Teams/members will collaborate and have responsibility to maintain their own repository. If that repo breaks, that repo and its build breaks.</li>\n<li>You need to ensure you publish your dependencies first and build them then work on your microservices.</li>\n<li>Its good if you have enough bandwidth to maintain multiple repositories.</li>\n</ol>\n<p>Essentially both are good approaches depending on your team structure, maturity and model that you feel comfortable.</p>\n<p>I am following monorepo for our services, following is the structure.</p>\n<pre><code> README.md\n db\n  create-dbs.sh\n docker-compose.yaml\n docs\n  1. Prerequisites.md\n  2. Documentation.md\n  3. Running services.md\n pom.xml\n services\n  books-service\n  products-service\n shared\n  archunit-tests\n  auditing-utils\n  project-bom\n  event-publisher\n  logging-utils\n  rest-clients\n  utils\n templates\n     azure-template\n</code></pre>\n<p><strong>Few recommendations for you:</strong></p>\n<ol>\n<li>You can have a bill of materials for all services(bom) in libraries.</li>\n<li>You can have separate folder for services, libraries, documentation and so on.</li>\n<li>The parent pom can build whole project with libraries first then services.</li>\n<li>All folders need not be maven project, can be just simple folders.</li>\n</ol>\n"}],"owner":{"account_id":26203227,"reputation":21,"user_id":19883227,"display_name":"Matheus78"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662658577,"creation_date":1662656210,"question_id":73652655,"body_markdown":"I&#39;m really confused how someone would build some micro-services with Maven. I&#39;ve seen a lot of project using the multi-module strategy \r\n\r\n1. Is that a valid strategy? wouldn&#39;t that couple the whole project? because I will need to build the project from root (parent pom.xml)? and everything is related to everything I think\r\n2. Should I just build everything in their own?\r\n\r\n   - firstapplication\r\n \r\n   - seconddapplication\r\n\r\n   - thirdapplication\r\n\r\nAny help is really appreciated. \r\n\r\nI&#39;m really lost on how this works\r\n\r\n```none\r\n[ parentpom.xml ]\r\n|\r\n|___first-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\t\r\n|\t|__ services\r\n|\t|\t|__ [[ USES message-queue:producer ]]\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\t\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\t\r\n|___second-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ services\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|___third-application\r\n|\t|\r\n|\t|__ data-layer\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ services\r\n|\t|\t|__ [[ USES message-queue:consumer ]]\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ domain\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ application (REST)\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|\r\n|___message-queue (as wrapper of kafka/rabbit/etc)\r\n|\t|\r\n|\t|__ configuration_of_message_queue\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ consumer\r\n|\t|\t|\r\n|\t|\t|__ [[ USES message:queue:configuration ]]\r\n|\t|\t|\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ producer\r\n|\t|\t|\r\n|\t|\t|__ [[ USES message:queue:configuration ]]\r\n|\t|\t|\r\n|\t|\t|\r\n|\t|\t|__ pom.xml\r\n|\t|\r\n|\t|__ pom.xml\r\n|\r\n|\r\n|___ commonlibrary (some projects use this, some others dont)\r\n\t|__ pom.xml\r\n```\r\n```xml\r\n&lt;parentpom&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;first&lt;/module&gt;\r\n    &lt;module&gt;second&lt;/module&gt;\r\n    &lt;module&gt;third&lt;/module&gt;\r\n    &lt;module&gt;message-queue&lt;/module&gt;\r\n    &lt;module&gt;commonlibrary&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n&lt;/parentpom&gt;\r\n```","title":"Microservices and maven structure","body":"<p>I'm really confused how someone would build some micro-services with Maven. I've seen a lot of project using the multi-module strategy</p>\n<ol>\n<li><p>Is that a valid strategy? wouldn't that couple the whole project? because I will need to build the project from root (parent pom.xml)? and everything is related to everything I think</p>\n</li>\n<li><p>Should I just build everything in their own?</p>\n<ul>\n<li><p>firstapplication</p>\n</li>\n<li><p>seconddapplication</p>\n</li>\n<li><p>thirdapplication</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>Any help is really appreciated.</p>\n<p>I'm really lost on how this works</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ parentpom.xml ]\n|\n|___first-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |   \n|   |__ services\n|   |   |__ [[ USES message-queue:producer ]]\n|   |   |\n|   |   |__ pom.xml\n|   |   \n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|   \n|___second-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |\n|   |__ services\n|   |   |__ pom.xml\n|   |\n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|___third-application\n|   |\n|   |__ data-layer\n|   |   |__ pom.xml\n|   |\n|   |__ services\n|   |   |__ [[ USES message-queue:consumer ]]\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ domain\n|   |   |__ pom.xml\n|   |\n|   |__ application (REST)\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|\n|___message-queue (as wrapper of kafka/rabbit/etc)\n|   |\n|   |__ configuration_of_message_queue\n|   |   |__ pom.xml\n|   |\n|   |__ consumer\n|   |   |\n|   |   |__ [[ USES message:queue:configuration ]]\n|   |   |\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ producer\n|   |   |\n|   |   |__ [[ USES message:queue:configuration ]]\n|   |   |\n|   |   |\n|   |   |__ pom.xml\n|   |\n|   |__ pom.xml\n|\n|\n|___ commonlibrary (some projects use this, some others dont)\n    |__ pom.xml\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parentpom&gt;\n  &lt;modules&gt;\n    &lt;module&gt;first&lt;/module&gt;\n    &lt;module&gt;second&lt;/module&gt;\n    &lt;module&gt;third&lt;/module&gt;\n    &lt;module&gt;message-queue&lt;/module&gt;\n    &lt;module&gt;commonlibrary&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/parentpom&gt;\n</code></pre>\n"},{"tags":["java","android","listview","indexoutofboundsexception","commonsware-cwac"],"comments":[{"owner":{"account_id":251954,"reputation":2395,"user_id":529664,"accept_rate":88,"display_name":"om252345"},"score":0,"creation_date":1323349771,"post_id":8431342,"comment_id":10418073,"body_markdown":"is this happening with Samsung fit phone?","body":"is this happening with Samsung fit phone?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1323351663,"post_id":8431342,"comment_id":10418698,"body_markdown":"Related also to: http://stackoverflow.com/questions/1656593/android-endless-adapter","body":"Related also to: <a href=\"http://stackoverflow.com/questions/1656593/android-endless-adapter\" title=\"android endless adapter\">stackoverflow.com/questions/1656593/android-endless-adapter</a>"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1323351731,"post_id":8431342,"comment_id":10418720,"body_markdown":"This answer is also interesting: http://stackoverflow.com/a/3383885/179850","body":"This answer is also interesting: <a href=\"http://stackoverflow.com/a/3383885/179850\">stackoverflow.com/a/3383885/179850</a>"},{"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"score":0,"creation_date":1323353183,"post_id":8431342,"comment_id":10419159,"body_markdown":"@om252345 yes actually I&#39;ve managed to reproduce this on that exact phone","body":"@om252345 yes actually I&#39;ve managed to reproduce this on that exact phone"},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":0,"creation_date":1390403538,"post_id":8431342,"comment_id":32076525,"body_markdown":"You also get this issue when scrolling a list and then changing the adapters size to smaller that the current lists visible position before the fling has finished. Fix with `ListView.smoothScrollToPosition(...)`","body":"You also get this issue when scrolling a list and then changing the adapters size to smaller that the current lists visible position before the fling has finished. Fix with <code>ListView.smoothScrollToPosition(...)</code>"},{"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"score":0,"creation_date":1390499755,"post_id":8431342,"comment_id":32128362,"body_markdown":"@Dori nice! too bad I was on API 7 and this method was added on 8 :/","body":"@Dori nice! too bad I was on API 7 and this method was added on 8 :/"},{"owner":{"account_id":2801688,"reputation":396,"user_id":2409835,"display_name":"chinaanihchen"},"score":0,"creation_date":1448349092,"post_id":8431342,"comment_id":55538598,"body_markdown":"I find this problem in Nexus 5 with Android 6.0. I find this link  http://stackoverflow.com/questions/25471000/headerviewlistadapter-randomly-crashes) works","body":"I find this problem in Nexus 5 with Android 6.0. I find this link  <a href=\"http://stackoverflow.com/questions/25471000/headerviewlistadapter-randomly-crashes\" title=\"headerviewlistadapter randomly crashes\">stackoverflow.com/questions/25471000/&hellip;</a>) works"}],"answers":[{"tags":[],"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1332151466,"creation_date":1323359882,"answer_id":8433777,"question_id":8431342,"body_markdown":"After a lot of time checking the android source code and not understanding this error I&#39;ve finally cracked it.\r\n\r\nThe problem occurs with Samsung phones, they have a different implementation on the over-scroll functionality and that ended up throwing this exception as it tried to select a footer/header out of bounds (even when there is no footer view).\r\n\r\nThe solution I used is not pretty but it will stop this error from happening ever again.\r\n\r\n    class MyFixedListView extends ListView {\r\n        @Override\r\n    \tprotected void dispatchDraw(Canvas canvas) {\r\n    \t\ttry {\r\n    \t\t\tsuper.dispatchDraw(canvas);\r\n    \t\t} catch (IndexOutOfBoundsException e) {\r\n    \t\t\t// samsung error\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNow I use this `ListView` implementation and the error is gone.\r\n\r\nI really hope this helps anyone using endless adapters.","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>After a lot of time checking the android source code and not understanding this error I've finally cracked it.</p>\n\n<p>The problem occurs with Samsung phones, they have a different implementation on the over-scroll functionality and that ended up throwing this exception as it tried to select a footer/header out of bounds (even when there is no footer view).</p>\n\n<p>The solution I used is not pretty but it will stop this error from happening ever again.</p>\n\n<pre><code>class MyFixedListView extends ListView {\n    @Override\n    protected void dispatchDraw(Canvas canvas) {\n        try {\n            super.dispatchDraw(canvas);\n        } catch (IndexOutOfBoundsException e) {\n            // samsung error\n        }\n    }\n}\n</code></pre>\n\n<p>Now I use this <code>ListView</code> implementation and the error is gone.</p>\n\n<p>I really hope this helps anyone using endless adapters.</p>\n"},{"tags":[],"owner":{"account_id":223429,"reputation":578,"user_id":482623,"display_name":"Denys Nikolayenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445059995,"creation_date":1342178332,"answer_id":11469473,"question_id":8431342,"body_markdown":"Same issue happens in my app when testing on the ICS tablets. It happens only when I have 11 elements in the list, when **EndlessAdapter** loads by 10 items at time.\r\n\r\nThis is a race condition issue. The problem comes from the keepOnAppending flag update on the AsyncTask thread. While ListView accesses getCount on the UI thread andkeepOnAppending is set to true, later when it calls getView in the same UI thread andkeepOnAppending is already reset in the doInBackground:\r\n\r\n\t@Override\r\n\tpublic int getCount() {\r\n\t\tif (keepOnAppending.get()) {\r\n\t\t\treturn (super.getCount() + 1); // one more for\r\n\t\t\t\t\t\t\t\t\t\t\t// &quot;pending&quot;\r\n\t\t}\r\n\r\n\t\treturn (super.getCount());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic View getView(int position, View convertView, ViewGroup parent) {\r\n\t\tif (position == super.getCount() &amp;&amp; keepOnAppending.get()) {\r\n\t\t\tif (pendingView == null) {\r\n\t\t\t\tpendingView = getPendingView(parent);\r\n\r\n\t\t\t\texecuteAsyncTask(new AppendTask());\r\n\t\t\t}\r\n\r\n\t\t\treturn (pendingView);\r\n\t\t}\r\n\t\treturn (super.getView(position, convertView, parent));\r\n\t}\r\n\r\n\tclass AppendTask extends AsyncTask&lt;Void, Void, Exception&gt; {\r\n\t\t@Override\r\n\t\tprotected Exception doInBackground(Void... params) {\r\n\t\t\tException result = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tkeepOnAppending.set(cacheInBackground());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tresult = e;\r\n\t\t\t}\r\n\r\n\t\t\treturn (result);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(Exception e) {\r\n\t\t\tif (e == null) {\r\n\t\t\t\tappendCachedData();\r\n\t\t\t} else {\r\n\t\t\t\tkeepOnAppending.set(onException(pendingView, e));\r\n\t\t\t}\r\n\r\n\t\t\tpendingView = null;\r\n\t\t\tnotifyDataSetChanged();\r\n\t\t}\r\n\t}\r\n\r\nAs a fix, I changed the code of the AppendTask so that it updates keepOnAppending on the UI thread, only when new items added to the adapter.\r\n\r\nHere is the code:\r\n\r\n\tclass AppendTask extends AsyncTask&lt;Void, Void, AppendTask.Result&gt; {\r\n\t\tclass Result {\r\n\t\t\tboolean status;\r\n\t\t\tException ex;\r\n\r\n\t\t\tpublic Result(Exception ex) {\r\n\t\t\t\tthis.ex = ex;\r\n\t\t\t}\r\n\r\n\t\t\tpublic Result(boolean result) {\r\n\t\t\t\tthis.status = result;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected AppendTask.Result doInBackground(Void... params) {\r\n\t\t\ttry {\r\n\t\t\t\treturn new Result(cacheInBackground());\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\treturn new Result(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(AppendTask.Result result) {\r\n\t\t\tif (result.ex == null) {\r\n\t\t\t\tappendCachedData();\r\n\t\t\t\tkeepOnAppending.set(result.status);\r\n\t\t\t} else {\r\n\t\t\t\tkeepOnAppending.set(onException(pendingView, result.ex));\r\n\t\t\t}\r\n\r\n\t\t\tpendingView = null;\r\n\t\t\tnotifyDataSetChanged();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://github.com/commonsguy/cwac-endless/blob/master/src/com/commonsware/cwac/endless/EndlessAdapter.java","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>Same issue happens in my app when testing on the ICS tablets. It happens only when I have 11 elements in the list, when <strong>EndlessAdapter</strong> loads by 10 items at time.</p>\n\n<p>This is a race condition issue. The problem comes from the keepOnAppending flag update on the AsyncTask thread. While ListView accesses getCount on the UI thread andkeepOnAppending is set to true, later when it calls getView in the same UI thread andkeepOnAppending is already reset in the doInBackground:</p>\n\n<pre><code>@Override\npublic int getCount() {\n    if (keepOnAppending.get()) {\n        return (super.getCount() + 1); // one more for\n                                        // \"pending\"\n    }\n\n    return (super.getCount());\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    if (position == super.getCount() &amp;&amp; keepOnAppending.get()) {\n        if (pendingView == null) {\n            pendingView = getPendingView(parent);\n\n            executeAsyncTask(new AppendTask());\n        }\n\n        return (pendingView);\n    }\n    return (super.getView(position, convertView, parent));\n}\n\nclass AppendTask extends AsyncTask&lt;Void, Void, Exception&gt; {\n    @Override\n    protected Exception doInBackground(Void... params) {\n        Exception result = null;\n\n        try {\n            keepOnAppending.set(cacheInBackground());\n        } catch (Exception e) {\n            result = e;\n        }\n\n        return (result);\n    }\n\n    @Override\n    protected void onPostExecute(Exception e) {\n        if (e == null) {\n            appendCachedData();\n        } else {\n            keepOnAppending.set(onException(pendingView, e));\n        }\n\n        pendingView = null;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p>As a fix, I changed the code of the AppendTask so that it updates keepOnAppending on the UI thread, only when new items added to the adapter.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>class AppendTask extends AsyncTask&lt;Void, Void, AppendTask.Result&gt; {\n    class Result {\n        boolean status;\n        Exception ex;\n\n        public Result(Exception ex) {\n            this.ex = ex;\n        }\n\n        public Result(boolean result) {\n            this.status = result;\n        }\n    }\n\n    @Override\n    protected AppendTask.Result doInBackground(Void... params) {\n        try {\n            return new Result(cacheInBackground());\n        } catch (Exception e) {\n            return new Result(e);\n        }\n    }\n\n    @Override\n    protected void onPostExecute(AppendTask.Result result) {\n        if (result.ex == null) {\n            appendCachedData();\n            keepOnAppending.set(result.status);\n        } else {\n            keepOnAppending.set(onException(pendingView, result.ex));\n        }\n\n        pendingView = null;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19028726,"reputation":30,"user_id":13891284,"display_name":"primus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662658543,"creation_date":1662658543,"answer_id":73653094,"question_id":8431342,"body_markdown":"This reappeared for me with ListView and SimpleCursorAdapter when updating from different thread. I believe this is due to race condition and multithreading and that it can happen with all adapters. Relevant part to my solution:\r\n\r\n```\r\npublic class MyAdapter extends *Adapter {\r\n  /**\r\n  * We need this because even though we publish `notifyDataSetChanged()` on main thread, for \r\n  * example `isEnabled()` might already be there and it will run before it. Note that this \r\n  * should be set asap when underlying data changes. \r\n  */\r\n  private boolean notifyingDataChange = false;\r\n\r\n  /**\r\n  * Note that you might need to adapt code and only update notifyDataChange\r\n  * when underlying data changes\r\n  */\r\n  public void notifyDataSetChangedOnMain(@NonNull Context context) {\r\n    notifyingDataChange = true;\r\n\r\n    ContextCompat.getMainExecutor(context).execute(() -&gt; {\r\n      notifyDataSetChanged();\r\n      notifyingDataChange = false;\r\n    });\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled(int position) {\r\n    if (notifyingDataChange) {\r\n      return false;\r\n    }\r\n\r\n    return super.isEnabled(position); // or other logic if needed\r\n  }\r\n}\r\n```","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>This reappeared for me with ListView and SimpleCursorAdapter when updating from different thread. I believe this is due to race condition and multithreading and that it can happen with all adapters. Relevant part to my solution:</p>\n<pre><code>public class MyAdapter extends *Adapter {\n  /**\n  * We need this because even though we publish `notifyDataSetChanged()` on main thread, for \n  * example `isEnabled()` might already be there and it will run before it. Note that this \n  * should be set asap when underlying data changes. \n  */\n  private boolean notifyingDataChange = false;\n\n  /**\n  * Note that you might need to adapt code and only update notifyDataChange\n  * when underlying data changes\n  */\n  public void notifyDataSetChangedOnMain(@NonNull Context context) {\n    notifyingDataChange = true;\n\n    ContextCompat.getMainExecutor(context).execute(() -&gt; {\n      notifyDataSetChanged();\n      notifyingDataChange = false;\n    });\n  }\n\n  @Override\n  public boolean isEnabled(int position) {\n    if (notifyingDataChange) {\n      return false;\n    }\n\n    return super.isEnabled(position); // or other logic if needed\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":164325,"reputation":3805,"user_id":387008,"accept_rate":77,"display_name":"Draiken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11901,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":8433777,"answer_count":3,"score":21,"last_activity_date":1662658543,"creation_date":1323349091,"question_id":8431342,"body_markdown":"I have an app with tons of downloads and I&#39;m receiving a lot of this error:\r\n\r\n     16783         AndroidRuntime  E  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n     16783         AndroidRuntime  E  \tat java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)\r\n     16783         AndroidRuntime  E  \tat java.util.ArrayList.get(ArrayList.java:311)\r\n     16783         AndroidRuntime  E  \tat android.widget.HeaderViewListAdapter.isEnabled(HeaderViewListAdapter.java:16\r\n                                      4)\r\n     16783         AndroidRuntime  E  \tat android.widget.ListView.dispatchDrawWithExcessScroll_Default(ListView.java:3\r\n                                      288)\r\n     16783         AndroidRuntime  E  \tat android.widget.ListView.dispatchDraw(ListView.java:3029)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.widget.AbsListView.draw(AbsListView.java:2549)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1640)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.drawChild(ViewGroup.java:1638)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\r\n     16783         AndroidRuntime  E  \tat android.view.View.draw(View.java:6743)\r\n     16783         AndroidRuntime  E  \tat android.widget.FrameLayout.draw(FrameLayout.java:352)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java\r\n                                      :1885)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.draw(ViewRoot.java:1407)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.performTraversals(ViewRoot.java:1163)\r\n     16783         AndroidRuntime  E  \tat android.view.ViewRoot.handleMessage(ViewRoot.java:1727)\r\n     16783         AndroidRuntime  E  \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n     16783         AndroidRuntime  E  \tat android.os.Looper.loop(Looper.java:123)\r\n     16783         AndroidRuntime  E  \tat android.app.ActivityThread.main(ActivityThread.java:4627)\r\n     16783         AndroidRuntime  E  \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n     16783         AndroidRuntime  E  \tat java.lang.reflect.Method.invoke(Method.java:521)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:8\r\n                                      58)\r\n     16783         AndroidRuntime  E  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n     16783         AndroidRuntime  E  \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nAs you can see in the stack trace, there is not one line with my code trace in it.\r\nTo reproduce this, I luckily found an user with a Froyo (2.2 p7) and I just scrolled down one of the `ListView`s on the code. After some random time, it just froze with this exception. This happens every time at a different time.\r\n\r\nIt is a `ListView` with an `EndlessAdapter` behind it, just adding more and more rows.\r\nApparently I get this error when I do the &quot;over-scroll&quot; but I cannot even think of a way to fix this.\r\nIt is hard enough to reproduce, but with almost 200 users online at every time, if they keep getting this error they will end up not using the app anymore.\r\n\r\nAny help would be appreciated.\r\n\r\nEDIT: \r\nThere has been a similar issue with someone else with the `EndlessAdapter`. http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23\r\n\r\nBut it&#39;s not `EndlessAdapter`&#39;s fault. It&#39;s android&#39;s fault.","title":"ListView random IndexOutOfBoundsException on Froyo","body":"<p>I have an app with tons of downloads and I'm receiving a lot of this error:</p>\n\n<pre><code> 16783         AndroidRuntime  E  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n 16783         AndroidRuntime  E    at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)\n 16783         AndroidRuntime  E    at java.util.ArrayList.get(ArrayList.java:311)\n 16783         AndroidRuntime  E    at android.widget.HeaderViewListAdapter.isEnabled(HeaderViewListAdapter.java:16\n                                  4)\n 16783         AndroidRuntime  E    at android.widget.ListView.dispatchDrawWithExcessScroll_Default(ListView.java:3\n                                  288)\n 16783         AndroidRuntime  E    at android.widget.ListView.dispatchDraw(ListView.java:3029)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.widget.AbsListView.draw(AbsListView.java:2549)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)\n 16783         AndroidRuntime  E    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)\n 16783         AndroidRuntime  E    at android.view.View.draw(View.java:6743)\n 16783         AndroidRuntime  E    at android.widget.FrameLayout.draw(FrameLayout.java:352)\n 16783         AndroidRuntime  E    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java\n                                  :1885)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.draw(ViewRoot.java:1407)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.performTraversals(ViewRoot.java:1163)\n 16783         AndroidRuntime  E    at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)\n 16783         AndroidRuntime  E    at android.os.Handler.dispatchMessage(Handler.java:99)\n 16783         AndroidRuntime  E    at android.os.Looper.loop(Looper.java:123)\n 16783         AndroidRuntime  E    at android.app.ActivityThread.main(ActivityThread.java:4627)\n 16783         AndroidRuntime  E    at java.lang.reflect.Method.invokeNative(Native Method)\n 16783         AndroidRuntime  E    at java.lang.reflect.Method.invoke(Method.java:521)\n 16783         AndroidRuntime  E    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:8\n                                  58)\n 16783         AndroidRuntime  E    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n 16783         AndroidRuntime  E    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>As you can see in the stack trace, there is not one line with my code trace in it.\nTo reproduce this, I luckily found an user with a Froyo (2.2 p7) and I just scrolled down one of the <code>ListView</code>s on the code. After some random time, it just froze with this exception. This happens every time at a different time.</p>\n\n<p>It is a <code>ListView</code> with an <code>EndlessAdapter</code> behind it, just adding more and more rows.\nApparently I get this error when I do the \"over-scroll\" but I cannot even think of a way to fix this.\nIt is hard enough to reproduce, but with almost 200 users online at every time, if they keep getting this error they will end up not using the app anymore.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>EDIT: \nThere has been a similar issue with someone else with the <code>EndlessAdapter</code>. <a href=\"http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23\">http://groups.google.com/group/cw-android/browse_thread/thread/4739ce05742841da/af59c779e99f5e23?lnk=gst&amp;q=index#af59c779e99f5e23</a></p>\n\n<p>But it's not <code>EndlessAdapter</code>'s fault. It's android's fault.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8943,"page":1049,"page_size":100}
