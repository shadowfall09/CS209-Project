{"items":[{"tags":["java","list","if-statement","arraylist"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1678643555,"post_id":75715085,"comment_id":133569258,"body_markdown":"Your list contains elements of type `User`, but you are checking with `String`, it&#39;s like checking if a basket of oranges contains apples, of course it does not have any in it.","body":"Your list contains elements of type <code>User</code>, but you are checking with <code>String</code>, it&#39;s like checking if a basket of oranges contains apples, of course it does not have any in it."}],"owner":{"account_id":28000014,"reputation":1,"user_id":21384510,"display_name":"Victor K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678643875,"answer_count":0,"score":0,"last_activity_date":1678642761,"creation_date":1678642761,"question_id":75715085,"body_markdown":"I have assignment task to write ATM app, with following requirements: to have classes, Methods, Constructors, Decision making, Collections, Iterration and Error handling.\r\n\r\nBelow are my classes. \r\n\r\n1st class is User class with his attributes, constructor, and get and set methods.\r\n\r\n```\r\npackage atm.rcl;\r\n\r\npublic class User {\r\n\t\r\n\tstatic String userName;\r\n\tstatic String password;\r\n\tprivate double balance;\r\n\tprivate String accType;\r\n\t\r\n\tpublic User() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic User(String userName, String password, double balance, String accType) {\r\n\t\tsuper();\r\n\t\tthis.userName = userName;\r\n\t\tthis.password = password;\r\n\t\tthis.balance = balance;\r\n\t\tthis.accType = accType;\r\n\t}\r\n\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic double getBalance() {\r\n\t\treturn balance;\r\n\t}\r\n\r\n\tpublic void setBalance(double balance) {\r\n\t\tthis.balance = balance;\r\n\t}\r\n\r\n\tpublic String getAccType() {\r\n\t\treturn accType;\r\n\t}\r\n\r\n\tpublic void setAccType(String accType) {\r\n\t\tthis.accType = accType;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nSecond class contains methods which app will use.\r\n\r\n```\r\npackage atm.rcl;\r\n\r\nimport java.util.List;\r\n\r\npublic interface UserRipo {\r\n\t\r\n\tList&lt;User&gt; checkBalance();\r\n\tvoid withdrawMoney();\r\n\tvoid depositMoney();\r\n\tvoid passwordChange();\r\n\tpublic List&lt;User&gt; getDetails();\r\n\r\n}\r\n\r\n```\r\n\r\nThird class is where methods are implemented. I have created Arraylist named userList with user details(name, pass etc.) and I want to check if user input for Username and Pass matches any from userList . But everytime I run the program it goes in Else , and skip If statement ?? Why is that, where I am wrong ?? What to fix ?? Please please anyone who can help ?? \r\n\r\n\r\n```\r\npackage atm.rcl;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class UserRipoImplement implements UserRipo {\r\n\t\r\n\tList&lt;User&gt; userList;\r\n\t\r\n\tpublic UserRipoImplement() {\r\n\t\t\r\n\t\tuserList = new ArrayList&lt;&gt;();\r\n\t\tUser george = new User(&quot;George&quot;, &quot;1234&quot;, 2000, &quot;Savings&quot;);\r\n\t\tUser colin = new User(&quot;Colin&quot;, &quot;2356&quot;, 3000, &quot;Business&quot;);\r\n\t\tUser michael = new User(&quot;Michael&quot;, &quot;password&quot;, 5000, &quot;Current&quot;);\r\n\t\tUser lorena = new User(&quot;Lorena&quot;, &quot;parola&quot;, 4000, &quot;Checkings&quot;);\r\n\t\t\r\n\t\tuserList.add(george);\r\n\t\tuserList.add(colin);\r\n\t\tuserList.add(michael);\r\n\t\tuserList.add(lorena);\r\n\t}\r\n\r\n\tprivate User firstUser;\r\n\tprivate Scanner scanner;;\r\n\t\r\n\t{\r\n\t\tscanner = new Scanner(System.in);\r\n\t}\r\n\t\r\n\r\n\t@SuppressWarnings(&quot;unlikely-arg-type&quot;)\r\n\tpublic void login() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter username: &quot;);\r\n\t\tString input = scanner.nextLine();\r\n\t\tSystem.out.println(&quot;Enter your password&quot;);\r\n\t\tString inputPass = scanner.nextLine();\r\n\t\t\r\n\t  //if(input.equals(userList.get(0)) &amp;&amp; inputPass.equals(userList.get(1)))\t\r\n      //if(input.equals(userList.get(0).getUserName()) &amp;&amp; inputPass.equals(userList.get(1).getPassword()))\r\n\t  //if(userList.contains(input) &amp;&amp; userList.contains(inputPass))\r\n\t\t\r\n\r\n//THIS IS THE IF STATEMENT WHICH IS NOT MATCHING userInput for userName and Pass with userList arraylist???\r\n\t\tif(userList.contains(input) &amp;&amp; userList.contains(inputPass)) {\r\n\t\t\tSystem.out.println(&quot;You logged in successfully &quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tSystem.out.println(&quot;Incorrect details, try again!&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic List&lt;User&gt; getDetails() {\r\n\t\t\r\n\t\treturn userList;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic List&lt;User&gt; checkBalance() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void withdrawMoney() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void depositMoney() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void passwordChange() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd 4th Class is the runner code class\r\n\r\n\r\n```\r\npackage atm.rcl;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tUserRipoImplement atm = new UserRipoImplement();\r\n\t\twhile (true) {\r\n\t\t\tatm.login();\r\n\t\t}\r\n\t\t\r\n//\t\tfor (User user : atm.getDetails()) {\r\n//\t\t\t  System.out.println(user.getUserName() + &quot; &quot;+user.getAccType() + &quot; &quot; + user.getBalance());\r\n//\t\t\t}\r\n\t\t\t    \r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI am sorry if my question has been answered but it didn&#39;t find it at all. Please Help me with suggestions and how can improve it and make code running?? Really important is to check User input for pass and username with Arraylist userList ?? Pleeease.\r\n\r\nI tried to try with different condition syntax for If statement but didn&#39;t worked. \r\n\r\n```\r\n\t  //if(input.equals(userList.get(0)) &amp;&amp; inputPass.equals(userList.get(1)))\t\r\n      //if(input.equals(userList.get(0).getUserName()) &amp;&amp; inputPass.equals(userList.get(1).getPassword()))\r\n\t  //if(userList.contains(input) &amp;&amp; userList.contains(inputPass))\r\n\t\t\r\n\t\tif(userList.contains(input) &amp;&amp; userList.contains(inputPass)) {\r\n\t\t\tSystem.out.println(&quot;You logged in successfully &quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\tSystem.out.println(&quot;Incorrect details, try again!&quot;);\r\n\t\t}\r\n```\r\n","title":"Cannot check if user input match Arraylist Java","body":"<p>I have assignment task to write ATM app, with following requirements: to have classes, Methods, Constructors, Decision making, Collections, Iterration and Error handling.</p>\n<p>Below are my classes.</p>\n<p>1st class is User class with his attributes, constructor, and get and set methods.</p>\n<pre><code>package atm.rcl;\n\npublic class User {\n    \n    static String userName;\n    static String password;\n    private double balance;\n    private String accType;\n    \n    public User() {\n        \n    }\n\n    public User(String userName, String password, double balance, String accType) {\n        super();\n        this.userName = userName;\n        this.password = password;\n        this.balance = balance;\n        this.accType = accType;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n\n    public String getAccType() {\n        return accType;\n    }\n\n    public void setAccType(String accType) {\n        this.accType = accType;\n    }\n    \n    \n\n}\n\n</code></pre>\n<p>Second class contains methods which app will use.</p>\n<pre><code>package atm.rcl;\n\nimport java.util.List;\n\npublic interface UserRipo {\n    \n    List&lt;User&gt; checkBalance();\n    void withdrawMoney();\n    void depositMoney();\n    void passwordChange();\n    public List&lt;User&gt; getDetails();\n\n}\n\n</code></pre>\n<p>Third class is where methods are implemented. I have created Arraylist named userList with user details(name, pass etc.) and I want to check if user input for Username and Pass matches any from userList . But everytime I run the program it goes in Else , and skip If statement ?? Why is that, where I am wrong ?? What to fix ?? Please please anyone who can help ??</p>\n<pre><code>package atm.rcl;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class UserRipoImplement implements UserRipo {\n    \n    List&lt;User&gt; userList;\n    \n    public UserRipoImplement() {\n        \n        userList = new ArrayList&lt;&gt;();\n        User george = new User(&quot;George&quot;, &quot;1234&quot;, 2000, &quot;Savings&quot;);\n        User colin = new User(&quot;Colin&quot;, &quot;2356&quot;, 3000, &quot;Business&quot;);\n        User michael = new User(&quot;Michael&quot;, &quot;password&quot;, 5000, &quot;Current&quot;);\n        User lorena = new User(&quot;Lorena&quot;, &quot;parola&quot;, 4000, &quot;Checkings&quot;);\n        \n        userList.add(george);\n        userList.add(colin);\n        userList.add(michael);\n        userList.add(lorena);\n    }\n\n    private User firstUser;\n    private Scanner scanner;;\n    \n    {\n        scanner = new Scanner(System.in);\n    }\n    \n\n    @SuppressWarnings(&quot;unlikely-arg-type&quot;)\n    public void login() {\n        \n        System.out.println(&quot;Please enter username: &quot;);\n        String input = scanner.nextLine();\n        System.out.println(&quot;Enter your password&quot;);\n        String inputPass = scanner.nextLine();\n        \n      //if(input.equals(userList.get(0)) &amp;&amp; inputPass.equals(userList.get(1)))  \n      //if(input.equals(userList.get(0).getUserName()) &amp;&amp; inputPass.equals(userList.get(1).getPassword()))\n      //if(userList.contains(input) &amp;&amp; userList.contains(inputPass))\n        \n\n//THIS IS THE IF STATEMENT WHICH IS NOT MATCHING userInput for userName and Pass with userList arraylist???\n        if(userList.contains(input) &amp;&amp; userList.contains(inputPass)) {\n            System.out.println(&quot;You logged in successfully &quot;);\n            }\n            else {\n            System.out.println(&quot;Incorrect details, try again!&quot;);\n        }\n    }\n    \n\n    @Override\n    public List&lt;User&gt; getDetails() {\n        \n        return userList;\n    }\n    \n    @Override\n    public List&lt;User&gt; checkBalance() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void withdrawMoney() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void depositMoney() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void passwordChange() {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n\n</code></pre>\n<p>And 4th Class is the runner code class</p>\n<pre><code>package atm.rcl;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        UserRipoImplement atm = new UserRipoImplement();\n        while (true) {\n            atm.login();\n        }\n        \n//      for (User user : atm.getDetails()) {\n//            System.out.println(user.getUserName() + &quot; &quot;+user.getAccType() + &quot; &quot; + user.getBalance());\n//          }\n                \n\n    }\n\n}\n\n</code></pre>\n<p>I am sorry if my question has been answered but it didn't find it at all. Please Help me with suggestions and how can improve it and make code running?? Really important is to check User input for pass and username with Arraylist userList ?? Pleeease.</p>\n<p>I tried to try with different condition syntax for If statement but didn't worked.</p>\n<pre><code>      //if(input.equals(userList.get(0)) &amp;&amp; inputPass.equals(userList.get(1)))  \n      //if(input.equals(userList.get(0).getUserName()) &amp;&amp; inputPass.equals(userList.get(1).getPassword()))\n      //if(userList.contains(input) &amp;&amp; userList.contains(inputPass))\n        \n        if(userList.contains(input) &amp;&amp; userList.contains(inputPass)) {\n            System.out.println(&quot;You logged in successfully &quot;);\n            }\n            else {\n            System.out.println(&quot;Incorrect details, try again!&quot;);\n        }\n</code></pre>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1678640209,"post_id":75714647,"comment_id":133568595,"body_markdown":"What problem are you having? That is, what&#39;s stopping you from writing tests?","body":"What problem are you having? That is, what&#39;s stopping you from writing tests?"},{"owner":{"account_id":27999747,"reputation":1,"user_id":21384283,"display_name":"yahya zeyad"},"score":0,"creation_date":1678641918,"post_id":75714647,"comment_id":133568929,"body_markdown":"I have no idea how to do it","body":"I have no idea how to do it"},{"owner":{"account_id":9349629,"reputation":723,"user_id":6939768,"accept_rate":55,"display_name":"Zelkins"},"score":0,"creation_date":1678668020,"post_id":75714647,"comment_id":133573024,"body_markdown":"Does this answer your question? [How to write a Unit Test?](https://stackoverflow.com/questions/8751553/how-to-write-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8751553/how-to-write-a-unit-test\">How to write a Unit Test?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678642654,"creation_date":1678642654,"answer_id":75715074,"question_id":75714647,"body_markdown":"this code is hard to test because it&#39;s tightly coupled with these files. Though, we can try to do something using `SretingReader` and `StringWriter`. \r\n\r\nFirstly, you need to move all the file declarations outside of the class and pass them as parameters to the function:\r\n\r\n    public static void SeparateOfficers(\r\n                   PrintWriter write21, PrintWriter write22, \r\n                   PrintWriter write23, Reader reader) {\r\n       try {\r\n          BufferedReader readfile = new BufferedReader(reader);\r\n          // ...\r\n       }\r\n       // ...\r\n    }\r\n\r\nThen, your &quot;production&quot; code, will need to open these files and pass these readers and writers, you can do it like this:\r\n\r\n    public void productionCall() throws Exception {\r\n    \tPrintWriter write21 = new PrintWriter(new FileOutputStream(&quot;awc21.txt&quot;));\r\n    \tPrintWriter write22 = new PrintWriter(new FileOutputStream(&quot;awc22.txt&quot;));\r\n    \tPrintWriter write23 = new PrintWriter(new FileOutputStream(&quot;awc23.txt&quot;));\r\n    \tFileReader fr = new FileReader(&quot;awc.txt&quot;);\r\n    \r\n    \tSeparateOfficers(write21, write22, write23, fr);\r\n    }\r\n\r\nNow, let&#39;s prepare the test, the test will create a `StrinReader` that simulates the file from where you are trying to read and its content: \r\n\r\n    StringReader reader = new StringReader(&quot;21\\n22\\n23\\n23&quot;);\r\n\r\nAdditionally, we&#39;ll need 3 `PrintWriters` - similarly, we&#39;ll create these on top of `StringWriters`. We need this in order to easily query them later and see what was written inside of them:\r\n\r\n    StringWriter sr21 = new StringWriter();\r\n    PrintWriter pr21 = new PrintWriter(sr21);\r\n\r\n Finally, let&#39;s create all of them, run the test, and try to make some assertions:\r\n\r\n    @Test\r\n    public void test() {\r\n    \t//given\r\n    \tStringWriter sr21 = new StringWriter();\r\n    \tStringWriter sr22 = new StringWriter();\r\n    \tStringWriter sr23 = new StringWriter();\r\n    \tStringReader reader = new StringReader(&quot;21\\n22\\n23\\n23&quot;);\r\n    \r\n    \t//when\r\n    \tSeparateOfficers(new PrintWriter(sr21), new PrintWriter(sr22), new PrintWriter(sr23), reader);\r\n    \r\n    \t//then\r\n    \tassertEquals(sr21.toString(), &quot;21\\r\\n&quot;);\r\n    \tassertEquals(sr22.toString(), &quot;22\\r\\n&quot;);\r\n    \tassertEquals(sr23.toString(), &quot;23\\r\\n23\\r\\n&quot;);\r\n    }\r\n\r\nBasically, what we needed to do was to pass to the tested method, through parameters, some objects that were controlled by the test (these StringWriter and StringReader). They can be called `fakes` because they implement the Reader and Writer interfaces, but only read/write into a String that you can check later. Though, your code &quot;doesn&#39;t know&quot; that it talks to a fake object and not to the real file.\r\n","title":"Testing a method with junit in java","body":"<p>this code is hard to test because it's tightly coupled with these files. Though, we can try to do something using <code>SretingReader</code> and <code>StringWriter</code>.</p>\n<p>Firstly, you need to move all the file declarations outside of the class and pass them as parameters to the function:</p>\n<pre><code>public static void SeparateOfficers(\n               PrintWriter write21, PrintWriter write22, \n               PrintWriter write23, Reader reader) {\n   try {\n      BufferedReader readfile = new BufferedReader(reader);\n      // ...\n   }\n   // ...\n}\n</code></pre>\n<p>Then, your &quot;production&quot; code, will need to open these files and pass these readers and writers, you can do it like this:</p>\n<pre><code>public void productionCall() throws Exception {\n    PrintWriter write21 = new PrintWriter(new FileOutputStream(&quot;awc21.txt&quot;));\n    PrintWriter write22 = new PrintWriter(new FileOutputStream(&quot;awc22.txt&quot;));\n    PrintWriter write23 = new PrintWriter(new FileOutputStream(&quot;awc23.txt&quot;));\n    FileReader fr = new FileReader(&quot;awc.txt&quot;);\n\n    SeparateOfficers(write21, write22, write23, fr);\n}\n</code></pre>\n<p>Now, let's prepare the test, the test will create a <code>StrinReader</code> that simulates the file from where you are trying to read and its content:</p>\n<pre><code>StringReader reader = new StringReader(&quot;21\\n22\\n23\\n23&quot;);\n</code></pre>\n<p>Additionally, we'll need 3 <code>PrintWriters</code> - similarly, we'll create these on top of <code>StringWriters</code>. We need this in order to easily query them later and see what was written inside of them:</p>\n<pre><code>StringWriter sr21 = new StringWriter();\nPrintWriter pr21 = new PrintWriter(sr21);\n</code></pre>\n<p>Finally, let's create all of them, run the test, and try to make some assertions:</p>\n<pre><code>@Test\npublic void test() {\n    //given\n    StringWriter sr21 = new StringWriter();\n    StringWriter sr22 = new StringWriter();\n    StringWriter sr23 = new StringWriter();\n    StringReader reader = new StringReader(&quot;21\\n22\\n23\\n23&quot;);\n\n    //when\n    SeparateOfficers(new PrintWriter(sr21), new PrintWriter(sr22), new PrintWriter(sr23), reader);\n\n    //then\n    assertEquals(sr21.toString(), &quot;21\\r\\n&quot;);\n    assertEquals(sr22.toString(), &quot;22\\r\\n&quot;);\n    assertEquals(sr23.toString(), &quot;23\\r\\n23\\r\\n&quot;);\n}\n</code></pre>\n<p>Basically, what we needed to do was to pass to the tested method, through parameters, some objects that were controlled by the test (these StringWriter and StringReader). They can be called <code>fakes</code> because they implement the Reader and Writer interfaces, but only read/write into a String that you can check later. Though, your code &quot;doesn't know&quot; that it talks to a fake object and not to the real file.</p>\n"}],"owner":{"account_id":27999747,"reputation":1,"user_id":21384283,"display_name":"yahya zeyad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678642654,"creation_date":1678639003,"question_id":75714647,"body_markdown":"i hava this method separateOfficers() that will read from the input text file, record by record (line by line), writing into the appropriate output text file (officers registered in 2021, 2022 and 2023 will be stored in awc21.txt, awc22.txt and awc23.txt,respectively), and also counting the number of officers in each output file.\r\n\r\n```\r\npublic static void SeparateOfficers() {\r\n\r\n        try {\r\n            readfile = new BufferedReader(new FileReader(&quot;awc.txt&quot;));\r\n            String line = readfile.readLine();\r\n            String newline;\r\n\r\n            PrintWriter write21 = new PrintWriter(new FileOutputStream(&quot;awc21.txt&quot;));\r\n            PrintWriter write22 = new PrintWriter(new FileOutputStream(&quot;awc22.txt&quot;));\r\n            PrintWriter write23 = new PrintWriter(new FileOutputStream(&quot;awc23.txt&quot;));\r\n            \r\n            int a21=0,a22=0,a23=0;\r\n            while (line != null) {\r\n                newline = line;\r\n                StringTokenizer tokenizer = new StringTokenizer(line);\r\n                String s = (tokenizer.nextToken()).substring(0, 2);\r\n\r\n                switch (Integer.parseInt(s)) {\r\n                    case 21 -&gt;{\r\n                         write21.println(newline);\r\n                         a21++;\r\n                    }\r\n                    case 22 -&gt;\r\n                    {\r\n                        write22.println(newline);\r\n                        a22++;\r\n                    }\r\n                    case 23 -&gt;\r\n                    {\r\n                        write23.println(newline);\r\n                        a23++;\r\n                    }\r\n                    default -&gt; {\r\n                        System.out.println(&quot;*This UOB numbers is not in the specific range*&quot;);\r\n                        System.out.println(newline + &quot;\\n&quot;);\r\n                    }\r\n\r\n                }\r\n\r\n                line = readfile.readLine();\r\n            }\r\n            write21.close();\r\n            write22.close();\r\n            write23.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File Not Found&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading from the file&quot;);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nand i cant make a unit test method foe it. it should Identify a minimal test set, as a set of records in testOfficers.txt for testing this method and insert it, as comment, at the beginning of the testing method. The output files will be testOfficers21.txt, testOfficers22.txt and testOfficers23.txt.","title":"Testing a method with junit in java","body":"<p>i hava this method separateOfficers() that will read from the input text file, record by record (line by line), writing into the appropriate output text file (officers registered in 2021, 2022 and 2023 will be stored in awc21.txt, awc22.txt and awc23.txt,respectively), and also counting the number of officers in each output file.</p>\n<pre><code>public static void SeparateOfficers() {\n\n        try {\n            readfile = new BufferedReader(new FileReader(&quot;awc.txt&quot;));\n            String line = readfile.readLine();\n            String newline;\n\n            PrintWriter write21 = new PrintWriter(new FileOutputStream(&quot;awc21.txt&quot;));\n            PrintWriter write22 = new PrintWriter(new FileOutputStream(&quot;awc22.txt&quot;));\n            PrintWriter write23 = new PrintWriter(new FileOutputStream(&quot;awc23.txt&quot;));\n            \n            int a21=0,a22=0,a23=0;\n            while (line != null) {\n                newline = line;\n                StringTokenizer tokenizer = new StringTokenizer(line);\n                String s = (tokenizer.nextToken()).substring(0, 2);\n\n                switch (Integer.parseInt(s)) {\n                    case 21 -&gt;{\n                         write21.println(newline);\n                         a21++;\n                    }\n                    case 22 -&gt;\n                    {\n                        write22.println(newline);\n                        a22++;\n                    }\n                    case 23 -&gt;\n                    {\n                        write23.println(newline);\n                        a23++;\n                    }\n                    default -&gt; {\n                        System.out.println(&quot;*This UOB numbers is not in the specific range*&quot;);\n                        System.out.println(newline + &quot;\\n&quot;);\n                    }\n\n                }\n\n                line = readfile.readLine();\n            }\n            write21.close();\n            write22.close();\n            write23.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File Not Found&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error reading from the file&quot;);\n        }\n    }\n</code></pre>\n<p>and i cant make a unit test method foe it. it should Identify a minimal test set, as a set of records in testOfficers.txt for testing this method and insert it, as comment, at the beginning of the testing method. The output files will be testOfficers21.txt, testOfficers22.txt and testOfficers23.txt.</p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1678642525,"post_id":75712377,"comment_id":133569061,"body_markdown":"It seems you&#39;re trying to implement rate limiting, is that correct?","body":"It seems you&#39;re trying to implement rate limiting, is that correct?"},{"owner":{"account_id":15222625,"reputation":3,"user_id":10984126,"display_name":"Bhavisha"},"score":0,"creation_date":1678793612,"post_id":75712377,"comment_id":133598599,"body_markdown":"yes, but I can&#39;t use bucket4J or any other library. I&#39;m unable to update a single variable in cache. Tried using cacheput but in vain","body":"yes, but I can&#39;t use bucket4J or any other library. I&#39;m unable to update a single variable in cache. Tried using cacheput but in vain"}],"owner":{"account_id":15222625,"reputation":3,"user_id":10984126,"display_name":"Bhavisha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678642451,"creation_date":1678615467,"question_id":75712377,"body_markdown":"I&#39;m using Redis to cache an object. I want to maintain a count of hits on redis for a particular key. For example,\r\nThis is the key value pair I&#39;m storing key value as below in Redis.\r\n`&lt;customerId, customerDetails&gt;`\r\n\r\n\r\n\r\n    public class CustomerDetails {\r\n      public String name;\r\n      public String phoneNumber;\r\n      public int viewCount;\r\n    }\r\n\r\n\r\n\r\nI want to update viewCount whenever redis cache is hit. I&#39;m not sure how can I use opsforValue to increment a value in an object.\r\n\r\nI&#39;ve tried out something like this:\r\n\r\n\r\n        String viewCount = valueOps.get(String.valueOf(customerId));\r\n        System.out.println(&quot;viewCount &quot; + viewCount );\r\n        if(viewCount == null) {\r\n            System.out.println(&quot;adding new key value&quot;);\r\n            valueOps.set(String.valueOf(customerId), maxRate, 25, TimeUnit.SECONDS);\r\n            allow = true;\r\n        } else {\r\n            System.out.println(&quot;increasing value&quot;);\r\n            valueOps.increment(String.valueOf(customerId), 1);\r\n            if(Integer.parseInt(viewCount ) &gt; 0) {\r\n                allow = true;\r\n            }\r\n        }","title":"Update viewCount on every hit in redis","body":"<p>I'm using Redis to cache an object. I want to maintain a count of hits on redis for a particular key. For example,\nThis is the key value pair I'm storing key value as below in Redis.\n<code>&lt;customerId, customerDetails&gt;</code></p>\n<pre><code>public class CustomerDetails {\n  public String name;\n  public String phoneNumber;\n  public int viewCount;\n}\n</code></pre>\n<p>I want to update viewCount whenever redis cache is hit. I'm not sure how can I use opsforValue to increment a value in an object.</p>\n<p>I've tried out something like this:</p>\n<pre><code>    String viewCount = valueOps.get(String.valueOf(customerId));\n    System.out.println(&quot;viewCount &quot; + viewCount );\n    if(viewCount == null) {\n        System.out.println(&quot;adding new key value&quot;);\n        valueOps.set(String.valueOf(customerId), maxRate, 25, TimeUnit.SECONDS);\n        allow = true;\n    } else {\n        System.out.println(&quot;increasing value&quot;);\n        valueOps.increment(String.valueOf(customerId), 1);\n        if(Integer.parseInt(viewCount ) &gt; 0) {\n            allow = true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","xml","hibernate","annotations","persistence"],"comments":[{"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"score":1,"creation_date":1678642462,"post_id":75714993,"comment_id":133569050,"body_markdown":"Consider using Annotation-based metadata instead of XML descriptors files since using Annotations is considered modern approach.","body":"Consider using Annotation-based metadata instead of XML descriptors files since using Annotations is considered modern approach."}],"owner":{"account_id":23866035,"reputation":1,"user_id":21340747,"display_name":"Mumin Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678641939,"creation_date":1678641939,"question_id":75714993,"body_markdown":"I am trying to use Hibernate in my Java project, and I need to create the Hibernate XML mapping file for my Java class. However, I cannot find a tool in IntelliJ IDEA to generate this file automatically. How can I generate the Hibernate XML mapping file from my Java class in IntelliJ IDEA?\r\n\r\nI have tried searching for a solution online, but I have not been able to find a clear answer. Can anyone help me with this problem? Thank you in advance.","title":"How to generate Hibernate XML mapping file from Java class in IntelliJ IDEA?","body":"<p>I am trying to use Hibernate in my Java project, and I need to create the Hibernate XML mapping file for my Java class. However, I cannot find a tool in IntelliJ IDEA to generate this file automatically. How can I generate the Hibernate XML mapping file from my Java class in IntelliJ IDEA?</p>\n<p>I have tried searching for a solution online, but I have not been able to find a clear answer. Can anyone help me with this problem? Thank you in advance.</p>\n"},{"tags":["java","linux","serialization","hash","sha256"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678632691,"post_id":75713151,"comment_id":133567256,"body_markdown":"Quite a lot of ops going on there, some quite likely redundant. Wouldn&#39;t it be better (since it&#39;s `List&lt;String&gt;`) just to take the SHA256 sum of the strings *as a text file*? It really depends on your motivation","body":"Quite a lot of ops going on there, some quite likely redundant. Wouldn&#39;t it be better (since it&#39;s <code>List&lt;String&gt;</code>) just to take the SHA256 sum of the strings <i>as a text file</i>? It really depends on your motivation"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1678635165,"post_id":75713151,"comment_id":133567705,"body_markdown":"Is there any reason to believe the serialization of `list` using `SerializationUtils.serialize` produces the same result as just concatenating the UTF-8 encodings of each string in `list`? I wouldn&#39;t think so, but I&#39;m not familiar with `SerializationUtils.serialize`.","body":"Is there any reason to believe the serialization of <code>list</code> using <code>SerializationUtils.serialize</code> produces the same result as just concatenating the UTF-8 encodings of each string in <code>list</code>? I wouldn&#39;t think so, but I&#39;m not familiar with <code>SerializationUtils.serialize</code>."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678625811,"creation_date":1678625811,"answer_id":75713257,"question_id":75713151,"body_markdown":"If you are already using the Apache DigestUtils class then use:\r\n\r\n    String hex256 = new DigestUtils(MessageDigestAlgorithms.SHA_256)\r\n        .digestAsHex(bytes);","title":"Generate a SHA256 hex String from List of Strings in Java that can be checked with sha256sum CLI command?","body":"<p>If you are already using the Apache DigestUtils class then use:</p>\n<pre><code>String hex256 = new DigestUtils(MessageDigestAlgorithms.SHA_256)\n    .digestAsHex(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678641897,"creation_date":1678641897,"answer_id":75714987,"question_id":75713151,"body_markdown":"The following produces the same hash as `sha256sum` does on a text file containing the same strings:\r\n\r\n    import java.util.List;\r\n    import java.util.HexFormat;\r\n    import java.util.stream.Collectors;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.MessageDigest;\r\n    \r\n    public class Hash256 {\r\n        public static void main(String[] args) {\r\n            try {\r\n                List&lt;String&gt; strings = List.of(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;);\r\n                final String SEP = &quot;\\n&quot;;\r\n                MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n                String originalString = strings.stream()\r\n                    .collect(Collectors.joining(SEP));\r\n                originalString += SEP;\r\n                byte[] encodedHash = digest.digest(originalString.getBytes(StandardCharsets.UTF_8));\r\n                System.out.println(HexFormat.of().formatHex(encodedHash));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Generate a SHA256 hex String from List of Strings in Java that can be checked with sha256sum CLI command?","body":"<p>The following produces the same hash as <code>sha256sum</code> does on a text file containing the same strings:</p>\n<pre><code>import java.util.List;\nimport java.util.HexFormat;\nimport java.util.stream.Collectors;\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\n\npublic class Hash256 {\n    public static void main(String[] args) {\n        try {\n            List&lt;String&gt; strings = List.of(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;);\n            final String SEP = &quot;\\n&quot;;\n            MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n            String originalString = strings.stream()\n                .collect(Collectors.joining(SEP));\n            originalString += SEP;\n            byte[] encodedHash = digest.digest(originalString.getBytes(StandardCharsets.UTF_8));\n            System.out.println(HexFormat.of().formatHex(encodedHash));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27129334,"reputation":239,"user_id":20671772,"display_name":"armaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678641897,"creation_date":1678624545,"question_id":75713151,"body_markdown":"I have a `List&lt;String&gt;` that I wish to display SHA-256 of that `List&lt;String&gt;` content and then write to the File. Then I wish to control the SHA-256 produced by Java and SHA-256 produced by Linux CLI `sha256sum file.txt`.\r\n\r\nI first start with a Serializing of the `List&lt;String&gt; list`:\r\n\r\n    byte[] bytes = org.apache.commons.lang3.SerializationUtils.serialize((Serializable) list);\r\n\r\n and producing a method to perform SHA-256:\r\n\r\n    public static BiFunction&lt;byte[], String, String&gt; stringDigestFromBytes =\r\n            (h, t) -&gt; Hex.encodeHexString(DigestUtils.getDigest(t).digest(h));\r\n\r\nThen, before writing `list` to the file I produce Java SHA-256:\r\n\r\n    String hex256 = stringDigestFromBytes.apply(bytes, &quot;SHA-256&quot;);\r\n\r\nAnd then write `list` to the file:\r\n\r\n    Files.write(Path.of(&quot;file.txt&quot;), list);\r\n\r\nHowever that Java SHA-256 doesn&#39;t match the SHA-256 produced with Linux CLI `sha256sum file.txt`. Any ideas on how to make it possible that both SHA-256 are the same?\r\n","title":"Generate a SHA256 hex String from List of Strings in Java that can be checked with sha256sum CLI command?","body":"<p>I have a <code>List&lt;String&gt;</code> that I wish to display SHA-256 of that <code>List&lt;String&gt;</code> content and then write to the File. Then I wish to control the SHA-256 produced by Java and SHA-256 produced by Linux CLI <code>sha256sum file.txt</code>.</p>\n<p>I first start with a Serializing of the <code>List&lt;String&gt; list</code>:</p>\n<pre><code>byte[] bytes = org.apache.commons.lang3.SerializationUtils.serialize((Serializable) list);\n</code></pre>\n<p>and producing a method to perform SHA-256:</p>\n<pre><code>public static BiFunction&lt;byte[], String, String&gt; stringDigestFromBytes =\n        (h, t) -&gt; Hex.encodeHexString(DigestUtils.getDigest(t).digest(h));\n</code></pre>\n<p>Then, before writing <code>list</code> to the file I produce Java SHA-256:</p>\n<pre><code>String hex256 = stringDigestFromBytes.apply(bytes, &quot;SHA-256&quot;);\n</code></pre>\n<p>And then write <code>list</code> to the file:</p>\n<pre><code>Files.write(Path.of(&quot;file.txt&quot;), list);\n</code></pre>\n<p>However that Java SHA-256 doesn't match the SHA-256 produced with Linux CLI <code>sha256sum file.txt</code>. Any ideas on how to make it possible that both SHA-256 are the same?</p>\n"},{"tags":["java","http","servlets","redirect"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1328164988,"creation_date":1328164447,"answer_id":9108108,"question_id":9108084,"body_markdown":"Reliable way would be to have `?ref=somehash`  a GET parameter\r\n\r\n\r\nFor example: \r\n\r\nConsider this site SO, they have list of questions, now there is a portlet which streams the recent questions to some other site for example abcd.com now to see if user clicked the link from abcd.com  you pass a parameter `?ref=423jahjaghr` where this string maps to abcd.com\r\n\r\n\r\n\r\n\r\n\r\n","title":"HTTP Referrer. Is it reliable?","body":"<p>Reliable way would be to have <code>?ref=somehash</code>  a GET parameter</p>\n\n<p>For example: </p>\n\n<p>Consider this site SO, they have list of questions, now there is a portlet which streams the recent questions to some other site for example abcd.com now to see if user clicked the link from abcd.com  you pass a parameter <code>?ref=423jahjaghr</code> where this string maps to abcd.com</p>\n"},{"tags":[],"owner":{"account_id":17072,"reputation":46055,"user_id":37843,"accept_rate":96,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328165131,"creation_date":1328164573,"answer_id":9108129,"question_id":9108084,"body_markdown":"Referrer header isn&#39;t the *only* way, but it is the most standard.\r\n\r\nYou can consider using Google Analytics, which has extra referrer capabilities, but you&#39;d have to manually setup collecting the data from their services to input into your logging infrastructure.\r\n\r\nNothing is going to be 100% fool proof though. It&#39;s pretty straight-foward to block Google Analytics, and spoof referrers, and HTML5 will make it even easier to prevent sending referrer information.\r\n\r\nIf it&#39;s mission critical that you know the referrer of all inbound traffic, you&#39;ll have come up with a more draconian approach (like @Jigar Joshi has suggested)","title":"HTTP Referrer. Is it reliable?","body":"<p>Referrer header isn't the <em>only</em> way, but it is the most standard.</p>\n\n<p>You can consider using Google Analytics, which has extra referrer capabilities, but you'd have to manually setup collecting the data from their services to input into your logging infrastructure.</p>\n\n<p>Nothing is going to be 100% fool proof though. It's pretty straight-foward to block Google Analytics, and spoof referrers, and HTML5 will make it even easier to prevent sending referrer information.</p>\n\n<p>If it's mission critical that you know the referrer of all inbound traffic, you'll have come up with a more draconian approach (like @Jigar Joshi has suggested)</p>\n"},{"tags":[],"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328164578,"creation_date":1328164578,"answer_id":9108131,"question_id":9108084,"body_markdown":"Depending on the browser, you may OR may not get the **referrer** header. You may not get it always. You have to have a request parameter OR a form field to get the referrer.","title":"HTTP Referrer. Is it reliable?","body":"<p>Depending on the browser, you may OR may not get the <strong>referrer</strong> header. You may not get it always. You have to have a request parameter OR a form field to get the referrer.</p>\n"},{"tags":[],"owner":{"account_id":431962,"reputation":20407,"user_id":816374,"accept_rate":78,"display_name":"fyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678641648,"creation_date":1328164887,"answer_id":9108182,"question_id":9108084,"body_markdown":"HTTP Referer is a good way to analyze logs. And to maintain analytics on user interactions. However a browser or any other system which displays webpages and is able to traverse a webpage might not send this header entry. \r\n\r\nYou might also consider to use a third-party application like Google Analytics. But you should check if this third-party tool is legal in your country. Most of them have data-privacy issues.\r\n\r\nVery important note: for analytics it&#39;s OK if you have a certain error in the expected outcome. However **never do any security related checks** on the http referer. Someone might enter whatever they want as the referer.\r\n","title":"HTTP Referrer. Is it reliable?","body":"<p>HTTP Referer is a good way to analyze logs. And to maintain analytics on user interactions. However a browser or any other system which displays webpages and is able to traverse a webpage might not send this header entry.</p>\n<p>You might also consider to use a third-party application like Google Analytics. But you should check if this third-party tool is legal in your country. Most of them have data-privacy issues.</p>\n<p>Very important note: for analytics it's OK if you have a certain error in the expected outcome. However <strong>never do any security related checks</strong> on the http referer. Someone might enter whatever they want as the referer.</p>\n"}],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1406530588,"accepted_answer_id":9108108,"answer_count":4,"score":3,"last_activity_date":1678641648,"creation_date":1328164319,"question_id":9108084,"body_markdown":"I am interested in logging from where a user comes in order to access my web app.  \r\n\r\nI thought of using HTTP&#39;s referrer header for that, but from e.g.[HTTP referrer wiki][1]   \r\nit seems that this is not a accurate/reliable way since in many cases it is not send.  \r\n\r\nI was wondering is the referrer header the only way? Is there a better/standard approach?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/HTTP_referer","title":"HTTP Referrer. Is it reliable?","body":"<p>I am interested in logging from where a user comes in order to access my web app.  </p>\n\n<p>I thought of using HTTP's referrer header for that, but from e.g.<a href=\"http://en.wikipedia.org/wiki/HTTP_referer\" rel=\"nofollow\">HTTP referrer wiki</a><br>\nit seems that this is not a accurate/reliable way since in many cases it is not send.  </p>\n\n<p>I was wondering is the referrer header the only way? Is there a better/standard approach?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2464972,"reputation":2357,"user_id":2148284,"accept_rate":86,"display_name":"d&#39;alar&#39;cop"},"score":1,"creation_date":1376811360,"post_id":18296766,"comment_id":26845014,"body_markdown":"It&#39;s because int is a primitive. Should work with &quot;Integer&quot; in place of int","body":"It&#39;s because int is a primitive. Should work with &quot;Integer&quot; in place of int"},{"owner":{"account_id":2464972,"reputation":2357,"user_id":2148284,"accept_rate":86,"display_name":"d&#39;alar&#39;cop"},"score":0,"creation_date":1376811401,"post_id":18296766,"comment_id":26845021,"body_markdown":"DUPLICATE: http://stackoverflow.com/questions/11047276/null-for-primitive-data-types","body":"DUPLICATE: <a href=\"http://stackoverflow.com/questions/11047276/null-for-primitive-data-types\" title=\"null for primitive data types\">stackoverflow.com/questions/11047276/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1602612905,"post_id":18296766,"comment_id":113774035,"body_markdown":"Hint: what would you expect to happen if you wrote `int x = null;`? If you understand why that&#39;s not allowed, the array case is exactly the same. An array is just a lot of variables that you can access by index.","body":"Hint: what would you expect to happen if you wrote <code>int x = null;</code>? If you understand why that&#39;s not allowed, the array case is exactly the same. An array is just a lot of variables that you can access by index."}],"answers":[{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376811373,"creation_date":1376811373,"answer_id":18296773,"question_id":18296766,"body_markdown":"Your array \r\n\r\n    int[] a\r\n\r\nis of primitive type `int`. Primitives cannot have a `null` value but instead have a default value of 0. Only objects in java can have null as a `value`. Primitives include: `byte,short,char,int,long,float,double.`","title":"Explicitly setting NULL value to an array element","body":"<p>Your array </p>\n\n<pre><code>int[] a\n</code></pre>\n\n<p>is of primitive type <code>int</code>. Primitives cannot have a <code>null</code> value but instead have a default value of 0. Only objects in java can have null as a <code>value</code>. Primitives include: <code>byte,short,char,int,long,float,double.</code></p>\n"},{"tags":[],"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376811383,"creation_date":1376811383,"answer_id":18296777,"question_id":18296766,"body_markdown":"&gt; I am assuming because its an int array and the literal value allowed is 0 and not NULL. Am I right ?\r\n\r\nYes.\r\n\r\nIf you want to be able to use `null`, make it an `Integer[]`. `Integer`s are objects, which can be set to `null`, unlike primitives (`int`, `char`, etc.).","title":"Explicitly setting NULL value to an array element","body":"<blockquote>\n  <p>I am assuming because its an int array and the literal value allowed is 0 and not NULL. Am I right ?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>If you want to be able to use <code>null</code>, make it an <code>Integer[]</code>. <code>Integer</code>s are objects, which can be set to <code>null</code>, unlike primitives (<code>int</code>, <code>char</code>, etc.).</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1376811414,"creation_date":1376811414,"answer_id":18296782,"question_id":18296766,"body_markdown":"Correct. `int` is a primitive type, which means that it contains an explicit value (a number from -2^31 to 2^31-1), and not a reference, so it can&#39;t be `null`. If you really need `null` values, use `Integer`.","title":"Explicitly setting NULL value to an array element","body":"<p>Correct. <code>int</code> is a primitive type, which means that it contains an explicit value (a number from -2^31 to 2^31-1), and not a reference, so it can't be <code>null</code>. If you really need <code>null</code> values, use <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1376811524,"creation_date":1376811524,"answer_id":18296795,"question_id":18296766,"body_markdown":"`int` is a *primitive* type, which can&#39;t be `null` - it must have a value.\r\n\r\nThe only option is to set it to a value you can *treat* like &quot;null&quot;, for example `-1`.","title":"Explicitly setting NULL value to an array element","body":"<p><code>int</code> is a <em>primitive</em> type, which can't be <code>null</code> - it must have a value.</p>\n\n<p>The only option is to set it to a value you can <em>treat</em> like \"null\", for example <code>-1</code>.</p>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376814676,"creation_date":1376814676,"answer_id":18297210,"question_id":18296766,"body_markdown":"This is a `int` array. default value of `int` isn&#39;t null an default value is `0`, If this is an `Integer` array then you can set `null`.","title":"Explicitly setting NULL value to an array element","body":"<p>This is a <code>int</code> array. default value of <code>int</code> isn't null an default value is <code>0</code>, If this is an <code>Integer</code> array then you can set <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":3188167,"reputation":1678,"user_id":2693199,"accept_rate":38,"display_name":"Rudra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376814742,"creation_date":1376814742,"answer_id":18297218,"question_id":18296766,"body_markdown":"         int[] a = new int[5];\r\n\r\nThe declared array is of type int which is a primitive type like byte, short, long, float, double, char and boolean. Primitives cannot have a null value but instead have their default value as given below\r\n \r\n        byte = 0; \r\n        short = 0;\r\n        int = 0;\r\n        long = 0l;\r\n        float = 0.0f\r\n        double = 0.0d\r\n        boolean = false;\r\n\r\nThe range formula for the primitive types is mentioned below. Primitives can accept only values falling into this range.\r\n\r\n        -2^(N - 1) to 2^(N - 1)-1 \r\n        where N stands for no. of bits that each primitive type takes\r\n         \r\n\r\nOnly objects in java can have null as a value. If anyways you want so, better use wrapper classes like \r\n\r\n        Byte, Short, Integer, Long, Character, Boolean, etc.","title":"Explicitly setting NULL value to an array element","body":"<pre><code>     int[] a = new int[5];\n</code></pre>\n\n<p>The declared array is of type int which is a primitive type like byte, short, long, float, double, char and boolean. Primitives cannot have a null value but instead have their default value as given below</p>\n\n<pre><code>    byte = 0; \n    short = 0;\n    int = 0;\n    long = 0l;\n    float = 0.0f\n    double = 0.0d\n    boolean = false;\n</code></pre>\n\n<p>The range formula for the primitive types is mentioned below. Primitives can accept only values falling into this range.</p>\n\n<pre><code>    -2^(N - 1) to 2^(N - 1)-1 \n    where N stands for no. of bits that each primitive type takes\n</code></pre>\n\n<p>Only objects in java can have null as a value. If anyways you want so, better use wrapper classes like </p>\n\n<pre><code>    Byte, Short, Integer, Long, Character, Boolean, etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4194311,"reputation":23,"user_id":5925751,"display_name":"rohit agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464763666,"creation_date":1464763666,"answer_id":37561335,"question_id":18296766,"body_markdown":"Declare the array as:\r\nInteger[] a = new Integer[5];\r\n\r\nThe rest should work as is.","title":"Explicitly setting NULL value to an array element","body":"<p>Declare the array as:\nInteger[] a = new Integer[5];</p>\n\n<p>The rest should work as is.</p>\n"},{"tags":[],"owner":{"account_id":10784302,"reputation":1,"user_id":7986578,"display_name":"Pedro Salas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494337906,"creation_date":1494337906,"answer_id":43871742,"question_id":18296766,"body_markdown":"An Integer array elements are value types (Int type) so they store values assigned  to them in memory locations. If you want to fake a null value, you could try to assign a -1 value to the elements.\r\n\r\nTry something like this...\r\n\r\n    public static void main(String[]args){\r\n    \t\tint a[][]={{4,3,2,1},{0,-1,-1,-1},{0,-1,-1,-1}};\r\n    \t\tprintStatus(a);\r\n    \t\tprocesar(a);\r\n    \t\tprintStatus(a);\r\n    \t}\r\n    \t\r\n    \tpublic static void procesar (int a[][])\r\n    {\r\n    int temp, tope0, tope1, tope2;\r\n    tope0 = ((a[0].length)-1);\r\n    tope1 = 0;\r\n    tope2 = 0;\r\n    \r\n    while(a[0][tope0] &gt;= 0){\r\n    \t\r\n    \tif(a[2][tope2]==0){\r\n    \t\tSystem.out.println(a[2][tope2]);\r\n    \t\ttemp=a[0][tope0];\r\n    \t\ta[2][tope2] = temp;\r\n    \t\ta[0][tope0] = 0;\t\r\n    \t\ttope0= tope0 -1;\t\r\n    \t\ttope2 = tope2 +1 ;\r\n    \t\tSystem.out.println(a[0][tope0]+ &quot; &quot;+a[1][tope1] +&quot; &quot;+ a[2][tope2 -1] );\r\n    \t\tprintStatus(a);\r\n    \t}\r\n    \tSystem.out.println(a[0][tope0]+ &quot; &quot;+ a[2][(tope2-1)] );\r\n    \tif((a[2][(tope2 -1)]&gt; a[0][tope0])){\r\n    \t\ttemp=a[0][tope0];\r\n    \t\ta[2][tope2] = temp;\r\n    \t\ta[0][tope0] = 0;\t\r\n    \t\ttope0= tope0 -1;\t\r\n    \t\ttope2 = tope2 +1 ;\r\n    \t\tSystem.out.println(a[0][tope0]+ &quot; &quot;+a[1][tope1] +&quot; &quot;+ a[2][tope2 -1] );\r\n    \t\tprintStatus(a);\r\n    \t}\r\n    \t\r\n    \tif(a[1][tope1]==0){\r\n    \t\tSystem.out.println(a[1][tope1]);\r\n    \t\ttemp = a[0][tope0];\r\n    \t\ta[1][tope1]= temp;\r\n    \t\ta[0][tope0]= 0;\r\n    \t\ttope0= tope0 -1;\r\n    \t\ttope1 = tope1 +1;\r\n    \t\tSystem.out.println(a[0][tope0]+ &quot; &quot;+a[1][tope1 - 1] +&quot; &quot;+ a[2][tope2 -1] );\r\n    \t\tprintStatus(a);\r\n    \t}\r\n    \tSystem.out.println(a[0][tope0]+ &quot; &quot;+ a[1][(tope1-1)] );\r\n    \tif(a[1][(tope1-1)]&gt; a[0][tope0]){\r\n    \t\ttemp = a[0][tope0];\r\n    \t\ta[1][tope1]= temp;\r\n    \t\ta[0][tope0]= 0;\r\n    \t\ttope0= tope0 -1;\r\n    \t\ttope1 = tope1 +1;\r\n    \t\tSystem.out.println(a[0][tope0]+ &quot; &quot;+a[1][tope1 - 1] +&quot; &quot;+ a[2][tope2 -1] );\r\n    \t\tprintStatus(a);\r\n    \t}\r\n    \t","title":"Explicitly setting NULL value to an array element","body":"<p>An Integer array elements are value types (Int type) so they store values assigned  to them in memory locations. If you want to fake a null value, you could try to assign a -1 value to the elements.</p>\n\n<p>Try something like this...</p>\n\n<pre><code>public static void main(String[]args){\n        int a[][]={{4,3,2,1},{0,-1,-1,-1},{0,-1,-1,-1}};\n        printStatus(a);\n        procesar(a);\n        printStatus(a);\n    }\n\n    public static void procesar (int a[][])\n{\nint temp, tope0, tope1, tope2;\ntope0 = ((a[0].length)-1);\ntope1 = 0;\ntope2 = 0;\n\nwhile(a[0][tope0] &gt;= 0){\n\n    if(a[2][tope2]==0){\n        System.out.println(a[2][tope2]);\n        temp=a[0][tope0];\n        a[2][tope2] = temp;\n        a[0][tope0] = 0;    \n        tope0= tope0 -1;    \n        tope2 = tope2 +1 ;\n        System.out.println(a[0][tope0]+ \" \"+a[1][tope1] +\" \"+ a[2][tope2 -1] );\n        printStatus(a);\n    }\n    System.out.println(a[0][tope0]+ \" \"+ a[2][(tope2-1)] );\n    if((a[2][(tope2 -1)]&gt; a[0][tope0])){\n        temp=a[0][tope0];\n        a[2][tope2] = temp;\n        a[0][tope0] = 0;    \n        tope0= tope0 -1;    \n        tope2 = tope2 +1 ;\n        System.out.println(a[0][tope0]+ \" \"+a[1][tope1] +\" \"+ a[2][tope2 -1] );\n        printStatus(a);\n    }\n\n    if(a[1][tope1]==0){\n        System.out.println(a[1][tope1]);\n        temp = a[0][tope0];\n        a[1][tope1]= temp;\n        a[0][tope0]= 0;\n        tope0= tope0 -1;\n        tope1 = tope1 +1;\n        System.out.println(a[0][tope0]+ \" \"+a[1][tope1 - 1] +\" \"+ a[2][tope2 -1] );\n        printStatus(a);\n    }\n    System.out.println(a[0][tope0]+ \" \"+ a[1][(tope1-1)] );\n    if(a[1][(tope1-1)]&gt; a[0][tope0]){\n        temp = a[0][tope0];\n        a[1][tope1]= temp;\n        a[0][tope0]= 0;\n        tope0= tope0 -1;\n        tope1 = tope1 +1;\n        System.out.println(a[0][tope0]+ \" \"+a[1][tope1 - 1] +\" \"+ a[2][tope2 -1] );\n        printStatus(a);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11859697,"reputation":744,"user_id":8678762,"display_name":"Ahmed Mujtaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678641458,"creation_date":1678641458,"answer_id":75714941,"question_id":18296766,"body_markdown":"Array of Integer can never be null.\r\n\r\nHowever ,Hashmaps are can have null value if the key is not present.\r\n\r\n    \r\n    HashMap&lt;String, String&gt; capitalCities = new HashMap&lt;String, String&gt;();\r\n    \r\n    // Add keys and values (Country, City)\r\n    capitalCities.put(&quot;England&quot;, &quot;London&quot;);\r\n    capitalCities.put(&quot;Germany&quot;, &quot;Berlin&quot;);\r\n    capitalCities.put(&quot;Norway&quot;, &quot;Oslo&quot;);\r\n    capitalCities.put(&quot;USA&quot;, &quot;Washington DC&quot;);\r\n    \r\n    \r\n    System.out.println(capitalCities.get(&quot;Ukraine&quot;));  // this will return null \r\n\r\n","title":"Explicitly setting NULL value to an array element","body":"<p>Array of Integer can never be null.</p>\n<p>However ,Hashmaps are can have null value if the key is not present.</p>\n<pre><code>HashMap&lt;String, String&gt; capitalCities = new HashMap&lt;String, String&gt;();\n\n// Add keys and values (Country, City)\ncapitalCities.put(&quot;England&quot;, &quot;London&quot;);\ncapitalCities.put(&quot;Germany&quot;, &quot;Berlin&quot;);\ncapitalCities.put(&quot;Norway&quot;, &quot;Oslo&quot;);\ncapitalCities.put(&quot;USA&quot;, &quot;Washington DC&quot;);\n\n\nSystem.out.println(capitalCities.get(&quot;Ukraine&quot;));  // this will return null \n</code></pre>\n"}],"owner":{"account_id":2982648,"reputation":3211,"user_id":2532299,"accept_rate":73,"display_name":"Varun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53293,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":9,"score":7,"last_activity_date":1678641458,"creation_date":1376811307,"question_id":18296766,"body_markdown":"Can someone tell me why am I getting compilation error for explicitly setting `NULL` value to an array element?\r\n\r\n    int[] a = new int[5];\r\n\r\n    a[0] = 1;\r\n    a[2] = &#39;a&#39;;\r\n    a[3] = null; //Compiler complains here\r\n\r\n\r\n    for (int i : a) System.out.println(i);\r\n\r\n\r\nI am assuming because its an int array and the literal value allowed is `0` and not `NULL`. Am I right?","title":"Explicitly setting NULL value to an array element","body":"<p>Can someone tell me why am I getting compilation error for explicitly setting <code>NULL</code> value to an array element?</p>\n<pre><code>int[] a = new int[5];\n\na[0] = 1;\na[2] = 'a';\na[3] = null; //Compiler complains here\n\n\nfor (int i : a) System.out.println(i);\n</code></pre>\n<p>I am assuming because its an int array and the literal value allowed is <code>0</code> and not <code>NULL</code>. Am I right?</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":1735886,"reputation":21764,"user_id":3871750,"display_name":"Radek &#39;Goblin&#39; Pieczonka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505371487,"creation_date":1505371487,"answer_id":46212249,"question_id":46211535,"body_markdown":"What we do in our case is we launch with high memory limit on kubernetes, observe over time under load and either tune memory usage to the level we want to reach with `-Xmx` or adapt memory limits (and requests) to the real memory consumption. Truth be told, we usually use the mix of both approaches. The key to this method is to have a decent monitoring enabled on your cluster (Prometheus in our case), if you want high level of finetuning you might also want to add something like a JMX prometheus exporter, to have a detailed insight into metrics when tuning your setup.","title":"How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?","body":"<p>What we do in our case is we launch with high memory limit on kubernetes, observe over time under load and either tune memory usage to the level we want to reach with <code>-Xmx</code> or adapt memory limits (and requests) to the real memory consumption. Truth be told, we usually use the mix of both approaches. The key to this method is to have a decent monitoring enabled on your cluster (Prometheus in our case), if you want high level of finetuning you might also want to add something like a JMX prometheus exporter, to have a detailed insight into metrics when tuning your setup.</p>\n"},{"tags":[],"owner":{"account_id":11615648,"reputation":284,"user_id":8508504,"display_name":"Tejas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505412199,"creation_date":1505412199,"answer_id":46225648,"question_id":46211535,"body_markdown":"I think the issue here is that the kubernetes memory limits are for the container and MaxRAMFraction is for jvm. So, if jvm heap is the same as kubernetes limits then there wont be enough memory left for the container itself.\r\n\r\nOne thing you can try is increasing\r\n\r\n    limits:\r\n      memory: 2048Mi\r\n\r\nkeeping ```requests``` limit the same. Fundamental difference between requests and limits is that requests will let you go over the limit if there is memory available at the node level while ```limits``` is a hard limit. This may not be the ideal solution and you will have to figure out how much memory is your pod consuming on top of jvm, but as a quick fix increasing ```limits``` should work.","title":"How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?","body":"<p>I think the issue here is that the kubernetes memory limits are for the container and MaxRAMFraction is for jvm. So, if jvm heap is the same as kubernetes limits then there wont be enough memory left for the container itself.</p>\n\n<p>One thing you can try is increasing</p>\n\n<pre><code>limits:\n  memory: 2048Mi\n</code></pre>\n\n<p>keeping <code>requests</code> limit the same. Fundamental difference between requests and limits is that requests will let you go over the limit if there is memory available at the node level while <code>limits</code> is a hard limit. This may not be the ideal solution and you will have to figure out how much memory is your pod consuming on top of jvm, but as a quick fix increasing <code>limits</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":1333416,"reputation":1733,"user_id":1336399,"display_name":"Simon Tesar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1506000177,"creation_date":1505997776,"answer_id":46344251,"question_id":46211535,"body_markdown":"The reason Kubernetes kills your pods is the [resource limit][1]. It is difficult to calculate because of container overhead and the usual mismatches between decimal and binary prefixes in specification of memory usage. My solution is to entirely drop the limit and only keep the requirement(which is what your pod will have available in any case if it is scheduled). Rely on the JVM to limit its heap via static specification and let Kubernetes manage how many pods are scheduled on a single node via resource requirement. \r\n\r\nAt first you will need to determine the actual memory usage of your container when running with your desired heap size. Run a pod with `-Xmx1024m -Xms1024m` and connect to the hosts docker daemon it&#39;s scheduled on. Run `docker ps` to find your pod and `docker stats &lt;container&gt;` to see its current memory usage wich is the sum of JVM heap, other static JVM usage like direct memory and your containers overhead(alpine with glibc). This value should only fluctuate within kibibytes because of some network usage that is handled outside the JVM. Add this value as memory requirement to your pod template. \r\n\r\nCalculate or estimate how much memory other components on your nodes need to function properly. There will at least be the Kubernetes kubelet, the Linux kernel, its userland, probably an SSH daemon and in your case a docker daemon running on them. You can choose a generous default like 1 Gibibyte excluding the kubelet if you can spare the extra few bytes. Specify `--system-reserved=1Gi` and `--kube-reserved=100Mi` in your kubelets flags and restart it. This will add those reserved resources to the Kubernetes schedulers calculations when determining how many pods can run on a node. See the [official Kubernetes documentation][2] for more information. \r\n\r\nThis way there will probably be five to seven pods scheduled on a node with eight Gigabytes of RAM, depending on the above chosen and measured values. They will be guaranteed the RAM specified in the memory requirement and will not be terminated. Verify the memory usage via `kubectl describe node` under `Allocated resources`. As for elegancy/flexibility, you just need to adjust the memory requirement and JVM heap size if you want to increase RAM available to your application.\r\n\r\nThis approach only works assuming that the pods memory usage will not explode, if it would not be limited by the JVM a rouge pod might cause eviction, see [out of resource handling][3]. \r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/policy/resource-quotas/\r\n  [2]: https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/\r\n  [3]: https://kubernetes.io/docs/tasks/administer-cluster/out-of-resource/","title":"How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?","body":"<p>The reason Kubernetes kills your pods is the <a href=\"https://kubernetes.io/docs/concepts/policy/resource-quotas/\" rel=\"noreferrer\">resource limit</a>. It is difficult to calculate because of container overhead and the usual mismatches between decimal and binary prefixes in specification of memory usage. My solution is to entirely drop the limit and only keep the requirement(which is what your pod will have available in any case if it is scheduled). Rely on the JVM to limit its heap via static specification and let Kubernetes manage how many pods are scheduled on a single node via resource requirement. </p>\n\n<p>At first you will need to determine the actual memory usage of your container when running with your desired heap size. Run a pod with <code>-Xmx1024m -Xms1024m</code> and connect to the hosts docker daemon it's scheduled on. Run <code>docker ps</code> to find your pod and <code>docker stats &lt;container&gt;</code> to see its current memory usage wich is the sum of JVM heap, other static JVM usage like direct memory and your containers overhead(alpine with glibc). This value should only fluctuate within kibibytes because of some network usage that is handled outside the JVM. Add this value as memory requirement to your pod template. </p>\n\n<p>Calculate or estimate how much memory other components on your nodes need to function properly. There will at least be the Kubernetes kubelet, the Linux kernel, its userland, probably an SSH daemon and in your case a docker daemon running on them. You can choose a generous default like 1 Gibibyte excluding the kubelet if you can spare the extra few bytes. Specify <code>--system-reserved=1Gi</code> and <code>--kube-reserved=100Mi</code> in your kubelets flags and restart it. This will add those reserved resources to the Kubernetes schedulers calculations when determining how many pods can run on a node. See the <a href=\"https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/\" rel=\"noreferrer\">official Kubernetes documentation</a> for more information. </p>\n\n<p>This way there will probably be five to seven pods scheduled on a node with eight Gigabytes of RAM, depending on the above chosen and measured values. They will be guaranteed the RAM specified in the memory requirement and will not be terminated. Verify the memory usage via <code>kubectl describe node</code> under <code>Allocated resources</code>. As for elegancy/flexibility, you just need to adjust the memory requirement and JVM heap size if you want to increase RAM available to your application.</p>\n\n<p>This approach only works assuming that the pods memory usage will not explode, if it would not be limited by the JVM a rouge pod might cause eviction, see <a href=\"https://kubernetes.io/docs/tasks/administer-cluster/out-of-resource/\" rel=\"noreferrer\">out of resource handling</a>. </p>\n"},{"tags":[],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670600279,"creation_date":1650530402,"answer_id":71951379,"question_id":46211535,"body_markdown":"**[Important concepts][1]**\r\n\r\n - The memory request is mainly used during (Kubernetes) Pod scheduling.\r\n - The memory limit defines a memory limit for that cgroup.\r\n\r\nAccording to the article [Containerize your Java applications][2] the best way to configure your JVM is to use the following JVM args:\r\n\r\n    -XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0\r\n\r\nAlong with that you should always [set the JVM to crash][3] if it runs out of memory. There is nothing worse than a health endpoint that thinks it&#39;s healthy, but the JVM has run out of memory!\r\n\r\n    -XX:+CrashOnOutOfMemoryError\r\n\r\n***Note, there is a bug where you need to specify 75.0 and not 75***\r\n\r\nTo simulate what happens in Kubernetes with limits in the Linux container run:\r\n\r\n    docker run --memory=&quot;300m&quot; eclipse-temurin:17-jdk java -XX:+UseContainerSupport -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=75.0 -XX:+CrashOnOutOfMemoryError -XshowSettings:vm -version\r\n\r\nresult:\r\n\r\n    VM settings:\r\n        Max. Heap Size (Estimated): 218.50M\r\n        Using VM: OpenJDK 64-Bit Server VM\r\n\r\nIt also works on old school Java 8:\r\n\r\n    docker run --memory=&quot;300m&quot; eclipse-temurin:8-jdk java -XX:+UseContainerSupport -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=75.0  -XX:+CrashOnOutOfMemoryError  -XshowSettings:vm -version\r\n\r\n\r\nThis way the container will read your requests from the cgroups (cgroups v1 or cgroups v2). Having a limit is extremely important to prevent evictions and noisy neighbours. I personally set the limit 10% over the request.\r\n\r\nOlder versions of the Java like Java 8 don&#39;t read the cgroups v2 and Docker desktop uses cgroups v2.\r\n[To force Docker Desktop to use legacy cgroups1][4] set `{&quot;deprecatedCgroupv1&quot;: true}` in `~/Library/Group\\ Containers/group.com.docker/settings.json`\r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run\r\n  [2]: https://learn.microsoft.com/en-us/azure/developer/java/containers/overview\r\n  [3]: https://www.codementor.io/@suryab/outofmemoryerror-related-jvm-arguments-w6e4vgipt\r\n  [4]: https://github.com/docker/for-mac/issues/6073#issuecomment-1028933577","title":"How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?","body":"<p><strong><a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run\" rel=\"nofollow noreferrer\">Important concepts</a></strong></p>\n<ul>\n<li>The memory request is mainly used during (Kubernetes) Pod scheduling.</li>\n<li>The memory limit defines a memory limit for that cgroup.</li>\n</ul>\n<p>According to the article <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/containers/overview\" rel=\"nofollow noreferrer\">Containerize your Java applications</a> the best way to configure your JVM is to use the following JVM args:</p>\n<pre><code>-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0\n</code></pre>\n<p>Along with that you should always <a href=\"https://www.codementor.io/@suryab/outofmemoryerror-related-jvm-arguments-w6e4vgipt\" rel=\"nofollow noreferrer\">set the JVM to crash</a> if it runs out of memory. There is nothing worse than a health endpoint that thinks it's healthy, but the JVM has run out of memory!</p>\n<pre><code>-XX:+CrashOnOutOfMemoryError\n</code></pre>\n<p><em><strong>Note, there is a bug where you need to specify 75.0 and not 75</strong></em></p>\n<p>To simulate what happens in Kubernetes with limits in the Linux container run:</p>\n<pre><code>docker run --memory=&quot;300m&quot; eclipse-temurin:17-jdk java -XX:+UseContainerSupport -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=75.0 -XX:+CrashOnOutOfMemoryError -XshowSettings:vm -version\n</code></pre>\n<p>result:</p>\n<pre><code>VM settings:\n    Max. Heap Size (Estimated): 218.50M\n    Using VM: OpenJDK 64-Bit Server VM\n</code></pre>\n<p>It also works on old school Java 8:</p>\n<pre><code>docker run --memory=&quot;300m&quot; eclipse-temurin:8-jdk java -XX:+UseContainerSupport -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=75.0  -XX:+CrashOnOutOfMemoryError  -XshowSettings:vm -version\n</code></pre>\n<p>This way the container will read your requests from the cgroups (cgroups v1 or cgroups v2). Having a limit is extremely important to prevent evictions and noisy neighbours. I personally set the limit 10% over the request.</p>\n<p>Older versions of the Java like Java 8 don't read the cgroups v2 and Docker desktop uses cgroups v2.\n<a href=\"https://github.com/docker/for-mac/issues/6073#issuecomment-1028933577\" rel=\"nofollow noreferrer\">To force Docker Desktop to use legacy cgroups1</a> set <code>{&quot;deprecatedCgroupv1&quot;: true}</code> in <code>~/Library/Group\\ Containers/group.com.docker/settings.json</code></p>\n"}],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11907,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":71951379,"answer_count":4,"score":13,"last_activity_date":1678641052,"creation_date":1505368488,"question_id":46211535,"body_markdown":"I have a Kubernetes deployment that deploys a Java application based on the [anapsix/alpine-java][1] image. There is nothing else running in the container expect for the Java application and the container overhead.\r\n\r\nI want to maximise the amount of memory the Java process can use inside the docker container and minimise the amount of ram that will be reserved but never used.\r\n\r\n**For example I have:**\r\n\r\n 1. **Two Kubernetes nodes that have 8 gig of ram each and no swap**\r\n 1. **A Kubernetes deployment that runs a Java process consuming a maximum of 1 gig of heap to operate optimally**\r\n\r\n***How can I safely maximise the amount of pods running on the two nodes while never having Kubernetes terminate my PODs because of memory limits?***\r\n\r\n\tapiVersion: apps/v1\r\n\tkind: Deployment\r\n\tmetadata:\r\n\t  name: my-deployment\r\n\tspec:\r\n\t  replicas: 1\r\n\t  template:\r\n\t    metadata:\r\n\t      labels:\r\n\t\tapp: my-deployment\r\n\t    spec:\r\n\t      containers:\r\n\t      - name: my-deployment\r\n\t\timage: myreg:5000/my-deployment:0.0.1-SNAPSHOT\r\n\t\tports:\r\n\t\t- containerPort: 8080\r\n\t\t  name: http\r\n\t\tresources:\r\n\t\t  requests:\r\n\t\t    memory: 1024Mi\r\n\t\t  limits:\r\n\t\t    memory: 1024Mi\r\n\r\nJava 8 update 131+ has a flag -XX:+UseCGroupMemoryLimitForHeap to use the Docker limits that come from the Kubernetes deployment.\r\n\r\n**My Docker experiments show me what is happening in Kubernetes**\r\n\r\n**If I run the following in Docker:**\r\n\r\n    docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -version\r\n\r\n***I get:***\r\n\r\n    VM settings:\r\n    Max. Heap Size (Estimated): 228.00M\r\n\r\nThis low value is because Java sets -XX:MaxRAMFraction to 4 by default and I get about 1/4 of the ram allocated...\r\n\r\n**If I run the same command with -XX:MaxRAMFraction=2 in Docker:**\r\n\r\n    docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -XX:MaxRAMFraction=2 -version\r\n\r\n***I get:***\r\n\r\n    VM settings:\r\n    Max. Heap Size (Estimated): 455.50M\r\n\r\nFinally setting MaxRAMFraction=1 quickly causes Kubernetes to Kill my container.\r\n\r\n    docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -XX:MaxRAMFraction=1 -version\r\n\r\n***I get:***\r\n\r\n    VM settings:\r\n    Max. Heap Size (Estimated): 910.50M\r\n\r\n\r\n\r\n  [1]: https://hub.docker.com/r/anapsix/alpine-java/","title":"How do I elegantly and safely maximize the amount of heap space allocated to a Java application in Kubernetes?","body":"<p>I have a Kubernetes deployment that deploys a Java application based on the <a href=\"https://hub.docker.com/r/anapsix/alpine-java/\" rel=\"nofollow noreferrer\">anapsix/alpine-java</a> image. There is nothing else running in the container expect for the Java application and the container overhead.</p>\n<p>I want to maximise the amount of memory the Java process can use inside the docker container and minimise the amount of ram that will be reserved but never used.</p>\n<p><strong>For example I have:</strong></p>\n<ol>\n<li><strong>Two Kubernetes nodes that have 8 gig of ram each and no swap</strong></li>\n<li><strong>A Kubernetes deployment that runs a Java process consuming a maximum of 1 gig of heap to operate optimally</strong></li>\n</ol>\n<p><em><strong>How can I safely maximise the amount of pods running on the two nodes while never having Kubernetes terminate my PODs because of memory limits?</strong></em></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-deployment\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n    app: my-deployment\n    spec:\n      containers:\n      - name: my-deployment\n    image: myreg:5000/my-deployment:0.0.1-SNAPSHOT\n    ports:\n    - containerPort: 8080\n      name: http\n    resources:\n      requests:\n        memory: 1024Mi\n      limits:\n        memory: 1024Mi\n</code></pre>\n<p>Java 8 update 131+ has a flag -XX:+UseCGroupMemoryLimitForHeap to use the Docker limits that come from the Kubernetes deployment.</p>\n<p><strong>My Docker experiments show me what is happening in Kubernetes</strong></p>\n<p><strong>If I run the following in Docker:</strong></p>\n<pre><code>docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -version\n</code></pre>\n<p><em><strong>I get:</strong></em></p>\n<pre><code>VM settings:\nMax. Heap Size (Estimated): 228.00M\n</code></pre>\n<p>This low value is because Java sets -XX:MaxRAMFraction to 4 by default and I get about 1/4 of the ram allocated...</p>\n<p><strong>If I run the same command with -XX:MaxRAMFraction=2 in Docker:</strong></p>\n<pre><code>docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -XX:MaxRAMFraction=2 -version\n</code></pre>\n<p><em><strong>I get:</strong></em></p>\n<pre><code>VM settings:\nMax. Heap Size (Estimated): 455.50M\n</code></pre>\n<p>Finally setting MaxRAMFraction=1 quickly causes Kubernetes to Kill my container.</p>\n<pre><code>docker run -m 1024m anapsix/alpine-java:8_server-jre_unlimited java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XshowSettings:vm -XX:MaxRAMFraction=1 -version\n</code></pre>\n<p><em><strong>I get:</strong></em></p>\n<pre><code>VM settings:\nMax. Heap Size (Estimated): 910.50M\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","schedule"],"comments":[{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":2,"creation_date":1678639844,"post_id":75714723,"comment_id":133568527,"body_markdown":"Does it help if you set the property `spring.batch.job.enabled=false`?","body":"Does it help if you set the property <code>spring.batch.job.enabled=false</code>?"},{"owner":{"account_id":27999808,"reputation":1,"user_id":21384333,"display_name":"Ho&#224;ng Văn L&#226;m"},"score":0,"creation_date":1678640481,"post_id":75714723,"comment_id":133568639,"body_markdown":"I have another problem when config JobRepository. I set tablePrefix but the list of tables required for spring batch is not automatically generated. Even though I added initialize-schema: always.","body":"I have another problem when config JobRepository. I set tablePrefix but the list of tables required for spring batch is not automatically generated. Even though I added initialize-schema: always."},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1678641128,"post_id":75714723,"comment_id":133568765,"body_markdown":"If I understand correctly, this is a separate problem that is unrelated to scheduling or the newly set property. If you agree, please create a new question. Please also share more details on the structure of your code. That my first comment helped you was mostly the result of a lucky guess.","body":"If I understand correctly, this is a separate problem that is unrelated to scheduling or the newly set property. If you agree, please create a new question. Please also share more details on the structure of your code. That my first comment helped you was mostly the result of a lucky guess."},{"owner":{"account_id":27999808,"reputation":1,"user_id":21384333,"display_name":"Ho&#224;ng Văn L&#226;m"},"score":0,"creation_date":1678641238,"post_id":75714723,"comment_id":133568788,"body_markdown":"Yep, I will create new question and show my code","body":"Yep, I will create new question and show my code"}],"owner":{"account_id":27999808,"reputation":1,"user_id":21384333,"display_name":"Ho&#224;ng Văn L&#226;m"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678640794,"creation_date":1678639610,"question_id":75714723,"body_markdown":"I created a Job using Spring Batch and use @Schedule to scheduling my job. But when I start my application, this Job will run outside @Schedule, it make 1 Job run twice time(in @Schedule and without @Schedule). How can I disable a Job run without @Schedule. It make my data is duplicate. **Resolved**\r\n\r\n\r\n```\r\n [Async-1] [INFO ] o.s.b.c.j.SimpleStepHandler: Executing step: [syncTransactionMasterStep]\r\n [Async-1] [INFO ] o.s.b.c.step.AbstractStep: Step: [syncTransactionMasterStep] executed in 2s770ms\r\n [Async-2] [INFO ] c.a.b.m.j.s.SyncTransactionSchedule: Job running by using @Schedule\r\n\r\n```\r\nI have another problem when config JobRepository. I set tablePrefix but the list of tables required for spring batch is not automatically generated. Even though I added initialize-schema: always.","title":"How to config spring batch job run only 1 time when start application?","body":"<p>I created a Job using Spring Batch and use @Schedule to scheduling my job. But when I start my application, this Job will run outside @Schedule, it make 1 Job run twice time(in @Schedule and without @Schedule). How can I disable a Job run without @Schedule. It make my data is duplicate. <strong>Resolved</strong></p>\n<pre><code> [Async-1] [INFO ] o.s.b.c.j.SimpleStepHandler: Executing step: [syncTransactionMasterStep]\n [Async-1] [INFO ] o.s.b.c.step.AbstractStep: Step: [syncTransactionMasterStep] executed in 2s770ms\n [Async-2] [INFO ] c.a.b.m.j.s.SyncTransactionSchedule: Job running by using @Schedule\n\n</code></pre>\n<p>I have another problem when config JobRepository. I set tablePrefix but the list of tables required for spring batch is not automatically generated. Even though I added initialize-schema: always.</p>\n"},{"tags":["java","web","flash","3d"],"answers":[{"tags":[],"owner":{"account_id":10546813,"reputation":194,"user_id":7770787,"display_name":"DarkCeptor44"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580837860,"creation_date":1580837860,"answer_id":60062777,"question_id":60062693,"body_markdown":"I never worked with 3D but a quick search showed that it&#39;s possible to use STL files in JavaScript and since it&#39;s a webapp you&#39;re gonna want to be using that anyway, you can use HTML5 File Input to ask the user to provide the file, [here][1]&#39;s the link.\r\nBy the way it uses three.js which is a library I&#39;m also not familiar with but in the post I linked there&#39;s an example of how to use it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51785570/7770787","title":"How can import and display 3D files (.stl) in a Web App using JAVA?","body":"<p>I never worked with 3D but a quick search showed that it's possible to use STL files in JavaScript and since it's a webapp you're gonna want to be using that anyway, you can use HTML5 File Input to ask the user to provide the file, <a href=\"https://stackoverflow.com/a/51785570/7770787\">here</a>'s the link.\nBy the way it uses three.js which is a library I'm also not familiar with but in the post I linked there's an example of how to use it.</p>\n"}],"owner":{"account_id":17688232,"reputation":11,"user_id":12840672,"display_name":"Bob Raul Fineas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678640794,"creation_date":1580837561,"question_id":60062693,"body_markdown":"I want to write a Web App using Java that behaves like an **STL View-er**. Just import the file from disk and the app shows you the 3D content . Is this hard to do? I&#39;m having trouble finding resources. I don&#39;t know where to start. Has anyone have any experience with this?\r\n\r\nThanks in advance. ","title":"How can import and display 3D files (.stl) in a Web App using JAVA?","body":"<p>I want to write a Web App using Java that behaves like an <strong>STL View-er</strong>. Just import the file from disk and the app shows you the 3D content . Is this hard to do? I'm having trouble finding resources. I don't know where to start. Has anyone have any experience with this?</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","printing","3d"],"comments":[{"owner":{"account_id":543931,"reputation":473,"user_id":913221,"accept_rate":70,"display_name":"lsiva"},"score":0,"creation_date":1469548586,"post_id":38594493,"comment_id":64577327,"body_markdown":"Can you use java print api and send the file to a 3D printer?","body":"Can you use java print api and send the file to a 3D printer?"}],"answers":[{"tags":[],"owner":{"account_id":4795199,"reputation":2410,"user_id":3873323,"accept_rate":100,"display_name":"Yotam Salmon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1469548788,"creation_date":1469548788,"answer_id":38594732,"question_id":38594493,"body_markdown":"Sending commands to a 3d printer is a very large subject. In short, what has to be done is:\r\n\r\n1. An `.stl` file is a collection of **polygons**. A 3D printer cannot process those. Most 3D printers receive movement commands. These commands are called `G code`. Converting `stl` files to `g codes` is called **slicing**. There are softwares which do that. For example, the open source [slic3r][1]. You can try the `console-slic3r` to see how it works and use it within your Java code.\r\n\r\n2. After you have a G code file, you have to send them to the printers. Most 3D printers can communicate with your computer using serial communication. You have to connect to the right port, then start sending the G code line by line. Every time the printer finishes performing a command, it sends back an &#39;ok&#39; response (It&#39;s `ok` for Marlin based printers, open a serial monitor and start experimenting yourself to see how your printer behaves). Every time you receive an `ok`, you send the next command, until you are out of them.\r\n\r\nSo basically what you have to do (in steps)\r\n\r\n1. Using Slic3r, convert your `.stl` file to `.gcode` file.\r\n2. Read the output `.gcode` file that slic3r has generated.\r\n3. Open a serial connection to the printer and send the first line of the file.\r\n4. Wait for `ok`, and send the next line.\r\n5. Repeat step 4 until you are out of `gcode` lines.\r\n\r\nIf you&#39;re new to this subject, I would download the [Arduino IDE][2], open the serial monitor, and start sending some G codes to the printer.\r\n\r\n**Some examples of G codes**\r\n\r\nFor example, the movement command is `G0` or `G1`, and it has 6 parameters - `X, Y, Z, E and F` (e - extruder, f - speed). Try: (remember to send a newline after that)\r\n\r\n    G1 X50 Y20 Z10 F5000\r\n\r\nAnd the printer is supposed to move to that coordinate. More information about G code commands can be found [here][3] (G code RepRap wiki)\r\n\r\n\r\n  [1]: http://slic3r.org/\r\n  [2]: http://arduino.cc/\r\n  [3]: http://reprap.org/wiki/G-code","title":"how to print stl files (3d) in java","body":"<p>Sending commands to a 3d printer is a very large subject. In short, what has to be done is:</p>\n\n<ol>\n<li><p>An <code>.stl</code> file is a collection of <strong>polygons</strong>. A 3D printer cannot process those. Most 3D printers receive movement commands. These commands are called <code>G code</code>. Converting <code>stl</code> files to <code>g codes</code> is called <strong>slicing</strong>. There are softwares which do that. For example, the open source <a href=\"http://slic3r.org/\" rel=\"nofollow\">slic3r</a>. You can try the <code>console-slic3r</code> to see how it works and use it within your Java code.</p></li>\n<li><p>After you have a G code file, you have to send them to the printers. Most 3D printers can communicate with your computer using serial communication. You have to connect to the right port, then start sending the G code line by line. Every time the printer finishes performing a command, it sends back an 'ok' response (It's <code>ok</code> for Marlin based printers, open a serial monitor and start experimenting yourself to see how your printer behaves). Every time you receive an <code>ok</code>, you send the next command, until you are out of them.</p></li>\n</ol>\n\n<p>So basically what you have to do (in steps)</p>\n\n<ol>\n<li>Using Slic3r, convert your <code>.stl</code> file to <code>.gcode</code> file.</li>\n<li>Read the output <code>.gcode</code> file that slic3r has generated.</li>\n<li>Open a serial connection to the printer and send the first line of the file.</li>\n<li>Wait for <code>ok</code>, and send the next line.</li>\n<li>Repeat step 4 until you are out of <code>gcode</code> lines.</li>\n</ol>\n\n<p>If you're new to this subject, I would download the <a href=\"http://arduino.cc/\" rel=\"nofollow\">Arduino IDE</a>, open the serial monitor, and start sending some G codes to the printer.</p>\n\n<p><strong>Some examples of G codes</strong></p>\n\n<p>For example, the movement command is <code>G0</code> or <code>G1</code>, and it has 6 parameters - <code>X, Y, Z, E and F</code> (e - extruder, f - speed). Try: (remember to send a newline after that)</p>\n\n<pre><code>G1 X50 Y20 Z10 F5000\n</code></pre>\n\n<p>And the printer is supposed to move to that coordinate. More information about G code commands can be found <a href=\"http://reprap.org/wiki/G-code\" rel=\"nofollow\">here</a> (G code RepRap wiki)</p>\n"}],"owner":{"account_id":7538425,"reputation":47,"user_id":5723966,"display_name":"Meir Julian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1469560728,"accepted_answer_id":38594732,"answer_count":1,"score":0,"last_activity_date":1678640740,"creation_date":1469548110,"question_id":38594493,"body_markdown":"As part of my school project, I have stl files and I need to print them one by one in 3d printer.\r\nHow do i send it to the printer? is there a function that does that?\r\n\r\nThank you!","title":"how to print stl files (3d) in java","body":"<p>As part of my school project, I have stl files and I need to print them one by one in 3d printer.\nHow do i send it to the printer? is there a function that does that?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","web-scraping","jsoup"],"comments":[{"owner":{"account_id":3495915,"reputation":804,"user_id":2924138,"accept_rate":92,"display_name":"Tom C"},"score":0,"creation_date":1518524126,"post_id":48752408,"comment_id":84533367,"body_markdown":"When you say `I would like to do it using only java and no external app.` Do you mean you don&#39;t want to use third party libraries such as `org.Jsoup` and `org.Json`?","body":"When you say <code>I would like to do it using only java and no external app.</code> Do you mean you don&#39;t want to use third party libraries such as <code>org.Jsoup</code> and <code>org.Json</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3495915,"reputation":804,"user_id":2924138,"accept_rate":92,"display_name":"Tom C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518483062,"creation_date":1518482672,"answer_id":48757846,"question_id":48752408,"body_markdown":"So after a little playing around with the site I came up with a solution. \r\n\r\nNow the site uses API responses to get the prices for each item, this is why you are not getting the prices in your HTML that you are receiving from Jsoup. Unfortunately there&#39;s a little more code than first expected, and you&#39;ll have to do some working out on how it should know which product Id to use instead of the hardcoded value. However, other than that the following code should work in your case.\r\n\r\nI&#39;ve included comments that hopefully explain each step, and I recommend taking a look at the API response, as there maybe some other data you require, in fact this maybe the same with the product details and description, as further data will need to be parsed out of `elementById` field.\r\n\r\nGood luck and let me know if you need any further help!\r\n\r\n    import org.json.*;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.*;\r\n    import org.jsoup.select.Elements;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class Main\r\n    {\r\n        final String productID = &quot;8513070&quot;;\r\n        final String productURL = &quot;http://www.asos.com/prd/&quot;;\r\n        final Product product = new Product();\r\n\r\n        public static void main( String[] args )\r\n        {\r\n            new Main();\r\n        }\r\n\r\n        private Main()\r\n        {\r\n            getProductDetails( productURL, productID );\r\n            System.out.println( &quot;ID: &quot; + product.productID + &quot;, Name: &quot; + product.productName + &quot;, Price: &quot; + product.productPrice );\r\n        }\r\n\r\n        private void getProductDetails( String url, String productID )\r\n        {\r\n            try\r\n            {\r\n                // Append the product url and the product id to retrieve the product HTML\r\n                final String appendedURL = url + productID;\r\n\r\n                // Using Jsoup we&#39;ll connect to the url and get the HTML\r\n                Document document = Jsoup.connect( appendedURL ).get();\r\n                // We parse the HTML only looking for the product section\r\n                Element elementById = document.getElementById( &quot;asos-product&quot; );\r\n                // To simply get the title we look for the H1 tag\r\n                Elements h1 = elementById.getElementsByTag( &quot;h1&quot; );\r\n\r\n                // Because more than one H1 tag is returned we only want the tag that isn&#39;t empty\r\n                if ( !h1.text().isEmpty() )\r\n                {\r\n                    // Add all data to Product object\r\n                    product.productID = productID;\r\n                    product.productName = h1.text().trim();\r\n                    product.productPrice = getProductPrice(productID);\r\n                }\r\n            }\r\n            catch ( IOException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private String getProductPrice( String productID )\r\n        {\r\n            try\r\n            {\r\n                // Append the api url and the product id to retrieve the product price JSON document\r\n                final String apiURL = &quot;http://www.asos.com/api/product/catalogue/v2/stockprice?productIds=&quot; + productID + &quot;&amp;store=COM&quot;;\r\n                // Using Jsoup again we connect to the URL ignoring the content type and retrieve the body\r\n                String jsonDoc = Jsoup.connect( apiURL ).ignoreContentType( true ).execute().body();\r\n\r\n                // As its JSON we want to parse the JSONArray until we get to the current price and return it.\r\n                JSONArray jsonArray = new JSONArray( jsonDoc );\r\n                JSONObject currentProductPriceObj = jsonArray\r\n                        .getJSONObject( 0 )\r\n                        .getJSONObject( &quot;productPrice&quot; )\r\n                        .getJSONObject( &quot;current&quot; );\r\n                return currentProductPriceObj.getString( &quot;text&quot; );\r\n            }\r\n            catch ( IOException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        // Simple Product object to store the data\r\n        class Product\r\n        {\r\n            String productID;\r\n            String productName;\r\n            String productPrice;\r\n        }\r\n    }\r\n\r\nOh, and you&#39;ll also need [org.json][1] for parse the JSON response from the API.\r\n\r\n[1]: https://mvnrepository.com/artifact/org.json/json/20160810\r\n","title":"How to correctly parse HTML in Java","body":"<p>So after a little playing around with the site I came up with a solution. </p>\n\n<p>Now the site uses API responses to get the prices for each item, this is why you are not getting the prices in your HTML that you are receiving from Jsoup. Unfortunately there's a little more code than first expected, and you'll have to do some working out on how it should know which product Id to use instead of the hardcoded value. However, other than that the following code should work in your case.</p>\n\n<p>I've included comments that hopefully explain each step, and I recommend taking a look at the API response, as there maybe some other data you require, in fact this maybe the same with the product details and description, as further data will need to be parsed out of <code>elementById</code> field.</p>\n\n<p>Good luck and let me know if you need any further help!</p>\n\n<pre><code>import org.json.*;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.*;\nimport org.jsoup.select.Elements;\n\nimport java.io.IOException;\n\npublic class Main\n{\n    final String productID = \"8513070\";\n    final String productURL = \"http://www.asos.com/prd/\";\n    final Product product = new Product();\n\n    public static void main( String[] args )\n    {\n        new Main();\n    }\n\n    private Main()\n    {\n        getProductDetails( productURL, productID );\n        System.out.println( \"ID: \" + product.productID + \", Name: \" + product.productName + \", Price: \" + product.productPrice );\n    }\n\n    private void getProductDetails( String url, String productID )\n    {\n        try\n        {\n            // Append the product url and the product id to retrieve the product HTML\n            final String appendedURL = url + productID;\n\n            // Using Jsoup we'll connect to the url and get the HTML\n            Document document = Jsoup.connect( appendedURL ).get();\n            // We parse the HTML only looking for the product section\n            Element elementById = document.getElementById( \"asos-product\" );\n            // To simply get the title we look for the H1 tag\n            Elements h1 = elementById.getElementsByTag( \"h1\" );\n\n            // Because more than one H1 tag is returned we only want the tag that isn't empty\n            if ( !h1.text().isEmpty() )\n            {\n                // Add all data to Product object\n                product.productID = productID;\n                product.productName = h1.text().trim();\n                product.productPrice = getProductPrice(productID);\n            }\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private String getProductPrice( String productID )\n    {\n        try\n        {\n            // Append the api url and the product id to retrieve the product price JSON document\n            final String apiURL = \"http://www.asos.com/api/product/catalogue/v2/stockprice?productIds=\" + productID + \"&amp;store=COM\";\n            // Using Jsoup again we connect to the URL ignoring the content type and retrieve the body\n            String jsonDoc = Jsoup.connect( apiURL ).ignoreContentType( true ).execute().body();\n\n            // As its JSON we want to parse the JSONArray until we get to the current price and return it.\n            JSONArray jsonArray = new JSONArray( jsonDoc );\n            JSONObject currentProductPriceObj = jsonArray\n                    .getJSONObject( 0 )\n                    .getJSONObject( \"productPrice\" )\n                    .getJSONObject( \"current\" );\n            return currentProductPriceObj.getString( \"text\" );\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n\n        return \"\";\n    }\n\n    // Simple Product object to store the data\n    class Product\n    {\n        String productID;\n        String productName;\n        String productPrice;\n    }\n}\n</code></pre>\n\n<p>Oh, and you'll also need <a href=\"https://mvnrepository.com/artifact/org.json/json/20160810\" rel=\"nofollow noreferrer\">org.json</a> for parse the JSON response from the API.</p>\n"}],"owner":{"account_id":7265230,"reputation":3,"user_id":5540224,"display_name":"f.net"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48757846,"answer_count":1,"score":0,"last_activity_date":1678639503,"creation_date":1518457400,"question_id":48752408,"body_markdown":"I&#39;m trying to extract information from websites using Jsoup but I don&#39;t get the same HTML code as in my browser. \r\n\r\nI tried to use `.userAgent()` but it didn&#39;t work. I currently use the following function which works for Amazon.com:\r\n\r\n    public static String getHTML(String urlToRead) throws Exception {\r\n\t      StringBuilder result = new StringBuilder();\r\n\t      URL url = new URL(urlToRead);\r\n\t      HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t      conn.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0&quot;);\r\n\t      conn.setRequestMethod(&quot;GET&quot;);\r\n\t      BufferedReader rd = new BufferedReader(new InputStreamReader(conn.getInputStream(), &quot;UTF-8&quot;));\r\n\t      String line;\r\n\t      while ((line = rd.readLine()) != null) {\r\n\t         result.append(line);\r\n\t      }\r\n\t      rd.close();\r\n\t      return result.toString();\r\n\t   }\r\n\r\nThe website I&#39;m trying to parse is http://www.asos.com/ but the price of the product is always missing.\r\n\r\nI found [this topic][1] which is pretty close to mine but I would like to do it using only java and no external app.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43316227/why-html-code-is-different-when-parsing-site-using-jsoup-than-using-browser","title":"How to correctly parse HTML in Java","body":"<p>I'm trying to extract information from websites using Jsoup but I don't get the same HTML code as in my browser.</p>\n<p>I tried to use <code>.userAgent()</code> but it didn't work. I currently use the following function which works for Amazon.com:</p>\n<pre><code>public static String getHTML(String urlToRead) throws Exception {\n      StringBuilder result = new StringBuilder();\n      URL url = new URL(urlToRead);\n      HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n      conn.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 5.1; rv:19.0) Gecko/20100101 Firefox/19.0&quot;);\n      conn.setRequestMethod(&quot;GET&quot;);\n      BufferedReader rd = new BufferedReader(new InputStreamReader(conn.getInputStream(), &quot;UTF-8&quot;));\n      String line;\n      while ((line = rd.readLine()) != null) {\n         result.append(line);\n      }\n      rd.close();\n      return result.toString();\n   }\n</code></pre>\n<p>The website I'm trying to parse is <a href=\"http://www.asos.com/\" rel=\"nofollow noreferrer\">http://www.asos.com/</a> but the price of the product is always missing.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/43316227/why-html-code-is-different-when-parsing-site-using-jsoup-than-using-browser\">this topic</a> which is pretty close to mine but I would like to do it using only java and no external app.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":9639549,"reputation":1087,"user_id":7154311,"accept_rate":88,"display_name":"Ch3shire"},"score":0,"creation_date":1678633830,"post_id":75713922,"comment_id":133567453,"body_markdown":"@James_D Hovering over warning doesn&#39;t help, I don&#39;t have any message.","body":"@James_D Hovering over warning doesn&#39;t help, I don&#39;t have any message."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678634037,"post_id":75713922,"comment_id":133567500,"body_markdown":"I&#39;m using SceneBuilder 19.0; if I move the mouse over the warning icon and leave it alone for a few seconds a tooltip shows up.","body":"I&#39;m using SceneBuilder 19.0; if I move the mouse over the warning icon and leave it alone for a few seconds a tooltip shows up."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1678639407,"post_id":75713922,"comment_id":133568439,"body_markdown":"please explain your problem without sexist remarks (edited to remove)","body":"please explain your problem without sexist remarks (edited to remove)"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678712379,"post_id":75713922,"comment_id":133581126,"body_markdown":"Hoving over it for 2-3 seconds can see the warning in my case too. It&#39;s `Unsupported by Scene Builder ${controller.records}`.","body":"Hoving over it for 2-3 seconds can see the warning in my case too. It&#39;s <code>Unsupported by Scene Builder ${controller.records}</code>."}],"owner":{"account_id":9639549,"reputation":1087,"user_id":7154311,"accept_rate":88,"display_name":"Ch3shire"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678639355,"creation_date":1678632139,"question_id":75713922,"body_markdown":"I get a warning, i.e. I see something&#39;s not right, but I cannot get information what is it. I see the following picture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(ListView has warning icon) but I cannot find any place to display list of warnings from editor. The fxml code is following:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.hirundo.app.MainController&quot;&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n    &lt;ListView items=&quot;${controller.records}&quot; /&gt;\r\n    &lt;Button onAction=&quot;#onAddNewRecord&quot; text=&quot;Add record&quot; /&gt;\r\n&lt;/VBox&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nAnd the complementary `MainController.java` file is:\r\n\r\n```java\r\npackage com.hirundo.app;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\n\r\npublic class MainController {\r\n\r\n    @FXML\r\n    private final ObservableList&lt;String&gt; records;\r\n    @FXML\r\n    public ObservableList&lt;String&gt; getRecords() {\r\n        return records;\r\n    }\r\n\r\n    public MainController() {\r\n        records = FXCollections.observableArrayList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\r\n    }\r\n\r\n    @FXML\r\n    protected void onAddNewRecord() {\r\n        addNewRecord();\r\n//        listView.scrollTo(records.size()-1);\r\n    }\r\n\r\n\r\n    public void addNewRecord() {\r\n        records.add(&quot;New Record&quot;);\r\n        System.out.println(&quot;New Record added&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhat should I do to get info about warnings in Scene Builder?\r\n\r\nThe JavaFX version is 18.0.2.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9zmJi.png","title":"JavaFX Scene Builder shows warning for ListView but refuses to elaborate","body":"<p>I get a warning, i.e. I see something's not right, but I cannot get information what is it. I see the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/9zmJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zmJi.png\" alt=\"enter image description here\" /></a></p>\n<p>(ListView has warning icon) but I cannot find any place to display list of warnings from editor. The fxml code is following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.hirundo.app.MainController&quot;&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n    &lt;ListView items=&quot;${controller.records}&quot; /&gt;\n    &lt;Button onAction=&quot;#onAddNewRecord&quot; text=&quot;Add record&quot; /&gt;\n&lt;/VBox&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>And the complementary <code>MainController.java</code> file is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hirundo.app;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\n\npublic class MainController {\n\n    @FXML\n    private final ObservableList&lt;String&gt; records;\n    @FXML\n    public ObservableList&lt;String&gt; getRecords() {\n        return records;\n    }\n\n    public MainController() {\n        records = FXCollections.observableArrayList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\n    }\n\n    @FXML\n    protected void onAddNewRecord() {\n        addNewRecord();\n//        listView.scrollTo(records.size()-1);\n    }\n\n\n    public void addNewRecord() {\n        records.add(&quot;New Record&quot;);\n        System.out.println(&quot;New Record added&quot;);\n    }\n}\n</code></pre>\n<p>What should I do to get info about warnings in Scene Builder?</p>\n<p>The JavaFX version is 18.0.2.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14877831,"reputation":135,"user_id":10743408,"display_name":"arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678632956,"creation_date":1678632956,"answer_id":75714007,"question_id":75713950,"body_markdown":"with the help of HashMap you can store the key and value pair as\r\n\r\n    HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;()","title":"How to store Key-Value collections in Java Android?","body":"<p>with the help of HashMap you can store the key and value pair as</p>\n<pre><code>HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745349,"reputation":415,"user_id":5863348,"accept_rate":88,"display_name":"YouHoGeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678638929,"creation_date":1678638929,"answer_id":75714635,"question_id":75713950,"body_markdown":"You can use a Map as a data structure for keys and values.\r\n\r\n```\r\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n```\r\n\r\nHowever, if you want to convert the already written JSON format to Object, consider using a library like Jackson or JSONObject.","title":"How to store Key-Value collections in Java Android?","body":"<p>You can use a Map as a data structure for keys and values.</p>\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>However, if you want to convert the already written JSON format to Object, consider using a library like Jackson or JSONObject.</p>\n"}],"owner":{"account_id":16980353,"reputation":93,"user_id":13108100,"display_name":"Вячеслав Предеин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75714635,"answer_count":2,"score":0,"last_activity_date":1678638929,"creation_date":1678632411,"question_id":75713950,"body_markdown":"The application needs to store several immutable Key-Value collections\r\n\r\nExample\r\n\r\n    {\r\n        1: &quot;Apple&quot;,\r\n        2: &quot;LG&quot;,\r\n        3: &quot;Samsung&quot;\r\n    ...\r\n    }\r\n\r\nCollections won&#39;t be programmatically modified, and there aren&#39;t many of them.  How to store this collection?  And how to use them in a dropdown list (Spinner) for example?","title":"How to store Key-Value collections in Java Android?","body":"<p>The application needs to store several immutable Key-Value collections</p>\n<p>Example</p>\n<pre><code>{\n    1: &quot;Apple&quot;,\n    2: &quot;LG&quot;,\n    3: &quot;Samsung&quot;\n...\n}\n</code></pre>\n<p>Collections won't be programmatically modified, and there aren't many of them.  How to store this collection?  And how to use them in a dropdown list (Spinner) for example?</p>\n"},{"tags":["java","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1678641908,"post_id":37506127,"comment_id":133568924,"body_markdown":"Do you really like to create the post request yourself? Usually HtmlUnit does all this for your - have a look at https://htmlunit.sourceforge.io/gettingStarted.html.","body":"Do you really like to create the post request yourself? Usually HtmlUnit does all this for your - have a look at <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html\" rel=\"nofollow noreferrer\">htmlunit.sourceforge.io/gettingStarted.html</a>."}],"answers":[{"tags":[],"owner":{"account_id":2520807,"reputation":107,"user_id":2191228,"accept_rate":0,"display_name":"Richard Hammond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678638746,"creation_date":1678638746,"answer_id":75714619,"question_id":37506127,"body_markdown":"Don&#39;t supply the User-Agent ...","title":"Sending a post request with HtmlUnit","body":"<p>Don't supply the User-Agent ...</p>\n"}],"owner":{"account_id":7010574,"reputation":441,"user_id":5373623,"accept_rate":25,"display_name":"Sentinel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678638746,"creation_date":1464495729,"question_id":37506127,"body_markdown":"Complete amateur at anything server related and was just trying to send a post request following some of the other answers I found on here but no luck, code crashes at the last line with &quot;Source not found&quot; error. \r\n\r\nNOTE: I know that some parameters and headers are missing, do I need to have everything filled out? How can I tell what a proper request looks like?\r\n\r\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\r\n\r\n        params.add(new NameValuePair(&quot;_sendCopyToSender&quot;, &quot;on&quot;));\r\n\r\n        params.add(new NameValuePair(&quot;adId&quot;, &quot;&quot;)); \r\n        \r\n       params.add(new NameValuePair(&quot;bbToken&quot;, tok)); \r\n        \r\n        params.add(new NameValuePair(&quot;bbUserInput&quot;, output)); \r\n        \r\n        params.add(new NameValuePair(&quot;ca.kijiji.xsrf.token&quot;, xsrfTok)); \r\n        \r\n        params.add(new NameValuePair(&quot;emailRequiresVerification&quot;, &quot;true&quot;));\r\n        \r\n        params.add(new NameValuePair(&quot;adId&quot;, &quot;true&quot;));\r\n        \r\n        params.add(new NameValuePair(&quot;from&quot;, emailBox.asText())); \r\n        \r\n        params.add(new NameValuePair(&quot;fromName&quot;, nameBox.asText())); \r\n        \r\n        params.add(new NameValuePair(&quot;message&quot;, message)); \r\n        \t\r\n\t\trequestSettings.setRequestParameters(params);\r\n\t\t\r\n\t\trequestSettings.setAdditionalHeader(&quot;Accept&quot;, &quot;application/json, text/javascript, */*; q=0.01&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Content-Length&quot;, &quot;437&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;Host&quot;, &quot;www.kijiji.ca&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0&quot;);\r\n\t\trequestSettings.setAdditionalHeader(&quot;X-Requested-With&quot;, &quot;XMLHttpRequest&quot;);\t\t\t\t\r\n\t\t\r\n\t\tPage redirectPage = webClient.getPage(requestSettings); //Crashes here","title":"Sending a post request with HtmlUnit","body":"<p>Complete amateur at anything server related and was just trying to send a post request following some of the other answers I found on here but no luck, code crashes at the last line with \"Source not found\" error. </p>\n\n<p>NOTE: I know that some parameters and headers are missing, do I need to have everything filled out? How can I tell what a proper request looks like?</p>\n\n<pre><code>List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;(2);\n\n    params.add(new NameValuePair(\"_sendCopyToSender\", \"on\"));\n\n    params.add(new NameValuePair(\"adId\", \"\")); \n\n   params.add(new NameValuePair(\"bbToken\", tok)); \n\n    params.add(new NameValuePair(\"bbUserInput\", output)); \n\n    params.add(new NameValuePair(\"ca.kijiji.xsrf.token\", xsrfTok)); \n\n    params.add(new NameValuePair(\"emailRequiresVerification\", \"true\"));\n\n    params.add(new NameValuePair(\"adId\", \"true\"));\n\n    params.add(new NameValuePair(\"from\", emailBox.asText())); \n\n    params.add(new NameValuePair(\"fromName\", nameBox.asText())); \n\n    params.add(new NameValuePair(\"message\", message)); \n\n    requestSettings.setRequestParameters(params);\n\n    requestSettings.setAdditionalHeader(\"Accept\", \"application/json, text/javascript, */*; q=0.01\");\n    requestSettings.setAdditionalHeader(\"Accept-Encoding\", \"gzip, deflate\");\n    requestSettings.setAdditionalHeader(\"Accept-Language\", \"en-US,en;q=0.5\");\n    requestSettings.setAdditionalHeader(\"Connection\", \"keep-alive\");\n    requestSettings.setAdditionalHeader(\"Content-Length\", \"437\");\n    requestSettings.setAdditionalHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\");\n    requestSettings.setAdditionalHeader(\"Host\", \"www.kijiji.ca\");\n    requestSettings.setAdditionalHeader(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0\");\n    requestSettings.setAdditionalHeader(\"X-Requested-With\", \"XMLHttpRequest\");              \n\n    Page redirectPage = webClient.getPage(requestSettings); //Crashes here\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678638187,"creation_date":1678638187,"answer_id":75714561,"question_id":75714354,"body_markdown":"The `AuthenticationManager` is a container for authentication providers, giving a consistent interface to them all.\r\n\r\nInorder to have AuthenticationManager bean to be in the spring context, you can use the following solution.\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n         return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\nAnd you can inject AuthenticationManager wherever you need.","title":"Bean type usage error in authenticationManager in spring boot security","body":"<p>The <code>AuthenticationManager</code> is a container for authentication providers, giving a consistent interface to them all.</p>\n<p>Inorder to have AuthenticationManager bean to be in the spring context, you can use the following solution.</p>\n<pre><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n     return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>And you can inject AuthenticationManager wherever you need.</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678638187,"creation_date":1678636414,"question_id":75714354,"body_markdown":"I&#39;m trying to implement custom authentication in spring security, using UserDetails. For that I created my UserDetailsService service:\r\n\r\n```\r\npackage com.api.business_manager_api.Services;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\r\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\r\n\r\n        if (optionalUser.isPresent()) {\r\n            UserModel userModel = optionalUser.get();\r\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\r\n                    new ArrayList&lt;&gt;());\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is my securityConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\n\r\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(\r\n                        authorizeConfig -&gt; {\r\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\r\n                            authorizeConfig.anyRequest().authenticated();\r\n                        })\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand this is my auth Controller\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.LoginDto;\r\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\r\nimport com.api.business_manager_api.Security.JwtTokenProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginDto.getUsername(),\r\n                        loginDto.getPassword()\r\n                )\r\n        );\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtTokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe problem is that when I play my API, the error is returned:\r\n\r\n```\r\n\r\nField authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n```\r\n\r\nI don&#39;t understand why and how I should use a Bean in my application. Can anyone tell me the solution?\r\n","title":"Bean type usage error in authenticationManager in spring boot security","body":"<p>I'm trying to implement custom authentication in spring security, using UserDetails. For that I created my UserDetailsService service:</p>\n<pre><code>package com.api.business_manager_api.Services;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.services.connect.model.UserNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UserNotFoundException {\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\n\n        if (optionalUser.isPresent()) {\n            UserModel userModel = optionalUser.get();\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\n                    new ArrayList&lt;&gt;());\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n}\n\n</code></pre>\n<p>this is my securityConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\n\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    private final UserDetailsServiceImpl userDetailsService;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests(\n                        authorizeConfig -&gt; {\n                            authorizeConfig.requestMatchers(&quot;/user&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/auth&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\n                            authorizeConfig.anyRequest().authenticated();\n                        })\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .build();\n    }\n}\n\n</code></pre>\n<p>and this is my auth Controller</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.LoginDto;\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\nimport com.api.business_manager_api.Security.JwtTokenProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getUsername(),\n                        loginDto.getPassword()\n                )\n        );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\n\n    }\n}\n\n</code></pre>\n<p>The problem is that when I play my API, the error is returned:</p>\n<pre><code>\nField authenticationManager in com.api.business_manager_api.Controllers.AuthController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>I don't understand why and how I should use a Bean in my application. Can anyone tell me the solution?</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1678641104,"post_id":75714553,"comment_id":133568758,"body_markdown":"With the cursor over the class/method/attribute, press F3. For method, ctrl + hover shows a context menu to go to implementation. Take a look at the list of shortcuts, there are several useful.","body":"With the cursor over the class/method/attribute, press F3. For method, ctrl + hover shows a context menu to go to implementation. Take a look at the list of shortcuts, there are several useful."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678661568,"post_id":75714553,"comment_id":133572247,"body_markdown":"Shift+hover shows the declaration as hover.","body":"Shift+hover shows the declaration as hover."},{"owner":{"account_id":12876400,"reputation":3,"user_id":15123741,"display_name":"getNoodle"},"score":0,"creation_date":1678748713,"post_id":75714553,"comment_id":133590870,"body_markdown":"Thank you LMC, that&#39;s what I have been looking for","body":"Thank you LMC, that&#39;s what I have been looking for"}],"owner":{"account_id":12876400,"reputation":3,"user_id":15123741,"display_name":"getNoodle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678638121,"creation_date":1678638121,"question_id":75714553,"body_markdown":"In IntelliJ I can right click any class or method and the &quot;go to declaration/usages&quot; option will open the class itself so that i can look into it with further detail. I cannot seem to find a similar solution in eclipse, only hovering over the object name will open a small window with the documentation and that&#39;s it, I cannot inspect it further or inspect the elements used inside of it. Is there a way to do it?\r\n\r\nI have tried all the various options in the context menu and neither opens a specific class I&#39;m hovering over ","title":"Is there an Eclipse equivalent for IntelliJ &quot;go-to Declaration and usages&quot; of a class/function?","body":"<p>In IntelliJ I can right click any class or method and the &quot;go to declaration/usages&quot; option will open the class itself so that i can look into it with further detail. I cannot seem to find a similar solution in eclipse, only hovering over the object name will open a small window with the documentation and that's it, I cannot inspect it further or inspect the elements used inside of it. Is there a way to do it?</p>\n<p>I have tried all the various options in the context menu and neither opens a specific class I'm hovering over</p>\n"},{"tags":["macos","java","java-7"],"comments":[{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":0,"creation_date":1307460360,"post_id":6267392,"comment_id":7312979,"body_markdown":"Can you run and compile it on the console?","body":"Can you run and compile it on the console?"},{"owner":{"account_id":163079,"reputation":7702,"user_id":384964,"accept_rate":73,"display_name":"oky_sabeni"},"score":0,"creation_date":1307460682,"post_id":6267392,"comment_id":7313111,"body_markdown":"You mean: $javac WatchDir.java and then $ Java WatchDir? I will try that. Thanks! Although I would love to have it to be available in Eclipse IDE.","body":"You mean: $javac WatchDir.java and then $ Java WatchDir? I will try that. Thanks! Although I would love to have it to be available in Eclipse IDE."},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":1,"creation_date":1335562190,"post_id":6267392,"comment_id":13346355,"body_markdown":"From today there is an official Oracle release - Java SE 7u4","body":"From today there is an official Oracle release - Java SE 7u4"},{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":0,"creation_date":1384458047,"post_id":6267392,"comment_id":29755624,"body_markdown":"Make sure you are using 64bit Eclipse. Had no luck running 32bit one on 1.7 jvm with any options.","body":"Make sure you are using 64bit Eclipse. Had no luck running 32bit one on 1.7 jvm with any options."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1587840138,"post_id":6267392,"comment_id":108669840,"body_markdown":"Update: Java 7 is [now at end-of-life](https://java.com/en/download/faq/java_7.xml). To move on to the long-term support (LTS) versions of Java, see: [*How to install Java 8 on Mac*](https://stackoverflow.com/q/24342886/642706) and [*Obtain Java 11 for macOS?*](https://apple.stackexchange.com/q/346195/17907).","body":"Update: Java 7 is <a href=\"https://java.com/en/download/faq/java_7.xml\" rel=\"nofollow noreferrer\">now at end-of-life</a>. To move on to the long-term support (LTS) versions of Java, see: <a href=\"https://stackoverflow.com/q/24342886/642706\"><i>How to install Java 8 on Mac</i></a> and <a href=\"https://apple.stackexchange.com/q/346195/17907\"><i>Obtain Java 11 for macOS?</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":32513,"reputation":2129,"user_id":90305,"display_name":"Jon Quarfoth"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1307461507,"creation_date":1307461020,"answer_id":6267776,"question_id":6267392,"body_markdown":"It&#39;s possible that you still need to add the JDK into Eclipse (STS). Just because the JDK is on the system doesn&#39;t mean Eclipse knows where to find it.\r\n\r\nGo to \r\nPreferences &gt; Java &gt; Installed JREs\r\n\r\nIf there is not an entry for the 1.7 JDK, add it. You&#39;ll have to point Eclipse to where you installed your 1.7 JDK.\r\n\r\nIf Eclipse can&#39;t find a JRE that is 1.7 compatible, I&#39;m guessing that it just uses your default JRE, and that&#39;s probably still pointing at Java 1.6, which would be causing your red squiggly lines.","title":"How do I use JDK 7 on Mac OSX?","body":"<p>It's possible that you still need to add the JDK into Eclipse (STS). Just because the JDK is on the system doesn't mean Eclipse knows where to find it.</p>\n\n<p>Go to \nPreferences > Java > Installed JREs</p>\n\n<p>If there is not an entry for the 1.7 JDK, add it. You'll have to point Eclipse to where you installed your 1.7 JDK.</p>\n\n<p>If Eclipse can't find a JRE that is 1.7 compatible, I'm guessing that it just uses your default JRE, and that's probably still pointing at Java 1.6, which would be causing your red squiggly lines.</p>\n"},{"tags":[],"owner":{"account_id":460106,"reputation":179,"user_id":860992,"display_name":"gzge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311574556,"creation_date":1311574556,"answer_id":6812366,"question_id":6267392,"body_markdown":"How about Netbeans, here is an article how to set it up with NB7:\r\n\r\nhttp://netbeanside61.blogspot.com/2011/06/downloading-openjdk7-binary-for-mac-os.html\r\n\r\nMaybe similar steps for Eclipse.","title":"How do I use JDK 7 on Mac OSX?","body":"<p>How about Netbeans, here is an article how to set it up with NB7:</p>\n\n<p><a href=\"http://netbeanside61.blogspot.com/2011/06/downloading-openjdk7-binary-for-mac-os.html\" rel=\"nofollow\">http://netbeanside61.blogspot.com/2011/06/downloading-openjdk7-binary-for-mac-os.html</a></p>\n\n<p>Maybe similar steps for Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":188553,"reputation":1005,"user_id":427316,"display_name":"vectorsize"},"down_vote_count":2,"up_vote_count":89,"is_accepted":false,"score":87,"last_activity_date":1369425851,"creation_date":1319149365,"answer_id":7842967,"question_id":6267392,"body_markdown":"This is how I got 1.7 to work with Eclipse. I hope it helps.\r\n\r\n 1. I Downloaded the latest OpenJDK 1.7 universal (32/64 bits) JDK\r\n    from Mac OS/X branch from http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\r\n 2. copied the jdk to /Library/Java/JavaVirtualMachines/ next to the\r\n    default 1.6.0 one \r\n 3. In Eclipse &gt; Preferences &gt; Java &gt; Installed JREs you add a new one, of type MacOS X VM, and set the home as /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home and\r\n    name Java SE 7 (OpenJDK) \r\n 4. Click Finish\r\n 5. Set the added JRE as default\r\n\r\nthat should be it :)","title":"How do I use JDK 7 on Mac OSX?","body":"<p>This is how I got 1.7 to work with Eclipse. I hope it helps.</p>\n\n<ol>\n<li>I Downloaded the latest OpenJDK 1.7 universal (32/64 bits) JDK\nfrom Mac OS/X branch from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></li>\n<li>copied the jdk to /Library/Java/JavaVirtualMachines/ next to the\ndefault 1.6.0 one </li>\n<li>In Eclipse > Preferences > Java > Installed JREs you add a new one, of type MacOS X VM, and set the home as /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home and\nname Java SE 7 (OpenJDK) </li>\n<li>Click Finish</li>\n<li>Set the added JRE as default</li>\n</ol>\n\n<p>that should be it :)</p>\n"},{"tags":[],"owner":{"account_id":72599,"reputation":1748,"user_id":209574,"accept_rate":78,"display_name":"peter_budo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1320750018,"creation_date":1320750018,"answer_id":8049360,"question_id":6267392,"body_markdown":"I know that some may want to smack me for re-opening old post, but if you feel so do it I just hope this may help someone else trying to set JDK 7 on Mac OS (using IntelliJ).\r\n\r\nWhat I did to get this working on my machine is to:\r\n\r\n - followed instructions on [Oracle JDK7 Mac OS X Port][1] for general installation\r\n - in IntelliJ open/create new project so you can add new SDK (File &gt; Project Structure)\r\n - select Platform Settings &gt; SDKs, press &quot;+&quot; (plus) sign to add new SDK\r\n - select JSDK and navigate to /Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home. **Do not** get it mistaken with */Users/YOUR_USERNAME/Library/Java/*. This will link 4 JARs from &quot;lib&quot; directory (dt.jar, jconsole.jar, sa-jdi.jar and tools.jar) \r\n - you will need also add JARs from /Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home/jre/lib (charsets.jar, jce.jar, JObjC.jar, jsse.jar, management-agent.jar, resources.jar and rt.jar)\r\n\r\n\r\n  [1]: http://jdk7.java.net/macportpreview/","title":"How do I use JDK 7 on Mac OSX?","body":"<p>I know that some may want to smack me for re-opening old post, but if you feel so do it I just hope this may help someone else trying to set JDK 7 on Mac OS (using IntelliJ).</p>\n\n<p>What I did to get this working on my machine is to:</p>\n\n<ul>\n<li>followed instructions on <a href=\"http://jdk7.java.net/macportpreview/\" rel=\"noreferrer\">Oracle JDK7 Mac OS X Port</a> for general installation</li>\n<li>in IntelliJ open/create new project so you can add new SDK (File > Project Structure)</li>\n<li>select Platform Settings > SDKs, press \"+\" (plus) sign to add new SDK</li>\n<li>select JSDK and navigate to /Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home. <strong>Do not</strong> get it mistaken with <em>/Users/YOUR_USERNAME/Library/Java/</em>. This will link 4 JARs from \"lib\" directory (dt.jar, jconsole.jar, sa-jdi.jar and tools.jar) </li>\n<li>you will need also add JARs from /Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home/jre/lib (charsets.jar, jce.jar, JObjC.jar, jsse.jar, management-agent.jar, resources.jar and rt.jar)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1100210,"reputation":31,"user_id":1092781,"display_name":"user1092781"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323643427,"creation_date":1323643427,"answer_id":8468123,"question_id":6267392,"body_markdown":"The instructions by peter_budo worked perfectly.  I had to add the jars under **/Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home/jre/lib/** to my IntelliJ project libraries.  Now it works like a charm.  Note that I didn&#39;t need my IDE itself to run under 1.7; rather, I only needed to be able to compile and run against 1.7.  I&#39;ll most likely continue to use Apple&#39;s JRE for running the IDE since it&#39;s probably more stable with respect to graphics routines (Swing, AWT).  Like the OP, I was really keen on testing out the new NIO2 API.  Looking good so far.  Thanks, Peter.","title":"How do I use JDK 7 on Mac OSX?","body":"<p>The instructions by peter_budo worked perfectly.  I had to add the jars under <strong>/Library/Java/JavaVirtualMachines/JDK 1.7.0 Developer Preview.jdk/Contents/Home/jre/lib/</strong> to my IntelliJ project libraries.  Now it works like a charm.  Note that I didn't need my IDE itself to run under 1.7; rather, I only needed to be able to compile and run against 1.7.  I'll most likely continue to use Apple's JRE for running the IDE since it's probably more stable with respect to graphics routines (Swing, AWT).  Like the OP, I was really keen on testing out the new NIO2 API.  Looking good so far.  Thanks, Peter.</p>\n"},{"tags":[],"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335562357,"creation_date":1335562357,"answer_id":10358151,"question_id":6267392,"body_markdown":"As of April 27th there is an [offical Oracle release of Java SE 7u4.][1] Download the disk image and run the installer - then see the [Mac readme][2].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u4-downloads-1591156.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/jdk-for-mac-readme-1564562.html#eclipse","title":"How do I use JDK 7 on Mac OSX?","body":"<p>As of April 27th there is an <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u4-downloads-1591156.html\" rel=\"nofollow\">offical Oracle release of Java SE 7u4.</a> Download the disk image and run the installer - then see the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk-for-mac-readme-1564562.html#eclipse\" rel=\"nofollow\">Mac readme</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1533879873,"creation_date":1335562846,"answer_id":10358228,"question_id":6267392,"body_markdown":"# Java 9, 10, 11\r\n\r\n&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/f/f5/OpenJDK_logo.png&quot; /&gt;\r\n\r\nYears ago, Apple joined the [*OpenJDK*][1] project, transferring their formerly proprietary macOS-specific JVM code as free-of-cost open-source. Apple ceased distribution of their own branded JVM/JDK, relying on Oracle’s branded releases to include a version for macOS. \r\n\r\nOracle has recently announced their intention to bring their Oracle-branded JVM release to feature parity with the OpenJDK project, with virtually the same code base. The company even donated their previously commercial tools, [*Flight Recorder*][2] &amp; [*Mission Control*][3], to the OpenJDK project. This is part of the shift to a new rapid “release train” plan for predictably scheduled versioning of Java and OpenJDK. Notably, the periods for free-of-cost public updates is now shortened. See [this 2017-09 announcement][4] and [this posting by Mark Reinhold](http://mail.openjdk.java.net/pipermail/discuss/2017-September/004281.html).  \r\n\r\nAs a result of all this, macOS users of Java have a choice of vendors for a Java implementation. At this point, at least three sources are based on OpenJDK for macOS:\r\n\r\n - [Oracle releases][5] of the JDK and JRE, with optional paid support.\r\n - [Azul Systems][6] releasing:\r\n  - [*Zulu*][7] line of free-of-cost JVMs with optional paid support.\r\n  - [*Zing*][8] line of commercial JVMs with special features such as an alternate garbage-collector.\r\n - [OpenJDK source code][9], roll-your-own compilation &amp; installation (perhaps not practical for most of us).\r\n\r\nMeanwhile, IBM donated code for a JVM to the Eclipse Foundation, now housed in the [*OpenJ9*][10] project. I wonder if they might support a macOS release as well, though it is too soon to tell.\r\n\r\nPersonally, I am currently using the *Zulu* release of Java 10.0.1 from Azul on macOS High Sierra successfully with [IntelliJ][11] 2018.2 to produce Java-backed web apps with [Vaadin][12].\r\n\r\n\r\n## Installation/Removal\r\n\r\nBoth Oracle and Azul provide utterly easy-to-use installers to install the JVM/JDK on your Mac. Verify your installation by using the Terminal.app (or equivalent) to type and run:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    java -version\r\n\r\n\r\nYou will find the Java installations in this folder at the root level of your drive (not in your home folder):\r\n\r\n&gt;/Library/Java/JavaVirtualMachines\r\n\r\nEach version from each vendor is found there, in a labeled nested folder. You can delete any installation simply by deleting the nested folder for that version and providing your system password when prompted.\r\n\r\n\r\n# Java 8\r\n\r\nYou can [download the Java Development Kit (JDK)][5] for [Java 8][13] for the [supported][14] versions of Mac OS X:\r\n\r\n - Mountain Lion (10.8.3+) \r\n - Mavericks (10.9)\r\n - Yosemite (10.10)\r\n - El Capitan (10.11)\r\n\r\nEach version of JVM you install can be found here:\r\n\r\n    /Library/Java/JavaVirtualMachines\r\n\r\nFor more instructions and FAQ, see [this Oracle Guide](http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html#A1097257).\r\n\r\n\r\n# Java 7\r\n\r\n\r\nFor every release of [Java 7][15] since Update 4, a Mac version has been ready alongside the other platforms. Runs on Macs with 64-bit hardware on Lion (10.7.3+), Mountain Lion (10.8.3+), and Mavericks (10.9.x).\r\n\r\nOracle [announced][16] the official release of the JDK for Java SE 7 Update 4 on Mac OS X (Lion), as of 2012-04-26. *No more need for the tricks* discussed on this page.\r\n\r\nInstallation is simple per [these instructions][17]:\r\n\r\n 1. Download from [the usual place][5] on the Oracle web site.\r\n 2. Mount the DMG.\r\n 3. Run the installer.\r\n\r\nThis release has a few limitations, most notably the lack of support for [*Java Web Start*](https://en.wikipedia.org/wiki/Java_Web_Start) and the *Java Plugin* for web browsers. That support is expected later this year.\r\n\r\nAfter installing, read the [JDK for Mac ReadMe.][18] Most importantly, if you want Java 7 to be the default, drag it to the top of the list in the *Java Preferences* app found in your Utilities folder.\r\n\r\nMac OS X easily supports multiple JVMs simultaneously. Each is now found here:\r\n\r\n    /Library/Java/JavaVirtualMachines\r\n\r\nCongratulations to the Apple &amp; Oracle teams for their achievement. This geek gets a thrill seeing Mac OS X listed as a &quot;[Certified System Configuration][19]&quot;.\r\n\r\nTip: To start [Eclipse][20] on a Mac with only Java 7 installed, open the [alias][21] file named *eclipse* rather than the file named *Eclipse.app*.\r\n\r\n\r\n\r\n# Java 6\r\n\r\n\r\nApple continues to supply an up-to-date implementation of Java 6 for all versions of Mac OS X up through Mountain Lion.\r\n\r\nIf you do something that requires Java, such as type &quot;java -version&quot; in Terminal.app, a dialog appears offering to install Java for you. If you accept, installation happens automatically similar to other &quot;Software Updates&quot; from Apple.\r\n\r\nYou will find Java installed in this location, different than Java 7 &amp; 8:\r\n\r\n    /System/Library/Java/JavaVirtualMachines\r\n\r\nJava 6 has [reached end-of-life][22] with Oracle as of 2013-02 (unless you have a commercial support agreement with Oracle). So you should be moving to Java 7 or 8.\r\n\r\n# Testing New Version\r\n\r\nIn Terminal.app, type `java -version` to verify which version is the current default.\r\n\r\n# Deleting Old Versions\r\n\r\nAfter installing a fresh version, you may want to visit the folder described above to delete old versions. Move the folder to the Trash, and provide your System password complete the move.\r\n\r\n----------\r\n\r\nBy the way, Apple provides a [mailing list][23] for developers’ technical issues related to Java on OS X.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: http://openjdk.java.net/jeps/328\r\n  [3]: http://openjdk.java.net/projects/jmc/\r\n  [4]: https://blogs.oracle.com/java-platform-group/faster-and-easier-use-and-redistribution-of-java-se\r\n  [5]: http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n  [6]: https://en.wikipedia.org/wiki/Azul_Systems\r\n  [7]: https://www.azul.com/products/zulu-and-zulu-enterprise/\r\n  [8]: https://www.azul.com/products/zing/\r\n  [9]: http://hg.openjdk.java.net/jdk10/master/file/be620a591379/src/java.base\r\n  [10]: https://en.wikipedia.org/wiki/OpenJ9\r\n  [11]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [12]: https://en.wikipedia.org/wiki/Vaadin\r\n  [13]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [14]: http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096827\r\n  [15]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\r\n  [16]: http://www.oracle.com/us/corporate/press/1603497\r\n  [17]: http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html\r\n  [18]: http://www.oracle.com/technetwork/java/javase/downloads/jdk-for-mac-readme-1564562.html\r\n  [19]: http://www.oracle.com/technetwork/java/javase/config-417990.html\r\n  [20]: http://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [21]: http://en.wikipedia.org/wiki/Alias_%28Mac_OS%29\r\n  [22]: http://www.oracle.com/technetwork/java/eol-135779.html\r\n  [23]: https://lists.apple.com/mailman/listinfo/java-dev","title":"How do I use JDK 7 on Mac OSX?","body":"<h1>Java 9, 10, 11</h1>\n\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/f/f5/OpenJDK_logo.png\" /></p>\n\n<p>Years ago, Apple joined the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project, transferring their formerly proprietary macOS-specific JVM code as free-of-cost open-source. Apple ceased distribution of their own branded JVM/JDK, relying on Oracle’s branded releases to include a version for macOS. </p>\n\n<p>Oracle has recently announced their intention to bring their Oracle-branded JVM release to feature parity with the OpenJDK project, with virtually the same code base. The company even donated their previously commercial tools, <a href=\"http://openjdk.java.net/jeps/328\" rel=\"nofollow noreferrer\"><em>Flight Recorder</em></a> &amp; <a href=\"http://openjdk.java.net/projects/jmc/\" rel=\"nofollow noreferrer\"><em>Mission Control</em></a>, to the OpenJDK project. This is part of the shift to a new rapid “release train” plan for predictably scheduled versioning of Java and OpenJDK. Notably, the periods for free-of-cost public updates is now shortened. See <a href=\"https://blogs.oracle.com/java-platform-group/faster-and-easier-use-and-redistribution-of-java-se\" rel=\"nofollow noreferrer\">this 2017-09 announcement</a> and <a href=\"http://mail.openjdk.java.net/pipermail/discuss/2017-September/004281.html\" rel=\"nofollow noreferrer\">this posting by Mark Reinhold</a>.  </p>\n\n<p>As a result of all this, macOS users of Java have a choice of vendors for a Java implementation. At this point, at least three sources are based on OpenJDK for macOS:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">Oracle releases</a> of the JDK and JRE, with optional paid support.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Azul Systems</a> releasing:\n\n<ul>\n<li><a href=\"https://www.azul.com/products/zulu-and-zulu-enterprise/\" rel=\"nofollow noreferrer\"><em>Zulu</em></a> line of free-of-cost JVMs with optional paid support.</li>\n<li><a href=\"https://www.azul.com/products/zing/\" rel=\"nofollow noreferrer\"><em>Zing</em></a> line of commercial JVMs with special features such as an alternate garbage-collector.</li>\n</ul></li>\n<li><a href=\"http://hg.openjdk.java.net/jdk10/master/file/be620a591379/src/java.base\" rel=\"nofollow noreferrer\">OpenJDK source code</a>, roll-your-own compilation &amp; installation (perhaps not practical for most of us).</li>\n</ul>\n\n<p>Meanwhile, IBM donated code for a JVM to the Eclipse Foundation, now housed in the <a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"nofollow noreferrer\"><em>OpenJ9</em></a> project. I wonder if they might support a macOS release as well, though it is too soon to tell.</p>\n\n<p>Personally, I am currently using the <em>Zulu</em> release of Java 10.0.1 from Azul on macOS High Sierra successfully with <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> 2018.2 to produce Java-backed web apps with <a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin</a>.</p>\n\n<h2>Installation/Removal</h2>\n\n<p>Both Oracle and Azul provide utterly easy-to-use installers to install the JVM/JDK on your Mac. Verify your installation by using the Terminal.app (or equivalent) to type and run:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -version\n</code></pre>\n\n<p>You will find the Java installations in this folder at the root level of your drive (not in your home folder):</p>\n\n<blockquote>\n  <p>/Library/Java/JavaVirtualMachines</p>\n</blockquote>\n\n<p>Each version from each vendor is found there, in a labeled nested folder. You can delete any installation simply by deleting the nested folder for that version and providing your system password when prompted.</p>\n\n<h1>Java 8</h1>\n\n<p>You can <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">download the Java Development Kit (JDK)</a> for <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a> for the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096827\" rel=\"nofollow noreferrer\">supported</a> versions of Mac OS X:</p>\n\n<ul>\n<li>Mountain Lion (10.8.3+) </li>\n<li>Mavericks (10.9)</li>\n<li>Yosemite (10.10)</li>\n<li>El Capitan (10.11)</li>\n</ul>\n\n<p>Each version of JVM you install can be found here:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines\n</code></pre>\n\n<p>For more instructions and FAQ, see <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html#A1097257\" rel=\"nofollow noreferrer\">this Oracle Guide</a>.</p>\n\n<h1>Java 7</h1>\n\n<p>For every release of <a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"nofollow noreferrer\">Java 7</a> since Update 4, a Mac version has been ready alongside the other platforms. Runs on Macs with 64-bit hardware on Lion (10.7.3+), Mountain Lion (10.8.3+), and Mavericks (10.9.x).</p>\n\n<p>Oracle <a href=\"http://www.oracle.com/us/corporate/press/1603497\" rel=\"nofollow noreferrer\">announced</a> the official release of the JDK for Java SE 7 Update 4 on Mac OS X (Lion), as of 2012-04-26. <em>No more need for the tricks</em> discussed on this page.</p>\n\n<p>Installation is simple per <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html\" rel=\"nofollow noreferrer\">these instructions</a>:</p>\n\n<ol>\n<li>Download from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">the usual place</a> on the Oracle web site.</li>\n<li>Mount the DMG.</li>\n<li>Run the installer.</li>\n</ol>\n\n<p>This release has a few limitations, most notably the lack of support for <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\"><em>Java Web Start</em></a> and the <em>Java Plugin</em> for web browsers. That support is expected later this year.</p>\n\n<p>After installing, read the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk-for-mac-readme-1564562.html\" rel=\"nofollow noreferrer\">JDK for Mac ReadMe.</a> Most importantly, if you want Java 7 to be the default, drag it to the top of the list in the <em>Java Preferences</em> app found in your Utilities folder.</p>\n\n<p>Mac OS X easily supports multiple JVMs simultaneously. Each is now found here:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines\n</code></pre>\n\n<p>Congratulations to the Apple &amp; Oracle teams for their achievement. This geek gets a thrill seeing Mac OS X listed as a \"<a href=\"http://www.oracle.com/technetwork/java/javase/config-417990.html\" rel=\"nofollow noreferrer\">Certified System Configuration</a>\".</p>\n\n<p>Tip: To start <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> on a Mac with only Java 7 installed, open the <a href=\"http://en.wikipedia.org/wiki/Alias_%28Mac_OS%29\" rel=\"nofollow noreferrer\">alias</a> file named <em>eclipse</em> rather than the file named <em>Eclipse.app</em>.</p>\n\n<h1>Java 6</h1>\n\n<p>Apple continues to supply an up-to-date implementation of Java 6 for all versions of Mac OS X up through Mountain Lion.</p>\n\n<p>If you do something that requires Java, such as type \"java -version\" in Terminal.app, a dialog appears offering to install Java for you. If you accept, installation happens automatically similar to other \"Software Updates\" from Apple.</p>\n\n<p>You will find Java installed in this location, different than Java 7 &amp; 8:</p>\n\n<pre><code>/System/Library/Java/JavaVirtualMachines\n</code></pre>\n\n<p>Java 6 has <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"nofollow noreferrer\">reached end-of-life</a> with Oracle as of 2013-02 (unless you have a commercial support agreement with Oracle). So you should be moving to Java 7 or 8.</p>\n\n<h1>Testing New Version</h1>\n\n<p>In Terminal.app, type <code>java -version</code> to verify which version is the current default.</p>\n\n<h1>Deleting Old Versions</h1>\n\n<p>After installing a fresh version, you may want to visit the folder described above to delete old versions. Move the folder to the Trash, and provide your System password complete the move.</p>\n\n<hr>\n\n<p>By the way, Apple provides a <a href=\"https://lists.apple.com/mailman/listinfo/java-dev\" rel=\"nofollow noreferrer\">mailing list</a> for developers’ technical issues related to Java on OS X.</p>\n"},{"tags":[],"owner":{"account_id":1250035,"reputation":668,"user_id":1210612,"display_name":"Mukund"},"down_vote_count":4,"up_vote_count":66,"is_accepted":true,"score":62,"last_activity_date":1373911541,"creation_date":1335873248,"answer_id":10397288,"question_id":6267392,"body_markdown":"Oracle has released [JDK 7 for OS X][1]. \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html","title":"How do I use JDK 7 on Mac OSX?","body":"<p>Oracle has released <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\" rel=\"noreferrer\">JDK 7 for OS X</a>. </p>\n"},{"tags":[],"owner":{"account_id":10552,"reputation":21351,"user_id":20003,"accept_rate":73,"display_name":"Dustin Getz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1360964681,"creation_date":1360964681,"answer_id":14903813,"question_id":6267392,"body_markdown":"after installing the 1.7jdk from oracle, i changed my bash scripts to add:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home\r\n\r\nand then running `java -version` showed the right version. ","title":"How do I use JDK 7 on Mac OSX?","body":"<p>after installing the 1.7jdk from oracle, i changed my bash scripts to add:</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home\n</code></pre>\n\n<p>and then running <code>java -version</code> showed the right version. </p>\n"},{"tags":[],"owner":{"account_id":1001057,"reputation":11,"user_id":1015892,"display_name":"user1015892"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362748580,"creation_date":1362748580,"answer_id":15294856,"question_id":6267392,"body_markdown":"What worked for me on Lion was installing the JDK7_u17 from Oracle, then editing ~/.bash_profile to include:\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home","title":"How do I use JDK 7 on Mac OSX?","body":"<p>What worked for me on Lion was installing the JDK7_u17 from Oracle, then editing ~/.bash_profile to include:\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_13.jdk/Contents/Home</p>\n"},{"tags":[],"owner":{"account_id":1167614,"reputation":523,"user_id":1145534,"accept_rate":71,"display_name":"embersofadyingfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442033266,"creation_date":1442033266,"answer_id":32535256,"question_id":6267392,"body_markdown":"I updated to Yosemite and Android Studio wouldn&#39;t clean my projects or Run them on virtual or real device because of the following error:\r\n\r\n    Failed to complete Gradle execution.Cause:Supplied javaHome is not a valid folder. You supplied: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n\r\nAfter some research and trouble shooting, I found that the JDK file that was being pointed to at &quot;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home&quot; wasn&#39;t there; all of &quot;JavaVirtualMachines/1.6.0.jdk/Contents/Home&quot; was missing from &quot;/System/Library/Java&quot;. So, I copied &quot;JavaVirtualMachines/1.6.0.jdk/Contents/Home&quot; over from &quot;/Library/Java/&quot; to &quot;/System/Library/Java/&quot; and cha ching! I was back in business.\r\n","title":"How do I use JDK 7 on Mac OSX?","body":"<p>I updated to Yosemite and Android Studio wouldn't clean my projects or Run them on virtual or real device because of the following error:</p>\n\n<pre><code>Failed to complete Gradle execution.Cause:Supplied javaHome is not a valid folder. You supplied: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n</code></pre>\n\n<p>After some research and trouble shooting, I found that the JDK file that was being pointed to at \"/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\" wasn't there; all of \"JavaVirtualMachines/1.6.0.jdk/Contents/Home\" was missing from \"/System/Library/Java\". So, I copied \"JavaVirtualMachines/1.6.0.jdk/Contents/Home\" over from \"/Library/Java/\" to \"/System/Library/Java/\" and cha ching! I was back in business.</p>\n"},{"tags":[],"owner":{"account_id":20341,"reputation":230150,"user_id":48523,"accept_rate":68,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1453483526,"creation_date":1447112192,"answer_id":33620353,"question_id":6267392,"body_markdown":"An easy way to install Java 7 on a Mac is by using [Homebrew][1], thanks to the [Homebrew Cask][2] plugin (which is now installed by default).\r\n\r\nRun this command to install Java 7:\r\n\r\n    brew cask install caskroom/versions/java7\r\n\r\n\r\n  [1]: http://brew.sh/\r\n  [2]: https://github.com/caskroom/homebrew-cask","title":"How do I use JDK 7 on Mac OSX?","body":"<p>An easy way to install Java 7 on a Mac is by using <a href=\"http://brew.sh/\">Homebrew</a>, thanks to the <a href=\"https://github.com/caskroom/homebrew-cask\">Homebrew Cask</a> plugin (which is now installed by default).</p>\n\n<p>Run this command to install Java 7:</p>\n\n<pre><code>brew cask install caskroom/versions/java7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4584537,"reputation":2557,"user_id":3719699,"display_name":"abe312"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1678637843,"creation_date":1483021231,"answer_id":41381509,"question_id":6267392,"body_markdown":"**Get cask**\r\n\r\n    brew tap caskroom/cask\r\n\r\n**Install java7:**\r\n\r\n    brew tap caskroom/versions\r\n    brew cask install java7\r\n\r\n(I had difficulty finding the download link of java7 on oracle website, as they&#39;re just &quot;recommending&quot; java8 )\r\n\r\n**EDIT January 2018** *(As pointed by [Ankur][1]):*\r\n\r\nQuote from [GitHub](https://github.com/Homebrew/homebrew-cask-versions/pull/3914#issuecomment-321538649) by [abigailbunyan](https://github.com/abigailbunyan):\r\n\r\n&gt; [U]se [zulu7][2] cask.  Zulu is a certified build of OpenJDK produced by\r\n&gt; Azul Systems that should be around for a long time (they even offer\r\n&gt; JDK6 builds still).\r\n\r\n    brew cask install caskroom/versions/zulu7\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/305340/ankur\r\n  [2]: https://github.com/caskroom/homebrew-versions/blob/master/Casks/zulu7.rb","title":"How do I use JDK 7 on Mac OSX?","body":"<p><strong>Get cask</strong></p>\n<pre><code>brew tap caskroom/cask\n</code></pre>\n<p><strong>Install java7:</strong></p>\n<pre><code>brew tap caskroom/versions\nbrew cask install java7\n</code></pre>\n<p>(I had difficulty finding the download link of java7 on oracle website, as they're just &quot;recommending&quot; java8 )</p>\n<p><strong>EDIT January 2018</strong> <em>(As pointed by <a href=\"https://stackoverflow.com/users/305340/ankur\">Ankur</a>):</em></p>\n<p>Quote from <a href=\"https://github.com/Homebrew/homebrew-cask-versions/pull/3914#issuecomment-321538649\" rel=\"nofollow noreferrer\">GitHub</a> by <a href=\"https://github.com/abigailbunyan\" rel=\"nofollow noreferrer\">abigailbunyan</a>:</p>\n<blockquote>\n<p>[U]se <a href=\"https://github.com/caskroom/homebrew-versions/blob/master/Casks/zulu7.rb\" rel=\"nofollow noreferrer\">zulu7</a> cask.  Zulu is a certified build of OpenJDK produced by\nAzul Systems that should be around for a long time (they even offer\nJDK6 builds still).</p>\n</blockquote>\n<pre><code>brew cask install caskroom/versions/zulu7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1022385,"reputation":1921,"user_id":1032396,"accept_rate":83,"display_name":"ozren1983"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512585205,"creation_date":1512585205,"answer_id":47681193,"question_id":6267392,"body_markdown":"As of December 2017, previously posted links don&#39;t work, but JDK 7 can still be downloaded from Oracle Archives (login required):\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html ","title":"How do I use JDK 7 on Mac OSX?","body":"<p>As of December 2017, previously posted links don't work, but JDK 7 can still be downloaded from Oracle Archives (login required):</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html</a> </p>\n"},{"tags":[],"owner":{"account_id":12568477,"reputation":1871,"user_id":9143443,"display_name":"superup"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1588066688,"creation_date":1588066688,"answer_id":61477085,"question_id":6267392,"body_markdown":"Now, Use command\r\n \r\nUpdate 2020: 04\r\n\r\nTo install Java7 with homebrew run:\r\n\r\n    brew tap homebrew/cask-versions\r\n    brew cask install java7\r\n\r\nHope this help.","title":"How do I use JDK 7 on Mac OSX?","body":"<p>Now, Use command</p>\n\n<p>Update 2020: 04</p>\n\n<p>To install Java7 with homebrew run:</p>\n\n<pre><code>brew tap homebrew/cask-versions\nbrew cask install java7\n</code></pre>\n\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":1519223,"reputation":1065,"user_id":1419402,"accept_rate":75,"display_name":"cmolina"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609882012,"creation_date":1609882012,"answer_id":65586806,"question_id":6267392,"body_markdown":"I needed to adapt @abe312&#39;s answer since there has been some changes with `brew` lately.\r\n\r\nI installed zulu7 and setup JAVA_HOME by running:\r\n\r\n```sh\r\nbrew install --cask homebrew/cask-versions/zulu7\r\necho &quot;export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-7.jdk/Contents/Home&quot; &gt;&gt; ~/.zshrc\r\n```\r\n\r\nI had to enter my password for installing zulu7. You may need to modify the last command if you are using a different shell.","title":"How do I use JDK 7 on Mac OSX?","body":"<p>I needed to adapt @abe312's answer since there has been some changes with <code>brew</code> lately.</p>\n<p>I installed zulu7 and setup JAVA_HOME by running:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>brew install --cask homebrew/cask-versions/zulu7\necho &quot;export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-7.jdk/Contents/Home&quot; &gt;&gt; ~/.zshrc\n</code></pre>\n<p>I had to enter my password for installing zulu7. You may need to modify the last command if you are using a different shell.</p>\n"}],"owner":{"account_id":163079,"reputation":7702,"user_id":384964,"accept_rate":73,"display_name":"oky_sabeni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214688,"favorite_count":0,"down_vote_count":1,"up_vote_count":110,"accepted_answer_id":10397288,"answer_count":16,"score":109,"last_activity_date":1678637843,"creation_date":1307459541,"question_id":6267392,"body_markdown":"I would like to use the WatchService API as mentioned in this link:\r\nhttp://download.oracle.com/javase/tutorial/essential/io/notification.html\r\n\r\nAfter reading around, I found out that WatchService is part of the NIO class which is scheduled for JDK 7. So, it is in beta form. It&#39;s fine.\r\n\r\nhttp://jdk7.java.net/download.html has the JDK which I downloaded and extracted. I got a bunch of folders. I don&#39;t know what to do with them.\r\n\r\nThen, I read around some more and found that some nice group of people created JDK 7 as a binary so someone like me can install it easily. It is called Open JDK:\r\nhttp://code.google.com/p/openjdk-osx-build/\r\n\r\nSo, I downloaded the .dmg file and install it. Then I open &quot;Java Preference&quot; and see that OpenJDK7 is available.\r\n\r\nSo, now I feel that I can start trying out WatchService API. From the tutorial in the first link, the author gave a .java file to test it out first and make sure that it is running. Here is the link to the file:\r\nhttp://download.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java\r\n\r\nSo, I boot up Eclipse (actually I use STS) and create a new Java project and choose JaveSE-1.7 in the &quot;use an execution environment JRE:&quot;. Under the src folder, I copy pasted the WatchDir.java file.\r\n\r\nAnd I still see tons of squiggly red lines. All the &quot;import.java.nio.*&quot; are all red and I cannot run it as a Java app.\r\n\r\nWhat do I need to do?\r\n\r\n","title":"How do I use JDK 7 on Mac OSX?","body":"<p>I would like to use the WatchService API as mentioned in this link:\n<a href=\"http://download.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/tutorial/essential/io/notification.html</a></p>\n\n<p>After reading around, I found out that WatchService is part of the NIO class which is scheduled for JDK 7. So, it is in beta form. It's fine.</p>\n\n<p><a href=\"http://jdk7.java.net/download.html\" rel=\"nofollow noreferrer\">http://jdk7.java.net/download.html</a> has the JDK which I downloaded and extracted. I got a bunch of folders. I don't know what to do with them.</p>\n\n<p>Then, I read around some more and found that some nice group of people created JDK 7 as a binary so someone like me can install it easily. It is called Open JDK:\n<a href=\"http://code.google.com/p/openjdk-osx-build/\" rel=\"nofollow noreferrer\">http://code.google.com/p/openjdk-osx-build/</a></p>\n\n<p>So, I downloaded the .dmg file and install it. Then I open \"Java Preference\" and see that OpenJDK7 is available.</p>\n\n<p>So, now I feel that I can start trying out WatchService API. From the tutorial in the first link, the author gave a .java file to test it out first and make sure that it is running. Here is the link to the file:\n<a href=\"http://download.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java</a></p>\n\n<p>So, I boot up Eclipse (actually I use STS) and create a new Java project and choose JaveSE-1.7 in the \"use an execution environment JRE:\". Under the src folder, I copy pasted the WatchDir.java file.</p>\n\n<p>And I still see tons of squiggly red lines. All the \"import.java.nio.*\" are all red and I cannot run it as a Java app.</p>\n\n<p>What do I need to do?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"score":0,"creation_date":1499977802,"post_id":45090331,"comment_id":77153216,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock#12013508","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock#12013508\" title=\"mockito verify no more interactions with any mock%2312013508\">stackoverflow.com/questions/12013138/&hellip;</a>"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1499977836,"post_id":45090331,"comment_id":77153240,"body_markdown":"@GonzaloMatheu:  That&#39;s a good duplicate since this problem is analogous, but the issue is slightly deeper than just that.","body":"@GonzaloMatheu:  That&#39;s a good duplicate since this problem is analogous, but the issue is slightly deeper than just that."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1499978142,"post_id":45090331,"comment_id":77153391,"body_markdown":"Possible duplicate of [Mockito verify no more interactions with any mock](https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock\">Mockito verify no more interactions with any mock</a>"}],"answers":[{"tags":[],"owner":{"account_id":1934327,"reputation":8960,"user_id":1742973,"accept_rate":58,"display_name":"Matias Elorriaga"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1513497038,"creation_date":1499977910,"answer_id":45090388,"question_id":45090331,"body_markdown":"    verify(serviceMock, times(1)).serviceA();\r\n    verifyNoMoreInteractions(serviceMock);\r\n\r\nFrom Mockito&#39;s javadoc on [verifyNoMoreInteractions][1]:\r\n&gt;  You can use this method after you verified your mocks - to make sure that nothing else was invoked on your mocks. \r\n\r\nAlso:\r\n&gt; A word of warning: Some users who did a lot of classic, expect-run-verify mocking tend to use verifyNoMoreInteractions() very often, even in every test method. verifyNoMoreInteractions() is not recommended to use in every test method. verifyNoMoreInteractions() is a handy assertion from the interaction testing toolkit. Use it only when it&#39;s relevant. Abusing it leads to overspecified, less maintainable tests. \r\n\r\n  [1]: http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)","title":"Mockito verify that ONLY a expected method was called","body":"<pre><code>verify(serviceMock, times(1)).serviceA();\nverifyNoMoreInteractions(serviceMock);\n</code></pre>\n\n<p>From Mockito's javadoc on <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)\" rel=\"noreferrer\">verifyNoMoreInteractions</a>:</p>\n\n<blockquote>\n  <p>You can use this method after you verified your mocks - to make sure that nothing else was invoked on your mocks. </p>\n</blockquote>\n\n<p>Also:</p>\n\n<blockquote>\n  <p>A word of warning: Some users who did a lot of classic, expect-run-verify mocking tend to use verifyNoMoreInteractions() very often, even in every test method. verifyNoMoreInteractions() is not recommended to use in every test method. verifyNoMoreInteractions() is a handy assertion from the interaction testing toolkit. Use it only when it's relevant. Abusing it leads to overspecified, less maintainable tests. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499977973,"creation_date":1499977973,"answer_id":45090406,"question_id":45090331,"body_markdown":"The *only* way you can reliably verify that your service is only ever called once and only once from the method you specify and not from any *other* method, is to test ***every single method*** and assert that your `serviceA` method is never invoked.  But you&#39;re testing every other method *anyway*, so this shouldn&#39;t be that much of a lift...\r\n\r\n    // In other test cases...\r\n    verify(serviceMock, never()).serviceA();\r\n\r\nWhile this is undesirable from a code writing standpoint, it opens the door to separating out your service into smaller, more responsible chunks so that you guarantee that only one specific service is called.  From there, your test cases and guarantees around your code become smaller and more ironclad.\r\n","title":"Mockito verify that ONLY a expected method was called","body":"<p>The <em>only</em> way you can reliably verify that your service is only ever called once and only once from the method you specify and not from any <em>other</em> method, is to test <strong><em>every single method</em></strong> and assert that your <code>serviceA</code> method is never invoked.  But you're testing every other method <em>anyway</em>, so this shouldn't be that much of a lift...</p>\n\n<pre><code>// In other test cases...\nverify(serviceMock, never()).serviceA();\n</code></pre>\n\n<p>While this is undesirable from a code writing standpoint, it opens the door to separating out your service into smaller, more responsible chunks so that you guarantee that only one specific service is called.  From there, your test cases and guarantees around your code become smaller and more ironclad.</p>\n"},{"tags":[],"owner":{"account_id":8447079,"reputation":1138,"user_id":6337331,"display_name":"Mafick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499978025,"creation_date":1499978025,"answer_id":45090420,"question_id":45090331,"body_markdown":"I think what you are looking for is the Mockito.verify and Mockito.times\r\n\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n\r\n    verify(mockObject, atLeast(2)).someMethod(&quot;was called at least twice&quot;);\r\n    verify(mockObject, times(3)).someMethod(&quot;was called exactly three times&quot;);\r\n\r\nHere another thread with the same question:\r\n\r\nhttps://stackoverflow.com/questions/39452438/mockito-how-to-verify-a-method-was-called-only-once-with-exact-parameters-ignor","title":"Mockito verify that ONLY a expected method was called","body":"<p>I think what you are looking for is the Mockito.verify and Mockito.times</p>\n\n<pre><code>import static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nverify(mockObject, atLeast(2)).someMethod(\"was called at least twice\");\nverify(mockObject, times(3)).someMethod(\"was called exactly three times\");\n</code></pre>\n\n<p>Here another thread with the same question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39452438/mockito-how-to-verify-a-method-was-called-only-once-with-exact-parameters-ignor\">Mockito: How to verify a method was called only once with exact parameters ignoring calls to other methods?</a></p>\n"},{"tags":[],"owner":{"account_id":20005375,"reputation":145,"user_id":14693766,"display_name":"Aisteru Fir&#235;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678637787,"creation_date":1678637787,"answer_id":75714518,"question_id":45090331,"body_markdown":"To add to what @matias-elorriaga wrote, Mockito 4.0.0 added the method [only()](https://javadoc.io/doc/org.mockito/mockito-core/4.0.0/org/mockito/Mockito.html#only--):\r\n\r\n```\r\nverify(serviceMock, only()).serviceA();\r\n```\r\nis a shorthand for\r\n```\r\nverify(serviceMock).serviceA();\r\nverifyNoMoreInteractions(serviceMock);\r\n```","title":"Mockito verify that ONLY a expected method was called","body":"<p>To add to what @matias-elorriaga wrote, Mockito 4.0.0 added the method <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/4.0.0/org/mockito/Mockito.html#only--\" rel=\"nofollow noreferrer\">only()</a>:</p>\n<pre><code>verify(serviceMock, only()).serviceA();\n</code></pre>\n<p>is a shorthand for</p>\n<pre><code>verify(serviceMock).serviceA();\nverifyNoMoreInteractions(serviceMock);\n</code></pre>\n"}],"owner":{"account_id":6916783,"reputation":1196,"user_id":5310721,"accept_rate":81,"display_name":"Alvaro Pedraza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24937,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":45090388,"answer_count":4,"score":25,"last_activity_date":1678637787,"creation_date":1499977638,"question_id":45090331,"body_markdown":"I&#39;m working in a Project with a `Service` class and some sort of a `Client` that acts as a facade (don&#39;t know if it&#39;s the right term in the *Design Patterns&#39;s world*, but I&#39;ll try to make myself clear). `Service`&#39;s methods can be very expensive as they may be communicating with one or more databases, long checkings and so on, so every `Client` method should call one and only one `Service` method.\n\n`Service` class structure is something like\n\n    public class Service {\n        public void serviceA(){...}\n        public SomeObject serviceB(){...}\n        // can grow in the future\n    }\n\nAnd `Client` should be something like\n\n    public class Client {\n        private Service myService; // Injected somehow\n        public void callServiceA() {\n            // some preparation\n            myService.serviceA();\n            // something else\n        }\n\n        public boolean callServiceB(){...}\n    }\n\nAnd in the test class for `Client` I want to have something like\n\n    public class ClientTest{\n        private Client client; // Injected or instantiated in @Before method\n        private Service serviceMock = mock(Service.class);\n\n        @Test\n        public void callServiceA_onlyCallsServiceA() {\n            client.callServiceA();\n            ????\n        }\n    }\n\nIn the `????` section I want something like `verifyOnly(serviceMock).serviceA()` saying *&quot;verify that `serviceMock.serviceA()` was called only once and no other method from the `Service` class was called&quot;*. Is there something like that in Mockito or in some other mocking library? I don&#39;t want to use `verify(serviceMock, never()).serviceXXX()` for every method because, as I said, `Service` class may grow in the future and I will have to be adding verification to every test (not a happy task for me) so I need something more general.\n\nThanks in advance for your answers.\n\n# EDIT #1\n\nThe difference between this post and the [possible duplicate][1] is that the answer adds boiler plate code which is not desired in my case because it&#39;s a very big project and I must add as few code as posible.\n\nAlso, [verifyNoMoreInteractions][2] can be a good option even when it&#39;s discouraged for every test, no extra boiler plate code needed.\n\nTo sumarize, the [possible duplicate][1] didn&#39;t solved my problem.\n\nThere&#39;s another issue: I&#39;m writing test for code made by another team, not following a TDD proccess myself, so my test should be **extra defensive**, as stated in [this article][3] quoted in the mockito documentation for [verifyNoMoreInteractions][2]. The methods I&#39;m testing are often very longs so I need to check that the method under test calls ONLY the necesary services and no other (because they&#39;re expensive, as I said). Maybe `verifyNoMoreInteractions` is good enough for now but I&#39;d like to see something not being discouraged for every test by the very same API creator team!\n\nHope this helps to clarify my point and the problem. Best regards.\n\n\n  [1]: https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock\n  [2]: http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)\n  [3]: https://monkeyisland.pl/2008/07/12/should-i-worry-about-the-unexpected/","title":"Mockito verify that ONLY a expected method was called","body":"<p>I'm working in a Project with a <code>Service</code> class and some sort of a <code>Client</code> that acts as a facade (don't know if it's the right term in the <em>Design Patterns's world</em>, but I'll try to make myself clear). <code>Service</code>'s methods can be very expensive as they may be communicating with one or more databases, long checkings and so on, so every <code>Client</code> method should call one and only one <code>Service</code> method.</p>\n<p><code>Service</code> class structure is something like</p>\n<pre><code>public class Service {\n    public void serviceA(){...}\n    public SomeObject serviceB(){...}\n    // can grow in the future\n}\n</code></pre>\n<p>And <code>Client</code> should be something like</p>\n<pre><code>public class Client {\n    private Service myService; // Injected somehow\n    public void callServiceA() {\n        // some preparation\n        myService.serviceA();\n        // something else\n    }\n\n    public boolean callServiceB(){...}\n}\n</code></pre>\n<p>And in the test class for <code>Client</code> I want to have something like</p>\n<pre><code>public class ClientTest{\n    private Client client; // Injected or instantiated in @Before method\n    private Service serviceMock = mock(Service.class);\n\n    @Test\n    public void callServiceA_onlyCallsServiceA() {\n        client.callServiceA();\n        ????\n    }\n}\n</code></pre>\n<p>In the <code>????</code> section I want something like <code>verifyOnly(serviceMock).serviceA()</code> saying <em>&quot;verify that <code>serviceMock.serviceA()</code> was called only once and no other method from the <code>Service</code> class was called&quot;</em>. Is there something like that in Mockito or in some other mocking library? I don't want to use <code>verify(serviceMock, never()).serviceXXX()</code> for every method because, as I said, <code>Service</code> class may grow in the future and I will have to be adding verification to every test (not a happy task for me) so I need something more general.</p>\n<p>Thanks in advance for your answers.</p>\n<h1>EDIT #1</h1>\n<p>The difference between this post and the <a href=\"https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock\">possible duplicate</a> is that the answer adds boiler plate code which is not desired in my case because it's a very big project and I must add as few code as posible.</p>\n<p>Also, <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)\" rel=\"noreferrer\">verifyNoMoreInteractions</a> can be a good option even when it's discouraged for every test, no extra boiler plate code needed.</p>\n<p>To sumarize, the <a href=\"https://stackoverflow.com/questions/12013138/mockito-verify-no-more-interactions-with-any-mock\">possible duplicate</a> didn't solved my problem.</p>\n<p>There's another issue: I'm writing test for code made by another team, not following a TDD proccess myself, so my test should be <strong>extra defensive</strong>, as stated in <a href=\"https://monkeyisland.pl/2008/07/12/should-i-worry-about-the-unexpected/\" rel=\"noreferrer\">this article</a> quoted in the mockito documentation for <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)\" rel=\"noreferrer\">verifyNoMoreInteractions</a>. The methods I'm testing are often very longs so I need to check that the method under test calls ONLY the necesary services and no other (because they're expensive, as I said). Maybe <code>verifyNoMoreInteractions</code> is good enough for now but I'd like to see something not being discouraged for every test by the very same API creator team!</p>\n<p>Hope this helps to clarify my point and the problem. Best regards.</p>\n"},{"tags":["java","postman","github-api"],"answers":[{"tags":[],"owner":{"account_id":6130626,"reputation":140,"user_id":4780940,"accept_rate":80,"display_name":"Vedant Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664348476,"creation_date":1664348476,"answer_id":73877404,"question_id":73877345,"body_markdown":"Please see https://github.com/octokit/octokit.net/issues/1812. You must give admin rights when creating a personal access token. Create a new token with admin fields checked and it should work.","title":"&quot;message&quot;: &quot;Must have admin rights to Repository.&quot; for GitHub checked by audit logs","body":"<p>Please see <a href=\"https://github.com/octokit/octokit.net/issues/1812\" rel=\"nofollow noreferrer\">https://github.com/octokit/octokit.net/issues/1812</a>. You must give admin rights when creating a personal access token. Create a new token with admin fields checked and it should work.</p>\n"}],"owner":{"account_id":26352532,"reputation":1,"user_id":20009938,"display_name":"Harsha Gapat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678637208,"creation_date":1664348152,"question_id":73877345,"body_markdown":"I am using Github API with the personal access token, from a standard GitHub account.and\r\nusing &quot;https://github.com/login/oauth/access_token&quot; this URL get the oauth access token. But I am using personal access Token logs are displayed but i am using oauth access token audit logs not displayed ..\r\ni am still getting:\r\n\r\n{\r\n    &quot;message&quot;: &quot;Must have admin rights to Repository.&quot;,\r\n    &quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/orgs#get-audit-log&quot;\r\n}\r\n  \r\n\r\n","title":"&quot;message&quot;: &quot;Must have admin rights to Repository.&quot; for GitHub checked by audit logs","body":"<p>I am using Github API with the personal access token, from a standard GitHub account.and\nusing &quot;https://github.com/login/oauth/access_token&quot; this URL get the oauth access token. But I am using personal access Token logs are displayed but i am using oauth access token audit logs not displayed ..\ni am still getting:</p>\n<p>{\n&quot;message&quot;: &quot;Must have admin rights to Repository.&quot;,\n&quot;documentation_url&quot;: &quot;https://docs.github.com/rest/reference/orgs#get-audit-log&quot;\n}</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":928781,"reputation":746,"user_id":959053,"display_name":"Ben van Gompel"},"score":0,"creation_date":1437630089,"post_id":31578958,"comment_id":51111819,"body_markdown":"Please see http://stackoverflow.com/questions/10772329/how-to-get-country-phone-prefix-from-iso","body":"Please see <a href=\"http://stackoverflow.com/questions/10772329/how-to-get-country-phone-prefix-from-iso\" title=\"how to get country phone prefix from iso\">stackoverflow.com/questions/10772329/&hellip;</a>"},{"owner":{"account_id":6462992,"reputation":147,"user_id":5006097,"accept_rate":33,"display_name":"mahesh"},"score":0,"creation_date":1437630733,"post_id":31578958,"comment_id":51112050,"body_markdown":"Try this link... [how-to-get-country-code-from-mobile-number-using-libphonenumber-api-in-android][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/26690229/how-to-get-country-code-from-mobile-number-using-libphonenumber-api-in-android","body":"Try this link... [how-to-get-country-code-from-mobile-number-using-libphonenu&zwnj;&#8203;mber-api-in-android]&zwnj;&#8203;[1]        [1]: <a href=\"http://stackoverflow.com/questions/26690229/how-to-get-country-code-from-mobile-number-using-libphonenumber-api-in-android\" title=\"how to get country code from mobile number using libphonenumber api in android\">stackoverflow.com/questions/26690229/&hellip;</a>"},{"owner":{"account_id":6549398,"reputation":209,"user_id":5064289,"accept_rate":100,"display_name":"Barun Kumar"},"score":0,"creation_date":1437630815,"post_id":31578958,"comment_id":51112081,"body_markdown":"The link you have provided just shows United States not even +1   . But I am from Bangladesh. I need +880 . Please provide any valid code.             Thanks.   @BenvanGompel","body":"The link you have provided just shows United States not even +1   . But I am from Bangladesh. I need +880 . Please provide any valid code.             Thanks.   @BenvanGompel"},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":1,"creation_date":1437631360,"post_id":31578958,"comment_id":51112268,"body_markdown":"ISO country code is **not** international phone number prefix. After having ISO code you can convert get the phone prefix like in the other duplicate question","body":"ISO country code is <b>not</b> international phone number prefix. After having ISO code you can convert get the phone prefix like in the other duplicate question"},{"owner":{"account_id":4762821,"reputation":85,"user_id":3849790,"display_name":"velasco622"},"score":1,"creation_date":1554231223,"post_id":31578958,"comment_id":97673292,"body_markdown":"Look at the last answer here: https://stackoverflow.com/questions/10772329/how-to-get-country-phone-prefix-from-iso","body":"Look at the last answer here: <a href=\"https://stackoverflow.com/questions/10772329/how-to-get-country-phone-prefix-from-iso\" title=\"how to get country phone prefix from iso\">stackoverflow.com/questions/10772329/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4695869,"reputation":1012,"user_id":4435947,"accept_rate":73,"display_name":"Vid"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1437644648,"creation_date":1437644648,"answer_id":31583695,"question_id":31578958,"body_markdown":"There is no direct method in the TelephonyManager class which will return you dialing code of country. You have to make a key value pair list for all country.\r\n\r\n    &lt;string-array name=&quot;DialingCountryCode&quot; &gt;\r\n    &lt;item&gt;32,BE&lt;/item&gt;\r\n    &lt;item&gt;501,BZ&lt;/item&gt;\r\n    &lt;item&gt;229,BJ&lt;/item&gt;\r\n    &lt;item&gt;975,BT&lt;/item&gt;\r\n    &lt;item&gt;591,BO&lt;/item&gt;\r\n    &lt;item&gt;387,BA&lt;/item&gt;\r\n    &lt;item&gt;267,BW&lt;/item&gt;\r\n    &lt;item&gt;55,BR&lt;/item&gt;\r\n    &lt;item&gt;673,BN&lt;/item&gt;\r\n    &lt;item&gt;359,BG&lt;/item&gt;\r\n    &lt;item&gt;226,BF&lt;/item&gt;\r\n    &lt;item&gt;95,MM&lt;/item&gt;\r\n    &lt;item&gt;257,BI&lt;/item&gt;\r\n    &lt;item&gt;855,KH&lt;/item&gt;\r\n    &lt;item&gt;237,CM&lt;/item&gt;\r\n    &lt;item&gt;1,CA&lt;/item&gt;\r\n    &lt;item&gt;238,CV&lt;/item&gt;\r\n    &lt;item&gt;236,CF&lt;/item&gt;\r\n    &lt;item&gt;235,TD&lt;/item&gt;\r\n    &lt;item&gt;56,CL&lt;/item&gt;\r\n    &lt;item&gt;86,CN&lt;/item&gt;\r\n    &lt;item&gt;61,CX&lt;/item&gt;\r\n    &lt;item&gt;61,CC&lt;/item&gt;\r\n    &lt;item&gt;57,CO&lt;/item&gt;\r\n    &lt;item&gt;269,KM&lt;/item&gt;\r\n    &lt;item&gt;242,CG&lt;/item&gt;\r\n    &lt;item&gt;243,CD&lt;/item&gt;\r\n    &lt;item&gt;682,CK&lt;/item&gt;\r\n    &lt;item&gt;506,CR&lt;/item&gt;\r\n    &lt;item&gt;385,HR&lt;/item&gt;\r\n    &lt;item&gt;53,CU&lt;/item&gt;\r\n    &lt;item&gt;357,CY&lt;/item&gt;\r\n    &lt;item&gt;93,AF&lt;/item&gt;\r\n    &lt;item&gt;355,AL&lt;/item&gt;\r\n    &lt;item&gt;213,DZ&lt;/item&gt;\r\n    &lt;item&gt;376,AD&lt;/item&gt;\r\n    &lt;item&gt;244,AO&lt;/item&gt;\r\n    &lt;item&gt;672,AQ&lt;/item&gt;\r\n    &lt;item&gt;54,AR&lt;/item&gt;\r\n    &lt;item&gt;374,AM&lt;/item&gt;\r\n    &lt;item&gt;297,AW&lt;/item&gt;\r\n    &lt;item&gt;61,AU&lt;/item&gt;\r\n    &lt;item&gt;43,AT&lt;/item&gt;\r\n    &lt;item&gt;994,AZ&lt;/item&gt;\r\n    &lt;item&gt;973,BH&lt;/item&gt;\r\n    &lt;item&gt;880,BD&lt;/item&gt;\r\n    &lt;item&gt;375,BY&lt;/item&gt;\r\n    &lt;item&gt;420,CZ&lt;/item&gt;\r\n    &lt;item&gt;45,DK&lt;/item&gt;\r\n    &lt;item&gt;253,DJ&lt;/item&gt;\r\n    &lt;item&gt;670,TL&lt;/item&gt;\r\n    &lt;item&gt;593,EC&lt;/item&gt;\r\n    &lt;item&gt;20,EG&lt;/item&gt;\r\n    &lt;item&gt;503,SV&lt;/item&gt;\r\n    &lt;item&gt;240,GQ&lt;/item&gt;\r\n    &lt;item&gt;358,FI&lt;/item&gt;\r\n    &lt;item&gt;33,FR&lt;/item&gt;\r\n    &lt;item&gt;291,ER&lt;/item&gt;\r\n    &lt;item&gt;372,EE&lt;/item&gt;\r\n    &lt;item&gt;251,ET&lt;/item&gt;\r\n    &lt;item&gt;500,FK&lt;/item&gt;\r\n    &lt;item&gt;298,FO&lt;/item&gt;\r\n    &lt;item&gt;679,FJ&lt;/item&gt;\r\n    &lt;item&gt;689,PF&lt;/item&gt;\r\n    &lt;item&gt;241,GA&lt;/item&gt;\r\n    &lt;item&gt;220,GM&lt;/item&gt;\r\n    &lt;item&gt;995,GE&lt;/item&gt;\r\n    &lt;item&gt;49,DE&lt;/item&gt;\r\n    &lt;item&gt;233,GH&lt;/item&gt;\r\n    &lt;item&gt;350,GI&lt;/item&gt;\r\n    &lt;item&gt;30,GR&lt;/item&gt;\r\n    &lt;item&gt;299,GL&lt;/item&gt;\r\n    &lt;item&gt;502,GT&lt;/item&gt;\r\n    &lt;item&gt;224,GN&lt;/item&gt;\r\n    &lt;item&gt;245,GW&lt;/item&gt;\r\n    &lt;item&gt;592,GY&lt;/item&gt;\r\n    &lt;item&gt;509,HT&lt;/item&gt;\r\n    &lt;item&gt;504,HN&lt;/item&gt;\r\n    &lt;item&gt;852,HK&lt;/item&gt;\r\n    &lt;item&gt;36,HU&lt;/item&gt;\r\n    &lt;item&gt;91,IN&lt;/item&gt;\r\n    &lt;item&gt;62,ID&lt;/item&gt;\r\n    &lt;item&gt;98,IR&lt;/item&gt;\r\n    &lt;item&gt;964,IQ&lt;/item&gt;\r\n    &lt;item&gt;353,IE&lt;/item&gt;\r\n    &lt;item&gt;44,IM&lt;/item&gt;\r\n    &lt;item&gt;972,IL&lt;/item&gt;\r\n    &lt;item&gt;39,IT&lt;/item&gt;\r\n    &lt;item&gt;225,CI&lt;/item&gt;\r\n    &lt;item&gt;81,JP&lt;/item&gt;\r\n    &lt;item&gt;962,JO&lt;/item&gt;\r\n    &lt;item&gt;7,KZ&lt;/item&gt;\r\n    &lt;item&gt;254,KE&lt;/item&gt;\r\n    &lt;item&gt;686,KI&lt;/item&gt;\r\n    &lt;item&gt;965,KW&lt;/item&gt;\r\n    &lt;item&gt;996,KG&lt;/item&gt;\r\n    &lt;item&gt;856,LA&lt;/item&gt;\r\n    &lt;item&gt;371,LV&lt;/item&gt;\r\n    &lt;item&gt;961,LB&lt;/item&gt;\r\n    &lt;item&gt;266,LS&lt;/item&gt;\r\n    &lt;item&gt;231,LR&lt;/item&gt;\r\n    &lt;item&gt;218,LY&lt;/item&gt;\r\n    &lt;item&gt;423,LI&lt;/item&gt;\r\n    &lt;item&gt;370,LT&lt;/item&gt;\r\n    &lt;item&gt;352,LU&lt;/item&gt;\r\n    &lt;item&gt;853,MO&lt;/item&gt;\r\n    &lt;item&gt;389,MK&lt;/item&gt;\r\n    &lt;item&gt;261,MG&lt;/item&gt;\r\n    &lt;item&gt;265,MW&lt;/item&gt;\r\n    &lt;item&gt;60,MY&lt;/item&gt;\r\n    &lt;item&gt;960,MV&lt;/item&gt;\r\n    &lt;item&gt;223,ML&lt;/item&gt;\r\n    &lt;item&gt;356,MT&lt;/item&gt;\r\n    &lt;item&gt;692,MH&lt;/item&gt;\r\n    &lt;item&gt;222,MR&lt;/item&gt;\r\n    &lt;item&gt;230,MU&lt;/item&gt;\r\n    &lt;item&gt;262,YT&lt;/item&gt;\r\n    &lt;item&gt;52,MX&lt;/item&gt;\r\n    &lt;item&gt;691,FM&lt;/item&gt;\r\n    &lt;item&gt;373,MD&lt;/item&gt;\r\n    &lt;item&gt;377,MC&lt;/item&gt;\r\n    &lt;item&gt;976,MN&lt;/item&gt;\r\n    &lt;item&gt;382,ME&lt;/item&gt;\r\n    &lt;item&gt;212,MA&lt;/item&gt;\r\n    &lt;item&gt;258,MZ&lt;/item&gt;\r\n    &lt;item&gt;264,NA&lt;/item&gt;\r\n    &lt;item&gt;674,NR&lt;/item&gt;\r\n    &lt;item&gt;977,NP&lt;/item&gt;\r\n    &lt;item&gt;31,NL&lt;/item&gt;\r\n    &lt;item&gt;599,AN&lt;/item&gt;\r\n    &lt;item&gt;687,NC&lt;/item&gt;\r\n    &lt;item&gt;64,NZ&lt;/item&gt;\r\n    &lt;item&gt;505,NI&lt;/item&gt;\r\n    &lt;item&gt;227,NE&lt;/item&gt;\r\n    &lt;item&gt;234,NG&lt;/item&gt;\r\n    &lt;item&gt;683,NU&lt;/item&gt;\r\n    &lt;item&gt;850,KP&lt;/item&gt;\r\n    &lt;item&gt;47,NO&lt;/item&gt;\r\n    &lt;item&gt;968,OM&lt;/item&gt;\r\n    &lt;item&gt;92,PK&lt;/item&gt;\r\n    &lt;item&gt;680,PW&lt;/item&gt;\r\n    &lt;item&gt;507,PA&lt;/item&gt;\r\n    &lt;item&gt;675,PG&lt;/item&gt;\r\n    &lt;item&gt;595,PY&lt;/item&gt;\r\n    &lt;item&gt;51,PE&lt;/item&gt;\r\n    &lt;item&gt;63,PH&lt;/item&gt;\r\n    &lt;item&gt;870,PN&lt;/item&gt;\r\n    &lt;item&gt;48,PL&lt;/item&gt;\r\n    &lt;item&gt;351,PT&lt;/item&gt;\r\n    &lt;item&gt;1,PR&lt;/item&gt;\r\n    &lt;item&gt;974,QA&lt;/item&gt;\r\n    &lt;item&gt;40,RO&lt;/item&gt;\r\n    &lt;item&gt;7,RU&lt;/item&gt;\r\n    &lt;item&gt;250,RW&lt;/item&gt;\r\n    &lt;item&gt;590,BL&lt;/item&gt;\r\n    &lt;item&gt;685,WS&lt;/item&gt;\r\n    &lt;item&gt;378,SM&lt;/item&gt;\r\n    &lt;item&gt;239,ST&lt;/item&gt;\r\n    &lt;item&gt;966,SA&lt;/item&gt;\r\n    &lt;item&gt;221,SN&lt;/item&gt;\r\n    &lt;item&gt;381,RS&lt;/item&gt;\r\n    &lt;item&gt;248,SC&lt;/item&gt;\r\n    &lt;item&gt;232,SL&lt;/item&gt;\r\n    &lt;item&gt;65,SG&lt;/item&gt;\r\n    &lt;item&gt;421,SK&lt;/item&gt;\r\n    &lt;item&gt;386,SI&lt;/item&gt;\r\n    &lt;item&gt;677,SB&lt;/item&gt;\r\n    &lt;item&gt;252,SO&lt;/item&gt;\r\n    &lt;item&gt;27,ZA&lt;/item&gt;\r\n    &lt;item&gt;82,KR&lt;/item&gt;\r\n    &lt;item&gt;34,ES&lt;/item&gt;\r\n    &lt;item&gt;94,LK&lt;/item&gt;\r\n    &lt;item&gt;290,SH&lt;/item&gt;\r\n    &lt;item&gt;508,PM&lt;/item&gt;\r\n    &lt;item&gt;249,SD&lt;/item&gt;\r\n    &lt;item&gt;597,SR&lt;/item&gt;\r\n    &lt;item&gt;268,SZ&lt;/item&gt;\r\n    &lt;item&gt;46,SE&lt;/item&gt;\r\n    &lt;item&gt;41,CH&lt;/item&gt;\r\n    &lt;item&gt;963,SY&lt;/item&gt;\r\n    &lt;item&gt;886,TW&lt;/item&gt;\r\n    &lt;item&gt;992,TJ&lt;/item&gt;\r\n    &lt;item&gt;255,TZ&lt;/item&gt;\r\n    &lt;item&gt;66,TH&lt;/item&gt;\r\n    &lt;item&gt;228,TG&lt;/item&gt;\r\n    &lt;item&gt;690,TK&lt;/item&gt;\r\n    &lt;item&gt;676,TO&lt;/item&gt;\r\n    &lt;item&gt;216,TN&lt;/item&gt;\r\n    &lt;item&gt;90,TR&lt;/item&gt;\r\n    &lt;item&gt;993,TM&lt;/item&gt;\r\n    &lt;item&gt;688,TV&lt;/item&gt;\r\n    &lt;item&gt;971,AE&lt;/item&gt;\r\n    &lt;item&gt;256,UG&lt;/item&gt;\r\n    &lt;item&gt;44,GB&lt;/item&gt;\r\n    &lt;item&gt;380,UA&lt;/item&gt;\r\n    &lt;item&gt;598,UY&lt;/item&gt;\r\n    &lt;item&gt;1,US&lt;/item&gt;\r\n    &lt;item&gt;998,UZ&lt;/item&gt;\r\n    &lt;item&gt;678,VU&lt;/item&gt;\r\n    &lt;item&gt;39,VA&lt;/item&gt;\r\n    &lt;item&gt;58,VE&lt;/item&gt;\r\n    &lt;item&gt;84,VN&lt;/item&gt;\r\n    &lt;item&gt;681,WF&lt;/item&gt;\r\n    &lt;item&gt;967,YE&lt;/item&gt;\r\n    &lt;item&gt;260,ZM&lt;/item&gt;\r\n    &lt;item&gt;263,ZW&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    public static String getCountryDialCode(){\r\n        String contryId = null;\r\n        String contryDialCode = null;\r\n    \r\n        TelephonyManager telephonyMngr = (TelephonyManager) this.getSystemService(Context.TELEPHONY_SERVICE);\r\n       \r\n        contryId = telephonyMngr.getSimCountryIso().toUpperCase();\r\n        String[] arrContryCode=this.getResources().getStringArray(R.array.DialingCountryCode);\r\n        for(int i=0; i&lt;arrContryCode.length; i++){\r\n            String[] arrDial = arrContryCode[i].split(&quot;,&quot;);\r\n            if(arrDial[1].trim().equals(CountryID.trim())){\r\n                contryDialCode = arrDial[0];\r\n                break;  \r\n            }\r\n        }\r\n        return contryDialCode;\r\n    }","title":"How to get country code(calling code) in android?","body":"<p>There is no direct method in the TelephonyManager class which will return you dialing code of country. You have to make a key value pair list for all country.</p>\n\n<pre><code>&lt;string-array name=\"DialingCountryCode\" &gt;\n&lt;item&gt;32,BE&lt;/item&gt;\n&lt;item&gt;501,BZ&lt;/item&gt;\n&lt;item&gt;229,BJ&lt;/item&gt;\n&lt;item&gt;975,BT&lt;/item&gt;\n&lt;item&gt;591,BO&lt;/item&gt;\n&lt;item&gt;387,BA&lt;/item&gt;\n&lt;item&gt;267,BW&lt;/item&gt;\n&lt;item&gt;55,BR&lt;/item&gt;\n&lt;item&gt;673,BN&lt;/item&gt;\n&lt;item&gt;359,BG&lt;/item&gt;\n&lt;item&gt;226,BF&lt;/item&gt;\n&lt;item&gt;95,MM&lt;/item&gt;\n&lt;item&gt;257,BI&lt;/item&gt;\n&lt;item&gt;855,KH&lt;/item&gt;\n&lt;item&gt;237,CM&lt;/item&gt;\n&lt;item&gt;1,CA&lt;/item&gt;\n&lt;item&gt;238,CV&lt;/item&gt;\n&lt;item&gt;236,CF&lt;/item&gt;\n&lt;item&gt;235,TD&lt;/item&gt;\n&lt;item&gt;56,CL&lt;/item&gt;\n&lt;item&gt;86,CN&lt;/item&gt;\n&lt;item&gt;61,CX&lt;/item&gt;\n&lt;item&gt;61,CC&lt;/item&gt;\n&lt;item&gt;57,CO&lt;/item&gt;\n&lt;item&gt;269,KM&lt;/item&gt;\n&lt;item&gt;242,CG&lt;/item&gt;\n&lt;item&gt;243,CD&lt;/item&gt;\n&lt;item&gt;682,CK&lt;/item&gt;\n&lt;item&gt;506,CR&lt;/item&gt;\n&lt;item&gt;385,HR&lt;/item&gt;\n&lt;item&gt;53,CU&lt;/item&gt;\n&lt;item&gt;357,CY&lt;/item&gt;\n&lt;item&gt;93,AF&lt;/item&gt;\n&lt;item&gt;355,AL&lt;/item&gt;\n&lt;item&gt;213,DZ&lt;/item&gt;\n&lt;item&gt;376,AD&lt;/item&gt;\n&lt;item&gt;244,AO&lt;/item&gt;\n&lt;item&gt;672,AQ&lt;/item&gt;\n&lt;item&gt;54,AR&lt;/item&gt;\n&lt;item&gt;374,AM&lt;/item&gt;\n&lt;item&gt;297,AW&lt;/item&gt;\n&lt;item&gt;61,AU&lt;/item&gt;\n&lt;item&gt;43,AT&lt;/item&gt;\n&lt;item&gt;994,AZ&lt;/item&gt;\n&lt;item&gt;973,BH&lt;/item&gt;\n&lt;item&gt;880,BD&lt;/item&gt;\n&lt;item&gt;375,BY&lt;/item&gt;\n&lt;item&gt;420,CZ&lt;/item&gt;\n&lt;item&gt;45,DK&lt;/item&gt;\n&lt;item&gt;253,DJ&lt;/item&gt;\n&lt;item&gt;670,TL&lt;/item&gt;\n&lt;item&gt;593,EC&lt;/item&gt;\n&lt;item&gt;20,EG&lt;/item&gt;\n&lt;item&gt;503,SV&lt;/item&gt;\n&lt;item&gt;240,GQ&lt;/item&gt;\n&lt;item&gt;358,FI&lt;/item&gt;\n&lt;item&gt;33,FR&lt;/item&gt;\n&lt;item&gt;291,ER&lt;/item&gt;\n&lt;item&gt;372,EE&lt;/item&gt;\n&lt;item&gt;251,ET&lt;/item&gt;\n&lt;item&gt;500,FK&lt;/item&gt;\n&lt;item&gt;298,FO&lt;/item&gt;\n&lt;item&gt;679,FJ&lt;/item&gt;\n&lt;item&gt;689,PF&lt;/item&gt;\n&lt;item&gt;241,GA&lt;/item&gt;\n&lt;item&gt;220,GM&lt;/item&gt;\n&lt;item&gt;995,GE&lt;/item&gt;\n&lt;item&gt;49,DE&lt;/item&gt;\n&lt;item&gt;233,GH&lt;/item&gt;\n&lt;item&gt;350,GI&lt;/item&gt;\n&lt;item&gt;30,GR&lt;/item&gt;\n&lt;item&gt;299,GL&lt;/item&gt;\n&lt;item&gt;502,GT&lt;/item&gt;\n&lt;item&gt;224,GN&lt;/item&gt;\n&lt;item&gt;245,GW&lt;/item&gt;\n&lt;item&gt;592,GY&lt;/item&gt;\n&lt;item&gt;509,HT&lt;/item&gt;\n&lt;item&gt;504,HN&lt;/item&gt;\n&lt;item&gt;852,HK&lt;/item&gt;\n&lt;item&gt;36,HU&lt;/item&gt;\n&lt;item&gt;91,IN&lt;/item&gt;\n&lt;item&gt;62,ID&lt;/item&gt;\n&lt;item&gt;98,IR&lt;/item&gt;\n&lt;item&gt;964,IQ&lt;/item&gt;\n&lt;item&gt;353,IE&lt;/item&gt;\n&lt;item&gt;44,IM&lt;/item&gt;\n&lt;item&gt;972,IL&lt;/item&gt;\n&lt;item&gt;39,IT&lt;/item&gt;\n&lt;item&gt;225,CI&lt;/item&gt;\n&lt;item&gt;81,JP&lt;/item&gt;\n&lt;item&gt;962,JO&lt;/item&gt;\n&lt;item&gt;7,KZ&lt;/item&gt;\n&lt;item&gt;254,KE&lt;/item&gt;\n&lt;item&gt;686,KI&lt;/item&gt;\n&lt;item&gt;965,KW&lt;/item&gt;\n&lt;item&gt;996,KG&lt;/item&gt;\n&lt;item&gt;856,LA&lt;/item&gt;\n&lt;item&gt;371,LV&lt;/item&gt;\n&lt;item&gt;961,LB&lt;/item&gt;\n&lt;item&gt;266,LS&lt;/item&gt;\n&lt;item&gt;231,LR&lt;/item&gt;\n&lt;item&gt;218,LY&lt;/item&gt;\n&lt;item&gt;423,LI&lt;/item&gt;\n&lt;item&gt;370,LT&lt;/item&gt;\n&lt;item&gt;352,LU&lt;/item&gt;\n&lt;item&gt;853,MO&lt;/item&gt;\n&lt;item&gt;389,MK&lt;/item&gt;\n&lt;item&gt;261,MG&lt;/item&gt;\n&lt;item&gt;265,MW&lt;/item&gt;\n&lt;item&gt;60,MY&lt;/item&gt;\n&lt;item&gt;960,MV&lt;/item&gt;\n&lt;item&gt;223,ML&lt;/item&gt;\n&lt;item&gt;356,MT&lt;/item&gt;\n&lt;item&gt;692,MH&lt;/item&gt;\n&lt;item&gt;222,MR&lt;/item&gt;\n&lt;item&gt;230,MU&lt;/item&gt;\n&lt;item&gt;262,YT&lt;/item&gt;\n&lt;item&gt;52,MX&lt;/item&gt;\n&lt;item&gt;691,FM&lt;/item&gt;\n&lt;item&gt;373,MD&lt;/item&gt;\n&lt;item&gt;377,MC&lt;/item&gt;\n&lt;item&gt;976,MN&lt;/item&gt;\n&lt;item&gt;382,ME&lt;/item&gt;\n&lt;item&gt;212,MA&lt;/item&gt;\n&lt;item&gt;258,MZ&lt;/item&gt;\n&lt;item&gt;264,NA&lt;/item&gt;\n&lt;item&gt;674,NR&lt;/item&gt;\n&lt;item&gt;977,NP&lt;/item&gt;\n&lt;item&gt;31,NL&lt;/item&gt;\n&lt;item&gt;599,AN&lt;/item&gt;\n&lt;item&gt;687,NC&lt;/item&gt;\n&lt;item&gt;64,NZ&lt;/item&gt;\n&lt;item&gt;505,NI&lt;/item&gt;\n&lt;item&gt;227,NE&lt;/item&gt;\n&lt;item&gt;234,NG&lt;/item&gt;\n&lt;item&gt;683,NU&lt;/item&gt;\n&lt;item&gt;850,KP&lt;/item&gt;\n&lt;item&gt;47,NO&lt;/item&gt;\n&lt;item&gt;968,OM&lt;/item&gt;\n&lt;item&gt;92,PK&lt;/item&gt;\n&lt;item&gt;680,PW&lt;/item&gt;\n&lt;item&gt;507,PA&lt;/item&gt;\n&lt;item&gt;675,PG&lt;/item&gt;\n&lt;item&gt;595,PY&lt;/item&gt;\n&lt;item&gt;51,PE&lt;/item&gt;\n&lt;item&gt;63,PH&lt;/item&gt;\n&lt;item&gt;870,PN&lt;/item&gt;\n&lt;item&gt;48,PL&lt;/item&gt;\n&lt;item&gt;351,PT&lt;/item&gt;\n&lt;item&gt;1,PR&lt;/item&gt;\n&lt;item&gt;974,QA&lt;/item&gt;\n&lt;item&gt;40,RO&lt;/item&gt;\n&lt;item&gt;7,RU&lt;/item&gt;\n&lt;item&gt;250,RW&lt;/item&gt;\n&lt;item&gt;590,BL&lt;/item&gt;\n&lt;item&gt;685,WS&lt;/item&gt;\n&lt;item&gt;378,SM&lt;/item&gt;\n&lt;item&gt;239,ST&lt;/item&gt;\n&lt;item&gt;966,SA&lt;/item&gt;\n&lt;item&gt;221,SN&lt;/item&gt;\n&lt;item&gt;381,RS&lt;/item&gt;\n&lt;item&gt;248,SC&lt;/item&gt;\n&lt;item&gt;232,SL&lt;/item&gt;\n&lt;item&gt;65,SG&lt;/item&gt;\n&lt;item&gt;421,SK&lt;/item&gt;\n&lt;item&gt;386,SI&lt;/item&gt;\n&lt;item&gt;677,SB&lt;/item&gt;\n&lt;item&gt;252,SO&lt;/item&gt;\n&lt;item&gt;27,ZA&lt;/item&gt;\n&lt;item&gt;82,KR&lt;/item&gt;\n&lt;item&gt;34,ES&lt;/item&gt;\n&lt;item&gt;94,LK&lt;/item&gt;\n&lt;item&gt;290,SH&lt;/item&gt;\n&lt;item&gt;508,PM&lt;/item&gt;\n&lt;item&gt;249,SD&lt;/item&gt;\n&lt;item&gt;597,SR&lt;/item&gt;\n&lt;item&gt;268,SZ&lt;/item&gt;\n&lt;item&gt;46,SE&lt;/item&gt;\n&lt;item&gt;41,CH&lt;/item&gt;\n&lt;item&gt;963,SY&lt;/item&gt;\n&lt;item&gt;886,TW&lt;/item&gt;\n&lt;item&gt;992,TJ&lt;/item&gt;\n&lt;item&gt;255,TZ&lt;/item&gt;\n&lt;item&gt;66,TH&lt;/item&gt;\n&lt;item&gt;228,TG&lt;/item&gt;\n&lt;item&gt;690,TK&lt;/item&gt;\n&lt;item&gt;676,TO&lt;/item&gt;\n&lt;item&gt;216,TN&lt;/item&gt;\n&lt;item&gt;90,TR&lt;/item&gt;\n&lt;item&gt;993,TM&lt;/item&gt;\n&lt;item&gt;688,TV&lt;/item&gt;\n&lt;item&gt;971,AE&lt;/item&gt;\n&lt;item&gt;256,UG&lt;/item&gt;\n&lt;item&gt;44,GB&lt;/item&gt;\n&lt;item&gt;380,UA&lt;/item&gt;\n&lt;item&gt;598,UY&lt;/item&gt;\n&lt;item&gt;1,US&lt;/item&gt;\n&lt;item&gt;998,UZ&lt;/item&gt;\n&lt;item&gt;678,VU&lt;/item&gt;\n&lt;item&gt;39,VA&lt;/item&gt;\n&lt;item&gt;58,VE&lt;/item&gt;\n&lt;item&gt;84,VN&lt;/item&gt;\n&lt;item&gt;681,WF&lt;/item&gt;\n&lt;item&gt;967,YE&lt;/item&gt;\n&lt;item&gt;260,ZM&lt;/item&gt;\n&lt;item&gt;263,ZW&lt;/item&gt;\n&lt;/string-array&gt;\n\npublic static String getCountryDialCode(){\n    String contryId = null;\n    String contryDialCode = null;\n\n    TelephonyManager telephonyMngr = (TelephonyManager) this.getSystemService(Context.TELEPHONY_SERVICE);\n\n    contryId = telephonyMngr.getSimCountryIso().toUpperCase();\n    String[] arrContryCode=this.getResources().getStringArray(R.array.DialingCountryCode);\n    for(int i=0; i&lt;arrContryCode.length; i++){\n        String[] arrDial = arrContryCode[i].split(\",\");\n        if(arrDial[1].trim().equals(CountryID.trim())){\n            contryDialCode = arrDial[0];\n            break;  \n        }\n    }\n    return contryDialCode;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1519073158,"creation_date":1519073158,"answer_id":48873912,"question_id":31578958,"body_markdown":"Actually libphonenumber is more convenient and is maintained: \r\n\r\n`PhoneNumberUtil.createInstance(getContext())getCountryCodeForRegion(countryNameCode)`\r\n\r\nFor Android instead of using the Google library this one seems to be more lightweight: https://github.com/MichaelRocks/libphonenumber-android","title":"How to get country code(calling code) in android?","body":"<p>Actually libphonenumber is more convenient and is maintained: </p>\n\n<p><code>PhoneNumberUtil.createInstance(getContext())getCountryCodeForRegion(countryNameCode)</code></p>\n\n<p>For Android instead of using the Google library this one seems to be more lightweight: <a href=\"https://github.com/MichaelRocks/libphonenumber-android\" rel=\"noreferrer\">https://github.com/MichaelRocks/libphonenumber-android</a></p>\n"},{"tags":[],"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1618476964,"creation_date":1594802429,"answer_id":62910886,"question_id":31578958,"body_markdown":"The Best Way to the Get Country Code is by using this lib.\r\n\r\nGet Complete Documentation from [Github][1]\r\n\r\nThis Library can detect country code automatically by just Adding this Attribute `app:ccp_autoDetectCountry=&quot;true&quot;`\r\n\r\n\r\nCode Example :\r\n\r\n    &lt;com.hbb20.CountryCodePicker\r\n        android:id=&quot;@+id/ccp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;8dp&quot;\r\n        app:ccp_showFullName=&quot;false&quot;\r\n        app:ccp_showNameCode=&quot;false&quot;\r\n        app:ccp_showPhoneCode=&quot;true&quot;\r\n        app:ccp_autoDetectCountry=&quot;true&quot;/&gt;\r\n\r\nread Complete Implementation Details from github\r\nhttps://github.com/hbb20/CountryCodePickerProject\r\n\r\n  [1]: https://github.com/hbb20/CountryCodePickerProject","title":"How to get country code(calling code) in android?","body":"<p>The Best Way to the Get Country Code is by using this lib.</p>\n<p>Get Complete Documentation from <a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">Github</a></p>\n<p>This Library can detect country code automatically by just Adding this Attribute <code>app:ccp_autoDetectCountry=&quot;true&quot;</code></p>\n<p>Code Example :</p>\n<pre><code>&lt;com.hbb20.CountryCodePicker\n    android:id=&quot;@+id/ccp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;8dp&quot;\n    app:ccp_showFullName=&quot;false&quot;\n    app:ccp_showNameCode=&quot;false&quot;\n    app:ccp_showPhoneCode=&quot;true&quot;\n    app:ccp_autoDetectCountry=&quot;true&quot;/&gt;\n</code></pre>\n<p>read Complete Implementation Details from github\n<a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">https://github.com/hbb20/CountryCodePickerProject</a></p>\n"},{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678637008,"creation_date":1678637008,"answer_id":75714418,"question_id":31578958,"body_markdown":"**Kotlin**\r\n```\r\n private fun getDeviceCountryCode(context: Context): String {\r\n        val tm = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\r\n        var countryCode = tm.simCountryIso\r\n        if (countryCode != null &amp;&amp; countryCode.length == 2) return countryCode.lowercase()\r\n        countryCode = if (tm.phoneType == TelephonyManager.PHONE_TYPE_CDMA) {\r\n            getCDMACountryIso()\r\n        } else {\r\n            tm.networkCountryIso\r\n        }\r\n        if (countryCode != null &amp;&amp; countryCode.length == 2) return countryCode.lowercase()\r\n        countryCode = context.resources.configuration.locales.get(0).country\r\n        return if (countryCode != null &amp;&amp; countryCode.length == 2) countryCode.lowercase() else &quot;us&quot;\r\n}\r\n\r\n@SuppressLint(&quot;PrivateApi&quot;)\r\nprivate fun getCDMACountryIso(): String? {\r\n        try {\r\n            val systemProperties = Class.forName(&quot;android.os.SystemProperties&quot;)\r\n            val get: Method = systemProperties.getMethod(&quot;get&quot;, String::class.java)\r\n            val homeOperator = get.invoke(\r\n                systemProperties,\r\n                &quot;ro.cdma.home.operator.numeric&quot;\r\n            ) as String\r\n            when (homeOperator.substring(0, 3).toInt()) {\r\n                330 -&gt; return &quot;PR&quot;\r\n                310 -&gt; return &quot;US&quot;\r\n                311 -&gt; return &quot;US&quot;\r\n                312 -&gt; return &quot;US&quot;\r\n                316 -&gt; return &quot;US&quot;\r\n                283 -&gt; return &quot;AM&quot;\r\n                460 -&gt; return &quot;CN&quot;\r\n                455 -&gt; return &quot;MO&quot;\r\n                414 -&gt; return &quot;MM&quot;\r\n                619 -&gt; return &quot;SL&quot;\r\n                450 -&gt; return &quot;KR&quot;\r\n                634 -&gt; return &quot;SD&quot;\r\n                434 -&gt; return &quot;UZ&quot;\r\n                232 -&gt; return &quot;AT&quot;\r\n                204 -&gt; return &quot;NL&quot;\r\n                262 -&gt; return &quot;DE&quot;\r\n                247 -&gt; return &quot;LV&quot;\r\n                255 -&gt; return &quot;UA&quot;\r\n            }\r\n        } catch (ignored: java.lang.Exception) {\r\n        }\r\n        return null\r\n}\r\n```\r\n**Java**\r\n```\r\nprivate static String getDeviceCountryCode(Context context) {\r\n    String countryCode;\r\n    TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n    if(tm != null) {\r\n        countryCode = tm.getSimCountryIso();\r\n        if (countryCode != null &amp;&amp; countryCode.length() == 2)\r\n            return countryCode.toLowerCase();\r\n\r\n        if (tm.getPhoneType() == TelephonyManager.PHONE_TYPE_CDMA) {\r\n            countryCode = getCDMACountryIso();\r\n        }\r\n        else {\r\n            countryCode = tm.getNetworkCountryIso();\r\n        }\r\n\r\n        if (countryCode != null &amp;&amp; countryCode.length() == 2)\r\n            return countryCode.toLowerCase();\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        countryCode = context.getResources().getConfiguration().getLocales().get(0).getCountry();\r\n    }\r\n    else {\r\n        countryCode = context.getResources().getConfiguration().locale.getCountry();\r\n    }\r\n\r\n    if (countryCode != null &amp;&amp; countryCode.length() == 2)\r\n        return  countryCode.toLowerCase();\r\n\r\n    return &quot;us&quot;;\r\n}\r\n\r\n@SuppressLint(&quot;PrivateApi&quot;)\r\nprivate static String getCDMACountryIso() {\r\n    try {\r\n        Class&lt;?&gt; systemProperties = Class.forName(&quot;android.os.SystemProperties&quot;);\r\n        Method get = systemProperties.getMethod(&quot;get&quot;, String.class);\r\n\r\n        String homeOperator = ((String) get.invoke(systemProperties,\r\n                &quot;ro.cdma.home.operator.numeric&quot;));\r\n\r\n        int mcc = Integer.parseInt(homeOperator.substring(0, 3));\r\n        switch (mcc) {\r\n            case 330: return &quot;PR&quot;;\r\n            case 310: return &quot;US&quot;;\r\n            case 311: return &quot;US&quot;;\r\n            case 312: return &quot;US&quot;;\r\n            case 316: return &quot;US&quot;;\r\n            case 283: return &quot;AM&quot;;\r\n            case 460: return &quot;CN&quot;;\r\n            case 455: return &quot;MO&quot;;\r\n            case 414: return &quot;MM&quot;;\r\n            case 619: return &quot;SL&quot;;\r\n            case 450: return &quot;KR&quot;;\r\n            case 634: return &quot;SD&quot;;\r\n            case 434: return &quot;UZ&quot;;\r\n            case 232: return &quot;AT&quot;;\r\n            case 204: return &quot;NL&quot;;\r\n            case 262: return &quot;DE&quot;;\r\n            case 247: return &quot;LV&quot;;\r\n            case 255: return &quot;UA&quot;;\r\n        }\r\n    }\r\n    catch(Exception e) {\r\n    }\r\n    return null;\r\n}\r\n```","title":"How to get country code(calling code) in android?","body":"<p><strong>Kotlin</strong></p>\n<pre><code> private fun getDeviceCountryCode(context: Context): String {\n        val tm = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n        var countryCode = tm.simCountryIso\n        if (countryCode != null &amp;&amp; countryCode.length == 2) return countryCode.lowercase()\n        countryCode = if (tm.phoneType == TelephonyManager.PHONE_TYPE_CDMA) {\n            getCDMACountryIso()\n        } else {\n            tm.networkCountryIso\n        }\n        if (countryCode != null &amp;&amp; countryCode.length == 2) return countryCode.lowercase()\n        countryCode = context.resources.configuration.locales.get(0).country\n        return if (countryCode != null &amp;&amp; countryCode.length == 2) countryCode.lowercase() else &quot;us&quot;\n}\n\n@SuppressLint(&quot;PrivateApi&quot;)\nprivate fun getCDMACountryIso(): String? {\n        try {\n            val systemProperties = Class.forName(&quot;android.os.SystemProperties&quot;)\n            val get: Method = systemProperties.getMethod(&quot;get&quot;, String::class.java)\n            val homeOperator = get.invoke(\n                systemProperties,\n                &quot;ro.cdma.home.operator.numeric&quot;\n            ) as String\n            when (homeOperator.substring(0, 3).toInt()) {\n                330 -&gt; return &quot;PR&quot;\n                310 -&gt; return &quot;US&quot;\n                311 -&gt; return &quot;US&quot;\n                312 -&gt; return &quot;US&quot;\n                316 -&gt; return &quot;US&quot;\n                283 -&gt; return &quot;AM&quot;\n                460 -&gt; return &quot;CN&quot;\n                455 -&gt; return &quot;MO&quot;\n                414 -&gt; return &quot;MM&quot;\n                619 -&gt; return &quot;SL&quot;\n                450 -&gt; return &quot;KR&quot;\n                634 -&gt; return &quot;SD&quot;\n                434 -&gt; return &quot;UZ&quot;\n                232 -&gt; return &quot;AT&quot;\n                204 -&gt; return &quot;NL&quot;\n                262 -&gt; return &quot;DE&quot;\n                247 -&gt; return &quot;LV&quot;\n                255 -&gt; return &quot;UA&quot;\n            }\n        } catch (ignored: java.lang.Exception) {\n        }\n        return null\n}\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>private static String getDeviceCountryCode(Context context) {\n    String countryCode;\n    TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n    if(tm != null) {\n        countryCode = tm.getSimCountryIso();\n        if (countryCode != null &amp;&amp; countryCode.length() == 2)\n            return countryCode.toLowerCase();\n\n        if (tm.getPhoneType() == TelephonyManager.PHONE_TYPE_CDMA) {\n            countryCode = getCDMACountryIso();\n        }\n        else {\n            countryCode = tm.getNetworkCountryIso();\n        }\n\n        if (countryCode != null &amp;&amp; countryCode.length() == 2)\n            return countryCode.toLowerCase();\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        countryCode = context.getResources().getConfiguration().getLocales().get(0).getCountry();\n    }\n    else {\n        countryCode = context.getResources().getConfiguration().locale.getCountry();\n    }\n\n    if (countryCode != null &amp;&amp; countryCode.length() == 2)\n        return  countryCode.toLowerCase();\n\n    return &quot;us&quot;;\n}\n\n@SuppressLint(&quot;PrivateApi&quot;)\nprivate static String getCDMACountryIso() {\n    try {\n        Class&lt;?&gt; systemProperties = Class.forName(&quot;android.os.SystemProperties&quot;);\n        Method get = systemProperties.getMethod(&quot;get&quot;, String.class);\n\n        String homeOperator = ((String) get.invoke(systemProperties,\n                &quot;ro.cdma.home.operator.numeric&quot;));\n\n        int mcc = Integer.parseInt(homeOperator.substring(0, 3));\n        switch (mcc) {\n            case 330: return &quot;PR&quot;;\n            case 310: return &quot;US&quot;;\n            case 311: return &quot;US&quot;;\n            case 312: return &quot;US&quot;;\n            case 316: return &quot;US&quot;;\n            case 283: return &quot;AM&quot;;\n            case 460: return &quot;CN&quot;;\n            case 455: return &quot;MO&quot;;\n            case 414: return &quot;MM&quot;;\n            case 619: return &quot;SL&quot;;\n            case 450: return &quot;KR&quot;;\n            case 634: return &quot;SD&quot;;\n            case 434: return &quot;UZ&quot;;\n            case 232: return &quot;AT&quot;;\n            case 204: return &quot;NL&quot;;\n            case 262: return &quot;DE&quot;;\n            case 247: return &quot;LV&quot;;\n            case 255: return &quot;UA&quot;;\n        }\n    }\n    catch(Exception e) {\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":6549398,"reputation":209,"user_id":5064289,"accept_rate":100,"display_name":"Barun Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32160,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"answer_count":4,"score":12,"last_activity_date":1678637008,"creation_date":1437629893,"question_id":31578958,"body_markdown":"How can I get Country code of my sim in android code. I have used \r\n \r\n\r\n    TelephonyManager tm = (TelephonyManager)getSystemService(getApplicationContext().TELEPHONY_SERVICE);\r\n              String countryCode = tm.getNetworkCountryIso();\r\n\r\n   But here I get Country name like &quot;BD&quot; for Bangladesh I need +880 for bangladesh.\r\nThis code is working like same.\r\n `Locale.getDefault().getCountry();` I need code like +91 for ind,+880 for bd.\r\n","title":"How to get country code(calling code) in android?","body":"<p>How can I get Country code of my sim in android code. I have used </p>\n\n<pre><code>TelephonyManager tm = (TelephonyManager)getSystemService(getApplicationContext().TELEPHONY_SERVICE);\n          String countryCode = tm.getNetworkCountryIso();\n</code></pre>\n\n<p>But here I get Country name like \"BD\" for Bangladesh I need +880 for bangladesh.\nThis code is working like same.\n <code>Locale.getDefault().getCountry();</code> I need code like +91 for ind,+880 for bd.</p>\n"},{"tags":["java","maven","intellij-idea","jackson-databind"],"comments":[{"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"score":0,"creation_date":1651078722,"post_id":72032043,"comment_id":127278837,"body_markdown":"post your pom file","body":"post your pom file"},{"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"score":0,"creation_date":1651079857,"post_id":72032043,"comment_id":127279231,"body_markdown":"Am unable to post it here - too long.","body":"Am unable to post it here - too long."}],"answers":[{"tags":[],"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651081316,"creation_date":1651081316,"answer_id":72033154,"question_id":72032043,"body_markdown":"Another team member gave me the command &#39;mvn dependency:tree&#39; and it displayed the jar referencing what I was looking for.","title":"Unable to update jackson-databind reference in IntelliJ","body":"<p>Another team member gave me the command 'mvn dependency:tree' and it displayed the jar referencing what I was looking for.</p>\n"}],"owner":{"account_id":3070021,"reputation":81,"user_id":2600925,"accept_rate":10,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678636303,"creation_date":1651075687,"question_id":72032043,"body_markdown":"I&#39;m using IntelliJ v2019.  \r\n\r\nI have vulnerabilities in my Java (maven) app. Some vulnerabilities involve jackson-databind v2.9.6 that need to be replaced by a newer version (jackson-databind v2.9.8). \r\n\r\nI cannot find any references in my pom files for this jar.  \r\n\r\nI&#39;ve cleared my local jar repo and done a mvn clean install and it keeps downloading that jar. \r\n\r\nI&#39;ve searched within all jar files on my system and cannot find the reference. I&#39;ve only found it referenced in Maven__com_fasterxml_jacson_core_jackson..._2_9_6.xml located in the ...\\.idea\\libraries folder of my project. So I moved it to another location and replaced it with the 2_9_8 version. \r\n\r\nI cleared my local repo again, doing another mvn clean install and yet v2.9.6 continues to be downloaded but NOT v2.9.8. \r\n\r\nI&#39;ve searched all over the internet and cannot find what other jar library might referencing the 2.9.6 version or how to remedy this issue. \r\n\r\nDo I need to update my maven installation?","title":"Unable to update jackson-databind reference in IntelliJ","body":"<p>I'm using IntelliJ v2019.</p>\n<p>I have vulnerabilities in my Java (maven) app. Some vulnerabilities involve jackson-databind v2.9.6 that need to be replaced by a newer version (jackson-databind v2.9.8).</p>\n<p>I cannot find any references in my pom files for this jar.</p>\n<p>I've cleared my local jar repo and done a mvn clean install and it keeps downloading that jar.</p>\n<p>I've searched within all jar files on my system and cannot find the reference. I've only found it referenced in Maven__com_fasterxml_jacson_core_jackson..._2_9_6.xml located in the ....idea\\libraries folder of my project. So I moved it to another location and replaced it with the 2_9_8 version.</p>\n<p>I cleared my local repo again, doing another mvn clean install and yet v2.9.6 continues to be downloaded but NOT v2.9.8.</p>\n<p>I've searched all over the internet and cannot find what other jar library might referencing the 2.9.6 version or how to remedy this issue.</p>\n<p>Do I need to update my maven installation?</p>\n"},{"tags":["java","macos","awtrobot"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1628000140,"post_id":66407312,"comment_id":121301793,"body_markdown":"May I ask: What exactly is your question, or is this just an (interesting) observation? Wouldnt it be better to report this to the authors of the code, so they can possibly fix it?","body":"May I ask: What exactly is your question, or is this just an (interesting) observation? Wouldnt it be better to report this to the authors of the code, so they can possibly fix it?"}],"answers":[{"tags":[],"owner":{"account_id":17953820,"reputation":1,"user_id":13046398,"display_name":"Ossie Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678636222,"creation_date":1678636146,"answer_id":75714321,"question_id":66407312,"body_markdown":"I too see this. The slowness of the `Robot` in sending keystrokes for macOS was introduced with OpenJDK 11. To demonstrate this, I downloaded the OpenJDK 1.8 and 11.x JRE binary zip archives, unpacked them to `~/opt/java/&lt;archive bundle name&gt;` and ran a simple example that does nothing but press and release the `shift` key with a 30ms delay between press/release actions. Below is the output. The 1.8 JVM runs the example in under three seconds. The 11 and greater JVMs take almost 11 seconds to run the same example. For this very reason, for applications that require send key, I compile them with 1.8 compatibility. Very frustrating.\r\n\r\n```\r\nsmithy@localhost dist % cat ../src/TestRobot.java \r\nimport java.awt.Robot;\r\nimport java.awt.event.KeyEvent;\r\npublic class TestRobot {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Robot r = new Robot();\r\n            System.out.println(&quot;Press enter to continue:&quot;);\r\n            press(r, KeyEvent.VK_SHIFT, 10);\r\n            System.in.read();\r\n            long start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; 101 ; i++) {\r\n                press(r, KeyEvent.VK_SHIFT, 10);\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(end - start);\r\n        } catch (Throwable t) {\r\n            System.err.println(t.getLocalizedMessage());\r\n        }\r\n    }\r\n    private static void press(Robot r, int key, long delay) throws Throwable {\r\n        r.keyPress(key);\r\n        Thread.sleep(delay);\r\n        r.keyRelease(key);\r\n        Thread.sleep(delay);\r\n    }\r\n}\r\nsmithy@localhost dist % ~/opt/java/jdk8u312-b07/Contents/Home/bin/java -version\r\nopenjdk version &quot;1.8.0_312&quot;\r\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\r\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode)\r\nsmithy@localhost dist % ~/opt/java/jdk8u312-b07/Contents/Home/bin/java -jar TestRobot.jar \r\nPress enter to continue:\r\n\r\n2659\r\nsmithy@localhost dist % ~/opt/java/jdk-11.0.18+10-jre/Contents/Home/bin/java -version\r\nopenjdk version &quot;11.0.18&quot; 2023-01-17\r\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\r\nsmithy@localhost dist % ~/opt/java/jdk-11.0.18+10-jre/Contents/Home/bin/java -jar TestRobot.jar \r\nPress enter to continue:\r\n\r\n10672\r\nsmithy@localhost dist % \r\n```","title":"java.awt.Robot keyPress slow under macOS","body":"<p>I too see this. The slowness of the <code>Robot</code> in sending keystrokes for macOS was introduced with OpenJDK 11. To demonstrate this, I downloaded the OpenJDK 1.8 and 11.x JRE binary zip archives, unpacked them to <code>~/opt/java/&lt;archive bundle name&gt;</code> and ran a simple example that does nothing but press and release the <code>shift</code> key with a 30ms delay between press/release actions. Below is the output. The 1.8 JVM runs the example in under three seconds. The 11 and greater JVMs take almost 11 seconds to run the same example. For this very reason, for applications that require send key, I compile them with 1.8 compatibility. Very frustrating.</p>\n<pre><code>smithy@localhost dist % cat ../src/TestRobot.java \nimport java.awt.Robot;\nimport java.awt.event.KeyEvent;\npublic class TestRobot {\n    public static void main(String[] args) {\n        try {\n            Robot r = new Robot();\n            System.out.println(&quot;Press enter to continue:&quot;);\n            press(r, KeyEvent.VK_SHIFT, 10);\n            System.in.read();\n            long start = System.currentTimeMillis();\n            for (int i = 0; i &lt; 101 ; i++) {\n                press(r, KeyEvent.VK_SHIFT, 10);\n            }\n            long end = System.currentTimeMillis();\n            System.out.println(end - start);\n        } catch (Throwable t) {\n            System.err.println(t.getLocalizedMessage());\n        }\n    }\n    private static void press(Robot r, int key, long delay) throws Throwable {\n        r.keyPress(key);\n        Thread.sleep(delay);\n        r.keyRelease(key);\n        Thread.sleep(delay);\n    }\n}\nsmithy@localhost dist % ~/opt/java/jdk8u312-b07/Contents/Home/bin/java -version\nopenjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode)\nsmithy@localhost dist % ~/opt/java/jdk8u312-b07/Contents/Home/bin/java -jar TestRobot.jar \nPress enter to continue:\n\n2659\nsmithy@localhost dist % ~/opt/java/jdk-11.0.18+10-jre/Contents/Home/bin/java -version\nopenjdk version &quot;11.0.18&quot; 2023-01-17\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\nsmithy@localhost dist % ~/opt/java/jdk-11.0.18+10-jre/Contents/Home/bin/java -jar TestRobot.jar \nPress enter to continue:\n\n10672\nsmithy@localhost dist % \n</code></pre>\n"}],"owner":{"account_id":20830371,"reputation":31,"user_id":15299810,"display_name":"SDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678636222,"creation_date":1614501976,"question_id":66407312,"body_markdown":"Performance for keyboard simulation under macOS (Java SE 15.0.2) differs heavily from Win10. Typing &#39;100 a&#39; takes on Win10 (openJDK 9.0.4, 14.0.2, 15.0.2) 140ms, Ubuntu VM (openJDK 11.0.9.1) 8200ms and on macOS 11000ms. Results are same on macOS Catalina VM and macOS BigSur on MacBook Pro 2020. Ubuntu test takes 2300ms, if just set focus to text editor direct after start program from console (no effect on macOS).\r\n\r\nInserting `robot.delay(30)` after each keyPress/keyRelease didn&#39;t achieved performance gains on macOS. Does anyone can confirm this behavior? It seems like a performance issue in macOS implementation.\r\n\r\nWhen using `javafx.scene.robot.Robot` time on Win10 and MacOS is 30ms.\r\n```\r\npackage JavaRobotTest;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class sample {\r\n    public static void main(String[] args) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (Integer i = 0; i &lt; 100; i++) {\r\n            sb.append(&#39;a&#39;);\r\n        }\r\n\r\n        typeText(sb.toString());\r\n    }\r\n\r\n    private static void typeText(String text) {\r\n        try {\r\n            // Win10 ~140ms, macOS ~11000ms\r\n            Robot robot = new Robot();\r\n            new Thread(() -&gt; {\r\n                // Commenting this line result in Win10 ~15ms, macOS ~11000ms\r\n                robot.setAutoWaitForIdle(true);\r\n                typeTextRobot(robot, text);\r\n            }).start();\r\n        } catch (AWTException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void typeTextRobot(Robot robot, String text) {\r\n        long start = System.currentTimeMillis();\r\n        for (char c : text.toCharArray()) {\r\n            Integer key = KeyEvent.VK_A;\r\n            try {\r\n                robot.keyPress(key);\r\n                //robot.delay(30);\r\n                robot.keyRelease(key);\r\n                //robot.delay(30);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;DURA ms: &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n}\r\n```","title":"java.awt.Robot keyPress slow under macOS","body":"<p>Performance for keyboard simulation under macOS (Java SE 15.0.2) differs heavily from Win10. Typing '100 a' takes on Win10 (openJDK 9.0.4, 14.0.2, 15.0.2) 140ms, Ubuntu VM (openJDK 11.0.9.1) 8200ms and on macOS 11000ms. Results are same on macOS Catalina VM and macOS BigSur on MacBook Pro 2020. Ubuntu test takes 2300ms, if just set focus to text editor direct after start program from console (no effect on macOS).</p>\n<p>Inserting <code>robot.delay(30)</code> after each keyPress/keyRelease didn't achieved performance gains on macOS. Does anyone can confirm this behavior? It seems like a performance issue in macOS implementation.</p>\n<p>When using <code>javafx.scene.robot.Robot</code> time on Win10 and MacOS is 30ms.</p>\n<pre><code>package JavaRobotTest;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\n\npublic class sample {\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder();\n        for (Integer i = 0; i &lt; 100; i++) {\n            sb.append('a');\n        }\n\n        typeText(sb.toString());\n    }\n\n    private static void typeText(String text) {\n        try {\n            // Win10 ~140ms, macOS ~11000ms\n            Robot robot = new Robot();\n            new Thread(() -&gt; {\n                // Commenting this line result in Win10 ~15ms, macOS ~11000ms\n                robot.setAutoWaitForIdle(true);\n                typeTextRobot(robot, text);\n            }).start();\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void typeTextRobot(Robot robot, String text) {\n        long start = System.currentTimeMillis();\n        for (char c : text.toCharArray()) {\n            Integer key = KeyEvent.VK_A;\n            try {\n                robot.keyPress(key);\n                //robot.delay(30);\n                robot.keyRelease(key);\n                //robot.delay(30);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        System.out.println(&quot;DURA ms: &quot; + (System.currentTimeMillis() - start));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jackson-databind","fasterxml"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1446840369,"post_id":33574801,"comment_id":54927606,"body_markdown":"Can&#39;t reproduce. Try to remove your m2 repo and redownload everything from scratch.","body":"Can&#39;t reproduce. Try to remove your m2 repo and redownload everything from scratch."},{"owner":{"account_id":7095654,"reputation":159,"user_id":5429340,"display_name":"D25"},"score":0,"creation_date":1446840651,"post_id":33574801,"comment_id":54927770,"body_markdown":"I&#39;m assuming that repo is in a pom file somewhere? Also I&#39;m using maven3 not sure if that would cause the issue? Thanks","body":"I&#39;m assuming that repo is in a pom file somewhere? Also I&#39;m using maven3 not sure if that would cause the issue? Thanks"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1446840937,"post_id":33574801,"comment_id":54927919,"body_markdown":"Your m2 repo is where Maven stores every installed dependencies. It is typically located in `~/m2/repository`. What I was suggesting is to delete this whole `repository` directory and relaunch Maven with `mvn clean install`. It will redownload every dependency and install them again, making sure there is no corruption somewhere.","body":"Your m2 repo is where Maven stores every installed dependencies. It is typically located in <code>~&#47;m2&#47;repository</code>. What I was suggesting is to delete this whole <code>repository</code> directory and relaunch Maven with <code>mvn clean install</code>. It will redownload every dependency and install them again, making sure there is no corruption somewhere."},{"owner":{"account_id":7095654,"reputation":159,"user_id":5429340,"display_name":"D25"},"score":0,"creation_date":1446841358,"post_id":33574801,"comment_id":54928150,"body_markdown":"Ok now when I do mvn clean install i get &quot;package org.apache.commons.codec.binary does not exist&quot; from the command line and the 2 errors above only come up in itellij IDEA. Do you think those are related?","body":"Ok now when I do mvn clean install i get &quot;package org.apache.commons.codec.binary does not exist&quot; from the command line and the 2 errors above only come up in itellij IDEA. Do you think those are related?"},{"owner":{"account_id":7095654,"reputation":159,"user_id":5429340,"display_name":"D25"},"score":1,"creation_date":1446841726,"post_id":33574801,"comment_id":54928327,"body_markdown":"Build success on command line. Errors still showing up in IDEA.","body":"Build success on command line. Errors still showing up in IDEA."}],"answers":[{"tags":[],"owner":{"account_id":8104643,"reputation":433,"user_id":6106620,"accept_rate":38,"display_name":"Sequoya"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1482564178,"creation_date":1482564178,"answer_id":41311267,"question_id":33574801,"body_markdown":"Best way is to use: http://mvnrepository.com/\r\n\r\nFind there and enjoy!","title":"Issues finding com.fasterxml.jackson.core in IntelliJ Idea","body":"<p>Best way is to use: <a href=\"http://mvnrepository.com/\" rel=\"nofollow noreferrer\">http://mvnrepository.com/</a></p>\n\n<p>Find there and enjoy!</p>\n"}],"owner":{"account_id":7095654,"reputation":159,"user_id":5429340,"display_name":"D25"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15584,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1678635937,"creation_date":1446840146,"question_id":33574801,"body_markdown":"I pulled down an 2 years old project and I&#39;m having trouble building the project. I&#39;m getting the following errors:\r\n\r\n    Error:(57, 29) java: cannot access com.fasterxml.jackson.core.Versioned\r\n      class file for com.fasterxml.jackson.core.Versioned not found\r\n\r\nand \r\n\r\n    Error:(58, 29) java: cannot access com.fasterxml.jackson.core.ObjectCodec\r\n      class file for com.fasterxml.jackson.core.ObjectCodec not found\r\n\r\nThis is what I have for dependencies in pom.xml:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-datatype-guava&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nThis is where the issue appears to be happening:\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n    \tObjectMapper objectMapper = new ObjectMapper();\r\n    \tobjectMapper.registerModule(new GuavaModule());\r\n    \tobjectMapper.registerModule(new JodaModule());\r\n    \treturn objectMapper;\r\n    }\r\n\r\n\r\nI&#39;ve looked around and tried different versions with no luck.  \r\nAm I doing this wrong?  \r\n\r\nThis worked once upon a time. Any help would be appreciated.\r\n","title":"Issues finding com.fasterxml.jackson.core in IntelliJ Idea","body":"<p>I pulled down an 2 years old project and I'm having trouble building the project. I'm getting the following errors:</p>\n<pre><code>Error:(57, 29) java: cannot access com.fasterxml.jackson.core.Versioned\n  class file for com.fasterxml.jackson.core.Versioned not found\n</code></pre>\n<p>and</p>\n<pre><code>Error:(58, 29) java: cannot access com.fasterxml.jackson.core.ObjectCodec\n  class file for com.fasterxml.jackson.core.ObjectCodec not found\n</code></pre>\n<p>This is what I have for dependencies in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-guava&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is where the issue appears to be happening:</p>\n<pre><code>@Bean\npublic ObjectMapper objectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new GuavaModule());\n    objectMapper.registerModule(new JodaModule());\n    return objectMapper;\n}\n</code></pre>\n<p>I've looked around and tried different versions with no luck.<br />\nAm I doing this wrong?</p>\n<p>This worked once upon a time. Any help would be appreciated.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1678493021,"post_id":75701941,"comment_id":133549485,"body_markdown":"This seems more like an issue with the UI design. You should only let the user choose one option or the other, not both at the same time. Let one action finish before letting the user start another one. As an aside, please never do `if (cond == true)` in Java; just do `if (cond)`.","body":"This seems more like an issue with the UI design. You should only let the user choose one option or the other, not both at the same time. Let one action finish before letting the user start another one. As an aside, please never do <code>if (cond == true)</code> in Java; just do <code>if (cond)</code>."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1678494002,"post_id":75701941,"comment_id":133549577,"body_markdown":"The user finishes the first click and could click a second time, meanwhile the first writing to the file haven&#39;t finished for the second to be properly done: that&#39;s the issue, if the first and the second clicks are very fast, the writing of the second line doesn&#39;t occur","body":"The user finishes the first click and could click a second time, meanwhile the first writing to the file haven&#39;t finished for the second to be properly done: that&#39;s the issue, if the first and the second clicks are very fast, the writing of the second line doesn&#39;t occur"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678494955,"post_id":75701941,"comment_id":133549690,"body_markdown":"Please show a complete, minimal example which reproduces the issue.","body":"Please show a complete, minimal example which reproduces the issue."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678497264,"post_id":75701941,"comment_id":133549928,"body_markdown":"One option is to have one method that writes to the file.  The method can be called from as many places as necessary.","body":"One option is to have one method that writes to the file.  The method can be called from as many places as necessary."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1678500094,"post_id":75701941,"comment_id":133550209,"body_markdown":"@Sam That&#39;s my point. Why do you let the user click multiple times before the task has finished? You could disable the button (or whatever) on the first click, and only reenable it when the task is finished. Or, if disabling-and-reenabling doesn&#39;t work for you, simply don&#39;t launch a second task if the first one hasn&#39;t finished. Or queue the tasks so they happen one after the other.","body":"@Sam That&#39;s my point. Why do you let the user click multiple times before the task has finished? You could disable the button (or whatever) on the first click, and only reenable it when the task is finished. Or, if disabling-and-reenabling doesn&#39;t work for you, simply don&#39;t launch a second task if the first one hasn&#39;t finished. Or queue the tasks so they happen one after the other."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1678525319,"post_id":75701941,"comment_id":133552339,"body_markdown":"OK so how to queue the task of appending to a file in Java?","body":"OK so how to queue the task of appending to a file in Java?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678562772,"post_id":75701941,"comment_id":133559426,"body_markdown":"Well, if you have a UI then I assume you&#39;re offloading this work to a background thread. You could just use an `ExecutorService` with a single thread. If there&#39;s only one thread, then it can only execute one task at a time. But if this doesn&#39;t help solve your problem, then likely I&#39;m misunderstanding something, and it would be best to [edit] your question to provide a [mre].","body":"Well, if you have a UI then I assume you&#39;re offloading this work to a background thread. You could just use an <code>ExecutorService</code> with a single thread. If there&#39;s only one thread, then it can only execute one task at a time. But if this doesn&#39;t help solve your problem, then likely I&#39;m misunderstanding something, and it would be best to <a href=\"https://stackoverflow.com/posts/75701941/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1678562839,"post_id":75701941,"comment_id":133559435,"body_markdown":"could you show us an example of ExecutorService in this case?","body":"could you show us an example of ExecutorService in this case?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678563674,"post_id":75701941,"comment_id":133559555,"body_markdown":"[Here&#39;s a tutorial on `ExecutorService`](https://jenkov.com/tutorials/java-util-concurrent/executorservice.html) (and [another](https://www.baeldung.com/java-executor-service-tutorial) and [another](https://www.javatpoint.com/java-executorservice)). Create one with a single thread (see `Executors` class), then just `submit` your tasks to it. The thread pool maintains a queue of tasks. And, again, if you create one with a single thread then only one task can be executed at a time. Make sure to `shutdown` the service when done with it, especially if you use non-daemon platform threads","body":"<a href=\"https://jenkov.com/tutorials/java-util-concurrent/executorservice.html\" rel=\"nofollow noreferrer\">Here&#39;s a tutorial on <code>ExecutorService</code></a> (and <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">another</a> and <a href=\"https://www.javatpoint.com/java-executorservice\" rel=\"nofollow noreferrer\">another</a>). Create one with a single thread (see <code>Executors</code> class), then just <code>submit</code> your tasks to it. The thread pool maintains a queue of tasks. And, again, if you create one with a single thread then only one task can be executed at a time. Make sure to <code>shutdown</code> the service when done with it, especially if you use non-daemon platform threads"},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1678567305,"post_id":75701941,"comment_id":133560065,"body_markdown":"Then i will have to submit to a single threaded ExecutorService each writing task (in the if, else), and it will take care of ordering the executions of these (the file writings), right?","body":"Then i will have to submit to a single threaded ExecutorService each writing task (in the if, else), and it will take care of ordering the executions of these (the file writings), right?"}],"answers":[{"tags":[],"owner":{"account_id":9278441,"reputation":18,"user_id":6890382,"display_name":"Pali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678635827,"creation_date":1678513577,"answer_id":75703048,"question_id":75701941,"body_markdown":"the PrintWriter class does not throw any input/output exception. Instead, we need to use the checkError() method to find any error in it.\r\n\r\nhave you tried to read the checkError() in this case to see if you have something? if yes, in the else you can simply loop retrying until the checkError() is true. ","title":"simultaneous writing to a file, in new lines","body":"<p>the PrintWriter class does not throw any input/output exception. Instead, we need to use the checkError() method to find any error in it.</p>\n<p>have you tried to read the checkError() in this case to see if you have something? if yes, in the else you can simply loop retrying until the checkError() is true.</p>\n"}],"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75703048,"answer_count":1,"score":0,"last_activity_date":1678635827,"creation_date":1678492314,"question_id":75701941,"body_markdown":"I am writing a line in a file if a certain condition is satisfied like this:\r\n\r\n    if (cond) {\r\n    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(PATHTOFILE)));\r\n    ...\r\n\r\n but then also write to the same file (in a new line) if a certain other condition is satisfied like so :\r\n\r\n    ...\r\n    else {\r\n    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(PATHTOFILE, true)));\r\n    ...\r\nNow the problem is that when both of the conditions are quasi-simultaneously satisfied (two rapid clicks from the user, one leads to the first `if` and the second to the `else`), the else won&#39;t be executed and the second line won&#39;t be written to the file.\r\n\r\nMy question is how to enable the appending to a file without closing and reopening it through a FileWriter as I do.","title":"simultaneous writing to a file, in new lines","body":"<p>I am writing a line in a file if a certain condition is satisfied like this:</p>\n<pre><code>if (cond) {\nPrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(PATHTOFILE)));\n...\n</code></pre>\n<p>but then also write to the same file (in a new line) if a certain other condition is satisfied like so :</p>\n<pre><code>...\nelse {\nPrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(PATHTOFILE, true)));\n...\n</code></pre>\n<p>Now the problem is that when both of the conditions are quasi-simultaneously satisfied (two rapid clicks from the user, one leads to the first <code>if</code> and the second to the <code>else</code>), the else won't be executed and the second line won't be written to the file.</p>\n<p>My question is how to enable the appending to a file without closing and reopening it through a FileWriter as I do.</p>\n"},{"tags":["java","netbeans","deployment","packaging"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1592795943,"post_id":62506880,"comment_id":110542303,"body_markdown":"I don&#39;t recall Netbeans having the capability (beyond JavaFX I think, but I&#39;ve never used it). You can use any number of third party tools which perform these actions, most of at least Ant intergration","body":"I don&#39;t recall Netbeans having the capability (beyond JavaFX I think, but I&#39;ve never used it). You can use any number of third party tools which perform these actions, most of at least Ant intergration"}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592798931,"creation_date":1592798931,"answer_id":62507292,"question_id":62506880,"body_markdown":"Java applications aren&#39;t built as exe files but as jar files. The component that makes them executable is the Main-class attribute defined in the META-INF file of the jar.\r\n\r\nIn NetBeans to turn your program into an executable jar file\r\n\r\n1)Right Click on your project-&gt;Properties-&gt;Select Run Tab on the left corner of your screen. You will see an text box saying main class, select the drop down arrow to browse through all main classes available in your project (Yes NetBeans can have multiple main classes but will run only one)\r\n\r\n2)Optional Select the deployment tab and select compress jar to save space\r\n\r\n3)Right Click on project-&gt;Clean and build\r\n\r\nThen go to your projects folder on your file explorer you will see an dist(distribution)  folder and there you will see your built jar file named  (Project Name).jar simply double click it and the java jre will execute it\r\n\r\nSome people have a problem running the jar file with double clicking in that case either from cmd or from an bat file type this script\r\n\r\n    set path=&lt;path to your java.exe in your JDK/JRE bin folder&gt;\r\n\r\n    cd (Path to where your jar file is located)\r\n\r\n    java -jar &lt;Your Jar file&gt;.jar","title":"How can I Export my Java Project in Netbeans in Executable(.exe)?","body":"<p>Java applications aren't built as exe files but as jar files. The component that makes them executable is the Main-class attribute defined in the META-INF file of the jar.</p>\n<p>In NetBeans to turn your program into an executable jar file</p>\n<p>1)Right Click on your project-&gt;Properties-&gt;Select Run Tab on the left corner of your screen. You will see an text box saying main class, select the drop down arrow to browse through all main classes available in your project (Yes NetBeans can have multiple main classes but will run only one)</p>\n<p>2)Optional Select the deployment tab and select compress jar to save space</p>\n<p>3)Right Click on project-&gt;Clean and build</p>\n<p>Then go to your projects folder on your file explorer you will see an dist(distribution)  folder and there you will see your built jar file named  (Project Name).jar simply double click it and the java jre will execute it</p>\n<p>Some people have a problem running the jar file with double clicking in that case either from cmd or from an bat file type this script</p>\n<pre><code>set path=&lt;path to your java.exe in your JDK/JRE bin folder&gt;\n\ncd (Path to where your jar file is located)\n\njava -jar &lt;Your Jar file&gt;.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19328811,"reputation":11,"user_id":14130863,"display_name":"Peyman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627832334,"creation_date":1627832334,"answer_id":68611944,"question_id":62506880,"body_markdown":"You can use Files&gt;Export&gt;Browse to Export in netbeans.","title":"How can I Export my Java Project in Netbeans in Executable(.exe)?","body":"<p>You can use Files&gt;Export&gt;Browse to Export in netbeans.</p>\n"},{"tags":[],"owner":{"account_id":11499826,"reputation":29,"user_id":13539669,"display_name":"Sijan Bhandari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678635716,"creation_date":1661072337,"answer_id":73432925,"question_id":62506880,"body_markdown":" \r\nThanks to everyone who wanted to help me.\r\n\r\nI got the solution myself and wanted to help new developers:\r\n\r\n\r\n**For JDK 14+ with modern IDEs:**\r\n\r\n&gt; 1. Install JDK 14 or later on your system, if it&#39;s not already installed.\r\n&gt; \r\n&gt; 2. Open a terminal or command prompt and navigate to the directory\r\n&gt; containing your Java application and its dependencies.\r\n&gt; \r\n&gt; 3. Build your application using a build tool such as Maven or Gradle.\r\n&gt; Make sure to specify that you want to create a standalone executable\r\n&gt; JAR file.\r\n&gt; \r\n&gt; 4. Once your application is built, navigate to the directory containing\r\n&gt; the JAR file.\r\n&gt; \r\n&gt; 5. Run the jpackage command with the appropriate options to create a\r\n&gt; native installer for your application. Here is an example command to\r\n&gt; create a Windows MSI installer:\r\n\r\n***Example:*** \r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type msi\r\n\r\n&gt; This command assumes that your application JAR file is named &quot;myapp.jar&quot; and that you want to create a Windows MSI installer with the name &quot;MyApp&quot;.\r\n\r\n**Here are some more examples and options for using jpackage to create native installers:**\r\n&gt; **Specify an icon for the installer:**\r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type msi --icon myicon.ico\r\n\r\n&gt;**Specify an installer splash screen:**\r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type pkg --splash splash.png\r\n\r\n&gt;**Include a custom JVM option:**\r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type exe --java-options &quot;-Xmx2g&quot;\r\n\r\n&gt;**Set the installation directory**\r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type dmg --app-image myapp.dmg --app-image-dir /Applications\r\n\r\n&gt;**Create a ZIP archive instead of an installer**\r\n\r\n    jpackage --input . --name MyApp --main-jar myapp.jar --type zip\r\n\r\n**For JDK 8 with NetBeans 8.2: (old but works)**\r\n&gt;  1. Start an Ant based standard project\r\n&gt;  2. Enable native packaging inside Properties-&gt;Build-&gt;Deployment\r\n&gt;  3. Install [Inno setup tool][1] for Exe, [Wix Toolset][2] for Msi (similar package manager for other OS)\r\n&gt;  4. add bin paths of above tools as system environment variables\r\n&gt;  5. right click on project and select package as-&gt;Exe or MSI\r\n\r\n[Screenshot][3]\r\n\r\n  [1]: https://jrsoftware.org/isdl.php\r\n  [2]: https://wixtoolset.org\r\n  [3]: https://i.stack.imgur.com/rIcXE.png","title":"How can I Export my Java Project in Netbeans in Executable(.exe)?","body":"<p>Thanks to everyone who wanted to help me.</p>\n<p>I got the solution myself and wanted to help new developers:</p>\n<p><strong>For JDK 14+ with modern IDEs:</strong></p>\n<blockquote>\n<ol>\n<li><p>Install JDK 14 or later on your system, if it's not already installed.</p>\n</li>\n<li><p>Open a terminal or command prompt and navigate to the directory\ncontaining your Java application and its dependencies.</p>\n</li>\n<li><p>Build your application using a build tool such as Maven or Gradle.\nMake sure to specify that you want to create a standalone executable\nJAR file.</p>\n</li>\n<li><p>Once your application is built, navigate to the directory containing\nthe JAR file.</p>\n</li>\n<li><p>Run the jpackage command with the appropriate options to create a\nnative installer for your application. Here is an example command to\ncreate a Windows MSI installer:</p>\n</li>\n</ol>\n</blockquote>\n<p><em><strong>Example:</strong></em></p>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type msi\n</code></pre>\n<blockquote>\n<p>This command assumes that your application JAR file is named &quot;myapp.jar&quot; and that you want to create a Windows MSI installer with the name &quot;MyApp&quot;.</p>\n</blockquote>\n<p><strong>Here are some more examples and options for using jpackage to create native installers:</strong></p>\n<blockquote>\n<p><strong>Specify an icon for the installer:</strong></p>\n</blockquote>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type msi --icon myicon.ico\n</code></pre>\n<blockquote>\n<p><strong>Specify an installer splash screen:</strong></p>\n</blockquote>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type pkg --splash splash.png\n</code></pre>\n<blockquote>\n<p><strong>Include a custom JVM option:</strong></p>\n</blockquote>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type exe --java-options &quot;-Xmx2g&quot;\n</code></pre>\n<blockquote>\n<p><strong>Set the installation directory</strong></p>\n</blockquote>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type dmg --app-image myapp.dmg --app-image-dir /Applications\n</code></pre>\n<blockquote>\n<p><strong>Create a ZIP archive instead of an installer</strong></p>\n</blockquote>\n<pre><code>jpackage --input . --name MyApp --main-jar myapp.jar --type zip\n</code></pre>\n<p><strong>For JDK 8 with NetBeans 8.2: (old but works)</strong></p>\n<blockquote>\n<ol>\n<li>Start an Ant based standard project</li>\n<li>Enable native packaging inside Properties-&gt;Build-&gt;Deployment</li>\n<li>Install <a href=\"https://jrsoftware.org/isdl.php\" rel=\"nofollow noreferrer\">Inno setup tool</a> for Exe, <a href=\"https://wixtoolset.org\" rel=\"nofollow noreferrer\">Wix Toolset</a> for Msi (similar package manager for other OS)</li>\n<li>add bin paths of above tools as system environment variables</li>\n<li>right click on project and select package as-&gt;Exe or MSI</li>\n</ol>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/rIcXE.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"}],"owner":{"account_id":11499826,"reputation":29,"user_id":13539669,"display_name":"Sijan Bhandari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73432925,"answer_count":3,"score":1,"last_activity_date":1678635716,"creation_date":1592795300,"question_id":62506880,"body_markdown":"I have completed my project but unable to export in executable form. I&#39;m using Netbeans 12.","title":"How can I Export my Java Project in Netbeans in Executable(.exe)?","body":"<p>I have completed my project but unable to export in executable form. I'm using Netbeans 12.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":2,"creation_date":1338671713,"post_id":10865985,"comment_id":14156392,"body_markdown":"When you tried it, what happened?","body":"When you tried it, what happened?"},{"owner":{"account_id":897197,"reputation":19639,"user_id":934191,"accept_rate":91,"display_name":"varunl"},"score":0,"creation_date":1338671921,"post_id":10865985,"comment_id":14156430,"body_markdown":"The pattern matches fine. What I don&#39;t understand is how to replace.","body":"The pattern matches fine. What I don&#39;t understand is how to replace."}],"answers":[{"tags":[],"owner":{"account_id":1281557,"reputation":13320,"user_id":1235565,"accept_rate":62,"display_name":"Jirka Hanika"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1338672065,"creation_date":1338672065,"answer_id":10866033,"question_id":10865985,"body_markdown":"Like this:\r\n\r\n    str = str.replaceAll(yourRegex, &quot;&lt;h1&gt;$1&lt;/h1&gt;&quot;);\r\n\r\nThe `$1` refers to the text captured by group #1 in your regex.","title":"Replace string with part of the matching regex","body":"<p>Like this:</p>\n\n<pre><code>str = str.replaceAll(yourRegex, \"&lt;h1&gt;$1&lt;/h1&gt;\");\n</code></pre>\n\n<p>The <code>$1</code> refers to the text captured by group #1 in your regex.</p>\n"},{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678635570,"creation_date":1338672119,"answer_id":10866043,"question_id":10865985,"body_markdown":"Simply use a backreference for that.\r\n\r\n```java\r\n&quot;This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;&quot;\r\n  .replaceAll(&quot;[.&gt;, ](is)[.&lt;, ]&quot;, &quot;&lt;h1&gt;$2&lt;/h1&gt;&quot;);\r\n``` \r\n\r\nshould do.","title":"Replace string with part of the matching regex","body":"<p>Simply use a backreference for that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;&quot;\n  .replaceAll(&quot;[.&gt;, ](is)[.&lt;, ]&quot;, &quot;&lt;h1&gt;$2&lt;/h1&gt;&quot;);\n</code></pre>\n<p>should do.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1338672413,"creation_date":1338672413,"answer_id":10866082,"question_id":10865985,"body_markdown":"The `Matcher` class is commonly used in conjunction with `Pattern`.  Use the `Matcher.replaceAll()` method to replace all matches in the string\r\n\r\n    String str = &quot;This is a great day...&quot;;\r\n    Pattern p = Pattern.compile(&quot;\\\\bis\\\\b&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(str);\r\n    String result = m.replaceAll(&quot;&lt;h1&gt;is&lt;/h1&gt;&quot;);\r\n\r\n**Note:** Using the `\\b` regex command will match on a word boundary (like whitespace).  This is helpful to use in order to ensure that only the word &quot;is&quot; is matched and not words that contain the letters &quot;i&quot; and &quot;s&quot; (like &quot;island&quot;).","title":"Replace string with part of the matching regex","body":"<p>The <code>Matcher</code> class is commonly used in conjunction with <code>Pattern</code>.  Use the <code>Matcher.replaceAll()</code> method to replace all matches in the string</p>\n\n<pre><code>String str = \"This is a great day...\";\nPattern p = Pattern.compile(\"\\\\bis\\\\b\", Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(str);\nString result = m.replaceAll(\"&lt;h1&gt;is&lt;/h1&gt;\");\n</code></pre>\n\n<p><strong>Note:</strong> Using the <code>\\b</code> regex command will match on a word boundary (like whitespace).  This is helpful to use in order to ensure that only the word \"is\" is matched and not words that contain the letters \"i\" and \"s\" (like \"island\").</p>\n"},{"tags":[],"owner":{"account_id":212510,"reputation":4516,"user_id":465368,"accept_rate":75,"display_name":"Sean Fujiwara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338672479,"creation_date":1338672479,"answer_id":10866086,"question_id":10865985,"body_markdown":"Michael&#39;s answer is better, but if you happen to specifically only want `[.&gt;, ]` and `[.&lt;, ]` as boundaries, you can do it like this:\r\n\r\n\r\n\tString input = &quot;This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;&quot;;\r\n\tPattern p = Pattern.compile(&quot;(?&lt;=[.&gt;, ])(is)(?=[.&lt;, ])&quot;, Pattern.CASE_INSENSITIVE);\r\n\tMatcher m = p.matcher(input);\r\n\tString result = m.replaceAll(&quot;&lt;h1&gt;$1&lt;/h1&gt;&quot;);\r\n","title":"Replace string with part of the matching regex","body":"<p>Michael's answer is better, but if you happen to specifically only want <code>[.&gt;, ]</code> and <code>[.&lt;, ]</code> as boundaries, you can do it like this:</p>\n\n<pre><code>String input = \"This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;\";\nPattern p = Pattern.compile(\"(?&lt;=[.&gt;, ])(is)(?=[.&lt;, ])\", Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(input);\nString result = m.replaceAll(\"&lt;h1&gt;$1&lt;/h1&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8273683,"reputation":494,"user_id":6220622,"display_name":"nichijou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503758835,"creation_date":1503758835,"answer_id":45896626,"question_id":10865985,"body_markdown":"    yourStr.replaceAll(&quot;(?i)([.&gt;, ])(is)([.&lt;, ])&quot;,&quot;$1&lt;h1&gt;$2&lt;/h1&gt;$3&quot;)\r\n`(?i)`to indicate ignoring case; wrap everything your want to reuse with brackets, reuse them with $1 $2 and $3, concatenate them into what you want.","title":"Replace string with part of the matching regex","body":"<pre><code>yourStr.replaceAll(\"(?i)([.&gt;, ])(is)([.&lt;, ])\",\"$1&lt;h1&gt;$2&lt;/h1&gt;$3\")\n</code></pre>\n\n<p><code>(?i)</code>to indicate ignoring case; wrap everything your want to reuse with brackets, reuse them with $1 $2 and $3, concatenate them into what you want.</p>\n"},{"tags":[],"owner":{"account_id":3003966,"reputation":21,"user_id":2548855,"display_name":"Luckie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678635529,"creation_date":1519982041,"answer_id":49065983,"question_id":10865985,"body_markdown":"It may be a late addition, but if anyone is looking for this like\r\nSearching for `thing` and also he needs `Something` too to be taken as result\r\n\r\n```java\r\nPattern p = Pattern.compile(&quot;([^ ]*)is([^ \\\\.]*)&quot;);\r\nString result = m.replaceAll(&quot;&lt;\\h1&gt;$1is$2&lt;\\/h1&gt;&quot;);\r\n```\r\n\r\nwill result `Something` too","title":"Replace string with part of the matching regex","body":"<p>It may be a late addition, but if anyone is looking for this like\nSearching for <code>thing</code> and also he needs <code>Something</code> too to be taken as result</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;([^ ]*)is([^ \\\\.]*)&quot;);\nString result = m.replaceAll(&quot;&lt;\\h1&gt;$1is$2&lt;\\/h1&gt;&quot;);\n</code></pre>\n<p>will result <code>Something</code> too</p>\n"}],"owner":{"account_id":897197,"reputation":19639,"user_id":934191,"accept_rate":91,"display_name":"varunl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28216,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10866082,"answer_count":6,"score":14,"last_activity_date":1678635570,"creation_date":1338671536,"question_id":10865985,"body_markdown":"I have a long string. I want to replace all the matches with part of the matching regex (group).\r\n\r\nFor example:\r\n\r\n    String = &quot;This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;&quot;.\r\n\r\nI want to replace all the words `&quot;is&quot;` by, let&#39;s say, `&quot;&lt;h1&gt;is&lt;/h1&gt;&quot;`. The case should remain the same as original. So the final string I want is:\r\n\r\n    This &lt;h1&gt;is&lt;/h1&gt; a great day, &lt;h1&gt;is&lt;/h1&gt; it not? If there &lt;h1&gt;is&lt;/h1&gt; something, \r\n    THIS &lt;h1&gt;IS&lt;/h1&gt; it. &lt;b&gt;&lt;h1&gt;is&lt;/h1&gt;&lt;/b&gt;.\r\n\r\nThe regex I was trying:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[.&gt;, ](is)[.&lt;, ]&quot;, Pattern.CASE_INSENSITIVE);\r\n","title":"Replace string with part of the matching regex","body":"<p>I have a long string. I want to replace all the matches with part of the matching regex (group).</p>\n\n<p>For example:</p>\n\n<pre><code>String = \"This is a great day, is it not? If there is something, THIS IS it. &lt;b&gt;is&lt;/b&gt;\".\n</code></pre>\n\n<p>I want to replace all the words <code>\"is\"</code> by, let's say, <code>\"&lt;h1&gt;is&lt;/h1&gt;\"</code>. The case should remain the same as original. So the final string I want is:</p>\n\n<pre><code>This &lt;h1&gt;is&lt;/h1&gt; a great day, &lt;h1&gt;is&lt;/h1&gt; it not? If there &lt;h1&gt;is&lt;/h1&gt; something, \nTHIS &lt;h1&gt;IS&lt;/h1&gt; it. &lt;b&gt;&lt;h1&gt;is&lt;/h1&gt;&lt;/b&gt;.\n</code></pre>\n\n<p>The regex I was trying:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[.&gt;, ](is)[.&lt;, ]\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1678619461,"post_id":75710178,"comment_id":133565289,"body_markdown":"I guess the `EntityManagerFactory` bean is being created in another `@Configuration` class. Try using `@DataJpaTest` annotation instead","body":"I guess the <code>EntityManagerFactory</code> bean is being created in another <code>@Configuration</code> class. Try using <code>@DataJpaTest</code> annotation instead"}],"answers":[{"tags":[],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678635190,"creation_date":1678635190,"answer_id":75714230,"question_id":75710178,"body_markdown":"So, I found answer with some more trial and error, but the response from Semyon gave me some more direction.\r\n\r\nSo, the pom.xml has this originally:\r\n\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand I changed it to just:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;\r\n\r\nand this solved the problem with the entityManagerFactory issue, that got resolved.   I also changed the test header to:\r\n\r\n   @DataJpaTest\r\n   @AutoConfigureTestDatabase(replace = \r\n   AutoConfigureTestDatabase.Replace.NONE)\r\n   public class BookDaoTest {\r\n\r\nThe @DataJpaTest annotation does exactly what I needed to do, which is just test the database as an integration test.  Yes, we really insert, update, and delete, but this annotation rolls back at the end of every test which is what we want.\r\n\r\nSince I am using a real MySQL database running locally on my laptop, then I had to add the annotation: \r\n@AutoConfigureTestDatabase\r\nand it seems the parameter:  \r\nreplace = AutoConfigureTestDatabase.Replace.NONE\r\nmeans to not replace the database with an embedded database.\r\n\r\nI think this is going to solve the issues for me.","title":"Spring Boot 3 Data JPA EntityManagerFactory can&#39;t be found in Unit Test","body":"<p>So, I found answer with some more trial and error, but the response from Semyon gave me some more direction.</p>\n<p>So, the pom.xml has this originally:</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and I changed it to just:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>and this solved the problem with the entityManagerFactory issue, that got resolved.   I also changed the test header to:</p>\n<p>@DataJpaTest\n@AutoConfigureTestDatabase(replace =\nAutoConfigureTestDatabase.Replace.NONE)\npublic class BookDaoTest {</p>\n<p>The @DataJpaTest annotation does exactly what I needed to do, which is just test the database as an integration test.  Yes, we really insert, update, and delete, but this annotation rolls back at the end of every test which is what we want.</p>\n<p>Since I am using a real MySQL database running locally on my laptop, then I had to add the annotation:\n@AutoConfigureTestDatabase\nand it seems the parameter:<br />\nreplace = AutoConfigureTestDatabase.Replace.NONE\nmeans to not replace the database with an embedded database.</p>\n<p>I think this is going to solve the issues for me.</p>\n"}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75714230,"answer_count":1,"score":1,"last_activity_date":1678635190,"creation_date":1678576881,"question_id":75710178,"body_markdown":"I had an old Spring Application for a personal project and I converted it to Spring Boot later and still kept a lot of legacy XML files which worked.   I decided to archive this project on GitHub and create a very NEW very normal Spring Boot 3 application with Spring Data JPA.\r\nI created this application with the Spring Starter initializer as one does, and yep, I did include Spring Data JPA.  The idea eventually is to put this in a Docker Container as a Microservice and deploy to my Amazon ECR Service.\r\n\r\nI have been following the documentation for Spring Data JPA, and I think the problem is strictly in my unit test.   The problem is that the unit test cannot find my DAO or Repository.   So, let me start by adding the files that I have so far:\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/library_db?serverTimezone=UTC\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=user\r\n    spring.datasource.password=\r\n    spring.jpa.show-sql=true\r\n\r\n    @SpringBootApplication\r\n    public class LibraryApplication  {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LibraryApplication.class, args);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.tomholmes.products.library&quot;)\r\n    @EntityScan(&quot;com.tomholmes.products.library.model&quot;)\r\n    @EnableJpaRepositories(basePackages = &quot;com.tomholmes.products.library.repository&quot;)\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration  {\r\n    }\r\n\r\n    public interface BookDao extends JpaRepository&lt;BookEntity, Long&gt; {\r\n    }\r\n\r\n    @Transactional\r\n    @SpringBootTest(classes = { LibraryApplication.class, DatabaseConfiguration.class })\r\n    public class BookDaoTest  {\r\n        @Autowired\r\n        private BookDao bookDao;\r\n\r\n        @Test\r\n        public void testFindById() {\r\n            long bookId = 2;\r\n            BookEntity book = bookDao.findById(bookId).orElse(null);\r\n            assertNotNull(book);\r\n            assertEquals(bookId, book.getBookId());\r\n        }\r\n    }\r\n\r\nThis test and others like it is to ensure that the basic database configuration in Spring Boot 3 with Spring Data JPA is configured correctly.  I think the problem I am having ultimately is in the test itself.   Most of the other StackOverflow posts I have seen and others are still focused on Spring Boot 2 and not 3, even though they should be very similar.\r\n\r\nThe problem I am having in my unit test is this error message:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n    No bean named &#39;entityManagerFactory&#39; available\r\n\r\nFrom all the research I did today, the entityManagerFactory is defined in the JPARepository, so it shouldn&#39;t have to be specifically defined.   I just don&#39;t know why this error is even coming up.\r\n\r\nI know I didn&#39;t add the pom.xml or the entity code itself, but if you need those I can provide them.\r\n","title":"Spring Boot 3 Data JPA EntityManagerFactory can&#39;t be found in Unit Test","body":"<p>I had an old Spring Application for a personal project and I converted it to Spring Boot later and still kept a lot of legacy XML files which worked.   I decided to archive this project on GitHub and create a very NEW very normal Spring Boot 3 application with Spring Data JPA.\nI created this application with the Spring Starter initializer as one does, and yep, I did include Spring Data JPA.  The idea eventually is to put this in a Docker Container as a Microservice and deploy to my Amazon ECR Service.</p>\n<p>I have been following the documentation for Spring Data JPA, and I think the problem is strictly in my unit test.   The problem is that the unit test cannot find my DAO or Repository.   So, let me start by adding the files that I have so far:</p>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/library_db?serverTimezone=UTC\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=user\nspring.datasource.password=\nspring.jpa.show-sql=true\n\n@SpringBootApplication\npublic class LibraryApplication  {\n    public static void main(String[] args) {\n        SpringApplication.run(LibraryApplication.class, args);\n    }\n}\n\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.tomholmes.products.library&quot;)\n@EntityScan(&quot;com.tomholmes.products.library.model&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.tomholmes.products.library.repository&quot;)\n@EnableTransactionManagement\npublic class DatabaseConfiguration  {\n}\n\npublic interface BookDao extends JpaRepository&lt;BookEntity, Long&gt; {\n}\n\n@Transactional\n@SpringBootTest(classes = { LibraryApplication.class, DatabaseConfiguration.class })\npublic class BookDaoTest  {\n    @Autowired\n    private BookDao bookDao;\n\n    @Test\n    public void testFindById() {\n        long bookId = 2;\n        BookEntity book = bookDao.findById(bookId).orElse(null);\n        assertNotNull(book);\n        assertEquals(bookId, book.getBookId());\n    }\n}\n</code></pre>\n<p>This test and others like it is to ensure that the basic database configuration in Spring Boot 3 with Spring Data JPA is configured correctly.  I think the problem I am having ultimately is in the test itself.   Most of the other StackOverflow posts I have seen and others are still focused on Spring Boot 2 and not 3, even though they should be very similar.</p>\n<p>The problem I am having in my unit test is this error message:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo bean named 'entityManagerFactory' available\n</code></pre>\n<p>From all the research I did today, the entityManagerFactory is defined in the JPARepository, so it shouldn't have to be specifically defined.   I just don't know why this error is even coming up.</p>\n<p>I know I didn't add the pom.xml or the entity code itself, but if you need those I can provide them.</p>\n"},{"tags":["java","file-handling"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678634979,"creation_date":1678634979,"answer_id":75714211,"question_id":75714061,"body_markdown":"The code posted in the question will overwrite the existing content of the file. There is a way to append new data at the end of the existing content.\r\n\r\nPlease use another constructor which takes second parameter, boolean for append/not append:\r\n\r\n    FileWriter fileWriter = new FileWriter(&quot;username.txt&quot;, true);\r\n\r\n","title":"java file handling restoring the data stored","body":"<p>The code posted in the question will overwrite the existing content of the file. There is a way to append new data at the end of the existing content.</p>\n<p>Please use another constructor which takes second parameter, boolean for append/not append:</p>\n<pre><code>FileWriter fileWriter = new FileWriter(&quot;username.txt&quot;, true);\n</code></pre>\n"}],"owner":{"account_id":25773370,"reputation":11,"user_id":19521186,"display_name":"Tanya shankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678634979,"creation_date":1678633457,"question_id":75714061,"body_markdown":"Is there a way that we can see the data in file created through file handling everytime when we re run the program because what is produced in the result of the given code and that is &quot; but if I rerun it with giving different nae inside the command , previous name is not restored . Is this a feature of java or is there any way through which it is restoring the details stored previously. \r\n\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class library {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner myObj = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter name&quot;);\r\n    \r\n            // String input\r\n            String name = myObj.nextLine();\r\n    \r\n    \r\n            try\r\n        {\r\n                FileWriter fileWriter = new FileWriter(&quot;username.txt&quot;);\r\n                fileWriter.write(name);\r\n                fileWriter.close();\r\n            }\r\n            catch(IOException exception ) {\r\n            System.out.println(&quot;sorry could not be executed&quot;);\r\n            }\r\n        }\r\n    }","title":"java file handling restoring the data stored","body":"<p>Is there a way that we can see the data in file created through file handling everytime when we re run the program because what is produced in the result of the given code and that is &quot; but if I rerun it with giving different nae inside the command , previous name is not restored . Is this a feature of java or is there any way through which it is restoring the details stored previously.</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\n\n\npublic class library {\n    public static void main(String[] args) {\n\n        Scanner myObj = new Scanner(System.in);\n\n        System.out.println(&quot;Enter name&quot;);\n\n        // String input\n        String name = myObj.nextLine();\n\n\n        try\n    {\n            FileWriter fileWriter = new FileWriter(&quot;username.txt&quot;);\n            fileWriter.write(name);\n            fileWriter.close();\n        }\n        catch(IOException exception ) {\n        System.out.println(&quot;sorry could not be executed&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","maven"],"comments":[{"owner":{"account_id":21488854,"reputation":1060,"user_id":15834974,"display_name":"vnk"},"score":0,"creation_date":1678469827,"post_id":75697864,"comment_id":133544895,"body_markdown":"Where is  loadData() called? Please provide the complete utility code.","body":"Where is  loadData() called? Please provide the complete utility code."},{"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"score":0,"creation_date":1678603067,"post_id":75697864,"comment_id":133563290,"body_markdown":"Calling loadData() in @SpringApplication part , have made the edit to the draft \nSorry for the delayed response !!","body":"Calling loadData() in @SpringApplication part , have made the edit to the draft  Sorry for the delayed response !!"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1678603520,"post_id":75697864,"comment_id":133563331,"body_markdown":"Where is `${spring.datasource.url}` being set?  In `application.properties`?","body":"Where is <code>${spring.datasource.url}</code> being set?  In <code>application.properties</code>?"},{"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"score":0,"creation_date":1678603711,"post_id":75697864,"comment_id":133563352,"body_markdown":"Yes, its in Application.properties\nI am also giving them as an Argument to the jar file \nlike this \n```\njava -jar Sql2DataStructure-0.0.1-SNAPSHOT.war # --spring.datasource.url=&quot;jdbc:mysql://localhost:3306/test_base&quot; --spring.datasource.username=&quot;root&quot; --spring.datasource.password=&quot;mysql123&quot;\n```","body":"Yes, its in Application.properties I am also giving them as an Argument to the jar file  like this  ``` java -jar Sql2DataStructure-0.0.1-SNAPSHOT.war # --spring.datasource.url=&quot;jdbc:mysql://localhost:3306/test_ba&zwnj;&#8203;se&quot; --spring.datasource.username=&quot;root&quot; --spring.datasource.password=&quot;mysql123&quot; ```"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1678604091,"post_id":75697864,"comment_id":133563395,"body_markdown":"Is that comment character actually in the command-line at the shell?  If so, the `--spring.datasource.url=...` and the rest is ignored when the `java` command runs","body":"Is that comment character actually in the command-line at the shell?  If so, the <code>--spring.datasource.url=...</code> and the rest is ignored when the <code>java</code> command runs"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1678604128,"post_id":75697864,"comment_id":133563398,"body_markdown":"Also, is `--spring.datasource.url` a thing?  Try `-Dspring.datasource.url=...` instead","body":"Also, is <code>--spring.datasource.url</code> a thing?  Try <code>-Dspring.datasource.url=...</code> instead"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":1,"creation_date":1678604361,"post_id":75697864,"comment_id":133563424,"body_markdown":"One thing you can do to check this in the application, dump the return value of `System.getProperty(&quot;spring.datasource.url&quot;)`","body":"One thing you can do to check this in the application, dump the return value of <code>System.getProperty(&quot;spring.datasource.url&quot;)</code>"},{"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"score":0,"creation_date":1678609044,"post_id":75697864,"comment_id":133563907,"body_markdown":"I Tried the  `-Dspring.datasource.url=...` part and it started working, cant believe that was the issue, thanks for the help\nNot sure how this is `--spring.datasource.url=` method is working in another application that I am running, but certanly will check up with that\n\nThanks for the help!!!!","body":"I Tried the  <code>-Dspring.datasource.url=...</code> part and it started working, cant believe that was the issue, thanks for the help Not sure how this is <code>--spring.datasource.url=</code> method is working in another application that I am running, but certanly will check up with that  Thanks for the help!!!!"}],"answers":[{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678461530,"creation_date":1678461530,"answer_id":75697908,"question_id":75697864,"body_markdown":"Your file reader utility is not a Spring managed bean. Therefore, the variables will not be initialized.","title":"Unable to Access Springboot @Value Parameters","body":"<p>Your file reader utility is not a Spring managed bean. Therefore, the variables will not be initialized.</p>\n"},{"tags":[],"owner":{"account_id":21488854,"reputation":1060,"user_id":15834974,"display_name":"vnk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678634441,"creation_date":1678634441,"answer_id":75714163,"question_id":75697864,"body_markdown":"The properties are coming as NULL because the corresponding property files aren&#39;t loaded until the application starts to run. &lt;br&gt; If you&#39;d like to see how this works put `logging.level.org.springframework.core.env=DEBUG` in your properties file. When you run it again, you can clearly see when the key is found in the logs.\r\n```\r\n2023-03-12T20:18:04.543+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : Starting AppApplication using Java 19.0.2 with PID 49488 \r\n2023-03-12T20:18:04.557+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-12T20:18:07.436+05:30  INFO 49488 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-03-12T20:18:07.468+05:30  INFO 49488 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-03-12T20:18:07.469+05:30  INFO 49488 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-03-12T20:18:07.761+05:30  INFO 49488 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-03-12T20:18:07.766+05:30  INFO 49488 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3026 ms\r\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.url\r\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.user\r\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.password\r\n2023-03-12T20:18:07.906+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.url&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:18:07.910+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.username&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:18:07.913+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.password&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:18:08.770+05:30  INFO 49488 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-03-12T20:18:08.792+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : Started AppApplication in 5.776 seconds (process running for 7.055)\r\n```\r\nAlso please note, you can&#39;t use the `@Value` annotation on static fields as Spring doesn&#39;t support static field injection. &lt;br&gt;\r\nIf calling `loadData()` before the application runs isn&#39;t a necessity, you could instantiate it as a bean. &lt;br&gt;\r\nFor example - \r\n```\r\n@Configuration\r\npublic class Config {\r\n\r\n    private final Logger LOGGER = LoggerFactory.getLogger(Config.class);\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String url;\r\n\r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String user;\r\n\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n\r\n\r\n    @Bean\r\n    public void loadData() {\r\n        LOGGER.info(&quot;Load data ... &quot;);\r\n        try {\r\n            LOGGER.info(&quot;URL : &quot; + url);\r\n            LOGGER.info(&quot;User : &quot; + user);\r\n            LOGGER.info(&quot;Password : &quot; + password);\r\n\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;SQLException: &quot; + ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output Logs**\r\n```\r\n023-03-12T20:38:24.124+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : \r\n2023-03-12T20:38:24.136+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-12T20:38:26.705+05:30  INFO 49728 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-03-12T20:38:26.741+05:30  INFO 49728 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-03-12T20:38:26.742+05:30  INFO 49728 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-03-12T20:38:27.068+05:30  INFO 49728 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-03-12T20:38:27.077+05:30  INFO 49728 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2746 ms\r\n2023-03-12T20:38:27.210+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.url&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:38:27.210+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.username&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:38:27.226+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key &#39;spring.datasource.password&#39; in PropertySource &#39;environmentProperties&#39; with value of type String\r\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : Load data ... \r\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : URL : sample.com\r\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : User : vnk\r\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : Password : password\r\n2023-03-12T20:38:28.274+05:30  INFO 49728 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-03-12T20:38:28.298+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : Started AppApplication in 5.639 seconds (process running for 7.032)\r\n```\r\n\r\nI&#39;m quite new to Spring Boot myself so please do let me know if this solution is appropriate. Any feedback on how it can be improved is appreciated, thanks.","title":"Unable to Access Springboot @Value Parameters","body":"<p>The properties are coming as NULL because the corresponding property files aren't loaded until the application starts to run. <br> If you'd like to see how this works put <code>logging.level.org.springframework.core.env=DEBUG</code> in your properties file. When you run it again, you can clearly see when the key is found in the logs.</p>\n<pre><code>2023-03-12T20:18:04.543+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : Starting AppApplication using Java 19.0.2 with PID 49488 \n2023-03-12T20:18:04.557+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-12T20:18:07.436+05:30  INFO 49488 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-03-12T20:18:07.468+05:30  INFO 49488 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-03-12T20:18:07.469+05:30  INFO 49488 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-03-12T20:18:07.761+05:30  INFO 49488 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-03-12T20:18:07.766+05:30  INFO 49488 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3026 ms\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.url\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.user\n2023-03-12T20:18:07.893+05:30  INFO 49488 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static java.lang.String com.example.app.AppApplication.password\n2023-03-12T20:18:07.906+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.url' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:18:07.910+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.username' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:18:07.913+05:30 DEBUG 49488 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.password' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:18:08.770+05:30  INFO 49488 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-03-12T20:18:08.792+05:30  INFO 49488 --- [           main] com.example.app.AppApplication           : Started AppApplication in 5.776 seconds (process running for 7.055)\n</code></pre>\n<p>Also please note, you can't use the <code>@Value</code> annotation on static fields as Spring doesn't support static field injection. <br>\nIf calling <code>loadData()</code> before the application runs isn't a necessity, you could instantiate it as a bean. <br>\nFor example -</p>\n<pre><code>@Configuration\npublic class Config {\n\n    private final Logger LOGGER = LoggerFactory.getLogger(Config.class);\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String url;\n\n    @Value(&quot;${spring.datasource.username}&quot;)\n    private String user;\n\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n\n\n    @Bean\n    public void loadData() {\n        LOGGER.info(&quot;Load data ... &quot;);\n        try {\n            LOGGER.info(&quot;URL : &quot; + url);\n            LOGGER.info(&quot;User : &quot; + user);\n            LOGGER.info(&quot;Password : &quot; + password);\n\n        } catch (Exception ex) {\n            System.out.println(&quot;SQLException: &quot; + ex);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output Logs</strong></p>\n<pre><code>023-03-12T20:38:24.124+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : \n2023-03-12T20:38:24.136+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-12T20:38:26.705+05:30  INFO 49728 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-03-12T20:38:26.741+05:30  INFO 49728 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-03-12T20:38:26.742+05:30  INFO 49728 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-03-12T20:38:27.068+05:30  INFO 49728 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-03-12T20:38:27.077+05:30  INFO 49728 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2746 ms\n2023-03-12T20:38:27.210+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.url' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:38:27.210+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.username' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:38:27.226+05:30 DEBUG 49728 --- [           main] o.s.c.e.PropertySourcesPropertyResolver  : Found key 'spring.datasource.password' in PropertySource 'environmentProperties' with value of type String\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : Load data ... \n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : URL : sample.com\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : User : vnk\n2023-03-12T20:38:27.226+05:30  INFO 49728 --- [           main] com.example.app.Config                   : Password : password\n2023-03-12T20:38:28.274+05:30  INFO 49728 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-03-12T20:38:28.298+05:30  INFO 49728 --- [           main] com.example.app.AppApplication           : Started AppApplication in 5.639 seconds (process running for 7.032)\n</code></pre>\n<p>I'm quite new to Spring Boot myself so please do let me know if this solution is appropriate. Any feedback on how it can be improved is appreciated, thanks.</p>\n"}],"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678634441,"creation_date":1678461229,"question_id":75697864,"body_markdown":"Have Created a simple RestAPI to store a query result from MySQL db to a ArrayList Structure with a simple Controller,Service structure \r\n\r\nI am trying to access @Value credentials of MySQL DB which are provided via both application.properties and external arguments. But somehow the values are coming out null. I referred other answers related to same topic and Added a [DataConfig][1] Class too but to no avail \r\n\r\nApplication runs fine but it shows message that ${spring.datasource.url} cannot be null etc\r\n\r\nI have copied the code from a similar designed application where the code was running fine without this issue\r\n\r\nHave attached the code and error below \r\n\r\nAny help would be appreciated \r\n\r\nController\r\n```\r\n@RestController\r\npublic class ApiController {\r\n\t\r\n\t@Autowired\r\n\tprivate ApiService service;\r\n\t\r\n\t@CrossOrigin\r\n\t@PostMapping(&quot;/get_sql_ds_query&quot;)\r\n\tpublic Map&lt;String,Object&gt; getSQLDSQuery(){\r\n\t\tMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\t\tresponse= service.getServiceFunction();\r\n\t\treturn response;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nService\r\n```\r\n@Service\r\npublic class ApiService {\r\n\t\r\n\t@Autowired\r\n\tprivate FileReaderUtility file_read;\r\n\t\r\n\tpublic Map&lt;String, Object&gt; getServiceFunction() {\r\n\t\tMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\t\tresponse=file_read.getQueriedSqlData();\r\n\t\treturn response;\r\n\t}\r\n}\r\n\r\n```\r\nA file readerUtility where I intented to run the code actually\r\n```\r\npublic void loadData(String url,String user,String password) {\r\n\t\tString query = &quot;select Name,UseCaseKey from RankedPickList_Stories_Master;&quot;;\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;url=&quot;+url);\r\n\t\t\tSystem.out.println(&quot;user=&quot;+user);\r\n\t\t\tSystem.out.println(&quot;password=&quot;+password);\r\n\t\t\tConnection conn = DriverManager.getConnection(url, user, password);\r\n            Statement stmt = conn.createStatement();\r\n            ResultSet rs = stmt.executeQuery(query);\r\n\r\n            // Create an ArrayList to hold the string values\r\n            // ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n            while (rs.next()) {\r\n                String columnValue1 = rs.getString(&quot;column_name_1&quot;);\r\n                String columnValue2 = rs.getString(&quot;column_name_2&quot;);\r\n                String concatenatedValues = columnValue1 + &quot; &quot; + columnValue2;\r\n                sql_data_structure.add(concatenatedValues);\r\n            }\r\n\r\n            // Print out the ArrayList\r\n            System.out.println(sql_data_structure);\r\n\r\n            // Close the database connection\r\n            rs.close();\r\n            stmt.close();\r\n            conn.close();\r\n\t\t} catch (SQLException ex) {\r\n        System.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n        System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n        System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n    }\r\n\t\t}\r\n\t\r\n\tpublic Map&lt;String,Object&gt; getQueriedSqlData(){\r\n\t\tMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\t\tfor(String line_l:sql_data_structure) {\r\n\t\t\tString value_1=line_l.substring(0,StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 1));\r\n\t    \tString value_2=line_l.substring(StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 1)+1,StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 2));\r\n\t    \tresponse.put(value_1, value_2);\r\n\t\t}\r\n\t\treturn response;\r\n\t}\r\n\r\n```\r\n\r\nDatConfig\r\n```\r\n@Configuration\r\npublic class DataConfig {\r\n\t@Value(&quot;${spring.datasource.username}&quot;)\r\n    private String userName;\r\n\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String url;\r\n\r\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n    private String driverClassName;\r\n\r\n\r\n    @Bean\r\n    DataSource dataSource() {\r\n        return DataSourceBuilder\r\n                .create()\r\n                .username(userName)\r\n                .password(password)\r\n                .url(url)\r\n                .driverClassName(driverClassName)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\nPOM.XML dependancies\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \r\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \r\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\nCalling LoadData here \r\n```\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\npublic class Sql2DataStructureApplication {\r\n\r\n\t@Value(&quot;${spring.datasource.url}&quot;)\r\n\tprivate static String url;\r\n\t\r\n\t@Value(&quot;${spring.datasource.username}&quot;)\r\n\tprivate static String user;\r\n\t\r\n\t@Value(&quot;${spring.datasource.password}&quot;)\r\n\tprivate static String password;\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFileReaderUtility file_1 = new FileReaderUtility();\r\n\t\t\tfile_1.loadData(url,user,password);\r\n\t\t} catch (Exception ex) {\r\n\t        ex.printStackTrace();\r\n\t\t}\r\n\t\tSpringApplication.run(Sql2DataStructureApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nLog Message\r\n```\r\nurl=null\r\nuser=null\r\npassword=null\r\nSQLException: The url cannot be null\r\nSQLState: 08001\r\nVendorError: 0\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.9)\r\n\r\n2023-03-10 20:40:34.618  INFO 43259 --- [           main] c.e.S.Sql2DataStructureApplication       : Starting Sql2DataStructureApplication v0.0.1-SNAPSHOT using Java 11.0.16 on pop-os with PID 43259 (/home/blesson/eclipse-workspace_2/Sql2DataStructure/target/Sql2DataStructure-0.0.1-SNAPSHOT.war started by blesson in /home/blesson/eclipse-workspace_2/Sql2DataStructure/target)\r\n2023-03-10 20:40:34.622  INFO 43259 --- [           main] c.e.S.Sql2DataStructureApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-10 20:40:35.645  INFO 43259 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-03-10 20:40:35.662  INFO 43259 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n2023-03-10 20:40:36.362  INFO 43259 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-03-10 20:40:36.375  INFO 43259 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-03-10 20:40:36.376  INFO 43259 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.71]\r\n2023-03-10 20:40:37.356  INFO 43259 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-03-10 20:40:37.356  INFO 43259 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2676 ms\r\n2023-03-10 20:40:37.575  INFO 43259 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-03-10 20:40:38.125  INFO 43259 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-03-10 20:40:38.185  INFO 43259 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-03-10 20:40:38.251  INFO 43259 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46029058/error-connecting-to-database-spring-boot","title":"Unable to Access Springboot @Value Parameters","body":"<p>Have Created a simple RestAPI to store a query result from MySQL db to a ArrayList Structure with a simple Controller,Service structure</p>\n<p>I am trying to access @Value credentials of MySQL DB which are provided via both application.properties and external arguments. But somehow the values are coming out null. I referred other answers related to same topic and Added a <a href=\"https://stackoverflow.com/questions/46029058/error-connecting-to-database-spring-boot\">DataConfig</a> Class too but to no avail</p>\n<p>Application runs fine but it shows message that ${spring.datasource.url} cannot be null etc</p>\n<p>I have copied the code from a similar designed application where the code was running fine without this issue</p>\n<p>Have attached the code and error below</p>\n<p>Any help would be appreciated</p>\n<p>Controller</p>\n<pre><code>@RestController\npublic class ApiController {\n    \n    @Autowired\n    private ApiService service;\n    \n    @CrossOrigin\n    @PostMapping(&quot;/get_sql_ds_query&quot;)\n    public Map&lt;String,Object&gt; getSQLDSQuery(){\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        response= service.getServiceFunction();\n        return response;\n    }\n}\n\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class ApiService {\n    \n    @Autowired\n    private FileReaderUtility file_read;\n    \n    public Map&lt;String, Object&gt; getServiceFunction() {\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        response=file_read.getQueriedSqlData();\n        return response;\n    }\n}\n\n</code></pre>\n<p>A file readerUtility where I intented to run the code actually</p>\n<pre><code>public void loadData(String url,String user,String password) {\n        String query = &quot;select Name,UseCaseKey from RankedPickList_Stories_Master;&quot;;\n        \n        \n        try {\n            System.out.println(&quot;url=&quot;+url);\n            System.out.println(&quot;user=&quot;+user);\n            System.out.println(&quot;password=&quot;+password);\n            Connection conn = DriverManager.getConnection(url, user, password);\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(query);\n\n            // Create an ArrayList to hold the string values\n            // ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n            while (rs.next()) {\n                String columnValue1 = rs.getString(&quot;column_name_1&quot;);\n                String columnValue2 = rs.getString(&quot;column_name_2&quot;);\n                String concatenatedValues = columnValue1 + &quot; &quot; + columnValue2;\n                sql_data_structure.add(concatenatedValues);\n            }\n\n            // Print out the ArrayList\n            System.out.println(sql_data_structure);\n\n            // Close the database connection\n            rs.close();\n            stmt.close();\n            conn.close();\n        } catch (SQLException ex) {\n        System.out.println(&quot;SQLException: &quot; + ex.getMessage());\n        System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\n        System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\n    }\n        }\n    \n    public Map&lt;String,Object&gt; getQueriedSqlData(){\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        for(String line_l:sql_data_structure) {\n            String value_1=line_l.substring(0,StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 1));\n            String value_2=line_l.substring(StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 1)+1,StringUtils.ordinalIndexOf(line_l, &quot; &quot;, 2));\n            response.put(value_1, value_2);\n        }\n        return response;\n    }\n\n</code></pre>\n<p>DatConfig</p>\n<pre><code>@Configuration\npublic class DataConfig {\n    @Value(&quot;${spring.datasource.username}&quot;)\n    private String userName;\n\n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String password;\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String url;\n\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driverClassName;\n\n\n    @Bean\n    DataSource dataSource() {\n        return DataSourceBuilder\n                .create()\n                .username(userName)\n                .password(password)\n                .url(url)\n                .driverClassName(driverClassName)\n                .build();\n    }\n}\n\n</code></pre>\n<p>POM.XML dependancies</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; \n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>Calling LoadData here</p>\n<pre><code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\npublic class Sql2DataStructureApplication {\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private static String url;\n    \n    @Value(&quot;${spring.datasource.username}&quot;)\n    private static String user;\n    \n    @Value(&quot;${spring.datasource.password}&quot;)\n    private static String password;\n\n\n    public static void main(String[] args) {\n        try {\n            FileReaderUtility file_1 = new FileReaderUtility();\n            file_1.loadData(url,user,password);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        SpringApplication.run(Sql2DataStructureApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Log Message</p>\n<pre><code>url=null\nuser=null\npassword=null\nSQLException: The url cannot be null\nSQLState: 08001\nVendorError: 0\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.9)\n\n2023-03-10 20:40:34.618  INFO 43259 --- [           main] c.e.S.Sql2DataStructureApplication       : Starting Sql2DataStructureApplication v0.0.1-SNAPSHOT using Java 11.0.16 on pop-os with PID 43259 (/home/blesson/eclipse-workspace_2/Sql2DataStructure/target/Sql2DataStructure-0.0.1-SNAPSHOT.war started by blesson in /home/blesson/eclipse-workspace_2/Sql2DataStructure/target)\n2023-03-10 20:40:34.622  INFO 43259 --- [           main] c.e.S.Sql2DataStructureApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-10 20:40:35.645  INFO 43259 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-03-10 20:40:35.662  INFO 43259 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2023-03-10 20:40:36.362  INFO 43259 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-03-10 20:40:36.375  INFO 43259 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-03-10 20:40:36.376  INFO 43259 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.71]\n2023-03-10 20:40:37.356  INFO 43259 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-03-10 20:40:37.356  INFO 43259 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2676 ms\n2023-03-10 20:40:37.575  INFO 43259 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-03-10 20:40:38.125  INFO 43259 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-03-10 20:40:38.185  INFO 43259 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-03-10 20:40:38.251  INFO 43259 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final\n\n</code></pre>\n"},{"tags":["java","webview"],"owner":{"account_id":27998939,"reputation":1,"user_id":21383588,"display_name":"Cripple Sd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678633720,"creation_date":1678633720,"question_id":75714088,"body_markdown":"I want show a dialog before starting download but download start automatically without an option when clicked on download link\r\n\r\n\r\n\r\nhere is my code below \r\n\r\n\r\n\r\nmWebView1.setDownloadListener(new DownloadListener() {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength)\r\n\t\t\t\t{\r\n\t\t\t\t\tString fileName = url.substring(url.lastIndexOf(&#39;/&#39;) + 1, url.length());\r\n\r\n\t\t\t\t\tDownloadManager.Request myRequest = new DownloadManager.Request(Uri.parse(url));\r\n\t\t\t\t\tmyRequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n\t\t\t\t\tmyRequest.allowScanningByMediaScanner();\r\n\t\t\t\t\tmyRequest.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n\r\n\t\t\t\t\tDownloadManager myManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n\t\t\t\t\tmyManager.enqueue(myRequest);\r\n\r\n\t\t\t\t\tToast.makeText(MainActivity.this, &quot;downloading...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\t\t\t\t\tIntent launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.android.providers.downloads.ui&quot;);\r\n\t\t\t\t\tif (launchIntent != null)\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tstartActivity(launchIntent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}","title":"how to show an alert dialog with options download or cancel before starting download in my web view app","body":"<p>I want show a dialog before starting download but download start automatically without an option when clicked on download link</p>\n<p>here is my code below</p>\n<p>mWebView1.setDownloadListener(new DownloadListener() {</p>\n<pre><code>            @Override\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength)\n            {\n                String fileName = url.substring(url.lastIndexOf('/') + 1, url.length());\n\n                DownloadManager.Request myRequest = new DownloadManager.Request(Uri.parse(url));\n                myRequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n                myRequest.allowScanningByMediaScanner();\n                myRequest.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n\n                DownloadManager myManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n                myManager.enqueue(myRequest);\n\n                Toast.makeText(MainActivity.this, &quot;downloading...&quot;, Toast.LENGTH_SHORT).show();\n\n                Intent launchIntent = getPackageManager().getLaunchIntentForPackage(&quot;com.android.providers.downloads.ui&quot;);\n                if (launchIntent != null)\n                { \n                    startActivity(launchIntent);\n                }\n                \n            }\n</code></pre>\n"},{"tags":["java","javalin"],"answers":[{"tags":[],"owner":{"account_id":25479596,"reputation":1,"user_id":19276186,"display_name":"matin ghahremani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678633475,"creation_date":1678633432,"answer_id":75714057,"question_id":75712951,"body_markdown":"i figured it out that the problem was my Intellij idea and the javalin files were be read by kotlin language ;\r\nso i uninstall it and reinstall the Intellij idea again with the new version and the problem got fixed","title":"What is (Cannot resolve method &#39;result(java.lang.String)&#39; ) error in java?","body":"<p>i figured it out that the problem was my Intellij idea and the javalin files were be read by kotlin language ;\nso i uninstall it and reinstall the Intellij idea again with the new version and the problem got fixed</p>\n"}],"owner":{"account_id":25479596,"reputation":1,"user_id":19276186,"display_name":"matin ghahremani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678633475,"creation_date":1678622355,"question_id":75712951,"body_markdown":"hi i&#39;m trying to print a simple &quot;hello world&quot; with Javalin in my local host but i keep getting this error &quot;Cannot resolve method &#39;result(java.lang.String)&#39;&quot;and i don&#39;t know how to fix it and this is my code with i copied it from Javalin doc page.\r\n\r\n```\r\nimport io.javalin.Javalin;\r\n\r\n\r\npublic class HelloWorld {\r\n    public static void main(String[] args) {\r\n        var app = Javalin.create(/*config*/)\r\n                .get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;))\r\n                .start(7080);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni have tried importing different libraries but none of them worked.","title":"What is (Cannot resolve method &#39;result(java.lang.String)&#39; ) error in java?","body":"<p>hi i'm trying to print a simple &quot;hello world&quot; with Javalin in my local host but i keep getting this error &quot;Cannot resolve method 'result(java.lang.String)'&quot;and i don't know how to fix it and this is my code with i copied it from Javalin doc page.</p>\n<pre><code>import io.javalin.Javalin;\n\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        var app = Javalin.create(/*config*/)\n                .get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;))\n                .start(7080);\n    }\n}\n</code></pre>\n<p>i have tried importing different libraries but none of them worked.</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678580030,"creation_date":1678580030,"answer_id":75710345,"question_id":75709203,"body_markdown":"According to the @WebMvcTest [documentation][1] @Service beans will not be loaded:\r\n\r\n&gt; Annotation that can be used for a Spring MVC test that focuses only on Spring MVC components.\r\nUsing this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).\r\n\r\n&gt; If you are looking to load your full application configuration and use MockMVC, you should consider @SpringBootTest combined with @AutoConfigureMockMvc rather than this annotation.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","title":"Spring Boot Controller Test throws No qualifying bean of type Service Name","body":"<p>According to the @WebMvcTest <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\">documentation</a> @Service beans will not be loaded:</p>\n<blockquote>\n<p>Annotation that can be used for a Spring MVC test that focuses only on Spring MVC components.\nUsing this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).</p>\n</blockquote>\n<blockquote>\n<p>If you are looking to load your full application configuration and use MockMVC, you should consider @SpringBootTest combined with @AutoConfigureMockMvc rather than this annotation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678633273,"creation_date":1678613365,"answer_id":75712187,"question_id":75709203,"body_markdown":"In Spring MVC tests, all controllers are included in the application context, if not specified, and therefore all their dependencies should also be available. That&#39;s why the `NoSuchBeanDefinitionException` is thrown for a bean from another `RestController`.\r\n\r\nTo specify controllers to test, set the `value` or the `controllers` parameter of [`@WebMvcTest`][1], for example:\r\n```java\r\n@WebMvcTest(UserController.class)\r\n...\r\npublic abstract class UserControllerTest {\r\n    ...\r\n}\r\n```\r\n`@WebMvcTest` is usually used for writing unit tests for controllers. If you want to write integration tests for multiple layers of your application you should consider `@SpringBootTest` combined with `@AutoConfigureMockMvc` to load the full application context where, in general, mocks should not be used.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","title":"Spring Boot Controller Test throws No qualifying bean of type Service Name","body":"<p>In Spring MVC tests, all controllers are included in the application context, if not specified, and therefore all their dependencies should also be available. That's why the <code>NoSuchBeanDefinitionException</code> is thrown for a bean from another <code>RestController</code>.</p>\n<p>To specify controllers to test, set the <code>value</code> or the <code>controllers</code> parameter of <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\"><code>@WebMvcTest</code></a>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(UserController.class)\n...\npublic abstract class UserControllerTest {\n    ...\n}\n</code></pre>\n<p><code>@WebMvcTest</code> is usually used for writing unit tests for controllers. If you want to write integration tests for multiple layers of your application you should consider <code>@SpringBootTest</code> combined with <code>@AutoConfigureMockMvc</code> to load the full application context where, in general, mocks should not be used.</p>\n"},{"tags":[],"owner":{"account_id":7535539,"reputation":66,"user_id":5721960,"display_name":"Tanbirul Hashan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678613458,"creation_date":1678613458,"answer_id":75712194,"question_id":75709203,"body_markdown":"You need to add **@SpringBootTest** annotation to load the beans from application context.\r\n\r\nYour test class should look like this.\r\n\r\n    @WebMvcTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;dev&quot;)\r\n    @SpringBootTest\r\n    public class AuthenticationControllerTest {\r\n        @MockBean private AuthService authService;\r\n        @Autowired private UserService userService;\r\n    .....\r\n    }","title":"Spring Boot Controller Test throws No qualifying bean of type Service Name","body":"<p>You need to add <strong>@SpringBootTest</strong> annotation to load the beans from application context.</p>\n<p>Your test class should look like this.</p>\n<pre><code>@WebMvcTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;dev&quot;)\n@SpringBootTest\npublic class AuthenticationControllerTest {\n    @MockBean private AuthService authService;\n    @Autowired private UserService userService;\n.....\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678633273,"creation_date":1678565112,"question_id":75709203,"body_markdown":"I have two controller test class named UserControllerTest and AuthenticationControllerTest through JUnit in Spring Boot.\r\n\r\nHere is the \r\n\r\n    @WebMvcTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;dev&quot;)\r\n    public abstract class UserControllerTest {\r\n    \r\n        @MockBean\r\n        private UserService userService;\r\n    \r\n    \r\n        @Test\r\n        void test1() throws Exception {\r\n    \r\n        }\r\n    }\r\n\r\nHere is the \r\n\r\n    @WebMvcTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ActiveProfiles(value = &quot;dev&quot;)\r\n    public abstract class AuthenticationControllerTest {\r\n    \r\n        @MockBean\r\n        private AuthService authService;\r\n    \r\n    \r\n        @Test\r\n        void test1() throws Exception {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen I run test of **AuthenticationControllerTest**, I get this issue shown below\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.user.service.UserService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n\r\nWhen I run test of **UserControllerTest**, I get this issue shown below\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.user.service.AuthService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n\r\nHow can I fix this inconsistent issue in Spring Boot Integration Tests for both controller.\r\nI already defined `@Service` annotation in both service.","title":"Spring Boot Controller Test throws No qualifying bean of type Service Name","body":"<p>I have two controller test class named UserControllerTest and AuthenticationControllerTest through JUnit in Spring Boot.</p>\n<p>Here is the</p>\n<pre><code>@WebMvcTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;dev&quot;)\npublic abstract class UserControllerTest {\n\n    @MockBean\n    private UserService userService;\n\n\n    @Test\n    void test1() throws Exception {\n\n    }\n}\n</code></pre>\n<p>Here is the</p>\n<pre><code>@WebMvcTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(value = &quot;dev&quot;)\npublic abstract class AuthenticationControllerTest {\n\n    @MockBean\n    private AuthService authService;\n\n\n    @Test\n    void test1() throws Exception {\n\n    }\n}\n</code></pre>\n<p>When I run test of <strong>AuthenticationControllerTest</strong>, I get this issue shown below</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.user.service.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>When I run test of <strong>UserControllerTest</strong>, I get this issue shown below</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.user.service.AuthService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>How can I fix this inconsistent issue in Spring Boot Integration Tests for both controller.\nI already defined <code>@Service</code> annotation in both service.</p>\n"},{"tags":["java","android","linux"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678632804,"post_id":75713573,"comment_id":133567271,"body_markdown":"You haven&#39;t shown us `arch` or `wow64Arch`, what if both are `null`?","body":"You haven&#39;t shown us <code>arch</code> or <code>wow64Arch</code>, what if both are <code>null</code>?"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1678636903,"post_id":75713573,"comment_id":133568024,"body_markdown":"Java object code doesn&#39;t have any architecture. Do you have any native (C/C++/Rust) code?","body":"Java object code doesn&#39;t have any architecture. Do you have any native (C/C++/Rust) code?"}],"owner":{"account_id":16743914,"reputation":3,"user_id":12102772,"display_name":"Aleksandr Asanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678633025,"creation_date":1678629095,"question_id":75713573,"body_markdown":"I want to build my android app only for 64bit mode.\r\nI already changed the settings like this\r\nBy the way, when I checked the log and it says it is 32 bit.\r\nCan I know the cause?\r\nPlease tell me how to build in 64 bit mode.\r\n````    \r\n    defaultConfig {\r\n        \r\n        minSdk 30\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        ndk {\r\n            abiFilters &quot;x86_64&quot;, &quot;arm64-v8a&quot;\r\n        }\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n````\r\nI checked the log with this code.\r\n````\r\nString realArch = arch != null &amp;&amp; arch.endsWith(&quot;64&quot;)\r\n                || wow64Arch != null &amp;&amp; wow64Arch.endsWith(&quot;64&quot;)\r\n                ? &quot;64&quot; : &quot;32&quot;;\r\n        if(realArch == &quot;64&quot;){\r\n            System.out.println(&quot;Start---64bit&quot;);\r\n            exeMain();\r\n        }else{\r\n            System.out.println(&quot;Start---32bit&quot;);//always showed this log\r\n        }\r\n````\r\nThanks.","title":"How to set only for x64 mode in Android","body":"<p>I want to build my android app only for 64bit mode.\nI already changed the settings like this\nBy the way, when I checked the log and it says it is 32 bit.\nCan I know the cause?\nPlease tell me how to build in 64 bit mode.</p>\n<pre><code>    defaultConfig {\n        \n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        ndk {\n            abiFilters &quot;x86_64&quot;, &quot;arm64-v8a&quot;\n        }\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>I checked the log with this code.</p>\n<pre><code>String realArch = arch != null &amp;&amp; arch.endsWith(&quot;64&quot;)\n                || wow64Arch != null &amp;&amp; wow64Arch.endsWith(&quot;64&quot;)\n                ? &quot;64&quot; : &quot;32&quot;;\n        if(realArch == &quot;64&quot;){\n            System.out.println(&quot;Start---64bit&quot;);\n            exeMain();\n        }else{\n            System.out.println(&quot;Start---32bit&quot;);//always showed this log\n        }\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","spring","mongodb","jar","atlas"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1678635763,"post_id":75713998,"comment_id":133567822,"body_markdown":"I hope you didn&#39;t post your actual credentials.","body":"I hope you didn&#39;t post your actual credentials."},{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1678636322,"post_id":75713998,"comment_id":133567927,"body_markdown":"_&quot;... Exception in monitor thread while connecting to server localhost:27017&quot;_  Your app is trying to connect to your `localhost`.","body":"<i>&quot;... Exception in monitor thread while connecting to server localhost:27017&quot;</i>  Your app is trying to connect to your <code>localhost</code>."},{"owner":{"account_id":16772021,"reputation":3,"user_id":12124244,"display_name":"Hussain Md"},"score":0,"creation_date":1678641720,"post_id":75713998,"comment_id":133568883,"body_markdown":"@rickhg12hs Credentials are correct! Yeah I am unsure why it was connecting to localhost:27017","body":"@rickhg12hs Credentials are correct! Yeah I am unsure why it was connecting to localhost:27017"},{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1678642894,"post_id":75713998,"comment_id":133569122,"body_markdown":"You could include in your question the code where the connection is attempted, and where the parameters for connection are set/derived.","body":"You could include in your question the code where the connection is attempted, and where the parameters for connection are set/derived."}],"owner":{"account_id":16772021,"reputation":3,"user_id":12124244,"display_name":"Hussain Md"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678632871,"creation_date":1678632871,"question_id":75713998,"body_markdown":"I have created a java springboot application with mongodb Atlas as backend. In my local intellij idea it was totally working fine but when I created the executable jar file then I am getting following errors. I have made white listing my IP address in Atlas with 0.0.0.0/0 still it is not connecting the mongoDb\r\n\r\n\r\nMy github repo : https://github.com/Hussain486/item.git\r\n\r\n```\r\n19:50:19.043 [cluster-ClusterId{value=&#39;640ddfa3dc2dcd03c9d99fa5&#39;, description=&#39;null&#39;}-localhost:27017] INFO org.mongodb.driver.cluster - Exception in monitor thread while connecting to server localhost:27017\r\ncom.mongodb.MongoSocketOpenException: Exception opening socket\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:73)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183)\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198)\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:666)\r\n\tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107)\r\n\tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:82)\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68)\r\n\t... 4 common frames omitted\r\n19:50:19.045 [cluster-ClusterId{value=&#39;640ddfa3dc2dcd03c9d99fa5&#39;, description=&#39;null&#39;}-localhost:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n```\r\n\r\n\r\nMy application.properties file\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://hussain1010486:Husainmohd486@cluster0.qgbxl1t.mongodb.net/?retryWrites=true&amp;w=majority\r\nspring.data.mongodb.database=a2z\r\n\r\n```\r\n","title":"I am getting mongoDB socket exception in executable jar file but not in my intellij local. while connecting mongoDB atlas","body":"<p>I have created a java springboot application with mongodb Atlas as backend. In my local intellij idea it was totally working fine but when I created the executable jar file then I am getting following errors. I have made white listing my IP address in Atlas with 0.0.0.0/0 still it is not connecting the mongoDb</p>\n<p>My github repo : <a href=\"https://github.com/Hussain486/item.git\" rel=\"nofollow noreferrer\">https://github.com/Hussain486/item.git</a></p>\n<pre><code>19:50:19.043 [cluster-ClusterId{value='640ddfa3dc2dcd03c9d99fa5', description='null'}-localhost:27017] INFO org.mongodb.driver.cluster - Exception in monitor thread while connecting to server localhost:27017\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:73)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:666)\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107)\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:82)\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68)\n    ... 4 common frames omitted\n19:50:19.045 [cluster-ClusterId{value='640ddfa3dc2dcd03c9d99fa5', description='null'}-localhost:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n</code></pre>\n<p>My application.properties file</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://hussain1010486:Husainmohd486@cluster0.qgbxl1t.mongodb.net/?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=a2z\n\n</code></pre>\n"},{"tags":["java","arrays","hashmap"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":5,"creation_date":1678551316,"post_id":75706231,"comment_id":133556179,"body_markdown":"In Java you would typically define a `Person` class to hold that data.  Using a list of maps is possible, but I&#39;d call it far from the &quot;best&quot; way.","body":"In Java you would typically define a <code>Person</code> class to hold that data.  Using a list of maps is possible, but I&#39;d call it far from the &quot;best&quot; way."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1678551376,"post_id":75706231,"comment_id":133556191,"body_markdown":"Please note that array is not the same as List. One dimensional arrays are in form `Type[]` like `int[]` or `String[]` while `List` is interface and `ArrayList` is class *implementing* that interface and *using internally* array to store its elements (but is not array itself). Your question is about List of HashMaps, not Array of HashMaps.","body":"Please note that array is not the same as List. One dimensional arrays are in form <code>Type[]</code> like <code>int[]</code> or <code>String[]</code> while <code>List</code> is interface and <code>ArrayList</code> is class <i>implementing</i> that interface and <i>using internally</i> array to store its elements (but is not array itself). Your question is about List of HashMaps, not Array of HashMaps."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678632735,"creation_date":1678551593,"answer_id":75706296,"question_id":75706231,"body_markdown":"You could do that, but a more idiomatic approach for Java would be to create a `Person` class that contains all the data members you want to collect. E.g.:\r\n\r\n```java\r\npublic class Person {\r\n    private String name;\r\n    private int age;\r\n    // other properties...\r\n\r\n    // Constructor using these properties\r\n    // Note: this is a stylistic choice. Some would prefer a default ctor and using setters later\r\n    public Person (String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    // Getters and setters for all the properties\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int numPeople = 7; // Arbitrary number for the example\r\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;(numPeople);\r\n        for (int i = 0; i &lt; numPeople; ++i) {\r\n            System.out.print(&quot;Name: &quot;);\r\n            String name = sc.next();\r\n            System.out.print(&quot;Age: &quot;);\r\n            int age = sc.nextInt();\r\n            people.add(new Person(name, age));\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Array of hashmaps","body":"<p>You could do that, but a more idiomatic approach for Java would be to create a <code>Person</code> class that contains all the data members you want to collect. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private String name;\n    private int age;\n    // other properties...\n\n    // Constructor using these properties\n    // Note: this is a stylistic choice. Some would prefer a default ctor and using setters later\n    public Person (String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    // Getters and setters for all the properties\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int numPeople = 7; // Arbitrary number for the example\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;(numPeople);\n        for (int i = 0; i &lt; numPeople; ++i) {\n            System.out.print(&quot;Name: &quot;);\n            String name = sc.next();\n            System.out.print(&quot;Age: &quot;);\n            int age = sc.nextInt();\n            people.add(new Person(name, age));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26452543,"reputation":55,"user_id":20095556,"display_name":"Nethum "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75706296,"answer_count":1,"score":2,"last_activity_date":1678632735,"creation_date":1678551089,"question_id":75706231,"body_markdown":"In python, I&#39;d use a list of dictionaries to collect data (like name, age, height, etc.) of several people that a user enters, but now I want to do the same thing in Java. Is an array of HashMaps the best way to do that?\r\n\r\n```java\r\nstatic List&lt;Map&lt;String, Object&gt;&gt; driverList = new ArrayList&lt;&gt;();\r\n```","title":"Array of hashmaps","body":"<p>In python, I'd use a list of dictionaries to collect data (like name, age, height, etc.) of several people that a user enters, but now I want to do the same thing in Java. Is an array of HashMaps the best way to do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Map&lt;String, Object&gt;&gt; driverList = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":13650876,"reputation":15,"user_id":9848794,"display_name":"OLEGA_zz"},"score":0,"creation_date":1678397058,"post_id":75690159,"comment_id":133529563,"body_markdown":"about WEB-INF is web.xml","body":"about WEB-INF is web.xml"}],"answers":[{"tags":[],"owner":{"account_id":27978025,"reputation":1,"user_id":21366353,"display_name":"Chetan Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678401715,"creation_date":1678401715,"answer_id":75690711,"question_id":75690159,"body_markdown":"try=&gt; **driverClassName=com.mysql.cj.jdbc.Driver**\r\nor use =&gt; **driver-class-name** as the property name ","title":"Connect jdbc to Tomcat","body":"<p>try=&gt; <strong>driverClassName=com.mysql.cj.jdbc.Driver</strong>\nor use =&gt; <strong>driver-class-name</strong> as the property name</p>\n"}],"owner":{"account_id":13650876,"reputation":15,"user_id":9848794,"display_name":"OLEGA_zz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678433944,"answer_count":1,"score":-1,"last_activity_date":1678632388,"creation_date":1678396875,"question_id":75690159,"body_markdown":"I am using Tomcat 10.0.27 and i cant connect my database clear JDBC to Tomcat. I&#39;m faced with the problem: my Tomcat local server didn&#39;t see my MySQL database with problem (see below in screenshot) [![enter image description here][1]][1] and my META-INF context.xml \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Context&gt;\r\n    &lt;Resource\r\n            name=&quot;jdbc/MySQLDataBase&quot; type=&quot;javax.sql.DataSource&quot;\r\n            maxActive=&quot;100&quot; maxIdle=&quot;30&quot; maxWait=&quot;10000&quot;\r\n            url=&quot;jdbc:mysql://localhost:3306/MySQLDataBase&quot;\r\n            driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n            username=&quot;***&quot; password=&quot;***&quot;\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nand WEB-INF\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n    &lt;resource-env-ref&gt;\r\n        &lt;resource-env-ref-name&gt;jdbc/MySQLDataBase&lt;/resource-env-ref-name&gt;\r\n        &lt;resource-env-ref-type&gt;javax.sql.DataSource&lt;/resource-env-ref-type&gt;\r\n    &lt;/resource-env-ref&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nI connect to lib MySQL connector version 8.0.28.jar and tomcat-dbcp-java-9.0.58.jar+tomcat-juil-9.0.58.jar and faced with problem tray (already attached).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ssOIg.png\r\n","title":"Connect jdbc to Tomcat","body":"<p>I am using Tomcat 10.0.27 and i cant connect my database clear JDBC to Tomcat. I'm faced with the problem: my Tomcat local server didn't see my MySQL database with problem (see below in screenshot) <a href=\"https://i.stack.imgur.com/ssOIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ssOIg.png\" alt=\"enter image description here\" /></a> and my META-INF context.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context&gt;\n    &lt;Resource\n            name=&quot;jdbc/MySQLDataBase&quot; type=&quot;javax.sql.DataSource&quot;\n            maxActive=&quot;100&quot; maxIdle=&quot;30&quot; maxWait=&quot;10000&quot;\n            url=&quot;jdbc:mysql://localhost:3306/MySQLDataBase&quot;\n            driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n            username=&quot;***&quot; password=&quot;***&quot;\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>and WEB-INF</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n    &lt;resource-env-ref&gt;\n        &lt;resource-env-ref-name&gt;jdbc/MySQLDataBase&lt;/resource-env-ref-name&gt;\n        &lt;resource-env-ref-type&gt;javax.sql.DataSource&lt;/resource-env-ref-type&gt;\n    &lt;/resource-env-ref&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I connect to lib MySQL connector version 8.0.28.jar and tomcat-dbcp-java-9.0.58.jar+tomcat-juil-9.0.58.jar and faced with problem tray (already attached).</p>\n"},{"tags":["java","android","google-ads-api"],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678632295,"creation_date":1678632295,"answer_id":75713941,"question_id":75610521,"body_markdown":"Eventually, I didn&#39;t find the solution I was looking for, so I did it like this - if the width of the screen is more than 728 so the biggest banner will be presented, if the screen width is less than 728, but greater than 300, so appropriate banner will be presented. I believe there is no need for the code presentation as the idea is pretty clear.","title":"There is a questions related to the Google Ad representation and ads sizes","body":"<p>Eventually, I didn't find the solution I was looking for, so I did it like this - if the width of the screen is more than 728 so the biggest banner will be presented, if the screen width is less than 728, but greater than 300, so appropriate banner will be presented. I believe there is no need for the code presentation as the idea is pretty clear.</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75713941,"answer_count":1,"score":0,"last_activity_date":1678632295,"creation_date":1677719913,"question_id":75610521,"body_markdown":"**The problem is** - is there a way to retrieve the ad with size of `728*90` and set it to my view which is `600*90`?\r\n\r\nThe problem is that the Ad is truncated in the portrait mode while in the landscape it looks good. \r\n\r\nPortrait:\r\n[![enter image description here][1]][1]\r\n\r\nLandscape: \r\n[![enter image description here][2]][2]\r\n\r\nI use tablet and in order to represent the Ad I use `AdManagerAdView`.\r\n\r\nI found out where the problem is - the problem is that the app requests the ad with the size of `(w:) 728 * (h:) 90`, however, the width of the tablet is `600dp`, so it is obvious that `128dp` is kind of out of the screen.\r\n\r\nI tried to check all possible ad sizes described here - https://developers.google.com/ad-manager/mobile-ads-sdk/android/banner#banner_sizes\r\n\r\nthese sizes:\r\n\r\n```\r\n            this.setAdSizes(AdSize(320, 50)) +\r\n            this.setAdSizes(AdSize(320, 100))\r\n            this.setAdSizes(AdSize(300, 250)) +\r\n            this.setAdSizes(AdSize(468, 60))\r\n            this.setAdSizes(AdSize(728, 90)) +\r\n```\r\n\r\nHowever, I wasn&#39;t able to retrieve all the ads by thier sizes, I only got these:\r\n\r\n```\r\n            this.setAdSizes(AdSize(320, 50)) +\r\n            this.setAdSizes(AdSize(300, 250)) +\r\n            this.setAdSizes(AdSize(728, 90)) +\r\n```\r\n\r\nFrom this point I made a conclusion that a publisher provides only these specific ads sizes. For me it means that if it is nessasary to use smaler ad that `728*90` the next size would be `300*250` which is more than twice narrowed than I need (`600dp`).\r\n\r\nSo the next idea was to use `NativeAd` (https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/start), however, I get an error: \r\n\r\n```\r\nonAdFailedToLoad: {\r\n                   &quot;Code&quot;: 3,\r\n                   &quot;Message&quot;: &quot;No ad config.&quot;,\r\n                   &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\r\n                   &quot;Cause&quot;: &quot;null&quot;,\r\n                   &quot;Response Info&quot;: {\r\n                     &quot;Response ID&quot;: &quot;null&quot;,\r\n                     &quot;Mediation Adapter Class Name&quot;: &quot;&quot;,\r\n                     &quot;Adapter Responses&quot;: []\r\n                   }\r\n                 }\r\n```\r\n\r\nSo as far as I undestand there is no way just to start to use `NativeAd`, it should be configurated on the publisher end first (as far as I see), because once I tried to made a request with the same credentials (as for `AdManagerAdView`), I get this config error, looks like `NativeAd` config is not existing on the publisher end.\r\n\r\nSo, finally the question is - is there a way to retrieve the ad with size of `728*90` and set it to my view which is `600*90`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NsHN9.png\r\n  [2]: https://i.stack.imgur.com/eM71u.png","title":"There is a questions related to the Google Ad representation and ads sizes","body":"<p><strong>The problem is</strong> - is there a way to retrieve the ad with size of <code>728*90</code> and set it to my view which is <code>600*90</code>?</p>\n<p>The problem is that the Ad is truncated in the portrait mode while in the landscape it looks good.</p>\n<p>Portrait:\n<a href=\"https://i.stack.imgur.com/NsHN9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NsHN9.png\" alt=\"enter image description here\" /></a></p>\n<p>Landscape:\n<a href=\"https://i.stack.imgur.com/eM71u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eM71u.png\" alt=\"enter image description here\" /></a></p>\n<p>I use tablet and in order to represent the Ad I use <code>AdManagerAdView</code>.</p>\n<p>I found out where the problem is - the problem is that the app requests the ad with the size of <code>(w:) 728 * (h:) 90</code>, however, the width of the tablet is <code>600dp</code>, so it is obvious that <code>128dp</code> is kind of out of the screen.</p>\n<p>I tried to check all possible ad sizes described here - <a href=\"https://developers.google.com/ad-manager/mobile-ads-sdk/android/banner#banner_sizes\" rel=\"nofollow noreferrer\">https://developers.google.com/ad-manager/mobile-ads-sdk/android/banner#banner_sizes</a></p>\n<p>these sizes:</p>\n<pre><code>            this.setAdSizes(AdSize(320, 50)) +\n            this.setAdSizes(AdSize(320, 100))\n            this.setAdSizes(AdSize(300, 250)) +\n            this.setAdSizes(AdSize(468, 60))\n            this.setAdSizes(AdSize(728, 90)) +\n</code></pre>\n<p>However, I wasn't able to retrieve all the ads by thier sizes, I only got these:</p>\n<pre><code>            this.setAdSizes(AdSize(320, 50)) +\n            this.setAdSizes(AdSize(300, 250)) +\n            this.setAdSizes(AdSize(728, 90)) +\n</code></pre>\n<p>From this point I made a conclusion that a publisher provides only these specific ads sizes. For me it means that if it is nessasary to use smaler ad that <code>728*90</code> the next size would be <code>300*250</code> which is more than twice narrowed than I need (<code>600dp</code>).</p>\n<p>So the next idea was to use <code>NativeAd</code> (<a href=\"https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/start\" rel=\"nofollow noreferrer\">https://developers.google.com/ad-manager/mobile-ads-sdk/android/native/start</a>), however, I get an error:</p>\n<pre><code>onAdFailedToLoad: {\n                   &quot;Code&quot;: 3,\n                   &quot;Message&quot;: &quot;No ad config.&quot;,\n                   &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\n                   &quot;Cause&quot;: &quot;null&quot;,\n                   &quot;Response Info&quot;: {\n                     &quot;Response ID&quot;: &quot;null&quot;,\n                     &quot;Mediation Adapter Class Name&quot;: &quot;&quot;,\n                     &quot;Adapter Responses&quot;: []\n                   }\n                 }\n</code></pre>\n<p>So as far as I undestand there is no way just to start to use <code>NativeAd</code>, it should be configurated on the publisher end first (as far as I see), because once I tried to made a request with the same credentials (as for <code>AdManagerAdView</code>), I get this config error, looks like <code>NativeAd</code> config is not existing on the publisher end.</p>\n<p>So, finally the question is - is there a way to retrieve the ad with size of <code>728*90</code> and set it to my view which is <code>600*90</code>?</p>\n"},{"tags":["java","ajax","jsp","servlets"],"owner":{"account_id":23994379,"reputation":3,"user_id":21144261,"display_name":"AzedClone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678631855,"creation_date":1678387037,"question_id":75688755,"body_markdown":"I have an issue that when I reload my web app many times, it fail to call Servlet to load data\r\n\r\nHere is my function to load data from DB using AJAX to call to Servlet:\r\n\r\n```\r\nfunction loadData(type) {\r\n    $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n        if (type == &quot;accounts&quot;) {\r\n            $(&#39;#accounts &gt; tbody&#39;).empty();\r\n            $(&#39;h2.data-number.data-account&#39;).html(data.length);\r\n\r\n            $.each(data, function (i, val) {\r\n                const row = $(&#39;&lt;tr&gt;&#39;).append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text(val.accountID))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text(val.username))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text(val.name))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text(val.email))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text(val.phone))\r\n                        .append($(&#39;&lt;td&gt;&#39;).text((val.role == 1) ? &#39;Doctor&#39; : &#39;Patient&#39;));\r\n\r\n                $(&#39;#accounts &gt; tbody&#39;).append(row);\r\n            });\r\n        } else if (type == &quot;doctors&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                var aEdit = $(&#39;&lt;a class=&quot;editDoc&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editDoc&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n                var aDeleteDoc = $(&#39;&lt;a class=&quot;deleteDoc&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n                $(&#39;#doctors &gt; tbody&#39;).empty();\r\n                $(&#39;h2.data-number.data-doctor&#39;).html(data.length);\r\n\r\n                $.each(data, function (i, val) {\r\n                    const row = $(&#39;&lt;tr&gt;&#39;).append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.username))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.name))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.email))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.phone))\r\n                            .append($(&#39;&lt;td class=&quot;action&quot;&gt;&#39;));\r\n\r\n                    row.find(&#39;td.action&#39;)\r\n                            .append(aEdit.clone().attr({&#39;href&#39;: &#39;../../loadData?username=&#39; + val.username}))\r\n                            .append(aDeleteDoc.clone().attr({&#39;href&#39;: &#39;../../manageDoctor?username=&#39; + val.username + &#39;&amp;type=delete&#39;}));\r\n\r\n                    $(&#39;#doctors &gt; tbody&#39;).append(row);\r\n                });\r\n            });\r\n        } else if (type == &quot;patients&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                var aView = $(&#39;&lt;a class=&quot;viewPat&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-viewPat&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-eye text-primary me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n                var aDeletePat = $(&#39;&lt;a class=&quot;deletePat&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n\r\n                $(&#39;#patients &gt; tbody&#39;).empty();\r\n                $(&#39;h2.data-number.data-patient&#39;).html(data.length);\r\n\r\n                $.each(data, function (i, val) {\r\n                    const row = $(&#39;&lt;tr&gt;&#39;).append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.username))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.name))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.email))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.phone))\r\n                            .append($(&#39;&lt;td class=&quot;action&quot;&gt;&#39;));\r\n\r\n                    row.find(&#39;td.action&#39;)\r\n                            .append(aView.clone().attr({&#39;href&#39;: &#39;../../loadData?username=&#39; + val.username}))\r\n                            .append(aDeletePat.clone().attr({&#39;href&#39;: &#39;../../managePatient?username=&#39; + val.username + &#39;&amp;type=delete&#39;}));\r\n\r\n                    $(&#39;#patients &gt; tbody&#39;).append(row);\r\n                })\r\n            })\r\n        } else if (type == &quot;blogs&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                var aEdit = $(&#39;&lt;a class=&quot;editBlog&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editBlog&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n                var aDeleteBlog = $(&#39;&lt;a class=&quot;deleteBlog&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n\r\n                $(&#39;#blogs &gt; tbody&#39;).empty();\r\n                $(&#39;h2.data-number.data-blog&#39;).html(data.length);\r\n\r\n                $.each(data, function (i, val) {\r\n                    const row = $(&#39;&lt;tr&gt;&#39;)\r\n                            .append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.title))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.categoryName))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.authorName))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.createdDate))\r\n                            .append($(&#39;&lt;td&gt;&#39;).html((val.status == 1 ? &#39;Approved&lt;i class=&quot;fa-solid fa-circle-check text-success ms-2&quot;&gt;&lt;/i&gt;&#39; : &#39;Pending&lt;i class=&quot;fa-solid fa-circle-pause text-danger ms-2&quot;&gt;&lt;/i&gt;&#39;)))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.publishedDate))\r\n                            .append($(&#39;&lt;td class=&quot;action&quot;&gt;&#39;));\r\n\r\n                    row.find(&#39;td.action&#39;)\r\n                            .append(aEdit.clone().attr({&#39;href&#39;: &#39;../../loadData?blogID=&#39; + val.blogID}))\r\n                            .append(aDeleteBlog.clone().attr({&#39;href&#39;: &#39;../../manageBlog?blogID=&#39; + val.blogID + &#39;&amp;type=delete&#39;}))\r\n\r\n                    $(&#39;#blogs &gt; tbody&#39;).append(row);\r\n                })\r\n            })\r\n        } else if (type == &quot;categories&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                $(&#39;#categoryLabel&#39;).empty();\r\n                $(&#39;#categoryBlogLabel&#39;).empty();\r\n\r\n                $.each(data, function (i, val) {\r\n                    $(&#39;#categoryLabel&#39;).append($(&#39;&lt;option value=&quot;&#39; + (i + 1) + &#39;&quot;&gt;&#39;).text(val.categoryName))\r\n                    $(&#39;#categoryBlogLabel&#39;).append($(&#39;&lt;option value=&quot;&#39; + (i + 1) + &#39;&quot;&gt;&#39;).text(val.categoryName))\r\n                })\r\n            })\r\n        } else if (type == &quot;services&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                var aEdit = $(&#39;&lt;a class=&quot;editService&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editService&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n\r\n                $(&#39;#services &gt; tbody&#39;).empty();\r\n\r\n                $.each(data, function (i, val) {\r\n                    const row = $(&#39;&lt;tr&gt;&#39;).append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.name))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.price))\r\n                            .append($(&#39;&lt;td&gt;&#39;).html((val.status == 1 ? &#39;Available&lt;i class=&quot;fa-solid fa-circle-check text-success ms-2&quot;&gt;&lt;/i&gt;&#39; : &#39;Disabled&lt;i class=&quot;fa-solid fa-ban text-danger ms-2&quot;&gt;&lt;/i&gt;&#39;)))\r\n                            .append($(&#39;&lt;td class=&quot;action&quot;&gt;&#39;));\r\n\r\n                    row.find(&#39;td.action&#39;)\r\n                            .append(aEdit.clone().attr({&#39;href&#39;: &#39;../../loadData?serviceID=&#39; + val.serviceID}))\r\n\r\n                    $(&#39;#services &gt; tbody&#39;).append(row);\r\n                })\r\n\r\n            })\r\n        } else if (type == &quot;medicines&quot;) {\r\n            $.post(&#39;../../loadData?type=&#39; + type, function (data) {\r\n                var aEdit = $(&#39;&lt;a class=&quot;editMedicine&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editMedicine&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;&#39;);\r\n\r\n                $(&#39;#medicines &gt; tbody&#39;).empty();\r\n\r\n                $.each(data, function (i, val) {\r\n                    const row = $(&#39;&lt;tr&gt;&#39;).append($(&#39;&lt;th scope=&quot;row&quot;&gt;&#39;).text(i + 1))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.name))\r\n                            .append($(&#39;&lt;td&gt;&#39;).text(val.brand))\r\n                            .append($(&#39;&lt;td class=&quot;action&quot;&gt;&#39;));\r\n\r\n                    row.find(&#39;td.action&#39;)\r\n                            .append(aEdit.clone().attr({&#39;href&#39;: &#39;../../loadData?medicineID=&#39; + val.medicineID}))\r\n\r\n                    $(&#39;#medicines &gt; tbody&#39;).append(row);\r\n                })\r\n\r\n            })\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nMy Servlet:\r\n\r\n```\r\nAccountDAO accountDAO = new AccountDAO();\r\n        BlogDAO blogDAO = new BlogDAO();\r\n        AppointmentDAO appointmentDAO = new AppointmentDAO();\r\n        ServiceDAO serviceDAO = new ServiceDAO();\r\n        MedicineDAO medicineDAO = new MedicineDAO();\r\n        ExaminationDAO examinationDAO = new ExaminationDAO();\r\n        PrescriptionDAO prescriptionDAO = new PrescriptionDAO();\r\n\r\n        String type = request.getParameter(&quot;type&quot;);\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String blogID = request.getParameter(&quot;blogID&quot;);\r\n        String appointmentID = request.getParameter(&quot;appointmentID&quot;);\r\n        String serviceID = request.getParameter(&quot;serviceID&quot;);\r\n        String medicineID = request.getParameter(&quot;medicineID&quot;);\r\n        String examinationID = request.getParameter(&quot;examinationID&quot;);\r\n        String prescriptionID = request.getParameter(&quot;prescriptionID&quot;);\r\n\r\n        if (type != null) {\r\n            switch (type) {\r\n                case &quot;accounts&quot;: {\r\n                    List&lt;Account&gt; accounts = accountDAO.getAccounts();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(accounts));\r\n                    break;\r\n                }\r\n                case &quot;doctors&quot;: {\r\n                    List&lt;Account&gt; doctors = accountDAO.getAccountsByRole(1);\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(doctors));\r\n                    break;\r\n                }\r\n                case &quot;patients&quot;: {\r\n                    List&lt;Account&gt; patients = accountDAO.getAccountsByRole(2);\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(patients));\r\n                    break;\r\n                }\r\n                case &quot;blogs&quot;: {\r\n                    List&lt;Blog&gt; blogs = blogDAO.getBlogs();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(blogs));\r\n                    break;\r\n                }\r\n                case &quot;categories&quot;: {\r\n                    List&lt;Category&gt; categories = blogDAO.getCategories();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(categories));\r\n                    break;\r\n                }\r\n                case &quot;appointments&quot;: {\r\n                    HttpSession session = request.getSession();\r\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\r\n                    if (currentAccount.getRole() == 2) {\r\n                        List&lt;Appointment&gt; appointments = appointmentDAO.getAppointmentsForPat(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(appointments));\r\n                    } else if (currentAccount.getRole() == 1) {\r\n                        List&lt;Appointment&gt; appointments = appointmentDAO.getAppointmentsForDoc(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(appointments));\r\n                    }\r\n                    break;\r\n                }\r\n                case &quot;slots&quot;: {\r\n                    String bookedDate_raw = request.getParameter(&quot;bookedDate&quot;);\r\n                    String doctorID = request.getParameter(&quot;doctorID&quot;);\r\n\r\n                    List&lt;Integer&gt; slots = appointmentDAO.busySlot(Date.valueOf(bookedDate_raw), Integer.parseInt(doctorID));\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(slots));\r\n                    break;\r\n                }\r\n                case &quot;services&quot;: {\r\n                    List&lt;Service&gt; services = serviceDAO.getServices();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(services));\r\n                    break;\r\n                }\r\n                case &quot;medicines&quot;: {\r\n                    List&lt;Medicine&gt; medicines = medicineDAO.getMedicines();\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(new Gson().toJson(medicines));\r\n                    break;\r\n                }\r\n                case &quot;examinations&quot;: {\r\n                    HttpSession session = request.getSession();\r\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\r\n                    if (currentAccount.getRole() == 2) {\r\n                        List&lt;Examination&gt; examinations = examinationDAO.getExaminationsForPat(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(examinations));\r\n                    } else if (currentAccount.getRole() == 1) {\r\n                        List&lt;Examination&gt; examinations = examinationDAO.getExaminationsForDoc(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(examinations));\r\n                    }\r\n                    break;\r\n                }\r\n                case &quot;prescriptions&quot;: {\r\n                    HttpSession session = request.getSession();\r\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\r\n                    if (currentAccount.getRole() == 2) {\r\n                        List&lt;Prescription&gt; prescriptions = prescriptionDAO.getPrescriptionsForPat(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(prescriptions));\r\n                    } else if (currentAccount.getRole() == 1) {\r\n                        List&lt;Prescription&gt; prescriptions = prescriptionDAO.getPrescriptionsForDoc(currentAccount.getAccountID());\r\n                        response.setContentType(&quot;application/json&quot;);\r\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                        response.getWriter().write(new Gson().toJson(prescriptions));\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n        } else if (username != null) {\r\n            Account account = accountDAO.getAccount(username);\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String accountJson = gsonBuilder.create().toJson(account);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(accountJson);\r\n        } else if (blogID != null) {\r\n            Blog blog = blogDAO.getBlog(Integer.parseInt(blogID));\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String blogJson = gsonBuilder.create().toJson(blog);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(blogJson);\r\n        } else if (appointmentID != null) {\r\n            Appointment appointment = appointmentDAO.getAppointment(Integer.parseInt(appointmentID));\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String appointmentJson = gsonBuilder.create().toJson(appointment);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(appointmentJson);\r\n        } else if (serviceID != null) {\r\n            Service service = serviceDAO.getService(Integer.parseInt(serviceID));\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(new Gson().toJson(service));\r\n        } else if (medicineID != null) {\r\n            Medicine medicine = medicineDAO.getMedicine(Integer.parseInt(medicineID));\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(new Gson().toJson(medicine));\r\n        } else if (examinationID != null) {\r\n            Examination examination = examinationDAO.getExamination(Integer.parseInt(examinationID));\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String examinationJson = gsonBuilder.create().toJson(examination);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(examinationJson);\r\n        } else if (prescriptionID != null) {\r\n            Prescription prescription = prescriptionDAO.getPrescription(Integer.parseInt(prescriptionID));\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String prescriptionJson = gsonBuilder.create().toJson(prescription);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;utf-8&quot;);\r\n            response.getWriter().write(prescriptionJson);\r\n        }\r\n    }\r\n```\r\n\r\nAnd the error message:\r\n![error shown in console](https://i.stack.imgur.com/Sb3L8.png)\r\n\r\n\r\nI have no idea about what problem I am facing, please help me or tell me know what problem I have.","title":"Can&#39;t load data when reload web app many times in Servlet","body":"<p>I have an issue that when I reload my web app many times, it fail to call Servlet to load data</p>\n<p>Here is my function to load data from DB using AJAX to call to Servlet:</p>\n<pre><code>function loadData(type) {\n    $.post('../../loadData?type=' + type, function (data) {\n        if (type == &quot;accounts&quot;) {\n            $('#accounts &gt; tbody').empty();\n            $('h2.data-number.data-account').html(data.length);\n\n            $.each(data, function (i, val) {\n                const row = $('&lt;tr&gt;').append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                        .append($('&lt;td&gt;').text(val.accountID))\n                        .append($('&lt;td&gt;').text(val.username))\n                        .append($('&lt;td&gt;').text(val.name))\n                        .append($('&lt;td&gt;').text(val.email))\n                        .append($('&lt;td&gt;').text(val.phone))\n                        .append($('&lt;td&gt;').text((val.role == 1) ? 'Doctor' : 'Patient'));\n\n                $('#accounts &gt; tbody').append(row);\n            });\n        } else if (type == &quot;doctors&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                var aEdit = $('&lt;a class=&quot;editDoc&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editDoc&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n                var aDeleteDoc = $('&lt;a class=&quot;deleteDoc&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n                $('#doctors &gt; tbody').empty();\n                $('h2.data-number.data-doctor').html(data.length);\n\n                $.each(data, function (i, val) {\n                    const row = $('&lt;tr&gt;').append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                            .append($('&lt;td&gt;').text(val.username))\n                            .append($('&lt;td&gt;').text(val.name))\n                            .append($('&lt;td&gt;').text(val.email))\n                            .append($('&lt;td&gt;').text(val.phone))\n                            .append($('&lt;td class=&quot;action&quot;&gt;'));\n\n                    row.find('td.action')\n                            .append(aEdit.clone().attr({'href': '../../loadData?username=' + val.username}))\n                            .append(aDeleteDoc.clone().attr({'href': '../../manageDoctor?username=' + val.username + '&amp;type=delete'}));\n\n                    $('#doctors &gt; tbody').append(row);\n                });\n            });\n        } else if (type == &quot;patients&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                var aView = $('&lt;a class=&quot;viewPat&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-viewPat&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-eye text-primary me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n                var aDeletePat = $('&lt;a class=&quot;deletePat&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n\n                $('#patients &gt; tbody').empty();\n                $('h2.data-number.data-patient').html(data.length);\n\n                $.each(data, function (i, val) {\n                    const row = $('&lt;tr&gt;').append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                            .append($('&lt;td&gt;').text(val.username))\n                            .append($('&lt;td&gt;').text(val.name))\n                            .append($('&lt;td&gt;').text(val.email))\n                            .append($('&lt;td&gt;').text(val.phone))\n                            .append($('&lt;td class=&quot;action&quot;&gt;'));\n\n                    row.find('td.action')\n                            .append(aView.clone().attr({'href': '../../loadData?username=' + val.username}))\n                            .append(aDeletePat.clone().attr({'href': '../../managePatient?username=' + val.username + '&amp;type=delete'}));\n\n                    $('#patients &gt; tbody').append(row);\n                })\n            })\n        } else if (type == &quot;blogs&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                var aEdit = $('&lt;a class=&quot;editBlog&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editBlog&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n                var aDeleteBlog = $('&lt;a class=&quot;deleteBlog&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-trash-can text-danger&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n\n                $('#blogs &gt; tbody').empty();\n                $('h2.data-number.data-blog').html(data.length);\n\n                $.each(data, function (i, val) {\n                    const row = $('&lt;tr&gt;')\n                            .append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                            .append($('&lt;td&gt;').text(val.title))\n                            .append($('&lt;td&gt;').text(val.categoryName))\n                            .append($('&lt;td&gt;').text(val.authorName))\n                            .append($('&lt;td&gt;').text(val.createdDate))\n                            .append($('&lt;td&gt;').html((val.status == 1 ? 'Approved&lt;i class=&quot;fa-solid fa-circle-check text-success ms-2&quot;&gt;&lt;/i&gt;' : 'Pending&lt;i class=&quot;fa-solid fa-circle-pause text-danger ms-2&quot;&gt;&lt;/i&gt;')))\n                            .append($('&lt;td&gt;').text(val.publishedDate))\n                            .append($('&lt;td class=&quot;action&quot;&gt;'));\n\n                    row.find('td.action')\n                            .append(aEdit.clone().attr({'href': '../../loadData?blogID=' + val.blogID}))\n                            .append(aDeleteBlog.clone().attr({'href': '../../manageBlog?blogID=' + val.blogID + '&amp;type=delete'}))\n\n                    $('#blogs &gt; tbody').append(row);\n                })\n            })\n        } else if (type == &quot;categories&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                $('#categoryLabel').empty();\n                $('#categoryBlogLabel').empty();\n\n                $.each(data, function (i, val) {\n                    $('#categoryLabel').append($('&lt;option value=&quot;' + (i + 1) + '&quot;&gt;').text(val.categoryName))\n                    $('#categoryBlogLabel').append($('&lt;option value=&quot;' + (i + 1) + '&quot;&gt;').text(val.categoryName))\n                })\n            })\n        } else if (type == &quot;services&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                var aEdit = $('&lt;a class=&quot;editService&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editService&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n\n                $('#services &gt; tbody').empty();\n\n                $.each(data, function (i, val) {\n                    const row = $('&lt;tr&gt;').append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                            .append($('&lt;td&gt;').text(val.name))\n                            .append($('&lt;td&gt;').text(val.price))\n                            .append($('&lt;td&gt;').html((val.status == 1 ? 'Available&lt;i class=&quot;fa-solid fa-circle-check text-success ms-2&quot;&gt;&lt;/i&gt;' : 'Disabled&lt;i class=&quot;fa-solid fa-ban text-danger ms-2&quot;&gt;&lt;/i&gt;')))\n                            .append($('&lt;td class=&quot;action&quot;&gt;'));\n\n                    row.find('td.action')\n                            .append(aEdit.clone().attr({'href': '../../loadData?serviceID=' + val.serviceID}))\n\n                    $('#services &gt; tbody').append(row);\n                })\n\n            })\n        } else if (type == &quot;medicines&quot;) {\n            $.post('../../loadData?type=' + type, function (data) {\n                var aEdit = $('&lt;a class=&quot;editMedicine&quot; data-bs-toggle=&quot;modal&quot; data-bs-target=&quot;#form-editMedicine&quot; href=&quot;&quot;&gt;&lt;i class=&quot;fa-solid fa-pen text-dark me-3&quot;&gt;&lt;/i&gt;&lt;/a&gt;');\n\n                $('#medicines &gt; tbody').empty();\n\n                $.each(data, function (i, val) {\n                    const row = $('&lt;tr&gt;').append($('&lt;th scope=&quot;row&quot;&gt;').text(i + 1))\n                            .append($('&lt;td&gt;').text(val.name))\n                            .append($('&lt;td&gt;').text(val.brand))\n                            .append($('&lt;td class=&quot;action&quot;&gt;'));\n\n                    row.find('td.action')\n                            .append(aEdit.clone().attr({'href': '../../loadData?medicineID=' + val.medicineID}))\n\n                    $('#medicines &gt; tbody').append(row);\n                })\n\n            })\n        }\n    });\n}\n</code></pre>\n<p>My Servlet:</p>\n<pre><code>AccountDAO accountDAO = new AccountDAO();\n        BlogDAO blogDAO = new BlogDAO();\n        AppointmentDAO appointmentDAO = new AppointmentDAO();\n        ServiceDAO serviceDAO = new ServiceDAO();\n        MedicineDAO medicineDAO = new MedicineDAO();\n        ExaminationDAO examinationDAO = new ExaminationDAO();\n        PrescriptionDAO prescriptionDAO = new PrescriptionDAO();\n\n        String type = request.getParameter(&quot;type&quot;);\n        String username = request.getParameter(&quot;username&quot;);\n        String blogID = request.getParameter(&quot;blogID&quot;);\n        String appointmentID = request.getParameter(&quot;appointmentID&quot;);\n        String serviceID = request.getParameter(&quot;serviceID&quot;);\n        String medicineID = request.getParameter(&quot;medicineID&quot;);\n        String examinationID = request.getParameter(&quot;examinationID&quot;);\n        String prescriptionID = request.getParameter(&quot;prescriptionID&quot;);\n\n        if (type != null) {\n            switch (type) {\n                case &quot;accounts&quot;: {\n                    List&lt;Account&gt; accounts = accountDAO.getAccounts();\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(accounts));\n                    break;\n                }\n                case &quot;doctors&quot;: {\n                    List&lt;Account&gt; doctors = accountDAO.getAccountsByRole(1);\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(doctors));\n                    break;\n                }\n                case &quot;patients&quot;: {\n                    List&lt;Account&gt; patients = accountDAO.getAccountsByRole(2);\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(patients));\n                    break;\n                }\n                case &quot;blogs&quot;: {\n                    List&lt;Blog&gt; blogs = blogDAO.getBlogs();\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(blogs));\n                    break;\n                }\n                case &quot;categories&quot;: {\n                    List&lt;Category&gt; categories = blogDAO.getCategories();\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(categories));\n                    break;\n                }\n                case &quot;appointments&quot;: {\n                    HttpSession session = request.getSession();\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\n                    if (currentAccount.getRole() == 2) {\n                        List&lt;Appointment&gt; appointments = appointmentDAO.getAppointmentsForPat(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(appointments));\n                    } else if (currentAccount.getRole() == 1) {\n                        List&lt;Appointment&gt; appointments = appointmentDAO.getAppointmentsForDoc(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(appointments));\n                    }\n                    break;\n                }\n                case &quot;slots&quot;: {\n                    String bookedDate_raw = request.getParameter(&quot;bookedDate&quot;);\n                    String doctorID = request.getParameter(&quot;doctorID&quot;);\n\n                    List&lt;Integer&gt; slots = appointmentDAO.busySlot(Date.valueOf(bookedDate_raw), Integer.parseInt(doctorID));\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(slots));\n                    break;\n                }\n                case &quot;services&quot;: {\n                    List&lt;Service&gt; services = serviceDAO.getServices();\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(services));\n                    break;\n                }\n                case &quot;medicines&quot;: {\n                    List&lt;Medicine&gt; medicines = medicineDAO.getMedicines();\n                    response.setContentType(&quot;application/json&quot;);\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\n                    response.getWriter().write(new Gson().toJson(medicines));\n                    break;\n                }\n                case &quot;examinations&quot;: {\n                    HttpSession session = request.getSession();\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\n                    if (currentAccount.getRole() == 2) {\n                        List&lt;Examination&gt; examinations = examinationDAO.getExaminationsForPat(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(examinations));\n                    } else if (currentAccount.getRole() == 1) {\n                        List&lt;Examination&gt; examinations = examinationDAO.getExaminationsForDoc(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(examinations));\n                    }\n                    break;\n                }\n                case &quot;prescriptions&quot;: {\n                    HttpSession session = request.getSession();\n                    Account currentAccount = (Account) session.getAttribute(&quot;currentAccount&quot;);\n                    if (currentAccount.getRole() == 2) {\n                        List&lt;Prescription&gt; prescriptions = prescriptionDAO.getPrescriptionsForPat(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(prescriptions));\n                    } else if (currentAccount.getRole() == 1) {\n                        List&lt;Prescription&gt; prescriptions = prescriptionDAO.getPrescriptionsForDoc(currentAccount.getAccountID());\n                        response.setContentType(&quot;application/json&quot;);\n                        response.setCharacterEncoding(&quot;utf-8&quot;);\n                        response.getWriter().write(new Gson().toJson(prescriptions));\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n        } else if (username != null) {\n            Account account = accountDAO.getAccount(username);\n            GsonBuilder gsonBuilder = new GsonBuilder();\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\n            String accountJson = gsonBuilder.create().toJson(account);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(accountJson);\n        } else if (blogID != null) {\n            Blog blog = blogDAO.getBlog(Integer.parseInt(blogID));\n            GsonBuilder gsonBuilder = new GsonBuilder();\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\n            String blogJson = gsonBuilder.create().toJson(blog);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(blogJson);\n        } else if (appointmentID != null) {\n            Appointment appointment = appointmentDAO.getAppointment(Integer.parseInt(appointmentID));\n            GsonBuilder gsonBuilder = new GsonBuilder();\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\n            String appointmentJson = gsonBuilder.create().toJson(appointment);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(appointmentJson);\n        } else if (serviceID != null) {\n            Service service = serviceDAO.getService(Integer.parseInt(serviceID));\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(new Gson().toJson(service));\n        } else if (medicineID != null) {\n            Medicine medicine = medicineDAO.getMedicine(Integer.parseInt(medicineID));\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(new Gson().toJson(medicine));\n        } else if (examinationID != null) {\n            Examination examination = examinationDAO.getExamination(Integer.parseInt(examinationID));\n            GsonBuilder gsonBuilder = new GsonBuilder();\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\n            String examinationJson = gsonBuilder.create().toJson(examination);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(examinationJson);\n        } else if (prescriptionID != null) {\n            Prescription prescription = prescriptionDAO.getPrescription(Integer.parseInt(prescriptionID));\n            GsonBuilder gsonBuilder = new GsonBuilder();\n            gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&quot;);\n            String prescriptionJson = gsonBuilder.create().toJson(prescription);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;utf-8&quot;);\n            response.getWriter().write(prescriptionJson);\n        }\n    }\n</code></pre>\n<p>And the error message:\n<img src=\"https://i.stack.imgur.com/Sb3L8.png\" alt=\"error shown in console\" /></p>\n<p>I have no idea about what problem I am facing, please help me or tell me know what problem I have.</p>\n"},{"tags":["java","scala","plugins","noclassdeffounderror","urlclassloader"],"answers":[{"tags":[],"owner":{"account_id":557104,"reputation":4198,"user_id":919434,"accept_rate":93,"display_name":"Sim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678631525,"creation_date":1678631525,"answer_id":75713833,"question_id":75700949,"body_markdown":"I do not understand the underlying logic but you need to provide a different parent class loader to the `URLClassLoader`. After some fuzzing I successfully ran the code using the class loader of the object containing the main function:\r\n\r\n```\r\n  def loadPlugins(name : String) : Option[AnalysisPlugin] = {\r\n    val classInfo: (ClassInfo, File) = pluginMap.getOrElse(name, throw new IllegalArgumentException(s&quot;the plugin $name does not exist&quot;))\r\n    val urls: List[URL] = List(classInfo._2.toURI.toURL)\r\n    val parentClassLoader = Main.getClass.getClassLoader\r\n    val childClassLoader = URLClassLoader.newInstance(urls.toArray, parentClassLoader)\r\n    try {\r\n      info(s&quot;loading plugin ${classInfo._1.name}&quot;)\r\n      Some(Class.forName(classInfo._1.name,true, childClassLoader).newInstance().asInstanceOf[AnalysisPlugin])\r\n    } catch {\r\n      case x : NoClassDefFoundError =&gt;\r\n        error(x)\r\n        error(s&quot;plugin $name cannot be loaded check the plugin directory and make sure it is contained&quot;)\r\n        None\r\n    } finally {\r\n      childClassLoader.close()\r\n    }\r\n  }\r\n```","title":"URLClassLoader NoClassDefFound Exception when loading class from JAR","body":"<p>I do not understand the underlying logic but you need to provide a different parent class loader to the <code>URLClassLoader</code>. After some fuzzing I successfully ran the code using the class loader of the object containing the main function:</p>\n<pre><code>  def loadPlugins(name : String) : Option[AnalysisPlugin] = {\n    val classInfo: (ClassInfo, File) = pluginMap.getOrElse(name, throw new IllegalArgumentException(s&quot;the plugin $name does not exist&quot;))\n    val urls: List[URL] = List(classInfo._2.toURI.toURL)\n    val parentClassLoader = Main.getClass.getClassLoader\n    val childClassLoader = URLClassLoader.newInstance(urls.toArray, parentClassLoader)\n    try {\n      info(s&quot;loading plugin ${classInfo._1.name}&quot;)\n      Some(Class.forName(classInfo._1.name,true, childClassLoader).newInstance().asInstanceOf[AnalysisPlugin])\n    } catch {\n      case x : NoClassDefFoundError =&gt;\n        error(x)\n        error(s&quot;plugin $name cannot be loaded check the plugin directory and make sure it is contained&quot;)\n        None\n    } finally {\n      childClassLoader.close()\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":557104,"reputation":4198,"user_id":919434,"accept_rate":93,"display_name":"Sim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678631525,"creation_date":1678481797,"question_id":75700949,"body_markdown":"I am trying to write my own small plugin loader:\r\n\r\n```\r\npackage some.package.plugins\r\n\r\nimport org.clapper.classutil.{ClassFinder, ClassInfo}\r\nimport wvlet.log.LogSupport\r\nimport java.io.File\r\nimport java.net.{URL, URLClassLoader}\r\n\r\nobject PluginManager extends LogSupport {\r\n\r\n  val PLUGIN_DIRECTOR = &quot;./plugins/&quot;\r\n  val PLUGIN_INTERFACE = &quot;package.Plugin&quot;\r\n\r\n  val jars: List[File] = new File(PLUGIN_DIRECTOR).listFiles.filter(_.getPath.endsWith(&quot;.jar&quot;)).toList\r\n  private val pluginMap : Map[String,(ClassInfo,File)] = {\r\n    jars.flatMap {\r\n      jar =&gt;\r\n        val finder = ClassFinder(List(jar))\r\n        println(finder.getClasses().map(_.interfaces).toList)\r\n        finder.getClasses().filter(_.interfaces.contains(PLUGIN_INTERFACE)).map {\r\n          info =&gt;\r\n            info.name.split(&quot;\\\\.&quot;).last -&gt; (info, jar)\r\n        }\r\n    }.toMap\r\n  }\r\n\r\n  def getPlugins : Set[String] = pluginMap.keySet\r\n\r\n  def loadPlugins(name : String) : AnalysisPlugin = {\r\n    val classInfo : (ClassInfo,File) = pluginMap.getOrElse(name,throw new IllegalArgumentException(s&quot;the plugin $name does not exist&quot;))\r\n    val urls : List[URL] = List(classInfo._2.toURI.toURL)\r\n    val childClassLoader = URLClassLoader.newInstance(urls.toArray, ClassLoader.getSystemClassLoader)\r\n    info(s&quot;loading plugin ${classInfo._1.name}&quot;)\r\n    val c: Class[_] = childClassLoader.loadClass(classInfo._1.name)\r\n    assert(c.getConstructors.length == 1)\r\n    c.getConstructors.head.newInstance().asInstanceOf[AnalysisPlugin]\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nI use `ClassFinder` and `ClassInfo` to identify all classes in a `.jar` that implement the `PLUGIN_INTERFACE`. \r\nThe output confirms that I do find the class that does. I then use the `URLClassLoader` provided with exactly the same jars to load the corresponding class using `childClassLoader.loadClass` but I get a `NoClassDefFound` exception.\r\n\r\nThe issue here seems to be the interface class, i.e., die interface that is supposed to enable different plugins being transparent for the plugin manager. `package.Plugin` is the class that cannot be loaded.\r\n\r\nHow can I load a class contained in a `.jar` using `URLClassLoader`.","title":"URLClassLoader NoClassDefFound Exception when loading class from JAR","body":"<p>I am trying to write my own small plugin loader:</p>\n<pre><code>package some.package.plugins\n\nimport org.clapper.classutil.{ClassFinder, ClassInfo}\nimport wvlet.log.LogSupport\nimport java.io.File\nimport java.net.{URL, URLClassLoader}\n\nobject PluginManager extends LogSupport {\n\n  val PLUGIN_DIRECTOR = &quot;./plugins/&quot;\n  val PLUGIN_INTERFACE = &quot;package.Plugin&quot;\n\n  val jars: List[File] = new File(PLUGIN_DIRECTOR).listFiles.filter(_.getPath.endsWith(&quot;.jar&quot;)).toList\n  private val pluginMap : Map[String,(ClassInfo,File)] = {\n    jars.flatMap {\n      jar =&gt;\n        val finder = ClassFinder(List(jar))\n        println(finder.getClasses().map(_.interfaces).toList)\n        finder.getClasses().filter(_.interfaces.contains(PLUGIN_INTERFACE)).map {\n          info =&gt;\n            info.name.split(&quot;\\\\.&quot;).last -&gt; (info, jar)\n        }\n    }.toMap\n  }\n\n  def getPlugins : Set[String] = pluginMap.keySet\n\n  def loadPlugins(name : String) : AnalysisPlugin = {\n    val classInfo : (ClassInfo,File) = pluginMap.getOrElse(name,throw new IllegalArgumentException(s&quot;the plugin $name does not exist&quot;))\n    val urls : List[URL] = List(classInfo._2.toURI.toURL)\n    val childClassLoader = URLClassLoader.newInstance(urls.toArray, ClassLoader.getSystemClassLoader)\n    info(s&quot;loading plugin ${classInfo._1.name}&quot;)\n    val c: Class[_] = childClassLoader.loadClass(classInfo._1.name)\n    assert(c.getConstructors.length == 1)\n    c.getConstructors.head.newInstance().asInstanceOf[AnalysisPlugin]\n  }\n\n}\n\n</code></pre>\n<p>I use <code>ClassFinder</code> and <code>ClassInfo</code> to identify all classes in a <code>.jar</code> that implement the <code>PLUGIN_INTERFACE</code>.\nThe output confirms that I do find the class that does. I then use the <code>URLClassLoader</code> provided with exactly the same jars to load the corresponding class using <code>childClassLoader.loadClass</code> but I get a <code>NoClassDefFound</code> exception.</p>\n<p>The issue here seems to be the interface class, i.e., die interface that is supposed to enable different plugins being transparent for the plugin manager. <code>package.Plugin</code> is the class that cannot be loaded.</p>\n<p>How can I load a class contained in a <code>.jar</code> using <code>URLClassLoader</code>.</p>\n"},{"tags":["java","android","exception","android-intent","android-securityexception"],"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678631150,"creation_date":1678624975,"question_id":75713185,"body_markdown":"I have a method in my which starts an intent to open a web page in the user&#39;s browser (or whatever).\r\n\r\nIt has worked for ages, but in my latest release tagetting API 32) I have started to see quite a few `java.lang.SecurityException` crashes cropping up.\r\n\r\nI have added a catch for this exception to my code, along with a few other catches) to prevent the crash, but I want to be able to show the user a meaningful message when the page fails to open. I can, if course, just show a message saying that the page failed to open but I&#39;d prefer to be less vague if there are common situations that cause this.\r\n\r\nThe URLs to open are either fixed or created by my app and so are known good URL. (Even so I catch the ParseException just in case).\r\n\r\nI haven&#39;t been able to reproduce the crash myself so I cannot figure out what situation might be causing it.\r\n\r\nThis is what is in my `try` block:\r\n\r\n    open_web_page_intent.setData(Uri.parse(url_to_view));\r\n    startActivity(context, open_web_page_intent, null);\r\n\r\nAnd I am specifically `catch`ing `ActivatyNotFoundException`, `ParseException` and now `Security Exception` in order to prevent the crash and show the user are helpful message.\r\n\r\nBut what situations can cause that Security exception? Is it likely to be something on the user&#39;s device like settings or some other out of date software on their device (maybe to do with SSL/TLS), or is it something that map app is doing wrong (even if the URL is known to be valid)?\r\n","title":"What situations can result in a java.lang.SecurityException when starting an intent.ACTION_VIEW","body":"<p>I have a method in my which starts an intent to open a web page in the user's browser (or whatever).</p>\n<p>It has worked for ages, but in my latest release tagetting API 32) I have started to see quite a few <code>java.lang.SecurityException</code> crashes cropping up.</p>\n<p>I have added a catch for this exception to my code, along with a few other catches) to prevent the crash, but I want to be able to show the user a meaningful message when the page fails to open. I can, if course, just show a message saying that the page failed to open but I'd prefer to be less vague if there are common situations that cause this.</p>\n<p>The URLs to open are either fixed or created by my app and so are known good URL. (Even so I catch the ParseException just in case).</p>\n<p>I haven't been able to reproduce the crash myself so I cannot figure out what situation might be causing it.</p>\n<p>This is what is in my <code>try</code> block:</p>\n<pre><code>open_web_page_intent.setData(Uri.parse(url_to_view));\nstartActivity(context, open_web_page_intent, null);\n</code></pre>\n<p>And I am specifically <code>catch</code>ing <code>ActivatyNotFoundException</code>, <code>ParseException</code> and now <code>Security Exception</code> in order to prevent the crash and show the user are helpful message.</p>\n<p>But what situations can cause that Security exception? Is it likely to be something on the user's device like settings or some other out of date software on their device (maybe to do with SSL/TLS), or is it something that map app is doing wrong (even if the URL is known to be valid)?</p>\n"},{"tags":["java","android","firebase-storage","android-glide","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1641945535,"post_id":70674394,"comment_id":124939884,"body_markdown":"Glide on its own doesn&#39;t know what to do with a `StorageReference`. Are you using [FirebaseUI for Storage](https://github.com/firebase/FirebaseUI-Android/blob/master/storage/README.md#using-firebaseui-to-download-and-display-images) and if so, can you show the relevant configuration for your app?","body":"Glide on its own doesn&#39;t know what to do with a <code>StorageReference</code>. Are you using <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/storage/README.md#using-firebaseui-to-download-and-display-images\" rel=\"nofollow noreferrer\">FirebaseUI for Storage</a> and if so, can you show the relevant configuration for your app?"},{"owner":{"account_id":2538535,"reputation":431,"user_id":2204958,"accept_rate":94,"display_name":"puti26"},"score":1,"creation_date":1641963495,"post_id":70674394,"comment_id":124942712,"body_markdown":"@FrankvanPuffelen Yes I implemented the class MyAppGlideModule, and the gradle is updated as well, but it doesn&#39;t work anyway. I updated with other code required the question","body":"@FrankvanPuffelen Yes I implemented the class MyAppGlideModule, and the gradle is updated as well, but it doesn&#39;t work anyway. I updated with other code required the question"},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1641967811,"post_id":70674394,"comment_id":124943573,"body_markdown":"https://www.geeksforgeeks.org/how-to-view-all-the-uploaded-images-in-firebase-storage/  This is answer","body":"<a href=\"https://www.geeksforgeeks.org/how-to-view-all-the-uploaded-images-in-firebase-storage/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>  This is answer"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1642009007,"post_id":70674394,"comment_id":124960631,"body_markdown":"Hmm... I&#39;m not sure what&#39;s goign wrong in that case. Hopefully somebody else spots it.","body":"Hmm... I&#39;m not sure what&#39;s goign wrong in that case. Hopefully somebody else spots it."}],"answers":[{"tags":[],"owner":{"account_id":13733259,"reputation":1173,"user_id":9910265,"display_name":"Mohamed Ben Romdhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678630380,"creation_date":1678630380,"answer_id":75713711,"question_id":70674394,"body_markdown":"I did face the same issue, so I move to downloadUrl instead:\r\n\r\n`````\r\n  list.items[0].downloadUrl.addOnSuccessListener {uri -&gt;\r\n                       Glide.with(context).load(uri.toString()).centerCrop()\r\n            .into(holder.binding.categoryIv)`\r\n\r\n  }\r\n``````\r\nMake sure to use addOnSuccessLister its important.\r\n\r\n","title":"Image doesn&#39;t load from Firebase storage using Glide","body":"<p>I did face the same issue, so I move to downloadUrl instead:</p>\n<pre><code>  list.items[0].downloadUrl.addOnSuccessListener {uri -&gt;\n                       Glide.with(context).load(uri.toString()).centerCrop()\n            .into(holder.binding.categoryIv)`\n\n  }\n</code></pre>\n<p>Make sure to use addOnSuccessLister its important.</p>\n"}],"owner":{"account_id":2538535,"reputation":431,"user_id":2204958,"accept_rate":94,"display_name":"puti26"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678630380,"creation_date":1641941764,"question_id":70674394,"body_markdown":"I am trying to get an image from firebase storage in android studio but I am stuck and cannot understand the problem. The picture just doesnt load on the ImageView.\r\n\r\nI followed the documentation that is on official site, but it didnt help, I also searched different question here but nothing helped me unfortunatly.\r\n\r\nI have the user-permession for Internet in the manifest already\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nThis is the ImageView\r\n\r\n    &lt;ImageView\r\n                        android:id=&quot;@+id/picProfile&quot;\r\n                        android:layout_width=&quot;100dp&quot;\r\n                        android:layout_height=&quot;100dp&quot;\r\n    ....\r\n    /&gt;\r\n\r\nThis is how the picture looks in storage\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my code (Java)\r\n\r\n    StorageReference firebaseStorage=FirebaseStorage.getInstance().getReference(&quot;profile_pictures/2022_01_08_18_53_17.png&quot;);\r\n                        Glide.with(getView().getContext())\r\n                                .load(firebaseStorage)\r\n                                .into(picProfile);\r\n\r\nAlso if I try to use this part of the code, the picture (sample_01)on the ImageView will be seen:\r\n\r\n    .placeholder(R.drawable.sample_01)\r\n\r\n\r\nThe question is what I should do for make the Glide show the picture from storage? \r\nThank you\r\n\r\n**UPDATE**\r\nI of course implemented the class \r\n\r\n        @GlideModule\r\n    public class MyAppGlideModule extends AppGlideModule {\r\n    \r\n        @Override\r\n        public void registerComponents(Context context, Glide glide, Registry registry) {\r\n            // Register FirebaseImageLoader to handle StorageReference\r\n            registry.append(StorageReference.class, InputStream.class,\r\n                    new FirebaseImageLoader.Factory());\r\n        }\r\n    }\r\n\r\nand also in gradle the following\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-storage:3.3.0&#39;\r\n    \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tq3Sq.png","title":"Image doesn&#39;t load from Firebase storage using Glide","body":"<p>I am trying to get an image from firebase storage in android studio but I am stuck and cannot understand the problem. The picture just doesnt load on the ImageView.</p>\n<p>I followed the documentation that is on official site, but it didnt help, I also searched different question here but nothing helped me unfortunatly.</p>\n<p>I have the user-permession for Internet in the manifest already</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>This is the ImageView</p>\n<pre><code>&lt;ImageView\n                    android:id=&quot;@+id/picProfile&quot;\n                    android:layout_width=&quot;100dp&quot;\n                    android:layout_height=&quot;100dp&quot;\n....\n/&gt;\n</code></pre>\n<p>This is how the picture looks in storage</p>\n<p><a href=\"https://i.stack.imgur.com/Tq3Sq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tq3Sq.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code (Java)</p>\n<pre><code>StorageReference firebaseStorage=FirebaseStorage.getInstance().getReference(&quot;profile_pictures/2022_01_08_18_53_17.png&quot;);\n                    Glide.with(getView().getContext())\n                            .load(firebaseStorage)\n                            .into(picProfile);\n</code></pre>\n<p>Also if I try to use this part of the code, the picture (sample_01)on the ImageView will be seen:</p>\n<pre><code>.placeholder(R.drawable.sample_01)\n</code></pre>\n<p>The question is what I should do for make the Glide show the picture from storage?\nThank you</p>\n<p><strong>UPDATE</strong>\nI of course implemented the class</p>\n<pre><code>    @GlideModule\npublic class MyAppGlideModule extends AppGlideModule {\n\n    @Override\n    public void registerComponents(Context context, Glide glide, Registry registry) {\n        // Register FirebaseImageLoader to handle StorageReference\n        registry.append(StorageReference.class, InputStream.class,\n                new FirebaseImageLoader.Factory());\n    }\n}\n</code></pre>\n<p>and also in gradle the following</p>\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.12.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\nimplementation 'com.firebaseui:firebase-ui-storage:3.3.0'\n</code></pre>\n"},{"tags":["java","multithreading","java-threads","java-memory-model"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678182210,"post_id":75660218,"comment_id":133479538,"body_markdown":"How does bit shifting being constant time affect the thread safety of BitSet?","body":"How does bit shifting being constant time affect the thread safety of BitSet?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678182291,"post_id":75660218,"comment_id":133479557,"body_markdown":"`bs.set(1)` and `bs.set(2)` will both end up writing to the same `long` value inside the class. That means one could clobber the other&#39;s write if they happen at the same time.","body":"<code>bs.set(1)</code> and <code>bs.set(2)</code> will both end up writing to the same <code>long</code> value inside the class. That means one could clobber the other&#39;s write if they happen at the same time."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1678183222,"post_id":75660218,"comment_id":133479810,"body_markdown":"Thread one: read the current value of the long (0). Thread two: read the current value of the long (0). Thread one: update the value of the long adding the 1-bit (1). Thread two: update the value of the long adding the 2-bit (2). The final value of the long is 2, but if both bits were set, it would be 3.","body":"Thread one: read the current value of the long (0). Thread two: read the current value of the long (0). Thread one: update the value of the long adding the 1-bit (1). Thread two: update the value of the long adding the 2-bit (2). The final value of the long is 2, but if both bits were set, it would be 3."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1678629430,"post_id":75660218,"comment_id":133566698,"body_markdown":"(Please refrain from adding &quot;Any help?&quot; and &quot;thanks&quot; in your posts).","body":"(Please refrain from adding &quot;Any help?&quot; and &quot;thanks&quot; in your posts)."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1678629442,"post_id":75660218,"comment_id":133566699,"body_markdown":"(Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened).","body":"(Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened)."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678184308,"creation_date":1678184308,"answer_id":75660659,"question_id":75660218,"body_markdown":"Suppose bits are stored inside a long variable `v`.\r\n\r\n* When just bit 1 is set, `v` would equal 2.\r\n* When just bit 2 is set, `v` would equal 4.\r\n* When both bits are set, `v` would equal 6 (i.e. `2|4`).\r\n\r\nIf you set them sequentially, you get something like this:\r\n\r\n* `v` starts at 0.\r\n* `bs.set(1)`\r\n  - Read `v` (0)\r\n  - Add `2` to indicate that bit 1 is on\r\n  - Update `v` (2)\r\n* `bs.set(2)`\r\n  - Read `v` (2)\r\n  - Add `4` to indicate that bit 2 is on\r\n  - Update `v` (6)\r\n\r\nNow `v` is 6, so both bits are on.\r\n\r\n---\r\n\r\nIf you set them simultaneously, you can get something like this:\r\n* `v` starts at 0\r\n* Thread 1: `bs.set(1)`\r\n* Thread 2: `bs.set(2)`\r\n* Thread 1: Read `v` (0)\r\n* Thread 2: Read `v` (0)\r\n* Thread 1: Set `v` to 2 (i.e. `0|2`)\r\n* Thread 2: Set `v` to 4 (i.e. `0|4`)\r\n\r\nNow `v` is set to 4, so bit 2 is on and bit 1 is off.","title":"How can this BitSet example print (false,true) or (true, false)?","body":"<p>Suppose bits are stored inside a long variable <code>v</code>.</p>\n<ul>\n<li>When just bit 1 is set, <code>v</code> would equal 2.</li>\n<li>When just bit 2 is set, <code>v</code> would equal 4.</li>\n<li>When both bits are set, <code>v</code> would equal 6 (i.e. <code>2|4</code>).</li>\n</ul>\n<p>If you set them sequentially, you get something like this:</p>\n<ul>\n<li><code>v</code> starts at 0.</li>\n<li><code>bs.set(1)</code>\n<ul>\n<li>Read <code>v</code> (0)</li>\n<li>Add <code>2</code> to indicate that bit 1 is on</li>\n<li>Update <code>v</code> (2)</li>\n</ul>\n</li>\n<li><code>bs.set(2)</code>\n<ul>\n<li>Read <code>v</code> (2)</li>\n<li>Add <code>4</code> to indicate that bit 2 is on</li>\n<li>Update <code>v</code> (6)</li>\n</ul>\n</li>\n</ul>\n<p>Now <code>v</code> is 6, so both bits are on.</p>\n<hr />\n<p>If you set them simultaneously, you can get something like this:</p>\n<ul>\n<li><code>v</code> starts at 0</li>\n<li>Thread 1: <code>bs.set(1)</code></li>\n<li>Thread 2: <code>bs.set(2)</code></li>\n<li>Thread 1: Read <code>v</code> (0)</li>\n<li>Thread 2: Read <code>v</code> (0)</li>\n<li>Thread 1: Set <code>v</code> to 2 (i.e. <code>0|2</code>)</li>\n<li>Thread 2: Set <code>v</code> to 4 (i.e. <code>0|4</code>)</li>\n</ul>\n<p>Now <code>v</code> is set to 4, so bit 2 is on and bit 1 is off.</p>\n"},{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678190411,"creation_date":1678190411,"answer_id":75661721,"question_id":75660218,"body_markdown":"As the Author stated: **BitSet Javadocs say multi-threaded usages should be synchronized, so this is arguably an artificial example**\r\n\r\nThe JVM makes no guarantees of atomic operations for `Bitwise OR: ior, lor.`\r\n\r\nSee: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.11.3\r\n\r\nThe BitSet make not attempt to make atomic changes either.\r\n\r\nSee: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/BitSet.java\r\n\r\n    /**\r\n     * Sets the bit at the specified index to {@code true}.\r\n     *\r\n     * @param  bitIndex a bit index\r\n     * @throws IndexOutOfBoundsException if the specified index is negative\r\n     * @since  1.0\r\n     */\r\n    public void set(int bitIndex) {\r\n        if (bitIndex &lt; 0)\r\n            throw new IndexOutOfBoundsException(&quot;bitIndex &lt; 0: &quot; + bitIndex);\r\n\r\n        int wordIndex = wordIndex(bitIndex);\r\n        expandTo(wordIndex);\r\n\r\n        words[wordIndex] |= (1L &lt;&lt; bitIndex); // Restores invariants\r\n\r\n        checkInvariants();\r\n    }\r\n\r\nWhen the `lor` is carried can not be determined in a multiprocessor system.\r\n\r\nTo be more precise:\r\n\r\n    `lload`  words[wordIndex]\r\n    `lor`    (1L &lt;&lt; bitIndex)\r\n    `lstore` words[wordIndex]\r\n\r\nThese 3 commands can switch at anytime between the 2 threads.","title":"How can this BitSet example print (false,true) or (true, false)?","body":"<p>As the Author stated: <strong>BitSet Javadocs say multi-threaded usages should be synchronized, so this is arguably an artificial example</strong></p>\n<p>The JVM makes no guarantees of atomic operations for <code>Bitwise OR: ior, lor.</code></p>\n<p>See: <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.11.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.11.3</a></p>\n<p>The BitSet make not attempt to make atomic changes either.</p>\n<p>See: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/BitSet.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/BitSet.java</a></p>\n<pre><code>/**\n * Sets the bit at the specified index to {@code true}.\n *\n * @param  bitIndex a bit index\n * @throws IndexOutOfBoundsException if the specified index is negative\n * @since  1.0\n */\npublic void set(int bitIndex) {\n    if (bitIndex &lt; 0)\n        throw new IndexOutOfBoundsException(&quot;bitIndex &lt; 0: &quot; + bitIndex);\n\n    int wordIndex = wordIndex(bitIndex);\n    expandTo(wordIndex);\n\n    words[wordIndex] |= (1L &lt;&lt; bitIndex); // Restores invariants\n\n    checkInvariants();\n}\n</code></pre>\n<p>When the <code>lor</code> is carried can not be determined in a multiprocessor system.</p>\n<p>To be more precise:</p>\n<pre><code>`lload`  words[wordIndex]\n`lor`    (1L &lt;&lt; bitIndex)\n`lstore` words[wordIndex]\n</code></pre>\n<p>These 3 commands can switch at anytime between the 2 threads.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75660659,"answer_count":2,"score":-1,"last_activity_date":1678629378,"creation_date":1678181976,"question_id":75660218,"body_markdown":"I am trying to understand the JMM by following the [blog post by Aleksey Shipil&#235;v][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe above example is breaking my mind. \r\n\r\n&gt; Explanation: There are 3 threads the first 2 threads (the *1st* and *2nd* column) run `set()` without any locking and the 3rd thread (3rd column) waits for the previous threads to terminate and then tries to read the values written by the previous threads.\r\n\r\nIf 2 threads run `bs.set(1)` and `bs.set(2)` respectively without any locking how can they give inconsistent results?\r\n\r\nAccording to the internals the `BitSet` is implemented using `long[]` and bitshifts.\r\n\r\nBit shifting is a constant time operation, right? I simply cannot work out how this is even possible.\r\n\r\n  [1]: https://shipilev.net/blog/2014/jmm-pragmatics/#_test_your_understanding_2\r\n  [2]: https://i.stack.imgur.com/HCMSl.png","title":"How can this BitSet example print (false,true) or (true, false)?","body":"<p>I am trying to understand the JMM by following the <a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/#_test_your_understanding_2\" rel=\"nofollow noreferrer\">blog post by Aleksey Shipilëv</a></p>\n<p><a href=\"https://i.stack.imgur.com/HCMSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCMSl.png\" alt=\"enter image description here\" /></a></p>\n<p>The above example is breaking my mind.</p>\n<blockquote>\n<p>Explanation: There are 3 threads the first 2 threads (the <em>1st</em> and <em>2nd</em> column) run <code>set()</code> without any locking and the 3rd thread (3rd column) waits for the previous threads to terminate and then tries to read the values written by the previous threads.</p>\n</blockquote>\n<p>If 2 threads run <code>bs.set(1)</code> and <code>bs.set(2)</code> respectively without any locking how can they give inconsistent results?</p>\n<p>According to the internals the <code>BitSet</code> is implemented using <code>long[]</code> and bitshifts.</p>\n<p>Bit shifting is a constant time operation, right? I simply cannot work out how this is even possible.</p>\n"},{"tags":["java","hibernate","jpa","connection-pooling"],"answers":[{"tags":[],"owner":{"account_id":5303869,"reputation":639,"user_id":4232523,"display_name":"Hadi Moloodi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571051328,"creation_date":1571050969,"answer_id":58375426,"question_id":58375169,"body_markdown":"It is just a warning stating that you are using a built_in connection pool which is not a suitable solution in the production environment, you should use the application server connection pool in the production environment. depending on your application server you can setup database connection inside your application server then configure hibernate to use that connection.\r\nBut if you want to solve this problem without configuring the application server you can see [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2067526/hibernate-connection-pool","title":"How to solve &quot;Using Hibernate built-in connection pool (not for production use!)&quot; using JPA i.e. Hibernate EntityManager","body":"<p>It is just a warning stating that you are using a built_in connection pool which is not a suitable solution in the production environment, you should use the application server connection pool in the production environment. depending on your application server you can setup database connection inside your application server then configure hibernate to use that connection.\nBut if you want to solve this problem without configuring the application server you can see <a href=\"https://stackoverflow.com/questions/2067526/hibernate-connection-pool\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":27998529,"reputation":1,"user_id":21383262,"display_name":"Logesh Selvaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678628509,"creation_date":1678628465,"answer_id":75713514,"question_id":58375169,"body_markdown":"&lt;property name=&quot;hibernate.connection.pool_size&quot; value=&quot;10&quot; /&gt;\r\nadd this code (connection pool code) in persistence.xml file.","title":"How to solve &quot;Using Hibernate built-in connection pool (not for production use!)&quot; using JPA i.e. Hibernate EntityManager","body":"\nadd this code (connection pool code) in persistence.xml file.\n"}],"owner":{"account_id":10149262,"reputation":171,"user_id":7496439,"display_name":"Lulixter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678628509,"creation_date":1571050088,"question_id":58375169,"body_markdown":"I&#39;m new to Hibernate and JPA in general.\r\n\r\nI read a lot about this warning, but I still can&#39;t solve it.\r\n\r\nThe answers I read so far, said that it is necessary to have ```hibernate.cfg.xml``` in the project.\r\nBut I also read that:\r\n&gt; If you are using JPA i.e. Hibernate EntityManager, you&#39;ll need the persistence.xml. So you generally don&#39;t need both as you use either Hibernate proprietary API or JPA.\r\n(https://stackoverflow.com/questions/3807503/what-is-the-purpose-of-two-config-files-for-hibernate)\r\n\r\nUsing ```persistence.xml``` I have this warning every time I use Hibernate.\r\n\r\nThis is my ```persistence.xml```:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.0&quot;\r\n\txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\nhttp://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n\r\n\t&lt;persistence-unit name=&quot;integration&quot;\r\n\t\ttransaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot;\r\n\t\t\t\tvalue=&quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/db-name?autoReconnect=true&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;root&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.id.new_generator_mappings&quot;\r\n\t\t\t\tvalue=&quot;true&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n```\r\n\r\n\r\nI can&#39;t figure out what I&#39;m doing wrong.\r\n\r\nThanks in advances","title":"How to solve &quot;Using Hibernate built-in connection pool (not for production use!)&quot; using JPA i.e. Hibernate EntityManager","body":"<p>I'm new to Hibernate and JPA in general.</p>\n\n<p>I read a lot about this warning, but I still can't solve it.</p>\n\n<p>The answers I read so far, said that it is necessary to have <code>hibernate.cfg.xml</code> in the project.\nBut I also read that:</p>\n\n<blockquote>\n  <p>If you are using JPA i.e. Hibernate EntityManager, you'll need the persistence.xml. So you generally don't need both as you use either Hibernate proprietary API or JPA.\n  (<a href=\"https://stackoverflow.com/questions/3807503/what-is-the-purpose-of-two-config-files-for-hibernate\">what is the purpose of two config files for Hibernate?</a>)</p>\n</blockquote>\n\n<p>Using <code>persistence.xml</code> I have this warning every time I use Hibernate.</p>\n\n<p>This is my <code>persistence.xml</code>:</p>\n\n<pre><code>&lt;persistence version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence\nhttp://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n    &lt;persistence-unit name=\"integration\"\n        transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.dialect\"\n                value=\"org.hibernate.dialect.MySQL5InnoDBDialect\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/db-name?autoReconnect=true\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\" /&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"root\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.id.new_generator_mappings\"\n                value=\"true\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I can't figure out what I'm doing wrong.</p>\n\n<p>Thanks in advances</p>\n"},{"tags":["java","owl-api","swrl","pellet"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1678519644,"post_id":75675360,"comment_id":133551771,"body_markdown":"you first have to find all `?op` bindings and for each create a new OWL individual - that is basically all `makeOWLThing(?h, ?op) does in your rule. So, iterate over all individuals that are an operation and have an action, create a new individual `i` and assert it to class `Hold` and add the `hold_action`. Getting all individuals matching `Operation(?op) ^ hasAction(?op, ?action)` should be done via the Pellet reasoner. You can ask the reasoner for all instances of  the class expression `Operation and hasAction some Thing`","body":"you first have to find all <code>?op</code> bindings and for each create a new OWL individual - that is basically all <code>makeOWLThing(?h, ?op) does in your rule. So, iterate over all individuals that are an operation and have an action, create a new individual </code>i` and assert it to class <code>Hold</code> and add the <code>hold_action</code>. Getting all individuals matching <code>Operation(?op) ^ hasAction(?op, ?action)</code> should be done via the Pellet reasoner. You can ask the reasoner for all instances of  the class expression <code>Operation and hasAction some Thing</code>"}],"owner":{"account_id":15475514,"reputation":83,"user_id":13183562,"display_name":"user93804"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678628420,"creation_date":1678291269,"question_id":75675360,"body_markdown":"Here&#39;s my SWRL rule. It states that if an operation exists and has an action, it needs to create a new variable h of type Hold, that hold the same action value as the operation:  \r\n\r\n**Operation(?op) ^ hasAction(?op, ?action)^ makeOWLThing(?h, ?op)-&gt;Hold(?h)^hold_action(?h, ?action))**\r\n\r\nI use OWLapi to create owl individuals. Here&#39;s what I did so far: \r\n\r\n&lt;!-- language: java --&gt;\r\n\tfor (int j=0; j &lt; operations_true.size(); j++) {\r\n\t\t\t\t\r\n\t\tOWLNamedIndividual hold = factory.getOWLNamedIndividual(IRI.create(ontologyIRI + &quot;#hold&quot;+ j));\r\n\t\thold_set.add(hold);\t\r\n\t\tOWLAxiom hActionax = factory.getOWLObjectPropertyAssertionAxiom(hold_action, hold, actionTrue);\r\n\t\tontologyManager.addAxiom(ontology, hActionax); \r\n\t}\r\n\t\r\nactionTrue is an already defined variable with a defined value. I have trouble seeing how I could fetch the value of each action depending on each Operation.\r\n\r\nThank you in advance.\r\n\r\nPS: the reason I do this is because Pellet (unlike SWRLApi) does not support &quot;makeOWLThing&quot;, therefore I need to manually write a function that does the same job \r\n","title":"Build a Java function that does the same job as makeOWLThing in SWRL","body":"<p>Here's my SWRL rule. It states that if an operation exists and has an action, it needs to create a new variable h of type Hold, that hold the same action value as the operation:</p>\n<p><strong>Operation(?op) ^ hasAction(?op, ?action)^ makeOWLThing(?h, ?op)-&gt;Hold(?h)^hold_action(?h, ?action))</strong></p>\n<p>I use OWLapi to create owl individuals. Here's what I did so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int j=0; j &lt; operations_true.size(); j++) {\n            \n    OWLNamedIndividual hold = factory.getOWLNamedIndividual(IRI.create(ontologyIRI + &quot;#hold&quot;+ j));\n    hold_set.add(hold); \n    OWLAxiom hActionax = factory.getOWLObjectPropertyAssertionAxiom(hold_action, hold, actionTrue);\n    ontologyManager.addAxiom(ontology, hActionax); \n}\n</code></pre>\n<p>actionTrue is an already defined variable with a defined value. I have trouble seeing how I could fetch the value of each action depending on each Operation.</p>\n<p>Thank you in advance.</p>\n<p>PS: the reason I do this is because Pellet (unlike SWRLApi) does not support &quot;makeOWLThing&quot;, therefore I need to manually write a function that does the same job</p>\n"},{"tags":["java","data-structures","insertion"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1678627533,"post_id":75713405,"comment_id":133566409,"body_markdown":"Does this answer your question? [adding and removing from a singly linked list](https://stackoverflow.com/questions/7426921/adding-and-removing-from-a-singly-linked-list)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7426921/adding-and-removing-from-a-singly-linked-list\">adding and removing from a singly linked list</a>"}],"owner":{"account_id":27241321,"reputation":11,"user_id":20767468,"display_name":"Misha Skvortsov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678627382,"creation_date":1678627382,"question_id":75713405,"body_markdown":"Dear StackOverflow Experts,\r\n\r\nI am currently working on a Java project that involves the use of LinkedLists, and I am encountering some issues with their implementation. Specifically, I am having trouble with inserting and deleting elements from the LinkedList while maintaining its integrity.\r\n\r\n\r\n\r\nI have already consulted the Java documentation and several online tutorials, but I still cannot seem to find a solution to my problem. I am hoping that someone from the StackOverflow community could provide me with some insight and guidance on how to properly insert and delete elements from a LinkedList in Java.","title":"Trouble with inserting and deleting elements from the LinkedList while maintaining its integrity","body":"<p>Dear StackOverflow Experts,</p>\n<p>I am currently working on a Java project that involves the use of LinkedLists, and I am encountering some issues with their implementation. Specifically, I am having trouble with inserting and deleting elements from the LinkedList while maintaining its integrity.</p>\n<p>I have already consulted the Java documentation and several online tutorials, but I still cannot seem to find a solution to my problem. I am hoping that someone from the StackOverflow community could provide me with some insight and guidance on how to properly insert and delete elements from a LinkedList in Java.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678627217,"creation_date":1678627217,"answer_id":75713393,"question_id":75713108,"body_markdown":"The problem seem to be fixed in Hibernate 6.0 \r\n\r\nPlease see the [link][1]\r\n\r\n\r\n  [1]: https://discourse.hibernate.org/t/fetch-join-results-in-too-many-sql-queries/6193","title":"Hibernate ignores left join results","body":"<p>The problem seem to be fixed in Hibernate 6.0</p>\n<p>Please see the <a href=\"https://discourse.hibernate.org/t/fetch-join-results-in-too-many-sql-queries/6193\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":5603552,"reputation":3,"user_id":4438972,"display_name":"EvgeniiJZX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75713393,"answer_count":1,"score":0,"last_activity_date":1678627217,"creation_date":1678624128,"question_id":75713108,"body_markdown":"I have a simple `Field` entity that have to load child `Selector` entity using join.\r\n\r\n```java\r\n@Entity\r\npublic class Field implements Serializable {\r\n    @Id\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private Long userId;\r\n\r\n    private String selectorId;\r\n\r\n    // ......\r\n\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;selectorId&quot;, referencedColumnName = &quot;selectorId&quot;, insertable = false, updatable = false)\r\n    })\r\n    @ManyToOne\r\n    @Fetch(FetchMode.JOIN)\r\n    private Selector selector;\r\n}\r\n```\r\n\r\nHibernate does it and generates this sql. Looks good:\r\n\r\n```sql\r\nSELECT field0_.id AS id1_25_0_,\r\n       -- ... i&#39;ve cut redundant lines ...\r\n       selector1_.id AS id1_54_1_,\r\n       selector1_.selector_id AS selector4_54_1_,\r\n       selector1_.user_id AS user_i5_54_1_,\r\n       selector1_.url AS url6_54_1_\r\nFROM field field0_\r\n         LEFT OUTER JOIN selector selector1_\r\n                         ON field0_.user_id = selector1_.user_id AND field0_.selector_id = selector1_.selector_id\r\nWHERE field0_.id=?;\r\n```\r\n\r\nBut after executing the query above, Hibernate immediately generates and executes second sql for each `Field` to select the `Selector` entity again. \r\nHow to prevent executing the second sql? `Selector` already should be loaded in the first query with join.\r\n\r\n```sql\r\nSELECT selector0_.id AS id1_54_0_,\r\n       selector0_.selector_id AS selector4_54_0_,\r\n       selector0_.user_id AS user_i5_54_0_,\r\n       selector0_.url AS url6_54_0_\r\nFROM selector selector0_\r\nWHERE selector0_.user_id=?\r\n  AND selector0_.selector_id=?;\r\n\r\n```\r\n\r\n","title":"Hibernate ignores left join results","body":"<p>I have a simple <code>Field</code> entity that have to load child <code>Selector</code> entity using join.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Field implements Serializable {\n    @Id\n    private Long id;\n\n    @NotNull\n    private Long userId;\n\n    private String selectorId;\n\n    // ......\n\n    @JoinColumns({\n            @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;selectorId&quot;, referencedColumnName = &quot;selectorId&quot;, insertable = false, updatable = false)\n    })\n    @ManyToOne\n    @Fetch(FetchMode.JOIN)\n    private Selector selector;\n}\n</code></pre>\n<p>Hibernate does it and generates this sql. Looks good:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT field0_.id AS id1_25_0_,\n       -- ... i've cut redundant lines ...\n       selector1_.id AS id1_54_1_,\n       selector1_.selector_id AS selector4_54_1_,\n       selector1_.user_id AS user_i5_54_1_,\n       selector1_.url AS url6_54_1_\nFROM field field0_\n         LEFT OUTER JOIN selector selector1_\n                         ON field0_.user_id = selector1_.user_id AND field0_.selector_id = selector1_.selector_id\nWHERE field0_.id=?;\n</code></pre>\n<p>But after executing the query above, Hibernate immediately generates and executes second sql for each <code>Field</code> to select the <code>Selector</code> entity again.\nHow to prevent executing the second sql? <code>Selector</code> already should be loaded in the first query with join.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT selector0_.id AS id1_54_0_,\n       selector0_.selector_id AS selector4_54_0_,\n       selector0_.user_id AS user_i5_54_0_,\n       selector0_.url AS url6_54_0_\nFROM selector selector0_\nWHERE selector0_.user_id=?\n  AND selector0_.selector_id=?;\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1678631237,"post_id":75713386,"comment_id":133566992,"body_markdown":"I recommend looking into spring-data-mongo aggregations. https://www.baeldung.com/spring-data-mongodb-projections-aggregations","body":"I recommend looking into spring-data-mongo aggregations. <a href=\"https://www.baeldung.com/spring-data-mongodb-projections-aggregations\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-mongodb-projections-aggregations</a>"}],"owner":{"account_id":27209989,"reputation":1,"user_id":20740946,"display_name":"UserU95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678627146,"creation_date":1678627146,"question_id":75713386,"body_markdown":"I have this type of documents in a collection in MongoDB: \r\n\r\n```\r\n    [\r\n    {\r\n        &quot;id&quot;: &quot;63e50045bd8fbd1a4fdc8dc0&quot;,\r\n        &quot;channel&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;youth&quot;\r\n            }\r\n        ],\r\n        &quot;recommendationItem&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;4ebd020883285d698c44ec50939c0967&quot;,\r\n                &quot;product&quot;: {\r\n                    &quot;productTerm&quot;: [\r\n                        {\r\n                            &quot;description&quot;: &quot;string&quot;,\r\n                            &quot;name&quot;: &quot;string&quot;,\r\n                            &quot;validFor&quot;: {\r\n                                &quot;endDateTime&quot;: &quot;2022-12-02T23:20:50.52Z&quot;,\r\n                                &quot;startDateTime&quot;: &quot;2022-12-06T11:20:50.52Z&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n            {\r\n                &quot;id&quot;: &quot;4ebd020883285d698c44ec50939c0967&quot;,\r\n                &quot;product&quot;: {\r\n                    &quot;productTerm&quot;: \r\n                        {\r\n                            &quot;description&quot;: &quot;string&quot;,\r\n                            &quot;name&quot;: &quot;string&quot;,\r\n                            &quot;validFor&quot;: {\r\n                                &quot;endDateTime&quot;: &quot;2023-03-15T23:20:50.52Z&quot;,\r\n                                &quot;startDateTime&quot;: &quot;2022-12-06T11:20:50.52Z&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n    ]\r\n```\r\n\r\nI need to retrieve only the documents whose endDateTime is greater than current date. But since recommendationItem is an array, it can contain objects that fulfill this condition or not. I want that returned document to contain the objects inside recommendationItem that meet this requirement.\r\n\r\nI tried this solution, which works, but it returns all objects of recommendationItem array, even if only 1 or some of them have an endDateTime greater than current date. How can I modify this so that it skips the objects whose date does not meet the requirement?\r\n\r\n```\r\nQuery query = new Query();\r\n\r\n/*these lines make the distinction between 2 channels I have and add the respective criteria to the query*/\r\nif (name.equalsIgnoreCase(&quot;youth&quot;)) {\r\n    Criteria elementMatchCriteria = Criteria.where(&quot;channel&quot;).elemMatch(Criteria.where(&quot;name&quot;).is(&quot;youth&quot;));\r\n    query.addCriteria(elementMatchCriteria);\r\n} else {\r\n    Criteria elementMatchCriteria = Criteria.where(&quot;channel&quot;).elemMatch(Criteria.where(&quot;name&quot;).is(&quot;selfcare&quot;));\r\n    query.addCriteria(elementMatchCriteria);\r\n}\r\n\r\n/*here starts my solution*/\r\nTimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\nDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);\r\ndateFormat.setTimeZone(timeZone);\r\nString currentDate = dateFormat.format(new Date());\r\n\r\nquery.addCriteria(Criteria.where(&quot;recommendationItem.product.productTerm.validFor.endDateTime&quot;).gt(currentDate));\r\n\r\nList&lt;Document&gt; documents = mongoTemplate.find(query, Document.class, &quot;collection-name&quot;);\r\n\r\n```\r\n","title":"Querying from MongoDB using java and springboot","body":"<p>I have this type of documents in a collection in MongoDB:</p>\n<pre><code>    [\n    {\n        &quot;id&quot;: &quot;63e50045bd8fbd1a4fdc8dc0&quot;,\n        &quot;channel&quot;: [\n            {\n                &quot;name&quot;: &quot;youth&quot;\n            }\n        ],\n        &quot;recommendationItem&quot;: [\n            {\n                &quot;id&quot;: &quot;4ebd020883285d698c44ec50939c0967&quot;,\n                &quot;product&quot;: {\n                    &quot;productTerm&quot;: [\n                        {\n                            &quot;description&quot;: &quot;string&quot;,\n                            &quot;name&quot;: &quot;string&quot;,\n                            &quot;validFor&quot;: {\n                                &quot;endDateTime&quot;: &quot;2022-12-02T23:20:50.52Z&quot;,\n                                &quot;startDateTime&quot;: &quot;2022-12-06T11:20:50.52Z&quot;\n                            }\n                        }\n                    ]\n                }\n            },\n            {\n                &quot;id&quot;: &quot;4ebd020883285d698c44ec50939c0967&quot;,\n                &quot;product&quot;: {\n                    &quot;productTerm&quot;: \n                        {\n                            &quot;description&quot;: &quot;string&quot;,\n                            &quot;name&quot;: &quot;string&quot;,\n                            &quot;validFor&quot;: {\n                                &quot;endDateTime&quot;: &quot;2023-03-15T23:20:50.52Z&quot;,\n                                &quot;startDateTime&quot;: &quot;2022-12-06T11:20:50.52Z&quot;\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n    ]\n</code></pre>\n<p>I need to retrieve only the documents whose endDateTime is greater than current date. But since recommendationItem is an array, it can contain objects that fulfill this condition or not. I want that returned document to contain the objects inside recommendationItem that meet this requirement.</p>\n<p>I tried this solution, which works, but it returns all objects of recommendationItem array, even if only 1 or some of them have an endDateTime greater than current date. How can I modify this so that it skips the objects whose date does not meet the requirement?</p>\n<pre><code>Query query = new Query();\n\n/*these lines make the distinction between 2 channels I have and add the respective criteria to the query*/\nif (name.equalsIgnoreCase(&quot;youth&quot;)) {\n    Criteria elementMatchCriteria = Criteria.where(&quot;channel&quot;).elemMatch(Criteria.where(&quot;name&quot;).is(&quot;youth&quot;));\n    query.addCriteria(elementMatchCriteria);\n} else {\n    Criteria elementMatchCriteria = Criteria.where(&quot;channel&quot;).elemMatch(Criteria.where(&quot;name&quot;).is(&quot;selfcare&quot;));\n    query.addCriteria(elementMatchCriteria);\n}\n\n/*here starts my solution*/\nTimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\nDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm'Z'&quot;);\ndateFormat.setTimeZone(timeZone);\nString currentDate = dateFormat.format(new Date());\n\nquery.addCriteria(Criteria.where(&quot;recommendationItem.product.productTerm.validFor.endDateTime&quot;).gt(currentDate));\n\nList&lt;Document&gt; documents = mongoTemplate.find(query, Document.class, &quot;collection-name&quot;);\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1663104320,"post_id":73709034,"comment_id":130160193,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1663104327,"post_id":73709034,"comment_id":130160195,"body_markdown":"With date you should use `@DateTimeFormat(iso = DateTimeFormat.ISO.DATE` with ISO 8601 format, `@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)` for LocalDateTime","body":"With date you should use <code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE</code> with ISO 8601 format, <code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)</code> for LocalDateTime"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":3,"creation_date":1663104595,"post_id":73709034,"comment_id":130160262,"body_markdown":"Do not use the terrible legacy date-time API. Try `@RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) Instant startDate`. [Here](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html) is an overview of modern date-time API.","body":"Do not use the terrible legacy date-time API. Try <code>@RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) Instant startDate</code>. <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">Here</a> is an overview of modern date-time API."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1663188285,"post_id":73709034,"comment_id":130183461,"body_markdown":"Please focus on the question not your agendas for what API should or shouldn&#39;t be used. It&#39;s not helpful.","body":"Please focus on the question not your agendas for what API should or shouldn&#39;t be used. It&#39;s not helpful."}],"answers":[{"tags":[],"owner":{"account_id":20582988,"reputation":46,"user_id":15108591,"display_name":"Debraj Bhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678626483,"creation_date":1678626483,"answer_id":75713324,"question_id":73709034,"body_markdown":"In your configuration xml file please include these lines i think that might be the issue .Because without them it will not identify these annotation.\r\n\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=\r\n        &quot;http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot; \r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;&gt;\r\n    \r\n    \r\n        &lt;mvc:annotation-driven/&gt;\r\n\r\n    \r\n    \r\n        \r\n&lt;/beans&gt;\r\n```\r\nLeave rest configuration as it is just include these lines at required place.      ","title":"@DateTimeFormat Spring not working on a Controller","body":"<p>In your configuration xml file please include these lines i think that might be the issue .Because without them it will not identify these annotation.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=\n       &quot;http://www.springframework.org/schema/mvc\n       http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot; \n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;&gt;\n   \n   \n       &lt;mvc:annotation-driven/&gt;\n\n   \n   \n       \n&lt;/beans&gt;\n</code></pre>\n<p>Leave rest configuration as it is just include these lines at required place.</p>\n"}],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75713324,"answer_count":1,"score":0,"last_activity_date":1678626483,"creation_date":1663102235,"question_id":73709034,"body_markdown":"So I have a method where I want to take in some Dates which would be converted using the @DateTimeFormat annotations. Here is the method definition:\r\n\r\n    @RequestMapping( method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public JsonUtil getAuditLog(\r\n            @RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.Date_TIME) Date startDate,\r\n            @RequestParam(value = &quot;endDate&quot;, required = false ) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) Date endDate,\r\n            @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;) Integer page ) {\r\n\r\n\r\nBut I keep getting this:\r\n\r\n    java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Date&#39;: no matching editors or conversion strategy found\r\n\r\nSo I tried this:\r\n\r\n\r\n    @RequestMapping( method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public JsonUtil getAuditLog(\r\n            @RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;) Date startDate,\r\n            @RequestParam(value = &quot;endDate&quot;, required = false ) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;)  Date endDate,\r\n            @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;) Integer page ) {\r\n\r\nAnd that didn&#39;t work either.  Same error.  So I used that pattern with a SimpleDateFormat and manually convert the Date in my Controller.  That worked!  So why is @DateTimeFormat annotation NOT working?  This is in SpringMVC not Spring Boot.","title":"@DateTimeFormat Spring not working on a Controller","body":"<p>So I have a method where I want to take in some Dates which would be converted using the @DateTimeFormat annotations. Here is the method definition:</p>\n<pre><code>@RequestMapping( method = RequestMethod.GET)\n@ResponseBody\npublic JsonUtil getAuditLog(\n        @RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.Date_TIME) Date startDate,\n        @RequestParam(value = &quot;endDate&quot;, required = false ) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) Date endDate,\n        @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;) Integer page ) {\n</code></pre>\n<p>But I keep getting this:</p>\n<pre><code>java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'java.util.Date': no matching editors or conversion strategy found\n</code></pre>\n<p>So I tried this:</p>\n<pre><code>@RequestMapping( method = RequestMethod.GET)\n@ResponseBody\npublic JsonUtil getAuditLog(\n        @RequestParam(value = &quot;startDate&quot;, required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;) Date startDate,\n        @RequestParam(value = &quot;endDate&quot;, required = false ) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;)  Date endDate,\n        @RequestParam(value = &quot;page&quot;, defaultValue = &quot;0&quot;) Integer page ) {\n</code></pre>\n<p>And that didn't work either.  Same error.  So I used that pattern with a SimpleDateFormat and manually convert the Date in my Controller.  That worked!  So why is @DateTimeFormat annotation NOT working?  This is in SpringMVC not Spring Boot.</p>\n"},{"tags":["java","type-conversion","value-of"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":4,"creation_date":1678561958,"post_id":75708899,"comment_id":133559309,"body_markdown":"There&#39;s no such distinction in the representation of an integer.  In both cases it is a word of exactly 32 bits, with value 0000 0000 0000 0000 0000 0011 1000 0100","body":"There&#39;s no such distinction in the representation of an integer.  In both cases it is a word of exactly 32 bits, with value 0000 0000 0000 0000 0000 0011 1000 0100"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1678562000,"post_id":75708899,"comment_id":133559317,"body_markdown":"An `int` cannot even represent that difference.","body":"An <code>int</code> cannot even represent that difference."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1678563066,"post_id":75708899,"comment_id":133559462,"body_markdown":"An int is just a quantity.  It has no concept of leading zeroes, just as you would not distinguish between holding 3 apples and 03 apples.  If you want to *show* a leading zero, you can use `String.format(&quot;%04d&quot;, x)`.","body":"An int is just a quantity.  It has no concept of leading zeroes, just as you would not distinguish between holding 3 apples and 03 apples.  If you want to <i>show</i> a leading zero, you can use <code>String.format(&quot;%04d&quot;, x)</code>."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678571511,"post_id":75708899,"comment_id":133560587,"body_markdown":"Or, for that matter, &quot;three apples&quot;.  It&#39;s just another representation of the number 3 as applied to apple quantity.","body":"Or, for that matter, &quot;three apples&quot;.  It&#39;s just another representation of the number 3 as applied to apple quantity."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678625472,"creation_date":1678625472,"answer_id":75713226,"question_id":75708899,"body_markdown":"if you have a special use-case where you need to keep this &quot;0&quot; prefix as well as use it as a numeric value, you should build a custom class for it. For instance, let&#39;s assume this number is introduced by the user in some input field on the screen. the class can look like this (it can even be a record):\r\n\r\n    public class UserInput {\r\n    \tprivate final String originalString;\r\n    \tprivate final int value;\r\n    \r\n    \tpublic UserInput(String originalString) {\r\n    \t\tthis.originalString = originalString;\r\n    \t\tthis.value = Integer.valueOf(originalString);\r\n    \t}\r\n    \r\n    \tpublic String text() {\r\n    \t\treturn originalString;\r\n    \t}\r\n    \r\n    \tpublic int numericValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n\r\nnow you can create UserInput by providing the original Stirng and use any of the numericValue method for comparison and mathematical operations:\r\n\r\n    UserInput previousInput = new UserInput(&quot;000039&quot;);\r\n    UserInput input = new UserInput(&quot;0040&quot;);\r\n    \r\n    System.out.println(&quot;value introduced: &quot; + input.text());\r\n    System.out.println(&quot;numeric value increased: &quot; + input.numericValue() &gt; previousInput.numericValue());\r\n\r\n\r\nis this what you needed?","title":"How to use .valueOf function in java without losing precision?","body":"<p>if you have a special use-case where you need to keep this &quot;0&quot; prefix as well as use it as a numeric value, you should build a custom class for it. For instance, let's assume this number is introduced by the user in some input field on the screen. the class can look like this (it can even be a record):</p>\n<pre><code>public class UserInput {\n    private final String originalString;\n    private final int value;\n\n    public UserInput(String originalString) {\n        this.originalString = originalString;\n        this.value = Integer.valueOf(originalString);\n    }\n\n    public String text() {\n        return originalString;\n    }\n\n    public int numericValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>now you can create UserInput by providing the original Stirng and use any of the numericValue method for comparison and mathematical operations:</p>\n<pre><code>UserInput previousInput = new UserInput(&quot;000039&quot;);\nUserInput input = new UserInput(&quot;0040&quot;);\n\nSystem.out.println(&quot;value introduced: &quot; + input.text());\nSystem.out.println(&quot;numeric value increased: &quot; + input.numericValue() &gt; previousInput.numericValue());\n</code></pre>\n<p>is this what you needed?</p>\n"}],"owner":{"account_id":27994120,"reputation":1,"user_id":21379761,"display_name":"Zaha Mohammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678625472,"creation_date":1678561730,"question_id":75708899,"body_markdown":"I want to convert a string to its integer value in java so I&#39;m using the .ValueOf function, however, it truncates the beginning of the string when making it an integer. \r\n\r\nFor example, converting the string &quot;0900&quot; to the integer value 0900 by using:\r\n\r\n`int x = Integer.valueOf(&quot;0900&quot;);`\r\n\r\nHow can I get x to be 0900 instead of 900?","title":"How to use .valueOf function in java without losing precision?","body":"<p>I want to convert a string to its integer value in java so I'm using the .ValueOf function, however, it truncates the beginning of the string when making it an integer.</p>\n<p>For example, converting the string &quot;0900&quot; to the integer value 0900 by using:</p>\n<p><code>int x = Integer.valueOf(&quot;0900&quot;);</code></p>\n<p>How can I get x to be 0900 instead of 900?</p>\n"},{"tags":["java","opencv"],"owner":{"account_id":16056837,"reputation":39,"user_id":11588890,"display_name":"DevGold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678625062,"creation_date":1678625062,"question_id":75713190,"body_markdown":"I&#39;m building an android (5.0 and 9.0) app using OpenCV 4.7 On java based on the example from https://lindevs.com/capture-rtsp-stream-from-ip-camera-using-opencv for testing.\r\nbut a problem occurs:\r\n/* couldn&#39;t find &quot;libopencv_java470.so&quot; */\r\n\r\nI referenced some related ideas but not the effect.\r\nMaybe the first I experiment with OpenCV-android. Does anyone with experience have any help me?","title":"JAVA | Load libilary Core.NATIVE_LIBRARY_NAME failed","body":"<p>I'm building an android (5.0 and 9.0) app using OpenCV 4.7 On java based on the example from <a href=\"https://lindevs.com/capture-rtsp-stream-from-ip-camera-using-opencv\" rel=\"nofollow noreferrer\">https://lindevs.com/capture-rtsp-stream-from-ip-camera-using-opencv</a> for testing.\nbut a problem occurs:\n/* couldn't find &quot;libopencv_java470.so&quot; */</p>\n<p>I referenced some related ideas but not the effect.\nMaybe the first I experiment with OpenCV-android. Does anyone with experience have any help me?</p>\n"},{"tags":["java","android","kotlin","tcp","vpn"],"comments":[{"owner":{"account_id":25918301,"reputation":13,"user_id":19641386,"display_name":"mountain dew"},"score":0,"creation_date":1678625010,"post_id":75710310,"comment_id":133566058,"body_markdown":"Bump, please respond, I need this.","body":"Bump, please respond, I need this."}],"owner":{"account_id":25918301,"reputation":13,"user_id":19641386,"display_name":"mountain dew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678625024,"creation_date":1678579284,"question_id":75710310,"body_markdown":"I recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.\r\n\r\nIs there any way to connect to self-hosted VPN using that payload to go to any url? I&#39;ve seen some apps like Anonytun or HTTP Injector do it\r\n\r\nCurrent code (to fetch google&#39;s 404 page, which works)\r\n\r\n```kotlin\r\nvar s = Socket();\r\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\r\nval scanner = Scanner(s.getInputStream());\r\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\r\nvar str = StringBuilder();\r\nwhile (scanner.hasNextLine()) {\r\n    try {\r\n        str.append(scanner.nextLine());\r\n    } catch (e: Exception) {\r\n\r\n    }\r\n}\r\nscanner.close();\r\n```","title":"Android Connect to VPN/OpenVPN server using raw HTTP/TCP request string to bypass data plan","body":"<p>I recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.</p>\n<p>Is there any way to connect to self-hosted VPN using that payload to go to any url? I've seen some apps like Anonytun or HTTP Injector do it</p>\n<p>Current code (to fetch google's 404 page, which works)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var s = Socket();\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\nval scanner = Scanner(s.getInputStream());\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\nvar str = StringBuilder();\nwhile (scanner.hasNextLine()) {\n    try {\n        str.append(scanner.nextLine());\n    } catch (e: Exception) {\n\n    }\n}\nscanner.close();\n</code></pre>\n"},{"tags":["java","spring","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678624644,"creation_date":1678446374,"answer_id":75695372,"question_id":75694996,"body_markdown":"you can use `AopProxyUtils.ultimateTargetClass(controller)`. Here is a simple example:\r\n\r\n    @SpringBootTest(classes = Question.ControllerV2.class)\r\n    public class Question {\r\n    \r\n    \t@Component(&quot;V2&quot;)\r\n    \t@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.INTERFACES)\r\n    \tstatic class ControllerV2 implements Controller {}\r\n    \r\n    \tinterface Controller {}\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;V2&quot;)\r\n    \tprivate Controller controller;\r\n    \r\n    \t@Test\r\n    \tvoid testInstanceOf() {\r\n    \t\tClass&lt;?&gt; clazz = AopProxyUtils.ultimateTargetClass(controller);\r\n    \t\tAssertions.assertThat(clazz).isEqualTo(ControllerV2.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nThough, are you sure this is a good idea? This will couple the test to the implementation. The B.D.D. approach suggests testing the behavior and abstracting away the implementation details from the test - making refactoring easier.","title":"How to assert whether autowired instance is right class?","body":"<p>you can use <code>AopProxyUtils.ultimateTargetClass(controller)</code>. Here is a simple example:</p>\n<pre><code>@SpringBootTest(classes = Question.ControllerV2.class)\npublic class Question {\n\n    @Component(&quot;V2&quot;)\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.INTERFACES)\n    static class ControllerV2 implements Controller {}\n\n    interface Controller {}\n\n    @Autowired\n    @Qualifier(&quot;V2&quot;)\n    private Controller controller;\n\n    @Test\n    void testInstanceOf() {\n        Class&lt;?&gt; clazz = AopProxyUtils.ultimateTargetClass(controller);\n        Assertions.assertThat(clazz).isEqualTo(ControllerV2.class);\n    }\n\n}\n</code></pre>\n<p>Though, are you sure this is a good idea? This will couple the test to the implementation. The B.D.D. approach suggests testing the behavior and abstracting away the implementation details from the test - making refactoring easier.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75695372,"answer_count":1,"score":0,"last_activity_date":1678624644,"creation_date":1678444381,"question_id":75694996,"body_markdown":"My Java project uses Spring. I have an interface `Connector` that&#39;s implemented by several classes, `ConnectorV1`, `ConnectorV2`, and so on.\r\n\r\nThe classes are annotated `@Component(&quot;V1&quot;)`, `@Component(&quot;V2&quot;)`, and so on, to distinguish them. The classes are configured for request scope. For example:\r\n\r\n```\r\n@Component(&quot;V2&quot;)\r\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.INTERFACES)\r\npublic class ConnectorV2 implements Connector {\r\n```\r\n\r\nOne of my integration test classes uses `@Autowired @Qualifier(&quot;V2&quot;)` to obtain an instance of `ConnectorV2` as `classUnderTest` and test it. I lately found that I had accidentally wired the `ConnectorV1` and received weird test results. I&#39;d therefore like to double-check in one of the test methods that I really have the right class at hand.\r\n\r\nUnfortunately, all my attempts to assert the concrete class of `classUnderTest` failed because the instance at runtime is first of all a `com.sun.proxy$Proxy{someNumber}`. Even flexible assertions like AssertJ&#39;s `assertThat(classUnderTest).isInstanceOf(ConnectorV2.class)` fail to identify the actual class.\r\n\r\nIs there a way to look beyond that proxy and see the &quot;real&quot; class that it encapsulates?","title":"How to assert whether autowired instance is right class?","body":"<p>My Java project uses Spring. I have an interface <code>Connector</code> that's implemented by several classes, <code>ConnectorV1</code>, <code>ConnectorV2</code>, and so on.</p>\n<p>The classes are annotated <code>@Component(&quot;V1&quot;)</code>, <code>@Component(&quot;V2&quot;)</code>, and so on, to distinguish them. The classes are configured for request scope. For example:</p>\n<pre><code>@Component(&quot;V2&quot;)\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.INTERFACES)\npublic class ConnectorV2 implements Connector {\n</code></pre>\n<p>One of my integration test classes uses <code>@Autowired @Qualifier(&quot;V2&quot;)</code> to obtain an instance of <code>ConnectorV2</code> as <code>classUnderTest</code> and test it. I lately found that I had accidentally wired the <code>ConnectorV1</code> and received weird test results. I'd therefore like to double-check in one of the test methods that I really have the right class at hand.</p>\n<p>Unfortunately, all my attempts to assert the concrete class of <code>classUnderTest</code> failed because the instance at runtime is first of all a <code>com.sun.proxy$Proxy{someNumber}</code>. Even flexible assertions like AssertJ's <code>assertThat(classUnderTest).isInstanceOf(ConnectorV2.class)</code> fail to identify the actual class.</p>\n<p>Is there a way to look beyond that proxy and see the &quot;real&quot; class that it encapsulates?</p>\n"},{"tags":["java","xssf"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1678622162,"post_id":75712907,"comment_id":133565667,"body_markdown":"How should you store val depends on what operations you want to perform on it. For example, if it’s going to be used for math, BigDecimal is a good choice.","body":"How should you store val depends on what operations you want to perform on it. For example, if it’s going to be used for math, BigDecimal is a good choice."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1678622233,"post_id":75712907,"comment_id":133565678,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nIt is unclear what you are asking or what the problem is. What are you trying to do? Where/how do you use the `Cell` class in your code? Please [edit] your question to include a more detailed description of the problem you have.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. It is unclear what you are asking or what the problem is. What are you trying to do? Where/how do you use the <code>Cell</code> class in your code? Please <a href=\"https://stackoverflow.com/posts/75712907/edit\">edit</a> your question to include a more detailed description of the problem you have."},{"owner":{"account_id":23109816,"reputation":39,"user_id":17217904,"display_name":"Mr.NeedHelpAlot"},"score":0,"creation_date":1678622499,"post_id":75712907,"comment_id":133565714,"body_markdown":"@progman is this the correct edit you ment?","body":"@progman is this the correct edit you ment?"}],"answers":[{"tags":[],"owner":{"account_id":6877994,"reputation":33,"user_id":5648775,"display_name":"rbk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678623666,"creation_date":1678623666,"answer_id":75713057,"question_id":75712907,"body_markdown":"Best way of achieving this is to define a `Cell` interface and implement multiple classes extending the interface.\r\n\r\n    public interface Cell {}\r\n\r\nFollowed by implementation class per cell type:\r\n\r\n    public class StringCell implements Cell {\r\n        private String value;\r\n  \r\n        public StringCell(String value){\r\n            this.value = value;\r\n        }\r\n        // ... getters and setters etc\r\n    }\r\n\r\nYou can later find out what type the value is, based on the type of your implementation class. ","title":"Java multiple constructors with different data types, oke or not, and how to handle?","body":"<p>Best way of achieving this is to define a <code>Cell</code> interface and implement multiple classes extending the interface.</p>\n<pre><code>public interface Cell {}\n</code></pre>\n<p>Followed by implementation class per cell type:</p>\n<pre><code>public class StringCell implements Cell {\n    private String value;\n\n    public StringCell(String value){\n        this.value = value;\n    }\n    // ... getters and setters etc\n}\n</code></pre>\n<p>You can later find out what type the value is, based on the type of your implementation class.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678624628,"creation_date":1678624106,"answer_id":75713104,"question_id":75712907,"body_markdown":"maybe `Cell` is too generic in your case. For example, you might consider having different classes for `NumericCell` and `StringCell`:\r\n\r\n    class NumericCell implements Cell {\r\n    \tprivate BigDecimal val;\r\n    \r\n    \tpublic NumericCell (BigDecimal val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    \r\n    \tpublic NumericCell (int val) {\r\n    \t\tthis(BigDecimal.valueOf(val));\r\n    \t}\r\n    }\r\n    \r\n    class StringCell implements Cell {\r\n    \tprivate String val;\r\n    \r\n    \tpublic StringCell (String val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    }\r\n\r\nyou can keep `Cell` as an abstract class or interface and put there the common methods you want all the cells to perform, for example\r\n\r\n    interface Cell {\r\n        String content();\r\n    }\r\n\r\nnow StringCell can implement this and simply return val, while `NumericCell` knows it operates on a BigDecimal so it can perform some formatting, for example only display 2 decimals and rounding the number: \r\n\r\n    @Override\r\n    public String content() {\r\n        return val.setScale(2, RoundingMode.FLOOR).toString();\r\n    }\r\n\r\nThis is called polymorphism and it is a very powerful tool in OOP. you can read more about it here: https://www.w3schools.com/java/java_polymorphism.asp","title":"Java multiple constructors with different data types, oke or not, and how to handle?","body":"<p>maybe <code>Cell</code> is too generic in your case. For example, you might consider having different classes for <code>NumericCell</code> and <code>StringCell</code>:</p>\n<pre><code>class NumericCell implements Cell {\n    private BigDecimal val;\n\n    public NumericCell (BigDecimal val) {\n        this.val = val;\n    }\n\n    public NumericCell (int val) {\n        this(BigDecimal.valueOf(val));\n    }\n}\n\nclass StringCell implements Cell {\n    private String val;\n\n    public StringCell (String val) {\n        this.val = val;\n    }\n}\n</code></pre>\n<p>you can keep <code>Cell</code> as an abstract class or interface and put there the common methods you want all the cells to perform, for example</p>\n<pre><code>interface Cell {\n    String content();\n}\n</code></pre>\n<p>now StringCell can implement this and simply return val, while <code>NumericCell</code> knows it operates on a BigDecimal so it can perform some formatting, for example only display 2 decimals and rounding the number:</p>\n<pre><code>@Override\npublic String content() {\n    return val.setScale(2, RoundingMode.FLOOR).toString();\n}\n</code></pre>\n<p>This is called polymorphism and it is a very powerful tool in OOP. you can read more about it here: <a href=\"https://www.w3schools.com/java/java_polymorphism.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_polymorphism.asp</a></p>\n"},{"tags":[],"owner":{"account_id":22135521,"reputation":49,"user_id":16386385,"display_name":"Pinko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678624479,"creation_date":1678624479,"answer_id":75713144,"question_id":75712907,"body_markdown":"It is not really a good idea to do use generic types to store arbitrary data in a variable if you actually need to perform specific operations on it or need to know what exact data type the variable is currently storing.\r\n\r\nYou could do a few things to fix it. One idea: use inheritance for your class. I.e. define \r\n\r\n```Java\r\npublic class StringCell extends Cell {\r\n    public String val;\r\n\r\n    public StringCell (String val) {\r\n        this.val = val;\r\n    }\r\n    \r\n    // getType() and getValue() function\r\n    // some specific operations for StringCell\r\n}\r\n\r\n```\r\nYou could then make the parent class abstract and define a `getType()` and `getValue()` function. Since you are using different types, I would not store `val` in the parent class. Then, if you need specific functions on the data you implement it in the child classes (i.e. `addIntCell(IntCell c2)` and so on).\r\n\r\nThis approach lets you also handle arbitrary Strings for your String data. If you only do numeric operations you could also do a type conversion to e.g. `BigDecimal` (since it has high resolution) and then store another variable `type`. This can be a value from an Enum. Then, the functions to retrieve values can respect the `type` variable and get an output accordingly.\r\n\r\nIMPORTANT: the output values must be generic/compatible. So even if you know that the variable is String-valued, you should be careful when this value can be retrieved from several sources (i.e. on another instance it yields an integer). So be careful about assumptions and stop for some sanity checks now and then. Specifically, the `getValue` function mentioned above needs to return the same data type for all subclasses.","title":"Java multiple constructors with different data types, oke or not, and how to handle?","body":"<p>It is not really a good idea to do use generic types to store arbitrary data in a variable if you actually need to perform specific operations on it or need to know what exact data type the variable is currently storing.</p>\n<p>You could do a few things to fix it. One idea: use inheritance for your class. I.e. define</p>\n<pre><code>public class StringCell extends Cell {\n    public String val;\n\n    public StringCell (String val) {\n        this.val = val;\n    }\n    \n    // getType() and getValue() function\n    // some specific operations for StringCell\n}\n\n</code></pre>\n<p>You could then make the parent class abstract and define a <code>getType()</code> and <code>getValue()</code> function. Since you are using different types, I would not store <code>val</code> in the parent class. Then, if you need specific functions on the data you implement it in the child classes (i.e. <code>addIntCell(IntCell c2)</code> and so on).</p>\n<p>This approach lets you also handle arbitrary Strings for your String data. If you only do numeric operations you could also do a type conversion to e.g. <code>BigDecimal</code> (since it has high resolution) and then store another variable <code>type</code>. This can be a value from an Enum. Then, the functions to retrieve values can respect the <code>type</code> variable and get an output accordingly.</p>\n<p>IMPORTANT: the output values must be generic/compatible. So even if you know that the variable is String-valued, you should be careful when this value can be retrieved from several sources (i.e. on another instance it yields an integer). So be careful about assumptions and stop for some sanity checks now and then. Specifically, the <code>getValue</code> function mentioned above needs to return the same data type for all subclasses.</p>\n"}],"owner":{"account_id":23109816,"reputation":39,"user_id":17217904,"display_name":"Mr.NeedHelpAlot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75713104,"answer_count":3,"score":-1,"last_activity_date":1678624628,"creation_date":1678621821,"question_id":75712907,"body_markdown":"I have a class called &#39;Cell&#39; in which I (think I) need multiple constructors\r\n\r\nThe goal is to add the cell&#39;s later to an excel sheet, when adding to an excel sheet you need to add what type of data to set the excell-cell to and therefor I want to retrieve the data type from the cell class\r\n\r\n```\r\npublic Object val;\r\n\r\npublic Cell (BigDecimal val)\r\n{\r\n    this.val = val;\r\n}\r\n\r\npublic Cell (String val)\r\n{\r\n    this.val = val;\r\n}\r\n\r\npublic Cell (int val)\r\n{\r\n    this.val = val;\r\n}\r\n```\r\n\r\nI have 2 questions\r\n1) How should I store the &#39;val&#39; parameter, as Object just doesn&#39;t seem like the best way to do this?\r\n2) If I store &#39;val&#39;, how can I later find back what data type &#39;val&#39; is/was ?\r\n\r\nOr am I completely off here and is there a completely different way how I should approach this problem? ","title":"Java multiple constructors with different data types, oke or not, and how to handle?","body":"<p>I have a class called 'Cell' in which I (think I) need multiple constructors</p>\n<p>The goal is to add the cell's later to an excel sheet, when adding to an excel sheet you need to add what type of data to set the excell-cell to and therefor I want to retrieve the data type from the cell class</p>\n<pre><code>public Object val;\n\npublic Cell (BigDecimal val)\n{\n    this.val = val;\n}\n\npublic Cell (String val)\n{\n    this.val = val;\n}\n\npublic Cell (int val)\n{\n    this.val = val;\n}\n</code></pre>\n<p>I have 2 questions</p>\n<ol>\n<li>How should I store the 'val' parameter, as Object just doesn't seem like the best way to do this?</li>\n<li>If I store 'val', how can I later find back what data type 'val' is/was ?</li>\n</ol>\n<p>Or am I completely off here and is there a completely different way how I should approach this problem?</p>\n"},{"tags":["java","regex","spring-boot","spring-security","spring-validator"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678624509,"creation_date":1678621944,"answer_id":75712915,"question_id":75712849,"body_markdown":"it is a good idea to have different objects for the request model (the data coming in - UserDto) and your domain model (the @Entity you use internally - User).\r\n\r\nFor example, you can have a UserDto as a simple java class or even a record. This is the request model coming in for creating a user and it can be validated for username and password.\r\n\r\n\t@Value\r\n\tpublic class UserDto {\r\n\t\tString firstname;\r\n\t\tString lastname;\r\n\r\n\t\t@Pattern(regexp = EmailConstants.REGEX_PATTERN, message = EmailConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\r\n\t\tString username;\r\n\r\n\t\t@Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$&quot;, message = &quot;try more secure password&quot;)\r\n\t\tString password;\r\n\t}\r\n\r\n\r\nThen, you can create a User entity based on this DTO. For example, something like this:\r\n\r\n    public User buildUser(UserDto dto) {\r\n\t\tUser user = new User();\r\n\t\tuser.setFirstname(dto.getFirstname());\r\n\t\tuser.setLastname(dto.getLastname());\r\n\t\tuser.setUsername(dto.getUsername());\r\n\t\t\r\n\t\tString hashPassword = passwordEncoder.encode(dto.getPassword());\r\n\t\tuser.setPassword(hashPassword);\r\n\t\t\r\n\t\tAuthority authority = new Authority();\r\n\t\tauthority.setName(SecurityConstants.ROLE_USER);\r\n\t\tauthority.setUser(user);\r\n\t\tSet&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\r\n\t\tauthorities.add(authority);\r\n\t\tuser.setAuthorities(authorities);\r\n\t\treturn user;\r\n\t}\r\n\r\nAdditionally, your User class will no longer need the `@JsonIgnore` (or any other json-related annotations) because now you have spilt the concerns, UserDto will manage the presentation of the class while User will handle the persistence.\r\n\r\nPS: in the controller, you will need to add the @Valid annotation.  for example:\r\n\r\n    @PostMapping(&quot;users&quot;)\r\n    public void refisterUser(@Valid @RequestBody UserDto dto) {\r\n       //... \r\n    }\r\n\r\nRead more about the DTO design pattern here: https://www.baeldung.com/java-dto-pattern\r\n\r\nhope this helps.","title":"@Pattern annotation does not work correctly because it runs when i saving the user to the database it validates the hashed password","body":"<p>it is a good idea to have different objects for the request model (the data coming in - UserDto) and your domain model (the @Entity you use internally - User).</p>\n<p>For example, you can have a UserDto as a simple java class or even a record. This is the request model coming in for creating a user and it can be validated for username and password.</p>\n<pre><code>@Value\npublic class UserDto {\n    String firstname;\n    String lastname;\n\n    @Pattern(regexp = EmailConstants.REGEX_PATTERN, message = EmailConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\n    String username;\n\n    @Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$&quot;, message = &quot;try more secure password&quot;)\n    String password;\n}\n</code></pre>\n<p>Then, you can create a User entity based on this DTO. For example, something like this:</p>\n<pre><code>public User buildUser(UserDto dto) {\n    User user = new User();\n    user.setFirstname(dto.getFirstname());\n    user.setLastname(dto.getLastname());\n    user.setUsername(dto.getUsername());\n    \n    String hashPassword = passwordEncoder.encode(dto.getPassword());\n    user.setPassword(hashPassword);\n    \n    Authority authority = new Authority();\n    authority.setName(SecurityConstants.ROLE_USER);\n    authority.setUser(user);\n    Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\n    authorities.add(authority);\n    user.setAuthorities(authorities);\n    return user;\n}\n</code></pre>\n<p>Additionally, your User class will no longer need the <code>@JsonIgnore</code> (or any other json-related annotations) because now you have spilt the concerns, UserDto will manage the presentation of the class while User will handle the persistence.</p>\n<p>PS: in the controller, you will need to add the @Valid annotation.  for example:</p>\n<pre><code>@PostMapping(&quot;users&quot;)\npublic void refisterUser(@Valid @RequestBody UserDto dto) {\n   //... \n}\n</code></pre>\n<p>Read more about the DTO design pattern here: <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-dto-pattern</a></p>\n<p>hope this helps.</p>\n"}],"owner":{"account_id":21397604,"reputation":11,"user_id":15760400,"display_name":"Adem Galitekin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678624509,"creation_date":1678620952,"question_id":75712849,"body_markdown":"I will try to force the user their password must have some constraints. So, I use @Pattern annotation to force user to enter the password according to my constraints. But the problem is i send the user data as json from a request and in a service class i change the password with the hashed password. So, the way i saving the user to the database is saving it with the hashed password. So, @Pattern does not validate the actual password but validate the hashed password. So, because it&#39;s so long and there are numbers, special charecters, lower and upper case lettters it always validates true. Can you help me with that? When i save the user to the database without hashing the password it work as expected.\r\n\r\nSo, because it&#39;s so long and there are numbers, special charecters, lower and upper case lettters it always validates true. Can you help me with that? When i save the user to the database without hashing the password it work as expected.\r\n\r\nHere is my User Model\r\n```\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class User {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\n    private Long userId;\r\n\r\n    private String firstname;\r\n    private String lastname;\r\n\r\n    @Pattern(regexp = EmailConstants.REGEX_PATTERN, message = EmailConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\r\n    private String username;\r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    @Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$&quot;, message = &quot;try more secure password&quot;)\r\n    private String password;\r\n\r\n    @JsonIgnore\r\n    @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;Authority&gt; authorities;\r\n}\r\n```\r\nAnd here is my auth Service class that i save the user with the hash password.\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthService {\r\n\r\n    private final UserService userService;\r\n    private final EmailVerificationService emailVerificationService;\r\n\r\n    public User registerUser (User user, PasswordEncoder passwordEncoder) throws Exception {\r\n\r\n        String hashPassword = passwordEncoder.encode(user.getPassword());\r\n        user.setPassword(hashPassword);\r\n        Authority authority = new Authority();\r\n        authority.setName(SecurityConstants.ROLE_USER);\r\n        authority.setUser(user);\r\n        Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\r\n        authorities.add(authority);\r\n        user.setAuthorities(authorities);\r\n        \r\n        //emailVerificationService.verifyEmail(user.getUsername());\r\n        userService.createUser(user);\r\n\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\n","title":"@Pattern annotation does not work correctly because it runs when i saving the user to the database it validates the hashed password","body":"<p>I will try to force the user their password must have some constraints. So, I use @Pattern annotation to force user to enter the password according to my constraints. But the problem is i send the user data as json from a request and in a service class i change the password with the hashed password. So, the way i saving the user to the database is saving it with the hashed password. So, @Pattern does not validate the actual password but validate the hashed password. So, because it's so long and there are numbers, special charecters, lower and upper case lettters it always validates true. Can you help me with that? When i save the user to the database without hashing the password it work as expected.</p>\n<p>So, because it's so long and there are numbers, special charecters, lower and upper case lettters it always validates true. Can you help me with that? When i save the user to the database without hashing the password it work as expected.</p>\n<p>Here is my User Model</p>\n<pre><code>\n@Entity\n@Getter\n@Setter\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\n    private Long userId;\n\n    private String firstname;\n    private String lastname;\n\n    @Pattern(regexp = EmailConstants.REGEX_PATTERN, message = EmailConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\n    private String username;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$&quot;, message = &quot;try more secure password&quot;)\n    private String password;\n\n    @JsonIgnore\n    @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;Authority&gt; authorities;\n}\n</code></pre>\n<p>And here is my auth Service class that i save the user with the hash password.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AuthService {\n\n    private final UserService userService;\n    private final EmailVerificationService emailVerificationService;\n\n    public User registerUser (User user, PasswordEncoder passwordEncoder) throws Exception {\n\n        String hashPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(hashPassword);\n        Authority authority = new Authority();\n        authority.setName(SecurityConstants.ROLE_USER);\n        authority.setUser(user);\n        Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\n        authorities.add(authority);\n        user.setAuthorities(authorities);\n        \n        //emailVerificationService.verifyEmail(user.getUsername());\n        userService.createUser(user);\n\n        return user;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","file","properties-file"],"comments":[{"owner":{"account_id":27245656,"reputation":400,"user_id":20771004,"display_name":"padeso"},"score":0,"creation_date":1678624262,"post_id":75713006,"comment_id":133565935,"body_markdown":"&quot;Notepad can&#39;t read the Eclipse created file.” What happens when you try to open the file in Notepad?","body":"&quot;Notepad can&#39;t read the Eclipse created file.” What happens when you try to open the file in Notepad?"},{"owner":{"account_id":361226,"reputation":166,"user_id":703685,"display_name":"Exile79"},"score":0,"creation_date":1678626382,"post_id":75713006,"comment_id":133566255,"body_markdown":"Properties files are just text files with different extension. You should be able to open it with any text editor, including Notepad++. My first guess would be that the file is locked by another process, maybe an antivirus or Eclipse itself. Try closing Eclipse, or event rebooting your machine and try re-opening the file with notepad.","body":"Properties files are just text files with different extension. You should be able to open it with any text editor, including Notepad++. My first guess would be that the file is locked by another process, maybe an antivirus or Eclipse itself. Try closing Eclipse, or event rebooting your machine and try re-opening the file with notepad."},{"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"score":0,"creation_date":1678628155,"post_id":75713006,"comment_id":133566495,"body_markdown":"If I open properties file created by Eclipse in Notepad, I just see alot NUL character between the alphabet character. Like this: https://drive.google.com/file/d/10wlb552Re7FcZkI7OPlsZ3r5GIy_ifqb/view\n\nIf I open properties file created by Notepad in Eclipse, I will see like this: https://drive.google.com/file/d/1BjjJwkC6UAO3pFuMkxRfHHm7A-Avz50v/view\n\nAnd my program can just read properties file created by Notepad.","body":"If I open properties file created by Eclipse in Notepad, I just see alot NUL character between the alphabet character. Like this: <a href=\"https://drive.google.com/file/d/10wlb552Re7FcZkI7OPlsZ3r5GIy_ifqb/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/10wlb552Re7FcZkI7OPlsZ3r5GIy_ifqb/vi&zwnj;&#8203;ew</a>  If I open properties file created by Notepad in Eclipse, I will see like this: <a href=\"https://drive.google.com/file/d/1BjjJwkC6UAO3pFuMkxRfHHm7A-Avz50v/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1BjjJwkC6UAO3pFuMkxRfHHm7A-Avz50v/vi&zwnj;&#8203;ew</a>  And my program can just read properties file created by Notepad."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1678631939,"post_id":75713006,"comment_id":133567108,"body_markdown":"What is the File Encoding being used by the properties file in Eclipse? Look at the &quot;text file encoding&quot; entry in the  &quot;Resource&quot; page of the &quot;Properties&quot; for the file.","body":"What is the File Encoding being used by the properties file in Eclipse? Look at the &quot;text file encoding&quot; entry in the  &quot;Resource&quot; page of the &quot;Properties&quot; for the file."},{"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"score":0,"creation_date":1678634628,"post_id":75713006,"comment_id":133567604,"body_markdown":"Oh, text file encoding is UTF-32 (found by right click -&gt; properties -&gt; resources).  Then I change to UTF-8 and rewrite the properties file content. Then program now can read the Eclipse created file.\nSo the main reason is Eclipse set text encoding to UTF-32 automatically when I create file. But my program can only read the UTF-8 file.Thanks all of you!","body":"Oh, text file encoding is UTF-32 (found by right click -&gt; properties -&gt; resources).  Then I change to UTF-8 and rewrite the properties file content. Then program now can read the Eclipse created file. So the main reason is Eclipse set text encoding to UTF-32 automatically when I create file. But my program can only read the UTF-8 file.Thanks all of you!"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1678641032,"post_id":75713006,"comment_id":133568742,"body_markdown":"Eclipse doesn&#39;t normally use UTF-32 automatically for anything. Check the default text file encoding in the &quot;General &gt; Workspace&quot; page of the Preferences. Also the encodings in &quot;General &gt; Content Types&quot;","body":"Eclipse doesn&#39;t normally use UTF-32 automatically for anything. Check the default text file encoding in the &quot;General &gt; Workspace&quot; page of the Preferences. Also the encodings in &quot;General &gt; Content Types&quot;"},{"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"score":0,"creation_date":1678679047,"post_id":75713006,"comment_id":133574175,"body_markdown":"yeah, I found that somehow the default encoding of Java properties file in Preferences -&gt; General -&gt; Content Types is UTF-32. That&#39;s why all properties file I had created before got UTF-32 encoding. Thanks!","body":"yeah, I found that somehow the default encoding of Java properties file in Preferences -&gt; General -&gt; Content Types is UTF-32. That&#39;s why all properties file I had created before got UTF-32 encoding. Thanks!"}],"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678623626,"creation_date":1678623019,"question_id":75713006,"body_markdown":"I got a simple Java project to read properties file like this:\r\n\r\n[This is project structure](https://i.stack.imgur.com/pwzpl.jpg)\r\n\r\nThis is PropertiesFileReader class:\r\n\r\n\r\n```\r\npublic class PropertiesFileReader {\r\n\t\r\n\tpublic void propertiesFileReader(String key) throws IOException {\r\n\t\t\t\r\n\t\tProperties pro = new Properties();\r\n\t\r\n\t\t// solution 1\r\n\t\tFile f = new File(&quot;./propertiesFiles/exampleByNotepad.properties&quot;);\r\n\t\tFileReader fr = new FileReader(f);\r\n\t\r\n\t\t// solution 2\r\n\t\tInputStream input = new FileInputStream(&quot;./propertiesFiles/exampleByNotepad.properties&quot;);\r\n\t\r\n\t\tpro.load(fr); // or pro.load(input);\r\n\t\tpro.setProperty(&quot;firstKey&quot;, &quot;first Value&quot;);\r\n\t\r\n\t\tSystem.out.println(pro.getProperty(key));\r\n\t}\r\n\r\n}\r\n```\r\nThis is propertiesFileExecution class\r\n\r\n```\r\npublic class propertiesFileExecution {\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tPropertiesFileReader pfr = new PropertiesFileReader();\r\n\t\t\r\n\t\tpfr.propertiesFileReader(&quot;sayHello&quot;);\r\n\t\tpfr.propertiesFileReader(&quot;sayGoodbye&quot;);\r\n\t\tpfr.propertiesFileReader(&quot;myName&quot;);\r\n\t\tpfr.propertiesFileReader(&quot;firstKey&quot;);\r\n\t}\r\n\r\n}\r\n```\r\nI created 3 properties files. One created by Eclipse (File-&gt; New -&gt; Other -&gt; File), one created by Notepad (create example.txt first then change the extension), and the remain created by Visual Studio Code.\r\n\r\nThis is my properties file content.\r\n\r\n```\r\n# this is properties file\r\nsayHello=Hello\r\nsayGoodbye=Goodbye\r\nmyName=Ray\r\n```\r\nWhen I run, I only got right result with Notepad and VSC creating file.\r\n\r\nBut not with file created by Eclipse. When I load the Eclipse properties file.\r\nWith this code:\r\n\r\n```\r\nProperties pro = new Properties();\r\n\t\r\n\t\t// solution 1\r\n\t\tFile f = new File(&quot;./propertiesFiles/exampleByEclipse.properties&quot;);\r\n\t\tFileReader fr = new FileReader(f);\r\n\t\r\n\t\t// solution 2\r\n\t\tInputStream input = new FileInputStream(&quot;./propertiesFiles/exampleByEclipse.properties&quot;);\r\n\t\r\n\t\tpro.load(fr); // or pro.load(input);\r\n\t\tpro.setProperty(&quot;firstKey&quot;, &quot;first Value&quot;);\r\n```\r\n\r\n\r\nI will got this result:\r\n`null\r\nnull\r\nnull\r\nfirst Value`\r\n\r\nAnother thing, I can open to edit properties file created by Eclipse, but can&#39;t do with other 2 files. These 2 files can be read and edited by Notepad, but Notepad can&#39;t read the Eclipse created file.\r\n\r\nIt takes me a day to realize this.\r\n\r\nAnd I don&#39;t know why my Java project can&#39;t read properties file created by Eclipse?","title":"Why does my Java project can&#39;t read properties file created by Eclipse, but with Notepad or Visual Studio Code one?","body":"<p>I got a simple Java project to read properties file like this:</p>\n<p><a href=\"https://i.stack.imgur.com/pwzpl.jpg\" rel=\"nofollow noreferrer\">This is project structure</a></p>\n<p>This is PropertiesFileReader class:</p>\n<pre><code>public class PropertiesFileReader {\n    \n    public void propertiesFileReader(String key) throws IOException {\n            \n        Properties pro = new Properties();\n    \n        // solution 1\n        File f = new File(&quot;./propertiesFiles/exampleByNotepad.properties&quot;);\n        FileReader fr = new FileReader(f);\n    \n        // solution 2\n        InputStream input = new FileInputStream(&quot;./propertiesFiles/exampleByNotepad.properties&quot;);\n    \n        pro.load(fr); // or pro.load(input);\n        pro.setProperty(&quot;firstKey&quot;, &quot;first Value&quot;);\n    \n        System.out.println(pro.getProperty(key));\n    }\n\n}\n</code></pre>\n<p>This is propertiesFileExecution class</p>\n<pre><code>public class propertiesFileExecution {\n    \n    public static void main(String[] args) throws IOException {\n        \n        PropertiesFileReader pfr = new PropertiesFileReader();\n        \n        pfr.propertiesFileReader(&quot;sayHello&quot;);\n        pfr.propertiesFileReader(&quot;sayGoodbye&quot;);\n        pfr.propertiesFileReader(&quot;myName&quot;);\n        pfr.propertiesFileReader(&quot;firstKey&quot;);\n    }\n\n}\n</code></pre>\n<p>I created 3 properties files. One created by Eclipse (File-&gt; New -&gt; Other -&gt; File), one created by Notepad (create example.txt first then change the extension), and the remain created by Visual Studio Code.</p>\n<p>This is my properties file content.</p>\n<pre><code># this is properties file\nsayHello=Hello\nsayGoodbye=Goodbye\nmyName=Ray\n</code></pre>\n<p>When I run, I only got right result with Notepad and VSC creating file.</p>\n<p>But not with file created by Eclipse. When I load the Eclipse properties file.\nWith this code:</p>\n<pre><code>Properties pro = new Properties();\n    \n        // solution 1\n        File f = new File(&quot;./propertiesFiles/exampleByEclipse.properties&quot;);\n        FileReader fr = new FileReader(f);\n    \n        // solution 2\n        InputStream input = new FileInputStream(&quot;./propertiesFiles/exampleByEclipse.properties&quot;);\n    \n        pro.load(fr); // or pro.load(input);\n        pro.setProperty(&quot;firstKey&quot;, &quot;first Value&quot;);\n</code></pre>\n<p>I will got this result:\n<code>null null null first Value</code></p>\n<p>Another thing, I can open to edit properties file created by Eclipse, but can't do with other 2 files. These 2 files can be read and edited by Notepad, but Notepad can't read the Eclipse created file.</p>\n<p>It takes me a day to realize this.</p>\n<p>And I don't know why my Java project can't read properties file created by Eclipse?</p>\n"},{"tags":["java","android","android-recyclerview","android-room","indexoutofboundsexception"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678402781,"post_id":75690740,"comment_id":133530750,"body_markdown":"`(tasks.get(position).getTaskOrder())` this line has the exception raised; you need to check the `tasks` size and make sure you don&#39;t get out of bounds index","body":"<code>(tasks.get(position).getTaskOrder())</code> this line has the exception raised; you need to check the <code>tasks</code> size and make sure you don&#39;t get out of bounds index"},{"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"score":0,"creation_date":1678408984,"post_id":75690740,"comment_id":133531636,"body_markdown":"I&#39;ve already tried to use if( position &gt;= tasks.size) but adapter just moved to creatViewHolder and gave me another exception for the same problem.","body":"I&#39;ve already tried to use if( position &gt;= tasks.size) but adapter just moved to creatViewHolder and gave me another exception for the same problem."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678410642,"post_id":75690740,"comment_id":133531836,"body_markdown":"If you need to do that the use if(position &gt; tasks.size) instead","body":"If you need to do that the use if(position &gt; tasks.size) instead"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":1,"creation_date":1678426473,"post_id":75690740,"comment_id":133533686,"body_markdown":"Hej Abdulla, can you show the code for your Adapter? For example what does &#39;activeHeaderAdapter.submitList(true)&#39;?","body":"Hej Abdulla, can you show the code for your Adapter? For example what does &#39;activeHeaderAdapter.submitList(true)&#39;?"},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1678449205,"post_id":75690740,"comment_id":133539009,"body_markdown":"@AbdullaBashir yeah, your code from Adapter would be really helpful, especially the part where you delete item","body":"@AbdullaBashir yeah, your code from Adapter would be really helpful, especially the part where you delete item"},{"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"score":0,"creation_date":1678454193,"post_id":75690740,"comment_id":133540328,"body_markdown":"@DanielKnauf  I edited the question to add my adapter code (i removed all ItemTouchHelper code since it is not related to simplify the code snippet, as well as related TaskFragment code, if there is anything else needed just tell me, and thanks in advance.","body":"@DanielKnauf  I edited the question to add my adapter code (i removed all ItemTouchHelper code since it is not related to simplify the code snippet, as well as related TaskFragment code, if there is anything else needed just tell me, and thanks in advance."},{"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"score":0,"creation_date":1678454349,"post_id":75690740,"comment_id":133540366,"body_markdown":"@Ruslan the question has been edited, please read the above comment","body":"@Ruslan the question has been edited, please read the above comment"},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1678455326,"post_id":75690740,"comment_id":133540637,"body_markdown":"@AbdullaBashir what is happening in VM when you call ```viewModel.deleteTaskById(tasks.get(position).getTaskId())```?","body":"@AbdullaBashir what is happening in VM when you call <code>viewModel.deleteTaskById(tasks.get(position).getTaskId())</code>?"},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1678455587,"post_id":75690740,"comment_id":133540701,"body_markdown":"@AbdullaBashir error which you receive `IndexOutOfBoundsException: Index: 2, Size: 2` is very typical to cases when adapter is not being notified about removed items, so I hope VM code will help to understand what is going on there","body":"@AbdullaBashir error which you receive <code>IndexOutOfBoundsException: Index: 2, Size: 2</code> is very typical to cases when adapter is not being notified about removed items, so I hope VM code will help to understand what is going on there"},{"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"score":0,"creation_date":1678457879,"post_id":75690740,"comment_id":133541386,"body_markdown":"@Ruslan viewModel calls repository which in turn calls TaskDao for this method  @Query(&quot;DELETE FROM Task WHERE taskId = :taskId&quot;)\n    void deleteTaskById(long taskId); - no more, no less.","body":"@Ruslan viewModel calls repository which in turn calls TaskDao for this method  @Query(&quot;DELETE FROM Task WHERE taskId = :taskId&quot;)     void deleteTaskById(long taskId); - no more, no less."},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1678458352,"post_id":75690740,"comment_id":133541531,"body_markdown":"@AbdullaBashir got it, how you delete that corresponding item from Adapter?","body":"@AbdullaBashir got it, how you delete that corresponding item from Adapter?"},{"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"score":0,"creation_date":1678466051,"post_id":75690740,"comment_id":133543853,"body_markdown":"@Ruslan why do i need to delete it? LiveData will fetch the changed data from my database and  pass it to submitList which will invoke notifyDataSetChanged. All my other editing list features work this way, isn&#39;t that right? .. however, i&#39;ve tried before to delete the task from my list and use notifyDataSetChanged, also to delete it and pass the list again through submitList but no change.","body":"@Ruslan why do i need to delete it? LiveData will fetch the changed data from my database and  pass it to submitList which will invoke notifyDataSetChanged. All my other editing list features work this way, isn&#39;t that right? .. however, i&#39;ve tried before to delete the task from my list and use notifyDataSetChanged, also to delete it and pass the list again through submitList but no change."},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1678538397,"post_id":75690740,"comment_id":133554021,"body_markdown":"@AbdullaBashir sorry didn&#39;t notice it initially, yeah it looks like it should take care of it. I guess that somehow this could be related to the fact that you are adding all these adapters to `ConcatAdapter`, but in theory it should also update itself. Please give a try to Daniel&#39;s suggestion.","body":"@AbdullaBashir sorry didn&#39;t notice it initially, yeah it looks like it should take care of it. I guess that somehow this could be related to the fact that you are adding all these adapters to <code>ConcatAdapter</code>, but in theory it should also update itself. Please give a try to Daniel&#39;s suggestion."}],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678623074,"creation_date":1678467093,"answer_id":75698908,"question_id":75690740,"body_markdown":"You can simplify your Adapter by using [ListAdapter][1]. It will manage updating the list and animate any changed (see also [DiffCallback][2] for better update handling).\r\n\r\nListAdapter supports your approach with data changes via LiveData. When a new data set is submitted you just call `adapter.submitList(dataList)` to update the adapter.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\r\n  [2]: https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil.ItemCallback","title":"IndexOutOfBoundsException: Index: 2, Size: 2 at recyclerview getItemViewType when updating database","body":"<p>You can simplify your Adapter by using <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\" rel=\"nofollow noreferrer\">ListAdapter</a>. It will manage updating the list and animate any changed (see also <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil.ItemCallback\" rel=\"nofollow noreferrer\">DiffCallback</a> for better update handling).</p>\n<p>ListAdapter supports your approach with data changes via LiveData. When a new data set is submitted you just call <code>adapter.submitList(dataList)</code> to update the adapter.</p>\n"}],"owner":{"account_id":11783266,"reputation":1,"user_id":16736120,"display_name":"Abdulla Bashir"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678623074,"creation_date":1678401993,"question_id":75690740,"body_markdown":"i have an adapter with 5 viewTypes, with options to edit the list such as add, delete, check, unCheck, hide and show items. when i press delete an item (the item is deleted from room database and the list is notified through a combination of liveData and viewModel), the app crashes with this error message:\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n    Process: com.jakrta.solo, PID: 8708\r\n    java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\r\n        at java.util.ArrayList.get(ArrayList.java:437)\r\n        at com.jakrta.solo.ui.tasks.TasksListAdapter.getItemViewType(TasksListAdapter.java:547)\r\n```\r\n\r\nThis occures in most times (90%), the error message always shows matched numbers in both index and size, it looks like when the item is deleted from database getItemViewType is still dealing with the old size of the array although the adapter has received the new array. \r\n\r\n \r\n\r\nhere is the code and the error message:\r\n\r\n   \r\n \r\n\r\n   \r\n```\r\n    `viewModel.observeActiveTasks()\r\n                .observe(this, tasks -&gt; {\r\n\r\n                    activeTasksAdapter.submitList(tasks);\r\n\r\n                    if(!(tasks.isEmpty()))\r\n                        activeHeaderAdapter.submitList(true);\r\n                    else\r\n                        activeHeaderAdapter.clearList();\r\n\r\n                });`\r\n```\r\n    \r\n```\r\n    public class TasksListAdapter extends RecyclerView.Adapter&lt;TasksListAdapter.TasksListViewHolder&gt;\r\n       \r\n{\r\n\r\n    public List&lt;Task&gt; tasks= new ArrayList&lt;&gt;();\r\n    private int taskOrder;\r\n    private TasksListViewHolder holder\r\n    ItemClicked activity;\r\n\r\n    public TasksListAdapter(ItemClicked activity, int taskOrder)\r\n    {\r\n        this.taskOrder= taskOrder;\r\n        this.activity=activity;\r\n    }\r\npublic class TasksListViewHolder extends RecyclerView.ViewHolder\r\n            implements View.OnClickListener\r\n    {\r\n\r\n\r\n        private AppCompatTextView tvTaskName;\r\n        private AppCompatCheckBox cbTask;\r\n        private AppCompatRadioButton bSelect;\r\n        private AppCompatImageButton btArrowUp;\r\n        private AppCompatImageButton btArrowDown;\r\n        private AppCompatImageButton bDelete;\r\n\r\n        public TasksListViewHolder(@NonNull View itemView, int viewType)\r\n        {\r\n            super(itemView);\r\n\r\n            tvTaskName=itemView.findViewById(R.id.tvTaskName);\r\n            cbTask=itemView.findViewById(R.id.cbTask);\r\n            bSelect=itemView.findViewById(R.id.bSelect);\r\n            btArrowUp= itemView.findViewById(R.id.btArrowUp);\r\n            btArrowDown= itemView.findViewById(R.id.btArrowDown);\r\n            bDelete=itemView.findViewById(R.id.bDelete);\r\n\r\n\r\n        }\r\n    }\r\n\r\n@NonNull\r\n    @Override\r\n    public TasksListViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n\r\n\r\n            switch (viewType) {\r\n\r\n                case 1: {\r\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n                    View view = inflater.inflate(R.layout.task_layout_one, parent, false);\r\n\r\n                    return new TasksListViewHolder(view, viewType);\r\n                }\r\n\r\n                case 2: {\r\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n                    View view = inflater.inflate(R.layout.task_layout_two, parent, false);\r\n\r\n                    return new TasksListViewHolder(view, viewType);\r\n                }\r\n\r\n                case 3: {\r\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n                    View view = inflater.inflate(R.layout.task_layout_three, parent, false);\r\n\r\n                    return new TasksListViewHolder(view, viewType);\r\n                }\r\n\r\n                case 4: {\r\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n                    View view = inflater.inflate(R.layout.task_layout_four, parent, false);\r\n\r\n                    return new TasksListViewHolder(view, viewType);\r\n                }\r\n\r\n                case 5: {\r\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n                    View view = inflater.inflate(R.layout.task_layout_five, parent, false);\r\n\r\n                    return new TasksListViewHolder(view, viewType);\r\n                }\r\n            }\r\n\r\n        return null;\r\n    }\r\n\r\npublic void onBindViewHolder(@NonNull TasksListViewHolder holder, int position)\r\n    {\r\n\r\n        this.holder= holder;\r\n        holder.tvTaskName.setText(tasks.get(position).getName());\r\n        holder.cbTask.setChecked(tasks.get(position).getIsCompleted());\r\n\r\n        if(position == tasks.size()-1)\r\n            holder.itemView.setBackgroundResource(R.drawable.background_task_list);\r\n        else\r\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#19212188&quot;));\r\n        if (tasks.get(position).isHasSubTasks()) {\r\n\r\n            if ( position == tasks.size()-1 ||\r\n                    tasks.get(position+1).getTaskOrder()&lt;=tasks.get(position).getTaskOrder()) {\r\n\r\n                holder.btArrowUp.setVisibility(View.VISIBLE);\r\n                holder.btArrowDown.setVisibility(View.GONE);\r\n\r\n            } else {\r\n\r\n                holder.btArrowUp.setVisibility(View.GONE);\r\n                holder.btArrowDown.setVisibility(View.VISIBLE);\r\n            }\r\n        } else {\r\n            holder.btArrowUp.setVisibility(View.GONE);\r\n            holder.btArrowDown.setVisibility(View.GONE);\r\n        }\r\n\r\nholder.bDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                activity.onItemDeleted(tasks, position);\r\n\r\n            }\r\n        });\r\n\r\n        holder.cbTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                boolean checked = ((AppCompatCheckBox) v).isChecked();\r\n\r\n                    activity.onTtemChecked(position, checked);\r\n\r\n            }\r\n        });\r\n}\r\n\r\npublic void submitList(final List&lt;Task&gt; tasks) {\r\n        this.tasks.clear();\r\n        this.tasks = tasks;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tasks.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n//        return super.getItemViewType(position);\r\n\r\n        switch (tasks.get(position).getTaskOrder()) {\r\n            case 1:\r\n                return 1;\r\n            case 2:\r\n                return 2;\r\n            case 3:\r\n                return 3;\r\n            case 4:\r\n                return 4;\r\n            case 5:\r\n                return 5;\r\n            default:\r\n                return -1;\r\n        }\r\n    }\r\n\r\npublic interface ItemClicked {\r\n\r\n        //        void onItemClicked(int index);\r\n        void onItemDeleted(List&lt;Task&gt; tasks, position);\r\n        void onMultipleItemsDeleted(List&lt;Task&gt; selectedTasksList);\r\n        void onItemAdded(Task task);\r\n        void onTtemChecked(int position, boolean isCompleted);\r\n        void onItemMoved();\r\n        void onTtemRestricted(Task task);\r\n        void onLaterUpdates();\r\n        void onHiddenItemsRestored(Task task, int position);\r\n        void onHiddenItemsRemoved(int position);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n    public class TasksFragment extends Fragment implements CalendarFragment.OnDataDelivered,\r\n        CalendarAdapter.OnViewHolderCreated, TasksListAdapter.ItemClicked\r\n        , BottomSheetFragment.TaskAdded, TaskCallback {\r\n\r\n\r\n\r\n\r\n\r\n    public void setTasksList () {\r\n\r\n        taskListsRecyclerView = binding.tasksListRecyclerView;\r\n\r\n        activeHeaderAdapter= new TasksHeaderAdapter();\r\n        activeTasksAdapter = new TasksListAdapter(this, taskOrder);\r\n\r\n        completedHeaderAdapter= new TasksHeaderAdapter();\r\n        completedTasksAdapter = new TasksListAdapter(this, taskOrder);\r\n\r\n        tasksConcatAdapter= new ConcatAdapter(activeHeaderAdapter,\r\n                activeTasksAdapter, completedHeaderAdapter, completedTasksAdapter);\r\n\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getActivity());\r\n        taskListsRecyclerView.setLayoutManager(layoutManager);\r\n        taskListsRecyclerView.setAdapter(tasksConcatAdapter);\r\n        RecyclerView.RecycledViewPool viewPool = new RecyclerView.RecycledViewPool();\r\n        taskListsRecyclerView.setRecycledViewPool(viewPool);\r\n        viewPool.setMaxRecycledViews(0, 0);\r\n      }@Override\r\n    public void onItemDeleted(List&lt;Task&gt; tasks, int position) {viewModel.deleteTaskById(tasks.get(position).getTaskId());\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ni tried to catch an error on getItemViewType but the app moved on and gave another error message (invoking itemView on a null pointer at createViewHolder). i didn&#39;t try to remove the deleted item manually from the array because i still has multiple delete option and this answer is not acceptable there, but at least i tried notifyDataSetChanged() after deleting the item from the database but to no avail.","title":"IndexOutOfBoundsException: Index: 2, Size: 2 at recyclerview getItemViewType when updating database","body":"<p>i have an adapter with 5 viewTypes, with options to edit the list such as add, delete, check, unCheck, hide and show items. when i press delete an item (the item is deleted from room database and the list is notified through a combination of liveData and viewModel), the app crashes with this error message:</p>\n<pre><code>FATAL EXCEPTION: main\n    Process: com.jakrta.solo, PID: 8708\n    java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.jakrta.solo.ui.tasks.TasksListAdapter.getItemViewType(TasksListAdapter.java:547)\n</code></pre>\n<p>This occures in most times (90%), the error message always shows matched numbers in both index and size, it looks like when the item is deleted from database getItemViewType is still dealing with the old size of the array although the adapter has received the new array.</p>\n<p>here is the code and the error message:</p>\n<pre><code>    `viewModel.observeActiveTasks()\n                .observe(this, tasks -&gt; {\n\n                    activeTasksAdapter.submitList(tasks);\n\n                    if(!(tasks.isEmpty()))\n                        activeHeaderAdapter.submitList(true);\n                    else\n                        activeHeaderAdapter.clearList();\n\n                });`\n</code></pre>\n<pre><code>    public class TasksListAdapter extends RecyclerView.Adapter&lt;TasksListAdapter.TasksListViewHolder&gt;\n       \n{\n\n    public List&lt;Task&gt; tasks= new ArrayList&lt;&gt;();\n    private int taskOrder;\n    private TasksListViewHolder holder\n    ItemClicked activity;\n\n    public TasksListAdapter(ItemClicked activity, int taskOrder)\n    {\n        this.taskOrder= taskOrder;\n        this.activity=activity;\n    }\npublic class TasksListViewHolder extends RecyclerView.ViewHolder\n            implements View.OnClickListener\n    {\n\n\n        private AppCompatTextView tvTaskName;\n        private AppCompatCheckBox cbTask;\n        private AppCompatRadioButton bSelect;\n        private AppCompatImageButton btArrowUp;\n        private AppCompatImageButton btArrowDown;\n        private AppCompatImageButton bDelete;\n\n        public TasksListViewHolder(@NonNull View itemView, int viewType)\n        {\n            super(itemView);\n\n            tvTaskName=itemView.findViewById(R.id.tvTaskName);\n            cbTask=itemView.findViewById(R.id.cbTask);\n            bSelect=itemView.findViewById(R.id.bSelect);\n            btArrowUp= itemView.findViewById(R.id.btArrowUp);\n            btArrowDown= itemView.findViewById(R.id.btArrowDown);\n            bDelete=itemView.findViewById(R.id.bDelete);\n\n\n        }\n    }\n\n@NonNull\n    @Override\n    public TasksListViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n\n\n            switch (viewType) {\n\n                case 1: {\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n                    View view = inflater.inflate(R.layout.task_layout_one, parent, false);\n\n                    return new TasksListViewHolder(view, viewType);\n                }\n\n                case 2: {\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n                    View view = inflater.inflate(R.layout.task_layout_two, parent, false);\n\n                    return new TasksListViewHolder(view, viewType);\n                }\n\n                case 3: {\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n                    View view = inflater.inflate(R.layout.task_layout_three, parent, false);\n\n                    return new TasksListViewHolder(view, viewType);\n                }\n\n                case 4: {\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n                    View view = inflater.inflate(R.layout.task_layout_four, parent, false);\n\n                    return new TasksListViewHolder(view, viewType);\n                }\n\n                case 5: {\n                    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n                    View view = inflater.inflate(R.layout.task_layout_five, parent, false);\n\n                    return new TasksListViewHolder(view, viewType);\n                }\n            }\n\n        return null;\n    }\n\npublic void onBindViewHolder(@NonNull TasksListViewHolder holder, int position)\n    {\n\n        this.holder= holder;\n        holder.tvTaskName.setText(tasks.get(position).getName());\n        holder.cbTask.setChecked(tasks.get(position).getIsCompleted());\n\n        if(position == tasks.size()-1)\n            holder.itemView.setBackgroundResource(R.drawable.background_task_list);\n        else\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#19212188&quot;));\n        if (tasks.get(position).isHasSubTasks()) {\n\n            if ( position == tasks.size()-1 ||\n                    tasks.get(position+1).getTaskOrder()&lt;=tasks.get(position).getTaskOrder()) {\n\n                holder.btArrowUp.setVisibility(View.VISIBLE);\n                holder.btArrowDown.setVisibility(View.GONE);\n\n            } else {\n\n                holder.btArrowUp.setVisibility(View.GONE);\n                holder.btArrowDown.setVisibility(View.VISIBLE);\n            }\n        } else {\n            holder.btArrowUp.setVisibility(View.GONE);\n            holder.btArrowDown.setVisibility(View.GONE);\n        }\n\nholder.bDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                activity.onItemDeleted(tasks, position);\n\n            }\n        });\n\n        holder.cbTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                boolean checked = ((AppCompatCheckBox) v).isChecked();\n\n                    activity.onTtemChecked(position, checked);\n\n            }\n        });\n}\n\npublic void submitList(final List&lt;Task&gt; tasks) {\n        this.tasks.clear();\n        this.tasks = tasks;\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public int getItemCount() {\n        return tasks.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n//        return super.getItemViewType(position);\n\n        switch (tasks.get(position).getTaskOrder()) {\n            case 1:\n                return 1;\n            case 2:\n                return 2;\n            case 3:\n                return 3;\n            case 4:\n                return 4;\n            case 5:\n                return 5;\n            default:\n                return -1;\n        }\n    }\n\npublic interface ItemClicked {\n\n        //        void onItemClicked(int index);\n        void onItemDeleted(List&lt;Task&gt; tasks, position);\n        void onMultipleItemsDeleted(List&lt;Task&gt; selectedTasksList);\n        void onItemAdded(Task task);\n        void onTtemChecked(int position, boolean isCompleted);\n        void onItemMoved();\n        void onTtemRestricted(Task task);\n        void onLaterUpdates();\n        void onHiddenItemsRestored(Task task, int position);\n        void onHiddenItemsRemoved(int position);\n\n    }\n}\n\n\n\n</code></pre>\n<pre><code>public class TasksFragment extends Fragment implements CalendarFragment.OnDataDelivered,\n    CalendarAdapter.OnViewHolderCreated, TasksListAdapter.ItemClicked\n    , BottomSheetFragment.TaskAdded, TaskCallback {\n\n\n\n\n\npublic void setTasksList () {\n\n    taskListsRecyclerView = binding.tasksListRecyclerView;\n\n    activeHeaderAdapter= new TasksHeaderAdapter();\n    activeTasksAdapter = new TasksListAdapter(this, taskOrder);\n\n    completedHeaderAdapter= new TasksHeaderAdapter();\n    completedTasksAdapter = new TasksListAdapter(this, taskOrder);\n\n    tasksConcatAdapter= new ConcatAdapter(activeHeaderAdapter,\n            activeTasksAdapter, completedHeaderAdapter, completedTasksAdapter);\n\n    RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getActivity());\n    taskListsRecyclerView.setLayoutManager(layoutManager);\n    taskListsRecyclerView.setAdapter(tasksConcatAdapter);\n    RecyclerView.RecycledViewPool viewPool = new RecyclerView.RecycledViewPool();\n    taskListsRecyclerView.setRecycledViewPool(viewPool);\n    viewPool.setMaxRecycledViews(0, 0);\n  }@Override\npublic void onItemDeleted(List&lt;Task&gt; tasks, int position) {viewModel.deleteTaskById(tasks.get(position).getTaskId());\n}\n</code></pre>\n<p>i tried to catch an error on getItemViewType but the app moved on and gave another error message (invoking itemView on a null pointer at createViewHolder). i didn't try to remove the deleted item manually from the array because i still has multiple delete option and this answer is not acceptable there, but at least i tried notifyDataSetChanged() after deleting the item from the database but to no avail.</p>\n"},{"tags":["java","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678622899,"creation_date":1678622899,"answer_id":75712993,"question_id":75709502,"body_markdown":"I recommend that you use Gatling&#39;s Pebble templating engine support:\r\n* https://pebbletemplates.io/\r\n* https://gatling.io/docs/gatling/reference/current/http/request/#pebblestringbody\r\n* https://gatling.io/docs/gatling/reference/current/http/request/#pebblefilebody\r\n\r\nYou don&#39;t even need to merge the 2 lists.","title":"Gatling pass Map element from session in each request","body":"<p>I recommend that you use Gatling's Pebble templating engine support:</p>\n<ul>\n<li><a href=\"https://pebbletemplates.io/\" rel=\"nofollow noreferrer\">https://pebbletemplates.io/</a></li>\n<li><a href=\"https://gatling.io/docs/gatling/reference/current/http/request/#pebblestringbody\" rel=\"nofollow noreferrer\">https://gatling.io/docs/gatling/reference/current/http/request/#pebblestringbody</a></li>\n<li><a href=\"https://gatling.io/docs/gatling/reference/current/http/request/#pebblefilebody\" rel=\"nofollow noreferrer\">https://gatling.io/docs/gatling/reference/current/http/request/#pebblefilebody</a></li>\n</ul>\n<p>You don't even need to merge the 2 lists.</p>\n"}],"owner":{"account_id":10627816,"reputation":197,"user_id":7826958,"display_name":"crimson_sails"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678622899,"creation_date":1678568505,"question_id":75709502,"body_markdown":"I thought this would be a simple ask, but I cannot quite figure out how to implement it in Gatling.\r\nI am running an exec() to get a JSON array from my read endpoint, then extract data from that response to add into my update scenario.\r\nI have \r\n```\r\n      .exec(http(&quot;Search for row&quot;)\r\n                .post(&quot;/app_category/search&quot;)\r\n                .body(RawFileBody(&quot;search.json&quot;))\r\n                .check(status().is(200))\r\n                  .check( jsonPath(&quot;$..uniqueId&quot;).findAll().saveAs(&quot;uniqueIdList&quot;))\r\n                    .check(jsonPath(&quot;$..deptId&quot;).findAll().saveAs(&quot;deptIdList&quot;))\r\n            )\r\n```\r\nThen I merge the uniqueIdList and deptIdList into a List&lt;Map&gt; that kind of looks like this, and save it back into session:\r\n```\r\n[{uniqueId=1, deptId=123}, {uniqueId=2, deptId = 234}]\r\n```\r\nWhen it&#39;s time to execute the update scenario, I am not quite sure how to proceed. \r\n```\r\n   .exec(http(&quot;Update&quot;)\r\n       .post(&quot;/update_data&quot;)\r\n       .body(ElFileBody(&quot;assign-data.json&quot;))); //\r\n```\r\n\r\nI need to replace the values for the corresponding fields in assign-data JSON with the ones extracted from the session List&lt;Map&gt;. Am I just going about this the wrong way? \r\nI have seen the exec() nested within a forEach but I m not sure if that entire loop will be executed for each user?\r\n","title":"Gatling pass Map element from session in each request","body":"<p>I thought this would be a simple ask, but I cannot quite figure out how to implement it in Gatling.\nI am running an exec() to get a JSON array from my read endpoint, then extract data from that response to add into my update scenario.\nI have</p>\n<pre><code>      .exec(http(&quot;Search for row&quot;)\n                .post(&quot;/app_category/search&quot;)\n                .body(RawFileBody(&quot;search.json&quot;))\n                .check(status().is(200))\n                  .check( jsonPath(&quot;$..uniqueId&quot;).findAll().saveAs(&quot;uniqueIdList&quot;))\n                    .check(jsonPath(&quot;$..deptId&quot;).findAll().saveAs(&quot;deptIdList&quot;))\n            )\n</code></pre>\n<p>Then I merge the uniqueIdList and deptIdList into a List that kind of looks like this, and save it back into session:</p>\n<pre><code>[{uniqueId=1, deptId=123}, {uniqueId=2, deptId = 234}]\n</code></pre>\n<p>When it's time to execute the update scenario, I am not quite sure how to proceed.</p>\n<pre><code>   .exec(http(&quot;Update&quot;)\n       .post(&quot;/update_data&quot;)\n       .body(ElFileBody(&quot;assign-data.json&quot;))); //\n</code></pre>\n<p>I need to replace the values for the corresponding fields in assign-data JSON with the ones extracted from the session List. Am I just going about this the wrong way?\nI have seen the exec() nested within a forEach but I m not sure if that entire loop will be executed for each user?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":212275,"reputation":1283,"user_id":465004,"display_name":"John Moses"},"score":2,"creation_date":1346278872,"post_id":12186358,"comment_id":16317931,"body_markdown":"Sometimes after importing external libraries, I have to refresh dependencies or close and open the project to get the eclipse errors to go away.","body":"Sometimes after importing external libraries, I have to refresh dependencies or close and open the project to get the eclipse errors to go away."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1346292406,"post_id":12186358,"comment_id":16320571,"body_markdown":"Good point.  I often do an Eclipse &quot;Project, Clean&quot; for precisely that reason.","body":"Good point.  I often do an Eclipse &quot;Project, Clean&quot; for precisely that reason."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1678618513,"creation_date":1346274127,"answer_id":12186463,"question_id":12186358,"body_markdown":"It *sounds* OK:\r\n\r\n   1. The .jar file in question should be something like `httpcore-4.0.1.jar`. Please confirm the name.\r\n   \r\n   2. Adding this to &quot;External Libraries&quot; is absolutely the correct thing to do.\r\n   \r\n   3. For compiling in the Eclipse IDE, you must:\r\n   \r\n      - Select your project\r\n   \r\n      - Select `&quot;Build Path&quot; &gt; &quot;Add External Libraries&quot;`\r\n   \r\n   4. For running in the Eclipse IDE, you must\r\n   \r\n      - Select `&quot;Run&quot; &gt; &quot;Run configurations&quot;`.  \r\n         Choose your (Java Application?) configuration.\r\n   \r\n      - Select `&quot;Classpath&quot; &gt; &quot;Add External Jar&quot;`\r\n   \r\n   5. For running outside of the Eclipse IDE, you must make sure the .jar \r\n      file is present and your `-cp (Classpath)` argument is set correctly.\r\n","title":"org.apache packages can&#39;t be resolved in Eclipse","body":"<p>It <em>sounds</em> OK:</p>\n<ol>\n<li><p>The .jar file in question should be something like <code>httpcore-4.0.1.jar</code>. Please confirm the name.</p>\n</li>\n<li><p>Adding this to &quot;External Libraries&quot; is absolutely the correct thing to do.</p>\n</li>\n<li><p>For compiling in the Eclipse IDE, you must:</p>\n<ul>\n<li><p>Select your project</p>\n</li>\n<li><p>Select <code>&quot;Build Path&quot; &gt; &quot;Add External Libraries&quot;</code></p>\n</li>\n</ul>\n</li>\n<li><p>For running in the Eclipse IDE, you must</p>\n<ul>\n<li><p>Select <code>&quot;Run&quot; &gt; &quot;Run configurations&quot;</code>.<br />\nChoose your (Java Application?) configuration.</p>\n</li>\n<li><p>Select <code>&quot;Classpath&quot; &gt; &quot;Add External Jar&quot;</code></p>\n</li>\n</ul>\n</li>\n<li><p>For running outside of the Eclipse IDE, you must make sure the .jar\nfile is present and your <code>-cp (Classpath)</code> argument is set correctly.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346277595,"creation_date":1346277595,"answer_id":12187123,"question_id":12186358,"body_markdown":"If you first added those JARs to an Android project, but now want to use them in another (non-Android) project, make sure you&#39;ve imported the JARs into this other project. In Eclipse, each project maintains its own build classpath settings, so importing JARs into one project does not automatically make them available to other projects.","title":"org.apache packages can&#39;t be resolved in Eclipse","body":"<p>If you first added those JARs to an Android project, but now want to use them in another (non-Android) project, make sure you've imported the JARs into this other project. In Eclipse, each project maintains its own build classpath settings, so importing JARs into one project does not automatically make them available to other projects.</p>\n"},{"tags":[],"owner":{"account_id":1669838,"reputation":5840,"user_id":1536499,"accept_rate":63,"display_name":"anthonybell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447790394,"creation_date":1447790394,"answer_id":33765902,"question_id":12186358,"body_markdown":"After dragging the jars into my project I was having the same issue.\r\n\r\nRight-click on the jar and selecting `Build-path -&gt; Add-to-Build-Path` worked for me.","title":"org.apache packages can&#39;t be resolved in Eclipse","body":"<p>After dragging the jars into my project I was having the same issue.</p>\n\n<p>Right-click on the jar and selecting <code>Build-path -&gt; Add-to-Build-Path</code> worked for me.</p>\n"}],"owner":{"account_id":1059184,"reputation":1891,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88993,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12186463,"answer_count":3,"score":10,"last_activity_date":1678622857,"creation_date":1346273700,"question_id":12186358,"body_markdown":"The following\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.StatusLine;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n\r\ncan&#39;t be resolved. I downloaded the Apache Http packages and imported them via the external jars option, but it still won&#39;t get resolved. In Android it seems to work, guessing its in the SDK, but here I&#39;m not doing Android. Did I get the wrong packages? \r\n\r\nI believe this is the link:\r\n\r\n[Apache][1]\r\n\r\n\r\n  [1]: http://hc.apache.org/downloads.cgi","title":"org.apache packages can&#39;t be resolved in Eclipse","body":"<p>The following</p>\n\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.DefaultHttpClient;\n</code></pre>\n\n<p>can't be resolved. I downloaded the Apache Http packages and imported them via the external jars option, but it still won't get resolved. In Android it seems to work, guessing its in the SDK, but here I'm not doing Android. Did I get the wrong packages? </p>\n\n<p>I believe this is the link:</p>\n\n<p><a href=\"http://hc.apache.org/downloads.cgi\" rel=\"noreferrer\">Apache</a></p>\n"},{"tags":["java","android","alarmmanager"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678622282,"creation_date":1678619604,"question_id":75712721,"body_markdown":"i&#39;m implementing an android app in which i want to start a service using alarmManager after booting the device . But after the booting , the alarmManager is executed but  my service is running . how could i solve it ? here is what i&#39;ve implemented :\r\n\r\n    In the manifest :  \r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.Services.OnBootBroadcast&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BROADCAST_SMS&quot;&gt;\r\n                &lt;intent-filter android:priority=&quot;1000&quot;&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.ACTION_EXTERNAL_APPLICATIONS_AVAILABLE&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n    \r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n    \r\n    //My broadcast receiver class \r\n    public class OnBootBroadcast extends BroadcastReceiver {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    if (intent.getAction().equalsIgnoreCase(Intent.ACTION_BOOT_COMPLETED)) {\r\n                        // Start your service here\r\n                       // Toast.makeText(context, &quot;The phone is onBoot mode&quot;, Toast.LENGTH_SHORT).show();\r\n                        AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n    \r\n                        // Create an intent that will be used to trigger the alarm event\r\n                        Intent alarmIntent = new Intent(context, TimeService.class);\r\n    \r\n                        // Create a PendingIntent object using the PendingIntent.getBroadcast() method\r\n                        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0);\r\n    \r\n                        // Set the alarm using the AlarmManager.set() method\r\n                        long alarmTime = System.currentTimeMillis() + 60000; // Trigger alarm after 1 minute\r\n                        long interval = 10 * 60 * 1000; // Repeat every 10 minutes\r\n                        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, 5000, interval, pendingIntent);\r\n                        Log.d(&quot;TAG&quot;, &quot;onReceive: the alarm is being triggered&quot;);\r\n                    }\r\n                }\r\n            }","title":"Unable to start my service using AlarmManager class","body":"<p>i'm implementing an android app in which i want to start a service using alarmManager after booting the device . But after the booting , the alarmManager is executed but  my service is running . how could i solve it ? here is what i've implemented :</p>\n<pre><code>In the manifest :  \n\n        &lt;receiver\n            android:name=&quot;.Services.OnBootBroadcast&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;&gt;\n            &lt;intent-filter android:priority=&quot;1000&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.ACTION_EXTERNAL_APPLICATIONS_AVAILABLE&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n\n//My broadcast receiver class \npublic class OnBootBroadcast extends BroadcastReceiver {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                if (intent.getAction().equalsIgnoreCase(Intent.ACTION_BOOT_COMPLETED)) {\n                    // Start your service here\n                   // Toast.makeText(context, &quot;The phone is onBoot mode&quot;, Toast.LENGTH_SHORT).show();\n                    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n                    // Create an intent that will be used to trigger the alarm event\n                    Intent alarmIntent = new Intent(context, TimeService.class);\n\n                    // Create a PendingIntent object using the PendingIntent.getBroadcast() method\n                    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0);\n\n                    // Set the alarm using the AlarmManager.set() method\n                    long alarmTime = System.currentTimeMillis() + 60000; // Trigger alarm after 1 minute\n                    long interval = 10 * 60 * 1000; // Repeat every 10 minutes\n                    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, 5000, interval, pendingIntent);\n                    Log.d(&quot;TAG&quot;, &quot;onReceive: the alarm is being triggered&quot;);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","sqlite","android-studio"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678609727,"post_id":75711764,"comment_id":133564000,"body_markdown":"A stacktrace would be helpful.","body":"A stacktrace would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":2445796,"reputation":618,"user_id":2133224,"display_name":"j.karlsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678609206,"creation_date":1678609206,"answer_id":75711853,"question_id":75711764,"body_markdown":"I think this is the problem:\r\n\r\n`private static final String TABLE_NAME = &quot;infinitecounter list&quot;;`\r\n\r\nThe table name can only contain alphanumeric characters and &#39;_&#39; or you can put  brackets around the name.\r\nSee this answer: https://stackoverflow.com/questions/3694276/what-are-valid-table-names-in-sqlite","title":"SQL table refusing to insert user input to columns","body":"<p>I think this is the problem:</p>\n<p><code>private static final String TABLE_NAME = &quot;infinitecounter list&quot;;</code></p>\n<p>The table name can only contain alphanumeric characters and '_' or you can put  brackets around the name.\nSee this answer: <a href=\"https://stackoverflow.com/questions/3694276/what-are-valid-table-names-in-sqlite\">What are valid table names in SQLite?</a></p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678622034,"creation_date":1678622034,"answer_id":75712923,"question_id":75711764,"body_markdown":"What is happening is that when the database is first accessed (opened), which is when you try to insert the row. \r\n\r\n1. The database is created, if it does not already exist and the android_metadata table is added (it contains the locale).\r\n\r\n2. The overridden onCreate method is called but that fails due to a syntax error as per:-\r\n\r\n    `android.database.sqlite.SQLiteException: near &quot;list&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: CREATE TABLE infinitecounter list(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, Current Clicks INTEGER);`\r\n\r\n3. The database is closed as part of the App crashing.\r\n\r\nHence why you just see that single table.\r\n\r\nThe issues, as per the message, is that there is a space between **infinitecounter** and **list**. SQLite would be expecting either:-\r\n- an **`(`** to start the column definitions, or\r\n- a **`.`** to specify the separation of the schema name and the table name, or\r\n- **`AS`** if creating and populating the table from a SELECT \r\n\r\n- as per [![enter image description here][1]][1]\r\n\r\n    - https://www.sqlite.org/lang_createtable.html\r\n\r\n- This may well be highlighted in Android Studio e.g.\r\n\r\n    - [![enter image description here][2]][2]\r\n\r\n\r\nTo fix the issue you need to define the table name so that it does not result in the syntax error, perhaps ***infinitecounter_list*** (as used below). \r\n\r\n- You could have the space in the table name if the name were enclosed as if it were keyword as per https://www.sqlite.org/lang_keywords.html e.g. [infinitecounter list].\r\n\r\nAfter changing the name, as the onCreate method only runs once when the database is created, you should uninstall the app and rerun (uninstall results in the database being deleted).\r\n\r\n**Note** you will have a similar issue with the **current clicks** column name.\r\n\r\nFollowing the above i.e. using:-\r\n\r\n       private static final String TABLE_NAME = &quot;infinitecounter_list&quot;; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED\r\n       private static final String COLUMN_ID = &quot;id&quot;;\r\n       private static final String COUNTER_NAME = &quot;title&quot;;\r\n       private static final String CURRENT_CLICKS = (&quot;Current_Clicks&quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED fix later\r\n\r\nAnd then running the App with:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        database1 db;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            db = new database1(this);\r\n            db.addinfincounter(&quot;Title1&quot;,100);\r\n        }\r\n    }\r\n\r\nand then using App Inspection show:-\r\n\r\n[![enter image description here][3]][3]\r\n\r\ni.e. The table has been created and a row inserted both as expected.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tbd8Z.png\r\n  [2]: https://i.stack.imgur.com/QKhU8.png\r\n  [3]: https://i.stack.imgur.com/1HoDQ.png","title":"SQL table refusing to insert user input to columns","body":"<p>What is happening is that when the database is first accessed (opened), which is when you try to insert the row.</p>\n<ol>\n<li><p>The database is created, if it does not already exist and the android_metadata table is added (it contains the locale).</p>\n</li>\n<li><p>The overridden onCreate method is called but that fails due to a syntax error as per:-</p>\n<p><code>android.database.sqlite.SQLiteException: near &quot;list&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: CREATE TABLE infinitecounter list(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, Current Clicks INTEGER);</code></p>\n</li>\n<li><p>The database is closed as part of the App crashing.</p>\n</li>\n</ol>\n<p>Hence why you just see that single table.</p>\n<p>The issues, as per the message, is that there is a space between <strong>infinitecounter</strong> and <strong>list</strong>. SQLite would be expecting either:-</p>\n<ul>\n<li><p>an <strong><code>(</code></strong> to start the column definitions, or</p>\n</li>\n<li><p>a <strong><code>.</code></strong> to specify the separation of the schema name and the table name, or</p>\n</li>\n<li><p><strong><code>AS</code></strong> if creating and populating the table from a SELECT</p>\n</li>\n<li><p>as per <a href=\"https://i.stack.imgur.com/tbd8Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbd8Z.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><a href=\"https://www.sqlite.org/lang_createtable.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_createtable.html</a></li>\n</ul>\n</li>\n<li><p>This may well be highlighted in Android Studio e.g.</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/QKhU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKhU8.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n</li>\n</ul>\n<p>To fix the issue you need to define the table name so that it does not result in the syntax error, perhaps <em><strong>infinitecounter_list</strong></em> (as used below).</p>\n<ul>\n<li>You could have the space in the table name if the name were enclosed as if it were keyword as per <a href=\"https://www.sqlite.org/lang_keywords.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_keywords.html</a> e.g. [infinitecounter list].</li>\n</ul>\n<p>After changing the name, as the onCreate method only runs once when the database is created, you should uninstall the app and rerun (uninstall results in the database being deleted).</p>\n<p><strong>Note</strong> you will have a similar issue with the <strong>current clicks</strong> column name.</p>\n<p>Following the above i.e. using:-</p>\n<pre><code>   private static final String TABLE_NAME = &quot;infinitecounter_list&quot;; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED\n   private static final String COLUMN_ID = &quot;id&quot;;\n   private static final String COUNTER_NAME = &quot;title&quot;;\n   private static final String CURRENT_CLICKS = (&quot;Current_Clicks&quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED fix later\n</code></pre>\n<p>And then running the App with:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    database1 db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        db = new database1(this);\n        db.addinfincounter(&quot;Title1&quot;,100);\n    }\n}\n</code></pre>\n<p>and then using App Inspection show:-</p>\n<p><a href=\"https://i.stack.imgur.com/1HoDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HoDQ.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. The table has been created and a row inserted both as expected.</p>\n"}],"owner":{"account_id":27886719,"reputation":1,"user_id":21293997,"display_name":"Hamzah Alkhateeb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678622034,"creation_date":1678607888,"question_id":75711764,"body_markdown":"I am making an app where I input a name and a number, and upon clicking **SAVE**, the name is saved in an SQLITE database named **infinitecounter.db** under the **COUNTER_NAME** column. After that, it saves the number in the **CURRENT_CLICKS** column. However, when I launch my app, and upon clicking the **save** button. the app crashes. \r\n\r\nI then exported the database from the files and opened it using SQLite browser and this is what I saw:\r\n[SQLITE browser](https://i.stack.imgur.com/TIBUS.jpg)\r\n\r\nHere is my DATABASE code:\r\n\r\n```\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nclass database1 extends SQLiteOpenHelper {\r\n    private Context context;\r\n    private static final String DATABASE_NAME= &quot;infinitecounter.db&quot;;\r\n    private static final int DATABASE_VERSION= 1;\r\n\r\n    private static final String TABLE_NAME = &quot;infinitecounter list&quot;;\r\n    private static final String COLUMN_ID = &quot;id&quot;;\r\n    private static final String COUNTER_NAME = &quot;title&quot;;\r\n    private static final String CURRENT_CLICKS = (&quot;Current Clicks&quot;); // fix later\r\n\r\n    public database1(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String query =\r\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                        &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                        COUNTER_NAME + &quot; TEXT, &quot; +\r\n                        CURRENT_CLICKS + &quot; INTEGER);&quot;;\r\n        db.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n\r\n    void addinfincounter(String title, int current_clicks){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv =  new ContentValues();\r\n\r\n        cv.put(COUNTER_NAME, title);\r\n        cv.put(CURRENT_CLICKS, current_clicks);\r\n        long results = db.insert(TABLE_NAME, null, cv);\r\n        if(results == -1){\r\n            Toast.makeText(context, &quot;FAILED!&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(context, &quot;SUCCESS!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nHere is the java page where I activate the **addinfincounter** method\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.database.sqlite.SQLiteDatabase;\r\n\r\n\r\npublic class infincounter_setup extends AppCompatActivity {\r\n\r\n    EditText name, clicks;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_infincounter_setup);\r\n    }\r\n    public void cancel(View V){\r\n        Intent i = new Intent(this, MainActivity.class);\r\n        startActivity(i);\r\n    }\r\n\r\n\r\n    public void save(View B) {\r\n        name = findViewById(R.id.infincounter_name);\r\n        clicks = findViewById(R.id.clicks);\r\n        if (name.length() == 0 || name == null) {\r\n            Toast.makeText(this, &quot;PLEASE ASSIGN A NAME&quot;, Toast.LENGTH_LONG).show();\r\n        } else{\r\n            database1 myDB = new database1(infincounter_setup.this);\r\n            myDB.addinfincounter(name.getText().toString(), Integer.parseInt(clicks.getText().toString()));\r\n        }\r\n    }\r\n}\r\n```\r\nand finally, here is the bluprint\r\n[](https://i.stack.imgur.com/b0KbB.png)\r\n","title":"SQL table refusing to insert user input to columns","body":"<p>I am making an app where I input a name and a number, and upon clicking <strong>SAVE</strong>, the name is saved in an SQLITE database named <strong>infinitecounter.db</strong> under the <strong>COUNTER_NAME</strong> column. After that, it saves the number in the <strong>CURRENT_CLICKS</strong> column. However, when I launch my app, and upon clicking the <strong>save</strong> button. the app crashes.</p>\n<p>I then exported the database from the files and opened it using SQLite browser and this is what I saw:\n<a href=\"https://i.stack.imgur.com/TIBUS.jpg\" rel=\"nofollow noreferrer\">SQLITE browser</a></p>\n<p>Here is my DATABASE code:</p>\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\n\nclass database1 extends SQLiteOpenHelper {\n    private Context context;\n    private static final String DATABASE_NAME= &quot;infinitecounter.db&quot;;\n    private static final int DATABASE_VERSION= 1;\n\n    private static final String TABLE_NAME = &quot;infinitecounter list&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COUNTER_NAME = &quot;title&quot;;\n    private static final String CURRENT_CLICKS = (&quot;Current Clicks&quot;); // fix later\n\n    public database1(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                        COUNTER_NAME + &quot; TEXT, &quot; +\n                        CURRENT_CLICKS + &quot; INTEGER);&quot;;\n        db.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n    void addinfincounter(String title, int current_clicks){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv =  new ContentValues();\n\n        cv.put(COUNTER_NAME, title);\n        cv.put(CURRENT_CLICKS, current_clicks);\n        long results = db.insert(TABLE_NAME, null, cv);\n        if(results == -1){\n            Toast.makeText(context, &quot;FAILED!&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;SUCCESS!&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n}\n</code></pre>\n<p>Here is the java page where I activate the <strong>addinfincounter</strong> method</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteDatabase;\n\n\npublic class infincounter_setup extends AppCompatActivity {\n\n    EditText name, clicks;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_infincounter_setup);\n    }\n    public void cancel(View V){\n        Intent i = new Intent(this, MainActivity.class);\n        startActivity(i);\n    }\n\n\n    public void save(View B) {\n        name = findViewById(R.id.infincounter_name);\n        clicks = findViewById(R.id.clicks);\n        if (name.length() == 0 || name == null) {\n            Toast.makeText(this, &quot;PLEASE ASSIGN A NAME&quot;, Toast.LENGTH_LONG).show();\n        } else{\n            database1 myDB = new database1(infincounter_setup.this);\n            myDB.addinfincounter(name.getText().toString(), Integer.parseInt(clicks.getText().toString()));\n        }\n    }\n}\n</code></pre>\n<p>and finally, here is the bluprint\n<a href=\"https://i.stack.imgur.com/b0KbB.png\" rel=\"nofollow noreferrer\"></a></p>\n"},{"tags":["java","if-statement","switch-statement","postfix-notation"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1678622249,"post_id":75712842,"comment_id":133565681,"body_markdown":"If your aim to continue the loop (without checking the other `if`-s which won&#39;t match anyway), you can use `continue;`.","body":"If your aim to continue the loop (without checking the other <code>if</code>-s which won&#39;t match anyway), you can use <code>continue;</code>."}],"owner":{"account_id":27252439,"reputation":35,"user_id":20776649,"display_name":"Jutika Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678623231,"answer_count":0,"score":1,"last_activity_date":1678621822,"creation_date":1678620912,"question_id":75712842,"body_markdown":"I was solving a question where the task is to evaluate the postfix expression and find the final value.\r\n\r\n\r\nthis is my solution code\r\n\r\n \r\n```\r\npublic static int evaluatePostFix(String S)\r\nStack&lt;Integer&gt; s = new Stack&lt;&gt;();\r\n        \r\n        int n = S.length();\r\n        \r\n        for(int i =0 ; i &lt; n; i ++){\r\n            char c = S.charAt(i);\r\n            \r\n            if(c &gt;=&#39;0&#39;&amp;&amp; c &lt;= &#39;9&#39;){ // operand\r\n                int temp = (int)(c -&#39;0&#39;);\r\n                \r\n                s.push(temp);\r\n            }else{ //operator\r\n                \r\n               int op1=  s.pop();\r\n               int op2=  s.pop();\r\n                \r\n                if(c == &#39;+&#39;){\r\n                    s.push(op2 + op1);\r\n                    break;\r\n                }\r\n                if(c == &#39;-&#39;){\r\n                    s.push(op2 - op1);\r\n                    break;\r\n                }\r\n                if(c == &#39;*&#39;){\r\n                    s.push(op2 * op1);\r\n                    break;\r\n                }\r\n                if(c == &#39;/&#39;){\r\n                    s.push(op2 / op1);\r\n                    break;\r\n                }\r\n            \r\n                \r\n            }\r\n        }\r\n        \r\n        return s.peek();\r\n```\r\n\r\n\r\n\r\nit doesn&#39;t give the correct output for if and else instead for switch statement given below it does\r\n\r\n```\r\nswitch(c){\r\n                    case &#39;+&#39;:\r\n                        s.push(op2 + op1);\r\n                        break;\r\n                    case &#39;-&#39;:\r\n                        s.push(op2 - op1);\r\n                        break;\r\n                    case &#39;*&#39;:\r\n                        s.push(op2 * op1);\r\n                        break;    \r\n                    case &#39;/&#39;:\r\n                        s.push(op2 / op1);\r\n                        break;\r\n                }\r\n```\r\n\r\n\r\ncan someone explain it to me why is it happening","title":"switch-statement gives correct output but if-else doesn&#39;t","body":"<p>I was solving a question where the task is to evaluate the postfix expression and find the final value.</p>\n<p>this is my solution code</p>\n<pre><code>public static int evaluatePostFix(String S)\nStack&lt;Integer&gt; s = new Stack&lt;&gt;();\n        \n        int n = S.length();\n        \n        for(int i =0 ; i &lt; n; i ++){\n            char c = S.charAt(i);\n            \n            if(c &gt;='0'&amp;&amp; c &lt;= '9'){ // operand\n                int temp = (int)(c -'0');\n                \n                s.push(temp);\n            }else{ //operator\n                \n               int op1=  s.pop();\n               int op2=  s.pop();\n                \n                if(c == '+'){\n                    s.push(op2 + op1);\n                    break;\n                }\n                if(c == '-'){\n                    s.push(op2 - op1);\n                    break;\n                }\n                if(c == '*'){\n                    s.push(op2 * op1);\n                    break;\n                }\n                if(c == '/'){\n                    s.push(op2 / op1);\n                    break;\n                }\n            \n                \n            }\n        }\n        \n        return s.peek();\n</code></pre>\n<p>it doesn't give the correct output for if and else instead for switch statement given below it does</p>\n<pre><code>switch(c){\n                    case '+':\n                        s.push(op2 + op1);\n                        break;\n                    case '-':\n                        s.push(op2 - op1);\n                        break;\n                    case '*':\n                        s.push(op2 * op1);\n                        break;    \n                    case '/':\n                        s.push(op2 / op1);\n                        break;\n                }\n</code></pre>\n<p>can someone explain it to me why is it happening</p>\n"},{"tags":["java","intellij-idea","postgresql-14"],"comments":[{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1678621176,"post_id":75712568,"comment_id":133565501,"body_markdown":"Could you share more code please ? Do you use an ORM? Or something like Hibernate or Spring Data/JPA ? Maybe you should share your application.properties file ?","body":"Could you share more code please ? Do you use an ORM? Or something like Hibernate or Spring Data/JPA ? Maybe you should share your application.properties file ?"},{"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"score":0,"creation_date":1678636421,"post_id":75712568,"comment_id":133567946,"body_markdown":"What is the error, what are the steps you taken to create, is there any permission issues? please elaborate","body":"What is the error, what are the steps you taken to create, is there any permission issues? please elaborate"}],"owner":{"account_id":26165306,"reputation":1,"user_id":19851219,"display_name":"Muhammadsodiq Nabijonov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678620801,"creation_date":1678617871,"question_id":75712568,"body_markdown":"everything is running without any problems and no problems. Also Database connected to the IntelliJ Idea but tables are not creating database\r\n\r\n![image](https://i.stack.imgur.com/CbAnd.png)\r\n\r\nHow can i create tables? ","title":"Intellij postgres can&#39;t create tables even though connected","body":"<p>everything is running without any problems and no problems. Also Database connected to the IntelliJ Idea but tables are not creating database</p>\n<p><img src=\"https://i.stack.imgur.com/CbAnd.png\" alt=\"image\" /></p>\n<p>How can i create tables?</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"score":0,"creation_date":1678184879,"post_id":75660712,"comment_id":133480298,"body_markdown":"@bdoughan, Could you please give me help? Appreciate.","body":"@bdoughan, Could you please give me help? Appreciate."}],"answers":[{"tags":[],"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678620346,"creation_date":1678620346,"answer_id":75712784,"question_id":75660712,"body_markdown":"Give the `Fruit` class an `XMLRootElement` should eliminate the exception.\r\n```\r\n@XmlRootElement(name = &quot;fruits&quot;)\r\n@XmlType(propOrder = {&quot;price&quot;, &quot;name&quot;})\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Fruit {\r\n....\r\n```","title":"How does Java Jaxb Unmarshaller handle the fragment xml - the partial reading and writing of xml","body":"<p>Give the <code>Fruit</code> class an <code>XMLRootElement</code> should eliminate the exception.</p>\n<pre><code>@XmlRootElement(name = &quot;fruits&quot;)\n@XmlType(propOrder = {&quot;price&quot;, &quot;name&quot;})\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Fruit {\n....\n</code></pre>\n"}],"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75712784,"answer_count":1,"score":1,"last_activity_date":1678620346,"creation_date":1678184620,"question_id":75660712,"body_markdown":"I have a XML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;Document xmlns=&quot;http://www.lin.com/&quot;&gt;\r\n    &lt;name&gt;basket1&lt;/name&gt;\r\n    &lt;fruits id=&quot;1&quot;&gt;\r\n        &lt;price&gt;9.99&lt;/price&gt;\r\n        &lt;n&gt;Banana&lt;/n&gt;\r\n    &lt;/fruits&gt;\r\n    &lt;fruits id=&quot;2&quot;&gt;\r\n        &lt;price&gt;19.99&lt;/price&gt;\r\n        &lt;n&gt;Apple&lt;/n&gt;\r\n    &lt;/fruits&gt;\r\n&lt;/Document&gt;\r\n```\r\n\r\n\r\nI have entity classes:\r\n\r\n```\r\npackage com.baeldung.springsoap.basket;\r\n\r\n@XmlType(name = &quot;Document&quot;, propOrder = {&quot;name&quot;, &quot;fruits&quot;})\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Basket {\r\n    @XmlElement(name = &quot;name&quot;)\r\n    private String name;\r\n    @XmlElement(name = &quot;fruits&quot;, required = true)\r\n    private List&lt;Fruit&gt; fruits;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Fruit&gt; getFruits() {\r\n        return fruits;\r\n    }\r\n\r\n    public void setFruits(List&lt;Fruit&gt; fruits) {\r\n        this.fruits = fruits;\r\n    }\r\n}\r\n\r\n@XmlType(propOrder = {&quot;price&quot;, &quot;name&quot;})\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Fruit {\r\n\r\n    @XmlAttribute\r\n    int id;\r\n\r\n    @XmlElement(name = &quot;n&quot;)\r\n    String name;\r\n\r\n    String price;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\nObjectFactory.java is:\r\n```\r\npackage com.baeldung.springsoap.basket;\r\n\r\nimport javax.xml.bind.JAXBElement;\r\nimport javax.xml.bind.annotation.XmlElementDecl;\r\nimport javax.xml.bind.annotation.XmlRegistry;\r\nimport javax.xml.namespace.QName;\r\n\r\n\r\n@XmlRegistry\r\npublic class ObjectFactory {\r\n\r\n    private final static QName _Document_QNAME = new QName(&quot;http://www.lin.com/&quot;, &quot;Document&quot;);\r\n\r\n    public Fruit createFruit() {\r\n        return new Fruit();\r\n    }\r\n\r\n    @XmlElementDecl(namespace = &quot;http://www.lin.com/&quot;, name = &quot;Document&quot;)\r\n    public JAXBElement&lt;Basket&gt; createBasket(Basket value) {\r\n        return new JAXBElement&lt;Basket&gt;(_Document_QNAME, Basket.class, null, value);\r\n    }\r\n\r\n}\r\n```\r\n\r\npackage-info.java is:\r\n```\r\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://www.lin.com/&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\r\npackage com.baeldung.springsoap.basket;\r\n```\r\n\r\n\r\n\r\nJava unmarshal and marshal code:\r\n\r\n```\r\n    public static void run_fruit() {\r\n        try {\r\n            //jaxbContext = JAXBContext.newInstance(Basket.class); // If I use Basket.class,  when unmarshal, it got error: unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;Document&quot;). Expected elements are (none)\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(&quot;com.baeldung.springsoap.basket&quot;); //\r\n\r\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n\r\n            JAXBElement&lt;Basket&gt; f = (JAXBElement&lt;Basket&gt;) jaxbUnmarshaller.unmarshal(new File(&quot;./basket_fruit.xml&quot;));\r\n\r\n            // get a piece of fruit info, will save to file later.\r\n            Basket bb = f.getValue();\r\n            Fruit fruit=bb.getFruits().get(0);\r\n\r\n            Marshaller jaxbMarshallerFruit = jaxbContext.createMarshaller();\r\n\r\n            // save a piece of fruit info into file\r\n            // in real scenario， we need get a fruit data from list, then save to db as row data.\r\n            JAXBElement&lt;Fruit&gt; jaxbFruit= new JAXBElement&lt;&gt;(new QName(&quot;http://www.lin.com/&quot;, &quot;fruits&quot;), Fruit.class,  fruit);\r\n            jaxbMarshallerFruit.marshal(jaxbFruit, new File(&quot;./fruit_in_basket.xml&quot;));\r\n\r\n            // read fruit info from file, convert to java object.\r\n            Unmarshaller jaxbUnMarshallerFruit = jaxbContext.createUnmarshaller();\r\n            JAXBElement&lt;Fruit&gt; f_file = (JAXBElement&lt;Fruit&gt;) jaxbUnMarshallerFruit.unmarshal(new File(&quot;./fruit_in_basket.xml&quot;)); // this line will throw an exception.\r\n            System.out.println(f_file);\r\n\r\n        } catch (JAXBException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nThis line will throw an exception.\r\n```\r\nJAXBElement&lt;Fruit&gt; f_file = (JAXBElement&lt;Fruit&gt;) jaxbUnMarshallerFruit.unmarshal(new File(&quot;./fruit_in_basket.xml&quot;)); \r\n```\r\n\r\nThe exception detail is:\r\n```\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;fruit&quot;). Expected elements are &lt;{http://www.lin.com/}Document&gt;\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:247)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:242)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:109)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1131)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:556)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:538)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:153)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:243)\r\n\tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:214)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:157)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:162)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:171)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:189)\r\n\tat com.baeldung.springsoap.xxml.JaxbExampleBasket.run_fruit(JaxbExampleBasket.java:48)\r\n\tat com.baeldung.springsoap.xxml.JaxbExampleBasket.main(JaxbExampleBasket.java:21)\r\n```\r\n\r\nFrom the exception, I guess the Java `jaxbUnMarshaller` can&#39;t figure out the authentic generics class info. UnMarshaller can&#39;t only interpret Fruit class. How to fix it?\r\n\r\n\r\nAnother minor question is:\r\n```\r\njaxbContext = JAXBContext.newInstance(Basket.class); \r\n```\r\nIf I use `Basket.class`, when unmarshal, it will get an error: \r\n\r\n```unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;Document&quot;). Expected elements are (none)```\r\n\r\nIf I pass `&quot;com.baeldung.springsoap.basket&quot;`, it works. Why?\r\n\r\n\r\n(I have searched for a while, but maybe I can&#39;t describe my question with accurate words, so I missed something. If possible, kindly provide some links to the answer.)\r\n\r\n\r\n","title":"How does Java Jaxb Unmarshaller handle the fragment xml - the partial reading and writing of xml","body":"<p>I have a XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;Document xmlns=&quot;http://www.lin.com/&quot;&gt;\n    &lt;name&gt;basket1&lt;/name&gt;\n    &lt;fruits id=&quot;1&quot;&gt;\n        &lt;price&gt;9.99&lt;/price&gt;\n        &lt;n&gt;Banana&lt;/n&gt;\n    &lt;/fruits&gt;\n    &lt;fruits id=&quot;2&quot;&gt;\n        &lt;price&gt;19.99&lt;/price&gt;\n        &lt;n&gt;Apple&lt;/n&gt;\n    &lt;/fruits&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>I have entity classes:</p>\n<pre><code>package com.baeldung.springsoap.basket;\n\n@XmlType(name = &quot;Document&quot;, propOrder = {&quot;name&quot;, &quot;fruits&quot;})\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Basket {\n    @XmlElement(name = &quot;name&quot;)\n    private String name;\n    @XmlElement(name = &quot;fruits&quot;, required = true)\n    private List&lt;Fruit&gt; fruits;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;Fruit&gt; getFruits() {\n        return fruits;\n    }\n\n    public void setFruits(List&lt;Fruit&gt; fruits) {\n        this.fruits = fruits;\n    }\n}\n\n@XmlType(propOrder = {&quot;price&quot;, &quot;name&quot;})\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Fruit {\n\n    @XmlAttribute\n    int id;\n\n    @XmlElement(name = &quot;n&quot;)\n    String name;\n\n    String price;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<p>ObjectFactory.java is:</p>\n<pre><code>package com.baeldung.springsoap.basket;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlElementDecl;\nimport javax.xml.bind.annotation.XmlRegistry;\nimport javax.xml.namespace.QName;\n\n\n@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _Document_QNAME = new QName(&quot;http://www.lin.com/&quot;, &quot;Document&quot;);\n\n    public Fruit createFruit() {\n        return new Fruit();\n    }\n\n    @XmlElementDecl(namespace = &quot;http://www.lin.com/&quot;, name = &quot;Document&quot;)\n    public JAXBElement&lt;Basket&gt; createBasket(Basket value) {\n        return new JAXBElement&lt;Basket&gt;(_Document_QNAME, Basket.class, null, value);\n    }\n\n}\n</code></pre>\n<p>package-info.java is:</p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://www.lin.com/&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\npackage com.baeldung.springsoap.basket;\n</code></pre>\n<p>Java unmarshal and marshal code:</p>\n<pre><code>    public static void run_fruit() {\n        try {\n            //jaxbContext = JAXBContext.newInstance(Basket.class); // If I use Basket.class,  when unmarshal, it got error: unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;Document&quot;). Expected elements are (none)\n            JAXBContext jaxbContext = JAXBContext.newInstance(&quot;com.baeldung.springsoap.basket&quot;); //\n\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n\n            JAXBElement&lt;Basket&gt; f = (JAXBElement&lt;Basket&gt;) jaxbUnmarshaller.unmarshal(new File(&quot;./basket_fruit.xml&quot;));\n\n            // get a piece of fruit info, will save to file later.\n            Basket bb = f.getValue();\n            Fruit fruit=bb.getFruits().get(0);\n\n            Marshaller jaxbMarshallerFruit = jaxbContext.createMarshaller();\n\n            // save a piece of fruit info into file\n            // in real scenario， we need get a fruit data from list, then save to db as row data.\n            JAXBElement&lt;Fruit&gt; jaxbFruit= new JAXBElement&lt;&gt;(new QName(&quot;http://www.lin.com/&quot;, &quot;fruits&quot;), Fruit.class,  fruit);\n            jaxbMarshallerFruit.marshal(jaxbFruit, new File(&quot;./fruit_in_basket.xml&quot;));\n\n            // read fruit info from file, convert to java object.\n            Unmarshaller jaxbUnMarshallerFruit = jaxbContext.createUnmarshaller();\n            JAXBElement&lt;Fruit&gt; f_file = (JAXBElement&lt;Fruit&gt;) jaxbUnMarshallerFruit.unmarshal(new File(&quot;./fruit_in_basket.xml&quot;)); // this line will throw an exception.\n            System.out.println(f_file);\n\n        } catch (JAXBException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This line will throw an exception.</p>\n<pre><code>JAXBElement&lt;Fruit&gt; f_file = (JAXBElement&lt;Fruit&gt;) jaxbUnMarshallerFruit.unmarshal(new File(&quot;./fruit_in_basket.xml&quot;)); \n</code></pre>\n<p>The exception detail is:</p>\n<pre><code>javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;fruit&quot;). Expected elements are &lt;{http://www.lin.com/}Document&gt;\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:247)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:242)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:109)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1131)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:556)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:538)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:153)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:243)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:214)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:157)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:162)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:171)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:189)\n    at com.baeldung.springsoap.xxml.JaxbExampleBasket.run_fruit(JaxbExampleBasket.java:48)\n    at com.baeldung.springsoap.xxml.JaxbExampleBasket.main(JaxbExampleBasket.java:21)\n</code></pre>\n<p>From the exception, I guess the Java <code>jaxbUnMarshaller</code> can't figure out the authentic generics class info. UnMarshaller can't only interpret Fruit class. How to fix it?</p>\n<p>Another minor question is:</p>\n<pre><code>jaxbContext = JAXBContext.newInstance(Basket.class); \n</code></pre>\n<p>If I use <code>Basket.class</code>, when unmarshal, it will get an error:</p>\n<p><code>unexpected element (uri:&quot;http://www.lin.com/&quot;, local:&quot;Document&quot;). Expected elements are (none)</code></p>\n<p>If I pass <code>&quot;com.baeldung.springsoap.basket&quot;</code>, it works. Why?</p>\n<p>(I have searched for a while, but maybe I can't describe my question with accurate words, so I missed something. If possible, kindly provide some links to the answer.)</p>\n"},{"tags":["java","functional-programming","stream"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646845243,"post_id":71412934,"comment_id":126226319,"body_markdown":"You need to transform the result of map(component -&gt; ..) in something like an ImmutablePair, where you put component and SomeData. In the next map use that ImmutablePair.","body":"You need to transform the result of map(component -&gt; ..) in something like an ImmutablePair, where you put component and SomeData. In the next map use that ImmutablePair."}],"answers":[{"tags":[],"owner":{"account_id":24482604,"reputation":84,"user_id":18400778,"display_name":"Thilak S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844581,"creation_date":1646844581,"answer_id":71413037,"question_id":71412934,"body_markdown":"You can map and perform those complex calculation both in the same map method,\r\n\r\n```\r\ncomponents.stream()\r\n\t.map(component -&gt; {\r\n\t\t// Create an object and set value from component. \r\n\t\tSomeData someData = new SomeData();\r\n\r\n\t\t// once that is done perform your complex operation here. \r\n\r\n\t\treturn someData;\r\n\t});\r\n```\r\n\r\nI&#39;ve given an high level context on what can be done. Let me know if it works for you.","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can map and perform those complex calculation both in the same map method,</p>\n<pre><code>components.stream()\n    .map(component -&gt; {\n        // Create an object and set value from component. \n        SomeData someData = new SomeData();\n\n        // once that is done perform your complex operation here. \n\n        return someData;\n    });\n</code></pre>\n<p>I've given an high level context on what can be done. Let me know if it works for you.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853677,"creation_date":1646853677,"answer_id":71414944,"question_id":71412934,"body_markdown":"You can make Component a property of SomeData:\r\n\r\n    public class SomeData {\r\n        private final Component component;\r\n        String data;\r\n        double price;\r\n\r\n        public SomeData(Component component) {\r\n            this.component = component;\r\n        }\r\n\r\n        public Component getComponent() {\r\n            return component;\r\n        }\r\n    }\r\n\r\nIf SomeData is not a class under your control, or your design doesn’t allow for modifying it, create a class that pairs them.  It can even be a local class;  that is, a class defined inside a method which only exists in the scope of that method:\r\n\r\n    public void processComponent(List&lt;Component&gt; components) {\r\n        class ProcessResult {\r\n            final Component component;\r\n            final SomeData data;\r\n\r\n            ProcessResult(Component component,\r\n                          SomeData data) {\r\n                this.component = component;\r\n                this.data = data;\r\n            }\r\n        }\r\n\r\n        components.stream()\r\n            .map(component -&gt; new ProcessResult(component, createDataFrom(component)))\r\n            .map(result -&gt; {\r\n                doStuffWith(result.component);\r\n                doStuffWith(result.data);\r\n                return someOtherValue;\r\n            })\r\n    }\r\n","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can make Component a property of SomeData:</p>\n<pre><code>public class SomeData {\n    private final Component component;\n    String data;\n    double price;\n\n    public SomeData(Component component) {\n        this.component = component;\n    }\n\n    public Component getComponent() {\n        return component;\n    }\n}\n</code></pre>\n<p>If SomeData is not a class under your control, or your design doesn’t allow for modifying it, create a class that pairs them.  It can even be a local class;  that is, a class defined inside a method which only exists in the scope of that method:</p>\n<pre><code>public void processComponent(List&lt;Component&gt; components) {\n    class ProcessResult {\n        final Component component;\n        final SomeData data;\n\n        ProcessResult(Component component,\n                      SomeData data) {\n            this.component = component;\n            this.data = data;\n        }\n    }\n\n    components.stream()\n        .map(component -&gt; new ProcessResult(component, createDataFrom(component)))\n        .map(result -&gt; {\n            doStuffWith(result.component);\n            doStuffWith(result.data);\n            return someOtherValue;\n        })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678620042,"creation_date":1678066112,"answer_id":75646401,"question_id":71412934,"body_markdown":"You can use `Collectors.toConcurrentMap` inside the `Stream.Collect` method and map each `component` to your `someData`. Then you can stream the `entrySet` of the map and process the data.\r\n\r\n    components.stream().collect(\r\n            Collectors.toConcurrentMap(\r\n            component-&gt;component, \r\n            component-&gt;&lt;your someData Object as value&gt;))\r\n            .entrySet().stream()\r\nAnd now you can operate on the entrySet&#39;s stream!","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>You can use <code>Collectors.toConcurrentMap</code> inside the <code>Stream.Collect</code> method and map each <code>component</code> to your <code>someData</code>. Then you can stream the <code>entrySet</code> of the map and process the data.</p>\n<pre><code>components.stream().collect(\n        Collectors.toConcurrentMap(\n        component-&gt;component, \n        component-&gt;&lt;your someData Object as value&gt;))\n        .entrySet().stream()\n</code></pre>\n<p>And now you can operate on the entrySet's stream!</p>\n"}],"owner":{"account_id":16753025,"reputation":21,"user_id":12109715,"display_name":"Sam K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1678620042,"creation_date":1646844167,"question_id":71412934,"body_markdown":"I have a list of objects that I want to process through java stream API.\r\ni need to create another object, SomeData for each of the Component in the list. I also need to access both someData object that was created and the component object later in the stream operations. I need to update the someData object with some complex calculation using the attributes from the component object. How can I achieve this? Below is pseudo code to explain the problem i described here. Thank you in advance for your time!\r\n```\r\nimport java.util.List;\r\n\r\nclass Component{\r\n    String name;\r\n    double price;\r\n}\r\nclass SomeData{\r\n    String data;\r\n    double price;\r\n}\r\n\r\npublic class Test {\r\n    public void processComponent(List&lt;Component&gt; components){\r\n        components.stream()\r\n                .map(component -&gt; (//need to create here SomeData object for each of the component))\r\n                .map(//need to access both someData object that was created and the &#39;component&#39; object as well)\r\n    }\r\n}\r\n\r\n```","title":"How to access both newly created object in the JAVA stream operation and the current object in the stream","body":"<p>I have a list of objects that I want to process through java stream API.\ni need to create another object, SomeData for each of the Component in the list. I also need to access both someData object that was created and the component object later in the stream operations. I need to update the someData object with some complex calculation using the attributes from the component object. How can I achieve this? Below is pseudo code to explain the problem i described here. Thank you in advance for your time!</p>\n<pre><code>import java.util.List;\n\nclass Component{\n    String name;\n    double price;\n}\nclass SomeData{\n    String data;\n    double price;\n}\n\npublic class Test {\n    public void processComponent(List&lt;Component&gt; components){\n        components.stream()\n                .map(component -&gt; (//need to create here SomeData object for each of the component))\n                .map(//need to access both someData object that was created and the 'component' object as well)\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17878804,"reputation":75,"user_id":14114783,"display_name":"Hiedrass"},"score":0,"creation_date":1678624783,"post_id":75712742,"comment_id":133566011,"body_markdown":"My models are written with Kotlin Class. When i changed these classes to java class its working.","body":"My models are written with Kotlin Class. When i changed these classes to java class its working."},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1678660370,"post_id":75712742,"comment_id":133572081,"body_markdown":"if you solved your problem, please close your question","body":"if you solved your problem, please close your question"}],"owner":{"account_id":17878804,"reputation":75,"user_id":14114783,"display_name":"Hiedrass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678619880,"creation_date":1678619880,"question_id":75712742,"body_markdown":"I am developing an api project with spring boot. When I want to implement the commandlinerunner in the main class, I get errors. Is my main class not seeing the Model and the Repository? So where am I doing wrong? I am using Java 17, Spring 3.0.4 version. When I delete commandlinerunner on the code, I don&#39;t get an error.\r\n\r\n    package com.hsnhut.realestateapi;\r\n\r\n    import com.hsnhut.realestateapi.model.Seller;\r\n    import com.hsnhut.realestateapi.repository.SellerRepository;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import java.util.HashSet;\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.hsnhut.realestateapi&quot;})\r\n    public class RealestateapiApplication implements CommandLineRunner{\r\n\tprivate final SellerRepository sellerRepository;\r\n\r\n\tpublic RealestateapiApplication(SellerRepository sellerRepository) {\r\n\t\tthis.sellerRepository = sellerRepository;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RealestateapiApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tsellerRepository.save(new Seller(&quot;&quot;,&quot;Hasan&quot;,&quot;Hut&quot;,new HashSet&lt;&gt;()));\r\n\t}\r\n    }\r\n\r\nThese are my errors: \r\n\r\n - java: package com.hsnhut.realestateapi.model does not exist\r\n - java: package com.hsnhut.realestateapi.repository does not exist\r\n - java: cannot find symbol\r\n   symbol:   class SellerRepository\r\n   location: class com.hsnhut.realestateapi.RealestateapiApplication\r\n - java: cannot find symbol\r\n  symbol:   class SellerRepository\r\n  location: class com.hsnhut.realestateapi.RealestateapiApplication\r\n\r\n\r\n","title":"SpringBoot CommandLineRunner Packages does not exist","body":"<p>I am developing an api project with spring boot. When I want to implement the commandlinerunner in the main class, I get errors. Is my main class not seeing the Model and the Repository? So where am I doing wrong? I am using Java 17, Spring 3.0.4 version. When I delete commandlinerunner on the code, I don't get an error.</p>\n<pre><code>package com.hsnhut.realestateapi;\n\nimport com.hsnhut.realestateapi.model.Seller;\nimport com.hsnhut.realestateapi.repository.SellerRepository;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport java.util.HashSet;\n\n@SpringBootApplication(scanBasePackages = {&quot;com.hsnhut.realestateapi&quot;})\npublic class RealestateapiApplication implements CommandLineRunner{\nprivate final SellerRepository sellerRepository;\n\npublic RealestateapiApplication(SellerRepository sellerRepository) {\n    this.sellerRepository = sellerRepository;\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(RealestateapiApplication.class, args);\n}\n\n@Override\npublic void run(String... args) throws Exception {\n    sellerRepository.save(new Seller(&quot;&quot;,&quot;Hasan&quot;,&quot;Hut&quot;,new HashSet&lt;&gt;()));\n}\n}\n</code></pre>\n<p>These are my errors:</p>\n<ul>\n<li>java: package com.hsnhut.realestateapi.model does not exist</li>\n<li>java: package com.hsnhut.realestateapi.repository does not exist</li>\n<li>java: cannot find symbol\nsymbol:   class SellerRepository\nlocation: class com.hsnhut.realestateapi.RealestateapiApplication</li>\n<li>java: cannot find symbol\nsymbol:   class SellerRepository\nlocation: class com.hsnhut.realestateapi.RealestateapiApplication</li>\n</ul>\n"},{"tags":["java","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1437870415,"post_id":31632346,"comment_id":51211921,"body_markdown":"Please visit the [help] and read about writing good questions.  What FTP client are you using? What is the value of the `file` argument to `checkDirectoryExists`?  What error message, exception or unexpected behavior do you see? How do you know the directory exists on the server? What debugging have you done so far?","body":"Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read about writing good questions.  What FTP client are you using? What is the value of the <code>file</code> argument to <code>checkDirectoryExists</code>?  What error message, exception or unexpected behavior do you see? How do you know the directory exists on the server? What debugging have you done so far?"},{"owner":{"account_id":6684754,"reputation":9,"user_id":5156453,"display_name":"ssark"},"score":0,"creation_date":1437886254,"post_id":31632346,"comment_id":51214328,"body_markdown":"Well u can see this was my first post. Basically I am sending a name to this method and wants to check if it is one of the directories( not files)","body":"Well u can see this was my first post. Basically I am sending a name to this method and wants to check if it is one of the directories( not files)"}],"answers":[{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437873060,"creation_date":1437873060,"answer_id":31632646,"question_id":31632346,"body_markdown":"Just use a loop to check each one yourself. Use `endsWith()` to check in the case of a relative directory path.\r\n\r\n    public static boolean checkDirectoryExists(String file) throws IOException {\r\n        FTPFile[] files = myClient.listDirectories();\r\n        for (FTPFile file : files) {\r\n            if( file.getName().endsWith(file)) return true;\r\n        }\r\n        returns false;\r\n    }","title":"How do I check if a remote directory exists in FTP server?","body":"<p>Just use a loop to check each one yourself. Use <code>endsWith()</code> to check in the case of a relative directory path.</p>\n\n<pre><code>public static boolean checkDirectoryExists(String file) throws IOException {\n    FTPFile[] files = myClient.listDirectories();\n    for (FTPFile file : files) {\n        if( file.getName().endsWith(file)) return true;\n    }\n    returns false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8427734,"reputation":1,"user_id":6324448,"display_name":"Evreh Choneh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463042025,"creation_date":1463042025,"answer_id":37181446,"question_id":31632346,"body_markdown":"My trick is to use **listDirectories(directory)**.\r\n\r\n - If directory exists but is empty : return an array of length = 0\r\n - If directory doesn&#39;t exist : return an array of length = 0 too !!!\r\n\r\nSo I use **listDirectories(directory+&quot;/..&quot;)**\r\n\r\n - If directory exists : return an array with a least one element = directory\r\n - If directory doesn&#39;t not exist : return an array of length = 0.\r\n\r\nSo just do :\r\n\r\n - FTPFile[] tf = listDirectories(directory+&quot;/..&quot;)\r\n - exist = tf !=null &amp;&amp; tf.length&gt;0\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>My trick is to use <strong>listDirectories(directory)</strong>.</p>\n\n<ul>\n<li>If directory exists but is empty : return an array of length = 0</li>\n<li>If directory doesn't exist : return an array of length = 0 too !!!</li>\n</ul>\n\n<p>So I use <strong>listDirectories(directory+\"/..\")</strong></p>\n\n<ul>\n<li>If directory exists : return an array with a least one element = directory</li>\n<li>If directory doesn't not exist : return an array of length = 0.</li>\n</ul>\n\n<p>So just do :</p>\n\n<ul>\n<li>FTPFile[] tf = listDirectories(directory+\"/..\")</li>\n<li>exist = tf !=null &amp;&amp; tf.length>0</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4354071,"reputation":1089,"user_id":3553316,"display_name":"Shalin Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479505764,"creation_date":1479505764,"answer_id":40686473,"question_id":31632346,"body_markdown":"What you just Need to check is just ftpClient.cwd(&quot;your Directory Name&quot;)\r\n\r\nthis will return you integer values\r\n\r\n`250` - If File Exists\r\n\r\nOR\r\n\r\n`550` - If File Doesn&#39;t Exist\r\n\r\nFor Example,\r\n\r\n    if(ftpClient.cwd(uploadDirectoryPath)==550){\r\n         System.out.println(&quot;Directory Doesn&#39;t Exists&quot;);\r\n    }else if(ftpClient.cwd(uploadDirectoryPath)==250){\r\n         System.out.println(&quot;Directory Exists&quot;);\r\n    }else{\r\n         System.out.println(&quot;Unknown Status&quot;);\r\n    }\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>What you just Need to check is just ftpClient.cwd(\"your Directory Name\")</p>\n\n<p>this will return you integer values</p>\n\n<p><code>250</code> - If File Exists</p>\n\n<p>OR</p>\n\n<p><code>550</code> - If File Doesn't Exist</p>\n\n<p>For Example,</p>\n\n<pre><code>if(ftpClient.cwd(uploadDirectoryPath)==550){\n     System.out.println(\"Directory Doesn't Exists\");\n}else if(ftpClient.cwd(uploadDirectoryPath)==250){\n     System.out.println(\"Directory Exists\");\n}else{\n     System.out.println(\"Unknown Status\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11544752,"reputation":72,"user_id":8459214,"display_name":"shankar_vl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678618800,"creation_date":1678618800,"answer_id":75712645,"question_id":31632346,"body_markdown":"This is my method to check whether given path for which file exists represents a directory or a file. Here, there is no need to change the current working directory or to list all the subdirectories of parent directory and check individually for directory/file. Simply retrieve filestream from the given path, if inputstream is not null, then it is file otherwise it is directory. Here is the code.\r\n\r\n    \r\n    public static boolean isFtpPathDirectory(String file_path)\r\n\t\t{\r\n\t\t\tboolean isDirectory = false;\r\n\t\t\ttry {\r\n\t\t\t\tInputStream inputStream=ftpClient.retrieveFileStream(file_path);\r\n\t\t\t\tisDirectory=(inputStream == null);\r\n\t\t\t\tif(inputStream!=null)inputStream.close();\r\n\t\t\t\treturn isDirectory;\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\treturn isDirectory;\r\n\t\t\t}\r\n\t\t}\r\n    ","title":"How do I check if a remote directory exists in FTP server?","body":"<p>This is my method to check whether given path for which file exists represents a directory or a file. Here, there is no need to change the current working directory or to list all the subdirectories of parent directory and check individually for directory/file. Simply retrieve filestream from the given path, if inputstream is not null, then it is file otherwise it is directory. Here is the code.</p>\n<pre><code>public static boolean isFtpPathDirectory(String file_path)\n    {\n        boolean isDirectory = false;\n        try {\n            InputStream inputStream=ftpClient.retrieveFileStream(file_path);\n            isDirectory=(inputStream == null);\n            if(inputStream!=null)inputStream.close();\n            return isDirectory;\n        } catch (IOException e) {\n            return isDirectory;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6684754,"reputation":9,"user_id":5156453,"display_name":"ssark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3195,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1678618800,"creation_date":1437869830,"question_id":31632346,"body_markdown":"I am trying to check if a remote directory exists in FTP server by specifying a path but my code failed to check when I provide a valid directory name. I want to check if the remote directory is valid and it is not a file. Here is my code:\r\n\r\n\r\n\r\n    public static boolean checkDirectoryExists(String file) throws      IOException {\r\n\t\t\tFTPFile[] files = myClient.listDirectories();\r\n    return Arrays.asList(files).contains(file);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I check if a remote directory exists in FTP server?","body":"<p>I am trying to check if a remote directory exists in FTP server by specifying a path but my code failed to check when I provide a valid directory name. I want to check if the remote directory is valid and it is not a file. Here is my code:</p>\n\n<pre><code>public static boolean checkDirectoryExists(String file) throws      IOException {\n        FTPFile[] files = myClient.listDirectories();\nreturn Arrays.asList(files).contains(file);\n}\n</code></pre>\n"},{"tags":["java","android","file-transfer"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348687814,"creation_date":1348687814,"answer_id":12609021,"question_id":12608893,"body_markdown":"No, sorry. Android devices have no access to their host PC via USB cable.","title":"Save file from android device to windows programmatically","body":"<p>No, sorry. Android devices have no access to their host PC via USB cable.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678618539,"creation_date":1348688316,"answer_id":12609155,"question_id":12608893,"body_markdown":"Short answer - not that I know of.\r\n\r\nFor &quot;file transfer&quot; in general, I would definitely look at both [Dropbox](https://www.dropbox.com/) (save/synch anything to anything, anywhere) and [ESFileExplorer](https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en).  Both are user-oriented, but Dropbox has an API that you *should* be able to use with Android (I haven&#39;t tried it).  ESFileExplorer works with both USB and Windows shares.\r\n\r\nIf you have the Android SDK, you can copy files from the command line with &quot;adb pull&quot;.  And of course you can invoke &quot;adb pull&quot; from Java with &quot;Runtime.exec()&quot;.  Ugly ... but do-able :)\r\n\r\nOne other possibility for Windows shares might be:\r\n\r\n1. Get an SMB client (for example, [Samba Filesharing](https://play.google.com/store/apps/details?id=com.funkyfresh.samba&amp;hl=en)), then\r\n\r\n2. Use standard Java IO to read and write to and from the share\r\n\r\nAgain, I haven&#39;t tried this, and I don&#39;t know if it would work; but it *might* be worth a shot.  I don&#39;t see anything in Android File I/O that appears fundamentally incompatible with Samba file sharing:\r\n\r\nhttp://developer.android.com/reference/java/io/File.html","title":"Save file from android device to windows programmatically","body":"<p>Short answer - not that I know of.</p>\n<p>For &quot;file transfer&quot; in general, I would definitely look at both <a href=\"https://www.dropbox.com/\" rel=\"nofollow noreferrer\">Dropbox</a> (save/synch anything to anything, anywhere) and <a href=\"https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en\" rel=\"nofollow noreferrer\">ESFileExplorer</a>.  Both are user-oriented, but Dropbox has an API that you <em>should</em> be able to use with Android (I haven't tried it).  ESFileExplorer works with both USB and Windows shares.</p>\n<p>If you have the Android SDK, you can copy files from the command line with &quot;adb pull&quot;.  And of course you can invoke &quot;adb pull&quot; from Java with &quot;Runtime.exec()&quot;.  Ugly ... but do-able :)</p>\n<p>One other possibility for Windows shares might be:</p>\n<ol>\n<li><p>Get an SMB client (for example, <a href=\"https://play.google.com/store/apps/details?id=com.funkyfresh.samba&amp;hl=en\" rel=\"nofollow noreferrer\">Samba Filesharing</a>), then</p>\n</li>\n<li><p>Use standard Java IO to read and write to and from the share</p>\n</li>\n</ol>\n<p>Again, I haven't tried this, and I don't know if it would work; but it <em>might</em> be worth a shot.  I don't see anything in Android File I/O that appears fundamentally incompatible with Samba file sharing:</p>\n<p><a href=\"http://developer.android.com/reference/java/io/File.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/java/io/File.html</a></p>\n"},{"tags":[],"owner":{"account_id":1683087,"reputation":185,"user_id":1546921,"accept_rate":25,"display_name":"vokuheila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369077597,"creation_date":1369077597,"answer_id":16656775,"question_id":12608893,"body_markdown":"Try using `adb pull` command from your PC to fetch the file from Android.  You will need to install the Android SDK and have a usb cable (although there are ways to do it wirelessly).","title":"Save file from android device to windows programmatically","body":"<p>Try using <code>adb pull</code> command from your PC to fetch the file from Android.  You will need to install the Android SDK and have a usb cable (although there are ways to do it wirelessly).</p>\n"},{"tags":[],"owner":{"account_id":4316598,"reputation":11,"user_id":3526245,"display_name":"Ali Kharazani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464306798,"creation_date":1464271218,"answer_id":37463065,"question_id":12608893,"body_markdown":"You cannot write a file from an Android device to a PC by Android programming. However, you can copy a file from Android device by Windows programming (C#). You can get help from windows device portable library: https://github.com/notpod/wpd-lib","title":"Save file from android device to windows programmatically","body":"<p>You cannot write a file from an Android device to a PC by Android programming. However, you can copy a file from Android device by Windows programming (C#). You can get help from windows device portable library: <a href=\"https://github.com/notpod/wpd-lib\" rel=\"nofollow\">https://github.com/notpod/wpd-lib</a></p>\n"}],"owner":{"account_id":1086354,"reputation":3929,"user_id":1081978,"accept_rate":63,"display_name":"kosbou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1678618539,"creation_date":1348687252,"question_id":12608893,"body_markdown":"Is there any way to save a text file created from an android app to a USB connected windows PC programmatically?","title":"Save file from android device to windows programmatically","body":"<p>Is there any way to save a text file created from an android app to a USB connected windows PC programmatically?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678618352,"post_id":55661345,"comment_id":133565161,"body_markdown":"one problem per question please - that said: a) the stacktrace is telling you exactly what&#39;s wrong (there simply is no method getText in your controller, at least not in what you are showing here, add the method in code or remove the handler attribute in the fxml ), b) the warning alerts you to a potential problem in your module-info, fix what it complains about","body":"one problem per question please - that said: a) the stacktrace is telling you exactly what&#39;s wrong (there simply is no method getText in your controller, at least not in what you are showing here, add the method in code or remove the handler attribute in the fxml ), b) the warning alerts you to a potential problem in your module-info, fix what it complains about"}],"answers":[{"tags":[],"owner":{"account_id":14533343,"reputation":1,"user_id":10497551,"display_name":"Paulo Henrique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555128553,"creation_date":1555128553,"answer_id":55661904,"question_id":55661345,"body_markdown":"There&#39;s an &quot;on action&quot; event called &quot;getText&quot; associated with your TextField. When you remove it, your program should work properly.","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>There's an \"on action\" event called \"getText\" associated with your TextField. When you remove it, your program should work properly.</p>\n"},{"tags":[],"owner":{"account_id":10386049,"reputation":383,"user_id":8274784,"display_name":"Slayahh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565600776,"creation_date":1565600776,"answer_id":57458327,"question_id":55661345,"body_markdown":"Might be a little late to the party, but had the same issue and got it fixed. The problem is that in your FXML-file, you have declared #buttonclick as a function, however in your code, the function is not marked with the nesseccary @FXML annotation like you have on your attibutes. This breaks the FXML-loader on start since it cannot find the function without the @FXML annotation.","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>Might be a little late to the party, but had the same issue and got it fixed. The problem is that in your FXML-file, you have declared #buttonclick as a function, however in your code, the function is not marked with the nesseccary @FXML annotation like you have on your attibutes. This breaks the FXML-loader on start since it cannot find the function without the @FXML annotation.</p>\n"}],"owner":{"account_id":14094930,"reputation":25,"user_id":10182025,"display_name":"Random coder 123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678618371,"creation_date":1555120582,"question_id":55661345,"body_markdown":"Beginner with JavaFX, please help me, my code keeps throwing this error. Also, my buttonClick method throws a warning &quot;The type ActionEvent from module javafx.base may not be accessible to clients due to missing &#39;requires transitive&#39;&quot;.\r\n\r\n\r\n\r\n\r\nI&#39;ve tried importing different ActionEvent and EventHandler\r\n\r\nMy FXML code\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/10.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.SampleController&quot;&gt;\r\n  &lt;columnConstraints&gt;\r\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;360.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;301.0&quot; /&gt;\r\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;345.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;299.0&quot; /&gt;\r\n  &lt;/columnConstraints&gt;\r\n  &lt;rowConstraints&gt;\r\n      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n  &lt;/rowConstraints&gt;\r\n   &lt;children&gt;\r\n      &lt;Text fx:id=&quot;celsius&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Celsius:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;300.611328125&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;fahrenheit&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Fahrenheit:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;302.3359375&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;kelvin&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kelvin:&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;302.490234375&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;TextField fx:id=&quot;textBox&quot; alignment=&quot;CENTER&quot; onAction=&quot;#getText&quot; text=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/TextField&gt;\r\n      &lt;Text fx:id=&quot;fahrenheitNumber&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;0&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;300.97265625&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Text fx:id=&quot;kelvinNumber&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;0&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;299.97265625&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;36.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Button fx:id=&quot;button&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonClick&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;576.0&quot; text=&quot;Convert Now!&quot; translateX=&quot;10.0&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Britannic Bold&quot; size=&quot;39.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/GridPane&gt;\r\n```\r\n\r\nMy controller class\r\n```\r\npackage application;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.text.Text;\r\nimport javafx.event.ActionEvent;\r\n\r\npublic class SampleController {\r\n\t@FXML\r\n\tprivate Button button;\r\n\t@FXML\r\n\tprivate Text celsius;\r\n\t@FXML\r\n\tprivate Text fahrenheit;\r\n\t@FXML\r\n\tprivate Text kelvin;\r\n\t@FXML\r\n\tprivate Text fahrenheitNumber;\r\n\t@FXML\r\n\tprivate Text kelvinNumber;\r\n\t@FXML\r\n\tprivate TextField textBox;\r\n\t\r\n\tpublic void buttonClick(ActionEvent event) {\r\n\t\tint x = Integer.parseInt(textBox.getText());\r\n\t\tfahrenheitNumber.setText(Integer.toString(x * (9 / 5) + 32));\r\n\t\tkelvinNumber.setText(Double.toString(x + 273.15));\r\n\t}\r\n}\r\n```\r\n\r\nA window should be shown but instead, this is thrown.\r\n\r\njavafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script.\r\n/C:/Users/user/eclipse-workspace/JavaFXSceneBuilder/bin/application/Sample.fxml:42\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:618)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat hellofxmlcode/application.Main.start(Main.java:14)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)","title":"javafx.fxml.LoadException: Error resolving onAction=&#39;#getText&#39;, either the event handler is not in the Namespace or there is an error in the script","body":"<p>Beginner with JavaFX, please help me, my code keeps throwing this error. Also, my buttonClick method throws a warning \"The type ActionEvent from module javafx.base may not be accessible to clients due to missing 'requires transitive'\".</p>\n\n<p>I've tried importing different ActionEvent and EventHandler</p>\n\n<p>My FXML code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;GridPane maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/10.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"application.SampleController\"&gt;\n  &lt;columnConstraints&gt;\n    &lt;ColumnConstraints hgrow=\"SOMETIMES\" maxWidth=\"360.0\" minWidth=\"10.0\" prefWidth=\"301.0\" /&gt;\n    &lt;ColumnConstraints hgrow=\"SOMETIMES\" maxWidth=\"345.0\" minWidth=\"10.0\" prefWidth=\"299.0\" /&gt;\n  &lt;/columnConstraints&gt;\n  &lt;rowConstraints&gt;\n      &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n    &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n  &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;Text fx:id=\"celsius\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Celsius:\" textAlignment=\"CENTER\" wrappingWidth=\"300.611328125\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"fahrenheit\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Fahrenheit:\" textAlignment=\"CENTER\" wrappingWidth=\"302.3359375\" GridPane.rowIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"kelvin\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Kelvin:\" textAlignment=\"CENTER\" wrappingWidth=\"302.490234375\" GridPane.rowIndex=\"2\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;TextField fx:id=\"textBox\" alignment=\"CENTER\" onAction=\"#getText\" text=\"0\" GridPane.columnIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/TextField&gt;\n      &lt;Text fx:id=\"fahrenheitNumber\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"0\" textAlignment=\"CENTER\" wrappingWidth=\"300.97265625\" GridPane.columnIndex=\"1\" GridPane.rowIndex=\"1\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text fx:id=\"kelvinNumber\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"0\" textAlignment=\"CENTER\" wrappingWidth=\"299.97265625\" GridPane.columnIndex=\"1\" GridPane.rowIndex=\"2\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"36.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Button fx:id=\"button\" mnemonicParsing=\"false\" onAction=\"#buttonClick\" prefHeight=\"25.0\" prefWidth=\"576.0\" text=\"Convert Now!\" translateX=\"10.0\" GridPane.columnSpan=\"2\" GridPane.rowIndex=\"3\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Britannic Bold\" size=\"39.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n\n<p>My controller class</p>\n\n<pre><code>package application;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.text.Text;\nimport javafx.event.ActionEvent;\n\npublic class SampleController {\n    @FXML\n    private Button button;\n    @FXML\n    private Text celsius;\n    @FXML\n    private Text fahrenheit;\n    @FXML\n    private Text kelvin;\n    @FXML\n    private Text fahrenheitNumber;\n    @FXML\n    private Text kelvinNumber;\n    @FXML\n    private TextField textBox;\n\n    public void buttonClick(ActionEvent event) {\n        int x = Integer.parseInt(textBox.getText());\n        fahrenheitNumber.setText(Integer.toString(x * (9 / 5) + 32));\n        kelvinNumber.setText(Double.toString(x + 273.15));\n    }\n}\n</code></pre>\n\n<p>A window should be shown but instead, this is thrown.</p>\n\n<p>javafx.fxml.LoadException: Error resolving onAction='#getText', either the event handler is not in the Namespace or there is an error in the script.\n/C:/Users/user/eclipse-workspace/JavaFXSceneBuilder/bin/application/Sample.fxml:42</p>\n\n<pre><code>at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2621)\nat javafx.fxml/javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:105)\nat javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:618)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\nat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\nat hellofxmlcode/application.Main.start(Main.java:14)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\nat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","arrays","random","seed"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678618179,"creation_date":1678618179,"answer_id":75712596,"question_id":75712436,"body_markdown":"You are very close to the solution. The following line is the key, and will need to be un-commented:\r\n\r\n    Collections.shuffle(pairs, new java.util.Random(seed));\r\n\r\nYou don&#39;t need to play with `index` and `number` in your final loop, you can simply use exactly the same loop structure as the first time because `Collections.shuffle` does all the work for us. The working final loop could look like this using your code:\r\n\r\n    Collections.shuffle(pairs, new java.util.Random(seed));\r\n\r\n    // Print the pairs in a table with a max of 5 numbers per row\r\n    newLine = 0;\r\n    for (i = 0; i &lt; count; i++) {\r\n        int pair = pairs.get(i);\r\n        System.out.printf(&quot;%4d&quot;, pair);\r\n        System.out.print(&quot;&quot;);\r\n        newLine = newLine + 1;\r\n\r\n        if (newLine == 5) {\r\n            System.out.println(&quot;&quot;);\r\n            // Reset lineCount back to 0 to allow for new calc to occur\r\n            newLine = 0;\r\n        }\r\n    }\r\n\r\nSo with this input:\r\n\r\n    5\r\n    22\r\n\r\nI get the following output:\r\n\r\n    Please enter the number of elements to be paired.\r\n    5\r\n       1   1   2   2   3\r\n       3   4   4   5   5\r\n    \r\n    Please enter a seed number for testing purposes.\r\n    \r\n    22\r\n       1   4   1   5   3\r\n       2   3   5   4   2","title":"Issues with seed value output of randomized values Java","body":"<p>You are very close to the solution. The following line is the key, and will need to be un-commented:</p>\n<pre><code>Collections.shuffle(pairs, new java.util.Random(seed));\n</code></pre>\n<p>You don't need to play with <code>index</code> and <code>number</code> in your final loop, you can simply use exactly the same loop structure as the first time because <code>Collections.shuffle</code> does all the work for us. The working final loop could look like this using your code:</p>\n<pre><code>Collections.shuffle(pairs, new java.util.Random(seed));\n\n// Print the pairs in a table with a max of 5 numbers per row\nnewLine = 0;\nfor (i = 0; i &lt; count; i++) {\n    int pair = pairs.get(i);\n    System.out.printf(&quot;%4d&quot;, pair);\n    System.out.print(&quot;&quot;);\n    newLine = newLine + 1;\n\n    if (newLine == 5) {\n        System.out.println(&quot;&quot;);\n        // Reset lineCount back to 0 to allow for new calc to occur\n        newLine = 0;\n    }\n}\n</code></pre>\n<p>So with this input:</p>\n<pre><code>5\n22\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>Please enter the number of elements to be paired.\n5\n   1   1   2   2   3\n   3   4   4   5   5\n\nPlease enter a seed number for testing purposes.\n\n22\n   1   4   1   5   3\n   2   3   5   4   2\n</code></pre>\n"}],"owner":{"account_id":24606867,"reputation":21,"user_id":18508953,"display_name":"JG2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678618179,"creation_date":1678616172,"question_id":75712436,"body_markdown":"I am trying to build a program in java that a user inserts a value and with the numbers up to that value, a seed is used to pseudo-randomize the table of values. For example, if the user inputs 5, the program creates a 5x5 table that has every number up until one duplicated e.g \r\n\r\n[![this is the example][1]][1]\r\n\r\n\r\nAfter this, the table should be pseudo-randomized by another value the user is prompted to enter. My issue is that the values that are being randomized are incorrect, as per the below image where the numbers range from 1-5. as the user inputted 5,and is pseudo-randomized by the seed value of 22. Can someone please help? Thank you.\r\n\r\n[![Output of my program versus expected output][2]][2]\r\n\r\nThis is my code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter the number of elements to be paired.&quot;);\r\n            int input = scnr.nextInt();\r\n            // Initialize a 1D Array\r\n            int i = 0;\r\n            // Append duplicates of pair values 1-input \r\n            List&lt;Integer&gt; pairs = new ArrayList&lt;&gt;();\r\n            for (i = 1; i &lt;= input; i++) {\r\n                // Adds value twice to the array\r\n                pairs.add(i);\r\n                pairs.add(i);\r\n            }\r\n\r\n        // Prints pairs into a table and creates a new line every fifth value\r\n        int count = pairs.size();\r\n        int newLine = 0;\r\n        for (i = 0; i &lt; count; i++) {\r\n            int pair = pairs.get(i);\r\n            System.out.printf(&quot;%4d&quot;, pair);\r\n            System.out.print(&quot;&quot;);\r\n            newLine = newLine + 1;\r\n\r\n            if (newLine == 5) {\r\n                System.out.println(&quot;&quot;);\r\n                // Reset lineCount back to 0 to allow for new calc to occur\r\n                newLine = 0;\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Please enter a seed number for testing purposes.\\n&quot;);\r\n        int seed = scnr.nextInt();\r\n       // Collections.shuffle(pairs, new java.util.Random(seed));\r\n       Random randomGeneratorName = new Random(seed);\r\n\r\n        // Print the pairs in a table with a max of 5 numbers per row\r\n        count = pairs.size();\r\n        newLine = 0;\r\n        int[] usedNumbers = new int[input];\r\n        int unusedNumbers = input * 2;\r\n        for (i = 0; i &lt; count; i++) {\r\n            int index = pairs.get(i) - 1; // change index to start at 0\r\n            int number = index + 1; // change number to start at 1\r\n            if (usedNumbers[index] == 0) {\r\n                System.out.printf(&quot;%4d&quot;, number);\r\n                usedNumbers[index] = 1;\r\n                unusedNumbers--;\r\n                newLine++;\r\n                if (newLine == 5) {\r\n                    System.out.println();\r\n                    newLine = 0;\r\n                }\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELrew.png\r\n  [2]: https://i.stack.imgur.com/81yqH.png","title":"Issues with seed value output of randomized values Java","body":"<p>I am trying to build a program in java that a user inserts a value and with the numbers up to that value, a seed is used to pseudo-randomize the table of values. For example, if the user inputs 5, the program creates a 5x5 table that has every number up until one duplicated e.g</p>\n<p><a href=\"https://i.stack.imgur.com/ELrew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELrew.png\" alt=\"this is the example\" /></a></p>\n<p>After this, the table should be pseudo-randomized by another value the user is prompted to enter. My issue is that the values that are being randomized are incorrect, as per the below image where the numbers range from 1-5. as the user inputted 5,and is pseudo-randomized by the seed value of 22. Can someone please help? Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/81yqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81yqH.png\" alt=\"Output of my program versus expected output\" /></a></p>\n<p>This is my code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number of elements to be paired.&quot;);\n        int input = scnr.nextInt();\n        // Initialize a 1D Array\n        int i = 0;\n        // Append duplicates of pair values 1-input \n        List&lt;Integer&gt; pairs = new ArrayList&lt;&gt;();\n        for (i = 1; i &lt;= input; i++) {\n            // Adds value twice to the array\n            pairs.add(i);\n            pairs.add(i);\n        }\n\n    // Prints pairs into a table and creates a new line every fifth value\n    int count = pairs.size();\n    int newLine = 0;\n    for (i = 0; i &lt; count; i++) {\n        int pair = pairs.get(i);\n        System.out.printf(&quot;%4d&quot;, pair);\n        System.out.print(&quot;&quot;);\n        newLine = newLine + 1;\n\n        if (newLine == 5) {\n            System.out.println(&quot;&quot;);\n            // Reset lineCount back to 0 to allow for new calc to occur\n            newLine = 0;\n        }\n    }\n    System.out.println();\n\n    System.out.println(&quot;Please enter a seed number for testing purposes.\\n&quot;);\n    int seed = scnr.nextInt();\n   // Collections.shuffle(pairs, new java.util.Random(seed));\n   Random randomGeneratorName = new Random(seed);\n\n    // Print the pairs in a table with a max of 5 numbers per row\n    count = pairs.size();\n    newLine = 0;\n    int[] usedNumbers = new int[input];\n    int unusedNumbers = input * 2;\n    for (i = 0; i &lt; count; i++) {\n        int index = pairs.get(i) - 1; // change index to start at 0\n        int number = index + 1; // change number to start at 1\n        if (usedNumbers[index] == 0) {\n            System.out.printf(&quot;%4d&quot;, number);\n            usedNumbers[index] = 1;\n            unusedNumbers--;\n            newLine++;\n            if (newLine == 5) {\n                System.out.println();\n                newLine = 0;\n            }\n        }\n    }\n    System.out.println();\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","annotations","spring-aop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1618798553,"post_id":67155048,"comment_id":118703231,"body_markdown":"You don&#39;t need to provide your actual source code, an example which produces the problem is fine.","body":"You don&#39;t need to provide your actual source code, an example which produces the problem is fine."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618802132,"post_id":67155048,"comment_id":118703785,"body_markdown":"I&#39;ve updated the description with an example to reproduce the problem.","body":"I&#39;ve updated the description with an example to reproduce the problem."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1618814180,"post_id":67155048,"comment_id":118706289,"body_markdown":"Please learn what an [MCVE](https://stackoverflow.com/help/mcve) is and why your question is not one. You describe problems with two conflicting aspects, only posting one of them. That is counter-productive, because it leaves too much room for speculation and likely leads to iterations of comments back and forth, which is avoidable in this case. SO is not a discussion forum but a Q/A site. So the more precise you ask, the more precise the answer shall be. Help yourself by helping others reproducing your problem. _Dunny_ probably guessed right what you want here, but still he had to guess.","body":"Please learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is and why your question is not one. You describe problems with two conflicting aspects, only posting one of them. That is counter-productive, because it leaves too much room for speculation and likely leads to iterations of comments back and forth, which is avoidable in this case. SO is not a discussion forum but a Q/A site. So the more precise you ask, the more precise the answer shall be. Help yourself by helping others reproducing your problem. <i>Dunny</i> probably guessed right what you want here, but still he had to guess."},{"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"score":0,"creation_date":1618816505,"post_id":67155048,"comment_id":118707146,"body_markdown":"@kriegaex, thanks for the feedback. I&#39;ve added in the aspect for `Log`.","body":"@kriegaex, thanks for the feedback. I&#39;ve added in the aspect for <code>Log</code>."}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618812327,"creation_date":1618812327,"answer_id":67156697,"question_id":67155048,"body_markdown":"You can add the `@Order` annotation on the two aspects to define the ordering. If it&#39;s not provided, the execution order of aspects is undefined. \r\nFor example, if the Log aspect should always be executed as the last advice, no matter what other advices there are, give it e.g. an order of 10000, and all other advices lower numbers (lower numbers are executed first).\r\n\r\nDocumentation: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p>You can add the <code>@Order</code> annotation on the two aspects to define the ordering. If it's not provided, the execution order of aspects is undefined.\nFor example, if the Log aspect should always be executed as the last advice, no matter what other advices there are, give it e.g. an order of 10000, and all other advices lower numbers (lower numbers are executed first).</p>\n<p>Documentation: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-ordering</a></p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619068179,"creation_date":1618898743,"answer_id":67173325,"question_id":67155048,"body_markdown":"Because of [this problem](https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-822988103), you need to use `@Order(value = Ordered.HIGHEST_PRECEDENCE)` on `PollableStreamListenerAspect`. Quite weird indeed, but then it works as you wish it to. IMO the issue ought to be fixed in Spring, though. Having to use this workaround is ugly and only works if your aspect calling `proceed()` asynchronously actually does have the highest precedence, which is not always the case. As an alternative, you could use native AspectJ and its own concept of declaring advice precedence, which is independent of Spring internals.\r\n\r\nHere is a simplified version of your application as an [MCVE](https://stackoverflow.com/help/mcve):\r\n\r\n**Annotations:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomLogging {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PollableStreamListener {}\r\n```\r\n\r\n**Component with method carrying both annotations:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyComponent {\r\n  private int counter = 0;\r\n\r\n  @PollableStreamListener\r\n  @CustomLogging\r\n  public void submitDeletion() {\r\n    try {\r\n      System.out.println(&quot;  Starting processing #&quot; + ++counter);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;  Finished processing #&quot; + counter);\r\n    }\r\n    catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Aspects:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class CustomLoggingAspect {\r\n  @Before(&quot;@annotation(de.scrum_master.spring.q67155048.CustomLogging)&quot;)\r\n  public void addCustomLogging() {\r\n    System.out.println(&quot;Logging&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Driver application:**\r\n\r\nThe application calls the target method every 500 ms, but execution takes 1,000 ms. So we expect to see ~50% of the calls being re-queued without any logging in that case, because the higher precedence aspect does not proceed to the target method.\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws InterruptedException {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\r\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      myComponent.submitDeletion();\r\n      Thread.sleep(500);\r\n    }\r\n    // This is just to make the application exit cleanly\r\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\r\n  }\r\n}\r\n```\r\n\r\n**Console log:**\r\n\r\n```none\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.8.RELEASE)\r\n\r\n2021-04-20 12:56:03.675  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Starting DemoApplication on Xander-Ultrabook with PID 13560 (C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground\\target\\classes started by alexa in C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground)\r\n...\r\n2021-04-20 12:56:07.666  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Started DemoApplication in 4.65 seconds (JVM running for 7.181)\r\nReceiving message\r\nLogging\r\n  Starting processing #1\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #1\r\nReceiving message\r\nLogging\r\n  Starting processing #2\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #2\r\nReceiving message\r\nLogging\r\n  Starting processing #3\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #3\r\nReceiving message\r\nLogging\r\n  Starting processing #4\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #4\r\nReceiving message\r\nLogging\r\n  Starting processing #5\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #5\r\n2021-04-20 12:56:12.767  INFO 13560 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n...\r\n```\r\n\r\nSee? We count 10x &quot;Receiving message&quot;, but only 5x &quot;Re-queue&quot; and 5x &quot;Logging&quot;. Please note that I numbered the processing calls because they are asynchronous. That way it is easier to follow when they start and finish.\r\n\r\n---\r\n\r\n**Update in response to user comment:**\r\n\r\nI have updated my MCVE in order to reproduce your problem with the parameter binding. The new or changed files are:\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\npublic class Message&lt;T&gt; {\r\n  private T content;\r\n\r\n  public Message(T content) {\r\n    this.content = content;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;Message{&quot; +\r\n      &quot;content=&quot; + content +\r\n      &#39;}&#39;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws InterruptedException {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\r\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\r\n    Message&lt;String&gt; message = new Message&lt;&gt;(&quot;Hi there!&quot;);\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      myComponent.submitDeletion(message);\r\n      Thread.sleep(500);\r\n    }\r\n    // This is just to make the application exit cleanly\r\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis yields, according to your own experience:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:605)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat de.scrum_master.spring.q67155048.MyComponent$$EnhancerBySpringCGLIB$$4baa410d.submitDeletion(&lt;generated&gt;)\r\n\tat de.scrum_master.spring.q67155048.DemoApplication.doStuff(DemoApplication.java:21)\r\n\tat de.scrum_master.spring.q67155048.DemoApplication.main(DemoApplication.java:13)\r\n```\r\n\r\nYou are hitting [this problem](https://stackoverflow.com/a/54286747/1082681), and I have commented on the closed [Spring issue #16956](https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-824536173) about it, hoping to get it repoened and someone to fix it.\r\n\r\nFor now, your workaround is not to use the elegant AOP argument binding but to fetch the parameter manually using `JoinPoint.getArgs()`:\r\n\r\n```java\r\npackage de.scrum_master.spring.q67155048;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Aspect\r\n@Component\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\r\n  private volatile boolean paused = false;\r\n\r\n  //@Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\r\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; execution(* *(*, ..))&quot;)\r\n  //public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    Object dataCapsule = joinPoint.getArgs()[0];\r\n    System.out.println(&quot;Receiving message&quot;);\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\r\n          joinPoint.proceed();\r\n        }\r\n        catch (Throwable throwable) {\r\n          throwable.printStackTrace();\r\n        }\r\n        finally {\r\n          paused = false;\r\n        }\r\n      };\r\n      EXECUTOR_SERVICE.submit(runnable);\r\n    }\r\n    else {\r\n      System.out.println(&quot;  Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow it works again like this:\r\n\r\n```none\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #1, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #1, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #2, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #2, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #3, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #3, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #4, message = Message{content=Hi there!}\r\nReceiving message\r\n  Re-queue\r\n  Finished processing #4, message = Message{content=Hi there!}\r\nReceiving message\r\ndataCapsule = Message{content=Hi there!}\r\nLogging\r\n  Starting processing #5, message = Message{content=Hi there!}\r\n```\r\n","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p>Because of <a href=\"https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-822988103\" rel=\"nofollow noreferrer\">this problem</a>, you need to use <code>@Order(value = Ordered.HIGHEST_PRECEDENCE)</code> on <code>PollableStreamListenerAspect</code>. Quite weird indeed, but then it works as you wish it to. IMO the issue ought to be fixed in Spring, though. Having to use this workaround is ugly and only works if your aspect calling <code>proceed()</code> asynchronously actually does have the highest precedence, which is not always the case. As an alternative, you could use native AspectJ and its own concept of declaring advice precedence, which is independent of Spring internals.</p>\n<p>Here is a simplified version of your application as an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n<p><strong>Annotations:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomLogging {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PollableStreamListener {}\n</code></pre>\n<p><strong>Component with method carrying both annotations:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyComponent {\n  private int counter = 0;\n\n  @PollableStreamListener\n  @CustomLogging\n  public void submitDeletion() {\n    try {\n      System.out.println(&quot;  Starting processing #&quot; + ++counter);\n      Thread.sleep(1000);\n      System.out.println(&quot;  Finished processing #&quot; + counter);\n    }\n    catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p><strong>Aspects:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class CustomLoggingAspect {\n  @Before(&quot;@annotation(de.scrum_master.spring.q67155048.CustomLogging)&quot;)\n  public void addCustomLogging() {\n    System.out.println(&quot;Logging&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p><strong>Driver application:</strong></p>\n<p>The application calls the target method every 500 ms, but execution takes 1,000 ms. So we expect to see ~50% of the calls being re-queued without any logging in that case, because the higher precedence aspect does not proceed to the target method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws InterruptedException {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\n    for (int i = 0; i &lt; 10; i++) {\n      myComponent.submitDeletion();\n      Thread.sleep(500);\n    }\n    // This is just to make the application exit cleanly\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.8.RELEASE)\n\n2021-04-20 12:56:03.675  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Starting DemoApplication on Xander-Ultrabook with PID 13560 (C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground\\target\\classes started by alexa in C:\\Users\\alexa\\Documents\\java-src\\spring-aop-playground)\n...\n2021-04-20 12:56:07.666  INFO 13560 --- [           main] d.s.spring.q67155048.DemoApplication     : Started DemoApplication in 4.65 seconds (JVM running for 7.181)\nReceiving message\nLogging\n  Starting processing #1\nReceiving message\n  Re-queue\n  Finished processing #1\nReceiving message\nLogging\n  Starting processing #2\nReceiving message\n  Re-queue\n  Finished processing #2\nReceiving message\nLogging\n  Starting processing #3\nReceiving message\n  Re-queue\n  Finished processing #3\nReceiving message\nLogging\n  Starting processing #4\nReceiving message\n  Re-queue\n  Finished processing #4\nReceiving message\nLogging\n  Starting processing #5\nReceiving message\n  Re-queue\n  Finished processing #5\n2021-04-20 12:56:12.767  INFO 13560 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n...\n</code></pre>\n<p>See? We count 10x &quot;Receiving message&quot;, but only 5x &quot;Re-queue&quot; and 5x &quot;Logging&quot;. Please note that I numbered the processing calls because they are asynchronous. That way it is easier to follow when they start and finish.</p>\n<hr />\n<p><strong>Update in response to user comment:</strong></p>\n<p>I have updated my MCVE in order to reproduce your problem with the parameter binding. The new or changed files are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\npublic class Message&lt;T&gt; {\n  private T content;\n\n  public Message(T content) {\n    this.content = content;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Message{&quot; +\n      &quot;content=&quot; + content +\n      '}';\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws InterruptedException {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) throws InterruptedException {\n    MyComponent myComponent = appContext.getBean(MyComponent.class);\n    Message&lt;String&gt; message = new Message&lt;&gt;(&quot;Hi there!&quot;);\n    for (int i = 0; i &lt; 10; i++) {\n      myComponent.submitDeletion(message);\n      Thread.sleep(500);\n    }\n    // This is just to make the application exit cleanly\n    PollableStreamListenerAspect.EXECUTOR_SERVICE.shutdown();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This yields, according to your own experience:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:605)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at de.scrum_master.spring.q67155048.MyComponent$$EnhancerBySpringCGLIB$$4baa410d.submitDeletion(&lt;generated&gt;)\n    at de.scrum_master.spring.q67155048.DemoApplication.doStuff(DemoApplication.java:21)\n    at de.scrum_master.spring.q67155048.DemoApplication.main(DemoApplication.java:13)\n</code></pre>\n<p>You are hitting <a href=\"https://stackoverflow.com/a/54286747/1082681\">this problem</a>, and I have commented on the closed <a href=\"https://github.com/spring-projects/spring-framework/issues/16956#issuecomment-824536173\" rel=\"nofollow noreferrer\">Spring issue #16956</a> about it, hoping to get it repoened and someone to fix it.</p>\n<p>For now, your workaround is not to use the elegant AOP argument binding but to fetch the parameter manually using <code>JoinPoint.getArgs()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q67155048;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Aspect\n@Component\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n  public static final ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(1);\n  private volatile boolean paused = false;\n\n  //@Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; args(dataCapsule, ..)&quot;)\n  @Around(&quot;@annotation(de.scrum_master.spring.q67155048.PollableStreamListener) &amp;&amp; execution(* *(*, ..))&quot;)\n  //public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) throws Throwable {\n  public void receiveMessage(ProceedingJoinPoint joinPoint) throws Throwable {\n    Object dataCapsule = joinPoint.getArgs()[0];\n    System.out.println(&quot;Receiving message&quot;);\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n          System.out.println(&quot;dataCapsule = &quot; + dataCapsule);\n          joinPoint.proceed();\n        }\n        catch (Throwable throwable) {\n          throwable.printStackTrace();\n        }\n        finally {\n          paused = false;\n        }\n      };\n      EXECUTOR_SERVICE.submit(runnable);\n    }\n    else {\n      System.out.println(&quot;  Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Now it works again like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Receiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #1, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\nReceiving message\n  Re-queue\n  Finished processing #1, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #2, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #2, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #3, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #3, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #4, message = Message{content=Hi there!}\nReceiving message\n  Re-queue\n  Finished processing #4, message = Message{content=Hi there!}\nReceiving message\ndataCapsule = Message{content=Hi there!}\nLogging\n  Starting processing #5, message = Message{content=Hi there!}\n</code></pre>\n"}],"owner":{"account_id":17965198,"reputation":75,"user_id":13055225,"display_name":"mat_e_44"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67173325,"answer_count":2,"score":2,"last_activity_date":1678617928,"creation_date":1618796880,"question_id":67155048,"body_markdown":"**Updated to rephrase question with additional information**\r\n\r\nWe have two annotations:\r\n* `CustomLogging`\r\n* `PollableStreamListener`\r\n\r\nBoth are implemented using aspects with Spring AOP.\r\n\r\n`CustomLogging` annotation:\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CustomLogging {\r\n\r\n}\r\n```\r\n\r\n`CustomLoggingAspect` class:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 1)\r\npublic class CustomLoggingAspect {\r\n\r\n  @Before(&quot;@annotation(customLogging)&quot;)\r\n  public void addCustomLogging(CustomLogging customLogging) {\r\n    log.info(&quot;Logging some information&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\n`PollableStreamListener` annotation:\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PollableStreamListener {\r\n\r\n}\r\n```\r\n\r\n`PollableStreamListenerAspect` class:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class PollableStreamListenerAspect {\r\n\r\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(value = &quot;@annotation(pollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint,\r\n      PollableStreamListener pollableStreamListener, Object dataCapsule) {\r\n    if (dataCapsule instanceof Message) {\r\n      Message&lt;?&gt; message = (Message&lt;?&gt;) dataCapsule;\r\n      AcknowledgmentCallback callback = StaticMessageHeaderAccessor\r\n          .getAcknowledgmentCallback(message);\r\n      callback.noAutoAck();\r\n\r\n      if (!paused) {\r\n        // The separate thread is not busy with a previous message, so process this message:\r\n        Runnable runnable = () -&gt; {\r\n          try {\r\n            paused = true;\r\n\r\n            // Call method to process this Kafka message\r\n            joinPoint.proceed();\r\n\r\n            callback.acknowledge(Status.ACCEPT);\r\n          } catch (Throwable e) {\r\n            callback.acknowledge(Status.REJECT);\r\n            throw new PollableStreamListenerException(e);\r\n          } finally {\r\n            paused = false;\r\n          }\r\n        };\r\n\r\n        executor.submit(runnable);\r\n      } else {\r\n        // The separate thread is busy with a previous message, so re-queue this message for later:\r\n        callback.acknowledge(Status.REQUEUE);\r\n        log.info(&quot;Re-queue&quot;);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nWe have a class called `CleanupController` which regularly executes according to a schedule.\r\n\r\n`CleanupController` class:\r\n```java\r\n@Scheduled(fixedDelayString = &quot;${app.pollable-consumer.time-interval}&quot;)\r\n  public void pollForDeletionRequest() {\r\n    log.trace(&quot;Polling for new messages&quot;);\r\n    cleanupInput.poll(cleanupSubmissionService::submitDeletion);\r\n  }\r\n```\r\n\r\nWhen the schedule executes, it calls a method in another class that is annotated with both `PollableStreamListener` and `CustomLogging`. I&#39;ve added a `Thread.sleep()` to imitate the method taking a while to execute.\r\n\r\n```java\r\n@PollableStreamListener\r\n  @CustomLogging\r\n  public void submitDeletion(Message&lt;?&gt; received) {\r\n    try {\r\n      log.info(&quot;Starting processing&quot;);\r\n      Thread.sleep(10000);\r\n      log.info(&quot;Finished processing&quot;);\r\n    } catch (Exception e) {\r\n      log.info(&quot;Error&quot;, e);\r\n    }\r\n  }\r\n```\r\n\r\nThe problem I&#39;m facing is that the output produced by `CustomLogging` is printed each time we poll for new messages using the `@Schedule`, but I only want it to print if the annotated method is actually executed (which may happen now, or may happen in the future depending on whether another message is currently being processed). This leads to confusing log messages because it implies that the message is being processed now when in fact it has been re-queued for future execution.\r\n\r\nIs there some way that we can make these annotations work well together so that the `CustomLogging` output only happens if the annotated method executes?\r\n\r\n\r\n--------\r\n\r\n**Update to use `@Order` on `PollableStreamListener`**\r\n\r\nAs per the suggestion of @dunni, I made the following changes to the original example above.\r\n\r\nSet the order of 1 on the `PollableStreamListenerAspect`:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 1)\r\npublic class PollableStreamListenerAspect {\r\n...\r\n}\r\n```\r\n\r\nIncrease the order to 2 for `CustomLoggingAspect`:\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = 2)\r\npublic class CustomLoggingAspect {\r\n...\r\n}\r\n```\r\n\r\nI found that after making these changes that the polling fails to detect new requests at all. It is the change on the `PollableStreamListenerAspect` that introduced this issue (I commented out that line and re-ran it, and things behaved as they did before).\r\n\r\n\r\n------------\r\n\r\n**Update to use `@Order(value = Ordered.HIGHEST_PRECEDENCE)` on `PollableStreamListener`**\r\n\r\nI&#39;ve updated the `PollableStreamListener` to use the `HIGHEST_PRECEDENCE` and update the `@Around` value:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\r\npublic class PollableStreamListenerAspect {\r\n\r\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n  private volatile boolean paused = false;\r\n\r\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint) {\r\n    if (!paused) {\r\n      // The separate thread is not busy with a previous message, so process this message:\r\n      Runnable runnable = () -&gt; {\r\n        try {\r\n          paused = true;\r\n\r\n          // Call method to process this Kafka message\r\n          joinPoint.proceed();\r\n        } catch (Throwable e) {\r\n          e.printStackTrace();\r\n          throw new PollableStreamListenerException(e);\r\n        } finally {\r\n          paused = false;\r\n        }\r\n      };\r\n\r\n      executor.submit(runnable);\r\n    } else {\r\n      // The separate thread is busy with a previous message, so re-queue this message for later:\r\n      log.info(&quot;Re-queue&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis is partially working now. When I send a Kafka message, it gets processed, and the logging from the `CustomLogging` annotation only prints if another Kafka message isn&#39;t being processed. So far so good.\r\n\r\nThe next challenge is to get the `@Around` to accept the `Message` that is being provided via Kafka. I attempted this using the above example with the following lines changed:\r\n```java\r\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\r\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) {\r\n...\r\n}\r\n```\r\n\r\nThe server starts correctly, but when I publish a Kafka message then I get the following exception:\r\n\r\n```\r\n2021-04-22 10:38:00,055 ERROR [scheduling-1] org.springframework.core.log.LogAccessor: org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation), failedMessage=GenericMessage...\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:330)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.handle(DefaultPollableMessageSource.java:361)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:219)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:200)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:68)\r\n\tat xyx.pollForDeletionRequest(CleanupController.java:35)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:596)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat xyz.CleanupSubmissionServiceImpl$$EnhancerBySpringCGLIB$$8737f6f8.submitDeletion(&lt;generated&gt;)\r\n\tat org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:327)\r\n\t... 17 more\r\n```","title":"Advice precedence problem when one @Around advice does not proceed","body":"<p><strong>Updated to rephrase question with additional information</strong></p>\n<p>We have two annotations:</p>\n<ul>\n<li><code>CustomLogging</code></li>\n<li><code>PollableStreamListener</code></li>\n</ul>\n<p>Both are implemented using aspects with Spring AOP.</p>\n<p><code>CustomLogging</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomLogging {\n\n}\n</code></pre>\n<p><code>CustomLoggingAspect</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 1)\npublic class CustomLoggingAspect {\n\n  @Before(&quot;@annotation(customLogging)&quot;)\n  public void addCustomLogging(CustomLogging customLogging) {\n    log.info(&quot;Logging some information&quot;);\n  }\n\n}\n</code></pre>\n<p><code>PollableStreamListener</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PollableStreamListener {\n\n}\n</code></pre>\n<p><code>PollableStreamListenerAspect</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class PollableStreamListenerAspect {\n\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\n\n  private volatile boolean paused = false;\n\n  @Around(value = &quot;@annotation(pollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint,\n      PollableStreamListener pollableStreamListener, Object dataCapsule) {\n    if (dataCapsule instanceof Message) {\n      Message&lt;?&gt; message = (Message&lt;?&gt;) dataCapsule;\n      AcknowledgmentCallback callback = StaticMessageHeaderAccessor\n          .getAcknowledgmentCallback(message);\n      callback.noAutoAck();\n\n      if (!paused) {\n        // The separate thread is not busy with a previous message, so process this message:\n        Runnable runnable = () -&gt; {\n          try {\n            paused = true;\n\n            // Call method to process this Kafka message\n            joinPoint.proceed();\n\n            callback.acknowledge(Status.ACCEPT);\n          } catch (Throwable e) {\n            callback.acknowledge(Status.REJECT);\n            throw new PollableStreamListenerException(e);\n          } finally {\n            paused = false;\n          }\n        };\n\n        executor.submit(runnable);\n      } else {\n        // The separate thread is busy with a previous message, so re-queue this message for later:\n        callback.acknowledge(Status.REQUEUE);\n        log.info(&quot;Re-queue&quot;);\n      }\n    }\n  }\n\n}\n</code></pre>\n<p>We have a class called <code>CleanupController</code> which regularly executes according to a schedule.</p>\n<p><code>CleanupController</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelayString = &quot;${app.pollable-consumer.time-interval}&quot;)\n  public void pollForDeletionRequest() {\n    log.trace(&quot;Polling for new messages&quot;);\n    cleanupInput.poll(cleanupSubmissionService::submitDeletion);\n  }\n</code></pre>\n<p>When the schedule executes, it calls a method in another class that is annotated with both <code>PollableStreamListener</code> and <code>CustomLogging</code>. I've added a <code>Thread.sleep()</code> to imitate the method taking a while to execute.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PollableStreamListener\n  @CustomLogging\n  public void submitDeletion(Message&lt;?&gt; received) {\n    try {\n      log.info(&quot;Starting processing&quot;);\n      Thread.sleep(10000);\n      log.info(&quot;Finished processing&quot;);\n    } catch (Exception e) {\n      log.info(&quot;Error&quot;, e);\n    }\n  }\n</code></pre>\n<p>The problem I'm facing is that the output produced by <code>CustomLogging</code> is printed each time we poll for new messages using the <code>@Schedule</code>, but I only want it to print if the annotated method is actually executed (which may happen now, or may happen in the future depending on whether another message is currently being processed). This leads to confusing log messages because it implies that the message is being processed now when in fact it has been re-queued for future execution.</p>\n<p>Is there some way that we can make these annotations work well together so that the <code>CustomLogging</code> output only happens if the annotated method executes?</p>\n<hr />\n<p><strong>Update to use <code>@Order</code> on <code>PollableStreamListener</code></strong></p>\n<p>As per the suggestion of @dunni, I made the following changes to the original example above.</p>\n<p>Set the order of 1 on the <code>PollableStreamListenerAspect</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 1)\npublic class PollableStreamListenerAspect {\n...\n}\n</code></pre>\n<p>Increase the order to 2 for <code>CustomLoggingAspect</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = 2)\npublic class CustomLoggingAspect {\n...\n}\n</code></pre>\n<p>I found that after making these changes that the polling fails to detect new requests at all. It is the change on the <code>PollableStreamListenerAspect</code> that introduced this issue (I commented out that line and re-ran it, and things behaved as they did before).</p>\n<hr />\n<p><strong>Update to use <code>@Order(value = Ordered.HIGHEST_PRECEDENCE)</code> on <code>PollableStreamListener</code></strong></p>\n<p>I've updated the <code>PollableStreamListener</code> to use the <code>HIGHEST_PRECEDENCE</code> and update the <code>@Around</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\n@Order(value = Ordered.HIGHEST_PRECEDENCE)\npublic class PollableStreamListenerAspect {\n\n  private final ExecutorService executor = Executors.newFixedThreadPool(1);\n\n  private volatile boolean paused = false;\n\n  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint) {\n    if (!paused) {\n      // The separate thread is not busy with a previous message, so process this message:\n      Runnable runnable = () -&gt; {\n        try {\n          paused = true;\n\n          // Call method to process this Kafka message\n          joinPoint.proceed();\n        } catch (Throwable e) {\n          e.printStackTrace();\n          throw new PollableStreamListenerException(e);\n        } finally {\n          paused = false;\n        }\n      };\n\n      executor.submit(runnable);\n    } else {\n      // The separate thread is busy with a previous message, so re-queue this message for later:\n      log.info(&quot;Re-queue&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This is partially working now. When I send a Kafka message, it gets processed, and the logging from the <code>CustomLogging</code> annotation only prints if another Kafka message isn't being processed. So far so good.</p>\n<p>The next challenge is to get the <code>@Around</code> to accept the <code>Message</code> that is being provided via Kafka. I attempted this using the above example with the following lines changed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Around(value = &quot;@annotation(au.com.brolly.commons.stream.PollableStreamListener) &amp;&amp; args(dataCapsule,..)&quot;)\n  public void receiveMessage(ProceedingJoinPoint joinPoint, Object dataCapsule) {\n...\n}\n</code></pre>\n<p>The server starts correctly, but when I publish a Kafka message then I get the following exception:</p>\n<pre><code>2021-04-22 10:38:00,055 ERROR [scheduling-1] org.springframework.core.log.LogAccessor: org.springframework.messaging.MessageHandlingException: nested exception is java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation), failedMessage=GenericMessage...\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:330)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.handle(DefaultPollableMessageSource.java:361)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:219)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:200)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.poll(DefaultPollableMessageSource.java:68)\n    at xyx.pollForDeletionRequest(CleanupController.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:596)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at xyz.CleanupSubmissionServiceImpl$$EnhancerBySpringCGLIB$$8737f6f8.submitDeletion(&lt;generated&gt;)\n    at org.springframework.cloud.stream.binder.DefaultPollableMessageSource.doHandleMessage(DefaultPollableMessageSource.java:327)\n    ... 17 more\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525087162,"post_id":50098806,"comment_id":87215237,"body_markdown":"Your aspect needs to be a `@Component` if you want it to be detected by component scan. It also needs to be in the package you specified for component scan.","body":"Your aspect needs to be a <code>@Component</code> if you want it to be detected by component scan. It also needs to be in the package you specified for component scan."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525091575,"post_id":50098806,"comment_id":87217726,"body_markdown":"I have added the @Component but it did not work either, the aspect is inside the package which i defined in the componentscan. I tried this by breaking some pointcut syntax and here i receive some &quot;Pointcut is not well formated exception&quot; so I guess that my LoggingAspect has been loaded, but somehow its not active?","body":"I have added the @Component but it did not work either, the aspect is inside the package which i defined in the componentscan. I tried this by breaking some pointcut syntax and here i receive some &quot;Pointcut is not well formated exception&quot; so I guess that my LoggingAspect has been loaded, but somehow its not active?"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525091712,"post_id":50098806,"comment_id":87217806,"body_markdown":"During startup I can see: 14:34:20 DEBUG Found AspectJ method: private java.lang.Object my.foobar.aspects.LoggingAspect","body":"During startup I can see: 14:34:20 DEBUG Found AspectJ method: private java.lang.Object my.foobar.aspects.LoggingAspect"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525091860,"post_id":50098806,"comment_id":87217877,"body_markdown":"Make your `@Around` advice public, please. Spring needs to find it. If that is not enough, please also make the pointcuts public. And if both is not enough, tell me as a last step after making every method in the aspect public, what happens if you change the `completePackage()` pointcut to `execution(* *(..))`?","body":"Make your <code>@Around</code> advice public, please. Spring needs to find it. If that is not enough, please also make the pointcuts public. And if both is not enough, tell me as a last step after making every method in the aspect public, what happens if you change the <code>completePackage()</code> pointcut to <code>execution(* *(..))</code>?"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525092633,"post_id":50098806,"comment_id":87218358,"body_markdown":"I have changed the pointcuts to public also i tried to use your execution(* *(..)) but also with this change I do not receive any message from my LoggingAspect. Can it be a problem that I am trying this with an embedded tomcat by using gretty?","body":"I have changed the pointcuts to public also i tried to use your execution(* *(..)) but also with this change I do not receive any message from my LoggingAspect. Can it be a problem that I am trying this with an embedded tomcat by using gretty?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525092937,"post_id":50098806,"comment_id":87218536,"body_markdown":"When changing the pointcut, did you do that **in addition** to making everything public, as I said? And are your target classes also components? Did you ever get _any_ Spring-AOP aspect running on your Tomcat based on a sample project or so? Probably you have some configuration issue. If all this guesswork (which I dislike anyway) does not help, please edit your question and provide an [MCVE](http://stackoverflow.com/help/mcve), optimally ready to clone and build with Maven on GitHub.","body":"When changing the pointcut, did you do that <b>in addition</b> to making everything public, as I said? And are your target classes also components? Did you ever get <i>any</i> Spring-AOP aspect running on your Tomcat based on a sample project or so? Probably you have some configuration issue. If all this guesswork (which I dislike anyway) does not help, please edit your question and provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, optimally ready to clone and build with Maven on GitHub."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1525100111,"post_id":50098806,"comment_id":87223045,"body_markdown":"I just saw the Gretty remark. I did not even know what it is before I googled it, so I cannot say anything intelligent about it. Maybe keep it simple for starters and start Tomcat manually so as to exclude other possible error sources. Get the simplest possible setup running, then refine and automate it. That way you will find out what is wrong. Debugging with all bells and whistles activated is maybe a bit too ambitious if you are just starting with a new technology.","body":"I just saw the Gretty remark. I did not even know what it is before I googled it, so I cannot say anything intelligent about it. Maybe keep it simple for starters and start Tomcat manually so as to exclude other possible error sources. Get the simplest possible setup running, then refine and automate it. That way you will find out what is wrong. Debugging with all bells and whistles activated is maybe a bit too ambitious if you are just starting with a new technology."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1525122862,"post_id":50098806,"comment_id":87233927,"body_markdown":"I tried it like you described with public pointcuts. My target classes are no components and till now i did not get it working on a tomact. Currently i deployed it, as you suggested,  on a default tomcat 8 installation without gretty stuff but this did not work as well. I will try to make a sample project to see if I get it running in a simple web-project.","body":"I tried it like you described with public pointcuts. My target classes are no components and till now i did not get it working on a tomact. Currently i deployed it, as you suggested,  on a default tomcat 8 installation without gretty stuff but this did not work as well. I will try to make a sample project to see if I get it running in a simple web-project."}],"answers":[{"tags":[],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525133011,"creation_date":1525133011,"answer_id":50109788,"question_id":50098806,"body_markdown":"I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the methods which I want to measure are not spring related so as posted here from @kriegaex here https://stackoverflow.com/questions/38043089/spring-aop-for-non-spring-component?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa this is not working","title":"Spring AOP not working in web-application on tomcat 8","body":"<p>I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the methods which I want to measure are not spring related so as posted here from @kriegaex here <a href=\"https://stackoverflow.com/questions/38043089/spring-aop-for-non-spring-component?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Spring AOP for non spring component</a> this is not working</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525224901,"creation_date":1525224901,"answer_id":50126022,"question_id":50098806,"body_markdown":"_Al Phaba_ wrote:\r\n\r\n&gt; I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the **methods** which I want to measure are **not spring related** so as posted from _kriegaex_ [here](https://stackoverflow.com/a/38158365/1082681) this is not working.\r\n\r\nYes, Spring relies on dynamic proxies (by default JDK proxies for classes implementing interfaces, CGLIB proxies for classes not implementing interfaces), and these proxies only work on Spring components because only those get proxied by Spring while wiring the application. AspectJ however weaves directly into the original class&#39;s bytecode and can be applied to non-Spring classes as well, as long as they are not already loaded when AspectJ is activated (e.g. JRE classes).\r\n\r\n&gt; My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW.\r\n\r\nWell, if your application is working already, if you do it right it is a matter of minutes to change the configuration from Spring AOP to AspectJ as described in the [Spring manual](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj). I am encouraging you to give it a try, it is really not that hard. Good luck.","title":"Spring AOP not working in web-application on tomcat 8","body":"<p><em>Al Phaba</em> wrote:</p>\n\n<blockquote>\n  <p>I think I figured out my problem. I thought I could use just spring-aop as a standalone feature in my application. I was adding some JSP pages and used for this the first time spring-mvc and during this I saw spring-aop and thought why not using this for some additional measurements of my methods. My sample standalone application worked really good thats why i tried to adapt this to my existing application. But here the problem starts, the <strong>methods</strong> which I want to measure are <strong>not spring related</strong> so as posted from <em>kriegaex</em> <a href=\"https://stackoverflow.com/a/38158365/1082681\">here</a> this is not working.</p>\n</blockquote>\n\n<p>Yes, Spring relies on dynamic proxies (by default JDK proxies for classes implementing interfaces, CGLIB proxies for classes not implementing interfaces), and these proxies only work on Spring components because only those get proxied by Spring while wiring the application. AspectJ however weaves directly into the original class's bytecode and can be applied to non-Spring classes as well, as long as they are not already loaded when AspectJ is activated (e.g. JRE classes).</p>\n\n<blockquote>\n  <p>My solution is a bit disappointing I stopping my feature branch at this point because it currently to much effort to solve it, as I read and you answer suggest I need to switch to AspectJ via LTW.</p>\n</blockquote>\n\n<p>Well, if your application is working already, if you do it right it is a matter of minutes to change the configuration from Spring AOP to AspectJ as described in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">Spring manual</a>. I am encouraging you to give it a try, it is really not that hard. Good luck.</p>\n"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50126022,"answer_count":2,"score":0,"last_activity_date":1678617874,"creation_date":1525084786,"question_id":50098806,"body_markdown":"I want to use Spring AOP for some logging stuff in my application. I used AOP already in a standalone application and it worked but now with a web-app on a tomcat it&#39;s not working.\r\n\r\nI have a application-core and a application-web project, where in the core project all the logic happens and the web-project contains only the web-related stuff.\r\n\r\nFirst I tried to add my LoggingAspect class inside my core project, as this did not work I moved it now to the web project but although there it does not work.\r\n\r\n\r\nHere is my applicationContext.xml which is in folder: /application-web/src/main/webapp\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n            xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n            xsi:schemaLocation=&quot;\r\n                http://www.springframework.org/schema/beans\r\n                http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                http://www.springframework.org/schema/context\r\n                http://www.springframework.org/schema/context/spring-context.xsd\r\n                http://www.springframework.org/schema/mvc\r\n                http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n                http://www.springframework.org/schema/aop\r\n                http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\r\n\r\n            &lt;!-- Add AspectJ autoproxy support for AOP --&gt;\r\n            &lt;aop:aspectj-autoproxy/&gt;\r\n\r\n\r\n            &lt;!-- Step 3: Add support for component scanning --&gt;\r\n            &lt;context:component-scan base-package=&quot;my.foobar&quot;/&gt;\r\n\r\n            &lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\r\n            &lt;mvc:annotation-driven/&gt;\r\n\r\n            &lt;!-- Step 5: Define Spring MVC view resolver --&gt;\r\n            &lt;bean\r\n                class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n                &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n                &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/beans&gt;\r\n\r\n\r\n\r\nAnd This is my LoggingAspect class which is now here located: application-web/src/main/my.foobar.web/aspects/LoggingAspect\r\n\r\n        @Aspect\r\n        @Order(1)\r\n        public class LoggingAspect {\r\n            private static final LogHandler LOG = LogHandler.getLogger(LoggingAspect.class);\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.*(..))&quot;)\r\n            private void completePackage(){}\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.get*(..))&quot;)\r\n            private void getterMethods(){}\r\n\r\n            @Pointcut(&quot;execution(* my.foobar.*.*.set*(..))&quot;)\r\n            private void setterMethods(){}\r\n\r\n            @Pointcut(&quot;completePackage() &amp;&amp; !(getterMethods() || setterMethods())&quot;)\r\n            private void allMethodsExceptGetterAndSetter(){}\r\n\r\n            @Around(&quot;completePackage()&quot;)\r\n            private Object aroundMethod(ProceedingJoinPoint theProceedingJointPoint) throws Throwable{\r\n                LOG.info(&quot;around method&quot;);\r\n                String method = theProceedingJointPoint.getSignature().getName();\r\n                Object[] arguments = theProceedingJointPoint.getArgs();\r\n\r\n                LOG.info(&quot;method call: {0}&quot;, method);                \r\n                for(Object arg: arguments){\r\n                    LOG.info(&quot;argument[{0}]&quot;, arg);\r\n                }\r\n\r\n                Object result = theProceedingJointPoint.proceed();\r\n                return result;\r\n            }\r\n\r\n        }\r\n\r\nI have also added a class to my application-web project\r\n\r\n    @Configurable\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan(&quot;my.foobar&quot;)\r\n    public class ApplicationWebAppConfig {\r\n\r\n    }\r\n\r\n\r\nWhat I expect is, that each method which is called will be logged but thats not happen.","title":"Spring AOP not working in web-application on tomcat 8","body":"<p>I want to use Spring AOP for some logging stuff in my application. I used AOP already in a standalone application and it worked but now with a web-app on a tomcat it's not working.</p>\n\n<p>I have a application-core and a application-web project, where in the core project all the logic happens and the web-project contains only the web-related stuff.</p>\n\n<p>First I tried to add my LoggingAspect class inside my core project, as this did not work I moved it now to the web project but although there it does not work.</p>\n\n<p>Here is my applicationContext.xml which is in folder: /application-web/src/main/webapp</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n        xmlns:aop=\"http://www.springframework.org/schema/aop\"\n        xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans\n            http://www.springframework.org/schema/beans/spring-beans.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context.xsd\n            http://www.springframework.org/schema/mvc\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd\n            http://www.springframework.org/schema/aop\n            http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n\n        &lt;!-- Add AspectJ autoproxy support for AOP --&gt;\n        &lt;aop:aspectj-autoproxy/&gt;\n\n\n        &lt;!-- Step 3: Add support for component scanning --&gt;\n        &lt;context:component-scan base-package=\"my.foobar\"/&gt;\n\n        &lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\n        &lt;mvc:annotation-driven/&gt;\n\n        &lt;!-- Step 5: Define Spring MVC view resolver --&gt;\n        &lt;bean\n            class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n            &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n            &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n\n<p>And This is my LoggingAspect class which is now here located: application-web/src/main/my.foobar.web/aspects/LoggingAspect</p>\n\n<pre><code>    @Aspect\n    @Order(1)\n    public class LoggingAspect {\n        private static final LogHandler LOG = LogHandler.getLogger(LoggingAspect.class);\n\n        @Pointcut(\"execution(* my.foobar.*.*.*(..))\")\n        private void completePackage(){}\n\n        @Pointcut(\"execution(* my.foobar.*.*.get*(..))\")\n        private void getterMethods(){}\n\n        @Pointcut(\"execution(* my.foobar.*.*.set*(..))\")\n        private void setterMethods(){}\n\n        @Pointcut(\"completePackage() &amp;&amp; !(getterMethods() || setterMethods())\")\n        private void allMethodsExceptGetterAndSetter(){}\n\n        @Around(\"completePackage()\")\n        private Object aroundMethod(ProceedingJoinPoint theProceedingJointPoint) throws Throwable{\n            LOG.info(\"around method\");\n            String method = theProceedingJointPoint.getSignature().getName();\n            Object[] arguments = theProceedingJointPoint.getArgs();\n\n            LOG.info(\"method call: {0}\", method);                \n            for(Object arg: arguments){\n                LOG.info(\"argument[{0}]\", arg);\n            }\n\n            Object result = theProceedingJointPoint.proceed();\n            return result;\n        }\n\n    }\n</code></pre>\n\n<p>I have also added a class to my application-web project</p>\n\n<pre><code>@Configurable\n@EnableAspectJAutoProxy\n@ComponentScan(\"my.foobar\")\npublic class ApplicationWebAppConfig {\n\n}\n</code></pre>\n\n<p>What I expect is, that each method which is called will be logged but thats not happen.</p>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1610178854,"post_id":65639913,"comment_id":116054919,"body_markdown":"the problem is not the exception not being catched, but `aroundAdviceDemo` not even being called at all (as it should show the first system.out you declared)","body":"the problem is not the exception not being catched, but <code>aroundAdviceDemo</code> not even being called at all (as it should show the first system.out you declared)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1610417118,"post_id":65639913,"comment_id":116120603,"body_markdown":"Welcome to SO. It would be nice to show some respect towards the people who are trying to help you by replying to them. Your feedback would help us to finally resolve your issue, if for some reason none of the answers posted so far help you answer your question. If however one of them solves your problem, please be encouraged to mark it as accepted by clicking the grey check mark, making it green. &#128578;","body":"Welcome to SO. It would be nice to show some respect towards the people who are trying to help you by replying to them. Your feedback would help us to finally resolve your issue, if for some reason none of the answers posted so far help you answer your question. If however one of them solves your problem, please be encouraged to mark it as accepted by clicking the grey check mark, making it green. 🙂"}],"answers":[{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610188191,"creation_date":1610178411,"answer_id":65640460,"question_id":65639913,"body_markdown":"Add `@EnableAspectJAutoProxy` to your spring config class (add to `MyAroundAspect.java` is OK).\r\n\r\nSpring Boot will automatically open this function with `@SpringBootApplication` as described [here](https://stackoverflow.com/a/48626789/9304616), so in normal spring boot application, it&#39;s not mandatory to mark this annotation manually. But in your case, you are starting the application manually, so it just not works.","title":"Not able to run @Advice catch Exception block","body":"<p>Add <code>@EnableAspectJAutoProxy</code> to your spring config class (add to <code>MyAroundAspect.java</code> is OK).</p>\n<p>Spring Boot will automatically open this function with <code>@SpringBootApplication</code> as described <a href=\"https://stackoverflow.com/a/48626789/9304616\">here</a>, so in normal spring boot application, it's not mandatory to mark this annotation manually. But in your case, you are starting the application manually, so it just not works.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610258018,"creation_date":1610184921,"answer_id":65641162,"question_id":65639913,"body_markdown":"Don&#39;t make your normal application class an `@Aspect`. Firstly, it does not make any sense. Secondly, Spring AOP aspects cannot advise each other, so you are effectively stopping yourself from achieving your goal, shooting yourself in the foot.\r\n\r\n---\r\n\r\n**Update:** I was talking about this:\r\n\r\n```java\r\n//@Aspect &lt;-- You got to get rid of this, the serice is not an aspect!\r\n@Component\r\npublic class TrafficFortuneService {\r\n  // (...)\r\n}\r\n```\r\n","title":"Not able to run @Advice catch Exception block","body":"<p>Don't make your normal application class an <code>@Aspect</code>. Firstly, it does not make any sense. Secondly, Spring AOP aspects cannot advise each other, so you are effectively stopping yourself from achieving your goal, shooting yourself in the foot.</p>\n<hr />\n<p><strong>Update:</strong> I was talking about this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@Aspect &lt;-- You got to get rid of this, the serice is not an aspect!\n@Component\npublic class TrafficFortuneService {\n  // (...)\n}\n</code></pre>\n"}],"owner":{"account_id":20405832,"reputation":1,"user_id":14970415,"display_name":"NotAProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678617854,"creation_date":1610172951,"question_id":65639913,"body_markdown":"This is my Aop Aspect that I have created to run after my main app throws an error.\r\n\r\n\r\n```java\r\npackage com.demo.aspects;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Aspect\r\npublic class MyAroundAspect {\r\n\r\n  @Around(&quot;execution(* com.demo.aop.*.getFortune(..))&quot;)\r\n  public Object aroundAdviceDemo(ProceedingJoinPoint thePJP) throws Throwable\r\n  {\r\n    System.out.println(&quot;run this before the fortune method&quot;);\r\n\r\n    Object result = null;\r\n    try {\r\n      result = thePJP.proceed();\r\n    }\r\n    catch(Exception exc)\r\n    {   //this should run but is not running\r\n      System.out.println(&quot;Catching the &quot; + exc.getMessage());\r\n    }\r\n\r\n\r\n    System.out.println(&quot;Run this after the fortune service&quot;);\r\n\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\n\r\nThis is my trafficFortuneservuce class which has a method that is throwing an error and I am trying to catch that error using my @Around advice.\r\n\r\n```java\r\npackage com.demo.aop;\r\n\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class TrafficFortuneService {\r\n\r\n  public String getFortune(boolean tripwire)\r\n  {\r\n    if(tripwire)\r\n    {    //this is running but it should go to the advice catch block\r\n      throw new RuntimeException(&quot;Inside run time exception in the fortune service&quot;);\r\n    }\r\n\r\n    return &quot;Today is your lucky day&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThis is my main method class where I am running my app.\r\n\r\n```java\r\npackage com.demo.aop.app;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\nimport com.demo.aop.Account;\r\nimport com.demo.aop.AccountDAO;\r\nimport com.demo.aop.AppConfig;\r\nimport com.demo.aop.MemberDAO;\r\nimport com.demo.aop.TrafficFortuneService;\r\n\r\npublic class AroundDemoApp {\r\n\r\n  public static void main(String[] args) {\r\n    //Getting context object\r\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\r\n    TrafficFortuneService theService = context.getBean(&quot;trafficFortuneService&quot;, TrafficFortuneService.class);\r\n    boolean tripwire = true;\r\n    String temp = \ttheService.getFortune(tripwire);\r\n\r\n    System.out.println(temp);\r\n\r\n    context.close();\r\n  }\r\n}\r\n```\r\n\r\nHere is the output, which is printing the message that I have declared in the `trafficfortuneservice` class\r\n\r\n```text\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Inside run time exception in the fortune service\r\n    at com.demo.aop.TrafficFortuneService.getFortune(TrafficFortuneService.java:15)\r\n    at com.demo.aop.app.AroundDemoApp.main(AroundDemoApp.java:20)\r\n```\r\n\r\n\r\n","title":"Not able to run @Advice catch Exception block","body":"<p>This is my Aop Aspect that I have created to run after my main app throws an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aspects;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAroundAspect {\n\n  @Around(&quot;execution(* com.demo.aop.*.getFortune(..))&quot;)\n  public Object aroundAdviceDemo(ProceedingJoinPoint thePJP) throws Throwable\n  {\n    System.out.println(&quot;run this before the fortune method&quot;);\n\n    Object result = null;\n    try {\n      result = thePJP.proceed();\n    }\n    catch(Exception exc)\n    {   //this should run but is not running\n      System.out.println(&quot;Catching the &quot; + exc.getMessage());\n    }\n\n\n    System.out.println(&quot;Run this after the fortune service&quot;);\n\n    return result;\n  }\n}\n</code></pre>\n<p>This is my trafficFortuneservuce class which has a method that is throwing an error and I am trying to catch that error using my @Around advice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aop;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class TrafficFortuneService {\n\n  public String getFortune(boolean tripwire)\n  {\n    if(tripwire)\n    {    //this is running but it should go to the advice catch block\n      throw new RuntimeException(&quot;Inside run time exception in the fortune service&quot;);\n    }\n\n    return &quot;Today is your lucky day&quot;;\n  }\n}\n</code></pre>\n<p>This is my main method class where I am running my app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.aop.app;\n\nimport java.util.List;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\nimport com.demo.aop.Account;\nimport com.demo.aop.AccountDAO;\nimport com.demo.aop.AppConfig;\nimport com.demo.aop.MemberDAO;\nimport com.demo.aop.TrafficFortuneService;\n\npublic class AroundDemoApp {\n\n  public static void main(String[] args) {\n    //Getting context object\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n    TrafficFortuneService theService = context.getBean(&quot;trafficFortuneService&quot;, TrafficFortuneService.class);\n    boolean tripwire = true;\n    String temp =   theService.getFortune(tripwire);\n\n    System.out.println(temp);\n\n    context.close();\n  }\n}\n</code></pre>\n<p>Here is the output, which is printing the message that I have declared in the <code>trafficfortuneservice</code> class</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Inside run time exception in the fortune service\n    at com.demo.aop.TrafficFortuneService.getFortune(TrafficFortuneService.java:15)\n    at com.demo.aop.app.AroundDemoApp.main(AroundDemoApp.java:20)\n</code></pre>\n"},{"tags":["java","intellij-idea","search","replace"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678616873,"creation_date":1678435326,"answer_id":75693549,"question_id":75675352,"body_markdown":"This appears to be a bug, I have filed [an issue](https://youtrack.jetbrains.com/issue/IDEA-315080/Comma-between-Java-type-parameter-is-lost-on-replacement)\r\n\r\n\r\nYou can work around the bug by using a replacement variable in the replacement template. The script on the replacement variable can calculate the correct type parameter from the complete type. The script looks like this: \r\n```\r\ndef x = Type.getInnermostComponentReferenceElement().getParameterList().getText()\r\nx.substring(1, x.length() - 1)\r\n```\r\nIt takes the type and retrieves its type parameter list converts it to text. Then the `&lt;` and `&gt;` are chopped off.\r\n\r\nHere is the complete configuration:\r\n```\r\n&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; search_injected=&quot;false&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;false&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument2$&amp;gt;($Params$);&amp;#10;&quot;&gt;\r\n  &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n  &lt;variableDefinition name=&quot;GenericArgument2&quot; script=&quot;&amp;quot;def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()&amp;#10;x.substring(1, x.length() - 1)&amp;quot;&quot; /&gt;\r\n&lt;/replaceConfiguration&gt;\r\n```","title":"How to use structural search and replace in IntelliJ to convert Java generic declarations to var declarations in local scope only?","body":"<p>This appears to be a bug, I have filed <a href=\"https://youtrack.jetbrains.com/issue/IDEA-315080/Comma-between-Java-type-parameter-is-lost-on-replacement\" rel=\"nofollow noreferrer\">an issue</a></p>\n<p>You can work around the bug by using a replacement variable in the replacement template. The script on the replacement variable can calculate the correct type parameter from the complete type. The script looks like this:</p>\n<pre><code>def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()\nx.substring(1, x.length() - 1)\n</code></pre>\n<p>It takes the type and retrieves its type parameter list converts it to text. Then the <code>&lt;</code> and <code>&gt;</code> are chopped off.</p>\n<p>Here is the complete configuration:</p>\n<pre><code>&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; search_injected=&quot;false&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;false&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument2$&amp;gt;($Params$);&amp;#10;&quot;&gt;\n  &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n  &lt;variableDefinition name=&quot;GenericArgument2&quot; script=&quot;&amp;quot;def x = Type.getInnermostComponentReferenceElement().getParameterList().getText()&amp;#10;x.substring(1, x.length() - 1)&amp;quot;&quot; /&gt;\n&lt;/replaceConfiguration&gt;\n</code></pre>\n"}],"owner":{"account_id":9339235,"reputation":53,"user_id":6932574,"display_name":"Fr&#233;d&#233;ric Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678616873,"creation_date":1678291228,"question_id":75675352,"body_markdown":"I am trying to create an inspection using a structural search and replace template in IntelliJ that will convert generic declarations to var declarations in local scope only. For example, I want to convert code like this:\r\n\r\n``` java\r\nMap&lt;String, List&lt;String&gt;&gt; myVar = new ConcurrentHashMap&lt;&gt;(10, 2);\r\n```\r\n\r\nto: \r\n``` java\r\nvar myVar = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;(10, 2);\r\n```\r\n\r\nI&#39;ve created a search template that matches the generic declaration, and a replacement template that replaces it with the var declaration. I&#39;ve also added a script constraint to limit the search and replace to local scope only:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSearch: `$Type$&lt;$GenericArgument$&gt; $Var$ = new $Ctor$&lt;&gt;($Params$);`\r\n\r\nreplace:`var $Var$ = new $Ctor$&lt;$GenericArgument$&gt;($Params$);`\r\n\r\nFull replaceConfiguration:\r\n``` xml\r\n&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; useStaticImport=&quot;true&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument$&amp;gt;($Params$);&amp;#10;&quot;&gt;\r\n   &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n   &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\r\n&lt;/replaceConfiguration&gt;\r\n```\r\n\r\nHowever, when I run the structural search and replace, the resulting code is missing the comma between the generic arguments:\r\n\r\n``` java\r\nvar myVar = new ConcurrentHashMap&lt;String List&lt;String&gt;&gt;(10, 2);\r\n```\r\n\r\nHow can I modify my search and replace templates to include the comma between the generic arguments?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oNMJu.png","title":"How to use structural search and replace in IntelliJ to convert Java generic declarations to var declarations in local scope only?","body":"<p>I am trying to create an inspection using a structural search and replace template in IntelliJ that will convert generic declarations to var declarations in local scope only. For example, I want to convert code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; myVar = new ConcurrentHashMap&lt;&gt;(10, 2);\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var myVar = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;(10, 2);\n</code></pre>\n<p>I've created a search template that matches the generic declaration, and a replacement template that replaces it with the var declaration. I've also added a script constraint to limit the search and replace to local scope only:</p>\n<p><a href=\"https://i.stack.imgur.com/oNMJu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNMJu.png\" alt=\"enter image description here\" /></a></p>\n<p>Search: <code>$Type$&lt;$GenericArgument$&gt; $Var$ = new $Ctor$&lt;&gt;($Params$);</code></p>\n<p>replace:<code>var $Var$ = new $Ctor$&lt;$GenericArgument$&gt;($Params$);</code></p>\n<p>Full replaceConfiguration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;replaceConfiguration name=&quot;replace with var&quot; text=&quot;$Type$&amp;lt;$GenericArgument$&amp;gt; $Var$ = new $Ctor$&amp;lt;&amp;gt;($Params$);&quot; recursive=&quot;false&quot; caseInsensitive=&quot;true&quot; type=&quot;JAVA&quot; pattern_context=&quot;default&quot; reformatAccordingToStyle=&quot;true&quot; shortenFQN=&quot;true&quot; useStaticImport=&quot;true&quot; replacement=&quot;var $Var$ = new $Ctor$&amp;lt;$GenericArgument$&amp;gt;($Params$);&amp;#10;&quot;&gt;\n   &lt;constraint name=&quot;__context__&quot; script=&quot;&amp;quot;__context__.getParent() instanceof com.intellij.psi.PsiCodeBlock&amp;quot;&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Type&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;GenericArgument&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Var&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Params&quot; minCount=&quot;0&quot; maxCount=&quot;2147483647&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n   &lt;constraint name=&quot;Ctor&quot; within=&quot;&quot; contains=&quot;&quot; /&gt;\n&lt;/replaceConfiguration&gt;\n</code></pre>\n<p>However, when I run the structural search and replace, the resulting code is missing the comma between the generic arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var myVar = new ConcurrentHashMap&lt;String List&lt;String&gt;&gt;(10, 2);\n</code></pre>\n<p>How can I modify my search and replace templates to include the comma between the generic arguments?</p>\n"},{"tags":["java","spring","reflection","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604292710,"post_id":64604586,"comment_id":114293160,"body_markdown":"Instead of making things complicated just for the sake of being able to freely naming your method and then annotating it by a known annotation, why don&#39;t you just make each class with a validator method implement a specific interface with a given validator method name, implement that method and just intercept method with arguments implementing that interface, then call the method right on the object? If the method is in a known position of the argument list such as first, second, third from left or right, you can even directly bind the argument via `args()`.","body":"Instead of making things complicated just for the sake of being able to freely naming your method and then annotating it by a known annotation, why don&#39;t you just make each class with a validator method implement a specific interface with a given validator method name, implement that method and just intercept method with arguments implementing that interface, then call the method right on the object? If the method is in a known position of the argument list such as first, second, third from left or right, you can even directly bind the argument via <code>args()</code>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604292896,"post_id":64604586,"comment_id":114293202,"body_markdown":"Then you do not need any reflection for method calls, no special libraries or Spring `AnnotationUtils` etc. Just let me know if you are interested in this approach (please understand if first, though). Then I can write a corresponding answer. Like R.G, I could suggest a way to do directly what you asked for, but I believe this is an instance of the [XY problem](https://meta.stackexchange.com/a/66378/309898). You are asking with a specific technical solution in mind instead of focusing on what you want to achieve.","body":"Then you do not need any reflection for method calls, no special libraries or Spring <code>AnnotationUtils</code> etc. Just let me know if you are interested in this approach (please understand if first, though). Then I can write a corresponding answer. Like R.G, I could suggest a way to do directly what you asked for, but I believe this is an instance of the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. You are asking with a specific technical solution in mind instead of focusing on what you want to achieve."},{"owner":{"account_id":10160262,"reputation":604,"user_id":7503961,"display_name":"Ashish Sharma"},"score":0,"creation_date":1604431684,"post_id":64604586,"comment_id":114344625,"body_markdown":"If u have psuedo code handy with you then I want to look into it. I don&#39;t know how exactly that work. My purpose is to perform bean validation using inbuilt hibernate annotations and also apply my custom logic which is based on path-variable. Issue which I m trying to solve here is to first perform normal validation and then run my custom validation rule (path variable based) and then merge both set and throw error if present.","body":"If u have psuedo code handy with you then I want to look into it. I don&#39;t know how exactly that work. My purpose is to perform bean validation using inbuilt hibernate annotations and also apply my custom logic which is based on path-variable. Issue which I m trying to solve here is to first perform normal validation and then run my custom validation rule (path variable based) and then merge both set and throw error if present."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1604451067,"post_id":64604586,"comment_id":114350749,"body_markdown":"I don&#39;t do pseudo code, I would rather prepare something that compiles and runs, but I would use AspectJ without Spring so as not to have to prepare a full Spring example. But the aspect syntax would be the same in Spring AOP, don&#39;t worry.","body":"I don&#39;t do pseudo code, I would rather prepare something that compiles and runs, but I would use AspectJ without Spring so as not to have to prepare a full Spring example. But the aspect syntax would be the same in Spring AOP, don&#39;t worry."}],"answers":[{"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604114008,"creation_date":1604114008,"answer_id":64618039,"question_id":64604586,"body_markdown":"[MethodUtils][1] (Apache Commons Lang) can be used to achieve the requirement.\r\n\r\nAPI used in the example code : [MethodUtils.getMethodsListWithAnnotation][2]\r\n\r\nAspect Code\r\n\r\n    @Component\r\n    @Aspect\r\n    public class CallAnnotatedMethodAspect {\r\n    \r\n    \t@Pointcut(&quot;within(rg.so.q64604586.service.*) &amp;&amp; @annotation(rg.so.q64604586.annotation.ValidateAction)&quot;)\r\n    \tpublic void validateActionMethod() {\r\n    \t};\r\n    \r\n    \t@Before(&quot;validateActionMethod() &amp;&amp; args(request,..)&quot;)\r\n    \tpublic void adviceMethod(InputRequest request)\r\n    \t\t\tthrows IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n    \t\tList&lt;Method&gt; methodList = MethodUtils.getMethodsListWithAnnotation(request.getClass(), MyValidator.class);\r\n    \t\tfor (Method m : methodList) {\r\n    \t\t\tm.invoke(request, new Object[] {});\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNote : The Retention Policy of `MyValidator` annotation is RUNTIME for this code to work. \r\n\r\nIf the `InputRequest` instance obtained in the aspect is a proxy , the code will need to be modified to get the actual class of the same.\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html#getMethodsListWithAnnotation-java.lang.Class-java.lang.Class-\r\n","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html\" rel=\"nofollow noreferrer\">MethodUtils</a> (Apache Commons Lang) can be used to achieve the requirement.</p>\n<p>API used in the example code : <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/MethodUtils.html#getMethodsListWithAnnotation-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\">MethodUtils.getMethodsListWithAnnotation</a></p>\n<p>Aspect Code</p>\n<pre><code>@Component\n@Aspect\npublic class CallAnnotatedMethodAspect {\n\n    @Pointcut(&quot;within(rg.so.q64604586.service.*) &amp;&amp; @annotation(rg.so.q64604586.annotation.ValidateAction)&quot;)\n    public void validateActionMethod() {\n    };\n\n    @Before(&quot;validateActionMethod() &amp;&amp; args(request,..)&quot;)\n    public void adviceMethod(InputRequest request)\n            throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n        List&lt;Method&gt; methodList = MethodUtils.getMethodsListWithAnnotation(request.getClass(), MyValidator.class);\n        for (Method m : methodList) {\n            m.invoke(request, new Object[] {});\n        }\n    }\n}\n</code></pre>\n<p>Note : The Retention Policy of <code>MyValidator</code> annotation is RUNTIME for this code to work.</p>\n<p>If the <code>InputRequest</code> instance obtained in the aspect is a proxy , the code will need to be modified to get the actual class of the same.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604714840,"creation_date":1604453601,"answer_id":64673144,"question_id":64604586,"body_markdown":"Here is my stand-alone AspectJ [MCVE](https://stackoverflow.com/help/mcve). I just imported some Spring classes. The syntax would be the same in Spring AOP.\r\n\r\n**Helper classes:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Result {\r\n  public Result(int i) {}\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.METHOD;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target(METHOD)\r\npublic @interface ValidateAction {}\r\n```\r\n\r\n**Custom validator interface (_not_ annotation):**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic interface MyValidator {\r\n  boolean validate();\r\n}\r\n```\r\n\r\n**Class implementing custom validator interface:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class InputRequest implements MyValidator {\r\n  private Integer a;\r\n  private Integer b;\r\n\r\n  public InputRequest(Integer a, Integer b) {\r\n    this.a = a;\r\n    this.b = b;\r\n  }\r\n\r\n  @Override\r\n  public boolean validate() {\r\n    System.out.println(&quot;Performing custom validation&quot;);\r\n    return false;\r\n  }\r\n\r\n  public Integer getA() {\r\n    return a;\r\n  }\r\n\r\n  public Integer getB() {\r\n    return b;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;InputRequest(a=&quot; + a + &quot;, b=&quot; + b + &quot;)&quot;;\r\n  }\r\n}\r\n```\r\n\r\nSee? Instead of annotating the validator method, you just override the interface method. It is just as simple as before, but more type-safe and feels more &quot;standard-ish&quot;. It will also be much easier to handle by AOP, as you are going to find out below.\r\n\r\n**Controller:**\r\n\r\nThe controller looks just the same as before. You still have the method annotated with `@ValidateAction` and taking `InputRequest` as its first parameter.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\npublic class MyController {\r\n  @PostMapping(&quot;/sum/{platform}&quot;)\r\n  @ValidateAction\r\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\r\n    System.out.println(&quot;input: &quot; + input + &quot;, platform: &quot; + platform);\r\n    return new Result(input.getA() + input.getB());\r\n  }\r\n}\r\n```\r\n\r\n**Sample driver application:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    new MyController().sum(new InputRequest(11, 22), &quot;foo&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Aspect:**\r\n\r\nThe aspect is super simple now, like I said in my comment to your question. The pointcut checks for methods which\r\n  * are annotated with `@ValidateAction` and\r\n  * have a first parameter implementing `MyValidator`.\r\n\r\nThen it binds the `MyValidator` parameter to an advice method argument by `args()`.\r\n\r\nPlease note that you can omit the trailing `&amp;&amp; execution(* *(..))` in Spring AOP because it only supports method `execution()` joinpoints, while in AspectJ there are also `call()` joinpoints which here would lead to double validation and log output.\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport de.scrum_master.app.MyValidator;\r\n\r\n@Aspect\r\n@Component\r\npublic class MyValidatorAspect {\r\n  @Before(&quot;@annotation(de.scrum_master.app.ValidateAction) &amp;&amp; execution(* *(..)) &amp;&amp; args(validator, ..)&quot;)\r\n  public void validateAspect(JoinPoint joinPoint, MyValidator validator) throws Throwable {\r\n    System.out.println(joinPoint);\r\n    validator.validate();\r\n  }\r\n}\r\n```\r\n\r\n**Console log:**\r\n\r\n```none\r\nexecution(Result de.scrum_master.app.MyController.sum(InputRequest, String))\r\nPerforming custom validation\r\ninput: InputRequest(a=11, b=22), platform: foo\r\n```\r\n\r\n---\r\n\r\n**Update answering follow-up questions:** Please read some documentation. The Spring manual is a good source.\r\n\r\n&gt; 1) what does it mean `&amp;&amp; args(validator, ..)`?\r\n\r\nIt is called argument binding. This specific pointcut designator means: Match all target methods where the first argument matches the type of `validator` in the advice method arguments list and bind the value to that argument. As you see, the argument is declared as `MyValidator validator`. The `, ..` means that any subsequent target method arguments (if any) do not matter. For more information see [this manual paragraph](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing).\r\n\r\n&gt; 2) What would happen if more than one class implementing `MyValidator` interface . I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?\r\n\r\nFW meaning what? Maybe framework? Anyway, I do not see the problem. Why would the framework have to figure out which implementation there is? That is the beauty of OOP and virtual methods: You do not need to figure out anything because each implementation has a `boolean validate()` which then gets called. It is simple, type-safe, hassle-free. Your solution is neither of these. This approach just works. Instead of asking, why don&#39;t you just try?","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p>Here is my stand-alone AspectJ <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. I just imported some Spring classes. The syntax would be the same in Spring AOP.</p>\n<p><strong>Helper classes:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Result {\n  public Result(int i) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.METHOD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target(METHOD)\npublic @interface ValidateAction {}\n</code></pre>\n<p><strong>Custom validator interface (<em>not</em> annotation):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic interface MyValidator {\n  boolean validate();\n}\n</code></pre>\n<p><strong>Class implementing custom validator interface:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class InputRequest implements MyValidator {\n  private Integer a;\n  private Integer b;\n\n  public InputRequest(Integer a, Integer b) {\n    this.a = a;\n    this.b = b;\n  }\n\n  @Override\n  public boolean validate() {\n    System.out.println(&quot;Performing custom validation&quot;);\n    return false;\n  }\n\n  public Integer getA() {\n    return a;\n  }\n\n  public Integer getB() {\n    return b;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;InputRequest(a=&quot; + a + &quot;, b=&quot; + b + &quot;)&quot;;\n  }\n}\n</code></pre>\n<p>See? Instead of annotating the validator method, you just override the interface method. It is just as simple as before, but more type-safe and feels more &quot;standard-ish&quot;. It will also be much easier to handle by AOP, as you are going to find out below.</p>\n<p><strong>Controller:</strong></p>\n<p>The controller looks just the same as before. You still have the method annotated with <code>@ValidateAction</code> and taking <code>InputRequest</code> as its first parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\npublic class MyController {\n  @PostMapping(&quot;/sum/{platform}&quot;)\n  @ValidateAction\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\n    System.out.println(&quot;input: &quot; + input + &quot;, platform: &quot; + platform);\n    return new Result(input.getA() + input.getB());\n  }\n}\n</code></pre>\n<p><strong>Sample driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    new MyController().sum(new InputRequest(11, 22), &quot;foo&quot;);\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<p>The aspect is super simple now, like I said in my comment to your question. The pointcut checks for methods which</p>\n<ul>\n<li>are annotated with <code>@ValidateAction</code> and</li>\n<li>have a first parameter implementing <code>MyValidator</code>.</li>\n</ul>\n<p>Then it binds the <code>MyValidator</code> parameter to an advice method argument by <code>args()</code>.</p>\n<p>Please note that you can omit the trailing <code>&amp;&amp; execution(* *(..))</code> in Spring AOP because it only supports method <code>execution()</code> joinpoints, while in AspectJ there are also <code>call()</code> joinpoints which here would lead to double validation and log output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.stereotype.Component;\n\nimport de.scrum_master.app.MyValidator;\n\n@Aspect\n@Component\npublic class MyValidatorAspect {\n  @Before(&quot;@annotation(de.scrum_master.app.ValidateAction) &amp;&amp; execution(* *(..)) &amp;&amp; args(validator, ..)&quot;)\n  public void validateAspect(JoinPoint joinPoint, MyValidator validator) throws Throwable {\n    System.out.println(joinPoint);\n    validator.validate();\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(Result de.scrum_master.app.MyController.sum(InputRequest, String))\nPerforming custom validation\ninput: InputRequest(a=11, b=22), platform: foo\n</code></pre>\n<hr />\n<p><strong>Update answering follow-up questions:</strong> Please read some documentation. The Spring manual is a good source.</p>\n<blockquote>\n<ol>\n<li>what does it mean <code>&amp;&amp; args(validator, ..)</code>?</li>\n</ol>\n</blockquote>\n<p>It is called argument binding. This specific pointcut designator means: Match all target methods where the first argument matches the type of <code>validator</code> in the advice method arguments list and bind the value to that argument. As you see, the argument is declared as <code>MyValidator validator</code>. The <code>, ..</code> means that any subsequent target method arguments (if any) do not matter. For more information see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing\" rel=\"nofollow noreferrer\">this manual paragraph</a>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>What would happen if more than one class implementing <code>MyValidator</code> interface . I mean how would FW figure out that which implementation has to passed while invoking current controller operation ?</li>\n</ol>\n</blockquote>\n<p>FW meaning what? Maybe framework? Anyway, I do not see the problem. Why would the framework have to figure out which implementation there is? That is the beauty of OOP and virtual methods: You do not need to figure out anything because each implementation has a <code>boolean validate()</code> which then gets called. It is simple, type-safe, hassle-free. Your solution is neither of these. This approach just works. Instead of asking, why don't you just try?</p>\n"}],"owner":{"account_id":10160262,"reputation":604,"user_id":7503961,"display_name":"Ashish Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64673144,"answer_count":2,"score":0,"last_activity_date":1678616784,"creation_date":1604044895,"question_id":64604586,"body_markdown":"Is there a way to directly get hold of a method(non-static)  annotated with given annotation present in a given object? I don&#39;t want to iterate over list of all methods and check if the given annotation present or not.\r\nIn below sample code, I have used dummy method(not exist) **getMethodAnnotatedWith()** . I need to replace this with actual method.\r\n\r\n```java\r\npublic class MyController {\r\n  @PostMapping(&quot;/sum/{platform}&quot;)\r\n  @ValidateAction\r\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\r\n    log.info(&quot;input: {}, platform: {}&quot;, input, platform);\r\n    return new Result(input.getA() + input.getB());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass InputRequest {\r\n  @NotNull\r\n  private Integer a;\r\n  @NotNull\r\n  private Integer b;\r\n\r\n  @MyValidator\r\n  public boolean customMyValidator() {\r\n    log.info(&quot;From customMyValidator-----------&quot;);\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class AspectClass {\r\n  @Before(&quot; @annotation(com.example.ValidateAction)&quot;)\r\n  public void validateAspect(JoinPoint joinPoint) throws Throwable {\r\n    log.info(&quot; MethodName : &quot; + joinPoint.getSignature().getName());\r\n    Object[] args = joinPoint.getArgs();\r\n    log.info(&quot;args[0]==&gt;&quot;+args[0] +&quot;, args[1]==&gt;&quot;+args[1]);\r\n\r\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n    Method method = signature.getMethod();\r\n    Parameter[] parameters = method.getParameters();\r\n    Method customMyValidator = parameters[0].getType().getMethodAnnotatedWith(MyValidator.class);  // InputRequest class type which has a method annotated with @MyValidator\r\n\r\n    customMyValidator.invoke(args[0]);\r\n  }\r\n}\r\n```\r\n","title":"How to get Method annotated with given annotation in springboot / java app","body":"<p>Is there a way to directly get hold of a method(non-static)  annotated with given annotation present in a given object? I don't want to iterate over list of all methods and check if the given annotation present or not.\nIn below sample code, I have used dummy method(not exist) <strong>getMethodAnnotatedWith()</strong> . I need to replace this with actual method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyController {\n  @PostMapping(&quot;/sum/{platform}&quot;)\n  @ValidateAction\n  public Result sum(@RequestBody InputRequest input, @PathVariable(&quot;platform&quot;) String platform) {\n    log.info(&quot;input: {}, platform: {}&quot;, input, platform);\n    return new Result(input.getA() + input.getB());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class InputRequest {\n  @NotNull\n  private Integer a;\n  @NotNull\n  private Integer b;\n\n  @MyValidator\n  public boolean customMyValidator() {\n    log.info(&quot;From customMyValidator-----------&quot;);\n    return false;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class AspectClass {\n  @Before(&quot; @annotation(com.example.ValidateAction)&quot;)\n  public void validateAspect(JoinPoint joinPoint) throws Throwable {\n    log.info(&quot; MethodName : &quot; + joinPoint.getSignature().getName());\n    Object[] args = joinPoint.getArgs();\n    log.info(&quot;args[0]==&gt;&quot;+args[0] +&quot;, args[1]==&gt;&quot;+args[1]);\n\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n    Method method = signature.getMethod();\n    Parameter[] parameters = method.getParameters();\n    Method customMyValidator = parameters[0].getType().getMethodAnnotatedWith(MyValidator.class);  // InputRequest class type which has a method annotated with @MyValidator\n\n    customMyValidator.invoke(args[0]);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","aspectj","spring-aop"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1565592561,"post_id":57456474,"comment_id":101387237,"body_markdown":"You need either to provide method for after/before or at least wildcard it.","body":"You need either to provide method for after/before or at least wildcard it."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1565593761,"post_id":57456474,"comment_id":101387630,"body_markdown":"Your sample code is incomplete. Please be advised to learn about [MCVE](https://stackoverflow.com/help/mcve) and write/edit your questions accordingly. Otherwise I have to make educated guesses like I did in my answer, which is suboptimal because maybe it helps you, maybe not.","body":"Your sample code is incomplete. Please be advised to learn about <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and write/edit your questions accordingly. Otherwise I have to make educated guesses like I did in my answer, which is suboptimal because maybe it helps you, maybe not."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565593670,"creation_date":1565593670,"answer_id":57456924,"question_id":57456474,"body_markdown":"Some things come to mind:\r\n\r\n* Your annotation needs runtime retention, but I do not see `@Retention(RetentionPolicy.RUNTIME)` in your code.\r\n* Your aspect should be a `@Component`, but I do not see the corresponding annotation either.\r\n* The target class containing method `public Response get(..)` also has to be a Spring bean/component. Because you only show incoherent snippets instead of full class definitions, I have no idea which package that class resides in, if it is a Spring component and whether or not it is picked up by component scan.","title":"Spring AOP aspect does not intercept annotated method","body":"<p>Some things come to mind:</p>\n\n<ul>\n<li>Your annotation needs runtime retention, but I do not see <code>@Retention(RetentionPolicy.RUNTIME)</code> in your code.</li>\n<li>Your aspect should be a <code>@Component</code>, but I do not see the corresponding annotation either.</li>\n<li>The target class containing method <code>public Response get(..)</code> also has to be a Spring bean/component. Because you only show incoherent snippets instead of full class definitions, I have no idea which package that class resides in, if it is a Spring component and whether or not it is picked up by component scan.</li>\n</ul>\n"}],"owner":{"account_id":15831134,"reputation":31,"user_id":11422413,"display_name":"徐松峰"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678616740,"creation_date":1565590938,"question_id":57456474,"body_markdown":"i want to use the `@before` ,`@after` and `@AfterThrowing` in my function.\r\nIf other function use the annotation like `@MyAspectTest`, it should run `beforeAction()`, `afterAction()` and `afterExcept()` at related time.\r\nBut, it seems doesn&#39;t work.\r\n\r\ni have already input the dependency and modified the beans.\r\n\r\n```java\r\npackage com.service.metrics;\r\n\r\nimport com.mgr.CMPMgr;\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.After;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\nimport org.aspectj.lang.annotation.AfterThrowing;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\n@Aspect\r\npublic class CMPAspect {\r\n    @Before(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void beforeAction(JoinPoint joinPoint) throws ClassNotFoundException {\r\n      testcode\r\n    }\r\n\r\n    @After(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void afterAction(){\r\n      testcode\r\n    }\r\n\r\n    @AfterThrowing(value=&quot;@annotation(com.mgr.CMPMgr)&quot;)\r\n    public void afterExcept(){\r\n      testcode\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.mgr;\r\n\r\npublic @interface CMPMgr {\r\n    String name() default &quot;&quot;;\r\n    long startTime = System.currentTimeMillis();\r\n}\r\n```\r\n\r\n```java\r\n    @CMPMgr(name = &quot;vipGet&quot;)\r\n    @GET\r\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\r\n    @Path(&quot;/{lbId}&quot;)\r\n    public Response get(@PathParam(&quot;lbId&quot;)String lbId,\r\n                        @HeaderParam(&quot;Authorization&quot;) String basicAuthData,\r\n                        @HeaderParam(&quot;UserID&quot;) String behalf) {\r\n```\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t   xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\t   xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\t   xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.0.xsd\r\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd\r\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\t&lt;aop:aspectj-autoproxy /&gt;\r\n\t&lt;!-- enabling annotation driven configuration / --&gt;\r\n\t&lt;context:annotation-config /&gt;\r\n\t&lt;context:component-scan /&gt;\r\n\r\n\t&lt;!-- responsible for registering the necessary Spring components that power\r\n\t\tannotation-driven transaction management; such as when @Transactional methods\r\n\t\tare invoked --&gt;\r\n\t&lt;tx:annotation-driven /&gt;\r\n```\r\n\r\nit should get into the Aspect functions. But i don&#39;t find it work in debug mode. Why?","title":"Spring AOP aspect does not intercept annotated method","body":"<p>i want to use the <code>@before</code> ,<code>@after</code> and <code>@AfterThrowing</code> in my function.\nIf other function use the annotation like <code>@MyAspectTest</code>, it should run <code>beforeAction()</code>, <code>afterAction()</code> and <code>afterExcept()</code> at related time.\nBut, it seems doesn't work.</p>\n\n<p>i have already input the dependency and modified the beans.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.service.metrics;\n\nimport com.mgr.CMPMgr;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport org.aspectj.lang.annotation.AfterThrowing;\n\nimport java.lang.reflect.Method;\n\n@Aspect\npublic class CMPAspect {\n    @Before(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void beforeAction(JoinPoint joinPoint) throws ClassNotFoundException {\n      testcode\n    }\n\n    @After(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void afterAction(){\n      testcode\n    }\n\n    @AfterThrowing(value=\"@annotation(com.mgr.CMPMgr)\")\n    public void afterExcept(){\n      testcode\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.mgr;\n\npublic @interface CMPMgr {\n    String name() default \"\";\n    long startTime = System.currentTimeMillis();\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @CMPMgr(name = \"vipGet\")\n    @GET\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\n    @Path(\"/{lbId}\")\n    public Response get(@PathParam(\"lbId\")String lbId,\n                        @HeaderParam(\"Authorization\") String basicAuthData,\n                        @HeaderParam(\"UserID\") String behalf) {\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:task=\"http://www.springframework.org/schema/task\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.0.xsd\nhttp://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.2.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n    &lt;aop:aspectj-autoproxy /&gt;\n    &lt;!-- enabling annotation driven configuration / --&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan /&gt;\n\n    &lt;!-- responsible for registering the necessary Spring components that power\n        annotation-driven transaction management; such as when @Transactional methods\n        are invoked --&gt;\n    &lt;tx:annotation-driven /&gt;\n</code></pre>\n\n<p>it should get into the Aspect functions. But i don't find it work in debug mode. Why?</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":6868812,"reputation":986,"user_id":5280105,"display_name":"JC Carrillo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587513869,"creation_date":1587513869,"answer_id":61355208,"question_id":61350828,"body_markdown":"You may want to look into [AnnotationUtils][1]\r\n\r\n```java\r\nMethod method = methodSignature.getMethod();\r\nGreetingsMeta greetingsMeta = AnnotationUtils.findAnnotation(method, GreetingsMeta.class);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<p>You may want to look into <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"nofollow noreferrer\">AnnotationUtils</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Method method = methodSignature.getMethod();\nGreetingsMeta greetingsMeta = AnnotationUtils.findAnnotation(method, GreetingsMeta.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587617885,"creation_date":1587600937,"answer_id":61377232,"question_id":61350828,"body_markdown":"&gt;How do I prevent Spring Boot AOP from removing type annotations?\r\n\r\nSpring Boot does not remove anything, but for Spring AOP is uses dynamic proxies generated during runtime, i.e. subclasses or interface implementations with event hooks (joinpoints) for aspect advice code wired in via pointcuts. By default, annotations are not inherited, so this is just a JVM feature.\r\n\r\nThere is one exception for subclasses inheriting annotations from parent classes: You can add the meta annotation [`@Inherited`](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html) to your own annotation class `GreetingsMeta`. The effect will be that if you annotate any class with it, all subclasses (also dynamic proxies created by Spring AOP) will inherit the annotation and your original code should run as expected.\r\n\r\nSo in this case there is no need to use `AnnotationUtils` as suggested by _JC Carrillo_. His approach works too, of course. It is just more complicated because `AnnotationUtils` uses a lot of reflection magic and lots of helper classes internally in order to compute results. Thus, I would only use `AnnotationUtils` in cases where you don&#39;t directly annotate a class but e.g. methods or interfaces because `@Inherited` has no effect on them as documented. Or if you rely on a hierarchy of Spring (or own) meta annotations (annotations on annotations) and you need to get information from them all merged into one, `AnnotationUtils` or `MergedAnnotations` are appropriate.","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<blockquote>\n  <p>How do I prevent Spring Boot AOP from removing type annotations?</p>\n</blockquote>\n\n<p>Spring Boot does not remove anything, but for Spring AOP is uses dynamic proxies generated during runtime, i.e. subclasses or interface implementations with event hooks (joinpoints) for aspect advice code wired in via pointcuts. By default, annotations are not inherited, so this is just a JVM feature.</p>\n\n<p>There is one exception for subclasses inheriting annotations from parent classes: You can add the meta annotation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\"><code>@Inherited</code></a> to your own annotation class <code>GreetingsMeta</code>. The effect will be that if you annotate any class with it, all subclasses (also dynamic proxies created by Spring AOP) will inherit the annotation and your original code should run as expected.</p>\n\n<p>So in this case there is no need to use <code>AnnotationUtils</code> as suggested by <em>JC Carrillo</em>. His approach works too, of course. It is just more complicated because <code>AnnotationUtils</code> uses a lot of reflection magic and lots of helper classes internally in order to compute results. Thus, I would only use <code>AnnotationUtils</code> in cases where you don't directly annotate a class but e.g. methods or interfaces because <code>@Inherited</code> has no effect on them as documented. Or if you rely on a hierarchy of Spring (or own) meta annotations (annotations on annotations) and you need to get information from them all merged into one, <code>AnnotationUtils</code> or <code>MergedAnnotations</code> are appropriate.</p>\n"}],"owner":{"account_id":272812,"reputation":4707,"user_id":564092,"accept_rate":94,"display_name":"Darek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61355208,"answer_count":2,"score":1,"last_activity_date":1678616716,"creation_date":1587494637,"question_id":61350828,"body_markdown":"I am pretty new to Spring Boot and its flavor of AOP, but not new to programming in other languages and AOP frameworks. This one challenge I am not sure how to solve. \r\n\r\nI have a simple metadata decorator:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface GreetingsMeta {\r\n        public float version() default 0;\r\n        public String name() default &quot;&quot;;\r\n    }\r\n\r\nIt works just fine with dependency injection:\r\n\r\n\r\n    public GreetingController(List&lt;IGreetingService&gt; greetings) throws Exception {\r\n        this.greetings = new HashMap&lt;&gt;();\r\n        greetings.forEach(m -&gt; {\r\n            Class&lt;?&gt; clazz = m.getClass();\r\n            if (clazz.isAnnotationPresent(GreetingsMeta.class)) {\r\n                GreetingsMeta[] s = clazz.getAnnotationsByType(GreetingsMeta.class);\r\n                this.greetings.put(s[0].name(), m);\r\n            }\r\n        });\r\n    }\r\n\r\nUntil I applied a standard logging aspect:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class LoggingAspect {\r\n        @Around(&quot;execution(* com.firm..*(..)))&quot;)\r\n        public Object profileAllMethods(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();\r\n            String methodName = methodSignature.getName();\r\n            final StopWatch stopWatch = new StopWatch();\r\n            stopWatch.start();\r\n            Object result = joinPoint.proceed();\r\n            stopWatch.stop();\r\n            LogManager.getLogger(methodSignature.getDeclaringType())\r\n            .info(methodName + &quot; &quot; + (stopWatch.getTotalTimeSeconds() * 1000) + &quot; &#181;s&quot;);\r\n            return result;\r\n        }\r\n    }\r\n\r\nThen the list of annotationsData becomes empty, even the @Component annotation is gone. \r\n\r\nSample meta-decorated class:\r\n\r\n```\r\n@Component\r\n@GreetingsMeta(name = &quot;Default&quot;, version = 1.0f)\r\npublic class DefaultGreetingsService implements IGreetingService {\r\n\r\n\r\n    @Override\r\n    public String message(String content) {\r\n        return &quot;Hello, &quot; + content;\r\n    }\r\n} \r\n```\r\n\r\nHow should I troubleshoot?","title":"How do I prevent Spring Boot AOP from removing type annotations?","body":"<p>I am pretty new to Spring Boot and its flavor of AOP, but not new to programming in other languages and AOP frameworks. This one challenge I am not sure how to solve. </p>\n\n<p>I have a simple metadata decorator:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface GreetingsMeta {\n    public float version() default 0;\n    public String name() default \"\";\n}\n</code></pre>\n\n<p>It works just fine with dependency injection:</p>\n\n<pre><code>public GreetingController(List&lt;IGreetingService&gt; greetings) throws Exception {\n    this.greetings = new HashMap&lt;&gt;();\n    greetings.forEach(m -&gt; {\n        Class&lt;?&gt; clazz = m.getClass();\n        if (clazz.isAnnotationPresent(GreetingsMeta.class)) {\n            GreetingsMeta[] s = clazz.getAnnotationsByType(GreetingsMeta.class);\n            this.greetings.put(s[0].name(), m);\n        }\n    });\n}\n</code></pre>\n\n<p>Until I applied a standard logging aspect:</p>\n\n<pre><code>@Aspect\n@Component\npublic class LoggingAspect {\n    @Around(\"execution(* com.firm..*(..)))\")\n    public Object profileAllMethods(ProceedingJoinPoint joinPoint) throws Throwable {\n        MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();\n        String methodName = methodSignature.getName();\n        final StopWatch stopWatch = new StopWatch();\n        stopWatch.start();\n        Object result = joinPoint.proceed();\n        stopWatch.stop();\n        LogManager.getLogger(methodSignature.getDeclaringType())\n        .info(methodName + \" \" + (stopWatch.getTotalTimeSeconds() * 1000) + \" µs\");\n        return result;\n    }\n}\n</code></pre>\n\n<p>Then the list of annotationsData becomes empty, even the @Component annotation is gone. </p>\n\n<p>Sample meta-decorated class:</p>\n\n<pre><code>@Component\n@GreetingsMeta(name = \"Default\", version = 1.0f)\npublic class DefaultGreetingsService implements IGreetingService {\n\n\n    @Override\n    public String message(String content) {\n        return \"Hello, \" + content;\n    }\n} \n</code></pre>\n\n<p>How should I troubleshoot?</p>\n"},{"tags":["java","spring","intellij-idea","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488629621,"creation_date":1488584924,"answer_id":42590317,"question_id":42435691,"body_markdown":"IntelliJ IDEA is lacking such functionality, unfortunately. It also does not fully support the complete AspectJ syntax. There are many shortcomings in this otherwise so brilliant IDE which is my personal favourite compared to others. **But** whenever I want to do something in AspectJ I switch to Eclipse which is far superior in this regard, maybe because AspectJ is actually an Eclipse project and better maintained IDE-wise. There you have an Xref (cross-reference) view and views for which poinctut is used where in both directions, from aspect to application code and vice versa. See [my other answer](https://stackoverflow.com/a/32806971/1082681) for a few screenshots. **Update:** The last one shows the visual indicators in the editor and the problem view for advices that do not match any joinpoints. This is what you asked for.\r\n\r\nYou get the best of both worlds if you use a Maven project using AspectJ Maven plugin. This can be imported into both IDEA and Eclipse, so you can work in IDEA most of the time, but manage your aspects utilising the better aspect support in Eclipse. Sorry for not having better news for you, but JetBrains is veeeery slow and reluctant with regard to working on AspectJ-related support tickets or feature requests.","title":"Can Intellij show warning if advice advices no method?","body":"<p>IntelliJ IDEA is lacking such functionality, unfortunately. It also does not fully support the complete AspectJ syntax. There are many shortcomings in this otherwise so brilliant IDE which is my personal favourite compared to others. <strong>But</strong> whenever I want to do something in AspectJ I switch to Eclipse which is far superior in this regard, maybe because AspectJ is actually an Eclipse project and better maintained IDE-wise. There you have an Xref (cross-reference) view and views for which poinctut is used where in both directions, from aspect to application code and vice versa. See <a href=\"https://stackoverflow.com/a/32806971/1082681\">my other answer</a> for a few screenshots. <strong>Update:</strong> The last one shows the visual indicators in the editor and the problem view for advices that do not match any joinpoints. This is what you asked for.</p>\n\n<p>You get the best of both worlds if you use a Maven project using AspectJ Maven plugin. This can be imported into both IDEA and Eclipse, so you can work in IDEA most of the time, but manage your aspects utilising the better aspect support in Eclipse. Sorry for not having better news for you, but JetBrains is veeeery slow and reluctant with regard to working on AspectJ-related support tickets or feature requests.</p>\n"}],"owner":{"account_id":1500180,"reputation":424,"user_id":1405112,"accept_rate":40,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3807,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678616669,"creation_date":1487930500,"question_id":42435691,"body_markdown":"\r\nIn my spring-boot application, I am using @AfterReturning to advice methods to be able to send some asynchronous notifications.\r\n\r\nThis is an example of the current implementation:            \r\n\r\n\r\n            @AfterReturning(pointcut = \r\n                 &quot;execution(* test.NotificationService.sendNotification(..)) &amp;&amp; args(informees, dataList)&quot;)\r\n            public void afterSendNotification(Informees informees, List&lt;Data&gt; dataList) {  \r\n                ...\r\n            }\r\n\r\n\r\nDuring development the signature of the sendNotification method changed from **sendNotification(Informees informees, Data data)** to **sendNotification(Informees informees, List&lt;Data&gt; dataList)**. The problem is that the pointcut does not advice the method anymore and no error or warning is shown. The gutter icon in intellij is just telling me that the &quot;Advice advices no method&quot;. Therefore it is hard to see immediately that the code is not functioning correctly anymore.\r\n\r\n 1. Is there a way to get an overview in intellij that shows all adviced methods for the advices?\r\n 2. Can I get a warning if a advice advices no method?\r\n 3. Is there a better way to write the pointcut?\r\n 4. Currently im looking into writing unit tests to make sure that the advices are executed. Is this the way to go?\r\n\r\n\r\n\r\n","title":"Can Intellij show warning if advice advices no method?","body":"<p>In my spring-boot application, I am using @AfterReturning to advice methods to be able to send some asynchronous notifications.</p>\n\n<p>This is an example of the current implementation:            </p>\n\n<pre><code>        @AfterReturning(pointcut = \n             \"execution(* test.NotificationService.sendNotification(..)) &amp;&amp; args(informees, dataList)\")\n        public void afterSendNotification(Informees informees, List&lt;Data&gt; dataList) {  \n            ...\n        }\n</code></pre>\n\n<p>During development the signature of the sendNotification method changed from <strong>sendNotification(Informees informees, Data data)</strong> to <strong>sendNotification(Informees informees, List dataList)</strong>. The problem is that the pointcut does not advice the method anymore and no error or warning is shown. The gutter icon in intellij is just telling me that the \"Advice advices no method\". Therefore it is hard to see immediately that the code is not functioning correctly anymore.</p>\n\n<ol>\n<li>Is there a way to get an overview in intellij that shows all adviced methods for the advices?</li>\n<li>Can I get a warning if a advice advices no method?</li>\n<li>Is there a better way to write the pointcut?</li>\n<li>Currently im looking into writing unit tests to make sure that the advices are executed. Is this the way to go?</li>\n</ol>\n"},{"tags":["java","spring","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531104345,"creation_date":1531104345,"answer_id":51237654,"question_id":51235716,"body_markdown":"This does not work in Spring AOP, as is [documented here](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-at-aspectj):\r\n\r\n&gt; **Advising aspects with other aspects?**\r\n&gt;\r\n&gt; In Spring AOP, it is not possible to have aspects themselves be the target of advice from other aspects. The `@Aspect` annotation on a class marks it as an aspect, and hence excludes it from auto-proxying.\r\n\r\nIf you want to do this, you need to activate full [AspectJ via LTW](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj) in Spring. Then you can target advices directly if you know their method name. There even is a special pointcut designator `adviceexecution()` if you generally want to limit pointcut matching to advice execution or exclude the latter from matching via `!adviceexecution()`. For more details please check the AspectJ documentation.","title":"Can I declare advice for surrounding an advice itself in aop java?","body":"<p>This does not work in Spring AOP, as is <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-at-aspectj\" rel=\"nofollow noreferrer\">documented here</a>:</p>\n\n<blockquote>\n  <p><strong>Advising aspects with other aspects?</strong></p>\n  \n  <p>In Spring AOP, it is not possible to have aspects themselves be the target of advice from other aspects. The <code>@Aspect</code> annotation on a class marks it as an aspect, and hence excludes it from auto-proxying.</p>\n</blockquote>\n\n<p>If you want to do this, you need to activate full <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">AspectJ via LTW</a> in Spring. Then you can target advices directly if you know their method name. There even is a special pointcut designator <code>adviceexecution()</code> if you generally want to limit pointcut matching to advice execution or exclude the latter from matching via <code>!adviceexecution()</code>. For more details please check the AspectJ documentation.</p>\n"}],"owner":{"account_id":13843435,"reputation":85,"user_id":9993111,"display_name":"Lakshya Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51237654,"answer_count":1,"score":1,"last_activity_date":1678616656,"creation_date":1531081362,"question_id":51235716,"body_markdown":"I have made an annotation(@MethodLogger) and written an aspect over it which basically logs the timing of the method and keep storing it. So on any method on which i put that annotation it works fine\r\nBut in a special use case I need to monitor an advice itself:\r\n\r\neg:\r\n\r\n    @MethodLogger\r\n    @Around(&quot;some function specified&quot;)\r\n    public Object method(ProceedingJoinPoint pjp) throws Throwable{\r\n   \r\n\r\n    // code here\r\n\r\n    }\r\n\r\nBut this thing does not works. It never invokes my annotations aspect.\r\n","title":"Can I declare advice for surrounding an advice itself in aop java?","body":"<p>I have made an annotation(@MethodLogger) and written an aspect over it which basically logs the timing of the method and keep storing it. So on any method on which i put that annotation it works fine\nBut in a special use case I need to monitor an advice itself:</p>\n\n<p>eg:</p>\n\n<pre><code>@MethodLogger\n@Around(\"some function specified\")\npublic Object method(ProceedingJoinPoint pjp) throws Throwable{\n\n\n// code here\n\n}\n</code></pre>\n\n<p>But this thing does not works. It never invokes my annotations aspect.</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"score":0,"creation_date":1628095000,"post_id":68654715,"comment_id":121331806,"body_markdown":"From my point of view, it should work... Can you please check it again to be on the safe side?","body":"From my point of view, it should work... Can you please check it again to be on the safe side?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1628095108,"post_id":68654715,"comment_id":121331847,"body_markdown":"You didn&#39;t show how you&#39;re actually invoking your service. Do you have a self-call?","body":"You didn&#39;t show how you&#39;re actually invoking your service. Do you have a self-call?"},{"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"score":0,"creation_date":1628095792,"post_id":68654715,"comment_id":121332083,"body_markdown":"No I am not making a self call. I am aware that would not work. The service is being called from a RestController. The Service is Autowired into the Controller.","body":"No I am not making a self call. I am aware that would not work. The service is being called from a RestController. The Service is Autowired into the Controller."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1628306217,"post_id":68654715,"comment_id":121391407,"body_markdown":"Some feedback to my answer would be nice. _(I will delete this comment again after the feedback will have arrived.)_","body":"Some feedback to my answer would be nice. <i>(I will delete this comment again after the feedback will have arrived.)</i>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628129540,"creation_date":1628129540,"answer_id":68659823,"question_id":68654715,"body_markdown":"Probably the class implementing `MyService` is defined in a package other than `com.test.services`, such as\r\n  * a subpackage like `com.test.services.impl` or\r\n  * a totally different package like `com.test.app`.\r\n\r\nAs described [Language semantics - Pointcuts](https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html) in the AspectJ documentation,\r\n  * some pointcut types like `execution()` or `call()` (unavailable in Spring AOP) deal with the runtime structure (match signatures),\r\n  * while others like `within()` or `withincode()` deal with lexical structure (where the matching code is defined). See e.g. [section &quot;Program text-based pointcuts&quot;](https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html#d0e5495).\r\n\r\nSo if we have a class `com.test.app.MyServiceImpl`, you can fix your pointcut to be `within(com.test.services.*+)` in order to also match subtypes of classes defined in the `com.test.services` package. The `+` for subtypes is not necessary in `execution()`, because `MyServiceImpl` is also a `MyService`, i.e. `execution(* com.test.services.MyService.*(..))` already matches.\r\n\r\nIf on the other hand the class name was `com.test.services.impl.MyServiceImpl` instead, the pointcut `within(com.test.services..*)` (double dot for including subpackages) would also work, but then it would again exclude implementations in other packages. The most universal one is `within(com.test.services..*+)`, but which one you use really depends on your use case, and too broad is not good either in many cases.","title":"Why is my Spring AOP within pointcut not working but execution is?","body":"<p>Probably the class implementing <code>MyService</code> is defined in a package other than <code>com.test.services</code>, such as</p>\n<ul>\n<li>a subpackage like <code>com.test.services.impl</code> or</li>\n<li>a totally different package like <code>com.test.app</code>.</li>\n</ul>\n<p>As described <a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html\" rel=\"nofollow noreferrer\">Language semantics - Pointcuts</a> in the AspectJ documentation,</p>\n<ul>\n<li>some pointcut types like <code>execution()</code> or <code>call()</code> (unavailable in Spring AOP) deal with the runtime structure (match signatures),</li>\n<li>while others like <code>within()</code> or <code>withincode()</code> deal with lexical structure (where the matching code is defined). See e.g. <a href=\"https://www.eclipse.org/aspectj/doc/next/progguide/semantics-pointcuts.html#d0e5495\" rel=\"nofollow noreferrer\">section &quot;Program text-based pointcuts&quot;</a>.</li>\n</ul>\n<p>So if we have a class <code>com.test.app.MyServiceImpl</code>, you can fix your pointcut to be <code>within(com.test.services.*+)</code> in order to also match subtypes of classes defined in the <code>com.test.services</code> package. The <code>+</code> for subtypes is not necessary in <code>execution()</code>, because <code>MyServiceImpl</code> is also a <code>MyService</code>, i.e. <code>execution(* com.test.services.MyService.*(..))</code> already matches.</p>\n<p>If on the other hand the class name was <code>com.test.services.impl.MyServiceImpl</code> instead, the pointcut <code>within(com.test.services..*)</code> (double dot for including subpackages) would also work, but then it would again exclude implementations in other packages. The most universal one is <code>within(com.test.services..*+)</code>, but which one you use really depends on your use case, and too broad is not good either in many cases.</p>\n"}],"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678616560,"creation_date":1628093681,"question_id":68654715,"body_markdown":"In my Spring Boot application I have working a pointcut against an interface that successfully works using &quot;execution&quot;. I tried converting it to &quot;within&quot; as an exercise following a tutorial and it is not working and I can&#39;t figure out why.\r\n\r\nHere is Service Interface:\r\n\r\n    package com.test.services;\r\n\r\n    import com.test.model.MyObject;\r\n\r\n    public interface MyService {\r\n        MyObject get(Long id);\r\n    }\r\n\r\nHere is Aspect that works:\r\n\r\n    package com.test.aop;\r\n\r\n    import org.aspectJ.lang.annoation.Aspect;\r\n    import org.aspectJ.lang.annoation.Before;\r\n    import org.aspectJ.lang.annoation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Aspect\r\n    public class MyAspect {\r\n        @Pointcut(&quot;execution(* com.test.services.MyService.*(..))&quot;)\r\n        public void anyMyServiceMethod() {}\r\n\r\n        @Before(&quot;anyMyServiceMethod()&quot;)\r\n        public void beforeAnyServiceMethod() {\r\n            System.out.println(&quot;HERE!&quot;);\r\n        }\r\n    }\r\n\r\nI changed it to this and it doesn&#39;t work:\r\n\r\n    package com.test.aop;\r\n\r\n    import org.aspectJ.lang.annoation.Aspect;\r\n    import org.aspectJ.lang.annoation.Before;\r\n    import org.aspectJ.lang.annoation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Aspect\r\n    public class MyAspect {\r\n        @Pointcut(&quot;within(com.test.services.*)&quot;)\r\n        public void anyMyServiceMethod() {}\r\n\r\n        @Before(&quot;anyMyServiceMethod()&quot;)\r\n        public void beforeAnyServiceMethod() {\r\n            System.out.println(&quot;HERE!&quot;);\r\n        }\r\n    }\r\n\r\nFrom what I read I thought the pointcut above using &quot;within&quot; should match any method in the package com.test.services but it is not. Am I missing something?","title":"Why is my Spring AOP within pointcut not working but execution is?","body":"<p>In my Spring Boot application I have working a pointcut against an interface that successfully works using &quot;execution&quot;. I tried converting it to &quot;within&quot; as an exercise following a tutorial and it is not working and I can't figure out why.</p>\n<p>Here is Service Interface:</p>\n<pre><code>package com.test.services;\n\nimport com.test.model.MyObject;\n\npublic interface MyService {\n    MyObject get(Long id);\n}\n</code></pre>\n<p>Here is Aspect that works:</p>\n<pre><code>package com.test.aop;\n\nimport org.aspectJ.lang.annoation.Aspect;\nimport org.aspectJ.lang.annoation.Before;\nimport org.aspectJ.lang.annoation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;execution(* com.test.services.MyService.*(..))&quot;)\n    public void anyMyServiceMethod() {}\n\n    @Before(&quot;anyMyServiceMethod()&quot;)\n    public void beforeAnyServiceMethod() {\n        System.out.println(&quot;HERE!&quot;);\n    }\n}\n</code></pre>\n<p>I changed it to this and it doesn't work:</p>\n<pre><code>package com.test.aop;\n\nimport org.aspectJ.lang.annoation.Aspect;\nimport org.aspectJ.lang.annoation.Before;\nimport org.aspectJ.lang.annoation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;within(com.test.services.*)&quot;)\n    public void anyMyServiceMethod() {}\n\n    @Before(&quot;anyMyServiceMethod()&quot;)\n    public void beforeAnyServiceMethod() {\n        System.out.println(&quot;HERE!&quot;);\n    }\n}\n</code></pre>\n<p>From what I read I thought the pointcut above using &quot;within&quot; should match any method in the package com.test.services but it is not. Am I missing something?</p>\n"},{"tags":["java","spring","aspectj","spring-aop"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1675245248,"post_id":75308056,"comment_id":132885140,"body_markdown":"Maybe this helps https://stackoverflow.com/questions/23199222/pointcut-for-inherited-methods","body":"Maybe this helps <a href=\"https://stackoverflow.com/questions/23199222/pointcut-for-inherited-methods\" title=\"pointcut for inherited methods\">stackoverflow.com/questions/23199222/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675760584,"creation_date":1675440739,"answer_id":75338325,"question_id":75308056,"body_markdown":"The syntax you just invented is illegal, unfortunately. You cannot describe chained method calls the ways you dreamed up.\r\n\r\nWhat you really want is to intercept method executions of type `WhateverObject`, not of `MyAbstractObject` or `MyObject`. I.e., your pointcut should rather bet something like\r\n\r\n```java\r\nexecution(* mypackage.WhateverObject.set*(*))\r\n```\r\n\r\nI am just guessing, but if you want to limit matching to control flows where the setter method is called (directly or indirectly) from `getMyOtherObject()`, in AspectJ your would add something like\r\n\r\n```java\r\n&amp;&amp; cflow(execution(* mypackage.MyAbstractObject.getMyOtherObject()))\r\n```\r\n\r\nto the first pointcut. But `cflow` pointcuts are unavailable in Spring AOP, which is what you seem to be using. So\r\n  * either you switch to native AspectJ, which is easy to [integrate into Spring](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj) applications, but can also be used outside of the Spring context because it is an idependent product,\r\n  * or you check if Spring AOP&#39;s [&quot;lite&quot; version of control flow pointcuts](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-api-pointcuts-cflow) does what you need. I posted a few answers and links mentioning this almost undocumented feature [here](https://stackoverflow.com/a/69567232/1082681) and [there](https://stackoverflow.com/a/66649082/1082681).\r\n\r\nAs a native AspectJ fan who does not normally use Spring, you can imagine which option I would recommend regarding control flow pointcuts, but I think you can make your own decision.","title":"AspectJ on children objects","body":"<p>The syntax you just invented is illegal, unfortunately. You cannot describe chained method calls the ways you dreamed up.</p>\n<p>What you really want is to intercept method executions of type <code>WhateverObject</code>, not of <code>MyAbstractObject</code> or <code>MyObject</code>. I.e., your pointcut should rather bet something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>execution(* mypackage.WhateverObject.set*(*))\n</code></pre>\n<p>I am just guessing, but if you want to limit matching to control flows where the setter method is called (directly or indirectly) from <code>getMyOtherObject()</code>, in AspectJ your would add something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>&amp;&amp; cflow(execution(* mypackage.MyAbstractObject.getMyOtherObject()))\n</code></pre>\n<p>to the first pointcut. But <code>cflow</code> pointcuts are unavailable in Spring AOP, which is what you seem to be using. So</p>\n<ul>\n<li>either you switch to native AspectJ, which is easy to <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj\" rel=\"nofollow noreferrer\">integrate into Spring</a> applications, but can also be used outside of the Spring context because it is an idependent product,</li>\n<li>or you check if Spring AOP's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-api-pointcuts-cflow\" rel=\"nofollow noreferrer\">&quot;lite&quot; version of control flow pointcuts</a> does what you need. I posted a few answers and links mentioning this almost undocumented feature <a href=\"https://stackoverflow.com/a/69567232/1082681\">here</a> and <a href=\"https://stackoverflow.com/a/66649082/1082681\">there</a>.</li>\n</ul>\n<p>As a native AspectJ fan who does not normally use Spring, you can imagine which option I would recommend regarding control flow pointcuts, but I think you can make your own decision.</p>\n"}],"owner":{"account_id":475248,"reputation":2320,"user_id":885453,"accept_rate":44,"display_name":"maqjav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75338325,"answer_count":1,"score":0,"last_activity_date":1678616537,"creation_date":1675243734,"question_id":75308056,"body_markdown":"I&#39;m starting to work with AspectJ and I&#39;m trying to do something that I don&#39;t know if it&#39;s possible. This is my code:\r\n\r\n\r\n    public abstract class MyAbstractObject&lt;T&gt; {\r\n        private T myOtherObject;\r\n\r\n        public T getMyOtherObject() {\r\n            return myOtherObject;\r\n        }\r\n    }\r\n\r\n    @Component\r\n    public class MyObject extends MyAbstractObject&lt;WhateverObject&gt; {\r\n        \r\n    }\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspects {\r\n        \r\n        @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))&quot;)\r\n        public void beforeExample(JoinPoint joinPoint) {\r\n\t\t    // DO THINGS\r\n        }\r\n\t}\r\n    \r\nThis code fails, with the error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Pointcut is not well-formed: expecting &#39;)&#39; at character position 58 execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))\r\n\r\nHowever, I can intercept MyOtherObject like this, but not it&#39;s setters:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspects {\r\n        \r\n        @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject())&quot;)\r\n        public void beforeExample(JoinPoint joinPoint) {\r\n\t\t    // DO THINGS\r\n\t    }\r\n    }\r\n\r\nI don&#39;t want to intercept the setters of the object MyOtherObject everywhere, because this object is used in more places in the program where I don&#39;t need aspects. However I want to intercept them only when used in a class that extends MyAbstractObject.\r\n\r\nI&#39;m using Spring with AspectJ.\r\n\r\nThanks.","title":"AspectJ on children objects","body":"<p>I'm starting to work with AspectJ and I'm trying to do something that I don't know if it's possible. This is my code:</p>\n<pre><code>public abstract class MyAbstractObject&lt;T&gt; {\n    private T myOtherObject;\n\n    public T getMyOtherObject() {\n        return myOtherObject;\n    }\n}\n\n@Component\npublic class MyObject extends MyAbstractObject&lt;WhateverObject&gt; {\n    \n}\n\n@Aspect\n@Component\npublic class MyAspects {\n    \n    @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))&quot;)\n    public void beforeExample(JoinPoint joinPoint) {\n        // DO THINGS\n    }\n}\n</code></pre>\n<p>This code fails, with the error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Pointcut is not well-formed: expecting ')' at character position 58 execution(* mypackage.MyAbstractObject.getMyOtherObject().set*(*))\n</code></pre>\n<p>However, I can intercept MyOtherObject like this, but not it's setters:</p>\n<pre><code>@Aspect\n@Component\npublic class MyAspects {\n    \n    @Before(&quot;execution(* mypackage.MyAbstractObject.getMyOtherObject())&quot;)\n    public void beforeExample(JoinPoint joinPoint) {\n        // DO THINGS\n    }\n}\n</code></pre>\n<p>I don't want to intercept the setters of the object MyOtherObject everywhere, because this object is used in more places in the program where I don't need aspects. However I want to intercept them only when used in a class that extends MyAbstractObject.</p>\n<p>I'm using Spring with AspectJ.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-aop","pointcut"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1469286595,"creation_date":1469286595,"answer_id":38543236,"question_id":38507316,"body_markdown":"The pointcut should be:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    within(com.mypackage.Super+)\r\n\r\nwhere `com.mypackage.Super` is the fully qualified base class name and `+` means &quot;all subclasses&quot;. This works for Spring AOP. In AspectJ this would match too many joinpoints, not just method executions. Here is another pointcut that works for both Spring AOP and AspectJ:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    execution(* com.mypackage.Super+.*(..))","title":"How to specify single pointcut for all classes that extend a specific class","body":"<p>The pointcut should be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>within(com.mypackage.Super+)\n</code></pre>\n\n<p>where <code>com.mypackage.Super</code> is the fully qualified base class name and <code>+</code> means \"all subclasses\". This works for Spring AOP. In AspectJ this would match too many joinpoints, not just method executions. Here is another pointcut that works for both Spring AOP and AspectJ:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>execution(* com.mypackage.Super+.*(..))\n</code></pre>\n"}],"owner":{"account_id":2447950,"reputation":448,"user_id":2134835,"accept_rate":45,"display_name":"junior developper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4982,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38543236,"answer_count":1,"score":6,"last_activity_date":1678616408,"creation_date":1469112155,"question_id":38507316,"body_markdown":"I have multiple classes from different packages that extends a class Super.\r\nAnd i want to create an AOP pointcut around that match all the methods in all classes that extends Super.\r\nI have tried this:\r\n\r\n    @Around(&quot;within(com.mypackage.that.contains.super..*)&quot;)\r\n    public void aroundAllEndPoints(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t\tLOGGER.info(&quot;before Proceed &quot;);\r\n    \t\tjoinPoint.proceed();\r\n    \t\tLOGGER.info(&quot;after Proceed&quot;);\r\n    }\r\n\r\nBut it doesn&#39;t work.\r\nAny Suggestions?\r\n","title":"How to specify single pointcut for all classes that extend a specific class","body":"<p>I have multiple classes from different packages that extends a class Super.\nAnd i want to create an AOP pointcut around that match all the methods in all classes that extends Super.\nI have tried this:</p>\n\n<pre><code>@Around(\"within(com.mypackage.that.contains.super..*)\")\npublic void aroundAllEndPoints(ProceedingJoinPoint joinPoint) throws Throwable {\n        LOGGER.info(\"before Proceed \");\n        joinPoint.proceed();\n        LOGGER.info(\"after Proceed\");\n}\n</code></pre>\n\n<p>But it doesn't work.\nAny Suggestions?</p>\n"},{"tags":["java","android","kotlin","gesture","touch-event"],"answers":[{"tags":[],"owner":{"account_id":21992416,"reputation":51,"user_id":16265547,"display_name":"ilyassavli"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678524374,"creation_date":1678524374,"answer_id":75703754,"question_id":75702774,"body_markdown":"You can check the statement whether user playing.\r\n\r\nFor example;\r\n\r\n    override fun onBackPressed() {\r\n        if(!isPlaying){\r\n            super.onBackPressed()\r\n        }\r\n    }\r\n    \r\nand so on.\r\nI hope, this will help you :)","title":"How to totally disable swipe back on Android phone?","body":"<p>You can check the statement whether user playing.</p>\n<p>For example;</p>\n<pre><code>override fun onBackPressed() {\n    if(!isPlaying){\n        super.onBackPressed()\n    }\n}\n</code></pre>\n<p>and so on.\nI hope, this will help you :)</p>\n"},{"tags":[],"owner":{"account_id":21992416,"reputation":51,"user_id":16265547,"display_name":"ilyassavli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678616279,"creation_date":1678616279,"answer_id":75712448,"question_id":75702774,"body_markdown":"Maybe you can use setOnKeyListener to listen all hardware keys.\r\n\r\nFor this Hardware Back Button equals to `KeyEvent.KEYCODE_BACK`\r\n\r\nSo the code can be like in this example;\r\n\r\n    view.apply {\r\n                isFocusableInTouchMode = true\r\n                requestFocus()\r\n    \r\n                setOnKeyListener { v, keyCode, event -&gt;\r\n                    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                        Toast.makeText(requireContext(), &quot;Hardware Back Clicked!&quot;, Toast.LENGTH_SHORT).show()\r\n                    }\r\n                    true // If this is true then it will not send to onBackPressed() otherwise it will send\r\n                }\r\n            }\r\nThe point is return value. If it is true then it will not call onBackPressed() otherwise it will call onBackPressed().\r\n\r\nview equals to Fragment.view or view of onViewCreated() parameter.\r\n\r\nSo you can read all the time if any key pressed with these function, you can send return value according to your needs.","title":"How to totally disable swipe back on Android phone?","body":"<p>Maybe you can use setOnKeyListener to listen all hardware keys.</p>\n<p>For this Hardware Back Button equals to <code>KeyEvent.KEYCODE_BACK</code></p>\n<p>So the code can be like in this example;</p>\n<pre><code>view.apply {\n            isFocusableInTouchMode = true\n            requestFocus()\n\n            setOnKeyListener { v, keyCode, event -&gt;\n                if (keyCode == KeyEvent.KEYCODE_BACK) {\n                    Toast.makeText(requireContext(), &quot;Hardware Back Clicked!&quot;, Toast.LENGTH_SHORT).show()\n                }\n                true // If this is true then it will not send to onBackPressed() otherwise it will send\n            }\n        }\n</code></pre>\n<p>The point is return value. If it is true then it will not call onBackPressed() otherwise it will call onBackPressed().</p>\n<p>view equals to Fragment.view or view of onViewCreated() parameter.</p>\n<p>So you can read all the time if any key pressed with these function, you can send return value according to your needs.</p>\n"}],"owner":{"account_id":5479106,"reputation":1088,"user_id":4356169,"accept_rate":57,"display_name":"jdleung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678616279,"creation_date":1678508902,"question_id":75702774,"body_markdown":"Gestures are common operatons while playing games , if players swipe right from the edge of the screen, The screen goes back to previous screen and the game will be paused (or over).\r\n\r\nThe following code can stop going back, but the swipe gesture first causes `onTouchEvent(event: MotionEvent)` to be cancelled and stops the operation the players want to do, it&#39;s not a good experience for players.\r\n\r\nIs there a better idea to disable the back gesture?\r\n\r\n\r\n    override fun onBackPressed() {\r\n       // super.onBackPressed()\r\n    }","title":"How to totally disable swipe back on Android phone?","body":"<p>Gestures are common operatons while playing games , if players swipe right from the edge of the screen, The screen goes back to previous screen and the game will be paused (or over).</p>\n<p>The following code can stop going back, but the swipe gesture first causes <code>onTouchEvent(event: MotionEvent)</code> to be cancelled and stops the operation the players want to do, it's not a good experience for players.</p>\n<p>Is there a better idea to disable the back gesture?</p>\n<pre><code>override fun onBackPressed() {\n   // super.onBackPressed()\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","cpu-cores"],"comments":[{"owner":{"account_id":7601119,"reputation":655,"user_id":5765683,"display_name":"user5765683"},"score":4,"creation_date":1452397012,"post_id":34689709,"comment_id":57149690,"body_markdown":"Wow thank you.  All of these are such great responses and has really helped in understanding this subject better.","body":"Wow thank you.  All of these are such great responses and has really helped in understanding this subject better."}],"answers":[{"tags":[],"owner":{"account_id":3089813,"reputation":2349,"user_id":2616221,"accept_rate":0,"display_name":"gardenhead"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1452315634,"creation_date":1452315634,"answer_id":34689857,"question_id":34689709,"body_markdown":"## Processes vs Threads ##\r\n\r\nIn days of old, each process had precisely one *thread* of execution, so processes were scheduled onto cores directly (and in these old days, there was almost only one core to schedule onto). However, in operating systems that support threading (which is almost all moderns OS&#39;s), it is *threads*, not processes that are scheduled. So for the rest of this discussion we will talk exclusively about threads, and you should understand that each running process has one or more threads of execution.\r\n\r\n## Parallelism vs Concurrency ##\r\n\r\nWhen two threads are running in **parallel**, they are both running *at the same time*. For example, if we have two threads, A and B, then their parallel execution would look like this:\r\n\r\nCPU 1: A -------------------------&gt;\r\n\r\nCPU 2: B -------------------------&gt;\r\n\r\nWhen two threads are running **concurrently**, their execution *overlaps*. Overlapping can happen in one of two ways: either the threads are executing at the same time (i.e. in parallel, as above), or their executions are being interleaved on the processor, like so:\r\n\r\nCPU 1: A -----------&gt; B ----------&gt; A -----------&gt; B ----------&gt;\r\n\r\n\r\nSo, *for our purposes*, parallelism can be thought of as a special case of concurrency*\r\n\r\n## Scheduling ##\r\n\r\n&gt; But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently. How is this possible if we are only have 4 cores? \r\n\r\nIn this case, they can run concurrently because the CPU scheduler is giving each one of those 30 threads some share of CPU time. Some threads *will* be running in parallel (if you have 4 cores, then 4 threads will be running in parallel at any one time), but all 30 threads will be running concurrently. The reason you can then go play games or browse the web is that these new threads are added to the thread pool/queue and also given a share of CPU time.\r\n\r\n## Logical vs Physical Cores ##\r\n\r\n&gt; According to my current understanding, a core can only perform 1 process at a time\r\n\r\nThis is not *quite* true. Due to very clever hardware design and pipelining that would be much too long to go into here (plus I don&#39;t understand it), it is possible for one physical core to actually be executing *two completely different threads of execution at the same time*. Chew over that sentence a bit if you need to -- it still blows my mind.\r\n\r\nThis amazing feat is called simultaneous multi-threading (or popularly Hyper-Threading, although that is a proprietary name for a specific instance of such technology). Thus, we have **physical cores**, which are the actual hardware CPU cores, and **logical cores**, which is the number of cores the operating system tells software is available for use. Logical cores are essentially an abstraction. In typical modern Intel CPUs, each physical core acts as two logical cores.\r\n\r\n&gt; can someone explain how this works and also recommend some good reading on this?\r\n\r\nI would recommend *Operating System Concepts* if you really want to understand how processes, threads, and scheduling all work together.\r\n\r\n* The precise meanings of the terms *parallel* and *concurrent* are hotly debated, even [here in our very own stack overflow][1]. What one means by these terms depends a lot on the application domain.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1050222/concurrency-vs-parallelism-what-is-the-difference","title":"Java threads and number of cores","body":"<h2>Processes vs Threads</h2>\n\n<p>In days of old, each process had precisely one <em>thread</em> of execution, so processes were scheduled onto cores directly (and in these old days, there was almost only one core to schedule onto). However, in operating systems that support threading (which is almost all moderns OS's), it is <em>threads</em>, not processes that are scheduled. So for the rest of this discussion we will talk exclusively about threads, and you should understand that each running process has one or more threads of execution.</p>\n\n<h2>Parallelism vs Concurrency</h2>\n\n<p>When two threads are running in <strong>parallel</strong>, they are both running <em>at the same time</em>. For example, if we have two threads, A and B, then their parallel execution would look like this:</p>\n\n<p>CPU 1: A -------------------------></p>\n\n<p>CPU 2: B -------------------------></p>\n\n<p>When two threads are running <strong>concurrently</strong>, their execution <em>overlaps</em>. Overlapping can happen in one of two ways: either the threads are executing at the same time (i.e. in parallel, as above), or their executions are being interleaved on the processor, like so:</p>\n\n<p>CPU 1: A -----------> B ----------> A -----------> B ----------></p>\n\n<p>So, <em>for our purposes</em>, parallelism can be thought of as a special case of concurrency*</p>\n\n<h2>Scheduling</h2>\n\n<blockquote>\n  <p>But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently. How is this possible if we are only have 4 cores? </p>\n</blockquote>\n\n<p>In this case, they can run concurrently because the CPU scheduler is giving each one of those 30 threads some share of CPU time. Some threads <em>will</em> be running in parallel (if you have 4 cores, then 4 threads will be running in parallel at any one time), but all 30 threads will be running concurrently. The reason you can then go play games or browse the web is that these new threads are added to the thread pool/queue and also given a share of CPU time.</p>\n\n<h2>Logical vs Physical Cores</h2>\n\n<blockquote>\n  <p>According to my current understanding, a core can only perform 1 process at a time</p>\n</blockquote>\n\n<p>This is not <em>quite</em> true. Due to very clever hardware design and pipelining that would be much too long to go into here (plus I don't understand it), it is possible for one physical core to actually be executing <em>two completely different threads of execution at the same time</em>. Chew over that sentence a bit if you need to -- it still blows my mind.</p>\n\n<p>This amazing feat is called simultaneous multi-threading (or popularly Hyper-Threading, although that is a proprietary name for a specific instance of such technology). Thus, we have <strong>physical cores</strong>, which are the actual hardware CPU cores, and <strong>logical cores</strong>, which is the number of cores the operating system tells software is available for use. Logical cores are essentially an abstraction. In typical modern Intel CPUs, each physical core acts as two logical cores.</p>\n\n<blockquote>\n  <p>can someone explain how this works and also recommend some good reading on this?</p>\n</blockquote>\n\n<p>I would recommend <em>Operating System Concepts</em> if you really want to understand how processes, threads, and scheduling all work together.</p>\n\n<ul>\n<li>The precise meanings of the terms <em>parallel</em> and <em>concurrent</em> are hotly debated, even <a href=\"https://stackoverflow.com/questions/1050222/concurrency-vs-parallelism-what-is-the-difference\">here in our very own stack overflow</a>. What one means by these terms depends a lot on the application domain.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1452369666,"creation_date":1452369666,"answer_id":34698264,"question_id":34689709,"body_markdown":"In short, your understanding of a core is correct.  A core can execute 1 thread (aka process) at a time.\r\n\r\nHowever, your program doesn&#39;t **really** run 30 threads at once.  Of those 30 threads, only 4 are running at a time, and the other 26 are waiting.  The CPU will schedule threads and give each thread a slice of time to run on a core.  So the CPU will make all the threads take turns running.\r\n\r\n**A common misconception:**\r\n&gt; Having more threads will make my program run faster.\r\n\r\nFALSE: Having more threads will **NOT** always make your program run faster.  It just means the CPU has to do more switching, and in fact, having too many threads will make your program run *slower* because of the overhead caused by switching out all the different processes.","title":"Java threads and number of cores","body":"<p>In short, your understanding of a core is correct.  A core can execute 1 thread (aka process) at a time.</p>\n\n<p>However, your program doesn't <strong>really</strong> run 30 threads at once.  Of those 30 threads, only 4 are running at a time, and the other 26 are waiting.  The CPU will schedule threads and give each thread a slice of time to run on a core.  So the CPU will make all the threads take turns running.</p>\n\n<p><strong>A common misconception:</strong></p>\n\n<blockquote>\n  <p>Having more threads will make my program run faster.</p>\n</blockquote>\n\n<p>FALSE: Having more threads will <strong>NOT</strong> always make your program run faster.  It just means the CPU has to do more switching, and in fact, having too many threads will make your program run <em>slower</em> because of the overhead caused by switching out all the different processes.</p>\n"},{"tags":[],"owner":{"display_name":"user4774371"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1452372744,"creation_date":1452371773,"answer_id":34698627,"question_id":34689709,"body_markdown":"Java do not perform **Thread scheduling**, it leaves this on **Operating System** to perform Thread scheduling.\r\n\r\nFor **computationally intensive** tasks, It is recommended to have thread pool size equal to number of cores available. But for **I/O bound** tasks we should have larger number of threads. There are many other variations, if both type of tasks are available and needs CPU time slice.\r\n\r\n&gt; a core can only perform 1 process at a time\r\n\r\nYes, but they can **multitask** and create an **illusion** that they are processing more than one process at a time\r\n\r\n&gt; How is this possible if we are only have 4 cores? I am also able to\r\n&gt; run my 30 thread program on my local computer and also continue to\r\n&gt; perform other activities on my computer\r\n\r\nThis is possible due to **multitasking** (which is **concurrency**). Lets say you started 30 threads and OS is also running 50 threads, all 80 threads will share 4 CPU cores by getting CPU time slice one by one (one thread per core at a time). Which means on average each core will run 80/4=20 threads concurrently. And you will feel all threads/processes are running at the same time.\r\n\r\n&gt; can someone explain how this works\r\n\r\nAll of this happens at **OS level**. If you are a programmer then you should not worry about this. But if you are a student of OS then pick any OS book &amp; learn more about Multi-threading at OS level in detail or find some good research paper for depth. One thing you should know that each OS handle these things in different way (but generally concepts are same)\r\n\r\nThere are some languages like **Erlang**, which use green threads (or processes), due to which they get the ability to map and schedule threads on their own eliminating OS. So, do some research on **green threads** as well if you are interested.\r\n\r\n**Note:** You can also research on **actors** which is another **abstraction** over threads. Languages like Erlang, Scala etc use actors to accomplish tasks. One thread can have hundred of actors; each actor can perform different task (similar to threads in java).\r\n\r\nThis is a very **vast and active research topic** and there are many things to learn.","title":"Java threads and number of cores","body":"<p>Java do not perform <strong>Thread scheduling</strong>, it leaves this on <strong>Operating System</strong> to perform Thread scheduling.</p>\n\n<p>For <strong>computationally intensive</strong> tasks, It is recommended to have thread pool size equal to number of cores available. But for <strong>I/O bound</strong> tasks we should have larger number of threads. There are many other variations, if both type of tasks are available and needs CPU time slice.</p>\n\n<blockquote>\n  <p>a core can only perform 1 process at a time</p>\n</blockquote>\n\n<p>Yes, but they can <strong>multitask</strong> and create an <strong>illusion</strong> that they are processing more than one process at a time</p>\n\n<blockquote>\n  <p>How is this possible if we are only have 4 cores? I am also able to\n  run my 30 thread program on my local computer and also continue to\n  perform other activities on my computer</p>\n</blockquote>\n\n<p>This is possible due to <strong>multitasking</strong> (which is <strong>concurrency</strong>). Lets say you started 30 threads and OS is also running 50 threads, all 80 threads will share 4 CPU cores by getting CPU time slice one by one (one thread per core at a time). Which means on average each core will run 80/4=20 threads concurrently. And you will feel all threads/processes are running at the same time.</p>\n\n<blockquote>\n  <p>can someone explain how this works</p>\n</blockquote>\n\n<p>All of this happens at <strong>OS level</strong>. If you are a programmer then you should not worry about this. But if you are a student of OS then pick any OS book &amp; learn more about Multi-threading at OS level in detail or find some good research paper for depth. One thing you should know that each OS handle these things in different way (but generally concepts are same)</p>\n\n<p>There are some languages like <strong>Erlang</strong>, which use green threads (or processes), due to which they get the ability to map and schedule threads on their own eliminating OS. So, do some research on <strong>green threads</strong> as well if you are interested.</p>\n\n<p><strong>Note:</strong> You can also research on <strong>actors</strong> which is another <strong>abstraction</strong> over threads. Languages like Erlang, Scala etc use actors to accomplish tasks. One thread can have hundred of actors; each actor can perform different task (similar to threads in java).</p>\n\n<p>This is a very <strong>vast and active research topic</strong> and there are many things to learn.</p>\n"},{"tags":[],"owner":{"account_id":22232274,"reputation":21,"user_id":16468236,"display_name":"sangon-g"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678615545,"creation_date":1678565257,"answer_id":75709223,"question_id":34689709,"body_markdown":"I&#39;d like to add to the excellent answer of gardenhead. \r\n\r\nAs far as I know, even in simultaneous multithreading (Intel&#39;s Hyperthreading is an implementation thereof), the threads running on a specific core need to be from the same process. The reason is that each process has its own virtual address space. When these threads want to access memory, they do so with the virtual address. However, if the threads are from different processes, they use different virtual addresses to refer to the same physical address (this is what it means to have a different virtual address space). Hence this cannot work.\r\n\r\nLet us now talk about a specific implementation of simultaneous multi-threading: Hyperthreading. This allows each core to have two threads scheduled at the same time (from the same process). It is achieved by simply adding a second set of architectural registers. Keep in mind that these include special registers like the instruction pointer and stack pointer. Now, in each clock cycle, the core can decide which thread to fetch an instruction from, since it has all the information it needs to execute instructions for any of the two threads:\r\n- thanks to the instruction pointers, it knows which instruction it needs to fetch\r\n- thanks to the stack pointer, it knows where to place variables when the registers are full\r\n- assuming that the threads are in fact from the same process: they share a heap and hence no matter which thread the instruction is from, the core also knows where to place larger datastructures\r\n\r\nUsually the core switches to instructions from the other thread when a memory access occurs or data dependencies would force a no-op. Hence, the second thread can reduce the bubbles in the cpu pipeline. This of course means we cannot expect 2x speedup - but we can get more throughput for the small cost of adding a set of architectural registers and adding some logic to decide which instruction pointer and so on we need to choose. Intel talks of roughly 20% speedup depending on the application.","title":"Java threads and number of cores","body":"<p>I'd like to add to the excellent answer of gardenhead.</p>\n<p>As far as I know, even in simultaneous multithreading (Intel's Hyperthreading is an implementation thereof), the threads running on a specific core need to be from the same process. The reason is that each process has its own virtual address space. When these threads want to access memory, they do so with the virtual address. However, if the threads are from different processes, they use different virtual addresses to refer to the same physical address (this is what it means to have a different virtual address space). Hence this cannot work.</p>\n<p>Let us now talk about a specific implementation of simultaneous multi-threading: Hyperthreading. This allows each core to have two threads scheduled at the same time (from the same process). It is achieved by simply adding a second set of architectural registers. Keep in mind that these include special registers like the instruction pointer and stack pointer. Now, in each clock cycle, the core can decide which thread to fetch an instruction from, since it has all the information it needs to execute instructions for any of the two threads:</p>\n<ul>\n<li>thanks to the instruction pointers, it knows which instruction it needs to fetch</li>\n<li>thanks to the stack pointer, it knows where to place variables when the registers are full</li>\n<li>assuming that the threads are in fact from the same process: they share a heap and hence no matter which thread the instruction is from, the core also knows where to place larger datastructures</li>\n</ul>\n<p>Usually the core switches to instructions from the other thread when a memory access occurs or data dependencies would force a no-op. Hence, the second thread can reduce the bubbles in the cpu pipeline. This of course means we cannot expect 2x speedup - but we can get more throughput for the small cost of adding a set of architectural registers and adding some logic to decide which instruction pointer and so on we need to choose. Intel talks of roughly 20% speedup depending on the application.</p>\n"}],"owner":{"account_id":7601119,"reputation":655,"user_id":5765683,"display_name":"user5765683"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39045,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":34689857,"answer_count":4,"score":65,"last_activity_date":1678615545,"creation_date":1452314114,"question_id":34689709,"body_markdown":"I just had a quick question on how processors and threads work.  According to my current understanding, a core can only perform 1 process at a time.  But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently.  How is this possible if we are only have 4 cores?  I am also able to run my 30 thread program on my local computer and also continue to perform other activities on my computer such as watch movies or browse the internet.  \r\n\r\nI have read somewhere that scheduling of threads occurs and that sort of gives the illusion that these 30 threads are running concurrently by the 4 cores.  Is this true and if so can someone explain how this works and also recommend some good reading on this?      \r\n\r\nThank you in advance for the help.","title":"Java threads and number of cores","body":"<p>I just had a quick question on how processors and threads work.  According to my current understanding, a core can only perform 1 process at a time.  But we are able to produce a thread pool(lets say 30) with a larger number than the number of cores that we posses(lets say 4) and have them run concurrently.  How is this possible if we are only have 4 cores?  I am also able to run my 30 thread program on my local computer and also continue to perform other activities on my computer such as watch movies or browse the internet.  </p>\n\n<p>I have read somewhere that scheduling of threads occurs and that sort of gives the illusion that these 30 threads are running concurrently by the 4 cores.  Is this true and if so can someone explain how this works and also recommend some good reading on this?      </p>\n\n<p>Thank you in advance for the help.</p>\n"},{"tags":["java","hadoop","mapreduce","hadoop2","hadoop-partitioning"],"comments":[{"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"score":0,"creation_date":1471252985,"post_id":38773248,"comment_id":65258983,"body_markdown":"Did fixing the compareTo method work for you?","body":"Did fixing the compareTo method work for you?"}],"answers":[{"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470504733,"creation_date":1470504733,"answer_id":38806982,"question_id":38773248,"body_markdown":"It seems that your `compareTo` method violates the common [contract][1] that requires `sgn(x.compareTo(y))`to be equal to `-sgn(y.compareTo(x))`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-","title":"Secondary Sort in Hadoop","body":"<p>It seems that your <code>compareTo</code> method violates the common <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-\" rel=\"nofollow\">contract</a> that requires <code>sgn(x.compareTo(y))</code>to be equal to <code>-sgn(y.compareTo(x))</code>.</p>\n"},{"tags":[],"owner":{"account_id":10697217,"reputation":71,"user_id":7873867,"display_name":"Sandeep Dabhade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492917120,"creation_date":1492876487,"answer_id":43561299,"question_id":38773248,"body_markdown":"After your customWritable, give one basic partitioner with a composite key and NullWritable value. For example:\r\n\r\n    public class SecondarySortBasicPartitioner extends\r\n      \tPartitioner&lt;CompositeKeyWritable, NullWritable&gt; {\r\n    \r\n    \tpublic int getPartition(CompositeKeyWritable key, NullWritable value,\r\n    \t\t\tint numReduceTasks) {\r\n    \r\n    \t\treturn (key.DEPT().hashCode() % numReduceTasks);\r\n    \t}\r\n    }\r\n\r\n\r\nAnd after this specify Key sort comparator and with 2 compositeKeyWritable variables the grouping will be done.","title":"Secondary Sort in Hadoop","body":"<p>After your customWritable, give one basic partitioner with a composite key and NullWritable value. For example:</p>\n\n<pre><code>public class SecondarySortBasicPartitioner extends\n    Partitioner&lt;CompositeKeyWritable, NullWritable&gt; {\n\n    public int getPartition(CompositeKeyWritable key, NullWritable value,\n            int numReduceTasks) {\n\n        return (key.DEPT().hashCode() % numReduceTasks);\n    }\n}\n</code></pre>\n\n<p>And after this specify Key sort comparator and with 2 compositeKeyWritable variables the grouping will be done.</p>\n"},{"tags":[],"owner":{"account_id":12638735,"reputation":81,"user_id":9187028,"display_name":"Harper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515577913,"creation_date":1515577913,"answer_id":48184568,"question_id":38773248,"body_markdown":"There are 3 procedures during shuffle: **Partitioning**, **Sorting** and **grouping**.\r\nI guess that you have multiple reducers and your similar results were processed by different reducers for they are in different partitions.\r\n\r\nYou can set the number of reducers to 1 or set a custom Partitioner which extends **org.apache.hadoop.mapreduce.Partitioner** for you job.","title":"Secondary Sort in Hadoop","body":"<p>There are 3 procedures during shuffle: <strong>Partitioning</strong>, <strong>Sorting</strong> and <strong>grouping</strong>.\nI guess that you have multiple reducers and your similar results were processed by different reducers for they are in different partitions.</p>\n\n<p>You can set the number of reducers to 1 or set a custom Partitioner which extends <strong>org.apache.hadoop.mapreduce.Partitioner</strong> for you job.</p>\n"}],"owner":{"account_id":3555007,"reputation":285,"user_id":2968968,"accept_rate":33,"display_name":"Abhishek Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1678615344,"creation_date":1470329681,"question_id":38773248,"body_markdown":"I am working on a `hadoop` project and after many visit to various blogs and reading the documentation, I realized I need to use secondary sort feature provided by `hadoop` framework.\r\n\r\nMy input format is of the form:\r\n\r\n    DESC(String) Price(Integer) and some other Text\r\nI want the values in the reducer to be descending order of the Price.\r\nAlso while comparing `DESC` I have a method which takes two strings and a Percentage and if similarity between the two strings equals or is greater than the percentage then I should consider them as equal.\r\n\r\nThe problem is after the Reduce Job is finished I can see some `DESC` which is similar to the other string and yet they are in different group.\r\n\r\n\r\nHere is my `compareTo` method of Composite key:\r\n\r\n    public int compareTo(VendorKey o) {\r\n        int result =-\r\n        result = compare(token, o.token, &quot;:&quot;) &gt;= percentage ? 0:1;\r\n        if (result == 0) {\r\n            return pid&gt; o.pid  ?-1: pid &lt; o.pid ?1:0;\r\n        }\r\n        return result;\r\n    }\r\n\r\nand compare method of Grouping Comparator:\r\n\r\n    public int compare(WritableComparable a, WritableComparable b) {\r\n        VendorKey one = (VendorKey) a;\r\n        VendorKey two = (VendorKey) b;\r\n        int result = ClusterUtil.compare(one.getToken(), two.getToken(), &quot;:&quot;) &gt;= one.getPercentage() ? 0 : 1;\r\n        // if (result != 0)\r\n        // return two.getToken().compareTo(one.getToken());\r\n        return result;\r\n    }\r\n","title":"Secondary Sort in Hadoop","body":"<p>I am working on a <code>hadoop</code> project and after many visit to various blogs and reading the documentation, I realized I need to use secondary sort feature provided by <code>hadoop</code> framework.</p>\n<p>My input format is of the form:</p>\n<pre><code>DESC(String) Price(Integer) and some other Text\n</code></pre>\n<p>I want the values in the reducer to be descending order of the Price.\nAlso while comparing <code>DESC</code> I have a method which takes two strings and a Percentage and if similarity between the two strings equals or is greater than the percentage then I should consider them as equal.</p>\n<p>The problem is after the Reduce Job is finished I can see some <code>DESC</code> which is similar to the other string and yet they are in different group.</p>\n<p>Here is my <code>compareTo</code> method of Composite key:</p>\n<pre><code>public int compareTo(VendorKey o) {\n    int result =-\n    result = compare(token, o.token, &quot;:&quot;) &gt;= percentage ? 0:1;\n    if (result == 0) {\n        return pid&gt; o.pid  ?-1: pid &lt; o.pid ?1:0;\n    }\n    return result;\n}\n</code></pre>\n<p>and compare method of Grouping Comparator:</p>\n<pre><code>public int compare(WritableComparable a, WritableComparable b) {\n    VendorKey one = (VendorKey) a;\n    VendorKey two = (VendorKey) b;\n    int result = ClusterUtil.compare(one.getToken(), two.getToken(), &quot;:&quot;) &gt;= one.getPercentage() ? 0 : 1;\n    // if (result != 0)\n    // return two.getToken().compareTo(one.getToken());\n    return result;\n}\n</code></pre>\n"},{"tags":["java","parsing","lex","jflex","cup"],"comments":[{"owner":{"account_id":3908710,"reputation":700,"user_id":3234641,"accept_rate":80,"display_name":"A-_-S"},"score":0,"creation_date":1678721088,"post_id":75712371,"comment_id":133584110,"body_markdown":"if you want to define TEXT as a string, rather than java.lang.Object you should declare it as &#39;terminal String TEXT;&#39;","body":"if you want to define TEXT as a string, rather than java.lang.Object you should declare it as &#39;terminal String TEXT;&#39;"}],"owner":{"account_id":25062339,"reputation":3,"user_id":18917065,"display_name":"Ale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678615339,"creation_date":1678615339,"question_id":75712371,"body_markdown":"I&#39;m using CUP for a project but I&#39;m not really sure how to save the value of the token TEXT into a String \r\n\r\nhere&#180;s my production:\r\n\r\n```\r\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;&#180;text value&quot; ); :}\r\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\r\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \r\n                      String textToken = &quot;TEXT VALUE&quot;\r\n                      System.out.println(&quot;p description: &quot; + textoToken); \r\n                   :};\r\n```\r\n\r\nhere&#39;s the complete code\r\n\r\n\r\n```\r\nparser code\r\n{:\r\n    public String resultado=&quot;&quot;;\r\n    public static LinkedList&lt;TError&gt; TablaES = new LinkedList&lt;TError&gt;(); \r\n    public static Flexcup f = new Flexcup();\r\n\r\n\r\n    //Metodo al que se llama en el momento en que ya no es posible una recuperacion de errores\r\n    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception\r\n    {        \r\n        String lexema = s.value.toString();\r\n        int fila = s.right;\r\n        int columna = s.left;\r\n        \r\n        System.out.println(&quot;!!!!!!! Error Sintactico, Panic Mode !!!!!!! &quot;);\r\n        System.out.println(&quot;\\t\\tLexema: &quot;+lexema);\r\n        System.out.println(&quot;\\t\\tFila: &quot;+fila);\r\n        System.out.println(&quot;\\t\\tColumna: &quot;+columna);\r\n\r\n        TError datos = new TError(lexema,fila,columna,&quot;Error Sintactico&quot;,&quot;Caracter no esperado&quot;);\r\n        TablaES.add(datos);\r\n     \r\n    }\r\n:}\r\n\r\n//------&gt; Codigo para las acciones gramaticales\r\naction code\r\n{:\r\n:}\r\n\r\n/* Clases y variables de los s&#237;mbolos terminales */\r\nterminal TEXT,\r\n         ERROR_START, ERROR_END, ERRORS_START, ERRORS_END,\r\n         LEXEMA_START, LEXEMA_END, TIPO_START, TIPO_END,\r\n         LINE_START, LINE_END, COLUMN_START, COLUMN_END,\r\n         DESCRIPCION_START, DESCRIPCION_END, numero;\r\nnon terminal document, errors, element, error_tag, error_content, error_content_list;\r\n/* Producciones */\r\nstart with document;\r\n\r\ndocument ::= errors;\r\n\r\nerrors ::= ERRORS_START element ERRORS_END;\r\n\r\nelement ::= error_tag\r\n            | element error_tag;\r\n\r\nerror_tag ::= ERROR_START error_content_list ERROR_END;\r\n\r\nerror_content_list ::= error_content\r\n                        | error_content_list  error_content;\r\n\r\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;&#180;text value&quot; ); :}\r\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\r\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\r\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \r\n                      String textToken = &quot;TEXT VALUE&quot;\r\n                      System.out.println(&quot;p description: &quot; + textoToken); \r\n                   :};\r\n```\r\n","title":"How to save a symbol value in CUP? java parser","body":"<p>I'm using CUP for a project but I'm not really sure how to save the value of the token TEXT into a String</p>\n<p>here´s my production:</p>\n<pre><code>error_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;´text value&quot; ); :}\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \n                      String textToken = &quot;TEXT VALUE&quot;\n                      System.out.println(&quot;p description: &quot; + textoToken); \n                   :};\n</code></pre>\n<p>here's the complete code</p>\n<pre><code>parser code\n{:\n    public String resultado=&quot;&quot;;\n    public static LinkedList&lt;TError&gt; TablaES = new LinkedList&lt;TError&gt;(); \n    public static Flexcup f = new Flexcup();\n\n\n    //Metodo al que se llama en el momento en que ya no es posible una recuperacion de errores\n    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception\n    {        \n        String lexema = s.value.toString();\n        int fila = s.right;\n        int columna = s.left;\n        \n        System.out.println(&quot;!!!!!!! Error Sintactico, Panic Mode !!!!!!! &quot;);\n        System.out.println(&quot;\\t\\tLexema: &quot;+lexema);\n        System.out.println(&quot;\\t\\tFila: &quot;+fila);\n        System.out.println(&quot;\\t\\tColumna: &quot;+columna);\n\n        TError datos = new TError(lexema,fila,columna,&quot;Error Sintactico&quot;,&quot;Caracter no esperado&quot;);\n        TablaES.add(datos);\n     \n    }\n:}\n\n//------&gt; Codigo para las acciones gramaticales\naction code\n{:\n:}\n\n/* Clases y variables de los símbolos terminales */\nterminal TEXT,\n         ERROR_START, ERROR_END, ERRORS_START, ERRORS_END,\n         LEXEMA_START, LEXEMA_END, TIPO_START, TIPO_END,\n         LINE_START, LINE_END, COLUMN_START, COLUMN_END,\n         DESCRIPCION_START, DESCRIPCION_END, numero;\nnon terminal document, errors, element, error_tag, error_content, error_content_list;\n/* Producciones */\nstart with document;\n\ndocument ::= errors;\n\nerrors ::= ERRORS_START element ERRORS_END;\n\nelement ::= error_tag\n            | element error_tag;\n\nerror_tag ::= ERROR_START error_content_list ERROR_END;\n\nerror_content_list ::= error_content\n                        | error_content_list  error_content;\n\nerror_content ::= LEXEMA_START TEXT LEXEMA_END {:   System.out.println(&quot;´text value&quot; ); :}\n                | LINE_START numero LINE_END {: System.out.println(&quot;numero value&quot;); :}\n                | COLUMN_START numero COLUMN_END {: System.out.println(&quot;numero value&quot;); :}\n                | TIPO_START TEXT TIPO_END {: System.out.println(&quot;text value&quot;); :}\n                | DESCRIPCION_START TEXT DESCRIPCION_END {: \n                      String textToken = &quot;TEXT VALUE&quot;\n                      System.out.println(&quot;p description: &quot; + textoToken); \n                   :};\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1566779985,"post_id":57644655,"comment_id":101751859,"body_markdown":"There are many possible reasons aspects not kicking in. So before I answer, a few questions: Have you verified that Spring AOP works at all in your project, e.g. with a different pointcut? Have you made sure your aspect is a `@Component` and being picked up by component scan? Are the target classes also Spring components?","body":"There are many possible reasons aspects not kicking in. So before I answer, a few questions: Have you verified that Spring AOP works at all in your project, e.g. with a different pointcut? Have you made sure your aspect is a <code>@Component</code> and being picked up by component scan? Are the target classes also Spring components?"},{"owner":{"account_id":16402538,"reputation":29,"user_id":11848044,"display_name":"CHIRAG LADDHA"},"score":0,"creation_date":1566831208,"post_id":57644655,"comment_id":101769857,"body_markdown":"@kriegaex yes when i gave complete pkg for service ,its kicking.","body":"@kriegaex yes when i gave complete pkg for service ,its kicking."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566860406,"creation_date":1566860406,"answer_id":57665849,"question_id":57644655,"body_markdown":"&gt; @kriegaex: Yes, when I gave complete pkg for service, it&#39;s kicking\r\n\r\nThen the explanation is simple: Your pointcut does not capture the classes and methods you expect it to:\r\n\r\n    execution(* com.example.platform.test.*.*.*(..))\r\n\r\nThis would e.g. capture\r\n\r\n    com.example.platform.test.foo.ClassA.methodX(..)\r\n    com.example.platform.test.bar.ClassB.methodY(..)\r\n\r\nBut not\r\n\r\n    com.example.platform.test.ClassA.methodX(..)\r\n    com.example.platform.test.foo.bar.ClassA.methodX(..)\r\n\r\nThis is because you gave an exact number of subpackages (1) + class name + method name with `.*.*.*`. You are more flexible like this:\r\n\r\n    execution(* com.example.platform.test..*(..))\r\n\r\nIt will capture all of the above because `..` says: No matter how many packages and class names in between, capture all methods in `com.example.platform.test` and all sub-packages.","title":"I have created a point cut for base package execution( * com.blk.example.*.*.*)&quot; but @advice method is not calling at all..?","body":"<blockquote>\n  <p>@kriegaex: Yes, when I gave complete pkg for service, it's kicking</p>\n</blockquote>\n\n<p>Then the explanation is simple: Your pointcut does not capture the classes and methods you expect it to:</p>\n\n<pre><code>execution(* com.example.platform.test.*.*.*(..))\n</code></pre>\n\n<p>This would e.g. capture</p>\n\n<pre><code>com.example.platform.test.foo.ClassA.methodX(..)\ncom.example.platform.test.bar.ClassB.methodY(..)\n</code></pre>\n\n<p>But not</p>\n\n<pre><code>com.example.platform.test.ClassA.methodX(..)\ncom.example.platform.test.foo.bar.ClassA.methodX(..)\n</code></pre>\n\n<p>This is because you gave an exact number of subpackages (1) + class name + method name with <code>.*.*.*</code>. You are more flexible like this:</p>\n\n<pre><code>execution(* com.example.platform.test..*(..))\n</code></pre>\n\n<p>It will capture all of the above because <code>..</code> says: No matter how many packages and class names in between, capture all methods in <code>com.example.platform.test</code> and all sub-packages.</p>\n"}],"owner":{"account_id":16402538,"reputation":29,"user_id":11848044,"display_name":"CHIRAG LADDHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678615259,"creation_date":1566723687,"question_id":57644655,"body_markdown":"AOP `@Around` is not calling at all for base package point cut. Below is the code I am using. It should show me start time, end time, time taken but &quot;AOP method&quot; is not firing at all for any controller, service method within the base package.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Configuration\r\n    public  class LoggerAOP {\r\n    \tprivate static final Logger logger = oggerFactory.getLogger(LoggerAOP.class);\r\n    \t\r\n    \t@Around(&quot;execution(* com.example.platform.test.*.*.*(..))&quot;)\r\n    \tpublic void customAOPMetrics(ProceedingJoinPoint pjp) throws Throwable {\r\n    \r\n    \t\tMDC.put(&quot;CorelationalId&quot;, UUID.randomUUID());\r\n    \t\tMDC.put(&quot;eventId&quot;, UUID.randomUUID());\r\n    \r\n    \t\tlogger.info(pjp.getSignature().getName() + &quot; called with &quot;);\r\n    \t\tlogger.info(Arrays.toString(pjp.getArgs()));\r\n    \r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tlogger.info(&quot;Start time: &quot; + startTime);\r\n    \r\n    \t\ttry {\r\n    \t\t\tpjp.proceed();\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tlogger.error(&quot;Error occured: &quot; + ex.getStackTrace());\r\n    \t\t}\r\n    \r\n    \t\tlong endTime = System.currentTimeMillis();\r\n    \t\tlogger.info(&quot;End Time :&quot; + endTime);\r\n    \t\tlong timeTaken = endTime - startTime;\r\n    \t\tMDC.clear();\r\n    \t\tlogger.info(&quot;Time taken: &quot; + timeTaken);\r\n    \t}\r\n    }\r\n","title":"I have created a point cut for base package execution( * com.blk.example.*.*.*)&quot; but @advice method is not calling at all..?","body":"<p>AOP <code>@Around</code> is not calling at all for base package point cut. Below is the code I am using. It should show me start time, end time, time taken but \"AOP method\" is not firing at all for any controller, service method within the base package.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Configuration\npublic  class LoggerAOP {\n    private static final Logger logger = oggerFactory.getLogger(LoggerAOP.class);\n\n    @Around(\"execution(* com.example.platform.test.*.*.*(..))\")\n    public void customAOPMetrics(ProceedingJoinPoint pjp) throws Throwable {\n\n        MDC.put(\"CorelationalId\", UUID.randomUUID());\n        MDC.put(\"eventId\", UUID.randomUUID());\n\n        logger.info(pjp.getSignature().getName() + \" called with \");\n        logger.info(Arrays.toString(pjp.getArgs()));\n\n        long startTime = System.currentTimeMillis();\n        logger.info(\"Start time: \" + startTime);\n\n        try {\n            pjp.proceed();\n\n        } catch (Exception ex) {\n            logger.error(\"Error occured: \" + ex.getStackTrace());\n        }\n\n        long endTime = System.currentTimeMillis();\n        logger.info(\"End Time :\" + endTime);\n        long timeTaken = endTime - startTime;\n        MDC.clear();\n        logger.info(\"Time taken: \" + timeTaken);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625114428,"post_id":68197142,"comment_id":120542202,"body_markdown":"Welcome to SO. Your question does not constitute an [MCVE](https://stackoverflow.com/help/mcve), which is the preferred way to ask questions here and dramatically improves your chances to receive helpful answers. Nobody can compile an incoherent set of code snippets, therefore nobody can reproduce your problem. Probably, the problem is in the portion of the code/configuration you are hiding from us. so please edit the question, then leave a comment here. The pointcut looks OK to me. Does the aspect kick in if you change it to `execution(* com.xxx.mypackage..*(..))`?","body":"Welcome to SO. Your question does not constitute an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, which is the preferred way to ask questions here and dramatically improves your chances to receive helpful answers. Nobody can compile an incoherent set of code snippets, therefore nobody can reproduce your problem. Probably, the problem is in the portion of the code/configuration you are hiding from us. so please edit the question, then leave a comment here. The pointcut looks OK to me. Does the aspect kick in if you change it to <code>execution(* com.xxx.mypackage..*(..))</code>?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625121006,"post_id":68197142,"comment_id":120543707,"body_markdown":"@kriegaex thanks for letting me know the problem with my post , I have edit the question and also gave a try to change the pointcut expression you mentioned but still it is not executing.","body":"@kriegaex thanks for letting me know the problem with my post , I have edit the question and also gave a try to change the pointcut expression you mentioned but still it is not executing."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625122721,"post_id":68197142,"comment_id":120544260,"body_markdown":"What was unclear about the term [MCVE](https://stackoverflow.com/help/mcve)?","body":"What was unclear about the term <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625129468,"post_id":68197142,"comment_id":120546952,"body_markdown":"@kriegaex I again re edited the question and I hope this will suffice to understand the problem, any more info required pls let me know , will update here. With regarding MCVE , being a newbie slowly will learn the process.","body":"@kriegaex I again re edited the question and I hope this will suffice to understand the problem, any more info required pls let me know , will update here. With regarding MCVE , being a newbie slowly will learn the process."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625145227,"post_id":68197142,"comment_id":120553790,"body_markdown":"Besides, I reformatted your question before, now again you are using weird quotations for your own text. I am going to fix that again, it looks weird. I do not mean to be unfriendly, really. But please do listen to my advice. I am sure if I had the MCVe, I could solve your problem in 2 minutes. Writing this here takes much longer. It is a waste of time for both of us, and my time is limited. You are also suffering, waiting for your solution longer than necessary.","body":"Besides, I reformatted your question before, now again you are using weird quotations for your own text. I am going to fix that again, it looks weird. I do not mean to be unfriendly, really. But please do listen to my advice. I am sure if I had the MCVe, I could solve your problem in 2 minutes. Writing this here takes much longer. It is a waste of time for both of us, and my time is limited. You are also suffering, waiting for your solution longer than necessary."},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625161121,"post_id":68197142,"comment_id":120560750,"body_markdown":"I have gone through that article, earlier my whole idea was to explain the problem without proper MCVe. I cannot post entire or minimal project on GitHub due to organisation restricted policies. Thanks for your time and valuable suggestions. Let&#39;s close it here , I would like to put my time to fix the problem rather than commenting here because now it really looks weird. Niehter you are going to understand the problem without proper MCVe nor I am going post the same thing here again and again.","body":"I have gone through that article, earlier my whole idea was to explain the problem without proper MCVe. I cannot post entire or minimal project on GitHub due to organisation restricted policies. Thanks for your time and valuable suggestions. Let&#39;s close it here , I would like to put my time to fix the problem rather than commenting here because now it really looks weird. Niehter you are going to understand the problem without proper MCVe nor I am going post the same thing here again and again."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625187552,"post_id":68197142,"comment_id":120567345,"body_markdown":"You still do not seem to understand what MCVE means. I do not need a copy of your full project with confidential code. An MCVE is a minimal, abstracted version of it, just enough to reproduce the problem. You can rename all packages and classes, strip them down to do nothing else than is necessary to reproduce the problem. If you call yourself a developer, you should be able to do it. You don&#39;t need to add anything, only remove as much as possible. It does not get much easier than that, every developer can do that. Don&#39;t use company policies as an excuse, they don&#39;t apply to an MCVE.","body":"You still do not seem to understand what MCVE means. I do not need a copy of your full project with confidential code. An MCVE is a minimal, abstracted version of it, just enough to reproduce the problem. You can rename all packages and classes, strip them down to do nothing else than is necessary to reproduce the problem. If you call yourself a developer, you should be able to do it. You don&#39;t need to add anything, only remove as much as possible. It does not get much easier than that, every developer can do that. Don&#39;t use company policies as an excuse, they don&#39;t apply to an MCVE."},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625195864,"post_id":68197142,"comment_id":120568618,"body_markdown":"Did that only while posting the code on SO. I replaced packages name with xxxx etc and also it&#39;s not excuse (git link doesn&#39;t open - restricted access). I can only post required classes with minimal and required code to reproduce the problem on SO and I already did that. The last thing I can do is to create a replica project of same on my personal machine and reproduce the problem. Then I will upload the same on git and will share a link to you. FYI I am not saying company policies apply to MCVe and also I am not making any excuse","body":"Did that only while posting the code on SO. I replaced packages name with xxxx etc and also it&#39;s not excuse (git link doesn&#39;t open - restricted access). I can only post required classes with minimal and required code to reproduce the problem on SO and I already did that. The last thing I can do is to create a replica project of same on my personal machine and reproduce the problem. Then I will upload the same on git and will share a link to you. FYI I am not saying company policies apply to MCVe and also I am not making any excuse"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1625208912,"post_id":68197142,"comment_id":120571280,"body_markdown":"No, for the 3rd time: You did **not** post an MCVe here, only an aspect. You really need to pay a bit more respect to the people trying to help you by thoroughly reading their messages. Quoting myself: _&quot;No, it does not suffice, because in order to understand why an aspect might not be working as expected, I need **full aspects** incl. imports and package names, **full application classes** and **full configuration**. All three could be wrong or contain information necessary to debug.&quot;_ So where are your application code and configuration, please?","body":"No, for the 3rd time: You did <b>not</b> post an MCVe here, only an aspect. You really need to pay a bit more respect to the people trying to help you by thoroughly reading their messages. Quoting myself: <i>&quot;No, it does not suffice, because in order to understand why an aspect might not be working as expected, I need <b>full aspects</b> incl. imports and package names, <b>full application classes</b> and <b>full configuration</b>. All three could be wrong or contain information necessary to debug.&quot;</i> So where are your application code and configuration, please?"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625221722,"post_id":68197142,"comment_id":120576035,"body_markdown":"@kriegaex Please find the updated post with project source code link","body":"@kriegaex Please find the updated post with project source code link"},{"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"score":0,"creation_date":1625249060,"post_id":68197142,"comment_id":120586415,"body_markdown":"I really apologize for being a disrespectful and appreciate your patience. I never meant to be in that way.","body":"I really apologize for being a disrespectful and appreciate your patience. I never meant to be in that way."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625269744,"creation_date":1625239165,"answer_id":68227673,"question_id":68197142,"body_markdown":"Thanks for the MCVE on GitHub. There are so many problems in your application, without the full project I would never have been able to find out what is wrong with it. Among other things, you have these problems:\r\n\r\n* Your aspect has not one, but two `@Around` advices. None of them proceeds to the original method. This has the effect that only the first advice gets triggered (whichever Spring AOP finds first), but never the second one. And also, your original method is never called. Therefore, both advices need to call `lJoinPoint.proceed()`. In `@Before` or `@After` advices, this is not necessary, but in `@Around` it is, hence the parameter type `ProceedingJoinPoint` (not a simple `JoinPoint` like in the other advice types).\r\n\r\n* Spring AOP only works on Spring-managed components or beans, but you instantiate your `EVMLogger` instance by simply calling a static factory method outside the control of Spring. Therefore, Spring AOP can never create an AOP proxy for this class and never intercept any method calls on it. The `@CustomLogged` annotation on method `public void debug(Object lMsg)` has no effect.\r\n\r\n* Also in `EVMLogger`, you save a `Logger` instance in a static variable, but actually if you want a different `Logger` for each class using `EVMLogger`, you cannot overwrite this static field. You have to make it an instance field and set it whenever you create a `EVMLogger` instance.\r\n\r\n* That you need multiple `EVMLogger` instances, also means that you cannot use a singleton bean but should use a prototype bean. There are several ways to [instantiate a parametrised prototype bean](https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df) dynamically. I am showing you how to auto-wire the application context into target class constructors needing the `EVMLogger` and there to get a bean instance from the context. This applies to two different classes in your example.\r\n\r\nOne more thing that looks weird to me, is that your aspect logs what `EVMLogger` does, i.e. a logger loggging infos about another logger. But maybe your aspect does something else in reality and logging was just for the sake of the MCVE. I am assuming it is so.\r\n\r\nI created a [pull request](https://github.com/ssnarvariya/July_Projects/pull/1) for your convenience. The key commits are:\r\n  * https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab\r\n  * https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd\r\n\r\nThe console log when calling `curl http://127.0.0.1:8080/getreq` looks like this:\r\n\r\n```none\r\nInside logEntryLevelInfo for method ::showSampleData\r\nInside logEntryLevelInfo for method ::tryService\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;tryService&quot;,&quot;mtd_args&quot;:[&quot;Message1&quot;]}}\r\nInside logCustomAnnotatedInfo for annotated method ::debug\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Custom Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.controller.TestController1&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:From Controller---}\r\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;showSampleData&quot;,&quot;mtd_args&quot;:[]}}\r\n```\r\n\r\nYou see that\r\n  * there are two distinct logger names `CustomLogService` and `TestController1` and\r\n  * both aspect advices fire now.\r\n  ","title":"Advice is not executing for custom annotation used at method level and it seems problem with poincut , any suggestions?","body":"<p>Thanks for the MCVE on GitHub. There are so many problems in your application, without the full project I would never have been able to find out what is wrong with it. Among other things, you have these problems:</p>\n<ul>\n<li><p>Your aspect has not one, but two <code>@Around</code> advices. None of them proceeds to the original method. This has the effect that only the first advice gets triggered (whichever Spring AOP finds first), but never the second one. And also, your original method is never called. Therefore, both advices need to call <code>lJoinPoint.proceed()</code>. In <code>@Before</code> or <code>@After</code> advices, this is not necessary, but in <code>@Around</code> it is, hence the parameter type <code>ProceedingJoinPoint</code> (not a simple <code>JoinPoint</code> like in the other advice types).</p>\n</li>\n<li><p>Spring AOP only works on Spring-managed components or beans, but you instantiate your <code>EVMLogger</code> instance by simply calling a static factory method outside the control of Spring. Therefore, Spring AOP can never create an AOP proxy for this class and never intercept any method calls on it. The <code>@CustomLogged</code> annotation on method <code>public void debug(Object lMsg)</code> has no effect.</p>\n</li>\n<li><p>Also in <code>EVMLogger</code>, you save a <code>Logger</code> instance in a static variable, but actually if you want a different <code>Logger</code> for each class using <code>EVMLogger</code>, you cannot overwrite this static field. You have to make it an instance field and set it whenever you create a <code>EVMLogger</code> instance.</p>\n</li>\n<li><p>That you need multiple <code>EVMLogger</code> instances, also means that you cannot use a singleton bean but should use a prototype bean. There are several ways to <a href=\"https://medium.com/davebarda/creating-a-dynamically-initialized-bean-in-spring-18d6d41d24df\" rel=\"nofollow noreferrer\">instantiate a parametrised prototype bean</a> dynamically. I am showing you how to auto-wire the application context into target class constructors needing the <code>EVMLogger</code> and there to get a bean instance from the context. This applies to two different classes in your example.</p>\n</li>\n</ul>\n<p>One more thing that looks weird to me, is that your aspect logs what <code>EVMLogger</code> does, i.e. a logger loggging infos about another logger. But maybe your aspect does something else in reality and logging was just for the sake of the MCVE. I am assuming it is so.</p>\n<p>I created a <a href=\"https://github.com/ssnarvariya/July_Projects/pull/1\" rel=\"nofollow noreferrer\">pull request</a> for your convenience. The key commits are:</p>\n<ul>\n<li><a href=\"https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects/pull/1/commits/c8ed9aab</a></li>\n<li><a href=\"https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects/pull/1/commits/597d8ccd</a></li>\n</ul>\n<p>The console log when calling <code>curl http://127.0.0.1:8080/getreq</code> looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Inside logEntryLevelInfo for method ::showSampleData\nInside logEntryLevelInfo for method ::tryService\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;tryService&quot;,&quot;mtd_args&quot;:[&quot;Message1&quot;]}}\nInside logCustomAnnotatedInfo for annotated method ::debug\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Custom Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.controller.TestController1&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:From Controller---}\n{&quot;@timestamp&quot;:&quot;2021-07-02T19:49:54.879+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Debug Msg...&quot;,&quot;logger_name&quot;:&quot;org.ssn.app.config.CustomLogService&quot;,&quot;thread_name&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;app_msg&quot;:{&quot;mthd_name&quot;:&quot;showSampleData&quot;,&quot;mtd_args&quot;:[]}}\n</code></pre>\n<p>You see that</p>\n<ul>\n<li>there are two distinct logger names <code>CustomLogService</code> and <code>TestController1</code> and</li>\n<li>both aspect advices fire now.</li>\n</ul>\n"}],"owner":{"account_id":7596006,"reputation":33,"user_id":5762171,"display_name":"Shubham Narvariya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68227673,"answer_count":1,"score":-1,"last_activity_date":1678615091,"creation_date":1625064861,"question_id":68197142,"body_markdown":"My advice in the following aspect is not getting executed:\r\n\r\n```java\r\npackage com.xxxx.logging.core.config;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.AfterThrowing;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Aspect\r\n@Component\r\npublic class LogingAspectHandler {\r\n\r\n\t@Autowired\r\n\tCustomAppender lCustomAppender;\r\n\r\n\t//@Pointcut(&quot;execution(@com.xxxx.logging.core.config.CustomLogged * *(..))&quot;)\r\n\t@Pointcut(&quot;@annotation(com.xxxx.logging.core.config.CustomLogged)&quot;)\r\n\tpublic void customAnnotated() {}\r\n\r\n    @Around(&quot;customAnnotated()&quot;)\r\n\tpublic void customLogger(ProceedingJoinPoint lProceedingJointPoint) {\r\n\t    System.out.println(&quot;Get it &quot;+lProceedingJointPoint.getSignature().getName());\r\n\t\tlCustomAppender.logEntryLevelInfo(lProceedingJointPoint);\r\n\t\t  \r\n    }\r\n}\r\n```\r\n\r\nI have created a custom annotation named `CustomLogged` with `Target(ElementType.METHOD)` and using it at method level in a class within package `com.xxxx.logging.core.config`. Now I want a pointcut for all those methods which are annotated with `@CustomLogged`.\r\n\r\nPlease find the source code link  &lt;br/&gt;\r\n&lt;https://github.com/ssnarvariya/July_Projects.git&gt;\r\n","title":"Advice is not executing for custom annotation used at method level and it seems problem with poincut , any suggestions?","body":"<p>My advice in the following aspect is not getting executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xxxx.logging.core.config;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class LogingAspectHandler {\n\n    @Autowired\n    CustomAppender lCustomAppender;\n\n    //@Pointcut(&quot;execution(@com.xxxx.logging.core.config.CustomLogged * *(..))&quot;)\n    @Pointcut(&quot;@annotation(com.xxxx.logging.core.config.CustomLogged)&quot;)\n    public void customAnnotated() {}\n\n    @Around(&quot;customAnnotated()&quot;)\n    public void customLogger(ProceedingJoinPoint lProceedingJointPoint) {\n        System.out.println(&quot;Get it &quot;+lProceedingJointPoint.getSignature().getName());\n        lCustomAppender.logEntryLevelInfo(lProceedingJointPoint);\n          \n    }\n}\n</code></pre>\n<p>I have created a custom annotation named <code>CustomLogged</code> with <code>Target(ElementType.METHOD)</code> and using it at method level in a class within package <code>com.xxxx.logging.core.config</code>. Now I want a pointcut for all those methods which are annotated with <code>@CustomLogged</code>.</p>\n<p>Please find the source code link  <br/>\n<a href=\"https://github.com/ssnarvariya/July_Projects.git\" rel=\"nofollow noreferrer\">https://github.com/ssnarvariya/July_Projects.git</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678572206,"post_id":75709806,"comment_id":133560672,"body_markdown":"Stop using classes annotated with `@Entity` in your API. Learn about proper 3tier architecture","body":"Stop using classes annotated with <code>@Entity</code> in your API. Learn about proper 3tier architecture"},{"owner":{"account_id":27994638,"reputation":1,"user_id":21380166,"display_name":"aakriti"},"score":0,"creation_date":1678573084,"post_id":75709806,"comment_id":133560774,"body_markdown":"Any suggestions Sir? I am new to this.","body":"Any suggestions Sir? I am new to this."},{"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"score":0,"creation_date":1678576407,"post_id":75709806,"comment_id":133561223,"body_markdown":"I don&#39;t see where you asked to return the post.","body":"I don&#39;t see where you asked to return the post."},{"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"score":0,"creation_date":1678576742,"post_id":75709806,"comment_id":133561273,"body_markdown":"maybe add  a temo.add(user. getPosts()) before return temp","body":"maybe add  a temo.add(user. getPosts()) before return temp"},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678582448,"post_id":75709806,"comment_id":133561793,"body_markdown":"Remove FetchType.LAZY from your Posts class. It should work after that.","body":"Remove FetchType.LAZY from your Posts class. It should work after that."}],"answers":[{"tags":[],"owner":{"account_id":17857092,"reputation":26,"user_id":12971433,"display_name":"Navid Mahbub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678615048,"creation_date":1678615048,"answer_id":75712345,"question_id":75709806,"body_markdown":"```java\r\n@OneToMany(mappedBy = &quot;user&quot;)\r\nprivate List&lt;Post&gt; posts;\r\n```\r\nBy default OneToMany relations are `FetchType.LAZY` that&#39;s why the post list is not fetching. The list will appear if you make it eager or write a custom repository function to get users with a posts list.\r\n\r\n```java\r\n@Query(value = &quot;Select u from User u left join fetch u.posts where u.id = :id&quot;)\r\nUser getUserWithPostList(Integer id)\r\n```\r\n\r\nthen replace the `userRepository.findById(id);` by `userRepository.getUserWithPostList(id);`","title":"SpringBoot JPA - Not getting model class data member while fetching that model class","body":"<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Post&gt; posts;\n</code></pre>\n<p>By default OneToMany relations are <code>FetchType.LAZY</code> that's why the post list is not fetching. The list will appear if you make it eager or write a custom repository function to get users with a posts list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;Select u from User u left join fetch u.posts where u.id = :id&quot;)\nUser getUserWithPostList(Integer id)\n</code></pre>\n<p>then replace the <code>userRepository.findById(id);</code> by <code>userRepository.getUserWithPostList(id);</code></p>\n"}],"owner":{"account_id":27994638,"reputation":1,"user_id":21380166,"display_name":"aakriti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678615048,"creation_date":1678572073,"question_id":75709806,"body_markdown":"I am implementing simple JPA Use case of Social media app .\r\nThere are 2 classes User and Post mentioned below . \r\nWhen I try to list the user of particular id I am not getting posts of that user in\r\nreturned User Object\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**User classs\r\n**\r\n```\r\npackage com.practice.learnsb.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.validation.constraints.Past;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\n\r\n@Entity(name = &quot;user_details&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n   @Size(min = 4 ,message = &quot;Name should have min of 4 letters&quot;)\r\n   @JsonProperty (&quot;user_name&quot;)\r\n   private String name;\r\n   @Past\r\n    private LocalDate dob;\r\n\r\n   @OneToMany(mappedBy = &quot;user&quot;)\r\n   private List&lt;Post&gt; posts;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n\r\n    public User(Integer id, String name, LocalDate dob) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.dob = dob;\r\n    }\r\n\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public LocalDate getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public void setDob(LocalDate dateOfBirth) {\r\n        this.dob = dateOfBirth;\r\n    }\r\n\r\n    public List&lt;Post&gt; getPosts() {\r\n        return posts;\r\n    }\r\n\r\n    public void setPosts(List&lt;Post&gt; posts) {\r\n        this.posts = posts;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, dateOfBirth=&quot; + dob +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Post class \r\n**\r\n\r\n\r\n```\r\npackage com.practice.learnsb.model;\r\n\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class Post {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Integer id;\r\n\r\n    private String description;\r\n\r\n    @ManyToOne (fetch = FetchType.LAZY)\r\n    private User user;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Post(Integer id, String description) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n    public Post() {\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Controller\r\n**\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class UserJPAController {\r\n\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n\r\n    @GetMapping(path = &quot;/jpa/user&quot;)\r\n    public List&lt;User&gt; getAllUsers(){\r\n        return userRepository.findAll();\r\n\r\n    }\r\n\r\n   @GetMapping(path = &quot;/jpa/user/{id}&quot;)\r\n    public EntityModel&lt;User&gt; getUserById(@PathVariable int id){\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n\r\n\r\n       if(user.isEmpty()){\r\n           throw new UserNotFoundException(&quot;id&quot;+id);\r\n       }\r\n\r\n        EntityModel&lt;User&gt; temp = EntityModel.of(user.get());\r\n        WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).getAllUsers());\r\n        temp.add(link.withRel(&quot;all-users&quot;));\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**UserJPARepository\r\n**\r\n\r\n\r\n\r\n```\r\npackage com.practice.learnsb.repository;\r\n\r\nimport com.practice.learnsb.model.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; {\r\n}\r\n```\r\n\r\nWe have initialized some Users and Posts in data.sql\r\n\r\n```\r\ninsert into user_details(id,name,dob)\r\nvalues(1001,&#39;temp&#39;,current_date()-1),\r\n      (1002,&#39;temp1&#39;,current_date()-3),\r\n      (1003,&#39;temp2&#39;,current_date()-5),\r\n      (1004,&#39;temp3&#39;,current_date()-7);\r\n\r\n\r\ninsert into post(id,description,user_id)\r\nvalues(2001,&#39;post1&#39;,1001),\r\n      (2002,&#39;post2&#39;,1001),\r\n      (2003,&#39;post3&#39;,1002),\r\n      (2004,&#39;post4&#39;,1002);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen I hit the url `http://localhost:8080/jpa/user/1001` \r\nI get the below response \r\n```\r\n{\r\n    &quot;dob&quot;: &quot;2023-03-11&quot;,\r\n    &quot;user_name&quot;: &quot;temp&quot;,\r\n    &quot;_links&quot;: {\r\n        &quot;all-users&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/jpa/user&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSo why are the posts for user not showing Up ?\r\n\r\nPls help me out !\r\n\r\n\r\n\r\n","title":"SpringBoot JPA - Not getting model class data member while fetching that model class","body":"<p>I am implementing simple JPA Use case of Social media app .\nThere are 2 classes User and Post mentioned below .\nWhen I try to list the user of particular id I am not getting posts of that user in\nreturned User Object</p>\n<p>**User classs\n**</p>\n<pre><code>package com.practice.learnsb.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.validation.constraints.Past;\nimport jakarta.validation.constraints.Size;\n\nimport java.time.LocalDate;\nimport java.util.List;\n\n\n@Entity(name = &quot;user_details&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n   @Size(min = 4 ,message = &quot;Name should have min of 4 letters&quot;)\n   @JsonProperty (&quot;user_name&quot;)\n   private String name;\n   @Past\n    private LocalDate dob;\n\n   @OneToMany(mappedBy = &quot;user&quot;)\n   private List&lt;Post&gt; posts;\n\n    public User() {\n\n    }\n\n\n    public User(Integer id, String name, LocalDate dob) {\n        this.id = id;\n        this.name = name;\n        this.dob = dob;\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public LocalDate getDob() {\n        return dob;\n    }\n\n    public void setDob(LocalDate dateOfBirth) {\n        this.dob = dateOfBirth;\n    }\n\n    public List&lt;Post&gt; getPosts() {\n        return posts;\n    }\n\n    public void setPosts(List&lt;Post&gt; posts) {\n        this.posts = posts;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, dateOfBirth=&quot; + dob +\n                '}';\n    }\n}\n</code></pre>\n<p>**Post class\n**</p>\n<pre><code>package com.practice.learnsb.model;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Integer id;\n\n    private String description;\n\n    @ManyToOne (fetch = FetchType.LAZY)\n    private User user;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Post(Integer id, String description) {\n        this.id = id;\n        this.description = description;\n    }\n\n    public Post() {\n    }\n}\n\n</code></pre>\n<p>**Controller\n**</p>\n<pre><code>@RestController\npublic class UserJPAController {\n\n\n    @Autowired\n    UserRepository userRepository;\n\n\n    @GetMapping(path = &quot;/jpa/user&quot;)\n    public List&lt;User&gt; getAllUsers(){\n        return userRepository.findAll();\n\n    }\n\n   @GetMapping(path = &quot;/jpa/user/{id}&quot;)\n    public EntityModel&lt;User&gt; getUserById(@PathVariable int id){\n        Optional&lt;User&gt; user = userRepository.findById(id);\n\n\n       if(user.isEmpty()){\n           throw new UserNotFoundException(&quot;id&quot;+id);\n       }\n\n        EntityModel&lt;User&gt; temp = EntityModel.of(user.get());\n        WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).getAllUsers());\n        temp.add(link.withRel(&quot;all-users&quot;));\n        return temp;\n    }\n}\n</code></pre>\n<p>**UserJPARepository\n**</p>\n<pre><code>package com.practice.learnsb.repository;\n\nimport com.practice.learnsb.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Integer&gt; {\n}\n</code></pre>\n<p>We have initialized some Users and Posts in data.sql</p>\n<pre><code>insert into user_details(id,name,dob)\nvalues(1001,'temp',current_date()-1),\n      (1002,'temp1',current_date()-3),\n      (1003,'temp2',current_date()-5),\n      (1004,'temp3',current_date()-7);\n\n\ninsert into post(id,description,user_id)\nvalues(2001,'post1',1001),\n      (2002,'post2',1001),\n      (2003,'post3',1002),\n      (2004,'post4',1002);\n</code></pre>\n<p>When I hit the url <code>http://localhost:8080/jpa/user/1001</code>\nI get the below response</p>\n<pre><code>{\n    &quot;dob&quot;: &quot;2023-03-11&quot;,\n    &quot;user_name&quot;: &quot;temp&quot;,\n    &quot;_links&quot;: {\n        &quot;all-users&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/jpa/user&quot;\n        }\n    }\n}\n</code></pre>\n<p>So why are the posts for user not showing Up ?</p>\n<p>Pls help me out !</p>\n"},{"tags":["java","android","timeout"],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678615000,"creation_date":1678615000,"answer_id":75712343,"question_id":75711936,"body_markdown":"This will solve your problem :\r\n\r\n    Timer timer = new Timer();\r\n    TimerTask task = new TimerTask() {\r\n       public void run() {\r\n          // Your method code here\r\n       }\r\n    };\r\n    timer.schedule(task, 5000);","title":"How to set a Timeout in java for Android Development?","body":"<p>This will solve your problem :</p>\n<pre><code>Timer timer = new Timer();\nTimerTask task = new TimerTask() {\n   public void run() {\n      // Your method code here\n   }\n};\ntimer.schedule(task, 5000);\n</code></pre>\n"}],"owner":{"account_id":27097368,"reputation":1,"user_id":20644435,"display_name":"AHDZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75712343,"answer_count":1,"score":0,"last_activity_date":1678615000,"creation_date":1678610220,"question_id":75711936,"body_markdown":"I&#39;m working on an app for Android 4.0 and later using Java.\r\n\r\nI want to set a timeout method in java that starts automatically and runs a method after 5 seconds.\r\n\r\nPlease tell me how to do that with explanation.\r\n\r\nI researched a lot about it on the Internet, but I couldn&#39;t get any result.","title":"How to set a Timeout in java for Android Development?","body":"<p>I'm working on an app for Android 4.0 and later using Java.</p>\n<p>I want to set a timeout method in java that starts automatically and runs a method after 5 seconds.</p>\n<p>Please tell me how to do that with explanation.</p>\n<p>I researched a lot about it on the Internet, but I couldn't get any result.</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490182730,"post_id":42950515,"comment_id":72996070,"body_markdown":"Did you ensure that MyAspect was added to your application context?","body":"Did you ensure that MyAspect was added to your application context?"},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490183405,"post_id":42950515,"comment_id":72996533,"body_markdown":"I don&#39;t think I made any entry for that. Also I don&#39;t know what/where exactly is application context. I&#39;m working on an existing system.","body":"I don&#39;t think I made any entry for that. Also I don&#39;t know what/where exactly is application context. I&#39;m working on an existing system."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490184635,"post_id":42950515,"comment_id":72997386,"body_markdown":"I would start with ensuring sprint is aware of MyAspect (ie it has been added to the application context).  This is generally done via `application-context.xml` or via class path scanning.  You already have @Component on the class, which is good, but you just need to make sure spring is aware of the class.","body":"I would start with ensuring sprint is aware of MyAspect (ie it has been added to the application context).  This is generally done via <code>application-context.xml</code> or via class path scanning.  You already have @Component on the class, which is good, but you just need to make sure spring is aware of the class."},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490184839,"post_id":42950515,"comment_id":72997528,"body_markdown":"I could not find application-context.xml in my application. So as a workaround I put my code in an existing Aspect. There also getting same error.","body":"I could not find application-context.xml in my application. So as a workaround I put my code in an existing Aspect. There also getting same error."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490185106,"post_id":42950515,"comment_id":72997728,"body_markdown":"What is the error?","body":"What is the error?"},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490185471,"post_id":42950515,"comment_id":72998017,"body_markdown":"Error I mean I am not able to see my  log.debug(&quot;I am in doAfterThrowingException&quot;); in the logs. Is there any other way to find out if my Aspect is triggered? I am not aware of any other way.","body":"Error I mean I am not able to see my  log.debug(&quot;I am in doAfterThrowingException&quot;); in the logs. Is there any other way to find out if my Aspect is triggered? I am not aware of any other way."},{"owner":{"account_id":164924,"reputation":3611,"user_id":388006,"accept_rate":79,"display_name":"pgreen2"},"score":0,"creation_date":1490186121,"post_id":42950515,"comment_id":72998515,"body_markdown":"2 questions. Is there a typo in the package or class b or method name?  Do you your logger set to print out debug messages? As a quick check,  I would change debug to error or fatal; which ever is the highest for your logging library.","body":"2 questions. Is there a typo in the package or class b or method name?  Do you your logger set to print out debug messages? As a quick check,  I would change debug to error or fatal; which ever is the highest for your logging library."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1490196930,"post_id":42950515,"comment_id":73007093,"body_markdown":"Before you bother about narrowing down the scope of your aspect, first it should run at all. I think it makes sense to read the fine Spring manual, especially the chapter about [Spring AOP](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html), and the come back here if afterwards you still have questions. Working on an existing application as a newbie is no excuse not to learn about the technologies used there befor you mess up the code. I mean no offense, but StackOverflow is hardly the right platform for you to delegate your work to others.","body":"Before you bother about narrowing down the scope of your aspect, first it should run at all. I think it makes sense to read the fine Spring manual, especially the chapter about <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a>, and the come back here if afterwards you still have questions. Working on an existing application as a newbie is no excuse not to learn about the technologies used there befor you mess up the code. I mean no offense, but StackOverflow is hardly the right platform for you to delegate your work to others."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1490197023,"post_id":42950515,"comment_id":73007161,"body_markdown":"Another recommendation to you if you want to get good answers here: Please create a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) so as to enable other users to reproduce and understand your problem.","body":"Another recommendation to you if you want to get good answers here: Please create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> so as to enable other users to reproduce and understand your problem."},{"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"score":0,"creation_date":1490339802,"post_id":42950515,"comment_id":73077595,"body_markdown":"Thanks for the suggestions @kriegaex. I have tried making some changes to the question. hope this helps.","body":"Thanks for the suggestions @kriegaex. I have tried making some changes to the question. hope this helps."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1490355431,"creation_date":1490348064,"answer_id":42995884,"question_id":42950515,"body_markdown":"You made a typical Spring AOP beginner&#39;s mistake: You assume that it works for private methods, but as the documentation clearly says, it does not. Spring AOP is based on dynamic proxies, and those only work for public methods when implementing interfaces via JDK proxies and additionally for protected and package-scoped methods when using CGLIB proxies.\r\n\r\nYou should make the `worker()` method public if you want to intercept it from an aspect.\r\n\r\nP.S.: Full-fledged AspectJ also works for private methods, but to switch to another AOP framework would be overkill here.\r\n\r\n&lt;hr&gt;\r\n\r\n**Update:** You also have other problems in your code:\r\n\r\n* The first `worker` method, even if you make it public, does not return anything. The last statement should be `return worker(send.getRequest(), send.getId());`, not just `worker(send.getRequest(), send.getId());`.\r\n* Your pointcut `com.xyz.myapp.ServiceImpl.worker()` will never match because it has an empty argument list, but your method has arguments. The `args()` does not help you here.\r\n* The syntax of your pointcut is also wrong because it does not specify a return type for the method, not even `*`. Furthermore, the method name itself is not enough, it should be enclosed in an actual pointcut type such as `execution()`. I.e. you want to write something like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Pointcut(&quot;execution(* com.xyz.myapp.ServiceImpl.worker(..)) &amp;&amp; args(request, ..)&quot;)\r\n    private void someOperation(Request request) {}","title":"Spring-AOP pointcut not working?","body":"<p>You made a typical Spring AOP beginner's mistake: You assume that it works for private methods, but as the documentation clearly says, it does not. Spring AOP is based on dynamic proxies, and those only work for public methods when implementing interfaces via JDK proxies and additionally for protected and package-scoped methods when using CGLIB proxies.</p>\n\n<p>You should make the <code>worker()</code> method public if you want to intercept it from an aspect.</p>\n\n<p>P.S.: Full-fledged AspectJ also works for private methods, but to switch to another AOP framework would be overkill here.</p>\n\n<hr>\n\n<p><strong>Update:</strong> You also have other problems in your code:</p>\n\n<ul>\n<li>The first <code>worker</code> method, even if you make it public, does not return anything. The last statement should be <code>return worker(send.getRequest(), send.getId());</code>, not just <code>worker(send.getRequest(), send.getId());</code>.</li>\n<li>Your pointcut <code>com.xyz.myapp.ServiceImpl.worker()</code> will never match because it has an empty argument list, but your method has arguments. The <code>args()</code> does not help you here.</li>\n<li>The syntax of your pointcut is also wrong because it does not specify a return type for the method, not even <code>*</code>. Furthermore, the method name itself is not enough, it should be enclosed in an actual pointcut type such as <code>execution()</code>. I.e. you want to write something like:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(\"execution(* com.xyz.myapp.ServiceImpl.worker(..)) &amp;&amp; args(request, ..)\")\nprivate void someOperation(Request request) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490350342,"creation_date":1490348662,"answer_id":42996062,"question_id":42950515,"body_markdown":"To intercept a method that throws an exception you can use this code (works only if methods are public): \r\n\r\n     @AfterThrowing(pointcut=&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;,throwing=&quot;ex&quot;)\r\n             public void doRecoveryActions(NullPointerException ex) {\r\n              // ...\r\n             }\r\n\r\nSource: [Spring AOP][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html","title":"Spring-AOP pointcut not working?","body":"<p>To intercept a method that throws an exception you can use this code (works only if methods are public): </p>\n\n<pre><code> @AfterThrowing(pointcut=\"com.xyz.myapp.SystemArchitecture.dataAccessOperation()\",throwing=\"ex\")\n         public void doRecoveryActions(NullPointerException ex) {\n          // ...\n         }\n</code></pre>\n\n<p>Source: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a></p>\n"}],"owner":{"account_id":8669845,"reputation":43,"user_id":6489128,"display_name":"JavaInMotion"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42995884,"answer_count":2,"score":4,"last_activity_date":1678614993,"creation_date":1490182526,"question_id":42950515,"body_markdown":"Below is my code snippet:\r\n\r\n**ServiceImpl.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    public class ServiceImpl implements Service {\r\n      private Response worker(Audit send) throws ArgumentException {\r\n        System.out.println(&quot;STEP_1&quot;);\r\n        worker(send.getRequest(), send.getId());\r\n      }\r\n    \r\n      private Response worker(Request request, String id) throws ArgumentException {\r\n        System.out.println(&quot;STEP_2&quot;);\r\n        try {\r\n          //throwing some exception\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;STEP_3&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nNow, what I want is whenever `NullPointerException` is being thrown from method `worker(Request request, String id)` as shown above I want to perform some specific task. For that I have written an Aspect class which is following:\r\n\r\n**MyAspect.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspect{\r\n      @Pointcut(&quot;com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)&quot;)\r\n      private void someOperation(Request request) {}\r\n    \r\n      @Before(&quot;someOperation(request)&quot;)\r\n      public void process(Request request) {\r\n        System.out.println(&quot;SUCCESS&quot;);\r\n      }\r\n    \r\n      @AfterThrowing(&quot;com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)&quot;)\r\n      public void doRecoveryActions() {\r\n        System.out.println(&quot;EXCEPTION_SUCCESS&quot;);\r\n      }\r\n    }\r\n\r\n**Current Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    STEP_1 \r\n    STEP_2\r\n    STEP_3\r\n\r\n**Desired Output:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    STEP_1 \r\n    STEP_2\r\n    STEP_3\r\n    SUCCESS\r\n    EXCEPTION_SUCCESS\r\n\r\nAs you can see `MyAspect.java` is not getting triggered hence NOT printing values.\r\nWhat can be the reason for this?\r\n\r\n**Note:**\r\n\r\n1. I tried making worker as public classes too but it didn&#39;t work.\r\n\r\n2. Also tried changing the name of the methods to eliminate any overloading issue that too didn&#39;t work.\r\n\r\n3. Tried various other pointcut expressions all in vain as of now.\r\n\r\n4. In my application there are other aspect classes working absolutely fine.","title":"Spring-AOP pointcut not working?","body":"<p>Below is my code snippet:</p>\n\n<p><strong>ServiceImpl.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceImpl implements Service {\n  private Response worker(Audit send) throws ArgumentException {\n    System.out.println(\"STEP_1\");\n    worker(send.getRequest(), send.getId());\n  }\n\n  private Response worker(Request request, String id) throws ArgumentException {\n    System.out.println(\"STEP_2\");\n    try {\n      //throwing some exception\n    } catch (Exception e) {\n      System.out.println(\"STEP_3\");\n    }\n  }\n}\n</code></pre>\n\n<p>Now, what I want is whenever <code>NullPointerException</code> is being thrown from method <code>worker(Request request, String id)</code> as shown above I want to perform some specific task. For that I have written an Aspect class which is following:</p>\n\n<p><strong>MyAspect.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class MyAspect{\n  @Pointcut(\"com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)\")\n  private void someOperation(Request request) {}\n\n  @Before(\"someOperation(request)\")\n  public void process(Request request) {\n    System.out.println(\"SUCCESS\");\n  }\n\n  @AfterThrowing(\"com.xyz.myapp.ServiceImpl.worker() &amp;&amp; args(request,..)\")\n  public void doRecoveryActions() {\n    System.out.println(\"EXCEPTION_SUCCESS\");\n  }\n}\n</code></pre>\n\n<p><strong>Current Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STEP_1 \nSTEP_2\nSTEP_3\n</code></pre>\n\n<p><strong>Desired Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STEP_1 \nSTEP_2\nSTEP_3\nSUCCESS\nEXCEPTION_SUCCESS\n</code></pre>\n\n<p>As you can see <code>MyAspect.java</code> is not getting triggered hence NOT printing values.\nWhat can be the reason for this?</p>\n\n<p><strong>Note:</strong></p>\n\n<ol>\n<li><p>I tried making worker as public classes too but it didn't work.</p></li>\n<li><p>Also tried changing the name of the methods to eliminate any overloading issue that too didn't work.</p></li>\n<li><p>Tried various other pointcut expressions all in vain as of now.</p></li>\n<li><p>In my application there are other aspect classes working absolutely fine.</p></li>\n</ol>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516672426,"creation_date":1516671552,"answer_id":48392910,"question_id":48391704,"body_markdown":"I have answered similar questions several times, e.g. here:\r\n\r\n* [AspectJ pointcut expression match parameter annotations at any position\r\n](https://stackoverflow.com/a/15605403/1082681)\r\n* [How to write an Aspect pointcut based on an annotated parameter\r\n](https://stackoverflow.com/a/29714549/1082681)\r\n\r\nYour case is a bit simpler because you just want to extract a parameter and not its annotation. So along the lines of those other two answers you would use a pointcut like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Before(&quot;execution(* *(.., com.hadi.student.Student, ..))&quot;)\r\n\r\nand then extract the argument in your advice via iterating over `thisJoinPoint.getArgs()` and checking for the right parameter type. This is slower and uglier than directly binding a method argument to an advice parameter via `args()`, but your only option for parameters in arbitrary positions because `args(.., Student, ..)` will yield an &quot;ambiguous argument binding&quot; error. This is because both AspectJ and Spring AOP cannot decide what should happen if there is more than one `Student` argument in your method. Which one should they choose?\r\n\r\nHere is an [MCVE](http://stackoverflow.com/help/mcve) in AspectJ (no Spring required, but works the same way there):\r\n\r\n**Helper class and driver application:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Student {\r\n      private String name;\r\n    \r\n      public Student(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;Student [name=&quot; + name + &quot;]&quot;;\r\n      }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n      public void doSomething() {}\r\n    \r\n      public Student createStudent(String s, Student student) {\r\n        return student;\r\n      }\r\n    \r\n      public Student updateStudent(Student student, String s) {\r\n        return student;\r\n      }\r\n    \r\n      public void marryStudents(Student student1, Student student2) {}\r\n    \r\n      public static void main(String[] args) {\r\n        Application application = new Application();\r\n        application.doSomething();\r\n        application.createStudent(&quot;x&quot;, new Student(&quot;John Doe&quot;));\r\n        application.updateStudent(new Student(&quot;Jane Doe&quot;), &quot;y&quot;);\r\n        // What happens if we have multiple Student parameters?\r\n        application.marryStudents(new Student(&quot;Jane&quot;), new Student(&quot;John&quot;));\r\n      }\r\n    }\r\n\r\n**Aspect:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    \r\n    import de.scrum_master.app.Student;\r\n    \r\n    @Aspect\r\n    public class MyAspect {\r\n      @Before(&quot;execution(* *(.., de.scrum_master.app.Student, ..))&quot;)\r\n      public void interceptMethodsWithStudentArgs(JoinPoint thisJoinPoint) throws Throwable {\r\n        System.out.println(thisJoinPoint);\r\n        for(Object arg : thisJoinPoint.getArgs()) {\r\n          if (!(arg instanceof Student))\r\n            continue;\r\n          Student student = (Student) arg;\r\n          System.out.println(&quot;  &quot; + student);\r\n        }\r\n      }\r\n    }\r\n\r\n**Console log:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    execution(Student de.scrum_master.app.Application.createStudent(String, Student))\r\n      Student [name=John Doe]\r\n    execution(Student de.scrum_master.app.Application.updateStudent(Student, String))\r\n      Student [name=Jane Doe]\r\n    execution(void de.scrum_master.app.Application.marryStudents(Student, Student))\r\n      Student [name=Jane]\r\n      Student [name=John]\r\n","title":"Spring AOP args","body":"<p>I have answered similar questions several times, e.g. here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/15605403/1082681\">AspectJ pointcut expression match parameter annotations at any position\n</a></li>\n<li><a href=\"https://stackoverflow.com/a/29714549/1082681\">How to write an Aspect pointcut based on an annotated parameter\n</a></li>\n</ul>\n\n<p>Your case is a bit simpler because you just want to extract a parameter and not its annotation. So along the lines of those other two answers you would use a pointcut like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Before(\"execution(* *(.., com.hadi.student.Student, ..))\")\n</code></pre>\n\n<p>and then extract the argument in your advice via iterating over <code>thisJoinPoint.getArgs()</code> and checking for the right parameter type. This is slower and uglier than directly binding a method argument to an advice parameter via <code>args()</code>, but your only option for parameters in arbitrary positions because <code>args(.., Student, ..)</code> will yield an \"ambiguous argument binding\" error. This is because both AspectJ and Spring AOP cannot decide what should happen if there is more than one <code>Student</code> argument in your method. Which one should they choose?</p>\n\n<p>Here is an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> in AspectJ (no Spring required, but works the same way there):</p>\n\n<p><strong>Helper class and driver application:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Student {\n  private String name;\n\n  public Student(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return \"Student [name=\" + name + \"]\";\n  }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public void doSomething() {}\n\n  public Student createStudent(String s, Student student) {\n    return student;\n  }\n\n  public Student updateStudent(Student student, String s) {\n    return student;\n  }\n\n  public void marryStudents(Student student1, Student student2) {}\n\n  public static void main(String[] args) {\n    Application application = new Application();\n    application.doSomething();\n    application.createStudent(\"x\", new Student(\"John Doe\"));\n    application.updateStudent(new Student(\"Jane Doe\"), \"y\");\n    // What happens if we have multiple Student parameters?\n    application.marryStudents(new Student(\"Jane\"), new Student(\"John\"));\n  }\n}\n</code></pre>\n\n<p><strong>Aspect:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\nimport de.scrum_master.app.Student;\n\n@Aspect\npublic class MyAspect {\n  @Before(\"execution(* *(.., de.scrum_master.app.Student, ..))\")\n  public void interceptMethodsWithStudentArgs(JoinPoint thisJoinPoint) throws Throwable {\n    System.out.println(thisJoinPoint);\n    for(Object arg : thisJoinPoint.getArgs()) {\n      if (!(arg instanceof Student))\n        continue;\n      Student student = (Student) arg;\n      System.out.println(\"  \" + student);\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Console log:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>execution(Student de.scrum_master.app.Application.createStudent(String, Student))\n  Student [name=John Doe]\nexecution(Student de.scrum_master.app.Application.updateStudent(Student, String))\n  Student [name=Jane Doe]\nexecution(void de.scrum_master.app.Application.marryStudents(Student, Student))\n  Student [name=Jane]\n  Student [name=John]\n</code></pre>\n"}],"owner":{"account_id":3762876,"reputation":133,"user_id":3127271,"display_name":"HadiMohammadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678614932,"creation_date":1516662555,"question_id":48391704,"body_markdown":"&lt;br/&gt;\r\nI Have a problem with Spring AOP. I want to get the object of Student in a Pointcut. But my JoinPoints can have this object in any priority. &lt;br/&gt;Look at the snipped below code for the two different JoinPoints and the Pointcut that I have Created:\r\n\r\n    public Student createStudent(String s, Student student) {...}\r\n    public Student updateStudent(Student student, String s) {...}\r\n\r\n    @Before(&quot;args(..,com.hadi.student.Student)&quot;) \r\n    public void myAdvice(JoinPoint jp) {\r\n        Student student = null;\r\n        for (Object o : jp.getArgs()) {\r\n            if (o instanceof Student) {\r\n                student = (Student) o;\r\n            }\r\n        }\r\n    }\r\nThe above code works only for the first JoinPoint. So the question is how to create a Pointcut that will be executed for any situation of Student in input parameter. &lt;br /&gt;\r\nI could not use below code, it throws runtimeException:&lt;br/&gt;\r\n`@Before(&quot;args(..,com.hadi.student.Student,..)&quot;) `\r\n&lt;br/&gt;\r\n\r\nI make the code easy to understand, actually my Poincut is so bigger than this. So please just answer with **args** way.","title":"Spring AOP args","body":"<p><br/>\nI Have a problem with Spring AOP. I want to get the object of Student in a Pointcut. But my JoinPoints can have this object in any priority. <br/>Look at the snipped below code for the two different JoinPoints and the Pointcut that I have Created:</p>\n\n<pre><code>public Student createStudent(String s, Student student) {...}\npublic Student updateStudent(Student student, String s) {...}\n\n@Before(\"args(..,com.hadi.student.Student)\") \npublic void myAdvice(JoinPoint jp) {\n    Student student = null;\n    for (Object o : jp.getArgs()) {\n        if (o instanceof Student) {\n            student = (Student) o;\n        }\n    }\n}\n</code></pre>\n\n<p>The above code works only for the first JoinPoint. So the question is how to create a Pointcut that will be executed for any situation of Student in input parameter. <br />\nI could not use below code, it throws runtimeException:<br/>\n<code>@Before(\"args(..,com.hadi.student.Student,..)\")</code>\n<br/></p>\n\n<p>I make the code easy to understand, actually my Poincut is so bigger than this. So please just answer with <strong>args</strong> way.</p>\n"},{"tags":["java","spring-boot","minio"],"answers":[{"tags":[],"owner":{"account_id":26177885,"reputation":1,"user_id":19861711,"display_name":"cret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678614172,"creation_date":1678614172,"answer_id":75712264,"question_id":75001921,"body_markdown":"Do you want to generate a presigned url and use it to upload multiple files to a folder? You may need to use `getPresignedPostForm` api. For example:\r\n```java\r\n  PostPolicy policy = new PostPolicy(&quot;myBucket&quot;,ZonedDateTime.now().plusHours(1));\r\n        policy.addContentLengthRangeCondition(0,100*1024*1024); // file size range\r\n        policy.addStartsWithCondition(&quot;key&quot;,&quot;myDir/); //directory\r\n        return minioClient.getPresignedPostFormData(policy);\r\n```\r\nThen you will get a formData, you can use this formData to upload any file to `myDir/` in `myBucket`.\r\nfor example:\r\n[post formData][1]\r\n\r\n`key` is the objectKey you want upload file to. \r\n`file` is the file you want upload. \r\nYou can use this formData multiple times to upload multiple files.\r\n\r\n  [1]: https://i.stack.imgur.com/GKZe4.png","title":"Minio presigned url not working in browser","body":"<p>Do you want to generate a presigned url and use it to upload multiple files to a folder? You may need to use <code>getPresignedPostForm</code> api. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  PostPolicy policy = new PostPolicy(&quot;myBucket&quot;,ZonedDateTime.now().plusHours(1));\n        policy.addContentLengthRangeCondition(0,100*1024*1024); // file size range\n        policy.addStartsWithCondition(&quot;key&quot;,&quot;myDir/); //directory\n        return minioClient.getPresignedPostFormData(policy);\n</code></pre>\n<p>Then you will get a formData, you can use this formData to upload any file to <code>myDir/</code> in <code>myBucket</code>.\nfor example:\n<a href=\"https://i.stack.imgur.com/GKZe4.png\" rel=\"nofollow noreferrer\">post formData</a></p>\n<p><code>key</code> is the objectKey you want upload file to.\n<code>file</code> is the file you want upload.\nYou can use this formData multiple times to upload multiple files.</p>\n"}],"owner":{"account_id":1621467,"reputation":1024,"user_id":4579356,"accept_rate":57,"display_name":"prab2112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678614172,"creation_date":1672815703,"question_id":75001921,"body_markdown":"I am generating minio presigned url using code and then trying to open the url in browser but when i am opening that url in browser it gives me below error:\r\n```&lt;Error&gt;\r\n&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\r\n&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;\r\n&lt;Key&gt;PAEHXVONAHDVJ/A&lt;/Key&gt;\r\n&lt;BucketName&gt;test&lt;/BucketName&gt;\r\n&lt;Resource&gt;/test/PAEHXVONAHDVJ/A&lt;/Resource&gt;\r\n&lt;RequestId&gt;173708A8FD5721F0&lt;/RequestId&gt;\r\n&lt;HostId&gt;fcc0c2f9-167f-4502-981c-61a3fedb3487&lt;/HostId&gt;\r\n&lt;/Error&gt;\r\n```\r\nBelow is the code i am using to create pre signed url :\r\n\r\n```\r\nMap&lt;String, String&gt; reqParams = new HashMap&lt;&gt;();\r\n        reqParams.put(&quot;response-content-type&quot;, &quot;application/json&quot;);\r\n        String minioUploadUrl = &quot;&quot;;\r\n\r\n        try {\r\n            minioUploadUrl = minioPrimaryClient.getPresignedObjectUrl(\r\n                    GetPresignedObjectUrlArgs.builder()\r\n                            .method(Method.GET)\r\n                            .bucket(org) //org is variable here \r\n                            .object(tId + &quot;/&quot; + task) //task is variable\r\n                            .expiry(60 * 60)\r\n                            .extraQueryParams(reqParams)\r\n                            .build());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return minioUploadUrl;\r\n```\r\nBasically i am creating url which will have two folders inside the mentioned bucket and i would like ti upload multiple files inside that.\r\n\r\nSame url which is getting generated when i am using through postman it&#39;s working fine but in minio server it gets uploaded without name.","title":"Minio presigned url not working in browser","body":"<p>I am generating minio presigned url using code and then trying to open the url in browser but when i am opening that url in browser it gives me below error:</p>\n<pre><code>&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;\n&lt;Key&gt;PAEHXVONAHDVJ/A&lt;/Key&gt;\n&lt;BucketName&gt;test&lt;/BucketName&gt;\n&lt;Resource&gt;/test/PAEHXVONAHDVJ/A&lt;/Resource&gt;\n&lt;RequestId&gt;173708A8FD5721F0&lt;/RequestId&gt;\n&lt;HostId&gt;fcc0c2f9-167f-4502-981c-61a3fedb3487&lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>Below is the code i am using to create pre signed url :</p>\n<pre><code>Map&lt;String, String&gt; reqParams = new HashMap&lt;&gt;();\n        reqParams.put(&quot;response-content-type&quot;, &quot;application/json&quot;);\n        String minioUploadUrl = &quot;&quot;;\n\n        try {\n            minioUploadUrl = minioPrimaryClient.getPresignedObjectUrl(\n                    GetPresignedObjectUrlArgs.builder()\n                            .method(Method.GET)\n                            .bucket(org) //org is variable here \n                            .object(tId + &quot;/&quot; + task) //task is variable\n                            .expiry(60 * 60)\n                            .extraQueryParams(reqParams)\n                            .build());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n        return minioUploadUrl;\n</code></pre>\n<p>Basically i am creating url which will have two folders inside the mentioned bucket and i would like ti upload multiple files inside that.</p>\n<p>Same url which is getting generated when i am using through postman it's working fine but in minio server it gets uploaded without name.</p>\n"},{"tags":["java","algorithm","file","search"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678429247,"post_id":75692819,"comment_id":133534077,"body_markdown":"*search in a csv file for a string that has a column with a prefix entered by the user* is not a very clear requirement. Can you provide example input/output?","body":"<i>search in a csv file for a string that has a column with a prefix entered by the user</i> is not a very clear requirement. Can you provide example input/output?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678430364,"post_id":75692819,"comment_id":133534256,"body_markdown":"It sounds like sorting the rows ahead of the search could solve the problem if you are allowed to handle the stored data. Either that or creating some index.","body":"It sounds like sorting the rows ahead of the search could solve the problem if you are allowed to handle the stored data. Either that or creating some index."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678431768,"post_id":75692819,"comment_id":133534555,"body_markdown":"@shmosel, question updated, added example","body":"@shmosel, question updated, added example"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678431871,"post_id":75692819,"comment_id":133534582,"body_markdown":"@ODDminus1, unforunately it is not available to edit stored data.","body":"@ODDminus1, unforunately it is not available to edit stored data."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678433909,"post_id":75692819,"comment_id":133534927,"body_markdown":"Got it, thanks. Does &quot;not reading all lines from file&quot; imply that we may repeatedly read parts of the file? Also, is the column only specified once?","body":"Got it, thanks. Does &quot;not reading all lines from file&quot; imply that we may repeatedly read parts of the file? Also, is the column only specified once?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678434072,"post_id":75692819,"comment_id":133534958,"body_markdown":"Okay, but creating an index which only stores the column which you are querying and a reference to the line number in the csv should be a solution which meets the criteria. E.g. `Map&lt;String, List&lt;Integer&gt;&gt;` which holds all the line numbers for a searchable value. Then you only need to build the map by reading the full file once, and you can later find the values in the map to find a narrow way to query the csv.","body":"Okay, but creating an index which only stores the column which you are querying and a reference to the line number in the csv should be a solution which meets the criteria. E.g. <code>Map&lt;String, List&lt;Integer&gt;&gt;</code> which holds all the line numbers for a searchable value. Then you only need to build the map by reading the full file once, and you can later find the values in the map to find a narrow way to query the csv."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1678435034,"post_id":75692819,"comment_id":133535157,"body_markdown":"@ODDminus1: If you create such an index for each column (which you need to allow searches for each column) you practically stored all data of the file in memory.","body":"@ODDminus1: If you create such an index for each column (which you need to allow searches for each column) you practically stored all data of the file in memory."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1678435872,"post_id":75692819,"comment_id":133535338,"body_markdown":"If the prefix is &quot;Ma&quot;, will that match rows 2 and 4, or just 4?","body":"If the prefix is &quot;Ma&quot;, will that match rows 2 and 4, or just 4?"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678441665,"post_id":75692819,"comment_id":133536956,"body_markdown":"@shmosel, the column number is specified once, only the prefix changes during the subsequent search. The algorithm can read some blocks of the file repeatedly, the main condition is not to read the whole file.","body":"@shmosel, the column number is specified once, only the prefix changes during the subsequent search. The algorithm can read some blocks of the file repeatedly, the main condition is not to read the whole file."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678441728,"post_id":75692819,"comment_id":133536971,"body_markdown":"@MrSmith42 you can exclude all columns which isn&#39;t a part of the index, and if the search term is just for a prefix of a maximum certain size, you are saving some data there as well. With the given example, you aren&#39;t really saving anything, but with a larger csv, this could become significant. At any cost, it fits the criteria of not storing all the data.","body":"@MrSmith42 you can exclude all columns which isn&#39;t a part of the index, and if the search term is just for a prefix of a maximum certain size, you are saving some data there as well. With the given example, you aren&#39;t really saving anything, but with a larger csv, this could become significant. At any cost, it fits the criteria of not storing all the data."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678442285,"post_id":75692819,"comment_id":133537138,"body_markdown":"@ODDminus1, we will have to fill in the Map for each prefix, which means going through the entire file again.  E.g. for the first search we filled Map for one prefix, now we can go through this map to find suitable lines from file. But if search again for another prefix we will have to read all file again, to find suitable line numbers for this prefix and put it in the Map. So for every search we will read all file again. Did I understand your solution correctly?","body":"@ODDminus1, we will have to fill in the Map for each prefix, which means going through the entire file again.  E.g. for the first search we filled Map for one prefix, now we can go through this map to find suitable lines from file. But if search again for another prefix we will have to read all file again, to find suitable line numbers for this prefix and put it in the Map. So for every search we will read all file again. Did I understand your solution correctly?"},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678442507,"post_id":75692819,"comment_id":133537197,"body_markdown":"@user3386109, prefix &quot;Ma&quot; will only match row 4.","body":"@user3386109, prefix &quot;Ma&quot; will only match row 4."},{"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"score":0,"creation_date":1678443492,"post_id":75692819,"comment_id":133537471,"body_markdown":"@ODDminus1, I think that the only correct solution to this problem may be the answer proposed by icelop, in which a cache of a certain size is used. This cache will be updated with each search (the Least Recently Used or a Fixed-Size cache). In this case, we really won&#39;t store the whole file, but only part of it. And also we will not read the entire file again, because some part of it will already be stored in memory.","body":"@ODDminus1, I think that the only correct solution to this problem may be the answer proposed by icelop, in which a cache of a certain size is used. This cache will be updated with each search (the Least Recently Used or a Fixed-Size cache). In this case, we really won&#39;t store the whole file, but only part of it. And also we will not read the entire file again, because some part of it will already be stored in memory."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1678446856,"post_id":75692819,"comment_id":133538397,"body_markdown":"Row count = cache size. Row&#39;s column value = cache entry (key-value pair of row number and column value). Then, for searching use some data structure like Trie.","body":"Row count = cache size. Row&#39;s column value = cache entry (key-value pair of row number and column value). Then, for searching use some data structure like Trie."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1678456267,"post_id":75692819,"comment_id":133540894,"body_markdown":"@Ymrik, is the prefix of a set maximum size, or could it be any length - potentially the entire string? If the former, I could throw together an answer with some code examples.","body":"@Ymrik, is the prefix of a set maximum size, or could it be any length - potentially the entire string? If the former, I could throw together an answer with some code examples."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678476391,"post_id":75692819,"comment_id":133546408,"body_markdown":"Then you can hack the requirements by loading half the file into memory and reading half from disk. But I don&#39;t imagine that&#39;s the intent.","body":"Then you can hack the requirements by loading half the file into memory and reading half from disk. But I don&#39;t imagine that&#39;s the intent."}],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678508658,"creation_date":1678508658,"answer_id":75702761,"question_id":75692819,"body_markdown":"I would create an index of three-letter prefixes for the selected column. There are only 17576 three-letter prefixes (ignoring case) so the index would have 17576 entries.\r\nEach entry in the index would be a list of offsets into the file for the lines that match the prefix. \r\n\r\nFor example, if the file contains this:\r\n\r\n| Line from the file | Offset into the file |\r\n| :-- | :-- |\r\n| 1,&quot;Sara&quot;,&quot;Common Algorithms&quot; | 0 |\r\n| 2,&quot;Adam&quot;,&quot;Computer Science&quot; | 29 |\r\n| 3,&quot;Liza&quot;,&quot;Condensed Matter Physics&quot; | 57 |\r\n| 4,&quot;Bob&quot;,&quot;Electrochemistry&quot; | 93 |\r\n| 5,&quot;Eva&quot;,&quot;Material Culture&quot; | 120 |\r\n\r\nThen the index would contain this:\r\n\r\n|prefix | offsets |\r\n| :-- | :-- |\r\n| &quot;Com&quot; | 0, 29 |\r\n| &quot;Con&quot; | 57 |\r\n| &quot;Ele&quot; | 93 |\r\n| &quot;Mat&quot; | 120 |\r\n\r\nThis is a variation on a [set-associative cache](https://en.wikipedia.org/wiki/Cache_placement_policies#Set-associative_cache) where the three-letter prefix is the set identifier, and the file offsets are the data. The cache can be implemented as a dictionary where the key is the prefix, and the value is a list of file offsets.\r\n\r\nWhen the search request contains a three-letter prefix, simply get the list for that prefix from the cache, seek to each offset in the file, and read the line.\r\n\r\nWhen the search request contains a two-letter prefix, it matches up to 26 three-letter prefixes. So check the dictionary for each of the possible matching three-letter prefixes, and read the lines for each of those.\r\nFor the example above, the two-letter prefix &quot;Co&quot; matches &quot;Com&quot; and &quot;Con&quot;, so the search result contains three lines, starting at offsets 0, 29, and 57. (A one-letter prefix matches up to 676 three-letter prefixes.) \r\n\r\nWhen the search request contains a four-letter (or longer) prefix, read all of the lines for the corresponding three-letter prefix, but only return those lines that match the given prefix. For the example above, the four-letter prefix &quot;Comp&quot; would read both lines for &quot;Com&quot;, but only return the line `2,&quot;Adam&quot;,&quot;Computer Science&quot;`. \r\n","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>I would create an index of three-letter prefixes for the selected column. There are only 17576 three-letter prefixes (ignoring case) so the index would have 17576 entries.\nEach entry in the index would be a list of offsets into the file for the lines that match the prefix.</p>\n<p>For example, if the file contains this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Line from the file</th>\n<th style=\"text-align: left;\">Offset into the file</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1,&quot;Sara&quot;,&quot;Common Algorithms&quot;</td>\n<td style=\"text-align: left;\">0</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2,&quot;Adam&quot;,&quot;Computer Science&quot;</td>\n<td style=\"text-align: left;\">29</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3,&quot;Liza&quot;,&quot;Condensed Matter Physics&quot;</td>\n<td style=\"text-align: left;\">57</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4,&quot;Bob&quot;,&quot;Electrochemistry&quot;</td>\n<td style=\"text-align: left;\">93</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">5,&quot;Eva&quot;,&quot;Material Culture&quot;</td>\n<td style=\"text-align: left;\">120</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Then the index would contain this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">prefix</th>\n<th style=\"text-align: left;\">offsets</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">&quot;Com&quot;</td>\n<td style=\"text-align: left;\">0, 29</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Con&quot;</td>\n<td style=\"text-align: left;\">57</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Ele&quot;</td>\n<td style=\"text-align: left;\">93</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">&quot;Mat&quot;</td>\n<td style=\"text-align: left;\">120</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This is a variation on a <a href=\"https://en.wikipedia.org/wiki/Cache_placement_policies#Set-associative_cache\" rel=\"nofollow noreferrer\">set-associative cache</a> where the three-letter prefix is the set identifier, and the file offsets are the data. The cache can be implemented as a dictionary where the key is the prefix, and the value is a list of file offsets.</p>\n<p>When the search request contains a three-letter prefix, simply get the list for that prefix from the cache, seek to each offset in the file, and read the line.</p>\n<p>When the search request contains a two-letter prefix, it matches up to 26 three-letter prefixes. So check the dictionary for each of the possible matching three-letter prefixes, and read the lines for each of those.\nFor the example above, the two-letter prefix &quot;Co&quot; matches &quot;Com&quot; and &quot;Con&quot;, so the search result contains three lines, starting at offsets 0, 29, and 57. (A one-letter prefix matches up to 676 three-letter prefixes.)</p>\n<p>When the search request contains a four-letter (or longer) prefix, read all of the lines for the corresponding three-letter prefix, but only return those lines that match the given prefix. For the example above, the four-letter prefix &quot;Comp&quot; would read both lines for &quot;Com&quot;, but only return the line <code>2,&quot;Adam&quot;,&quot;Computer Science&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678613626,"creation_date":1678600314,"answer_id":75711282,"question_id":75692819,"body_markdown":"You can construct an index that maps each value in the specified column to its line offset in the file, and then jump to the line using `RandomAccessFile`.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;File: &quot;);\r\n        String path = in.nextLine();\r\n\r\n        System.out.print(&quot;Column: &quot;);\r\n        int col = in.nextInt();\r\n        in.nextLine();\r\n\r\n        Map&lt;Long, String&gt; index = index(path, col);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Prefix: &quot;);\r\n            String prefix = in.nextLine();\r\n            if (prefix.equals(&quot;end&quot;)) {\r\n                return;\r\n            }\r\n\r\n            try (RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;)) {\r\n                for (Map.Entry&lt;Long, String&gt; line : index.entrySet()) {\r\n                    if (line.getValue().startsWith(prefix)) {\r\n                        file.seek(line.getKey());\r\n                        System.out.println(file.readLine());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static Map&lt;Long, String&gt; index(String file, int col) throws IOException {\r\n        Map&lt;Long, String&gt; index = new LinkedHashMap&lt;&gt;();\r\n        long offset = 0;\r\n        for (String line : Files.readAllLines(Paths.get(file))) {\r\n            String value = line.split(&quot;,&quot;)[col - 1]\r\n                    .replaceAll(&quot;^ *\\&quot;|\\&quot; *$&quot;, &quot;&quot;);\r\n            index.put(offset, value);\r\n            offset += line.length() + System.lineSeparator().length();\r\n        }\r\n        return index;\r\n    }\r\n\r\nTo keep things simple, I took the liberty of assuming lines don&#39;t contain nested quotes or commas and that we&#39;re using the system line separator. But feel free to adjust as necessary.\r\n\r\nAlso note that the map is not really a map so much as a list of entries. The column is stored as the value in case it contains duplicates. `Map` isn&#39;t designed for prefix searching anyway, but it shouldn&#39;t matter much unless you&#39;re dealing with huge files. You can optimize with a trie if necessary, but I&#39;ll leave that as an exercise for the reader.","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>You can construct an index that maps each value in the specified column to its line offset in the file, and then jump to the line using <code>RandomAccessFile</code>.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Scanner in = new Scanner(System.in);\n\n    System.out.print(&quot;File: &quot;);\n    String path = in.nextLine();\n\n    System.out.print(&quot;Column: &quot;);\n    int col = in.nextInt();\n    in.nextLine();\n\n    Map&lt;Long, String&gt; index = index(path, col);\n\n    while (true) {\n        System.out.print(&quot;Prefix: &quot;);\n        String prefix = in.nextLine();\n        if (prefix.equals(&quot;end&quot;)) {\n            return;\n        }\n\n        try (RandomAccessFile file = new RandomAccessFile(path, &quot;r&quot;)) {\n            for (Map.Entry&lt;Long, String&gt; line : index.entrySet()) {\n                if (line.getValue().startsWith(prefix)) {\n                    file.seek(line.getKey());\n                    System.out.println(file.readLine());\n                }\n            }\n        }\n    }\n}\n\nprivate static Map&lt;Long, String&gt; index(String file, int col) throws IOException {\n    Map&lt;Long, String&gt; index = new LinkedHashMap&lt;&gt;();\n    long offset = 0;\n    for (String line : Files.readAllLines(Paths.get(file))) {\n        String value = line.split(&quot;,&quot;)[col - 1]\n                .replaceAll(&quot;^ *\\&quot;|\\&quot; *$&quot;, &quot;&quot;);\n        index.put(offset, value);\n        offset += line.length() + System.lineSeparator().length();\n    }\n    return index;\n}\n</code></pre>\n<p>To keep things simple, I took the liberty of assuming lines don't contain nested quotes or commas and that we're using the system line separator. But feel free to adjust as necessary.</p>\n<p>Also note that the map is not really a map so much as a list of entries. The column is stored as the value in case it contains duplicates. <code>Map</code> isn't designed for prefix searching anyway, but it shouldn't matter much unless you're dealing with huge files. You can optimize with a trie if necessary, but I'll leave that as an exercise for the reader.</p>\n"}],"owner":{"account_id":27980139,"reputation":23,"user_id":21368032,"display_name":"Ymrik"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75711282,"answer_count":2,"score":2,"last_activity_date":1678613626,"creation_date":1678429148,"question_id":75692819,"body_markdown":"I am implementing an algorithm that will search in a csv file for a string that has a column with a prefix entered by the user. After finding the first search result, the user can enter a different prefix to perform a second search. The column number is specified only once, and only the prefix is allowed to be changed during the subsequent search. This will continue until the user enters &quot;end&quot;.\r\n\r\n**Example of search:**\r\n\r\n**File Data:**\r\n\r\n    1, &quot;Adam&quot;, &quot;Computer Science&quot;\r\n    2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\r\n    3, &quot;Bob&quot;, &quot;Electrochemistry&quot;\r\n    4, &quot;Eva&quot;, &quot;Material Culture&quot;\r\n\r\n**Search parameters:** \r\n\r\n    column: 3, prefix: &quot;Co&quot;\r\n\r\n**Search result:** \r\n\r\n    1, &quot;Adam&quot;, &quot;Computer Science&quot;\r\n    2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\r\n\r\n**My algorithm must meet specific conditions:**\r\n- not reading all lines from file at each search\r\n- not store all file data in memory (dont matter if it is bytes array or any other structure which contains all file data)\r\n- not edit file and not create other files (also not use db)\r\n\r\nIt turns out that with each search operation we have to process the entire file, because any string in file can have the specified prefix. How can this be implemented without violating the above conditions? Maybe you know algorithm that can be used in this case?\r\n\r\nAccording to my guesses, we will need to process the entire file anyway. This means either reading all the lines from it at each search, or storing it completely in memory in order to exclude access to the file and work with this structure. Both of these options violate the condition of the problem.","title":"How to cache file in order to not reading it in every search iteration?","body":"<p>I am implementing an algorithm that will search in a csv file for a string that has a column with a prefix entered by the user. After finding the first search result, the user can enter a different prefix to perform a second search. The column number is specified only once, and only the prefix is allowed to be changed during the subsequent search. This will continue until the user enters &quot;end&quot;.</p>\n<p><strong>Example of search:</strong></p>\n<p><strong>File Data:</strong></p>\n<pre><code>1, &quot;Adam&quot;, &quot;Computer Science&quot;\n2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\n3, &quot;Bob&quot;, &quot;Electrochemistry&quot;\n4, &quot;Eva&quot;, &quot;Material Culture&quot;\n</code></pre>\n<p><strong>Search parameters:</strong></p>\n<pre><code>column: 3, prefix: &quot;Co&quot;\n</code></pre>\n<p><strong>Search result:</strong></p>\n<pre><code>1, &quot;Adam&quot;, &quot;Computer Science&quot;\n2, &quot;Liza&quot;, &quot;Condensed Matter Physics&quot;\n</code></pre>\n<p><strong>My algorithm must meet specific conditions:</strong></p>\n<ul>\n<li>not reading all lines from file at each search</li>\n<li>not store all file data in memory (dont matter if it is bytes array or any other structure which contains all file data)</li>\n<li>not edit file and not create other files (also not use db)</li>\n</ul>\n<p>It turns out that with each search operation we have to process the entire file, because any string in file can have the specified prefix. How can this be implemented without violating the above conditions? Maybe you know algorithm that can be used in this case?</p>\n<p>According to my guesses, we will need to process the entire file anyway. This means either reading all the lines from it at each search, or storing it completely in memory in order to exclude access to the file and work with this structure. Both of these options violate the condition of the problem.</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"score":0,"creation_date":1678685593,"post_id":75711694,"comment_id":133574767,"body_markdown":"I saw this, everyone is using powermockito here. Is powermockito is the only way, I have to do this in mockito , is it possible ?","body":"I saw this, everyone is using powermockito here. Is powermockito is the only way, I have to do this in mockito , is it possible ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1678703933,"post_id":75711694,"comment_id":133578680,"body_markdown":"Have you checked javadoc: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks","body":"Have you checked javadoc: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"},{"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"score":0,"creation_date":1678801265,"post_id":75711694,"comment_id":133600859,"body_markdown":"Yeah I checked the doc but I cant find anything useful.","body":"Yeah I checked the doc but I cant find anything useful."}],"owner":{"account_id":18329183,"reputation":43,"user_id":13348140,"display_name":"Aakash V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678613033,"creation_date":1678606700,"question_id":75711694,"body_markdown":"``` PowerMock.verifyStatic(Util.class)```\r\n\r\nI use this method in powermockito to verify this class, What is the method I need to use in mockito to verify the similar behaviour ?","title":"PowerMock.VerifyStatic alternate in mockito","body":"<p><code> PowerMock.verifyStatic(Util.class)</code></p>\n<p>I use this method in powermockito to verify this class, What is the method I need to use in mockito to verify the similar behaviour ?</p>\n"},{"tags":["java","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659031195,"creation_date":1659031195,"answer_id":73157313,"question_id":73049887,"body_markdown":"You might want to have a look at [Railflow](https://railflow.io/) - it can parse Cucumber JSON reports and create/update tests and test runs in TestRail.  \r\n\r\nP.S. I&#39;m developer of TestRail","title":"Cucumber integration in testrail(java)","body":"<p>You might want to have a look at <a href=\"https://railflow.io/\" rel=\"nofollow noreferrer\">Railflow</a> - it can parse Cucumber JSON reports and create/update tests and test runs in TestRail.</p>\n<p>P.S. I'm developer of TestRail</p>\n"}],"owner":{"account_id":25852417,"reputation":11,"user_id":19586213,"display_name":"Salo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678610995,"creation_date":1658312482,"question_id":73049887,"body_markdown":"i try to integrate cucumber scenarios in testrail, but i don&#39;t find some solutions, if somebody integrate it, can help?\r\ni have scenarios write in java cucumber and need to integrate it in testrail. if it possible.\r\n i try with api from documentation, but it is not work or i have some mistake\r\n\r\n```public class TestRailManager {\r\n    public static String TEST_RUN_ID = &quot;5400&quot;;\r\n    public static String TESTRAIL_USERNAME = &quot;username&quot;;\r\n    public static String TESTRAIL_PASSWORD = &quot;password&quot;;\r\n    public static String RAILS_URL = &quot;url&quot;;\r\n    public static final int TEST_CASE_PASSED_STATUS = 1;\r\n    public static final int TEST_CASE_FAILED_STATUS = 5;\r\n\r\n\r\n    public static void addResultForTestCase(String testCseId, int status,\r\n                                            String error) throws IOException, APIException {\r\n        String testRunId = TEST_RUN_ID;\r\n        APIClient client = new APIClient(RAILS_URL);\r\n        client.setUser(TESTRAIL_USERNAME);\r\n        client.setPassword(TESTRAIL_PASSWORD);\r\n        Map data = new HashMap();\r\n        data.put(&quot;status_id&quot;, status);\r\n        data.put(&quot;comment&quot;, &quot;Test Executed - status updates automatically&quot;);\r\n        client.sendPost(&quot;add_result_for_case/&quot; + testRunId+ &quot;/&quot; + testCseId + &quot;&quot;, data);\r\n\r\n    }\r\n\r\n}```\r\n\r\n","title":"Cucumber integration in testrail(java)","body":"<p>i try to integrate cucumber scenarios in testrail, but i don't find some solutions, if somebody integrate it, can help?\ni have scenarios write in java cucumber and need to integrate it in testrail. if it possible.\ni try with api from documentation, but it is not work or i have some mistake</p>\n<pre><code>    public static String TEST_RUN_ID = &quot;5400&quot;;\n    public static String TESTRAIL_USERNAME = &quot;username&quot;;\n    public static String TESTRAIL_PASSWORD = &quot;password&quot;;\n    public static String RAILS_URL = &quot;url&quot;;\n    public static final int TEST_CASE_PASSED_STATUS = 1;\n    public static final int TEST_CASE_FAILED_STATUS = 5;\n\n\n    public static void addResultForTestCase(String testCseId, int status,\n                                            String error) throws IOException, APIException {\n        String testRunId = TEST_RUN_ID;\n        APIClient client = new APIClient(RAILS_URL);\n        client.setUser(TESTRAIL_USERNAME);\n        client.setPassword(TESTRAIL_PASSWORD);\n        Map data = new HashMap();\n        data.put(&quot;status_id&quot;, status);\n        data.put(&quot;comment&quot;, &quot;Test Executed - status updates automatically&quot;);\n        client.sendPost(&quot;add_result_for_case/&quot; + testRunId+ &quot;/&quot; + testCseId + &quot;&quot;, data);\n\n    }\n\n}```\n\n</code></pre>\n"},{"tags":["java","java-17","java-http-client"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678211476,"post_id":75641800,"comment_id":133488151,"body_markdown":"1. if you want to return something then instead of `thenAccept()` use `thenApply()`. If you use `thenAccept()` the only possible value that you can return is `null` - which is the only value compatible with `Void`.\n2. in your first lambda, where the parameter is an `HttpResponse&lt;String&gt;`, you should probably look at the HTTP status code before mapping the body to JSon.","body":"1. if you want to return something then instead of <code>thenAccept()</code> use <code>thenApply()</code>. If you use <code>thenAccept()</code> the only possible value that you can return is <code>null</code> - which is the only value compatible with <code>Void</code>. 2. in your first lambda, where the parameter is an <code>HttpResponse&lt;String&gt;</code>, you should probably look at the HTTP status code before mapping the body to JSon."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1678219293,"post_id":75641800,"comment_id":133490057,"body_markdown":"This looks like a good question, but prior to my edit it rather sounded like a request for free work. It is worth being aware that Stack Overflow gets hundreds of requests for volunteer labour every day, and most of those are downvoted and/or closed (quite rightly). I recommend differentiating your own questions from those - make it clear that you know the work is yours to complete.","body":"This looks like a good question, but prior to my edit it rather sounded like a request for free work. It is worth being aware that Stack Overflow gets hundreds of requests for volunteer labour every day, and most of those are downvoted and/or closed (quite rightly). I recommend differentiating your own questions from those - make it clear that you know the work is yours to complete."},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678598017,"post_id":75641800,"comment_id":133562934,"body_markdown":"@daniel if I use only thenApply() then I have to use join other wise it shows error. In first lambda not looking for status code because if it fails Then I have to save response into a table as well","body":"@daniel if I use only thenApply() then I have to use join other wise it shows error. In first lambda not looking for status code because if it fails Then I have to save response into a table as well"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678716676,"post_id":75641800,"comment_id":133582572,"body_markdown":"I guess this is your IDE complaining that you ignore the result (not a compiler error). Then just return null. You&#39;re ignoring the returned completable feature anyway, so why  not use thenAccept() and return null?","body":"I guess this is your IDE complaining that you ignore the result (not a compiler error). Then just return null. You&#39;re ignoring the returned completable feature anyway, so why  not use thenAccept() and return null?"},{"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"score":0,"creation_date":1678768174,"post_id":75641800,"comment_id":133593172,"body_markdown":"@daniel,  will check that. But I think if I return null in thenAccept() then the caller method will get null as response","body":"@daniel,  will check that. But I think if I return null in thenAccept() then the caller method will get null as response"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1678806646,"post_id":75641800,"comment_id":133602694,"body_markdown":"Yes of course. But you&#39;re not using the response in the calling code, which is why you got an error when you tried to use thenApply().","body":"Yes of course. But you&#39;re not using the response in the calling code, which is why you got an error when you tried to use thenApply()."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1678807089,"post_id":75641800,"comment_id":133602842,"body_markdown":"If you don&#39;t want to return null, change your code to:\nCompletableFuture&lt;Map&lt;String, Object&gt;&gt; result = HttpClient.newClient().sendAsync(...).thenApply(...).exceptionally(...).thenApply(body -&gt; callback(body));\nwhere callback(body) is a Function&lt;Map&lt;String,Object&gt;,Map&lt;String,Object&gt;&gt;.","body":"If you don&#39;t want to return null, change your code to: CompletableFuture&lt;Map&lt;String, Object&gt;&gt; result = HttpClient.newClient().sendAsync(...).thenApply(...).excepti&zwnj;&#8203;onally(...).thenAppl&zwnj;&#8203;y(body -&gt; callback(body)); where callback(body) is a Function&lt;Map&lt;String,Object&gt;,Map&lt;String,Object&gt;&gt;."}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610967,"creation_date":1678086793,"answer_id":75648006,"question_id":75641800,"body_markdown":"Method: \r\n\r\n    public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action)\r\n\r\ncan only accept a Consumer object. A Consumer object does not return anything, it only consumes an action so it could for instance look like this:\r\n\r\n    Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = System.out::println;\r\n\r\n \r\nThe best would be to use your consumer method and do there whatever you would like to do with the retVal variable. Instead of returning you have to do your logic inside the callback method. For instance:\r\n\r\n    Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = linkedMap -&gt; {\r\n        if (linkedMap != null) {\r\n            linkedMap.keySet().forEach(k -&gt; doSomethingWithEveryKey(k));\r\n        }\r\n    };\r\n\r\nIf you would like to create a fully asynchronous and non-blocking application you can use Spring Webflux, where your method can look like:\r\n\r\n    @GetMapping(&quot;/firstCall&quot;)\r\n    public Mono&lt;String&gt; getMessage() {\r\n        return this.client.get().uri(&quot;/secondCall&quot;).accept(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(this::mapResponse);\r\n    }\r\n    \r\n    private String mapResponse(String input) {\r\n        return &quot;modified response&quot;;\r\n    }","title":"java.net.http httpclient sendasync consumer callback says unexpected return value","body":"<p>Method:</p>\n<pre><code>public CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action)\n</code></pre>\n<p>can only accept a Consumer object. A Consumer object does not return anything, it only consumes an action so it could for instance look like this:</p>\n<pre><code>Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = System.out::println;\n</code></pre>\n<p>The best would be to use your consumer method and do there whatever you would like to do with the retVal variable. Instead of returning you have to do your logic inside the callback method. For instance:</p>\n<pre><code>Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = linkedMap -&gt; {\n    if (linkedMap != null) {\n        linkedMap.keySet().forEach(k -&gt; doSomethingWithEveryKey(k));\n    }\n};\n</code></pre>\n<p>If you would like to create a fully asynchronous and non-blocking application you can use Spring Webflux, where your method can look like:</p>\n<pre><code>@GetMapping(&quot;/firstCall&quot;)\npublic Mono&lt;String&gt; getMessage() {\n    return this.client.get().uri(&quot;/secondCall&quot;).accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(String.class)\n            .map(this::mapResponse);\n}\n\nprivate String mapResponse(String input) {\n    return &quot;modified response&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2035096,"reputation":1987,"user_id":1817617,"accept_rate":60,"display_name":"Sumon Bappi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678610967,"creation_date":1678014613,"question_id":75641800,"body_markdown":"I am using Java 17. I am trying to get the response from a message service and create a map object. Then send it to the caller method. I am using `java.net.http`.\r\n\r\nI am willing to use a callback so that I could not use join or get to delay the main thread. But at my callback, the message shown `unexpected return value`.\r\n\r\nMy attempts are as below:\r\n\r\n\r\n        LinkedHashMap&lt;String, Object&gt; retVal = new LinkedHashMap&lt;&gt;();\r\n    \r\n    HttpRequest request = HttpRequest.newBuilder(URI.create(url))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .POST(HttpRequest.BodyPublishers.ofString(params))\r\n                    .build();\t\t\t\t\r\n    \t\t\r\n    HttpClient.newHttpClient()\r\n                    .sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                    .thenApply(responseBody -&gt; {\r\n                        try {\r\n                            LinkedHashMap&lt;String, Object&gt; responseMap = new ObjectMapper().readValue(responseBody.body(), new TypeReference&lt;&gt;() {});\r\n    \r\n                            ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; resultList = (ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt;) responseMap.get(&quot;result&quot;);\r\n                            HashMap&lt;String, String&gt; resultMap = resultList.get(0);\r\n                            retVal.put(&quot;status&quot;, resultMap.get(&quot;status&quot;));\r\n                            retVal.put(&quot;message&quot;, resultMap.get(&quot;message&quot;));\r\n                        } catch (JsonProcessingException e) {\r\n                            retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\r\n                            retVal.put(&quot;message&quot;, e.getMessage());\r\n                            e.printStackTrace();\r\n                        }\r\n                        return retVal;\r\n                    })\r\n                    .exceptionally(ex -&gt; {\r\n                        retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\r\n                        retVal.put(&quot;message&quot;, ex.getMessage());\r\n                        System.out.println(&quot;Exception occurred: &quot; + ex.getMessage());\r\n                        return retVal;\r\n                    })\r\n                    .thenAccept(callback);\t\r\n    \t\t\t\t\r\n    // Define a callback function\r\n            Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = responseBody -&gt; {\r\n                // Send the response back to the caller here\r\n                return responseBody;\r\n            };\t\r\n\r\nHow can I achieve this?\r\n","title":"java.net.http httpclient sendasync consumer callback says unexpected return value","body":"<p>I am using Java 17. I am trying to get the response from a message service and create a map object. Then send it to the caller method. I am using <code>java.net.http</code>.</p>\n<p>I am willing to use a callback so that I could not use join or get to delay the main thread. But at my callback, the message shown <code>unexpected return value</code>.</p>\n<p>My attempts are as below:</p>\n<pre><code>    LinkedHashMap&lt;String, Object&gt; retVal = new LinkedHashMap&lt;&gt;();\n\nHttpRequest request = HttpRequest.newBuilder(URI.create(url))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(params))\n                .build();               \n        \nHttpClient.newHttpClient()\n                .sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                .thenApply(responseBody -&gt; {\n                    try {\n                        LinkedHashMap&lt;String, Object&gt; responseMap = new ObjectMapper().readValue(responseBody.body(), new TypeReference&lt;&gt;() {});\n\n                        ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt; resultList = (ArrayList&lt;LinkedHashMap&lt;String, String&gt;&gt;) responseMap.get(&quot;result&quot;);\n                        HashMap&lt;String, String&gt; resultMap = resultList.get(0);\n                        retVal.put(&quot;status&quot;, resultMap.get(&quot;status&quot;));\n                        retVal.put(&quot;message&quot;, resultMap.get(&quot;message&quot;));\n                    } catch (JsonProcessingException e) {\n                        retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\n                        retVal.put(&quot;message&quot;, e.getMessage());\n                        e.printStackTrace();\n                    }\n                    return retVal;\n                })\n                .exceptionally(ex -&gt; {\n                    retVal.put(&quot;status&quot;, &quot;FAILED&quot;);\n                    retVal.put(&quot;message&quot;, ex.getMessage());\n                    System.out.println(&quot;Exception occurred: &quot; + ex.getMessage());\n                    return retVal;\n                })\n                .thenAccept(callback);  \n                \n// Define a callback function\n        Consumer&lt;LinkedHashMap&lt;String, Object&gt;&gt; callback = responseBody -&gt; {\n            // Send the response back to the caller here\n            return responseBody;\n        };  \n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","arrays","switch-statement"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678522766,"post_id":75703641,"comment_id":133552100,"body_markdown":"[How do I compare strings in Java?](https://stackoverflow.com/q/513832)","body":"<a href=\"https://stackoverflow.com/q/513832\">How do I compare strings in Java?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678525318,"post_id":75703641,"comment_id":133552338,"body_markdown":"You should review a tutorial on `switch` statements.","body":"You should review a tutorial on <code>switch</code> statements."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1678533806,"post_id":75703641,"comment_id":133553426,"body_markdown":"`userInputCar` is a `String`, while `cars` is `String[]`, those can never be the same. Maybe you meant to use `switch (userInputCar)`? Otherwise, you really need to be better explain what you&#39;re trying to do. Maybe you meant `Arrays.asList(cars).contains(userInputCar)`? However, then your use of `switch` makes no sense.","body":"<code>userInputCar</code> is a <code>String</code>, while <code>cars</code> is <code>String[]</code>, those can never be the same. Maybe you meant to use <code>switch (userInputCar)</code>? Otherwise, you really need to be better explain what you&#39;re trying to do. Maybe you meant <code>Arrays.asList(cars).contains(userInputCar)</code>? However, then your use of <code>switch</code> makes no sense."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1678634340,"post_id":75703641,"comment_id":133567548,"body_markdown":"Hello. To update your question use [edit] option. Consider using it to clarify what you mean by &quot;*..compare user input with The given array*&quot; (mentioned in one of your comments). Note that single String object *can&#39;t be compared to array* since array *is not a String itself*. It is like attempting to comparing Human to House (single House can *contain* many Humans, but is not Human itself). Maybe you wanted to ask about checking &quot;if array *contains* a String?&quot;.","body":"Hello. To update your question use <a href=\"https://stackoverflow.com/posts/75703641/edit\">edit</a> option. Consider using it to clarify what you mean by &quot;<i>..compare user input with The given array</i>&quot; (mentioned in one of your comments). Note that single String object <i>can&#39;t be compared to array</i> since array <i>is not a String itself</i>. It is like attempting to comparing Human to House (single House can <i>contain</i> many Humans, but is not Human itself). Maybe you wanted to ask about checking &quot;if array <i>contains</i> a String?&quot;."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678526614,"creation_date":1678524054,"answer_id":75703733,"question_id":75703641,"body_markdown":"A `switch` is like having a lot of &quot;if .. &quot; commands.\r\n\r\nSo the comparison isn&#39;t in the switch:\r\n\r\n    switch (userInputCar == cars)\r\n\r\nbut in the `case`\r\n\r\n    switch (userInputCar) { // Value to check\r\n\r\n        case &quot;TATA&quot;:   // if &quot;TATA&quot;.equals(userInputCar)\r\n            break;\r\n\r\n        case &quot;BMW&quot;:   // else if &quot;BMW&quot;.equals(userInputCar)\r\n            break;\r\n\r\n        default:      // else\r\n    }\r\n\r\nTo check against the list:\r\n\r\n    if(Arrays.asList(cars).contains(userInputCar)) {\r\n       // Found\r\n    } else {\r\n       // Not found\r\n    }\r\n","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>A <code>switch</code> is like having a lot of &quot;if .. &quot; commands.</p>\n<p>So the comparison isn't in the switch:</p>\n<pre><code>switch (userInputCar == cars)\n</code></pre>\n<p>but in the <code>case</code></p>\n<pre><code>switch (userInputCar) { // Value to check\n\n    case &quot;TATA&quot;:   // if &quot;TATA&quot;.equals(userInputCar)\n        break;\n\n    case &quot;BMW&quot;:   // else if &quot;BMW&quot;.equals(userInputCar)\n        break;\n\n    default:      // else\n}\n</code></pre>\n<p>To check against the list:</p>\n<pre><code>if(Arrays.asList(cars).contains(userInputCar)) {\n   // Found\n} else {\n   // Not found\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678524300,"creation_date":1678524300,"answer_id":75703750,"question_id":75703641,"body_markdown":"I think you need to do this :\r\n \r\n\r\n    public static void switchTest() {\r\n        switch ( userInputCar ) {\r\n            case &quot;TATA&quot;:\r\n                System.out.println(&quot;You enter TATA as a car name&quot;);\r\n                break;\r\n            case &quot;BMW&quot;:\r\n                System.out.println(&quot;You enter BMW as a car name&quot;);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\r\n        }\r\n    }","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>I think you need to do this :</p>\n<pre><code>public static void switchTest() {\n    switch ( userInputCar ) {\n        case &quot;TATA&quot;:\n            System.out.println(&quot;You enter TATA as a car name&quot;);\n            break;\n        case &quot;BMW&quot;:\n            System.out.println(&quot;You enter BMW as a car name&quot;);\n            break;\n        default:\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552809,"reputation":7,"user_id":20181875,"display_name":"Pushpendra Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678526095,"creation_date":1678526095,"answer_id":75703900,"question_id":75703641,"body_markdown":"If you want to try to **check user input with an array** you can check the below code\r\n\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n         boolean check=true;\r\n        System.out.println(&quot;Enter a car name:&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        String userInputCar = sc.nextLine();\r\n        \r\n        \r\n        for(int i=0;i&lt;cars.length;i++)\r\n        {\r\n            if(cars[i].equals(userInputCar))\r\n            {\r\n                 System.out.println(&quot;You enter &quot;+ cars[i] +&quot; as a car name&quot;);\r\n                 check=false;\r\n            }\r\n          \r\n        }\r\n        \r\n           if(check)\r\n            {\r\n              System.out.println(&quot;Ops! we are unable to get that name. Thank You&quot;);\r\n            }\r\n        \r\n    \t}\r\n    \t\r\n    \t\r\n    \t/*\r\n           Here is the Output\r\n           \r\n           Enter a car name:\r\n           Hero\r\n           You enter Hero as a car name\r\n    \r\n    \r\n    \r\n    \r\n    \t*/\r\n    }\r\n\r\n","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>If you want to try to <strong>check user input with an array</strong> you can check the below code</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n     String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n     boolean check=true;\n    System.out.println(&quot;Enter a car name:&quot;);\n    Scanner sc = new Scanner(System.in);\n    String userInputCar = sc.nextLine();\n    \n    \n    for(int i=0;i&lt;cars.length;i++)\n    {\n        if(cars[i].equals(userInputCar))\n        {\n             System.out.println(&quot;You enter &quot;+ cars[i] +&quot; as a car name&quot;);\n             check=false;\n        }\n      \n    }\n    \n       if(check)\n        {\n          System.out.println(&quot;Ops! we are unable to get that name. Thank You&quot;);\n        }\n    \n    }\n    \n    \n    /*\n       Here is the Output\n       \n       Enter a car name:\n       Hero\n       You enter Hero as a car name\n\n\n\n\n    */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678528851,"creation_date":1678528851,"answer_id":75704122,"question_id":75703641,"body_markdown":"`userInputCar == cars`.... It doesn&#39;t work that way, even if you used the [String#equals()](https://www.tutorialspoint.com/java/lang/string_equals.htm) method to check for proper string equality. If anything it should be something like:\r\n\r\n    switch (userInputCar.toUpperCase()) {\r\n        case &quot;TATA&quot;:\r\n            System.out.println(&quot;You enter TATA as a car name&quot;);\r\n            break;\r\n        case &quot;BMW&quot;:\r\n            System.out.println(&quot;You enter BMW as a car name&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Oops! we are unable to get that name. Thank You:&quot;);\r\n    }\r\n\r\nNotice how `userInputCar.toUpperCase()` is used. This allows the User to enter the car name in any letter case an still produce a positive result.\r\n\r\nIn any case...since the car names are already contained within a String[] Array (`cars[]`) you should be checking through the array of names rather than creating a `switch/case` mechanism to do this, for example:\r\n\r\n```\r\n// Declare Scanner object as class global:\r\nprivate final static Scanner sc = new Scanner(System.in);\r\n    \r\npublic static String getCarName() {\r\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n\r\n    String carName = &quot;&quot;;\r\n    while (carName.isEmpty()) {\r\n        System.out.print(&quot;Enter a car name (q to quit): -&gt; &quot;);\r\n        carName = sc.nextLine();\r\n        // See if &#39;q&#39; for quit was supplied by User:\r\n        if (carName.equalsIgnoreCase(&quot;q&quot;)) {\r\n            return null;\r\n        }\r\n            \r\n        // Flag to indicate that supplied car was found within Array:\r\n        boolean found = false; \r\n        /* Iterate the the cars[] array and see if the User supplied\r\n           car exists within that array (ignoring letter case):   */\r\n        for (String car: cars) {\r\n            if (car.equalsIgnoreCase(carName)) {\r\n                /* The supplied car name exists. Make the supplied \r\n                   car name equal the proper car name in array: */\r\n                carName = car;\r\n                found = true;  // Set the `found` flag to true:\r\n                break;         // Break out of `for` loop:\r\n            }\r\n        }\r\n        // Was the supplied car name found?\r\n        if (!found) {\r\n            // No...Inform User and have him/her try again...\r\n            System.out.println(&quot;Oops! We are unable to get that name (&quot; \r\n                             + carName + &quot;). Try again...&quot; \r\n                             + System.lineSeparator());\r\n            carName = &quot;&quot;;  // Empty carName to ensure re-loop:\r\n        }\r\n    }\r\n        \r\n    /* If we get to this point then validation was successfull,\r\n       return the car name:   */\r\n    return carName;\r\n}\r\n```\r\n\r\nTo use the above method, you might have something like this:\r\n\r\n    String car = getCarName();\r\n    if (car == null) {\r\n        System.out.println(&quot;&#39;Quit&#39; Provided!&quot;); \r\n        return;\r\n    }\r\n    System.out.println(&quot;You entered &quot; + car +  &quot; as a car name.&quot;);","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p><code>userInputCar == cars</code>.... It doesn't work that way, even if you used the <a href=\"https://www.tutorialspoint.com/java/lang/string_equals.htm\" rel=\"nofollow noreferrer\">String#equals()</a> method to check for proper string equality. If anything it should be something like:</p>\n<pre><code>switch (userInputCar.toUpperCase()) {\n    case &quot;TATA&quot;:\n        System.out.println(&quot;You enter TATA as a car name&quot;);\n        break;\n    case &quot;BMW&quot;:\n        System.out.println(&quot;You enter BMW as a car name&quot;);\n        break;\n    default:\n        System.out.println(&quot;Oops! we are unable to get that name. Thank You:&quot;);\n}\n</code></pre>\n<p>Notice how <code>userInputCar.toUpperCase()</code> is used. This allows the User to enter the car name in any letter case an still produce a positive result.</p>\n<p>In any case...since the car names are already contained within a String[] Array (<code>cars[]</code>) you should be checking through the array of names rather than creating a <code>switch/case</code> mechanism to do this, for example:</p>\n<pre><code>// Declare Scanner object as class global:\nprivate final static Scanner sc = new Scanner(System.in);\n    \npublic static String getCarName() {\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n\n    String carName = &quot;&quot;;\n    while (carName.isEmpty()) {\n        System.out.print(&quot;Enter a car name (q to quit): -&gt; &quot;);\n        carName = sc.nextLine();\n        // See if 'q' for quit was supplied by User:\n        if (carName.equalsIgnoreCase(&quot;q&quot;)) {\n            return null;\n        }\n            \n        // Flag to indicate that supplied car was found within Array:\n        boolean found = false; \n        /* Iterate the the cars[] array and see if the User supplied\n           car exists within that array (ignoring letter case):   */\n        for (String car: cars) {\n            if (car.equalsIgnoreCase(carName)) {\n                /* The supplied car name exists. Make the supplied \n                   car name equal the proper car name in array: */\n                carName = car;\n                found = true;  // Set the `found` flag to true:\n                break;         // Break out of `for` loop:\n            }\n        }\n        // Was the supplied car name found?\n        if (!found) {\n            // No...Inform User and have him/her try again...\n            System.out.println(&quot;Oops! We are unable to get that name (&quot; \n                             + carName + &quot;). Try again...&quot; \n                             + System.lineSeparator());\n            carName = &quot;&quot;;  // Empty carName to ensure re-loop:\n        }\n    }\n        \n    /* If we get to this point then validation was successfull,\n       return the car name:   */\n    return carName;\n}\n</code></pre>\n<p>To use the above method, you might have something like this:</p>\n<pre><code>String car = getCarName();\nif (car == null) {\n    System.out.println(&quot;'Quit' Provided!&quot;); \n    return;\n}\nSystem.out.println(&quot;You entered &quot; + car +  &quot; as a car name.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27987985,"reputation":3,"user_id":21374421,"display_name":"21SCS34 Arumugaperumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678610904,"creation_date":1678610904,"answer_id":75711982,"question_id":75703641,"body_markdown":"You no cannot compare a entire array with the single variable but you can compare a each and element of an array with the user input value...\r\n````\r\nScanner scanner = new Scanner(System.in);\r\nString[] cars  = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;AMBASSADOR&quot;, &quot;MARUTI&quot;};\r\nString input = scanner.nextLine();\r\nint flag = 0;\r\nfor(String tempcar : car) {\r\nif(tempcar == input.toUpperCase())\r\n    flag = 1;\r\n}\r\nif(flag == 1)\r\n    System.out.println(&quot;car founded in the list&quot;);\r\nelse\r\n   System.out.println(&quot;oops! No such in the list&quot;);","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>You no cannot compare a entire array with the single variable but you can compare a each and element of an array with the user input value...</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nString[] cars  = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;AMBASSADOR&quot;, &quot;MARUTI&quot;};\nString input = scanner.nextLine();\nint flag = 0;\nfor(String tempcar : car) {\nif(tempcar == input.toUpperCase())\n    flag = 1;\n}\nif(flag == 1)\n    System.out.println(&quot;car founded in the list&quot;);\nelse\n   System.out.println(&quot;oops! No such in the list&quot;);\n</code></pre>\n"}],"owner":{"account_id":18828978,"reputation":3,"user_id":13733222,"display_name":"DIPTENU SARKAR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678643302,"accepted_answer_id":75704122,"answer_count":5,"score":0,"last_activity_date":1678610904,"creation_date":1678522676,"question_id":75703641,"body_markdown":"The pitch of the code shows an error!\r\n\r\n```\r\npublic static void switchTest() {\r\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\r\n\r\n    System.out.println(&quot;Enter a car name:&quot;);\r\n    Scanner sc = new Scanner(System.in);\r\n    String userInputCar = sc.nextLine();\r\n\r\n    switch (userInputCar == cars) {\r\n        case &quot;TATA&quot;:\r\n            System.out.println(&quot;You enter TATA as a car name&quot;);\r\n            break;\r\n        case &quot;BMW&quot;:\r\n            System.out.println(&quot;You enter BMW as a car name&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nLet me ask this question in the proper way, We are going to compare user input with The given array. \r\nSo now the question is how can we do this?","title":"Can we compare a user Input with an array? If yes then what wrong am I doing?","body":"<p>The pitch of the code shows an error!</p>\n<pre><code>public static void switchTest() {\n    String[] cars = {&quot;TATA&quot;, &quot;BMW&quot;, &quot;Hero&quot;, &quot;Honda&quot;, &quot;Bajaj&quot;, &quot;Yamaha&quot;};\n\n    System.out.println(&quot;Enter a car name:&quot;);\n    Scanner sc = new Scanner(System.in);\n    String userInputCar = sc.nextLine();\n\n    switch (userInputCar == cars) {\n        case &quot;TATA&quot;:\n            System.out.println(&quot;You enter TATA as a car name&quot;);\n            break;\n        case &quot;BMW&quot;:\n            System.out.println(&quot;You enter BMW as a car name&quot;);\n            break;\n        default:\n            System.out.println(&quot;Ops! we are unable to get that name. Thank You:)&quot;);\n    }\n}\n</code></pre>\n<p>Let me ask this question in the proper way, We are going to compare user input with The given array.\nSo now the question is how can we do this?</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678610827,"creation_date":1678610827,"answer_id":75711975,"question_id":75705954,"body_markdown":"You need to pass the property via `-G` command-line argument.\r\n\r\nTo wit change `-JLG_TG2=10.0.0.3` to `-GLG_TG2=10.0.0.3` \r\n\r\nMore information:\r\n\r\n - [Configuring JMeter][1] \r\n - [Overriding Properties Via The Command Line][2]\r\n - [Apache JMeter Properties Customization Guide][3]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#override\r\n  [3]: https://www.blazemeter.com/blog/jmeter-properties-customization","title":"JMX file with Multiple Thread Groups executing on 3 remote machines, how to control the traffic for 2nd thread group only using one LG out of 3","body":"<p>You need to pass the property via <code>-G</code> command-line argument.</p>\n<p>To wit change <code>-JLG_TG2=10.0.0.3</code> to <code>-GLG_TG2=10.0.0.3</code></p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\" rel=\"nofollow noreferrer\">Configuring JMeter</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#override\" rel=\"nofollow noreferrer\">Overriding Properties Via The Command Line</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-properties-customization\" rel=\"nofollow noreferrer\">Apache JMeter Properties Customization Guide</a></li>\n</ul>\n"}],"owner":{"account_id":2537901,"reputation":51,"user_id":2204487,"display_name":"Akshat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75711975,"answer_count":1,"score":0,"last_activity_date":1678610827,"creation_date":1678548470,"question_id":75705954,"body_markdown":"I have two thread group in JMX and trying to run using Gitlab pipeline,On one thread group all the 3 Windows Load generators are used, but in second thread group I only want to use 1 LG out of 3 LGs.\r\nOn Second thread group we have put a if controller and passing condition as &quot;{__machineIP())&quot;==&quot;10.0.0.3&quot;, in this expression I am hard coding the IP, and this is **perfectly working fine** when I am passing command like:\r\n**jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\\\\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l \\&lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -GNoOfThreads_TG2=1,-GRampUpPeriod_TG2=1 -GNoOfLoops_TG2=2**\r\n\r\nTG1: Thread Group 1 where 1 threads are distributed across 3 LGs so total load is 3 on Application\r\n\r\nTG2: Thread Group 2\r\n\r\nBut now I want to pass as variable in gitlab so instead on hardcoding the IP , on if controller  I am changing expression like **&quot;{__machineIP())&quot;==&quot;${__P(LG_TG2)&quot;}** and passing the command like:\r\n**jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\\\\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l \\&lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -JNoOfThreads_TG2=1,-JRampUpPeriod_TG2=1 -JNoOfLoops_TG2=2 -JLG_TG2=10.0.0.3**\r\n\r\nAfter executing the command using pipeline **Thread Group1(TG1) is executed successfully** but **it doesn&#39;t execute Thread Group2(TG2)**.\r\n\r\nPlease let me know where I am doing wrong.\r\n","title":"JMX file with Multiple Thread Groups executing on 3 remote machines, how to control the traffic for 2nd thread group only using one LG out of 3","body":"<p>I have two thread group in JMX and trying to run using Gitlab pipeline,On one thread group all the 3 Windows Load generators are used, but in second thread group I only want to use 1 LG out of 3 LGs.\nOn Second thread group we have put a if controller and passing condition as &quot;{__machineIP())&quot;==&quot;10.0.0.3&quot;, in this expression I am hard coding the IP, and this is <strong>perfectly working fine</strong> when I am passing command like:\n<strong>jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l &lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -GNoOfThreads_TG2=1,-GRampUpPeriod_TG2=1 -GNoOfLoops_TG2=2</strong></p>\n<p>TG1: Thread Group 1 where 1 threads are distributed across 3 LGs so total load is 3 on Application</p>\n<p>TG2: Thread Group 2</p>\n<p>But now I want to pass as variable in gitlab so instead on hardcoding the IP , on if controller  I am changing expression like <strong>&quot;{__machineIP())&quot;==&quot;${__P(LG_TG2)&quot;}</strong> and passing the command like:\n<strong>jmeter.bat -n -t C:\\GitLab-Runner\\Builds\\&lt;Location or path of JMX script&gt;.jmx -R 10.0.0.1,10.0.0.2,10.0.0.3 -l &lt;Path and name of jtl file&gt;.jtl -GNoOfThreads_TG1=1,-GRampUpPeriod_TG1=3 -GNoOfLoops_TG1=2 -JNoOfThreads_TG2=1,-JRampUpPeriod_TG2=1 -JNoOfLoops_TG2=2 -JLG_TG2=10.0.0.3</strong></p>\n<p>After executing the command using pipeline <strong>Thread Group1(TG1) is executed successfully</strong> but <strong>it doesn't execute Thread Group2(TG2)</strong>.</p>\n<p>Please let me know where I am doing wrong.</p>\n"},{"tags":["java","protocol-buffers","grpc","mapstruct","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655592169,"creation_date":1655592169,"answer_id":72673232,"question_id":72646659,"body_markdown":"MapStruct does not support such ignoring, but you can use [Mapping Composition][1] to simplify your mapper. All fields which need to be ignored can be gathered into one or several annotations.\r\n&lt;br&gt;**Create composite annotation for ignoring fields**\r\n```java\r\nimport org.mapstruct.Mapping;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;aBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;bBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;cBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;dBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;eBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;fBytes&quot;, ignore = true)\r\n@Mapping(target = &quot;mergeFrom&quot;, ignore = true)\r\n@Mapping(target = &quot;clearField&quot;, ignore = true)\r\n@Mapping(target = &quot;clearOneof&quot;, ignore = true)\r\n@Mapping(target = &quot;unknownFields&quot;, ignore = true)\r\n@Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\r\n@Mapping(target = &quot;allFields&quot;, ignore = true)\r\npublic @interface IgnoreProtobuff {\r\n}\r\n```\r\n**Apply `@IgnoreProtobuff` to your mappers**\r\n```java\r\n@Mapper\r\npublic interface ProtoMapperExample {\r\n    @IgnoreProtobuff\r\n    ProtoMessage toMessage(Source s);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition","title":"Customize mapstruct to ignore protobuff fields","body":"<p>MapStruct does not support such ignoring, but you can use <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">Mapping Composition</a> to simplify your mapper. All fields which need to be ignored can be gathered into one or several annotations.\n<br><strong>Create composite annotation for ignoring fields</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapping;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;aBytes&quot;, ignore = true)\n@Mapping(target = &quot;bBytes&quot;, ignore = true)\n@Mapping(target = &quot;cBytes&quot;, ignore = true)\n@Mapping(target = &quot;dBytes&quot;, ignore = true)\n@Mapping(target = &quot;eBytes&quot;, ignore = true)\n@Mapping(target = &quot;fBytes&quot;, ignore = true)\n@Mapping(target = &quot;mergeFrom&quot;, ignore = true)\n@Mapping(target = &quot;clearField&quot;, ignore = true)\n@Mapping(target = &quot;clearOneof&quot;, ignore = true)\n@Mapping(target = &quot;unknownFields&quot;, ignore = true)\n@Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\n@Mapping(target = &quot;allFields&quot;, ignore = true)\npublic @interface IgnoreProtobuff {\n}\n</code></pre>\n<p><strong>Apply <code>@IgnoreProtobuff</code> to your mappers</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface ProtoMapperExample {\n    @IgnoreProtobuff\n    ProtoMessage toMessage(Source s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678610744,"creation_date":1678610744,"answer_id":75711969,"question_id":72646659,"body_markdown":"There is already a MapStruct extension for Protobuf support which give you this feature right out-of-the-box. Community is actively maintaining this repo, so I would suggest to instead use this:\r\nhttps://github.com/entur/mapstruct-spi-protobuf","title":"Customize mapstruct to ignore protobuff fields","body":"<p>There is already a MapStruct extension for Protobuf support which give you this feature right out-of-the-box. Community is actively maintaining this repo, so I would suggest to instead use this:\n<a href=\"https://github.com/entur/mapstruct-spi-protobuf\" rel=\"nofollow noreferrer\">https://github.com/entur/mapstruct-spi-protobuf</a></p>\n"}],"owner":{"account_id":1027355,"reputation":2721,"user_id":1036386,"accept_rate":91,"display_name":"Kalec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75711969,"answer_count":2,"score":3,"last_activity_date":1678610744,"creation_date":1655385994,"question_id":72646659,"body_markdown":"Since I&#39;ve noticed that MapStruct was updated to interact with Protobuff and its builder, I thought about migrating our services to fully use MapStruct.\r\n\r\nHowever we&#39;re still writing manual conversions to protobuff messages because it&#39;s rather clumsy to write a full mapping, considering we have the target_unmapped = Error policy:\r\n\r\n```gradle\r\ncompileJava {\r\n    options.compilerArgs += [\r\n            &#39;-Amapstruct.unmappedTargetPolicy=ERROR&#39;\r\n    ]\r\n}\r\n```\r\n\r\nThis means that even a rather simple mapping, of two classes with the same 6 identical field names (a throug f) looks like this:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {...})\r\npublic interface ProtoMapperExample {\r\n\r\n    @Mapping(target = &quot;aBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;bBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;cBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;dBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;eBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;fBytes&quot;, ignore = true)\r\n    @Mapping(target = &quot;mergeFrom&quot;, ignore = true)\r\n    @Mapping(target = &quot;clearField&quot;, ignore = true)\r\n    @Mapping(target = &quot;clearOneof&quot;, ignore = true)\r\n    @Mapping(target = &quot;unknownFields&quot;, ignore = true)\r\n    @Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\r\n    @Mapping(target = &quot;allFields&quot;, ignore = true)\r\n    ProtoMessage toMessage(Source s);\r\n\r\n}\r\n```\r\n\r\nWhich is honestly unacceptable. But the option of turning off the error is just as unacceptable.\r\n\r\nOur solution was to simply not use MapStruct for this conversion, and I totally agree. It&#39;s cumbersome to say the least.\r\n\r\nHowever if there were a way of configurating our mapper to ignore at least the latter 6 fields (mergeFrom, clearField, clearOneof, unknownFields, mergeUnknownFields, allFields) which one would assume and hope mapstruct did by default. Even that would be an improvement.\r\n\r\nBut we&#39;d also need a way to ignore fields that end in &quot;*Bytes&quot;.\r\n\r\nIs there any way of doing this?","title":"Customize mapstruct to ignore protobuff fields","body":"<p>Since I've noticed that MapStruct was updated to interact with Protobuff and its builder, I thought about migrating our services to fully use MapStruct.</p>\n<p>However we're still writing manual conversions to protobuff messages because it's rather clumsy to write a full mapping, considering we have the target_unmapped = Error policy:</p>\n<pre><code>compileJava {\n    options.compilerArgs += [\n            '-Amapstruct.unmappedTargetPolicy=ERROR'\n    ]\n}\n</code></pre>\n<p>This means that even a rather simple mapping, of two classes with the same 6 identical field names (a throug f) looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = {...})\npublic interface ProtoMapperExample {\n\n    @Mapping(target = &quot;aBytes&quot;, ignore = true)\n    @Mapping(target = &quot;bBytes&quot;, ignore = true)\n    @Mapping(target = &quot;cBytes&quot;, ignore = true)\n    @Mapping(target = &quot;dBytes&quot;, ignore = true)\n    @Mapping(target = &quot;eBytes&quot;, ignore = true)\n    @Mapping(target = &quot;fBytes&quot;, ignore = true)\n    @Mapping(target = &quot;mergeFrom&quot;, ignore = true)\n    @Mapping(target = &quot;clearField&quot;, ignore = true)\n    @Mapping(target = &quot;clearOneof&quot;, ignore = true)\n    @Mapping(target = &quot;unknownFields&quot;, ignore = true)\n    @Mapping(target = &quot;mergeUnknownFields&quot;, ignore = true)\n    @Mapping(target = &quot;allFields&quot;, ignore = true)\n    ProtoMessage toMessage(Source s);\n\n}\n</code></pre>\n<p>Which is honestly unacceptable. But the option of turning off the error is just as unacceptable.</p>\n<p>Our solution was to simply not use MapStruct for this conversion, and I totally agree. It's cumbersome to say the least.</p>\n<p>However if there were a way of configurating our mapper to ignore at least the latter 6 fields (mergeFrom, clearField, clearOneof, unknownFields, mergeUnknownFields, allFields) which one would assume and hope mapstruct did by default. Even that would be an improvement.</p>\n<p>But we'd also need a way to ignore fields that end in &quot;*Bytes&quot;.</p>\n<p>Is there any way of doing this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9411,"page":581,"page_size":100}
