{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1661417601,"post_id":73484529,"comment_id":129769105,"body_markdown":"No. You should create a new instance for every use. Such a pattern is very common.","body":"No. You should create a new instance for every use. Such a pattern is very common."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661418023,"post_id":73484529,"comment_id":129769287,"body_markdown":"Get rid of the static fields and methods and use a new instance per calculation. You must have very good reasons to want only one calculation going on at the same time, for example very heavy resource usage that can&#39;t benefit from multi threading.","body":"Get rid of the static fields and methods and use a new instance per calculation. You must have very good reasons to want only one calculation going on at the same time, for example very heavy resource usage that can&#39;t benefit from multi threading."},{"owner":{"account_id":22040961,"reputation":1343,"user_id":16306754,"display_name":"The Blind Hawk"},"score":0,"creation_date":1661422343,"post_id":73484529,"comment_id":129770962,"body_markdown":"Judging from the replies I may have misunderstood the issue, but you might find ```Semaphore``` useful.","body":"Judging from the replies I may have misunderstood the issue, but you might find <code>Semaphore</code> useful."}],"answers":[{"tags":[],"owner":{"account_id":7634518,"reputation":51,"user_id":5788456,"display_name":"Left Click"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417862,"creation_date":1661417862,"answer_id":73484679,"question_id":73484529,"body_markdown":"Use lock or synchronized :\r\nhttps://www.baeldung.com/java-synchronized\r\n\r\n\r\nYou can learn more about that by researching &quot;lock in multithreading&quot;.","title":"How to restrict access to a class to only one thread","body":"<p>Use lock or synchronized :\n<a href=\"https://www.baeldung.com/java-synchronized\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-synchronized</a></p>\n<p>You can learn more about that by researching &quot;lock in multithreading&quot;.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661421861,"creation_date":1661421233,"answer_id":73485484,"question_id":73484529,"body_markdown":"This is crying out for you to make this a class and the `Evaluate()` method non-static along with all the Booleans as non-static fields.\r\n\r\nThen you can allocate an instance in a thread and no other thread will have access to it (unless you pass is between threads).\r\n\r\nBut your alternative is to make the `static` method `synchronized` synchronised `static` methods are exclusive to the class. Only one thread may be executing a synchronized static method on a give class at a time.\r\n\r\nYou would then make all the setters synchronized (`static synchronized void setXxxx(boolean val)`).\r\n\r\nHaving (of course) made all the flags private to the class.\r\n\r\n\r\nThen no other thread can be setting the booleans while the `Evaluate()` method is executing.\r\n\r\n**But I can not stress enough that is not the way to go.**\r\nIt&#39;s not the way to write multi-threaded code because it means that only one thread can be evaluating at any time for no good reason!\r\n\r\nThere is no logical reason why two threads can&#39;t be evaluating at the same time except for your decision that there shall be only one object that has an Evaluate method. That one object being the class `MathParser`.\r\n\r\nThe static method design may lead to entirely unnecessary resource contention.\r\n\r\nIt&#39;s like a class with only one calculator kept on the teachers desk and everyone has to line up to use it. But calculators are cheap and everyone could have their own. \r\n\r\nEach thread can so easily have it&#39;s own parser.\r\nThe objective in concurrency it maximise parallelism and that means minimise waiting/blocking in which one or more threads cannot proceed until some other thread does something.","title":"How to restrict access to a class to only one thread","body":"<p>This is crying out for you to make this a class and the <code>Evaluate()</code> method non-static along with all the Booleans as non-static fields.</p>\n<p>Then you can allocate an instance in a thread and no other thread will have access to it (unless you pass is between threads).</p>\n<p>But your alternative is to make the <code>static</code> method <code>synchronized</code> synchronised <code>static</code> methods are exclusive to the class. Only one thread may be executing a synchronized static method on a give class at a time.</p>\n<p>You would then make all the setters synchronized (<code>static synchronized void setXxxx(boolean val)</code>).</p>\n<p>Having (of course) made all the flags private to the class.</p>\n<p>Then no other thread can be setting the booleans while the <code>Evaluate()</code> method is executing.</p>\n<p><strong>But I can not stress enough that is not the way to go.</strong>\nIt's not the way to write multi-threaded code because it means that only one thread can be evaluating at any time for no good reason!</p>\n<p>There is no logical reason why two threads can't be evaluating at the same time except for your decision that there shall be only one object that has an Evaluate method. That one object being the class <code>MathParser</code>.</p>\n<p>The static method design may lead to entirely unnecessary resource contention.</p>\n<p>It's like a class with only one calculator kept on the teachers desk and everyone has to line up to use it. But calculators are cheap and everyone could have their own.</p>\n<p>Each thread can so easily have it's own parser.\nThe objective in concurrency it maximise parallelism and that means minimise waiting/blocking in which one or more threads cannot proceed until some other thread does something.</p>\n"}],"owner":{"account_id":13132920,"reputation":101,"user_id":9486920,"display_name":"Amit_dash_234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73485484,"answer_count":2,"score":1,"last_activity_date":1661421861,"creation_date":1661417244,"question_id":73484529,"body_markdown":"I have a class called MathParser which has only one entry point which is &quot;Evaluate&quot; a static function which takes only one String input and outputs the evaluated result. The MathParser class has several booleans representing different functionality that can be switched on or off.\r\n\r\nIn a single threaded application, The evaluate function will throw exceptions if things are not in desired order, and once it gets hold of the control flow, it will release it only when the processing is done ensuring complete safety from any kind of unexpected behavior. \r\n\r\nHowever, in a Multi-threaded Application, A different thread can also turn this switches on or off independently as they&#39;re all static and public variables, while the Evaluate function might still be processing the input. It can lead to all sorts of unexpected behaviors. \r\n\r\nSo I wanted to know if a class and it&#39;s members can be made to be accessible only by one thread, either Main or a background, this way, no other thread will mess up things while processing is still midway.\r\n","title":"How to restrict access to a class to only one thread","body":"<p>I have a class called MathParser which has only one entry point which is &quot;Evaluate&quot; a static function which takes only one String input and outputs the evaluated result. The MathParser class has several booleans representing different functionality that can be switched on or off.</p>\n<p>In a single threaded application, The evaluate function will throw exceptions if things are not in desired order, and once it gets hold of the control flow, it will release it only when the processing is done ensuring complete safety from any kind of unexpected behavior.</p>\n<p>However, in a Multi-threaded Application, A different thread can also turn this switches on or off independently as they're all static and public variables, while the Evaluate function might still be processing the input. It can lead to all sorts of unexpected behaviors.</p>\n<p>So I wanted to know if a class and it's members can be made to be accessible only by one thread, either Main or a background, this way, no other thread will mess up things while processing is still midway.</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661366408,"creation_date":1661366408,"answer_id":73478175,"question_id":73460189,"body_markdown":"Spring Batch does not provide such features. But you can use any rate limiting library where appropriate during the step (ie before/after reading data, before/after processing or writing data, etc).\r\n\r\nThis should help: https://stackoverflow.com/questions/52923083/spring-batch-writer-throttling.","title":"Spring Batch Partitioning with rate limit","body":"<p>Spring Batch does not provide such features. But you can use any rate limiting library where appropriate during the step (ie before/after reading data, before/after processing or writing data, etc).</p>\n<p>This should help: <a href=\"https://stackoverflow.com/questions/52923083/spring-batch-writer-throttling\">Spring batch writer throttling</a>.</p>\n"}],"owner":{"account_id":10615592,"reputation":827,"user_id":7818051,"display_name":"Minh Dao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73478175,"answer_count":1,"score":2,"last_activity_date":1661421690,"creation_date":1661263444,"question_id":73460189,"body_markdown":"# Background\r\n\r\nI&#39;m using Spring Batch to fetch data from our customer sites through HTTP API. The progress contains 2 main steps:\r\n\r\n1. Fetch the total documents from API, then calculate the total pages using a configurable page size. Each page will be assigned to one partition step using custom `Paritioner`.\r\n2. A partition step will send a request to fetch page of data (a list of documents), process and write to our storage.\r\n\r\nCustomer sites might be _&quot;fragile&quot;_. They could have rate limit or their sites might not respond after some heavy requests.\r\n\r\n# What I have done so far\r\n\r\nI&#39;m using `spring-retry` to re-run a request which is failed because of rate limit or server error. For e.g:\r\n\r\n```java\r\n// the partition step&#39;s item reader\r\n@StepScope\r\npublic class CustomItemReader extends ItemReader&lt;Object&gt; {\r\n  private List&lt;Object&gt; items;\r\n  @Override\r\n  public Object read() {\r\n    if (Objects.isNull(items)) {\r\n      this.items = ImportService.getPage(pageId);\r\n    }\r\n    if (Objects.nonNull(items) &amp;&amp; !items.isEmpty()) {\r\n      return items.remove(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n// config retry for fetching function\r\npublic class ImportService {\r\n  @Retryable(\r\n      value = RetryableException.class,\r\n      maxAttempts = 3,\r\n      backoff = @Backoff(\r\n          delay = 1000\r\n      )\r\n  )\r\n  public static List&lt;Object&gt; getPage(String pageId) throws RetryableException {\r\n    return ...;\r\n  }\r\n}\r\n```\r\n\r\nThe retry config contains `Backoff` policy, which has an incremental delay (1000 ms). I used this `Retryable` to handle both retry and rate limit.\r\n\r\n# Problem\r\n\r\n1. `Retryable` will repeatedly wait and re-execute the function, which hold the thread for the whole time. The instance might crash when things get bigger.\r\n2. Because each customer will have its own rate limit, using `Retryable` with `Backoff` is not an ideal way to control the rate. Eventhough I config `core_pool_size` for each customer sites, `core_pool_size=1` is not enough for some.\r\n\r\n# Question\r\n\r\n1. Is there any proper way to throttle the execution rate of Spring Batch, especially with Partitioning? For e.g: I want to config to send 2 requests in 10 seconds, and this will not be achieved by using `sleep` in step listener.\r\n2. I have used `scrapy` for some crawlers, and it has pretty cool retry and rate limit features. With [RetryMiddleware](https://docs.scrapy.org/en/latest/topics/downloader-middleware.html#module-scrapy.downloadermiddlewares.retry), it will enqueue the failed pages and has a `RETRY_LIMIT` in settings. With [AutoThrottle](https://docs.scrapy.org/en/latest/topics/autothrottle.html), it can automatically throttle speed based on load on server. Is there any way to achieve kind of those features in Spring Batch? Or I have to rewrite my project with `scrapy`?\r\n\r\n__Thanh you very much!__","title":"Spring Batch Partitioning with rate limit","body":"<h1>Background</h1>\n<p>I'm using Spring Batch to fetch data from our customer sites through HTTP API. The progress contains 2 main steps:</p>\n<ol>\n<li>Fetch the total documents from API, then calculate the total pages using a configurable page size. Each page will be assigned to one partition step using custom <code>Paritioner</code>.</li>\n<li>A partition step will send a request to fetch page of data (a list of documents), process and write to our storage.</li>\n</ol>\n<p>Customer sites might be <em>&quot;fragile&quot;</em>. They could have rate limit or their sites might not respond after some heavy requests.</p>\n<h1>What I have done so far</h1>\n<p>I'm using <code>spring-retry</code> to re-run a request which is failed because of rate limit or server error. For e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the partition step's item reader\n@StepScope\npublic class CustomItemReader extends ItemReader&lt;Object&gt; {\n  private List&lt;Object&gt; items;\n  @Override\n  public Object read() {\n    if (Objects.isNull(items)) {\n      this.items = ImportService.getPage(pageId);\n    }\n    if (Objects.nonNull(items) &amp;&amp; !items.isEmpty()) {\n      return items.remove(0);\n    }\n    return null;\n  }\n}\n\n// config retry for fetching function\npublic class ImportService {\n  @Retryable(\n      value = RetryableException.class,\n      maxAttempts = 3,\n      backoff = @Backoff(\n          delay = 1000\n      )\n  )\n  public static List&lt;Object&gt; getPage(String pageId) throws RetryableException {\n    return ...;\n  }\n}\n</code></pre>\n<p>The retry config contains <code>Backoff</code> policy, which has an incremental delay (1000 ms). I used this <code>Retryable</code> to handle both retry and rate limit.</p>\n<h1>Problem</h1>\n<ol>\n<li><code>Retryable</code> will repeatedly wait and re-execute the function, which hold the thread for the whole time. The instance might crash when things get bigger.</li>\n<li>Because each customer will have its own rate limit, using <code>Retryable</code> with <code>Backoff</code> is not an ideal way to control the rate. Eventhough I config <code>core_pool_size</code> for each customer sites, <code>core_pool_size=1</code> is not enough for some.</li>\n</ol>\n<h1>Question</h1>\n<ol>\n<li>Is there any proper way to throttle the execution rate of Spring Batch, especially with Partitioning? For e.g: I want to config to send 2 requests in 10 seconds, and this will not be achieved by using <code>sleep</code> in step listener.</li>\n<li>I have used <code>scrapy</code> for some crawlers, and it has pretty cool retry and rate limit features. With <a href=\"https://docs.scrapy.org/en/latest/topics/downloader-middleware.html#module-scrapy.downloadermiddlewares.retry\" rel=\"nofollow noreferrer\">RetryMiddleware</a>, it will enqueue the failed pages and has a <code>RETRY_LIMIT</code> in settings. With <a href=\"https://docs.scrapy.org/en/latest/topics/autothrottle.html\" rel=\"nofollow noreferrer\">AutoThrottle</a>, it can automatically throttle speed based on load on server. Is there any way to achieve kind of those features in Spring Batch? Or I have to rewrite my project with <code>scrapy</code>?</li>\n</ol>\n<p><strong>Thanh you very much!</strong></p>\n"},{"tags":["java","android","sms","android-contentprovider"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661434564,"post_id":73485597,"comment_id":129775612,"body_markdown":"It&#39;s not quite clear how you&#39;re determining that it&#39;s not working. Sending still works the same when you&#39;re the default; the only difference is the one you&#39;ve noted, that the default is responsible for writing its own outgoing messages to the Provider. Non-default apps using `SmsManager` will have their outgoing messages automatically saved to the Provider by the system. If you&#39;re assuming that your sends as the default aren&#39;t working just because they aren&#39;t showing up in the Provider, that&#39;s actually to be expected.","body":"It&#39;s not quite clear how you&#39;re determining that it&#39;s not working. Sending still works the same when you&#39;re the default; the only difference is the one you&#39;ve noted, that the default is responsible for writing its own outgoing messages to the Provider. Non-default apps using <code>SmsManager</code> will have their outgoing messages automatically saved to the Provider by the system. If you&#39;re assuming that your sends as the default aren&#39;t working just because they aren&#39;t showing up in the Provider, that&#39;s actually to be expected."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1661434568,"post_id":73485597,"comment_id":129775613,"body_markdown":"On the other hand, if you mean that the message is actually never reaching its recipient _only_ when you&#39;re the default, then that is a problem, but we&#39;ll need more details, and you&#39;ll need to do some tedious debugging. Lastly, I would also mention that some recent Android emulators have had buggy behavior when it comes to SMS, so it&#39;d be a good idea to test on real devices, too, if possible.","body":"On the other hand, if you mean that the message is actually never reaching its recipient <i>only</i> when you&#39;re the default, then that is a problem, but we&#39;ll need more details, and you&#39;ll need to do some tedious debugging. Lastly, I would also mention that some recent Android emulators have had buggy behavior when it comes to SMS, so it&#39;d be a good idea to test on real devices, too, if possible."}],"owner":{"account_id":23310283,"reputation":11,"user_id":17389651,"display_name":"CSMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661421617,"creation_date":1661421617,"question_id":73485597,"body_markdown":"I need the ability to both send and delete SMSes from my app. The code I&#39;m using is shown. Sending an SMS does not require my app to be the default SMS app, however deleting does. \r\n\r\nWhat is weird is that the code to send the SMS does work when the app is not default, but not when it is (the code to delete SMSes works the other way around, however this is expected). \r\n\r\nI assume that this problem arises because even though another application may be sending the SMSes, only the default SMS app can write to the SMS provider, so I need to write to them manually. However, when having my app as default, other apps can still send SMSes using the same code provided, which is strange.\r\n\r\nI have also tried writing to the SMS providers manually, specifically to content://sms/outbox and tocontent://sms/sent, none of which have worked. Although, the latter does display the message in the preinstalled SMS app. \r\n\r\n```\r\n    public static void sendSMS(String phoneNo, String msg, Context context) {\r\n        try {\r\n            SmsManager smsManager = SmsManager.getDefault();\r\n            smsManager.sendTextMessage(phoneNo, null, msg, null, null);\r\n            Toast.makeText(context, &quot;Message Sent&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        } catch (Exception e) {\r\n            Toast.makeText(context,e.getMessage().toString(),\r\n                    Toast.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\npublic static void deleteSMS(Context context, String message, String number) {\r\n        try {\r\n            Log.i(MainActivity.TAG, &quot;delteSMS: try statement&quot;);\r\n            Uri uriSms = Uri.parse(&quot;content://sms/sent&quot;);\r\n            Cursor c = context.getContentResolver().query(uriSms,\r\n                    new String[] { &quot;_id&quot;, &quot;thread_id&quot;, &quot;address&quot;,\r\n                            &quot;person&quot;, &quot;date&quot;, &quot;body&quot; }, null, null, null);\r\n\r\n            if (c != null &amp;&amp; c.moveToFirst()) {\r\n                do {\r\n                    long id = c.getLong(0);\r\n                    long threadId = c.getLong(1);\r\n                    String address = c.getString(2);\r\n                    String body = c.getString(5);\r\n//                    Log.i(MainActivity.TAG, &quot;Found SMS: &quot; + body);\r\n\r\n                    if (message.equals(body) &amp;&amp; address.equals(number)) {\r\n                        Log.i(MainActivity.TAG, &quot;Deleting sms with&quot; + threadId);\r\n                        context.getContentResolver().delete(\r\n                                Uri.parse(&quot;content://sms/&quot; + id), null, null);\r\n                    }\r\n                } while (c.moveToNext());\r\n            }\r\n        } catch (Exception e) {\r\n            Log.i(MainActivity.TAG, &quot;Could not delete SMS from inbox: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nTL;DR\r\nI need to know how to send SMSes from an application which is set as default, since the usual procedure does not work.\r\n\r\nThanks\r\n","title":"How to send an SMS from the default messaging app on Android?","body":"<p>I need the ability to both send and delete SMSes from my app. The code I'm using is shown. Sending an SMS does not require my app to be the default SMS app, however deleting does.</p>\n<p>What is weird is that the code to send the SMS does work when the app is not default, but not when it is (the code to delete SMSes works the other way around, however this is expected).</p>\n<p>I assume that this problem arises because even though another application may be sending the SMSes, only the default SMS app can write to the SMS provider, so I need to write to them manually. However, when having my app as default, other apps can still send SMSes using the same code provided, which is strange.</p>\n<p>I have also tried writing to the SMS providers manually, specifically to content://sms/outbox and tocontent://sms/sent, none of which have worked. Although, the latter does display the message in the preinstalled SMS app.</p>\n<pre><code>    public static void sendSMS(String phoneNo, String msg, Context context) {\n        try {\n            SmsManager smsManager = SmsManager.getDefault();\n            smsManager.sendTextMessage(phoneNo, null, msg, null, null);\n            Toast.makeText(context, &quot;Message Sent&quot;,\n                    Toast.LENGTH_LONG).show();\n        } catch (Exception e) {\n            Toast.makeText(context,e.getMessage().toString(),\n                    Toast.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>public static void deleteSMS(Context context, String message, String number) {\n        try {\n            Log.i(MainActivity.TAG, &quot;delteSMS: try statement&quot;);\n            Uri uriSms = Uri.parse(&quot;content://sms/sent&quot;);\n            Cursor c = context.getContentResolver().query(uriSms,\n                    new String[] { &quot;_id&quot;, &quot;thread_id&quot;, &quot;address&quot;,\n                            &quot;person&quot;, &quot;date&quot;, &quot;body&quot; }, null, null, null);\n\n            if (c != null &amp;&amp; c.moveToFirst()) {\n                do {\n                    long id = c.getLong(0);\n                    long threadId = c.getLong(1);\n                    String address = c.getString(2);\n                    String body = c.getString(5);\n//                    Log.i(MainActivity.TAG, &quot;Found SMS: &quot; + body);\n\n                    if (message.equals(body) &amp;&amp; address.equals(number)) {\n                        Log.i(MainActivity.TAG, &quot;Deleting sms with&quot; + threadId);\n                        context.getContentResolver().delete(\n                                Uri.parse(&quot;content://sms/&quot; + id), null, null);\n                    }\n                } while (c.moveToNext());\n            }\n        } catch (Exception e) {\n            Log.i(MainActivity.TAG, &quot;Could not delete SMS from inbox: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>TL;DR\nI need to know how to send SMSes from an application which is set as default, since the usual procedure does not work.</p>\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","jar","executable-jar","intellij-14"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1635140141,"post_id":69698113,"comment_id":123206046,"body_markdown":"May you share a sample project and artifact configuration under &quot;Project structure | Artifacts&quot;?","body":"May you share a sample project and artifact configuration under &quot;Project structure | Artifacts&quot;?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1635339264,"post_id":69698113,"comment_id":123270534,"body_markdown":"Given the presence of a module-info.class, you&#39;re using a modular project, then you shouldn&#39;t use the default package. Put `MainBot` in a package.","body":"Given the presence of a module-info.class, you&#39;re using a modular project, then you shouldn&#39;t use the default package. Put <code>MainBot</code> in a package."},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635431506,"post_id":69698113,"comment_id":123301516,"body_markdown":"@MarkRotteveel I did that, now is says that the main class cannot be found at `package.MainBot`.","body":"@MarkRotteveel I did that, now is says that the main class cannot be found at <code>package.MainBot</code>."},{"owner":{"account_id":1486185,"reputation":78,"user_id":1399627,"display_name":"msl"},"score":0,"creation_date":1635444048,"post_id":69698113,"comment_id":123306887,"body_markdown":"Can you share MainBot code? Or at least class declaration and main method declaration?","body":"Can you share MainBot code? Or at least class declaration and main method declaration?"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1635444673,"post_id":69698113,"comment_id":123307116,"body_markdown":"Did you check this? https://stackoverflow.com/a/21650867/9391162","body":"Did you check this? <a href=\"https://stackoverflow.com/a/21650867/9391162\">stackoverflow.com/a/21650867/9391162</a>"},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635496327,"post_id":69698113,"comment_id":123319140,"body_markdown":"@msl I have added my MainBot declaration code.","body":"@msl I have added my MainBot declaration code."},{"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"score":0,"creation_date":1635496706,"post_id":69698113,"comment_id":123319275,"body_markdown":"@AMK that did sadly not work, as I have my MainBot.class in a package called entry.","body":"@AMK that did sadly not work, as I have my MainBot.class in a package called entry."},{"owner":{"account_id":3555439,"reputation":1221,"user_id":2969332,"display_name":"Robert Mikes"},"score":0,"creation_date":1635522012,"post_id":69698113,"comment_id":123329359,"body_markdown":"It&#39;s in a package called entry? Not in the code examples and screenshots you have posted.","body":"It&#39;s in a package called entry? Not in the code examples and screenshots you have posted."}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635548180,"creation_date":1635548180,"answer_id":69775519,"question_id":69698113,"body_markdown":"I attempted to reproduce the error using a [sample application](https://github.com/devatherock/java-module-example) that uses gradle, following [this tutorial](http://tutorials.jenkov.com/java/modules.html), but I couldn&#39;t. The sample application has a module named `io.github.devatherock.example`, which holds the `module-info.java` file and a package named `io.github.devatherock.example`, which contains the main class `MainBot.java`. I have listed the main class as `io.github.devatherock.example.MainBot` in gradle which produces a jar file with below manifest:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: io.github.devatherock.example.MainBot\r\n```\r\n\r\nThe jar executes without any error. In the IDE, the structure of the source code looks like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P7aYv.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>I attempted to reproduce the error using a <a href=\"https://github.com/devatherock/java-module-example\" rel=\"nofollow noreferrer\">sample application</a> that uses gradle, following <a href=\"http://tutorials.jenkov.com/java/modules.html\" rel=\"nofollow noreferrer\">this tutorial</a>, but I couldn't. The sample application has a module named <code>io.github.devatherock.example</code>, which holds the <code>module-info.java</code> file and a package named <code>io.github.devatherock.example</code>, which contains the main class <code>MainBot.java</code>. I have listed the main class as <code>io.github.devatherock.example.MainBot</code> in gradle which produces a jar file with below manifest:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: io.github.devatherock.example.MainBot\n</code></pre>\n<p>The jar executes without any error. In the IDE, the structure of the source code looks like below:</p>\n<p><a href=\"https://i.stack.imgur.com/P7aYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P7aYv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635569599,"creation_date":1635569599,"answer_id":69776885,"question_id":69698113,"body_markdown":"The `META-INF` folder in your generated Jar has these 2 files -\r\n\r\n    SIGNINGGC.RSA\r\n    SIGNINGGC.SF\r\n\r\nI assume that you are not signing the Jar. Then, these files must be coming from one of your dependancies when you are creating a Fat Jar. If any of your dependancies has a Signed Jar, then it could result into that `could not find or load main class: ` exception.\r\n\r\n\r\nYou can quickly find if this is the issue by removing those files with this command (referenced from [here][1]) and try and run the code -\r\n\r\n    zip -d yourjar.jar &#39;META-INF/*.SF&#39; &#39;META-INF/*.RSA&#39; &#39;META-INF/*.DSA&#39;\r\n\r\n\r\nIntelliJ shows 2 Options while generating Jar. The first one will generate a Fat Jar. The other option will keep the other library jars intact and link with them using Manifest file. \r\n\r\nAssuming all you need is to run your code, use the second option in the `Create Jar from Modules` Dialog box.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37732156/11244881\r\n  [2]: https://i.stack.imgur.com/JsfAQ.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>The <code>META-INF</code> folder in your generated Jar has these 2 files -</p>\n<pre><code>SIGNINGGC.RSA\nSIGNINGGC.SF\n</code></pre>\n<p>I assume that you are not signing the Jar. Then, these files must be coming from one of your dependancies when you are creating a Fat Jar. If any of your dependancies has a Signed Jar, then it could result into that <code>could not find or load main class: </code> exception.</p>\n<p>You can quickly find if this is the issue by removing those files with this command (referenced from <a href=\"https://stackoverflow.com/a/37732156/11244881\">here</a>) and try and run the code -</p>\n<pre><code>zip -d yourjar.jar 'META-INF/*.SF' 'META-INF/*.RSA' 'META-INF/*.DSA'\n</code></pre>\n<p>IntelliJ shows 2 Options while generating Jar. The first one will generate a Fat Jar. The other option will keep the other library jars intact and link with them using Manifest file.</p>\n<p>Assuming all you need is to run your code, use the second option in the <code>Create Jar from Modules</code> Dialog box.</p>\n<p><a href=\"https://i.stack.imgur.com/JsfAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsfAQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661421401,"creation_date":1661415482,"answer_id":73484149,"question_id":69698113,"body_markdown":"In Windows\r\nafter generating jar file, in generated folder run command\r\n\r\n    7z d yourjar.jar META-INF/*.SF META-INF/*.RSA META-INF/*.DSA -r\r\n\r\nyou must installed 7zip and added enviorment path","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>In Windows\nafter generating jar file, in generated folder run command</p>\n<pre><code>7z d yourjar.jar META-INF/*.SF META-INF/*.RSA META-INF/*.DSA -r\n</code></pre>\n<p>you must installed 7zip and added enviorment path</p>\n"}],"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3919,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69776885,"answer_count":3,"score":-1,"last_activity_date":1661421401,"creation_date":1635088619,"question_id":69698113,"body_markdown":"This is my MainBot.java code:\r\n\r\n```\r\npublic class MainBot {\r\n    public static void main(String[] args) {\r\n        new MainBot(&quot;my_private_token&quot;);\r\n    }\r\n\r\n    public MainBot(String token) {\r\n        // do stuff\r\n    }\r\n}\r\n```\r\n\r\nI have the following problem: When I try to execute the .jar file generated by IntelliJ, I get the following error:\r\n\r\n```\r\ncould not find or load main class: MainBot\r\n```\r\n\r\nBut when I look *in* the .jar file using WinRAR, I see this:\r\n\r\n[![jar file][1]][1]\r\n\r\n\r\nThe *MainBot.class* file is there! The manifest file in the META-INF/ folder looks like this:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: MainBot\r\n\r\n```\r\n\r\nAnd the the META-INF folder looks like this:\r\n\r\n[![meta-inf][2]][2]\r\n\r\nWhat did I do wrong? When exporting, I select the correct main file in *INTELLIJ*, add the META-INF directory to resources/ and then I build my artifact. How come that The MainBot file cannot be found, when it is there?! I also tried playing arond with the MAINFEST.MF file and tried changing the Main-Class to ../MainBot or something, but none of that worked.\r\n\r\nEDIT: This is the artifact under Project Structure | Artifacts\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bXU6N.png\r\n  [2]: https://i.stack.imgur.com/cDU2e.png\r\n  [3]: https://i.stack.imgur.com/pg4gA.png\r\n  [4]: https://i.stack.imgur.com/OPIaq.png","title":".jar file error &quot;could not find or load main class&quot; with IntelliJ","body":"<p>This is my MainBot.java code:</p>\n<pre><code>public class MainBot {\n    public static void main(String[] args) {\n        new MainBot(&quot;my_private_token&quot;);\n    }\n\n    public MainBot(String token) {\n        // do stuff\n    }\n}\n</code></pre>\n<p>I have the following problem: When I try to execute the .jar file generated by IntelliJ, I get the following error:</p>\n<pre><code>could not find or load main class: MainBot\n</code></pre>\n<p>But when I look <em>in</em> the .jar file using WinRAR, I see this:</p>\n<p><a href=\"https://i.stack.imgur.com/bXU6N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXU6N.png\" alt=\"jar file\" /></a></p>\n<p>The <em>MainBot.class</em> file is there! The manifest file in the META-INF/ folder looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: MainBot\n\n</code></pre>\n<p>And the the META-INF folder looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/cDU2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDU2e.png\" alt=\"meta-inf\" /></a></p>\n<p>What did I do wrong? When exporting, I select the correct main file in <em>INTELLIJ</em>, add the META-INF directory to resources/ and then I build my artifact. How come that The MainBot file cannot be found, when it is there?! I also tried playing arond with the MAINFEST.MF file and tried changing the Main-Class to ../MainBot or something, but none of that worked.</p>\n<p>EDIT: This is the artifact under Project Structure | Artifacts</p>\n<p><a href=\"https://i.stack.imgur.com/pg4gA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pg4gA.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OPIaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OPIaq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","broadcastreceiver","instance"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661421258,"post_id":73485339,"comment_id":129770538,"body_markdown":"If you want to lazy-initiialize `v`, simply check if `v == null` and only if this is the case, assign the value.","body":"If you want to lazy-initiialize <code>v</code>, simply check if <code>v == null</code> and only if this is the case, assign the value."}],"answers":[{"tags":[],"owner":{"account_id":22033721,"reputation":39,"user_id":16300574,"display_name":"Tudor Deviza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420951,"creation_date":1661420951,"answer_id":73485419,"question_id":73485339,"body_markdown":"Maybe I did not understand the question, but you can declare this variable in the constructor, or as a class variable. Or is there some barrier to not doing so?\r\n\r\n    android.os.Vibrator v; //declare\r\n        \r\n    var v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE);\r\n\r\n    public void onLocationChanged(@NonNull Location location) {\r\n            //code\r\n    }","title":"Creating instance variables only once","body":"<p>Maybe I did not understand the question, but you can declare this variable in the constructor, or as a class variable. Or is there some barrier to not doing so?</p>\n<pre><code>android.os.Vibrator v; //declare\n    \nvar v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE);\n\npublic void onLocationChanged(@NonNull Location location) {\n        //code\n}\n</code></pre>\n"}],"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661420951,"creation_date":1661420600,"question_id":73485339,"body_markdown":"Not sure if its called instance variables but you will understand. I want to set variables like this only once. But it&#180;s in receiver. This way they are set every time receiver get message. What is the correct solution for this?\r\n\r\n    android.os.Vibrator v; //declare\r\n    \r\n    public void onLocationChanged(@NonNull Location location) {\r\n        v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE); //getting instance every time","title":"Creating instance variables only once","body":"<p>Not sure if its called instance variables but you will understand. I want to set variables like this only once. But it´s in receiver. This way they are set every time receiver get message. What is the correct solution for this?</p>\n<pre><code>android.os.Vibrator v; //declare\n\npublic void onLocationChanged(@NonNull Location location) {\n    v = (android.os.Vibrator) mainContext.getSystemService(Context.VIBRATOR_SERVICE); //getting instance every time\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":4140583,"reputation":2391,"user_id":3396045,"accept_rate":75,"display_name":"Shabirmean"},"score":0,"creation_date":1589214534,"post_id":61700234,"comment_id":109198345,"body_markdown":"Related vscode repo link: https://github.com/microsoft/vscode/issues/97363 where the same question is raised","body":"Related vscode repo link: <a href=\"https://github.com/microsoft/vscode/issues/97363\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode/issues/97363</a> where the same question is raised"}],"answers":[{"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1589049749,"creation_date":1589049749,"answer_id":61701945,"question_id":61700234,"body_markdown":"You should use `vmArgs` option in the `.vscode/launch.json` file, create an entry for java launcher configuration as below -\r\n\r\n        {\r\n            &quot;version&quot;: &quot;0.2.0&quot;,\r\n            &quot;configurations&quot;: [\r\n                \r\n                {\r\n                    &quot;type&quot;: &quot;java&quot;,\r\n                    &quot;name&quot;: &quot;Debug (Launch) with Arguments Prompt&quot;,\r\n                    &quot;request&quot;: &quot;launch&quot;,\r\n                    &quot;mainClass&quot;: &quot;com.myapp.Main&quot;,\r\n                    &quot;args&quot;: &quot;${command:SpecifyProgramArgs}&quot;,\r\n                    &quot;vmArgs&quot; : &quot;${command:SpecifyVMArgs}&quot;\r\n                }\r\n            ]\r\n            }\r\n\r\nYou can get the list of other options here https://code.visualstudio.com/docs/java/java-debugging#_launch.\r\n\r\n","title":"How to set java vmargs in vscode at workspace level","body":"<p>You should use <code>vmArgs</code> option in the <code>.vscode/launch.json</code> file, create an entry for java launcher configuration as below -</p>\n\n<pre><code>    {\n        \"version\": \"0.2.0\",\n        \"configurations\": [\n\n            {\n                \"type\": \"java\",\n                \"name\": \"Debug (Launch) with Arguments Prompt\",\n                \"request\": \"launch\",\n                \"mainClass\": \"com.myapp.Main\",\n                \"args\": \"${command:SpecifyProgramArgs}\",\n                \"vmArgs\" : \"${command:SpecifyVMArgs}\"\n            }\n        ]\n        }\n</code></pre>\n\n<p>You can get the list of other options here <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_launch</a>.</p>\n"},{"tags":[],"owner":{"account_id":13963804,"reputation":129,"user_id":10084200,"display_name":"SangLe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661420831,"creation_date":1661420831,"answer_id":73485388,"question_id":61700234,"body_markdown":"You should add vmArms at workspace level in setting.json file of VSCode\r\n\r\nOpen user setting: ctrl + shift + p\r\n\r\nfrom popup then you can search &quot;Open User Setting (JSON)&quot;\r\n\r\nAdd this line below into your user setting json file\r\n\r\n```json\r\n&quot;java.debug.settings.vmArgs&quot;: &quot;-Dappname=LocalTest ...&quot;\r\n```\r\npress F5 (default) to run single java file or you can right click at the current file and choose &quot;Run java&quot;","title":"How to set java vmargs in vscode at workspace level","body":"<p>You should add vmArms at workspace level in setting.json file of VSCode</p>\n<p>Open user setting: ctrl + shift + p</p>\n<p>from popup then you can search &quot;Open User Setting (JSON)&quot;</p>\n<p>Add this line below into your user setting json file</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.debug.settings.vmArgs&quot;: &quot;-Dappname=LocalTest ...&quot;\n</code></pre>\n<p>press F5 (default) to run single java file or you can right click at the current file and choose &quot;Run java&quot;</p>\n"}],"owner":{"account_id":4140583,"reputation":2391,"user_id":3396045,"accept_rate":75,"display_name":"Shabirmean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13817,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1661420831,"creation_date":1589042287,"question_id":61700234,"body_markdown":"Is there a way I can set java VM arguments at workspace level? That is, not having to have it in each launch configuration in the `launch.json`. A specific argument I want to be used whenever a launch is triggered for the current workspace in vscode. I also don&#39;t want it to be global to all Java projects opened in vscode, just the current workspace.\r\n\r\nI tried adding this in `.vscode/settings.json`, but it doesn&#39;t seem to use it.\r\n```json\r\n{\r\n  &quot;java.jdt.ls.vmargs&quot;: &quot;-javaagent:/Users/me/my-agent.jar&quot;\r\n}\r\n```\r\nAny suggestions? Ways to achieve this?","title":"How to set java vmargs in vscode at workspace level","body":"<p>Is there a way I can set java VM arguments at workspace level? That is, not having to have it in each launch configuration in the <code>launch.json</code>. A specific argument I want to be used whenever a launch is triggered for the current workspace in vscode. I also don't want it to be global to all Java projects opened in vscode, just the current workspace.</p>\n\n<p>I tried adding this in <code>.vscode/settings.json</code>, but it doesn't seem to use it.</p>\n\n<pre><code>{\n  \"java.jdt.ls.vmargs\": \"-javaagent:/Users/me/my-agent.jar\"\n}\n</code></pre>\n\n<p>Any suggestions? Ways to achieve this?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1297966163,"post_id":5032762,"comment_id":5629900,"body_markdown":"&quot;Keeping a multitude of instance variables for every single UI element seems to be such an overkill&quot;  As opposed to keeping a multitude of Strings that represent field names, then using some type of &#39;lookup&#39; system that cannot be verified at compile-time?","body":"&quot;Keeping a multitude of instance variables for every single UI element seems to be such an overkill&quot;  As opposed to keeping a multitude of Strings that represent field names, then using some type of &#39;lookup&#39; system that cannot be verified at compile-time?"},{"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"score":0,"creation_date":1297966306,"post_id":5032762,"comment_id":5629934,"body_markdown":"correct, less lines of code =&gt; easier to read. also dont need to pass reference to anything into methods that update the said elements, etc etc.","body":"correct, less lines of code =&gt; easier to read. also dont need to pass reference to anything into methods that update the said elements, etc etc."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1297966311,"post_id":5032762,"comment_id":5629937,"body_markdown":"What problem are you trying to solve in a non-programming sense that you feel that this is necessary?  This sounds as if you need to refactor your code as a better solution.  Though I&#39;ve sometimes used HashMap&lt;String, JTextField&gt; when it best solves a problem, for instance when I create a data entry form on the fly and use the same JLabel Strings as the HashMap key Strings.","body":"What problem are you trying to solve in a non-programming sense that you feel that this is necessary?  This sounds as if you need to refactor your code as a better solution.  Though I&#39;ve sometimes used HashMap&lt;String, JTextField&gt; when it best solves a problem, for instance when I create a data entry form on the fly and use the same JLabel Strings as the HashMap key Strings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1297966571,"post_id":5032762,"comment_id":5629991,"body_markdown":"It was a simple question for clarification of your problem. And &quot;best programming practices&quot; are what we all need to learn and apply, whether this appeals to you or not.","body":"It was a simple question for clarification of your problem. And &quot;best programming practices&quot; are what we all need to learn and apply, whether this appeals to you or not."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1297968249,"post_id":5032762,"comment_id":5630372,"body_markdown":"&quot;I&#39;m not writing software for space shuttle columbia.&quot;  OK.  But if you code like that, you might end up with the same result (crash &amp; burn). &quot;..dont need to pass reference to anything into methods that update the said elements,..&quot;  How do you determine which of the &#39;multitude&#39; of text areas to update unless a String identifying the name of the field is passed to the method?  Seems just as complicated, and far more error prone, than passing the variable itself (which will not only check at compile time that it exists, but also that it is an object of the correct type for the method).","body":"&quot;I&#39;m not writing software for space shuttle columbia.&quot;  OK.  But if you code like that, you might end up with the same result (crash &amp; burn). &quot;..dont need to pass reference to anything into methods that update the said elements,..&quot;  How do you determine which of the &#39;multitude&#39; of text areas to update unless a String identifying the name of the field is passed to the method?  Seems just as complicated, and far more error prone, than passing the variable itself (which will not only check at compile time that it exists, but also that it is an object of the correct type for the method)."}],"answers":[{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1297966965,"creation_date":1297966611,"answer_id":5032880,"question_id":5032762,"body_markdown":"    private static Component getComponentById(Container container, String componentId){\r\n    \t\t\r\n    \t\tif(container.getComponents().length &gt; 0)\r\n    \t\t{\r\n    \t\t\tfor(Component c : container.getComponents())\r\n    \t\t\t{\r\n    \t\t\t\tif(componentId.equals(c.getName()))\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn c;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(c instanceof Container)\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn getComponent((Container) c, componentId);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t\t\r\n    \t}","title":"looking up Swing components by their id?","body":"<pre><code>private static Component getComponentById(Container container, String componentId){\n\n        if(container.getComponents().length &gt; 0)\n        {\n            for(Component c : container.getComponents())\n            {\n                if(componentId.equals(c.getName()))\n                {\n                    return c;\n                }\n                if(c instanceof Container)\n                {\n                    return getComponent((Container) c, componentId);\n                }\n            }\n        }\n\n        return null;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5032880,"answer_count":1,"score":0,"last_activity_date":1661420658,"creation_date":1297965917,"question_id":5032762,"body_markdown":"Is it possible to get a reference to a swing object via some lookup method ?? \r\n\r\nKeeping a multitude of instance variables for every single UI element seems to be such an overkill\r\n\r\nie kinda the way its done in javascript:\r\n\r\n    JTextArea ta = new JTextArea();\r\n    ta.setId(&quot;myJTextArea&quot;);\r\n    ....\r\n    ....\r\n    ....\r\n    JTextArea ta = window.getElementById(&quot;myJTextArea&quot;);\r\n    ta.setTexT(&quot;blah&quot;);\r\n\r\n_PS._ I&#39;m not writing software for space shuttle columbia. This is a quick and dirty projects, so best practices dont apply. Thx.","title":"looking up Swing components by their id?","body":"<p>Is it possible to get a reference to a swing object via some lookup method ??</p>\n<p>Keeping a multitude of instance variables for every single UI element seems to be such an overkill</p>\n<p>ie kinda the way its done in javascript:</p>\n<pre><code>JTextArea ta = new JTextArea();\nta.setId(&quot;myJTextArea&quot;);\n....\n....\n....\nJTextArea ta = window.getElementById(&quot;myJTextArea&quot;);\nta.setTexT(&quot;blah&quot;);\n</code></pre>\n<p><em>PS.</em> I'm not writing software for space shuttle columbia. This is a quick and dirty projects, so best practices dont apply. Thx.</p>\n"},{"tags":["java","spring","spring-boot","junit5","wiremock"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1660843831,"post_id":73407216,"comment_id":129635216,"body_markdown":"Please [edit] your question to show a [mcve] for what you have so far. Showing code along with the verbal explanation will increases the chance of getting help more quickly.","body":"Please <a href=\"https://stackoverflow.com/posts/73407216/edit\">edit</a> your question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for what you have so far. Showing code along with the verbal explanation will increases the chance of getting help more quickly."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1660845706,"post_id":73407216,"comment_id":129635876,"body_markdown":"One option is [WireMock](https://wiremock.org/docs/junit-jupiter/)","body":"One option is <a href=\"https://wiremock.org/docs/junit-jupiter/\" rel=\"nofollow noreferrer\">WireMock</a>"}],"answers":[{"tags":[],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420367,"creation_date":1661420367,"answer_id":73485279,"question_id":73407216,"body_markdown":"Here is what I did in one of my Projects to test a retry logic. Just remove the 503 responses and add the wanted body:\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    import TestedApi;\r\n    import MyDto;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import okhttp3.mockwebserver.MockResponse;\r\n    import okhttp3.mockwebserver.MockWebServer;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Tag;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import reactor.core.publisher.Mono;\r\n    import reactor.test.StepVerifier;\r\n    \r\n    @SpringBootTest()\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @Tag(&quot;integration&quot;)\r\n    \r\n    public class TrApiIT {\r\n    \r\n      @Autowired\r\n      private TestedApi testedApi;\r\n    \r\n      @BeforeEach\r\n      void setup() {\r\n    \r\n      }\r\n    \r\n      @Test\r\n      public void testRetryHappyPath() throws IOException {\r\n        MockWebServer mockWebServer = new MockWebServer();\r\n    \r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(503));\r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(503));\r\n        mockWebServer.enqueue(new MockResponse().setResponseCode(200)\r\n            .setBody(&quot;&quot;));\r\n    \r\n        mockWebServer.start(50455);\r\n    \r\n        List&lt;MyDto&gt; entries = List\r\n            .of(MyDto.builder()\r\n                .messageReference(&quot;00000000-0000-0000-0000-000000000000&quot;)\r\n                .build());\r\n    \r\n        Mono&lt;HttpStatus&gt; responseMono = testedApi.postData(entries);\r\n    \r\n        StepVerifier.create(responseMono)\r\n            .expectNext(HttpStatus.OK)\r\n            .expectComplete().verify();\r\n    \r\n        mockWebServer.shutdown();\r\n      }\r\n    }\r\n\r\napplication-test.properties:\r\n\r\n    external.api.myapi.baseUrl=http://127.0.0.1:50455\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\r\n      &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n      &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junitvintage.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n      &lt;version&gt;${reactortest.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"I want to mock the response from external url","body":"<p>Here is what I did in one of my Projects to test a retry logic. Just remove the 503 responses and add the wanted body:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport TestedApi;\nimport MyDto;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Objects;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.test.context.ActiveProfiles;\nimport reactor.core.publisher.Mono;\nimport reactor.test.StepVerifier;\n\n@SpringBootTest()\n@ActiveProfiles(&quot;test&quot;)\n@Tag(&quot;integration&quot;)\n\npublic class TrApiIT {\n\n  @Autowired\n  private TestedApi testedApi;\n\n  @BeforeEach\n  void setup() {\n\n  }\n\n  @Test\n  public void testRetryHappyPath() throws IOException {\n    MockWebServer mockWebServer = new MockWebServer();\n\n    mockWebServer.enqueue(new MockResponse().setResponseCode(503));\n    mockWebServer.enqueue(new MockResponse().setResponseCode(503));\n    mockWebServer.enqueue(new MockResponse().setResponseCode(200)\n        .setBody(&quot;&quot;));\n\n    mockWebServer.start(50455);\n\n    List&lt;MyDto&gt; entries = List\n        .of(MyDto.builder()\n            .messageReference(&quot;00000000-0000-0000-0000-000000000000&quot;)\n            .build());\n\n    Mono&lt;HttpStatus&gt; responseMono = testedApi.postData(entries);\n\n    StepVerifier.create(responseMono)\n        .expectNext(HttpStatus.OK)\n        .expectComplete().verify();\n\n    mockWebServer.shutdown();\n  }\n}\n</code></pre>\n<p>application-test.properties:</p>\n<pre><code>external.api.myapi.baseUrl=http://127.0.0.1:50455\n</code></pre>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n  &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n  &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\n  &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n  &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n  &lt;version&gt;${mockwebserver.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n  &lt;version&gt;${junitvintage.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n  &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n  &lt;version&gt;${reactortest.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26100605,"reputation":11,"user_id":19796092,"display_name":"Aslam P Sherif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661420367,"creation_date":1660843733,"question_id":73407216,"body_markdown":"i am working on a springboot based application and one of my rest api end point flow is as below\r\n\r\nfrom controller &gt;&gt;&gt; service&gt;&gt; clientclass\r\n\r\nin client class i am calling a external post request using restTemplate. but as of now external url is down. so i need to mock the response from external url to test the entire flow from controller class and back","title":"I want to mock the response from external url","body":"<p>i am working on a springboot based application and one of my rest api end point flow is as below</p>\n<p>from controller &gt;&gt;&gt; service&gt;&gt; clientclass</p>\n<p>in client class i am calling a external post request using restTemplate. but as of now external url is down. so i need to mock the response from external url to test the entire flow from controller class and back</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1661417384,"post_id":73480206,"comment_id":129769024,"body_markdown":"What is this condition you are check if met? It sounds like a &#39;polling&#39; design in which your task keeps checking (polling) a condition for N minutes. That&#39;s a &#39;last resort&#39; design. The best designs have a task sleeping or waiting and getting notified when a condition is met. Polling consumes lots of compute and isn&#39;t scalable. But sometimes it&#39;s the only option.","body":"What is this condition you are check if met? It sounds like a &#39;polling&#39; design in which your task keeps checking (polling) a condition for N minutes. That&#39;s a &#39;last resort&#39; design. The best designs have a task sleeping or waiting and getting notified when a condition is met. Polling consumes lots of compute and isn&#39;t scalable. But sometimes it&#39;s the only option."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661382029,"creation_date":1661382029,"answer_id":73480288,"question_id":73480206,"body_markdown":"[`ScheduledExecutorService`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html) can accomplish this.\r\n\r\nWhat you need to do:\r\n\r\n - Schedule the block of work you want to do at a fixed interval (in time units, so like seconds, minutes, hours, etc)\r\n - When you&#39;ve completed the work, execute `ScheduledExecutorService#shutdownNow`\r\n - To time out after a period of time, use `ScheduledExecutorService#awaitTermination` to delay the termination of the scheduled task until your threshold elapses","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> can accomplish this.</p>\n<p>What you need to do:</p>\n<ul>\n<li>Schedule the block of work you want to do at a fixed interval (in time units, so like seconds, minutes, hours, etc)</li>\n<li>When you've completed the work, execute <code>ScheduledExecutorService#shutdownNow</code></li>\n<li>To time out after a period of time, use <code>ScheduledExecutorService#awaitTermination</code> to delay the termination of the scheduled task until your threshold elapses</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661415453,"creation_date":1661414176,"answer_id":73483850,"question_id":73480206,"body_markdown":"# Task reschedules itself\r\n\r\nThe [Answer by Makato][1] is right about suggesting the use of an [executor service][2]. But ending the [scheduled executor service][3] as the way to end your repeating [task][4] is less than optimal. Often we have one executor service handling many tasks. So while we want our repeating task to end, the executor service may need to continue scheduling other tasks to run. \r\n\r\nInstead, ironically, &#128073;&#127995; **do not schedule the repeating task to repeat**. [Schedule the task][5] to run *once*. Have the task check its status. \r\n\r\n - If the status requires the task run again, have the task schedule itself on the executor service for another run. \r\n - If the status is complete, and no further executions of that task are needed, simply opt out of another submission to the executor service. \r\n\r\nThe key to making this work is **passing a reference to the scheduled executor service to the constructor of your task**. The task keeps that reference as a member field of its own class. So the task can use that reference to pass itself to the scheduled executor service for another submission. The task becomes self-scheduling.\r\n\r\nHere is the source code for an example of such a task.\r\n\r\nNotice that in addition to passing a reference to the scheduled executor service, we also pass an `Instant` representing our target moment when we want to stop our repeating task. And we pass a `Duration` object for the amount of time to wait between executions of this task. \r\n\r\nExamine that `run` method. The task compares the current moment against the target moment. If not yet passed, the task schedules it own next execution. If passed, no rescheduling, mission accomplished.\r\n\r\n```java\r\npackage work.basil.example.concurrency;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ExpiringTask implements Runnable\r\n{\r\n    private final Instant timeLimit;\r\n    private final Duration untilNextRun;\r\n    private final ScheduledExecutorService scheduledExecutorService;\r\n\r\n    public ExpiringTask ( final Instant timeLimit , final Duration untilNextRun , final ScheduledExecutorService scheduledExecutorService )\r\n    {\r\n        this.timeLimit = Objects.requireNonNull( timeLimit );\r\n        this.untilNextRun = Objects.requireNonNull( untilNextRun );\r\n        this.scheduledExecutorService = Objects.requireNonNull( scheduledExecutorService );\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - Running the `run` method of our ExpiringTask. Now: &quot; + Instant.now() );\r\n        if ( Instant.now().isAfter( this.timeLimit ) )\r\n        {\r\n            System.out.println( &quot;☑️ Mission accomplished. Our task has expired. Now: &quot; + Instant.now() );\r\n        }\r\n        else\r\n        {\r\n            System.out.println( &quot;⏲️ Not yet expired. Reschedule to check again. Now: &quot; + Instant.now() );\r\n            this.scheduledExecutorService.schedule( this , this.untilNextRun.toNanos() , TimeUnit.NANOSECONDS );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn real work, when rescheduling the task, I would check that the executor service is still available. To do so, make a call to [`ExecutorSerivce#isShutdown`][6]. This step is omitted in code above for brevity and simplicity. \r\n\r\nHow to run get that task running? Here is the main chunk of an app to demonstrate this task running repeatedly while rescheduling itself.\r\n\r\nFirst we establish our target time limit as five seconds from now. Then we specify waiting between runs for one second each time. And we get a scheduled executor service. Be sure to keep that reference around, as you must be careful to gracefully shut down the executor service eventually — otherwise its backing thread pool may continue running indefinitely, like a zombie &#129503;‍♂️.\r\n\r\nNext step is to instantiate our task, passing the pieces to its constructor. Finally, to get things working, we tell the scheduled executor service to run our task after a certain amount of delay. For this first run we want to run immediately, so we specify a delay of zero nanoseconds. \r\n\r\n```java\r\nInstant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\r\nDuration untilNextRun = Duration.ofSeconds( 1 );\r\nScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\nExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\r\nses.schedule( task , 0 , TimeUnit.NANOSECONDS );\r\n```\r\n\r\nThat covers the main idea. Here is the complete app class containing that code excerpted directly above.\r\n\r\n```java\r\npackage work.basil.example.concurrency;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class KeepRunningUntil\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        KeepRunningUntil app = new KeepRunningUntil();\r\n        app.demo();\r\n        System.out.println( &quot;INFO - Demo ending. Now: &quot; + Instant.now() );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - &#39;demo&#39; method starting. &quot; + Instant.now() );\r\n\r\n        Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\r\n        Duration untilNextRun = Duration.ofSeconds( 1 );\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        ExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\r\n        ses.schedule( task , 0 , TimeUnit.NANOSECONDS );\r\n\r\n        // Wait a while for our background task to do its thing.\r\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        this.shutdownAndAwaitTermination( ses );\r\n\r\n        System.out.println( &quot;INFO - &#39;demo&#39; method ending. &quot; + Instant.now() );\r\n    }\r\n\r\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        // Boilerplate taken from Javadoc.\r\n        // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\r\n\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nINFO - &#39;demo&#39; method starting. 2022-08-25T08:16:28.384638Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:28.402471Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:28.402657Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:29.408010Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:29.408126Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:30.413336Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:30.413599Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:31.416144Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:31.416230Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:32.421484Z\r\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:32.421873Z\r\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:33.425519Z\r\n☑️ Mission accomplished. Our task has expired. Now: 2022-08-25T08:16:33.425863Z\r\nINFO - &#39;demo&#39; method ending. 2022-08-25T08:16:38.407566Z\r\nINFO - Demo ending. Now: 2022-08-25T08:16:38.407755Z\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73480288/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<h1>Task reschedules itself</h1>\n<p>The <a href=\"https://stackoverflow.com/a/73480288/642706\">Answer by Makato</a> is right about suggesting the use of an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a>. But ending the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">scheduled executor service</a> as the way to end your repeating <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">task</a> is less than optimal. Often we have one executor service handling many tasks. So while we want our repeating task to end, the executor service may need to continue scheduling other tasks to run.</p>\n<p>Instead, ironically, 👉🏻 <strong>do not schedule the repeating task to repeat</strong>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Schedule the task</a> to run <em>once</em>. Have the task check its status.</p>\n<ul>\n<li>If the status requires the task run again, have the task schedule itself on the executor service for another run.</li>\n<li>If the status is complete, and no further executions of that task are needed, simply opt out of another submission to the executor service.</li>\n</ul>\n<p>The key to making this work is <strong>passing a reference to the scheduled executor service to the constructor of your task</strong>. The task keeps that reference as a member field of its own class. So the task can use that reference to pass itself to the scheduled executor service for another submission. The task becomes self-scheduling.</p>\n<p>Here is the source code for an example of such a task.</p>\n<p>Notice that in addition to passing a reference to the scheduled executor service, we also pass an <code>Instant</code> representing our target moment when we want to stop our repeating task. And we pass a <code>Duration</code> object for the amount of time to wait between executions of this task.</p>\n<p>Examine that <code>run</code> method. The task compares the current moment against the target moment. If not yet passed, the task schedules it own next execution. If passed, no rescheduling, mission accomplished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.concurrency;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Objects;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class ExpiringTask implements Runnable\n{\n    private final Instant timeLimit;\n    private final Duration untilNextRun;\n    private final ScheduledExecutorService scheduledExecutorService;\n\n    public ExpiringTask ( final Instant timeLimit , final Duration untilNextRun , final ScheduledExecutorService scheduledExecutorService )\n    {\n        this.timeLimit = Objects.requireNonNull( timeLimit );\n        this.untilNextRun = Objects.requireNonNull( untilNextRun );\n        this.scheduledExecutorService = Objects.requireNonNull( scheduledExecutorService );\n    }\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - Running the `run` method of our ExpiringTask. Now: &quot; + Instant.now() );\n        if ( Instant.now().isAfter( this.timeLimit ) )\n        {\n            System.out.println( &quot;☑️ Mission accomplished. Our task has expired. Now: &quot; + Instant.now() );\n        }\n        else\n        {\n            System.out.println( &quot;⏲️ Not yet expired. Reschedule to check again. Now: &quot; + Instant.now() );\n            this.scheduledExecutorService.schedule( this , this.untilNextRun.toNanos() , TimeUnit.NANOSECONDS );\n        }\n    }\n}\n</code></pre>\n<p>In real work, when rescheduling the task, I would check that the executor service is still available. To do so, make a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorSerivce#isShutdown</code></a>. This step is omitted in code above for brevity and simplicity.</p>\n<p>How to run get that task running? Here is the main chunk of an app to demonstrate this task running repeatedly while rescheduling itself.</p>\n<p>First we establish our target time limit as five seconds from now. Then we specify waiting between runs for one second each time. And we get a scheduled executor service. Be sure to keep that reference around, as you must be careful to gracefully shut down the executor service eventually — otherwise its backing thread pool may continue running indefinitely, like a zombie 🧟‍♂️.</p>\n<p>Next step is to instantiate our task, passing the pieces to its constructor. Finally, to get things working, we tell the scheduled executor service to run our task after a certain amount of delay. For this first run we want to run immediately, so we specify a delay of zero nanoseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\nDuration untilNextRun = Duration.ofSeconds( 1 );\nScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\nExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\nses.schedule( task , 0 , TimeUnit.NANOSECONDS );\n</code></pre>\n<p>That covers the main idea. Here is the complete app class containing that code excerpted directly above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.concurrency;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class KeepRunningUntil\n{\n    public static void main ( String[] args )\n    {\n        KeepRunningUntil app = new KeepRunningUntil();\n        app.demo();\n        System.out.println( &quot;INFO - Demo ending. Now: &quot; + Instant.now() );\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - 'demo' method starting. &quot; + Instant.now() );\n\n        Instant timeLimit = Instant.now().plus( Duration.ofSeconds( 5 ) );\n        Duration untilNextRun = Duration.ofSeconds( 1 );\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        ExpiringTask task = new ExpiringTask( timeLimit , untilNextRun , ses );\n        ses.schedule( task , 0 , TimeUnit.NANOSECONDS );\n\n        // Wait a while for our background task to do its thing.\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        this.shutdownAndAwaitTermination( ses );\n\n        System.out.println( &quot;INFO - 'demo' method ending. &quot; + Instant.now() );\n    }\n\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        // Boilerplate taken from Javadoc.\n        // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#isShutdown()\n\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - 'demo' method starting. 2022-08-25T08:16:28.384638Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:28.402471Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:28.402657Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:29.408010Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:29.408126Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:30.413336Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:30.413599Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:31.416144Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:31.416230Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:32.421484Z\n⏲️ Not yet expired. Reschedule to check again. Now: 2022-08-25T08:16:32.421873Z\nINFO - Running the `run` method of our ExpiringTask. Now: 2022-08-25T08:16:33.425519Z\n☑️ Mission accomplished. Our task has expired. Now: 2022-08-25T08:16:33.425863Z\nINFO - 'demo' method ending. 2022-08-25T08:16:38.407566Z\nINFO - Demo ending. Now: 2022-08-25T08:16:38.407755Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420267,"creation_date":1661420267,"answer_id":73485260,"question_id":73480206,"body_markdown":"The other answers mentioned here are good. Just giving another idea that might be simpler. \r\n\r\n 1. Schedule your task to run periodically and don&#39;t worry about termination\r\n 2. Create a class Lets call it `TaskManager` and make one of its members an `ExecutorService`. Pass the `ExecutorService` that you use for your task sceduling to your `TaskManager`. Also in your task manager add a counter that your task will increment each time that it runs. Obviously your `TaskManager` should have a static method `incrementCounter()` that your task will use. Also your `TaskManager` should have a method static method `teminateTask()`.\r\n 3. So now when the counter reaches your limit `TaskManager` will call method `shutDown()` of your `ExecutorService`. Or if your task in your internal logic comes to conclusion that its time to terminate it will call method `teminateTask()` of your `TaskManager`","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p>The other answers mentioned here are good. Just giving another idea that might be simpler.</p>\n<ol>\n<li>Schedule your task to run periodically and don't worry about termination</li>\n<li>Create a class Lets call it <code>TaskManager</code> and make one of its members an <code>ExecutorService</code>. Pass the <code>ExecutorService</code> that you use for your task sceduling to your <code>TaskManager</code>. Also in your task manager add a counter that your task will increment each time that it runs. Obviously your <code>TaskManager</code> should have a static method <code>incrementCounter()</code> that your task will use. Also your <code>TaskManager</code> should have a method static method <code>teminateTask()</code>.</li>\n<li>So now when the counter reaches your limit <code>TaskManager</code> will call method <code>shutDown()</code> of your <code>ExecutorService</code>. Or if your task in your internal logic comes to conclusion that its time to terminate it will call method <code>teminateTask()</code> of your <code>TaskManager</code></li>\n</ol>\n"}],"owner":{"account_id":6063310,"reputation":583,"user_id":4734487,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73480288,"answer_count":3,"score":2,"last_activity_date":1661420267,"creation_date":1661381136,"question_id":73480206,"body_markdown":"Let&#39;s say I have a task that will check if a certain condition has been met. If that condition has been met, I should terminate the task early. However, I should continue to run the task for N number of minutes while continuously checking if that condition has been met. At the end of N minutes, the task should terminate itself.\r\n\r\nI&#39;ve been looking into Timer, TimerTask, and ExecutorService, but none of them seem to offer the type of solution I am looking for. For example, these approaches will allow you to schedule a task to run once, or repeatedly, but not for a specific amount of time (aka N minutes).","title":"Is there a way to schedule a task until an event occurs or a specific amount of time passes?","body":"<p>Let's say I have a task that will check if a certain condition has been met. If that condition has been met, I should terminate the task early. However, I should continue to run the task for N number of minutes while continuously checking if that condition has been met. At the end of N minutes, the task should terminate itself.</p>\n<p>I've been looking into Timer, TimerTask, and ExecutorService, but none of them seem to offer the type of solution I am looking for. For example, these approaches will allow you to schedule a task to run once, or repeatedly, but not for a specific amount of time (aka N minutes).</p>\n"},{"tags":["java","timer","countdown"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661421257,"post_id":73485248,"comment_id":129770537,"body_markdown":"Keep a list of tasks sorted by their start time. Sleep until the next start time. Do the tasks with that start time. Sleep again...","body":"Keep a list of tasks sorted by their start time. Sleep until the next start time. Do the tasks with that start time. Sleep again..."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1661421603,"post_id":73485248,"comment_id":129770680,"body_markdown":"[ScheduledExecutorService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1661429418,"post_id":73485248,"comment_id":129773495,"body_markdown":"Just use ScheduledExecutorService, it can manage all this for you","body":"Just use ScheduledExecutorService, it can manage all this for you"}],"owner":{"account_id":19472451,"reputation":1,"user_id":14244500,"display_name":"Sean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661420217,"creation_date":1661420217,"question_id":73485248,"body_markdown":"I am writing to see what everyone&#39;s way of doing this is. \r\n\r\nExample: \r\nI have multiple timers with a start time of potentially anything. E.G, One timer could be 30 seconds, the second could be 10 minutes, the third could be 3mins 32seconds, and so on... You can create infinite timer countdowns.\r\n\r\nNow, the question is... What&#39;s the best way to detect when a timer hits 0? Java does have a runnable class and I was going to run an async task to check every second but this sounds really inefficient to me. \r\n\r\nAre there any other ways to do it? Thanks!","title":"Most optimal way to detect multiple timers / countdowns hitting 0?","body":"<p>I am writing to see what everyone's way of doing this is.</p>\n<p>Example:\nI have multiple timers with a start time of potentially anything. E.G, One timer could be 30 seconds, the second could be 10 minutes, the third could be 3mins 32seconds, and so on... You can create infinite timer countdowns.</p>\n<p>Now, the question is... What's the best way to detect when a timer hits 0? Java does have a runnable class and I was going to run an async task to check every second but this sounds really inefficient to me.</p>\n<p>Are there any other ways to do it? Thanks!</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-xml"],"answers":[{"tags":[],"owner":{"account_id":6901716,"reputation":5270,"user_id":5301119,"accept_rate":88,"display_name":"Burhanuddin Rashid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521778891,"creation_date":1521778891,"answer_id":49442312,"question_id":49441499,"body_markdown":"This is happening because `match_parent` doesn&#39;t works in `ConstraintLayout`.Instead you need to use `match_constraint` from Designing View or you can set `match_constraint` by making heigh/width = 0dp\r\n\r\nExample you tab layout set `android:layout_width=&quot;0dp&quot;` which will behave as match_parent in `ConstraintLayout` like this\r\n\r\n    &lt;android.support.design.widget.TabLayout\r\n        android:id=&quot;@+id/seriesSectionTabs&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/notQuiteBlack&quot;\r\n        app:tabTextColor=&quot;@color/mdGrey400&quot;\r\n        app:tabIndicatorColor=&quot;@color/white&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:tabMode=&quot;scrollable&quot;\r\n        app:tabGravity=&quot;fill&quot;\r\n        app:tabMaxWidth=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\nSame this goes with your `TextView` too","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>This is happening because <code>match_parent</code> doesn't works in <code>ConstraintLayout</code>.Instead you need to use <code>match_constraint</code> from Designing View or you can set <code>match_constraint</code> by making heigh/width = 0dp</p>\n\n<p>Example you tab layout set <code>android:layout_width=\"0dp\"</code> which will behave as match_parent in <code>ConstraintLayout</code> like this</p>\n\n<pre><code>&lt;android.support.design.widget.TabLayout\n    android:id=\"@+id/seriesSectionTabs\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/notQuiteBlack\"\n    app:tabTextColor=\"@color/mdGrey400\"\n    app:tabIndicatorColor=\"@color/white\"\n    app:tabSelectedTextColor=\"@color/white\"\n    app:tabMode=\"scrollable\"\n    app:tabGravity=\"fill\"\n    app:tabMaxWidth=\"0dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"&gt;\n</code></pre>\n\n<p>Same this goes with your <code>TextView</code> too</p>\n"},{"tags":[],"owner":{"account_id":20558351,"reputation":131,"user_id":15089380,"display_name":"Muhammad Nouman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661420076,"creation_date":1661419377,"answer_id":73485049,"question_id":49441499,"body_markdown":"Add this line of code in Recyclerview Adapter in onCreateViewHolder()  method it works for me.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    //  Add this line if you are using data binding.\r\n\r\n    binding.root.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\r\n    return ViewHolder(binding) // change the class of ViewHolder with your ViewHolder\r\n\r\n\r\n    //  Add this line if you are not using data binding.\r\n\r\n    val view  = inflater.inflate(R.layout.movie_adapter_ly,parent,false)\r\n    view.rootView.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\r\n    // change the class of ViewHolder with your ViewHolder class\r\n    return ViewHolder(view) \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>Add this line of code in Recyclerview Adapter in onCreateViewHolder()  method it works for me.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>//  Add this line if you are using data binding.\n\nbinding.root.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\nreturn ViewHolder(binding) // change the class of ViewHolder with your ViewHolder\n\n\n//  Add this line if you are not using data binding.\n\nval view  = inflater.inflate(R.layout.movie_adapter_ly,parent,false)\nview.rootView.layoutParams = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT)\n// change the class of ViewHolder with your ViewHolder class\nreturn ViewHolder(view) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8211479,"reputation":59,"user_id":6179443,"display_name":"JamesBV3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661420076,"creation_date":1521772336,"question_id":49441499,"body_markdown":"I am currently having the issue where despite having all the layouts being set to `match_parent`, within my fragment, unless something explicitly takes up the screen width, such as a `TextView` with a massive text String, the layouts end up having their width wrapped to their content.\r\n\r\nThis is the XML:\r\n\r\n**MainActivity.xml**\r\n\r\n    &lt;android.support.v4.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        tools:context=&quot;es.esports_app.MainActivity&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/mainToolbar&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/notQuiteBlack&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n        &lt;android.support.constraint.ConstraintLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/navigationViewLayoutWrapper&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/mainToolbar&quot;&gt;\r\n\r\n            &lt;!-- Where fragment content is inserted --&gt;\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/Container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;/FrameLayout&gt;\r\n\r\n        &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n        &lt;include\r\n            android:id=&quot;@+id/navigationViewLayoutWrapper&quot;\r\n            layout=&quot;@layout/main_bottom_navigation_bar&quot; /&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/navigation_drawer_list&quot;\r\n        android:layout_width=&quot;240dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:choiceMode=&quot;singleChoice&quot;\r\n        android:divider=&quot;@android:color/transparent&quot;\r\n        android:dividerHeight=&quot;0dp&quot;\r\n        android:background=&quot;#111&quot; /&gt;\r\n\r\n&lt;/android.support.v4.widget.DrawerLayout&gt;\r\n\r\n**series_wrapper.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;android.support.design.widget.TabLayout\r\n        android:id=&quot;@+id/seriesSectionTabs&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/notQuiteBlack&quot;\r\n        app:tabTextColor=&quot;@color/mdGrey400&quot;\r\n        app:tabIndicatorColor=&quot;@color/white&quot;\r\n        app:tabSelectedTextColor=&quot;@color/white&quot;\r\n        app:tabMode=&quot;scrollable&quot;\r\n        app:tabGravity=&quot;fill&quot;\r\n        app:tabMaxWidth=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n\r\n    &lt;/android.support.design.widget.TabLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;YAY&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/seriesSectionTabs&quot;/&gt;\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n**Where fragment is Added**\r\n\r\n    holder.eventSeriesWrapper.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AppCompatActivity appCompatActivity = (AppCompatActivity) view.getContext();\r\n                Fragment fragment = new SeriesWrapperFragment();\r\n                Bundle bundle = new Bundle();\r\n                bundle.putInt(&quot;seriesID&quot;, eventSeries.id);\r\n                bundle.putInt(&quot;seriesLength&quot;, eventSeries.seriesLength);\r\n                fragment.setArguments(bundle);\r\n                appCompatActivity.getFragmentManager().beginTransaction().replace(R.id.Container, fragment).addToBackStack(null).commit();\r\n            }\r\n        });\r\n\r\n\r\n\r\n[**The above code results in this**][1]\r\n\r\n\r\nIn the case where I set the TextView text to a very long string that spans the width of the screen:\r\n\r\n[**This is the result**][2]\r\n\r\nThis is exactly what I want the tab layout to look like, but I don&#39;t want to have to define a TextView or something of the like to be the screen width to get it to display in this way.\r\n\r\nI have also tried setting the Layout Params of the Fragment in onCreateView, however, the UI was the same as in the first image\r\n\r\n**Series Wrapper Fragment OnCreateView**\r\n\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.series_wrapper, container, false);\r\n        view.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n        if(this.getArguments() != null){\r\n            this.seriesID = this.getArguments().getInt(&quot;seriesID&quot;);\r\n            this.seriesLength = this.getArguments().getInt(&quot;seriesLength&quot;);\r\n        }\r\n        else{\r\n            this.seriesID = 0;\r\n            this.seriesLength = 0;\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\nIf any more code snippets or images are required please ask.\r\n\r\nIf someone could help me understand as to why this is occurring, it would be greatly appreciated.\r\n\r\nThank you.\r\n\r\n  [1]: https://i.stack.imgur.com/qcOnX.png\r\n  [2]: https://i.stack.imgur.com/Zbd7u.png\r\n","title":"Android - Layout Width wrapping content despite being set to match parent?","body":"<p>I am currently having the issue where despite having all the layouts being set to <code>match_parent</code>, within my fragment, unless something explicitly takes up the screen width, such as a <code>TextView</code> with a massive text String, the layouts end up having their width wrapped to their content.</p>\n\n<p>This is the XML:</p>\n\n<p><strong>MainActivity.xml</strong></p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/drawer_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white\"\n    tools:context=\"es.esports_app.MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/mainToolbar\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/notQuiteBlack\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:fillViewport=\"true\"\n        app:layout_constraintBottom_toTopOf=\"@+id/navigationViewLayoutWrapper\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/mainToolbar\"&gt;\n\n        &lt;!-- Where fragment content is inserted --&gt;\n        &lt;FrameLayout\n            android:id=\"@+id/Container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n        &lt;/FrameLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;include\n        android:id=\"@+id/navigationViewLayoutWrapper\"\n        layout=\"@layout/main_bottom_navigation_bar\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;ListView\n    android:id=\"@+id/navigation_drawer_list\"\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:choiceMode=\"singleChoice\"\n    android:divider=\"@android:color/transparent\"\n    android:dividerHeight=\"0dp\"\n    android:background=\"#111\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>series_wrapper.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n   xmlns:android=\"http://schemas.android.com/apk/res/android\"\n   xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n   android:layout_width=\"match_parent\"\n   android:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.design.widget.TabLayout\n    android:id=\"@+id/seriesSectionTabs\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/notQuiteBlack\"\n    app:tabTextColor=\"@color/mdGrey400\"\n    app:tabIndicatorColor=\"@color/white\"\n    app:tabSelectedTextColor=\"@color/white\"\n    app:tabMode=\"scrollable\"\n    app:tabGravity=\"fill\"\n    app:tabMaxWidth=\"0dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"&gt;\n\n\n&lt;/android.support.design.widget.TabLayout&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"YAY\"\n    app:layout_constraintTop_toBottomOf=\"@id/seriesSectionTabs\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Where fragment is Added</strong></p>\n\n<pre><code>holder.eventSeriesWrapper.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            AppCompatActivity appCompatActivity = (AppCompatActivity) view.getContext();\n            Fragment fragment = new SeriesWrapperFragment();\n            Bundle bundle = new Bundle();\n            bundle.putInt(\"seriesID\", eventSeries.id);\n            bundle.putInt(\"seriesLength\", eventSeries.seriesLength);\n            fragment.setArguments(bundle);\n            appCompatActivity.getFragmentManager().beginTransaction().replace(R.id.Container, fragment).addToBackStack(null).commit();\n        }\n    });\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qcOnX.png\" rel=\"nofollow noreferrer\"><strong>The above code results in this</strong></a></p>\n\n<p>In the case where I set the TextView text to a very long string that spans the width of the screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zbd7u.png\" rel=\"nofollow noreferrer\"><strong>This is the result</strong></a></p>\n\n<p>This is exactly what I want the tab layout to look like, but I don't want to have to define a TextView or something of the like to be the screen width to get it to display in this way.</p>\n\n<p>I have also tried setting the Layout Params of the Fragment in onCreateView, however, the UI was the same as in the first image</p>\n\n<p><strong>Series Wrapper Fragment OnCreateView</strong></p>\n\n<pre><code>public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.series_wrapper, container, false);\n    view.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n\n    if(this.getArguments() != null){\n        this.seriesID = this.getArguments().getInt(\"seriesID\");\n        this.seriesLength = this.getArguments().getInt(\"seriesLength\");\n    }\n    else{\n        this.seriesID = 0;\n        this.seriesLength = 0;\n    }\n\n    return view;\n}\n</code></pre>\n\n<p>If any more code snippets or images are required please ask.</p>\n\n<p>If someone could help me understand as to why this is occurring, it would be greatly appreciated.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661332944,"creation_date":1661290962,"answer_id":73465317,"question_id":73463360,"body_markdown":"I can&#39;t say I know quite why you get that exception, but this is a possible problem-free alternative, involving cloning the table then removing unwanted columns. This is based on the intuitive ascending ordering of required columns. Obviously the logic could be made easier by passing an array of columns to be *removed* rather than retained.\r\n```\r\n    // @param columns Indices of columns to be copied into the new table.\r\n    public JTable copyTable(JTable table, int... columns) {\r\n        DefaultTableModel oldModel = (DefaultTableModel) table.getModel();\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Vector&lt;? extends Vector&gt; data = (Vector&lt;? extends Vector&gt;) oldModel.getDataVector().clone();\r\n        Vector&lt;Object&gt; headers = new Vector&lt;&gt;();\r\n        TableColumnModel cmSource = table.getColumnModel();\r\n        for (int i = 0; i &lt; table.getColumnModel().getColumnCount(); i++) {\r\n            headers.add(cmSource.getColumn(i).getIdentifier());\r\n        }\r\n        JTable result = new JTable(data, headers);\r\n        TableColumnModel cmTarget = result.getColumnModel();\r\n        Set&lt;Integer&gt; columnsToCopy = new HashSet&lt;&gt;();\r\n        for (int i = columns.length; --i &gt;= 0;) {\r\n            columnsToCopy.add(columns[i]);\r\n        }\r\n        for (int i = cmTarget.getColumnCount(); --i &gt;= 0;) {\r\n            if (!columnsToCopy.contains(i)) {\r\n                cmTarget.removeColumn(cmTarget.getColumn(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n```","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>I can't say I know quite why you get that exception, but this is a possible problem-free alternative, involving cloning the table then removing unwanted columns. This is based on the intuitive ascending ordering of required columns. Obviously the logic could be made easier by passing an array of columns to be <em>removed</em> rather than retained.</p>\n<pre><code>    // @param columns Indices of columns to be copied into the new table.\n    public JTable copyTable(JTable table, int... columns) {\n        DefaultTableModel oldModel = (DefaultTableModel) table.getModel();\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Vector&lt;? extends Vector&gt; data = (Vector&lt;? extends Vector&gt;) oldModel.getDataVector().clone();\n        Vector&lt;Object&gt; headers = new Vector&lt;&gt;();\n        TableColumnModel cmSource = table.getColumnModel();\n        for (int i = 0; i &lt; table.getColumnModel().getColumnCount(); i++) {\n            headers.add(cmSource.getColumn(i).getIdentifier());\n        }\n        JTable result = new JTable(data, headers);\n        TableColumnModel cmTarget = result.getColumnModel();\n        Set&lt;Integer&gt; columnsToCopy = new HashSet&lt;&gt;();\n        for (int i = columns.length; --i &gt;= 0;) {\n            columnsToCopy.add(columns[i]);\n        }\n        for (int i = cmTarget.getColumnCount(); --i &gt;= 0;) {\n            if (!columnsToCopy.contains(i)) {\n                cmTarget.removeColumn(cmTarget.getColumn(i));\n            }\n        }\n        return result;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661332617,"creation_date":1661297104,"answer_id":73465916,"question_id":73463360,"body_markdown":"@g00se\r\nYour solution works. Thank you. The only drawback is that removing columns from the ```TableColumnModel``` doesn&#39;t remove them from the ```TableModel```. So I added the following to your code\r\n```\r\n        int icnt= oldModel.getRowCount();\r\n        for (int j=0; j&lt;icnt; j++) {\r\n          Vector&lt;?&gt; vec= (Vector&lt;?&gt;)data.get(j);\r\n          for (int i=columns.length-1; i&gt;=0; i--) {\r\n            vec.removeElementAt(columns[i]);\r\n          }\r\n          data.setElementAt(vec, j);\r\n        }\r\n        ((DefaultTableModel)result.getModel()).setDataVector(data, headers);\r\n        return result;\r\n```\r\nBut due to lack of Generics knowledge, I cannot make the code compile. Still an idea for that?&lt;br&gt;\r\nJust copying/creating a new model would avoid any removal. So I am still curious as for my original error.&lt;br&gt;&lt;br&gt;\r\nEdit&lt;br&gt;\r\n----------------------------------------------------------&lt;br&gt;\r\nGenerics:&lt;br&gt;\r\nVector&lt;Vector&amp;lt;Object&gt;&gt; data = ...&lt;br&gt;\r\n...&lt;br&gt;\r\nVector&amp;lt;Object&gt; vec= data.get(j);&lt;br&gt;\r\n----------------------------------------------------------&lt;br&gt;&lt;br&gt;\r\nFinally I got my original version to work. ```colModel.addColumn(oldColModel.getColumn(columns[i]));``` passes only a reference of the column. But one has to create a new instance for each column in the new table.\r\n```\r\n// @param columns\tIndices of columns to be copied into the new table.\r\n  public JTable copyTable(JTable table, int... columns) {\r\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\r\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length) {\r\n      public Class&lt;?&gt; getColumnClass(int column) {\r\n        Class&lt;?&gt; returnValue;\r\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\r\n          returnValue= getValueAt(0, column).getClass();\r\n        else\r\n          returnValue= Object.class;\r\n        return returnValue;\r\n      }\r\n    };\r\n    Object[] row= new Object[columns.length];\r\n    int icnt= oldModel.getRowCount();\r\n    for (int i=0; i&lt;icnt; i++) {\r\n      for (int j=0; j&lt;columns.length; j++) {\r\n        row[j]= oldModel.getValueAt(i, columns[j]);\r\n      }\r\n      tblModel.addRow(row);\r\n    }\r\n    DefaultTableColumnModel oldColModel=\r\n                                (DefaultTableColumnModel)table.getColumnModel();\r\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\r\n    for (int i=0; i&lt;columns.length; i++) {\r\n//    colModel.addColumn(oldColModel.getColumn(columns[i])); // Endless err loop\r\n      TableColumn tc= oldColModel.getColumn(columns[i]);\r\n      TableColumn tcNew= new TableColumn(i, tc.getPreferredWidth(),\r\n                                tc.getCellRenderer(), tc.getCellEditor());\r\n      tcNew.setHeaderValue(tc.getHeaderValue());\r\n      colModel.addColumn(tcNew);\r\n    }\r\n    return new JTable(tblModel, colModel);\r\n  }\r\n\r\n\r\n  private void createAndShowDialog(JTable table) {\r\n    JTable tbl = copyTable(table, 0, 1, 3); // Copy only columns 0, 1 and 3.\r\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\r\n    JScrollPane scroll = new JScrollPane(tbl);\r\n    scroll.setPreferredSize(\r\n        new Dimension(tbl.getColumnModel().getTotalColumnWidth(), 80));\r\n    dlg.add(scroll, BorderLayout.CENTER);\r\n    dlg.pack();\r\n    dlg.setLocationRelativeTo(this);\r\n    dlg.setVisible(true);\r\n  }\r\n```","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>@g00se\nYour solution works. Thank you. The only drawback is that removing columns from the <code>TableColumnModel</code> doesn't remove them from the <code>TableModel</code>. So I added the following to your code</p>\n<pre><code>        int icnt= oldModel.getRowCount();\n        for (int j=0; j&lt;icnt; j++) {\n          Vector&lt;?&gt; vec= (Vector&lt;?&gt;)data.get(j);\n          for (int i=columns.length-1; i&gt;=0; i--) {\n            vec.removeElementAt(columns[i]);\n          }\n          data.setElementAt(vec, j);\n        }\n        ((DefaultTableModel)result.getModel()).setDataVector(data, headers);\n        return result;\n</code></pre>\n<p>But due to lack of Generics knowledge, I cannot make the code compile. Still an idea for that?<br>\nJust copying/creating a new model would avoid any removal. So I am still curious as for my original error.<br><br>\nEdit<br>\n----------------------------------------------------------<br>\nGenerics:<br>\nVector&lt;Vector&lt;Object&gt;&gt; data = ...<br>\n...<br>\nVector&lt;Object&gt; vec= data.get(j);<br>\n----------------------------------------------------------<br><br>\nFinally I got my original version to work. <code>colModel.addColumn(oldColModel.getColumn(columns[i]));</code> passes only a reference of the column. But one has to create a new instance for each column in the new table.</p>\n<pre><code>// @param columns   Indices of columns to be copied into the new table.\n  public JTable copyTable(JTable table, int... columns) {\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length) {\n      public Class&lt;?&gt; getColumnClass(int column) {\n        Class&lt;?&gt; returnValue;\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\n          returnValue= getValueAt(0, column).getClass();\n        else\n          returnValue= Object.class;\n        return returnValue;\n      }\n    };\n    Object[] row= new Object[columns.length];\n    int icnt= oldModel.getRowCount();\n    for (int i=0; i&lt;icnt; i++) {\n      for (int j=0; j&lt;columns.length; j++) {\n        row[j]= oldModel.getValueAt(i, columns[j]);\n      }\n      tblModel.addRow(row);\n    }\n    DefaultTableColumnModel oldColModel=\n                                (DefaultTableColumnModel)table.getColumnModel();\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\n    for (int i=0; i&lt;columns.length; i++) {\n//    colModel.addColumn(oldColModel.getColumn(columns[i])); // Endless err loop\n      TableColumn tc= oldColModel.getColumn(columns[i]);\n      TableColumn tcNew= new TableColumn(i, tc.getPreferredWidth(),\n                                tc.getCellRenderer(), tc.getCellEditor());\n      tcNew.setHeaderValue(tc.getHeaderValue());\n      colModel.addColumn(tcNew);\n    }\n    return new JTable(tblModel, colModel);\n  }\n\n\n  private void createAndShowDialog(JTable table) {\n    JTable tbl = copyTable(table, 0, 1, 3); // Copy only columns 0, 1 and 3.\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\n    JScrollPane scroll = new JScrollPane(tbl);\n    scroll.setPreferredSize(\n        new Dimension(tbl.getColumnModel().getTotalColumnWidth(), 80));\n    dlg.add(scroll, BorderLayout.CENTER);\n    dlg.pack();\n    dlg.setLocationRelativeTo(this);\n    dlg.setVisible(true);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661419919,"creation_date":1661419919,"answer_id":73485175,"question_id":73463360,"body_markdown":"There is no need to copy the TableModel (they are shareable by design) - all you need is a new TableColumnModel containing clones of the original: note that the relevant coordinate system is the _model_ index. \r\n\r\nExample:\r\n\r\n    TableColumnModel sourceColumnModel = sourceTable.getColumnModel();\r\n    DefaultTableColumnModel reducedColumnModel = new DefaultTableColumnModel();\r\n    for (int i = 0; i &lt; sourceColumnModel.getColumnCount(); i++) {\r\n        TableColumn sourceColumn = sourceColumnModel.getColumn(i);\r\n        int modelIndex = sourceColumn.getModelIndex();\r\n        if (modelIndex % 2 == 0) { // replace with your condition\r\n            TableColumn column = new TableColumn(modelIndex, sourceColumn.getPreferredWidth());\r\n            column.setHeaderValue(sourceColumn.getHeaderValue());\r\n            reducedColumnModel.addColumn(column);\r\n        }\r\n    }\r\n    JTable reducedTable = new JTable(sourceTable.getModel(), reducedColumnModel);\r\n\r\n","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>There is no need to copy the TableModel (they are shareable by design) - all you need is a new TableColumnModel containing clones of the original: note that the relevant coordinate system is the <em>model</em> index.</p>\n<p>Example:</p>\n<pre><code>TableColumnModel sourceColumnModel = sourceTable.getColumnModel();\nDefaultTableColumnModel reducedColumnModel = new DefaultTableColumnModel();\nfor (int i = 0; i &lt; sourceColumnModel.getColumnCount(); i++) {\n    TableColumn sourceColumn = sourceColumnModel.getColumn(i);\n    int modelIndex = sourceColumn.getModelIndex();\n    if (modelIndex % 2 == 0) { // replace with your condition\n        TableColumn column = new TableColumn(modelIndex, sourceColumn.getPreferredWidth());\n        column.setHeaderValue(sourceColumn.getHeaderValue());\n        reducedColumnModel.addColumn(column);\n    }\n}\nJTable reducedTable = new JTable(sourceTable.getModel(), reducedColumnModel);\n</code></pre>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661419919,"creation_date":1661278390,"question_id":73463360,"body_markdown":"I have a JTable displayed in a frame. This table must remain unmodified for\r\nlater processing. At some point I want to show a column reduced version of this\r\ntable in a dialog. So I make a copy of the original table in creating a new\r\n```TableModel``` and ```TableColumnModel```, thereby skipping the columns not needed.\r\n\r\n   Everything is fine until the dialog is set to visible. Then I run into an\r\nendless error loop, starting with an *&quot;ArrayIndexOutOfBoundsException: 3 &gt;= 2&quot;*.\r\nIf 3 is the index to a table row, then it&#39;s indeed too large.\r\nAs the reduced table has only two columns, a column index of 2 would already exceed. Checking the columns with\r\n```getColumnCount()``` shows that the values are ok.&lt;br&gt;\r\n   I suspect my copyTable method to be the culprit, but have no idea where the 3\r\nindex is coming from.\r\n\r\n   Instead of filling the rows of the table&#39;s model one by one, I succeeded using ```DefaultTableModel.addColumn(Object columnName, Object[] columnData)``` as suggested  [here][1]. Then, however, I lose the columns&#39; width information. Hence I would still like to know my fault in the current code.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\n\r\npublic class CopyTable extends JFrame {\r\n  public static final long serialVersionUID = 100L;\r\n\r\n  public CopyTable() {\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setLocationRelativeTo(null);\r\n\r\n    JTable table= createTable();\r\n    JScrollPane scroll= new JScrollPane(table);\r\n    add(scroll, BorderLayout.CENTER);\r\n    JButton b= new JButton(&quot;Show dialog&quot;);\r\n    b.addActionListener(e -&gt; createAndShowDialog(table));\r\n    add(b, BorderLayout.SOUTH);\r\n    setSize(table.getColumnModel().getTotalColumnWidth()+11, 240);\r\n    setVisible(true);\r\n  }\r\n\r\n\r\n  static public void main(String args[]) {\r\n    EventQueue.invokeLater(CopyTable::new);\r\n  }\r\n\r\n\r\n// @param columns\tIndices of columns to be copied into the new table.\r\n  public JTable copyTable(JTable table, int... columns) {\r\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length);\r\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\r\n    Object[] row= new Object[columns.length];\r\n    int iRow= 0;\r\n    while (iRow&lt;oldModel.getRowCount()) {\r\n      for (int i=0; i&lt;columns.length; i++) {\r\n        row[i]= oldModel.getValueAt(iRow, columns[i]);\r\n      }\r\n      tblModel.addRow(row);\r\n      iRow++;\r\n    }\r\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\r\n    DefaultTableColumnModel oldColModel=\r\n\t\t\t\t(DefaultTableColumnModel)table.getColumnModel();\r\n    for (int i=0; i&lt;columns.length; i++) {\r\n      colModel.addColumn(oldColModel.getColumn(columns[i]));\r\n/*      Creating a new column didn&#39;t help.\r\n      TableColumn tc= new TableColumn();\r\n      tc= oldColModel.getColumn(columns[i]);\r\n      colModel.addColumn(tc);\r\n*/\r\n    }\r\n    return new JTable(tblModel, colModel);\r\n  }\r\n\r\n\r\n  private void createAndShowDialog(JTable table) {\r\n    JTable tbl = copyTable(table, 0, 3); // Copy only columns 0 and 3.\r\n    JOptionPane.showMessageDialog(this, &quot;&quot;+tbl.getModel().getRowCount()+&quot;, &quot;+\r\n\t\t\ttbl.getModel().getColumnCount()+&quot;, &quot;+\r\n\t\t\ttbl.getColumnModel().getColumnCount(),\r\n\t\t\t&quot;Checking row/column count&quot;,\r\n\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\r\n    dlg.setLocationRelativeTo(this);\r\n    JScrollPane scroll = new JScrollPane(tbl);\r\n    dlg.add(scroll, BorderLayout.CENTER);\r\n    dlg.pack();\r\n    dlg.setVisible(true);\r\n  }\r\n\r\n\r\n  private JTable createTable() {\r\n    String headers[] = {&quot;Fruit&quot;, &quot;Colour&quot;, &quot;Count&quot;, &quot;Price&quot;};\r\n    Object data[][] = {\r\n\t    {&quot;Apple&quot;, &quot;Green&quot;, 6, .3},\r\n\t    {&quot;Banana&quot;, &quot;Yellow&quot;, 3, .4},\r\n\t    {&quot;Cherry&quot;, &quot;Red&quot;, 10, 1.1}\r\n\t  };\r\n\r\n    DefaultTableModel model = new DefaultTableModel(data, headers) {\r\n      public Class&lt;?&gt; getColumnClass(int column) {\r\n        Class&lt;?&gt; returnValue;\r\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\r\n          returnValue= getValueAt(0, column).getClass();\r\n        else\r\n          returnValue= Object.class;\r\n        return returnValue;\r\n      }\r\n    };\r\n    JTable tbl= new JTable(model);\r\n    TableColumnModel tcm= tbl.getColumnModel();\r\n    int[] width= new int[] {60, 50, 40, 40};\r\n    for (int i=0; i&lt;headers.length; i++) {\r\n      tcm.getColumn(i).setPreferredWidth(width[i]);\r\n      tcm.getColumn(i).setWidth(width[i]);\r\n    }\r\n    return tbl;\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 3 &gt;= 2\r\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\r\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:661)\r\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\r\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2207)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2109)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1905)\r\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:852)\r\n```\r\njava 18\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36676489/copy-column-from-one-jtable-to-another","title":"Copying (some columns of) a JTable to a new JTable","body":"<p>I have a JTable displayed in a frame. This table must remain unmodified for\nlater processing. At some point I want to show a column reduced version of this\ntable in a dialog. So I make a copy of the original table in creating a new\n<code>TableModel</code> and <code>TableColumnModel</code>, thereby skipping the columns not needed.</p>\n<p>Everything is fine until the dialog is set to visible. Then I run into an\nendless error loop, starting with an <em>&quot;ArrayIndexOutOfBoundsException: 3 &gt;= 2&quot;</em>.\nIf 3 is the index to a table row, then it's indeed too large.\nAs the reduced table has only two columns, a column index of 2 would already exceed. Checking the columns with\n<code>getColumnCount()</code> shows that the values are ok.<br>\nI suspect my copyTable method to be the culprit, but have no idea where the 3\nindex is coming from.</p>\n<p>Instead of filling the rows of the table's model one by one, I succeeded using <code>DefaultTableModel.addColumn(Object columnName, Object[] columnData)</code> as suggested  <a href=\"https://stackoverflow.com/questions/36676489/copy-column-from-one-jtable-to-another\">here</a>. Then, however, I lose the columns' width information. Hence I would still like to know my fault in the current code.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class CopyTable extends JFrame {\n  public static final long serialVersionUID = 100L;\n\n  public CopyTable() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n\n    JTable table= createTable();\n    JScrollPane scroll= new JScrollPane(table);\n    add(scroll, BorderLayout.CENTER);\n    JButton b= new JButton(&quot;Show dialog&quot;);\n    b.addActionListener(e -&gt; createAndShowDialog(table));\n    add(b, BorderLayout.SOUTH);\n    setSize(table.getColumnModel().getTotalColumnWidth()+11, 240);\n    setVisible(true);\n  }\n\n\n  static public void main(String args[]) {\n    EventQueue.invokeLater(CopyTable::new);\n  }\n\n\n// @param columns   Indices of columns to be copied into the new table.\n  public JTable copyTable(JTable table, int... columns) {\n    DefaultTableModel tblModel= new DefaultTableModel(0, columns.length);\n    DefaultTableModel oldModel= (DefaultTableModel)table.getModel();\n    Object[] row= new Object[columns.length];\n    int iRow= 0;\n    while (iRow&lt;oldModel.getRowCount()) {\n      for (int i=0; i&lt;columns.length; i++) {\n        row[i]= oldModel.getValueAt(iRow, columns[i]);\n      }\n      tblModel.addRow(row);\n      iRow++;\n    }\n    DefaultTableColumnModel colModel= new DefaultTableColumnModel();\n    DefaultTableColumnModel oldColModel=\n                (DefaultTableColumnModel)table.getColumnModel();\n    for (int i=0; i&lt;columns.length; i++) {\n      colModel.addColumn(oldColModel.getColumn(columns[i]));\n/*      Creating a new column didn't help.\n      TableColumn tc= new TableColumn();\n      tc= oldColModel.getColumn(columns[i]);\n      colModel.addColumn(tc);\n*/\n    }\n    return new JTable(tblModel, colModel);\n  }\n\n\n  private void createAndShowDialog(JTable table) {\n    JTable tbl = copyTable(table, 0, 3); // Copy only columns 0 and 3.\n    JOptionPane.showMessageDialog(this, &quot;&quot;+tbl.getModel().getRowCount()+&quot;, &quot;+\n            tbl.getModel().getColumnCount()+&quot;, &quot;+\n            tbl.getColumnModel().getColumnCount(),\n            &quot;Checking row/column count&quot;,\n            JOptionPane.INFORMATION_MESSAGE);\n    JDialog dlg= new JDialog(this, &quot;Reduced table&quot;, true);\n    dlg.setLocationRelativeTo(this);\n    JScrollPane scroll = new JScrollPane(tbl);\n    dlg.add(scroll, BorderLayout.CENTER);\n    dlg.pack();\n    dlg.setVisible(true);\n  }\n\n\n  private JTable createTable() {\n    String headers[] = {&quot;Fruit&quot;, &quot;Colour&quot;, &quot;Count&quot;, &quot;Price&quot;};\n    Object data[][] = {\n        {&quot;Apple&quot;, &quot;Green&quot;, 6, .3},\n        {&quot;Banana&quot;, &quot;Yellow&quot;, 3, .4},\n        {&quot;Cherry&quot;, &quot;Red&quot;, 10, 1.1}\n      };\n\n    DefaultTableModel model = new DefaultTableModel(data, headers) {\n      public Class&lt;?&gt; getColumnClass(int column) {\n        Class&lt;?&gt; returnValue;\n        if (column&gt;=0 &amp;&amp; column&lt;getColumnCount() &amp;&amp; getValueAt(0,column)!=null)\n          returnValue= getValueAt(0, column).getClass();\n        else\n          returnValue= Object.class;\n        return returnValue;\n      }\n    };\n    JTable tbl= new JTable(model);\n    TableColumnModel tcm= tbl.getColumnModel();\n    int[] width= new int[] {60, 50, 40, 40};\n    for (int i=0; i&lt;headers.length; i++) {\n      tcm.getColumn(i).setPreferredWidth(width[i]);\n      tcm.getColumn(i).setWidth(width[i]);\n    }\n    return tbl;\n  }\n\n}\n</code></pre>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 3 &gt;= 2\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:661)\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2207)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2109)\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1905)\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:852)\n</code></pre>\n<p>java 18</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","repository"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661419472,"post_id":73484933,"comment_id":129769809,"body_markdown":"which kind of test do you want to implement? if unit test you should mock. If you want to perform an integration test you should set up the context with `@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public TestClass`","body":"which kind of test do you want to implement? if unit test you should mock. If you want to perform an integration test you should set up the context with <code>@RunWith(SpringRunner.class) @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) public TestClass</code>"},{"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"score":0,"creation_date":1661419562,"post_id":73484933,"comment_id":129769844,"body_markdown":"I dont want to test anything, i just wanna see what the results are on the console log. Really i just want to System.out.println it","body":"I dont want to test anything, i just wanna see what the results are on the console log. Really i just want to System.out.println it"}],"answers":[{"tags":[],"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661419907,"creation_date":1661419907,"answer_id":73485171,"question_id":73484933,"body_markdown":"As you mentionned if you comment `SpringApplication.run` Spring DI won&#39;t work because the Spring context is not yet configured with required beans.\r\n\r\nWhat you can do to achieve your goal, first you need to keep `SpringApplication.run` and you can inject the repository as follows in your main class:\r\n\r\n    @SpringBootApplication\r\n    public class App{\r\n    \r\n    \tpublic static UserRepository repository;\r\n    \r\n    \t@Autowired\r\n    \tpublic App(UserRepository repository) {\r\n    \t\tApp.repository= repository;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \r\n    \t\tSystem.out.println(repository.findAll());\r\n    \t}\r\n    }","title":"How to test JpaRepository using main class instead of test class or controller in Spring Boot application","body":"<p>As you mentionned if you comment <code>SpringApplication.run</code> Spring DI won't work because the Spring context is not yet configured with required beans.</p>\n<p>What you can do to achieve your goal, first you need to keep <code>SpringApplication.run</code> and you can inject the repository as follows in your main class:</p>\n<pre><code>@SpringBootApplication\npublic class App{\n\n    public static UserRepository repository;\n\n    @Autowired\n    public App(UserRepository repository) {\n        App.repository= repository;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n\n        System.out.println(repository.findAll());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3563874,"reputation":162,"user_id":2975988,"display_name":"Airflow46"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661419907,"creation_date":1661418890,"question_id":73484933,"body_markdown":"Say i have a repository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    \tList&lt;User&gt; findAll();\r\n    }\r\n\r\nIf i want to test out what the result will be (using System.out.println)\r\nI know only one way:\r\n\r\nMake a Controller class like so:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/hey&quot;)\r\n    class Controller{\r\n    \r\n    @Autowired\r\n    UserRepository repository;\r\n    \r\n    @GetMapping()\r\n    public void hey(){\r\n    System.out.println(repository.findAll());\r\n    }\r\n    }\r\n\r\nAnd then i have to start up the SpringBootApplication:\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\n\r\n    surf to localhost:8080/hey\r\n\r\nAnd only then i see on the console what the result is.\r\n\r\nThis is so cumbersome and time-consuming, especially when the spring boot app is heavy and takes a long time to load.\r\n\r\nWhat i would have loved to do is to comment out the springbootapplication and just make a temporary class that i run from the main class and print the results that way. That is so much faster.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n        public static void main(String[] args) {\r\n            //SpringApplication.run(App.class, args);\r\n              new Temp().go();\r\n        }\r\n    }\r\n\r\n    Class Temp{\r\n    \r\n    @Autowired\r\n    UserRepository repository;\r\n    \r\n    public void go(){\r\n    System.out.println(repository.findAll());\r\n    }\r\n    }\r\n\r\nThis isn&#39;t possible as its an interface and it asks you to implement every single method it has. How can i just print the results on the console of a repository without having to use controller ?","title":"How to test JpaRepository using main class instead of test class or controller in Spring Boot application","body":"<p>Say i have a repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n    List&lt;User&gt; findAll();\n}\n</code></pre>\n<p>If i want to test out what the result will be (using System.out.println)\nI know only one way:</p>\n<p>Make a Controller class like so:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/hey&quot;)\nclass Controller{\n\n@Autowired\nUserRepository repository;\n\n@GetMapping()\npublic void hey(){\nSystem.out.println(repository.findAll());\n}\n}\n</code></pre>\n<p>And then i have to start up the SpringBootApplication:</p>\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n\n\nsurf to localhost:8080/hey\n</code></pre>\n<p>And only then i see on the console what the result is.</p>\n<p>This is so cumbersome and time-consuming, especially when the spring boot app is heavy and takes a long time to load.</p>\n<p>What i would have loved to do is to comment out the springbootapplication and just make a temporary class that i run from the main class and print the results that way. That is so much faster.</p>\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        //SpringApplication.run(App.class, args);\n          new Temp().go();\n    }\n}\n\nClass Temp{\n\n@Autowired\nUserRepository repository;\n\npublic void go(){\nSystem.out.println(repository.findAll());\n}\n}\n</code></pre>\n<p>This isn't possible as its an interface and it asks you to implement every single method it has. How can i just print the results on the console of a repository without having to use controller ?</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":9958764,"reputation":294,"user_id":7368739,"display_name":"Joss Bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661357406,"creation_date":1661357406,"answer_id":73476432,"question_id":73476313,"body_markdown":"Not sure if this code would match your coding style but would something like this work to reduce indentation levels and try and avoid nesting hell?\r\n\r\n    mainFut.handle((r, t) -&gt; {\r\n        if (t == null) {\r\n            resultFut.complete(r); // main process is fine, use its result\r\n            return null;\r\n        }\r\n    \r\n        LOGGER.error(&quot;Main process failed, using backup&quot;, t);\r\n        backupFut.handle((rb, tb) -&gt; {\r\n            if (tb == null) {\r\n                resultFut.complete(rb); //backup is fine, use its result\r\n                return null;\r\n            }\r\n            \r\n            resultFut.completeExceptionally(tb); //backup failed too\r\n            return null;\r\n        });\r\n        return null;\r\n    });\r\n\r\nAlso just a thought I&#39;m not 100% familiar with lambda functions do you need to return values in those lambda functions? You could remove the last two return statements if not.","title":"Combine two futures as main and backup","body":"<p>Not sure if this code would match your coding style but would something like this work to reduce indentation levels and try and avoid nesting hell?</p>\n<pre><code>mainFut.handle((r, t) -&gt; {\n    if (t == null) {\n        resultFut.complete(r); // main process is fine, use its result\n        return null;\n    }\n\n    LOGGER.error(&quot;Main process failed, using backup&quot;, t);\n    backupFut.handle((rb, tb) -&gt; {\n        if (tb == null) {\n            resultFut.complete(rb); //backup is fine, use its result\n            return null;\n        }\n        \n        resultFut.completeExceptionally(tb); //backup failed too\n        return null;\n    });\n    return null;\n});\n</code></pre>\n<p>Also just a thought I'm not 100% familiar with lambda functions do you need to return values in those lambda functions? You could remove the last two return statements if not.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661410254,"creation_date":1661410254,"answer_id":73483077,"question_id":73476313,"body_markdown":"You are not using the result of `handle`, which would be perfect for your use case, e.g.\r\n\r\n```java\r\nfinal CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n\r\nreturn mainFut.handle((r,t) -&gt; t == null? r: backupFut.join());\r\n```\r\n\r\nIf you want to avoid the potentially blocking `join()` call, you can use\r\n\r\n```java\r\nfinal CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n\r\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut: backupFut)\r\n    .thenCompose(Function.identity());\r\n```\r\n\r\nThe backup operation’s result will supersede the main operation’s exception, but when both fail, you can include the original exception in the exceptional result like\r\n\r\n```java\r\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut:\r\n        backupFut.whenComplete((r2, t2) -&gt; { if(t2 != null) t2.addSuppressed(t1); }))\r\n    .thenCompose(Function.identity());\r\n```\r\n\r\n","title":"Combine two futures as main and backup","body":"<p>You are not using the result of <code>handle</code>, which would be perfect for your use case, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\n\nreturn mainFut.handle((r,t) -&gt; t == null? r: backupFut.join());\n</code></pre>\n<p>If you want to avoid the potentially blocking <code>join()</code> call, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\n\nreturn mainFut.handle((r1, t1) -&gt; t1 == null? mainFut: backupFut)\n    .thenCompose(Function.identity());\n</code></pre>\n<p>The backup operation’s result will supersede the main operation’s exception, but when both fail, you can include the original exception in the exceptional result like</p>\n<pre class=\"lang-java prettyprint-override\"><code>return mainFut.handle((r1, t1) -&gt; t1 == null? mainFut:\n        backupFut.whenComplete((r2, t2) -&gt; { if(t2 != null) t2.addSuppressed(t1); }))\n    .thenCompose(Function.identity());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661418039,"creation_date":1661417658,"answer_id":73484633,"question_id":73476313,"body_markdown":"Using `CompletableFuture#exceptionallyCompose`, this becomes basically a one liner:\r\n\r\n    var resultFut = mainFut.exceptionallyCompose(throwable -&gt; backupFut);\r\n\r\n**Edit:** `exceptionallyCompose` is available since Java 12.","title":"Combine two futures as main and backup","body":"<p>Using <code>CompletableFuture#exceptionallyCompose</code>, this becomes basically a one liner:</p>\n<pre><code>var resultFut = mainFut.exceptionallyCompose(throwable -&gt; backupFut);\n</code></pre>\n<p><strong>Edit:</strong> <code>exceptionallyCompose</code> is available since Java 12.</p>\n"}],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73483077,"answer_count":3,"score":2,"last_activity_date":1661419508,"creation_date":1661356867,"question_id":73476313,"body_markdown":"I have two processes which should start in parallel and if the first process fails, I should use second process result. I came up with the following code. Is there any sensible way to simplify it?\r\n\r\n    final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\r\n    final CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\r\n    final CompletableFuture&lt;Data&gt; resultFut = new CompletableFuture&lt;&gt;();\r\n    mainFut.handle((r, t) -&gt; {\r\n    \tif (t == null) {\r\n    \t\tresultFut.complete(r); // main process is fine, use its result\r\n    \t} else {\r\n    \t\tLOGGER.error(&quot;Main process failed, using backup&quot;, t);\r\n    \t\tbackupFut.handle((rb, tb) -&gt; {\r\n    \t\t\tif (tb == null) {\r\n    \t\t\t\tresultFut.complete(rb); //backup is fine, use its result\r\n    \t\t\t} else {\r\n    \t\t\t\tresultFut.completeExceptionally(tb); //backup failed too\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \treturn null;\r\n    });\r\n    return resultFut;\r\n\r\n","title":"Combine two futures as main and backup","body":"<p>I have two processes which should start in parallel and if the first process fails, I should use second process result. I came up with the following code. Is there any sensible way to simplify it?</p>\n<pre><code>final CompletableFuture&lt;Data&gt; mainFut = mainProcess(...);\nfinal CompletableFuture&lt;Data&gt; backupFut = backupProcess(...);\nfinal CompletableFuture&lt;Data&gt; resultFut = new CompletableFuture&lt;&gt;();\nmainFut.handle((r, t) -&gt; {\n    if (t == null) {\n        resultFut.complete(r); // main process is fine, use its result\n    } else {\n        LOGGER.error(&quot;Main process failed, using backup&quot;, t);\n        backupFut.handle((rb, tb) -&gt; {\n            if (tb == null) {\n                resultFut.complete(rb); //backup is fine, use its result\n            } else {\n                resultFut.completeExceptionally(tb); //backup failed too\n            }\n            return null;\n        });\n    }\n    return null;\n});\nreturn resultFut;\n</code></pre>\n"},{"tags":["java","rest","jsp","vuejs2"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1511955260,"post_id":47547076,"comment_id":82060231,"body_markdown":"I think you will have to add `Access-Control-Allow-Origin` in `allowedHeaders` property","body":"I think you will have to add <code>Access-Control-Allow-Origin</code> in <code>allowedHeaders</code> property"}],"answers":[{"tags":[],"owner":{"account_id":1678272,"reputation":507,"user_id":1717100,"accept_rate":100,"display_name":"Edgar Espina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512580281,"creation_date":1512578810,"answer_id":47679404,"question_id":47547076,"body_markdown":"From [documentation][1] you need to add a `CorsHandler`:\r\n\r\n    {\r\n       use(&quot;*&quot;, new CorsHandler());\r\n       ...\r\n    }\r\n\r\nProperties are optional, unless you want to change a default value.\r\n\r\n\r\n  [1]: http://jooby.org/doc/#misc-cors","title":"How do I set up CORS correctly on a Jooby application","body":"<p>From <a href=\"http://jooby.org/doc/#misc-cors\" rel=\"nofollow noreferrer\">documentation</a> you need to add a <code>CorsHandler</code>:</p>\n\n<pre><code>{\n   use(\"*\", new CorsHandler());\n   ...\n}\n</code></pre>\n\n<p>Properties are optional, unless you want to change a default value.</p>\n"},{"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661419494,"creation_date":1661419494,"answer_id":73485075,"question_id":47547076,"body_markdown":"  You can manually specify the header and the accept method (Jooby MVC)\r\n\r\n    Cors cors = new Cors()\r\n                    .withHeaders(&quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Origin&quot;,&quot;Authorization&quot;)\r\n                    .withMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n    pluginApp.use(&quot;*&quot;, new CorsHandler(cors));","title":"How do I set up CORS correctly on a Jooby application","body":"<p>You can manually specify the header and the accept method (Jooby MVC)</p>\n<pre><code>Cors cors = new Cors()\n                .withHeaders(&quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Origin&quot;,&quot;Authorization&quot;)\n                .withMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\npluginApp.use(&quot;*&quot;, new CorsHandler(cors));\n</code></pre>\n"}],"owner":{"account_id":535246,"reputation":667,"user_id":904839,"accept_rate":71,"display_name":"Caleb Oki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47679404,"answer_count":2,"score":2,"last_activity_date":1661419494,"creation_date":1511939816,"question_id":47547076,"body_markdown":"I am creating an API with the [Jooby framework][1] mostly following this [guide][2]. I am also using Vue.js as the frontend. However I am having issues with CORS. When I try to do a get request from my Vue.js frontend I get the error No *&#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://localhost:8081&#39; is therefore not allowed access.*\r\n\r\nThis is my Jooby application.conf file:\r\n\r\n    # add or override properties\r\n    # See https://github.com/typesafehub/config/blob/master/HOCON.md for more \r\n    details\r\n    db = mem\r\n\r\n    schema = &quot;&quot;&quot;\r\n\r\n    create table if not exists pets (\r\n\r\n    id int not null auto_increment,\r\n\r\n    name varchar(255) not null,\r\n\r\n    primary key (id)\r\n\r\n    );\r\n    &quot;&quot;&quot;\r\n    cors {\r\n    # Configures the Access-Control-Allow-Origin CORS header. Possibly values: \r\n    *, domain, regex or a list of previous values.\r\n    # Example:\r\n    # &quot;*&quot;\r\n    # [&quot;http://foo.com&quot;]\r\n    # [&quot;http://*.com&quot;]\r\n    # [&quot;http://foo.com&quot;, &quot;http://bar.com&quot;]\r\n    origin: &quot;*&quot;\r\n\r\n    # If true, set the Access-Control-Allow-Credentials header\r\n    credentials: true\r\n\r\n    # Allowed methods: Set the Access-Control-Allow-Methods header\r\n    allowedMethods: [GET, POST]\r\n\r\n    # Allowed headers: set the Access-Control-Allow-Headers header. Possibly \r\n    values: *, header name or a list of previous values.\r\n    # Examples\r\n    # &quot;*&quot;\r\n    # Custom-Header\r\n    # [Header-1, Header-2]\r\n    allowedHeaders: [&quot;X-Requested-With, Content-Type, Accept, Origin&quot;]\r\n\r\n    # Preflight max age: number of seconds that preflight requests can be cached \r\n    by the client\r\n    maxAge: 30m\r\n\r\n    # Set the Access-Control-Expose-Headers header\r\n    # exposedHeaders: []\r\n    }\r\n\r\nAnd this is App.java file where I query the database\r\n\r\n    package org.jooby.guides;\r\n\r\n    import java.util.List;\r\n\r\n    import org.jooby.Jooby;\r\n    import org.jooby.Results;\r\n    import org.jooby.jdbc.Jdbc;\r\n    import org.jooby.jdbi.Jdbi;\r\n    import org.jooby.json.Jackson;\r\n    import org.skife.jdbi.v2.DBI;\r\n    import org.skife.jdbi.v2.Handle;\r\n\r\n    import com.typesafe.config.Config;\r\n\r\n    public class App extends Jooby {\r\n\r\n    {\r\n    use(new Jackson());\r\n\r\n    use(new Jdbc());\r\n\r\n    use(new Jdbi()\r\n        // 1 dbi ready\r\n        .doWith((final DBI dbi, final Config conf) -&gt; {\r\n          // 2 open a new handle\r\n          try (Handle handle = dbi.open()) {\r\n            // 3. execute script\r\n            handle.execute(conf.getString(&quot;schema&quot;));\r\n          }\r\n        }));\r\n        \r\n\r\n    /** Pet API. */\r\n    use(&quot;/api/pets&quot;)\r\n        /** List pets. */\r\n        .get(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            List&lt;Pet&gt; pets = repo.list();\r\n            return pets;\r\n          });\r\n        })\r\n        /** Get a pet by ID. */\r\n        .get(&quot;/:id&quot;, req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            int id = req.param(&quot;id&quot;).intValue();\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            Pet pet = repo.findById(id);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Create a pet. */\r\n        .post(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            // read from HTTP body\r\n            Pet pet = req.body(Pet.class);\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            int petId = repo.insert(pet);\r\n            pet.setId(petId);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Update a pet. */\r\n        .put(req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            // read from HTTP body\r\n            Pet pet = req.body(Pet.class);\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            repo.update(pet);\r\n            return pet;\r\n          });\r\n        })\r\n        /** Delete a pet by ID. */\r\n        .delete(&quot;/:id&quot;, req -&gt; {\r\n          return require(DBI.class).inTransaction((handle, status) -&gt; {\r\n            int id = req.param(&quot;id&quot;).intValue();\r\n\r\n            PetRepository repo = handle.attach(PetRepository.class);\r\n            repo.deleteById(id);\r\n            return Results.noContent();\r\n          });\r\n        });\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n    run(App::new, args);\r\n    }\r\n\r\n    }\r\n\r\nHow do I fix this?\r\n\r\n\r\n  [1]: http://jooby.org/\r\n  [2]: https://github.com/jooby-project/jdbi-guide","title":"How do I set up CORS correctly on a Jooby application","body":"<p>I am creating an API with the <a href=\"http://jooby.org/\" rel=\"nofollow noreferrer\">Jooby framework</a> mostly following this <a href=\"https://github.com/jooby-project/jdbi-guide\" rel=\"nofollow noreferrer\">guide</a>. I am also using Vue.js as the frontend. However I am having issues with CORS. When I try to do a get request from my Vue.js frontend I get the error No <em>'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=\"http://localhost:8081\" rel=\"nofollow noreferrer\">http://localhost:8081</a>' is therefore not allowed access.</em></p>\n\n<p>This is my Jooby application.conf file:</p>\n\n<pre><code># add or override properties\n# See https://github.com/typesafehub/config/blob/master/HOCON.md for more \ndetails\ndb = mem\n\nschema = \"\"\"\n\ncreate table if not exists pets (\n\nid int not null auto_increment,\n\nname varchar(255) not null,\n\nprimary key (id)\n\n);\n\"\"\"\ncors {\n# Configures the Access-Control-Allow-Origin CORS header. Possibly values: \n*, domain, regex or a list of previous values.\n# Example:\n# \"*\"\n# [\"http://foo.com\"]\n# [\"http://*.com\"]\n# [\"http://foo.com\", \"http://bar.com\"]\norigin: \"*\"\n\n# If true, set the Access-Control-Allow-Credentials header\ncredentials: true\n\n# Allowed methods: Set the Access-Control-Allow-Methods header\nallowedMethods: [GET, POST]\n\n# Allowed headers: set the Access-Control-Allow-Headers header. Possibly \nvalues: *, header name or a list of previous values.\n# Examples\n# \"*\"\n# Custom-Header\n# [Header-1, Header-2]\nallowedHeaders: [\"X-Requested-With, Content-Type, Accept, Origin\"]\n\n# Preflight max age: number of seconds that preflight requests can be cached \nby the client\nmaxAge: 30m\n\n# Set the Access-Control-Expose-Headers header\n# exposedHeaders: []\n}\n</code></pre>\n\n<p>And this is App.java file where I query the database</p>\n\n<pre><code>package org.jooby.guides;\n\nimport java.util.List;\n\nimport org.jooby.Jooby;\nimport org.jooby.Results;\nimport org.jooby.jdbc.Jdbc;\nimport org.jooby.jdbi.Jdbi;\nimport org.jooby.json.Jackson;\nimport org.skife.jdbi.v2.DBI;\nimport org.skife.jdbi.v2.Handle;\n\nimport com.typesafe.config.Config;\n\npublic class App extends Jooby {\n\n{\nuse(new Jackson());\n\nuse(new Jdbc());\n\nuse(new Jdbi()\n    // 1 dbi ready\n    .doWith((final DBI dbi, final Config conf) -&gt; {\n      // 2 open a new handle\n      try (Handle handle = dbi.open()) {\n        // 3. execute script\n        handle.execute(conf.getString(\"schema\"));\n      }\n    }));\n\n\n/** Pet API. */\nuse(\"/api/pets\")\n    /** List pets. */\n    .get(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        PetRepository repo = handle.attach(PetRepository.class);\n        List&lt;Pet&gt; pets = repo.list();\n        return pets;\n      });\n    })\n    /** Get a pet by ID. */\n    .get(\"/:id\", req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        int id = req.param(\"id\").intValue();\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        Pet pet = repo.findById(id);\n        return pet;\n      });\n    })\n    /** Create a pet. */\n    .post(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        // read from HTTP body\n        Pet pet = req.body(Pet.class);\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        int petId = repo.insert(pet);\n        pet.setId(petId);\n        return pet;\n      });\n    })\n    /** Update a pet. */\n    .put(req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        // read from HTTP body\n        Pet pet = req.body(Pet.class);\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        repo.update(pet);\n        return pet;\n      });\n    })\n    /** Delete a pet by ID. */\n    .delete(\"/:id\", req -&gt; {\n      return require(DBI.class).inTransaction((handle, status) -&gt; {\n        int id = req.param(\"id\").intValue();\n\n        PetRepository repo = handle.attach(PetRepository.class);\n        repo.deleteById(id);\n        return Results.noContent();\n      });\n    });\n}\n\npublic static void main(final String[] args) {\nrun(App::new, args);\n}\n\n}\n</code></pre>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","validation","annotations","lombok","notnull"],"comments":[{"owner":{"display_name":"user10871691"},"score":2,"creation_date":1546870688,"post_id":54076047,"comment_id":94985188,"body_markdown":"Can you show the imports section of the class containing `ordersPort` field?","body":"Can you show the imports section of the class containing <code>ordersPort</code> field?"},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546870953,"post_id":54076047,"comment_id":94985346,"body_markdown":"The 2 relevant ones are import javax.validation.constraints.NotNull; and import lombok.NonNull;","body":"The 2 relevant ones are import javax.validation.constraints.NotNull; and import lombok.NonNull;"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1546871381,"post_id":54076047,"comment_id":94985612,"body_markdown":"@EugenCovaci `Not` vs `Non` it works as-is.","body":"@EugenCovaci <code>Not</code> vs <code>Non</code> it works as-is."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546871490,"post_id":54076047,"comment_id":94985688,"body_markdown":"I never said the application didn&#39;t compile, it still works perfectly fine.  Again, the validations produced my custom error message before adding Lombok but now i&#39;m getting the Lombok generic NonNull message instead.  I want to know if there is a way for the Valid mechanism to skip the Lombok NonNull annotation","body":"I never said the application didn&#39;t compile, it still works perfectly fine.  Again, the validations produced my custom error message before adding Lombok but now i&#39;m getting the Lombok generic NonNull message instead.  I want to know if there is a way for the Valid mechanism to skip the Lombok NonNull annotation"},{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1546871721,"post_id":54076047,"comment_id":94985807,"body_markdown":"Actually you get the error on bean instantiation, not on validation. See @KarolDowbecki answer.","body":"Actually you get the error on bean instantiation, not on validation. See @KarolDowbecki answer."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1546871920,"post_id":54076047,"comment_id":94985924,"body_markdown":"Correct and it prevents the actual message i want from the NotNull annotation to display.  I will try lowering the flagUsage property to warning","body":"Correct and it prevents the actual message i want from the NotNull annotation to display.  I will try lowering the flagUsage property to warning"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546871543,"creation_date":1546871543,"answer_id":54076326,"question_id":54076047,"body_markdown":"Since `lombok.NonNull` will emit an `if` statement directly in the code, which later throws `NullPointerException`, there is not much you can do. `javax.validation` requires the bean to be constructed before it&#39;s being validated and Lombok will prevent it.\r\n\r\nYou could remove `lombok.NonNull` or decrease it to warning with `lombok.nonNull.flagUsage=warning` but this would allow you to create invalid objects that you would have to manually validate with `javax.validation`.","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>Since <code>lombok.NonNull</code> will emit an <code>if</code> statement directly in the code, which later throws <code>NullPointerException</code>, there is not much you can do. <code>javax.validation</code> requires the bean to be constructed before it's being validated and Lombok will prevent it.</p>\n\n<p>You could remove <code>lombok.NonNull</code> or decrease it to warning with <code>lombok.nonNull.flagUsage=warning</code> but this would allow you to create invalid objects that you would have to manually validate with <code>javax.validation</code>.</p>\n"},{"tags":[],"owner":{"account_id":3612479,"reputation":1687,"user_id":3013172,"accept_rate":0,"display_name":"user3013172"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418944,"creation_date":1661418944,"answer_id":73484949,"question_id":54076047,"body_markdown":"So, I had a similar issue with Jackson and Lombok. \r\n\r\nI needed javax validations to work when deserializing an input for my Controller but I also wanted to be able to create instances of my POJOs &quot;by hand&quot;, using Lombok&#39;s validations. \r\nSince Lombok&#39;s validations were executed while building the objects, javax never had a chance to run validations since lombok&#39;s failed first.\r\n\r\nMy solution was the following:\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import javax.validation.constraints.NotBlank;\r\n    import lombok.Builder;\r\n    import lombok.NonNull;\r\n    import lombok.Value;\r\n\r\n    @Value\r\n    //Make immutable\r\n    public class MyObject {\r\n\r\n        //javax annotations go here\r\n        @NotBlank\r\n        String fieldOne;\r\n\r\n        //javax annotations go here\r\n        @NotBlank\r\n        String fieldTwo;\r\n\r\n\r\n        //Lombok&#39;s validations go here. Lombok will create builder methods\r\n        //for this parameters only and will rewrite this constructor to add \r\n        //validations\r\n        @Builder\r\n        private MyObject(@NonNull String fieldOne,\r\n                         @NonNull String fieldTwo) {\r\n            this.fieldOne = fieldOne;\r\n            this.fieldTwo = fieldTwo;\r\n        }\r\n\r\n        //Constructor for jackson. No lombok validations here\r\n        @JsonCreator\r\n        private MyObject(String fieldOne,\r\n                         String fieldTwo,\r\n                         boolean jacksonHack) {\r\n            this.fieldOne = fieldOne;\r\n            this.fieldTwo = fieldTwo;\r\n        }\r\n\r\n    }\r\n\r\nHere, you have to make sure that javax validations are always processed after deserialization. Otherwise you  will end up with an invalid object.\r\n\r\nBut it looks like it works.\r\n","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>So, I had a similar issue with Jackson and Lombok.</p>\n<p>I needed javax validations to work when deserializing an input for my Controller but I also wanted to be able to create instances of my POJOs &quot;by hand&quot;, using Lombok's validations.\nSince Lombok's validations were executed while building the objects, javax never had a chance to run validations since lombok's failed first.</p>\n<p>My solution was the following:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport javax.validation.constraints.NotBlank;\nimport lombok.Builder;\nimport lombok.NonNull;\nimport lombok.Value;\n\n@Value\n//Make immutable\npublic class MyObject {\n\n    //javax annotations go here\n    @NotBlank\n    String fieldOne;\n\n    //javax annotations go here\n    @NotBlank\n    String fieldTwo;\n\n\n    //Lombok's validations go here. Lombok will create builder methods\n    //for this parameters only and will rewrite this constructor to add \n    //validations\n    @Builder\n    private MyObject(@NonNull String fieldOne,\n                     @NonNull String fieldTwo) {\n        this.fieldOne = fieldOne;\n        this.fieldTwo = fieldTwo;\n    }\n\n    //Constructor for jackson. No lombok validations here\n    @JsonCreator\n    private MyObject(String fieldOne,\n                     String fieldTwo,\n                     boolean jacksonHack) {\n        this.fieldOne = fieldOne;\n        this.fieldTwo = fieldTwo;\n    }\n\n}\n</code></pre>\n<p>Here, you have to make sure that javax validations are always processed after deserialization. Otherwise you  will end up with an invalid object.</p>\n<p>But it looks like it works.</p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54076326,"answer_count":2,"score":3,"last_activity_date":1661418944,"creation_date":1546870540,"question_id":54076047,"body_markdown":"Lombok&#39;s @NonNull annotation interferes with javax.validation.constraints.NotNull annotation during validation in a spring boot app.  \r\n\r\nI am using Lombok in my JPA entities to drastically shorten the code in them (eliminate getters and setters, hashcode and equals, constructors, etc).  I use the @NonNull annotation on each required field and then the @RequiredArgsConstructor annotation on top of the class to generate a constructor accepting only those fields (eliminates the need to send the entity&#39;s id, UUID and one-to-many Sets as null when creating the object).  \r\n\r\nThe issue i have is that, since adding Lombok not too long ago, my original @NotNull annotation&#39;s message is being replaced by a generic Lombok message for the @NonNull annotation.  Take a look at this field for example :\r\n\r\n    @Digits(integer = 5, fraction = 0, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @NotNull(message = &quot;The orders port is required!&quot;)\r\n    @Min(value = 1, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @Max(value = 65535, message = &quot;The orders port must be a number from 1 to 65 535!&quot;)\r\n    @Column(nullable = false)\r\n\t@NonNull\r\n    private Integer ordersPort;\r\n\r\nWhen i put nothing in this field, get this message :\r\n\r\n    Property ordersPort threw exception; nested exception is java.lang.NullPointerException: ordersPort is marked @NonNull but is null\r\n\r\nPrior to adding Lombok, this was working fine and i was getting the messages i put above.  Is there a way to keep using Lombok but somehow disable it from being considered during validation?\r\n\r\nThanks!\r\n\r\n","title":"Lombok&#39;s @NonNull interfering with javax.validation.constraints.NotNull during validation","body":"<p>Lombok's @NonNull annotation interferes with javax.validation.constraints.NotNull annotation during validation in a spring boot app.  </p>\n\n<p>I am using Lombok in my JPA entities to drastically shorten the code in them (eliminate getters and setters, hashcode and equals, constructors, etc).  I use the @NonNull annotation on each required field and then the @RequiredArgsConstructor annotation on top of the class to generate a constructor accepting only those fields (eliminates the need to send the entity's id, UUID and one-to-many Sets as null when creating the object).  </p>\n\n<p>The issue i have is that, since adding Lombok not too long ago, my original @NotNull annotation's message is being replaced by a generic Lombok message for the @NonNull annotation.  Take a look at this field for example :</p>\n\n<pre><code>@Digits(integer = 5, fraction = 0, message = \"The orders port must be a number from 1 to 65 535!\")\n@NotNull(message = \"The orders port is required!\")\n@Min(value = 1, message = \"The orders port must be a number from 1 to 65 535!\")\n@Max(value = 65535, message = \"The orders port must be a number from 1 to 65 535!\")\n@Column(nullable = false)\n@NonNull\nprivate Integer ordersPort;\n</code></pre>\n\n<p>When i put nothing in this field, get this message :</p>\n\n<pre><code>Property ordersPort threw exception; nested exception is java.lang.NullPointerException: ordersPort is marked @NonNull but is null\n</code></pre>\n\n<p>Prior to adding Lombok, this was working fine and i was getting the messages i put above.  Is there a way to keep using Lombok but somehow disable it from being considered during validation?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","dependency-injection","autowired"],"comments":[{"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"score":0,"creation_date":1686918742,"post_id":73443118,"comment_id":134868261,"body_markdown":"It just came to my mind, that there might be already a &quot;entityManager&quot; bean of type EntityManager, not sure if that will work when you specify the type as TestRepository.\nAdditionally there are some restrictions what you should not do when working with lifecycle callback methods like @PrePersist, i.e. don&#39;t interact with other entities: https://www.objectdb.com/java/jpa/persistence/event#implementation_restrictions","body":"It just came to my mind, that there might be already a &quot;entityManager&quot; bean of type EntityManager, not sure if that will work when you specify the type as TestRepository. Additionally there are some restrictions what you should not do when working with lifecycle callback methods like @PrePersist, i.e. don&#39;t interact with other entities: <a href=\"https://www.objectdb.com/java/jpa/persistence/event#implementation_restrictions\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/persistence/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418602,"creation_date":1661418602,"answer_id":73484867,"question_id":73443118,"body_markdown":"Is the class TestRepository annotated with @Repository?\r\n\r\nYou could try making the field entityManager final. I would also recomend using constructor injection instead. Field injection sometimes leads to strange behaviour.\r\n\r\n    @Component\r\n    public class TestListener {\r\n    \r\n        private final TestRepository entityManager;\r\n    \r\n        public TestListener(@Autowired TestRepository entityManager){\r\n            this.entityManager = entityManager;\r\n        }\r\n    \r\n        ...\r\n\r\n        }\r\n    }","title":"How to autowire spring bean into EventListener","body":"<p>Is the class TestRepository annotated with @Repository?</p>\n<p>You could try making the field entityManager final. I would also recomend using constructor injection instead. Field injection sometimes leads to strange behaviour.</p>\n<pre><code>@Component\npublic class TestListener {\n\n    private final TestRepository entityManager;\n\n    public TestListener(@Autowired TestRepository entityManager){\n        this.entityManager = entityManager;\n    }\n\n    ...\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12427598,"reputation":201,"user_id":9051579,"display_name":"Alex Vulchev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661418602,"creation_date":1661161581,"question_id":73443118,"body_markdown":"i am searching for a way to create a listener that is also a spring component, however when i try to autowire the entity manager bean, it is always null, what am i doing wrong?\r\n\r\n\r\n    @Component\r\n    public class TestListener {\r\n    \r\n        @Autowired\r\n        private TestRepository entityManager;\r\n    \r\n        @PrePersist\r\n        @PreUpdate\r\n        void beforeEntityUpdateOrSave(final Entity entity) {\r\n            entityManager.someOperation() // -&gt; NullPointerException, because the bean is &quot;null&quot;\r\n        }\r\n    }\r\n\r\nthe Entity class has the listener in the @EntityListeners annotation.\r\n\r\n    @EntityListeners(TestListener.class)\r\n    public class Entity ","title":"How to autowire spring bean into EventListener","body":"<p>i am searching for a way to create a listener that is also a spring component, however when i try to autowire the entity manager bean, it is always null, what am i doing wrong?</p>\n<pre><code>@Component\npublic class TestListener {\n\n    @Autowired\n    private TestRepository entityManager;\n\n    @PrePersist\n    @PreUpdate\n    void beforeEntityUpdateOrSave(final Entity entity) {\n        entityManager.someOperation() // -&gt; NullPointerException, because the bean is &quot;null&quot;\n    }\n}\n</code></pre>\n<p>the Entity class has the listener in the @EntityListeners annotation.</p>\n<pre><code>@EntityListeners(TestListener.class)\npublic class Entity \n</code></pre>\n"},{"tags":["java","oracle","xslt-1.0","xslt-2.0"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1661360081,"post_id":73476608,"comment_id":129755909,"body_markdown":"and what xslt implementation are you using?","body":"and what xslt implementation are you using?"},{"owner":{"account_id":9392221,"reputation":30,"user_id":8509516,"display_name":"sunil"},"score":0,"creation_date":1661402040,"post_id":73476608,"comment_id":129764701,"body_markdown":"sorry I am not getting your question, actually everything was working fine if XSLT version was 1.0 but after changing the version with 2.0 I am getting errors. Is there any way to fix this","body":"sorry I am not getting your question, actually everything was working fine if XSLT version was 1.0 but after changing the version with 2.0 I am getting errors. Is there any way to fix this"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1661405692,"post_id":73476608,"comment_id":129765366,"body_markdown":"There is no standardized way for an XSLT processor use Java, most Java implementations of XSLT can do that but the way to do it might be rather product specific. So, at least inside of oXygen, you should be able to see/tell which XSLT processor exactly you have used for XSLT 1 and which one for XSLT 2. For XSLT 2 oXygen tends to use Saxon Java and usually offers, for one particular main release, all three editions HE, PE and EE. Only the last two ones allow &quot;reflexive&quot; calls into Java. On the other hand, if you have Oracle specific extension code, better ask Oracle support.","body":"There is no standardized way for an XSLT processor use Java, most Java implementations of XSLT can do that but the way to do it might be rather product specific. So, at least inside of oXygen, you should be able to see/tell which XSLT processor exactly you have used for XSLT 1 and which one for XSLT 2. For XSLT 2 oXygen tends to use Saxon Java and usually offers, for one particular main release, all three editions HE, PE and EE. Only the last two ones allow &quot;reflexive&quot; calls into Java. On the other hand, if you have Oracle specific extension code, better ask Oracle support."}],"owner":{"account_id":9392221,"reputation":30,"user_id":8509516,"display_name":"sunil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661418361,"creation_date":1661358281,"question_id":73476608,"body_markdown":"I am upgrading the XSLT from 1.0 to XSLT 2.0,\r\nIt contains the java functions which were running successfully with version 1.0\r\nBut after changing the version to 2.0 getting the below error in Oxygen:\r\n\r\n&gt; Cannot find a 4-argument function named Q\r\n&gt; {http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions}\r\n&gt; getSecondaryLineItems (). For diagnostics on calls to Java methods,\r\n&gt; use the -TJ command line option or set the Configuration property\r\n&gt; FeatureKeys.TRACE_EXTERNAL_FUNCTIONS\r\n\r\nIn eclipse I am getting below error while running Java:\r\n\r\n&gt; XML-23002: (Error) internal xpath error:\r\n&gt; \r\n&gt; oracle.xml.parser.v2.XMLParseException; lineNumber: 2; columnNumber:\r\n&gt; 1; Start of root element expected. \tat\r\n&gt; oracle.xml.parser.v2.XMLError.flushErrors1(XMLError.java:326) \tat\r\n&gt; oracle.xml.parser.v2.NonValidatingParser.parseRootElement(NonValidatingParser.java:475)\r\n&gt; \tat\r\n&gt; oracle.xml.parser.v2.NonValidatingParser.parseDocument(NonValidatingParser.java:416)\r\n&gt; \tat oracle.xml.parser.v2.XMLParser.parse(XMLParser.java:247) \tat\r\n&gt; oracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:175)\r\n&gt; \tat\r\n&gt; oracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:131)\r\n&gt; \tat com.bt.classic.provide.Provide.xmlBuild(Provide.java:71) \tat\r\n&gt; com.bt.classic.provide.Provide.main(Provide.java:44)\r\n\r\n\r\nThis is my XSLT code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;?oracle-xsl-mapper\r\n  &lt;!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. --&gt;\r\n  &lt;mapSources&gt;\r\n    &lt;source type=&quot;XSD&quot;&gt;\r\n      &lt;schema location=&quot;BTOrderEntryReqResp.xsd&quot;/&gt;\r\n      &lt;rootElement name=&quot;ListOfBtorderentryreqigbl&quot; namespace=&quot;http://www.siebel.com/xml/BTOrderEntryIGBL&quot;/&gt;\r\n    &lt;/source&gt;\r\n  &lt;/mapSources&gt;\r\n  &lt;mapTargets&gt;\r\n    &lt;target type=&quot;XSD&quot;&gt;\r\n      &lt;schema location=&quot;GlobalInteraction_Inter.xsd&quot;/&gt;\r\n      &lt;rootElement name=&quot;BatchLoadOrder&quot; namespace=&quot;GlobalInteraction.xsdobjects.extload.services.classic.bt.inter&quot;/&gt;\r\n    &lt;/target&gt;\r\n  &lt;/mapTargets&gt;\r\n  &lt;!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [FRI AUG 10 16:02:57 IST 2012]. --&gt;\r\n?&gt;\r\n\r\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xp20=&quot;http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\nxmlns:sunil=&quot;http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions&quot;\r\nexclude-result-prefixes=&quot;xp20 xsl&quot;&gt;\r\n\r\n        &lt;tns:ActivationDate&gt;\r\n            &lt;xsl:value-of select=&quot;xp20:current-dateTime()&quot;/&gt;\r\n        &lt;/tns:ActivationDate&gt;\r\n...........\r\n.............\r\n.........\r\n\r\n&lt;!--****Problem is with the below code while changing the version of XSLT from 1.0 to 2.0\r\nsunil:getSecondaryLineItems is the java function which is inside java file\r\n****--&gt;\r\n\r\n&lt;xsl:variable name=&quot;SecondaryLineItems&quot;\r\n                              select=&quot;sunil:getSecondaryLineItems($totalLineItems,$lineItemsWithoutRW,$lineItemsWithRW,$rootelement)&quot;/&gt;\r\n                &lt;!-- Changes done for BW110776 --&gt;\r\n                &lt;xsl:variable name=&quot;PrimaryLineItems&quot;\r\n                              select=&quot;sunil:getPrimaryLineItems($totalLineItems,$SecondaryLineItems[not(wiz:Product=&#39;IP Connect global SLA&#39;)],$rootelement2)&quot;/&gt;\r\n\r\n............\r\n...........\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n\r\n\r\n```\r\n","title":"How to run java codes in XSLT 2.0 which were working fine in XSLT 1.0","body":"<p>I am upgrading the XSLT from 1.0 to XSLT 2.0,\nIt contains the java functions which were running successfully with version 1.0\nBut after changing the version to 2.0 getting the below error in Oxygen:</p>\n<blockquote>\n<p>Cannot find a 4-argument function named Q\n{http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions}\ngetSecondaryLineItems (). For diagnostics on calls to Java methods,\nuse the -TJ command line option or set the Configuration property\nFeatureKeys.TRACE_EXTERNAL_FUNCTIONS</p>\n</blockquote>\n<p>In eclipse I am getting below error while running Java:</p>\n<blockquote>\n<p>XML-23002: (Error) internal xpath error:</p>\n<p>oracle.xml.parser.v2.XMLParseException; lineNumber: 2; columnNumber:\n1; Start of root element expected.    at\noracle.xml.parser.v2.XMLError.flushErrors1(XMLError.java:326)     at\noracle.xml.parser.v2.NonValidatingParser.parseRootElement(NonValidatingParser.java:475)\nat\noracle.xml.parser.v2.NonValidatingParser.parseDocument(NonValidatingParser.java:416)\nat oracle.xml.parser.v2.XMLParser.parse(XMLParser.java:247)     at\noracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:175)\nat\noracle.xml.jaxp.JXDocumentBuilder.parse(JXDocumentBuilder.java:131)\nat com.bt.classic.provide.Provide.xmlBuild(Provide.java:71)     at\ncom.bt.classic.provide.Provide.main(Provide.java:44)</p>\n</blockquote>\n<p>This is my XSLT code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;?oracle-xsl-mapper\n  &lt;!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. --&gt;\n  &lt;mapSources&gt;\n    &lt;source type=&quot;XSD&quot;&gt;\n      &lt;schema location=&quot;BTOrderEntryReqResp.xsd&quot;/&gt;\n      &lt;rootElement name=&quot;ListOfBtorderentryreqigbl&quot; namespace=&quot;http://www.siebel.com/xml/BTOrderEntryIGBL&quot;/&gt;\n    &lt;/source&gt;\n  &lt;/mapSources&gt;\n  &lt;mapTargets&gt;\n    &lt;target type=&quot;XSD&quot;&gt;\n      &lt;schema location=&quot;GlobalInteraction_Inter.xsd&quot;/&gt;\n      &lt;rootElement name=&quot;BatchLoadOrder&quot; namespace=&quot;GlobalInteraction.xsdobjects.extload.services.classic.bt.inter&quot;/&gt;\n    &lt;/target&gt;\n  &lt;/mapTargets&gt;\n  &lt;!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [FRI AUG 10 16:02:57 IST 2012]. --&gt;\n?&gt;\n\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xp20=&quot;http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\nxmlns:sunil=&quot;http://www.oracle.com/XSL/Transform/java/sunil.classic.aib.userfunctions.CustomExtensionFunctions&quot;\nexclude-result-prefixes=&quot;xp20 xsl&quot;&gt;\n\n        &lt;tns:ActivationDate&gt;\n            &lt;xsl:value-of select=&quot;xp20:current-dateTime()&quot;/&gt;\n        &lt;/tns:ActivationDate&gt;\n...........\n.............\n.........\n\n&lt;!--****Problem is with the below code while changing the version of XSLT from 1.0 to 2.0\nsunil:getSecondaryLineItems is the java function which is inside java file\n****--&gt;\n\n&lt;xsl:variable name=&quot;SecondaryLineItems&quot;\n                              select=&quot;sunil:getSecondaryLineItems($totalLineItems,$lineItemsWithoutRW,$lineItemsWithRW,$rootelement)&quot;/&gt;\n                &lt;!-- Changes done for BW110776 --&gt;\n                &lt;xsl:variable name=&quot;PrimaryLineItems&quot;\n                              select=&quot;sunil:getPrimaryLineItems($totalLineItems,$SecondaryLineItems[not(wiz:Product='IP Connect global SLA')],$rootelement2)&quot;/&gt;\n\n............\n...........\n\n&lt;/xsl:stylesheet&gt;\n\n\n</code></pre>\n"},{"tags":["java","spring","security","spring-security"],"comments":[{"owner":{"account_id":3522627,"reputation":338,"user_id":2944519,"accept_rate":25,"display_name":"Selva"},"score":0,"creation_date":1394005057,"post_id":22191386,"comment_id":33685954,"body_markdown":"You are passing an empty User object to UsernamePasswordAuthenticationToken constructor. May be that is the reason you are getting null.","body":"You are passing an empty User object to UsernamePasswordAuthenticationToken constructor. May be that is the reason you are getting null."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1394006996,"post_id":22191386,"comment_id":33686906,"body_markdown":"Also a null password (I think that&#39;s also illegal). Maybe if you show the stack trace?","body":"Also a null password (I think that&#39;s also illegal). Maybe if you show the stack trace?"},{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":0,"creation_date":1394011468,"post_id":22191386,"comment_id":33689327,"body_markdown":"password can be null, I would rather check if session is the same after you create it and in code which run getAuthentication. Log your session.getId() to check it.","body":"password can be null, I would rather check if session is the same after you create it and in code which run getAuthentication. Log your session.getId() to check it."},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1394013016,"post_id":22191386,"comment_id":33690294,"body_markdown":"Do you want to bypass the security only for some particular pages or particular user or for all ?","body":"Do you want to bypass the security only for some particular pages or particular user or for all ?"},{"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"score":0,"creation_date":1394013188,"post_id":22191386,"comment_id":33690431,"body_markdown":"I want to bypass for all the pages for that particular session Id(User)","body":"I want to bypass for all the pages for that particular session Id(User)"},{"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"score":0,"creation_date":1394013578,"post_id":22191386,"comment_id":33690679,"body_markdown":"Also i checked the session ID in both the requests !its the same.Cant get the problem","body":"Also i checked the session ID in both the requests !its the same.Cant get the problem"}],"answers":[{"tags":[],"owner":{"account_id":3499762,"reputation":946,"user_id":2926774,"display_name":"RPaul"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394023195,"creation_date":1394023195,"answer_id":22198085,"question_id":22191386,"body_markdown":"Your localUser is null.So the auth become null.So no authentication object has been added to the security context.\r\n\r\nPlease have look at the doc\r\n\r\nhttp://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\r\n\r\nIt is better to have a customUserDetailsService\r\n\r\n    public class CustomUserDetailsService implements UserDetailsService \r\n    \r\n    //implement the method which return a UserDetails Object\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException \r\n\r\nthen you can use\r\n\r\n        UserDetails userDetails= customUserDetailsService.loadUserByUsername(&quot;name&quot;); \r\n    Authentication authentication= new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities()) ; \r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>Your localUser is null.So the auth become null.So no authentication object has been added to the security context.</p>\n\n<p>Please have look at the doc</p>\n\n<p><a href=\"http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html\" rel=\"nofollow\">http://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/core/userdetails/User.html</a></p>\n\n<p>It is better to have a customUserDetailsService</p>\n\n<pre><code>public class CustomUserDetailsService implements UserDetailsService \n\n//implement the method which return a UserDetails Object\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException \n</code></pre>\n\n<p>then you can use</p>\n\n<pre><code>    UserDetails userDetails= customUserDetailsService.loadUserByUsername(\"name\"); \nAuthentication authentication= new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities()) ; \nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1632905864,"creation_date":1394099573,"answer_id":22220762,"question_id":22191386,"body_markdown":"So, I found the actual problem!\r\nThe issue was that I had marked the whole controller with security=&quot;none&quot; in the security-context.xml.\r\nSo, when it was bounced from the first link to the 2nd, it didn&#39;t pass any security context with it!!\r\nSorry for the trouble, guys.","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>So, I found the actual problem!\nThe issue was that I had marked the whole controller with security=&quot;none&quot; in the security-context.xml.\nSo, when it was bounced from the first link to the 2nd, it didn't pass any security context with it!!\nSorry for the trouble, guys.</p>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474446018,"creation_date":1474446018,"answer_id":39611112,"question_id":22191386,"body_markdown":"**Additional Answer:** If you want to get logged-in user details for a non-secured url then you can add them to secured urls and assign as &quot;permitAll&quot; like this:\r\n\r\n    &lt;http&gt;\r\n        //...\r\n        \r\n        &lt;intercept-url pattern=&quot;/your/url/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        \r\n        //...\r\n    &lt;/http&gt;\r\n\r\nThen, you will be able to check the logged-in user if logged-in or get the credentials.","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p><strong>Additional Answer:</strong> If you want to get logged-in user details for a non-secured url then you can add them to secured urls and assign as \"permitAll\" like this:</p>\n\n<pre><code>&lt;http&gt;\n    //...\n\n    &lt;intercept-url pattern=\"/your/url/**\" access=\"permitAll\"/&gt;\n\n    //...\n&lt;/http&gt;\n</code></pre>\n\n<p>Then, you will be able to check the logged-in user if logged-in or get the credentials.</p>\n"},{"tags":[],"owner":{"account_id":11079410,"reputation":9,"user_id":8135024,"display_name":"jagadish Beejapu"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1528097991,"creation_date":1528094522,"answer_id":50674700,"question_id":22191386,"body_markdown":"Try this:\r\n\r\n    Authentication authentication=SecurityContextHolder.getContext().getAuthentication();\r\n    localeUser .setUserNm(authentication.getName());","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>Try this:</p>\n\n<pre><code>Authentication authentication=SecurityContextHolder.getContext().getAuthentication();\nlocaleUser .setUserNm(authentication.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22948068,"reputation":3,"user_id":17079772,"display_name":"Rohan Chhokra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418159,"creation_date":1661418159,"answer_id":73484756,"question_id":22191386,"body_markdown":"I was also a facing a similar issue. What the problem in my piece of code was that the Request Mapping prefix of my controller was ignored in my Security Token Config file, which was causing SecurityContextHolder to be null. ","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>I was also a facing a similar issue. What the problem in my piece of code was that the Request Mapping prefix of my controller was ignored in my Security Token Config file, which was causing SecurityContextHolder to be null.</p>\n"}],"owner":{"account_id":2589428,"reputation":1016,"user_id":2244448,"accept_rate":70,"display_name":"Rajesh Wadhwa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73183,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":22220762,"answer_count":5,"score":21,"last_activity_date":1661418159,"creation_date":1394004796,"question_id":22191386,"body_markdown":"I want to manually bypass the user from spring Security using the following code:\r\n\r\n    User localeUser = new User();\r\n    UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(localeUser ,null, localeUser .getAuthorities());\r\n    SecurityContext securityContext = SecurityContextHolder.getContext();\r\n    \t\tsecurityContext.setAuthentication(auth);\r\n    \t\t// Create a new session and add the security context.\r\n    \t    HttpSession session = request.getSession(true);\r\n    \t    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n    return &quot;dummyLogin&quot;;\r\n\r\nThe dummy login page(handled by tiles)internally calls a different Request Mapping in the same controller where i am trying to get the Authentication something like this.\r\n\r\n    SecurityContextHolder.getContext().getAuthentication()\r\n\r\nWhere i am getting null?","title":"SecurityContextHolder.getContext().getAuthentication() returning null","body":"<p>I want to manually bypass the user from spring Security using the following code:</p>\n\n<pre><code>User localeUser = new User();\nUsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(localeUser ,null, localeUser .getAuthorities());\nSecurityContext securityContext = SecurityContextHolder.getContext();\n        securityContext.setAuthentication(auth);\n        // Create a new session and add the security context.\n        HttpSession session = request.getSession(true);\n        session.setAttribute(\"SPRING_SECURITY_CONTEXT\", securityContext);\nreturn \"dummyLogin\";\n</code></pre>\n\n<p>The dummy login page(handled by tiles)internally calls a different Request Mapping in the same controller where i am trying to get the Authentication something like this.</p>\n\n<pre><code>SecurityContextHolder.getContext().getAuthentication()\n</code></pre>\n\n<p>Where i am getting null?</p>\n"},{"tags":["java","android","android-activity","splash-screen","recent-screens"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661101735,"post_id":73436554,"comment_id":129686380,"body_markdown":"Whether or not a system-supplied splash screen appears on Android 12 is up to the OS, not you or I. If you are referring to some splash screen that you are showing manually, you need to handle whether or not to show that yourself.","body":"Whether or not a system-supplied splash screen appears on Android 12 is up to the OS, not you or I. If you are referring to some splash screen that you are showing manually, you need to handle whether or not to show that yourself."},{"owner":{"account_id":410454,"reputation":1257,"user_id":782299,"accept_rate":73,"display_name":"Mahesh"},"score":0,"creation_date":1661339828,"post_id":73436554,"comment_id":129747355,"body_markdown":"can you add some code or details on how you are creating your splashScreen. is it an activity ?","body":"can you add some code or details on how you are creating your splashScreen. is it an activity ?"}],"answers":[{"tags":[],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661104430,"creation_date":1661104430,"answer_id":73436941,"question_id":73436554,"body_markdown":"In the manifest, specify for the activity:\r\n```\r\nandroid:noHistory=&quot;true&quot;\r\n```","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>In the manifest, specify for the activity:</p>\n<pre><code>android:noHistory=&quot;true&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23957536,"reputation":87,"user_id":17948179,"display_name":"A.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418132,"creation_date":1661418036,"answer_id":73484727,"question_id":73436554,"body_markdown":"I found the solution to my problem.\r\n\r\nThis happens because when I click back button of device, according to\r\n\r\nactivity lifecycle , ondestroyview() will be called. so  when \r\n\r\nI returned from recents screen , app started again.\r\n\r\nwhat I&#39;ve done is that in the next activity which appears after Splash \r\n\r\nScreen , I used onBackPressed like this :\r\n\r\n```\r\n\r\n @Override\r\n    public void onBackPressed() {\r\n             moveTaskToBack(true);\r\n         \r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>I found the solution to my problem.</p>\n<p>This happens because when I click back button of device, according to</p>\n<p>activity lifecycle , ondestroyview() will be called. so  when</p>\n<p>I returned from recents screen , app started again.</p>\n<p>what I've done is that in the next activity which appears after Splash</p>\n<p>Screen , I used onBackPressed like this :</p>\n<pre><code>\n @Override\n    public void onBackPressed() {\n             moveTaskToBack(true);\n         \n    }\n\n</code></pre>\n"}],"owner":{"account_id":23957536,"reputation":87,"user_id":17948179,"display_name":"A.G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661418132,"creation_date":1661101382,"question_id":73436554,"body_markdown":"I wanna know how I can avoid splash screen to launch when my app is in recents.\r\n\r\nI want the app to open the activity where user was in it before  when he/she  clicks back button of device and opens\r\napp from recent screen.\r\n\r\nThis is a splash screen activity :\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n//variables\r\n    private static int SPLASH_SCREEN = 1000;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(MainActivity.this , Main_Page.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        },SPLASH_SCREEN);\r\n\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Avoid Splash Screen to launch when user open app from recent screen","body":"<p>I wanna know how I can avoid splash screen to launch when my app is in recents.</p>\n<p>I want the app to open the activity where user was in it before  when he/she  clicks back button of device and opens\napp from recent screen.</p>\n<p>This is a splash screen activity :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n//variables\n    private static int SPLASH_SCREEN = 1000;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent intent = new Intent(MainActivity.this , Main_Page.class);\n                startActivity(intent);\n                finish();\n            }\n        },SPLASH_SCREEN);\n\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","string","localdatetime","datetimeformatter"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1597659538,"post_id":63448838,"comment_id":112195488,"body_markdown":"Have you seen that `T` separating the date from the time part in the `dateStr`? Your pattern does not consider it... And in addition, `n` means nanoseconds, but your example `String` contains just 6 *fractions of seconds* wich makes `S` appear more suitable here.","body":"Have you seen that <code>T</code> separating the date from the time part in the <code>dateStr</code>? Your pattern does not consider it... And in addition, <code>n</code> means nanoseconds, but your example <code>String</code> contains just 6 <i>fractions of seconds</i> wich makes <code>S</code> appear more suitable here."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1597659649,"post_id":63448838,"comment_id":112195536,"body_markdown":"The format you&#39;re trying to parse is a standard format provided by Java by the way. You can use `DateTimeFormatter.ISO_LOCAL_DATE_TIME` instead of using your own pattern.","body":"The format you&#39;re trying to parse is a standard format provided by Java by the way. You can use <code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code> instead of using your own pattern."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597661122,"creation_date":1597659705,"answer_id":63448920,"question_id":63448838,"body_markdown":"For your given DateTime string pattern should be updated `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;`.\r\n\r\nSo the code should be like :\r\n\r\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n    \r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;);\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\r\nFor more details around it you can refer [JavaDoc][1].\r\n\r\n\r\nAlong that in your given input DateTime it&#39;s using 6 digits, so it can&#39;t be nano seconds. Because nano is 1/1000000000. So it will have at least 9 digits. So the correct format rather should be second fraction with 6 digits as &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;.\r\n\r\n***End Results comparison:***\r\n\r\n**With Pattern : &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;**\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;)));\r\n\r\n&gt; **Output** : 2020-08-7T10:11:16.000908732\r\n\r\n**With Pattern : &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;**\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;)));\r\n\r\n&gt; **Output** : 2020-08-7T10:11:16.908732\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME","title":"Convert String to LocalDateTime Java 8","body":"<p>For your given DateTime string pattern should be updated <code>&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</code>.</p>\n<p>So the code should be like :</p>\n<pre><code>String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n</code></pre>\n<p>For more details around it you can refer <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\">JavaDoc</a>.</p>\n<p>Along that in your given input DateTime it's using 6 digits, so it can't be nano seconds. Because nano is 1/1000000000. So it will have at least 9 digits. So the correct format rather should be second fraction with 6 digits as &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;.</p>\n<p><em><strong>End Results comparison:</strong></em></p>\n<p><strong>With Pattern : &quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</strong></p>\n<pre><code>System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;)));\n</code></pre>\n<blockquote>\n<p><strong>Output</strong> : 2020-08-7T10:11:16.000908732</p>\n</blockquote>\n<p><strong>With Pattern : &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;</strong></p>\n<pre><code>System.out.println(LocalDateTime.parse(&quot;2020-08-17T10:11:16.908732&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;)));\n</code></pre>\n<blockquote>\n<p><strong>Output</strong> : 2020-08-7T10:11:16.908732</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661417987,"creation_date":1597660379,"answer_id":63449093,"question_id":63448838,"body_markdown":"You don&#39;t need to specify a `DateTimeFormatter` in this case because the default one will be used if you don&#39;t pass one at all:\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString dateStr = &quot;2020-08-17T10:11:16.908732&quot;;\r\n    // the following uses the DateTimeFormatter.ISO_LOCAL_DATE_TIME implicitly\r\n\tLocalDateTime dateTime = LocalDateTime.parse(dateStr);\r\n\tSystem.out.println(dateTime);\r\n}\r\n```\r\n\r\nThat code will output `2020-08-17T10:11:16.908732`.\r\n\r\nIf you are insisting on using a custom `DateTimeFormatter`, consider the `T` by single-quoting it in the pattern and don&#39;t use nanosecond parsing (`n`) for parsing fractions of second (`S`), the result might be wrong otherwise.\r\n\r\nDo it like this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;);\r\n\tLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\tSystem.out.println(dateTime);\r\n}\r\n```\r\n\r\nwith the same output as above.\r\n\r\n**Note:**  \r\nThe result of using the pattern `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.nnnnnn&quot;` would not be equal to the parsed `String`, instead, it would be\r\n\r\n```lang-none\r\n2020-08-17T10:11:16.000908732\r\n```","title":"Convert String to LocalDateTime Java 8","body":"<p>You don't need to specify a <code>DateTimeFormatter</code> in this case because the default one will be used if you don't pass one at all:</p>\n<pre><code>public static void main(String[] args) {\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;;\n    // the following uses the DateTimeFormatter.ISO_LOCAL_DATE_TIME implicitly\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr);\n    System.out.println(dateTime);\n}\n</code></pre>\n<p>That code will output <code>2020-08-17T10:11:16.908732</code>.</p>\n<p>If you are insisting on using a custom <code>DateTimeFormatter</code>, consider the <code>T</code> by single-quoting it in the pattern and don't use nanosecond parsing (<code>n</code>) for parsing fractions of second (<code>S</code>), the result might be wrong otherwise.</p>\n<p>Do it like this:</p>\n<pre><code>public static void main(String[] args) {\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;);\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n    System.out.println(dateTime);\n}\n</code></pre>\n<p>with the same output as above.</p>\n<p><strong>Note:</strong><br />\nThe result of using the pattern <code>&quot;yyyy-MM-dd'T'HH:mm:ss.nnnnnn&quot;</code> would not be equal to the parsed <code>String</code>, instead, it would be</p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-08-17T10:11:16.000908732\n</code></pre>\n"}],"owner":{"account_id":13229912,"reputation":151,"user_id":9553882,"display_name":"R111"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63449093,"answer_count":2,"score":1,"last_activity_date":1661417987,"creation_date":1597659407,"question_id":63448838,"body_markdown":"I&#39;m trying to convert the following String into a LocalDateTime:\r\n\r\n    String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \r\n    \r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnn&quot;);\r\n    LocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\r\n\r\nBut I&#39;m hitting the following error:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2020-08-17T10:11:16.908732&#39; could not be parsed at index 10\r\n    \tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n    \tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\r\nCan anyone please help to advise how I should be correctly formatting the string into a LocalDateTime?\r\n\r\nMany thanks","title":"Convert String to LocalDateTime Java 8","body":"<p>I'm trying to convert the following String into a LocalDateTime:</p>\n<pre><code>String dateStr = &quot;2020-08-17T10:11:16.908732&quot;; \n\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.nnnnnn&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(dateStr, format);\n</code></pre>\n<p>But I'm hitting the following error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2020-08-17T10:11:16.908732' could not be parsed at index 10\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n</code></pre>\n<p>Can anyone please help to advise how I should be correctly formatting the string into a LocalDateTime?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":25554374,"reputation":11,"user_id":19338198,"display_name":"Pavol Švančarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417945,"creation_date":1661417924,"answer_id":73484697,"question_id":68127619,"body_markdown":"only thing I can think of is to restart gps receiver after not getting location for some time / start vibrating phone so user know and can restart his phone / try to register more providers not only gms. Try fused, classic GPS/network location listener.. if all of them send broadcast to some class and that class wait few seconds then prioritize the best one of those you got in time it would be great! I tried this, it worked but i need to have accuracy like 3 meters.. :D so not possible for me ","title":"Android location stops updating location after some time","body":"<p>only thing I can think of is to restart gps receiver after not getting location for some time / start vibrating phone so user know and can restart his phone / try to register more providers not only gms. Try fused, classic GPS/network location listener.. if all of them send broadcast to some class and that class wait few seconds then prioritize the best one of those you got in time it would be great! I tried this, it worked but i need to have accuracy like 3 meters.. :D so not possible for me</p>\n"}],"owner":{"account_id":1317888,"reputation":7461,"user_id":1264375,"accept_rate":53,"display_name":"Makalele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661417945,"creation_date":1624608469,"question_id":68127619,"body_markdown":"I have an app, which main feature is to track user&#39;s workouts. GPS location was working OK for past few years until this month, when strange issue appeared. \r\n\r\nSome people (not all), using different devices and android versions experience strange behaviour of gps location. Suddenly, after at least few minutes (sometimes few hours) onLocationChanged stops being fired. Sometimes it&#39;s working fine, then next day user has this issue again. \r\n\r\nUser has to start a new workout to get it back to work. Also, in the app logs I found out that \r\n\r\n```onConnectionSuspended```\r\n\r\nis called with cause = 1 (CAUSE_SERVICE_DISCONNECTED). \r\n\r\nAccording to the documentation, lost connection should automatically reconnect, but it doesn&#39;t thus causing the described issue.\r\n\r\nIn order to fix that issue, I&#39;ve created an internal timer (runnable), which checks when was the last time that location was updated. If it&#39;s more than, let&#39;s say, 2 minutes, it reconnects everything like this:\r\n\r\n```\r\nmGoogleApiClient.disconnect();\r\nmGoogleApiClient.connect();\r\nstartLocationUpdates(); //calls requestLocationUpdates\r\n```\r\n\r\nIt seems to be working, at least on one&#39;s of our test user devices. Seems like a small hack to me, so let me ask you: have you experienced similar issue and do you have a better way to solve it?\r\n\r\nBy the way, I&#39;m using:\r\n\r\n```\r\ncom.google.android.gms:play-services-location:18.0.0\r\n```","title":"Android location stops updating location after some time","body":"<p>I have an app, which main feature is to track user's workouts. GPS location was working OK for past few years until this month, when strange issue appeared.</p>\n<p>Some people (not all), using different devices and android versions experience strange behaviour of gps location. Suddenly, after at least few minutes (sometimes few hours) onLocationChanged stops being fired. Sometimes it's working fine, then next day user has this issue again.</p>\n<p>User has to start a new workout to get it back to work. Also, in the app logs I found out that</p>\n<p><code>onConnectionSuspended</code></p>\n<p>is called with cause = 1 (CAUSE_SERVICE_DISCONNECTED).</p>\n<p>According to the documentation, lost connection should automatically reconnect, but it doesn't thus causing the described issue.</p>\n<p>In order to fix that issue, I've created an internal timer (runnable), which checks when was the last time that location was updated. If it's more than, let's say, 2 minutes, it reconnects everything like this:</p>\n<pre><code>mGoogleApiClient.disconnect();\nmGoogleApiClient.connect();\nstartLocationUpdates(); //calls requestLocationUpdates\n</code></pre>\n<p>It seems to be working, at least on one's of our test user devices. Seems like a small hack to me, so let me ask you: have you experienced similar issue and do you have a better way to solve it?</p>\n<p>By the way, I'm using:</p>\n<pre><code>com.google.android.gms:play-services-location:18.0.0\n</code></pre>\n"},{"tags":["java","jar","directory","executable-jar"],"comments":[{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1280300667,"post_id":3350545,"comment_id":3478220,"body_markdown":"you had .java files in the jar?","body":"you had .java files in the jar?"},{"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"score":0,"creation_date":1661438293,"post_id":3350545,"comment_id":129777373,"body_markdown":"this is a duplicate of https://stackoverflow.com/q/6604097/2881888","body":"this is a duplicate of <a href=\"https://stackoverflow.com/q/6604097/2881888\">stackoverflow.com/q/6604097/2881888</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1280302383,"creation_date":1280300311,"answer_id":3350563,"question_id":3350545,"body_markdown":"Jar files aren&#39;t &quot;compiled&quot; in the normal sense of the word. But you just create one with the `jar` command:\r\n\r\n    jar cvf myfile.jar file1 file2 etc\r\n\r\nYou can use globbing as normal:\r\n\r\n    jar cvf ../myfile.jar *\r\n\r\nRun `jar -?` or read the [docs][1] for more information.\r\n\r\nNote that for an executable jar file, you&#39;ll need to specify the manifest file as well.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html","title":"How do you recompile a jar file?","body":"<p>Jar files aren't \"compiled\" in the normal sense of the word. But you just create one with the <code>jar</code> command:</p>\n\n<pre><code>jar cvf myfile.jar file1 file2 etc\n</code></pre>\n\n<p>You can use globbing as normal:</p>\n\n<pre><code>jar cvf ../myfile.jar *\n</code></pre>\n\n<p>Run <code>jar -?</code> or read the <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/solaris/jar.html\" rel=\"noreferrer\">docs</a> for more information.</p>\n\n<p>Note that for an executable jar file, you'll need to specify the manifest file as well.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280300517,"creation_date":1280300517,"answer_id":3350581,"question_id":3350545,"body_markdown":"Jar files usually contain compiled java files (class-files) and resources.\r\nIf you are allowed to make changes on this jar, you could disassemble the class files using [JAD](http://www.varaneckas.com/jad) and after recompilation assemble them again with the command [jar](http://download-llnw.oracle.com/javase/1.4.2/docs/tooldocs/windows/jar.html)\r\n\r\nHow did you edit a jar file, hex editor?","title":"How do you recompile a jar file?","body":"<p>Jar files usually contain compiled java files (class-files) and resources.\nIf you are allowed to make changes on this jar, you could disassemble the class files using <a href=\"http://www.varaneckas.com/jad\" rel=\"nofollow noreferrer\">JAD</a> and after recompilation assemble them again with the command <a href=\"http://download-llnw.oracle.com/javase/1.4.2/docs/tooldocs/windows/jar.html\" rel=\"nofollow noreferrer\">jar</a></p>\n\n<p>How did you edit a jar file, hex editor?</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280304841,"creation_date":1280304841,"answer_id":3351020,"question_id":3350545,"body_markdown":"A jar file is just a zip file with a few extra files. You Can use any zip utility to rejar an unjarred jar file. ","title":"How do you recompile a jar file?","body":"<p>A jar file is just a zip file with a few extra files. You Can use any zip utility to rejar an unjarred jar file. </p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280305123,"creation_date":1280305123,"answer_id":3351045,"question_id":3350545,"body_markdown":"How did you edit it?\r\n\r\nAnyway, `jar` files follow the same format as regular `zip` files. If you want to update the content of the jar ( probably with a new file ) you could do:\r\n\r\n\r\n    jar -uf yourJar.jar  path/to/updated/Class.class \r\n\r\nThat would update your jar with the file `path/to/updated/Class.class` If there&#39;s already a class with that name in that path, it would be replaced. If is not it would be created. \r\n\r\n\r\nAfter this your jar is up to date. ","title":"How do you recompile a jar file?","body":"<p>How did you edit it?</p>\n\n<p>Anyway, <code>jar</code> files follow the same format as regular <code>zip</code> files. If you want to update the content of the jar ( probably with a new file ) you could do:</p>\n\n<pre><code>jar -uf yourJar.jar  path/to/updated/Class.class \n</code></pre>\n\n<p>That would update your jar with the file <code>path/to/updated/Class.class</code> If there's already a class with that name in that path, it would be replaced. If is not it would be created. </p>\n\n<p>After this your jar is up to date. </p>\n"}],"owner":{"account_id":638894,"reputation":61,"user_id":404197,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44779,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1661417818,"creation_date":1280300116,"question_id":3350545,"body_markdown":"I took an old jar file and edited it. Now i have a folder that has all the files and I want to recompile them back to a jar file. How do i do this?","title":"How do you recompile a jar file?","body":"<p>I took an old jar file and edited it. Now i have a folder that has all the files and I want to recompile them back to a jar file. How do i do this?</p>\n"},{"tags":["java","gradle","executable-jar","gradle-plugin","fatjar"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1645204206,"post_id":49278063,"comment_id":125817363,"body_markdown":"Does this answer your question? [Creating runnable JAR with Gradle](https://stackoverflow.com/questions/21721119/creating-runnable-jar-with-gradle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21721119/creating-runnable-jar-with-gradle\">Creating runnable JAR with Gradle</a>"}],"answers":[{"tags":[],"owner":{"account_id":6764799,"reputation":7550,"user_id":5210117,"display_name":"miskender"},"down_vote_count":2,"up_vote_count":129,"is_accepted":true,"score":127,"last_activity_date":1552942765,"creation_date":1521049285,"answer_id":49284432,"question_id":49278063,"body_markdown":"You can use the following code.\r\n\r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.package.YourClass&#39;\r\n            )\r\n        }\r\n    \tfrom {\r\n    \t    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    \t}\r\n     }\r\n\r\nBe sure to replace `com.package.YourClass` with the fully qualified class name containing `static void main( String args[] )`.\r\n\r\nThis will pack the runtime dependencies.  Check the [docs][1] if you need more info. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>You can use the following code.</p>\n\n<pre><code>jar {\n    manifest {\n        attributes(\n                'Main-Class': 'com.package.YourClass'\n        )\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n }\n</code></pre>\n\n<p>Be sure to replace <code>com.package.YourClass</code> with the fully qualified class name containing <code>static void main( String args[] )</code>.</p>\n\n<p>This will pack the runtime dependencies.  Check the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"noreferrer\">docs</a> if you need more info. </p>\n"},{"tags":[],"owner":{"account_id":1677047,"reputation":5886,"user_id":1542319,"accept_rate":100,"display_name":"Sergey Tselovalnikov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1629366919,"creation_date":1561206882,"answer_id":56715540,"question_id":49278063,"body_markdown":"The same task can be achieved using [Gradle Kotlin DSL][1] in a similar way:\r\n```kotlin\r\nval jar by tasks.getting(Jar::class) {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.package.YourClass&quot;\r\n    }\r\n\r\n    from(configurations\r\n        .runtime\r\n        // .get() // uncomment this on Gradle 6+\r\n        // .files\r\n        .map { if (it.isDirectory) it else zipTree(it) })\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>The same task can be achieved using <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"noreferrer\">Gradle Kotlin DSL</a> in a similar way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val jar by tasks.getting(Jar::class) {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.package.YourClass&quot;\n    }\n\n    from(configurations\n        .runtime\n        // .get() // uncomment this on Gradle 6+\n        // .files\n        .map { if (it.isDirectory) it else zipTree(it) })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1636742816,"creation_date":1586820113,"answer_id":61198352,"question_id":49278063,"body_markdown":"Based on the accepted answer, I needed to add one more line of code:\r\n\r\n    task fatJar(type: Jar) {\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.yourpackage.Main&#39;\r\n      }\r\n      archiveClassifier = &quot;all&quot;\r\n      from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n      with jar\r\n    }\r\n\r\nWithout this additional line, it omitted my source files and only added the dependencies:\r\n\r\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n\r\nFor newer gradle (7+), you may see this error:\r\n\r\n```\r\nExecution failed for task &#39;:fatJar&#39;.\r\n&gt; Entry [some entry here] is a duplicate but no duplicate handling strategy has been set. Please \r\nrefer to https://docs.gradle.org/7.1/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\r\n for details.\r\n```\r\n\r\nIf this happens add a `duplicatesStrategy` such as `duplicatesStrategy &quot;exclude&quot;` to the `fatJar` task.\r\n\r\nAnd likewise, for Gradle 7+, you have to just remove the `configuration.compile.collect` line because it is no longer a valid configuration in this version of gradle.","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Based on the accepted answer, I needed to add one more line of code:</p>\n<pre><code>task fatJar(type: Jar) {\n  manifest {\n    attributes 'Main-Class': 'com.yourpackage.Main'\n  }\n  archiveClassifier = &quot;all&quot;\n  from {\n    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n  with jar\n}\n</code></pre>\n<p>Without this additional line, it omitted my source files and only added the dependencies:</p>\n<pre><code>configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n</code></pre>\n<p>For newer gradle (7+), you may see this error:</p>\n<pre><code>Execution failed for task ':fatJar'.\n&gt; Entry [some entry here] is a duplicate but no duplicate handling strategy has been set. Please \nrefer to https://docs.gradle.org/7.1/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\n for details.\n</code></pre>\n<p>If this happens add a <code>duplicatesStrategy</code> such as <code>duplicatesStrategy &quot;exclude&quot;</code> to the <code>fatJar</code> task.</p>\n<p>And likewise, for Gradle 7+, you have to just remove the <code>configuration.compile.collect</code> line because it is no longer a valid configuration in this version of gradle.</p>\n"},{"tags":[],"owner":{"account_id":455161,"reputation":1236,"user_id":853191,"accept_rate":25,"display_name":"LiuWenbin_NO."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589172447,"creation_date":1589172447,"answer_id":61722467,"question_id":49278063,"body_markdown":"`from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }`\r\n\r\nThis line is essential to me.","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p><code>from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }</code></p>\n\n<p>This line is essential to me.</p>\n"},{"tags":[],"owner":{"account_id":3006498,"reputation":1368,"user_id":2550940,"accept_rate":0,"display_name":"gunslingor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597016847,"creation_date":1597016847,"answer_id":63332420,"question_id":49278063,"body_markdown":"Kotlin 1.3.72 &amp; JVM plugin, Gradle 6.5.1\r\n\r\nSyntax is changing quickly in all these platforms\r\n\r\n    tasks {\r\n        compileKotlin {\r\n            kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n        }\r\n        compileTestKotlin {\r\n            kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n        }\r\n        val main = sourceSets.main.get()\r\n        //TODO\r\n        register&lt;Jar&gt;(&quot;buildFatJar&quot;) {\r\n            group = &quot;app-backend&quot;\r\n            dependsOn(build)\r\n            // shouldRunAfter(parent!!.tasks[&quot;prepCopyJsBundleToKtor&quot;]) -&gt; This is for incorporating KotlinJS gradle subproject resulting js file.\r\n            manifest {\r\n                attributes[&quot;Main-Class&quot;] = &quot;com.app.app.BackendAppKt&quot;\r\n            }\r\n    \r\n            from(configurations.compileClasspath.get().files.map { if (it.isDirectory) it else zipTree(it) })\r\n            with(jar.get() as CopySpec)\r\n            archiveBaseName.set(&quot;${project.name}-fat&quot;)\r\n        }\r\n    }","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Kotlin 1.3.72 &amp; JVM plugin, Gradle 6.5.1</p>\n<p>Syntax is changing quickly in all these platforms</p>\n<pre><code>tasks {\n    compileKotlin {\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\n    }\n    compileTestKotlin {\n        kotlinOptions.jvmTarget = &quot;1.8&quot;\n    }\n    val main = sourceSets.main.get()\n    //TODO\n    register&lt;Jar&gt;(&quot;buildFatJar&quot;) {\n        group = &quot;app-backend&quot;\n        dependsOn(build)\n        // shouldRunAfter(parent!!.tasks[&quot;prepCopyJsBundleToKtor&quot;]) -&gt; This is for incorporating KotlinJS gradle subproject resulting js file.\n        manifest {\n            attributes[&quot;Main-Class&quot;] = &quot;com.app.app.BackendAppKt&quot;\n        }\n\n        from(configurations.compileClasspath.get().files.map { if (it.isDirectory) it else zipTree(it) })\n        with(jar.get() as CopySpec)\n        archiveBaseName.set(&quot;${project.name}-fat&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1644690625,"creation_date":1644690625,"answer_id":71094727,"question_id":49278063,"body_markdown":"previous answers are a little outdated nowadays, see here for something working with gradle-7.4:\r\nhttps://stackoverflow.com/questions/41794914/how-to-create-a-fat-jar-with-gradle-kotlin-script\r\n\r\n    tasks.jar {\r\n        manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n        val dependencies = configurations\r\n            .runtimeClasspath\r\n            .get()\r\n            .map(::zipTree) // OR .map { zipTree(it) }\r\n        from(dependencies)\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    }\r\n\r\n","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>previous answers are a little outdated nowadays, see here for something working with gradle-7.4:\n<a href=\"https://stackoverflow.com/questions/41794914/how-to-create-a-fat-jar-with-gradle-kotlin-script\">How to create a fat JAR with Gradle Kotlin script?</a></p>\n<pre><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651650973,"creation_date":1645204078,"answer_id":71177335,"question_id":49278063,"body_markdown":"Here I provide solutions for [Kotlin DSL][1] (build.gradle.kts).  \r\nNote that the first 3 methods modify the existing `Jar` task of Gradle.\r\n\r\n### Method 1: Placing library files beside the result JAR\r\nThis method does not need `application` or any other plugins.\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .joinToString(separator = &quot; &quot;) { file -&gt;\r\n            &quot;libs/${file.name}&quot;\r\n        }\r\n}\r\n```\r\n\r\nNote that Java requires us to use relative URLs for the `Class-Path` attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe [this workaround][2] will work.\r\n\r\nCreate the JAR with the following command:\r\n\r\n```shell\r\n./gradlew jar\r\n```\r\n\r\nThe result JAR will be created in *build/libs/* directory by default.\r\n\r\nAfter creating your JAR, copy your library JARs in *libs/* sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name (their file name should match the one specified by `${file.name}` variable above in the task).\r\n\r\n### Method 2: Embedding the libraries in the result JAR (fat or uber JAR)\r\n\r\nThis method too does not need any Gradle plugin.\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree) // OR .map { zipTree(it) }\r\n    from(dependencies)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\nCreating the JAR is exactly the same as the previous method.\r\n\r\n### Method 3: Using the [Shadow plugin][3] (to create a fat or uber JAR)\r\n\r\n```kotlin\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\r\n}\r\n// Shadow task depends on Jar task, so these configs are reflected for Shadow as well\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\r\n}\r\n```\r\n\r\nCreate the JAR with this command:\r\n\r\n```shell\r\n./gradlew shadowJar\r\n```\r\n\r\nSee [Shadow documentations][4] for more information about configuring the plugin.\r\n\r\n### Method 4: Creating a new task (instead of modifying the `Jar` task)\r\n\r\n```kotlin\r\ntasks.create(&quot;MyFatJar&quot;, Jar::class) {\r\n    group = &quot;my tasks&quot; // OR, for example, &quot;build&quot;\r\n    description = &quot;Creates a self-contained fat JAR of the application that can be run.&quot;\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree)\r\n    from(dependencies)\r\n    with(tasks.jar.get())\r\n}\r\n```\r\n\r\n# Running the created JAR\r\n\r\n```shell\r\njava -jar my-artifact.jar\r\n```\r\n\r\nThe above solutions were tested with:\r\n  - Java 17\r\n  - Gradle 7.1 (which uses Kotlin 1.4.31 for *.kts* build scripts)\r\n\r\nSee the official [Gradle documentation for creating uber (fat) JARs][5].\r\n\r\nFor more information about manifests, see [Oracle Java Documentation: Working with Manifest files](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).\r\n\r\nFor difference between `tasks.create()` and `tasks.register()` see [this post](https://stackoverflow.com/a/53654412/8583692).\r\n\r\nNote that your [resource files will be included in the JAR file automatically][6] (assuming they were placed in */src/main/resources/* directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the `/` at the start of names):\r\n\r\n  - Kotlin\r\n    ```kotlin\r\n    val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // Alternative ways:\r\n    // val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    // val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    ```\r\n  - Java\r\n    ```java\r\n    var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\r\n    // OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\r\n\r\n    var reader = new BufferedReader(new InputStreamReader(stream));\r\n    var vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    ```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n  [2]: https://stackoverflow.com/q/47961942/8583692\r\n  [3]: https://github.com/johnrengelman/shadow\r\n  [4]: https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\r\n  [5]: https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\r\n  [6]: https://stackoverflow.com/q/24724383/8583692","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>Here I provide solutions for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts).<br />\nNote that the first 3 methods modify the existing <code>Jar</code> task of Gradle.</p>\n<h3>Method 1: Placing library files beside the result JAR</h3>\n<p>This method does not need <code>application</code> or any other plugins.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\n        .runtimeClasspath\n        .get()\n        .joinToString(separator = &quot; &quot;) { file -&gt;\n            &quot;libs/${file.name}&quot;\n        }\n}\n</code></pre>\n<p>Note that Java requires us to use relative URLs for the <code>Class-Path</code> attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe <a href=\"https://stackoverflow.com/q/47961942/8583692\">this workaround</a> will work.</p>\n<p>Create the JAR with the following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew jar\n</code></pre>\n<p>The result JAR will be created in <em>build/libs/</em> directory by default.</p>\n<p>After creating your JAR, copy your library JARs in <em>libs/</em> sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name (their file name should match the one specified by <code>${file.name}</code> variable above in the task).</p>\n<h3>Method 2: Embedding the libraries in the result JAR (fat or uber JAR)</h3>\n<p>This method too does not need any Gradle plugin.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>Creating the JAR is exactly the same as the previous method.</p>\n<h3>Method 3: Using the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Shadow plugin</a> (to create a fat or uber JAR)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\n}\n// Shadow task depends on Jar task, so these configs are reflected for Shadow as well\ntasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\n}\n</code></pre>\n<p>Create the JAR with this command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew shadowJar\n</code></pre>\n<p>See <a href=\"https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\" rel=\"nofollow noreferrer\">Shadow documentations</a> for more information about configuring the plugin.</p>\n<h3>Method 4: Creating a new task (instead of modifying the <code>Jar</code> task)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.create(&quot;MyFatJar&quot;, Jar::class) {\n    group = &quot;my tasks&quot; // OR, for example, &quot;build&quot;\n    description = &quot;Creates a self-contained fat JAR of the application that can be run.&quot;\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree)\n    from(dependencies)\n    with(tasks.jar.get())\n}\n</code></pre>\n<h1>Running the created JAR</h1>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar my-artifact.jar\n</code></pre>\n<p>The above solutions were tested with:</p>\n<ul>\n<li>Java 17</li>\n<li>Gradle 7.1 (which uses Kotlin 1.4.31 for <em>.kts</em> build scripts)</li>\n</ul>\n<p>See the official <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\" rel=\"nofollow noreferrer\">Gradle documentation for creating uber (fat) JARs</a>.</p>\n<p>For more information about manifests, see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation: Working with Manifest files</a>.</p>\n<p>For difference between <code>tasks.create()</code> and <code>tasks.register()</code> see <a href=\"https://stackoverflow.com/a/53654412/8583692\">this post</a>.</p>\n<p>Note that your <a href=\"https://stackoverflow.com/q/24724383/8583692\">resource files will be included in the JAR file automatically</a> (assuming they were placed in <em>/src/main/resources/</em> directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the <code>/</code> at the start of names):</p>\n<ul>\n<li>Kotlin\n<pre class=\"lang-kotlin prettyprint-override\"><code>val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\n// Alternative ways:\n// val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\n// val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n// val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n</code></pre>\n</li>\n<li>Java\n<pre class=\"lang-java prettyprint-override\"><code>var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\n// OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\n\nvar reader = new BufferedReader(new InputStreamReader(stream));\nvar vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661417801,"creation_date":1661417801,"answer_id":73484660,"question_id":49278063,"body_markdown":"    mainClassName = &#39;Main&#39;\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs &#39;src/main/java&#39;, &#39;src/main/resources&#39;\r\n            }\r\n        }\r\n    }\r\n    jar{\r\n        manifest {\r\n            attributes(\r\n                    &quot;Main-Class&quot;: &quot;$mainClassName&quot;,\r\n    \r\n            )\r\n    \r\n        }\r\n        from {\r\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) \r\n             }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;,&#39;META-INF/*.DSA&#39;\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        dependsOn (&#39;dependencies&#39;)\r\n    }","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<pre><code>mainClassName = 'Main'\nsourceSets {\n    main {\n        java {\n            srcDirs 'src/main/java', 'src/main/resources'\n        }\n    }\n}\njar{\n    manifest {\n        attributes(\n                &quot;Main-Class&quot;: &quot;$mainClassName&quot;,\n\n        )\n\n    }\n    from {\nconfigurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) \n         }\n    }\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    dependsOn ('dependencies')\n}\n</code></pre>\n"}],"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73181,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":49284432,"answer_count":8,"score":81,"last_activity_date":1661417801,"creation_date":1521031242,"question_id":49278063,"body_markdown":"I&#39;ve got a simple project in Gradle 4.6 and would like to make an executable JAR of it. I&#39;ve tried `shadow`, `gradle-fatjar-plugin`, `gradle-one-jar`, `spring-boot-gradle-plugin` plugins but neither of them adds my dependencies declared as `implementation` (I don&#39;t have any `compile` ones). It works with `compile` e.g. for `gradle-one-jar` plugin but I would like to have `implementation` dependencies.\r\n","title":"How do I create an executable fat JAR with Gradle with implementation dependencies?","body":"<p>I've got a simple project in Gradle 4.6 and would like to make an executable JAR of it. I've tried <code>shadow</code>, <code>gradle-fatjar-plugin</code>, <code>gradle-one-jar</code>, <code>spring-boot-gradle-plugin</code> plugins but neither of them adds my dependencies declared as <code>implementation</code> (I don't have any <code>compile</code> ones). It works with <code>compile</code> e.g. for <code>gradle-one-jar</code> plugin but I would like to have <code>implementation</code> dependencies.</p>\n"},{"tags":["java","jar","decompiling","recompile"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612169,"post_id":64734289,"comment_id":124396500,"body_markdown":"*&quot;How exactly is this relevant?&quot;* - It is relevant to you because you don&#39;t want changes that alter the behavior of the JAR in unexpected / unwanted ways.  There are circumstances where recompiling (e.g. with a different classpath) can materially change the behavior of a class.   And since you are compiling decompiled code, there is the additional problem that the decompiled code may not be a correct decompilation of the original.  (That&#39;s actually quite common ...)","body":"<i>&quot;How exactly is this relevant?&quot;</i> - It is relevant to you because you don&#39;t want changes that alter the behavior of the JAR in unexpected / unwanted ways.  There are circumstances where recompiling (e.g. with a different classpath) can materially change the behavior of a class.   And since you are compiling decompiled code, there is the additional problem that the decompiled code may not be a correct decompilation of the original.  (That&#39;s actually quite common ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612358,"post_id":64734289,"comment_id":124396540,"body_markdown":"*&quot;What exactly would be the reason to sign a Jar file anyway?&quot;* - It allows the person running the JAR to detect whether the JAR has been tampered with.","body":"<i>&quot;What exactly would be the reason to sign a Jar file anyway?&quot;</i> - It allows the person running the JAR to detect whether the JAR has been tampered with."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639612674,"post_id":64734289,"comment_id":124396598,"body_markdown":"Note: people are not notified if you put an @ping in your question.  It needs to be in a comment to trigger a notification.  Preferably a comment **on the answer** if you are asking for clarification on the answer.  (You won&#39;t necessarily get a response anyway ... but that&#39;s another issue.  Remember: this is NOT a help-desk where people are PAID to answer your questions.)","body":"Note: people are not notified if you put an @ping in your question.  It needs to be in a comment to trigger a notification.  Preferably a comment <b>on the answer</b> if you are asking for clarification on the answer.  (You won&#39;t necessarily get a response anyway ... but that&#39;s another issue.  Remember: this is NOT a help-desk where people are PAID to answer your questions.)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604803797,"creation_date":1604803436,"answer_id":64734353,"question_id":64734289,"body_markdown":"If you are asking how to create a JAR:\r\n\r\n  - You can do it using a build tool such as Maven, Gradle, Ant and so on.\r\n  - You can do it using a Java IDE\r\n  - You can do it using the command line `jar` tool; see [How to create a JAR file][1] from the official Oracle Java tutorials.\r\n\r\nBut it there is no guarantee that what you are doing will actually work.  Here are a couple of the problems.\r\n\r\n  - If the original JAR file was signed, you won&#39;t be able to re-sign the new JAR ... unless you have the private key that was used when signing.  \r\n\r\n  - Decompilation is often inaccurate.  There is no guarantee that the Java code that it produces is a correct representation of the original class. Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file *could* have unexpected / unwanted differences relative to the original. \r\n\r\n------------------------\r\n\r\n&gt; I guess that I have to add the libraries, but there is no extra lib directory.\r\n\r\nI&#39;m not sure what you mean by that.  The (new) dependencies of the JAR don&#39;t necessarily need to be in the JAR itself.  It depends on what kind of JAR it is; e.g. is it a so-called &quot;executable&quot; JAR that you launch using `java -jar my.jar ...`.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/build.html","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>If you are asking how to create a JAR:</p>\n<ul>\n<li>You can do it using a build tool such as Maven, Gradle, Ant and so on.</li>\n<li>You can do it using a Java IDE</li>\n<li>You can do it using the command line <code>jar</code> tool; see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">How to create a JAR file</a> from the official Oracle Java tutorials.</li>\n</ul>\n<p>But it there is no guarantee that what you are doing will actually work.  Here are a couple of the problems.</p>\n<ul>\n<li><p>If the original JAR file was signed, you won't be able to re-sign the new JAR ... unless you have the private key that was used when signing.</p>\n</li>\n<li><p>Decompilation is often inaccurate.  There is no guarantee that the Java code that it produces is a correct representation of the original class. Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file <em>could</em> have unexpected / unwanted differences relative to the original.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>I guess that I have to add the libraries, but there is no extra lib directory.</p>\n</blockquote>\n<p>I'm not sure what you mean by that.  The (new) dependencies of the JAR don't necessarily need to be in the JAR itself.  It depends on what kind of JAR it is; e.g. is it a so-called &quot;executable&quot; JAR that you launch using <code>java -jar my.jar ...</code>.</p>\n"},{"tags":[],"owner":{"account_id":9069067,"reputation":317,"user_id":6752956,"display_name":"M B"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604853280,"creation_date":1604853280,"answer_id":64740486,"question_id":64734289,"body_markdown":"If you are missing dependencies after decompiling the entire jar, that could mean the jar did not include them. When you create a jar, you can choose not to include dependencies in it, but this assumes that they will be available on the classpath at runtime. Check if there are any relationships with other jar files on the classpath when you run the original jar. See [this answer][1] for details on how to achieve this. Once you have identified all the dependencies, you can easily compile the jar from an IDE such as [IntelliJ][2]/[Eclipse][3] or from [command line][4].\r\n\r\nAs a side note, if the changes you would like to make to the jar are minor or isolated I recommend editing the bytecode (much easier for small edits). I prefer [this bytecode editor][5].\r\n\r\nIf decompilation fails on some parts of the code, the functionality of the jar will not be restored upon recompilation. In this case, instead of going through all available decompilers and hoping that you can decompile that code, I suggest you identify the set of classes which you are trying to edit, modify the rest of the classes such that they compile and do not have any side effects on the classes which are of interest to you (do not delete anything that is referenced by these) and compile the jar (even if this isn&#39;t the jar you want). You can then [extract][6] only the class files which you wanted to modify from the jar, and [overwrite][7] them in the original jar. This will only work if your changes didn&#39;t have any side effects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2548408/6752956\r\n  [2]: https://www.jetbrains.com/help/idea/compiling-applications.html#build_artifact\r\n  [3]: https://stackoverflow.com/a/21110972/6752956\r\n  [4]: https://dzone.com/articles/java-8-how-to-create-executable-fatjar-without-ide\r\n  [5]: https://github.com/Col-E/Recaf\r\n  [6]: https://docs.oracle.com/javase/tutorial/deployment/jar/unpack.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/deployment/jar/update.html","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>If you are missing dependencies after decompiling the entire jar, that could mean the jar did not include them. When you create a jar, you can choose not to include dependencies in it, but this assumes that they will be available on the classpath at runtime. Check if there are any relationships with other jar files on the classpath when you run the original jar. See <a href=\"https://stackoverflow.com/a/2548408/6752956\">this answer</a> for details on how to achieve this. Once you have identified all the dependencies, you can easily compile the jar from an IDE such as <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#build_artifact\" rel=\"noreferrer\">IntelliJ</a>/<a href=\"https://stackoverflow.com/a/21110972/6752956\">Eclipse</a> or from <a href=\"https://dzone.com/articles/java-8-how-to-create-executable-fatjar-without-ide\" rel=\"noreferrer\">command line</a>.</p>\n<p>As a side note, if the changes you would like to make to the jar are minor or isolated I recommend editing the bytecode (much easier for small edits). I prefer <a href=\"https://github.com/Col-E/Recaf\" rel=\"noreferrer\">this bytecode editor</a>.</p>\n<p>If decompilation fails on some parts of the code, the functionality of the jar will not be restored upon recompilation. In this case, instead of going through all available decompilers and hoping that you can decompile that code, I suggest you identify the set of classes which you are trying to edit, modify the rest of the classes such that they compile and do not have any side effects on the classes which are of interest to you (do not delete anything that is referenced by these) and compile the jar (even if this isn't the jar you want). You can then <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/unpack.html\" rel=\"noreferrer\">extract</a> only the class files which you wanted to modify from the jar, and <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/update.html\" rel=\"noreferrer\">overwrite</a> them in the original jar. This will only work if your changes didn't have any side effects.</p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417754,"creation_date":1661417754,"answer_id":73484652,"question_id":64734289,"body_markdown":"Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.\r\n\r\nIn my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.\r\n\r\nI started from the [answer][1] from [Paulo Ebermann][2] on a similar [question][3], and I ended up with:\r\n\r\n    javac -source 8 -target 8 -d classdir -cp \\\r\n    &quot;\\\r\n    path/to/dep1.jar; \\\r\n    path/to/dep2.jar; \\\r\n    path/to/myoriginal.jar \\\r\n    &quot; path/to/my/java/class.java\r\n    \r\n    cd classdir\r\n    jar -uf path/to/myoriginal.jar path/to/my/java/class.class\r\n\r\nNotes:\r\n- the ```path/to/myoriginal.jar``` which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the ```.``` path in the list of class paths\r\n- the ```-source 8 -target 8``` which were required to force the class to compile for the appropriate version of the runtime machine.\r\n- the ```-uf``` which indicates that the jar tool should only update the file with the provided class\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6604403/2881888\r\n  [2]: https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\r\n  [3]: https://stackoverflow.com/q/6604097/2881888","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.</p>\n<p>In my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.</p>\n<p>I started from the <a href=\"https://stackoverflow.com/a/6604403/2881888\">answer</a> from <a href=\"https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\">Paulo Ebermann</a> on a similar <a href=\"https://stackoverflow.com/q/6604097/2881888\">question</a>, and I ended up with:</p>\n<pre><code>javac -source 8 -target 8 -d classdir -cp \\\n&quot;\\\npath/to/dep1.jar; \\\npath/to/dep2.jar; \\\npath/to/myoriginal.jar \\\n&quot; path/to/my/java/class.java\n\ncd classdir\njar -uf path/to/myoriginal.jar path/to/my/java/class.class\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>the <code>path/to/myoriginal.jar</code> which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the <code>.</code> path in the list of class paths</li>\n<li>the <code>-source 8 -target 8</code> which were required to force the class to compile for the appropriate version of the runtime machine.</li>\n<li>the <code>-uf</code> which indicates that the jar tool should only update the file with the provided class</li>\n</ul>\n"}],"owner":{"account_id":6774790,"reputation":69,"user_id":5216961,"display_name":"TestModus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661417754,"creation_date":1604802399,"question_id":64734289,"body_markdown":"\r\nI have an older Jar file which I have to modify in order to get it to work.\r\nI have already decompiled it with jd-gui and changed the parts that needed change. I would now like to know what I have to do in order to get a jar back? \r\nI guess that I have to add the libraries, but there is no extra lib directory.\r\n\r\nHow do I put everything together?\r\n\r\n\r\n@Stephen C\r\n&quot;Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file could have unexpected &quot;\r\nHow exactly is this relevant? I only want the function of the Jar file and not a 1:1 copy of it.\r\n\r\nThe Jar file is unsigned. What exactly would be the reason to sign a Jar file anyway? If I start it from another program?","title":"Decompile JAR, Modify it, Recompile again?","body":"<p>I have an older Jar file which I have to modify in order to get it to work.\nI have already decompiled it with jd-gui and changed the parts that needed change. I would now like to know what I have to do in order to get a jar back?\nI guess that I have to add the libraries, but there is no extra lib directory.</p>\n<p>How do I put everything together?</p>\n<p>@Stephen C\n&quot;Therefore, when you make your changes and recompile, the resulting &quot;.class&quot; file could have unexpected &quot;\nHow exactly is this relevant? I only want the function of the Jar file and not a 1:1 copy of it.</p>\n<p>The Jar file is unsigned. What exactly would be the reason to sign a Jar file anyway? If I start it from another program?</p>\n"},{"tags":["java","coldfusion","fileinputstream"],"comments":[{"owner":{"account_id":4329392,"reputation":3542,"user_id":3535297,"display_name":"haxtbh"},"score":1,"creation_date":1661416024,"post_id":73481587,"comment_id":129768463,"body_markdown":"When you say the issue went away after the hotfix was applied and came back, did you update the CF instance in this time? Updating CF will remove the hotfixes they provide, double check it&#39;s still being loaded in.","body":"When you say the issue went away after the hotfix was applied and came back, did you update the CF instance in this time? Updating CF will remove the hotfixes they provide, double check it&#39;s still being loaded in."},{"owner":{"account_id":26154842,"reputation":21,"user_id":19842206,"display_name":"user19842206"},"score":0,"creation_date":1661417077,"post_id":73481587,"comment_id":129768904,"body_markdown":"Yup I&#39;ve check on that and it is intact.","body":"Yup I&#39;ve check on that and it is intact."}],"owner":{"account_id":26154842,"reputation":21,"user_id":19842206,"display_name":"user19842206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661417664,"creation_date":1661398485,"question_id":73481587,"body_markdown":"My company is using Coldfusion 2018 (updated with latest patch Update 14) running on windows server 2019.\r\n\r\nLately it kept getting into the issue of intermittent down time which the client will see Error 503 service unavailable, but the service is still running.\r\n\r\nChecking in FusionReactor I notice the active request is peaked at 256 and seems like any new request that came in after that will be responded with error 503 until all the existing request is resolved.\r\n\r\n[Image from FusionReactor web request activity. Light green indicating the number of running requests.][1]\r\n\r\nFrom the thread dump, I also notice that most of the thread stuck on reading files, and on this particular FileInputStream.readBytes method or SocketInputStream.socketRead0 method.\r\n\r\n    &quot;ajp-nio-127.0.0.1-8018-exec-672&quot; Id=6054 in RUNNABLE (running in native)\r\n    java.lang.Thread.State: RUNNABLE\r\n     prio=5 blockedtime=3771 blockedcount=3780 waitedtime=4599268 waitedcount=6229\r\n        at java.base@11.0.16/java.io.FileInputStream.readBytes(Native Method)\r\n        at java.base@11.0.16/java.io.FileInputStream.read(FileInputStream.java:279)\r\n        at java.base@11.0.16/java.io.BufferedInputStream.read1(BufferedInputStream.java:290)\r\n        at java.base@11.0.16/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n        at coldfusion.tagext.net.ContentTag.doStartTag(ContentTag.java:264)\r\n        at coldfusion.runtime.CfJspPage._emptyTcfTag(CfJspPage.java:4329)\r\n\r\n    &quot;ajp-nio-127.0.0.1-8018-exec-556&quot; Id=2815 in RUNNABLE (running in native)\r\n     java.lang.Thread.State: RUNNABLE\r\n     prio=5 blockedtime=7179 blockedcount=6734 waitedtime=11790236 waitedcount=10845\r\n        at java.base@11.0.16/java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.base@11.0.16/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n        at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n        at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\r\nAlso by tracing the thread dump, we located the code that it is stuck at:\r\n\r\n    &lt;cfif type IS &quot;JPG&quot; OR type IS &quot;JPE&quot; OR type IS &quot;JPEG&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/jpeg&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;GIF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/gif&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;PNG&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/x-png&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;TIF&quot; or type IS &quot;TIFF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;image/tiff&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelseif type IS &quot;PDF&quot;&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;application/pdf&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;cfelse&gt;\r\n\t\t\t\t&lt;cfcontent reset=&quot;yes&quot; type=&quot;text/plain&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\r\n\t\t\t&lt;/CFIF&gt;\r\n\r\nThis chunk of code we have not done anything new to it for quite some time and it has been working well for a long time.\r\n\r\nWe tried contacting Adobe ColdFusion support, which took them a while and they provide us with a hotfix file named &quot;hf201800-4212487&quot;. After applying the hotfix, the issue did went away for a while until recently the issue happens again.\r\n\r\nOther method that I&#39;ve tried including changing the number of concurrent thread, increase the number of cached template, upgrading java from java version 11.0.8 to 11.0.16, but nothing really helps.\r\n\r\nJust curious if anyone happens to faced similar issue or have any solution for it.\r\n\r\nEdit :\r\n\r\nHere is some screen shot of latest thread dump uploaded to fastthread.io for visualization\r\n[![Summary][2]][2]\r\n\r\n[![Summary 2][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/89Pq8.png\r\n  [2]: https://i.stack.imgur.com/aTfvD.png\r\n  [3]: https://i.stack.imgur.com/ovcb3.png","title":"Coldfusion request stuck at FileInputStream","body":"<p>My company is using Coldfusion 2018 (updated with latest patch Update 14) running on windows server 2019.</p>\n<p>Lately it kept getting into the issue of intermittent down time which the client will see Error 503 service unavailable, but the service is still running.</p>\n<p>Checking in FusionReactor I notice the active request is peaked at 256 and seems like any new request that came in after that will be responded with error 503 until all the existing request is resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/89Pq8.png\" rel=\"nofollow noreferrer\">Image from FusionReactor web request activity. Light green indicating the number of running requests.</a></p>\n<p>From the thread dump, I also notice that most of the thread stuck on reading files, and on this particular FileInputStream.readBytes method or SocketInputStream.socketRead0 method.</p>\n<pre><code>&quot;ajp-nio-127.0.0.1-8018-exec-672&quot; Id=6054 in RUNNABLE (running in native)\njava.lang.Thread.State: RUNNABLE\n prio=5 blockedtime=3771 blockedcount=3780 waitedtime=4599268 waitedcount=6229\n    at java.base@11.0.16/java.io.FileInputStream.readBytes(Native Method)\n    at java.base@11.0.16/java.io.FileInputStream.read(FileInputStream.java:279)\n    at java.base@11.0.16/java.io.BufferedInputStream.read1(BufferedInputStream.java:290)\n    at java.base@11.0.16/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at coldfusion.tagext.net.ContentTag.doStartTag(ContentTag.java:264)\n    at coldfusion.runtime.CfJspPage._emptyTcfTag(CfJspPage.java:4329)\n\n&quot;ajp-nio-127.0.0.1-8018-exec-556&quot; Id=2815 in RUNNABLE (running in native)\n java.lang.Thread.State: RUNNABLE\n prio=5 blockedtime=7179 blockedcount=6734 waitedtime=11790236 waitedcount=10845\n    at java.base@11.0.16/java.net.SocketInputStream.socketRead0(Native Method)\n    at java.base@11.0.16/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\n    at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:168)\n    at java.base@11.0.16/java.net.SocketInputStream.read(SocketInputStream.java:140)\n</code></pre>\n<p>Also by tracing the thread dump, we located the code that it is stuck at:</p>\n<pre><code>&lt;cfif type IS &quot;JPG&quot; OR type IS &quot;JPE&quot; OR type IS &quot;JPEG&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/jpeg&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;GIF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/gif&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;PNG&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/x-png&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;TIF&quot; or type IS &quot;TIFF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;image/tiff&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelseif type IS &quot;PDF&quot;&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;application/pdf&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;cfelse&gt;\n            &lt;cfcontent reset=&quot;yes&quot; type=&quot;text/plain&quot; file=&quot;#FNAME#&quot; deletefile=&quot;no&quot;&gt;\n        &lt;/CFIF&gt;\n</code></pre>\n<p>This chunk of code we have not done anything new to it for quite some time and it has been working well for a long time.</p>\n<p>We tried contacting Adobe ColdFusion support, which took them a while and they provide us with a hotfix file named &quot;hf201800-4212487&quot;. After applying the hotfix, the issue did went away for a while until recently the issue happens again.</p>\n<p>Other method that I've tried including changing the number of concurrent thread, increase the number of cached template, upgrading java from java version 11.0.8 to 11.0.16, but nothing really helps.</p>\n<p>Just curious if anyone happens to faced similar issue or have any solution for it.</p>\n<p>Edit :</p>\n<p>Here is some screen shot of latest thread dump uploaded to fastthread.io for visualization\n<a href=\"https://i.stack.imgur.com/aTfvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTfvD.png\" alt=\"Summary\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ovcb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovcb3.png\" alt=\"Summary 2\" /></a></p>\n"},{"tags":["java","spring-boot","openapi","redoc","api-documentation"],"answers":[{"tags":[],"owner":{"account_id":26156523,"reputation":61,"user_id":19843711,"display_name":"cr0ow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661417614,"creation_date":1661417614,"answer_id":73484621,"question_id":73483777,"body_markdown":"As I know, default location for HTML files in Spring Boot project is `resources/templates`. \r\n######\r\nI suggest to move your `Redoc-Integrate.html` file to this directory and it should work.\r\n###### \r\nAlternatively, you can return a relative path, starting from `resources/templates`. In this case: &quot;../static/Redoc-Integrate.html&quot;.\r\n","title":"spring boot API giving 404 when changing endpoint name","body":"<p>As I know, default location for HTML files in Spring Boot project is <code>resources/templates</code>.</p>\n<h6></h6>\n<p>I suggest to move your <code>Redoc-Integrate.html</code> file to this directory and it should work.</p>\n<h6></h6>\n<p>Alternatively, you can return a relative path, starting from <code>resources/templates</code>. In this case: &quot;../static/Redoc-Integrate.html&quot;.</p>\n"}],"owner":{"account_id":16371844,"reputation":41,"user_id":11824960,"display_name":"divine forever "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73484621,"answer_count":1,"score":0,"last_activity_date":1661417614,"creation_date":1661413876,"question_id":73483777,"body_markdown":"I am returning the HTML page located in the resources/static folder.\r\nBut, if it&#39;s like a single slash, it&#39;s working fine, giving me the HTML content. But when there is multiple slash added to the path its giving 404.\r\n```\r\n@Controller\r\n@RequestMapping(value = &quot;/api-documentation&quot;)\r\npublic class ApiDocumentationController {\r\n\r\n    @GetMapping\r\n    String gotoRedocUi(){\r\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\r\n    }\r\n}\r\n\r\n```\r\nAbove is working code for controller\r\n```\r\n@Controller\r\n@RequestMapping(value = &quot;/api-documentation&quot;)\r\npublic class ApiDocumentationController {\r\n\r\n    @GetMapping(/some/more/value)\r\n    String gotoRedocUi(){\r\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\r\n    }\r\n}\r\n\r\n```\r\nWhile this gives 404.\r\neven if i dont declare @getmapping, similar issues happen for @requestmapping, i.e on adding more like /api-docume.../some/... it gives 404. Like I know its about error while changing name, but had tried many things still not getting whats wrong, any help would be appreciated.\r\nAlso Is there any other way to throw HTML if only requestmapping with above working name type would only work?","title":"spring boot API giving 404 when changing endpoint name","body":"<p>I am returning the HTML page located in the resources/static folder.\nBut, if it's like a single slash, it's working fine, giving me the HTML content. But when there is multiple slash added to the path its giving 404.</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/api-documentation&quot;)\npublic class ApiDocumentationController {\n\n    @GetMapping\n    String gotoRedocUi(){\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\n    }\n}\n\n</code></pre>\n<p>Above is working code for controller</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/api-documentation&quot;)\npublic class ApiDocumentationController {\n\n    @GetMapping(/some/more/value)\n    String gotoRedocUi(){\n        return &quot;Redoc-Integrate.html&quot;; // return html file defined in resources/static.\n    }\n}\n\n</code></pre>\n<p>While this gives 404.\neven if i dont declare @getmapping, similar issues happen for @requestmapping, i.e on adding more like /api-docume.../some/... it gives 404. Like I know its about error while changing name, but had tried many things still not getting whats wrong, any help would be appreciated.\nAlso Is there any other way to throw HTML if only requestmapping with above working name type would only work?</p>\n"},{"tags":["java","jar","javac"],"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1309998979,"post_id":6604097,"comment_id":7794271,"body_markdown":"Also, make sure it is actually legal to do something like this where you live (respectively by the licence you agreed to when you got the jar file).","body":"Also, make sure it is actually legal to do something like this where you live (respectively by the licence you agreed to when you got the jar file)."},{"owner":{"account_id":778809,"reputation":281,"user_id":832557,"display_name":"sandy"},"score":0,"creation_date":1310026231,"post_id":6604097,"comment_id":7798065,"body_markdown":"Thanks alot for your help, this is just free app which i tried to fix some error.","body":"Thanks alot for your help, this is just free app which i tried to fix some error."},{"owner":{"account_id":334885,"reputation":21589,"user_id":661624,"accept_rate":72,"display_name":"Henley Wing Chiu"},"score":12,"creation_date":1381953547,"post_id":6604097,"comment_id":28776733,"body_markdown":"WHY YOU PEOPLE DOWNVOTE. CRAZIES","body":"WHY YOU PEOPLE DOWNVOTE. CRAZIES"}],"answers":[{"tags":[],"owner":{"account_id":439763,"reputation":2046,"user_id":828918,"display_name":"Moe Matar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309997484,"creation_date":1309996106,"answer_id":6604331,"question_id":6604097,"body_markdown":"In General, to compile Java Code into classes you need the `javac` executable that comes with the JDK.\r\n\r\nUnix:\r\n\r\n    ${JAVA_HOME}/bin/javac -d OUTPUT_DIRECTORY SOURCE_FILES\r\n\r\nWindows:\r\n\r\n    %JAVA_HOME%\\bin\\javac.exe -d OUTPUT_DIRECTORY SOURCE_FILES\r\n\r\nOnce you&#39;ve compiled the code, you can create the jar (which is a zip file that contains all the classes and some meta-data about the creator, version, ...etc).\r\n\r\n    ${JAVA_HOME}/bin/jar cf output.jar INPUT_FILES\r\n\r\nYou can read more about the different options you can use with [javac][1] and [jar][2]. Using a tool like ant makes it easier to compile source code and create jars. See the [javac][3] and the [jar][4] tasks.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\r\n  [2]: http://java.sun.com/developer/Books/javaprogramming/JAR/basics/build.html\r\n  [3]: http://ant.apache.org/manual/Tasks/javac.html\r\n  [4]: http://ant.apache.org/manual/Tasks/jar.html","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>In General, to compile Java Code into classes you need the <code>javac</code> executable that comes with the JDK.</p>\n\n<p>Unix:</p>\n\n<pre><code>${JAVA_HOME}/bin/javac -d OUTPUT_DIRECTORY SOURCE_FILES\n</code></pre>\n\n<p>Windows:</p>\n\n<pre><code>%JAVA_HOME%\\bin\\javac.exe -d OUTPUT_DIRECTORY SOURCE_FILES\n</code></pre>\n\n<p>Once you've compiled the code, you can create the jar (which is a zip file that contains all the classes and some meta-data about the creator, version, ...etc).</p>\n\n<pre><code>${JAVA_HOME}/bin/jar cf output.jar INPUT_FILES\n</code></pre>\n\n<p>You can read more about the different options you can use with <a href=\"http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\" rel=\"nofollow\">javac</a> and <a href=\"http://java.sun.com/developer/Books/javaprogramming/JAR/basics/build.html\" rel=\"nofollow\">jar</a>. Using a tool like ant makes it easier to compile source code and create jars. See the <a href=\"http://ant.apache.org/manual/Tasks/javac.html\" rel=\"nofollow\">javac</a> and the <a href=\"http://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow\">jar</a> tasks.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1309996808,"creation_date":1309996808,"answer_id":6604403,"question_id":6604097,"body_markdown":"You need a Java Development Kit (JDK). This includes a Java compiler (usually named `javac`), and an jar archiver. \r\n\r\nAssuming you have the java files in a directory names `src` (then according to their package structure), you would use\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    javac -d classdir -sourcepath src src/*.java src/*/*.java src/*/*/*.java ...\r\n\r\nto compile all files. (Adjust the number of * to the number of directory levels. If you only have some folders with source files in them, you can also list them individually. If some classes depend on others, you can ommit the others, the compiler will find and compile them automatically.)\r\n\r\nIf the program needs external libraries, provide these with a `-classpath` argument.\r\n\r\nNow we have all compiled classes in the directory `classdir`. Look into your original jar file: any non-class files in there should also copied into your classdir (in the same relative directory they were before). This most notably includes `META-INF/MANIFEST.MF`.\r\n\r\nThen we create a new jar file from these. The `jar` tool is included in the JDK.\r\n\r\n    jar cfm mypackage.jar classdir/META-INF/MANIFEST.MF -C classdir .\r\n\r\n(You can also simply use a zip program of your confidence and rename the resulting zip file to .jar. If your files have non-ASCII names, make sure to set the filename encoding to UTF-8.)","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>You need a Java Development Kit (JDK). This includes a Java compiler (usually named <code>javac</code>), and an jar archiver. </p>\n\n<p>Assuming you have the java files in a directory names <code>src</code> (then according to their package structure), you would use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>javac -d classdir -sourcepath src src/*.java src/*/*.java src/*/*/*.java ...\n</code></pre>\n\n<p>to compile all files. (Adjust the number of * to the number of directory levels. If you only have some folders with source files in them, you can also list them individually. If some classes depend on others, you can ommit the others, the compiler will find and compile them automatically.)</p>\n\n<p>If the program needs external libraries, provide these with a <code>-classpath</code> argument.</p>\n\n<p>Now we have all compiled classes in the directory <code>classdir</code>. Look into your original jar file: any non-class files in there should also copied into your classdir (in the same relative directory they were before). This most notably includes <code>META-INF/MANIFEST.MF</code>.</p>\n\n<p>Then we create a new jar file from these. The <code>jar</code> tool is included in the JDK.</p>\n\n<pre><code>jar cfm mypackage.jar classdir/META-INF/MANIFEST.MF -C classdir .\n</code></pre>\n\n<p>(You can also simply use a zip program of your confidence and rename the resulting zip file to .jar. If your files have non-ASCII names, make sure to set the filename encoding to UTF-8.)</p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661417601,"creation_date":1661273749,"answer_id":73462521,"question_id":6604097,"body_markdown":"Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.\r\n\r\nIn my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.\r\n\r\nI started from the [answer][1] from [Paulo Ebermann][2], and I ended up with:\r\n\r\n    javac -source 8 -target 8 -d classdir -cp \\\r\n    &quot;\\\r\n    path/to/dep1.jar; \\\r\n    path/to/dep2.jar; \\\r\n    path/to/myoriginal.jar \\\r\n    &quot; path/to/my/java/class.java\r\n    \r\n    cd classdir\r\n    jar -uf path/to/myoriginal.jar path/to/my/java/class.class\r\n\r\nNotes:\r\n- the ```path/to/myoriginal.jar``` which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the ```.``` path in the list of class paths\r\n- the ```-source 8 -target 8``` which were required to force the class to compile for the appropriate version of the runtime machine.\r\n- the ```-uf``` which indicates that the jar tool should only update the file with the provided class\r\n\r\n  [1]: https://stackoverflow.com/a/6604403/2881888\r\n  [2]: https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>Since I had trouble getting the .jar file completely recompiled and working with my application, I wanted to share here the steps that were missing in the previous answers.</p>\n<p>In my specific case, to make things as easy as possible, I wanted to only modify one .java file in the result of the decompilation and update it directly in the .jar file.</p>\n<p>I started from the <a href=\"https://stackoverflow.com/a/6604403/2881888\">answer</a> from <a href=\"https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\">Paulo Ebermann</a>, and I ended up with:</p>\n<pre><code>javac -source 8 -target 8 -d classdir -cp \\\n&quot;\\\npath/to/dep1.jar; \\\npath/to/dep2.jar; \\\npath/to/myoriginal.jar \\\n&quot; path/to/my/java/class.java\n\ncd classdir\njar -uf path/to/myoriginal.jar path/to/my/java/class.class\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>the <code>path/to/myoriginal.jar</code> which is in the path of the dependencies, this forces the java compiler to look for missing classses in the original .jar file rather than in the local decompiled code (which would require recompilation and more dependencies) and therefore I have intentionally left out the <code>.</code> path in the list of class paths</li>\n<li>the <code>-source 8 -target 8</code> which were required to force the class to compile for the appropriate version of the runtime machine.</li>\n<li>the <code>-uf</code> which indicates that the jar tool should only update the file with the provided class</li>\n</ul>\n"}],"owner":{"account_id":778809,"reputation":281,"user_id":832557,"display_name":"sandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46072,"favorite_count":0,"down_vote_count":3,"up_vote_count":28,"answer_count":3,"score":25,"last_activity_date":1661417601,"creation_date":1309993697,"question_id":6604097,"body_markdown":"I have a myfile.jar file.\r\nI use jd-gui to decompile all *.class in a folder in myfile.jar. I get many *.java files in many folders\r\n\r\nAfter fixing some code in some *.java, now I would like to recompile all *.java back to *.class, and pack the whole folder back to myfile.jar.\r\n\r\nHow do I do this?\r\n\r\n(This is my first time playing with java code.)\r\n","title":"Recompile to *.Jar After decompile and fix the code?","body":"<p>I have a myfile.jar file.\nI use jd-gui to decompile all *.class in a folder in myfile.jar. I get many *.java files in many folders</p>\n\n<p>After fixing some code in some *.java, now I would like to recompile all *.java back to *.class, and pack the whole folder back to myfile.jar.</p>\n\n<p>How do I do this?</p>\n\n<p>(This is my first time playing with java code.)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417313,"creation_date":1661417313,"answer_id":73484551,"question_id":73481637,"body_markdown":"The reason is because you added this line:\r\n\r\n    dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n\r\nThe logic behind it is this line:\r\n\r\n    defaultDialog.setContentView(R.layout.dialog_test);\r\nsets the **window** content view. And when you call setLayout it changes the layout_width and layout_height and overrides the values you put in the xml:\r\n\r\n        public void setLayout(int width, int height) {\r\n            final WindowManager.LayoutParams attrs = getAttributes();\r\n            attrs.width = width;\r\n            attrs.height = height;\r\n            dispatchWindowAttributesChanged(attrs);\r\n        }\r\nSo my suggestion is to remove the setLayout line of code.\r\n\r\n","title":"Android | Dialog with Binding Ignores Some Parametres","body":"<p>The reason is because you added this line:</p>\n<pre><code>dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n</code></pre>\n<p>The logic behind it is this line:</p>\n<pre><code>defaultDialog.setContentView(R.layout.dialog_test);\n</code></pre>\n<p>sets the <strong>window</strong> content view. And when you call setLayout it changes the layout_width and layout_height and overrides the values you put in the xml:</p>\n<pre><code>    public void setLayout(int width, int height) {\n        final WindowManager.LayoutParams attrs = getAttributes();\n        attrs.width = width;\n        attrs.height = height;\n        dispatchWindowAttributesChanged(attrs);\n    }\n</code></pre>\n<p>So my suggestion is to remove the setLayout line of code.</p>\n"}],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661417313,"creation_date":1661399092,"question_id":73481637,"body_markdown":"Why does Dialog created with Binding ignores `android:layout_height` and `layout_marginHorizontal`? I guess it ignores something more, but thats what I have problems with.\r\n\r\n**Dialog Layout**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginHorizontal=&quot;12dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/dialogTV&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:src=&quot;@drawable/ic_settings_outline_28dp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**Java Code**\r\n\r\n    Dialog defaultDialog = new Dialog(this);\r\n    defaultDialog.setContentView(R.layout.dialog_test);\r\n    defaultDialog.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\r\n    defaultDialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n    defaultDialog.setCancelable(true);\r\n\r\n    Dialog dialogWithBinding = new Dialog(this);\r\n    DialogTestBinding dialogTestBinding = DialogTestBinding.inflate(getLayoutInflater());\r\n    dialogWithBinding.setContentView(dialogTestBinding.getRoot());\r\n    dialogWithBinding.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\r\n        dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n    dialogWithBinding.setCancelable(true);\r\n\r\n    findViewById(R.id.showDefaultDialog).setOnClickListener(view -&gt; {\r\n        TextView dialogTV = defaultDialog.findViewById(R.id.dialogTV);\r\n        dialogTV.setText(&quot;Dialog&quot;);\r\n        defaultDialog.show();\r\n    });\r\n    findViewById(R.id.showBindingDialog).setOnClickListener(view -&gt; {\r\n        dialogTestBinding.dialogTV.setText(&quot;Dialog with Binding&quot;);\r\n        dialogWithBinding.show();\r\n    });\r\n\r\n`dialog_background` is simple transparent shape\r\n\r\n**Results**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/SdFyJ.png","title":"Android | Dialog with Binding Ignores Some Parametres","body":"<p>Why does Dialog created with Binding ignores <code>android:layout_height</code> and <code>layout_marginHorizontal</code>? I guess it ignores something more, but thats what I have problems with.</p>\n<p><strong>Dialog Layout</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;150dp&quot;\n    android:layout_marginHorizontal=&quot;12dp&quot;\n    android:background=&quot;@color/white&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/dialogTV&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:src=&quot;@drawable/ic_settings_outline_28dp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>Dialog defaultDialog = new Dialog(this);\ndefaultDialog.setContentView(R.layout.dialog_test);\ndefaultDialog.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\ndefaultDialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\ndefaultDialog.setCancelable(true);\n\nDialog dialogWithBinding = new Dialog(this);\nDialogTestBinding dialogTestBinding = DialogTestBinding.inflate(getLayoutInflater());\ndialogWithBinding.setContentView(dialogTestBinding.getRoot());\ndialogWithBinding.getWindow().setBackgroundDrawable(ContextCompat.getDrawable(this, R.drawable.dialog_background));\n    dialogWithBinding.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\ndialogWithBinding.setCancelable(true);\n\nfindViewById(R.id.showDefaultDialog).setOnClickListener(view -&gt; {\n    TextView dialogTV = defaultDialog.findViewById(R.id.dialogTV);\n    dialogTV.setText(&quot;Dialog&quot;);\n    defaultDialog.show();\n});\nfindViewById(R.id.showBindingDialog).setOnClickListener(view -&gt; {\n    dialogTestBinding.dialogTV.setText(&quot;Dialog with Binding&quot;);\n    dialogWithBinding.show();\n});\n</code></pre>\n<p><code>dialog_background</code> is simple transparent shape</p>\n<p><strong>Results</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SdFyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SdFyJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661417601,"post_id":73484372,"comment_id":129769106,"body_markdown":"check that `META-INF/services` is a directory. `org.hibernate.service.spi.ServiceContributor` must be a `file` in META-INF/services` directory witch content `com.loylty...`","body":"check that <code>META-INF&#47;services</code> is a directory. <code>org.hibernate.service.spi.ServiceContributor</code> must be a <code>file</code> in META-INF/services` directory witch content <code>com.loylty...</code>"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1661421986,"post_id":73484372,"comment_id":129770846,"body_markdown":"@AndreyB.Panfilov this same works perfectly when i run on intellij but when i deploy it on server it does not work.","body":"@AndreyB.Panfilov this same works perfectly when i run on intellij but when i deploy it on server it does not work."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661426441,"post_id":73484372,"comment_id":129772419,"body_markdown":"Is your goal to make it work or figure out why wrong configuration works (probably not) in IntellyJ?","body":"Is your goal to make it work or figure out why wrong configuration works (probably not) in IntellyJ?"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":1,"creation_date":1661430655,"post_id":73484372,"comment_id":129774032,"body_markdown":"@AndreyB.Panfilov I made it work using the command `jar -xf &lt;jar file&gt;;\njava  -cp &#39;BOOT-INF/lib/*:BOOT-INF/classes&#39; &lt;main/class/fqn&gt;;` but I don&#39;t want to do it by extracting the jar and specifying the classpath  like this . I want to make use of manifest file to do the same","body":"@AndreyB.Panfilov I made it work using the command <code>jar -xf &lt;jar file&gt;; java  -cp &#39;BOOT-INF&#47;lib&#47;*:BOOT-INF&#47;classes&#39; &lt;main&#47;class&#47;fqn&gt;;</code> but I don&#39;t want to do it by extracting the jar and specifying the classpath  like this . I want to make use of manifest file to do the same"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1661417014,"creation_date":1661416555,"question_id":73484372,"body_markdown":"I have a spring boot aplication where I have defined SPI implementation. \r\n\r\nWhen I run the app from intellij, it finds the SPI and my application is working as expected.\r\n\r\nBut when I  deploy it on linux server it fails to find the SPI implementation. \r\n\r\nI saw somewhere that we need to give classpath correctly in order to read META-INF/services, due to which i tried providing from the `manifest.mf` file like below but didn&#39;t work.\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: com.loylty.dataengine\r\n    Implementation-Version: 1.0-SNAPSHOT\r\n    Start-Class: com.loylty.rest.configuration.AppConfig\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Build-Jdk-Spec: 1.8\r\n    Spring-Boot-Version: 2.2.12.RELEASE\r\n    Created-By: Maven Archiver 3.4.0\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Class-Path: META-INF/services/\r\n\r\n\r\n[![][1]][1]\r\n\r\n\r\nMy project structure is shown above\r\n\r\nEdit : \r\n\r\n[This questions has the answer but using CLI not through manifest.mf file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sz7BH.png\r\n  [2]: https://stackoverflow.com/questions/68144546/spring-boot-application-not-able-to-load-spi-implementation","title":"Spring boot application not able to find SPI implementation","body":"<p>I have a spring boot aplication where I have defined SPI implementation.</p>\n<p>When I run the app from intellij, it finds the SPI and my application is working as expected.</p>\n<p>But when I  deploy it on linux server it fails to find the SPI implementation.</p>\n<p>I saw somewhere that we need to give classpath correctly in order to read META-INF/services, due to which i tried providing from the <code>manifest.mf</code> file like below but didn't work.</p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: com.loylty.dataengine\nImplementation-Version: 1.0-SNAPSHOT\nStart-Class: com.loylty.rest.configuration.AppConfig\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nBuild-Jdk-Spec: 1.8\nSpring-Boot-Version: 2.2.12.RELEASE\nCreated-By: Maven Archiver 3.4.0\nMain-Class: org.springframework.boot.loader.JarLauncher\nClass-Path: META-INF/services/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Sz7BH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sz7BH.png\" alt=\"\" /></a></p>\n<p>My project structure is shown above</p>\n<p>Edit :</p>\n<p><a href=\"https://stackoverflow.com/questions/68144546/spring-boot-application-not-able-to-load-spi-implementation\">This questions has the answer but using CLI not through manifest.mf file</a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":13773487,"reputation":608,"user_id":10707187,"display_name":"midugh"},"score":0,"creation_date":1661178246,"post_id":73446680,"comment_id":129703803,"body_markdown":"why would you want to use a private member in other classes ? It is just not the point of private members","body":"why would you want to use a private member in other classes ? It is just not the point of private members"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1661178268,"post_id":73446680,"comment_id":129703810,"body_markdown":"`private` would make it so that only methods/fields within the class you defined it in can access it. Note that an array is mutable in that the members of the array can be modified, it shouldn&#39;t really be `public` either. There&#39;s package-private (no visibility modifier) and `protected`.","body":"<code>private</code> would make it so that only methods/fields within the class you defined it in can access it. Note that an array is mutable in that the members of the array can be modified, it shouldn&#39;t really be <code>public</code> either. There&#39;s package-private (no visibility modifier) and <code>protected</code>."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":2,"creation_date":1661178309,"post_id":73446680,"comment_id":129703828,"body_markdown":"[Controlling Access to Members of a Class](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">Controlling Access to Members of a Class</a>"},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178334,"post_id":73446680,"comment_id":129703842,"body_markdown":"I also cannot make String[] public, I get an error saying that `it&#39;s a mutable array`","body":"I also cannot make String[] public, I get an error saying that <code>it&#39;s a mutable array</code>"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1661178355,"post_id":73446680,"comment_id":129703848,"body_markdown":"Does this answer your question? [How to read the value of a private field from a different class in Java?](https://stackoverflow.com/questions/1196192/how-to-read-the-value-of-a-private-field-from-a-different-class-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1196192/how-to-read-the-value-of-a-private-field-from-a-different-class-in-java\">How to read the value of a private field from a different class in Java?</a>"},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178401,"post_id":73446680,"comment_id":129703873,"body_markdown":"@Rogue this is helpful, but how should I structure my code to use a mutable array?","body":"@Rogue this is helpful, but how should I structure my code to use a mutable array?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1661178691,"post_id":73446680,"comment_id":129704014,"body_markdown":"@Stacy it depends on what you&#39;re attempting to achieve with `NAME`. Should it be a constant (and ideally unmodifiable)? Or is it describing some type of data for the class it is defined in? I would also ensure you&#39;re not naming your class as `Class`, since that is an already-existing name within the JDK.","body":"@Stacy it depends on what you&#39;re attempting to achieve with <code>NAME</code>. Should it be a constant (and ideally unmodifiable)? Or is it describing some type of data for the class it is defined in? I would also ensure you&#39;re not naming your class as <code>Class</code>, since that is an already-existing name within the JDK."},{"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"score":0,"creation_date":1661178808,"post_id":73446680,"comment_id":129704072,"body_markdown":"@Rogue Naming is just an example :) It&#39;s immutable constant that has some data. For simplicity, I have  multiple Names `public static final String NAME1 = &quot;name1&quot;` and I want to get them all in the `String [] `","body":"@Rogue Naming is just an example :) It&#39;s immutable constant that has some data. For simplicity, I have  multiple Names <code>public static final String NAME1 = &quot;name1&quot;</code> and I want to get them all in the <code>String [] </code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1661178906,"post_id":73446680,"comment_id":129704102,"body_markdown":"@Stacy if you truly want something which is immutable, then you will not be able to use a primitive array. You can use a `List` or `Set`, and pair it with `Collections#unmodifiableList` (or likewise for `Set`), if you _truly_ need to expose the constant. Most of the time, you can keep the constant as `private` or `protected`, and simply expose the functionality you&#39;d desire that would use the constant (e.g. `public boolean isName(String someName) { /* check NAME */ }`. Exposing a `public String[]` would typically be a copy-array, not the actual underlying data.","body":"@Stacy if you truly want something which is immutable, then you will not be able to use a primitive array. You can use a <code>List</code> or <code>Set</code>, and pair it with <code>Collections#unmodifiableList</code> (or likewise for <code>Set</code>), if you <i>truly</i> need to expose the constant. Most of the time, you can keep the constant as <code>private</code> or <code>protected</code>, and simply expose the functionality you&#39;d desire that would use the constant (e.g. <code>public boolean isName(String someName) { &#47;* check NAME *&#47; }</code>. Exposing a <code>public String[]</code> would typically be a copy-array, not the actual underlying data."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1661178962,"post_id":73446680,"comment_id":129704126,"body_markdown":"Or you could create a getter that returns a copy of the array, not with an annotation.","body":"Or you could create a getter that returns a copy of the array, not with an annotation."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1661178983,"post_id":73446680,"comment_id":129704138,"body_markdown":"&quot;*I tried creating a public clone, but I read that it&#39;s not a very good approach*&quot; could you add more info here? In case of mutable objects it is *preferred* to have getter which returns copy (possibly even deep copy) if we don&#39;t want to allow others to modify original object. Could it be that you read about problems with `clone()` method? If yes then indeed, it was not best design for classes, but calling it on array of immutable type like String is actually acceptable practice.","body":"&quot;<i>I tried creating a public clone, but I read that it&#39;s not a very good approach</i>&quot; could you add more info here? In case of mutable objects it is <i>preferred</i> to have getter which returns copy (possibly even deep copy) if we don&#39;t want to allow others to modify original object. Could it be that you read about problems with <code>clone()</code> method? If yes then indeed, it was not best design for classes, but calling it on array of immutable type like String is actually acceptable practice."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661416955,"creation_date":1661179154,"answer_id":73446912,"question_id":73446680,"body_markdown":"The String[] you receive in the main method is a special case; it is populated with the arguments entered on the command line when starting java. Typically this data is processed immediately and influences how the program runs. If you want to access this array in other classes, you have options:\r\n\r\n* create an instance of the other class, and pass the array as an argument:\r\n\r\n      public static void main(String[] args) {\r\n        OtherClass other = new OtherClass(args);\r\n\r\n* create an instance of the main class, set the array as a field and add a getter:\r\n\r\n      public class MyApp {\r\n  \r\n        private String[] args;\r\n\r\n        public static void main(String[] args) {\r\n            MyApp myApp = new MyApp();\r\n            myApp.setArgs(args);\r\n            OtherClass other = new OtherClass(myApp);\r\n        }\r\n\r\n        public String[] getArgs() { return args;}\r\n        public void setArgs(String[]) { this.args = args;}\r\n      ...\r\n\r\n      public class OtherClass {\r\n        \r\n         public OtherClass(MyApp myApp) {\r\n             String[] args = myApp.getArgs();\r\n\r\nIt all boils down to the same thing: You have to pass or receive the reference via a constructor or method call.\r\n\r\nEDIT: If you are worried about the contents of the array being changed, you could for example create a `List&lt;String&gt;` with the contents of the array. Lists are more flexible to use than arrays, so that&#39;s usually what you want anyway:\r\n\r\n      public static void main(String[] args) {\r\n        OtherClass other = new OtherClass(new ArrayList&lt;&gt;(Arrays.asList(args)););\r\n\r\n    ...\r\n\r\n    public class OtherClass {\r\n\r\n        private final List&lt;String&gt; data;\r\n\r\n        public OtherClass(List&lt;String&gt; data) {\r\n             this.data = data;\r\n        }\r\n\r\n\r\n","title":"Java private static final String [] how to use in other methods","body":"<p>The String[] you receive in the main method is a special case; it is populated with the arguments entered on the command line when starting java. Typically this data is processed immediately and influences how the program runs. If you want to access this array in other classes, you have options:</p>\n<ul>\n<li><p>create an instance of the other class, and pass the array as an argument:</p>\n<pre><code>public static void main(String[] args) {\n  OtherClass other = new OtherClass(args);\n</code></pre>\n</li>\n<li><p>create an instance of the main class, set the array as a field and add a getter:</p>\n<pre><code>public class MyApp {\n\n  private String[] args;\n\n  public static void main(String[] args) {\n      MyApp myApp = new MyApp();\n      myApp.setArgs(args);\n      OtherClass other = new OtherClass(myApp);\n  }\n\n  public String[] getArgs() { return args;}\n  public void setArgs(String[]) { this.args = args;}\n...\n\npublic class OtherClass {\n\n   public OtherClass(MyApp myApp) {\n       String[] args = myApp.getArgs();\n</code></pre>\n</li>\n</ul>\n<p>It all boils down to the same thing: You have to pass or receive the reference via a constructor or method call.</p>\n<p>EDIT: If you are worried about the contents of the array being changed, you could for example create a <code>List&lt;String&gt;</code> with the contents of the array. Lists are more flexible to use than arrays, so that's usually what you want anyway:</p>\n<pre><code>  public static void main(String[] args) {\n    OtherClass other = new OtherClass(new ArrayList&lt;&gt;(Arrays.asList(args)););\n\n...\n\npublic class OtherClass {\n\n    private final List&lt;String&gt; data;\n\n    public OtherClass(List&lt;String&gt; data) {\n         this.data = data;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661180164,"creation_date":1661179551,"answer_id":73447002,"question_id":73446680,"body_markdown":"I agree with RealSkeptic&#39;s suggestion that you can have getter that can return copy :\r\n\r\n    private static final String[] NAME = new String[] { &quot;Test&quot;,&quot;Test1&quot; };\r\n    \r\n    public String[] getName() {\t\r\n\t\treturn Arrays.copyOf(ClassName.NAME, ClassName.NAME.length);\r\n\t}\r\n\r\nAnd then, in another class, you can use this method to access elements of array. Here ClassName is name of class you have used for declaring this array.\r\n","title":"Java private static final String [] how to use in other methods","body":"<p>I agree with RealSkeptic's suggestion that you can have getter that can return copy :</p>\n<pre><code>private static final String[] NAME = new String[] { &quot;Test&quot;,&quot;Test1&quot; };\n\npublic String[] getName() { \n    return Arrays.copyOf(ClassName.NAME, ClassName.NAME.length);\n}\n</code></pre>\n<p>And then, in another class, you can use this method to access elements of array. Here ClassName is name of class you have used for declaring this array.</p>\n"}],"owner":{"account_id":19494962,"reputation":43,"user_id":14262406,"display_name":"Stacy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73447002,"answer_count":2,"score":0,"last_activity_date":1661416955,"creation_date":1661178161,"question_id":73446680,"body_markdown":"I&#39;m new to Java and cannot really understand how to use `private static final String[]` in other classes. \r\n\r\nI have this String[] that I want to access in another class.\r\n```\r\nprivate static final String[] NAMES = new String[] {...}\r\n````\r\n1. I tried to add @Getter to it, but it still doesn&#39;t pass the check with an error:\r\n`Public static ....getNAME() may expose internal representation by returning ClassName.NAMES`\r\n2. I tried creating a public clone, but I read that it&#39;s not a very good approach.\r\n---\r\nIf I want to use a @Getter, how should I do it?\r\n\r\nOr if I want to expose a `public String[]` what would be the right way to do?","title":"Java private static final String [] how to use in other methods","body":"<p>I'm new to Java and cannot really understand how to use <code>private static final String[]</code> in other classes.</p>\n<p>I have this String[] that I want to access in another class.</p>\n<pre><code>private static final String[] NAMES = new String[] {...}\n</code></pre>\n<ol>\n<li>I tried to add @Getter to it, but it still doesn't pass the check with an error:\n<code>Public static ....getNAME() may expose internal representation by returning ClassName.NAMES</code></li>\n<li>I tried creating a public clone, but I read that it's not a very good approach.</li>\n</ol>\n<hr />\n<p>If I want to use a @Getter, how should I do it?</p>\n<p>Or if I want to expose a <code>public String[]</code> what would be the right way to do?</p>\n"},{"tags":["java","android","android-studio","themes","android-darkmode"],"answers":[{"tags":[],"owner":{"account_id":22598073,"reputation":452,"user_id":16780065,"display_name":"nima"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1661416236,"creation_date":1630611256,"answer_id":69036099,"question_id":69034252,"body_markdown":"In `res/values/colors`   \r\nThere are two colors   \r\n`colors.xml`    \r\n`colors.xml(night)`     \r\n\r\n---\r\n\r\nIf night does not exist, you can make it as follows:    \r\nRight click on the `values` folder.    \r\nNext `New`. Then `Values Resource file`    \r\nEnter the `colors`  in the `file name` field     \r\nAnd enter the `values-night` in the `directory name` field.     \r\n\r\n---\r\n     \r\nIn colors.xml, select the colors that are for the light, such as: \r\n\r\n```xml\r\n&lt;color name=&quot;colorPrimary&quot;&gt;#3F51B5&lt;/color&gt;\r\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#303F9F&lt;/color&gt;\r\n&lt;color name=&quot;colorButton&quot;&gt;#303F9F&lt;/color&gt;\r\n```\r\n\r\nIn colors.xml(night), set the colors for the night(Same name as colors):\r\n\r\n```xml\r\n&lt;color name=&quot;colorPrimary&quot;&gt;#212121&lt;/color&gt;\r\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#000000&lt;/color&gt; \r\n&lt;color name=&quot;colorButton&quot;&gt;#10ffffff&lt;/color&gt;\r\n```\r\n\r\nNow if in layout, for example:    \r\n\r\n```xml\r\n&lt;Button\r\n     android: layout_width = &quot;wrap_content&quot;\r\n     android: layout_height = &quot;wrap_content&quot;\r\n     android: background = &quot;@color/colorButton&quot; /&gt;\r\n```\r\n\r\nIt is selected according to what you put in the light and night colors.   \r\n\r\n\r\n","title":"Android Colors in Dark Mode","body":"<p>In <code>res/values/colors</code><br />\nThere are two colors<br />\n<code>colors.xml</code><br />\n<code>colors.xml(night)</code></p>\n<hr />\n<p>If night does not exist, you can make it as follows:<br />\nRight click on the <code>values</code> folder.<br />\nNext <code>New</code>. Then <code>Values Resource file</code><br />\nEnter the <code>colors</code>  in the <code>file name</code> field<br />\nAnd enter the <code>values-night</code> in the <code>directory name</code> field.</p>\n<hr />\n<p>In colors.xml, select the colors that are for the light, such as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;color name=&quot;colorPrimary&quot;&gt;#3F51B5&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#303F9F&lt;/color&gt;\n&lt;color name=&quot;colorButton&quot;&gt;#303F9F&lt;/color&gt;\n</code></pre>\n<p>In colors.xml(night), set the colors for the night(Same name as colors):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;color name=&quot;colorPrimary&quot;&gt;#212121&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryVariant&quot;&gt;#000000&lt;/color&gt; \n&lt;color name=&quot;colorButton&quot;&gt;#10ffffff&lt;/color&gt;\n</code></pre>\n<p>Now if in layout, for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n     android: layout_width = &quot;wrap_content&quot;\n     android: layout_height = &quot;wrap_content&quot;\n     android: background = &quot;@color/colorButton&quot; /&gt;\n</code></pre>\n<p>It is selected according to what you put in the light and night colors.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630612585,"creation_date":1630612585,"answer_id":69036339,"question_id":69034252,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nhttps://developer.android.com/guide/topics/resources/providing-resources\r\n\r\nUse the folders:\r\n\r\n```\r\n/values/\r\n/values-night/\r\n```\r\n\r\nIt mentions it here as well: https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes\r\n\r\n&quot;night-qualified resources&quot;\r\n\r\n    Your themes and styles should avoid hard-coded colors or icons intended for use under a light theme. You should use theme attributes (preferred) or night-qualified resources instead.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wDnRn.png","title":"Android Colors in Dark Mode","body":"<p><a href=\"https://i.stack.imgur.com/wDnRn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wDnRn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"noreferrer\">https://developer.android.com/guide/topics/resources/providing-resources</a></p>\n<p>Use the folders:</p>\n<pre><code>/values/\n/values-night/\n</code></pre>\n<p>It mentions it here as well: <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes\" rel=\"noreferrer\">https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#config-changes</a></p>\n<p>&quot;night-qualified resources&quot;</p>\n<pre><code>Your themes and styles should avoid hard-coded colors or icons intended for use under a light theme. You should use theme attributes (preferred) or night-qualified resources instead.\n</code></pre>\n"}],"owner":{"account_id":17564855,"reputation":145,"user_id":12741939,"display_name":"Alcachofra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15189,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69036099,"answer_count":2,"score":10,"last_activity_date":1661416236,"creation_date":1630601141,"question_id":69034252,"body_markdown":"Hello fellow developers.\r\n\r\nI&#39;ve developed and Android App using **Android Studio**, but I only took into account the layout themes for **light** mode. Here&#39;s how it looks:\r\n\r\n[![light mode][1]][1]\r\n\r\nSo now, when I switch my phone to **dark** mode, this happens:\r\n\r\n[![dark mode][2]][2]\r\n\r\nHow can I change the colors that are being displayed in **dark mode**?\r\n\r\n  [1]: https://i.stack.imgur.com/n5y2fm.png\r\n  [2]: https://i.stack.imgur.com/gM51em.png","title":"Android Colors in Dark Mode","body":"<p>Hello fellow developers.</p>\n<p>I've developed and Android App using <strong>Android Studio</strong>, but I only took into account the layout themes for <strong>light</strong> mode. Here's how it looks:</p>\n<p><a href=\"https://i.stack.imgur.com/n5y2fm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n5y2fm.png\" alt=\"light mode\" /></a></p>\n<p>So now, when I switch my phone to <strong>dark</strong> mode, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/gM51em.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gM51em.png\" alt=\"dark mode\" /></a></p>\n<p>How can I change the colors that are being displayed in <strong>dark mode</strong>?</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611214730,"creation_date":1611159632,"answer_id":65813434,"question_id":65812560,"body_markdown":"For regex replacement use `replace{pattern}{regex}{substitution}` pattern. `appender.A1.layout.replace.*` must be removed.\r\n\r\n```property\r\nappender.A1.type = Console\r\nappender.A1.name = A1\r\nappender.A1.layout.type = PatternLayout\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %replace{%m}{foo}{bar}%n\r\n\r\n# whole line\r\nappender.A1.layout.pattern = %replace{[%d{HH:mm:ss}] %m%n}{foo}{bar}\r\n```\r\n\r\nFor More Information\r\n--------------------\r\n\r\n[Log4j2 - Layouts][1]\r\n&gt; replace{pattern}{regex}{substitution}\t\r\n&gt;\r\n&gt; Replaces occurrences of &#39;regex&#39;, a regular expression, with its replacement &#39;substitution&#39; in the string resulting from evaluation of the pattern. For example, &quot;%replace{%msg}{\\s}{}&quot; will remove all spaces contained in the event message.\r\n&gt;\r\n&gt; The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords. For instance, &quot;%replace{%logger %msg}{\\.}{/}&quot; will replace all dots in the logger or the message of the event with a forward slash.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/log4j-2.0-beta7/manual/layouts.html","title":"Log4j2: How to use replace parameter in log4j2.properties file","body":"<p>For regex replacement use <code>replace{pattern}{regex}{substitution}</code> pattern. <code>appender.A1.layout.replace.*</code> must be removed.</p>\n<pre><code>appender.A1.type = Console\nappender.A1.name = A1\nappender.A1.layout.type = PatternLayout\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %replace{%m}{foo}{bar}%n\n\n# whole line\nappender.A1.layout.pattern = %replace{[%d{HH:mm:ss}] %m%n}{foo}{bar}\n</code></pre>\n<h2>For More Information</h2>\n<p><a href=\"http://logging.apache.org/log4j/log4j-2.0-beta7/manual/layouts.html\" rel=\"nofollow noreferrer\">Log4j2 - Layouts</a></p>\n<blockquote>\n<p>replace{pattern}{regex}{substitution}</p>\n<p>Replaces occurrences of 'regex', a regular expression, with its replacement 'substitution' in the string resulting from evaluation of the pattern. For example, &quot;%replace{%msg}{\\s}{}&quot; will remove all spaces contained in the event message.</p>\n<p>The pattern can be arbitrarily complex and in particular can contain multiple conversion keywords. For instance, &quot;%replace{%logger %msg}{.}{/}&quot; will replace all dots in the logger or the message of the event with a forward slash.</p>\n</blockquote>\n"}],"owner":{"account_id":11034844,"reputation":75,"user_id":8105075,"display_name":"MagicRain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65813434,"answer_count":1,"score":0,"last_activity_date":1661415901,"creation_date":1611156548,"question_id":65812560,"body_markdown":"Using log4j2, I want to replace some strings in log message (say replace ***foo*** with ***bar***). In xml configuration, I can use the following configuration and it works.\r\n```\r\n&lt;Appenders&gt;\r\n     &lt;Console name=&quot;A1&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n         &lt;PatternLayout pattern=&quot;[%d{HH:mm:ss}] %m%n&quot;&gt;\r\n             &lt;replace regex = &quot;foo&quot; replacement=&quot;bar&quot;/&gt;\r\n         &lt;/PatternLayout&gt;\r\n     &lt;/Console&gt;\r\n&lt;/Appenders&gt;\r\n```\r\n\r\nBut insted of using XML, I have to use properties file in my project, so I tried something like\r\n```\r\nappender.A1.type = Console\r\nappender.A1.name = A1\r\nappender.A1.layout.type = PatternLayout\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %m%n\r\n# Probably BAD code begin\r\nappender.A1.layout.replace.regex = foo\r\nappender.A1.layout.replace.replacement = bar\r\n# Probably BAD code end\r\n```\r\nAnd I got error like:\r\n```\r\nException in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No type attribute provided for component replace\r\n\tat org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createComponent(PropertiesConfigurationBuilder.java:334)\r\n...\r\n```\r\n\r\nHow can I represent ***replace*** in properties file and in log4j2, is it possible to transform everything in xml configuration to properties configuration? \r\nI&#39;m using log4j-api-2.14.0.jar and log4j-core-2.14.0.jar.\r\n\r\nThx in advance!\r\n\r\n**EDIT:**\r\nI &#39;ve also tried ```replace{pattern}{regex}{substitution}``` before. And I think this is different from the **replace** parameter.\r\nSay the pattern is \r\n```\r\nappender.A1.layout.pattern = [%d{HH:mm:ss}][%C::%M] %replace{%m}{foo}{bar}%n\r\n```\r\nAnd I will get\r\n```\r\n[09:28:07][com.foo.MyApp::main] 111 bar 222\r\n```\r\nbut what I want to get is \r\n```\r\n[09:28:07][com.bar.MyApp::main] 111 bar 222\r\n```\r\nUsing above XML configuration, I can get the correct result but I don&#39;t know how to convert it into properties configuration. ","title":"Log4j2: How to use replace parameter in log4j2.properties file","body":"<p>Using log4j2, I want to replace some strings in log message (say replace <em><strong>foo</strong></em> with <em><strong>bar</strong></em>). In xml configuration, I can use the following configuration and it works.</p>\n<pre><code>&lt;Appenders&gt;\n     &lt;Console name=&quot;A1&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n         &lt;PatternLayout pattern=&quot;[%d{HH:mm:ss}] %m%n&quot;&gt;\n             &lt;replace regex = &quot;foo&quot; replacement=&quot;bar&quot;/&gt;\n         &lt;/PatternLayout&gt;\n     &lt;/Console&gt;\n&lt;/Appenders&gt;\n</code></pre>\n<p>But insted of using XML, I have to use properties file in my project, so I tried something like</p>\n<pre><code>appender.A1.type = Console\nappender.A1.name = A1\nappender.A1.layout.type = PatternLayout\nappender.A1.layout.pattern = [%d{HH:mm:ss}] %m%n\n# Probably BAD code begin\nappender.A1.layout.replace.regex = foo\nappender.A1.layout.replace.replacement = bar\n# Probably BAD code end\n</code></pre>\n<p>And I got error like:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.logging.log4j.core.config.ConfigurationException: No type attribute provided for component replace\n    at org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder.createComponent(PropertiesConfigurationBuilder.java:334)\n...\n</code></pre>\n<p>How can I represent <em><strong>replace</strong></em> in properties file and in log4j2, is it possible to transform everything in xml configuration to properties configuration?\nI'm using log4j-api-2.14.0.jar and log4j-core-2.14.0.jar.</p>\n<p>Thx in advance!</p>\n<p><strong>EDIT:</strong>\nI 've also tried <code>replace{pattern}{regex}{substitution}</code> before. And I think this is different from the <strong>replace</strong> parameter.\nSay the pattern is</p>\n<pre><code>appender.A1.layout.pattern = [%d{HH:mm:ss}][%C::%M] %replace{%m}{foo}{bar}%n\n</code></pre>\n<p>And I will get</p>\n<pre><code>[09:28:07][com.foo.MyApp::main] 111 bar 222\n</code></pre>\n<p>but what I want to get is</p>\n<pre><code>[09:28:07][com.bar.MyApp::main] 111 bar 222\n</code></pre>\n<p>Using above XML configuration, I can get the correct result but I don't know how to convert it into properties configuration.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1661412137,"post_id":73479878,"comment_id":129767157,"body_markdown":"What package is your @SpringBootApplication annotated entry point class?","body":"What package is your @SpringBootApplication annotated entry point class?"},{"owner":{"account_id":23482702,"reputation":21,"user_id":17534625,"display_name":"brvim"},"score":0,"creation_date":1661456272,"post_id":73479878,"comment_id":129783644,"body_markdown":"i  found this solution on internet, but it wasnt working also...\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","body":"i  found this solution on internet, but it wasnt working also... @SpringBootApplication(exclude={DataSourceAutoConfiguration.&zwnj;&#8203;class})"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1661468135,"post_id":73479878,"comment_id":129786224,"body_markdown":"Make sure your main class is in a package that is a parent of both the service package and a repository package.","body":"Make sure your main class is in a package that is a parent of both the service package and a repository package."}],"answers":[{"tags":[],"owner":{"account_id":26156523,"reputation":61,"user_id":19843711,"display_name":"cr0ow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661415410,"creation_date":1661415410,"answer_id":73484127,"question_id":73479878,"body_markdown":"You need to annotate your interface `AppUserRepository` with `@Repository` annotation. It allows Spring to create a bean your are missing.","title":"Parameter 0 of constructor in Service required a bean of Repository type","body":"<p>You need to annotate your interface <code>AppUserRepository</code> with <code>@Repository</code> annotation. It allows Spring to create a bean your are missing.</p>\n"}],"owner":{"account_id":23482702,"reputation":21,"user_id":17534625,"display_name":"brvim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661415410,"creation_date":1661378109,"question_id":73479878,"body_markdown":"I keep getting this error message:\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.projectName.Service.UserService required a bean of type &#39;com.projectName.Repositories.AppUserRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.projectName.Repositories.AppUserRepository&#39; in your configuration.\r\n\r\nthose are my classes\r\n\r\n    public interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n        AppUser findByUsername(String username);\r\n        Optional&lt;AppUser&gt; findById(Long id);\r\n    }\r\n    public interface IUserService {\r\n        AccountDto saveUser(AccountDto newUser) throws ParseException;\r\n        AppRole saveRole(AppRole role);\r\n        void addRoleToUser(String username, String roleName);\r\n        EmployeeInfoDto getUser(String username);\r\n        AppUser getUserApp(String username);\r\n    }\r\n\r\n@Service @RequiredArgsConstructor @Transactional @Slf4j\r\npublic class UserService implements IUserService, UserDetailsService {\r\n\r\n    private final AppUserRepository userRepository;\r\n    private final AppRoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private ModelMapper modelMapper;\r\n    private final AppUserModelAssembler assembler;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        AppUser user = userRepository.findByUsername(username);\r\n        if(user==null){\r\n            \r\n            throw new UsernameNotFoundException(&quot;User is not found in database&quot;);\r\n        }\r\n        else {\r\n            \r\n        }\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\r\n        user.getRoles().forEach(role-&gt;{authorities.add(new SimpleGrantedAuthority(role.getName()));});\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\r\n    }\r\n    @Override\r\n    public AccountDto saveUser(AccountDto newUser) throws ParseException {\r\n        \r\n        AppUser usernameAlreadyExist=userRepository.findByUsername(newUser.getUsername());\r\n        if(usernameAlreadyExist== null)\r\n        {\r\n            AppRole role=roleRepository.findByName(&quot;employee&quot;);\r\n            newUser.setPassword(passwordEncoder.encode(newUser.getPassword()));\r\n            newUser.getRoles().add(role);\r\n            userRepository.save(assembler.convertToAppUserEntity(newUser));\r\n            return newUser;\r\n        }\r\n        else return null;\r\n    }\r\n    @Override\r\n    public void deleteUser(String username){\r\n        \r\n        AppUser user=userRepository.findByUsername(username);\r\n        userRepository.deleteById(user.getId());\r\n        log.info(&quot;obrisala sam korisnika&quot;);\r\n    }\r\n    @Override\r\n    public boolean changePassword(String username, UserChangePasswordDto passwordDto){\r\n        AppUser user=userRepository.findByUsername(username);\r\n        String encodedOldPass=passwordEncoder.encode(passwordDto.getOldPassword());\r\n        boolean isPasswordCorrect=passwordEncoder.matches(passwordDto.getOldPassword(),user.getPassword());\r\n        if(isPasswordCorrect)\r\n        {\r\n           \r\n            user.setPassword(passwordEncoder.encode(passwordDto.getNewPassword()));\r\n            userRepository.save(user);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    @Override\r\n    public EmployeeInfoDto updateProfile(String username, EmployeeInfoDto userDto){\r\n        AppUser user=userRepository.findByUsername(username);\r\n        user.setFirstName(userDto.getFirstName());\r\n        user.setLastName(userDto.getLastName());\r\n        user.setPlaceOfWork(userDto.getPlaceOfWork());\r\n        user.setEmail(userDto.getEmail());\r\n        return assembler.toModel(userRepository.save(user));\r\n    }\r\n    @Override\r\n    public AppRole saveRole(AppRole role) {\r\n        return roleRepository.save(role);\r\n    }\r\n\r\n    @Override\r\n    public void addRoleToUser(String username, String roleName) {\r\n        AppUser user=userRepository.findByUsername(username);\r\n        AppRole role=roleRepository.findByName(roleName);\r\n        user.getRoles().add(role);\r\n    }\r\n\r\n    @Override\r\n    public EmployeeInfoDto getUser(String username) {\r\n        return assembler.toModel(userRepository.findByUsername(username));\r\n    }\r\n    public AppUser getUserApp(String username) {\r\n        return userRepository.findByUsername(username);\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\n","title":"Parameter 0 of constructor in Service required a bean of Repository type","body":"<p>I keep getting this error message:</p>\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.projectName.Service.UserService required a bean of type 'com.projectName.Repositories.AppUserRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.projectName.Repositories.AppUserRepository' in your configuration.</p>\n<p>those are my classes</p>\n<pre><code>public interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    AppUser findByUsername(String username);\n    Optional&lt;AppUser&gt; findById(Long id);\n}\npublic interface IUserService {\n    AccountDto saveUser(AccountDto newUser) throws ParseException;\n    AppRole saveRole(AppRole role);\n    void addRoleToUser(String username, String roleName);\n    EmployeeInfoDto getUser(String username);\n    AppUser getUserApp(String username);\n}\n</code></pre>\n<p>@Service @RequiredArgsConstructor @Transactional @Slf4j\npublic class UserService implements IUserService, UserDetailsService {</p>\n<pre><code>private final AppUserRepository userRepository;\nprivate final AppRoleRepository roleRepository;\nprivate final PasswordEncoder passwordEncoder;\nprivate ModelMapper modelMapper;\nprivate final AppUserModelAssembler assembler;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    AppUser user = userRepository.findByUsername(username);\n    if(user==null){\n        \n        throw new UsernameNotFoundException(&quot;User is not found in database&quot;);\n    }\n    else {\n        \n    }\n    Collection&lt;SimpleGrantedAuthority&gt; authorities=new ArrayList&lt;&gt;();\n    user.getRoles().forEach(role-&gt;{authorities.add(new SimpleGrantedAuthority(role.getName()));});\n\n    return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\n}\n@Override\npublic AccountDto saveUser(AccountDto newUser) throws ParseException {\n    \n    AppUser usernameAlreadyExist=userRepository.findByUsername(newUser.getUsername());\n    if(usernameAlreadyExist== null)\n    {\n        AppRole role=roleRepository.findByName(&quot;employee&quot;);\n        newUser.setPassword(passwordEncoder.encode(newUser.getPassword()));\n        newUser.getRoles().add(role);\n        userRepository.save(assembler.convertToAppUserEntity(newUser));\n        return newUser;\n    }\n    else return null;\n}\n@Override\npublic void deleteUser(String username){\n    \n    AppUser user=userRepository.findByUsername(username);\n    userRepository.deleteById(user.getId());\n    log.info(&quot;obrisala sam korisnika&quot;);\n}\n@Override\npublic boolean changePassword(String username, UserChangePasswordDto passwordDto){\n    AppUser user=userRepository.findByUsername(username);\n    String encodedOldPass=passwordEncoder.encode(passwordDto.getOldPassword());\n    boolean isPasswordCorrect=passwordEncoder.matches(passwordDto.getOldPassword(),user.getPassword());\n    if(isPasswordCorrect)\n    {\n       \n        user.setPassword(passwordEncoder.encode(passwordDto.getNewPassword()));\n        userRepository.save(user);\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n@Override\npublic EmployeeInfoDto updateProfile(String username, EmployeeInfoDto userDto){\n    AppUser user=userRepository.findByUsername(username);\n    user.setFirstName(userDto.getFirstName());\n    user.setLastName(userDto.getLastName());\n    user.setPlaceOfWork(userDto.getPlaceOfWork());\n    user.setEmail(userDto.getEmail());\n    return assembler.toModel(userRepository.save(user));\n}\n@Override\npublic AppRole saveRole(AppRole role) {\n    return roleRepository.save(role);\n}\n\n@Override\npublic void addRoleToUser(String username, String roleName) {\n    AppUser user=userRepository.findByUsername(username);\n    AppRole role=roleRepository.findByName(roleName);\n    user.getRoles().add(role);\n}\n\n@Override\npublic EmployeeInfoDto getUser(String username) {\n    return assembler.toModel(userRepository.findByUsername(username));\n}\npublic AppUser getUserApp(String username) {\n    return userRepository.findByUsername(username);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","junit","aem","sling","jcr"],"comments":[{"owner":{"account_id":10365464,"reputation":39,"user_id":7947181,"display_name":"Anim"},"score":0,"creation_date":1661339306,"post_id":73471888,"comment_id":129747189,"body_markdown":"Thank you for your response, But it is not what I am looking for. I am using the Postconstruct injection in the model class, but somehow I can&#39;t get the function from the test class that I am using AEMContext. Maybe I am not getting the way to invoke the function which is injected by Postconstruct annotation.","body":"Thank you for your response, But it is not what I am looking for. I am using the Postconstruct injection in the model class, but somehow I can&#39;t get the function from the test class that I am using AEMContext. Maybe I am not getting the way to invoke the function which is injected by Postconstruct annotation."},{"owner":{"account_id":6995,"reputation":18400,"user_id":11940,"accept_rate":88,"display_name":"Raphael Schweikert"},"score":0,"creation_date":1661341910,"post_id":73471888,"comment_id":129748142,"body_markdown":"It’s likely that adapting to the sling model failed (see my answer). In that case, there should be logging output above the stack trace of the `NullPointerException` that could be helpful in debugging. When asking questions, always ensure you post all the relevant output.","body":"It’s likely that adapting to the sling model failed (see my answer). In that case, there should be logging output above the stack trace of the <code>NullPointerException</code> that could be helpful in debugging. When asking questions, always ensure you post all the relevant output."},{"owner":{"account_id":10365464,"reputation":39,"user_id":7947181,"display_name":"Anim"},"score":0,"creation_date":1661387247,"post_id":73471888,"comment_id":129762729,"body_markdown":"@RaphaelSchweikert Thank you for your comment and pointing out the way to share ouput. Next time, I will be careful about it.","body":"@RaphaelSchweikert Thank you for your comment and pointing out the way to share ouput. Next time, I will be careful about it."}],"answers":[{"tags":[],"owner":{"account_id":6995,"reputation":18400,"user_id":11940,"accept_rate":88,"display_name":"Raphael Schweikert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661415003,"creation_date":1661341788,"answer_id":73472622,"question_id":73471888,"body_markdown":"Your line\r\n```java\r\ntableModelImpl = aemContext.request().adaptTo(TableModelImpl.class)\r\n```\r\ntries to adapt the sling request to your model.\r\n\r\nHowever, your model declares it’s adaptable from `Resource` only (`adaptables = Resource.class`).\r\n\r\nTry\r\n\r\n```java\r\ntableModelImpl = aemContext.currentResource(&quot;/component/table&quot;).adaptTo(TableModelImpl.class)\r\n```\r\n\r\ninstead.","title":"NullPointer exception on calling @Postconstruct method in AEM Model","body":"<p>Your line</p>\n<pre class=\"lang-java prettyprint-override\"><code>tableModelImpl = aemContext.request().adaptTo(TableModelImpl.class)\n</code></pre>\n<p>tries to adapt the sling request to your model.</p>\n<p>However, your model declares it’s adaptable from <code>Resource</code> only (<code>adaptables = Resource.class</code>).</p>\n<p>Try</p>\n<pre class=\"lang-java prettyprint-override\"><code>tableModelImpl = aemContext.currentResource(&quot;/component/table&quot;).adaptTo(TableModelImpl.class)\n</code></pre>\n<p>instead.</p>\n"}],"owner":{"account_id":10365464,"reputation":39,"user_id":7947181,"display_name":"Anim"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1661343057,"accepted_answer_id":73472622,"answer_count":1,"score":-3,"last_activity_date":1661415003,"creation_date":1661338506,"question_id":73471888,"body_markdown":"I am trying to use AemContext to adapt the JSON resource file with Model. I used @Postconstruct annotation for initializing the model function. But every time I run the project, I get a null pointer exception on invocking getList() function in the test class. I am trying to get a grasp of unit testing this model which runs through @Postconstruct injection. It will be really helpful if I get to know the reason of getting null pointer exception.\r\n\r\nModel Interface\r\n```\r\npackage com.xyz.core.models;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic interface TableModel {\r\n\r\n    /**\r\n     * Function to be implemented to fetch\r\n     * list of table items from JCR\r\n     * \r\n     * @return list of items\r\n     */\r\n    public List&lt;Map&lt;String, String&gt;&gt; getList();\r\n}\r\n```\r\n\r\nModel Class\r\n```\r\npackage com.xyz.core.models.impl;\r\n\r\nimport com.xyz.core.models.TableModel;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport javax.inject.Inject;\r\n\r\nimport org.apache.sling.api.resource.Resource;\r\nimport org.apache.sling.api.resource.ValueMap;\r\nimport org.apache.sling.models.annotations.Model;\r\nimport org.apache.sling.models.annotations.Optional;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Model(adaptables = Resource.class, adapters = TableModel.class)\r\npublic class TableModelImpl implements TableModel{\r\n\r\n    @Inject\r\n    @Optional\r\n    private Resource items;\r\n\r\n    private List&lt;Map&lt;String, String&gt;&gt; itemsChildren = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n\r\n    @PostConstruct\r\n    public void init(){\r\n        if (items != null) {\r\n            for (Resource resource: items.getChildren()) {\r\n                ValueMap properties = resource.adaptTo(ValueMap.class);\r\n                String title = properties.get(&quot;title&quot;, String.class);\r\n                String content = properties.get(&quot;content&quot;, String.class);\r\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n                map.put(&quot;title&quot;, title);\r\n                map.put(&quot;content&quot;, content);\r\n                itemsChildren.add(map);\r\n            }\r\n        }\r\n    }\r\n\r\n    public List&lt;Map&lt;String, String&gt;&gt; getList() {\r\n        return Collections.unmodifiableList(itemsChildren);\r\n    }\r\n}\r\n\r\n```\r\nTest Class of Model Class\r\n```\r\npackage com.xyz.core.models;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.util.Map;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\n\r\nimport com.xyz.core.models.impl.TableModelImpl;\r\n\r\nimport io.wcm.testing.mock.aem.junit5.AemContext;\r\nimport io.wcm.testing.mock.aem.junit5.AemContextExtension;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\n\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n@ExtendWith({AemContextExtension.class, MockitoExtension.class})\r\npublic class TableModelImplTest {\r\n    private final AemContext aemContext = new AemContext();\r\n    TableModelImpl tableModelImpl;\r\n    private List&lt;Map&lt;String, String&gt;&gt; expectedItemsChildren = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n    private final Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        aemContext.addModelsForClasses(TableModelImpl.class);\r\n        aemContext.load().json(&quot;/com/xyz/core/models/impl/Table.json&quot;, &quot;/component&quot;);\r\n    }\r\n\r\n    @Test \r\n    void getList() {\r\n        aemContext.currentResource(&quot;/component/table&quot;);\r\n        tableModelImpl = aemContext.request().adaptTo(TableModelImpl.class)\r\n        map.put(&quot;title&quot;, &quot;TItle&quot;);\r\n        map.put(&quot;content&quot;,&quot;content&quot;);\r\n        this.expectedItemsChildren.add(map);\r\n        map.put(&quot;title&quot;, &quot;Many&quot;);\r\n        map.put(&quot;content&quot;,&quot;More&quot;);\r\n        List&lt;Map&lt;String, String&gt;&gt; actualItemsChildren = tableModelImpl.getList();\r\n        assertEquals(expectedItemsChildren, actualItemsChildren);\r\n    }\r\n}\r\n```\r\n\r\nJSON file from resource\r\n\r\n```\r\n{\r\n    &quot;table&quot;:{\r\n        &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\r\n        &quot;jcr:createdBy&quot;:&quot;admin&quot;,\r\n        &quot;jcr:lastModifiedBy&quot;:&quot;admin&quot;,\r\n        &quot;jcr:created&quot;:&quot;Wed Aug 24 2022 10:38:41 GMT+0900&quot;,\r\n        &quot;jcr:lastModified&quot;:&quot;Wed Aug 24 2022 10:39:03 GMT+0900&quot;,\r\n        &quot;sling:resourceType&quot;:&quot;xyz/components/table&quot;,\r\n        &quot;items&quot;:{\r\n        &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\r\n        &quot;item0&quot;:{\r\n            &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\r\n            &quot;title&quot;:&quot;TItle&quot;,\r\n            &quot;content&quot;:&quot;Content&quot;\r\n        },\r\n        &quot;item1&quot;:{\r\n            &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\r\n            &quot;title&quot;:&quot;Many&quot;,\r\n            &quot;content&quot;:&quot;More&quot;\r\n        }\r\n        }\r\n    }\r\n}\r\n```","title":"NullPointer exception on calling @Postconstruct method in AEM Model","body":"<p>I am trying to use AemContext to adapt the JSON resource file with Model. I used @Postconstruct annotation for initializing the model function. But every time I run the project, I get a null pointer exception on invocking getList() function in the test class. I am trying to get a grasp of unit testing this model which runs through @Postconstruct injection. It will be really helpful if I get to know the reason of getting null pointer exception.</p>\n<p>Model Interface</p>\n<pre><code>package com.xyz.core.models;\n\nimport java.util.List;\nimport java.util.Map;\n\npublic interface TableModel {\n\n    /**\n     * Function to be implemented to fetch\n     * list of table items from JCR\n     * \n     * @return list of items\n     */\n    public List&lt;Map&lt;String, String&gt;&gt; getList();\n}\n</code></pre>\n<p>Model Class</p>\n<pre><code>package com.xyz.core.models.impl;\n\nimport com.xyz.core.models.TableModel;\n\nimport javax.annotation.PostConstruct;\nimport javax.inject.Inject;\n\nimport org.apache.sling.api.resource.Resource;\nimport org.apache.sling.api.resource.ValueMap;\nimport org.apache.sling.models.annotations.Model;\nimport org.apache.sling.models.annotations.Optional;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@Model(adaptables = Resource.class, adapters = TableModel.class)\npublic class TableModelImpl implements TableModel{\n\n    @Inject\n    @Optional\n    private Resource items;\n\n    private List&lt;Map&lt;String, String&gt;&gt; itemsChildren = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n\n    @PostConstruct\n    public void init(){\n        if (items != null) {\n            for (Resource resource: items.getChildren()) {\n                ValueMap properties = resource.adaptTo(ValueMap.class);\n                String title = properties.get(&quot;title&quot;, String.class);\n                String content = properties.get(&quot;content&quot;, String.class);\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n                map.put(&quot;title&quot;, title);\n                map.put(&quot;content&quot;, content);\n                itemsChildren.add(map);\n            }\n        }\n    }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getList() {\n        return Collections.unmodifiableList(itemsChildren);\n    }\n}\n\n</code></pre>\n<p>Test Class of Model Class</p>\n<pre><code>package com.xyz.core.models;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.Map;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.ArrayList;\n\nimport org.junit.jupiter.api.BeforeEach;\n\nimport com.xyz.core.models.impl.TableModelImpl;\n\nimport io.wcm.testing.mock.aem.junit5.AemContext;\nimport io.wcm.testing.mock.aem.junit5.AemContextExtension;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith({AemContextExtension.class, MockitoExtension.class})\npublic class TableModelImplTest {\n    private final AemContext aemContext = new AemContext();\n    TableModelImpl tableModelImpl;\n    private List&lt;Map&lt;String, String&gt;&gt; expectedItemsChildren = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n    private final Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n    @BeforeEach\n    void setUp() {\n        aemContext.addModelsForClasses(TableModelImpl.class);\n        aemContext.load().json(&quot;/com/xyz/core/models/impl/Table.json&quot;, &quot;/component&quot;);\n    }\n\n    @Test \n    void getList() {\n        aemContext.currentResource(&quot;/component/table&quot;);\n        tableModelImpl = aemContext.request().adaptTo(TableModelImpl.class)\n        map.put(&quot;title&quot;, &quot;TItle&quot;);\n        map.put(&quot;content&quot;,&quot;content&quot;);\n        this.expectedItemsChildren.add(map);\n        map.put(&quot;title&quot;, &quot;Many&quot;);\n        map.put(&quot;content&quot;,&quot;More&quot;);\n        List&lt;Map&lt;String, String&gt;&gt; actualItemsChildren = tableModelImpl.getList();\n        assertEquals(expectedItemsChildren, actualItemsChildren);\n    }\n}\n</code></pre>\n<p>JSON file from resource</p>\n<pre><code>{\n    &quot;table&quot;:{\n        &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\n        &quot;jcr:createdBy&quot;:&quot;admin&quot;,\n        &quot;jcr:lastModifiedBy&quot;:&quot;admin&quot;,\n        &quot;jcr:created&quot;:&quot;Wed Aug 24 2022 10:38:41 GMT+0900&quot;,\n        &quot;jcr:lastModified&quot;:&quot;Wed Aug 24 2022 10:39:03 GMT+0900&quot;,\n        &quot;sling:resourceType&quot;:&quot;xyz/components/table&quot;,\n        &quot;items&quot;:{\n        &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\n        &quot;item0&quot;:{\n            &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\n            &quot;title&quot;:&quot;TItle&quot;,\n            &quot;content&quot;:&quot;Content&quot;\n        },\n        &quot;item1&quot;:{\n            &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,\n            &quot;title&quot;:&quot;Many&quot;,\n            &quot;content&quot;:&quot;More&quot;\n        }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618302497,"creation_date":1551004146,"answer_id":54850958,"question_id":54850287,"body_markdown":"As the following error says:\r\n\r\n&gt; inequality filter property and first sort order must be the same: articleId and id\r\n\r\nSo you cannot filter your elements and sort them at the same time, using different properties, in your case `articleId` and `id`.\r\n\r\nThere is also an example of how **not** to do it in the [official documentation](https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data):\r\n\r\n * Range filter and first orderBy on different fields\r\n\r\n        citiesRef.whereGreaterThan(&quot;population&quot;, 100000).orderBy(&quot;country&quot;); //Invalid\r\n\r\nSo to solve this, you should filter and order on the same document property.","title":"Firestore query order on field with filter on a different field","body":"<p>As the following error says:</p>\n<blockquote>\n<p>inequality filter property and first sort order must be the same: articleId and id</p>\n</blockquote>\n<p>So you cannot filter your elements and sort them at the same time, using different properties, in your case <code>articleId</code> and <code>id</code>.</p>\n<p>There is also an example of how <strong>not</strong> to do it in the <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<ul>\n<li><p>Range filter and first orderBy on different fields</p>\n<pre><code> citiesRef.whereGreaterThan(&quot;population&quot;, 100000).orderBy(&quot;country&quot;); //Invalid\n</code></pre>\n</li>\n</ul>\n<p>So to solve this, you should filter and order on the same document property.</p>\n"},{"tags":[],"owner":{"account_id":17505973,"reputation":5058,"user_id":12695188,"display_name":"genericUser"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641395984,"creation_date":1612976900,"answer_id":66141596,"question_id":54850287,"body_markdown":"TL;DR\r\n=====\r\n\r\nAdd a dummy order right after your inequality filter property and change your query priority to fit your desires.\r\n\r\nI encountered the same issue on javascript but I believe it&#39;s also a java solution.\r\n\r\nFull Solution:\r\n==============\r\n\r\nWhen I run my query:\r\n\r\n    module.exports.getLastGroupChat = async function (groupId) {\r\n        let colRef = db.collection(&#39;messages&#39;)\r\n        colRef = colRef.where(&#39;groupId&#39;, &#39;==&#39;, groupId)\r\n        colRef = colRef.where(&#39;userId&#39;, &#39;!=&#39;, &#39;&#39;)\r\n        colRef = colRef.orderBy(&#39;timestamp&#39;, &#39;desc&#39;).limit(1)\r\n        const doc = await colRef.get()\r\n        return doc\r\n}\r\n\r\nAnd received:\r\n\r\n&gt; inequality filter property and first sort order must be the same:\r\n&gt; userId and timestamp\r\n\r\nTo solve that issue, first of all, I had to add a sort order, of the same inequality property, right after my inequality filter.\r\n\r\nIn addition, I had to change my query priority to achieve a dummy sort order of the inequality property. \r\n\r\n**Note:** You can run `where -&gt; order -&gt; where -&gt; order` on the same query!\r\n\r\n    module.exports.getLastGroupChat = async function (groupId) {\r\n        let colRef = db.collection(&#39;messages&#39;)\r\n        colRef = colRef.where(&#39;userId&#39;, &#39;!=&#39;, &#39;&#39;)\r\n        colRef = colRef.orderBy(&#39;userId&#39;, &#39;desc&#39;)\r\n        colRef = colRef.where(&#39;groupId&#39;, &#39;==&#39;, groupId)\r\n        colRef = colRef.orderBy(&#39;timestamp&#39;, &#39;desc&#39;).limit(1)\r\n        const doc = await colRef.get()\r\n        return doc\r\n    }\r\n\r\nThat query worked perfectly on my local debug firestore. Push your changes to your firebase cloud functions and trigger your function. Check out your function logs, You may get an indexing error. \r\n\r\n&gt; The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project...\r\n\r\nMake sure you get into the link and build the index. It will take about five to ten minutes to take effect. Then run again you function and everything should be just fine.\r\n\r\nHave fun! :)","title":"Firestore query order on field with filter on a different field","body":"<h1>TL;DR</h1>\n<p>Add a dummy order right after your inequality filter property and change your query priority to fit your desires.</p>\n<p>I encountered the same issue on javascript but I believe it's also a java solution.</p>\n<h1>Full Solution:</h1>\n<p>When I run my query:</p>\n<pre><code>module.exports.getLastGroupChat = async function (groupId) {\n    let colRef = db.collection('messages')\n    colRef = colRef.where('groupId', '==', groupId)\n    colRef = colRef.where('userId', '!=', '')\n    colRef = colRef.orderBy('timestamp', 'desc').limit(1)\n    const doc = await colRef.get()\n    return doc\n</code></pre>\n<p>}</p>\n<p>And received:</p>\n<blockquote>\n<p>inequality filter property and first sort order must be the same:\nuserId and timestamp</p>\n</blockquote>\n<p>To solve that issue, first of all, I had to add a sort order, of the same inequality property, right after my inequality filter.</p>\n<p>In addition, I had to change my query priority to achieve a dummy sort order of the inequality property.</p>\n<p><strong>Note:</strong> You can run <code>where -&gt; order -&gt; where -&gt; order</code> on the same query!</p>\n<pre><code>module.exports.getLastGroupChat = async function (groupId) {\n    let colRef = db.collection('messages')\n    colRef = colRef.where('userId', '!=', '')\n    colRef = colRef.orderBy('userId', 'desc')\n    colRef = colRef.where('groupId', '==', groupId)\n    colRef = colRef.orderBy('timestamp', 'desc').limit(1)\n    const doc = await colRef.get()\n    return doc\n}\n</code></pre>\n<p>That query worked perfectly on my local debug firestore. Push your changes to your firebase cloud functions and trigger your function. Check out your function logs, You may get an indexing error.</p>\n<blockquote>\n<p>The query requires an index. You can create it here: <a href=\"https://console.firebase.google.com/v1/r/project..\" rel=\"nofollow noreferrer\">https://console.firebase.google.com/v1/r/project..</a>.</p>\n</blockquote>\n<p>Make sure you get into the link and build the index. It will take about five to ten minutes to take effect. Then run again you function and everything should be just fine.</p>\n<p>Have fun! :)</p>\n"},{"tags":[],"owner":{"account_id":2745149,"reputation":186,"user_id":2365720,"display_name":"J nui"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619036910,"creation_date":1619036137,"answer_id":67202902,"question_id":54850287,"body_markdown":"perhaps firebase has changed things since this question was asked. \r\n\r\nThe answer is that you CAN do a filter and an orderby on different fields.\r\n\r\nyou can chain orderby&#39;s and filters, however, if you do filter first, you then have to order by that filter before you can orderby any other field.\r\ne.g.\r\n```\r\ncitiesRef.where(&#39;population&#39;, &#39;&gt;&#39;, 2500000).orderBy(&#39;population&#39;).orderBy(&#39;country&#39;);\r\n```\r\nIt&#39;s in their docs.\r\nhttps://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data\r\n```\r\nHowever, if you have a filter with a range comparison (&lt;, &lt;=, &gt;, &gt;=), your first ordering must be on the same field, see the list of orderBy() limitations below.\r\n```\r\n\r\nyou can chain orderBys of different fields, I just did it on one of my queries. (you may get an error the first time you run it, it asks you to create an index, it even has a link to create the index)\r\n```\r\nawait db.collection(&#39;daily_equipments&#39;).where(&#39;date&#39;, &#39;&lt;&#39;, tomorrow._d).where(&#39;date&#39;, &#39;&gt;=&#39;, date).orderBy(&#39;date&#39;).orderBy(&#39;order&#39;,&#39;asc&#39;).get();\r\n```","title":"Firestore query order on field with filter on a different field","body":"<p>perhaps firebase has changed things since this question was asked.</p>\n<p>The answer is that you CAN do a filter and an orderby on different fields.</p>\n<p>you can chain orderby's and filters, however, if you do filter first, you then have to order by that filter before you can orderby any other field.\ne.g.</p>\n<pre><code>citiesRef.where('population', '&gt;', 2500000).orderBy('population').orderBy('country');\n</code></pre>\n<p>It's in their docs.\n<a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data</a></p>\n<pre><code>However, if you have a filter with a range comparison (&lt;, &lt;=, &gt;, &gt;=), your first ordering must be on the same field, see the list of orderBy() limitations below.\n</code></pre>\n<p>you can chain orderBys of different fields, I just did it on one of my queries. (you may get an error the first time you run it, it asks you to create an index, it even has a link to create the index)</p>\n<pre><code>await db.collection('daily_equipments').where('date', '&lt;', tomorrow._d).where('date', '&gt;=', date).orderBy('date').orderBy('order','asc').get();\n</code></pre>\n"}],"owner":{"account_id":1594652,"reputation":1429,"user_id":1477130,"display_name":"LongLv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8211,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1661414964,"creation_date":1550998558,"question_id":54850287,"body_markdown":"I have a problem with query conditions in Google Cloud Firestore.\r\n\r\nAnyone can help me.\r\n\r\n[![This is my Collection and documents][1]][1]\r\n\r\nBelow is my code to get the first Document to start with HA_ and order by ID DESC\r\n\r\n    public Article getLastArticleProvider() {\r\n        ApiFuture&lt;QuerySnapshot&gt; query = firebaseDB.getTblArticles()\r\n                .whereGreaterThanOrEqualTo(&quot;articleId&quot;, &quot;HA_&quot;)\r\n                .orderBy(&quot;id&quot;, Query.Direction.DESCENDING)\r\n                .limit(1)\r\n                .get();\r\n\r\n        QuerySnapshot snapshotApiFuture;\r\n        Article article = null;\r\n\r\n        try {\r\n            snapshotApiFuture = query.get();\r\n            List&lt;QueryDocumentSnapshot&gt; documents = snapshotApiFuture.getDocuments();\r\n            for (QueryDocumentSnapshot document : documents) {\r\n                article = document.toObject(Article.class);\r\n            }\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            return null;\r\n        }\r\n        return article;\r\n    }\r\n\r\nI want to get the last id of article with articleId start with &quot;HA_&quot; or &quot;XE_&quot;\r\n\r\nEx for above image:\r\n\r\n - if(articleId start with &quot;HA_&quot;) =&gt; return object of id 831\r\n - if(articleId start with &quot;XE_&quot;) =&gt; return object of id 833\r\n\r\nNow i get an error\r\n\r\n&gt; java.util.concurrent.ExecutionException: com.google.api.gax.rpc.InvalidArgumentException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: inequality filter property and first sort order must be the same: articleId and id\r\n\r\n  [1]: https://i.stack.imgur.com/EaHHJ.png","title":"Firestore query order on field with filter on a different field","body":"<p>I have a problem with query conditions in Google Cloud Firestore.</p>\n<p>Anyone can help me.</p>\n<p><a href=\"https://i.stack.imgur.com/EaHHJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EaHHJ.png\" alt=\"This is my Collection and documents\" /></a></p>\n<p>Below is my code to get the first Document to start with HA_ and order by ID DESC</p>\n<pre><code>public Article getLastArticleProvider() {\n    ApiFuture&lt;QuerySnapshot&gt; query = firebaseDB.getTblArticles()\n            .whereGreaterThanOrEqualTo(&quot;articleId&quot;, &quot;HA_&quot;)\n            .orderBy(&quot;id&quot;, Query.Direction.DESCENDING)\n            .limit(1)\n            .get();\n\n    QuerySnapshot snapshotApiFuture;\n    Article article = null;\n\n    try {\n        snapshotApiFuture = query.get();\n        List&lt;QueryDocumentSnapshot&gt; documents = snapshotApiFuture.getDocuments();\n        for (QueryDocumentSnapshot document : documents) {\n            article = document.toObject(Article.class);\n        }\n    } catch (InterruptedException | ExecutionException e) {\n        return null;\n    }\n    return article;\n}\n</code></pre>\n<p>I want to get the last id of article with articleId start with &quot;HA_&quot; or &quot;XE_&quot;</p>\n<p>Ex for above image:</p>\n<ul>\n<li>if(articleId start with &quot;HA_&quot;) =&gt; return object of id 831</li>\n<li>if(articleId start with &quot;XE_&quot;) =&gt; return object of id 833</li>\n</ul>\n<p>Now i get an error</p>\n<blockquote>\n<p>java.util.concurrent.ExecutionException: com.google.api.gax.rpc.InvalidArgumentException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: inequality filter property and first sort order must be the same: articleId and id</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1660739806,"post_id":73388201,"comment_id":129603204,"body_markdown":"If you are running your app in kubernetes or any container manager, maybe you could use the readness probe. Is that an option to you?","body":"If you are running your app in kubernetes or any container manager, maybe you could use the readness probe. Is that an option to you?"},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1660740194,"post_id":73388201,"comment_id":129603382,"body_markdown":"@FelipeBonfante yea, might be and I considered this option but I was curious if this could be solved in spring ecosystem more easily. Plus this solution limits this use case to kube environment mostly and might not work in future if this technology changes","body":"@FelipeBonfante yea, might be and I considered this option but I was curious if this could be solved in spring ecosystem more easily. Plus this solution limits this use case to kube environment mostly and might not work in future if this technology changes"},{"owner":{"account_id":14988645,"reputation":66,"user_id":10820497,"display_name":"Renata"},"score":0,"creation_date":1660741576,"post_id":73388201,"comment_id":129603955,"body_markdown":"Spring Boot eco system has Spring Boot Actuator, so you can use `actuator/health/liveness` and `/actuator/health/readiness` endpoints. Configuration of it depends on Spring version","body":"Spring Boot eco system has Spring Boot Actuator, so you can use <code>actuator&#47;health&#47;liveness</code> and <code>&#47;actuator&#47;health&#47;readiness</code> endpoints. Configuration of it depends on Spring version"}],"answers":[{"tags":[],"owner":{"account_id":26059441,"reputation":83,"user_id":19761037,"display_name":"mpette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661414810,"creation_date":1661414810,"answer_id":73483992,"question_id":73388201,"body_markdown":"If it is acceptable to run your start-up tasks before the web server instance has started at all, you could use `SmartLifecycle` to add a start task.\r\n\r\n```java\r\n@Component\r\nclass MyStartup implements SmartLifecycle {\r\n\r\n    private final ServletWebServerApplicationContext ctx;\r\n    private final Log logger = LogFactory.getLog(MyStartup.class);\r\n\r\n    @Autowired\r\n    MyStartup(ServletWebServerApplicationContext ctx) {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        logger.info(&quot;doing start stuff: &quot; + ctx.getWebServer());\r\n        startTask();\r\n    }\r\n\r\n    @Override\r\n    public void stop() {}\r\n\r\n    @Override\r\n    public boolean isRunning() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int getPhase() {\r\n        return 100;\r\n    }\r\n}\r\n```\r\nBecause the task runs before the web server has started (rather than blocking access) this might be a different approach.","title":"Spring boot - task on startup preventing application interface exposure","body":"<p>If it is acceptable to run your start-up tasks before the web server instance has started at all, you could use <code>SmartLifecycle</code> to add a start task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass MyStartup implements SmartLifecycle {\n\n    private final ServletWebServerApplicationContext ctx;\n    private final Log logger = LogFactory.getLog(MyStartup.class);\n\n    @Autowired\n    MyStartup(ServletWebServerApplicationContext ctx) {\n        this.ctx = ctx;\n    }\n\n    @Override\n    public void start() {\n        logger.info(&quot;doing start stuff: &quot; + ctx.getWebServer());\n        startTask();\n    }\n\n    @Override\n    public void stop() {}\n\n    @Override\n    public boolean isRunning() {\n        return false;\n    }\n\n    @Override\n    public int getPhase() {\n        return 100;\n    }\n}\n</code></pre>\n<p>Because the task runs before the web server has started (rather than blocking access) this might be a different approach.</p>\n"}],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661414810,"creation_date":1660737964,"question_id":73388201,"body_markdown":"Is it possible to somehow in Spring boot application achieve some startup procedure that **blocks every exposure of endpoints** (and possibly other application public interfaces) until the startup procedure is completed?\r\n\r\nI mean something like \r\n\r\n    @Component\r\n    public class MyBlockingStartupRunner implements ApplicationRunner {\r\n        \r\n        @Override\r\n        public void run(ApplicationArguments args) {\r\n            // doing some task, calling external API, processing return values, ...\r\n            startTask();\r\n            // at this point app should be available for rest calls, scheduled tasks etc.\r\n            someObject.appIsReadyToGo(); // alternatively app would be ready at the end of the method\r\n        }\r\n    }\r\n\r\nProblem with this approach of using ApplicationRunner is there might be some API calls to the server that I am unable to serve and therefore I would need to add some check at every API endpoint to prevent this. Or, alternatively, create some interceptor that would &quot;block&quot; all public communication and which would probably read some property from some service which tells it if app is ready or not. But thats not the approach I would like and I wonder if Spring implemented this somehow.","title":"Spring boot - task on startup preventing application interface exposure","body":"<p>Is it possible to somehow in Spring boot application achieve some startup procedure that <strong>blocks every exposure of endpoints</strong> (and possibly other application public interfaces) until the startup procedure is completed?</p>\n<p>I mean something like</p>\n<pre><code>@Component\npublic class MyBlockingStartupRunner implements ApplicationRunner {\n    \n    @Override\n    public void run(ApplicationArguments args) {\n        // doing some task, calling external API, processing return values, ...\n        startTask();\n        // at this point app should be available for rest calls, scheduled tasks etc.\n        someObject.appIsReadyToGo(); // alternatively app would be ready at the end of the method\n    }\n}\n</code></pre>\n<p>Problem with this approach of using ApplicationRunner is there might be some API calls to the server that I am unable to serve and therefore I would need to add some check at every API endpoint to prevent this. Or, alternatively, create some interceptor that would &quot;block&quot; all public communication and which would probably read some property from some service which tells it if app is ready or not. But thats not the approach I would like and I wonder if Spring implemented this somehow.</p>\n"},{"tags":["java","arrays","spring","yaml","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661410444,"creation_date":1661410444,"answer_id":73483101,"question_id":73483012,"body_markdown":"Why not do something easier on the eyes, easier to program if not a little verbose:\r\n\r\n\r\n    secrets:\r\n    - username: username1\r\n      password: pwd1\r\n    - username: username2\r\n      password: pwd2\r\n\r\nHave a class for your secret:\r\n\r\n    public class Secret {\r\n      private String username;\r\n      private String password;\r\n\r\n      public String toString() { return username + &quot;:&quot; password; }\r\n    }\r\n\r\nAnd then injects as\r\n\r\n    @Value(&quot;${secrets}&quot;)\r\n    List&lt;Secret&gt; secrets;","title":"How to Read Array of Object from YAML file in Spring","body":"<p>Why not do something easier on the eyes, easier to program if not a little verbose:</p>\n<pre><code>secrets:\n- username: username1\n  password: pwd1\n- username: username2\n  password: pwd2\n</code></pre>\n<p>Have a class for your secret:</p>\n<pre><code>public class Secret {\n  private String username;\n  private String password;\n\n  public String toString() { return username + &quot;:&quot; password; }\n}\n</code></pre>\n<p>And then injects as</p>\n<pre><code>@Value(&quot;${secrets}&quot;)\nList&lt;Secret&gt; secrets;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21412375,"reputation":61,"user_id":15772257,"display_name":"will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661414762,"creation_date":1661414762,"answer_id":73483979,"question_id":73483012,"body_markdown":"If you must use map. I think array of map are probably not what you desired. Maybe you need one map which contains two keys, username1 and username2. The following might let you know how to obtain the map.\r\n\r\nThe yml file content is like that.\r\n\r\n    secrets: &quot;{username1:pw1,username2:pw1}&quot;\r\n\r\nThe Java code field is like that.\r\n\r\n      @Value(&quot;#{${secrets}}&quot;)\r\n      public Map&lt;Integer,Integer&gt; secrets;\r\n\r\n","title":"How to Read Array of Object from YAML file in Spring","body":"<p>If you must use map. I think array of map are probably not what you desired. Maybe you need one map which contains two keys, username1 and username2. The following might let you know how to obtain the map.</p>\n<p>The yml file content is like that.</p>\n<pre><code>secrets: &quot;{username1:pw1,username2:pw1}&quot;\n</code></pre>\n<p>The Java code field is like that.</p>\n<pre><code>  @Value(&quot;#{${secrets}}&quot;)\n  public Map&lt;Integer,Integer&gt; secrets;\n</code></pre>\n"}],"owner":{"account_id":5880331,"reputation":193,"user_id":4629940,"accept_rate":33,"display_name":"Edward Sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73483101,"answer_count":2,"score":0,"last_activity_date":1661414762,"creation_date":1661409830,"question_id":73483012,"body_markdown":"We are working on Spring based application which needs to access and read certain credentials stored in the yaml file which use the format below:\r\n\r\n```\r\n#yaml file content\r\n...\r\nsecrets: username1:pw1, username2:pw2\r\n...\r\n```\r\nwe load the yaml file using PropertySource annotation like this\r\n\r\n```\r\n@PropertySources({\r\n        @PropertySource(value = &quot;file:/someSecretPath/secrets.yaml&quot;, ignoreResourceNotFound = true) // secret yaml file\r\n})\r\n```\r\nI have tried using the following code to parse it into array of map object since it is a list contains 2 object type, \r\n\r\n```\r\n@Repository\r\npublic class getSecretClass {\r\n  \r\n    @Value(&quot;${secrets}&quot;)\r\n    private Map&lt;String,String&gt;[] credentials;\r\n}\r\n```\r\n\r\nbut it fails with this error:  \r\n```\r\n... &#39;java.lang.string&#39; cannot be converted into java.lang.map[] ....\r\n```\r\n\r\nOn the other hand, \r\nI tested reading from simple string array like this one:\r\n```\r\n#yaml file content\r\n...\r\nsecrets: text1, text2\r\n...\r\n```\r\nand the code below would work with no issue:\r\n\r\n```\r\n@Repository\r\npublic class getSecretClass {\r\n  \r\n    @Value(&quot;${secrets}&quot;)\r\n    private String[] credentials;\r\n\r\n    ...\r\n    private someReadSecretMethod(){\r\n       System.out.println( credentials[0] );\r\n    } \r\n\r\n}\r\n```\r\nit will print &quot;text1&quot; as expected.  But we do need to store the credentials as pairs in my use case, a plain text would not work for me.\r\n\r\nAny suggestion or advice would be much appreciated !","title":"How to Read Array of Object from YAML file in Spring","body":"<p>We are working on Spring based application which needs to access and read certain credentials stored in the yaml file which use the format below:</p>\n<pre><code>#yaml file content\n...\nsecrets: username1:pw1, username2:pw2\n...\n</code></pre>\n<p>we load the yaml file using PropertySource annotation like this</p>\n<pre><code>@PropertySources({\n        @PropertySource(value = &quot;file:/someSecretPath/secrets.yaml&quot;, ignoreResourceNotFound = true) // secret yaml file\n})\n</code></pre>\n<p>I have tried using the following code to parse it into array of map object since it is a list contains 2 object type,</p>\n<pre><code>@Repository\npublic class getSecretClass {\n  \n    @Value(&quot;${secrets}&quot;)\n    private Map&lt;String,String&gt;[] credentials;\n}\n</code></pre>\n<p>but it fails with this error:</p>\n<pre><code>... 'java.lang.string' cannot be converted into java.lang.map[] ....\n</code></pre>\n<p>On the other hand,\nI tested reading from simple string array like this one:</p>\n<pre><code>#yaml file content\n...\nsecrets: text1, text2\n...\n</code></pre>\n<p>and the code below would work with no issue:</p>\n<pre><code>@Repository\npublic class getSecretClass {\n  \n    @Value(&quot;${secrets}&quot;)\n    private String[] credentials;\n\n    ...\n    private someReadSecretMethod(){\n       System.out.println( credentials[0] );\n    } \n\n}\n</code></pre>\n<p>it will print &quot;text1&quot; as expected.  But we do need to store the credentials as pairs in my use case, a plain text would not work for me.</p>\n<p>Any suggestion or advice would be much appreciated !</p>\n"},{"tags":["java","css","selenium","classname"],"answers":[{"tags":[],"owner":{"account_id":346836,"reputation":480,"user_id":680588,"accept_rate":100,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661414565,"creation_date":1458753610,"answer_id":36184708,"question_id":36184553,"body_markdown":"# Update\r\n\r\nTo get the text of the second div block nth-child should work. I tested the selector locally in chrome tools:\r\n\r\n[![nth-child selector working in chrome web tools][1]][1]\r\n\r\nSo in your Java:\r\n\r\n    String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half:nth-child(2) .ng-binding&quot;)).getText();\r\n\r\nShould do the trick - as the [CSS spec says nth-child is 1 indexed][2] - not 0 - so its the 2nd child.\r\n\r\n# Old Answer\r\n\r\n\r\nBased on the HTML snippet you provided you could use a CSS selector. So you could do:\r\n\r\n    String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half .109-top-dark-grey-block&quot;)).getText();\r\n\r\nOr if you are just after the element with the ng-binding within your first div then it would be cleaner:\r\n\r\n    String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half .ng-binding&quot;)).getText();\r\n\r\nBoth would return the element text - maybe take a look at [CSS Selectors Guide][3] to learn more.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FaBcZ.png\r\n  [2]: https://api.jquery.com/nth-child-selector/\r\n  [3]: https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors &quot;CSS Selectors Guide&quot;","title":"How to refer second classname if two classes have same classname - using selenium webdriver","body":"<h1>Update</h1>\n<p>To get the text of the second div block nth-child should work. I tested the selector locally in chrome tools:</p>\n<p><a href=\"https://i.stack.imgur.com/FaBcZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FaBcZ.png\" alt=\"nth-child selector working in chrome web tools\" /></a></p>\n<p>So in your Java:</p>\n<pre><code>String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half:nth-child(2) .ng-binding&quot;)).getText();\n</code></pre>\n<p>Should do the trick - as the <a href=\"https://api.jquery.com/nth-child-selector/\" rel=\"nofollow noreferrer\">CSS spec says nth-child is 1 indexed</a> - not 0 - so its the 2nd child.</p>\n<h1>Old Answer</h1>\n<p>Based on the HTML snippet you provided you could use a CSS selector. So you could do:</p>\n<pre><code>String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half .109-top-dark-grey-block&quot;)).getText();\n</code></pre>\n<p>Or if you are just after the element with the ng-binding within your first div then it would be cleaner:</p>\n<pre><code>String elementText = driver.findElement(By.cssSelector(&quot;.d122-top-section-btm-half .ng-binding&quot;)).getText();\n</code></pre>\n<p>Both would return the element text - maybe take a look at <a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors\" rel=\"nofollow noreferrer\" title=\"CSS Selectors Guide\">CSS Selectors Guide</a> to learn more.</p>\n"}],"owner":{"account_id":3879438,"reputation":35,"user_id":3212451,"display_name":"SFstarter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36184708,"answer_count":1,"score":1,"last_activity_date":1661414565,"creation_date":1458753115,"question_id":36184553,"body_markdown":"I would like to get the text(Which is null right now but get some text in future, so printing null should be fine for now) from second &quot;109-top-dark-grey-block ng-binding&quot; class . Tried tabIndex and nth-child both are not working.\r\n&quot;&lt;div class=&quot;col-sm-6 col-md-6 col-lg-6&quot;&gt;\r\n\r\n    &lt;div class=&quot;122-top-section-btm-half&quot;&gt;\r\n        &lt;div class=&quot;108-top-grey-m12x3&quot;&gt;&lt;/div&gt;\r\n        &lt;div class=&quot;109-top-dark-grey-block ng-binding&quot;&gt;ab ab xyz&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;&quot;\r\n&quot;&lt;div class=&quot;col-sm-6 col-md-6 col-lg-6&quot;&gt;\r\n\r\n    &lt;div class=&quot;d122-top-section-btm-half&quot;&gt;\r\n        &lt;div class=&quot;108-top-grey-m12x4&quot;&gt;&lt;/div&gt;\r\n        &lt;div class=&quot;109-top-dark-grey-block ng-binding&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt; &quot;","title":"How to refer second classname if two classes have same classname - using selenium webdriver","body":"<p>I would like to get the text(Which is null right now but get some text in future, so printing null should be fine for now) from second \"109-top-dark-grey-block ng-binding\" class . Tried tabIndex and nth-child both are not working.\n\"</p>\n\n<pre><code>&lt;div class=\"122-top-section-btm-half\"&gt;\n    &lt;div class=\"108-top-grey-m12x3\"&gt;&lt;/div&gt;\n    &lt;div class=\"109-top-dark-grey-block ng-binding\"&gt;ab ab xyz&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\"\n\"</p>\n\n<pre><code>&lt;div class=\"d122-top-section-btm-half\"&gt;\n    &lt;div class=\"108-top-grey-m12x4\"&gt;&lt;/div&gt;\n    &lt;div class=\"109-top-dark-grey-block ng-binding\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p> \"</p>\n"},{"tags":["java","xml","parsing","messageformat"],"answers":[{"tags":[],"owner":{"account_id":4491729,"reputation":308,"user_id":3652669,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661414562,"creation_date":1458665580,"answer_id":36160526,"question_id":36157281,"body_markdown":"I guess the ressourceBundle you are searching is not translated in Portuguese.\r\n\r\nI tried to rewrite it in french and tested it on my french JVM :) and it works :\r\n\r\n    final String errorMessage = &quot;cvc-complex-type.2.4.a : Contenu non valide trouv&#233; &#224; partir de l&#39;&#233;l&#233;ment &#39;inscricaomunicipaltomador&#39;. L&#39;une des valeurs &#39;{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}&#39; est attendue.&quot;;\r\n\r\nPerhaps you could try to find a portuguese version of the ressourceBundle, which  should be named &quot;XMLSchemaMessages_pr.properties&quot;, and add it to your classpath, according to [this post][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6848106/java-jre-how-to-add-localized-resources-to-stantard-jre-resources","title":"MessageFormat parse error when parsing a non English message","body":"<p>I guess the ressourceBundle you are searching is not translated in Portuguese.</p>\n<p>I tried to rewrite it in french and tested it on my french JVM :) and it works :</p>\n<pre><code>final String errorMessage = &quot;cvc-complex-type.2.4.a : Contenu non valide trouvé à partir de l'élément 'inscricaomunicipaltomador'. L'une des valeurs '{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}' est attendue.&quot;;\n</code></pre>\n<p>Perhaps you could try to find a portuguese version of the ressourceBundle, which  should be named &quot;XMLSchemaMessages_pr.properties&quot;, and add it to your classpath, according to <a href=\"https://stackoverflow.com/questions/6848106/java-jre-how-to-add-localized-resources-to-stantard-jre-resources\">this post</a>.</p>\n"},{"tags":[],"owner":{"account_id":2845076,"reputation":23,"user_id":2443710,"display_name":"gcgoll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1458741679,"creation_date":1458741679,"answer_id":36180337,"question_id":36157281,"body_markdown":"I figured out the solution for this problem.\r\nIn a first moment I do a XSD schema validation of the XML file using the XercesImpl lib, wich uses the following package:\r\n\r\n    org.apache.xerces.impl.msg.XMLSchemaMessages\r\n\r\nFirstly the message loaded was in English, but after an **update** of this lib the message loaded is in Portuguese.\r\nThen, when the splitMessage method was called I was referencing the Java package instead of the XercesImpl package.\r\nObviously, the MessageFormat.parse was unable to parse a Portuguese message (extracted from XercesImpl) using the English message (extracted from Java package).\r\n\r\nTo solve this I made a simple change in splitMessage method. Like this:\r\n\r\n    final ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;org.apache.xerces.impl.msg.XMLSchemaMessages&quot;);\r\n\r\nRemembering that I set the Locale as &quot;PT/BR&quot; in the main method, that&#39;s why I don&#39;t have to set the Locale to load the resource.\r\n\r\nThe funny part is that there is the Portuguese schema message files in the JDK that I am using. So, it should have worked anyway.","title":"MessageFormat parse error when parsing a non English message","body":"<p>I figured out the solution for this problem.\nIn a first moment I do a XSD schema validation of the XML file using the XercesImpl lib, wich uses the following package:</p>\n\n<pre><code>org.apache.xerces.impl.msg.XMLSchemaMessages\n</code></pre>\n\n<p>Firstly the message loaded was in English, but after an <strong>update</strong> of this lib the message loaded is in Portuguese.\nThen, when the splitMessage method was called I was referencing the Java package instead of the XercesImpl package.\nObviously, the MessageFormat.parse was unable to parse a Portuguese message (extracted from XercesImpl) using the English message (extracted from Java package).</p>\n\n<p>To solve this I made a simple change in splitMessage method. Like this:</p>\n\n<pre><code>final ResourceBundle resourceBundle = ResourceBundle.getBundle(\"org.apache.xerces.impl.msg.XMLSchemaMessages\");\n</code></pre>\n\n<p>Remembering that I set the Locale as \"PT/BR\" in the main method, that's why I don't have to set the Locale to load the resource.</p>\n\n<p>The funny part is that there is the Portuguese schema message files in the JDK that I am using. So, it should have worked anyway.</p>\n"}],"owner":{"account_id":2845076,"reputation":23,"user_id":2443710,"display_name":"gcgoll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36180337,"answer_count":2,"score":0,"last_activity_date":1661414562,"creation_date":1458657257,"question_id":36157281,"body_markdown":"My application validates XML based on XSD files. The result of this validation is a error message. To show this for users, I parse this error message using java.text.MessageFormat.\r\nThe problem is: when the message comes in English I&#39;m able to parse it normally, but when the message comes in Portuguese (Brazil) it returns the error below:\r\n\r\n    java.text.ParseException: MessageFormat parse error!\r\n    \tat java.text.MessageFormat.parse(MessageFormat.java:1035)\r\n    \tat com.local.messageformat.MessageFormatMain.splitMessage(MessageFormatMain.java:34)\r\n    \tat com.local.messageformat.MessageFormatMain.start(MessageFormatMain.java:20)\r\n    \tat com.local.messageformat.MessageFormatMain.main(MessageFormatMain.java:14)\r\n\r\nHere is my code:\r\n\r\n    public class MessageFormatMain {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal MessageFormatMain main = new MessageFormatMain();\r\n\t\tmain.start();\r\n\t}\r\n\t\r\n\tprivate void start() {\r\n\t\tfinal String errorMessageKey = &quot;cvc-complex-type.2.4.a&quot;;\r\n    //Portuguese message (shows error)\r\n\t\tfinal String errorMessage = &quot;cvc-complex-type.2.4.a: Conte&#250;do inv&#225;lido encontrado a partir do elemento &#39;inscricaomunicipaltomador&#39;. Um de &#39;{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}&#39; &#233; esperado.&quot;;\r\n    // English message (works fine)\r\n    //  final String errorMessage = &quot;cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;inscricaomunicipaltomador&#39;. One of &#39;{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}&#39; is expected.&quot;;\r\n\t\tObject[] ret = splitMessage(errorMessage, errorMessageKey);\r\n\t\tif (ret.length &gt; 0) {\r\n\t\t\tSystem.out.println(ret[0]);\r\n\t\t\tSystem.out.println(ret[1]);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate Object[] splitMessage(final String errorMessage, final String errorMessageKey) {\r\n\t\tfinal ResourceBundle resourceBundle = PropertyResourceBundle.getBundle(&quot;com.sun.org.apache.xerces.internal.impl.msg.XMLSchemaMessages&quot;, Locale.ROOT);\r\n\t\tif (errorMessageKey != null &amp;&amp; !errorMessageKey.isEmpty() &amp;&amp; resourceBundle.containsKey(errorMessageKey)) {\r\n\t\t\tfinal String errorMessagePattern = resourceBundle.getString(errorMessageKey);\r\n\t\t\tfinal MessageFormat messageFormat = new MessageFormat(errorMessagePattern);\r\n\t\t\tObject arguments[];\r\n\t\t\ttry {\r\n\t\t\t\targuments = messageFormat.parse(errorMessage);\r\n\t\t\t\treturn arguments;\r\n\t\t\t} catch (final ParseException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn new Object[0];\r\n\t\t}\r\n\t\treturn new Object[0];\r\n\t}\r\n}\r\n\r\nI&#39;ve tried to specify a different location to get de ResourceBundle and even to instantiate the MessageFormat, but non of them worked.\r\n\r\nThanks in advance.\r\n\r\nGuilherme","title":"MessageFormat parse error when parsing a non English message","body":"<p>My application validates XML based on XSD files. The result of this validation is a error message. To show this for users, I parse this error message using java.text.MessageFormat.\nThe problem is: when the message comes in English I'm able to parse it normally, but when the message comes in Portuguese (Brazil) it returns the error below:</p>\n\n<pre><code>java.text.ParseException: MessageFormat parse error!\n    at java.text.MessageFormat.parse(MessageFormat.java:1035)\n    at com.local.messageformat.MessageFormatMain.splitMessage(MessageFormatMain.java:34)\n    at com.local.messageformat.MessageFormatMain.start(MessageFormatMain.java:20)\n    at com.local.messageformat.MessageFormatMain.main(MessageFormatMain.java:14)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>public class MessageFormatMain {\n\npublic static void main(String[] args) {\n    final MessageFormatMain main = new MessageFormatMain();\n    main.start();\n}\n\nprivate void start() {\n    final String errorMessageKey = \"cvc-complex-type.2.4.a\";\n//Portuguese message (shows error)\n    final String errorMessage = \"cvc-complex-type.2.4.a: Conteúdo inválido encontrado a partir do elemento 'inscricaomunicipaltomador'. Um de '{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}' é esperado.\";\n// English message (works fine)\n//  final String errorMessage = \"cvc-complex-type.2.4.a: Invalid content was found starting with element 'inscricaomunicipaltomador'. One of '{razaosocialtomador, estrangeirotomador, tipologradourotomador, logradourotomador, numeroenderecotomador, bairrotomador, complementotomador, cidadetomadordescricao, estadotomadordescricao, fonetomador, ceptomador, emailtomador, tomadorpais, tomadorresptribut, codigoatividade, aliquotaatividade, tiporecolhimento, valortotalrps, valorservicosrps, valoriss, valorpis, valorcofins, valorinss, valorir, valorcsll, aliquotapis, aliquotacofins, aliquotainss, aliquotair, aliquotacsll, descricaorps, tributacaorps, localservico, itens}' is expected.\";\n    Object[] ret = splitMessage(errorMessage, errorMessageKey);\n    if (ret.length &gt; 0) {\n        System.out.println(ret[0]);\n        System.out.println(ret[1]);\n    }\n}\n\nprivate Object[] splitMessage(final String errorMessage, final String errorMessageKey) {\n    final ResourceBundle resourceBundle = PropertyResourceBundle.getBundle(\"com.sun.org.apache.xerces.internal.impl.msg.XMLSchemaMessages\", Locale.ROOT);\n    if (errorMessageKey != null &amp;&amp; !errorMessageKey.isEmpty() &amp;&amp; resourceBundle.containsKey(errorMessageKey)) {\n        final String errorMessagePattern = resourceBundle.getString(errorMessageKey);\n        final MessageFormat messageFormat = new MessageFormat(errorMessagePattern);\n        Object arguments[];\n        try {\n            arguments = messageFormat.parse(errorMessage);\n            return arguments;\n        } catch (final ParseException e) {\n            e.printStackTrace();\n        }\n        return new Object[0];\n    }\n    return new Object[0];\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I've tried to specify a different location to get de ResourceBundle and even to instantiate the MessageFormat, but non of them worked.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Guilherme</p>\n"},{"tags":["java","android","android-listview"],"comments":[{"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"score":0,"creation_date":1306406945,"post_id":6137311,"comment_id":7124207,"body_markdown":"please show us the code where you try to use the ArrayAdapter.","body":"please show us the code where you try to use the ArrayAdapter."},{"owner":{"account_id":71560,"reputation":6563,"user_id":207022,"accept_rate":83,"display_name":"Joseph Le Brech"},"score":0,"creation_date":1306407292,"post_id":6137311,"comment_id":7124293,"body_markdown":"https://gist.github.com/992913","body":"<a href=\"https://gist.github.com/992913\" rel=\"nofollow noreferrer\">gist.github.com/992913</a>"},{"owner":{"account_id":71560,"reputation":6563,"user_id":207022,"accept_rate":83,"display_name":"Joseph Le Brech"},"score":0,"creation_date":1306407337,"post_id":6137311,"comment_id":7124302,"body_markdown":"this is my first attempt at android, i&#39;ve learned ios but this is different.","body":"this is my first attempt at android, i&#39;ve learned ios but this is different."},{"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"score":1,"creation_date":1306407624,"post_id":6137311,"comment_id":7124395,"body_markdown":"one error I found: you extend Activity, but you need to extend ListActivity. Does this solve the issue?","body":"one error I found: you extend Activity, but you need to extend ListActivity. Does this solve the issue?"},{"owner":{"account_id":71560,"reputation":6563,"user_id":207022,"accept_rate":83,"display_name":"Joseph Le Brech"},"score":0,"creation_date":1306408883,"post_id":6137311,"comment_id":7124692,"body_markdown":"it now compiles right up to &quot;setOnItemClickListener&quot; so i&#39;ve probably just missing and include somewhere for that too. i&#39;m trying the app in the simulator with the error code commented out now.","body":"it now compiles right up to &quot;setOnItemClickListener&quot; so i&#39;ve probably just missing and include somewhere for that too. i&#39;m trying the app in the simulator with the error code commented out now."}],"answers":[{"tags":[],"owner":{"account_id":320750,"reputation":9218,"user_id":639183,"display_name":"ernazm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306407579,"creation_date":1306407579,"answer_id":6137442,"question_id":6137311,"body_markdown":"You&#39;re passing a list of `Ticket`s to the `&lt;String&gt;` adapter. Try to change it:\r\n\r\n    setListAdapter(new ArrayAdapter&lt;Ticket&gt;(this, R.layout.main.list, tickets));","title":"Android and loading a listview from a sqlite database","body":"<p>You're passing a list of <code>Ticket</code>s to the <code>&lt;String&gt;</code> adapter. Try to change it:</p>\n\n<pre><code>setListAdapter(new ArrayAdapter&lt;Ticket&gt;(this, R.layout.main.list, tickets));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10385,"reputation":27385,"user_id":19601,"accept_rate":72,"display_name":"Flo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661414548,"creation_date":1306407607,"answer_id":6137449,"question_id":6137311,"body_markdown":"You should use a ArrayAdapter when show data from a database in a ListView. Use a [CursorAdapter][1] (e.g. [SimpleCursorAdapter][2]) instead. With a cursor and a CursorAdapter you will get much better performance as items get only read from the database when they are needed (e.g. the user scrolls the list). \r\n\r\nWhen you use an ArrayAdapter you have do load all items in advance which is unnecessary as you might not need all of them. So using a Cursor and a CursorAdapter will give you better performance and reduce the memory usage. \r\n\r\nCheck [this blog post][3] for a tutorial. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/CursorAdapter.html\r\n  [2]: https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html\r\n  [3]: https://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/","title":"Android and loading a listview from a sqlite database","body":"<p>You should use a ArrayAdapter when show data from a database in a ListView. Use a <a href=\"https://developer.android.com/reference/android/widget/CursorAdapter.html\" rel=\"nofollow noreferrer\">CursorAdapter</a> (e.g. <a href=\"https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html\" rel=\"nofollow noreferrer\">SimpleCursorAdapter</a>) instead. With a cursor and a CursorAdapter you will get much better performance as items get only read from the database when they are needed (e.g. the user scrolls the list).</p>\n<p>When you use an ArrayAdapter you have do load all items in advance which is unnecessary as you might not need all of them. So using a Cursor and a CursorAdapter will give you better performance and reduce the memory usage.</p>\n<p>Check <a href=\"https://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/\" rel=\"nofollow noreferrer\">this blog post</a> for a tutorial.</p>\n"}],"owner":{"account_id":71560,"reputation":6563,"user_id":207022,"accept_rate":83,"display_name":"Joseph Le Brech"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6137449,"answer_count":2,"score":0,"last_activity_date":1661414548,"creation_date":1306406795,"question_id":6137311,"body_markdown":"I&#39;m creating an app which uses a Data Access Object class to load values into a Serializable object.\r\n\r\nHow do I do the following.\r\n\r\n* Find the ListView object from the layout.\r\n* Load the serialized list into the ListView\r\n\r\ni&#39;m reading the following doc http://developer.android.com/resources/tutorials/views/hello-listview.html\r\n\r\nbut i&#39;m getting this error when i&#39;m trying to follow that code but using the serialized list:\r\n\r\n    cannot find symbol\r\n      [javac] symbol  : constructor ArrayAdapter(\r\n\r\ni have this at the top of my file too\r\n\r\n    import android.widget.ArrayAdapter;\r\nI&#39;m trying to target 2.1 and above.\r\n\r\nthis is my code as it stands\r\n\r\nhttp://pastie.org/1976415\r\n","title":"Android and loading a listview from a sqlite database","body":"<p>I'm creating an app which uses a Data Access Object class to load values into a Serializable object.</p>\n\n<p>How do I do the following.</p>\n\n<ul>\n<li>Find the ListView object from the layout.</li>\n<li>Load the serialized list into the ListView</li>\n</ul>\n\n<p>i'm reading the following doc <a href=\"http://developer.android.com/resources/tutorials/views/hello-listview.html\" rel=\"nofollow\">http://developer.android.com/resources/tutorials/views/hello-listview.html</a></p>\n\n<p>but i'm getting this error when i'm trying to follow that code but using the serialized list:</p>\n\n<pre><code>cannot find symbol\n  [javac] symbol  : constructor ArrayAdapter(\n</code></pre>\n\n<p>i have this at the top of my file too</p>\n\n<pre><code>import android.widget.ArrayAdapter;\n</code></pre>\n\n<p>I'm trying to target 2.1 and above.</p>\n\n<p>this is my code as it stands</p>\n\n<p><a href=\"http://pastie.org/1976415\" rel=\"nofollow\">http://pastie.org/1976415</a></p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1661414870,"post_id":73483840,"comment_id":129768028,"body_markdown":"Does this answer your question? [MongoDB 40415: BSON field &#39;create.bsonType&#39; is an unknown field](https://stackoverflow.com/questions/59660010/mongodb-40415-bson-field-create-bsontype-is-an-unknown-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59660010/mongodb-40415-bson-field-create-bsontype-is-an-unknown-field\">MongoDB 40415: BSON field &#39;create.bsonType&#39; is an unknown field</a>"},{"owner":{"account_id":20748228,"reputation":19,"user_id":15236376,"display_name":"qt.qt"},"score":0,"creation_date":1661415587,"post_id":73483840,"comment_id":129768279,"body_markdown":"@Thomas hello there!! I hope so but the error message is different.","body":"@Thomas hello there!! I hope so but the error message is different."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1661416222,"post_id":73483840,"comment_id":129768539,"body_markdown":"Yeah, because it&#39;s a field from the validator defined in _your_ database.","body":"Yeah, because it&#39;s a field from the validator defined in <i>your</i> database."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661416460,"post_id":73483840,"comment_id":129768624,"body_markdown":"What is the version of Java driver you are using?","body":"What is the version of Java driver you are using?"},{"owner":{"account_id":20748228,"reputation":19,"user_id":15236376,"display_name":"qt.qt"},"score":0,"creation_date":1661416460,"post_id":73483840,"comment_id":129768625,"body_markdown":"@Thomas what is a validator?","body":"@Thomas what is a validator?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661417151,"post_id":73483840,"comment_id":129768928,"body_markdown":"`new MongoClient(..` - this is legacy version of using the `MongoClient`. Looks like the `new ServerAddress(` doesn&#39;t have the third param `Arrays.asList(credential)`. Does your code compile?","body":"<code>new MongoClient(..</code> - this is legacy version of using the <code>MongoClient</code>. Looks like the <code>new ServerAddress(</code> doesn&#39;t have the third param <code>Arrays.asList(credential)</code>. Does your code compile?"}],"owner":{"account_id":20748228,"reputation":19,"user_id":15236376,"display_name":"qt.qt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661414547,"creation_date":1661414133,"question_id":73483840,"body_markdown":"I am seeing this error when I try to write data to mongodb.\r\n\r\n&gt; com.mongodb.commandFailureException: err msg: Bson field\r\n&gt; ‘authenticate.nonce’ is an unknown field. Code 40415\r\n\r\n    public void writeToMongo(BasicDBObject data){\r\n        MongoCredential credential = MongoCredential.createMongoCRCredential(username, dbName, pwd);\r\n        MongoClient client = new MongoClient(new ServerAddress(hostIp,port, Arrays.asList(credential)));\r\n        database= client.getDB(dbName);\r\n        collection= database.getCollection(“nameTable”);\r\n        collection.save(data);\r\n    }\r\n\r\nAnyone could help? \r\n","title":"Mongodb command failure exception","body":"<p>I am seeing this error when I try to write data to mongodb.</p>\n<blockquote>\n<p>com.mongodb.commandFailureException: err msg: Bson field\n‘authenticate.nonce’ is an unknown field. Code 40415</p>\n</blockquote>\n<pre><code>public void writeToMongo(BasicDBObject data){\n    MongoCredential credential = MongoCredential.createMongoCRCredential(username, dbName, pwd);\n    MongoClient client = new MongoClient(new ServerAddress(hostIp,port, Arrays.asList(credential)));\n    database= client.getDB(dbName);\n    collection= database.getCollection(“nameTable”);\n    collection.save(data);\n}\n</code></pre>\n<p>Anyone could help?</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":10834672,"reputation":416,"user_id":7968003,"display_name":"anicetkeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661414526,"creation_date":1661414526,"answer_id":73483940,"question_id":73476276,"body_markdown":"You can try this solution.  \r\n\r\n            private static final Map&lt;String, Function&lt;Filter, Criteria&gt;&gt;\r\n                    FILTERS = new HashMap&lt;&gt;();\r\n        \r\n            static {\r\n                FILTERS.put(&quot;NAME&quot;, value -&gt; Criteria.where(&quot;name&quot;).regex((String) value.getValue()));\r\n                FILTERS.put(&quot;AGE&quot;, value -&gt; Criteria.where(&quot;age&quot;).is(value.getValue()));\r\n            }\r\n        \r\n          public Mono&lt;Query&gt; createQueryWithFilters(Flux&lt;Filter&gt; filterFlux) {\r\n                Criteria criteria = new Criteria();\r\n               return Mono.from(\r\n                       filterFlux.map(filter -&gt; FILTERS.get(filter.getKey()).apply(filter))\r\n                                 .map(f -&gt;  new Query(criteria.andOperator(f)))\r\n               );\r\n            }\r\n\r\nFilter class\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Filter {\r\n        String key;\r\n        Object value;\r\n    }\r\nTest cases \r\n\r\n    Flux&lt;Filter&gt; filterFlux = Flux.just(new Filter(&quot;NAME&quot;, &quot;john&quot;), new Filter(&quot;AGE&quot;, 19));\r\n\r\n    createQueryWithFilters(filterFlux)\r\n            .subscribe(val -&gt; System.out.println(val.toString()));","title":"how to return a query mono with the code below with java reactor","body":"<p>You can try this solution.</p>\n<pre><code>        private static final Map&lt;String, Function&lt;Filter, Criteria&gt;&gt;\n                FILTERS = new HashMap&lt;&gt;();\n    \n        static {\n            FILTERS.put(&quot;NAME&quot;, value -&gt; Criteria.where(&quot;name&quot;).regex((String) value.getValue()));\n            FILTERS.put(&quot;AGE&quot;, value -&gt; Criteria.where(&quot;age&quot;).is(value.getValue()));\n        }\n    \n      public Mono&lt;Query&gt; createQueryWithFilters(Flux&lt;Filter&gt; filterFlux) {\n            Criteria criteria = new Criteria();\n           return Mono.from(\n                   filterFlux.map(filter -&gt; FILTERS.get(filter.getKey()).apply(filter))\n                             .map(f -&gt;  new Query(criteria.andOperator(f)))\n           );\n        }\n</code></pre>\n<p>Filter class</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Filter {\n    String key;\n    Object value;\n}\n</code></pre>\n<p>Test cases</p>\n<pre><code>Flux&lt;Filter&gt; filterFlux = Flux.just(new Filter(&quot;NAME&quot;, &quot;john&quot;), new Filter(&quot;AGE&quot;, 19));\n\ncreateQueryWithFilters(filterFlux)\n        .subscribe(val -&gt; System.out.println(val.toString()));\n</code></pre>\n"}],"owner":{"account_id":2396896,"reputation":173,"user_id":2095535,"accept_rate":67,"display_name":"Luiz Ricardo Cardoso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73483940,"answer_count":1,"score":0,"last_activity_date":1661414526,"creation_date":1661356689,"question_id":73476276,"body_markdown":"Imagine that I have several filters and I need several `if` to validate if the value is present, and if it is, I add a criteria each time it is present and at the end of the flow I return a query.\r\n\r\nI would then need to go through each of the filters, see if the value is present and then add a criterion.\r\n\r\n**How would I do this without using `if` and using only Java&#39;s Reactor powers?**\r\n\r\nI can use `filter, map, filterWhen, zipWhen etc.`\r\n\r\n\r\n    private Mono&lt;Query&gt; createQueryWithFilters(Filters filters) {\r\n        Criteria criteria = new Criteria();\r\n        Query query = new Query();\r\n\r\n        if (filters.getName().isPresent()) {\r\n            query.addCriteria(criteria.and(&quot;name&quot;)\r\n                    .regex(filters.getName().get()));\r\n        }\r\n\r\n        if (filters.getAge().isPresent()) {\r\n            query.addCriteria(criteria.and(&quot;age&quot;)\r\n                    .regex(filters.getAge().get()));\r\n        }\r\n        \r\n        return Mono.just(query);\r\n    }\r\n\r\nIn the code above I want to return without using if and I would like to instantiate `Query()` and `Criteria()` in the stream using `Mono` or `Flux`.\r\n\r\n**An example of coding is the one below, you can see that it is very readable and the code is more beautiful.**\r\n\r\n**Code pattern example:**\r\n\r\n    public Mono&lt;TaskDTO&gt; getTaskById(String configId, String taskId) {\r\n        return configRepository.findById(configId)\r\n                .switchIfEmpty(error(notFoundException(IAC_CONFIG_NOT_FOUND_ERROR_MSG)))\r\n                .map(Config::getTasks)\r\n                .filter(v -&gt; v.stream().anyMatch(t -&gt; Objects.equals(t.getId(), taskId)))\r\n                .switchIfEmpty(error(notFoundException(IAC_TASK_NOT_FOUND_MSG)))\r\n                .map(v -&gt; v.stream().findAny())\r\n                .filter(Optional::isPresent)\r\n                .map(v -&gt; taskConverter.convert(v.get()));\r\n    }","title":"how to return a query mono with the code below with java reactor","body":"<p>Imagine that I have several filters and I need several <code>if</code> to validate if the value is present, and if it is, I add a criteria each time it is present and at the end of the flow I return a query.</p>\n<p>I would then need to go through each of the filters, see if the value is present and then add a criterion.</p>\n<p><strong>How would I do this without using <code>if</code> and using only Java's Reactor powers?</strong></p>\n<p>I can use <code>filter, map, filterWhen, zipWhen etc.</code></p>\n<pre><code>private Mono&lt;Query&gt; createQueryWithFilters(Filters filters) {\n    Criteria criteria = new Criteria();\n    Query query = new Query();\n\n    if (filters.getName().isPresent()) {\n        query.addCriteria(criteria.and(&quot;name&quot;)\n                .regex(filters.getName().get()));\n    }\n\n    if (filters.getAge().isPresent()) {\n        query.addCriteria(criteria.and(&quot;age&quot;)\n                .regex(filters.getAge().get()));\n    }\n    \n    return Mono.just(query);\n}\n</code></pre>\n<p>In the code above I want to return without using if and I would like to instantiate <code>Query()</code> and <code>Criteria()</code> in the stream using <code>Mono</code> or <code>Flux</code>.</p>\n<p><strong>An example of coding is the one below, you can see that it is very readable and the code is more beautiful.</strong></p>\n<p><strong>Code pattern example:</strong></p>\n<pre><code>public Mono&lt;TaskDTO&gt; getTaskById(String configId, String taskId) {\n    return configRepository.findById(configId)\n            .switchIfEmpty(error(notFoundException(IAC_CONFIG_NOT_FOUND_ERROR_MSG)))\n            .map(Config::getTasks)\n            .filter(v -&gt; v.stream().anyMatch(t -&gt; Objects.equals(t.getId(), taskId)))\n            .switchIfEmpty(error(notFoundException(IAC_TASK_NOT_FOUND_MSG)))\n            .map(v -&gt; v.stream().findAny())\n            .filter(Optional::isPresent)\n            .map(v -&gt; taskConverter.convert(v.get()));\n}\n</code></pre>\n"},{"tags":["java","linux","ubuntu-14.04","digital-ocean","tomcat8"],"comments":[{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1469960150,"post_id":38682736,"comment_id":64745093,"body_markdown":"I think that the problem is that when you try to start tomcat using `sh startup.sh` you can&#39;t because the instance started as a service is already using the ports. You can use the `netstat` command to see which ports are in use and by what processes.","body":"I think that the problem is that when you try to start tomcat using <code>sh startup.sh</code> you can&#39;t because the instance started as a service is already using the ports. You can use the <code>netstat</code> command to see which ports are in use and by what processes."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1469962665,"post_id":38682736,"comment_id":64745682,"body_markdown":"address in use means another app is using the port address you are trying to start tomcat with, it&#39;s either as @Titus say, or it&#39;s another app","body":"address in use means another app is using the port address you are trying to start tomcat with, it&#39;s either as @Titus say, or it&#39;s another app"}],"answers":[{"tags":[],"owner":{"account_id":4901596,"reputation":1635,"user_id":3949639,"accept_rate":56,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1469962092,"creation_date":1469962092,"answer_id":38683177,"question_id":38682736,"body_markdown":"As you already  know the root cause of this problem is that your application trying to connect to a particular port which is already in use by some other processes either Java or non-Java.\r\nhere your answer:\r\n\r\nfind these four ports in your server.xml\r\n\r\n 1. HTTP/1.1\r\n 2. Tomcat Admin port.\r\n 3. AJP/1.3\r\n 4. SSL (if enabled).\r\n\r\n \r\n\r\nuse netstat command to find which process is using those ports.\r\n\r\n    netstat -nap | grep &lt;port&gt;\r\n\r\nNow since you have found o offending process you can kill that process and restart yours if killing that process is OK, otherwise, change the port in your server.xml\r\n\r\ndo this for all 4 ports, and restart tomcat. check catalina.out, if everything goes well you will be able to access your application.\r\n\r\n&gt; Is this really an issue related to entroy source? If so, where in\r\n&gt; catalina.sh does this line go?\r\n\r\nI don&#39;t know  whether it is related to entroy source or not, but you can place  `-Djava.security.egd=file:/dev/./urandom` into catalina.sh. find `JAVA_OPTS` in catalina.sh and put it there separated by semicolon(;) with existing values.\r\n\r\nIf yo are using Eclips IDE let me know. its all easy stuff. \r\nhope it would help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to solve java.net.BindException: Address already in use","body":"<p>As you already  know the root cause of this problem is that your application trying to connect to a particular port which is already in use by some other processes either Java or non-Java.\nhere your answer:</p>\n\n<p>find these four ports in your server.xml</p>\n\n<ol>\n<li>HTTP/1.1</li>\n<li>Tomcat Admin port.</li>\n<li>AJP/1.3</li>\n<li>SSL (if enabled).</li>\n</ol>\n\n<p>use netstat command to find which process is using those ports.</p>\n\n<pre><code>netstat -nap | grep &lt;port&gt;\n</code></pre>\n\n<p>Now since you have found o offending process you can kill that process and restart yours if killing that process is OK, otherwise, change the port in your server.xml</p>\n\n<p>do this for all 4 ports, and restart tomcat. check catalina.out, if everything goes well you will be able to access your application.</p>\n\n<blockquote>\n  <p>Is this really an issue related to entroy source? If so, where in\n  catalina.sh does this line go?</p>\n</blockquote>\n\n<p>I don't know  whether it is related to entroy source or not, but you can place  <code>-Djava.security.egd=file:/dev/./urandom</code> into catalina.sh. find <code>JAVA_OPTS</code> in catalina.sh and put it there separated by semicolon(;) with existing values.</p>\n\n<p>If yo are using Eclips IDE let me know. its all easy stuff. \nhope it would help.</p>\n"}],"owner":{"account_id":5568953,"reputation":5548,"user_id":4415079,"accept_rate":57,"display_name":"slipperypete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25398,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38683177,"answer_count":1,"score":5,"last_activity_date":1661414425,"creation_date":1469958618,"question_id":38682736,"body_markdown":"I am trying to set up a tomcat 8 server on a ubuntu 14 through digital ocean with this tutorial [https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-14-04][1]. But I cannot reach the tomcat splash page.\r\n\r\n\r\nEverything goes well until I reach the step to start tomcat with \r\n\r\n&gt; sudo initctl start tomcat\r\n\r\nThis returns a message \r\n\r\n&gt; tomcat start/running, process 9180\r\n\r\nBut when I type in the url  \r\n\r\n&gt; my-droplet-ip-address:8080\r\n\r\nthe splash page never loads.\r\n\r\nI have read that you can start tomcat with \r\n\r\n&gt; sh startup.sh\r\n\r\nAlthough when I do this catalina.out gives me the error message\r\n\r\n    31-Jul-2016 05:37:41.018 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    31-Jul-2016 05:37:41.086 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n     java.net.BindException: Address already in use\r\n    \tat sun.nio.ch.Net.bind0(Native Method)\r\n    \tat sun.nio.ch.Net.bind(Net.java:433)\r\n    \tat sun.nio.ch.Net.bind(Net.java:425)\r\n    \tat sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\r\n    \tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:213)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:558)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:65)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1010)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:606)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\r\n    \r\n    31-Jul-2016 05:37:41.089 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8080]]\r\n     org.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:111)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:606)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1012)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat sun.nio.ch.Net.bind0(Native Method)\r\n    \tat sun.nio.ch.Net.bind(Net.java:433)\r\n    \tat sun.nio.ch.Net.bind(Net.java:425)\r\n    \tat sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\r\n    \tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:213)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:558)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:65)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1010)\r\n    \t... 13 more\r\n    \r\n    31-Jul-2016 05:37:41.091 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8181&quot;]\r\n    31-Jul-2016 05:37:41.105 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    31-Jul-2016 05:37:41.117 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1568 ms\r\n    31-Jul-2016 05:37:41.180 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n    31-Jul-2016 05:37:41.180 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.4\r\n    31-Jul-2016 05:37:41.211 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /opt/tomcat/webapps/host-manager\r\n\r\n\r\n\r\n\r\nI have checked to see what ports are being used with sudo lsof -i, and tried killing the processes that are using ports that tomcat needs, as well as changing the various ports in server.xml in order to avoid this error. But it keeps occuring no matter what I do.\r\n\r\nI have also recently seen this link \r\n\r\n[https://www.digitalocean.com/community/questions/tomcat-not-starting-in-ubuntu-14-04-tomcat-7-and-java-7][2]\r\n\r\nwhich suggests \r\n\r\n&gt; This is possibly due to an entropy source problem. Set the option\r\n&gt; \r\n&gt; -Djava.security.egd=file:/dev/./urandom either in catalina.sh or /etc/default/tomcat .\r\n\r\nThe problem with this is that I cannot find the file /etc/default/tomcat, nor can I figure out where in catalina.sh to add this line that the author suggests.\r\n\r\nWhy can I not start tomcat to get to the splash page? Is this really an issue related to entroy source? If so, where in catalina.sh does this line go? If not, any suggestsion of how I can solve this issue would be appreciated.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-14-04\r\n  [2]: https://www.digitalocean.com/community/questions/tomcat-not-starting-in-ubuntu-14-04-tomcat-7-and-java-7","title":"How to solve java.net.BindException: Address already in use","body":"<p>I am trying to set up a tomcat 8 server on a ubuntu 14 through digital ocean with this tutorial <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-14-04\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-14-04</a>. But I cannot reach the tomcat splash page.</p>\n<p>Everything goes well until I reach the step to start tomcat with</p>\n<blockquote>\n<p>sudo initctl start tomcat</p>\n</blockquote>\n<p>This returns a message</p>\n<blockquote>\n<p>tomcat start/running, process 9180</p>\n</blockquote>\n<p>But when I type in the url</p>\n<blockquote>\n<p>my-droplet-ip-address:8080</p>\n</blockquote>\n<p>the splash page never loads.</p>\n<p>I have read that you can start tomcat with</p>\n<blockquote>\n<p>sh startup.sh</p>\n</blockquote>\n<p>Although when I do this catalina.out gives me the error message</p>\n<pre><code>31-Jul-2016 05:37:41.018 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n31-Jul-2016 05:37:41.086 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\n java.net.BindException: Address already in use\n    at sun.nio.ch.Net.bind0(Native Method)\n    at sun.nio.ch.Net.bind(Net.java:433)\n    at sun.nio.ch.Net.bind(Net.java:425)\n    at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\n    at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:213)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:558)\n    at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:65)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1010)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\n\n31-Jul-2016 05:37:41.089 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8080]]\n org.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:111)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:549)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:873)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1012)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use\n    at sun.nio.ch.Net.bind0(Native Method)\n    at sun.nio.ch.Net.bind(Net.java:433)\n    at sun.nio.ch.Net.bind(Net.java:425)\n    at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\n    at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:229)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:866)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:213)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:558)\n    at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:65)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1010)\n    ... 13 more\n\n31-Jul-2016 05:37:41.091 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8181&quot;]\n31-Jul-2016 05:37:41.105 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n31-Jul-2016 05:37:41.117 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1568 ms\n31-Jul-2016 05:37:41.180 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n31-Jul-2016 05:37:41.180 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.4\n31-Jul-2016 05:37:41.211 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /opt/tomcat/webapps/host-manager\n</code></pre>\n<p>I have checked to see what ports are being used with sudo lsof -i, and tried killing the processes that are using ports that tomcat needs, as well as changing the various ports in server.xml in order to avoid this error. But it keeps occuring no matter what I do.</p>\n<p>I have also recently seen this link</p>\n<p><a href=\"https://www.digitalocean.com/community/questions/tomcat-not-starting-in-ubuntu-14-04-tomcat-7-and-java-7\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/questions/tomcat-not-starting-in-ubuntu-14-04-tomcat-7-and-java-7</a></p>\n<p>which suggests</p>\n<blockquote>\n<p>This is possibly due to an entropy source problem. Set the option</p>\n<p>-Djava.security.egd=file:/dev/./urandom either in catalina.sh or /etc/default/tomcat .</p>\n</blockquote>\n<p>The problem with this is that I cannot find the file /etc/default/tomcat, nor can I figure out where in catalina.sh to add this line that the author suggests.</p>\n<p>Why can I not start tomcat to get to the splash page? Is this really an issue related to entroy source? If so, where in catalina.sh does this line go? If not, any suggestsion of how I can solve this issue would be appreciated.</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1668538115,"post_id":73483906,"comment_id":131428412,"body_markdown":"I am facing a similar issue, did you find a solution?","body":"I am facing a similar issue, did you find a solution?"}],"owner":{"account_id":18092088,"reputation":23,"user_id":13151339,"display_name":"Saurav Giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661414388,"creation_date":1661414388,"question_id":73483906,"body_markdown":"Error: \r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to calculate the value of task &#39;:app:compileDebugJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;.\r\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, C:\\Users\\saura\\AndroidStudioProjects\\FutsalNepal\\app\\build\\generated\\ap_generated_sources\\debug\\out))) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@63c94fba) before task &#39;:app:compileDebugJavaWithJavac&#39; has completed is not supported\r\n\r\n\r\n\r\nHere is my build.gradle: \r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\napply plugin: &#39;kotlin-kapt&#39;\r\napply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;\r\n\r\nandroid {\r\n    compileSdkVersion 32\r\n    buildToolsVersion &quot;29.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.androiddevs.mvvmnewsapp&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.2.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0-alpha03&#39;\r\n\r\n    // Architectural Components\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0&quot;\r\n\r\n    // Room\r\n    implementation &quot;androidx.room:room-runtime:2.2.5&quot;\r\n    kapt &quot;androidx.room:room-compiler:2.2.5&quot;\r\n\r\n    // Kotlin Extensions and Coroutines support for Room\r\n    implementation &quot;androidx.room:room-ktx:2.2.5&quot;\r\n\r\n    // Coroutines\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.5&#39;\r\n\r\n    // Coroutine Lifecycle Scopes\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.2.0&quot;\r\n\r\n    // Retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.6.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.6.0&#39;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.5.0&quot;\r\n\r\n    // Navigation Components\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:2.2.1&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:2.2.1&quot;\r\n\r\n    implementation &#39;android.arch.navigation:navigation-fragment-ktx:1.0.0-rc02&#39;\r\n    implementation &#39;android.arch.navigation:navigation-ui-ktx:1.0.0-rc02&#39;\r\n\r\n    // Glide\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n}\r\n\r\n\r\nHere is my settings.gradle: \r\n\r\n```pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;Futsal Nepal&quot;\r\ninclude &#39;:app&#39;\r\n\r\n\r\n","title":"Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. error","body":"<p>Error:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to calculate the value of task ':app:compileDebugJavaWithJavac' property 'options.generatedSourceOutputDirectory'.\nQuerying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, C:\\Users\\saura\\AndroidStudioProjects\\FutsalNepal\\app\\build\\generated\\ap_generated_sources\\debug\\out))) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@63c94fba) before task ':app:compileDebugJavaWithJavac' has completed is not supported</p>\n</blockquote>\n<p>Here is my build.gradle:</p>\n<p>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;</p>\n<p>android {\ncompileSdkVersion 32\nbuildToolsVersion &quot;29.0.3&quot;</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.androiddevs.mvvmnewsapp&quot;\n    minSdkVersion 21\n    targetSdkVersion 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\nkotlinOptions {\n    jvmTarget = JavaVersion.VERSION_1_8.toString()\n}\n</code></pre>\n<p>}</p>\n<p>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.core:core-ktx:1.2.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\nimplementation 'com.google.android.material:material:1.3.0-alpha03'\n\n// Architectural Components\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0&quot;\n\n// Room\nimplementation &quot;androidx.room:room-runtime:2.2.5&quot;\nkapt &quot;androidx.room:room-compiler:2.2.5&quot;\n\n// Kotlin Extensions and Coroutines support for Room\nimplementation &quot;androidx.room:room-ktx:2.2.5&quot;\n\n// Coroutines\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5'\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.5'\n\n// Coroutine Lifecycle Scopes\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.2.0&quot;\n\n// Retrofit\nimplementation 'com.squareup.retrofit2:retrofit:2.6.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.6.0'\nimplementation &quot;com.squareup.okhttp3:logging-interceptor:4.5.0&quot;\n\n// Navigation Components\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:2.2.1&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:2.2.1&quot;\n\nimplementation 'android.arch.navigation:navigation-fragment-ktx:1.0.0-rc02'\nimplementation 'android.arch.navigation:navigation-ui-ktx:1.0.0-rc02'\n\n// Glide\nimplementation 'com.github.bumptech.glide:glide:4.11.0'\nkapt 'com.github.bumptech.glide:compiler:4.11.0'\n</code></pre>\n<p>}</p>\n<p>Here is my settings.gradle:</p>\n<pre><code>    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;Futsal Nepal&quot;\ninclude ':app'\n\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","micronaut","micronaut-security"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661348426,"post_id":73474213,"comment_id":129751002,"body_markdown":"*No class provided, and an appropriate one cannot be found.*","body":"<i>No class provided, and an appropriate one cannot be found.</i>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661348546,"post_id":73474213,"comment_id":129751076,"body_markdown":"Can you share `com.app.app.$CustomAuthenticationProvider$Definition`","body":"Can you share <code>com.app.app.$CustomAuthenticationProvider$Definition</code>"},{"owner":{"account_id":25900156,"reputation":59,"user_id":19626177,"display_name":"JavaStan"},"score":0,"creation_date":1661348705,"post_id":73474213,"comment_id":129751165,"body_markdown":"@Jens It has been added","body":"@Jens It has been added"}],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661414046,"creation_date":1661414046,"answer_id":73483818,"question_id":73474213,"body_markdown":"It&#39;s related to Log4J, a quick search found a similar problem:\r\n\r\nhttps://stackoverflow.com/questions/52953483/logmanager-getlogger-is-unable-to-determine-class-name-on-java-11","title":"Micronaut JAR throws BeanInstantiationException, but not when running with IntelliJ","body":"<p>It's related to Log4J, a quick search found a similar problem:</p>\n<p><a href=\"https://stackoverflow.com/questions/52953483/logmanager-getlogger-is-unable-to-determine-class-name-on-java-11\">LogManager.getLogger() is unable to determine class name on Java 11</a></p>\n"}],"owner":{"account_id":25900156,"reputation":59,"user_id":19626177,"display_name":"JavaStan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73483818,"answer_count":1,"score":0,"last_activity_date":1661414046,"creation_date":1661348308,"question_id":73474213,"body_markdown":"I recently packaged my Micronaut application using Maven: `./mvnw package`\r\n\r\nThis generates a JAR file, which I run using: `java -jar /path/to/jar/app_name-0.1.jar`\r\n\r\nFor some reason, the application throws a `io.micronaut.context.exceptions.BeanInstantiationException` when running the JAR. That does not happen when I run the application in IntelliJ. Am I doing something wrong in regards to building/running? I am using JDK 18.\r\n\r\nThanks!\r\n\r\nStack trace:\r\n```\r\n08:25:03.092 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception &#39;io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [io.micronaut.security.authentication.Authenticator]\r\n\r\nMessage: Could not initialize class com.app.security.CustomAuthenticationProvider\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration)&#39; [enable DEBUG level for full stacktrace] was thrown by a user handler&#39;s exceptionCaught() method while handling the following exception:\r\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [io.micronaut.security.authentication.Authenticator]\r\n\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2367)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n\tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n\tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n\tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\r\n\tat io.micronaut.context.DefaultBeanContext.addCandidateToList(DefaultBeanContext.java:3511)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistrations(DefaultBeanContext.java:3457)\r\n\tat io.micronaut.context.DefaultBeanContext.getBeanRegistrations(DefaultBeanContext.java:3427)\r\n\tat io.micronaut.context.DefaultBeanContext.getBeansOfType(DefaultBeanContext.java:1381)\r\n\tat io.micronaut.context.AbstractBeanResolutionContext.getBeansOfType(AbstractBeanResolutionContext.java:72)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBeansOfType(AbstractInitializableBeanDefinition.java:2161)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.getBeansOfTypeForConstructorArgument(AbstractInitializableBeanDefinition.java:1437)\r\n\tat io.micronaut.security.authentication.$Authenticator$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n\tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n\tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n\tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\r\n\tat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\r\n\tat io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\r\n\tat io.micronaut.security.authentication.$BasicAuthAuthenticationFetcher$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n\tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n\tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n\tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\r\n\tat io.micronaut.context.DefaultBeanContext.addCandidateToList(DefaultBeanContext.java:3511)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistrations(DefaultBeanContext.java:3457)\r\n\tat io.micronaut.context.DefaultBeanContext.getBeanRegistrations(DefaultBeanContext.java:3427)\r\n\tat io.micronaut.context.DefaultBeanContext.getBeansOfType(DefaultBeanContext.java:1381)\r\n\tat io.micronaut.context.AbstractBeanResolutionContext.getBeansOfType(AbstractBeanResolutionContext.java:72)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBeansOfType(AbstractInitializableBeanDefinition.java:2161)\r\n\tat io.micronaut.context.AbstractInitializableBeanDefinition.getBeansOfTypeForConstructorArgument(AbstractInitializableBeanDefinition.java:1437)\r\n\tat io.micronaut.security.filters.$SecurityFilter$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n\tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n\tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n\tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n\tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\r\n\tat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1583)\r\n\tat io.micronaut.web.router.BeanDefinitionFilterRoute.lambda$new$0(BeanDefinitionFilterRoute.java:43)\r\n\tat io.micronaut.web.router.DefaultFilterRoute.getFilter(DefaultFilterRoute.java:96)\r\n\tat io.micronaut.web.router.DefaultRouter.lambda$new$0(DefaultRouter.java:64)\r\n\tat io.micronaut.core.util.SupplierUtil$1.initialize(SupplierUtil.java:48)\r\n\tat io.micronaut.core.util.SupplierUtil$1.get(SupplierUtil.java:43)\r\n\tat io.micronaut.web.router.DefaultRouter.findFilters(DefaultRouter.java:438)\r\n\tat io.micronaut.http.server.RouteExecutor.filterPublisher(RouteExecutor.java:371)\r\n\tat io.micronaut.http.server.RouteExecutor.buildResultEmitter(RouteExecutor.java:634)\r\n\tat io.micronaut.http.server.RouteExecutor.executeRoute(RouteExecutor.java:354)\r\n\tat io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:594)\r\n\tat io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\r\n\tat io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.micronaut.http.netty.reactive.HandlerPublisher.channelRead(HandlerPublisher.java:325)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:279)\r\n\tat io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:134)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n\tat io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n\tat io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\r\n\tat io.netty.handler.flow.FlowControlHandler.channelRead(FlowControlHandler.java:162)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat com.app.app.$CustomAuthenticationProvider$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n\t... 136 common frames omitted\r\nCaused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\r\n\tat org.apache.logging.log4j.LogManager.callerClass(LogManager.java:573)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:598)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:585)\r\n\tat com.app.security.CustomAuthenticationProvider.&lt;clinit&gt;(CustomAuthenticationProvider.java:75)\r\n\t... 138 common frames omitted\r\n\r\n```\r\n\r\n`CustomAuthenticationProvider`:\r\n```\r\n//imports\r\n\r\n@Singleton\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n    private final DatabaseConfiguration databaseConfiguration;\r\n\r\n    private static final User USER;\r\n\r\n    private static final Logger LOGGER;\r\n\r\n    static {\r\n        USER = User.USER;\r\n\r\n        LOGGER = LogManager.getLogger();\r\n    } //static\r\n\r\n    public CustomAuthenticationProvider(DatabaseConfiguration databaseConfiguration) {\r\n        this.databaseConfiguration = databaseConfiguration;\r\n    } //CustomAuthenticationProvider\r\n\r\n    private Integer findUser(String email, String password) {\r\n        Objects.requireNonNull(email, &quot;the specified email is null&quot;);\r\n\r\n        Objects.requireNonNull(password, &quot;the specified password is null&quot;);\r\n\r\n        String databaseUrl = this.databaseConfiguration.url();\r\n\r\n        Record record;\r\n\r\n        try (Connection connection = DriverManager.getConnection(databaseUrl)) {\r\n            DSLContext context = DSL.using(connection, SQLDialect.POSTGRES);\r\n\r\n            record = context.select(USER.ID, USER.PASSWORD_HASH)\r\n                            .from(USER)\r\n                            .where(USER.EMAIL.eq(email))\r\n                            .fetchOne();\r\n        } catch (SQLException | DataAccessException e) {\r\n            LOGGER.atError()\r\n                  .withThrowable(e)\r\n                  .log();\r\n\r\n            return null;\r\n        } //end try catch\r\n\r\n        if (record == null) {\r\n            return null;\r\n        } //end if\r\n\r\n        String passwordHash = record.get(USER.PASSWORD_HASH);\r\n\r\n        boolean matches = Password.check(password, passwordHash)\r\n                                  .withBcrypt();\r\n\r\n        if (!matches) {\r\n            return null;\r\n        } //end if\r\n\r\n        return record.get(USER.ID);\r\n    } //findUser\r\n\r\n    @Override\r\n    public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest,\r\n        AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\r\n        return Flux.create(emitter -&gt; {\r\n            Object identity = authenticationRequest.getIdentity();\r\n\r\n            Object secret = authenticationRequest.getSecret();\r\n\r\n            if (!(identity instanceof String email) || !(secret instanceof String password)) {\r\n                AuthenticationException authenticationException = AuthenticationResponse.exception();\r\n\r\n                emitter.error(authenticationException);\r\n\r\n                return;\r\n            } //end if\r\n\r\n            email = email.toLowerCase();\r\n\r\n            Integer userId = this.findUser(email, password);\r\n\r\n            if (userId == null) {\r\n                AuthenticationException authenticationException = AuthenticationResponse.exception();\r\n\r\n                emitter.error(authenticationException);\r\n\r\n                return;\r\n            } //end if\r\n\r\n            String userIdString = String.valueOf(userId);\r\n\r\n            AuthenticationResponse successResponse = AuthenticationResponse.success(userIdString);\r\n\r\n            emitter.next(successResponse);\r\n\r\n            emitter.complete();\r\n        }, FluxSink.OverflowStrategy.ERROR);\r\n    } //authenticate\r\n}\r\n```\r\n\r\n`pom.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;app_name&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;jdk.version&gt;18&lt;/jdk.version&gt;\r\n        &lt;release.version&gt;18&lt;/release.version&gt;\r\n        &lt;micronaut.version&gt;3.6.1&lt;/micronaut.version&gt;\r\n        &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\r\n        &lt;exec.mainClass&gt;com.app.Application&lt;/exec.mainClass&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-security-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.password4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;password4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-test-rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n                    &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n                    &lt;annotationProcessorPaths combine.children=&quot;append&quot;&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n                            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-Amicronaut.processing.group=com.app&lt;/arg&gt;\r\n                        &lt;arg&gt;-Amicronaut.processing.module=app_name&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n`$CustomAuthenticationProvider$Definition`:\r\n```\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage com.app.security;\r\n\r\nimport com.app.utils.DatabaseConfiguration;\r\nimport io.micronaut.context.AbstractInitializableBeanDefinition;\r\nimport io.micronaut.context.BeanContext;\r\nimport io.micronaut.context.BeanResolutionContext;\r\nimport io.micronaut.context.Qualifier;\r\nimport io.micronaut.core.annotation.AnnotationMetadata;\r\nimport io.micronaut.core.annotation.Generated;\r\nimport io.micronaut.core.type.Argument;\r\nimport io.micronaut.inject.BeanDefinition;\r\nimport io.micronaut.inject.BeanFactory;\r\nimport io.micronaut.inject.ExecutableMethodsDefinition;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\n// $FF: synthetic class\r\n@Generated\r\nclass $CustomAuthenticationProvider$Definition extends AbstractInitializableBeanDefinition&lt;CustomAuthenticationProvider&gt; implements BeanFactory&lt;CustomAuthenticationProvider&gt; {\r\n    private static final AbstractInitializableBeanDefinition.MethodOrFieldReference $CONSTRUCTOR = new AbstractInitializableBeanDefinition.MethodReference(CustomAuthenticationProvider.class, &quot;&lt;init&gt;&quot;, new Argument[]{Argument.of(DatabaseConfiguration.class, &quot;databaseConfiguration&quot;)}, (AnnotationMetadata)null, false);\r\n\r\n    public CustomAuthenticationProvider build(BeanResolutionContext var1, BeanContext var2, BeanDefinition var3) {\r\n        CustomAuthenticationProvider var4 = new CustomAuthenticationProvider((DatabaseConfiguration)super.getBeanForConstructorArgument(var1, var2, 0, (Qualifier)null));\r\n        var4 = (CustomAuthenticationProvider)this.injectBean(var1, var2, var4);\r\n        return var4;\r\n    }\r\n\r\n    protected Object injectBean(BeanResolutionContext var1, BeanContext var2, Object var3) {\r\n        CustomAuthenticationProvider var4 = (CustomAuthenticationProvider)var3;\r\n        return super.injectBean(var1, var2, var3);\r\n    }\r\n\r\n    public $CustomAuthenticationProvider$Definition() {\r\n        this(CustomAuthenticationProvider.class, $CONSTRUCTOR);\r\n    }\r\n\r\n    protected $CustomAuthenticationProvider$Definition(Class var1, AbstractInitializableBeanDefinition.MethodOrFieldReference var2) {\r\n        super(var1, var2, $CustomAuthenticationProvider$Definition$Reference.$ANNOTATION_METADATA, (AbstractInitializableBeanDefinition.MethodReference[])null, (AbstractInitializableBeanDefinition.FieldReference[])null, (AbstractInitializableBeanDefinition.AnnotationReference[])null, (ExecutableMethodsDefinition)null, (Map)null, Optional.of(&quot;javax.inject.Singleton&quot;), false, false, false, true, false, false, false, false);\r\n    }\r\n}\r\n```","title":"Micronaut JAR throws BeanInstantiationException, but not when running with IntelliJ","body":"<p>I recently packaged my Micronaut application using Maven: <code>./mvnw package</code></p>\n<p>This generates a JAR file, which I run using: <code>java -jar /path/to/jar/app_name-0.1.jar</code></p>\n<p>For some reason, the application throws a <code>io.micronaut.context.exceptions.BeanInstantiationException</code> when running the JAR. That does not happen when I run the application in IntelliJ. Am I doing something wrong in regards to building/running? I am using JDK 18.</p>\n<p>Thanks!</p>\n<p>Stack trace:</p>\n<pre><code>08:25:03.092 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception 'io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [io.micronaut.security.authentication.Authenticator]\n\nMessage: Could not initialize class com.app.security.CustomAuthenticationProvider\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration)' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [io.micronaut.security.authentication.Authenticator]\n\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2367)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\n    at io.micronaut.context.DefaultBeanContext.addCandidateToList(DefaultBeanContext.java:3511)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistrations(DefaultBeanContext.java:3457)\n    at io.micronaut.context.DefaultBeanContext.getBeanRegistrations(DefaultBeanContext.java:3427)\n    at io.micronaut.context.DefaultBeanContext.getBeansOfType(DefaultBeanContext.java:1381)\n    at io.micronaut.context.AbstractBeanResolutionContext.getBeansOfType(AbstractBeanResolutionContext.java:72)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBeansOfType(AbstractInitializableBeanDefinition.java:2161)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeansOfTypeForConstructorArgument(AbstractInitializableBeanDefinition.java:1437)\n    at io.micronaut.security.authentication.$Authenticator$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\n    at io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\n    at io.micronaut.security.authentication.$BasicAuthAuthenticationFetcher$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\n    at io.micronaut.context.DefaultBeanContext.addCandidateToList(DefaultBeanContext.java:3511)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistrations(DefaultBeanContext.java:3457)\n    at io.micronaut.context.DefaultBeanContext.getBeanRegistrations(DefaultBeanContext.java:3427)\n    at io.micronaut.context.DefaultBeanContext.getBeansOfType(DefaultBeanContext.java:1381)\n    at io.micronaut.context.AbstractBeanResolutionContext.getBeansOfType(AbstractBeanResolutionContext.java:72)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBeansOfType(AbstractInitializableBeanDefinition.java:2161)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeansOfTypeForConstructorArgument(AbstractInitializableBeanDefinition.java:1437)\n    at io.micronaut.security.filters.$SecurityFilter$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2853)\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1583)\n    at io.micronaut.web.router.BeanDefinitionFilterRoute.lambda$new$0(BeanDefinitionFilterRoute.java:43)\n    at io.micronaut.web.router.DefaultFilterRoute.getFilter(DefaultFilterRoute.java:96)\n    at io.micronaut.web.router.DefaultRouter.lambda$new$0(DefaultRouter.java:64)\n    at io.micronaut.core.util.SupplierUtil$1.initialize(SupplierUtil.java:48)\n    at io.micronaut.core.util.SupplierUtil$1.get(SupplierUtil.java:43)\n    at io.micronaut.web.router.DefaultRouter.findFilters(DefaultRouter.java:438)\n    at io.micronaut.http.server.RouteExecutor.filterPublisher(RouteExecutor.java:371)\n    at io.micronaut.http.server.RouteExecutor.buildResultEmitter(RouteExecutor.java:634)\n    at io.micronaut.http.server.RouteExecutor.executeRoute(RouteExecutor.java:354)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:594)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.channelRead(HandlerPublisher.java:325)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:279)\n    at io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:134)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\n    at io.netty.handler.flow.FlowControlHandler.channelRead(FlowControlHandler.java:162)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ExceptionInInitializerError: null\n    at com.app.app.$CustomAuthenticationProvider$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\n    ... 136 common frames omitted\nCaused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\n    at org.apache.logging.log4j.LogManager.callerClass(LogManager.java:573)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:598)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:585)\n    at com.app.security.CustomAuthenticationProvider.&lt;clinit&gt;(CustomAuthenticationProvider.java:75)\n    ... 138 common frames omitted\n\n</code></pre>\n<p><code>CustomAuthenticationProvider</code>:</p>\n<pre><code>//imports\n\n@Singleton\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n    private final DatabaseConfiguration databaseConfiguration;\n\n    private static final User USER;\n\n    private static final Logger LOGGER;\n\n    static {\n        USER = User.USER;\n\n        LOGGER = LogManager.getLogger();\n    } //static\n\n    public CustomAuthenticationProvider(DatabaseConfiguration databaseConfiguration) {\n        this.databaseConfiguration = databaseConfiguration;\n    } //CustomAuthenticationProvider\n\n    private Integer findUser(String email, String password) {\n        Objects.requireNonNull(email, &quot;the specified email is null&quot;);\n\n        Objects.requireNonNull(password, &quot;the specified password is null&quot;);\n\n        String databaseUrl = this.databaseConfiguration.url();\n\n        Record record;\n\n        try (Connection connection = DriverManager.getConnection(databaseUrl)) {\n            DSLContext context = DSL.using(connection, SQLDialect.POSTGRES);\n\n            record = context.select(USER.ID, USER.PASSWORD_HASH)\n                            .from(USER)\n                            .where(USER.EMAIL.eq(email))\n                            .fetchOne();\n        } catch (SQLException | DataAccessException e) {\n            LOGGER.atError()\n                  .withThrowable(e)\n                  .log();\n\n            return null;\n        } //end try catch\n\n        if (record == null) {\n            return null;\n        } //end if\n\n        String passwordHash = record.get(USER.PASSWORD_HASH);\n\n        boolean matches = Password.check(password, passwordHash)\n                                  .withBcrypt();\n\n        if (!matches) {\n            return null;\n        } //end if\n\n        return record.get(USER.ID);\n    } //findUser\n\n    @Override\n    public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest,\n        AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\n        return Flux.create(emitter -&gt; {\n            Object identity = authenticationRequest.getIdentity();\n\n            Object secret = authenticationRequest.getSecret();\n\n            if (!(identity instanceof String email) || !(secret instanceof String password)) {\n                AuthenticationException authenticationException = AuthenticationResponse.exception();\n\n                emitter.error(authenticationException);\n\n                return;\n            } //end if\n\n            email = email.toLowerCase();\n\n            Integer userId = this.findUser(email, password);\n\n            if (userId == null) {\n                AuthenticationException authenticationException = AuthenticationResponse.exception();\n\n                emitter.error(authenticationException);\n\n                return;\n            } //end if\n\n            String userIdString = String.valueOf(userId);\n\n            AuthenticationResponse successResponse = AuthenticationResponse.success(userIdString);\n\n            emitter.next(successResponse);\n\n            emitter.complete();\n        }, FluxSink.OverflowStrategy.ERROR);\n    } //authenticate\n}\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;app_name&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;jdk.version&gt;18&lt;/jdk.version&gt;\n        &lt;release.version&gt;18&lt;/release.version&gt;\n        &lt;micronaut.version&gt;3.6.1&lt;/micronaut.version&gt;\n        &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n        &lt;exec.mainClass&gt;com.app.Application&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;1.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n            &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n            &lt;version&gt;3.17.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.password4j&lt;/groupId&gt;\n            &lt;artifactId&gt;password4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-test-rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n                &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Uncomment to enable incremental compilation --&gt;\n                    &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n                    &lt;annotationProcessorPaths combine.children=&quot;append&quot;&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-Amicronaut.processing.group=com.app&lt;/arg&gt;\n                        &lt;arg&gt;-Amicronaut.processing.module=app_name&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><code>$CustomAuthenticationProvider$Definition</code>:</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage com.app.security;\n\nimport com.app.utils.DatabaseConfiguration;\nimport io.micronaut.context.AbstractInitializableBeanDefinition;\nimport io.micronaut.context.BeanContext;\nimport io.micronaut.context.BeanResolutionContext;\nimport io.micronaut.context.Qualifier;\nimport io.micronaut.core.annotation.AnnotationMetadata;\nimport io.micronaut.core.annotation.Generated;\nimport io.micronaut.core.type.Argument;\nimport io.micronaut.inject.BeanDefinition;\nimport io.micronaut.inject.BeanFactory;\nimport io.micronaut.inject.ExecutableMethodsDefinition;\nimport java.util.Map;\nimport java.util.Optional;\n\n// $FF: synthetic class\n@Generated\nclass $CustomAuthenticationProvider$Definition extends AbstractInitializableBeanDefinition&lt;CustomAuthenticationProvider&gt; implements BeanFactory&lt;CustomAuthenticationProvider&gt; {\n    private static final AbstractInitializableBeanDefinition.MethodOrFieldReference $CONSTRUCTOR = new AbstractInitializableBeanDefinition.MethodReference(CustomAuthenticationProvider.class, &quot;&lt;init&gt;&quot;, new Argument[]{Argument.of(DatabaseConfiguration.class, &quot;databaseConfiguration&quot;)}, (AnnotationMetadata)null, false);\n\n    public CustomAuthenticationProvider build(BeanResolutionContext var1, BeanContext var2, BeanDefinition var3) {\n        CustomAuthenticationProvider var4 = new CustomAuthenticationProvider((DatabaseConfiguration)super.getBeanForConstructorArgument(var1, var2, 0, (Qualifier)null));\n        var4 = (CustomAuthenticationProvider)this.injectBean(var1, var2, var4);\n        return var4;\n    }\n\n    protected Object injectBean(BeanResolutionContext var1, BeanContext var2, Object var3) {\n        CustomAuthenticationProvider var4 = (CustomAuthenticationProvider)var3;\n        return super.injectBean(var1, var2, var3);\n    }\n\n    public $CustomAuthenticationProvider$Definition() {\n        this(CustomAuthenticationProvider.class, $CONSTRUCTOR);\n    }\n\n    protected $CustomAuthenticationProvider$Definition(Class var1, AbstractInitializableBeanDefinition.MethodOrFieldReference var2) {\n        super(var1, var2, $CustomAuthenticationProvider$Definition$Reference.$ANNOTATION_METADATA, (AbstractInitializableBeanDefinition.MethodReference[])null, (AbstractInitializableBeanDefinition.FieldReference[])null, (AbstractInitializableBeanDefinition.AnnotationReference[])null, (ExecutableMethodsDefinition)null, (Map)null, Optional.of(&quot;javax.inject.Singleton&quot;), false, false, false, true, false, false, false, false);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1646103157,"post_id":71302580,"comment_id":126036237,"body_markdown":"Using different Gradle distributions could be an option.","body":"Using different Gradle distributions could be an option."}],"answers":[{"tags":[],"owner":{"account_id":13573973,"reputation":108,"user_id":10028037,"display_name":"Erick Pastrana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646253294,"creation_date":1646253294,"answer_id":71328823,"question_id":71302580,"body_markdown":"I&#39;ll answer my own question in case someone finds it useful: \r\n&lt;br&gt;&lt;br&gt;\r\n  The solution is to specify a different gradle-user-home for each job. Specifically, setting it to the current working directory. (i.e. project directory) and you can do it whit the following command:\r\n\r\n    ./gradlew -g $PWD &lt;build (or bootRun or etc the command you need)&gt;","title":"Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher()","body":"<p>I'll answer my own question in case someone finds it useful:\n<br><br>\nThe solution is to specify a different gradle-user-home for each job. Specifically, setting it to the current working directory. (i.e. project directory) and you can do it whit the following command:</p>\n<pre><code>./gradlew -g $PWD &lt;build (or bootRun or etc the command you need)&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11043050,"reputation":2512,"user_id":8110255,"accept_rate":0,"display_name":"iamanbansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661413836,"creation_date":1661413836,"answer_id":73483766,"question_id":71302580,"body_markdown":"Exception:\r\n\r\n    Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher().\r\n    \r\n    Timeout waiting to lock file hash cache(/Users/username/.gradle/caches/6.4/fileHashes). It is currently in use by another Gradle instance.\r\n    Owner PID: 40300\r\n    Our PID: 44136\r\n    Owner Operation:\r\n    Our operation:\r\n    Lock file: /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock\r\n\r\nRemoving lock file worked for me\r\n\r\n    rm /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock\r\n","title":"Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher()","body":"<p>Exception:</p>\n<pre><code>Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher().\n\nTimeout waiting to lock file hash cache(/Users/username/.gradle/caches/6.4/fileHashes). It is currently in use by another Gradle instance.\nOwner PID: 40300\nOur PID: 44136\nOwner Operation:\nOur operation:\nLock file: /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock\n</code></pre>\n<p>Removing lock file worked for me</p>\n<pre><code>rm /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock\n</code></pre>\n"}],"owner":{"account_id":13573973,"reputation":108,"user_id":10028037,"display_name":"Erick Pastrana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328823,"answer_count":2,"score":0,"last_activity_date":1661413836,"creation_date":1646095316,"question_id":71302580,"body_markdown":"When I try to run 2 gradle projects simultaneously, it throws me the following error:\r\n\r\n&gt; Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher().\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&gt; Timeout waiting to lock file hash cache(/Users/username/.gradle/caches/6.4/fileHashes). It is currently in use by another Gradle instance.\r\n    &lt;br&gt; Owner PID: 40300\r\n    &lt;br&gt; Our PID: 44136\r\n    &lt;br&gt; Owner Operation: \r\n    &lt;br&gt; Our operation: \r\n    &lt;br&gt; Lock file: /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock\r\n\r\n\r\nI have read that the best solution is to kill practically all the java processes with the command &quot;killall -9 java&quot; or some derivative that kills the process that prevents the new application from starting, and yes, when I finish an application I can start any of the others , but the thing is that I actually need to run 3 applications that communicate with each other on my local machine, but when I run the first one, the other 2 give me that error.","title":"Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher()","body":"<p>When I try to run 2 gradle projects simultaneously, it throws me the following error:</p>\n<blockquote>\n<p>Could not create service of type FileHasher using GradleUserHomeServices.createCachingFileHasher().\n<br>\n<br>\nTimeout waiting to lock file hash cache(/Users/username/.gradle/caches/6.4/fileHashes). It is currently in use by another Gradle instance.\n<br> Owner PID: 40300\n<br> Our PID: 44136\n<br> Owner Operation:\n<br> Our operation:\n<br> Lock file: /Users/epereda/.gradle/caches/6.4/fileHashes/fileHashes.lock</p>\n</blockquote>\n<p>I have read that the best solution is to kill practically all the java processes with the command &quot;killall -9 java&quot; or some derivative that kills the process that prevents the new application from starting, and yes, when I finish an application I can start any of the others , but the thing is that I actually need to run 3 applications that communicate with each other on my local machine, but when I run the first one, the other 2 give me that error.</p>\n"},{"tags":["java","download","java-8","mime-types","file-extension"],"comments":[{"owner":{"account_id":5080543,"reputation":2464,"user_id":4076806,"accept_rate":88,"display_name":"Ueli Hofstetter"},"score":3,"creation_date":1514840828,"post_id":48053127,"comment_id":83078710,"body_markdown":"have you checked https://stackoverflow.com/questions/5541694/how-to-get-file-extension-from-content-type ?","body":"have you checked <a href=\"https://stackoverflow.com/questions/5541694/how-to-get-file-extension-from-content-type\" title=\"how to get file extension from content type\">stackoverflow.com/questions/5541694/&hellip;</a> ?"},{"owner":{"account_id":5260250,"reputation":512,"user_id":4201972,"accept_rate":75,"display_name":"Doros Barmajia"},"score":0,"creation_date":1514842473,"post_id":48053127,"comment_id":83079064,"body_markdown":"@UeliHofstetter Thanks. The Tika toolkit is a little big (56 MB) for my project.","body":"@UeliHofstetter Thanks. The Tika toolkit is a little big (56 MB) for my project."}],"answers":[{"tags":[],"owner":{"account_id":2225921,"reputation":3827,"user_id":1964707,"accept_rate":67,"display_name":"Mindaugas Bernatavičius"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1514841115,"creation_date":1514840259,"answer_id":48053185,"question_id":48053127,"body_markdown":"There are two ways generally: \r\n\r\n- have a mapping of MimeTypes to extensions;\r\n- compute it, using some logic;\r\n\r\nThe second approach is really not good, so I offer it only for completion. For the first approach you can use this resource: https://www.freeformatter.com/mime-types-list.html\r\n\r\nI would use `HashMap&lt;K,V&gt;` - the key being the MimeType and the value be the extension (or similar).","title":"Get the extension from a MimeType","body":"<p>There are two ways generally: </p>\n\n<ul>\n<li>have a mapping of MimeTypes to extensions;</li>\n<li>compute it, using some logic;</li>\n</ul>\n\n<p>The second approach is really not good, so I offer it only for completion. For the first approach you can use this resource: <a href=\"https://www.freeformatter.com/mime-types-list.html\" rel=\"noreferrer\">https://www.freeformatter.com/mime-types-list.html</a></p>\n\n<p>I would use <code>HashMap&lt;K,V&gt;</code> - the key being the MimeType and the value be the extension (or similar).</p>\n"},{"tags":[],"owner":{"account_id":5260250,"reputation":512,"user_id":4201972,"accept_rate":75,"display_name":"Doros Barmajia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606315940,"creation_date":1514909220,"answer_id":48064157,"question_id":48053127,"body_markdown":"Using the suggestion of &quot;Mindaugas Bernatavičius&quot;, I created a class to resolve my problem.\r\n\r\n\r\n----------\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class MimeTypesAndExtensions {\r\n    \r\n        static HashMap&lt;String, String&gt; MimesExtensions_HashMap = new HashMap&lt;String, String&gt;();\r\n    \r\n        public MimeTypesAndExtensions() {\r\n            super();\r\n        }\r\n    \r\n        static {\r\n            createHashMap();\r\n        }\r\n    \r\n        /*****************************************************************************\r\n         Extracted from : https://www.freeformatter.com/mime-types-list.html\r\n    \r\n         - The &quot;x-&quot; prefix of a MIME subtype simply means that it&#39;s non-standard,\r\n           i.e. not registered with the &quot;Internet Assigned Numbers Authority&quot; (IANA).\r\n         - The &quot;vnd&quot; prefix means that the MIME value is vendor specific.\r\n        *****************************************************************************/\r\n        private static void createHashMap() {\r\n    \r\n            // This list is not complete... \r\n            // I got it from https://www.freeformatter.com/mime-types-list.html\r\n            MimesExtensions_HashMap.put(&quot;application/vnd.hzn-3d-crossword&quot;, &quot;x3d&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/vnd.lotus-1-2-3&quot;, &quot;123&quot;);\r\n            MimesExtensions_HashMap.put(&quot;text/vnd.in3d.3dml&quot;, &quot;3dml&quot;);\r\n            MimesExtensions_HashMap.put(&quot;video/3gpp2&quot;, &quot;3g2&quot;);\r\n            .....       \r\n            MimesExtensions_HashMap.put(&quot;application/yin+xml&quot;, &quot;yin&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/vnd.zzazz.deck+xml&quot;, &quot;zaz&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/zip&quot;, &quot;zip&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/vnd.zul&quot;, &quot;zir&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/vnd.handheld-entertainment+xml&quot;, &quot;zmm&quot;);\r\n            MimesExtensions_HashMap.put(&quot;application/andrew-inset&quot;, &quot;N/A&quot;);\r\n        }\r\n    \r\n        public static String getExtensionFromMimeType(String mimeType) {\r\n    \r\n            String extension = &quot;Extension Not Found&quot;;\r\n            for(String key: MimesExtensions_HashMap.keySet()){\r\n                if(key.toLowerCase().equals(mimeType.toLowerCase())) {\r\n                    extension = MimesExtensions_HashMap.get(key);\r\n                    return extension;\r\n                }\r\n            }\r\n    \r\n            return extension;\r\n        }\r\n    \r\n        public static String getMimeTypeFromExtension(String extension) {\r\n    \r\n            StringBuilder mimeTypes = new StringBuilder();\r\n            for(String key: MimesExtensions_HashMap.keySet()){\r\n                if(MimesExtensions_HashMap.get(key.toLowerCase()).equals(extension.toLowerCase())) {\r\n                    mimeTypes.append(key.concat(&quot;\\n&quot;));\r\n                }\r\n            }\r\n    \r\n            if(mimeTypes.length() == 0)\r\n                return &quot;MimeType Not Found&quot;;\r\n    \r\n            return mimeTypes.toString();\r\n        }\r\n    \r\n        public static String getMimeTypesAndExtensions(){\r\n    \r\n            StringBuilder mimeTypesAndExtensions = new StringBuilder();\r\n            for(String key: MimesExtensions_HashMap.keySet()){\r\n                mimeTypesAndExtensions.append(MimesExtensions_HashMap.get(key).concat(&quot;   -----&gt;   &quot;).concat(key).concat(&quot;\\n&quot;));\r\n            }\r\n    \r\n            return mimeTypesAndExtensions.toString();\r\n        }\r\n    }","title":"Get the extension from a MimeType","body":"<p>Using the suggestion of &quot;Mindaugas Bernatavičius&quot;, I created a class to resolve my problem.</p>\n<hr />\n<pre><code>import java.util.HashMap;\n\npublic class MimeTypesAndExtensions {\n\n    static HashMap&lt;String, String&gt; MimesExtensions_HashMap = new HashMap&lt;String, String&gt;();\n\n    public MimeTypesAndExtensions() {\n        super();\n    }\n\n    static {\n        createHashMap();\n    }\n\n    /*****************************************************************************\n     Extracted from : https://www.freeformatter.com/mime-types-list.html\n\n     - The &quot;x-&quot; prefix of a MIME subtype simply means that it's non-standard,\n       i.e. not registered with the &quot;Internet Assigned Numbers Authority&quot; (IANA).\n     - The &quot;vnd&quot; prefix means that the MIME value is vendor specific.\n    *****************************************************************************/\n    private static void createHashMap() {\n\n        // This list is not complete... \n        // I got it from https://www.freeformatter.com/mime-types-list.html\n        MimesExtensions_HashMap.put(&quot;application/vnd.hzn-3d-crossword&quot;, &quot;x3d&quot;);\n        MimesExtensions_HashMap.put(&quot;application/vnd.lotus-1-2-3&quot;, &quot;123&quot;);\n        MimesExtensions_HashMap.put(&quot;text/vnd.in3d.3dml&quot;, &quot;3dml&quot;);\n        MimesExtensions_HashMap.put(&quot;video/3gpp2&quot;, &quot;3g2&quot;);\n        .....       \n        MimesExtensions_HashMap.put(&quot;application/yin+xml&quot;, &quot;yin&quot;);\n        MimesExtensions_HashMap.put(&quot;application/vnd.zzazz.deck+xml&quot;, &quot;zaz&quot;);\n        MimesExtensions_HashMap.put(&quot;application/zip&quot;, &quot;zip&quot;);\n        MimesExtensions_HashMap.put(&quot;application/vnd.zul&quot;, &quot;zir&quot;);\n        MimesExtensions_HashMap.put(&quot;application/vnd.handheld-entertainment+xml&quot;, &quot;zmm&quot;);\n        MimesExtensions_HashMap.put(&quot;application/andrew-inset&quot;, &quot;N/A&quot;);\n    }\n\n    public static String getExtensionFromMimeType(String mimeType) {\n\n        String extension = &quot;Extension Not Found&quot;;\n        for(String key: MimesExtensions_HashMap.keySet()){\n            if(key.toLowerCase().equals(mimeType.toLowerCase())) {\n                extension = MimesExtensions_HashMap.get(key);\n                return extension;\n            }\n        }\n\n        return extension;\n    }\n\n    public static String getMimeTypeFromExtension(String extension) {\n\n        StringBuilder mimeTypes = new StringBuilder();\n        for(String key: MimesExtensions_HashMap.keySet()){\n            if(MimesExtensions_HashMap.get(key.toLowerCase()).equals(extension.toLowerCase())) {\n                mimeTypes.append(key.concat(&quot;\\n&quot;));\n            }\n        }\n\n        if(mimeTypes.length() == 0)\n            return &quot;MimeType Not Found&quot;;\n\n        return mimeTypes.toString();\n    }\n\n    public static String getMimeTypesAndExtensions(){\n\n        StringBuilder mimeTypesAndExtensions = new StringBuilder();\n        for(String key: MimesExtensions_HashMap.keySet()){\n            mimeTypesAndExtensions.append(MimesExtensions_HashMap.get(key).concat(&quot;   -----&gt;   &quot;).concat(key).concat(&quot;\\n&quot;));\n        }\n\n        return mimeTypesAndExtensions.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119370,"reputation":1665,"user_id":1108038,"display_name":"hermeslm"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1532968222,"creation_date":1532968222,"answer_id":51598473,"question_id":48053127,"body_markdown":"The problem with this question is that several extensions can produce the same MimeType, vice versa is simple and you can find it in many utils classes for example:  [MimetypesFileTypeMap][1], but I found this useful class [MimeTypes][2] and I did a little trick adding an extensions Mapping like [@Mindaugas Bernatavičius][3] said, remember this return the default extension by MimeType but can be inaccurate.\r\n\r\n    // Copyright (c) 2003-2009, Jodd Team (jodd.org). All Rights Reserved.\r\n\r\n     package co.tmunited.fs.service.util;\r\n\r\n     import java.util.HashMap;\r\n\r\n     /**\r\n      * Map file extensions to MIME types. Based on the Apache mime.types file.\r\n      * http://www.iana.org/assignments/media-types/\r\n     */\r\n    public class MimeTypes {\r\n\r\n    public static final String MIME_APPLICATION_ANDREW_INSET = &quot;application/andrew-inset&quot;;\r\n    public static final String MIME_APPLICATION_JSON = &quot;application/json&quot;;\r\n    public static final String MIME_APPLICATION_ZIP = &quot;application/zip&quot;;\r\n    public static final String MIME_APPLICATION_X_GZIP = &quot;application/x-gzip&quot;;\r\n    public static final String MIME_APPLICATION_TGZ = &quot;application/tgz&quot;;\r\n    public static final String MIME_APPLICATION_MSWORD = &quot;application/msword&quot;;\r\n    public static final String MIME_APPLICATION_MSWORD_2007 = &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;;\r\n    public static final String MIME_APPLICATION_VND_TEXT = &quot;application/vnd.oasis.opendocument.text&quot;;\r\n    public static final String MIME_APPLICATION_POSTSCRIPT = &quot;application/postscript&quot;;\r\n    public static final String MIME_APPLICATION_PDF = &quot;application/pdf&quot;;\r\n    public static final String MIME_APPLICATION_JNLP = &quot;application/jnlp&quot;;\r\n    public static final String MIME_APPLICATION_MAC_BINHEX40 = &quot;application/mac-binhex40&quot;;\r\n    public static final String MIME_APPLICATION_MAC_COMPACTPRO = &quot;application/mac-compactpro&quot;;\r\n    public static final String MIME_APPLICATION_MATHML_XML = &quot;application/mathml+xml&quot;;\r\n    public static final String MIME_APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\r\n    public static final String MIME_APPLICATION_ODA = &quot;application/oda&quot;;\r\n    public static final String MIME_APPLICATION_RDF_XML = &quot;application/rdf+xml&quot;;\r\n    public static final String MIME_APPLICATION_JAVA_ARCHIVE = &quot;application/java-archive&quot;;\r\n    public static final String MIME_APPLICATION_RDF_SMIL = &quot;application/smil&quot;;\r\n    public static final String MIME_APPLICATION_SRGS = &quot;application/srgs&quot;;\r\n    public static final String MIME_APPLICATION_SRGS_XML = &quot;application/srgs+xml&quot;;\r\n    public static final String MIME_APPLICATION_VND_MIF = &quot;application/vnd.mif&quot;;\r\n    public static final String MIME_APPLICATION_VND_MSEXCEL = &quot;application/vnd.ms-excel&quot;;\r\n    public static final String MIME_APPLICATION_VND_MSEXCEL_2007 = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\r\n    public static final String MIME_APPLICATION_VND_SPREADSHEET = &quot;application/vnd.oasis.opendocument.spreadsheet&quot;;\r\n    public static final String MIME_APPLICATION_VND_MSPOWERPOINT = &quot;application/vnd.ms-powerpoint&quot;;\r\n    public static final String MIME_APPLICATION_VND_RNREALMEDIA = &quot;application/vnd.rn-realmedia&quot;;\r\n    public static final String MIME_APPLICATION_X_BCPIO = &quot;application/x-bcpio&quot;;\r\n    public static final String MIME_APPLICATION_X_CDLINK = &quot;application/x-cdlink&quot;;\r\n    public static final String MIME_APPLICATION_X_CHESS_PGN = &quot;application/x-chess-pgn&quot;;\r\n    public static final String MIME_APPLICATION_X_CPIO = &quot;application/x-cpio&quot;;\r\n    public static final String MIME_APPLICATION_X_CSH = &quot;application/x-csh&quot;;\r\n    public static final String MIME_APPLICATION_X_DIRECTOR = &quot;application/x-director&quot;;\r\n    public static final String MIME_APPLICATION_X_DVI = &quot;application/x-dvi&quot;;\r\n    public static final String MIME_APPLICATION_X_FUTURESPLASH = &quot;application/x-futuresplash&quot;;\r\n    public static final String MIME_APPLICATION_X_GTAR = &quot;application/x-gtar&quot;;\r\n    public static final String MIME_APPLICATION_X_HDF = &quot;application/x-hdf&quot;;\r\n    public static final String MIME_APPLICATION_X_JAVASCRIPT = &quot;application/x-javascript&quot;;\r\n    public static final String MIME_APPLICATION_X_KOAN = &quot;application/x-koan&quot;;\r\n    public static final String MIME_APPLICATION_X_LATEX = &quot;application/x-latex&quot;;\r\n    public static final String MIME_APPLICATION_X_NETCDF = &quot;application/x-netcdf&quot;;\r\n    public static final String MIME_APPLICATION_X_OGG = &quot;application/x-ogg&quot;;\r\n    public static final String MIME_APPLICATION_X_SH = &quot;application/x-sh&quot;;\r\n    public static final String MIME_APPLICATION_X_SHAR = &quot;application/x-shar&quot;;\r\n    public static final String MIME_APPLICATION_X_SHOCKWAVE_FLASH = &quot;application/x-shockwave-flash&quot;;\r\n    public static final String MIME_APPLICATION_X_STUFFIT = &quot;application/x-stuffit&quot;;\r\n    public static final String MIME_APPLICATION_X_SV4CPIO = &quot;application/x-sv4cpio&quot;;\r\n    public static final String MIME_APPLICATION_X_SV4CRC = &quot;application/x-sv4crc&quot;;\r\n    public static final String MIME_APPLICATION_X_TAR = &quot;application/x-tar&quot;;\r\n    public static final String MIME_APPLICATION_X_RAR_COMPRESSED = &quot;application/x-rar-compressed&quot;;\r\n    public static final String MIME_APPLICATION_X_TCL = &quot;application/x-tcl&quot;;\r\n    public static final String MIME_APPLICATION_X_TEX = &quot;application/x-tex&quot;;\r\n    public static final String MIME_APPLICATION_X_TEXINFO = &quot;application/x-texinfo&quot;;\r\n    public static final String MIME_APPLICATION_X_TROFF = &quot;application/x-troff&quot;;\r\n    public static final String MIME_APPLICATION_X_TROFF_MAN = &quot;application/x-troff-man&quot;;\r\n    public static final String MIME_APPLICATION_X_TROFF_ME = &quot;application/x-troff-me&quot;;\r\n    public static final String MIME_APPLICATION_X_TROFF_MS = &quot;application/x-troff-ms&quot;;\r\n    public static final String MIME_APPLICATION_X_USTAR = &quot;application/x-ustar&quot;;\r\n    public static final String MIME_APPLICATION_X_WAIS_SOURCE = &quot;application/x-wais-source&quot;;\r\n    public static final String MIME_APPLICATION_VND_MOZZILLA_XUL_XML = &quot;application/vnd.mozilla.xul+xml&quot;;\r\n    public static final String MIME_APPLICATION_XHTML_XML = &quot;application/xhtml+xml&quot;;\r\n    public static final String MIME_APPLICATION_XSLT_XML = &quot;application/xslt+xml&quot;;\r\n    public static final String MIME_APPLICATION_XML = &quot;application/xml&quot;;\r\n    public static final String MIME_APPLICATION_XML_DTD = &quot;application/xml-dtd&quot;;\r\n    public static final String MIME_IMAGE_BMP = &quot;image/bmp&quot;;\r\n    public static final String MIME_IMAGE_CGM = &quot;image/cgm&quot;;\r\n    public static final String MIME_IMAGE_GIF = &quot;image/gif&quot;;\r\n    public static final String MIME_IMAGE_IEF = &quot;image/ief&quot;;\r\n    public static final String MIME_IMAGE_JPEG = &quot;image/jpeg&quot;;\r\n    public static final String MIME_IMAGE_TIFF = &quot;image/tiff&quot;;\r\n    public static final String MIME_IMAGE_PNG = &quot;image/png&quot;;\r\n    public static final String MIME_IMAGE_SVG_XML = &quot;image/svg+xml&quot;;\r\n    public static final String MIME_IMAGE_VND_DJVU = &quot;image/vnd.djvu&quot;;\r\n    public static final String MIME_IMAGE_WAP_WBMP = &quot;image/vnd.wap.wbmp&quot;;\r\n    public static final String MIME_IMAGE_X_CMU_RASTER = &quot;image/x-cmu-raster&quot;;\r\n    public static final String MIME_IMAGE_X_ICON = &quot;image/x-icon&quot;;\r\n    public static final String MIME_IMAGE_X_PORTABLE_ANYMAP = &quot;image/x-portable-anymap&quot;;\r\n    public static final String MIME_IMAGE_X_PORTABLE_BITMAP = &quot;image/x-portable-bitmap&quot;;\r\n    public static final String MIME_IMAGE_X_PORTABLE_GRAYMAP = &quot;image/x-portable-graymap&quot;;\r\n    public static final String MIME_IMAGE_X_PORTABLE_PIXMAP = &quot;image/x-portable-pixmap&quot;;\r\n    public static final String MIME_IMAGE_X_RGB = &quot;image/x-rgb&quot;;\r\n    public static final String MIME_AUDIO_BASIC = &quot;audio/basic&quot;;\r\n    public static final String MIME_AUDIO_MIDI = &quot;audio/midi&quot;;\r\n    public static final String MIME_AUDIO_MPEG = &quot;audio/mpeg&quot;;\r\n    public static final String MIME_AUDIO_X_AIFF = &quot;audio/x-aiff&quot;;\r\n    public static final String MIME_AUDIO_X_MPEGURL = &quot;audio/x-mpegurl&quot;;\r\n    public static final String MIME_AUDIO_X_PN_REALAUDIO = &quot;audio/x-pn-realaudio&quot;;\r\n    public static final String MIME_AUDIO_X_WAV = &quot;audio/x-wav&quot;;\r\n    public static final String MIME_CHEMICAL_X_PDB = &quot;chemical/x-pdb&quot;;\r\n    public static final String MIME_CHEMICAL_X_XYZ = &quot;chemical/x-xyz&quot;;\r\n    public static final String MIME_MODEL_IGES = &quot;model/iges&quot;;\r\n    public static final String MIME_MODEL_MESH = &quot;model/mesh&quot;;\r\n    public static final String MIME_MODEL_VRLM = &quot;model/vrml&quot;;\r\n    public static final String MIME_TEXT_PLAIN = &quot;text/plain&quot;;\r\n    public static final String MIME_TEXT_RICHTEXT = &quot;text/richtext&quot;;\r\n    public static final String MIME_TEXT_RTF = &quot;text/rtf&quot;;\r\n    public static final String MIME_TEXT_HTML = &quot;text/html&quot;;\r\n    public static final String MIME_TEXT_CALENDAR = &quot;text/calendar&quot;;\r\n    public static final String MIME_TEXT_CSS = &quot;text/css&quot;;\r\n    public static final String MIME_TEXT_SGML = &quot;text/sgml&quot;;\r\n    public static final String MIME_TEXT_TAB_SEPARATED_VALUES = &quot;text/tab-separated-values&quot;;\r\n    public static final String MIME_TEXT_VND_WAP_XML = &quot;text/vnd.wap.wml&quot;;\r\n    public static final String MIME_TEXT_VND_WAP_WMLSCRIPT = &quot;text/vnd.wap.wmlscript&quot;;\r\n    public static final String MIME_TEXT_X_SETEXT = &quot;text/x-setext&quot;;\r\n    public static final String MIME_TEXT_X_COMPONENT = &quot;text/x-component&quot;;\r\n    public static final String MIME_VIDEO_QUICKTIME = &quot;video/quicktime&quot;;\r\n    public static final String MIME_VIDEO_MPEG = &quot;video/mpeg&quot;;\r\n    public static final String MIME_VIDEO_VND_MPEGURL = &quot;video/vnd.mpegurl&quot;;\r\n    public static final String MIME_VIDEO_X_MSVIDEO = &quot;video/x-msvideo&quot;;\r\n    public static final String MIME_VIDEO_X_MS_WMV = &quot;video/x-ms-wmv&quot;;\r\n    public static final String MIME_VIDEO_X_SGI_MOVIE = &quot;video/x-sgi-movie&quot;;\r\n    public static final String MIME_X_CONFERENCE_X_COOLTALK = &quot;x-conference/x-cooltalk&quot;;\r\n\r\n    private static HashMap&lt;String, String&gt; mimeTypeMapping;\r\n    private static HashMap&lt;String, String&gt; extMapping;\r\n\r\n    static {\r\n        mimeTypeMapping = new HashMap&lt;String, String&gt;(200) {\r\n            private void put1(String key, String value) {\r\n                if (put(key, value) != null) {\r\n                    throw new IllegalArgumentException(&quot;Duplicated extension: &quot; + key);\r\n                }\r\n            }\r\n\r\n            {\r\n                put1(&quot;xul&quot;, MIME_APPLICATION_VND_MOZZILLA_XUL_XML);\r\n                put1(&quot;json&quot;, MIME_APPLICATION_JSON);\r\n                put1(&quot;ice&quot;, MIME_X_CONFERENCE_X_COOLTALK);\r\n                put1(&quot;movie&quot;, MIME_VIDEO_X_SGI_MOVIE);\r\n                put1(&quot;avi&quot;, MIME_VIDEO_X_MSVIDEO);\r\n                put1(&quot;wmv&quot;, MIME_VIDEO_X_MS_WMV);\r\n                put1(&quot;m4u&quot;, MIME_VIDEO_VND_MPEGURL);\r\n                put1(&quot;mxu&quot;, MIME_VIDEO_VND_MPEGURL);\r\n                put1(&quot;htc&quot;, MIME_TEXT_X_COMPONENT);\r\n                put1(&quot;etx&quot;, MIME_TEXT_X_SETEXT);\r\n                put1(&quot;wmls&quot;, MIME_TEXT_VND_WAP_WMLSCRIPT);\r\n                put1(&quot;wml&quot;, MIME_TEXT_VND_WAP_XML);\r\n                put1(&quot;tsv&quot;, MIME_TEXT_TAB_SEPARATED_VALUES);\r\n                put1(&quot;sgm&quot;, MIME_TEXT_SGML);\r\n                put1(&quot;sgml&quot;, MIME_TEXT_SGML);\r\n                put1(&quot;css&quot;, MIME_TEXT_CSS);\r\n                put1(&quot;ifb&quot;, MIME_TEXT_CALENDAR);\r\n                put1(&quot;ics&quot;, MIME_TEXT_CALENDAR);\r\n                put1(&quot;wrl&quot;, MIME_MODEL_VRLM);\r\n                put1(&quot;vrlm&quot;, MIME_MODEL_VRLM);\r\n                put1(&quot;silo&quot;, MIME_MODEL_MESH);\r\n                put1(&quot;mesh&quot;, MIME_MODEL_MESH);\r\n                put1(&quot;msh&quot;, MIME_MODEL_MESH);\r\n                put1(&quot;iges&quot;, MIME_MODEL_IGES);\r\n                put1(&quot;igs&quot;, MIME_MODEL_IGES);\r\n                put1(&quot;rgb&quot;, MIME_IMAGE_X_RGB);\r\n                put1(&quot;ppm&quot;, MIME_IMAGE_X_PORTABLE_PIXMAP);\r\n                put1(&quot;pgm&quot;, MIME_IMAGE_X_PORTABLE_GRAYMAP);\r\n                put1(&quot;pbm&quot;, MIME_IMAGE_X_PORTABLE_BITMAP);\r\n                put1(&quot;pnm&quot;, MIME_IMAGE_X_PORTABLE_ANYMAP);\r\n                put1(&quot;ico&quot;, MIME_IMAGE_X_ICON);\r\n                put1(&quot;ras&quot;, MIME_IMAGE_X_CMU_RASTER);\r\n                put1(&quot;wbmp&quot;, MIME_IMAGE_WAP_WBMP);\r\n                put1(&quot;djv&quot;, MIME_IMAGE_VND_DJVU);\r\n                put1(&quot;djvu&quot;, MIME_IMAGE_VND_DJVU);\r\n                put1(&quot;svg&quot;, MIME_IMAGE_SVG_XML);\r\n                put1(&quot;ief&quot;, MIME_IMAGE_IEF);\r\n                put1(&quot;cgm&quot;, MIME_IMAGE_CGM);\r\n                put1(&quot;bmp&quot;, MIME_IMAGE_BMP);\r\n                put1(&quot;xyz&quot;, MIME_CHEMICAL_X_XYZ);\r\n                put1(&quot;pdb&quot;, MIME_CHEMICAL_X_PDB);\r\n                put1(&quot;ra&quot;, MIME_AUDIO_X_PN_REALAUDIO);\r\n                put1(&quot;ram&quot;, MIME_AUDIO_X_PN_REALAUDIO);\r\n                put1(&quot;m3u&quot;, MIME_AUDIO_X_MPEGURL);\r\n                put1(&quot;aifc&quot;, MIME_AUDIO_X_AIFF);\r\n                put1(&quot;aif&quot;, MIME_AUDIO_X_AIFF);\r\n                put1(&quot;aiff&quot;, MIME_AUDIO_X_AIFF);\r\n                put1(&quot;mp3&quot;, MIME_AUDIO_MPEG);\r\n                put1(&quot;mp2&quot;, MIME_AUDIO_MPEG);\r\n                put1(&quot;mp1&quot;, MIME_AUDIO_MPEG);\r\n                put1(&quot;mpga&quot;, MIME_AUDIO_MPEG);\r\n                put1(&quot;kar&quot;, MIME_AUDIO_MIDI);\r\n                put1(&quot;mid&quot;, MIME_AUDIO_MIDI);\r\n                put1(&quot;midi&quot;, MIME_AUDIO_MIDI);\r\n                put1(&quot;dtd&quot;, MIME_APPLICATION_XML_DTD);\r\n                put1(&quot;xsl&quot;, MIME_APPLICATION_XML);\r\n                put1(&quot;xml&quot;, MIME_APPLICATION_XML);\r\n                put1(&quot;xslt&quot;, MIME_APPLICATION_XSLT_XML);\r\n                put1(&quot;xht&quot;, MIME_APPLICATION_XHTML_XML);\r\n                put1(&quot;xhtml&quot;, MIME_APPLICATION_XHTML_XML);\r\n                put1(&quot;src&quot;, MIME_APPLICATION_X_WAIS_SOURCE);\r\n                put1(&quot;ustar&quot;, MIME_APPLICATION_X_USTAR);\r\n                put1(&quot;ms&quot;, MIME_APPLICATION_X_TROFF_MS);\r\n                put1(&quot;me&quot;, MIME_APPLICATION_X_TROFF_ME);\r\n                put1(&quot;man&quot;, MIME_APPLICATION_X_TROFF_MAN);\r\n                put1(&quot;roff&quot;, MIME_APPLICATION_X_TROFF);\r\n                put1(&quot;tr&quot;, MIME_APPLICATION_X_TROFF);\r\n                put1(&quot;t&quot;, MIME_APPLICATION_X_TROFF);\r\n                put1(&quot;texi&quot;, MIME_APPLICATION_X_TEXINFO);\r\n                put1(&quot;texinfo&quot;, MIME_APPLICATION_X_TEXINFO);\r\n                put1(&quot;tex&quot;, MIME_APPLICATION_X_TEX);\r\n                put1(&quot;tcl&quot;, MIME_APPLICATION_X_TCL);\r\n                put1(&quot;sv4crc&quot;, MIME_APPLICATION_X_SV4CRC);\r\n                put1(&quot;sv4cpio&quot;, MIME_APPLICATION_X_SV4CPIO);\r\n                put1(&quot;sit&quot;, MIME_APPLICATION_X_STUFFIT);\r\n                put1(&quot;swf&quot;, MIME_APPLICATION_X_SHOCKWAVE_FLASH);\r\n                put1(&quot;shar&quot;, MIME_APPLICATION_X_SHAR);\r\n                put1(&quot;sh&quot;, MIME_APPLICATION_X_SH);\r\n                put1(&quot;cdf&quot;, MIME_APPLICATION_X_NETCDF);\r\n                put1(&quot;nc&quot;, MIME_APPLICATION_X_NETCDF);\r\n                put1(&quot;latex&quot;, MIME_APPLICATION_X_LATEX);\r\n                put1(&quot;skm&quot;, MIME_APPLICATION_X_KOAN);\r\n                put1(&quot;skt&quot;, MIME_APPLICATION_X_KOAN);\r\n                put1(&quot;skd&quot;, MIME_APPLICATION_X_KOAN);\r\n                put1(&quot;skp&quot;, MIME_APPLICATION_X_KOAN);\r\n                put1(&quot;js&quot;, MIME_APPLICATION_X_JAVASCRIPT);\r\n                put1(&quot;hdf&quot;, MIME_APPLICATION_X_HDF);\r\n                put1(&quot;gtar&quot;, MIME_APPLICATION_X_GTAR);\r\n                put1(&quot;spl&quot;, MIME_APPLICATION_X_FUTURESPLASH);\r\n                put1(&quot;dvi&quot;, MIME_APPLICATION_X_DVI);\r\n                put1(&quot;dxr&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n                put1(&quot;dir&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n                put1(&quot;dcr&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n                put1(&quot;csh&quot;, MIME_APPLICATION_X_CSH);\r\n                put1(&quot;cpio&quot;, MIME_APPLICATION_X_CPIO);\r\n                put1(&quot;pgn&quot;, MIME_APPLICATION_X_CHESS_PGN);\r\n                put1(&quot;vcd&quot;, MIME_APPLICATION_X_CDLINK);\r\n                put1(&quot;bcpio&quot;, MIME_APPLICATION_X_BCPIO);\r\n                put1(&quot;rm&quot;, MIME_APPLICATION_VND_RNREALMEDIA);\r\n                put1(&quot;ppt&quot;, MIME_APPLICATION_VND_MSPOWERPOINT);\r\n                put1(&quot;mif&quot;, MIME_APPLICATION_VND_MIF);\r\n                put1(&quot;grxml&quot;, MIME_APPLICATION_SRGS_XML);\r\n                put1(&quot;gram&quot;, MIME_APPLICATION_SRGS);\r\n                put1(&quot;smil&quot;, MIME_APPLICATION_RDF_SMIL);\r\n                put1(&quot;smi&quot;, MIME_APPLICATION_RDF_SMIL);\r\n                put1(&quot;rdf&quot;, MIME_APPLICATION_RDF_XML);\r\n                put1(&quot;ogg&quot;, MIME_APPLICATION_X_OGG);\r\n                put1(&quot;oda&quot;, MIME_APPLICATION_ODA);\r\n                put1(&quot;dmg&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;lzh&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;so&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;lha&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;dms&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;bin&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;mathml&quot;, MIME_APPLICATION_MATHML_XML);\r\n                put1(&quot;cpt&quot;, MIME_APPLICATION_MAC_COMPACTPRO);\r\n                put1(&quot;hqx&quot;, MIME_APPLICATION_MAC_BINHEX40);\r\n                put1(&quot;jnlp&quot;, MIME_APPLICATION_JNLP);\r\n                put1(&quot;ez&quot;, MIME_APPLICATION_ANDREW_INSET);\r\n                put1(&quot;txt&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;ini&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;c&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;h&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;cpp&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;cxx&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;cc&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;chh&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;java&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;csv&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;bat&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;cmd&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;asc&quot;, MIME_TEXT_PLAIN);\r\n                put1(&quot;rtf&quot;, MIME_TEXT_RTF);\r\n                put1(&quot;rtx&quot;, MIME_TEXT_RICHTEXT);\r\n                put1(&quot;html&quot;, MIME_TEXT_HTML);\r\n                put1(&quot;htm&quot;, MIME_TEXT_HTML);\r\n                put1(&quot;zip&quot;, MIME_APPLICATION_ZIP);\r\n                put1(&quot;rar&quot;, MIME_APPLICATION_X_RAR_COMPRESSED);\r\n                put1(&quot;gzip&quot;, MIME_APPLICATION_X_GZIP);\r\n                put1(&quot;gz&quot;, MIME_APPLICATION_X_GZIP);\r\n                put1(&quot;tgz&quot;, MIME_APPLICATION_TGZ);\r\n                put1(&quot;tar&quot;, MIME_APPLICATION_X_TAR);\r\n                put1(&quot;gif&quot;, MIME_IMAGE_GIF);\r\n                put1(&quot;jpeg&quot;, MIME_IMAGE_JPEG);\r\n                put1(&quot;jpg&quot;, MIME_IMAGE_JPEG);\r\n                put1(&quot;jpe&quot;, MIME_IMAGE_JPEG);\r\n                put1(&quot;tiff&quot;, MIME_IMAGE_TIFF);\r\n                put1(&quot;tif&quot;, MIME_IMAGE_TIFF);\r\n                put1(&quot;png&quot;, MIME_IMAGE_PNG);\r\n                put1(&quot;au&quot;, MIME_AUDIO_BASIC);\r\n                put1(&quot;snd&quot;, MIME_AUDIO_BASIC);\r\n                put1(&quot;wav&quot;, MIME_AUDIO_X_WAV);\r\n                put1(&quot;mov&quot;, MIME_VIDEO_QUICKTIME);\r\n                put1(&quot;qt&quot;, MIME_VIDEO_QUICKTIME);\r\n                put1(&quot;mpeg&quot;, MIME_VIDEO_MPEG);\r\n                put1(&quot;mpg&quot;, MIME_VIDEO_MPEG);\r\n                put1(&quot;mpe&quot;, MIME_VIDEO_MPEG);\r\n                put1(&quot;abs&quot;, MIME_VIDEO_MPEG);\r\n                put1(&quot;doc&quot;, MIME_APPLICATION_MSWORD);\r\n                put1(&quot;docx&quot;, MIME_APPLICATION_MSWORD_2007);\r\n                put1(&quot;odt&quot;, MIME_APPLICATION_VND_TEXT);\r\n                put1(&quot;xls&quot;, MIME_APPLICATION_VND_MSEXCEL);\r\n                put1(&quot;xlsx&quot;, MIME_APPLICATION_VND_MSEXCEL_2007);\r\n                put1(&quot;ods&quot;, MIME_APPLICATION_VND_SPREADSHEET);\r\n                put1(&quot;eps&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n                put1(&quot;ai&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n                put1(&quot;ps&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n                put1(&quot;pdf&quot;, MIME_APPLICATION_PDF);\r\n                put1(&quot;exe&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;dll&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;class&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n                put1(&quot;jar&quot;, MIME_APPLICATION_JAVA_ARCHIVE);\r\n            }\r\n        };\r\n    }\r\n\r\n    static {\r\n        extMapping = new HashMap&lt;String, String&gt;(200) {\r\n            private void put1(String key, String value) {\r\n                if (put(key, value) != null) {\r\n                    throw new IllegalArgumentException(&quot;Duplicated Mimetype: &quot; + key);\r\n                }\r\n            }\r\n\r\n            {\r\n                put1(MIME_APPLICATION_VND_MOZZILLA_XUL_XML, &quot;xul&quot;);\r\n                put1(MIME_APPLICATION_JSON, &quot;json&quot;);\r\n                put1(MIME_X_CONFERENCE_X_COOLTALK, &quot;ice&quot;);\r\n                put1(MIME_VIDEO_X_SGI_MOVIE, &quot;movie&quot;);\r\n                put1(MIME_VIDEO_X_MSVIDEO, &quot;avi&quot;);\r\n                put1(MIME_VIDEO_X_MS_WMV, &quot;wmv&quot;);\r\n                put1(MIME_VIDEO_VND_MPEGURL, &quot;m4u&quot;);\r\n                put1(MIME_TEXT_X_COMPONENT, &quot;htc&quot;);\r\n                put1(MIME_TEXT_X_SETEXT, &quot;etx&quot;);\r\n                put1(MIME_TEXT_VND_WAP_WMLSCRIPT, &quot;wmls&quot;);\r\n                put1(MIME_TEXT_VND_WAP_XML, &quot;wml&quot;);\r\n                put1(MIME_TEXT_TAB_SEPARATED_VALUES, &quot;tsv&quot;);\r\n                put1(MIME_TEXT_SGML, &quot;sgml&quot;);\r\n                put1(MIME_TEXT_CSS, &quot;css&quot;);\r\n                put1(MIME_TEXT_CALENDAR, &quot;ics&quot;);\r\n                put1(MIME_MODEL_VRLM, &quot;vrlm&quot;);\r\n                put1(MIME_MODEL_MESH, &quot;mesh&quot;);\r\n                put1(MIME_MODEL_IGES, &quot;iges&quot;);\r\n                put1(MIME_IMAGE_X_RGB, &quot;rgb&quot;);\r\n                put1(MIME_IMAGE_X_PORTABLE_PIXMAP, &quot;ppm&quot;);\r\n                put1(MIME_IMAGE_X_PORTABLE_GRAYMAP, &quot;pgm&quot;);\r\n                put1(MIME_IMAGE_X_PORTABLE_BITMAP, &quot;pbm&quot;);\r\n                put1(MIME_IMAGE_X_PORTABLE_ANYMAP, &quot;pnm&quot;);\r\n                put1(MIME_IMAGE_X_ICON, &quot;ico&quot;);\r\n                put1(MIME_IMAGE_X_CMU_RASTER, &quot;ras&quot;);\r\n                put1(MIME_IMAGE_WAP_WBMP, &quot;wbmp&quot;);\r\n                put1(MIME_IMAGE_VND_DJVU, &quot;djvu&quot;);\r\n                put1(MIME_IMAGE_SVG_XML, &quot;svg&quot;);\r\n                put1(MIME_IMAGE_IEF, &quot;ief&quot;);\r\n                put1(MIME_IMAGE_CGM, &quot;cgm&quot;);\r\n                put1(MIME_IMAGE_BMP, &quot;bmp&quot;);\r\n                put1(MIME_CHEMICAL_X_XYZ, &quot;xyz&quot;);\r\n                put1(MIME_CHEMICAL_X_PDB, &quot;pdb&quot;);\r\n                put1(MIME_AUDIO_X_PN_REALAUDIO, &quot;ra&quot;);\r\n                put1(MIME_AUDIO_X_MPEGURL, &quot;m3u&quot;);\r\n                put1(MIME_AUDIO_X_AIFF, &quot;aiff&quot;);\r\n                put1(MIME_AUDIO_MPEG, &quot;mp3&quot;);\r\n                put1(MIME_AUDIO_MIDI, &quot;midi&quot;);\r\n                put1(MIME_APPLICATION_XML_DTD, &quot;dtd&quot;);\r\n                put1(MIME_APPLICATION_XML, &quot;xml&quot;);\r\n                put1(MIME_APPLICATION_XSLT_XML, &quot;xslt&quot;);\r\n                put1(MIME_APPLICATION_XHTML_XML, &quot;xhtml&quot;);\r\n                put1(MIME_APPLICATION_X_WAIS_SOURCE, &quot;src&quot;);\r\n                put1(MIME_APPLICATION_X_USTAR, &quot;ustar&quot;);\r\n                put1(MIME_APPLICATION_X_TROFF_MS, &quot;ms&quot;);\r\n                put1(MIME_APPLICATION_X_TROFF_ME, &quot;me&quot;);\r\n                put1(MIME_APPLICATION_X_TROFF_MAN, &quot;man&quot;);\r\n                put1(MIME_APPLICATION_X_TROFF, &quot;roff&quot;);\r\n                put1(MIME_APPLICATION_X_TEXINFO, &quot;texi&quot;);\r\n                put1(MIME_APPLICATION_X_TEX, &quot;tex&quot;);\r\n                put1(MIME_APPLICATION_X_TCL, &quot;tcl&quot;);\r\n                put1(MIME_APPLICATION_X_SV4CRC, &quot;sv4crc&quot;);\r\n                put1(MIME_APPLICATION_X_SV4CPIO, &quot;sv4cpio&quot;);\r\n                put1(MIME_APPLICATION_X_STUFFIT, &quot;sit&quot;);\r\n                put1(MIME_APPLICATION_X_SHOCKWAVE_FLASH, &quot;swf&quot;);\r\n                put1(MIME_APPLICATION_X_SHAR, &quot;shar&quot;);\r\n                put1(MIME_APPLICATION_X_SH, &quot;sh&quot;);\r\n                put1(MIME_APPLICATION_X_NETCDF, &quot;cdf&quot;);\r\n                put1(MIME_APPLICATION_X_LATEX, &quot;latex&quot;);\r\n                put1(MIME_APPLICATION_X_KOAN, &quot;skm&quot;);\r\n                put1(MIME_APPLICATION_X_JAVASCRIPT, &quot;js&quot;);\r\n                put1(MIME_APPLICATION_X_HDF, &quot;hdf&quot;);\r\n                put1(MIME_APPLICATION_X_GTAR, &quot;gtar&quot;);\r\n                put1(MIME_APPLICATION_X_FUTURESPLASH, &quot;spl&quot;);\r\n                put1(MIME_APPLICATION_X_DVI, &quot;dvi&quot;);\r\n                put1(MIME_APPLICATION_X_DIRECTOR, &quot;dir&quot;);\r\n                put1(MIME_APPLICATION_X_CSH, &quot;csh&quot;);\r\n                put1(MIME_APPLICATION_X_CPIO, &quot;cpio&quot;);\r\n                put1(MIME_APPLICATION_X_CHESS_PGN, &quot;pgn&quot;);\r\n                put1(MIME_APPLICATION_X_CDLINK, &quot;vcd&quot;);\r\n                put1(MIME_APPLICATION_X_BCPIO, &quot;bcpio&quot;);\r\n                put1(MIME_APPLICATION_VND_RNREALMEDIA, &quot;rm&quot;);\r\n                put1(MIME_APPLICATION_VND_MSPOWERPOINT, &quot;ppt&quot;);\r\n                put1(MIME_APPLICATION_VND_MIF, &quot;mif&quot;);\r\n                put1(MIME_APPLICATION_SRGS_XML, &quot;grxml&quot;);\r\n                put1(MIME_APPLICATION_SRGS, &quot;gram&quot;);\r\n                put1(MIME_APPLICATION_RDF_SMIL, &quot;smil&quot;);\r\n                put1(MIME_APPLICATION_RDF_XML, &quot;rdf&quot;);\r\n                put1(MIME_APPLICATION_X_OGG, &quot;ogg&quot;);\r\n                put1(MIME_APPLICATION_ODA, &quot;oda&quot;);\r\n                put1(MIME_APPLICATION_MATHML_XML, &quot;mathml&quot;);\r\n                put1(MIME_APPLICATION_MAC_COMPACTPRO, &quot;cpt&quot;);\r\n                put1(MIME_APPLICATION_MAC_BINHEX40, &quot;hqx&quot;);\r\n                put1(MIME_APPLICATION_JNLP, &quot;jnlp&quot;);\r\n                put1(MIME_APPLICATION_ANDREW_INSET, &quot;ez&quot;);\r\n                put1(MIME_TEXT_PLAIN, &quot;txt&quot;);\r\n                put1(MIME_TEXT_RTF, &quot;rtf&quot;);\r\n                put1(MIME_TEXT_RICHTEXT, &quot;rtx&quot;);\r\n                put1(MIME_TEXT_HTML, &quot;html&quot;);\r\n                put1(MIME_APPLICATION_ZIP, &quot;zip&quot;);\r\n                put1(MIME_APPLICATION_X_RAR_COMPRESSED, &quot;rar&quot;);\r\n                put1(MIME_APPLICATION_X_GZIP, &quot;gzip&quot;);\r\n                put1(MIME_APPLICATION_TGZ, &quot;tgz&quot;);\r\n                put1(MIME_APPLICATION_X_TAR, &quot;tar&quot;);\r\n                put1(MIME_IMAGE_GIF, &quot;gif&quot;);\r\n                put1(MIME_IMAGE_JPEG, &quot;jpg&quot;);\r\n                put1(MIME_IMAGE_TIFF, &quot;tiff&quot;);\r\n                put1(MIME_IMAGE_PNG, &quot;png&quot;);\r\n                put1(MIME_AUDIO_BASIC, &quot;au&quot;);\r\n                put1(MIME_AUDIO_X_WAV, &quot;wav&quot;);\r\n                put1(MIME_VIDEO_QUICKTIME, &quot;mov&quot;);\r\n                put1(MIME_VIDEO_MPEG, &quot;mpg&quot;);\r\n                put1(MIME_APPLICATION_MSWORD, &quot;doc&quot;);\r\n                put1(MIME_APPLICATION_MSWORD_2007, &quot;docx&quot;);\r\n                put1(MIME_APPLICATION_VND_TEXT, &quot;odt&quot;);\r\n                put1(MIME_APPLICATION_VND_MSEXCEL, &quot;xls&quot;);\r\n                put1(MIME_APPLICATION_VND_SPREADSHEET, &quot;ods&quot;);\r\n                put1(MIME_APPLICATION_POSTSCRIPT, &quot;ps&quot;);\r\n                put1(MIME_APPLICATION_PDF, &quot;pdf&quot;);\r\n                put1(MIME_APPLICATION_OCTET_STREAM, &quot;exe&quot;);\r\n                put1(MIME_APPLICATION_JAVA_ARCHIVE, &quot;jar&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Registers MIME type for provided extension. Existing extension type will be overriden.\r\n     */\r\n    public static void registerMimeType(String ext, String mimeType) {\r\n        mimeTypeMapping.put(ext, mimeType);\r\n    }\r\n\r\n    /**\r\n     * Returns the corresponding MIME type to the given extension.\r\n     * If no MIME type was found it returns &#39;application/octet-stream&#39; type.\r\n     */\r\n    public static String getMimeType(String ext) {\r\n        String mimeType = lookupMimeType(ext);\r\n        if (mimeType == null) {\r\n            mimeType = MIME_APPLICATION_OCTET_STREAM;\r\n        }\r\n        return mimeType;\r\n    }\r\n\r\n    /**\r\n     * Simply returns MIME type or &lt;code&gt;null&lt;/code&gt; if no type is found.\r\n     */\r\n    public static String lookupMimeType(String ext) {\r\n        return mimeTypeMapping.get(ext.toLowerCase());\r\n    }\r\n\r\n    /**\r\n     * Simply returns Ext or &lt;code&gt;null&lt;/code&gt; if no Mimetype is found.\r\n     */\r\n    public static String lookupExt(String mimeType) {\r\n        return extMapping.get(mimeType.toLowerCase());\r\n    }\r\n\r\n    /**\r\n     * Returns the default Ext to the given MimeType.\r\n     * If no MIME type was found it returns &#39;unknown&#39; ext.\r\n     */\r\n    public static String getDefaultExt(String mimeType) {\r\n        String ext = lookupExt(mimeType);\r\n        if (ext == null) {\r\n            ext = &quot;unknown&quot;;\r\n        }\r\n        return ext;\r\n    }\r\n    }\r\n\r\nAnd you can use it like this:\r\n\r\n    @Test\r\n    public void mimetypePdf() throws Exception {\r\n\r\n        String ext = MimeTypes.getDefaultExt(MimeTypes.MIME_APPLICATION_PDF);\r\n        Assert.assertEquals(&quot;Not equals&quot;, &quot;pdf&quot;, ext);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\r\n  [2]: http://www.java2s.com/Code/Java/Network-Protocol/MapfileextensionstoMIMEtypesBasedontheApachemimetypesfile.htm\r\n  [3]: https://stackoverflow.com/users/1964707/mindaugas-bernatavi%C4%8Dius","title":"Get the extension from a MimeType","body":"<p>The problem with this question is that several extensions can produce the same MimeType, vice versa is simple and you can find it in many utils classes for example:  <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/activation/MimetypesFileTypeMap.html\" rel=\"noreferrer\">MimetypesFileTypeMap</a>, but I found this useful class <a href=\"http://www.java2s.com/Code/Java/Network-Protocol/MapfileextensionstoMIMEtypesBasedontheApachemimetypesfile.htm\" rel=\"noreferrer\">MimeTypes</a> and I did a little trick adding an extensions Mapping like <a href=\"https://stackoverflow.com/users/1964707/mindaugas-bernatavi%C4%8Dius\">@Mindaugas Bernatavičius</a> said, remember this return the default extension by MimeType but can be inaccurate.</p>\n\n<pre><code>// Copyright (c) 2003-2009, Jodd Team (jodd.org). All Rights Reserved.\n\n package co.tmunited.fs.service.util;\n\n import java.util.HashMap;\n\n /**\n  * Map file extensions to MIME types. Based on the Apache mime.types file.\n  * http://www.iana.org/assignments/media-types/\n */\npublic class MimeTypes {\n\npublic static final String MIME_APPLICATION_ANDREW_INSET = \"application/andrew-inset\";\npublic static final String MIME_APPLICATION_JSON = \"application/json\";\npublic static final String MIME_APPLICATION_ZIP = \"application/zip\";\npublic static final String MIME_APPLICATION_X_GZIP = \"application/x-gzip\";\npublic static final String MIME_APPLICATION_TGZ = \"application/tgz\";\npublic static final String MIME_APPLICATION_MSWORD = \"application/msword\";\npublic static final String MIME_APPLICATION_MSWORD_2007 = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\npublic static final String MIME_APPLICATION_VND_TEXT = \"application/vnd.oasis.opendocument.text\";\npublic static final String MIME_APPLICATION_POSTSCRIPT = \"application/postscript\";\npublic static final String MIME_APPLICATION_PDF = \"application/pdf\";\npublic static final String MIME_APPLICATION_JNLP = \"application/jnlp\";\npublic static final String MIME_APPLICATION_MAC_BINHEX40 = \"application/mac-binhex40\";\npublic static final String MIME_APPLICATION_MAC_COMPACTPRO = \"application/mac-compactpro\";\npublic static final String MIME_APPLICATION_MATHML_XML = \"application/mathml+xml\";\npublic static final String MIME_APPLICATION_OCTET_STREAM = \"application/octet-stream\";\npublic static final String MIME_APPLICATION_ODA = \"application/oda\";\npublic static final String MIME_APPLICATION_RDF_XML = \"application/rdf+xml\";\npublic static final String MIME_APPLICATION_JAVA_ARCHIVE = \"application/java-archive\";\npublic static final String MIME_APPLICATION_RDF_SMIL = \"application/smil\";\npublic static final String MIME_APPLICATION_SRGS = \"application/srgs\";\npublic static final String MIME_APPLICATION_SRGS_XML = \"application/srgs+xml\";\npublic static final String MIME_APPLICATION_VND_MIF = \"application/vnd.mif\";\npublic static final String MIME_APPLICATION_VND_MSEXCEL = \"application/vnd.ms-excel\";\npublic static final String MIME_APPLICATION_VND_MSEXCEL_2007 = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\npublic static final String MIME_APPLICATION_VND_SPREADSHEET = \"application/vnd.oasis.opendocument.spreadsheet\";\npublic static final String MIME_APPLICATION_VND_MSPOWERPOINT = \"application/vnd.ms-powerpoint\";\npublic static final String MIME_APPLICATION_VND_RNREALMEDIA = \"application/vnd.rn-realmedia\";\npublic static final String MIME_APPLICATION_X_BCPIO = \"application/x-bcpio\";\npublic static final String MIME_APPLICATION_X_CDLINK = \"application/x-cdlink\";\npublic static final String MIME_APPLICATION_X_CHESS_PGN = \"application/x-chess-pgn\";\npublic static final String MIME_APPLICATION_X_CPIO = \"application/x-cpio\";\npublic static final String MIME_APPLICATION_X_CSH = \"application/x-csh\";\npublic static final String MIME_APPLICATION_X_DIRECTOR = \"application/x-director\";\npublic static final String MIME_APPLICATION_X_DVI = \"application/x-dvi\";\npublic static final String MIME_APPLICATION_X_FUTURESPLASH = \"application/x-futuresplash\";\npublic static final String MIME_APPLICATION_X_GTAR = \"application/x-gtar\";\npublic static final String MIME_APPLICATION_X_HDF = \"application/x-hdf\";\npublic static final String MIME_APPLICATION_X_JAVASCRIPT = \"application/x-javascript\";\npublic static final String MIME_APPLICATION_X_KOAN = \"application/x-koan\";\npublic static final String MIME_APPLICATION_X_LATEX = \"application/x-latex\";\npublic static final String MIME_APPLICATION_X_NETCDF = \"application/x-netcdf\";\npublic static final String MIME_APPLICATION_X_OGG = \"application/x-ogg\";\npublic static final String MIME_APPLICATION_X_SH = \"application/x-sh\";\npublic static final String MIME_APPLICATION_X_SHAR = \"application/x-shar\";\npublic static final String MIME_APPLICATION_X_SHOCKWAVE_FLASH = \"application/x-shockwave-flash\";\npublic static final String MIME_APPLICATION_X_STUFFIT = \"application/x-stuffit\";\npublic static final String MIME_APPLICATION_X_SV4CPIO = \"application/x-sv4cpio\";\npublic static final String MIME_APPLICATION_X_SV4CRC = \"application/x-sv4crc\";\npublic static final String MIME_APPLICATION_X_TAR = \"application/x-tar\";\npublic static final String MIME_APPLICATION_X_RAR_COMPRESSED = \"application/x-rar-compressed\";\npublic static final String MIME_APPLICATION_X_TCL = \"application/x-tcl\";\npublic static final String MIME_APPLICATION_X_TEX = \"application/x-tex\";\npublic static final String MIME_APPLICATION_X_TEXINFO = \"application/x-texinfo\";\npublic static final String MIME_APPLICATION_X_TROFF = \"application/x-troff\";\npublic static final String MIME_APPLICATION_X_TROFF_MAN = \"application/x-troff-man\";\npublic static final String MIME_APPLICATION_X_TROFF_ME = \"application/x-troff-me\";\npublic static final String MIME_APPLICATION_X_TROFF_MS = \"application/x-troff-ms\";\npublic static final String MIME_APPLICATION_X_USTAR = \"application/x-ustar\";\npublic static final String MIME_APPLICATION_X_WAIS_SOURCE = \"application/x-wais-source\";\npublic static final String MIME_APPLICATION_VND_MOZZILLA_XUL_XML = \"application/vnd.mozilla.xul+xml\";\npublic static final String MIME_APPLICATION_XHTML_XML = \"application/xhtml+xml\";\npublic static final String MIME_APPLICATION_XSLT_XML = \"application/xslt+xml\";\npublic static final String MIME_APPLICATION_XML = \"application/xml\";\npublic static final String MIME_APPLICATION_XML_DTD = \"application/xml-dtd\";\npublic static final String MIME_IMAGE_BMP = \"image/bmp\";\npublic static final String MIME_IMAGE_CGM = \"image/cgm\";\npublic static final String MIME_IMAGE_GIF = \"image/gif\";\npublic static final String MIME_IMAGE_IEF = \"image/ief\";\npublic static final String MIME_IMAGE_JPEG = \"image/jpeg\";\npublic static final String MIME_IMAGE_TIFF = \"image/tiff\";\npublic static final String MIME_IMAGE_PNG = \"image/png\";\npublic static final String MIME_IMAGE_SVG_XML = \"image/svg+xml\";\npublic static final String MIME_IMAGE_VND_DJVU = \"image/vnd.djvu\";\npublic static final String MIME_IMAGE_WAP_WBMP = \"image/vnd.wap.wbmp\";\npublic static final String MIME_IMAGE_X_CMU_RASTER = \"image/x-cmu-raster\";\npublic static final String MIME_IMAGE_X_ICON = \"image/x-icon\";\npublic static final String MIME_IMAGE_X_PORTABLE_ANYMAP = \"image/x-portable-anymap\";\npublic static final String MIME_IMAGE_X_PORTABLE_BITMAP = \"image/x-portable-bitmap\";\npublic static final String MIME_IMAGE_X_PORTABLE_GRAYMAP = \"image/x-portable-graymap\";\npublic static final String MIME_IMAGE_X_PORTABLE_PIXMAP = \"image/x-portable-pixmap\";\npublic static final String MIME_IMAGE_X_RGB = \"image/x-rgb\";\npublic static final String MIME_AUDIO_BASIC = \"audio/basic\";\npublic static final String MIME_AUDIO_MIDI = \"audio/midi\";\npublic static final String MIME_AUDIO_MPEG = \"audio/mpeg\";\npublic static final String MIME_AUDIO_X_AIFF = \"audio/x-aiff\";\npublic static final String MIME_AUDIO_X_MPEGURL = \"audio/x-mpegurl\";\npublic static final String MIME_AUDIO_X_PN_REALAUDIO = \"audio/x-pn-realaudio\";\npublic static final String MIME_AUDIO_X_WAV = \"audio/x-wav\";\npublic static final String MIME_CHEMICAL_X_PDB = \"chemical/x-pdb\";\npublic static final String MIME_CHEMICAL_X_XYZ = \"chemical/x-xyz\";\npublic static final String MIME_MODEL_IGES = \"model/iges\";\npublic static final String MIME_MODEL_MESH = \"model/mesh\";\npublic static final String MIME_MODEL_VRLM = \"model/vrml\";\npublic static final String MIME_TEXT_PLAIN = \"text/plain\";\npublic static final String MIME_TEXT_RICHTEXT = \"text/richtext\";\npublic static final String MIME_TEXT_RTF = \"text/rtf\";\npublic static final String MIME_TEXT_HTML = \"text/html\";\npublic static final String MIME_TEXT_CALENDAR = \"text/calendar\";\npublic static final String MIME_TEXT_CSS = \"text/css\";\npublic static final String MIME_TEXT_SGML = \"text/sgml\";\npublic static final String MIME_TEXT_TAB_SEPARATED_VALUES = \"text/tab-separated-values\";\npublic static final String MIME_TEXT_VND_WAP_XML = \"text/vnd.wap.wml\";\npublic static final String MIME_TEXT_VND_WAP_WMLSCRIPT = \"text/vnd.wap.wmlscript\";\npublic static final String MIME_TEXT_X_SETEXT = \"text/x-setext\";\npublic static final String MIME_TEXT_X_COMPONENT = \"text/x-component\";\npublic static final String MIME_VIDEO_QUICKTIME = \"video/quicktime\";\npublic static final String MIME_VIDEO_MPEG = \"video/mpeg\";\npublic static final String MIME_VIDEO_VND_MPEGURL = \"video/vnd.mpegurl\";\npublic static final String MIME_VIDEO_X_MSVIDEO = \"video/x-msvideo\";\npublic static final String MIME_VIDEO_X_MS_WMV = \"video/x-ms-wmv\";\npublic static final String MIME_VIDEO_X_SGI_MOVIE = \"video/x-sgi-movie\";\npublic static final String MIME_X_CONFERENCE_X_COOLTALK = \"x-conference/x-cooltalk\";\n\nprivate static HashMap&lt;String, String&gt; mimeTypeMapping;\nprivate static HashMap&lt;String, String&gt; extMapping;\n\nstatic {\n    mimeTypeMapping = new HashMap&lt;String, String&gt;(200) {\n        private void put1(String key, String value) {\n            if (put(key, value) != null) {\n                throw new IllegalArgumentException(\"Duplicated extension: \" + key);\n            }\n        }\n\n        {\n            put1(\"xul\", MIME_APPLICATION_VND_MOZZILLA_XUL_XML);\n            put1(\"json\", MIME_APPLICATION_JSON);\n            put1(\"ice\", MIME_X_CONFERENCE_X_COOLTALK);\n            put1(\"movie\", MIME_VIDEO_X_SGI_MOVIE);\n            put1(\"avi\", MIME_VIDEO_X_MSVIDEO);\n            put1(\"wmv\", MIME_VIDEO_X_MS_WMV);\n            put1(\"m4u\", MIME_VIDEO_VND_MPEGURL);\n            put1(\"mxu\", MIME_VIDEO_VND_MPEGURL);\n            put1(\"htc\", MIME_TEXT_X_COMPONENT);\n            put1(\"etx\", MIME_TEXT_X_SETEXT);\n            put1(\"wmls\", MIME_TEXT_VND_WAP_WMLSCRIPT);\n            put1(\"wml\", MIME_TEXT_VND_WAP_XML);\n            put1(\"tsv\", MIME_TEXT_TAB_SEPARATED_VALUES);\n            put1(\"sgm\", MIME_TEXT_SGML);\n            put1(\"sgml\", MIME_TEXT_SGML);\n            put1(\"css\", MIME_TEXT_CSS);\n            put1(\"ifb\", MIME_TEXT_CALENDAR);\n            put1(\"ics\", MIME_TEXT_CALENDAR);\n            put1(\"wrl\", MIME_MODEL_VRLM);\n            put1(\"vrlm\", MIME_MODEL_VRLM);\n            put1(\"silo\", MIME_MODEL_MESH);\n            put1(\"mesh\", MIME_MODEL_MESH);\n            put1(\"msh\", MIME_MODEL_MESH);\n            put1(\"iges\", MIME_MODEL_IGES);\n            put1(\"igs\", MIME_MODEL_IGES);\n            put1(\"rgb\", MIME_IMAGE_X_RGB);\n            put1(\"ppm\", MIME_IMAGE_X_PORTABLE_PIXMAP);\n            put1(\"pgm\", MIME_IMAGE_X_PORTABLE_GRAYMAP);\n            put1(\"pbm\", MIME_IMAGE_X_PORTABLE_BITMAP);\n            put1(\"pnm\", MIME_IMAGE_X_PORTABLE_ANYMAP);\n            put1(\"ico\", MIME_IMAGE_X_ICON);\n            put1(\"ras\", MIME_IMAGE_X_CMU_RASTER);\n            put1(\"wbmp\", MIME_IMAGE_WAP_WBMP);\n            put1(\"djv\", MIME_IMAGE_VND_DJVU);\n            put1(\"djvu\", MIME_IMAGE_VND_DJVU);\n            put1(\"svg\", MIME_IMAGE_SVG_XML);\n            put1(\"ief\", MIME_IMAGE_IEF);\n            put1(\"cgm\", MIME_IMAGE_CGM);\n            put1(\"bmp\", MIME_IMAGE_BMP);\n            put1(\"xyz\", MIME_CHEMICAL_X_XYZ);\n            put1(\"pdb\", MIME_CHEMICAL_X_PDB);\n            put1(\"ra\", MIME_AUDIO_X_PN_REALAUDIO);\n            put1(\"ram\", MIME_AUDIO_X_PN_REALAUDIO);\n            put1(\"m3u\", MIME_AUDIO_X_MPEGURL);\n            put1(\"aifc\", MIME_AUDIO_X_AIFF);\n            put1(\"aif\", MIME_AUDIO_X_AIFF);\n            put1(\"aiff\", MIME_AUDIO_X_AIFF);\n            put1(\"mp3\", MIME_AUDIO_MPEG);\n            put1(\"mp2\", MIME_AUDIO_MPEG);\n            put1(\"mp1\", MIME_AUDIO_MPEG);\n            put1(\"mpga\", MIME_AUDIO_MPEG);\n            put1(\"kar\", MIME_AUDIO_MIDI);\n            put1(\"mid\", MIME_AUDIO_MIDI);\n            put1(\"midi\", MIME_AUDIO_MIDI);\n            put1(\"dtd\", MIME_APPLICATION_XML_DTD);\n            put1(\"xsl\", MIME_APPLICATION_XML);\n            put1(\"xml\", MIME_APPLICATION_XML);\n            put1(\"xslt\", MIME_APPLICATION_XSLT_XML);\n            put1(\"xht\", MIME_APPLICATION_XHTML_XML);\n            put1(\"xhtml\", MIME_APPLICATION_XHTML_XML);\n            put1(\"src\", MIME_APPLICATION_X_WAIS_SOURCE);\n            put1(\"ustar\", MIME_APPLICATION_X_USTAR);\n            put1(\"ms\", MIME_APPLICATION_X_TROFF_MS);\n            put1(\"me\", MIME_APPLICATION_X_TROFF_ME);\n            put1(\"man\", MIME_APPLICATION_X_TROFF_MAN);\n            put1(\"roff\", MIME_APPLICATION_X_TROFF);\n            put1(\"tr\", MIME_APPLICATION_X_TROFF);\n            put1(\"t\", MIME_APPLICATION_X_TROFF);\n            put1(\"texi\", MIME_APPLICATION_X_TEXINFO);\n            put1(\"texinfo\", MIME_APPLICATION_X_TEXINFO);\n            put1(\"tex\", MIME_APPLICATION_X_TEX);\n            put1(\"tcl\", MIME_APPLICATION_X_TCL);\n            put1(\"sv4crc\", MIME_APPLICATION_X_SV4CRC);\n            put1(\"sv4cpio\", MIME_APPLICATION_X_SV4CPIO);\n            put1(\"sit\", MIME_APPLICATION_X_STUFFIT);\n            put1(\"swf\", MIME_APPLICATION_X_SHOCKWAVE_FLASH);\n            put1(\"shar\", MIME_APPLICATION_X_SHAR);\n            put1(\"sh\", MIME_APPLICATION_X_SH);\n            put1(\"cdf\", MIME_APPLICATION_X_NETCDF);\n            put1(\"nc\", MIME_APPLICATION_X_NETCDF);\n            put1(\"latex\", MIME_APPLICATION_X_LATEX);\n            put1(\"skm\", MIME_APPLICATION_X_KOAN);\n            put1(\"skt\", MIME_APPLICATION_X_KOAN);\n            put1(\"skd\", MIME_APPLICATION_X_KOAN);\n            put1(\"skp\", MIME_APPLICATION_X_KOAN);\n            put1(\"js\", MIME_APPLICATION_X_JAVASCRIPT);\n            put1(\"hdf\", MIME_APPLICATION_X_HDF);\n            put1(\"gtar\", MIME_APPLICATION_X_GTAR);\n            put1(\"spl\", MIME_APPLICATION_X_FUTURESPLASH);\n            put1(\"dvi\", MIME_APPLICATION_X_DVI);\n            put1(\"dxr\", MIME_APPLICATION_X_DIRECTOR);\n            put1(\"dir\", MIME_APPLICATION_X_DIRECTOR);\n            put1(\"dcr\", MIME_APPLICATION_X_DIRECTOR);\n            put1(\"csh\", MIME_APPLICATION_X_CSH);\n            put1(\"cpio\", MIME_APPLICATION_X_CPIO);\n            put1(\"pgn\", MIME_APPLICATION_X_CHESS_PGN);\n            put1(\"vcd\", MIME_APPLICATION_X_CDLINK);\n            put1(\"bcpio\", MIME_APPLICATION_X_BCPIO);\n            put1(\"rm\", MIME_APPLICATION_VND_RNREALMEDIA);\n            put1(\"ppt\", MIME_APPLICATION_VND_MSPOWERPOINT);\n            put1(\"mif\", MIME_APPLICATION_VND_MIF);\n            put1(\"grxml\", MIME_APPLICATION_SRGS_XML);\n            put1(\"gram\", MIME_APPLICATION_SRGS);\n            put1(\"smil\", MIME_APPLICATION_RDF_SMIL);\n            put1(\"smi\", MIME_APPLICATION_RDF_SMIL);\n            put1(\"rdf\", MIME_APPLICATION_RDF_XML);\n            put1(\"ogg\", MIME_APPLICATION_X_OGG);\n            put1(\"oda\", MIME_APPLICATION_ODA);\n            put1(\"dmg\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"lzh\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"so\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"lha\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"dms\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"bin\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"mathml\", MIME_APPLICATION_MATHML_XML);\n            put1(\"cpt\", MIME_APPLICATION_MAC_COMPACTPRO);\n            put1(\"hqx\", MIME_APPLICATION_MAC_BINHEX40);\n            put1(\"jnlp\", MIME_APPLICATION_JNLP);\n            put1(\"ez\", MIME_APPLICATION_ANDREW_INSET);\n            put1(\"txt\", MIME_TEXT_PLAIN);\n            put1(\"ini\", MIME_TEXT_PLAIN);\n            put1(\"c\", MIME_TEXT_PLAIN);\n            put1(\"h\", MIME_TEXT_PLAIN);\n            put1(\"cpp\", MIME_TEXT_PLAIN);\n            put1(\"cxx\", MIME_TEXT_PLAIN);\n            put1(\"cc\", MIME_TEXT_PLAIN);\n            put1(\"chh\", MIME_TEXT_PLAIN);\n            put1(\"java\", MIME_TEXT_PLAIN);\n            put1(\"csv\", MIME_TEXT_PLAIN);\n            put1(\"bat\", MIME_TEXT_PLAIN);\n            put1(\"cmd\", MIME_TEXT_PLAIN);\n            put1(\"asc\", MIME_TEXT_PLAIN);\n            put1(\"rtf\", MIME_TEXT_RTF);\n            put1(\"rtx\", MIME_TEXT_RICHTEXT);\n            put1(\"html\", MIME_TEXT_HTML);\n            put1(\"htm\", MIME_TEXT_HTML);\n            put1(\"zip\", MIME_APPLICATION_ZIP);\n            put1(\"rar\", MIME_APPLICATION_X_RAR_COMPRESSED);\n            put1(\"gzip\", MIME_APPLICATION_X_GZIP);\n            put1(\"gz\", MIME_APPLICATION_X_GZIP);\n            put1(\"tgz\", MIME_APPLICATION_TGZ);\n            put1(\"tar\", MIME_APPLICATION_X_TAR);\n            put1(\"gif\", MIME_IMAGE_GIF);\n            put1(\"jpeg\", MIME_IMAGE_JPEG);\n            put1(\"jpg\", MIME_IMAGE_JPEG);\n            put1(\"jpe\", MIME_IMAGE_JPEG);\n            put1(\"tiff\", MIME_IMAGE_TIFF);\n            put1(\"tif\", MIME_IMAGE_TIFF);\n            put1(\"png\", MIME_IMAGE_PNG);\n            put1(\"au\", MIME_AUDIO_BASIC);\n            put1(\"snd\", MIME_AUDIO_BASIC);\n            put1(\"wav\", MIME_AUDIO_X_WAV);\n            put1(\"mov\", MIME_VIDEO_QUICKTIME);\n            put1(\"qt\", MIME_VIDEO_QUICKTIME);\n            put1(\"mpeg\", MIME_VIDEO_MPEG);\n            put1(\"mpg\", MIME_VIDEO_MPEG);\n            put1(\"mpe\", MIME_VIDEO_MPEG);\n            put1(\"abs\", MIME_VIDEO_MPEG);\n            put1(\"doc\", MIME_APPLICATION_MSWORD);\n            put1(\"docx\", MIME_APPLICATION_MSWORD_2007);\n            put1(\"odt\", MIME_APPLICATION_VND_TEXT);\n            put1(\"xls\", MIME_APPLICATION_VND_MSEXCEL);\n            put1(\"xlsx\", MIME_APPLICATION_VND_MSEXCEL_2007);\n            put1(\"ods\", MIME_APPLICATION_VND_SPREADSHEET);\n            put1(\"eps\", MIME_APPLICATION_POSTSCRIPT);\n            put1(\"ai\", MIME_APPLICATION_POSTSCRIPT);\n            put1(\"ps\", MIME_APPLICATION_POSTSCRIPT);\n            put1(\"pdf\", MIME_APPLICATION_PDF);\n            put1(\"exe\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"dll\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"class\", MIME_APPLICATION_OCTET_STREAM);\n            put1(\"jar\", MIME_APPLICATION_JAVA_ARCHIVE);\n        }\n    };\n}\n\nstatic {\n    extMapping = new HashMap&lt;String, String&gt;(200) {\n        private void put1(String key, String value) {\n            if (put(key, value) != null) {\n                throw new IllegalArgumentException(\"Duplicated Mimetype: \" + key);\n            }\n        }\n\n        {\n            put1(MIME_APPLICATION_VND_MOZZILLA_XUL_XML, \"xul\");\n            put1(MIME_APPLICATION_JSON, \"json\");\n            put1(MIME_X_CONFERENCE_X_COOLTALK, \"ice\");\n            put1(MIME_VIDEO_X_SGI_MOVIE, \"movie\");\n            put1(MIME_VIDEO_X_MSVIDEO, \"avi\");\n            put1(MIME_VIDEO_X_MS_WMV, \"wmv\");\n            put1(MIME_VIDEO_VND_MPEGURL, \"m4u\");\n            put1(MIME_TEXT_X_COMPONENT, \"htc\");\n            put1(MIME_TEXT_X_SETEXT, \"etx\");\n            put1(MIME_TEXT_VND_WAP_WMLSCRIPT, \"wmls\");\n            put1(MIME_TEXT_VND_WAP_XML, \"wml\");\n            put1(MIME_TEXT_TAB_SEPARATED_VALUES, \"tsv\");\n            put1(MIME_TEXT_SGML, \"sgml\");\n            put1(MIME_TEXT_CSS, \"css\");\n            put1(MIME_TEXT_CALENDAR, \"ics\");\n            put1(MIME_MODEL_VRLM, \"vrlm\");\n            put1(MIME_MODEL_MESH, \"mesh\");\n            put1(MIME_MODEL_IGES, \"iges\");\n            put1(MIME_IMAGE_X_RGB, \"rgb\");\n            put1(MIME_IMAGE_X_PORTABLE_PIXMAP, \"ppm\");\n            put1(MIME_IMAGE_X_PORTABLE_GRAYMAP, \"pgm\");\n            put1(MIME_IMAGE_X_PORTABLE_BITMAP, \"pbm\");\n            put1(MIME_IMAGE_X_PORTABLE_ANYMAP, \"pnm\");\n            put1(MIME_IMAGE_X_ICON, \"ico\");\n            put1(MIME_IMAGE_X_CMU_RASTER, \"ras\");\n            put1(MIME_IMAGE_WAP_WBMP, \"wbmp\");\n            put1(MIME_IMAGE_VND_DJVU, \"djvu\");\n            put1(MIME_IMAGE_SVG_XML, \"svg\");\n            put1(MIME_IMAGE_IEF, \"ief\");\n            put1(MIME_IMAGE_CGM, \"cgm\");\n            put1(MIME_IMAGE_BMP, \"bmp\");\n            put1(MIME_CHEMICAL_X_XYZ, \"xyz\");\n            put1(MIME_CHEMICAL_X_PDB, \"pdb\");\n            put1(MIME_AUDIO_X_PN_REALAUDIO, \"ra\");\n            put1(MIME_AUDIO_X_MPEGURL, \"m3u\");\n            put1(MIME_AUDIO_X_AIFF, \"aiff\");\n            put1(MIME_AUDIO_MPEG, \"mp3\");\n            put1(MIME_AUDIO_MIDI, \"midi\");\n            put1(MIME_APPLICATION_XML_DTD, \"dtd\");\n            put1(MIME_APPLICATION_XML, \"xml\");\n            put1(MIME_APPLICATION_XSLT_XML, \"xslt\");\n            put1(MIME_APPLICATION_XHTML_XML, \"xhtml\");\n            put1(MIME_APPLICATION_X_WAIS_SOURCE, \"src\");\n            put1(MIME_APPLICATION_X_USTAR, \"ustar\");\n            put1(MIME_APPLICATION_X_TROFF_MS, \"ms\");\n            put1(MIME_APPLICATION_X_TROFF_ME, \"me\");\n            put1(MIME_APPLICATION_X_TROFF_MAN, \"man\");\n            put1(MIME_APPLICATION_X_TROFF, \"roff\");\n            put1(MIME_APPLICATION_X_TEXINFO, \"texi\");\n            put1(MIME_APPLICATION_X_TEX, \"tex\");\n            put1(MIME_APPLICATION_X_TCL, \"tcl\");\n            put1(MIME_APPLICATION_X_SV4CRC, \"sv4crc\");\n            put1(MIME_APPLICATION_X_SV4CPIO, \"sv4cpio\");\n            put1(MIME_APPLICATION_X_STUFFIT, \"sit\");\n            put1(MIME_APPLICATION_X_SHOCKWAVE_FLASH, \"swf\");\n            put1(MIME_APPLICATION_X_SHAR, \"shar\");\n            put1(MIME_APPLICATION_X_SH, \"sh\");\n            put1(MIME_APPLICATION_X_NETCDF, \"cdf\");\n            put1(MIME_APPLICATION_X_LATEX, \"latex\");\n            put1(MIME_APPLICATION_X_KOAN, \"skm\");\n            put1(MIME_APPLICATION_X_JAVASCRIPT, \"js\");\n            put1(MIME_APPLICATION_X_HDF, \"hdf\");\n            put1(MIME_APPLICATION_X_GTAR, \"gtar\");\n            put1(MIME_APPLICATION_X_FUTURESPLASH, \"spl\");\n            put1(MIME_APPLICATION_X_DVI, \"dvi\");\n            put1(MIME_APPLICATION_X_DIRECTOR, \"dir\");\n            put1(MIME_APPLICATION_X_CSH, \"csh\");\n            put1(MIME_APPLICATION_X_CPIO, \"cpio\");\n            put1(MIME_APPLICATION_X_CHESS_PGN, \"pgn\");\n            put1(MIME_APPLICATION_X_CDLINK, \"vcd\");\n            put1(MIME_APPLICATION_X_BCPIO, \"bcpio\");\n            put1(MIME_APPLICATION_VND_RNREALMEDIA, \"rm\");\n            put1(MIME_APPLICATION_VND_MSPOWERPOINT, \"ppt\");\n            put1(MIME_APPLICATION_VND_MIF, \"mif\");\n            put1(MIME_APPLICATION_SRGS_XML, \"grxml\");\n            put1(MIME_APPLICATION_SRGS, \"gram\");\n            put1(MIME_APPLICATION_RDF_SMIL, \"smil\");\n            put1(MIME_APPLICATION_RDF_XML, \"rdf\");\n            put1(MIME_APPLICATION_X_OGG, \"ogg\");\n            put1(MIME_APPLICATION_ODA, \"oda\");\n            put1(MIME_APPLICATION_MATHML_XML, \"mathml\");\n            put1(MIME_APPLICATION_MAC_COMPACTPRO, \"cpt\");\n            put1(MIME_APPLICATION_MAC_BINHEX40, \"hqx\");\n            put1(MIME_APPLICATION_JNLP, \"jnlp\");\n            put1(MIME_APPLICATION_ANDREW_INSET, \"ez\");\n            put1(MIME_TEXT_PLAIN, \"txt\");\n            put1(MIME_TEXT_RTF, \"rtf\");\n            put1(MIME_TEXT_RICHTEXT, \"rtx\");\n            put1(MIME_TEXT_HTML, \"html\");\n            put1(MIME_APPLICATION_ZIP, \"zip\");\n            put1(MIME_APPLICATION_X_RAR_COMPRESSED, \"rar\");\n            put1(MIME_APPLICATION_X_GZIP, \"gzip\");\n            put1(MIME_APPLICATION_TGZ, \"tgz\");\n            put1(MIME_APPLICATION_X_TAR, \"tar\");\n            put1(MIME_IMAGE_GIF, \"gif\");\n            put1(MIME_IMAGE_JPEG, \"jpg\");\n            put1(MIME_IMAGE_TIFF, \"tiff\");\n            put1(MIME_IMAGE_PNG, \"png\");\n            put1(MIME_AUDIO_BASIC, \"au\");\n            put1(MIME_AUDIO_X_WAV, \"wav\");\n            put1(MIME_VIDEO_QUICKTIME, \"mov\");\n            put1(MIME_VIDEO_MPEG, \"mpg\");\n            put1(MIME_APPLICATION_MSWORD, \"doc\");\n            put1(MIME_APPLICATION_MSWORD_2007, \"docx\");\n            put1(MIME_APPLICATION_VND_TEXT, \"odt\");\n            put1(MIME_APPLICATION_VND_MSEXCEL, \"xls\");\n            put1(MIME_APPLICATION_VND_SPREADSHEET, \"ods\");\n            put1(MIME_APPLICATION_POSTSCRIPT, \"ps\");\n            put1(MIME_APPLICATION_PDF, \"pdf\");\n            put1(MIME_APPLICATION_OCTET_STREAM, \"exe\");\n            put1(MIME_APPLICATION_JAVA_ARCHIVE, \"jar\");\n        }\n    };\n}\n\n/**\n * Registers MIME type for provided extension. Existing extension type will be overriden.\n */\npublic static void registerMimeType(String ext, String mimeType) {\n    mimeTypeMapping.put(ext, mimeType);\n}\n\n/**\n * Returns the corresponding MIME type to the given extension.\n * If no MIME type was found it returns 'application/octet-stream' type.\n */\npublic static String getMimeType(String ext) {\n    String mimeType = lookupMimeType(ext);\n    if (mimeType == null) {\n        mimeType = MIME_APPLICATION_OCTET_STREAM;\n    }\n    return mimeType;\n}\n\n/**\n * Simply returns MIME type or &lt;code&gt;null&lt;/code&gt; if no type is found.\n */\npublic static String lookupMimeType(String ext) {\n    return mimeTypeMapping.get(ext.toLowerCase());\n}\n\n/**\n * Simply returns Ext or &lt;code&gt;null&lt;/code&gt; if no Mimetype is found.\n */\npublic static String lookupExt(String mimeType) {\n    return extMapping.get(mimeType.toLowerCase());\n}\n\n/**\n * Returns the default Ext to the given MimeType.\n * If no MIME type was found it returns 'unknown' ext.\n */\npublic static String getDefaultExt(String mimeType) {\n    String ext = lookupExt(mimeType);\n    if (ext == null) {\n        ext = \"unknown\";\n    }\n    return ext;\n}\n}\n</code></pre>\n\n<p>And you can use it like this:</p>\n\n<pre><code>@Test\npublic void mimetypePdf() throws Exception {\n\n    String ext = MimeTypes.getDefaultExt(MimeTypes.MIME_APPLICATION_PDF);\n    Assert.assertEquals(\"Not equals\", \"pdf\", ext);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1542528369,"creation_date":1534154061,"answer_id":51819660,"question_id":48053127,"body_markdown":"Try [jodd](http://jodd.org). There is a utility for that: `MimeUtil.getMimeType()` that takes an extension and returns the mime type. See: https://github.com/oblac/jodd/blob/master/jodd-core/src/main/java/jodd/net/MimeTypes.java#L119\r\n\r\nedit: im the author.","title":"Get the extension from a MimeType","body":"<p>Try <a href=\"http://jodd.org\" rel=\"nofollow noreferrer\">jodd</a>. There is a utility for that: <code>MimeUtil.getMimeType()</code> that takes an extension and returns the mime type. See: <a href=\"https://github.com/oblac/jodd/blob/master/jodd-core/src/main/java/jodd/net/MimeTypes.java#L119\" rel=\"nofollow noreferrer\">https://github.com/oblac/jodd/blob/master/jodd-core/src/main/java/jodd/net/MimeTypes.java#L119</a></p>\n\n<p>edit: im the author.</p>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1573574803,"creation_date":1569830103,"answer_id":58163666,"question_id":48053127,"body_markdown":"For all running a **Spring** project: \r\n\r\n\r\n    import org.springframework.util.MimeTypeUtils;\r\n    ...\r\n    String fileExtension = MimeTypeUtils.parseMimeType(attachment.getMimeType()).getSubtype();\r\n\r\nAs `MimeTypeUtils` is in the `spring-core` module probably it&#39;s not worth to have a dependency on this one if you don&#39;t have a spring project.\r\n\r\n**Update**\r\nDoes not work for all cases and not for original question. Only in case subType equals file extension like for png, jpeg, pdf and so on. Thanks to the comment.\r\n","title":"Get the extension from a MimeType","body":"<p>For all running a <strong>Spring</strong> project: </p>\n\n<pre><code>import org.springframework.util.MimeTypeUtils;\n...\nString fileExtension = MimeTypeUtils.parseMimeType(attachment.getMimeType()).getSubtype();\n</code></pre>\n\n<p>As <code>MimeTypeUtils</code> is in the <code>spring-core</code> module probably it's not worth to have a dependency on this one if you don't have a spring project.</p>\n\n<p><strong>Update</strong>\nDoes not work for all cases and not for original question. Only in case subType equals file extension like for png, jpeg, pdf and so on. Thanks to the comment.</p>\n"},{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1650193659,"creation_date":1650193659,"answer_id":71901350,"question_id":48053127,"body_markdown":"I strongly recommend [Jodd Util][1]. It&#39;s a simple, fast, zero dependency library, and that&#39;s always a plus in my books.\r\n\r\n```\r\nString fileExtension = MimeTypes.findExtensionsByMimeType(&quot;image/jpeg&quot;, false)[0];\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.jodd/jodd-util","title":"Get the extension from a MimeType","body":"<p>I strongly recommend <a href=\"https://mvnrepository.com/artifact/org.jodd/jodd-util\" rel=\"nofollow noreferrer\">Jodd Util</a>. It's a simple, fast, zero dependency library, and that's always a plus in my books.</p>\n<pre><code>String fileExtension = MimeTypes.findExtensionsByMimeType(&quot;image/jpeg&quot;, false)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14095308,"reputation":156,"user_id":10182273,"display_name":"Yousef Kazemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661413768,"creation_date":1661413768,"answer_id":73483752,"question_id":48053127,"body_markdown":"You can get the extension from mimeType simply like this: \r\nToo late to answer, but hope it helps someone.\r\n\r\n    MimeTypeMap.getSingleton().getExtensionFromMimeType(mimType)","title":"Get the extension from a MimeType","body":"<p>You can get the extension from mimeType simply like this:\nToo late to answer, but hope it helps someone.</p>\n<pre><code>MimeTypeMap.getSingleton().getExtensionFromMimeType(mimType)\n</code></pre>\n"}],"owner":{"account_id":5260250,"reputation":512,"user_id":4201972,"accept_rate":75,"display_name":"Doros Barmajia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35172,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":48053185,"answer_count":7,"score":18,"last_activity_date":1661413768,"creation_date":1514839624,"question_id":48053127,"body_markdown":"I want to get the **extension** from a **MimeType**.\r\n\r\nFor example:\r\n\r\n    video/mp4                       ----&gt;  mp4\r\n    application/x-rar-compressed    ----&gt;  rar\r\n    text/plain                      ----&gt;  txt\r\n    application/pdf                 ----&gt;  pdf\r\n\r\n\r\nTo save my file on Windows or Linux, I have this method that let me to download a file from an URL. So, I&#39;m able only to save it without extension (I don&#39;t want that).\r\n\r\nThis method lets me only to get the **MimeType** not the **extension**.\r\n\r\n    public void downloadImage() {\r\n    \tString dirPath = &quot;/home/MyPC/Downloaded&quot;;\r\n    \tString fileName = &quot;My downloaded file&quot;;\r\n    \t\r\n    \tURL fetchFile = new URL(IMAGE_URL);\r\n    \tbyte[] fileAsArray = Resources.toByteArray(fetchFile);\r\n    \t\r\n    \t//Getting the MimeType\r\n    \tString mimeType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(fileAsArray));\r\n    \tSystem.out.println(mimeType);\r\n    \r\n    \tFile fileToWriteTo = new File(dirPath.concat(&quot;/&quot; + fileName));\r\n\r\n    \t//Saving the file using Guava\r\n    \tFiles.write(fileAsArray, fileToWriteTo);\r\n    }\r\n\r\n\r\nHow can I write a file with extension using MimeType?","title":"Get the extension from a MimeType","body":"<p>I want to get the <strong>extension</strong> from a <strong>MimeType</strong>.</p>\n<p>For example:</p>\n<pre><code>video/mp4                       ----&gt;  mp4\napplication/x-rar-compressed    ----&gt;  rar\ntext/plain                      ----&gt;  txt\napplication/pdf                 ----&gt;  pdf\n</code></pre>\n<p>To save my file on Windows or Linux, I have this method that let me to download a file from an URL. So, I'm able only to save it without extension (I don't want that).</p>\n<p>This method lets me only to get the <strong>MimeType</strong> not the <strong>extension</strong>.</p>\n<pre><code>public void downloadImage() {\n    String dirPath = &quot;/home/MyPC/Downloaded&quot;;\n    String fileName = &quot;My downloaded file&quot;;\n    \n    URL fetchFile = new URL(IMAGE_URL);\n    byte[] fileAsArray = Resources.toByteArray(fetchFile);\n    \n    //Getting the MimeType\n    String mimeType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(fileAsArray));\n    System.out.println(mimeType);\n\n    File fileToWriteTo = new File(dirPath.concat(&quot;/&quot; + fileName));\n\n    //Saving the file using Guava\n    Files.write(fileAsArray, fileToWriteTo);\n}\n</code></pre>\n<p>How can I write a file with extension using MimeType?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1591113426,"post_id":62156032,"comment_id":109929696,"body_markdown":"It sounds like you&#39;re storing a string in the database instead of an actual number.  You should store the correct data type so that there are no conversion errors.","body":"It sounds like you&#39;re storing a string in the database instead of an actual number.  You should store the correct data type so that there are no conversion errors."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1591113881,"post_id":62156032,"comment_id":109929930,"body_markdown":"Please add your database structure as a JSON file or at least a screenshot and indicate the line at which his error occurs.","body":"Please add your database structure as a JSON file or at least a screenshot and indicate the line at which his error occurs."},{"owner":{"account_id":13184702,"reputation":1309,"user_id":9523118,"display_name":"Krishna Sony"},"score":0,"creation_date":1591113984,"post_id":62156032,"comment_id":109929994,"body_markdown":"It seems like you are getting amount as string","body":"It seems like you are getting amount as string"},{"owner":{"account_id":13571055,"reputation":5,"user_id":9789794,"display_name":"Alberto Maggiore Agalbato"},"score":0,"creation_date":1591115100,"post_id":62156032,"comment_id":109930588,"body_markdown":"I was before, then I changed to int and this error appeared.","body":"I was before, then I changed to int and this error appeared."}],"answers":[{"tags":[],"owner":{"account_id":18733450,"reputation":53,"user_id":13658328,"display_name":"himansh1608"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591134029,"creation_date":1591134029,"answer_id":62161835,"question_id":62156032,"body_markdown":"I guess your database is sending getAmount in String format.\r\nUse\r\n\r\n    int totalsum = 0;\r\n    for(DataSnapshot mySnapshot: dataSnapshot.getChildren()) {\r\n    PersonalExpenses personal = mySnapshot.getValue(PersonalExpenses.class);\r\n    totalsum += Integer.parseInt(personal.getAmount());\r\n    }\r\n    String stTotalsum = String.valueOf(totalsum);\r\n    expense_txt.setText(stTotalsum);","title":"Failed to convert a value of type java.lang.String to int?","body":"<p>I guess your database is sending getAmount in String format.\nUse</p>\n\n<pre><code>int totalsum = 0;\nfor(DataSnapshot mySnapshot: dataSnapshot.getChildren()) {\nPersonalExpenses personal = mySnapshot.getValue(PersonalExpenses.class);\ntotalsum += Integer.parseInt(personal.getAmount());\n}\nString stTotalsum = String.valueOf(totalsum);\nexpense_txt.setText(stTotalsum);\n</code></pre>\n"}],"owner":{"account_id":13571055,"reputation":5,"user_id":9789794,"display_name":"Alberto Maggiore Agalbato"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62161835,"answer_count":1,"score":0,"last_activity_date":1661413639,"creation_date":1591113146,"question_id":62156032,"body_markdown":"I am trying to display the total expenses in a Text view but the application keeps giving me this error. The application uses Firebase and I had the getAmount() and setAmount() initiated as String since I only needed to display. It works as Strings but the amount doesn&#39;t get added to himself it just goes in front of the first amount, like a string. Anyone know what can I do to have my to application reed integer. \r\n\r\nI&#39;m using the getAmount() type and it is initiated as an integer. \r\n\r\nError is in the personal fragment inside the addValueEvent Listener \r\nHELP!\r\n\r\nPersonal fragment where the addValueEventListener should display me the total amount.\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.pm.ActivityInfo;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    public class personalFragment extends Fragment {\r\n    \r\n        private FirebaseAuth mAuth;\r\n        private String currentUserID;\r\n        private RecyclerView recyclerView;\r\n        private FirebaseRecyclerAdapter adapter;\r\n        String [] listValue = {};\r\n        private DatabaseReference mDatabase;\r\n        private TextView expense_txt;\r\n    \r\n        @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            final View myView = inflater.inflate(R.layout.fragment_personal, container, false);\r\n    \r\n    \r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            String uid = user.getUid();\r\n            mDatabase    = FirebaseDatabase.getInstance().getReference(&quot;Expenses&quot;).child(uid);\r\n            mAuth = FirebaseAuth.getInstance();\r\n            currentUserID = mAuth.getCurrentUser().getUid();\r\n            recyclerView = myView.findViewById(R.id.recycler_expense);\r\n            expense_txt = myView.findViewById(R.id.expenses_txt);\r\n            getActivity().setRequestedOrientation(\r\n                    ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n    \r\n            final LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\r\n            layoutManager.setStackFromEnd(true);\r\n            layoutManager.setReverseLayout(true);\r\n            recyclerView.setHasFixedSize(true);\r\n    \r\n    \r\n            Query query = FirebaseDatabase.getInstance()\r\n                    .getReference(&quot;Expenses&quot;)\r\n                    .child(currentUserID)\r\n                    .limitToLast(100);\r\n    \r\n            FirebaseRecyclerOptions&lt;PersonalExpenses&gt; options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;PersonalExpenses&gt;()\r\n                            .setQuery(query, PersonalExpenses.class)\r\n                            .build();\r\n    \r\n    \r\n            adapter = new FirebaseRecyclerAdapter&lt;PersonalExpenses, MyViewHolder&gt;(options) {\r\n                @Override\r\n                protected void onBindViewHolder(final MyViewHolder holder, int position, PersonalExpenses personalExpenses) {\r\n    \r\n    \r\n                    holder.setDate(personalExpenses.getDate());\r\n                    holder.setDescription(personalExpenses.getDescription());\r\n                    holder.setAmount(personalExpenses.getAmount());\r\n                    holder.setType(personalExpenses.getType());\r\n                    //holder.setCurrency(personalExpenses.getCurrency());\r\n                }\r\n    \r\n                @Override\r\n                public MyViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext())\r\n                            .inflate(R.layout.expense_recycler, parent, false);\r\n                    return new MyViewHolder(view);\r\n                }\r\n            };\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            recyclerView.setAdapter(adapter);\r\n    \r\n            final ItemTouchHelper helper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT) {\r\n                @Override\r\n                public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public void onSwiped(@NonNull RecyclerView.ViewHolder target, int i) {\r\n    \r\n                   int swipedPosition = target.getAdapterPosition();\r\n                   adapter.notifyDataSetChanged();\r\n    \r\n                }\r\n            });\r\n            helper.attachToRecyclerView(recyclerView);\r\n    \r\n            mDatabase.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    \r\n                    int totalsum = 0;\r\n                    for(DataSnapshot mySnapshot: dataSnapshot.getChildren()){\r\n    \r\n                        PersonalExpenses personal = mySnapshot.getValue(PersonalExpenses.class);// Error appears for this line of code\r\n                        totalsum += personal.getAmount(); \r\n    \r\n                        String stTotalsum = String.valueOf((totalsum));\r\n    \r\n                        expense_txt.setText(stTotalsum);\r\n                    }\r\n    \r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            return myView;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onStart() {\r\n    \r\n            super.onStart();\r\n            adapter.startListening();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onStop() {\r\n    \r\n            super.onStop();\r\n            adapter.stopListening();\r\n        }\r\n    \r\n    \r\n       public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            private final View mView;\r\n    \r\n            public MyViewHolder(View itemView) {\r\n                super(itemView);\r\n                mView = itemView;\r\n            }\r\n    \r\n            protected void setDate(String date) {\r\n                TextView mDate = mView.findViewById(R.id.date_income);\r\n                mDate.setText(date);\r\n            }\r\n    \r\n            protected void setType(String type) {\r\n                TextView mType = mView.findViewById(R.id.type_txt);\r\n                mType.setText(type);\r\n            }\r\n    \r\n            protected void setDescription(String description) {\r\n                TextView mNote = mView.findViewById(R.id.note_txt);\r\n                mNote.setText(description);\r\n            }\r\n    \r\n            protected void setAmount(int amount) {\r\n                TextView mAmount = mView.findViewById(R.id.ammount_income);\r\n                String strammount = String.valueOf(amount);\r\n                mAmount.setText(strammount);\r\n            }\r\n            /*\r\n           protected void setCurrency(String currency) {\r\n               TextView mCurrency = mView.findViewById(R.id.ammount_income);\r\n               mCurrency.setText(currency);\r\n           }*/\r\n        }\r\n    }\r\n\r\nPersonal Expense data \r\n\r\n    public class PersonalExpenses {\r\n    \r\n        public String description;\r\n        public int amount;\r\n        public String date;\r\n        public String type;\r\n        public String currency;\r\n    \r\n        public PersonalExpenses() {}\r\n    \r\n    \r\n        public PersonalExpenses(String description, int amount, String date, String type, String currency) {\r\n            this.amount = amount;\r\n            this.date = date;\r\n            this.type = type;\r\n            this.currency = currency;\r\n            this.description = description;\r\n        }\r\n    \r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public int getAmount() { return amount; }\r\n    \r\n        public void setAmount(int amount) { this.amount = amount; }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public String getType() {return type;}\r\n    \r\n        public void setType(String type) { this.type = type; }\r\n    \r\n        public String getCurrency() { return currency; }\r\n    \r\n        public void setCurrency(String currency) { this.currency = currency; }\r\n    \r\n    }\r\n\r\nThis the error\r\n\r\n     com.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertInteger(com.google.firebase:firebase-database@@19.2.1:363)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToPrimitive(com.google.firebase:firebase-database@@19.2.1:289)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@19.2.1:214)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(com.google.firebase:firebase-database@@19.2.1:178)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(com.google.firebase:firebase-database@@19.2.1:47)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.2.1:592)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.2.1:562)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(com.google.firebase:firebase-database@@19.2.1:432)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@19.2.1:231)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-database@@19.2.1:79)\r\n            at com.google.firebase.database.DataSnapshot.getValue(com.google.firebase:firebase-database@@19.2.1:203)\r\n            at uk.brighton.ama75.project.personalFragment$3.onDataChange(personalFragment.java:118)\r\n            at com.google.firebase.database.core.ValueEventRegistration.fireEvent(com.google.firebase:firebase-database@@19.2.1:75)\r\n            at com.google.firebase.database.core.view.DataEvent.fire(com.google.firebase:firebase-database@@19.2.1:63)\r\n            at com.google.firebase.database.core.view.EventRaiser$1.run(com.google.firebase:firebase-database@@19.2.1:55)\r\n            at android.os.Handler.handleCallback(Handler.java:790)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\n\r\n[Here is the database from Firebase][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jXJgd.png\r\n\r\nThis is how I am storing the data in the database\r\n\r\n    expenses.setDescription(mDescription.getText().toString().trim());\r\n                    expenses.setAmount(Integer.valueOf(mAmount.getText().toString().trim()));\r\n                    expenses.setDate(mDate.getText().toString().trim());\r\n                    expenses.setType(text.trim());\r\n                    mDatabase.push().setValue(expenses);\r\n\r\n","title":"Failed to convert a value of type java.lang.String to int?","body":"<p>I am trying to display the total expenses in a Text view but the application keeps giving me this error. The application uses Firebase and I had the getAmount() and setAmount() initiated as String since I only needed to display. It works as Strings but the amount doesn't get added to himself it just goes in front of the first amount, like a string. Anyone know what can I do to have my to application reed integer. </p>\n\n<p>I'm using the getAmount() type and it is initiated as an integer. </p>\n\n<p>Error is in the personal fragment inside the addValueEvent Listener \nHELP!</p>\n\n<p>Personal fragment where the addValueEventListener should display me the total amount.</p>\n\n<pre><code>import android.annotation.SuppressLint;\nimport android.content.pm.ActivityInfo;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class personalFragment extends Fragment {\n\n    private FirebaseAuth mAuth;\n    private String currentUserID;\n    private RecyclerView recyclerView;\n    private FirebaseRecyclerAdapter adapter;\n    String [] listValue = {};\n    private DatabaseReference mDatabase;\n    private TextView expense_txt;\n\n    @SuppressLint(\"SourceLockedOrientationActivity\")\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        final View myView = inflater.inflate(R.layout.fragment_personal, container, false);\n\n\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        String uid = user.getUid();\n        mDatabase    = FirebaseDatabase.getInstance().getReference(\"Expenses\").child(uid);\n        mAuth = FirebaseAuth.getInstance();\n        currentUserID = mAuth.getCurrentUser().getUid();\n        recyclerView = myView.findViewById(R.id.recycler_expense);\n        expense_txt = myView.findViewById(R.id.expenses_txt);\n        getActivity().setRequestedOrientation(\n                ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n        final LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        layoutManager.setStackFromEnd(true);\n        layoutManager.setReverseLayout(true);\n        recyclerView.setHasFixedSize(true);\n\n\n        Query query = FirebaseDatabase.getInstance()\n                .getReference(\"Expenses\")\n                .child(currentUserID)\n                .limitToLast(100);\n\n        FirebaseRecyclerOptions&lt;PersonalExpenses&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;PersonalExpenses&gt;()\n                        .setQuery(query, PersonalExpenses.class)\n                        .build();\n\n\n        adapter = new FirebaseRecyclerAdapter&lt;PersonalExpenses, MyViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(final MyViewHolder holder, int position, PersonalExpenses personalExpenses) {\n\n\n                holder.setDate(personalExpenses.getDate());\n                holder.setDescription(personalExpenses.getDescription());\n                holder.setAmount(personalExpenses.getAmount());\n                holder.setType(personalExpenses.getType());\n                //holder.setCurrency(personalExpenses.getCurrency());\n            }\n\n            @Override\n            public MyViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.expense_recycler, parent, false);\n                return new MyViewHolder(view);\n            }\n        };\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(adapter);\n\n        final ItemTouchHelper helper = new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT) {\n            @Override\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n                return false;\n            }\n\n            @Override\n            public void onSwiped(@NonNull RecyclerView.ViewHolder target, int i) {\n\n               int swipedPosition = target.getAdapterPosition();\n               adapter.notifyDataSetChanged();\n\n            }\n        });\n        helper.attachToRecyclerView(recyclerView);\n\n        mDatabase.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                int totalsum = 0;\n                for(DataSnapshot mySnapshot: dataSnapshot.getChildren()){\n\n                    PersonalExpenses personal = mySnapshot.getValue(PersonalExpenses.class);// Error appears for this line of code\n                    totalsum += personal.getAmount(); \n\n                    String stTotalsum = String.valueOf((totalsum));\n\n                    expense_txt.setText(stTotalsum);\n                }\n\n\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n\n\n        return myView;\n    }\n\n\n    @Override\n    public void onStart() {\n\n        super.onStart();\n        adapter.startListening();\n    }\n\n\n    @Override\n    public void onStop() {\n\n        super.onStop();\n        adapter.stopListening();\n    }\n\n\n   public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        private final View mView;\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n            mView = itemView;\n        }\n\n        protected void setDate(String date) {\n            TextView mDate = mView.findViewById(R.id.date_income);\n            mDate.setText(date);\n        }\n\n        protected void setType(String type) {\n            TextView mType = mView.findViewById(R.id.type_txt);\n            mType.setText(type);\n        }\n\n        protected void setDescription(String description) {\n            TextView mNote = mView.findViewById(R.id.note_txt);\n            mNote.setText(description);\n        }\n\n        protected void setAmount(int amount) {\n            TextView mAmount = mView.findViewById(R.id.ammount_income);\n            String strammount = String.valueOf(amount);\n            mAmount.setText(strammount);\n        }\n        /*\n       protected void setCurrency(String currency) {\n           TextView mCurrency = mView.findViewById(R.id.ammount_income);\n           mCurrency.setText(currency);\n       }*/\n    }\n}\n</code></pre>\n\n<p>Personal Expense data </p>\n\n<pre><code>public class PersonalExpenses {\n\n    public String description;\n    public int amount;\n    public String date;\n    public String type;\n    public String currency;\n\n    public PersonalExpenses() {}\n\n\n    public PersonalExpenses(String description, int amount, String date, String type, String currency) {\n        this.amount = amount;\n        this.date = date;\n        this.type = type;\n        this.currency = currency;\n        this.description = description;\n    }\n\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public int getAmount() { return amount; }\n\n    public void setAmount(int amount) { this.amount = amount; }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getType() {return type;}\n\n    public void setType(String type) { this.type = type; }\n\n    public String getCurrency() { return currency; }\n\n    public void setCurrency(String currency) { this.currency = currency; }\n\n}\n</code></pre>\n\n<p>This the error</p>\n\n<pre><code> com.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertInteger(com.google.firebase:firebase-database@@19.2.1:363)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToPrimitive(com.google.firebase:firebase-database@@19.2.1:289)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@19.2.1:214)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(com.google.firebase:firebase-database@@19.2.1:178)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(com.google.firebase:firebase-database@@19.2.1:47)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.2.1:592)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.2.1:562)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(com.google.firebase:firebase-database@@19.2.1:432)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@19.2.1:231)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-database@@19.2.1:79)\n        at com.google.firebase.database.DataSnapshot.getValue(com.google.firebase:firebase-database@@19.2.1:203)\n        at uk.brighton.ama75.project.personalFragment$3.onDataChange(personalFragment.java:118)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(com.google.firebase:firebase-database@@19.2.1:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(com.google.firebase:firebase-database@@19.2.1:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(com.google.firebase:firebase-database@@19.2.1:55)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jXJgd.png\" rel=\"nofollow noreferrer\">Here is the database from Firebase</a></p>\n\n<p>This is how I am storing the data in the database</p>\n\n<pre><code>expenses.setDescription(mDescription.getText().toString().trim());\n                expenses.setAmount(Integer.valueOf(mAmount.getText().toString().trim()));\n                expenses.setDate(mDate.getText().toString().trim());\n                expenses.setType(text.trim());\n                mDatabase.push().setValue(expenses);\n</code></pre>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":2657955,"reputation":2574,"user_id":2298251,"accept_rate":86,"display_name":"Ariel"},"score":0,"creation_date":1661413661,"post_id":73482656,"comment_id":129767656,"body_markdown":"`device_info_plus`&#39;s androidID is very unreliable in a sense that the underlying MAC can be spoofed after SDK29+ by default feature of Android. So, use a static one generated by yourself.","body":"<code>device_info_plus</code>&#39;s androidID is very unreliable in a sense that the underlying MAC can be spoofed after SDK29+ by default feature of Android. So, use a static one generated by yourself."}],"answers":[{"tags":[],"owner":{"account_id":2657955,"reputation":2574,"user_id":2298251,"accept_rate":86,"display_name":"Ariel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661413600,"creation_date":1661413600,"answer_id":73483708,"question_id":73482656,"body_markdown":"You can use UUID generated by yourself along with the user-id for this purpose.\r\n\r\nWe use this policy because MACs can be randomized. Even if Device is same, the MAC can change. \r\n\r\nSo, use `${userId}-${UUIDForDevice}`. That way, the user device is uniquely tracked. Once the `UUIDForDevice` is generated, store it in the secure storage. When user logs in, send the `${userId}-${UUIDForDevice}` in the header.\r\n\r\nEven if the user deletes the app and installs again. We are safe, because the app has lost authorization so, user will start from fresh. The change in the `UUIDForDevice` will pose no threat to us. User will have to verify himself again for that.\r\n\r\nEveryone uses the similar approach. So, it&#39;s okay to use it as such. Otherwise, consider using the OpenIDConnect protocols for resource authorization, app authorization as such if needs be.","title":"Best way to define unique android ID for SDK 29+, device info plus android ID removed/null","body":"<p>You can use UUID generated by yourself along with the user-id for this purpose.</p>\n<p>We use this policy because MACs can be randomized. Even if Device is same, the MAC can change.</p>\n<p>So, use <code>${userId}-${UUIDForDevice}</code>. That way, the user device is uniquely tracked. Once the <code>UUIDForDevice</code> is generated, store it in the secure storage. When user logs in, send the <code>${userId}-${UUIDForDevice}</code> in the header.</p>\n<p>Even if the user deletes the app and installs again. We are safe, because the app has lost authorization so, user will start from fresh. The change in the <code>UUIDForDevice</code> will pose no threat to us. User will have to verify himself again for that.</p>\n<p>Everyone uses the similar approach. So, it's okay to use it as such. Otherwise, consider using the OpenIDConnect protocols for resource authorization, app authorization as such if needs be.</p>\n"}],"owner":{"account_id":22108400,"reputation":190,"user_id":16363643,"display_name":"Alifa Al Farizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73483708,"answer_count":1,"score":1,"last_activity_date":1661413600,"creation_date":1661407737,"question_id":73482656,"body_markdown":"What is the best practice to identify id or something unique from android device without violating google play policies? I noticed that androidID is removed from device_info_plus, and when tested on android SDK 29+ it return null.\r\n[![Android ID Removed][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TUqhD.jpg","title":"Best way to define unique android ID for SDK 29+, device info plus android ID removed/null","body":"<p>What is the best practice to identify id or something unique from android device without violating google play policies? I noticed that androidID is removed from device_info_plus, and when tested on android SDK 29+ it return null.\n<a href=\"https://i.stack.imgur.com/TUqhD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUqhD.jpg\" alt=\"Android ID Removed\" /></a></p>\n"},{"tags":["java","tesseract","apache-tika"],"comments":[{"owner":{"account_id":392659,"reputation":8270,"user_id":754060,"display_name":"nguyenq"},"score":2,"creation_date":1661481400,"post_id":73483658,"comment_id":129788110,"body_markdown":"You can try downloading `lat.traineddata` from https://github.com/tesseract-ocr/tessdata_fast, put in `tessdata` folder, and try with &quot;lat&quot; language code.","body":"You can try downloading <code>lat.traineddata</code> from <a href=\"https://github.com/tesseract-ocr/tessdata_fast\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tessdata_fast</a>, put in <code>tessdata</code> folder, and try with &quot;lat&quot; language code."}],"owner":{"account_id":25851431,"reputation":51,"user_id":19585355,"display_name":"Kipoti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661413313,"creation_date":1661413313,"question_id":73483658,"body_markdown":"I use the latest Tesseract, and basic tesseract data pack - &quot;tessdata&quot;. \r\n\r\nThe list of files with languages ​​is located in the following path:\r\n\r\n```\r\nE:\\Program Files\\tesseractOCR\\tessdata\r\n  configs\r\n  script\r\n  tessconfigs\r\n  ...\r\n  eng.traineddata\r\n  deu.traineddata\r\n  ukr.traineddata\r\n  ...\r\n  yor.traineddata\r\n```\r\n\r\nfolder script:\r\n\r\n```\r\nE:\\Program Files\\tesseractOCR\\tessdata\\script\r\n  Arabic.traineddata\r\n  ...\r\n  Latin.traineddata\r\n```\r\n\r\nI try to add tesseract data in config:\r\n\r\n```\r\n//other objects\r\nAutoDetectParser parser = new AutoDetectParser();\r\nParseContext pc = new ParseContext(); \r\nMetadata metadata = new Metadata();\r\nTika tika = new Tika();\r\nBodyContentHandler ch = new BodyContentHandler(-1); \r\nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\r\n\r\n//init\r\nTesseractOCRConfig tesserConfig = new TesseractOCRConfig();\r\ntesserConfig.setTesseractPath(&quot;E:\\\\Program Files\\\\tesseractOCR&quot;);\r\ntesserConfig.setTessdataPath(&quot;E:\\\\Program Files\\\\tesseractOCR\\\\tessdata&quot;); \r\n\r\n//add\r\npc.set(TesseractOCRConfig.class, tesserConfig);\r\n\r\n//using\r\nparser.parse(is, ch, metadata, pc);  \r\n```\r\n\r\nAnd I try to add languages, if i try to add files from folder: E:\\Program Files\\tesseractOCR\\tessdata\r\n\r\nusing the command:\r\n\r\n```\r\ntesserConfig.setLanguage(&quot;eng+deu+ukr&quot;);\r\n```\r\n\r\nAnd it all works, but if I want to add files from a folder: E:\\Program Files\\tesseractOCR\\tessdata\\script\r\n\r\nusing the command:\r\n\r\n```\r\ntesserConfig.setLanguage(&quot;script/Latin&quot;);\r\n```\r\n\r\nAn error like this is thrown:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Invalid language code: script/Latin\r\n\tat org.apache.tika.parser.ocr.TesseractOCRConfig.setLanguage(TesseractOCRConfig.java:252)\r\n```\r\n\r\nBut even if I try other options, these are the commands:\r\n\r\n```\r\n1) tesserConfig.setLanguage(&quot;script\\\\Latin&quot;);\r\n\r\n2) tesserConfig.setLanguage(&quot;Latin&quot;);\r\n```\r\n\r\nI see this error again.\r\n\r\n\r\nMoreover, if you try to get a list of available languages ​​with such a command:\r\n\r\n```\r\ntesseract --list-langs\r\n```\r\n\r\nthen you can see the following language names:\r\n```\r\n...\r\neng\r\ndeu\r\nukr\r\n...\r\n\r\nscript/Latin\r\n...\r\n```\r\n\r\nAnd it is not clear how to set the language so that it is a script\r\n\r\nIn the documentation for using tesseract via the command line, there is information that to connect languages ​​or scripts, you need to use this command: \r\n\r\n\r\n```\r\n-l LANG -l SCRIPT\r\n```\r\n\r\nso to connect eng you need to run this command:\r\n\r\n```\r\n-l end\r\n```\r\n\r\nor\r\n\r\n```\r\ntesserConfig.setLanguage(&quot;end&quot;);\r\n```\r\n\r\n----------\r\n\r\nBut at the same time, the connection of scripts does not work, and an error message is displayed, tell me how to be, maybe there is someone who solved this problem, thanks in advance.\r\n\r\n","title":"Error with adding Latin language in Tesseract OCR + Tika Core","body":"<p>I use the latest Tesseract, and basic tesseract data pack - &quot;tessdata&quot;.</p>\n<p>The list of files with languages ​​is located in the following path:</p>\n<pre><code>E:\\Program Files\\tesseractOCR\\tessdata\n  configs\n  script\n  tessconfigs\n  ...\n  eng.traineddata\n  deu.traineddata\n  ukr.traineddata\n  ...\n  yor.traineddata\n</code></pre>\n<p>folder script:</p>\n<pre><code>E:\\Program Files\\tesseractOCR\\tessdata\\script\n  Arabic.traineddata\n  ...\n  Latin.traineddata\n</code></pre>\n<p>I try to add tesseract data in config:</p>\n<pre><code>//other objects\nAutoDetectParser parser = new AutoDetectParser();\nParseContext pc = new ParseContext(); \nMetadata metadata = new Metadata();\nTika tika = new Tika();\nBodyContentHandler ch = new BodyContentHandler(-1); \nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\n\n//init\nTesseractOCRConfig tesserConfig = new TesseractOCRConfig();\ntesserConfig.setTesseractPath(&quot;E:\\\\Program Files\\\\tesseractOCR&quot;);\ntesserConfig.setTessdataPath(&quot;E:\\\\Program Files\\\\tesseractOCR\\\\tessdata&quot;); \n\n//add\npc.set(TesseractOCRConfig.class, tesserConfig);\n\n//using\nparser.parse(is, ch, metadata, pc);  \n</code></pre>\n<p>And I try to add languages, if i try to add files from folder: E:\\Program Files\\tesseractOCR\\tessdata</p>\n<p>using the command:</p>\n<pre><code>tesserConfig.setLanguage(&quot;eng+deu+ukr&quot;);\n</code></pre>\n<p>And it all works, but if I want to add files from a folder: E:\\Program Files\\tesseractOCR\\tessdata\\script</p>\n<p>using the command:</p>\n<pre><code>tesserConfig.setLanguage(&quot;script/Latin&quot;);\n</code></pre>\n<p>An error like this is thrown:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid language code: script/Latin\n    at org.apache.tika.parser.ocr.TesseractOCRConfig.setLanguage(TesseractOCRConfig.java:252)\n</code></pre>\n<p>But even if I try other options, these are the commands:</p>\n<pre><code>1) tesserConfig.setLanguage(&quot;script\\\\Latin&quot;);\n\n2) tesserConfig.setLanguage(&quot;Latin&quot;);\n</code></pre>\n<p>I see this error again.</p>\n<p>Moreover, if you try to get a list of available languages ​​with such a command:</p>\n<pre><code>tesseract --list-langs\n</code></pre>\n<p>then you can see the following language names:</p>\n<pre><code>...\neng\ndeu\nukr\n...\n\nscript/Latin\n...\n</code></pre>\n<p>And it is not clear how to set the language so that it is a script</p>\n<p>In the documentation for using tesseract via the command line, there is information that to connect languages ​​or scripts, you need to use this command:</p>\n<pre><code>-l LANG -l SCRIPT\n</code></pre>\n<p>so to connect eng you need to run this command:</p>\n<pre><code>-l end\n</code></pre>\n<p>or</p>\n<pre><code>tesserConfig.setLanguage(&quot;end&quot;);\n</code></pre>\n<hr />\n<p>But at the same time, the connection of scripts does not work, and an error message is displayed, tell me how to be, maybe there is someone who solved this problem, thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16816064,"reputation":81,"user_id":12157839,"display_name":"Jayesh Patel"},"score":1,"creation_date":1616654010,"post_id":66794199,"comment_id":118071408,"body_markdown":"```(number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)```\n\nThis condition returns true only if both numbers are invalid.","body":"<code>(number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)</code>  This condition returns true only if both numbers are invalid."},{"owner":{"account_id":10358661,"reputation":241,"user_id":7639777,"display_name":"Suyash Krishna"},"score":0,"creation_date":1616654089,"post_id":66794199,"comment_id":118071437,"body_markdown":"Quite a few mistakes there, first of all, the check should have an || instead of &amp;&amp; because the method should return false if either number does not fall in the range.","body":"Quite a few mistakes there, first of all, the check should have an || instead of &amp;&amp; because the method should return false if either number does not fall in the range."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1616657407,"post_id":66794199,"comment_id":118072539,"body_markdown":"Unrelated: just for the fun of it: dont limit yourself to their assignment. You see, the fact that you know that both parameters have two digits makes the assignment much easier. Ask yourself how you could solve this if the only restriction would be that both numbers are &gt; 0 for example ;-)","body":"Unrelated: just for the fun of it: dont limit yourself to their assignment. You see, the fact that you know that both parameters have two digits makes the assignment much easier. Ask yourself how you could solve this if the only restriction would be that both numbers are &gt; 0 for example ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616660396,"creation_date":1616654051,"answer_id":66794240,"question_id":66794199,"body_markdown":"&gt; If one of the numbers is not within the range, the method should\r\n&gt; return false.\r\n\r\nReplace\r\n\r\n    if((number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)) \r\n\r\nwith\r\n\r\n    if(number1 &lt;10 || number1 &gt;99 || number2 &lt;10 || number2 &gt;99) \r\n\r\nApart from this, you have missed `numberOneLastDigit == numberTwoFirstDigit` in the combination of conditions which are supposed to compare the digits i.e. the combination should be \r\n\r\n\tif(\r\n\t\tnumberOneFirstDigit == numberTwoFirstDigit || \r\n\t\tnumberOneFirstDigit == numberTwoLastDigit  || \r\n\t\tnumberOneLastDigit  == numberTwoFirstDigit || \r\n\t\tnumberOneLastDigit  == numberTwoLastDigit\r\n\t)","title":"JAVA checking two numbers digit are the same","body":"<blockquote>\n<p>If one of the numbers is not within the range, the method should\nreturn false.</p>\n</blockquote>\n<p>Replace</p>\n<pre><code>if((number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)) \n</code></pre>\n<p>with</p>\n<pre><code>if(number1 &lt;10 || number1 &gt;99 || number2 &lt;10 || number2 &gt;99) \n</code></pre>\n<p>Apart from this, you have missed <code>numberOneLastDigit == numberTwoFirstDigit</code> in the combination of conditions which are supposed to compare the digits i.e. the combination should be</p>\n<pre><code>if(\n    numberOneFirstDigit == numberTwoFirstDigit || \n    numberOneFirstDigit == numberTwoLastDigit  || \n    numberOneLastDigit  == numberTwoFirstDigit || \n    numberOneLastDigit  == numberTwoLastDigit\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616655020,"creation_date":1616654430,"answer_id":66794315,"question_id":66794199,"body_markdown":"You&#39;re missing a comparison here. What you have is `f1 == f2 || f1 == l2 || l1 == l2` but what&#39;s missing it `l1 == f2`, e.g. 12 and 23 would return false with your code because\r\n- 1 != 2 (`f1 == f2` fails)\r\n- 1 != 3 (`f1 == l2` fails)\r\n- 2 != 3 (`l1 == l2` fails) \r\n- your code is missing the 2 == 2 (`l1 == f2`) so add `... || numberOneLastDigit == numberTwoFirstDigit` to the comparison condition.\r\n\r\nAs the others already stated, your check is also wrong as it requires _both_ numbers to be out of range so if just one is, it doesn&#39;t return false.\r\n\r\nTo make it easier, try to turn the condition around so that both numbers _must_ be in range:\r\n\r\n    if(!(number1 &gt;= 10 &amp;&amp; number1 &lt;=99 &amp;&amp; number2 &gt;= 10 &amp;&amp; number2 &lt;= 99)) {\r\n      return false;\r\n    }\r\n\r\nOften it might also be easier to read and maintain the code if you&#39;d &quot;name&quot; the conditions:\r\n\r\n    boolean n1InRange = number1 &gt;= 10 &amp;&amp; number1 &lt;=99;\r\n    boolean n2InRange = number2 &gt;= 10 &amp;&amp; number2 &lt;=99;\r\n\r\n    if( !(n1InRange &amp;&amp; n2InRange) { ... }\r\n    //or\r\n    if( !n1InRange || !n2InRange ) { ... }","title":"JAVA checking two numbers digit are the same","body":"<p>You're missing a comparison here. What you have is <code>f1 == f2 || f1 == l2 || l1 == l2</code> but what's missing it <code>l1 == f2</code>, e.g. 12 and 23 would return false with your code because</p>\n<ul>\n<li>1 != 2 (<code>f1 == f2</code> fails)</li>\n<li>1 != 3 (<code>f1 == l2</code> fails)</li>\n<li>2 != 3 (<code>l1 == l2</code> fails)</li>\n<li>your code is missing the 2 == 2 (<code>l1 == f2</code>) so add <code>... || numberOneLastDigit == numberTwoFirstDigit</code> to the comparison condition.</li>\n</ul>\n<p>As the others already stated, your check is also wrong as it requires <em>both</em> numbers to be out of range so if just one is, it doesn't return false.</p>\n<p>To make it easier, try to turn the condition around so that both numbers <em>must</em> be in range:</p>\n<pre><code>if(!(number1 &gt;= 10 &amp;&amp; number1 &lt;=99 &amp;&amp; number2 &gt;= 10 &amp;&amp; number2 &lt;= 99)) {\n  return false;\n}\n</code></pre>\n<p>Often it might also be easier to read and maintain the code if you'd &quot;name&quot; the conditions:</p>\n<pre><code>boolean n1InRange = number1 &gt;= 10 &amp;&amp; number1 &lt;=99;\nboolean n2InRange = number2 &gt;= 10 &amp;&amp; number2 &lt;=99;\n\nif( !(n1InRange &amp;&amp; n2InRange) { ... }\n//or\nif( !n1InRange || !n2InRange ) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616658355,"creation_date":1616655679,"answer_id":66794588,"question_id":66794199,"body_markdown":"# Treating numbers as text\r\n\r\nThe [other Answer][1] and comments solved your direct problem. Just for fun, we can take an entirely different approach.\r\n\r\nThe idea here is to treat the numbers as text. In doing so, we can address each of your two business rules:\r\n\r\n- *Each number should be within the range of 10 (inclusive) - 99 (inclusive).* \r\n  - Numbers between 10 and 99 happen to have exactly two digits. One digit or 3+ digits means out-of-range. \r\n- *if there is a digit that appears in both numbers*\r\n  - By collecting into a [`Set`][2] the [code point][3] of each character in the string that is our first number, we have a distinct collection for which we can [get the intersection][4] of the same for the second number’s string. If the intersection, the resulting modified `Set`, has a size over 0, then we know digits are shared.\r\n\r\nTo explain the code below… The `codePoints` method generates an [`IntStream`][5], a sequence of `int` numbers, one for each code point number defined in [Unicode][6] for each character in our string that represents our input integer. The `boxed` call [converts][7] those `int` primitives into [`Integer`][8] objects. Adding those `Integer` objects to a `Set` automatically makes them distinct, weeding out automatically any duplicate digits. \r\n\r\nSee this [code run live at IdeOne.com][9].\r\n\r\n```java\r\nprivate boolean twoIntsAreInRangeAndShareDigits ( int n1 , int n2 )\r\n{\r\n    String n1String = Integer.toString( n1 );\r\n    String n2String = Integer.toString( n2 );\r\n\r\n    // Check for negative numbers, meaning out-of-range, not 10-99. \r\n    if ( n1String.concat( n2String ).contains( &quot;-&quot; ) ) { return false; } \r\n\r\n    // Check for exactly 2 digits, meaning within range, 10-99.\r\n    if ( ( n1String.length() == 2 ) &amp;&amp; ( n2String.length() == 2 ) )\r\n    {   // Numbers are within range. \r\n        // Check for common digits.\r\n        Set &lt; Integer &gt; n1CodePoints = n1String.codePoints().boxed().collect( Collectors.toSet() );\r\n        Set &lt; Integer &gt; n2CodePoints = n2String.codePoints().boxed().collect( Collectors.toSet() );\r\n        n1CodePoints.retainAll( n2CodePoints );\r\n        boolean sharesDigit = ( n1CodePoints.size() &gt; 0 );\r\n        return sharesDigit;\r\n    } \r\n    else  // Else 1 or 3+ digits mean numbers are out-of-range.\r\n    { return false; }\r\n}\r\n```\r\n\r\nI am not arguing that this approach is better, just interesting as a different way of thinking about the problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66794240/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\r\n  [3]: https://en.wikipedia.org/wiki/Code_point\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#retainAll(java.util.Collection)\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\r\n  [6]: https://en.wikipedia.org/wiki/Unicode\r\n  [7]: https://en.wikipedia.org/wiki/Object_type_(object-oriented_programming)#Autoboxing\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\r\n  [9]: https://ideone.com/4OvxlF","title":"JAVA checking two numbers digit are the same","body":"<h1>Treating numbers as text</h1>\n<p>The <a href=\"https://stackoverflow.com/a/66794240/642706\">other Answer</a> and comments solved your direct problem. Just for fun, we can take an entirely different approach.</p>\n<p>The idea here is to treat the numbers as text. In doing so, we can address each of your two business rules:</p>\n<ul>\n<li><em>Each number should be within the range of 10 (inclusive) - 99 (inclusive).</em>\n<ul>\n<li>Numbers between 10 and 99 happen to have exactly two digits. One digit or 3+ digits means out-of-range.</li>\n</ul>\n</li>\n<li><em>if there is a digit that appears in both numbers</em>\n<ul>\n<li>By collecting into a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> the <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> of each character in the string that is our first number, we have a distinct collection for which we can <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#retainAll(java.util.Collection)\" rel=\"nofollow noreferrer\">get the intersection</a> of the same for the second number’s string. If the intersection, the resulting modified <code>Set</code>, has a size over 0, then we know digits are shared.</li>\n</ul>\n</li>\n</ul>\n<p>To explain the code below… The <code>codePoints</code> method generates an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>, a sequence of <code>int</code> numbers, one for each code point number defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a> for each character in our string that represents our input integer. The <code>boxed</code> call <a href=\"https://en.wikipedia.org/wiki/Object_type_(object-oriented_programming)#Autoboxing\" rel=\"nofollow noreferrer\">converts</a> those <code>int</code> primitives into <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> objects. Adding those <code>Integer</code> objects to a <code>Set</code> automatically makes them distinct, weeding out automatically any duplicate digits.</p>\n<p>See this <a href=\"https://ideone.com/4OvxlF\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean twoIntsAreInRangeAndShareDigits ( int n1 , int n2 )\n{\n    String n1String = Integer.toString( n1 );\n    String n2String = Integer.toString( n2 );\n\n    // Check for negative numbers, meaning out-of-range, not 10-99. \n    if ( n1String.concat( n2String ).contains( &quot;-&quot; ) ) { return false; } \n\n    // Check for exactly 2 digits, meaning within range, 10-99.\n    if ( ( n1String.length() == 2 ) &amp;&amp; ( n2String.length() == 2 ) )\n    {   // Numbers are within range. \n        // Check for common digits.\n        Set &lt; Integer &gt; n1CodePoints = n1String.codePoints().boxed().collect( Collectors.toSet() );\n        Set &lt; Integer &gt; n2CodePoints = n2String.codePoints().boxed().collect( Collectors.toSet() );\n        n1CodePoints.retainAll( n2CodePoints );\n        boolean sharesDigit = ( n1CodePoints.size() &gt; 0 );\n        return sharesDigit;\n    } \n    else  // Else 1 or 3+ digits mean numbers are out-of-range.\n    { return false; }\n}\n</code></pre>\n<p>I am not arguing that this approach is better, just interesting as a different way of thinking about the problem.</p>\n"},{"tags":[],"owner":{"account_id":3344563,"reputation":39,"user_id":2809967,"display_name":"LulzSec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661413311,"creation_date":1661413311,"answer_id":73483657,"question_id":66794199,"body_markdown":"This is my Solution\r\n    \r\n    public static boolean hasSharedDigit(int x, int y){\r\n        \r\n                if( (x &lt; 10 ||  x &gt; 99) || (y &lt; 10 ||  y &gt; 99)){\r\n                    return false;\r\n                }\r\n        \r\n                int xFirst = x / 10;\r\n                int yFirst = y / 10;\r\n                int xLast = x % 10;\r\n                int yLast = y % 10;\r\n        \r\n                if((xFirst == yFirst || xLast == yLast) || (xFirst == yLast || xLast == yFirst)){\r\n                    return true;\r\n                } return false;\r\n            }\r\n\r\n","title":"JAVA checking two numbers digit are the same","body":"<p>This is my Solution</p>\n<pre><code>public static boolean hasSharedDigit(int x, int y){\n    \n            if( (x &lt; 10 ||  x &gt; 99) || (y &lt; 10 ||  y &gt; 99)){\n                return false;\n            }\n    \n            int xFirst = x / 10;\n            int yFirst = y / 10;\n            int xLast = x % 10;\n            int yLast = y % 10;\n    \n            if((xFirst == yFirst || xLast == yLast) || (xFirst == yLast || xLast == yFirst)){\n                return true;\n            } return false;\n        }\n</code></pre>\n"}],"owner":{"account_id":18031493,"reputation":165,"user_id":13574542,"display_name":"עמית שוקרון"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1661413311,"creation_date":1616653843,"question_id":66794199,"body_markdown":"hi I am trying to solve Udemy exercise:\r\nWrite a method named hasSharedDigit with two parameters of type int. \r\n\r\nEach number should be within the range of 10 (inclusive) - 99 (inclusive). If one of the numbers is not within the range, the method should return false.\r\n\r\nThe method should return true if there is a digit that appears in both numbers, such as 2 in 12 and 23; otherwise, the method should return false.\r\n\r\nI am keep getting true while hasSharedDigit(9,99) I cant discover why..\r\n\r\n    public class SharedDigit {\r\n    public static boolean hasSharedDigit(int number1, int number2){\r\n        \r\n        if((number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)) {\r\n            return false;\r\n        } \r\n        \r\n        int numberOneFirstDigit = number1/10;\r\n        int numberTwoFirstDigit = number2/10;\r\n        int numberOneLastDigit = number1%10;\r\n        int numberTwoLastDigit = number2%10;\r\n        \r\n        if(numberOneFirstDigit == numberTwoFirstDigit || numberOneFirstDigit == numberTwoLastDigit || numberOneLastDigit == numberTwoLastDigit) {\r\n            return true;\r\n        } else {\r\n        return false;\r\n        }\r\n    }\r\n}","title":"JAVA checking two numbers digit are the same","body":"<p>hi I am trying to solve Udemy exercise:\nWrite a method named hasSharedDigit with two parameters of type int.</p>\n<p>Each number should be within the range of 10 (inclusive) - 99 (inclusive). If one of the numbers is not within the range, the method should return false.</p>\n<p>The method should return true if there is a digit that appears in both numbers, such as 2 in 12 and 23; otherwise, the method should return false.</p>\n<p>I am keep getting true while hasSharedDigit(9,99) I cant discover why..</p>\n<pre><code>public class SharedDigit {\npublic static boolean hasSharedDigit(int number1, int number2){\n    \n    if((number1 &lt;10 || number1 &gt;99) &amp;&amp; (number2 &lt;10 || number2 &gt;99)) {\n        return false;\n    } \n    \n    int numberOneFirstDigit = number1/10;\n    int numberTwoFirstDigit = number2/10;\n    int numberOneLastDigit = number1%10;\n    int numberTwoLastDigit = number2%10;\n    \n    if(numberOneFirstDigit == numberTwoFirstDigit || numberOneFirstDigit == numberTwoLastDigit || numberOneLastDigit == numberTwoLastDigit) {\n        return true;\n    } else {\n    return false;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":5,"creation_date":1353271924,"post_id":13444414,"comment_id":18381973,"body_markdown":"It&#39;s an empty array -- perfectly legit.","body":"It&#39;s an empty array -- perfectly legit."},{"owner":{"account_id":271958,"reputation":127827,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"score":0,"creation_date":1353272793,"post_id":13444414,"comment_id":18382207,"body_markdown":"After having seen the examples I wonder why I didn&#39;t think about them... they are so obvious.","body":"After having seen the examples I wonder why I didn&#39;t think about them... they are so obvious."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1353277443,"post_id":13444414,"comment_id":18383527,"body_markdown":"Even if there were not practical uses for the concept (and there are many) it should exist for uniformity&#39;s sake.","body":"Even if there were not practical uses for the concept (and there are many) it should exist for uniformity&#39;s sake."}],"answers":[{"tags":[],"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353271859,"creation_date":1353271859,"answer_id":13444429,"question_id":13444414,"body_markdown":"Yes there is eg main method execution w/o command line parameters. It gives you a 0-sized array instead of null.","title":"Why is int[] a = new int[0]; allowed?","body":"<p>Yes there is eg main method execution w/o command line parameters. It gives you a 0-sized array instead of null.</p>\n"},{"tags":[],"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353272206,"creation_date":1353271883,"answer_id":13444434,"question_id":13444414,"body_markdown":"    public int[] getData()\r\n    {\r\n        if (iGotNothinForYa)\r\n        {\r\n            return new int[0];\r\n        }\r\n        \r\n        int[] data = buildUpArray();\r\n        return data;\r\n    }\r\n\r\n\r\nIt&#39;s often easier, in code consuming the data returned by a method like this, to not have to do a null check. Particularly when iterating over the array.\r\n\r\n    int[] data = getData();\r\n    for (int i : data) // yay! no null check!\r\n    {\r\n        doSomethingWith(i);\r\n    }\r\n","title":"Why is int[] a = new int[0]; allowed?","body":"<pre><code>public int[] getData()\n{\n    if (iGotNothinForYa)\n    {\n        return new int[0];\n    }\n\n    int[] data = buildUpArray();\n    return data;\n}\n</code></pre>\n\n<p>It's often easier, in code consuming the data returned by a method like this, to not have to do a null check. Particularly when iterating over the array.</p>\n\n<pre><code>int[] data = getData();\nfor (int i : data) // yay! no null check!\n{\n    doSomethingWith(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1353271902,"creation_date":1353271902,"answer_id":13444439,"question_id":13444414,"body_markdown":"For example:\r\n\r\n    public void getArraySum(int[] array) {\r\n        int sum = 0;    \r\n        \r\n        for (int i = 0; i &lt; array.length; i++)\r\n            sum += array[i];\r\n    \r\n        return sum;\r\n    }\r\n\r\nThis will work with an empty array, but won&#39;t with `null` reference. \r\n\r\nYou just save a redundant `null` check. That is why you can create also an empty list for example.","title":"Why is int[] a = new int[0]; allowed?","body":"<p>For example:</p>\n\n<pre><code>public void getArraySum(int[] array) {\n    int sum = 0;    \n\n    for (int i = 0; i &lt; array.length; i++)\n        sum += array[i];\n\n    return sum;\n}\n</code></pre>\n\n<p>This will work with an empty array, but won't with <code>null</code> reference. </p>\n\n<p>You just save a redundant <code>null</code> check. That is why you can create also an empty list for example.</p>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1353272860,"creation_date":1353271905,"answer_id":13444441,"question_id":13444414,"body_markdown":"Why not?\r\n\r\nYou can get an array with the list of `.exe` files in a directory. And that directory can have no `.exe` files.\r\n\r\nForcing to use `null` for this case complicated the logic both creating and handling the array and helps to nothing.\r\n\r\nUPDATE: More the point, the array size in Java is decided at compile time. It is true that `new int[0]` can be detected at compile time, but `new int[System.currentTimeMillis % 10]` cannot. So checking the 0 case at compile time does not ensure that you don&#39;t get empty arrays.","title":"Why is int[] a = new int[0]; allowed?","body":"<p>Why not?</p>\n\n<p>You can get an array with the list of <code>.exe</code> files in a directory. And that directory can have no <code>.exe</code> files.</p>\n\n<p>Forcing to use <code>null</code> for this case complicated the logic both creating and handling the array and helps to nothing.</p>\n\n<p>UPDATE: More the point, the array size in Java is decided at compile time. It is true that <code>new int[0]</code> can be detected at compile time, but <code>new int[System.currentTimeMillis % 10]</code> cannot. So checking the 0 case at compile time does not ensure that you don't get empty arrays.</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1353272053,"creation_date":1353272053,"answer_id":13444462,"question_id":13444414,"body_markdown":"It&#39;s just for reducing null checks.\r\n\r\nYou can iterate on **empty** array but can not iterate on null.\r\n\r\nConsider the code:\r\n\r\n    for (Integer i: myArray) {\r\n       System.out.println(i);\r\n    }\r\n\r\nOn empty array it prints nothing, on null it causes `NullPointerException`.","title":"Why is int[] a = new int[0]; allowed?","body":"<p>It's just for reducing null checks.</p>\n\n<p>You can iterate on <strong>empty</strong> array but can not iterate on null.</p>\n\n<p>Consider the code:</p>\n\n<pre><code>for (Integer i: myArray) {\n   System.out.println(i);\n}\n</code></pre>\n\n<p>On empty array it prints nothing, on null it causes <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1355133375,"creation_date":1354434572,"answer_id":13667427,"question_id":13444414,"body_markdown":"     int[] myArray = new int[0];\r\n\r\nArrays in java are regular objects. So above code says that array size is zero. This is particularly useful for protection against **Null pointer exception**. \r\n\r\nSimilar to this even Collections API have a way to initialize to an empty place holder.\r\n          \r\n     List&lt;String&gt; list = Collections.EMPTY_LIST;\r\n\r\n","title":"Why is int[] a = new int[0]; allowed?","body":"<pre><code> int[] myArray = new int[0];\n</code></pre>\n\n<p>Arrays in java are regular objects. So above code says that array size is zero. This is particularly useful for protection against <strong>Null pointer exception</strong>. </p>\n\n<p>Similar to this even Collections API have a way to initialize to an empty place holder.</p>\n\n<pre><code> List&lt;String&gt; list = Collections.EMPTY_LIST;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2515468,"reputation":1611,"user_id":2187022,"accept_rate":90,"display_name":"Malvon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468717317,"creation_date":1468717317,"answer_id":38417009,"question_id":13444414,"body_markdown":"An empty array can be used in thread synchronization when the goal is to use the least amount of memory for a locking object. Recall that arrays are objects, so if you wish to synchronize multiple threads on a single dummy object, the smallest object you can utilize is an empty array (possibly byte size):\r\n\r\n    byte bLock = new byte[0];\r\n    // Thread T1 synchronizes on this empty array object\r\n    synchronize(bLock) {\r\n        // perform some task while blocking other threads\r\n        // synchronizing on bLock\r\n    }","title":"Why is int[] a = new int[0]; allowed?","body":"<p>An empty array can be used in thread synchronization when the goal is to use the least amount of memory for a locking object. Recall that arrays are objects, so if you wish to synchronize multiple threads on a single dummy object, the smallest object you can utilize is an empty array (possibly byte size):</p>\n\n<pre><code>byte bLock = new byte[0];\n// Thread T1 synchronizes on this empty array object\nsynchronize(bLock) {\n    // perform some task while blocking other threads\n    // synchronizing on bLock\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21030038,"reputation":1,"user_id":18135139,"display_name":"Pablo Salas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652209808,"creation_date":1652209808,"answer_id":72191845,"question_id":13444414,"body_markdown":"The why new &lt;some&gt;[0] returns null instead of [], is because the system acnnot allocate (no space), it needs to allocate at least 1.\r\nSo that is why it returns null.\r\nA list is different because a list is a class somehow that internally has an array or tree or something similar so it manages it internally.\r\nbut\r\nint[] is just an array and that is just those ints in memory. (so int[0], is actually nothing, so why will alocate to have nothing? is good it givse null).\r\nwhy is it allowed, well imagine you do\r\nnew int [x+y]; where you do not know x, or y, and they can be both 0, without allowing this you need to check for it before and act different before eacn time.\r\n","title":"Why is int[] a = new int[0]; allowed?","body":"<p>The why new [0] returns null instead of [], is because the system acnnot allocate (no space), it needs to allocate at least 1.\nSo that is why it returns null.\nA list is different because a list is a class somehow that internally has an array or tree or something similar so it manages it internally.\nbut\nint[] is just an array and that is just those ints in memory. (so int[0], is actually nothing, so why will alocate to have nothing? is good it givse null).\nwhy is it allowed, well imagine you do\nnew int [x+y]; where you do not know x, or y, and they can be both 0, without allowing this you need to check for it before and act different before eacn time.</p>\n"},{"tags":[],"owner":{"account_id":8888208,"reputation":340,"user_id":6635815,"display_name":"Qing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661413299,"creation_date":1661413299,"answer_id":73483652,"question_id":13444414,"body_markdown":"As in the [API Documentation][1], it can also be used like this:\r\n\r\n    String[] a = c.toArray(new String[0]); // c: List&lt;String&gt;\r\n\r\ninstead of calculating the array length yourself:\r\n\r\n    String[] a = new String[c.size()];\r\n    c.toArray(a);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray-T:A-","title":"Why is int[] a = new int[0]; allowed?","body":"<p>As in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#toArray-T:A-\" rel=\"nofollow noreferrer\">API Documentation</a>, it can also be used like this:</p>\n<pre><code>String[] a = c.toArray(new String[0]); // c: List&lt;String&gt;\n</code></pre>\n<p>instead of calculating the array length yourself:</p>\n<pre><code>String[] a = new String[c.size()];\nc.toArray(a);\n</code></pre>\n"}],"owner":{"account_id":271958,"reputation":127827,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26242,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":13444462,"answer_count":9,"score":19,"last_activity_date":1661413299,"creation_date":1353271764,"question_id":13444414,"body_markdown":"Is there a reason why\r\n\r\n    int[] myArray = new int[0];\r\n\r\ncompiles? \r\n\r\n\r\n**Is there any use of such an expression?**\r\n\r\n\r\n    myArray[0] = 1;\r\n\r\ngives `java.lang.ArrayIndexOutOfBoundsException`.\r\n\r\n    if (myArray == null) {\r\n        System.out.println(&quot;myArray is null.&quot;);\r\n    } else {\r\n        System.out.println(&quot;myArray is not null.&quot;);\r\n    }\r\n\r\ngives `myArray is not null.`.\r\n\r\nSo I can&#39;t see a reason why `int[] myArray = new int[0]` should be preferred over `myArray = null;`.","title":"Why is int[] a = new int[0]; allowed?","body":"<p>Is there a reason why</p>\n\n<pre><code>int[] myArray = new int[0];\n</code></pre>\n\n<p>compiles? </p>\n\n<p><strong>Is there any use of such an expression?</strong></p>\n\n<pre><code>myArray[0] = 1;\n</code></pre>\n\n<p>gives <code>java.lang.ArrayIndexOutOfBoundsException</code>.</p>\n\n<pre><code>if (myArray == null) {\n    System.out.println(\"myArray is null.\");\n} else {\n    System.out.println(\"myArray is not null.\");\n}\n</code></pre>\n\n<p>gives <code>myArray is not null.</code>.</p>\n\n<p>So I can't see a reason why <code>int[] myArray = new int[0]</code> should be preferred over <code>myArray = null;</code>.</p>\n"},{"tags":["java","markdown","javadoc","pandoc"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661413574,"post_id":73257376,"comment_id":129767636,"body_markdown":"I believe you should use HTML escapes rather than embedding UTF characters yourself.","body":"I believe you should use HTML escapes rather than embedding UTF characters yourself."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1661417253,"post_id":73257376,"comment_id":129768977,"body_markdown":"No, 99.999% of the existing tools are handling UTF-8 correctly. Do you imagine the work of thinking about replacing `&#233;` by `\\u1234`, `&#232;` by `\\u456`, `&#224;` by `\\u789`...? And their readability for humans?  What are you reading here: `\\u0068\\u00e9\\u0020\\u0021\\u0020\\u00e7\\u0061\\u0020\\u0076\\u0061\\u0020\\u003f`? And all of this for a KDE bug?","body":"No, 99.999% of the existing tools are handling UTF-8 correctly. Do you imagine the work of thinking about replacing <code>&#233;</code> by <code>\\u1234</code>, <code>&#232;</code> by <code>\\u456</code>, <code>&#224;</code> by <code>\\u789</code>...? And their readability for humans?  What are you reading here: <code>\\u0068\\u00e9\\u0020\\u0021\\u0020\\u00e7\\u0061\\u0020\\u0076\\u0061&zwnj;&#8203;\\u0020\\u003f</code>? And all of this for a KDE bug?"}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1661413157,"creation_date":1661373795,"answer_id":73479260,"question_id":73257376,"body_markdown":"The issue is not specific to PDF, it also happens when converting to HTML:\r\n\r\n``` lang-none\r\npandoc -s test.md -o test.html\r\n```\r\n\r\nFor [syntax highlighting](https://pandoc.org/MANUAL.html#syntax-highlighting), pandoc uses KDE XML syntax definition files. The one for Java is\r\n[here](https://raw.githubusercontent.com/KDE/syntax-highlighting/master/data/syntax/java.xml).\r\n\r\nDownload it and open it in a text editor. You will find this at line 3777:\r\n\r\n``` lang-xml\r\n&lt;!-- Comment next line if you don&#39;t use Javadoc tool --&gt;\r\n&lt;IncludeRules context=&quot;##Javadoc&quot;/&gt;\r\n```\r\n\r\nDo as indicated in the comment:\r\n\r\n``` lang-xml\r\n&lt;!-- Comment next line if you don&#39;t use Javadoc tool --&gt;\r\n&lt;!--IncludeRules context=&quot;##Javadoc&quot;/--&gt;\r\n```\r\n\r\nNow convert with your custom syntax definition file:\r\n\r\n``` lang-none\r\npandoc --syntax-definition=java.xml -s test.md -o test.html\r\n```\r\n\r\nHere is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eVxm0.png","title":"A Javadoc comment with accented characters mixes blue and black color in its text on a Pandoc generated pdf. One without accented characters doesn&#39;t","body":"<p>The issue is not specific to PDF, it also happens when converting to HTML:</p>\n<pre class=\"lang-none prettyprint-override\"><code>pandoc -s test.md -o test.html\n</code></pre>\n<p>For <a href=\"https://pandoc.org/MANUAL.html#syntax-highlighting\" rel=\"noreferrer\">syntax highlighting</a>, pandoc uses KDE XML syntax definition files. The one for Java is\n<a href=\"https://raw.githubusercontent.com/KDE/syntax-highlighting/master/data/syntax/java.xml\" rel=\"noreferrer\">here</a>.</p>\n<p>Download it and open it in a text editor. You will find this at line 3777:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Comment next line if you don't use Javadoc tool --&gt;\n&lt;IncludeRules context=&quot;##Javadoc&quot;/&gt;\n</code></pre>\n<p>Do as indicated in the comment:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Comment next line if you don't use Javadoc tool --&gt;\n&lt;!--IncludeRules context=&quot;##Javadoc&quot;/--&gt;\n</code></pre>\n<p>Now convert with your custom syntax definition file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>pandoc --syntax-definition=java.xml -s test.md -o test.html\n</code></pre>\n<p>Here is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/eVxm0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eVxm0.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73479260,"answer_count":1,"score":4,"last_activity_date":1661413157,"creation_date":1659763443,"question_id":73257376,"body_markdown":"Why do I have mixed colors in _Javadoc_ comments when using accented characters?\r\n\r\nThis markdown:\r\n\r\n```java\r\n/** Premi&#232;re mani&#232;re **/\r\n@GetMapping\r\npublic String index() {\r\n   return &quot;Hello Spring Boot&quot;;\r\n}\r\n   \r\n/** Deuxi&#232;me mani&#232;re */\r\n@RequestMapping(&quot;/&quot;)\r\npublic String greetings() {\r\n   return &quot;Greetings&quot;;\r\n}\r\n```\r\n\r\n\r\n\r\nproduces this on a pdf, with _Pandoc_:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBlue and black colors are mixed in the middle of the text comment. Each time it encounters an accented character, here: `&#232;`.  \r\n\r\nBut without accented characters, it produces that:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere, it&#39;s more correct, but I wonder why the whole _Javadoc_ comment isn&#39;t blue?\r\n\r\nmy `header-includes` are these ones, but I have the same behavior whatever:\r\n\r\n   - I put some `one header-includes` or not, \r\n   - the _Java_ code is under a citation or not, \r\n   - in a box,\r\n   - in a group\r\n\r\n```md\r\nheader-includes:\r\n- \\usepackage{tcolorbox}\r\n- \\usepackage{fvextra}\r\n- \\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,breakanywhere,breaksymbol=,breakanywheresymbolpre=,commandchars=\\\\\\{\\}}\r\n```\r\n\r\nIs there a way to correct the behavior with accented characters? It doesn&#39;t have a nice effect.\r\n\r\n----------\r\n\r\n@abra If I change `&#232;` with `&amp;egrave;`, `&#233;` with `&amp;eacute;` and all the characters [here](https://www.scriptol.fr/creation-site-web/accents-html.php) it produces this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypDY8.png\r\n  [2]: https://i.stack.imgur.com/Nr5XK.png\r\n  [3]: https://i.stack.imgur.com/4Qfge.png","title":"A Javadoc comment with accented characters mixes blue and black color in its text on a Pandoc generated pdf. One without accented characters doesn&#39;t","body":"<p>Why do I have mixed colors in <em>Javadoc</em> comments when using accented characters?</p>\n<p>This markdown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Première manière **/\n@GetMapping\npublic String index() {\n   return &quot;Hello Spring Boot&quot;;\n}\n   \n/** Deuxième manière */\n@RequestMapping(&quot;/&quot;)\npublic String greetings() {\n   return &quot;Greetings&quot;;\n}\n</code></pre>\n<p>produces this on a pdf, with <em>Pandoc</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/ypDY8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypDY8.png\" alt=\"enter image description here\" /></a></p>\n<p>Blue and black colors are mixed in the middle of the text comment. Each time it encounters an accented character, here: <code>è</code>.</p>\n<p>But without accented characters, it produces that:</p>\n<p><a href=\"https://i.stack.imgur.com/Nr5XK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nr5XK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here, it's more correct, but I wonder why the whole <em>Javadoc</em> comment isn't blue?</p>\n<p>my <code>header-includes</code> are these ones, but I have the same behavior whatever:</p>\n<ul>\n<li>I put some <code>one header-includes</code> or not,</li>\n<li>the <em>Java</em> code is under a citation or not,</li>\n<li>in a box,</li>\n<li>in a group</li>\n</ul>\n<pre><code>header-includes:\n- \\usepackage{tcolorbox}\n- \\usepackage{fvextra}\n- \\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,breakanywhere,breaksymbol=,breakanywheresymbolpre=,commandchars=\\\\\\{\\}}\n</code></pre>\n<p>Is there a way to correct the behavior with accented characters? It doesn't have a nice effect.</p>\n<hr />\n<p>@abra If I change <code>è</code> with <code>&amp;egrave;</code>, <code>é</code> with <code>&amp;eacute;</code> and all the characters <a href=\"https://www.scriptol.fr/creation-site-web/accents-html.php\" rel=\"nofollow noreferrer\">here</a> it produces this:</p>\n<p><a href=\"https://i.stack.imgur.com/4Qfge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Qfge.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1661398373,"post_id":73481488,"comment_id":129764229,"body_markdown":"Try this `@Autowired private final MemberRepository memberRepository;`","body":"Try this <code>@Autowired private final MemberRepository memberRepository;</code>"},{"owner":{"account_id":22372308,"reputation":15,"user_id":16587196,"display_name":"pollpoll"},"score":0,"creation_date":1661399951,"post_id":73481488,"comment_id":129764417,"body_markdown":"@maddy23285 Thank you for your answer. I tried as you said, but the error still appears. And the `@RequiredArgsConstructor`, as far as I know, makes a constructor for the `final keyword` and puts `@Autowired` on it, so it doesn&#39;t seem right to do as you say.","body":"@maddy23285 Thank you for your answer. I tried as you said, but the error still appears. And the <code>@RequiredArgsConstructor</code>, as far as I know, makes a constructor for the <code>final keyword</code> and puts <code>@Autowired</code> on it, so it doesn&#39;t seem right to do as you say."}],"answers":[{"tags":[],"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661412914,"creation_date":1661412914,"answer_id":73483581,"question_id":73481488,"body_markdown":"For a bean to be known to an application context it needs to be registered. That can happen e.g. through component scanning which detects the annotation on the class and registers it as a bean.\r\n\r\nWhen you do `new AnnotationConfigApplicationContext()` you created a new application context. This application context did not do any component scanning yet. Furthermore, within this constructor it tries to find the bean dependencies of the class you pass as constructor parameter. But since no component scanning has taking place yet it cannot find it. \r\n\r\nYou need to create your application context with a class that has no bean dependencies yet. And then register your beans, e.g. through executing the component scan on you application context. \r\n\r\nSee example below:\r\n```\r\nAnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(MyConfig.class);\r\nac.scan(MyConfig.class.getPackageName());\r\nInactiveMemberJobConfig inactiveMemberJob = (InactiveMemberJobConfig) ac.getBean(InactiveMemberJobConfig.class);\r\n```\r\n\r\nI hope this helps. ","title":"While taking Bean out of ApplicationContext, there was an error that the MemberRepository did not have an error occurred","body":"<p>For a bean to be known to an application context it needs to be registered. That can happen e.g. through component scanning which detects the annotation on the class and registers it as a bean.</p>\n<p>When you do <code>new AnnotationConfigApplicationContext()</code> you created a new application context. This application context did not do any component scanning yet. Furthermore, within this constructor it tries to find the bean dependencies of the class you pass as constructor parameter. But since no component scanning has taking place yet it cannot find it.</p>\n<p>You need to create your application context with a class that has no bean dependencies yet. And then register your beans, e.g. through executing the component scan on you application context.</p>\n<p>See example below:</p>\n<pre><code>AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(MyConfig.class);\nac.scan(MyConfig.class.getPackageName());\nInactiveMemberJobConfig inactiveMemberJob = (InactiveMemberJobConfig) ac.getBean(InactiveMemberJobConfig.class);\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":22372308,"reputation":15,"user_id":16587196,"display_name":"pollpoll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661412914,"creation_date":1661397328,"question_id":73481488,"body_markdown":"I want to declare `ApplicationContext` and take out `Bean` using getBean.\r\n\r\nBut I got this error.\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inactiveMemberJobConfig&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.capston.chatting.repository.MemberRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.capston.chatting.repository.MemberRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\nI expect that I have already used @Repository to register the MemberRepository as an bean\r\n\r\nHowever, the error log shows that there is no MemberRepository.\r\n\r\nI don&#39;t understant where is wrong\r\n\r\nBelow is my code.\r\n\r\n```\r\nAnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(InactiveMemberJobConfig.class);\r\nJob inactiveMemberJob = (Job) ac.getBean(&quot;inactiveMemberJob&quot;);\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {\r\n\r\n    @Query(&quot;select m from Member m where m.loginId = :loginId&quot;)\r\n    Member findMemberByLoginId(@Param(&quot;loginId&quot;) String loginId);\r\n\r\n    List&lt;Member&gt; findByUpdateDateBeforeAndStatusEquals(LocalDateTime localDateTime, MemberStatus status);\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Configuration\r\npublic class InactiveMemberJobConfig {\r\n\r\n    private final MemberRepository memberRepository;\r\n\r\n    //...\r\n}\r\n```","title":"While taking Bean out of ApplicationContext, there was an error that the MemberRepository did not have an error occurred","body":"<p>I want to declare <code>ApplicationContext</code> and take out <code>Bean</code> using getBean.</p>\n<p>But I got this error.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inactiveMemberJobConfig': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.capston.chatting.repository.MemberRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.capston.chatting.repository.MemberRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>I expect that I have already used @Repository to register the MemberRepository as an bean</p>\n<p>However, the error log shows that there is no MemberRepository.</p>\n<p>I don't understant where is wrong</p>\n<p>Below is my code.</p>\n<pre><code>AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(InactiveMemberJobConfig.class);\nJob inactiveMemberJob = (Job) ac.getBean(&quot;inactiveMemberJob&quot;);\n</code></pre>\n<pre><code>@Repository\npublic interface MemberRepository extends JpaRepository&lt;Member, Long&gt; {\n\n    @Query(&quot;select m from Member m where m.loginId = :loginId&quot;)\n    Member findMemberByLoginId(@Param(&quot;loginId&quot;) String loginId);\n\n    List&lt;Member&gt; findByUpdateDateBeforeAndStatusEquals(LocalDateTime localDateTime, MemberStatus status);\n}\n</code></pre>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Configuration\npublic class InactiveMemberJobConfig {\n\n    private final MemberRepository memberRepository;\n\n    //...\n}\n</code></pre>\n"},{"tags":["java","apache-spark","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3898176,"reputation":2765,"user_id":3226630,"accept_rate":75,"display_name":"Jayadeep Jayaraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587726528,"creation_date":1587726528,"answer_id":61406975,"question_id":61404906,"body_markdown":"You can use `defaultCacheDir` to change the default location as documented [here][1]\r\n\r\nYou need to make an entry in `ivysettings.xml` with something like below\r\n\r\n```\r\n&lt;ivysettings&gt;\r\n    &lt;caches defaultCacheDir=&quot;/path/to/my/cache/dir&quot;/&gt;\r\n&lt;/ivysettings&gt;\r\n```\r\n\r\n  [1]: http://ant.apache.org/ivy/history/latest-milestone/settings/caches.html","title":"How to change the default .ivy2 cache directory to something else?","body":"<p>You can use <code>defaultCacheDir</code> to change the default location as documented <a href=\"http://ant.apache.org/ivy/history/latest-milestone/settings/caches.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>You need to make an entry in <code>ivysettings.xml</code> with something like below</p>\n\n<pre><code>&lt;ivysettings&gt;\n    &lt;caches defaultCacheDir=\"/path/to/my/cache/dir\"/&gt;\n&lt;/ivysettings&gt;\n</code></pre>\n"}],"owner":{"account_id":13696359,"reputation":21,"user_id":9882905,"display_name":"INT_MAX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661412884,"creation_date":1587719539,"question_id":61404906,"body_markdown":"My username has space in it and when running spark structured streaming with kafka it is unable to find the path to .ivy2 folder and the corresponding .jar file.\r\n","title":"How to change the default .ivy2 cache directory to something else?","body":"<p>My username has space in it and when running spark structured streaming with kafka it is unable to find the path to .ivy2 folder and the corresponding .jar file.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":26137991,"reputation":11,"user_id":19827757,"display_name":"SELVA K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661360206,"creation_date":1661360043,"answer_id":73476999,"question_id":73469792,"body_markdown":"check your selenium java version and also browser version\r\n\r\nonce remove your selenium-java dependency and Add  new selenium-java dependency in your pom.xml\r\n","title":"Selenium ChromeWebDriver","body":"<p>check your selenium java version and also browser version</p>\n<p>once remove your selenium-java dependency and Add  new selenium-java dependency in your pom.xml</p>\n"}],"owner":{"account_id":1743109,"reputation":43,"user_id":1593951,"display_name":"rain..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661412694,"creation_date":1661329428,"question_id":73469792,"body_markdown":"I am running the below test code, and I am getting the error:\r\n**\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nC:\\geckodriver.exe: error: Found argument &#39;--websocket-port&#39; which wasn&#39;t expected, or isn&#39;t valid in this context\r\n\r\nUSAGE:\r\n    geckodriver.exe --port &lt;PORT&gt;\r\n\r\nFor more information try --help\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:110)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:98)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:94)\r\n\tat newpackage.Login.main(Login.java:17)\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\n, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_281&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:226)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\t... 6 more\r\n**\r\n```\r\npackage neoproject;\r\n\r\n\r\nimport org.openqa.selenium.WebDriver;\r\n//import org.openqa.selenium.firefox.FirefoxDriver;\r\n//comment the above line and uncomment below line to use Chrome\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\npublic class PG1 {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        // declaration and instantiation of objects/variables\r\n    \t//System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\r\n\t\t//WebDriver driver = new FirefoxDriver();\r\n\t\t//comment the above 2 lines and uncomment below 2 lines to use Chrome\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;G:\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n    \t\r\n        String baseUrl = &quot;http://demo.guru99.com/test/newtours/&quot;;\r\n        String expectedTitle = &quot;Welcome: Mercury Tours&quot;;\r\n        String actualTitle = &quot;&quot;;\r\n\r\n        // launch Fire fox and direct it to the Base URL\r\n        driver.get(baseUrl);\r\n\r\n        // get the actual value of the title\r\n        actualTitle = driver.getTitle();\r\n\r\n        /*\r\n         * compare the actual title of the page with the expected one and print\r\n         * the result as &quot;Passed&quot; or &quot;Failed&quot;\r\n         */\r\n        if (actualTitle.contentEquals(expectedTitle)){\r\n            System.out.println(&quot;Test Passed!&quot;);\r\n        } else {\r\n            System.out.println(&quot;Test Failed&quot;);\r\n        }\r\n       \r\n        //close Fire fox\r\n        driver.close();\r\n       \r\n    }\r\n\r\n}\r\n\r\npublic class MyClass {\r\n\r\n}\r\n```\r\n\r\nThank you in advance for your aasistant.\r\n\r\n\r\n","title":"Selenium ChromeWebDriver","body":"<p>I am running the below test code, and I am getting the error:\n**\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nC:\\geckodriver.exe: error: Found argument '--websocket-port' which wasn't expected, or isn't valid in this context</p>\n<p>USAGE:\ngeckodriver.exe --port </p>\n<p>For more information try --help</p>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\nat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\nat org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:157)\nat org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:110)\nat org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:98)\nat org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:94)\nat newpackage.Login.main(Login.java:17)\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\n, os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_281'\nDriver info: driver.version: FirefoxDriver\nat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:226)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n... 6 more\n**</p>\n<pre><code>package neoproject;\n\n\nimport org.openqa.selenium.WebDriver;\n//import org.openqa.selenium.firefox.FirefoxDriver;\n//comment the above line and uncomment below line to use Chrome\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class PG1 {\n\n\n    public static void main(String[] args) {\n        // declaration and instantiation of objects/variables\n        //System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\n        //WebDriver driver = new FirefoxDriver();\n        //comment the above 2 lines and uncomment below 2 lines to use Chrome\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;G:\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        \n        String baseUrl = &quot;http://demo.guru99.com/test/newtours/&quot;;\n        String expectedTitle = &quot;Welcome: Mercury Tours&quot;;\n        String actualTitle = &quot;&quot;;\n\n        // launch Fire fox and direct it to the Base URL\n        driver.get(baseUrl);\n\n        // get the actual value of the title\n        actualTitle = driver.getTitle();\n\n        /*\n         * compare the actual title of the page with the expected one and print\n         * the result as &quot;Passed&quot; or &quot;Failed&quot;\n         */\n        if (actualTitle.contentEquals(expectedTitle)){\n            System.out.println(&quot;Test Passed!&quot;);\n        } else {\n            System.out.println(&quot;Test Failed&quot;);\n        }\n       \n        //close Fire fox\n        driver.close();\n       \n    }\n\n}\n\npublic class MyClass {\n\n}\n</code></pre>\n<p>Thank you in advance for your aasistant.</p>\n"},{"tags":["java","css","javafx","scenebuilder"],"comments":[{"owner":{"account_id":26156118,"reputation":1,"user_id":19843336,"display_name":"muhammed zain"},"score":1,"creation_date":1661413389,"post_id":73483436,"comment_id":129767588,"body_markdown":"I have found the answer to this question. Once you select Stylesheet, simply click the gear icon beside it and click,&quot;Switch to absolute path.&quot; This will solve the problem entirely.","body":"I have found the answer to this question. Once you select Stylesheet, simply click the gear icon beside it and click,&quot;Switch to absolute path.&quot; This will solve the problem entirely."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661455387,"post_id":73483436,"comment_id":129783383,"body_markdown":"I strongly doubt that solves the problem &quot;entirely&quot;. Most likely, you&#39;ve only hidden the problem. I expect your application will fail to load the stylehseet when executed on a different computer, or if you move/delete your project directory. In your FXML file, you have `@../../../../java/cssstyle/style.css`. Is that where your stylesheet is located **relative** to the FXML file&#39;s location? Are the `java/cssstyle` directories included in your JAR file?","body":"I strongly doubt that solves the problem &quot;entirely&quot;. Most likely, you&#39;ve only hidden the problem. I expect your application will fail to load the stylehseet when executed on a different computer, or if you move/delete your project directory. In your FXML file, you have <code>@..&#47;..&#47;..&#47;..&#47;java&#47;cssstyle&#47;style.css</code>. Is that where your stylesheet is located <b>relative</b> to the FXML file&#39;s location? Are the <code>java&#47;cssstyle</code> directories included in your JAR file?"},{"owner":{"account_id":26156118,"reputation":1,"user_id":19843336,"display_name":"muhammed zain"},"score":0,"creation_date":1661757961,"post_id":73483436,"comment_id":129838884,"body_markdown":"Yes, you are indeed very correct, but I permanently fixed the issue by placing my CSS files in the &quot;resource package&quot; IntelliJ built for me from the start. Now it works normally and perfectly, and the image shows by just calling the stylesheet through,&quot;cssstyle/style.css&quot;.","body":"Yes, you are indeed very correct, but I permanently fixed the issue by placing my CSS files in the &quot;resource package&quot; IntelliJ built for me from the start. Now it works normally and perfectly, and the image shows by just calling the stylesheet through,&quot;cssstyle/style.css&quot;."}],"owner":{"account_id":26156118,"reputation":1,"user_id":19843336,"display_name":"muhammed zain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661417219,"answer_count":0,"score":0,"last_activity_date":1661412149,"creation_date":1661412149,"question_id":73483436,"body_markdown":"I am trying to give my scene a background image, however, the program keeps saying:\r\n\r\n&quot;Aug 25, 2022 10:52:00 AM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\r\nINFO: Could not find stylesheet: jar:file:///C:/Users/Muhammed%20Zain%20Muneem/IdeaProjects/CSIAFXMLL/build/libs/FXMLCSIA-1.0-SNAPSHOT.jar!/java/cssstyle/style.css&quot;\r\n\r\nAnd when I am setting it in scene builder, the background image is displayed perfectly. Its only when I run the program the image doesn&#39;t display. I have tried using different images, fxml files, and I have made the images are in the right file path, and this is evident as scene builder picks it up.\r\n\r\nmy main code:\r\n```\r\npackage com.example.fxmlcsia;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;logInPage.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Hello World&quot;);\r\n        primaryStage.setScene(new Scene(root, 800, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n}\r\n```\r\nMy FXML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.net.*?&gt;\r\n&lt;?import com.jfoenix.controls.*?&gt;\r\n&lt;?import javafx.scene.image.*?&gt;\r\n&lt;?import javafx.scene.text.*?&gt;\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;800.0&quot; styleClass=&quot;root&quot; stylesheets=&quot;@../../../../java/cssstyle/style.css&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.fxmlcsia.controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane layoutX=&quot;516.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;284.0&quot; style=&quot;-fx-background-color: #000000;&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;7.0&quot; layoutY=&quot;38.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Sign In&quot; textFill=&quot;WHITE&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Hyperlink layoutX=&quot;77.0&quot; layoutY=&quot;357.0&quot; text=&quot;Forgot Password?&quot; textFill=&quot;#f5f5f5&quot; underline=&quot;true&quot; /&gt;\r\n            &lt;Button fx:id=&quot;signIn&quot; blendMode=&quot;LIGHTEN&quot; layoutX=&quot;15.0&quot; layoutY=&quot;315.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #f05241;&quot; text=&quot;Sign In&quot; textFill=&quot;WHITE&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n      &lt;Label contentDisplay=&quot;CENTER&quot; layoutX=&quot;56.0&quot; layoutY=&quot;118.0&quot; prefHeight=&quot;53.0&quot; prefWidth=&quot;448.0&quot; text=&quot;Welcome to LabManager&quot; textFill=&quot;WHITE&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;30.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;56.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;123.0&quot; prefWidth=&quot;365.0&quot; text=&quot;Fill in the form on the right to Sign In to your Account. Don&#39;t have an account? Sign Up by clicking the button below.&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; /&gt;\r\n      &lt;Button fx:id=&quot;sUbutton&quot; blendMode=&quot;LIGHTEN&quot; layoutX=&quot;56.0&quot; layoutY=&quot;252.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #f05241;&quot; text=&quot;Sign Up&quot; textFill=&quot;WHITE&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nCSS FIle Code:\r\n```\r\n.root {\r\n-fx-background-image:url(&quot;../images/background.jpg&quot;);\r\n-fx-background-size:cover;\r\n}\r\n```\r\nI haven&#39;t added any controller file because I haven&#39;t made one yet.\r\nThanks.","title":"IntelliJ javaFX keeps showing &quot;com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged&quot; error for background image","body":"<p>I am trying to give my scene a background image, however, the program keeps saying:</p>\n<p>&quot;Aug 25, 2022 10:52:00 AM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\nINFO: Could not find stylesheet: jar:file:///C:/Users/Muhammed%20Zain%20Muneem/IdeaProjects/CSIAFXMLL/build/libs/FXMLCSIA-1.0-SNAPSHOT.jar!/java/cssstyle/style.css&quot;</p>\n<p>And when I am setting it in scene builder, the background image is displayed perfectly. Its only when I run the program the image doesn't display. I have tried using different images, fxml files, and I have made the images are in the right file path, and this is evident as scene builder picks it up.</p>\n<p>my main code:</p>\n<pre><code>package com.example.fxmlcsia;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;logInPage.fxml&quot;));\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 800, 400));\n        primaryStage.show();\n    }\n\n\n}\n</code></pre>\n<p>My FXML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.net.*?&gt;\n&lt;?import com.jfoenix.controls.*?&gt;\n&lt;?import javafx.scene.image.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;800.0&quot; styleClass=&quot;root&quot; stylesheets=&quot;@../../../../java/cssstyle/style.css&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.fxmlcsia.controller&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane layoutX=&quot;516.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;284.0&quot; style=&quot;-fx-background-color: #000000;&quot;&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;7.0&quot; layoutY=&quot;38.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Sign In&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Hyperlink layoutX=&quot;77.0&quot; layoutY=&quot;357.0&quot; text=&quot;Forgot Password?&quot; textFill=&quot;#f5f5f5&quot; underline=&quot;true&quot; /&gt;\n            &lt;Button fx:id=&quot;signIn&quot; blendMode=&quot;LIGHTEN&quot; layoutX=&quot;15.0&quot; layoutY=&quot;315.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #f05241;&quot; text=&quot;Sign In&quot; textFill=&quot;WHITE&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n      &lt;Label contentDisplay=&quot;CENTER&quot; layoutX=&quot;56.0&quot; layoutY=&quot;118.0&quot; prefHeight=&quot;53.0&quot; prefWidth=&quot;448.0&quot; text=&quot;Welcome to LabManager&quot; textFill=&quot;WHITE&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;30.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;56.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;123.0&quot; prefWidth=&quot;365.0&quot; text=&quot;Fill in the form on the right to Sign In to your Account. Don't have an account? Sign Up by clicking the button below.&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; /&gt;\n      &lt;Button fx:id=&quot;sUbutton&quot; blendMode=&quot;LIGHTEN&quot; layoutX=&quot;56.0&quot; layoutY=&quot;252.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;31.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #f05241;&quot; text=&quot;Sign Up&quot; textFill=&quot;WHITE&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>CSS FIle Code:</p>\n<pre><code>.root {\n-fx-background-image:url(&quot;../images/background.jpg&quot;);\n-fx-background-size:cover;\n}\n</code></pre>\n<p>I haven't added any controller file because I haven't made one yet.\nThanks.</p>\n"},{"tags":["java","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661412122,"creation_date":1661412122,"answer_id":73483428,"question_id":73477401,"body_markdown":"ASM’s visitors support chaining. When you pass another class visitor to the [`ClassVisitor` constructor], it will be stored in the [`cv` field]. Then, the [`visitMethod` method] will check that field and if non-`null`, delegate to the next class visitor and return whatever that `visitMethod` call returned.\r\n\r\nSo when you do not chain another class visitor, the effect of both variants will be the same. The `super.visitMethod(...)` call will return `null` then and passing `null` to the method visitor constructor has the same effect as calling the constructor without a delegate (I’m assuming that your subclass constructors delegate to `MethodVisitor`’s constructor 1:1).\r\n\r\nIf you want to design your classes to support delegation, even if you’re not using it now in this specific scenario, you have to keep in mind that all overridden methods of the `MethodVisitor` also have to call the corresponding `super` method correctly.\r\n\r\nIf you don’t do this, it’s better not to support delegation at all, rather than having inconsistent calls to the next visitor. In this case, use the second variant but also make the lack of this support clear, by only providing constructors without visitor parameter in the first place, in both, your class visitor subclass and your method visitor subclass.\r\n\r\n[`ClassVisitor` constructor]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#%3Cinit%3E(int,org.objectweb.asm.ClassVisitor)\r\n[`cv` field]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#cv\r\n[`visitMethod` method]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#visitMethod(int,java.lang.String,java.lang.String,java.lang.String,java.lang.String%5B%5D)","title":"MethodVisitor&#39;s (api, MethodVisitor) constructor, is it needed for only reading","body":"<p>ASM’s visitors support chaining. When you pass another class visitor to the <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#%3Cinit%3E(int,org.objectweb.asm.ClassVisitor)\" rel=\"nofollow noreferrer\"><code>ClassVisitor</code> constructor</a>, it will be stored in the <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#cv\" rel=\"nofollow noreferrer\"><code>cv</code> field</a>. Then, the <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassVisitor.html#visitMethod(int,java.lang.String,java.lang.String,java.lang.String,java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\"><code>visitMethod</code> method</a> will check that field and if non-<code>null</code>, delegate to the next class visitor and return whatever that <code>visitMethod</code> call returned.</p>\n<p>So when you do not chain another class visitor, the effect of both variants will be the same. The <code>super.visitMethod(...)</code> call will return <code>null</code> then and passing <code>null</code> to the method visitor constructor has the same effect as calling the constructor without a delegate (I’m assuming that your subclass constructors delegate to <code>MethodVisitor</code>’s constructor 1:1).</p>\n<p>If you want to design your classes to support delegation, even if you’re not using it now in this specific scenario, you have to keep in mind that all overridden methods of the <code>MethodVisitor</code> also have to call the corresponding <code>super</code> method correctly.</p>\n<p>If you don’t do this, it’s better not to support delegation at all, rather than having inconsistent calls to the next visitor. In this case, use the second variant but also make the lack of this support clear, by only providing constructors without visitor parameter in the first place, in both, your class visitor subclass and your method visitor subclass.</p>\n"}],"owner":{"account_id":23777996,"reputation":23,"user_id":17791143,"display_name":"muzaffer kadir belen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73483428,"answer_count":1,"score":2,"last_activity_date":1661412122,"creation_date":1661362190,"question_id":73477401,"body_markdown":"I am only reading bytecode not overwrite,\r\n\r\nwhich one I should use:\r\n\r\n```\r\npublic MethodVisitor visitMethod(...) {\r\n   return new MyMethodVisitor(Opcodes.ASM9, super.visitMethod(...));\r\n}\r\n```\r\nor\r\n```\r\npublic MethodVisitor visitMethod(...) {\r\n   return new MyMethodVisitor(Opcodes.ASM9);\r\n}\r\n```","title":"MethodVisitor&#39;s (api, MethodVisitor) constructor, is it needed for only reading","body":"<p>I am only reading bytecode not overwrite,</p>\n<p>which one I should use:</p>\n<pre><code>public MethodVisitor visitMethod(...) {\n   return new MyMethodVisitor(Opcodes.ASM9, super.visitMethod(...));\n}\n</code></pre>\n<p>or</p>\n<pre><code>public MethodVisitor visitMethod(...) {\n   return new MyMethodVisitor(Opcodes.ASM9);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","springfox"],"answers":[{"tags":[],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573657787,"creation_date":1573657179,"answer_id":58839865,"question_id":58839198,"body_markdown":"Your `UiConfiguration` is fine. What you need to do is (to activate the **Springfox Support for JSR-303** cf. [Springfox Reference Documentation][1]):\r\n\r\n- add the `springfox-bean-validators` dependency to your `pom.xml`:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt; &lt;!-- or any version you like --&gt;\r\n        &lt;/dependency&gt;\r\n- Import the configuration from the `springfox-bean-validators` module:\r\n\r\n        ...\r\n        @Import({springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration.class})\r\n        public class SwaggerDocumentationConfig { ... }\r\n\r\nNow you should be able to see the desired information at the top of annotated attributes in Swagger UI.\r\n\r\n\r\n  [1]: https://springfox.github.io/springfox/docs/current/","title":"Spring Boot Validation information not displayed in Swagger UI","body":"<p>Your <code>UiConfiguration</code> is fine. What you need to do is (to activate the <strong>Springfox Support for JSR-303</strong> cf. <a href=\"https://springfox.github.io/springfox/docs/current/\" rel=\"nofollow noreferrer\">Springfox Reference Documentation</a>):</p>\n\n<ul>\n<li><p>add the <code>springfox-bean-validators</code> dependency to your <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt; &lt;!-- or any version you like --&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p>Import the configuration from the <code>springfox-bean-validators</code> module:</p>\n\n<pre><code>...\n@Import({springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration.class})\npublic class SwaggerDocumentationConfig { ... }\n</code></pre></li>\n</ul>\n\n<p>Now you should be able to see the desired information at the top of annotated attributes in Swagger UI.</p>\n"}],"owner":{"account_id":13909240,"reputation":57,"user_id":10042866,"display_name":"Sara Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58839865,"answer_count":1,"score":2,"last_activity_date":1661411483,"creation_date":1573654855,"question_id":58839198,"body_markdown":"My classes are written in **Spring Boot Java** and I use **Swagger 2** to generate their documentation.\r\nI am using *spring-fox version 2.9.0*.\r\n\r\nTo show the validation constraints (@min, @max, @pattern, etc) in Swagger UI, I added the following lines to my *application.java*, where *showExtensions(true)*, but that didn&#39;t work. \r\nDesired result in Swagger UI\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat should I change to get the wanted result?\r\n\r\n    @Bean\r\n    UiConfiguration uiConfig() {\r\n      return UiConfigurationBuilder.builder() \r\n          .deepLinking(true)\r\n          .displayOperationId(false)\r\n          .defaultModelsExpandDepth(1)\r\n          .defaultModelExpandDepth(1)\r\n          .defaultModelRendering(ModelRendering.EXAMPLE)\r\n          .displayRequestDuration(false)\r\n          .docExpansion(DocExpansion.NONE)\r\n          .filter(false)\r\n          .maxDisplayedTags(null)\r\n          .operationsSorter(OperationsSorter.ALPHA)\r\n          .showExtensions(true)\r\n          .tagsSorter(TagsSorter.ALPHA)\r\n          .supportedSubmitMethods(UiConfiguration.Constants.DEFAULT_SUBMIT_METHODS)\r\n          .validatorUrl(null)\r\n          .build();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ZME9.png","title":"Spring Boot Validation information not displayed in Swagger UI","body":"<p>My classes are written in <strong>Spring Boot Java</strong> and I use <strong>Swagger 2</strong> to generate their documentation.\nI am using <em>spring-fox version 2.9.0</em>.</p>\n<p>To show the validation constraints (@min, @max, @pattern, etc) in Swagger UI, I added the following lines to my <em>application.java</em>, where <em>showExtensions(true)</em>, but that didn't work.\nDesired result in Swagger UI</p>\n<p><a href=\"https://i.stack.imgur.com/9ZME9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ZME9.png\" alt=\"enter image description here\" /></a></p>\n<p>What should I change to get the wanted result?</p>\n<pre><code>@Bean\nUiConfiguration uiConfig() {\n  return UiConfigurationBuilder.builder() \n      .deepLinking(true)\n      .displayOperationId(false)\n      .defaultModelsExpandDepth(1)\n      .defaultModelExpandDepth(1)\n      .defaultModelRendering(ModelRendering.EXAMPLE)\n      .displayRequestDuration(false)\n      .docExpansion(DocExpansion.NONE)\n      .filter(false)\n      .maxDisplayedTags(null)\n      .operationsSorter(OperationsSorter.ALPHA)\n      .showExtensions(true)\n      .tagsSorter(TagsSorter.ALPHA)\n      .supportedSubmitMethods(UiConfiguration.Constants.DEFAULT_SUBMIT_METHODS)\n      .validatorUrl(null)\n      .build();\n}\n</code></pre>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":4125582,"reputation":1127,"user_id":3384821,"display_name":"Ashish Karn"},"score":2,"creation_date":1595152812,"post_id":62978767,"comment_id":111370301,"body_markdown":"Add Exact exception trace that you are facing.","body":"Add Exact exception trace that you are facing."},{"owner":{"account_id":13948907,"reputation":103,"user_id":10072947,"display_name":"K.hamdan"},"score":0,"creation_date":1595154028,"post_id":62978767,"comment_id":111370651,"body_markdown":"@AshishKarn is this what you meant?","body":"@AshishKarn is this what you meant?"},{"owner":{"account_id":4125582,"reputation":1127,"user_id":3384821,"display_name":"Ashish Karn"},"score":1,"creation_date":1595157306,"post_id":62978767,"comment_id":111371542,"body_markdown":"Please try this `CREATE TABLE IF NOT EXISTS + TABLE_NAME_USER_DATA + &quot;(&quot;` let me know it is correct or not. It seems everything okay. Can you please provide `userDataProvider.query` method code or query.","body":"Please try this <code>CREATE TABLE IF NOT EXISTS + TABLE_NAME_USER_DATA + &quot;(&quot;</code> let me know it is correct or not. It seems everything okay. Can you please provide <code>userDataProvider.query</code> method code or query."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":2,"creation_date":1595238248,"post_id":62978767,"comment_id":111394767,"body_markdown":"Please provide a [mre] - this code can&#39;t be used without all the missing constants.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - this code can&#39;t be used without all the missing constants."}],"answers":[{"tags":[],"owner":{"account_id":4125582,"reputation":1127,"user_id":3384821,"display_name":"Ashish Karn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1595156308,"creation_date":1595156308,"answer_id":62979363,"question_id":62978767,"body_markdown":"Please change your query to not create a table if it already exists.\r\n\r\nLike \r\n\r\n    CREATE TABLE IF NOT EXISTS + TABLE_NAME_USER_DATA + &quot;(&quot; +\r\n\r\nAnd check.","title":"android.database.sqlite.SQLiteException when calling .query","body":"<p>Please change your query to not create a table if it already exists.</p>\n<p>Like</p>\n<pre><code>CREATE TABLE IF NOT EXISTS + TABLE_NAME_USER_DATA + &quot;(&quot; +\n</code></pre>\n<p>And check.</p>\n"}],"owner":{"account_id":13948907,"reputation":103,"user_id":10072947,"display_name":"K.hamdan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1627278330,"accepted_answer_id":62979363,"answer_count":1,"score":-3,"last_activity_date":1661411395,"creation_date":1595152653,"question_id":62978767,"body_markdown":"I am facing this problem only on the live version, when testing on the emulator everything works fine.\r\n here is my code \r\n\r\n    public void onCreate(SQLiteDatabase db) {\r\n\r\n        String SQL_CREATE_NUTRI_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME_USER_DATA + &quot;(&quot; +\r\n                _ID_USER_DATA + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                COLUMN_USER_NAME + &quot; TEXT, &quot; +\r\n                COLUMN_USER_GENDER + &quot; TEXT, &quot; +\r\n                COLUMN_USER_HEIGHT + &quot; TEXT, &quot; +\r\n                COLUMN_USER_WEIGHT + &quot; TEXT, &quot; +\r\n                COLUMN_USER_WEIGHT_DATE + &quot; TEXT, &quot; +\r\n                COLUMN_USER_MUSCLE_MASS + &quot; TEXT, &quot; +\r\n                COLUMN_USER_MUSCLE_MASS_DATE + &quot; TEXT, &quot; +\r\n                COLUMN_USER_FAT_MASS + &quot; TEXT, &quot; +\r\n                COLUMN_USER_FAT_MASS_DATE + &quot; TEXT, &quot; +\r\n                COLUMN_USER_ACTIVITY + &quot; TEXT, &quot; +\r\n                COLUMN_USER_GOAL + &quot; TEXT, &quot; +\r\n                COLUMN_USER_PHONE + &quot; TEXT, &quot; +\r\n                COLUMN_USER_AGE_MILLIS + &quot; TEXT, &quot; +\r\n                COLUMN_USER_EMAIL + &quot; TEXT, &quot; +\r\n                TOKEN + &quot; TEXT, &quot; +\r\n                TOKEN_TIME + &quot; TEXT, &quot; +\r\n                COLUMN_USER_PASSWORD + &quot; TEXT);&quot;;\r\n\r\n        db.execSQL(SQL_CREATE_NUTRI_TABLE);\r\n\r\n    }\r\n\r\nthe error is in the db.execSQL line\r\n\r\ni have reviewed my columns that i need and they are all there, because i saw in other answers that some people forgot to add all of them\r\n\r\nEDIT\r\nthe answer below helped, i had a problem in the declaration","title":"android.database.sqlite.SQLiteException when calling .query","body":"<p>I am facing this problem only on the live version, when testing on the emulator everything works fine.\nhere is my code</p>\n<pre><code>public void onCreate(SQLiteDatabase db) {\n\n    String SQL_CREATE_NUTRI_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME_USER_DATA + &quot;(&quot; +\n            _ID_USER_DATA + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n            COLUMN_USER_NAME + &quot; TEXT, &quot; +\n            COLUMN_USER_GENDER + &quot; TEXT, &quot; +\n            COLUMN_USER_HEIGHT + &quot; TEXT, &quot; +\n            COLUMN_USER_WEIGHT + &quot; TEXT, &quot; +\n            COLUMN_USER_WEIGHT_DATE + &quot; TEXT, &quot; +\n            COLUMN_USER_MUSCLE_MASS + &quot; TEXT, &quot; +\n            COLUMN_USER_MUSCLE_MASS_DATE + &quot; TEXT, &quot; +\n            COLUMN_USER_FAT_MASS + &quot; TEXT, &quot; +\n            COLUMN_USER_FAT_MASS_DATE + &quot; TEXT, &quot; +\n            COLUMN_USER_ACTIVITY + &quot; TEXT, &quot; +\n            COLUMN_USER_GOAL + &quot; TEXT, &quot; +\n            COLUMN_USER_PHONE + &quot; TEXT, &quot; +\n            COLUMN_USER_AGE_MILLIS + &quot; TEXT, &quot; +\n            COLUMN_USER_EMAIL + &quot; TEXT, &quot; +\n            TOKEN + &quot; TEXT, &quot; +\n            TOKEN_TIME + &quot; TEXT, &quot; +\n            COLUMN_USER_PASSWORD + &quot; TEXT);&quot;;\n\n    db.execSQL(SQL_CREATE_NUTRI_TABLE);\n\n}\n</code></pre>\n<p>the error is in the db.execSQL line</p>\n<p>i have reviewed my columns that i need and they are all there, because i saw in other answers that some people forgot to add all of them</p>\n<p>EDIT\nthe answer below helped, i had a problem in the declaration</p>\n"},{"tags":["java","spring-boot","openapi","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":9482930,"reputation":825,"user_id":7050229,"display_name":"schoener"},"score":0,"creation_date":1658148614,"post_id":71885193,"comment_id":128971589,"body_markdown":"Probably you won&#39;t get any answer for such specific question. Instead you should create a bug at https://github.com/OpenAPITools/openapi-generator/issues","body":"Probably you won&#39;t get any answer for such specific question. Instead you should create a bug at <a href=\"https://github.com/OpenAPITools/openapi-generator/issues\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues</a>"},{"owner":{"account_id":6828284,"reputation":79,"user_id":5253274,"display_name":"Hynek Hrab&#237;k"},"score":0,"creation_date":1696589149,"post_id":71885193,"comment_id":136175665,"body_markdown":"It should be fixed in 6.x, however if you still need to use older version like me there is a workaround for that. See https://github.com/OpenAPITools/openapi-generator/issues/10415","body":"It should be fixed in 6.x, however if you still need to use older version like me there is a workaround for that. See <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10415\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/10415</a>"}],"answers":[{"tags":[],"owner":{"account_id":2119687,"reputation":178,"user_id":2808207,"display_name":"Shmarkus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661411324,"creation_date":1661411324,"answer_id":73483278,"question_id":71885193,"body_markdown":"You could try to be explicit about the content types of the fields (although the default for *type: string format: binary* should be application/octet-stream)\r\n\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              required:\r\n                - file\r\n                - metadata\r\n              type: object\r\n              properties:\r\n                file:\r\n                  type: string\r\n                  format: binary                \r\n                claimNumber:\r\n                  type: string\r\n                fileName:\r\n                  type: string\r\n                contentType:\r\n                  type: string\r\n            encoding:\r\n              file:\r\n                contentType: application/octet-stream\r\n              claimNumber:\r\n                contentType: text/plain\r\n              fileName:\r\n                contentType: text/plain\r\n              contentType:\r\n                contentType: text/plain","title":"Openapi-generator-maven-plugin don&#39;t generate objects for multipart/form-data request","body":"<p>You could try to be explicit about the content types of the fields (although the default for <em>type: string format: binary</em> should be application/octet-stream)</p>\n<pre><code>  requestBody:\n    content:\n      multipart/form-data:\n        schema:\n          required:\n            - file\n            - metadata\n          type: object\n          properties:\n            file:\n              type: string\n              format: binary                \n            claimNumber:\n              type: string\n            fileName:\n              type: string\n            contentType:\n              type: string\n        encoding:\n          file:\n            contentType: application/octet-stream\n          claimNumber:\n            contentType: text/plain\n          fileName:\n            contentType: text/plain\n          contentType:\n            contentType: text/plain\n</code></pre>\n"}],"owner":{"account_id":24948748,"reputation":41,"user_id":18813818,"display_name":"Marcin0001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3708,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1661411324,"creation_date":1650032393,"question_id":71885193,"body_markdown":"I am using openapi-generator-maven-plugin for multiple/form-data to upload file with additional data. If I use object (field metadata) in request object wouldn&#39;t be generated. For application/json content objects in request are generated. Problem exist only for multipart/form-data content type. Here is my plugin configuration:\r\n               \r\n\r\n    &lt;execution&gt;\r\n                        &lt;id&gt;generate rest api interfaces and dtos&lt;/id&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;${openapi-generator-maven-plugin.inputSpec}&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n                            &lt;modelPackage&gt;${openapi-generator-maven-plugin.modelPackage}&lt;/modelPackage&gt;\r\n                            &lt;apiPackage&gt;com.application.api&lt;/apiPackage&gt;                            \r\n                            &lt;library&gt;spring-boot&lt;/library&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n                                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\nAnd my api yml config:\r\n\r\n    /api/document:\r\n    put:\r\n      tags:\r\n        - document\r\n      summary: upload\r\n      operationId: upload\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              required:\r\n                - file\r\n                - metadata\r\n              type: object\r\n              properties:\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n                metadata:\r\n                  type: object\r\n                  properties:\r\n                    claimNumber:\r\n                      type: string\r\n                    fileName:\r\n                      type: string\r\n                    contentType:\r\n                      type: string                    \r\n      responses:\r\n        201:\r\n          description: OK\r\n          content:\r\n            text/plain:\r\n              schema:\r\n                type: string\r\n\r\nWhen I use only simple types everything is ok:\r\n\r\n    /api/document:\r\n    put:\r\n      tags:\r\n        - document\r\n      summary: upload\r\n      operationId: upload\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              required:\r\n                - file\r\n                - metadata\r\n              type: object\r\n              properties:\r\n                file:\r\n                  type: string\r\n                  format: binary                \r\n                claimNumber:\r\n                  type: string\r\n                fileName:\r\n                  type: string\r\n                contentType:\r\n                  type: string\r\n      responses:\r\n        201:\r\n          description: OK\r\n          content:\r\n            text/plain:\r\n              schema:\r\n                type: string","title":"Openapi-generator-maven-plugin don&#39;t generate objects for multipart/form-data request","body":"<p>I am using openapi-generator-maven-plugin for multiple/form-data to upload file with additional data. If I use object (field metadata) in request object wouldn't be generated. For application/json content objects in request are generated. Problem exist only for multipart/form-data content type. Here is my plugin configuration:</p>\n<pre><code>&lt;execution&gt;\n                    &lt;id&gt;generate rest api interfaces and dtos&lt;/id&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;inputSpec&gt;${openapi-generator-maven-plugin.inputSpec}&lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                        &lt;modelPackage&gt;${openapi-generator-maven-plugin.modelPackage}&lt;/modelPackage&gt;\n                        &lt;apiPackage&gt;com.application.api&lt;/apiPackage&gt;                            \n                        &lt;library&gt;spring-boot&lt;/library&gt;\n                        &lt;configOptions&gt;\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                            &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                            &lt;useTags&gt;true&lt;/useTags&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n</code></pre>\n<p>And my api yml config:</p>\n<pre><code>/api/document:\nput:\n  tags:\n    - document\n  summary: upload\n  operationId: upload\n  requestBody:\n    content:\n      multipart/form-data:\n        schema:\n          required:\n            - file\n            - metadata\n          type: object\n          properties:\n            file:\n              type: string\n              format: binary\n            metadata:\n              type: object\n              properties:\n                claimNumber:\n                  type: string\n                fileName:\n                  type: string\n                contentType:\n                  type: string                    \n  responses:\n    201:\n      description: OK\n      content:\n        text/plain:\n          schema:\n            type: string\n</code></pre>\n<p>When I use only simple types everything is ok:</p>\n<pre><code>/api/document:\nput:\n  tags:\n    - document\n  summary: upload\n  operationId: upload\n  requestBody:\n    content:\n      multipart/form-data:\n        schema:\n          required:\n            - file\n            - metadata\n          type: object\n          properties:\n            file:\n              type: string\n              format: binary                \n            claimNumber:\n              type: string\n            fileName:\n              type: string\n            contentType:\n              type: string\n  responses:\n    201:\n      description: OK\n      content:\n        text/plain:\n          schema:\n            type: string\n</code></pre>\n"},{"tags":["java","junit","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661411212,"creation_date":1582018949,"answer_id":60277870,"question_id":60269753,"body_markdown":"You don&#39;t need to create a JobExecution and register it in a `JobSynchronizationManager` to test a step-scoped component. Mocking a step execution and using it in `StepScopeTestUtils.doInStepScope` is enough. Here is a complete example:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import org.springframework.batch.core.StepExecution;\r\n    import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\n    import org.springframework.batch.core.configuration.annotation.StepScope;\r\n    import org.springframework.batch.item.ExecutionContext;\r\n    import org.springframework.batch.item.file.FlatFileItemReader;\r\n    import org.springframework.batch.item.file.builder.FlatFileItemReaderBuilder;\r\n    import org.springframework.batch.item.file.mapping.PassThroughLineMapper;\r\n    import org.springframework.batch.test.MetaDataInstanceFactory;\r\n    import org.springframework.batch.test.StepScopeTestUtils;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(classes = StepScopedComponentTest.MyConfiguration.class)\r\n    public class StepScopedComponentTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate FlatFileItemReader&lt;String&gt; reader;\r\n    \r\n    \t@Test\r\n    \tpublic void givenMockedStep_whenReaderCalled_thenSuccess() throws Exception {\r\n    \t\t// given\r\n    \t    ExecutionContext ctx = new ExecutionContext();\r\n    \t\tctx.put(&quot;fileName&quot;, &quot;data/input.txt&quot;);\r\n    \t\tStepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(ctx);\r\n    \r\n    \t\t// when\r\n    \t\tList&lt;String&gt; items = StepScopeTestUtils.doInStepScope(stepExecution, () -&gt; {\r\n    \t\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    \t\t\tString item;\r\n    \t\t\treader.open(stepExecution.getExecutionContext());\r\n    \t\t\twhile ((item = reader.read()) != null) {\r\n    \t\t\t\tresult.add(item);\r\n    \t\t\t}\r\n    \t\t\treader.close();\r\n    \t\t\treturn result;\r\n    \t\t});\r\n    \t\t\r\n    \t\t// then\r\n    \t\tAssert.assertEquals(2, items.size());\r\n    \t\tAssert.assertEquals(&quot;foo&quot;, items.get(0));\r\n    \t\tAssert.assertEquals(&quot;bar&quot;, items.get(1));\r\n    \t}\r\n    \t\r\n    \t@Configuration\r\n    \t@EnableBatchProcessing\r\n    \tstatic class MyConfiguration {\r\n    \t\t\r\n    \t\t@Bean\r\n    \t\t@StepScope\r\n    \t\tpublic FlatFileItemReader&lt;String&gt; myFlatFileItemReader(@Value(&quot;#{stepExecutionContext[&#39;fileName&#39;]}&quot;) String filename) {\r\n    \t\t\treturn new FlatFileItemReaderBuilder&lt;String&gt;()\r\n    \t\t\t\t\t.name(&quot;myFlatFileItemReader&quot;)\r\n    \t\t\t\t\t.resource(new ClassPathResource(filename))\r\n    \t\t\t\t\t.lineMapper(new PassThroughLineMapper())\r\n    \t\t\t\t\t.build();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis test passes assuming the class path resource `data/input.txt` contains two lines `foo` and `bar`.","title":"Spring-Batch: Testing custom itemReader","body":"<p>You don't need to create a JobExecution and register it in a <code>JobSynchronizationManager</code> to test a step-scoped component. Mocking a step execution and using it in <code>StepScopeTestUtils.doInStepScope</code> is enough. Here is a complete example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\nimport org.springframework.batch.core.StepExecution;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.StepScope;\nimport org.springframework.batch.item.ExecutionContext;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.builder.FlatFileItemReaderBuilder;\nimport org.springframework.batch.item.file.mapping.PassThroughLineMapper;\nimport org.springframework.batch.test.MetaDataInstanceFactory;\nimport org.springframework.batch.test.StepScopeTestUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = StepScopedComponentTest.MyConfiguration.class)\npublic class StepScopedComponentTest {\n\n    @Autowired\n    private FlatFileItemReader&lt;String&gt; reader;\n\n    @Test\n    public void givenMockedStep_whenReaderCalled_thenSuccess() throws Exception {\n        // given\n        ExecutionContext ctx = new ExecutionContext();\n        ctx.put(&quot;fileName&quot;, &quot;data/input.txt&quot;);\n        StepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(ctx);\n\n        // when\n        List&lt;String&gt; items = StepScopeTestUtils.doInStepScope(stepExecution, () -&gt; {\n            List&lt;String&gt; result = new ArrayList&lt;&gt;();\n            String item;\n            reader.open(stepExecution.getExecutionContext());\n            while ((item = reader.read()) != null) {\n                result.add(item);\n            }\n            reader.close();\n            return result;\n        });\n        \n        // then\n        Assert.assertEquals(2, items.size());\n        Assert.assertEquals(&quot;foo&quot;, items.get(0));\n        Assert.assertEquals(&quot;bar&quot;, items.get(1));\n    }\n    \n    @Configuration\n    @EnableBatchProcessing\n    static class MyConfiguration {\n        \n        @Bean\n        @StepScope\n        public FlatFileItemReader&lt;String&gt; myFlatFileItemReader(@Value(&quot;#{stepExecutionContext['fileName']}&quot;) String filename) {\n            return new FlatFileItemReaderBuilder&lt;String&gt;()\n                    .name(&quot;myFlatFileItemReader&quot;)\n                    .resource(new ClassPathResource(filename))\n                    .lineMapper(new PassThroughLineMapper())\n                    .build();\n        }\n    }\n    \n}\n</code></pre>\n<p>This test passes assuming the class path resource <code>data/input.txt</code> contains two lines <code>foo</code> and <code>bar</code>.</p>\n"}],"owner":{"account_id":16211134,"reputation":533,"user_id":11705123,"display_name":"user11705123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5817,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60277870,"answer_count":1,"score":3,"last_activity_date":1661411212,"creation_date":1581970378,"question_id":60269753,"body_markdown":"I am trying to test my custom itemReader :\r\n``` \r\n@Bean\r\n@StepScope\r\nMyMultiLineItemReader itemReader(@Value(&quot;#{stepExecutionContext[&#39;fileName&#39;]}&quot;) String filename) throws MalformedURLException {\r\nMyMultiLineItemReader itemReader = new MyMultiLineItemReader();\r\nitemReader.setDelegate(myFlatFileItemReader(filename));\r\n\r\nreturn itemReader;\r\n}\r\n\r\n@Bean\r\n@StepScope\r\npublic FlatFileItemReader&lt;String&gt; myFlatFileItemReader(@Value(&quot;#{stepExecutionContext[&#39;fileName&#39;]}&quot;) String filename) throws MalformedURLException {\r\nreturn new FlatFileItemReaderBuilder&lt;String&gt;()\r\n.name(&quot;myFlatFileItemReader&quot;)\r\n.resource(new UrlResource(filename))\r\n.lineMapper(new PassThroughLineMapper())\r\n.build();\r\n}\r\n```\r\nmy test class looks like\r\n```\r\n@Test\r\npublic void givenMockedStep_whenReaderCalled_thenSuccess() throws Exception {\r\n    // given\r\n    JobExecution jobExecution = new JobExecution(5l);\r\n    ExecutionContext ctx = new ExecutionContext();\r\n    ctx.put(&quot;fileName&quot;, &quot;src/main/resources/data/input.txt&quot;);\r\n    jobExecution.setExecutionContext(ctx);\r\n\r\n    JobSynchronizationManager.register(jobExecution);\r\n    StepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(ctx);\r\n     \r\n    // when\r\n    StepScopeTestUtils.doInStepScope(stepExecution, () -&gt; {\r\n     ...\r\n     });\r\n}\r\n``` \r\nWhen I run the test case, the process fails because the fileName parameter is null.\r\n\r\nI am looking for the right way of testing the itemReader.\r\n\r\nThanks","title":"Spring-Batch: Testing custom itemReader","body":"<p>I am trying to test my custom itemReader :</p>\n\n<pre><code>@Bean\n@StepScope\nMyMultiLineItemReader itemReader(@Value(\"#{stepExecutionContext['fileName']}\") String filename) throws MalformedURLException {\nMyMultiLineItemReader itemReader = new MyMultiLineItemReader();\nitemReader.setDelegate(myFlatFileItemReader(filename));\n\nreturn itemReader;\n}\n\n@Bean\n@StepScope\npublic FlatFileItemReader&lt;String&gt; myFlatFileItemReader(@Value(\"#{stepExecutionContext['fileName']}\") String filename) throws MalformedURLException {\nreturn new FlatFileItemReaderBuilder&lt;String&gt;()\n.name(\"myFlatFileItemReader\")\n.resource(new UrlResource(filename))\n.lineMapper(new PassThroughLineMapper())\n.build();\n}\n</code></pre>\n\n<p>my test class looks like</p>\n\n<pre><code>@Test\npublic void givenMockedStep_whenReaderCalled_thenSuccess() throws Exception {\n    // given\n    JobExecution jobExecution = new JobExecution(5l);\n    ExecutionContext ctx = new ExecutionContext();\n    ctx.put(\"fileName\", \"src/main/resources/data/input.txt\");\n    jobExecution.setExecutionContext(ctx);\n\n    JobSynchronizationManager.register(jobExecution);\n    StepExecution stepExecution = MetaDataInstanceFactory.createStepExecution(ctx);\n\n    // when\n    StepScopeTestUtils.doInStepScope(stepExecution, () -&gt; {\n     ...\n     });\n}\n</code></pre>\n\n<p>When I run the test case, the process fails because the fileName parameter is null.</p>\n\n<p>I am looking for the right way of testing the itemReader.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","intellij-idea","servlets","documentation"],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661410925,"creation_date":1587980248,"answer_id":61455812,"question_id":61455808,"body_markdown":"In the case of a Spring project using Tomcat, the `javax.servlet` classes are in the `tomcat-embed-core` library. This library has no javadoc jar file available on Maven Central. The solution is to go to :\r\n\r\n`File -&gt; Project structure -&gt; Libraries -&gt; org.apache.tomcat.embed:tomcat-embed-core...`\r\n\r\nand click on `Specify Documentation URL...`\r\n\r\nand set the value `https://javaee.github.io/javaee-spec/javadocs`","title":"How to install documentation for javax.servlet in IntelliJ?","body":"<p>In the case of a Spring project using Tomcat, the <code>javax.servlet</code> classes are in the <code>tomcat-embed-core</code> library. This library has no javadoc jar file available on Maven Central. The solution is to go to :</p>\n<p><code>File -&gt; Project structure -&gt; Libraries -&gt; org.apache.tomcat.embed:tomcat-embed-core...</code></p>\n<p>and click on <code>Specify Documentation URL...</code></p>\n<p>and set the value <code>https://javaee.github.io/javaee-spec/javadocs</code></p>\n"}],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661410925,"creation_date":1587980238,"question_id":61455808,"body_markdown":"I have a Spring project in IntelliJ. Usually when I click on *Download source and/or documentation* in the Maven panel, all needed documentation is installed and I can access it from the source code. This is not the case for the `javax.servlet` package.\r\n\r\nHow can I install this documentation ?","title":"How to install documentation for javax.servlet in IntelliJ?","body":"<p>I have a Spring project in IntelliJ. Usually when I click on <em>Download source and/or documentation</em> in the Maven panel, all needed documentation is installed and I can access it from the source code. This is not the case for the <code>javax.servlet</code> package.</p>\n\n<p>How can I install this documentation ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3301545,"reputation":61,"user_id":2777596,"display_name":"tanayamitshah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394154886,"creation_date":1394154886,"answer_id":22239559,"question_id":22239525,"body_markdown":"The inner loop iteraters from 2 to i-1.\r\n\r\nAssume i is 100 and j is 2. The inner loop in this code will iterate from 2 to 99.\r\n\r\nBut you just need to iterate till the sqrt of i that is 10.\r\n\r\nThis is because when you get one factor of i, say 5, 100/5 is another factor ie 20.\r\n\r\nHence by iterating till 10 in the inner loop you should get all the factors.\r\n\r\n","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<p>The inner loop iteraters from 2 to i-1.</p>\n\n<p>Assume i is 100 and j is 2. The inner loop in this code will iterate from 2 to 99.</p>\n\n<p>But you just need to iterate till the sqrt of i that is 10.</p>\n\n<p>This is because when you get one factor of i, say 5, 100/5 is another factor ie 20.</p>\n\n<p>Hence by iterating till 10 in the inner loop you should get all the factors.</p>\n"},{"tags":[],"owner":{"account_id":3216757,"reputation":962,"user_id":2715233,"accept_rate":48,"display_name":"Mc Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394156548,"creation_date":1394155769,"answer_id":22239706,"question_id":22239525,"body_markdown":"This example changes the maximum iteration of J dynamically. We first initialize jMAX as i, and then iterates starting from 1, if it is a factor, then set jMAX as the result, for example, the factor of 10 is 2, the result is 5, we know that another factor cannot be between 5-10, since the divisor will be less than 2. After that, jMAX is reset to 100.\r\n\r\n    int jMAX;\r\n    for(int i=2; i &lt;= 100; i++) {\r\n                System.out.print(&quot;Factors of &quot; + i + &quot;: &quot;);\r\n                jMAX = i;\r\n                for(int j=1; j &lt; jMAX; j++)\r\n                {\r\n                    if((i%j) == 0) \r\n                    \t{\r\n    \t                \tjMAX = i/j;\r\n    \t                \tif(j!=jMAX){\r\n    \t                \tSystem.out.print(j +&quot; &quot;+ jMAX+&quot; &quot;);\r\n    \t                \t}\r\n    \t                \telse{\r\n    \t                \t\tSystem.out.print(j+&quot; &quot;);\r\n    \t                \t}\r\n                    \t}\r\n                }\r\n                jMAX =100;\r\n                \t\r\n                System.out.println();\r\n            }\r\n\r\nnumber of iterations: 1950, which is 3000 iteration lesser","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<p>This example changes the maximum iteration of J dynamically. We first initialize jMAX as i, and then iterates starting from 1, if it is a factor, then set jMAX as the result, for example, the factor of 10 is 2, the result is 5, we know that another factor cannot be between 5-10, since the divisor will be less than 2. After that, jMAX is reset to 100.</p>\n\n<pre><code>int jMAX;\nfor(int i=2; i &lt;= 100; i++) {\n            System.out.print(\"Factors of \" + i + \": \");\n            jMAX = i;\n            for(int j=1; j &lt; jMAX; j++)\n            {\n                if((i%j) == 0) \n                    {\n                        jMAX = i/j;\n                        if(j!=jMAX){\n                        System.out.print(j +\" \"+ jMAX+\" \");\n                        }\n                        else{\n                            System.out.print(j+\" \");\n                        }\n                    }\n            }\n            jMAX =100;\n\n            System.out.println();\n        }\n</code></pre>\n\n<p>number of iterations: 1950, which is 3000 iteration lesser</p>\n"},{"tags":[],"owner":{"account_id":7198924,"reputation":1,"user_id":5496704,"display_name":"stphnalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464702825,"creation_date":1446010908,"answer_id":33383702,"question_id":22239525,"body_markdown":"    /*\r\n       Use nested loops to find factors of numbers\r\n       between 2 and 100.\r\n    */\r\n\r\n    class FindFac {\r\n      public static void main(String args[]) {\r\n    \r\n        for(int i = 2; i &lt;= 100; i++) {\r\n          System.out.print(&quot;Factors of &quot; + i + &quot;: &quot;);\r\n          for(int j = 2; j &lt;= Math.sqrt(i); j++)\r\n            if((i % j) == 0) {\r\n              System.out.print(j + &quot; &quot;);\r\n              if((i/j) != j) System.out.print((i/j) + &quot; &quot;);\r\n            }  \r\n          System.out.println();\r\n    \r\n        }\r\n      }\r\n    } ","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<pre><code>/*\n   Use nested loops to find factors of numbers\n   between 2 and 100.\n*/\n\nclass FindFac {\n  public static void main(String args[]) {\n\n    for(int i = 2; i &lt;= 100; i++) {\n      System.out.print(\"Factors of \" + i + \": \");\n      for(int j = 2; j &lt;= Math.sqrt(i); j++)\n        if((i % j) == 0) {\n          System.out.print(j + \" \");\n          if((i/j) != j) System.out.print((i/j) + \" \");\n        }  \n      System.out.println();\n\n    }\n  }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5814457,"reputation":1,"user_id":4584555,"display_name":"Maksym Minenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464702473,"creation_date":1464702473,"answer_id":37547588,"question_id":22239525,"body_markdown":"Just use `j &lt;= i/2` in the inner loop.","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<p>Just use <code>j &lt;= i/2</code> in the inner loop.</p>\n"},{"tags":[],"owner":{"account_id":12040231,"reputation":3,"user_id":8807436,"display_name":"Soskipic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508517647,"creation_date":1508513339,"answer_id":46852433,"question_id":22239525,"body_markdown":"Iterate as long as `j &lt;= i/2` in the inner loop, not as long as `j &lt; i`.\r\n\r\nSo for example, if `i = 12` then `j` can only be `&lt;= 6` because if `j &gt; 6`, then `i/j` will be smaller than 2, but 2 is the smallest result allowed to know if `j` is a factor.\r\n\r\nThe below outputs show either a dot or an acceptable factor for each iteration:\r\n\r\n - When `j &lt; i`:\r\n\r\n&gt; Factors of 2: &lt;br/&gt; Factors of 3: .&lt;br/&gt; Factors of 4: 2.&lt;br/&gt; Factors\r\n&gt; of 5: ...&lt;br/&gt; Factors of 6: 23..&lt;br/&gt; Factors of 7: .....&lt;br/&gt;\r\n&gt; Factors of 8: 2.4...&lt;br/&gt; Factors of 9: .3.....&lt;br/&gt; Factors of 10:\r\n&gt; 2..5....&lt;br/&gt; Factors of 11: .........&lt;br/&gt; Factors of 12: 234.6.....&lt;br/&gt; Factors of 13: ...........&lt;br/&gt; Factors of 14: 2....7......&lt;br/&gt; Factors of 15: .3.5.........&lt;br/&gt; Factors of 16: 2.4...8.......&lt;br/&gt; Factors of 17: ...............&lt;br/&gt; Factors of 18: 23..6..9........&lt;br/&gt; Factors of 19: .................&lt;br/&gt; Factors of 20: 2.45....10.........\r\n\r\n - When j &lt;= i/2:\r\n\r\n&gt; Factors of 2: &lt;br/&gt; Factors of 3: &lt;br/&gt; Factors of 4: 2&lt;br/&gt; Factors\r\n&gt; of 5: .&lt;br/&gt; Factors of 6: 23&lt;br/&gt; Factors of 7: ..&lt;br/&gt; Factors of 8:\r\n&gt; 2.4&lt;br/&gt; Factors of 9: .3.&lt;br/&gt; Factors of 10: 2..5&lt;br/&gt; Factors of 11: ....&lt;br/&gt; Factors of 12: 234.6&lt;br/&gt; Factors of 13: .....&lt;br/&gt;\r\n&gt; Factors of 14: 2....7&lt;br/&gt; Factors of 15: .3.5..&lt;br/&gt; Factors of 16:\r\n&gt; 2.4...8&lt;br/&gt; Factors of 17: .......&lt;br/&gt; Factors of 18: 23..6..9&lt;br/&gt; Factors of 19: ........&lt;br/&gt; Factors of 20: 2.45....10","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<p>Iterate as long as <code>j &lt;= i/2</code> in the inner loop, not as long as <code>j &lt; i</code>.</p>\n\n<p>So for example, if <code>i = 12</code> then <code>j</code> can only be <code>&lt;= 6</code> because if <code>j &gt; 6</code>, then <code>i/j</code> will be smaller than 2, but 2 is the smallest result allowed to know if <code>j</code> is a factor.</p>\n\n<p>The below outputs show either a dot or an acceptable factor for each iteration:</p>\n\n<ul>\n<li>When <code>j &lt; i</code>:</li>\n</ul>\n\n<blockquote>\n  <p>Factors of 2: <br/> Factors of 3: .<br/> Factors of 4: 2.<br/> Factors\n  of 5: ...<br/> Factors of 6: 23..<br/> Factors of 7: .....<br/>\n  Factors of 8: 2.4...<br/> Factors of 9: .3.....<br/> Factors of 10:\n  2..5....<br/> Factors of 11: .........<br/> Factors of 12: 234.6.....<br/> Factors of 13: ...........<br/> Factors of 14: 2....7......<br/> Factors of 15: .3.5.........<br/> Factors of 16: 2.4...8.......<br/> Factors of 17: ...............<br/> Factors of 18: 23..6..9........<br/> Factors of 19: .................<br/> Factors of 20: 2.45....10.........</p>\n</blockquote>\n\n<ul>\n<li>When j &lt;= i/2:</li>\n</ul>\n\n<blockquote>\n  <p>Factors of 2: <br/> Factors of 3: <br/> Factors of 4: 2<br/> Factors\n  of 5: .<br/> Factors of 6: 23<br/> Factors of 7: ..<br/> Factors of 8:\n  2.4<br/> Factors of 9: .3.<br/> Factors of 10: 2..5<br/> Factors of 11: ....<br/> Factors of 12: 234.6<br/> Factors of 13: .....<br/>\n  Factors of 14: 2....7<br/> Factors of 15: .3.5..<br/> Factors of 16:\n  2.4...8<br/> Factors of 17: .......<br/> Factors of 18: 23..6..9<br/> Factors of 19: ........<br/> Factors of 20: 2.45....10</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26111569,"reputation":1,"user_id":19805416,"display_name":"Vikt Pro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661410895,"creation_date":1660949188,"answer_id":73422896,"question_id":22239525,"body_markdown":"    public class FinFac {\r\n    public static void main(String[] args) {\r\n         for (int i = 2; i &lt;100; i++) one:  {\r\n             if (i%2 &gt; 0 ) break one;\r\n            System.out.print(&quot;Deliteli &quot; + i + &quot;: &quot;);\r\n            for (int j = 2; j &lt; i; j++) {\r\n                if (i == j) break;\r\n                else if ((i % j) == 0)\r\n            System.out.print(j + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    }\r\n","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<pre><code>public class FinFac {\npublic static void main(String[] args) {\n     for (int i = 2; i &lt;100; i++) one:  {\n         if (i%2 &gt; 0 ) break one;\n        System.out.print(&quot;Deliteli &quot; + i + &quot;: &quot;);\n        for (int j = 2; j &lt; i; j++) {\n            if (i == j) break;\n            else if ((i % j) == 0)\n        System.out.print(j + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":3459120,"reputation":11,"user_id":2896804,"display_name":"Balance"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1661410895,"creation_date":1394154652,"question_id":22239525,"body_markdown":"In **Java A Beginners Guide 5th edition** a class, `FindFac`, uses nested loops to find factors between 2 and 100.\r\n\r\n&gt;     package examples;\r\n\r\n&gt;     public class FindFac {\r\n\r\n&gt;       public static void main(String args[]){\r\n        \r\n&gt;        for(int i=2; i &lt;= 100; i++) {\r\n            System.out.print(&quot;Factors of &quot; + i + &quot;: &quot;);\r\n            for(int j=2; j &lt; i; j++)\r\n                if((i%j) == 0) System.out.print(j + &quot; &quot;);\r\n            System.out.println();\r\n        }\r\n      }\r\n&gt;     }\r\n\r\nIt mentions: \r\n\r\n&gt;The preceding program can be made more efficient. Can you see how? (Hint: The number of iterations in the inner loop can be reduced)\r\n\r\nTo my knowledge it&#39;s hinting at &#39;j++&#39;, but I&#39;m not sure how to improve the code.","title":"Java A Beginners Guide: FindFac &amp; Nested Loops","body":"<p>In <strong>Java A Beginners Guide 5th edition</strong> a class, <code>FindFac</code>, uses nested loops to find factors between 2 and 100.</p>\n\n<blockquote>\n<pre><code>package examples;\n\npublic class FindFac {\n\n  public static void main(String args[]){\n\n   for(int i=2; i &lt;= 100; i++) {\n        System.out.print(\"Factors of \" + i + \": \");\n        for(int j=2; j &lt; i; j++)\n            if((i%j) == 0) System.out.print(j + \" \");\n        System.out.println();\n    }\n  }\n}\n</code></pre>\n</blockquote>\n\n<p>It mentions: </p>\n\n<blockquote>\n  <p>The preceding program can be made more efficient. Can you see how? (Hint: The number of iterations in the inner loop can be reduced)</p>\n</blockquote>\n\n<p>To my knowledge it's hinting at 'j++', but I'm not sure how to improve the code.</p>\n"},{"tags":["java","oop","testing"],"comments":[{"owner":{"account_id":17471728,"reputation":19,"user_id":12667422,"display_name":"Les p&#232;res Lumi&#232;re"},"score":0,"creation_date":1661354608,"post_id":73475304,"comment_id":129753857,"body_markdown":"Sorry, I mean a realization of Page Object Model (one of test automation patterns)","body":"Sorry, I mean a realization of Page Object Model (one of test automation patterns)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661354766,"post_id":73475304,"comment_id":129753925,"body_markdown":"Put that fact into both the title and body of your Question, not a Comment. And assign a tag, if one exists.","body":"Put that fact into both the title and body of your Question, not a Comment. And assign a tag, if one exists."},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1661834891,"post_id":73475304,"comment_id":129859053,"body_markdown":"Feel free to ask any question. If you feel that my reply is helpful, then you can upvote or mark my reply as an answer to simplify the future search of other users. [How does accepting an answer work?](https://meta.stackexchange.com/a/5235/309682)","body":"Feel free to ask any question. If you feel that my reply is helpful, then you can upvote or mark my reply as an answer to simplify the future search of other users. <a href=\"https://meta.stackexchange.com/a/5235/309682\">How does accepting an answer work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661410751,"creation_date":1661410751,"answer_id":73483165,"question_id":73475304,"body_markdown":"It is hard to say whether Page Object Model is an example of encapsulation. However, as [wiki says about encapsulation][1]:\r\n\r\n&gt; In object-oriented programming (OOP), encapsulation refers to the\r\n&gt; bundling of data with the methods that operate on that data, or the\r\n&gt; **restricting of direct access to some of an object&#39;s components**. Encapsulation is used **to hide the values or state of a structured\r\n&gt; data object inside a class**, preventing direct access to them by\r\n&gt; clients in a way that could expose hidden implementation details or\r\n&gt; violate state invariance maintained by the methods.\r\n\r\nSo if `Page Object Model` hides the values or state from direct access by other users, then it can be said that it is an exmaple of encapsulation.\r\n\r\nOne of the ways to achieve encapsulation is to use `setter` and `getter` methods and access modifiers. Let me show an example:\r\n\r\n    public class EncapsulatedPerson\r\n    {\r\n        private string name;\r\n    \r\n        public string GetName() \r\n        {\r\n            return name;\r\n        }\r\n    \r\n        public void SetName(string name)\r\n        {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nand `Person` without encapsulation. Any user of class `NotEncapsulatedPerson` can edit `name`:\r\n\r\n    public class NotEncapsulatedPerson\r\n    {\r\n        public string name;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\r\n","title":"Is a realization of Page Object Model an example of encapsulation in Java?","body":"<p>It is hard to say whether Page Object Model is an example of encapsulation. However, as <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">wiki says about encapsulation</a>:</p>\n<blockquote>\n<p>In object-oriented programming (OOP), encapsulation refers to the\nbundling of data with the methods that operate on that data, or the\n<strong>restricting of direct access to some of an object's components</strong>. Encapsulation is used <strong>to hide the values or state of a structured\ndata object inside a class</strong>, preventing direct access to them by\nclients in a way that could expose hidden implementation details or\nviolate state invariance maintained by the methods.</p>\n</blockquote>\n<p>So if <code>Page Object Model</code> hides the values or state from direct access by other users, then it can be said that it is an exmaple of encapsulation.</p>\n<p>One of the ways to achieve encapsulation is to use <code>setter</code> and <code>getter</code> methods and access modifiers. Let me show an example:</p>\n<pre><code>public class EncapsulatedPerson\n{\n    private string name;\n\n    public string GetName() \n    {\n        return name;\n    }\n\n    public void SetName(string name)\n    {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>and <code>Person</code> without encapsulation. Any user of class <code>NotEncapsulatedPerson</code> can edit <code>name</code>:</p>\n<pre><code>public class NotEncapsulatedPerson\n{\n    public string name;\n}\n</code></pre>\n"}],"owner":{"account_id":17471728,"reputation":19,"user_id":12667422,"display_name":"Les p&#232;res Lumi&#232;re"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661410751,"creation_date":1661352698,"question_id":73475304,"body_markdown":"Is a realization of POM an example of encapsulation? Are all imported libraries, code builders (maven/gradel/..) and all used code in the project, which realization is based behind &quot;closed doors&quot;, examples of encapsulation?\r\n","title":"Is a realization of Page Object Model an example of encapsulation in Java?","body":"<p>Is a realization of POM an example of encapsulation? Are all imported libraries, code builders (maven/gradel/..) and all used code in the project, which realization is based behind &quot;closed doors&quot;, examples of encapsulation?</p>\n"},{"tags":["java","forkjoinpool","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661401779,"creation_date":1661354811,"answer_id":73475854,"question_id":73474536,"body_markdown":"My interpretation of what Doug Lea is saying on the ticket is that that cause of the problem is that your use-case is causing work sharing between two `ForkJoinPool` instances, and that was never guaranteed to work.\r\n\r\nNow I can see why the sharing could be happening.  The [javadoc][1] for `public static &lt;T extends Comparable&lt;? super T&gt;&gt; void parallelSort(T[] a)` state:\r\n\r\n&gt; The `ForkJoin` common pool is used to execute any parallel tasks.\r\n\r\nSo by launching a task in a custom pool that calls `parallelSort` you are setting up the conditions for cross-pool work sharing.\r\n\r\nThe answer seems to be &quot;don&#39;t do that&quot;.  Don&#39;t call `parallelSort` from a task in a custom `ForkJoinPool`.  The `Arrays.parallelSort` methods don&#39;t provide a way to specify the pool you want to use.  Instead, just launch your tasks in the common pool.\r\n\r\nI have tentatively confirmed this by changing:\r\n\r\n        final ForkJoinPool fjPool = new ForkJoinPool(1);\r\n\r\nin your example to \r\n\r\n        final ForkJoinPool fjPool = ForkJoinPool.commonPool();\r\n\r\nand it seems to work.  This may not be the solution you want, but I think that it is the best you will get, unless you can convince Doug Lea *et al* that:\r\n\r\n  - EITHER cross-pool work sharing should be supported,\r\n  - OR a way should be provided to tell `Arrays.parallelSort` to use a specified `ForkJoinPool`.\r\n\r\nPersonally ... I&#39;m not convinced that either of those fixes would be a good idea.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#parallelSort(T%5B%5D)","title":"Java ForkJoinPool hangs in JDK17","body":"<p>My interpretation of what Doug Lea is saying on the ticket is that that cause of the problem is that your use-case is causing work sharing between two <code>ForkJoinPool</code> instances, and that was never guaranteed to work.</p>\n<p>Now I can see why the sharing could be happening.  The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#parallelSort(T%5B%5D)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void parallelSort(T[] a)</code> state:</p>\n<blockquote>\n<p>The <code>ForkJoin</code> common pool is used to execute any parallel tasks.</p>\n</blockquote>\n<p>So by launching a task in a custom pool that calls <code>parallelSort</code> you are setting up the conditions for cross-pool work sharing.</p>\n<p>The answer seems to be &quot;don't do that&quot;.  Don't call <code>parallelSort</code> from a task in a custom <code>ForkJoinPool</code>.  The <code>Arrays.parallelSort</code> methods don't provide a way to specify the pool you want to use.  Instead, just launch your tasks in the common pool.</p>\n<p>I have tentatively confirmed this by changing:</p>\n<pre><code>    final ForkJoinPool fjPool = new ForkJoinPool(1);\n</code></pre>\n<p>in your example to</p>\n<pre><code>    final ForkJoinPool fjPool = ForkJoinPool.commonPool();\n</code></pre>\n<p>and it seems to work.  This may not be the solution you want, but I think that it is the best you will get, unless you can convince Doug Lea <em>et al</em> that:</p>\n<ul>\n<li>EITHER cross-pool work sharing should be supported,</li>\n<li>OR a way should be provided to tell <code>Arrays.parallelSort</code> to use a specified <code>ForkJoinPool</code>.</li>\n</ul>\n<p>Personally ... I'm not convinced that either of those fixes would be a good idea.</p>\n"}],"owner":{"account_id":15231612,"reputation":85,"user_id":10990570,"display_name":"Uwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1661410751,"creation_date":1661349687,"question_id":73474536,"body_markdown":"The following code works with JDK16 reproducibly and hangs with JDK17 reproducibly on my laptop (4/8-core) with basic command line options: &quot;-ea&quot;. A JDK-ticket exists (https://bugs.openjdk.org/browse/JDK-8281524), but there was disagreement whether the usage is &quot;good&quot; or not. Then, radio silence in the last 6 months. Can anybody help pinpoint my usage error (if any) and how to fix it?\r\n\r\n    import java.util.Arrays;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.ForkJoinTask;\r\n    import java.util.stream.Stream;\r\n    import org.junit.Test;\r\n\r\n    public class FjpTest {\r\n\r\n\t\t@Test\r\n\t\tpublic void testFjp() {\r\n\t\t\tfinal ForkJoinPool fjPool = new ForkJoinPool(1);\r\n\t\t\tfinal String[] objs = Stream.generate(() -&gt; &quot;&quot;).limit(10_000).toArray(String[]::new);\r\n\t\t\t// the following line should sort the array,\r\n            // but instead causes a single-threaded spin-wait\r\n\t\t\tfjPool.invoke(ForkJoinTask.adapt(() -&gt; Arrays.parallelSort(objs))); // this hangs!\r\n\t\t}\r\n    }\r\n\r\n**Update 1** (in response to Stephen C&#39;s comment):\r\n\r\nConsider this example with considerable logic executed in a custom pool. This appears not only a &quot;major loss of function&quot; (hence &quot;Priority=P3&quot; on the Open-JDK ticket), because this worked in JDK16. It also displays an incompatibility within the JDK17 itself, because, we can&#39;t apparently use custom pools together with the collections framework anymore. I&#39;m still not sure, how to solve this. The only thing I can conceive of is that anything that was originally designed to be run in the common pool must be explicitely submitted to the common pool, which would seem like a tough design choice. What am I overlooking?\r\n\r\n        new ForkJoinPool(1).invoke(ForkJoinTask.adapt(() -&gt; {\r\n            // ... some really smart and deep business logic in a ginormous application using\r\n            // a custom ForkJoinPool, when an innocent developer or a library for that matter \r\n            // (not even realizing that it runs inside a custom ForkJoinPool) decides\r\n            // to use the collections framework ...\r\n            Arrays.parallelSort(Stream.generate(() -&gt; &quot;&quot;).limit(10_000).toArray(String[]::new));\r\n            // ... dead code from here ...\r\n        }));","title":"Java ForkJoinPool hangs in JDK17","body":"<p>The following code works with JDK16 reproducibly and hangs with JDK17 reproducibly on my laptop (4/8-core) with basic command line options: &quot;-ea&quot;. A JDK-ticket exists (<a href=\"https://bugs.openjdk.org/browse/JDK-8281524\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8281524</a>), but there was disagreement whether the usage is &quot;good&quot; or not. Then, radio silence in the last 6 months. Can anybody help pinpoint my usage error (if any) and how to fix it?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.ForkJoinTask;\nimport java.util.stream.Stream;\nimport org.junit.Test;\n\npublic class FjpTest {\n\n    @Test\n    public void testFjp() {\n        final ForkJoinPool fjPool = new ForkJoinPool(1);\n        final String[] objs = Stream.generate(() -&gt; &quot;&quot;).limit(10_000).toArray(String[]::new);\n        // the following line should sort the array,\n        // but instead causes a single-threaded spin-wait\n        fjPool.invoke(ForkJoinTask.adapt(() -&gt; Arrays.parallelSort(objs))); // this hangs!\n    }\n}\n</code></pre>\n<p><strong>Update 1</strong> (in response to Stephen C's comment):</p>\n<p>Consider this example with considerable logic executed in a custom pool. This appears not only a &quot;major loss of function&quot; (hence &quot;Priority=P3&quot; on the Open-JDK ticket), because this worked in JDK16. It also displays an incompatibility within the JDK17 itself, because, we can't apparently use custom pools together with the collections framework anymore. I'm still not sure, how to solve this. The only thing I can conceive of is that anything that was originally designed to be run in the common pool must be explicitely submitted to the common pool, which would seem like a tough design choice. What am I overlooking?</p>\n<pre><code>    new ForkJoinPool(1).invoke(ForkJoinTask.adapt(() -&gt; {\n        // ... some really smart and deep business logic in a ginormous application using\n        // a custom ForkJoinPool, when an innocent developer or a library for that matter \n        // (not even realizing that it runs inside a custom ForkJoinPool) decides\n        // to use the collections framework ...\n        Arrays.parallelSort(Stream.generate(() -&gt; &quot;&quot;).limit(10_000).toArray(String[]::new));\n        // ... dead code from here ...\n    }));\n</code></pre>\n"},{"tags":["java","android","sqlite","boolean"],"answers":[{"tags":[],"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1453259137,"creation_date":1288794762,"answer_id":4088102,"question_id":4088080,"body_markdown":"There is no bool data type in SQLite. Use an int that you fix to 0 or 1 to achieve that effect. See the [datatypes reference][1] on [SQLite&amp;nbsp;3.0][2].\r\n\r\n  [1]: http://www.sqlite.org/datatype3.html\r\n  [2]: https://en.wikipedia.org/wiki/SQLite#History\r\n","title":"Get boolean from database using Android and SQLite","body":"<p>There is no bool data type in SQLite. Use an int that you fix to 0 or 1 to achieve that effect. See the <a href=\"http://www.sqlite.org/datatype3.html\" rel=\"noreferrer\">datatypes reference</a> on <a href=\"https://en.wikipedia.org/wiki/SQLite#History\" rel=\"noreferrer\">SQLite&nbsp;3.0</a>.</p>\n"},{"tags":[],"owner":{"account_id":231428,"reputation":18107,"user_id":495663,"accept_rate":60,"display_name":"Alex Orlov"},"down_vote_count":0,"up_vote_count":363,"is_accepted":true,"score":363,"last_activity_date":1453259054,"creation_date":1288794887,"answer_id":4088131,"question_id":4088080,"body_markdown":"It is:\r\n\r\n    boolean value = cursor.getInt(boolean_column_index) &gt; 0;\r\n","title":"Get boolean from database using Android and SQLite","body":"<p>It is:</p>\n\n<pre><code>boolean value = cursor.getInt(boolean_column_index) &gt; 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":777226,"reputation":69,"user_id":869481,"display_name":"zoeb"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1429714922,"creation_date":1311947227,"answer_id":6874144,"question_id":4088080,"body_markdown":"You can also use\r\n\r\n    boolean value =cursor.getString(boolean_column_index).equals(&quot;True&quot;);","title":"Get boolean from database using Android and SQLite","body":"<p>You can also use</p>\n\n<pre><code>boolean value =cursor.getString(boolean_column_index).equals(\"True\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063261,"reputation":831,"user_id":1064442,"display_name":"Elvis"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1322237617,"creation_date":1322237617,"answer_id":8271682,"question_id":4088080,"body_markdown":"    boolean value = (cursor.getInt(boolean_column_index) == 1);","title":"Get boolean from database using Android and SQLite","body":"<pre><code>boolean value = (cursor.getInt(boolean_column_index) == 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1603055,"reputation":475,"user_id":1488501,"accept_rate":64,"display_name":"Sojurn"},"down_vote_count":4,"up_vote_count":15,"is_accepted":false,"score":11,"last_activity_date":1381569664,"creation_date":1350373363,"answer_id":12909774,"question_id":4088080,"body_markdown":"Most of the answers here can result in NumberFormatExceptions or &quot;operator is undefined for the types null, int&quot; if the column you stored the int in was allowed to also hold null.\r\nThe decent way to do this would be to use\r\n\r\n    Boolean.parseBoolean(cursor.getString(booleanColumnIndex));`\r\n\r\nthough you are now limited to storing the strings &quot;true&quot; and &quot;false&quot; rather than 0 or 1.\r\n","title":"Get boolean from database using Android and SQLite","body":"<p>Most of the answers here can result in NumberFormatExceptions or \"operator is undefined for the types null, int\" if the column you stored the int in was allowed to also hold null.\nThe decent way to do this would be to use</p>\n\n<pre><code>Boolean.parseBoolean(cursor.getString(booleanColumnIndex));`\n</code></pre>\n\n<p>though you are now limited to storing the strings \"true\" and \"false\" rather than 0 or 1.</p>\n"},{"tags":[],"owner":{"account_id":1117602,"reputation":2696,"user_id":1106598,"accept_rate":50,"display_name":"Gokhan Arik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370375988,"creation_date":1370375988,"answer_id":16926450,"question_id":4088080,"body_markdown":"Another option \r\n\r\n    boolean value = (cursor.getString(column_index)).equals(&quot;1&quot;);","title":"Get boolean from database using Android and SQLite","body":"<p>Another option </p>\n\n<pre><code>boolean value = (cursor.getString(column_index)).equals(\"1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65681,"reputation":183,"user_id":1275767,"display_name":"rtack"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1386814888,"creation_date":1386813645,"answer_id":20533665,"question_id":4088080,"body_markdown":"An implementation found at [Ormlite Cursor][1] also checks for Null which none of the other answers do.\r\n\r\n       public boolean getBoolean(int columnIndex) {\r\n    \t\tif (cursor.isNull(columnIndex) || cursor.getShort(columnIndex) == 0) {\r\n    \t\t\treturn false;\r\n    \t\t} else {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n  [1]: http://ormlite.com/javadoc/ormlite-android/com/j256/ormlite/android/AndroidDatabaseResults.html#getBoolean%28int%29","title":"Get boolean from database using Android and SQLite","body":"<p>An implementation found at <a href=\"http://ormlite.com/javadoc/ormlite-android/com/j256/ormlite/android/AndroidDatabaseResults.html#getBoolean%28int%29\" rel=\"noreferrer\">Ormlite Cursor</a> also checks for Null which none of the other answers do.</p>\n\n<pre><code>   public boolean getBoolean(int columnIndex) {\n        if (cursor.isNull(columnIndex) || cursor.getShort(columnIndex) == 0) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133400,"reputation":21,"user_id":1118956,"display_name":"RedBullet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465305221,"creation_date":1416498800,"answer_id":27043869,"question_id":4088080,"body_markdown":" boolean b = (cursor.getInt(cursor.getColumnIndex(&quot;item&quot;)) != 0);","title":"Get boolean from database using Android and SQLite","body":"<p>boolean b = (cursor.getInt(cursor.getColumnIndex(\"item\")) != 0);</p>\n"},{"tags":[],"owner":{"account_id":3772408,"reputation":35021,"user_id":3134215,"accept_rate":42,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453263171,"creation_date":1451371252,"answer_id":34505805,"question_id":4088080,"body_markdown":"`boolean` datatype is not available in `Cursor`.\r\n\r\nyou will get the result in an `int`, so you need to convert that `int` value to a `boolean`.\r\n\r\nYou can either use\r\n\r\n    boolean b = cursor.getInt(boolean_column_index) &gt; 0;\r\n\r\nor\r\n\r\n    boolean b = (cursor.getInt(boolean_column_index) != 0);\r\n","title":"Get boolean from database using Android and SQLite","body":"<p><code>boolean</code> datatype is not available in <code>Cursor</code>.</p>\n\n<p>you will get the result in an <code>int</code>, so you need to convert that <code>int</code> value to a <code>boolean</code>.</p>\n\n<p>You can either use</p>\n\n<pre><code>boolean b = cursor.getInt(boolean_column_index) &gt; 0;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean b = (cursor.getInt(boolean_column_index) != 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13800211,"reputation":1171,"user_id":9960358,"display_name":"silexcorp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567142572,"creation_date":1567142572,"answer_id":57720899,"question_id":4088080,"body_markdown":"Well, that&#39;s very simple:\r\n\r\n    public boolean getBooleanState(SQLiteDatabase db){\r\n        boolean result = false;\r\n        try{\r\n            String QUERY = &quot;SELECT &quot; + BOOLEAN_DATA + &quot; FROM &quot; + TABLE_NAME + &quot; WHERE &quot; + ID + &quot; = 1&quot;;\r\n            Cursor cursor = db.rawQuery(QUERY, null);\r\n            if (cursor.moveToFirst()){\r\n                if(cursor.getString(0).equalsIgnoreCase(&quot;1&quot;)){\r\n                    result = true;\r\n                }\r\n            }\r\n            c.close();\r\n        }catch(Exception ee){\r\n            Log.e(TAG, &quot;err getBooleanState: &quot; + TABLE_NAME );\r\n        }\r\n        return result;\r\n    }","title":"Get boolean from database using Android and SQLite","body":"<p>Well, that's very simple:</p>\n\n<pre><code>public boolean getBooleanState(SQLiteDatabase db){\n    boolean result = false;\n    try{\n        String QUERY = \"SELECT \" + BOOLEAN_DATA + \" FROM \" + TABLE_NAME + \" WHERE \" + ID + \" = 1\";\n        Cursor cursor = db.rawQuery(QUERY, null);\n        if (cursor.moveToFirst()){\n            if(cursor.getString(0).equalsIgnoreCase(\"1\")){\n                result = true;\n            }\n        }\n        c.close();\n    }catch(Exception ee){\n        Log.e(TAG, \"err getBooleanState: \" + TABLE_NAME );\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10145705,"reputation":798,"user_id":7493938,"display_name":"Mario Huizinga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611235438,"creation_date":1611235438,"answer_id":65828389,"question_id":4088080,"body_markdown":"For an optional (nullable) Boolean stored as `INTEGER`, you can create a Kotlin extension:\r\n\r\n    fun Cursor.getBoolean(columnIndex: Int): Boolean? {\r\n        return if (isNull(columnIndex))\r\n            null\r\n        else \r\n            getInt(columnIndex) != 0\r\n    }\r\n\r\nand use it like this:\r\n\r\n    val value: Boolean? = cursor.getBoolean(boolean_column_index)","title":"Get boolean from database using Android and SQLite","body":"<p>For an optional (nullable) Boolean stored as <code>INTEGER</code>, you can create a Kotlin extension:</p>\n<pre><code>fun Cursor.getBoolean(columnIndex: Int): Boolean? {\n    return if (isNull(columnIndex))\n        null\n    else \n        getInt(columnIndex) != 0\n}\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>val value: Boolean? = cursor.getBoolean(boolean_column_index)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215649,"reputation":65,"user_id":11708554,"display_name":"EndrIT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621510486,"creation_date":1621510486,"answer_id":67619543,"question_id":4088080,"body_markdown":"thats what I used: \r\n\r\n        val work = Work()\r\n        work.id = cursor.getInt(0)\r\n        work.date = cursor.getString(1)\r\n        work.work_value = cursor.getFloat(2)\r\n        work.place = cursor.getString(3)\r\n        work.wind = cursor.getFloat(4)\r\n        work.isCompetition = cursor.getInt(5) &gt; 0\r\n        return work","title":"Get boolean from database using Android and SQLite","body":"<p>thats what I used:</p>\n<pre><code>    val work = Work()\n    work.id = cursor.getInt(0)\n    work.date = cursor.getString(1)\n    work.work_value = cursor.getFloat(2)\n    work.place = cursor.getString(3)\n    work.wind = cursor.getFloat(4)\n    work.isCompetition = cursor.getInt(5) &gt; 0\n    return work\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25529445,"reputation":1,"user_id":19317780,"display_name":"Dev Pandey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661410654,"creation_date":1661052290,"answer_id":73431424,"question_id":4088080,"body_markdown":"I face the same thing in kotlin.\r\nThere was the value &quot;true/false&quot; in the database\r\nand I access it with this code:\r\n\r\n \r\n\r\n    cursor.getString(4).toBoolean()\r\n\r\n//first as a string then converting them to boolean","title":"Get boolean from database using Android and SQLite","body":"<p>I face the same thing in kotlin.\nThere was the value &quot;true/false&quot; in the database\nand I access it with this code:</p>\n<pre><code>cursor.getString(4).toBoolean()\n</code></pre>\n<p>//first as a string then converting them to boolean</p>\n"}],"owner":{"account_id":178081,"reputation":6347,"user_id":409826,"accept_rate":84,"display_name":"Kevin Bradshaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90833,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":4088131,"answer_count":13,"score":176,"last_activity_date":1661410654,"creation_date":1288794592,"question_id":4088080,"body_markdown":"How can I obtain the value of a boolean field in an [SQLite][1] database on Android?\r\n\r\nI usually use `getString()`, `getInt()`, etc. to get the values of my fields, but there does not seem to be a `getBoolean()` method.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SQLite\r\n","title":"Get boolean from database using Android and SQLite","body":"<p>How can I obtain the value of a boolean field in an <a href=\"http://en.wikipedia.org/wiki/SQLite\" rel=\"noreferrer\">SQLite</a> database on Android?</p>\n\n<p>I usually use <code>getString()</code>, <code>getInt()</code>, etc. to get the values of my fields, but there does not seem to be a <code>getBoolean()</code> method.</p>\n"},{"tags":["java","multidimensional-array","initialization","memset"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":1,"creation_date":1538139907,"post_id":52556016,"comment_id":92050544,"body_markdown":"Can you please elaborate? What are you trying to do in java, how are you trying to do it and why it doesn&#39;t work?","body":"Can you please elaborate? What are you trying to do in java, how are you trying to do it and why it doesn&#39;t work?"},{"owner":{"account_id":5883884,"reputation":931,"user_id":4632482,"display_name":"Peter Bruins"},"score":0,"creation_date":1538139942,"post_id":52556016,"comment_id":92050557,"body_markdown":"Did you try it using two loops?","body":"Did you try it using two loops?"},{"owner":{"account_id":10033553,"reputation":43,"user_id":7419111,"display_name":"Mostafa Radwan"},"score":0,"creation_date":1538140314,"post_id":52556016,"comment_id":92050768,"body_markdown":"I didn&#39;t use the loops yet","body":"I didn&#39;t use the loops yet"},{"owner":{"account_id":12285714,"reputation":983,"user_id":8965245,"display_name":"Nawnit Sen"},"score":1,"creation_date":1538141236,"post_id":52556016,"comment_id":92051314,"body_markdown":"if x is a 2D integer arrays then.to fill all the value in x with 3 use `Arrays.stream(x).forEach(a-&gt;{Arrays.fill(a,03);}); `","body":"if x is a 2D integer arrays then.to fill all the value in x with 3 use <code>Arrays.stream(x).forEach(a-&gt;{Arrays.fill(a,03);}); </code>"}],"answers":[{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1538142771,"creation_date":1538142771,"answer_id":52556893,"question_id":52556016,"body_markdown":"The `Arrays.fill()` method can be used to fill a 1-d array, but there&#39;s no built in method to do a &quot;deep&quot; fill of multi-dimensional arrays. \r\n\r\nFor 2-d arrays I do something like this:\r\n\r\n    int[][] arr2 = new int[5][5];  \r\n    for(int[] arr1 : arr2) \r\n      Arrays.fill(arr1, 1);\r\n\r\n","title":"How to initialize all the elements of a 2D array to any specific value in java","body":"<p>The <code>Arrays.fill()</code> method can be used to fill a 1-d array, but there's no built in method to do a \"deep\" fill of multi-dimensional arrays. </p>\n\n<p>For 2-d arrays I do something like this:</p>\n\n<pre><code>int[][] arr2 = new int[5][5];  \nfor(int[] arr1 : arr2) \n  Arrays.fill(arr1, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25355176,"reputation":1,"user_id":19171426,"display_name":"Himanshu Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661410631,"creation_date":1661006921,"answer_id":73427625,"question_id":52556016,"body_markdown":"In Java, we can use Streams to fill in the values of a 2D matrix. \r\n\r\nSuppose I want to initialize a 2D Character Array then I will use below:\r\n\r\nexample1:\r\n\r\n    char[][] temp=new char[5][5];\r\n    \r\n    Arrays.stream(temp).forEach(row-&gt;Arrays.fill(row,&#39;.&#39;));\r\n\r\nexample2:\r\n\r\nIf it&#39;s an int array, then.\r\n\r\n    int[][] temp=new int[5][5];\r\n    \r\n    Arrays.stream(temp).forEach(row-&gt;Arrays.fill(row,1));\r\n\r\n","title":"How to initialize all the elements of a 2D array to any specific value in java","body":"<p>In Java, we can use Streams to fill in the values of a 2D matrix.</p>\n<p>Suppose I want to initialize a 2D Character Array then I will use below:</p>\n<p>example1:</p>\n<pre><code>char[][] temp=new char[5][5];\n\nArrays.stream(temp).forEach(row-&gt;Arrays.fill(row,'.'));\n</code></pre>\n<p>example2:</p>\n<p>If it's an int array, then.</p>\n<pre><code>int[][] temp=new int[5][5];\n\nArrays.stream(temp).forEach(row-&gt;Arrays.fill(row,1));\n</code></pre>\n"}],"owner":{"account_id":10033553,"reputation":43,"user_id":7419111,"display_name":"Mostafa Radwan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5266,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":52556893,"answer_count":2,"score":3,"last_activity_date":1661410631,"creation_date":1538139861,"question_id":52556016,"body_markdown":"In C++ there are a function ( memset() ) which initialize the values of a 1D array and any multidimensional-array. but in java there are a function fill which initialize the 1D array but can&#39;t initialize the multidimensional-array .","title":"How to initialize all the elements of a 2D array to any specific value in java","body":"<p>In C++ there are a function ( memset() ) which initialize the values of a 1D array and any multidimensional-array. but in java there are a function fill which initialize the 1D array but can't initialize the multidimensional-array .</p>\n"},{"tags":["java","spring-boot","validation","spring-validator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647954796,"post_id":71572201,"comment_id":126496728,"body_markdown":"You cannot use those together. They operate on different levels.","body":"You cannot use those together. They operate on different levels."}],"owner":{"account_id":8181697,"reputation":23,"user_id":6158658,"display_name":"neoty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661410620,"creation_date":1647952654,"question_id":71572201,"body_markdown":"```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\n@Validated\r\npublic class AddressWebController {\r\n    @GetMapping(value = {&quot;/{id}&quot;)\r\n    public String editForm(@PathVariable(value = &quot;id&quot;) @Positive Long id, Model model) {\r\n            // process\r\n    }\r\n\r\n    @PutMapping(value = {&quot;/edit&quot;})\r\n    public String editProcess(@ModelAttribute @Valid Form form,\r\n                              BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            // ???\r\n        }\r\n        \r\n        // process\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Form {\r\n    @NotBlank\r\n    private String name;\r\n}\r\n```\r\n* curl -XGET &#39;http://localhost/5&#39; \r\n  * is pass\r\n\r\n* curl -XGET &#39;http://localhost/-5&#39;\r\n  * A ConstraintViolationException exception is thrown. Due to @Validated and @Positive\r\n\r\n* curl &#39;http://localhost/edit&#39; --data-raw &#39;_method=PUT&amp;name=&#39;\r\n  * I expected it to come in as `bindingResult.hasErrors()` in that part, but the same ConstraintViolationException is thrown.\r\n\r\n\r\nWhen `@Validated` is removed, `bindingResult.hasErrors()` works, but `@Positive` annotation does not.\r\nHow can I use `@Validated` annotation and `BindingResult` together?","title":"springboot @validated and bindingresult","body":"<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\n@Validated\npublic class AddressWebController {\n    @GetMapping(value = {&quot;/{id}&quot;)\n    public String editForm(@PathVariable(value = &quot;id&quot;) @Positive Long id, Model model) {\n            // process\n    }\n\n    @PutMapping(value = {&quot;/edit&quot;})\n    public String editProcess(@ModelAttribute @Valid Form form,\n                              BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            // ???\n        }\n        \n        // process\n    }\n}\n\n</code></pre>\n<pre><code>public class Form {\n    @NotBlank\n    private String name;\n}\n</code></pre>\n<ul>\n<li><p>curl -XGET 'http://localhost/5'</p>\n<ul>\n<li>is pass</li>\n</ul>\n</li>\n<li><p>curl -XGET 'http://localhost/-5'</p>\n<ul>\n<li>A ConstraintViolationException exception is thrown. Due to @Validated and @Positive</li>\n</ul>\n</li>\n<li><p>curl 'http://localhost/edit' --data-raw '_method=PUT&amp;name='</p>\n<ul>\n<li>I expected it to come in as <code>bindingResult.hasErrors()</code> in that part, but the same ConstraintViolationException is thrown.</li>\n</ul>\n</li>\n</ul>\n<p>When <code>@Validated</code> is removed, <code>bindingResult.hasErrors()</code> works, but <code>@Positive</code> annotation does not.\nHow can I use <code>@Validated</code> annotation and <code>BindingResult</code> together?</p>\n"},{"tags":["java","android","android-studio","logcat"],"comments":[{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1634637406,"post_id":69628671,"comment_id":123072627,"body_markdown":"For `READ_PHONE_STATE` you need to take run time permissions from the user. Refer this https://stackoverflow.com/a/66039775/2462531","body":"For <code>READ_PHONE_STATE</code> you need to take run time permissions from the user. Refer this <a href=\"https://stackoverflow.com/a/66039775/2462531\">stackoverflow.com/a/66039775/2462531</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user19718250"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661410593,"creation_date":1661410162,"answer_id":73483062,"question_id":69628671,"body_markdown":"I am getting the same errors because socket is not running and I guess you are getting this error because you don&#39;t have network_security_config.xml file. You can solve the problem by following the steps at this link: https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted/50834600#50834600. \r\nActually on the iOS side of the same application, when I changed the boolean allow arbitrary loads option from no to yes in the app transport security settings, the problem was resolved. transport security settings correspond to the network security config on the android side. \r\nRemember, minSdk must be at least 24 for you to apply this solution.\r\n\r\nPS: unfortunately the solution didn&#39;t work for me but I hope it helps you. I would appreciate if you let me know if it works here.","title":"Errors when launching app on Android Studio","body":"<p>I am getting the same errors because socket is not running and I guess you are getting this error because you don't have network_security_config.xml file. You can solve the problem by following the steps at this link: <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted/50834600#50834600\">Android 8: Cleartext HTTP traffic not permitted</a>.\nActually on the iOS side of the same application, when I changed the boolean allow arbitrary loads option from no to yes in the app transport security settings, the problem was resolved. transport security settings correspond to the network security config on the android side.\nRemember, minSdk must be at least 24 for you to apply this solution.</p>\n<p>PS: unfortunately the solution didn't work for me but I hope it helps you. I would appreciate if you let me know if it works here.</p>\n"}],"owner":{"account_id":21247809,"reputation":38,"user_id":15630345,"display_name":"ryanongwx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661410593,"creation_date":1634637021,"question_id":69628671,"body_markdown":"# Why am I receiving so many errors on logcat when I run my android app?\r\n\r\nI am new to using android studio and also exploring the usage of maps on android apps. However, I ran into many issues in the process of launching the app as shown below.\r\n\r\nLogcat:\r\n\r\nThere are many logs similar to these:\r\n```\r\n2021-10-19 17:22:32.931 3814-3997/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:22:32.931 3814-3997/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/ConscryptEngineSocket;-&gt;setUseSessionTickets(Z)V (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setUseSessionTickets(Z)V (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setUseSessionTickets(Z)V (greylist-max-q, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/ConscryptEngineSocket;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setAlpnProtocols([B)V (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setAlpnProtocols([B)V (greylist-max-q, reflection, denied)\r\n2021-10-19 17:26:06.581 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q,core-platform-api, reflection, denied)\r\n2021-10-19 17:26:06.581 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\r\n```\r\nand also one error:\r\n```\r\n2021-10-19 17:48:06.643 6803-6803/com.example.sportbuddiesapp E/TelemetryUtils: java.lang.SecurityException: getDataNetworkTypeForSubscriber\r\n```\r\n\r\n## Below are my project files\r\n\r\nManifest:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.sportbuddiesapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;\r\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SportBuddiesApp&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nMainActivity:\r\n```package com.example.sportbuddiesapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.mapbox.mapboxsdk.Mapbox;\r\nimport com.mapbox.mapboxsdk.maps.MapView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private MapView mapView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Mapbox.getInstance(this, getString(R.string.mapbox_access_token));\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mapView = (MapView) findViewById(R.id.mapView);\r\n        mapView.onCreate(savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nActivity_main.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.mapbox.mapboxsdk.maps.MapView\r\n        android:id=&quot;@+id/mapView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        mapbox:mapbox_cameraTargetLat = &quot;37.7749&quot;\r\n        mapbox:mapbox_cameraTargetLng = &quot;-122.4194&quot;\r\n        /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nProject Level Build.gradle:\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n        maven { url &#39;https://mapbox.bintray.com/mapbox&#39; }\r\n    }\r\n}\r\n\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\nModule-Level build.gradle:\r\n```plugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.sportbuddiesapp&quot;\r\n        minSdk 21\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n\r\n\r\ndependencies {\r\n    implementation (&#39;com.mapbox.mapboxsdk:mapbox-android-sdk:9.0.0&#39;){\r\n        exclude group: &#39;group_name&#39;, module: &#39;module_name&#39;\r\n    }\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-plugin-locationlayer:0.11.0&#39;\r\n    implementation &#39;com.mapbox.mapboxsdk:mapbox-android-telemetry:6.1.0&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:17.0.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n}\r\n```\r\n","title":"Errors when launching app on Android Studio","body":"<h1>Why am I receiving so many errors on logcat when I run my android app?</h1>\n<p>I am new to using android studio and also exploring the usage of maps on android apps. However, I ran into many issues in the process of launching the app as shown below.</p>\n<p>Logcat:</p>\n<p>There are many logs similar to these:</p>\n<pre><code>2021-10-19 17:22:32.931 3814-3997/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:22:32.931 3814-3997/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/ConscryptEngineSocket;-&gt;setUseSessionTickets(Z)V (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setUseSessionTickets(Z)V (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setUseSessionTickets(Z)V (greylist-max-q, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/ConscryptEngineSocket;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setHostname(Ljava/lang/String;)V (greylist-max-q, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;setAlpnProtocols([B)V (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.379 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;setAlpnProtocols([B)V (greylist-max-q, reflection, denied)\n2021-10-19 17:26:06.581 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLSocketImpl;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q,core-platform-api, reflection, denied)\n2021-10-19 17:26:06.581 3814-6367/com.example.sportbuddiesapp W/sportbuddiesap: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\n</code></pre>\n<p>and also one error:</p>\n<pre><code>2021-10-19 17:48:06.643 6803-6803/com.example.sportbuddiesapp E/TelemetryUtils: java.lang.SecurityException: getDataNetworkTypeForSubscriber\n</code></pre>\n<h2>Below are my project files</h2>\n<p>Manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.sportbuddiesapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;\n        tools:ignore=&quot;CoarseFineLocation&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SportBuddiesApp&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity:</p>\n<pre><code>\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport com.mapbox.mapboxsdk.Mapbox;\nimport com.mapbox.mapboxsdk.maps.MapView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private MapView mapView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Mapbox.getInstance(this, getString(R.string.mapbox_access_token));\n\n        setContentView(R.layout.activity_main);\n\n        mapView = (MapView) findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n    }\n\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n\n}\n</code></pre>\n<p>Activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.mapbox.mapboxsdk.maps.MapView\n        android:id=&quot;@+id/mapView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        mapbox:mapbox_cameraTargetLat = &quot;37.7749&quot;\n        mapbox:mapbox_cameraTargetLng = &quot;-122.4194&quot;\n        /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Project Level Build.gradle:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url 'https://mapbox.bintray.com/mapbox' }\n    }\n}\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>Module-Level build.gradle:</p>\n<pre><code>    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.sportbuddiesapp&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\n\n\ndependencies {\n    implementation ('com.mapbox.mapboxsdk:mapbox-android-sdk:9.0.0'){\n        exclude group: 'group_name', module: 'module_name'\n    }\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-locationlayer:0.11.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-telemetry:6.1.0'\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'com.google.android.gms:play-services-maps:17.0.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","jframe","jbutton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661411511,"post_id":73483071,"comment_id":129766938,"body_markdown":"why do you have this: addMouseMotionListener(this); ? Have you tried debugging your code?","body":"why do you have this: addMouseMotionListener(this); ? Have you tried debugging your code?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661418538,"post_id":73483071,"comment_id":129769463,"body_markdown":"The last time I had to deal with mouse events manually, the interface had the name `MouseListener` and not `MouseInputListener`. Besides that, when you set a `Cursor` on a component, it’s the cursor to be used when the mouse is over the component anyway. So there’s no point in changing it on `mouseEntered`/`mouseExited` events. And why do you declare `throws IOException` for `resizeImage`  that can never throw this exception? Generally, this looks like an attempt to put as many anti-patterns into one code as possible.","body":"The last time I had to deal with mouse events manually, the interface had the name <code>MouseListener</code> and not <code>MouseInputListener</code>. Besides that, when you set a <code>Cursor</code> on a component, it’s the cursor to be used when the mouse is over the component anyway. So there’s no point in changing it on <code>mouseEntered</code>/<code>mouseExited</code> events. And why do you declare <code>throws IOException</code> for <code>resizeImage</code>  that can never throw this exception? Generally, this looks like an attempt to put as many anti-patterns into one code as possible."}],"owner":{"account_id":20465768,"reputation":5,"user_id":15017306,"display_name":"ToyotaCorolla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661410238,"creation_date":1661410238,"question_id":73483071,"body_markdown":"I have two `JButtons` that are extending two different inner classes of an outer class extending `JPanel`. I implemented `MouseInputListener` on the `JButtons` but it does not seem to be working. I tried placing the `MouseInputListener` on the outer class but it was not working either. I have a different class extending `JFrame` and also implementing `MouseInputListener` so I think it might be some overlay or hierarchy error but I&#39;m not sure. \r\n\r\n    public class Frame extends JFrame implements MouseInputListener{\r\n        static Dimension windowSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        static int windowWidth = (int) windowSize.getWidth();\r\n        static int windowHeight = (int) windowSize.getHeight();\r\n        TopBar design = new TopBar(windowWidth, windowHeight);\r\n        public Frame(){\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run(){\r\n                setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n                pack();\r\n                setSize(windowSize);\r\n                setLocationRelativeTo(null); \r\n                setVisible(true);\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                setResizable(true);\r\n                add(design);\r\n                setState(java.awt.Frame.NORMAL);\r\n                //setBackground(Color.decode(&quot;#449d9d&quot;));\r\n            }\r\n        });\r\n        addMouseListener(this);\r\n        addMouseMotionListener(this);\r\n        }   \r\n        @Override\r\n        public void mouseClicked(MouseEvent e) { \r\n        }\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {  \r\n        }\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) { \r\n        }\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n        }\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n\r\n        }\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) { \r\n        }\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n            System.out.println(getWidth() + &quot; &quot; + getHeight());\r\n            remove(design);\r\n            windowWidth = getWidth();\r\n            windowHeight = getHeight();\r\n            design = new TopBar(windowWidth, windowHeight);\r\n            add(design);\r\n        }}\r\n\r\nand \r\n\r\n    public class TopBar extends JPanel{\r\n    int windowWidth;\r\n    int windowHeight;\r\n    public class resourcesButton extends JButton implements MouseInputListener{\r\n        public resourcesButton(int windowWidth, int windowHeight){\r\n            setText(&quot;Resourses&quot;);\r\n            setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 24));\r\n            setBorder(new RoundedBorder(Color.decode(&quot;#f75280&quot;),2,16,16));\r\n            setBackground(Color.decode(&quot;#f75280&quot;));\r\n            setForeground(Color.decode(&quot;#0c120c&quot;));\r\n            setOpaque(true);\r\n            setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n            setBounds((int)(windowWidth/1.5), (int)(windowHeight/6.5)/2/3, (int)(windowWidth/8.33), (int)(9*(windowWidth/8.33)/16));\r\n            setHorizontalAlignment(SwingConstants.CENTER);\r\n            setVerticalAlignment(SwingConstants.CENTER);\r\n\r\n            addMouseListener(this);\r\n            addMouseMotionListener(this);\r\n        }\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {}\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {}\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {}\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n        }\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n        }\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            System.out.println(&quot;Check&quot;);\r\n        }\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {}\r\n    }\r\n    public class startButton extends JButton implements MouseInputListener{\r\n        public startButton(int windowWidth, int windowHeight){\r\n            setText(&quot;Start Diagnosis&quot;);\r\n            setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, windowHeight/45));\r\n            setBorder(new RoundedBorder(Color.decode(&quot;#f75280&quot;),2,16,16));\r\n            setBackground(Color.decode(&quot;#f75280&quot;));\r\n            setForeground(Color.decode(&quot;#0c120c&quot;));\r\n            setOpaque(true);\r\n            setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n            setBounds((int)(windowWidth/1.25), (int)(windowHeight/6.5)/2/3, (int)(windowWidth/8.33), (int)(9*(windowWidth/8.33)/16));\r\n            setHorizontalAlignment(SwingConstants.CENTER);\r\n            setVerticalAlignment(SwingConstants.CENTER);\r\n\r\n            addMouseListener(this);\r\n            addMouseMotionListener(this);\r\n        }\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {}\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {}\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {}\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n        }\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n        }\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            System.out.println(&quot;Check&quot;);\r\n        }\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {}\r\n    }\r\n    public TopBar(int windowWidth, int windowHeight){\r\n        setLayout(null);\r\n        this.windowWidth = windowWidth;\r\n        this.windowHeight = windowHeight;\r\n        add(new resourcesButton(windowWidth, windowHeight));\r\n        add(new startButton(windowWidth, windowHeight));\r\n    }\r\n    @Override\r\n    protected void paintComponent (Graphics graphic){\r\n        BufferedImage logo = null;\r\n        try {\r\n            logo = ImageIO.read(new File(&quot;SySLogo.png&quot;));\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        super.paintComponent(graphic);\r\n        Graphics2D g2d = (Graphics2D) graphic.create();\r\n        g2d.setColor(Color.decode(&quot;#449d9d&quot;));\r\n        g2d.fillRect(0, 0, windowWidth, (int)(windowHeight/6.5));\r\n        try {\r\n            g2d.drawImage(resizeImage(logo, (int)(windowWidth/8.33), (int)(windowHeight/8.6481)), windowWidth/16, (int)(windowHeight/48), this);\r\n        } catch (IOException e) {\r\n            g2d.drawImage(logo, windowWidth/16, (int)(windowHeight/48), this);\r\n            e.printStackTrace();\r\n        }\r\n        g2d.setColor(Color.decode(&quot;#f2eee3&quot;));\r\n        g2d.drawLine(0, (int)(windowHeight/6.5), windowWidth, (int)(windowHeight/6.5));\r\n    }\r\n    private BufferedImage resizeImage(BufferedImage originalImage, int targetWidth, int targetHeight) throws IOException {\r\n        BufferedImage resizedImage = new BufferedImage(targetWidth, targetHeight, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D graphics2D = resizedImage.createGraphics();\r\n        graphics2D.drawImage(originalImage, 0, 0, targetWidth, targetHeight, null);\r\n        graphics2D.dispose();\r\n        return resizedImage;\r\n    }\r\n}\r\n","title":"MouseInputListener isn&#39;t working on a JButtons","body":"<p>I have two <code>JButtons</code> that are extending two different inner classes of an outer class extending <code>JPanel</code>. I implemented <code>MouseInputListener</code> on the <code>JButtons</code> but it does not seem to be working. I tried placing the <code>MouseInputListener</code> on the outer class but it was not working either. I have a different class extending <code>JFrame</code> and also implementing <code>MouseInputListener</code> so I think it might be some overlay or hierarchy error but I'm not sure.</p>\n<pre><code>public class Frame extends JFrame implements MouseInputListener{\n    static Dimension windowSize = Toolkit.getDefaultToolkit().getScreenSize();\n    static int windowWidth = (int) windowSize.getWidth();\n    static int windowHeight = (int) windowSize.getHeight();\n    TopBar design = new TopBar(windowWidth, windowHeight);\n    public Frame(){\n    EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run(){\n            setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n            pack();\n            setSize(windowSize);\n            setLocationRelativeTo(null); \n            setVisible(true);\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setResizable(true);\n            add(design);\n            setState(java.awt.Frame.NORMAL);\n            //setBackground(Color.decode(&quot;#449d9d&quot;));\n        }\n    });\n    addMouseListener(this);\n    addMouseMotionListener(this);\n    }   \n    @Override\n    public void mouseClicked(MouseEvent e) { \n    }\n    @Override\n    public void mousePressed(MouseEvent e) {  \n    }\n    @Override\n    public void mouseReleased(MouseEvent e) { \n    }\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    }\n    @Override\n    public void mouseExited(MouseEvent e) {\n\n    }\n    @Override\n    public void mouseDragged(MouseEvent e) { \n    }\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        System.out.println(getWidth() + &quot; &quot; + getHeight());\n        remove(design);\n        windowWidth = getWidth();\n        windowHeight = getHeight();\n        design = new TopBar(windowWidth, windowHeight);\n        add(design);\n    }}\n</code></pre>\n<p>and</p>\n<pre><code>public class TopBar extends JPanel{\nint windowWidth;\nint windowHeight;\npublic class resourcesButton extends JButton implements MouseInputListener{\n    public resourcesButton(int windowWidth, int windowHeight){\n        setText(&quot;Resourses&quot;);\n        setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 24));\n        setBorder(new RoundedBorder(Color.decode(&quot;#f75280&quot;),2,16,16));\n        setBackground(Color.decode(&quot;#f75280&quot;));\n        setForeground(Color.decode(&quot;#0c120c&quot;));\n        setOpaque(true);\n        setCursor(new Cursor(Cursor.HAND_CURSOR));\n        setBounds((int)(windowWidth/1.5), (int)(windowHeight/6.5)/2/3, (int)(windowWidth/8.33), (int)(9*(windowWidth/8.33)/16));\n        setHorizontalAlignment(SwingConstants.CENTER);\n        setVerticalAlignment(SwingConstants.CENTER);\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mousePressed(MouseEvent e) {}\n    @Override\n    public void mouseReleased(MouseEvent e) {}\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        setCursor(new Cursor(Cursor.HAND_CURSOR));\n    }\n    @Override\n    public void mouseExited(MouseEvent e) {\n        setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n    }\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(&quot;Check&quot;);\n    }\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n}\npublic class startButton extends JButton implements MouseInputListener{\n    public startButton(int windowWidth, int windowHeight){\n        setText(&quot;Start Diagnosis&quot;);\n        setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, windowHeight/45));\n        setBorder(new RoundedBorder(Color.decode(&quot;#f75280&quot;),2,16,16));\n        setBackground(Color.decode(&quot;#f75280&quot;));\n        setForeground(Color.decode(&quot;#0c120c&quot;));\n        setOpaque(true);\n        setCursor(new Cursor(Cursor.HAND_CURSOR));\n        setBounds((int)(windowWidth/1.25), (int)(windowHeight/6.5)/2/3, (int)(windowWidth/8.33), (int)(9*(windowWidth/8.33)/16));\n        setHorizontalAlignment(SwingConstants.CENTER);\n        setVerticalAlignment(SwingConstants.CENTER);\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mousePressed(MouseEvent e) {}\n    @Override\n    public void mouseReleased(MouseEvent e) {}\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        setCursor(new Cursor(Cursor.HAND_CURSOR));\n    }\n    @Override\n    public void mouseExited(MouseEvent e) {\n        setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n    }\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(&quot;Check&quot;);\n    }\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n}\npublic TopBar(int windowWidth, int windowHeight){\n    setLayout(null);\n    this.windowWidth = windowWidth;\n    this.windowHeight = windowHeight;\n    add(new resourcesButton(windowWidth, windowHeight));\n    add(new startButton(windowWidth, windowHeight));\n}\n@Override\nprotected void paintComponent (Graphics graphic){\n    BufferedImage logo = null;\n    try {\n        logo = ImageIO.read(new File(&quot;SySLogo.png&quot;));\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    super.paintComponent(graphic);\n    Graphics2D g2d = (Graphics2D) graphic.create();\n    g2d.setColor(Color.decode(&quot;#449d9d&quot;));\n    g2d.fillRect(0, 0, windowWidth, (int)(windowHeight/6.5));\n    try {\n        g2d.drawImage(resizeImage(logo, (int)(windowWidth/8.33), (int)(windowHeight/8.6481)), windowWidth/16, (int)(windowHeight/48), this);\n    } catch (IOException e) {\n        g2d.drawImage(logo, windowWidth/16, (int)(windowHeight/48), this);\n        e.printStackTrace();\n    }\n    g2d.setColor(Color.decode(&quot;#f2eee3&quot;));\n    g2d.drawLine(0, (int)(windowHeight/6.5), windowWidth, (int)(windowHeight/6.5));\n}\nprivate BufferedImage resizeImage(BufferedImage originalImage, int targetWidth, int targetHeight) throws IOException {\n    BufferedImage resizedImage = new BufferedImage(targetWidth, targetHeight, BufferedImage.TYPE_INT_RGB);\n    Graphics2D graphics2D = resizedImage.createGraphics();\n    graphics2D.drawImage(originalImage, 0, 0, targetWidth, targetHeight, null);\n    graphics2D.dispose();\n    return resizedImage;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tomcat","deployment"],"answers":[{"tags":[],"owner":{"account_id":26018164,"reputation":1,"user_id":19726217,"display_name":"SankarRaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661348281,"creation_date":1661320474,"answer_id":73468055,"question_id":73467869,"body_markdown":"    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;demo&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n===========\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication extends SpringBootServletInitializer {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n========\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class StudentController {\r\n    \r\n        @GetMapping(&quot;/students&quot;)\r\n        public List&lt;Student&gt; getStudents() {\r\n            Student.builder().id(1).name(&quot;test&quot;).build();\r\n            return Stream.of(Student.builder().id(1).name(&quot;test&quot;).build()).collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n=======\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    @Builder\r\n    @Data\r\n    public class Student {\r\n    \r\n        private long id;\r\n        private String name;\r\n    \r\n    }\r\n\r\n[External tomcat application deployed logs][1]\r\n\r\n[Access endpoint from Browser][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MCYLG.png\r\n  [2]: https://i.stack.imgur.com/MNvla.png","title":"i have created my application as jar after changed into war file Now i am getting 404 error in my application while deploying in it tomcat 8.5.9","body":"<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;demo&lt;/finalName&gt;\n&lt;/build&gt;\n</code></pre>\n\n===========\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoApplication extends SpringBootServletInitializer {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>========</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class StudentController {\n\n    @GetMapping(&quot;/students&quot;)\n    public List&lt;Student&gt; getStudents() {\n        Student.builder().id(1).name(&quot;test&quot;).build();\n        return Stream.of(Student.builder().id(1).name(&quot;test&quot;).build()).collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>=======</p>\n<pre><code>import lombok.Builder;\nimport lombok.Data;\n\n@Builder\n@Data\npublic class Student {\n\n    private long id;\n    private String name;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MCYLG.png\" rel=\"nofollow noreferrer\">External tomcat application deployed logs</a></p>\n<p><a href=\"https://i.stack.imgur.com/MNvla.png\" rel=\"nofollow noreferrer\">Access endpoint from Browser</a></p>\n"}],"owner":{"account_id":26135934,"reputation":11,"user_id":19825926,"display_name":"Shalini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661409602,"creation_date":1661319165,"question_id":73467869,"body_markdown":"@SpringBootApplication\r\n        public class SpringApiApplication extends SpringBootServletInitializer implements WebApplicationInitializer\r\n        {\r\n        \t@Override\r\n        \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        \t\treturn application.sources(SpringApiApplication.class);\r\n        \t}\r\n             public static void main(String[] args) throws Exception{\r\n        \t\tSpringApplication.run(SpringApiApplication.class, args);\r\n        \t}\r\n        }\r\n    \r\n\r\n    *This is my controller page*\r\n\r\n    package com.javaproject.springapi.controller;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.javaproject.springapi.model.Student;\r\n    import com.javaproject.springapi.service.StudentService;\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot; )\r\n    public class StudentController {\r\n       \r\n    \tprivate StudentService studentService;\r\n    \r\n    \tpublic StudentController(StudentService studentService) {\r\n    \t\tsuper();\r\n    \t\tthis.studentService = studentService;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@PostMapping()\r\n    \tpublic ResponseEntity&lt; Student&gt; addStudent(@RequestBody Student student){\r\n    \t\t\r\n         return new ResponseEntity&lt;Student&gt; (studentService.addStudent(student),HttpStatus.CREATED);\r\n    \t\t\r\n    \t}\r\n    \t\r\n        @GetMapping\r\n    \tpublic List&lt;Student&gt; getStudents(){\r\n    \t\t\r\n    \t\treturn studentService.getStudents();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t  * get student by id*\r\n    \t@GetMapping(&quot;{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Student&gt; getStudentById(@PathVariable(&quot;id&quot;)long stuId){\r\n    \t\treturn new   ResponseEntity&lt;Student&gt;(studentService.getStudentById(stuId),HttpStatus.OK);\r\n    \t\t}\r\n    \t\r\n    \t*Update Method*\r\n    \t\r\n      @PutMapping(&quot;{id}&quot;)\r\n    \t\r\n    \tpublic ResponseEntity&lt;Student&gt; updateStudent(@PathVariable(&quot;id&quot;)long id\r\n    \t                                            ,@RequestBody Student student){\r\n    \t\r\n    \treturn new ResponseEntity&lt;Student&gt; (studentService.updateStudent(student, id),HttpStatus.OK);\r\n    \t}\r\n    \t\r\n       * //Build Delete Method*\r\n      @DeleteMapping(&quot;{id}&quot;)\r\n      public ResponseEntity&lt;String&gt; deleteStudent(@PathVariable(&quot;id&quot;)long id){\r\n    \t\t           studentService.deleteStudent(id); \r\n    \t\t           \r\n    \t  return new ResponseEntity&lt;String&gt;(&quot;Employee Deleted Successfully!.&quot;,HttpStatus.OK);\r\n    \t  \r\n      }\r\n    \t\r\n    \t}\r\n    \r\n\r\n\r\n*This is my pom.xml*\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.springboot.app&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;springboot-war-demo&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n               *I created a war *\r\n        \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n        \t&lt;name&gt;springboot-war-demo&lt;/name&gt;\r\n        \t&lt;description&gt;Spring Boot WAR Demo&lt;/description&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"i have created my application as jar after changed into war file Now i am getting 404 error in my application while deploying in it tomcat 8.5.9","body":"<p>@SpringBootApplication\npublic class SpringApiApplication extends SpringBootServletInitializer implements WebApplicationInitializer\n{\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\nreturn application.sources(SpringApiApplication.class);\n}\npublic static void main(String[] args) throws Exception{\nSpringApplication.run(SpringApiApplication.class, args);\n}\n}</p>\n<pre><code>*This is my controller page*\n\npackage com.javaproject.springapi.controller;\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.javaproject.springapi.model.Student;\nimport com.javaproject.springapi.service.StudentService;\n@RestController\n@RequestMapping(&quot;/api&quot; )\npublic class StudentController {\n   \n    private StudentService studentService;\n\n    public StudentController(StudentService studentService) {\n        super();\n        this.studentService = studentService;\n    }\n    \n    \n    @PostMapping()\n    public ResponseEntity&lt; Student&gt; addStudent(@RequestBody Student student){\n        \n     return new ResponseEntity&lt;Student&gt; (studentService.addStudent(student),HttpStatus.CREATED);\n        \n    }\n    \n    @GetMapping\n    public List&lt;Student&gt; getStudents(){\n        \n        return studentService.getStudents();\n        \n    }\n    \n    \n      * get student by id*\n    @GetMapping(&quot;{id}&quot;)\n    public ResponseEntity&lt;Student&gt; getStudentById(@PathVariable(&quot;id&quot;)long stuId){\n        return new   ResponseEntity&lt;Student&gt;(studentService.getStudentById(stuId),HttpStatus.OK);\n        }\n    \n    *Update Method*\n    \n  @PutMapping(&quot;{id}&quot;)\n    \n    public ResponseEntity&lt;Student&gt; updateStudent(@PathVariable(&quot;id&quot;)long id\n                                                ,@RequestBody Student student){\n    \n    return new ResponseEntity&lt;Student&gt; (studentService.updateStudent(student, id),HttpStatus.OK);\n    }\n    \n   * //Build Delete Method*\n  @DeleteMapping(&quot;{id}&quot;)\n  public ResponseEntity&lt;String&gt; deleteStudent(@PathVariable(&quot;id&quot;)long id){\n                   studentService.deleteStudent(id); \n                   \n      return new ResponseEntity&lt;String&gt;(&quot;Employee Deleted Successfully!.&quot;,HttpStatus.OK);\n      \n  }\n    \n    }\n</code></pre>\n<p><em>This is my pom.xml</em>\n\n\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.3\n \n\ncom.springboot.app\nspringboot-war-demo\n0.0.1-SNAPSHOT\n*I created a war *\nwar\nspringboot-war-demo\nSpring Boot WAR Demo\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jframe","jpanel"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661407060,"post_id":73482451,"comment_id":129765657,"body_markdown":"the code you posted is either very incomplete, or won&#39;t compile. Can you show a minimal reproducible example?&#181;","body":"the code you posted is either very incomplete, or won&#39;t compile. Can you show a minimal reproducible example?&#181;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661408422,"post_id":73482451,"comment_id":129765997,"body_markdown":"you can&#39;t use access modifiers within methods. the code you posted won&#39;t compile. so, no, doesn&#39;t really help. Nor did you really minimize it.","body":"you can&#39;t use access modifiers within methods. the code you posted won&#39;t compile. so, no, doesn&#39;t really help. Nor did you really minimize it."},{"owner":{"account_id":26155155,"reputation":19,"user_id":19842480,"display_name":"Farhat Zaman"},"score":0,"creation_date":1661408882,"post_id":73482451,"comment_id":129766132,"body_markdown":"I have a table in a JFrame with 2 columns. I want to pass single selected row columns barcode and product name to text fields in a JPanel. From JFrame to JFrame it is simple but doesn&#39;t work for JFrame to JPanel.","body":"I have a table in a JFrame with 2 columns. I want to pass single selected row columns barcode and product name to text fields in a JPanel. From JFrame to JFrame it is simple but doesn&#39;t work for JFrame to JPanel."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661408971,"post_id":73482451,"comment_id":129766158,"body_markdown":"do you understand what &quot;minimal reproducible example&quot; means? Try with the least necessary code to reproduce the issue, and post that (exact) code. The code you posted will never compile, so there is no real wonder as to why it won&#39;t work.","body":"do you understand what &quot;minimal reproducible example&quot; means? Try with the least necessary code to reproduce the issue, and post that (exact) code. The code you posted will never compile, so there is no real wonder as to why it won&#39;t work."},{"owner":{"account_id":26155155,"reputation":19,"user_id":19842480,"display_name":"Farhat Zaman"},"score":0,"creation_date":1661409144,"post_id":73482451,"comment_id":129766222,"body_markdown":"It&#39;s a POS system where i want to populate product name and barcode from a popup table in JFrame. just selecting single row and click on add button to send data to Invoice Generating Screen Which is a JPanel.","body":"It&#39;s a POS system where i want to populate product name and barcode from a popup table in JFrame. just selecting single row and click on add button to send data to Invoice Generating Screen Which is a JPanel."},{"owner":{"account_id":26155155,"reputation":19,"user_id":19842480,"display_name":"Farhat Zaman"},"score":0,"creation_date":1661409194,"post_id":73482451,"comment_id":129766241,"body_markdown":"Sorry I am new here. I will fix it and update.","body":"Sorry I am new here. I will fix it and update."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661426951,"post_id":73482451,"comment_id":129772596,"body_markdown":"Why are you extending ```JPanel```  in &#39;SaleInv&#39; ? That&#39;s not a good name btw - it&#39;s cryptic and doesn&#39;t tell us *what* it is. &#39;PrdList&#39; is not a good name either. It should be something more like ```ProductLister```","body":"Why are you extending <code>JPanel</code>  in &#39;SaleInv&#39; ? That&#39;s not a good name btw - it&#39;s cryptic and doesn&#39;t tell us <i>what</i> it is. &#39;PrdList&#39; is not a good name either. It should be something more like <code>ProductLister</code>"},{"owner":{"account_id":26155155,"reputation":19,"user_id":19842480,"display_name":"Farhat Zaman"},"score":0,"creation_date":1661437424,"post_id":73482451,"comment_id":129776952,"body_markdown":"Can we pass values from jframe to jPanel ? if Possible how ?","body":"Can we pass values from jframe to jPanel ? if Possible how ?"}],"owner":{"account_id":26155155,"reputation":19,"user_id":19842480,"display_name":"Farhat Zaman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661409556,"creation_date":1661406449,"question_id":73482451,"body_markdown":"I have a PrdList JFrame where I have a table and a button which invokes an event to get selected row from table and populate 2 text boxes in another JPanel. It is working with JFrame and populating text boxes, but with JPanel it is not working.\r\n\r\n    public class PrdList extends javax.swing.JFrame {\r\n    \r\n                \r\n        public PrdList() {\r\n            initComponents();\r\n            tb_load();        \r\n        }    \r\n        \r\n        public void tb_load(){ \r\n      \r\n          try {          \r\n              DefaultTableModel dt = (DefaultTableModel) jTable1.getModel();\r\n              dt.setRowCount(0);\r\n              \r\n              Statement s = db.mycon().createStatement();\r\n              ResultSet rs = s.executeQuery(&quot; SELECT * FROM product&quot;);\r\n              \r\n              while (rs.next()) {     \r\n                  Vector v = new Vector();\r\n                  \r\n                  v.add(rs.getString(3));\r\n                  v.add(rs.getString(2));            \r\n                  \r\n                  dt.addRow(v);     \r\n              }\r\n          } catch (SQLException e) {\r\n              System.out.println(e);\r\n          }\r\n      }\r\n    \r\n     \r\n    \r\n    \r\nTable Row Selection\r\n\r\n    \r\n     \r\n    \r\n       private void jTable1KeyPressed(java.awt.event.KeyEvent evt) {                                   \r\n                // TODO add your handling code here:           \r\n               int r = jTable1.getSelectedRow();\r\n              \r\n               String name  = jTable1.getValueAt(r, 1).toString();\r\n               String bcode  = jTable1.getValueAt(r, 2).toString();\r\n    \r\nOpen JFrame\r\n\r\n    \r\n    public Test tst = new Test();    \r\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        tst.setVisible(true);\r\n    } \r\n\r\nNow Same thing is not working when i pass data to a JPanel text box\r\n    \r\n    \r\n    public class SaleInv extends javax.swing.JPanel {\r\n        public SaleInv() {\r\n            initComponents();\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private void initComponents() {\r\n            bcode_txt = new javax.swing.JTextField();\r\n            name_txt = new javax.swing.JTextField();\r\n    \r\n            \r\n        public javax.swing.JTextField bcode_txt;\r\n        public javax.swing.JTextField name_txt;\r\n    }\r\n    \r\n    public SaleInv saleinv = new SaleInv();\r\n\r\n\r\nButton Code to pupulate text fields in JPanel (Not working)\r\n    \r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n         int r = jTable1.getSelectedRow();\r\n         \r\n          String bcode = jTable1.getValueAt(r, 0).toString();\r\n          String name = jTable1.getValueAt(r, 1).toString();       \r\n         saleinv.bcode_txt.setText(bcode);\r\n         saleinv.name_txt.setText(name);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Passing Variable data from jframe to jpanel","body":"<p>I have a PrdList JFrame where I have a table and a button which invokes an event to get selected row from table and populate 2 text boxes in another JPanel. It is working with JFrame and populating text boxes, but with JPanel it is not working.</p>\n<pre><code>public class PrdList extends javax.swing.JFrame {\n\n            \n    public PrdList() {\n        initComponents();\n        tb_load();        \n    }    \n    \n    public void tb_load(){ \n  \n      try {          \n          DefaultTableModel dt = (DefaultTableModel) jTable1.getModel();\n          dt.setRowCount(0);\n          \n          Statement s = db.mycon().createStatement();\n          ResultSet rs = s.executeQuery(&quot; SELECT * FROM product&quot;);\n          \n          while (rs.next()) {     \n              Vector v = new Vector();\n              \n              v.add(rs.getString(3));\n              v.add(rs.getString(2));            \n              \n              dt.addRow(v);     \n          }\n      } catch (SQLException e) {\n          System.out.println(e);\n      }\n  }\n\n \n</code></pre>\n<p>Table Row Selection</p>\n<pre><code>   private void jTable1KeyPressed(java.awt.event.KeyEvent evt) {                                   \n            // TODO add your handling code here:           \n           int r = jTable1.getSelectedRow();\n          \n           String name  = jTable1.getValueAt(r, 1).toString();\n           String bcode  = jTable1.getValueAt(r, 2).toString();\n</code></pre>\n<p>Open JFrame</p>\n<pre><code>public Test tst = new Test();    \nprivate void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    // TODO add your handling code here:\n    tst.setVisible(true);\n} \n</code></pre>\n<p>Now Same thing is not working when i pass data to a JPanel text box</p>\n<pre><code>public class SaleInv extends javax.swing.JPanel {\n    public SaleInv() {\n        initComponents();\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private void initComponents() {\n        bcode_txt = new javax.swing.JTextField();\n        name_txt = new javax.swing.JTextField();\n\n        \n    public javax.swing.JTextField bcode_txt;\n    public javax.swing.JTextField name_txt;\n}\n\npublic SaleInv saleinv = new SaleInv();\n</code></pre>\n<p>Button Code to pupulate text fields in JPanel (Not working)</p>\n<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n     int r = jTable1.getSelectedRow();\n     \n      String bcode = jTable1.getValueAt(r, 0).toString();\n      String name = jTable1.getValueAt(r, 1).toString();       \n     saleinv.bcode_txt.setText(bcode);\n     saleinv.name_txt.setText(name);\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1661409459,"post_id":73479274,"comment_id":129766323,"body_markdown":"&quot;Questions seeking debugging help (&#39;**why isn&#39;t this code working?**&#39;) must include the desired behavior, a *specific problem or error* and *the shortest code necessary* to reproduce it **in the question itself**. Questions without **a clear problem statement** are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)&quot;","body":"&quot;Questions seeking debugging help (&#39;<b>why isn&#39;t this code working?</b>&#39;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example.</a>&quot;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661416611,"post_id":73479274,"comment_id":129768685,"body_markdown":"Maybe this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) or this [resource](https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8) will help.","body":"Maybe this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> or this <a href=\"https://medium.com/firebase-tips-tricks/how-to-handle-firebase-authentication-in-clean-architecture-using-jetpack-compose-e9929c0e31f8\" rel=\"nofollow noreferrer\">resource</a> will help."}],"owner":{"account_id":20970388,"reputation":25,"user_id":15407680,"display_name":"Erhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661409470,"creation_date":1661373861,"question_id":73479274,"body_markdown":"I&#39;m using firebase auth as login method in android mobile app. If there is an existing user in the app, I point him to the event. But when I delete or disable this user in firebase, the user can continue to use the app as it is currently registered in the app. What I want to do is, when I delete the user, the user should open the application and go to the login screen. I tried the onStateChange method, but it didn&#39;t work when the app was closed. I am waiting for your return. Have a nice day.","title":"Firebase Authencation","body":"<p>I'm using firebase auth as login method in android mobile app. If there is an existing user in the app, I point him to the event. But when I delete or disable this user in firebase, the user can continue to use the app as it is currently registered in the app. What I want to do is, when I delete the user, the user should open the application and go to the login screen. I tried the onStateChange method, but it didn't work when the app was closed. I am waiting for your return. Have a nice day.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1652702252,"post_id":72258605,"comment_id":127661973,"body_markdown":"for such a big contributor having this kind of reputation I think it was just a quick mistake that the code was posted as a screenshot. Could you please update it to match the SO guidelines?","body":"for such a big contributor having this kind of reputation I think it was just a quick mistake that the code was posted as a screenshot. Could you please update it to match the SO guidelines?"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1652702593,"post_id":72258605,"comment_id":127662101,"body_markdown":"@PanagiotisBougioukos I just added the reference image for quick understanding. I have removed now to avoid confusion.","body":"@PanagiotisBougioukos I just added the reference image for quick understanding. I have removed now to avoid confusion."},{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1652703255,"post_id":72258605,"comment_id":127662304,"body_markdown":"Does this answer your question? [JSR-303 validation groups define a default group](https://stackoverflow.com/questions/35358447/jsr-303-validation-groups-define-a-default-group)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35358447/jsr-303-validation-groups-define-a-default-group\">JSR-303 validation groups define a default group</a>"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1652703999,"post_id":72258605,"comment_id":127662583,"body_markdown":"@tbjorch  I&#39;m asking about validation groups length issue, but you mentioned it duplicate question. Is it solving this question?","body":"@tbjorch  I&#39;m asking about validation groups length issue, but you mentioned it duplicate question. Is it solving this question?"},{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1652706034,"post_id":72258605,"comment_id":127663288,"body_markdown":"@Ranjithkumar by looking into my suggested SO post you&#39;ll see that there are possibilities of extending the interfaces from e.g. Default group... alt. if you elaborate one step further on it, you can define multiple levels of validation groups which you can extend instead of listing 10-20 interfaces like you do","body":"@Ranjithkumar by looking into my suggested SO post you&#39;ll see that there are possibilities of extending the interfaces from e.g. Default group... alt. if you elaborate one step further on it, you can define multiple levels of validation groups which you can extend instead of listing 10-20 interfaces like you do"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652706078,"post_id":72258605,"comment_id":127663306,"body_markdown":"https://stackoverflow.com/a/42595583/4571544","body":"<a href=\"https://stackoverflow.com/a/42595583/4571544\">stackoverflow.com/a/42595583/4571544</a>"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1652706464,"post_id":72258605,"comment_id":127663454,"body_markdown":"@dekkard it seems it was the best way. I will check and let you know","body":"@dekkard it seems it was the best way. I will check and let you know"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":1,"creation_date":1652707444,"post_id":72258605,"comment_id":127663880,"body_markdown":"@tbjorch ohh ok. Got your point now. Thanks for the idea!","body":"@tbjorch ohh ok. Got your point now. Thanks for the idea!"}],"answers":[{"tags":[],"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652705458,"creation_date":1652705074,"answer_id":72259414,"question_id":72258605,"body_markdown":"Does it more readable and editable than one line code?\r\n\r\n    public class RequestDto {\r\n        @Min(\r\n                groups = {\r\n                        ConformFtthCreateRequestByAsherOtp.class,\r\n                        ConformFtthCreateRequestInstallationAppointmentByServiceSeeker.class,\r\n                        ConformFtthCreateRequestInstallationCompletionByServiceProvider.class,\r\n                        ConformFtthCreateRequestIssuerCompletedByServiceProvider.class,\r\n                        ConformFtthCreateRequestIssuerCompletedByServiceSeeker.class,\r\n                        CancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\r\n                        ConformCancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\r\n                        FtthStatusRequestValidator.class,\r\n                        ConformFtthCancelRequestValidator.class,\r\n                        RescheduleServiceSeekerFtthCreateRequest.class,\r\n                        ConfirmRescheduleServiceSeekerFtthCreateRequest.class\r\n                },\r\n                value = 1,\r\n                message = EValidationErrorMessage.MISSING_FIELD\r\n        )\r\n        @NotNull(\r\n                groups = {\r\n                        ConformFtthCreateRequestByAsherOtp.class,\r\n                        ConformFtthCreateRequestInstallationAppointmentByServiceSeeker.class,\r\n                        ConformFtthCreateRequestInstallationCompletionByServiceProvider.class,\r\n                        ConformFtthCreateRequestIssuerCompletedByServiceProvider.class,\r\n                        ConformFtthCreateRequestIssuerCompletedByServiceSeeker.class,\r\n                        CancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\r\n                        ConformCancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\r\n                        FtthStatusRequestValidator.class,\r\n                        ConformFtthCancelRequestValidator.class,\r\n                        RescheduleServiceSeekerFtthCreateRequest.class,\r\n                        ConfirmRescheduleServiceSeekerFtthCreateRequest.class\r\n                },\r\n                message = EValidationErrorMessage.MISSING_FIELD\r\n        )\r\n        private Long id;\r\n    }","title":"Best way to write validation groups in Spring Boot","body":"<p>Does it more readable and editable than one line code?</p>\n<pre><code>public class RequestDto {\n    @Min(\n            groups = {\n                    ConformFtthCreateRequestByAsherOtp.class,\n                    ConformFtthCreateRequestInstallationAppointmentByServiceSeeker.class,\n                    ConformFtthCreateRequestInstallationCompletionByServiceProvider.class,\n                    ConformFtthCreateRequestIssuerCompletedByServiceProvider.class,\n                    ConformFtthCreateRequestIssuerCompletedByServiceSeeker.class,\n                    CancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\n                    ConformCancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\n                    FtthStatusRequestValidator.class,\n                    ConformFtthCancelRequestValidator.class,\n                    RescheduleServiceSeekerFtthCreateRequest.class,\n                    ConfirmRescheduleServiceSeekerFtthCreateRequest.class\n            },\n            value = 1,\n            message = EValidationErrorMessage.MISSING_FIELD\n    )\n    @NotNull(\n            groups = {\n                    ConformFtthCreateRequestByAsherOtp.class,\n                    ConformFtthCreateRequestInstallationAppointmentByServiceSeeker.class,\n                    ConformFtthCreateRequestInstallationCompletionByServiceProvider.class,\n                    ConformFtthCreateRequestIssuerCompletedByServiceProvider.class,\n                    ConformFtthCreateRequestIssuerCompletedByServiceSeeker.class,\n                    CancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\n                    ConformCancelServiceSeekerFtthCreateRequestByServiceSeeker.class,\n                    FtthStatusRequestValidator.class,\n                    ConformFtthCancelRequestValidator.class,\n                    RescheduleServiceSeekerFtthCreateRequest.class,\n                    ConfirmRescheduleServiceSeekerFtthCreateRequest.class\n            },\n            message = EValidationErrorMessage.MISSING_FIELD\n    )\n    private Long id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652709784,"creation_date":1652709784,"answer_id":72260481,"question_id":72258605,"body_markdown":"Utilize polymorphism. Add another layer of validation interfaces to group the ones you have, and from each individual validation group interface, you extend your &quot;base&quot; validation interfaces.\r\n\r\n```java\r\npublic interface BaseValidation {}\r\n\r\npublic interface ValidationGroupA extends BaseValidation {}\r\n\r\npublic interface ValidationGroupB extends BaseValidation {}\r\n\r\npublic class Dto {\r\n  @NotEmpty(groups = BaseValidation.class)\r\n  private String value;\r\n\r\n  // When validating the Dto object with a validation interface that extends the BaseValidation interface, we will still get violations.\r\n  public static void main(String[] args) {\r\n    Dto dtoWithValue = new Dto();\r\n    dtoWithValue.setValue(&quot;Has A Value&quot;);\r\n    Dto dtoWithoutValue = new Dto();\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = factory.getValidator();\r\n    Set&lt;ConstraintViolation&lt;Dto&gt;&gt; violations = validator.validate(dtoWithoutValue, ValidationInterfaceA.class);\r\n\r\n    // Should have 1 constraint violation since ValidationInterfaceA extends BaseValidation which is violated.\r\n    System.out.println(violations.size());\r\n\r\n    violations = validator.validate(dtoWithValue, ValidationInterfaceA.class);\r\n\r\n    // Should have 0 constraint violation since ValidationInterfaceA extends BaseValidation which is not violated.\r\n    System.out.println(violations.size());\r\n  }\r\n}\r\n\r\n```","title":"Best way to write validation groups in Spring Boot","body":"<p>Utilize polymorphism. Add another layer of validation interfaces to group the ones you have, and from each individual validation group interface, you extend your &quot;base&quot; validation interfaces.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseValidation {}\n\npublic interface ValidationGroupA extends BaseValidation {}\n\npublic interface ValidationGroupB extends BaseValidation {}\n\npublic class Dto {\n  @NotEmpty(groups = BaseValidation.class)\n  private String value;\n\n  // When validating the Dto object with a validation interface that extends the BaseValidation interface, we will still get violations.\n  public static void main(String[] args) {\n    Dto dtoWithValue = new Dto();\n    dtoWithValue.setValue(&quot;Has A Value&quot;);\n    Dto dtoWithoutValue = new Dto();\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;Dto&gt;&gt; violations = validator.validate(dtoWithoutValue, ValidationInterfaceA.class);\n\n    // Should have 1 constraint violation since ValidationInterfaceA extends BaseValidation which is violated.\n    System.out.println(violations.size());\n\n    violations = validator.validate(dtoWithValue, ValidationInterfaceA.class);\n\n    // Should have 0 constraint violation since ValidationInterfaceA extends BaseValidation which is not violated.\n    System.out.println(violations.size());\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661409282,"creation_date":1652701143,"question_id":72258605,"body_markdown":"I&#39;m new to Spring boot development.\r\n\r\n\r\nWe are using validation groups to validate our request. \r\n\r\nIt&#39;s helpful for avoiding duplicate class creation. \r\n\r\n\r\n\r\n\r\n**Problem:**\r\n\r\nBut the problem is if we need same variable for multiple group code become very larger and difficult to add another group (because we need to scroll all the classes)\r\n\r\nIf we work with the team, it creates code merging issues also. \r\n\r\n\r\n**My code:**\r\n\r\n    public class RequestDto {\r\n\r\n    @Min(groups = {ConformCreateRequest.class, ConformCreateRequestInstallationAppointment.class, ConformCreateRequestInstallationCompletion.class, ConformCreateRequestIssuerCompletedBy.class, ConformCreateRequestIssuerCompleted.class, CancelCreateRequest.class, ConformCancelCreateRequest.class, StatusRequestValidator.class, ConformCancelRequestValidator.class,RescheduleCreateRequest.class,ConfirmRescheduleCreateRequest.class}, value = 1, message = EValidationErrorMessage.MISSING_FIELD)\r\n    @NotNull(groups = {ConformCreateRequestByAsherOtp.class, ConformCreateRequestInstallationAppointment.class, ConformCreateRequestInstallationCompletion.class, ConformCreateRequestIssuerCompleted.class, ConformCreateRequestIssuerCompleted.class, CancelCreateRequest.class, ConformCancelCreateRequest.class, StatusRequestValidator.class, ConformCancelRequestValidator.class,RescheduleCreateRequest.class,ConfirmRescheduleCreateRequest.class}, message = EValidationErrorMessage.MISSING_FIELD)\r\n    private Long id;\r\n\r\n\r\n\r\nHow to overcome this length issue or any other smart way to handle this?\r\n\r\n**Edit:** \r\n\r\nI&#39;m not asking how to set Default group? \r\nI&#39;m asking what&#39;s the best way if we have multiple validation groups. In the above example, I have 15 validation groups, In future it will increase. It&#39;s hard to add/edit a new group after it become bigger.\r\n\r\n  [1]: https://i.stack.imgur.com/xaWgj.png","title":"Best way to write validation groups in Spring Boot","body":"<p>I'm new to Spring boot development.</p>\n<p>We are using validation groups to validate our request.</p>\n<p>It's helpful for avoiding duplicate class creation.</p>\n<p><strong>Problem:</strong></p>\n<p>But the problem is if we need same variable for multiple group code become very larger and difficult to add another group (because we need to scroll all the classes)</p>\n<p>If we work with the team, it creates code merging issues also.</p>\n<p><strong>My code:</strong></p>\n<pre><code>public class RequestDto {\n\n@Min(groups = {ConformCreateRequest.class, ConformCreateRequestInstallationAppointment.class, ConformCreateRequestInstallationCompletion.class, ConformCreateRequestIssuerCompletedBy.class, ConformCreateRequestIssuerCompleted.class, CancelCreateRequest.class, ConformCancelCreateRequest.class, StatusRequestValidator.class, ConformCancelRequestValidator.class,RescheduleCreateRequest.class,ConfirmRescheduleCreateRequest.class}, value = 1, message = EValidationErrorMessage.MISSING_FIELD)\n@NotNull(groups = {ConformCreateRequestByAsherOtp.class, ConformCreateRequestInstallationAppointment.class, ConformCreateRequestInstallationCompletion.class, ConformCreateRequestIssuerCompleted.class, ConformCreateRequestIssuerCompleted.class, CancelCreateRequest.class, ConformCancelCreateRequest.class, StatusRequestValidator.class, ConformCancelRequestValidator.class,RescheduleCreateRequest.class,ConfirmRescheduleCreateRequest.class}, message = EValidationErrorMessage.MISSING_FIELD)\nprivate Long id;\n</code></pre>\n<p>How to overcome this length issue or any other smart way to handle this?</p>\n<p><strong>Edit:</strong></p>\n<p>I'm not asking how to set Default group?\nI'm asking what's the best way if we have multiple validation groups. In the above example, I have 15 validation groups, In future it will increase. It's hard to add/edit a new group after it become bigger.</p>\n"},{"tags":["java","foreach","stream"],"comments":[{"owner":{"account_id":32819,"reputation":1897,"user_id":91336,"display_name":"David"},"score":1,"creation_date":1661403283,"post_id":73481979,"comment_id":129764880,"body_markdown":"I wouldn&#39;t flag this in a code review- the example is clear in it&#39;s intent, so it&#39;s a winner","body":"I wouldn&#39;t flag this in a code review- the example is clear in it&#39;s intent, so it&#39;s a winner"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1661404076,"post_id":73481979,"comment_id":129765007,"body_markdown":"What do you mean by a &quot;better&quot; way? Your current way is good enough.","body":"What do you mean by a &quot;better&quot; way? Your current way is good enough."},{"owner":{"account_id":20916344,"reputation":13,"user_id":15365926,"display_name":"confuseddev"},"score":0,"creation_date":1661405480,"post_id":73481979,"comment_id":129765311,"body_markdown":"I was looking for something using streams which could directly do this and remove the if block","body":"I was looking for something using streams which could directly do this and remove the if block"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1661458649,"post_id":73481979,"comment_id":129784228,"body_markdown":"With streams, this would be more complicated and harder to read.  You&#39;ll still have to encode the conditional logic somehow, which is nastier with streams.","body":"With streams, this would be more complicated and harder to read.  You&#39;ll still have to encode the conditional logic somehow, which is nastier with streams."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661408478,"creation_date":1661408478,"answer_id":73482772,"question_id":73481979,"body_markdown":"An alternative:\r\n```\r\nList&lt;Filter&gt; filters = ...\r\nif (filters.isEmpty()) {\r\n    filters = Collections.singleton(null);\r\n}\r\nfilters.forEach(filter -&gt; callAPI(someId, filter));\r\n```\r\nDifference: processing is done after the if, so that callAPI is called from a single location.","title":"Java stream run atleast once","body":"<p>An alternative:</p>\n<pre><code>List&lt;Filter&gt; filters = ...\nif (filters.isEmpty()) {\n    filters = Collections.singleton(null);\n}\nfilters.forEach(filter -&gt; callAPI(someId, filter));\n</code></pre>\n<p>Difference: processing is done after the if, so that callAPI is called from a single location.</p>\n"}],"owner":{"account_id":20916344,"reputation":13,"user_id":15365926,"display_name":"confuseddev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661408478,"creation_date":1661402889,"question_id":73481979,"body_markdown":"I have a list: `List&lt;Filter&gt;`. I want to make a call to a downstream API which can only take a single `Filter` in it&#39;s request. So I can do something like this:\r\n\r\n```\r\nfilters.forEach(filter -&gt; callAPI(someId, filter);\r\n```\r\n\r\nThe problem with this is if the filters are empty, I won&#39;t even make a single call to the API. To solve this I tried something like this:\r\n\r\n```\r\nif (filters.isEmpty()) {\r\n    callAPI(someId, null);\r\n} else {\r\n    filters.forEach(filter -&gt; callAPI(someId, filter);\r\n}\r\n```\r\n\r\nIs there a better way of doing this ?","title":"Java stream run atleast once","body":"<p>I have a list: <code>List&lt;Filter&gt;</code>. I want to make a call to a downstream API which can only take a single <code>Filter</code> in it's request. So I can do something like this:</p>\n<pre><code>filters.forEach(filter -&gt; callAPI(someId, filter);\n</code></pre>\n<p>The problem with this is if the filters are empty, I won't even make a single call to the API. To solve this I tried something like this:</p>\n<pre><code>if (filters.isEmpty()) {\n    callAPI(someId, null);\n} else {\n    filters.forEach(filter -&gt; callAPI(someId, filter);\n}\n</code></pre>\n<p>Is there a better way of doing this ?</p>\n"},{"tags":["java","macos","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1661393828,"post_id":73480856,"comment_id":129763664,"body_markdown":"Can you show the `java.jdt.ls.java.home` you configured in **settings.json**?","body":"Can you show the <code>java.jdt.ls.java.home</code> you configured in <b>settings.json</b>?"},{"owner":{"account_id":26154302,"reputation":41,"user_id":19841740,"display_name":"Wheat3"},"score":0,"creation_date":1661398570,"post_id":73480856,"comment_id":129764254,"body_markdown":"&quot;java.jdt.ls.java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk&quot;,","body":"&quot;java.jdt.ls.java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk&quot;,"},{"owner":{"account_id":26154302,"reputation":41,"user_id":19841740,"display_name":"Wheat3"},"score":0,"creation_date":1661718180,"post_id":73480856,"comment_id":129832845,"body_markdown":"Update: I am now using Eclipse.","body":"Update: I am now using Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661407740,"creation_date":1661407740,"answer_id":73482657,"question_id":73480856,"body_markdown":"#### Follow this [tutorial][1] to get started with Java in VS Code.\r\n \r\nBy default, Java programs can run normally without setting `java.jdt.ls.java.home`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you need to specify the JDK, you can use the following configuration in the **settings.json**\r\n\r\n```json\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-8.0.332.9-hotspot&quot;,\r\n            &quot;default&quot; : true,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\r\n        },\r\n    ],\r\n```\r\n\r\n*It can also be selected in the **JAVA PROJECTS** panel*\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou can also use `java.jdt.ls.java.home` to specify the folder path to the JDK (17 or more recent) used to launch the Java Language Server.\r\n\r\n```json\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;c:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\r\n```\r\n\r\n***The above paths are the folders where Java is installed, not `Java.exe`.***\r\n\r\n### About JAVA_HOME\r\n\r\nThis is an environment variable set for your system so that Java commands are available anywhere on your machine.\r\n\r\n*Take **windows** as an example (sorry I don&#39;t have a **mac**)*\r\n\r\n- Add `JAVA_HOME` to system environment variables\r\n\r\n   [![enter image description here][4]][4]\r\n\r\n- Then add the java path to path\r\n\r\n   [![enter image description here][5]][5]\r\n\r\n*The effect is equivalent to adding the Java `bin` path directly to the **Path***\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial/ &quot;Java tutorial&quot;\r\n  [2]: https://i.stack.imgur.com/yNoNm.png\r\n  [3]: https://i.stack.imgur.com/bqivx.png\r\n  [4]: https://i.stack.imgur.com/5hxHO.png\r\n  [5]: https://i.stack.imgur.com/ZYKug.png","title":"Visual Studio Code will not recognize any JDKs","body":"<h4>Follow this <a href=\"https://code.visualstudio.com/docs/java/java-tutorial/\" rel=\"nofollow noreferrer\" title=\"Java tutorial\">tutorial</a> to get started with Java in VS Code.</h4>\n<p>By default, Java programs can run normally without setting <code>java.jdt.ls.java.home</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/yNoNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNoNm.png\" alt=\"enter image description here\" /></a></p>\n<p>If you need to specify the JDK, you can use the following configuration in the <strong>settings.json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-8.0.332.9-hotspot&quot;,\n            &quot;default&quot; : true,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\n        },\n    ],\n</code></pre>\n<p><em>It can also be selected in the <strong>JAVA PROJECTS</strong> panel</em></p>\n<p><a href=\"https://i.stack.imgur.com/bqivx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqivx.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also use <code>java.jdt.ls.java.home</code> to specify the folder path to the JDK (17 or more recent) used to launch the Java Language Server.</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.jdt.ls.java.home&quot;: &quot;c:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\n</code></pre>\n<p><em><strong>The above paths are the folders where Java is installed, not <code>Java.exe</code>.</strong></em></p>\n<h3>About JAVA_HOME</h3>\n<p>This is an environment variable set for your system so that Java commands are available anywhere on your machine.</p>\n<p><em>Take <strong>windows</strong> as an example (sorry I don't have a <strong>mac</strong>)</em></p>\n<ul>\n<li><p>Add <code>JAVA_HOME</code> to system environment variables</p>\n<p><a href=\"https://i.stack.imgur.com/5hxHO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hxHO.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Then add the java path to path</p>\n<p><a href=\"https://i.stack.imgur.com/ZYKug.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZYKug.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p><em>The effect is equivalent to adding the Java <code>bin</code> path directly to the <strong>Path</strong></em></p>\n"}],"owner":{"account_id":26154302,"reputation":41,"user_id":19841740,"display_name":"Wheat3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73482657,"answer_count":1,"score":3,"last_activity_date":1661407740,"creation_date":1661389442,"question_id":73480856,"body_markdown":"I am fairly new at this so please be patient as I will not always know what you are talking about and may not know what information is helpful to provide. I am trying to set up VSCode as my IDE for java on my macOS Monterey 12.3.1 device. I have the Java Extension Pack that Microsoft recommends. \r\n\r\nAnytime I open a .java file, I get an error notification saying &quot;The java.jdt.ls.java.home variable defined in Visual Studio Code settings does not point to a JDK. Source: Language Support for Java by Red Hat.&quot;\r\n\r\nThe variable it is talking about, I copied the path directly from the jdk folder that is returned when I run &quot;java -version&quot; through the terminal. Any other jdk version I have tried, it also does not recognize. Even when I go through VSCode and click &quot;locate an existing jdk&quot; and point it to the location, it tells me the folder I&#39;ve selected is not a jdk.\r\n\r\nI have deleted and reinstalled all of my jdks as well as VSC several times. I even tried downloading the package of VSC, a JDK, and the java extensions that Microsoft put together. I do not know what else to do. \r\n\r\nI have seen some online forums talking about the environment variable JAVA_HOME, but I am having trouble grasping the concept or understanding what I can do with that information. \r\n\r\nPlease let me know if you have any suggestions or if you need me to provide more information. Thank you!","title":"Visual Studio Code will not recognize any JDKs","body":"<p>I am fairly new at this so please be patient as I will not always know what you are talking about and may not know what information is helpful to provide. I am trying to set up VSCode as my IDE for java on my macOS Monterey 12.3.1 device. I have the Java Extension Pack that Microsoft recommends.</p>\n<p>Anytime I open a .java file, I get an error notification saying &quot;The java.jdt.ls.java.home variable defined in Visual Studio Code settings does not point to a JDK. Source: Language Support for Java by Red Hat.&quot;</p>\n<p>The variable it is talking about, I copied the path directly from the jdk folder that is returned when I run &quot;java -version&quot; through the terminal. Any other jdk version I have tried, it also does not recognize. Even when I go through VSCode and click &quot;locate an existing jdk&quot; and point it to the location, it tells me the folder I've selected is not a jdk.</p>\n<p>I have deleted and reinstalled all of my jdks as well as VSC several times. I even tried downloading the package of VSC, a JDK, and the java extensions that Microsoft put together. I do not know what else to do.</p>\n<p>I have seen some online forums talking about the environment variable JAVA_HOME, but I am having trouble grasping the concept or understanding what I can do with that information.</p>\n<p>Please let me know if you have any suggestions or if you need me to provide more information. Thank you!</p>\n"},{"tags":["java","state","state-machine","state-pattern"],"comments":[{"owner":{"account_id":4215774,"reputation":524,"user_id":3452039,"display_name":"Mehdi Benmesssaoud"},"score":0,"creation_date":1566947752,"post_id":57661787,"comment_id":101812765,"body_markdown":"you can use spring-state-machine https://projects.spring.io/spring-statemachine/ very neat and easy to use","body":"you can use spring-state-machine <a href=\"https://projects.spring.io/spring-statemachine/\" rel=\"nofollow noreferrer\">projects.spring.io/spring-statemachine</a> very neat and easy to use"}],"answers":[{"tags":[],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566939949,"creation_date":1566842519,"answer_id":57662756,"question_id":57661787,"body_markdown":"One of the simple variants is to save transitions in a form of `I want to transition from X to Y while applying this function`. Enums make a good fit to enumerate all possible / valid states in a state machine. We need something to hold on to our state transitions - maybe a `Map&lt;StateType, StateType&gt;` ? But we also need some sort of `State` object and a way to modify it - we need a `Map&lt;StateType, Map&lt;StateType, Transition&gt;&gt;`. See below for some compiling sample code that should get you started. You can expose the `State` object however you like (maybe make it immutable?) and add transitions on the fly.\r\n\r\n    import java.util.EnumMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    \r\n    class StackOverflowQuestion57661787 {\r\n        enum StateType {\r\n            PENDING,\r\n            ACTIVE,\r\n            DONE\r\n        }\r\n    \r\n        //Made the name explicit here to ease readability\r\n        public interface Transition extends Function&lt;State, State&gt; { }\r\n    \r\n        public static class State {\r\n            public StateType type;\r\n            //TODO: some real data to manipulate, or make it immutable\r\n            public Object data;\r\n        }\r\n    \r\n        public static class StateMachine {\r\n            private final Map&lt;StateType, Map&lt;StateType, Transition&gt;&gt; transitions =\r\n                    new EnumMap&lt;&gt;(StateType.class);\r\n            private State state;\r\n    \r\n            public StateMachine(State initialState) {\r\n                this.state = initialState;\r\n                for (StateType value : StateType.values()) {\r\n                    transitions.put(value, new EnumMap&lt;&gt;(StateType.class));\r\n                }\r\n            }\r\n    \r\n            public void addTransition(\r\n                    StateType input,\r\n                    StateType output,\r\n                    Transition transition\r\n            ) {\r\n                //TODO: handle collisions? multiple transitions for a given \r\n                // output statetype seems like a strange use-case\r\n                transitions.get(input).put(output, transition);\r\n            }\r\n    \r\n            public void moveTo(StateType toType) {\r\n                Transition transition = transitions.get(state.type).get(toType);\r\n                if (transition == null) {\r\n                    //TODO: handle me\r\n                    throw new RuntimeException();\r\n                }\r\n                //transition should modify the states &quot;type&quot; too OR\r\n                //you implement it here\r\n                state = transition.apply(state);\r\n            }\r\n    \r\n            public State getState() {\r\n                return state;\r\n            }\r\n        }\r\n    }\r\n\r\nYou will have to reach for a more sophisticated / abstracted solution if your `State` objects type is dependent on the current `StateType`.","title":"State Machine approach for simple state transitions","body":"<p>One of the simple variants is to save transitions in a form of <code>I want to transition from X to Y while applying this function</code>. Enums make a good fit to enumerate all possible / valid states in a state machine. We need something to hold on to our state transitions - maybe a <code>Map&lt;StateType, StateType&gt;</code> ? But we also need some sort of <code>State</code> object and a way to modify it - we need a <code>Map&lt;StateType, Map&lt;StateType, Transition&gt;&gt;</code>. See below for some compiling sample code that should get you started. You can expose the <code>State</code> object however you like (maybe make it immutable?) and add transitions on the fly.</p>\n\n<pre><code>import java.util.EnumMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\nclass StackOverflowQuestion57661787 {\n    enum StateType {\n        PENDING,\n        ACTIVE,\n        DONE\n    }\n\n    //Made the name explicit here to ease readability\n    public interface Transition extends Function&lt;State, State&gt; { }\n\n    public static class State {\n        public StateType type;\n        //TODO: some real data to manipulate, or make it immutable\n        public Object data;\n    }\n\n    public static class StateMachine {\n        private final Map&lt;StateType, Map&lt;StateType, Transition&gt;&gt; transitions =\n                new EnumMap&lt;&gt;(StateType.class);\n        private State state;\n\n        public StateMachine(State initialState) {\n            this.state = initialState;\n            for (StateType value : StateType.values()) {\n                transitions.put(value, new EnumMap&lt;&gt;(StateType.class));\n            }\n        }\n\n        public void addTransition(\n                StateType input,\n                StateType output,\n                Transition transition\n        ) {\n            //TODO: handle collisions? multiple transitions for a given \n            // output statetype seems like a strange use-case\n            transitions.get(input).put(output, transition);\n        }\n\n        public void moveTo(StateType toType) {\n            Transition transition = transitions.get(state.type).get(toType);\n            if (transition == null) {\n                //TODO: handle me\n                throw new RuntimeException();\n            }\n            //transition should modify the states \"type\" too OR\n            //you implement it here\n            state = transition.apply(state);\n        }\n\n        public State getState() {\n            return state;\n        }\n    }\n}\n</code></pre>\n\n<p>You will have to reach for a more sophisticated / abstracted solution if your <code>State</code> objects type is dependent on the current <code>StateType</code>.</p>\n"},{"tags":[],"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566847631,"creation_date":1566847631,"answer_id":57663826,"question_id":57661787,"body_markdown":"If you are using Spring you can consider Spring Statemachine.\r\nhttps://projects.spring.io/spring-statemachine/","title":"State Machine approach for simple state transitions","body":"<p>If you are using Spring you can consider Spring Statemachine.\n<a href=\"https://projects.spring.io/spring-statemachine/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-statemachine/</a></p>\n"},{"tags":[],"owner":{"account_id":1973872,"reputation":1145,"user_id":1772127,"display_name":"Fracdroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566946084,"creation_date":1566946084,"answer_id":57683087,"question_id":57661787,"body_markdown":"I have a personal design that I have used extensively that I call the &#39;pump&#39;. Your state machine class has a function called &#39;pump&#39; which evaluates the state and updates accordingly. Each state evaluation might require some input from an external source (controllers), like the user or an AI. These objects are required when initializing your state machine and are typically abstract implementations. You then add event callbacks that applications can override to catch events. One advantage to this approach the &#39;pump&#39; method can be executed from a single or multi-thread system.\r\n\r\nOnce your machine is built you can unit test easily by simply calling pump forever and providing controllers that return random values. This would effectively be a &#39;monkey&#39; test to make sure your machine can handle any combination of inputs without crashing.\r\n\r\nThen in your application you need only provide the proper controllers based on the situation.  \r\n\r\nBelow is a very rough state machine to control a hypothetical dice game. I omitted most details leaving the meat of the approach. Notice that one implementation of Player.rollDice could be a blocking method that waits for the user to hit a button to advance the game. In this scheme all of the logic to control the game is contained in the machine and can be tested independently of any UI.\r\n\r\n    interface Player {\r\n       boolean rollDice();\r\n    }\r\n    \r\n    class Game {\r\n       int state;\r\n       Player [] players;\r\n       int currentPlayer;\r\n       int dice;\r\n    \r\n       void pump() {\r\n          switch (state) {\r\n             case ROLL_DICE:\r\n                if (players[currentPlayer].rollDice()) {\r\n                   dice = Math.rand() % 6 + 1;\r\n                   onDiceRolled(dice);\r\n                   state = TAKE_TURN;\r\n                }\r\n                break;\r\n             case TAKE_TURN:\r\n                ...\r\n                break;\r\n          }\r\n       }\r\n\r\n       // base method does nothing. Users can override to handle major state transitions.\r\n       protected void onDiceRolled(int dice) {}\r\n    }","title":"State Machine approach for simple state transitions","body":"<p>I have a personal design that I have used extensively that I call the 'pump'. Your state machine class has a function called 'pump' which evaluates the state and updates accordingly. Each state evaluation might require some input from an external source (controllers), like the user or an AI. These objects are required when initializing your state machine and are typically abstract implementations. You then add event callbacks that applications can override to catch events. One advantage to this approach the 'pump' method can be executed from a single or multi-thread system.</p>\n\n<p>Once your machine is built you can unit test easily by simply calling pump forever and providing controllers that return random values. This would effectively be a 'monkey' test to make sure your machine can handle any combination of inputs without crashing.</p>\n\n<p>Then in your application you need only provide the proper controllers based on the situation.  </p>\n\n<p>Below is a very rough state machine to control a hypothetical dice game. I omitted most details leaving the meat of the approach. Notice that one implementation of Player.rollDice could be a blocking method that waits for the user to hit a button to advance the game. In this scheme all of the logic to control the game is contained in the machine and can be tested independently of any UI.</p>\n\n<pre><code>interface Player {\n   boolean rollDice();\n}\n\nclass Game {\n   int state;\n   Player [] players;\n   int currentPlayer;\n   int dice;\n\n   void pump() {\n      switch (state) {\n         case ROLL_DICE:\n            if (players[currentPlayer].rollDice()) {\n               dice = Math.rand() % 6 + 1;\n               onDiceRolled(dice);\n               state = TAKE_TURN;\n            }\n            break;\n         case TAKE_TURN:\n            ...\n            break;\n      }\n   }\n\n   // base method does nothing. Users can override to handle major state transitions.\n   protected void onDiceRolled(int dice) {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4998979,"reputation":1614,"user_id":4018558,"accept_rate":33,"display_name":"posthumecaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661407590,"creation_date":1661407590,"answer_id":73482627,"question_id":57661787,"body_markdown":"I would also advice you to check two frameworks before you implement your own State Machine. State Machine theory is really complex to develop all by yourself, specially not too much mentioned concepts like Sub / Nested State Machines are a must for complex / successful State Machine designs.\r\n\r\nOne is mentioned above Spring State Machine and second is the [Akka Finite State Machine][1].\r\n\r\nMy personal experience Spring State Machine is great for modelling things like a lifecycle of an application with states like, STARTING, INITIALISING, RUNNING, MAINTENANCE, ERROR, SHUTDOWN, etc.... but it is not that great for modelling things like Shopping Charts, Reservation, Credit Approval Processes, etc... while it has too big memory footprint to model millions of instances.\r\n\r\nIn the other hand, Akka FSM has a real small footprint and I personally implemented systems containing millions of instances of the State Machine and it has another tool that completely missing in Spring State Machine. In modern IT one thing is inevitable, change, no workflow / process that you model, will not stay same over the time, so you need mechanism to integrate these changes to your long running workflows / processes (what I mean with that, what happens if you have process that started before your latest software release and persisted with old model, now you have a new release and the model is changed, you have to read persisted process and continue with the new model). Akka a built in solution for this problem [Event / Schema Evolution][2].\r\n\r\nIf you need examples about how the implementations of Spring State Machine you can check the following [Blog][3] of me, for Akka FSM examples you can check the following examples [Blog1][4], [Blog2][5].\r\n\r\nI hope this would help.\r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/typed/fsm.html\r\n  [2]: https://doc.akka.io/docs/akka/current/persistence-schema-evolution.html\r\n  [3]: https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\r\n  [4]: https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/\r\n  [5]: https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/","title":"State Machine approach for simple state transitions","body":"<p>I would also advice you to check two frameworks before you implement your own State Machine. State Machine theory is really complex to develop all by yourself, specially not too much mentioned concepts like Sub / Nested State Machines are a must for complex / successful State Machine designs.</p>\n<p>One is mentioned above Spring State Machine and second is the <a href=\"https://doc.akka.io/docs/akka/current/typed/fsm.html\" rel=\"nofollow noreferrer\">Akka Finite State Machine</a>.</p>\n<p>My personal experience Spring State Machine is great for modelling things like a lifecycle of an application with states like, STARTING, INITIALISING, RUNNING, MAINTENANCE, ERROR, SHUTDOWN, etc.... but it is not that great for modelling things like Shopping Charts, Reservation, Credit Approval Processes, etc... while it has too big memory footprint to model millions of instances.</p>\n<p>In the other hand, Akka FSM has a real small footprint and I personally implemented systems containing millions of instances of the State Machine and it has another tool that completely missing in Spring State Machine. In modern IT one thing is inevitable, change, no workflow / process that you model, will not stay same over the time, so you need mechanism to integrate these changes to your long running workflows / processes (what I mean with that, what happens if you have process that started before your latest software release and persisted with old model, now you have a new release and the model is changed, you have to read persisted process and continue with the new model). Akka a built in solution for this problem <a href=\"https://doc.akka.io/docs/akka/current/persistence-schema-evolution.html\" rel=\"nofollow noreferrer\">Event / Schema Evolution</a>.</p>\n<p>If you need examples about how the implementations of Spring State Machine you can check the following <a href=\"https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\" rel=\"nofollow noreferrer\">Blog</a> of me, for Akka FSM examples you can check the following examples <a href=\"https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/\" rel=\"nofollow noreferrer\">Blog1</a>, <a href=\"https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\" rel=\"nofollow noreferrer\">Blog2</a>.</p>\n<p>I hope this would help.</p>\n"}],"owner":{"account_id":2239076,"reputation":385,"user_id":1974602,"accept_rate":71,"display_name":"thebighoncho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3392,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57662756,"answer_count":4,"score":2,"last_activity_date":1661407590,"creation_date":1566837462,"question_id":57661787,"body_markdown":"I am looking into creating a very simple state machine. My state machine will contain the following 3 states:\r\n\r\n    public enum States {\r\n        PENDING,\r\n        ACTIVE,\r\n        DONE\r\n    }\r\n\r\nThere are multiple transitions + starting states that are possible here, specifically:\r\n\r\nInitial States: `PENDING or ACTIVE`\r\nTransitions: \r\n\r\n 1. `PENDING -&gt; ACTIVE`\r\n 2. `PENDING -&gt; DONE`\r\n 3. `ACTIVE -&gt; DONE`\r\n\r\nI&#39;m looking into approaches to represent these states and a possible state machine to control the transitions. I&#39;ve looked into an enum based approach such as [this one][1], but I also want to expose state transitions to the client and I&#39;m unsure if this is reasonable in this approach.\r\n\r\nI&#39;ve also looked at other techniques such as the [State Pattern][2], but it feels like this may be overkill for such a simple ask. \r\n\r\nDoes anyone have any suggestions for simple state machine implementations that meet this criteria? I was even thinking something as basic as using a transition table to store the transitions and encapsulating a state concept within it that would use the transition table to determine next possible states.\r\n\r\n\r\n  [1]: https://www.mirkosertic.de/blog/2013/04/implementing-state-machines-with-java-enums/\r\n  [2]: https://en.wikipedia.org/wiki/State_pattern","title":"State Machine approach for simple state transitions","body":"<p>I am looking into creating a very simple state machine. My state machine will contain the following 3 states:</p>\n\n<pre><code>public enum States {\n    PENDING,\n    ACTIVE,\n    DONE\n}\n</code></pre>\n\n<p>There are multiple transitions + starting states that are possible here, specifically:</p>\n\n<p>Initial States: <code>PENDING or ACTIVE</code>\nTransitions: </p>\n\n<ol>\n<li><code>PENDING -&gt; ACTIVE</code></li>\n<li><code>PENDING -&gt; DONE</code></li>\n<li><code>ACTIVE -&gt; DONE</code></li>\n</ol>\n\n<p>I'm looking into approaches to represent these states and a possible state machine to control the transitions. I've looked into an enum based approach such as <a href=\"https://www.mirkosertic.de/blog/2013/04/implementing-state-machines-with-java-enums/\" rel=\"nofollow noreferrer\">this one</a>, but I also want to expose state transitions to the client and I'm unsure if this is reasonable in this approach.</p>\n\n<p>I've also looked at other techniques such as the <a href=\"https://en.wikipedia.org/wiki/State_pattern\" rel=\"nofollow noreferrer\">State Pattern</a>, but it feels like this may be overkill for such a simple ask. </p>\n\n<p>Does anyone have any suggestions for simple state machine implementations that meet this criteria? I was even thinking something as basic as using a transition table to store the transitions and encapsulating a state concept within it that would use the transition table to determine next possible states.</p>\n"},{"tags":["java","spring","junit","apache-camel","mockito"],"answers":[{"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569828679,"creation_date":1569822950,"answer_id":58162162,"question_id":58160879,"body_markdown":"You should add `when(...)` for `exchange.getIn()` and `message.getBody(HttpServletResponse.class)`. I would suggest yo to use `@RunWith(MockitoJUnitRunner.class)` and `@Mock` annotations. Have a look at the test:\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyExchangeServiceTest {\r\n        private MyExchangeService testedObject = new MyExchangeService();\r\n    \r\n        @Mock\r\n        private Exchange exchange;\r\n        @Mock\r\n        private HttpServletResponse response;\r\n        @Mock\r\n        private Message message;\r\n        @Mock\r\n        private ServletOutputStream outputStream;\r\n    \r\n        @Test\r\n        public void servletResponseIsRead() throws Exception {\r\n            when(exchange.getIn()).thenReturn(message);\r\n            when(message.getBody(HttpServletResponse.class)).thenReturn(response);\r\n            when(response.getOutputStream()).thenReturn(outputStream);\r\n    \r\n            testedObject.process(exchange);\r\n        }\r\n    }\r\n\r\n\r\nUpdate, here is my service:\r\n\r\n    import org.apache.camel.Exchange;\r\n    \r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    public class MyExchangeService {\r\n    \r\n        public void process(Exchange exchange) throws Exception {\r\n            HttpServletResponse servletResponse = exchange.getIn().getBody(HttpServletResponse.class);\r\n    \r\n            servletResponse.setStatus(200);\r\n    \r\n            servletResponse.addHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n    \r\n            servletResponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&#39;xyz.csv&#39;&quot;);\r\n    \r\n            ServletOutputStream servletOutputStream = servletResponse.getOutputStream();\r\n    \r\n            System.out.println(&quot; servletOutputStream: &quot; + servletOutputStream.getClass());\r\n        }\r\n    }\r\n\r\nTest output: \r\n\r\n     servletOutputStream: class org.mockito.codegen.ServletOutputStream$MockitoMock$501469028","title":"How to mock exhange.getIn().getBody(HttpServletRespose.class) with mockito","body":"<p>You should add <code>when(...)</code> for <code>exchange.getIn()</code> and <code>message.getBody(HttpServletResponse.class)</code>. I would suggest yo to use <code>@RunWith(MockitoJUnitRunner.class)</code> and <code>@Mock</code> annotations. Have a look at the test:</p>\n\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyExchangeServiceTest {\n    private MyExchangeService testedObject = new MyExchangeService();\n\n    @Mock\n    private Exchange exchange;\n    @Mock\n    private HttpServletResponse response;\n    @Mock\n    private Message message;\n    @Mock\n    private ServletOutputStream outputStream;\n\n    @Test\n    public void servletResponseIsRead() throws Exception {\n        when(exchange.getIn()).thenReturn(message);\n        when(message.getBody(HttpServletResponse.class)).thenReturn(response);\n        when(response.getOutputStream()).thenReturn(outputStream);\n\n        testedObject.process(exchange);\n    }\n}\n</code></pre>\n\n<p>Update, here is my service:</p>\n\n<pre><code>import org.apache.camel.Exchange;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class MyExchangeService {\n\n    public void process(Exchange exchange) throws Exception {\n        HttpServletResponse servletResponse = exchange.getIn().getBody(HttpServletResponse.class);\n\n        servletResponse.setStatus(200);\n\n        servletResponse.addHeader(\"Content-Type\", \"application/octet-stream\");\n\n        servletResponse.addHeader(\"Content-Disposition\", \"attachment;filename='xyz.csv'\");\n\n        ServletOutputStream servletOutputStream = servletResponse.getOutputStream();\n\n        System.out.println(\" servletOutputStream: \" + servletOutputStream.getClass());\n    }\n}\n</code></pre>\n\n<p>Test output: </p>\n\n<pre><code> servletOutputStream: class org.mockito.codegen.ServletOutputStream$MockitoMock$501469028\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569829038,"creation_date":1569829038,"answer_id":58163417,"question_id":58160879,"body_markdown":"The **best solution is not to use** `exchange.getIn().getBody` and therefore **having no obligation to mock it**. \r\n\r\nThe [Processor interface][1] is a bit clumsy to use and hard to test. Therefore you can use **simple beans that are easy to use and test**. \r\n\r\nInstead of writing a Processor that calls `exchange.getIn().getBody` you can write a **Java bean that gets injected the message body** for free. See the [Camel Docs for more Annotations to inject message parts into Beans][2].\r\n\r\nThis method in a POJO does the same as your processor. \r\n\r\n    public void processServletResponse(@Body HttpServletResponse servletResponse) {\r\n        servletResponse.setStatus(200);\r\n        ...\r\n    }\r\n\r\nYou can call the POJO in the route with \r\n\r\n    .bean(MyBean.class)\r\n\r\nTesting this bean is very easy thanks to [Inversion of control][3]. You don&#39;t need to get your ServletResponse, it is given to you. \r\n\r\n\r\n  [1]: https://camel.apache.org/manual/latest/processor.html\r\n  [2]: https://camel.apache.org/manual/latest/parameter-binding-annotations.html\r\n  [3]: https://en.wikipedia.org/wiki/Inversion_of_control","title":"How to mock exhange.getIn().getBody(HttpServletRespose.class) with mockito","body":"<p>The <strong>best solution is not to use</strong> <code>exchange.getIn().getBody</code> and therefore <strong>having no obligation to mock it</strong>. </p>\n\n<p>The <a href=\"https://camel.apache.org/manual/latest/processor.html\" rel=\"nofollow noreferrer\">Processor interface</a> is a bit clumsy to use and hard to test. Therefore you can use <strong>simple beans that are easy to use and test</strong>. </p>\n\n<p>Instead of writing a Processor that calls <code>exchange.getIn().getBody</code> you can write a <strong>Java bean that gets injected the message body</strong> for free. See the <a href=\"https://camel.apache.org/manual/latest/parameter-binding-annotations.html\" rel=\"nofollow noreferrer\">Camel Docs for more Annotations to inject message parts into Beans</a>.</p>\n\n<p>This method in a POJO does the same as your processor. </p>\n\n<pre><code>public void processServletResponse(@Body HttpServletResponse servletResponse) {\n    servletResponse.setStatus(200);\n    ...\n}\n</code></pre>\n\n<p>You can call the POJO in the route with </p>\n\n<pre><code>.bean(MyBean.class)\n</code></pre>\n\n<p>Testing this bean is very easy thanks to <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">Inversion of control</a>. You don't need to get your ServletResponse, it is given to you. </p>\n"},{"tags":[],"owner":{"account_id":12722936,"reputation":11,"user_id":9242690,"display_name":"zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661407479,"creation_date":1661407479,"answer_id":73482614,"question_id":58160879,"body_markdown":"Late in the game, but \r\nI was facing similar issue.\r\nSomething like below fixed my issue.\r\n\r\n    when(exchange.getIn()).thenReturn(message);\r\n    when(exchange.getIn().getBody(HttpServletResponse.class)).thenReturn(response);","title":"How to mock exhange.getIn().getBody(HttpServletRespose.class) with mockito","body":"<p>Late in the game, but\nI was facing similar issue.\nSomething like below fixed my issue.</p>\n<pre><code>when(exchange.getIn()).thenReturn(message);\nwhen(exchange.getIn().getBody(HttpServletResponse.class)).thenReturn(response);\n</code></pre>\n"}],"owner":{"account_id":16601943,"reputation":11,"user_id":11997348,"display_name":"Ashwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661407479,"creation_date":1569811035,"question_id":58160879,"body_markdown":"I am trying to write the junit for file in camel.\r\n\r\nBelow servletResponse which I want to mock.\r\n\r\nProcessor:\r\n\r\n   \r\n\r\n    HttpServletResponse servletResponse = exchange.getIn().getBody(HttpServletResponse.class);\r\n    \r\n    ServletOutputStream servletOutputStream = servletResponse.getOutputStream();\r\n    \r\n    IOUtils.copy(inputStream, servletOutputStream);\r\n    \r\n    servletOutputStream.flush(); \r\n    servletOutputStream.close();\r\n\r\nI have tried to write junit for this.\r\n\r\nTo mock the servletResponse here is below code:\r\n\r\n    HttpServletResponse response = mock(HttpServletResponse.class);\r\n   \r\n    ServletOutputStream outputStream = mock(ServletOutputStream.class);\r\n    \r\n    when(response.getOutputStream()).thenReturn(outputStream);\r\n\r\n\r\nBut am getting null for servletResponse which is in the processor.\r\n\r\n","title":"How to mock exhange.getIn().getBody(HttpServletRespose.class) with mockito","body":"<p>I am trying to write the junit for file in camel.</p>\n\n<p>Below servletResponse which I want to mock.</p>\n\n<p>Processor:</p>\n\n<pre><code>HttpServletResponse servletResponse = exchange.getIn().getBody(HttpServletResponse.class);\n\nServletOutputStream servletOutputStream = servletResponse.getOutputStream();\n\nIOUtils.copy(inputStream, servletOutputStream);\n\nservletOutputStream.flush(); \nservletOutputStream.close();\n</code></pre>\n\n<p>I have tried to write junit for this.</p>\n\n<p>To mock the servletResponse here is below code:</p>\n\n<pre><code>HttpServletResponse response = mock(HttpServletResponse.class);\n\nServletOutputStream outputStream = mock(ServletOutputStream.class);\n\nwhen(response.getOutputStream()).thenReturn(outputStream);\n</code></pre>\n\n<p>But am getting null for servletResponse which is in the processor.</p>\n"},{"tags":["java","sql","spring","spring-data","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661407369,"creation_date":1661407369,"answer_id":73482594,"question_id":73475396,"body_markdown":"No you are not doing anything wrong. \r\nThis is just how Spring Data JDBC works right now. \r\n\r\nThe team is working on a new more efficient way to load aggregates, but it isn&#39;t ready yet.\r\n\r\nIf this is a problem for you you can specify your own query including a dedicated `RowMapper` or `ResultSetExtractor` in a `@Query` annotation.","title":"Spring Data JDBC not using join when requesting related tables","body":"<p>No you are not doing anything wrong.\nThis is just how Spring Data JDBC works right now.</p>\n<p>The team is working on a new more efficient way to load aggregates, but it isn't ready yet.</p>\n<p>If this is a problem for you you can specify your own query including a dedicated <code>RowMapper</code> or <code>ResultSetExtractor</code> in a <code>@Query</code> annotation.</p>\n"}],"owner":{"account_id":2879794,"reputation":41,"user_id":2470959,"display_name":"bcassand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661407369,"creation_date":1661352969,"question_id":73475396,"body_markdown":"I have 2 linked tables in the same aggregate but *Spring Data JDBC* does not use join for retrieving data. It does several Select requests instead, and I don&#39;t see why.\r\n\r\nThe tables:\r\n```\r\nTestA (aggregate root)\r\n    idA (integer, PK)\r\n```\r\n```\r\nTestB\r\n    idB (integer, PK)\r\n    idA (integer, FK -&gt; TestA)\r\n```\r\n\r\nEntities:\r\n``` java\r\n@Data\r\npublic class TestA {\r\n\t@Id\r\n\tInteger idA;\r\n\t\r\n\t@MappedCollection(idColumn = &quot;idA&quot;)\r\n\tSet&lt;TestB&gt; testBs = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n``` java\r\n@Data\r\npublic class TestB {\r\n\t@Id\r\n\tInteger idB;\r\n}\r\n```\r\n\r\nRepository:\r\n``` java\r\n@Repository\r\npublic interface TestRepository extends CrudRepository&lt;TestA, Integer&gt; {\r\n}\r\n```\r\n\r\nWhen calling **testRepository.findAll()**, it retrieves all the data and the objects are as expected (I have all the TestA with a list of associated TestB for each one), but it does it by requesting data from TestA, and then for each TestA line it requests TestB.\r\n```\r\nExecuting prepared SQL statement [SELECT TestA.idA AS idA FROM TestA]\r\nExecuting prepared SQL statement [SELECT TestB.idB AS idB FROM TestB WHERE TestB.idA = ?]\r\nExecuting prepared SQL statement [SELECT TestB.idB AS idB FROM TestB WHERE TestB.idA = ?]\r\n...\r\n```\r\n\r\nWhy not a single **Select with JOIN??** I guess I&#39;m doing something wrong that is probably obvious, but I don&#39;t get it. For me and from my understanding it should be a left join or something like that, to retrieve in a single request data from TestA with the associated data from TestB.\r\n","title":"Spring Data JDBC not using join when requesting related tables","body":"<p>I have 2 linked tables in the same aggregate but <em>Spring Data JDBC</em> does not use join for retrieving data. It does several Select requests instead, and I don't see why.</p>\n<p>The tables:</p>\n<pre><code>TestA (aggregate root)\n    idA (integer, PK)\n</code></pre>\n<pre><code>TestB\n    idB (integer, PK)\n    idA (integer, FK -&gt; TestA)\n</code></pre>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class TestA {\n    @Id\n    Integer idA;\n    \n    @MappedCollection(idColumn = &quot;idA&quot;)\n    Set&lt;TestB&gt; testBs = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class TestB {\n    @Id\n    Integer idB;\n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TestRepository extends CrudRepository&lt;TestA, Integer&gt; {\n}\n</code></pre>\n<p>When calling <strong>testRepository.findAll()</strong>, it retrieves all the data and the objects are as expected (I have all the TestA with a list of associated TestB for each one), but it does it by requesting data from TestA, and then for each TestA line it requests TestB.</p>\n<pre><code>Executing prepared SQL statement [SELECT TestA.idA AS idA FROM TestA]\nExecuting prepared SQL statement [SELECT TestB.idB AS idB FROM TestB WHERE TestB.idA = ?]\nExecuting prepared SQL statement [SELECT TestB.idB AS idB FROM TestB WHERE TestB.idA = ?]\n...\n</code></pre>\n<p>Why not a single <strong>Select with JOIN??</strong> I guess I'm doing something wrong that is probably obvious, but I don't get it. For me and from my understanding it should be a left join or something like that, to retrieve in a single request data from TestA with the associated data from TestB.</p>\n"},{"tags":["java","spring-boot","jackson","spring-restcontroller"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1661234174,"post_id":73453648,"comment_id":129716161,"body_markdown":"if you want dynamic naming, i would recommend using `Map&lt;String,Object&gt;`","body":"if you want dynamic naming, i would recommend using <code>Map&lt;String,Object&gt;</code>"},{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1661234970,"post_id":73453648,"comment_id":129716350,"body_markdown":"https://stackoverflow.com/a/39923458/11538031","body":"<a href=\"https://stackoverflow.com/a/39923458/11538031\">stackoverflow.com/a/39923458/11538031</a>"}],"answers":[{"tags":[],"owner":{"account_id":1726623,"reputation":1984,"user_id":1581132,"accept_rate":50,"display_name":"Alagesan Palani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661406991,"creation_date":1661406991,"answer_id":73482539,"question_id":73453648,"body_markdown":"i solved it as follows, by adding a field that contains current level and appending that to the field name.\r\n\r\n    public class Root {\r\n        private String id;\r\n    \r\n        @JsonIgnore\r\n        private List&lt;Level&gt; levels;\r\n    \r\n        @JsonIgnore\r\n        private int level;\r\n    \r\n        @JsonAnyGetter\r\n        public Map&lt;String, List&lt;Level&gt;&gt; any() {\r\n            return Collections.singletonMap(&quot;level&quot;+level, levels);\r\n        }\r\n    \r\n        }\r\n    \r\n    \r\n    public class Level {\r\n        private String name;\r\n    \r\n        private List&lt;Level&gt; levels;\r\n    \r\n        @JsonIgnore\r\n        private int level;\r\n    \r\n        @JsonAnyGetter\r\n        public Map&lt;String, List&lt;Level&gt;&gt; any() {\r\n            return Collections.singletonMap(&quot;level&quot;+level, levels);\r\n        }\r\n        }","title":"spring boot jackson generate dynamic property name with hierarchical levels","body":"<p>i solved it as follows, by adding a field that contains current level and appending that to the field name.</p>\n<pre><code>public class Root {\n    private String id;\n\n    @JsonIgnore\n    private List&lt;Level&gt; levels;\n\n    @JsonIgnore\n    private int level;\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;Level&gt;&gt; any() {\n        return Collections.singletonMap(&quot;level&quot;+level, levels);\n    }\n\n    }\n\n\npublic class Level {\n    private String name;\n\n    private List&lt;Level&gt; levels;\n\n    @JsonIgnore\n    private int level;\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;Level&gt;&gt; any() {\n        return Collections.singletonMap(&quot;level&quot;+level, levels);\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":1726623,"reputation":1984,"user_id":1581132,"accept_rate":50,"display_name":"Alagesan Palani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661406991,"creation_date":1661233310,"question_id":73453648,"body_markdown":"How to apply dynamic property name with counter in it.? \r\n\r\nI am building a spring boot rest api that returns the following response object. \r\nResponse object is a structure with hierarchical levels. Instead of showing all the &quot;levels&quot; property name as default &quot;levels&quot;, i want to dynamically put the level number to it as explained in the below sample json.\r\n\r\n\r\n    public class Root {\r\n        private String id;\r\n        private List&lt;Level&gt; levels;\r\n        }\r\n\r\n\r\n    public class Level {\r\n        private String name;\r\n        private List&lt;Level&gt; levels;\r\n        }\r\n\r\n***current json output:***\r\n\r\n    {\r\n      &quot;id&quot; :&quot;testid&quot;,\r\n      &quot;levels&quot; : [\r\n             {\r\n              &quot;name&quot; :&quot;test1&quot;\r\n              &quot;levels&quot; : [\r\n                  {\r\n                     &quot;name&quot;: &quot;test3&quot;\r\n                     &quot;levels&quot; : []\r\n                  }\r\n    }\r\n\r\n\r\n***Sample expected json:***\r\n\r\n\r\n    {\r\n      &quot;id&quot; :&quot;testid&quot;,\r\n      &quot;level1&quot; : [\r\n             {\r\n              &quot;name&quot; :&quot;test1&quot;\r\n              &quot;level2&quot; : [\r\n                  {\r\n                     &quot;name&quot;: &quot;test3&quot;\r\n                     &quot;level3&quot; : []\r\n                  }\r\n    }\r\n\r\n","title":"spring boot jackson generate dynamic property name with hierarchical levels","body":"<p>How to apply dynamic property name with counter in it.?</p>\n<p>I am building a spring boot rest api that returns the following response object.\nResponse object is a structure with hierarchical levels. Instead of showing all the &quot;levels&quot; property name as default &quot;levels&quot;, i want to dynamically put the level number to it as explained in the below sample json.</p>\n<pre><code>public class Root {\n    private String id;\n    private List&lt;Level&gt; levels;\n    }\n\n\npublic class Level {\n    private String name;\n    private List&lt;Level&gt; levels;\n    }\n</code></pre>\n<p><em><strong>current json output:</strong></em></p>\n<pre><code>{\n  &quot;id&quot; :&quot;testid&quot;,\n  &quot;levels&quot; : [\n         {\n          &quot;name&quot; :&quot;test1&quot;\n          &quot;levels&quot; : [\n              {\n                 &quot;name&quot;: &quot;test3&quot;\n                 &quot;levels&quot; : []\n              }\n}\n</code></pre>\n<p><em><strong>Sample expected json:</strong></em></p>\n<pre><code>{\n  &quot;id&quot; :&quot;testid&quot;,\n  &quot;level1&quot; : [\n         {\n          &quot;name&quot; :&quot;test1&quot;\n          &quot;level2&quot; : [\n              {\n                 &quot;name&quot;: &quot;test3&quot;\n                 &quot;level3&quot; : []\n              }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration","mqtt","spring-integration-mqtt"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661455836,"post_id":73480907,"comment_id":129783509,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1661782613,"post_id":73480907,"comment_id":129847156,"body_markdown":"See moire info here: https://github.com/spring-projects/spring-integration-samples/issues/331. Essentially the same details have to be expressed in StackOverflow questions.","body":"See moire info here: <a href=\"https://github.com/spring-projects/spring-integration-samples/issues/331\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration-samples/issues&zwnj;&#8203;/&hellip;</a>. Essentially the same details have to be expressed in StackOverflow questions."}],"owner":{"account_id":26136922,"reputation":11,"user_id":19826806,"display_name":"mkt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661406598,"creation_date":1661390100,"question_id":73480907,"body_markdown":"What if I use an asynchronous client for both outbound and inbound, I see that the code is private and there is no way to rewrite it\r\n```\r\nthis.client = this.clientFactory.getAsyncClientInstance(this.getUrl(), this.getClientId());\r\n```","title":"Why getClientInstance is used for inbound and getAsyncClientInstance is used for outbound to get synchronous and asynchronous clients?","body":"<p>What if I use an asynchronous client for both outbound and inbound, I see that the code is private and there is no way to rewrite it</p>\n<pre><code>this.client = this.clientFactory.getAsyncClientInstance(this.getUrl(), this.getClientId());\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1661370968,"post_id":73478800,"comment_id":129759396,"body_markdown":"You forgot to include your attempt at solving this problem.","body":"You forgot to include your attempt at solving this problem."},{"owner":{"account_id":26153098,"reputation":7,"user_id":19840742,"display_name":"Chiranjit Singh"},"score":0,"creation_date":1661371508,"post_id":73478800,"comment_id":129759534,"body_markdown":"Edited to add the solution I&#39;m using right now","body":"Edited to add the solution I&#39;m using right now"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1661372167,"post_id":73478800,"comment_id":129759665,"body_markdown":"If you canonicalize the json in such a way that all properties are sorted in the same way and numbers are represented in the same way, you could just use string comparison with String.contains(...). I guess you would have to pull of the top and bottom brace from JSON 2, but that is easy.","body":"If you canonicalize the json in such a way that all properties are sorted in the same way and numbers are represented in the same way, you could just use string comparison with String.contains(...). I guess you would have to pull of the top and bottom brace from JSON 2, but that is easy."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1661379364,"post_id":73478800,"comment_id":129761417,"body_markdown":"Can you be more specific than &quot;working sometimes and sometimes don&#39;t&quot;?","body":"Can you be more specific than &quot;working sometimes and sometimes don&#39;t&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661373338,"creation_date":1661372996,"answer_id":73479125,"question_id":73478800,"body_markdown":"If you are using `org.json.JSONObject`, then it is super easy.\r\n\r\n    public static boolean isSubset(JSONObject superset, JSONObject subset) {\r\n        return new JSONObject(superset, JSONObject.getNames(subset)).similar(subset);\r\n    }\r\n\r\n","title":"Compare if a JSON contains subset of another JSON in Java","body":"<p>If you are using <code>org.json.JSONObject</code>, then it is super easy.</p>\n<pre><code>public static boolean isSubset(JSONObject superset, JSONObject subset) {\n    return new JSONObject(superset, JSONObject.getNames(subset)).similar(subset);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661406394,"creation_date":1661404328,"answer_id":73482147,"question_id":73478800,"body_markdown":"If your objects implement the Map interface, like JsonObject in JSR-374 does, you can use\r\n```\r\npublic boolean isSubset(JsonObject superset, JsonObject subset) {\r\n    return superset.entrySet().containsAll(subset.entrySet());\r\n}\r\n```","title":"Compare if a JSON contains subset of another JSON in Java","body":"<p>If your objects implement the Map interface, like JsonObject in JSR-374 does, you can use</p>\n<pre><code>public boolean isSubset(JsonObject superset, JsonObject subset) {\n    return superset.entrySet().containsAll(subset.entrySet());\n}\n</code></pre>\n"}],"owner":{"account_id":26153098,"reputation":7,"user_id":19840742,"display_name":"Chiranjit Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1661406394,"creation_date":1661370462,"question_id":73478800,"body_markdown":"How can I compare if a generic JSON is included in another generic json in Java\r\n\r\nFor Example\r\nJSON 1 : \r\n\r\n{\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;name&quot;: &quot;Michael Jordan&quot;,\r\n  &quot;age&quot;: &quot;50&quot;\r\n}\r\n\r\nJSON 2 :\r\n\r\n{\r\n  &quot;name&quot;: &quot;Michael Jordan&quot;\r\n}\r\n\r\nSo if JSON 2 contains matches the key and value pair in JSON 1 ignoring the other attributes the program should return true or else false.\r\n\r\n\r\nCurrently Using this Solution: https://stackoverflow.com/a/31858585/19840742\r\n\r\nBut it&#39;s a hit or miss situation working sometimes and sometimes don&#39;t as I need to pickup the json values from a excel sheet.","title":"Compare if a JSON contains subset of another JSON in Java","body":"<p>How can I compare if a generic JSON is included in another generic json in Java</p>\n<p>For Example\nJSON 1 :</p>\n<p>{\n&quot;id&quot;: &quot;1&quot;,\n&quot;name&quot;: &quot;Michael Jordan&quot;,\n&quot;age&quot;: &quot;50&quot;\n}</p>\n<p>JSON 2 :</p>\n<p>{\n&quot;name&quot;: &quot;Michael Jordan&quot;\n}</p>\n<p>So if JSON 2 contains matches the key and value pair in JSON 1 ignoring the other attributes the program should return true or else false.</p>\n<p>Currently Using this Solution: <a href=\"https://stackoverflow.com/a/31858585/19840742\">https://stackoverflow.com/a/31858585/19840742</a></p>\n<p>But it's a hit or miss situation working sometimes and sometimes don't as I need to pickup the json values from a excel sheet.</p>\n"},{"tags":["java","design-patterns","state-machine","fsm","state-pattern"],"comments":[{"owner":{"account_id":4413,"reputation":40863,"user_id":6610,"accept_rate":72,"display_name":"xtofl"},"score":1,"creation_date":1352055312,"post_id":13221168,"comment_id":18007399,"body_markdown":"A nice idea, for sure, but if you&#39;re going to identify strings, wouldn&#39;t you better use e.g. a regular expression?","body":"A nice idea, for sure, but if you&#39;re going to identify strings, wouldn&#39;t you better use e.g. a regular expression?"},{"owner":{"account_id":1250681,"reputation":1865,"user_id":1211152,"accept_rate":77,"display_name":"XiaJun"},"score":0,"creation_date":1469024830,"post_id":13221168,"comment_id":64370261,"body_markdown":"maybe you can try 2-d arrays.","body":"maybe you can try 2-d arrays."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1565188611,"post_id":13221168,"comment_id":101275461,"body_markdown":"I have a library for that you might want to look at: https://github.com/mtimmerm/dfalex","body":"I have a library for that you might want to look at: <a href=\"https://github.com/mtimmerm/dfalex\" rel=\"nofollow noreferrer\">github.com/mtimmerm/dfalex</a>"}],"answers":[{"tags":[],"owner":{"account_id":2004203,"reputation":7360,"user_id":1794538,"accept_rate":75,"display_name":"eh9"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1352118428,"creation_date":1352077574,"answer_id":13224709,"question_id":13221168,"body_markdown":"The heart of a state machine is the transition table, which takes a state and a symbol (what you&#39;re calling an event) to a new state. That&#39;s just a two-index array of states. For sanity and type safety, declare the states and symbols as enumerations. I always add a &quot;length&quot; member in some way (language-specific) for checking array bounds. When I&#39;ve hand-coded FSM&#39;s, I format the code in row and column format with whitespace fiddling. The other elements of a state machine are the initial state and the set of accepting states. The most direct implementation of the set of accepting states is an array of booleans indexed by the states. In Java, however, enumerations are classes, and you can specify an argument &quot;accepting&quot; in the declaration for each enumerated value and initialize it in the constructor for the enumeration.\r\n\r\nFor the machine type, you can write it as a generic class. It would take two type arguments, one for the states and one for the symbols, an array argument for the transition table, a single state for the initial. The only other detail (though it&#39;s critical) is that you have to call Enum.ordinal() to get an integer suitable for indexing the transition array, since you there&#39;s no syntax for directly declaring an array with a enumeration index (though there ought to be).\r\n\r\nTo preempt one issue, `EnumMap` won&#39;t work for the transition table, because the key required is a pair of enumeration values, not a single one.\r\n\r\n    enum State {\r\n        Initial( false ),\r\n        Final( true ),\r\n        Error( false );\r\n        static public final Integer length = 1 + Error.ordinal();\r\n\r\n        final boolean accepting;\r\n\r\n        State( boolean accepting ) {\r\n            this.accepting = accepting;\r\n        }\r\n    }\r\n\r\n    enum Symbol {\r\n        A, B, C;\r\n        static public final Integer length = 1 + C.ordinal();\r\n    }\r\n\r\n    State transition[][] = {\r\n        //  A               B               C\r\n        {\r\n            State.Initial,  State.Final,    State.Error\r\n        }, {\r\n            State.Final,    State.Initial,  State.Error\r\n        }\r\n    };\r\n","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>The heart of a state machine is the transition table, which takes a state and a symbol (what you're calling an event) to a new state. That's just a two-index array of states. For sanity and type safety, declare the states and symbols as enumerations. I always add a \"length\" member in some way (language-specific) for checking array bounds. When I've hand-coded FSM's, I format the code in row and column format with whitespace fiddling. The other elements of a state machine are the initial state and the set of accepting states. The most direct implementation of the set of accepting states is an array of booleans indexed by the states. In Java, however, enumerations are classes, and you can specify an argument \"accepting\" in the declaration for each enumerated value and initialize it in the constructor for the enumeration.</p>\n\n<p>For the machine type, you can write it as a generic class. It would take two type arguments, one for the states and one for the symbols, an array argument for the transition table, a single state for the initial. The only other detail (though it's critical) is that you have to call Enum.ordinal() to get an integer suitable for indexing the transition array, since you there's no syntax for directly declaring an array with a enumeration index (though there ought to be).</p>\n\n<p>To preempt one issue, <code>EnumMap</code> won't work for the transition table, because the key required is a pair of enumeration values, not a single one.</p>\n\n<pre><code>enum State {\n    Initial( false ),\n    Final( true ),\n    Error( false );\n    static public final Integer length = 1 + Error.ordinal();\n\n    final boolean accepting;\n\n    State( boolean accepting ) {\n        this.accepting = accepting;\n    }\n}\n\nenum Symbol {\n    A, B, C;\n    static public final Integer length = 1 + C.ordinal();\n}\n\nState transition[][] = {\n    //  A               B               C\n    {\n        State.Initial,  State.Final,    State.Error\n    }, {\n        State.Final,    State.Initial,  State.Error\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573314,"reputation":10235,"user_id":1460495,"accept_rate":100,"display_name":"Anders Johansen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1352116344,"creation_date":1352114097,"answer_id":13230950,"question_id":13221168,"body_markdown":"Hmm, I would suggest that you use Flyweight to implement the states. Purpose: Avoid the memory overhead of a large number of small objects. State machines can get very, very big.\r\n\r\nhttp://en.wikipedia.org/wiki/Flyweight_pattern\r\n\r\nI&#39;m not sure that I see the need to use design pattern State to implement the nodes. The nodes in a state machine are stateless. They just match the current input symbol to the available transitions from the current state. That is, unless I have entirely forgotten how they work (which is a definite possiblilty).\r\n\r\nIf I were coding it, I would do something like this:\r\n\r\n    interface FsmNode {\r\n      public boolean canConsume(Symbol sym);\r\n      public FsmNode consume(Symbol sym);\r\n      // Other methods here to identify the state we are in\r\n    }\r\n    \r\n      List&lt;Symbol&gt; input = getSymbols();\r\n      FsmNode current = getStartState();\r\n      for (final Symbol sym : input) {\r\n        if (!current.canConsume(sym)) {\r\n          throw new RuntimeException(&quot;FSM node &quot; + current + &quot; can&#39;t consume symbol &quot; + sym);\r\n        }\r\n        current = current.consume(sym);\r\n      }\r\n      System.out.println(&quot;FSM consumed all input, end state is &quot; + current);\r\n\r\n\r\nWhat would Flyweight do in this case? Well, underneath the FsmNode there would probably be something like this:\r\n  \r\n\r\n    Map&lt;Integer, Map&lt;Symbol, Integer&gt;&gt; fsm; // A state is an Integer, the transitions are from symbol to state number\r\n    FsmState makeState(int stateNum) {\r\n      return new FsmState() {\r\n        public FsmState consume(final Symbol sym) {\r\n          final Map&lt;Symbol, Integer&gt; transitions = fsm.get(stateNum);\r\n          if (transisions == null) {\r\n            throw new RuntimeException(&quot;Illegal state number &quot; + stateNum);\r\n          }\r\n          final Integer nextState = transitions.get(sym);  // May be null if no transition\r\n          return nextState;\r\n        }\r\n        public boolean canConsume(final Symbol sym) {\r\n          return consume(sym) != null;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThis creates the State objects on a need-to-use basis, It allows you to use a much more efficient underlying mechanism to store the actual state machine. The one I use here (Map(Integer, Map(Symbol, Integer))) is not particulary efficient.\r\n\r\nNote that the Wikipedia page focuses on the cases where many somewhat similar objects share the similar data, as is the case in the String implementation in Java. In my opinion, Flyweight is a tad more general, and covers any on-demand creation of objects with a short life span (use more CPU to save on a more efficient underlying data structure). ","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>Hmm, I would suggest that you use Flyweight to implement the states. Purpose: Avoid the memory overhead of a large number of small objects. State machines can get very, very big.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\">http://en.wikipedia.org/wiki/Flyweight_pattern</a></p>\n\n<p>I'm not sure that I see the need to use design pattern State to implement the nodes. The nodes in a state machine are stateless. They just match the current input symbol to the available transitions from the current state. That is, unless I have entirely forgotten how they work (which is a definite possiblilty).</p>\n\n<p>If I were coding it, I would do something like this:</p>\n\n<pre><code>interface FsmNode {\n  public boolean canConsume(Symbol sym);\n  public FsmNode consume(Symbol sym);\n  // Other methods here to identify the state we are in\n}\n\n  List&lt;Symbol&gt; input = getSymbols();\n  FsmNode current = getStartState();\n  for (final Symbol sym : input) {\n    if (!current.canConsume(sym)) {\n      throw new RuntimeException(\"FSM node \" + current + \" can't consume symbol \" + sym);\n    }\n    current = current.consume(sym);\n  }\n  System.out.println(\"FSM consumed all input, end state is \" + current);\n</code></pre>\n\n<p>What would Flyweight do in this case? Well, underneath the FsmNode there would probably be something like this:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;Symbol, Integer&gt;&gt; fsm; // A state is an Integer, the transitions are from symbol to state number\nFsmState makeState(int stateNum) {\n  return new FsmState() {\n    public FsmState consume(final Symbol sym) {\n      final Map&lt;Symbol, Integer&gt; transitions = fsm.get(stateNum);\n      if (transisions == null) {\n        throw new RuntimeException(\"Illegal state number \" + stateNum);\n      }\n      final Integer nextState = transitions.get(sym);  // May be null if no transition\n      return nextState;\n    }\n    public boolean canConsume(final Symbol sym) {\n      return consume(sym) != null;\n    }\n  }\n}\n</code></pre>\n\n<p>This creates the State objects on a need-to-use basis, It allows you to use a much more efficient underlying mechanism to store the actual state machine. The one I use here (Map(Integer, Map(Symbol, Integer))) is not particulary efficient.</p>\n\n<p>Note that the Wikipedia page focuses on the cases where many somewhat similar objects share the similar data, as is the case in the String implementation in Java. In my opinion, Flyweight is a tad more general, and covers any on-demand creation of objects with a short life span (use more CPU to save on a more efficient underlying data structure). </p>\n"},{"tags":[],"owner":{"account_id":3554269,"reputation":151,"user_id":2968375,"display_name":"user2968375"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1396945144,"creation_date":1396945144,"answer_id":22931397,"question_id":13221168,"body_markdown":"EasyFSM is a dynamic Java Library which can be used to implement an FSM.\r\n\r\nYou can find documentation for the same at :\r\n[Finite State Machine in Java][1]\r\n\r\nAlso, you can download the library at :\r\n[Java FSM Library : DynamicEasyFSM][2]\r\n\r\n\r\n  [1]: http://dynamicfsm.blogspot.in/\r\n  [2]: https://sourceforge.net/p/java-easyfsm/","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>EasyFSM is a dynamic Java Library which can be used to implement an FSM.</p>\n\n<p>You can find documentation for the same at :\n<a href=\"http://dynamicfsm.blogspot.in/\">Finite State Machine in Java</a></p>\n\n<p>Also, you can download the library at :\n<a href=\"https://sourceforge.net/p/java-easyfsm/\">Java FSM Library : DynamicEasyFSM</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510082139,"creation_date":1459512051,"answer_id":36355828,"question_id":13221168,"body_markdown":"You can implement Finite State Machine in two different ways.\n\n*Option 1:* \n\n*Finite State machine with a pre-defined workflow* : Recommended if you know all states in advance and state machine is almost fixed without any changes in future\n\n1. Identify all possible *states* in your application\n\n2. Identify all the *events* in your application\n\n3. Identify all the *conditions* in your application, which may lead state transition\n\n4. Occurrence of an event may cause *transitions* of state\n\n5. Build a finite state machine by deciding a *workflow* of states &amp; transitions.\n\n    e.g If an event 1 occurs at State 1, the state will be updated and machine state may still be in state 1.\n      \n      If an event 2 occurs at State 1, on some condition evaluation, the system will move from State 1 to State 2\n\nThis design is based on *State* and *Context* patterns.\n\nHave a look at [Finite State Machine][1] prototype classes.\n\n\n*Option 2:* \n\n*Behavioural trees:*   Recommended if there are frequent changes to  state machine workflow. You can dynamically add new behaviour without breaking the tree.\n\n\n[![enter image description here][2]][2]\n\nThe base *Task* class provides a interface for all these tasks, the *leaf tasks* are the ones just mentioned, and the parent tasks are the interior nodes that decide which task to execute next.\n\nThe *Tasks* have only the logic they need to actually do what is required of them, all the decision logic of whether a task has started or not, if it needs to update, if it has finished with success, etc. is grouped in the *TaskController* class, and added by composition.\n\nThe *decorators* are tasks that “decorate” another class by wrapping over it and giving it additional logic.\n\nFinally, the *Blackboard* class is a class owned by the parent AI that every task has a reference to. It works as a knowledge database for all the leaf tasks\n\nHave a look at this [article][3] by *Jaime Barrachina Verdia* for more details\n\n\n  [1]: https://github.com/benzonico/ruling_java/tree/master/sslr/oracle-jdk-1.7.0.3/com/sun/corba/se/spi/orbutil/fsm\n  [2]: http://i.stack.imgur.com/5qItb.png\n  [3]: http://magicscrollsofcode.blogspot.in/2010/12/behavior-trees-by-example-ai-in-android.html","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>You can implement Finite State Machine in two different ways.</p>\n<p><em>Option 1:</em></p>\n<p><em>Finite State machine with a pre-defined workflow</em> : Recommended if you know all states in advance and state machine is almost fixed without any changes in future</p>\n<ol>\n<li><p>Identify all possible <em>states</em> in your application</p>\n</li>\n<li><p>Identify all the <em>events</em> in your application</p>\n</li>\n<li><p>Identify all the <em>conditions</em> in your application, which may lead state transition</p>\n</li>\n<li><p>Occurrence of an event may cause <em>transitions</em> of state</p>\n</li>\n<li><p>Build a finite state machine by deciding a <em>workflow</em> of states &amp; transitions.</p>\n<p>e.g If an event 1 occurs at State 1, the state will be updated and machine state may still be in state 1.</p>\n<p>If an event 2 occurs at State 1, on some condition evaluation, the system will move from State 1 to State 2</p>\n</li>\n</ol>\n<p>This design is based on <em>State</em> and <em>Context</em> patterns.</p>\n<p>Have a look at <a href=\"https://github.com/benzonico/ruling_java/tree/master/sslr/oracle-jdk-1.7.0.3/com/sun/corba/se/spi/orbutil/fsm\" rel=\"nofollow noreferrer\">Finite State Machine</a> prototype classes.</p>\n<p><em>Option 2:</em></p>\n<p><em>Behavioural trees:</em>   Recommended if there are frequent changes to  state machine workflow. You can dynamically add new behaviour without breaking the tree.</p>\n<p><a href=\"https://i.stack.imgur.com/5qItb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qItb.png\" alt=\"enter image description here\" /></a></p>\n<p>The base <em>Task</em> class provides a interface for all these tasks, the <em>leaf tasks</em> are the ones just mentioned, and the parent tasks are the interior nodes that decide which task to execute next.</p>\n<p>The <em>Tasks</em> have only the logic they need to actually do what is required of them, all the decision logic of whether a task has started or not, if it needs to update, if it has finished with success, etc. is grouped in the <em>TaskController</em> class, and added by composition.</p>\n<p>The <em>decorators</em> are tasks that “decorate” another class by wrapping over it and giving it additional logic.</p>\n<p>Finally, the <em>Blackboard</em> class is a class owned by the parent AI that every task has a reference to. It works as a knowledge database for all the leaf tasks</p>\n<p>Have a look at this <a href=\"http://magicscrollsofcode.blogspot.in/2010/12/behavior-trees-by-example-ai-in-android.html\" rel=\"nofollow noreferrer\">article</a> by <em>Jaime Barrachina Verdia</em> for more details</p>\n"},{"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461605802,"creation_date":1461605802,"answer_id":36847374,"question_id":13221168,"body_markdown":"Consider the easy, lightweight Java library [EasyFlow][1]. From their docs:\r\n\r\n&gt; With EasyFlow you can:\r\n&gt; \r\n&gt; - implement complex logic but keep your code simple and clean \r\n&gt; - handle asynchronous calls with ease and elegance \r\n&gt; - avoid concurrency by using event-driven programming approach \r\n&gt; - avoid StackOverflow error by avoiding recursion \r\n&gt; - simplify design, programming and testing of complex java applications\r\n\r\n\r\n  [1]: https://github.com/Beh01der/EasyFlow","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>Consider the easy, lightweight Java library <a href=\"https://github.com/Beh01der/EasyFlow\" rel=\"noreferrer\">EasyFlow</a>. From their docs:</p>\n\n<blockquote>\n  <p>With EasyFlow you can:</p>\n  \n  <ul>\n  <li>implement complex logic but keep your code simple and clean </li>\n  <li>handle asynchronous calls with ease and elegance </li>\n  <li>avoid concurrency by using event-driven programming approach </li>\n  <li>avoid StackOverflow error by avoiding recursion </li>\n  <li>simplify design, programming and testing of complex java applications</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1168163,"reputation":1543,"user_id":1145976,"accept_rate":97,"display_name":"shanwu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533316526,"creation_date":1533316526,"answer_id":51677333,"question_id":13221168,"body_markdown":"I design &amp; implemented a simple finite state machine example with java.&lt;br&gt;\r\n\r\n**IFiniteStateMachine**: The public interface to manage the finite state machine&lt;br&gt;\r\nsuch as add new states to the finite state machine or transit to next states by&lt;br&gt; specific actions. \r\n\r\n    interface IFiniteStateMachine {\r\n        void setStartState(IState startState);\r\n    \r\n        void setEndState(IState endState);\r\n    \r\n        void addState(IState startState, IState newState, Action action);\r\n    \r\n        void removeState(String targetStateDesc);\r\n    \r\n        IState getCurrentState();\r\n    \r\n        IState getStartState();\r\n    \r\n        IState getEndState();\r\n    \r\n        void transit(Action action);\r\n    }\r\n\r\n**IState**: The public interface to get state related info&lt;br&gt;\r\nsuch as state name and mappings to connected states.  \r\n\r\n    interface IState {\r\n        // Returns the mapping for which one action will lead to another state\r\n        Map&lt;String, IState&gt; getAdjacentStates();\r\n\r\n        String getStateDesc();\r\n\r\n        void addTransit(Action action, IState nextState);\r\n\r\n        void removeTransit(String targetStateDesc);\r\n    }\r\n\r\n**Action**: the class which will cause the transition of states.\r\n\r\n    public class Action {\r\n        private String mActionName;\r\n    \r\n        public Action(String actionName) {\r\n            mActionName = actionName;\r\n        }\r\n    \r\n        String getActionName() {\r\n            return mActionName;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return mActionName;\r\n        }\r\n    \r\n    }\r\n\r\n**StateImpl**: the implementation of IState. I applied data structure such as **HashMap** to keep Action-State mappings.&lt;br&gt;\r\n\r\n    public class StateImpl implements IState {\r\n        private HashMap&lt;String, IState&gt; mMapping = new HashMap&lt;&gt;();\r\n        private String mStateName;\r\n    \r\n        public StateImpl(String stateName) {\r\n            mStateName = stateName;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, IState&gt; getAdjacentStates() {\r\n            return mMapping;\r\n        }\r\n    \r\n        @Override\r\n        public String getStateDesc() {\r\n            return mStateName;\r\n        }\r\n    \r\n        @Override\r\n        public void addTransit(Action action, IState state) {\r\n            mMapping.put(action.toString(), state);\r\n        }\r\n    \r\n        @Override\r\n        public void removeTransit(String targetStateDesc) {\r\n            // get action which directs to target state\r\n            String targetAction = null;\r\n            for (Map.Entry&lt;String, IState&gt; entry : mMapping.entrySet()) {\r\n                IState state = entry.getValue();\r\n                if (state.getStateDesc().equals(targetStateDesc)) {\r\n                    targetAction = entry.getKey();\r\n                }\r\n            }\r\n            mMapping.remove(targetAction);\r\n        }\r\n    \r\n    }\r\n\r\n**FiniteStateMachineImpl**: Implementation of IFiniteStateMachine. I use ArrayList to keep all the states.\r\n\r\n    public class FiniteStateMachineImpl implements IFiniteStateMachine {\r\n        private IState mStartState;\r\n        private IState mEndState;\r\n        private IState mCurrentState;\r\n        private ArrayList&lt;IState&gt; mAllStates = new ArrayList&lt;&gt;();\r\n        private HashMap&lt;String, ArrayList&lt;IState&gt;&gt; mMapForAllStates = new HashMap&lt;&gt;();\r\n    \r\n        public FiniteStateMachineImpl(){}\r\n        @Override\r\n        public void setStartState(IState startState) {\r\n            mStartState = startState;\r\n            mCurrentState = startState;\r\n            mAllStates.add(startState);\r\n            // todo: might have some value\r\n            mMapForAllStates.put(startState.getStateDesc(), new ArrayList&lt;IState&gt;());\r\n        }\r\n    \r\n        @Override\r\n        public void setEndState(IState endState) {\r\n            mEndState = endState;\r\n            mAllStates.add(endState);\r\n            mMapForAllStates.put(endState.getStateDesc(), new ArrayList&lt;IState&gt;());\r\n        }\r\n    \r\n        @Override\r\n        public void addState(IState startState, IState newState, Action action) {\r\n            // validate startState, newState and action\r\n    \r\n            // update mapping in finite state machine\r\n            mAllStates.add(newState);\r\n            final String startStateDesc = startState.getStateDesc();\r\n            final String newStateDesc = newState.getStateDesc();\r\n            mMapForAllStates.put(newStateDesc, new ArrayList&lt;IState&gt;());\r\n            ArrayList&lt;IState&gt; adjacentStateList = null;\r\n            if (mMapForAllStates.containsKey(startStateDesc)) {\r\n                adjacentStateList = mMapForAllStates.get(startStateDesc);\r\n                adjacentStateList.add(newState);\r\n            } else {\r\n                mAllStates.add(startState);\r\n                adjacentStateList = new ArrayList&lt;&gt;();\r\n                adjacentStateList.add(newState);\r\n            }\r\n            mMapForAllStates.put(startStateDesc, adjacentStateList);\r\n    \r\n            // update mapping in startState\r\n            for (IState state : mAllStates) {\r\n                boolean isStartState = state.getStateDesc().equals(startState.getStateDesc());\r\n                if (isStartState) {\r\n                    startState.addTransit(action, newState);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void removeState(String targetStateDesc) {\r\n            // validate state\r\n            if (!mMapForAllStates.containsKey(targetStateDesc)) {\r\n                throw new RuntimeException(&quot;Don&#39;t have state: &quot; + targetStateDesc);\r\n            } else {\r\n                // remove from mapping\r\n                mMapForAllStates.remove(targetStateDesc);\r\n            }\r\n    \r\n            // update all state\r\n            IState targetState = null;\r\n            for (IState state : mAllStates) {\r\n                if (state.getStateDesc().equals(targetStateDesc)) {\r\n                    targetState = state;\r\n                } else {\r\n                    state.removeTransit(targetStateDesc);\r\n                }\r\n            }\r\n    \r\n            mAllStates.remove(targetState);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public IState getCurrentState() {\r\n            return mCurrentState;\r\n        }\r\n    \r\n        @Override\r\n        public void transit(Action action) {\r\n            if (mCurrentState == null) {\r\n                throw new RuntimeException(&quot;Please setup start state&quot;);\r\n            }\r\n            Map&lt;String, IState&gt; localMapping = mCurrentState.getAdjacentStates();\r\n            if (localMapping.containsKey(action.toString())) {\r\n                mCurrentState = localMapping.get(action.toString());\r\n            } else {\r\n                throw new RuntimeException(&quot;No action start from current state&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public IState getStartState() {\r\n            return mStartState;\r\n        }\r\n    \r\n        @Override\r\n        public IState getEndState() {\r\n            return mEndState;\r\n        }\r\n    }\r\n\r\n**example**:\r\n   \r\n    public class example {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Finite state machine!!!&quot;);\r\n            IState startState = new StateImpl(&quot;start&quot;);\r\n            IState endState = new StateImpl(&quot;end&quot;);\r\n            IFiniteStateMachine fsm = new FiniteStateMachineImpl();\r\n            fsm.setStartState(startState);\r\n            fsm.setEndState(endState);\r\n            IState middle1 = new StateImpl(&quot;middle1&quot;);\r\n            middle1.addTransit(new Action(&quot;path1&quot;), endState);\r\n            fsm.addState(startState, middle1, new Action(&quot;path1&quot;));\r\n            System.out.println(fsm.getCurrentState().getStateDesc());\r\n            fsm.transit(new Action((&quot;path1&quot;)));\r\n            System.out.println(fsm.getCurrentState().getStateDesc());\r\n            fsm.addState(middle1, endState, new Action(&quot;path1-end&quot;));\r\n            fsm.transit(new Action((&quot;path1-end&quot;)));\r\n            System.out.println(fsm.getCurrentState().getStateDesc());\r\n            fsm.addState(endState, middle1, new Action(&quot;path1-end&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n[Full example on Github][1]\r\n\r\n\r\n  [1]: https://github.com/shanwu/finite_state_machine","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>I design &amp; implemented a simple finite state machine example with java.<br></p>\n\n<p><strong>IFiniteStateMachine</strong>: The public interface to manage the finite state machine<br>\nsuch as add new states to the finite state machine or transit to next states by<br> specific actions. </p>\n\n<pre><code>interface IFiniteStateMachine {\n    void setStartState(IState startState);\n\n    void setEndState(IState endState);\n\n    void addState(IState startState, IState newState, Action action);\n\n    void removeState(String targetStateDesc);\n\n    IState getCurrentState();\n\n    IState getStartState();\n\n    IState getEndState();\n\n    void transit(Action action);\n}\n</code></pre>\n\n<p><strong>IState</strong>: The public interface to get state related info<br>\nsuch as state name and mappings to connected states.  </p>\n\n<pre><code>interface IState {\n    // Returns the mapping for which one action will lead to another state\n    Map&lt;String, IState&gt; getAdjacentStates();\n\n    String getStateDesc();\n\n    void addTransit(Action action, IState nextState);\n\n    void removeTransit(String targetStateDesc);\n}\n</code></pre>\n\n<p><strong>Action</strong>: the class which will cause the transition of states.</p>\n\n<pre><code>public class Action {\n    private String mActionName;\n\n    public Action(String actionName) {\n        mActionName = actionName;\n    }\n\n    String getActionName() {\n        return mActionName;\n    }\n\n    @Override\n    public String toString() {\n        return mActionName;\n    }\n\n}\n</code></pre>\n\n<p><strong>StateImpl</strong>: the implementation of IState. I applied data structure such as <strong>HashMap</strong> to keep Action-State mappings.<br></p>\n\n<pre><code>public class StateImpl implements IState {\n    private HashMap&lt;String, IState&gt; mMapping = new HashMap&lt;&gt;();\n    private String mStateName;\n\n    public StateImpl(String stateName) {\n        mStateName = stateName;\n    }\n\n    @Override\n    public Map&lt;String, IState&gt; getAdjacentStates() {\n        return mMapping;\n    }\n\n    @Override\n    public String getStateDesc() {\n        return mStateName;\n    }\n\n    @Override\n    public void addTransit(Action action, IState state) {\n        mMapping.put(action.toString(), state);\n    }\n\n    @Override\n    public void removeTransit(String targetStateDesc) {\n        // get action which directs to target state\n        String targetAction = null;\n        for (Map.Entry&lt;String, IState&gt; entry : mMapping.entrySet()) {\n            IState state = entry.getValue();\n            if (state.getStateDesc().equals(targetStateDesc)) {\n                targetAction = entry.getKey();\n            }\n        }\n        mMapping.remove(targetAction);\n    }\n\n}\n</code></pre>\n\n<p><strong>FiniteStateMachineImpl</strong>: Implementation of IFiniteStateMachine. I use ArrayList to keep all the states.</p>\n\n<pre><code>public class FiniteStateMachineImpl implements IFiniteStateMachine {\n    private IState mStartState;\n    private IState mEndState;\n    private IState mCurrentState;\n    private ArrayList&lt;IState&gt; mAllStates = new ArrayList&lt;&gt;();\n    private HashMap&lt;String, ArrayList&lt;IState&gt;&gt; mMapForAllStates = new HashMap&lt;&gt;();\n\n    public FiniteStateMachineImpl(){}\n    @Override\n    public void setStartState(IState startState) {\n        mStartState = startState;\n        mCurrentState = startState;\n        mAllStates.add(startState);\n        // todo: might have some value\n        mMapForAllStates.put(startState.getStateDesc(), new ArrayList&lt;IState&gt;());\n    }\n\n    @Override\n    public void setEndState(IState endState) {\n        mEndState = endState;\n        mAllStates.add(endState);\n        mMapForAllStates.put(endState.getStateDesc(), new ArrayList&lt;IState&gt;());\n    }\n\n    @Override\n    public void addState(IState startState, IState newState, Action action) {\n        // validate startState, newState and action\n\n        // update mapping in finite state machine\n        mAllStates.add(newState);\n        final String startStateDesc = startState.getStateDesc();\n        final String newStateDesc = newState.getStateDesc();\n        mMapForAllStates.put(newStateDesc, new ArrayList&lt;IState&gt;());\n        ArrayList&lt;IState&gt; adjacentStateList = null;\n        if (mMapForAllStates.containsKey(startStateDesc)) {\n            adjacentStateList = mMapForAllStates.get(startStateDesc);\n            adjacentStateList.add(newState);\n        } else {\n            mAllStates.add(startState);\n            adjacentStateList = new ArrayList&lt;&gt;();\n            adjacentStateList.add(newState);\n        }\n        mMapForAllStates.put(startStateDesc, adjacentStateList);\n\n        // update mapping in startState\n        for (IState state : mAllStates) {\n            boolean isStartState = state.getStateDesc().equals(startState.getStateDesc());\n            if (isStartState) {\n                startState.addTransit(action, newState);\n            }\n        }\n    }\n\n    @Override\n    public void removeState(String targetStateDesc) {\n        // validate state\n        if (!mMapForAllStates.containsKey(targetStateDesc)) {\n            throw new RuntimeException(\"Don't have state: \" + targetStateDesc);\n        } else {\n            // remove from mapping\n            mMapForAllStates.remove(targetStateDesc);\n        }\n\n        // update all state\n        IState targetState = null;\n        for (IState state : mAllStates) {\n            if (state.getStateDesc().equals(targetStateDesc)) {\n                targetState = state;\n            } else {\n                state.removeTransit(targetStateDesc);\n            }\n        }\n\n        mAllStates.remove(targetState);\n\n    }\n\n    @Override\n    public IState getCurrentState() {\n        return mCurrentState;\n    }\n\n    @Override\n    public void transit(Action action) {\n        if (mCurrentState == null) {\n            throw new RuntimeException(\"Please setup start state\");\n        }\n        Map&lt;String, IState&gt; localMapping = mCurrentState.getAdjacentStates();\n        if (localMapping.containsKey(action.toString())) {\n            mCurrentState = localMapping.get(action.toString());\n        } else {\n            throw new RuntimeException(\"No action start from current state\");\n        }\n    }\n\n    @Override\n    public IState getStartState() {\n        return mStartState;\n    }\n\n    @Override\n    public IState getEndState() {\n        return mEndState;\n    }\n}\n</code></pre>\n\n<p><strong>example</strong>:</p>\n\n<pre><code>public class example {\n\n    public static void main(String[] args) {\n        System.out.println(\"Finite state machine!!!\");\n        IState startState = new StateImpl(\"start\");\n        IState endState = new StateImpl(\"end\");\n        IFiniteStateMachine fsm = new FiniteStateMachineImpl();\n        fsm.setStartState(startState);\n        fsm.setEndState(endState);\n        IState middle1 = new StateImpl(\"middle1\");\n        middle1.addTransit(new Action(\"path1\"), endState);\n        fsm.addState(startState, middle1, new Action(\"path1\"));\n        System.out.println(fsm.getCurrentState().getStateDesc());\n        fsm.transit(new Action((\"path1\")));\n        System.out.println(fsm.getCurrentState().getStateDesc());\n        fsm.addState(middle1, endState, new Action(\"path1-end\"));\n        fsm.transit(new Action((\"path1-end\")));\n        System.out.println(fsm.getCurrentState().getStateDesc());\n        fsm.addState(endState, middle1, new Action(\"path1-end\"));\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/shanwu/finite_state_machine\" rel=\"noreferrer\">Full example on Github</a></p>\n"},{"tags":[],"owner":{"account_id":14496438,"reputation":291,"user_id":12528345,"display_name":"Sam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1592261620,"creation_date":1592254544,"answer_id":62396865,"question_id":13221168,"body_markdown":"Here is a SUPER SIMPLE implementation/example of a FSM using just &quot;if-else&quot;s which avoids all of the above subclassing answers (taken from [Using Finite State Machines for Pattern Matching in Java][1], where he is looking for a string which ends with &quot;@&quot; followed by numbers followed by &quot;#&quot;--see state graph [here](https://ibb.co/Hqxj2w3)):\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;A1@312#&quot;;\r\n        String digits = &quot;0123456789&quot;;\r\n        int state = 0;\r\n        for (int ind = 0; ind &lt; s.length(); ind++) {\r\n            if (state == 0) {\r\n                if (s.charAt(ind) == &#39;@&#39;)\r\n                    state = 1;\r\n            } else {\r\n                boolean isNumber = digits.indexOf(s.charAt(ind)) != -1;\r\n                if (state == 1) {\r\n                    if (isNumber)\r\n                        state = 2;\r\n                    else if (s.charAt(ind) == &#39;@&#39;)\r\n                        state = 1;\r\n                    else\r\n                        state = 0;\r\n                } else if (state == 2) {\r\n                    if (s.charAt(ind) == &#39;#&#39;) {\r\n                        state = 3;\r\n                    } else if (isNumber) {\r\n                        state = 2;\r\n                    } else if (s.charAt(ind) == &#39;@&#39;)\r\n                        state = 1;\r\n                    else\r\n                        state = 0;\r\n                } else if (state == 3) {\r\n                    if (s.charAt(ind) == &#39;@&#39;)\r\n                        state = 1;\r\n                    else\r\n                        state = 0;\r\n                }\r\n            }\r\n        } //end for loop\r\n\r\n        if (state == 3)\r\n            System.out.println(&quot;It matches&quot;);\r\n        else\r\n            System.out.println(&quot;It does not match&quot;);\r\n    }\r\n\r\n  [1]: https://www.youtube.com/watch?v=ZfW7FwuBd90\r\n\r\nP.S: Does not answer your question directly, but shows you how to implement a FSM very easily in Java. ","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>Here is a SUPER SIMPLE implementation/example of a FSM using just \"if-else\"s which avoids all of the above subclassing answers (taken from <a href=\"https://www.youtube.com/watch?v=ZfW7FwuBd90\" rel=\"nofollow noreferrer\">Using Finite State Machines for Pattern Matching in Java</a>, where he is looking for a string which ends with \"@\" followed by numbers followed by \"#\"--see state graph <a href=\"https://ibb.co/Hqxj2w3\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"A1@312#\";\n    String digits = \"0123456789\";\n    int state = 0;\n    for (int ind = 0; ind &lt; s.length(); ind++) {\n        if (state == 0) {\n            if (s.charAt(ind) == '@')\n                state = 1;\n        } else {\n            boolean isNumber = digits.indexOf(s.charAt(ind)) != -1;\n            if (state == 1) {\n                if (isNumber)\n                    state = 2;\n                else if (s.charAt(ind) == '@')\n                    state = 1;\n                else\n                    state = 0;\n            } else if (state == 2) {\n                if (s.charAt(ind) == '#') {\n                    state = 3;\n                } else if (isNumber) {\n                    state = 2;\n                } else if (s.charAt(ind) == '@')\n                    state = 1;\n                else\n                    state = 0;\n            } else if (state == 3) {\n                if (s.charAt(ind) == '@')\n                    state = 1;\n                else\n                    state = 0;\n            }\n        }\n    } //end for loop\n\n    if (state == 3)\n        System.out.println(\"It matches\");\n    else\n        System.out.println(\"It does not match\");\n}\n</code></pre>\n\n<p>P.S: Does not answer your question directly, but shows you how to implement a FSM very easily in Java. </p>\n"},{"tags":[],"owner":{"account_id":4998979,"reputation":1614,"user_id":4018558,"accept_rate":33,"display_name":"posthumecaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661406260,"creation_date":1654423388,"answer_id":72506411,"question_id":13221168,"body_markdown":"Well this is an old question but while nobody mentioned here, I will advice to check two existing frameworks before you implement you own State Machines.\r\n\r\nOne is [Spring State Machine][1] most of you are familiar with Spring framework, which allow us to use several features of Spring like dependency injection and everything else that Spring can offer.\r\n\r\nIt is really great for modelling the lifecycle of an Apparat, with states like INITIALIZING, STARTED, ERROR, RECOVERING, SHUTTINGDOWN, etc.. but I see lots of people are trying to model a Shopping Chart, a Reservation System with it, the memory footprint a Spring State Machine is relatively big to model millions of Shopping Charts or Reservations. \r\n\r\nOne other disadvantage, Spring State Machine, while has a capability to persist itself for long running processes but it does not have any mechanism to adapt to changes in these processes, if you persist a process and you have to recover it lets say 10 days later with a change occurred in your business process because of new software release / requirement, you have no built in means to deal with it.\r\n\r\nI have several blogs, [blog1][2] [blog2][3], demonstrating how you can program Spring State Machine, specially model driven way, if you want to check it.\r\n\r\nMainly because the disadvantages I mentioned, I advice you to look another framework first, [Akka FSM (Finite State Machine)][4] which is more fitting with its low memory footprint to have millions and millions of instances and has a [capability][5] to adapt changing long running processes.\r\n\r\nNow you can develop with Akka framework with Java but believe me because of some missing language elements, you don&#39;t want to read the produced code, Scala is a much more fitting language to develop with Akka. Now I hear you saying Scala is too complex, I can&#39;t convince my project leads to develop with Scala, to convince you all this is an option, I developed a Proof of Concept application using a Java/Scala hybrid with all Scala Akka Finite State Machine code generated from an UML model, if you want to check it out here the links to the blogs, [blog3][6] [blog4][7].\r\n\r\nI hope this information would help you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-statemachine/docs/current/reference/\r\n  [2]: https://mehmetsalgar.wordpress.com/2015/12/14/ajax-spring-web-flow-and-spring-state-machine/\r\n  [3]: https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\r\n  [4]: https://doc.akka.io/docs/akka/current/typed/fsm.html\r\n  [5]: https://doc.akka.io/docs/akka/current/persistence-schema-evolution.html\r\n  [6]: https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\r\n  [7]: https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>Well this is an old question but while nobody mentioned here, I will advice to check two existing frameworks before you implement you own State Machines.</p>\n<p>One is <a href=\"https://docs.spring.io/spring-statemachine/docs/current/reference/\" rel=\"nofollow noreferrer\">Spring State Machine</a> most of you are familiar with Spring framework, which allow us to use several features of Spring like dependency injection and everything else that Spring can offer.</p>\n<p>It is really great for modelling the lifecycle of an Apparat, with states like INITIALIZING, STARTED, ERROR, RECOVERING, SHUTTINGDOWN, etc.. but I see lots of people are trying to model a Shopping Chart, a Reservation System with it, the memory footprint a Spring State Machine is relatively big to model millions of Shopping Charts or Reservations.</p>\n<p>One other disadvantage, Spring State Machine, while has a capability to persist itself for long running processes but it does not have any mechanism to adapt to changes in these processes, if you persist a process and you have to recover it lets say 10 days later with a change occurred in your business process because of new software release / requirement, you have no built in means to deal with it.</p>\n<p>I have several blogs, <a href=\"https://mehmetsalgar.wordpress.com/2015/12/14/ajax-spring-web-flow-and-spring-state-machine/\" rel=\"nofollow noreferrer\">blog1</a> <a href=\"https://mehmetsalgar.wordpress.com/2016/01/20/xtext-domain-specific-language-and-spring-state-machine/\" rel=\"nofollow noreferrer\">blog2</a>, demonstrating how you can program Spring State Machine, specially model driven way, if you want to check it.</p>\n<p>Mainly because the disadvantages I mentioned, I advice you to look another framework first, <a href=\"https://doc.akka.io/docs/akka/current/typed/fsm.html\" rel=\"nofollow noreferrer\">Akka FSM (Finite State Machine)</a> which is more fitting with its low memory footprint to have millions and millions of instances and has a <a href=\"https://doc.akka.io/docs/akka/current/persistence-schema-evolution.html\" rel=\"nofollow noreferrer\">capability</a> to adapt changing long running processes.</p>\n<p>Now you can develop with Akka framework with Java but believe me because of some missing language elements, you don't want to read the produced code, Scala is a much more fitting language to develop with Akka. Now I hear you saying Scala is too complex, I can't convince my project leads to develop with Scala, to convince you all this is an option, I developed a Proof of Concept application using a Java/Scala hybrid with all Scala Akka Finite State Machine code generated from an UML model, if you want to check it out here the links to the blogs, <a href=\"https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\" rel=\"nofollow noreferrer\">blog3</a> <a href=\"https://mehmetsalgar.wordpress.com/2022/05/17/model-driven-akka-finite-state-machine-fsm/\" rel=\"nofollow noreferrer\">blog4</a>.</p>\n<p>I hope this information would help you.</p>\n"}],"owner":{"account_id":267682,"reputation":3122,"user_id":556011,"accept_rate":85,"display_name":"Ofir A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147706,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":13224709,"answer_count":8,"score":65,"last_activity_date":1661406260,"creation_date":1352051167,"question_id":13221168,"body_markdown":"I have something to do for work and I need your help.\r\nWe want to implement a `FSM - Finite State Machine`, to identify char sequence(like: A, B, C, A, C), and tell if it accepted.\r\n\r\nWe think to implement three classes: `State`, `Event` and `Machine`.\r\nThe `state` class presents a node in the `FSM`, we thought to implement it with `State design pattern`, every node will extend from the abstract class state and every class would handle different types of events and indicate transitions to a new state. Is it good idea in your opinion?\r\n\r\nSecond thing, we don&#39;t know how to save all the transitions. Again we thought to implement it with some kind of `map`, that hold the starting point and gets some kind of vector with the next states, but I&#39;m not sure thats a good idea. \r\n\r\nI would be happy to get some ideas of how to implement it or maybe you can give me some starting points.\r\n\r\nHow should I save the FSM, meaning how should I build the tree at the beginning of the program?\r\nI googled it and found a lot of examples but nothing that helps me.\r\n\r\nThanks a lot.","title":"How to implement a FSM - Finite State Machine in Java","body":"<p>I have something to do for work and I need your help.\nWe want to implement a <code>FSM - Finite State Machine</code>, to identify char sequence(like: A, B, C, A, C), and tell if it accepted.</p>\n\n<p>We think to implement three classes: <code>State</code>, <code>Event</code> and <code>Machine</code>.\nThe <code>state</code> class presents a node in the <code>FSM</code>, we thought to implement it with <code>State design pattern</code>, every node will extend from the abstract class state and every class would handle different types of events and indicate transitions to a new state. Is it good idea in your opinion?</p>\n\n<p>Second thing, we don't know how to save all the transitions. Again we thought to implement it with some kind of <code>map</code>, that hold the starting point and gets some kind of vector with the next states, but I'm not sure thats a good idea. </p>\n\n<p>I would be happy to get some ideas of how to implement it or maybe you can give me some starting points.</p>\n\n<p>How should I save the FSM, meaning how should I build the tree at the beginning of the program?\nI googled it and found a lot of examples but nothing that helps me.</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","android-toast"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1661405827,"post_id":73482027,"comment_id":129765397,"body_markdown":"This is fairly easy to get . a get method returns the value and set method set the value ..","body":"This is fairly easy to get . a get method returns the value and set method set the value .."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1661409840,"post_id":73482027,"comment_id":129766447,"body_markdown":"Please check [ask]. Do not post greetings","body":"Please check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Do not post greetings"}],"answers":[{"tags":[],"owner":{"account_id":26135494,"reputation":99,"user_id":19825554,"display_name":"SAVAN JADAV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661404803,"creation_date":1661404803,"answer_id":73482220,"question_id":73482027,"body_markdown":"**use setGravity method** \r\n \r\n    Toast toast =  Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT);\r\n    toast.setGravity(Gravity.CENTER, 0, 0);\r\n    toast.show();","title":"Toast Error , xOffsets-yOffsets problem Toast Problem","body":"<p><strong>use setGravity method</strong></p>\n<pre><code>Toast toast =  Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT);\ntoast.setGravity(Gravity.CENTER, 0, 0);\ntoast.show();\n</code></pre>\n"}],"owner":{"account_id":26073721,"reputation":11,"user_id":19772935,"display_name":"maliik_hassan_009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1661441602,"accepted_answer_id":73482220,"answer_count":1,"score":-1,"last_activity_date":1661405779,"creation_date":1661403346,"question_id":73482027,"body_markdown":"**Hello Friends I hope all will be well**\r\nDear brothers i have been facing an error of offset in simple gravity toast\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VDZUy.png\r\n","title":"Toast Error , xOffsets-yOffsets problem Toast Problem","body":"<p><strong>Hello Friends I hope all will be well</strong>\nDear brothers i have been facing an error of offset in simple gravity toast\n<a href=\"https://i.stack.imgur.com/VDZUy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1422611749,"post_id":28233228,"comment_id":44828600,"body_markdown":"Why don&#39;t you wait for the perl process to finish instead?","body":"Why don&#39;t you wait for the perl process to finish instead?"},{"owner":{"account_id":4036059,"reputation":454,"user_id":3320478,"accept_rate":85,"display_name":"chenino"},"score":0,"creation_date":1422612262,"post_id":28233228,"comment_id":44828874,"body_markdown":"I have to admit, i don&#39;&#39;t really know how i could wait on that with Runtime.exec in Java","body":"I have to admit, i don&#39;&#39;t really know how i could wait on that with Runtime.exec in Java"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1422612409,"post_id":28233228,"comment_id":44828950,"body_markdown":"Runtime.exec() returns a Process. And Process has a waitFor() method: http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor%28%29","body":"Runtime.exec() returns a Process. And Process has a waitFor() method: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":4036059,"reputation":454,"user_id":3320478,"accept_rate":85,"display_name":"chenino"},"score":0,"creation_date":1422612737,"post_id":28233228,"comment_id":44829113,"body_markdown":"um okay, seems to be something about my syscall or my perl is Buggy, as i am caught in a waiting for a while now","body":"um okay, seems to be something about my syscall or my perl is Buggy, as i am caught in a waiting for a while now"},{"owner":{"account_id":4036059,"reputation":454,"user_id":3320478,"accept_rate":85,"display_name":"chenino"},"score":0,"creation_date":1422613197,"post_id":28233228,"comment_id":44829373,"body_markdown":"@JB Nizet : Updated the question","body":"@JB Nizet : Updated the question"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1422611943,"creation_date":1422611943,"answer_id":28233325,"question_id":28233228,"body_markdown":"A better way is to write the file to a temporary file name like `myscript.pl.tmp` and rename it when you are finished.  As rename is atomic, you won&#39;t see it in an incomplete state.\r\n\r\nBTW You can use the WatchService to be notified when a file appears. [Watching a Directory for Changes][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/io/notification.html","title":"How to wait on file creation","body":"<p>A better way is to write the file to a temporary file name like <code>myscript.pl.tmp</code> and rename it when you are finished.  As rename is atomic, you won't see it in an incomplete state.</p>\n\n<p>BTW You can use the WatchService to be notified when a file appears. <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"noreferrer\">Watching a Directory for Changes</a></p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565864636,"creation_date":1565864636,"answer_id":57508242,"question_id":28233228,"body_markdown":"As @peter-lawrey has mentioned, the correct way to go is `java.nio.file.WatchService`.\r\n\r\nThe following is a simple implementation for the specific (but common) case of waiting the creation of a file. This static method returns the basic file attributes of the target file (`creationTime` is among them), or `null` if the file did not show up.  \r\n\r\n    public static BasicFileAttributes awaitFile(Path target, long timeout) \r\n        throws IOException, InterruptedException\r\n    {\r\n        final Path name = target.getFileName();\r\n        final Path targetDir = target.getParent();\r\n        \r\n        // If path already exists, return early\r\n        try {\r\n            return Files.readAttributes(target, BasicFileAttributes.class);\r\n        } catch (NoSuchFileException ex) {}\r\n          \r\n        final WatchService watchService = FileSystems.getDefault().newWatchService();\r\n        try {\r\n            final WatchKey watchKey = targetDir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE);\r\n            // The file could have been created in the window between Files.readAttributes and Path.register\r\n            try {\r\n                return Files.readAttributes(target, BasicFileAttributes.class);\r\n            } catch (NoSuchFileException ex) {}\r\n            // The file is absent: watch events in parent directory \r\n            WatchKey watchKey1 = null;\r\n            boolean valid = true;\r\n            do {\r\n                long t0 = System.currentTimeMillis();\r\n                watchKey1 = watchService.poll(timeout, TimeUnit.MILLISECONDS);\r\n                if (watchKey1 == null) {\r\n                    return null; // timed out\r\n                }\r\n                // Examine events associated with key\r\n                for (WatchEvent&lt;?&gt; event: watchKey1.pollEvents()) {\r\n                    Path path1 = (Path) event.context();\r\n                    if (path1.getFileName().equals(name)) {\r\n                        return Files.readAttributes(target, BasicFileAttributes.class);\r\n                    }\r\n                }\r\n                // Did not receive an interesting event; re-register key to queue\r\n                long elapsed = System.currentTimeMillis() - t0;\r\n                timeout = elapsed &lt; timeout? (timeout - elapsed) : 0L;\r\n                valid = watchKey1.reset();\r\n            } while (valid);\r\n        } finally {\r\n            watchService.close();\r\n        }\r\n        \r\n        return null;\r\n    }","title":"How to wait on file creation","body":"<p>As @peter-lawrey has mentioned, the correct way to go is <code>java.nio.file.WatchService</code>.</p>\n\n<p>The following is a simple implementation for the specific (but common) case of waiting the creation of a file. This static method returns the basic file attributes of the target file (<code>creationTime</code> is among them), or <code>null</code> if the file did not show up.  </p>\n\n<pre><code>public static BasicFileAttributes awaitFile(Path target, long timeout) \n    throws IOException, InterruptedException\n{\n    final Path name = target.getFileName();\n    final Path targetDir = target.getParent();\n\n    // If path already exists, return early\n    try {\n        return Files.readAttributes(target, BasicFileAttributes.class);\n    } catch (NoSuchFileException ex) {}\n\n    final WatchService watchService = FileSystems.getDefault().newWatchService();\n    try {\n        final WatchKey watchKey = targetDir.register(watchService, StandardWatchEventKinds.ENTRY_CREATE);\n        // The file could have been created in the window between Files.readAttributes and Path.register\n        try {\n            return Files.readAttributes(target, BasicFileAttributes.class);\n        } catch (NoSuchFileException ex) {}\n        // The file is absent: watch events in parent directory \n        WatchKey watchKey1 = null;\n        boolean valid = true;\n        do {\n            long t0 = System.currentTimeMillis();\n            watchKey1 = watchService.poll(timeout, TimeUnit.MILLISECONDS);\n            if (watchKey1 == null) {\n                return null; // timed out\n            }\n            // Examine events associated with key\n            for (WatchEvent&lt;?&gt; event: watchKey1.pollEvents()) {\n                Path path1 = (Path) event.context();\n                if (path1.getFileName().equals(name)) {\n                    return Files.readAttributes(target, BasicFileAttributes.class);\n                }\n            }\n            // Did not receive an interesting event; re-register key to queue\n            long elapsed = System.currentTimeMillis() - t0;\n            timeout = elapsed &lt; timeout? (timeout - elapsed) : 0L;\n            valid = watchKey1.reset();\n        } while (valid);\n    } finally {\n        watchService.close();\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10412206,"reputation":51,"user_id":7677282,"display_name":"Sarthak Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661405761,"creation_date":1661405761,"answer_id":73482345,"question_id":28233228,"body_markdown":"Check whether the file exists (Files.exists()) in the directory or not using while loop. Continue the loop till it returns False, and get out of the loop once it finds the file in the directory. ","title":"How to wait on file creation","body":"<p>Check whether the file exists (Files.exists()) in the directory or not using while loop. Continue the loop till it returns False, and get out of the loop once it finds the file in the directory.</p>\n"}],"owner":{"account_id":4036059,"reputation":454,"user_id":3320478,"accept_rate":85,"display_name":"chenino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13466,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28233325,"answer_count":3,"score":3,"last_activity_date":1661405761,"creation_date":1422611643,"question_id":28233228,"body_markdown":"My situation is as following:\r\nI got a Java program, wich starts a perl script. \r\nThe Perl script is generating a file, on which Java should continue working.\r\nAs by now, i had set a\r\n\r\n    Thread.sleep(3000);\r\nto let Java wait for the file to be finished.\r\nI was looking for an more elegant way to let Java check if the file exists and continue then. My last try was\r\n\r\n    Boolean waitforfile = true;  \r\n    while(waitforfile){\r\n           File f = new File(pathtofile);\r\n           if(f.exists() &amp;&amp; !f.isDirectory()) { waitforfile=false; }\r\n           } \r\n\r\n But that one will get me stuck in a never ending loop. \r\nIs there any way else to do it?\r\n\r\n\r\n\r\nUpdate :\r\nOn Suggestion, tried, process,WaitFor();\r\nIn \r\n\r\n        public static String syscall(String call){\r\n        String out = &quot;&quot;;\r\n        try {\r\n        String line;\r\n        Process p = Runtime.getRuntime().exec(call);\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        while ((line = input.readLine()) != null) {\r\n          out=out+&quot;\\n&quot;+line;\r\n        }\r\n        input.close();\r\n        p.waitFor();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n       \r\n        return out;\r\n    }\r\n\r\nThis one did not wait on my perl process to be closed.","title":"How to wait on file creation","body":"<p>My situation is as following:\nI got a Java program, wich starts a perl script. \nThe Perl script is generating a file, on which Java should continue working.\nAs by now, i had set a</p>\n\n<pre><code>Thread.sleep(3000);\n</code></pre>\n\n<p>to let Java wait for the file to be finished.\nI was looking for an more elegant way to let Java check if the file exists and continue then. My last try was</p>\n\n<pre><code>Boolean waitforfile = true;  \nwhile(waitforfile){\n       File f = new File(pathtofile);\n       if(f.exists() &amp;&amp; !f.isDirectory()) { waitforfile=false; }\n       } \n</code></pre>\n\n<p>But that one will get me stuck in a never ending loop. \nIs there any way else to do it?</p>\n\n<p>Update :\nOn Suggestion, tried, process,WaitFor();\nIn </p>\n\n<pre><code>    public static String syscall(String call){\n    String out = \"\";\n    try {\n    String line;\n    Process p = Runtime.getRuntime().exec(call);\n    BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    while ((line = input.readLine()) != null) {\n      out=out+\"\\n\"+line;\n    }\n    input.close();\n    p.waitFor();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n\n    return out;\n}\n</code></pre>\n\n<p>This one did not wait on my perl process to be closed.</p>\n"},{"tags":["java","spring-boot","hibernate","validation"],"comments":[{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":1,"creation_date":1659770430,"post_id":73255448,"comment_id":129377750,"body_markdown":"What specific problem do you have? Can you show an example of what the problem looks like in code? What are your expectations for your code?","body":"What specific problem do you have? Can you show an example of what the problem looks like in code? What are your expectations for your code?"}],"answers":[{"tags":[],"owner":{"account_id":7844745,"reputation":33,"user_id":5930176,"display_name":"Kundan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661405699,"creation_date":1661405699,"answer_id":73482336,"question_id":73255448,"body_markdown":"I faced the same issue. In my case, there was a problem with my pom. I had a dependency on the hibernate-validator. So I removed and worked for me.","title":"The last Spring boot validation not working","body":"<p>I faced the same issue. In my case, there was a problem with my pom. I had a dependency on the hibernate-validator. So I removed and worked for me.</p>\n"}],"owner":{"account_id":25990393,"reputation":1,"user_id":19702668,"display_name":"zizo 04"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661405699,"creation_date":1659734799,"question_id":73255448,"body_markdown":"I&#39;m a beginner in spring boot and I found a problem with validation It doesn&#39;t work and I tried spring validation also hibernate dependency. I have the last version of spring boot 2.7.2\r\n I add  \r\n         ` &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;` \r\n to my pom.xml but when I add @NotNull to my bean gave me an error, and showed me there&#39;s not a @NonNull Annotation.","title":"The last Spring boot validation not working","body":"<p>I'm a beginner in spring boot and I found a problem with validation It doesn't work and I tried spring validation also hibernate dependency. I have the last version of spring boot 2.7.2\nI add<br />\n<code> &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; &lt;/dependency&gt;</code>\nto my pom.xml but when I add @NotNull to my bean gave me an error, and showed me there's not a @NonNull Annotation.</p>\n"},{"tags":["java","eclipse-rcp"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661408006,"post_id":73482224,"comment_id":129765904,"body_markdown":"Programmatically within your Eclipse RCP application? Like _Help &gt; About Eclipse IDE: Installation Details_? If yes, look how Eclipse does it.","body":"Programmatically within your Eclipse RCP application? Like <i>Help &gt; About Eclipse IDE: Installation Details</i>? If yes, look how Eclipse does it."},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1661408901,"post_id":73482224,"comment_id":129766139,"body_markdown":"I meant the plugins which I created, how can I get that list by java code?","body":"I meant the plugins which I created, how can I get that list by java code?"},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1661409039,"post_id":73482224,"comment_id":129766184,"body_markdown":"or lets say I have created a feature project called a.test which is having all the plugins in its feature.xml, how can I search that feature project with java code so that I can get the plugins from its fetaure.xml?","body":"or lets say I have created a feature project called a.test which is having all the plugins in its feature.xml, how can I search that feature project with java code so that I can get the plugins from its fetaure.xml?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1661412600,"post_id":73482224,"comment_id":129767317,"body_markdown":"Programmatically inside or outside your Eclipse RCP application? Please [tell also why you want to do this](https://en.wikipedia.org/wiki/XY_problem).","body":"Programmatically inside or outside your Eclipse RCP application? Please <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">tell also why you want to do this</a>."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1661414254,"post_id":73482224,"comment_id":129767822,"body_markdown":"This depends a lot on exactly what you are doing. For example, an RCP using &quot;p2&quot;  can get details of a feature through p2 APis, an RCP which doesn&#39;t use p2 (such as a pure e4 RCP) can&#39;t easily get details of a feature.","body":"This depends a lot on exactly what you are doing. For example, an RCP using &quot;p2&quot;  can get details of a feature through p2 APis, an RCP which doesn&#39;t use p2 (such as a pure e4 RCP) can&#39;t easily get details of a feature."},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1661415098,"post_id":73482224,"comment_id":129768104,"body_markdown":"Thanks, I have got the list from Activator.","body":"Thanks, I have got the list from Activator."}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661404814,"creation_date":1661404814,"question_id":73482224,"body_markdown":"I have created around 20 plugin projects.\r\nSince I want to know the version of all those plugin projects, I need the list of all those plugins first.&lt;br/&gt;\r\nCan some one guide me how can I get that list of plugins programmatically? Or Do I need to hardcode all the plugins names to get their version?\r\n","title":"How to get the list of all the plugin projects using java?","body":"<p>I have created around 20 plugin projects.\nSince I want to know the version of all those plugin projects, I need the list of all those plugins first.<br/>\nCan some one guide me how can I get that list of plugins programmatically? Or Do I need to hardcode all the plugins names to get their version?</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-security-oauth2"],"comments":[{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1661405352,"post_id":73482211,"comment_id":129765280,"body_markdown":"Since Spring manages this table itself, how do you try to update the column? Did you create a new Entity?","body":"Since Spring manages this table itself, how do you try to update the column? Did you create a new Entity?"},{"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"score":0,"creation_date":1661405579,"post_id":73482211,"comment_id":129765333,"body_markdown":"Yes the spring manages the table I agree, and yes table is being created by me through liquidbase schema manager. Though I dont have entity class, I use JdbcTokenStore class to insert or update the table.","body":"Yes the spring manages the table I agree, and yes table is being created by me through liquidbase schema manager. Though I dont have entity class, I use JdbcTokenStore class to insert or update the table."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1661412173,"post_id":73482211,"comment_id":129767168,"body_markdown":"So you are injecting JdbcTokenStore? But how do you add something to the token, by extending OAuth2AccessToken? Could you add some example code how you try to add something?","body":"So you are injecting JdbcTokenStore? But how do you add something to the token, by extending OAuth2AccessToken? Could you add some example code how you try to add something?"},{"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"score":0,"creation_date":1661432667,"post_id":73482211,"comment_id":129774846,"body_markdown":"Hi @Jens I have just realised that the table we are adding the additional information to the token, where it saves as blob type. The additional info will be a map with key values of newly added fields and its values. accessToken.getAdditionalInformation()","body":"Hi @Jens I have just realised that the table we are adding the additional information to the token, where it saves as blob type. The additional info will be a map with key values of newly added fields and its values. accessToken.getAdditionalInformation()"}],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661404755,"creation_date":1661404755,"question_id":73482211,"body_markdown":"I have spring boot with spring security where I maintain Oauth tables like oauth_access_token and oauth_refresh_token.\r\n\r\nI have tried to customise the oauth_access_token adding a new column, but I am not able to update the column with the value. it is always null.\r\n\r\nDoes anyone come across such situation? please share the suggestions.","title":"customise oauth_token_access table spring security","body":"<p>I have spring boot with spring security where I maintain Oauth tables like oauth_access_token and oauth_refresh_token.</p>\n<p>I have tried to customise the oauth_access_token adding a new column, but I am not able to update the column with the value. it is always null.</p>\n<p>Does anyone come across such situation? please share the suggestions.</p>\n"},{"tags":["java","arrays","exception","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1661391700,"post_id":73481015,"comment_id":129763332,"body_markdown":"&quot;because the thing is that mathematically you can multiply by 0 the whole term when it&#39;s accessing an out of bound address&quot; I don&#39;t see anything &quot;mathematical&quot; about accessing an invalid index? What &quot;0&quot; are you talking about? An invalid index does not contain 0 - It&#39;s undefined. You should just write the algorithm in a way that you ***never*** access an invalid index.","body":"&quot;because the thing is that mathematically you can multiply by 0 the whole term when it&#39;s accessing an out of bound address&quot; I don&#39;t see anything &quot;mathematical&quot; about accessing an invalid index? What &quot;0&quot; are you talking about? An invalid index does not contain 0 - It&#39;s undefined. You should just write the algorithm in a way that you <b><i>never</i></b> access an invalid index."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1661391811,"post_id":73481015,"comment_id":129763349,"body_markdown":"Why don&#39;t you want to use any conditional? How exactly does having no conditionals &quot;improve the algorithm&quot;?","body":"Why don&#39;t you want to use any conditional? How exactly does having no conditionals &quot;improve the algorithm&quot;?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1661391832,"post_id":73481015,"comment_id":129763351,"body_markdown":"*when a term is trying to use an invalid index, whatever value it has...* Invalid indexes don&#39;t any value because they don&#39;t exist. You can&#39;t multiply their value same as you can&#39;t multiply an undeclared variable.","body":"<i>when a term is trying to use an invalid index, whatever value it has...</i> Invalid indexes don&#39;t any value because they don&#39;t exist. You can&#39;t multiply their value same as you can&#39;t multiply an undeclared variable."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1661392070,"post_id":73481015,"comment_id":129763393,"body_markdown":"write an accessor method `get(matrix, row, col)` that checks the row and col values and returns 0 for out-of-bounds references.  but **why**?","body":"write an accessor method <code>get(matrix, row, col)</code> that checks the row and col values and returns 0 for out-of-bounds references.  but <b>why</b>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661397589,"post_id":73481015,"comment_id":129764130,"body_markdown":"You don&#39;t explain what you mean by &quot;improve the algorithm&quot;, but note that throwing an exception is very expensive relative to checking a couple of index values.","body":"You don&#39;t explain what you mean by &quot;improve the algorithm&quot;, but note that throwing an exception is very expensive relative to checking a couple of index values."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1661400585,"post_id":73481015,"comment_id":129764500,"body_markdown":"I don&#39;t see how you can possibly get `ArrayIndexOutOfBoundsException` with this code. Your indices are all confined to `0..array,length-1`, which is correct. All you can get is uninitialized *elements,* which will be zero. Unclear what you&#39;re asking.","body":"I don&#39;t see how you can possibly get <code>ArrayIndexOutOfBoundsException</code> with this code. Your indices are all confined to <code>0..array,length-1</code>, which is correct. All you can get is uninitialized <i>elements,</i> which will be zero. Unclear what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9847878,"reputation":171,"user_id":7294811,"display_name":"anantha ramu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661404439,"creation_date":1661404439,"answer_id":73482169,"question_id":73481015,"body_markdown":"Looks like you want to know the bounds or more information on Exceptions.\r\n\r\nBut we must not catch the exception and perform logic around it. It is not recommended.\r\n\r\nBut if you still want to know the information about the exception. The exception message is quite descriptive. You can use e.getMessage()\r\nHere is an example of e.getMessage().\r\n\r\n    Index 3 out of bounds for length 3\r\n\r\n\r\nTo find the bounds we can parse the error message. Here is an example.\r\n\r\n```\r\n    int[][] matrix = new int[3][];\r\n    try {\r\n      int assign[] = matrix[3];\r\n    } catch (IndexOutOfBoundsException e) {\r\n      System.out.println(e.getMessage());\r\n      Stream&lt;MatchResult&gt; matchResultStream = Pattern.compile(&quot;\\\\d+&quot;).matcher(e.getMessage()).results();\r\n      List&lt;String&gt; matchResults = matchResultStream.map(x -&gt; x.group()).collect(Collectors.toList());\r\n      if (matchResults.size() &gt; 1) {\r\n        System.out.println(&quot;Error Index &quot; + matchResults.get(0));\r\n        System.out.println(&quot;Max Index Bounds &quot; + matchResults.get(1));\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    Index 3 out of bounds for length 3\r\n    Error Index 3\r\n    Max Index Bounds 3\r\n\r\n","title":"Is it possible to get the value of an ArrayIndexOutOfBoundsException in Java?","body":"<p>Looks like you want to know the bounds or more information on Exceptions.</p>\n<p>But we must not catch the exception and perform logic around it. It is not recommended.</p>\n<p>But if you still want to know the information about the exception. The exception message is quite descriptive. You can use e.getMessage()\nHere is an example of e.getMessage().</p>\n<pre><code>Index 3 out of bounds for length 3\n</code></pre>\n<p>To find the bounds we can parse the error message. Here is an example.</p>\n<pre><code>    int[][] matrix = new int[3][];\n    try {\n      int assign[] = matrix[3];\n    } catch (IndexOutOfBoundsException e) {\n      System.out.println(e.getMessage());\n      Stream&lt;MatchResult&gt; matchResultStream = Pattern.compile(&quot;\\\\d+&quot;).matcher(e.getMessage()).results();\n      List&lt;String&gt; matchResults = matchResultStream.map(x -&gt; x.group()).collect(Collectors.toList());\n      if (matchResults.size() &gt; 1) {\n        System.out.println(&quot;Error Index &quot; + matchResults.get(0));\n        System.out.println(&quot;Max Index Bounds &quot; + matchResults.get(1));\n      }\n    }\n\nOutput:\n\n    Index 3 out of bounds for length 3\n    Error Index 3\n    Max Index Bounds 3\n\n</code></pre>\n"}],"owner":{"account_id":23096702,"reputation":11,"user_id":17206690,"display_name":"Ignacio Romero"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661404439,"creation_date":1661391331,"question_id":73481015,"body_markdown":"I&#39;m trying to do a program which uses a matrix and makes a new one with each element being the sum of every adjacent element of the original one plus itself.\r\n\r\nIt&#39;s very easy to understand that the &quot;edge&quot; values of the matrix, if you access them by the matrix indexes, then you may be getting something like matrix[-1][0]. The thing is, Java throws an exception so the program crashes.\r\n\r\nIs it possible to catch it and get the value it has anyway? Even if it&#39;s not initialized, because the thing is that mathematically you can multiply by 0 the whole term when it&#39;s accessing an out of bound address.\r\n\r\n    public class OpMatriz {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[][] miMatriz= {{1,9,10,7,2,1,9},{-5,1,9,10,7,2,1},{2,1,3,1,5,2,11}};\r\n    \t\timprimeMatriz(miMatriz);\r\n    \t\t\r\n    \t\tmiMatriz = OpMatriz.sumaAdyacentes(miMatriz);\r\n    \t\t\r\n    \t\timprimeMatriz(miMatriz);\r\n    \t\t\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static int[][] sumaAdyacentes(int[][] matriz){\r\n    \t\t\r\n    \t\tint n = matriz.length;\r\n    \t\tint m = matriz[0].length;\r\n    \t\t\r\n    \t\tint[][] matrizAux = new int[n+2][m+2];\r\n    \t\tint[][] matrizRes = new int[n][m];\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; m; j++) {\r\n    \t\t\t\tmatrizAux[i+1][j+1] = matriz[i][j];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\tfor (int j = 1; j &lt;= m; j++) {\r\n    \t\t\t\tmatrizRes[i-1][j-1] = matrizAux[i-1][j] + matrizAux[i][j+1] + matrizAux[i+1][j] + matrizAux[i][j-1] + matrizAux[i][j];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn matrizRes;\r\n    \t}\r\n    \t\r\n    \tpublic static void imprimeMatriz(int[][] matriz) {\r\n    \t\tfor (int i = 0; i &lt; matriz.length; i++) {\r\n    \t\t\tSystem.out.print(&quot;| &quot;);\r\n    \t\t\tfor (int j = 0; j &lt; matriz[0].length; j++) {\r\n    \t\t\t\tSystem.out.printf(&quot;%2d &quot;, matriz[i][j]);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;|&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nMy current program just makes a &quot;intermediate&quot; matrix a bit bigger than the original, all initialized in 0, so it can add it for the edge cases. Now, I don&#39;t want to use any conditional, as it&#39;s the idea of the exercise to improve the algorithm.\r\n\r\n    matrizRes[i][j] = i * matriz[i-1][j] + (m+1-j) * matriz[i][j+1] + (n+1-i) * matriz[i+1][j] + j *matriz[i][j-1] + matriz[i][j];\r\n\r\nMy idea is using an equation like this, so when a term is trying to use an invalid index, whatever value it has, it&#39;s going to get multiplied by 0. So doing this, i can just not use this &quot;intermediate&quot; matrix and work it out with just the original.\r\n\r\nSo, finally again, is there a way to get the value of an `ArrayIndexOutOfBoundsException` even if it&#39;s not initialized?\r\n\r\nPD: Sorry for Spanish programming, it&#39;s for a university assignment.","title":"Is it possible to get the value of an ArrayIndexOutOfBoundsException in Java?","body":"<p>I'm trying to do a program which uses a matrix and makes a new one with each element being the sum of every adjacent element of the original one plus itself.</p>\n<p>It's very easy to understand that the &quot;edge&quot; values of the matrix, if you access them by the matrix indexes, then you may be getting something like matrix[-1][0]. The thing is, Java throws an exception so the program crashes.</p>\n<p>Is it possible to catch it and get the value it has anyway? Even if it's not initialized, because the thing is that mathematically you can multiply by 0 the whole term when it's accessing an out of bound address.</p>\n<pre><code>public class OpMatriz {\n\n    public static void main(String[] args) {\n        \n        int[][] miMatriz= {{1,9,10,7,2,1,9},{-5,1,9,10,7,2,1},{2,1,3,1,5,2,11}};\n        imprimeMatriz(miMatriz);\n        \n        miMatriz = OpMatriz.sumaAdyacentes(miMatriz);\n        \n        imprimeMatriz(miMatriz);\n        \n\n    }\n    \n    public static int[][] sumaAdyacentes(int[][] matriz){\n        \n        int n = matriz.length;\n        int m = matriz[0].length;\n        \n        int[][] matrizAux = new int[n+2][m+2];\n        int[][] matrizRes = new int[n][m];\n        \n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; m; j++) {\n                matrizAux[i+1][j+1] = matriz[i][j];\n            }\n        }\n        \n        for (int i = 1; i &lt;= n; i++) {\n            for (int j = 1; j &lt;= m; j++) {\n                matrizRes[i-1][j-1] = matrizAux[i-1][j] + matrizAux[i][j+1] + matrizAux[i+1][j] + matrizAux[i][j-1] + matrizAux[i][j];\n            }\n        }\n        \n        return matrizRes;\n    }\n    \n    public static void imprimeMatriz(int[][] matriz) {\n        for (int i = 0; i &lt; matriz.length; i++) {\n            System.out.print(&quot;| &quot;);\n            for (int j = 0; j &lt; matriz[0].length; j++) {\n                System.out.printf(&quot;%2d &quot;, matriz[i][j]);\n            }\n            System.out.println(&quot;|&quot;);\n        }\n        System.out.println();\n    }\n    \n\n}\n</code></pre>\n<p>My current program just makes a &quot;intermediate&quot; matrix a bit bigger than the original, all initialized in 0, so it can add it for the edge cases. Now, I don't want to use any conditional, as it's the idea of the exercise to improve the algorithm.</p>\n<pre><code>matrizRes[i][j] = i * matriz[i-1][j] + (m+1-j) * matriz[i][j+1] + (n+1-i) * matriz[i+1][j] + j *matriz[i][j-1] + matriz[i][j];\n</code></pre>\n<p>My idea is using an equation like this, so when a term is trying to use an invalid index, whatever value it has, it's going to get multiplied by 0. So doing this, i can just not use this &quot;intermediate&quot; matrix and work it out with just the original.</p>\n<p>So, finally again, is there a way to get the value of an <code>ArrayIndexOutOfBoundsException</code> even if it's not initialized?</p>\n<p>PD: Sorry for Spanish programming, it's for a university assignment.</p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1660139069,"post_id":73307144,"comment_id":129462323,"body_markdown":"In https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=2, the values are lowercased:user.read,mail.read,mail.send. Check if this is the problem","body":"In <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=2\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/tutorials/&hellip;</a>, the values are lowercased:user.read,mail.read,mail.send. Check if this is the problem"},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1660140846,"post_id":73307144,"comment_id":129463147,"body_markdown":"Same scopes are working when used with DeviceCodeCredential but still I will check","body":"Same scopes are working when used with DeviceCodeCredential but still I will check"},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1661161969,"post_id":73307144,"comment_id":129697673,"body_markdown":"@questseekr - Can you please help me resolve this ?","body":"@questseekr - Can you please help me resolve this ?"}],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661404146,"creation_date":1661404146,"answer_id":73482121,"question_id":73307144,"body_markdown":"You are using the client credential flow here, which means that you cannot dynamically request scopes. You must configure your required permission scopes on your app registration in apps.dev.microsoft.com, then you set the value of scope in your code to https://graph.microsoft.com/.default.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nplease use string[] scopes = new string[] { &quot;https://graph.microsoft.com/.default&quot; };\r\n\r\nref doc - https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-daemon-acquire-token?tabs=dotnet#azure-ad-v10-resources \r\n\r\n https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS#client-credentials-provider\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0xlSm.png\r\n\r\nHope this will help , please let us know if have any question \r\n\r\nThanks","title":"Read and write Email using Microsoft Graph API Java","body":"<p>You are using the client credential flow here, which means that you cannot dynamically request scopes. You must configure your required permission scopes on your app registration in apps.dev.microsoft.com, then you set the value of scope in your code to <a href=\"https://graph.microsoft.com/.default\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/.default</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/0xlSm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0xlSm.png\" alt=\"enter image description here\" /></a></p>\n<p>please use string[] scopes = new string[] { &quot;https://graph.microsoft.com/.default&quot; };</p>\n<p>ref doc - <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-daemon-acquire-token?tabs=dotnet#azure-ad-v10-resources\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-daemon-acquire-token?tabs=dotnet#azure-ad-v10-resources</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS#client-credentials-provider\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=CS#client-credentials-provider</a></p>\n<p>Hope this will help , please let us know if have any question</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661404146,"creation_date":1660137883,"question_id":73307144,"body_markdown":"I want to read and send email using Microsoft Graph API. I have tried using DeviceCodeCredentials and it is working fine but I want to read emails without any user interaction in the backend. By Using, DeviceCodeCredentials it asks me to login using my email id and enter the code provided.\r\nbelow I the code I have written with ClientSecretCredentials which give me below error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to get access token\r\n\t   at com.eclerx.email.AccessProvider.accessToken(AccessProvider.java:30)\r\n\tat com.eclerx.email.AuthenticationBuilder2.main(AuthenticationBuilder2.java:55)\r\n    Caused by: java.util.concurrent.ExecutionException: \r\n    com.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value for scope \r\n    User.read openid profile offline_access Mail.Read is not valid. Client credential flows must \r\n    have a scope value with /.default suffixed to the resource identifier (application ID URI).\r\n    Trace ID: ac0c217d-72c7-4ba0-9472-16c711ceea00\r\n    Correlation ID: 4d9f5a16-e2e6-4c26-a30e-40e3aa89d53b\r\n    Timestamp: 2022-08-10 13:15:35Z\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\r\n\tat com.eclerx.email.AccessProvider.accessToken(AccessProvider.java:27)\r\n\t ... 1 more\r\n    Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value \r\n    for scope User.read openid profile offline_access Mail.Read is not valid. Client credential \r\n    flows must have a scope value with /.default suffixed to the resource identifier (application \r\n    ID URI).\r\n    Trace ID: ac0c217d-72c7-4ba0-9472-16c711ceea00\r\n    Correlation ID: 4d9f5a16-e2e6-4c26-a30e-40e3aa89d53b\r\n    Timestamp: 2022-08-10 13:15:35Z\r\n\tat \r\n    com.microsoft.aad.msal4j.MsalServiceExcepti\r\n    onFactory.fromHttpResponse(MsalServiceExceptionFactory.java:45)\r\n\tat \r\n\r\nCode is as below \r\n    \r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    import com.azure.identity.ClientSecretCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder; \r\n    import com.azure.identity.DeviceCodeCredential;\r\n    import com.azure.identity.DeviceCodeCredentialBuilder;\r\n    import com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\n    import com.microsoft.graph.models.Message;\r\n    import com.microsoft.graph.models.User;\r\n    import com.microsoft.graph.requests.GraphServiceClient;\r\n    import com.microsoft.graph.requests.MessageCollectionPage;\r\n\r\n    import okhttp3.Request;\r\n\r\n    public class AuthenticationBuilder2 {\r\n\t    private static final String CLIENT_ID = &quot;*************&quot;;\r\n        private static final String CLIENT_SECRET_ID = &quot;**************&quot;;\r\n    private static final String CLIENT_SECRET = &quot;****************&quot;;\r\n    private static final String AUTH_TENANT = &quot;*************&quot;;\r\n    \r\n    private static final List&lt;String&gt; graphApiScopes = Arrays.asList(&quot;Mail.Read&quot;,&quot;User.read&quot;);\r\n    public AuthenticationBuilder2() {\r\n    }\r\n\r\n    public static AccessProvider initializeGraphForUserAuth() {\r\n\r\n        ClientSecretCredential clientSecretCredential =\r\n                new ClientSecretCredentialBuilder()\r\n                        .clientId(CLIENT_ID)\r\n                        .clientSecret(CLIENT_SECRET)\r\n                        .tenantId(AUTH_TENANT)\r\n                        .build();\r\n\r\n        /*final DeviceCodeCredential deviceCodeCred = new DeviceCodeCredentialBuilder()\r\n        \t\t.clientId(CLIENT_ID)\r\n        \t\t.tenantId(AUTH_TENANT)\r\n        \t\t.challengeConsumer(challange -&gt; System.out.println(challange.getMessage()))\r\n        \t\t.build();*/\r\n        TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(graphApiScopes, clientSecretCredential);\r\n        //TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(graphApiScopes, deviceCodeCred);\r\n        \r\n        GraphServiceClient&lt;Request&gt; graphServiceClient = GraphServiceClient.builder()\r\n                .authenticationProvider(tokenCredentialAuthProvider)\r\n                .buildClient();\r\n\r\n        return new AccessProvider(graphServiceClient, tokenCredentialAuthProvider);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        AccessProvider accessProvider = AuthenticationBuilder.initializeGraphForUserAuth();\r\n        // get token\r\n        System.out.println(&quot;token : &quot; + accessProvider.accessToken());\r\n\r\n        System.out.println(accessProvider.getServiceClient().users());\r\n        \r\n        \r\n        User user = accessProvider.getServiceClient().me().buildRequest().get();\r\n        \r\n        System.out.println(&quot;My UserName :: &quot;+user.displayName);\r\n        \r\n        final MessageCollectionPage messagePage = accessProvider.getServiceClient().me().messages()\r\n        \t\t.buildRequest().top(3).select(&quot;subject&quot;).get();\r\n        \r\n        List&lt;Message&gt; messageList = messagePage.getCurrentPage();\r\n        \r\n        for(Message msg : messageList) {\r\n        \tSystem.out.println(&quot;Subject -&gt; &quot;+msg.subject);\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Read and write Email using Microsoft Graph API Java","body":"<p>I want to read and send email using Microsoft Graph API. I have tried using DeviceCodeCredentials and it is working fine but I want to read emails without any user interaction in the backend. By Using, DeviceCodeCredentials it asks me to login using my email id and enter the code provided.\nbelow I the code I have written with ClientSecretCredentials which give me below error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Unable to get access token\n   at com.eclerx.email.AccessProvider.accessToken(AccessProvider.java:30)\nat com.eclerx.email.AuthenticationBuilder2.main(AuthenticationBuilder2.java:55)\nCaused by: java.util.concurrent.ExecutionException: \ncom.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value for scope \nUser.read openid profile offline_access Mail.Read is not valid. Client credential flows must \nhave a scope value with /.default suffixed to the resource identifier (application ID URI).\nTrace ID: ac0c217d-72c7-4ba0-9472-16c711ceea00\nCorrelation ID: 4d9f5a16-e2e6-4c26-a30e-40e3aa89d53b\nTimestamp: 2022-08-10 13:15:35Z\nat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\nat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\nat com.eclerx.email.AccessProvider.accessToken(AccessProvider.java:27)\n ... 1 more\nCaused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS1002012: The provided value \nfor scope User.read openid profile offline_access Mail.Read is not valid. Client credential \nflows must have a scope value with /.default suffixed to the resource identifier (application \nID URI).\nTrace ID: ac0c217d-72c7-4ba0-9472-16c711ceea00\nCorrelation ID: 4d9f5a16-e2e6-4c26-a30e-40e3aa89d53b\nTimestamp: 2022-08-10 13:15:35Z\nat \ncom.microsoft.aad.msal4j.MsalServiceExcepti\nonFactory.fromHttpResponse(MsalServiceExceptionFactory.java:45)\nat \n</code></pre>\n<p>Code is as below</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nimport com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder; \nimport com.azure.identity.DeviceCodeCredential;\nimport com.azure.identity.DeviceCodeCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.models.Message;\nimport com.microsoft.graph.models.User;\nimport com.microsoft.graph.requests.GraphServiceClient;\nimport com.microsoft.graph.requests.MessageCollectionPage;\n\nimport okhttp3.Request;\n\npublic class AuthenticationBuilder2 {\n    private static final String CLIENT_ID = &quot;*************&quot;;\n    private static final String CLIENT_SECRET_ID = &quot;**************&quot;;\nprivate static final String CLIENT_SECRET = &quot;****************&quot;;\nprivate static final String AUTH_TENANT = &quot;*************&quot;;\n\nprivate static final List&lt;String&gt; graphApiScopes = Arrays.asList(&quot;Mail.Read&quot;,&quot;User.read&quot;);\npublic AuthenticationBuilder2() {\n}\n\npublic static AccessProvider initializeGraphForUserAuth() {\n\n    ClientSecretCredential clientSecretCredential =\n            new ClientSecretCredentialBuilder()\n                    .clientId(CLIENT_ID)\n                    .clientSecret(CLIENT_SECRET)\n                    .tenantId(AUTH_TENANT)\n                    .build();\n\n    /*final DeviceCodeCredential deviceCodeCred = new DeviceCodeCredentialBuilder()\n            .clientId(CLIENT_ID)\n            .tenantId(AUTH_TENANT)\n            .challengeConsumer(challange -&gt; System.out.println(challange.getMessage()))\n            .build();*/\n    TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(graphApiScopes, clientSecretCredential);\n    //TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(graphApiScopes, deviceCodeCred);\n    \n    GraphServiceClient&lt;Request&gt; graphServiceClient = GraphServiceClient.builder()\n            .authenticationProvider(tokenCredentialAuthProvider)\n            .buildClient();\n\n    return new AccessProvider(graphServiceClient, tokenCredentialAuthProvider);\n}\n\npublic static void main(String[] args) {\n    AccessProvider accessProvider = AuthenticationBuilder.initializeGraphForUserAuth();\n    // get token\n    System.out.println(&quot;token : &quot; + accessProvider.accessToken());\n\n    System.out.println(accessProvider.getServiceClient().users());\n    \n    \n    User user = accessProvider.getServiceClient().me().buildRequest().get();\n    \n    System.out.println(&quot;My UserName :: &quot;+user.displayName);\n    \n    final MessageCollectionPage messagePage = accessProvider.getServiceClient().me().messages()\n            .buildRequest().top(3).select(&quot;subject&quot;).get();\n    \n    List&lt;Message&gt; messageList = messagePage.getCurrentPage();\n    \n    for(Message msg : messageList) {\n        System.out.println(&quot;Subject -&gt; &quot;+msg.subject);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","realm","realmrecyclerviewadapter"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661347105,"post_id":73473767,"comment_id":129750362,"body_markdown":"What do you mean by &quot;unmanaged&quot; objects?","body":"What do you mean by &quot;unmanaged&quot; objects?"},{"owner":{"account_id":8533024,"reputation":21,"user_id":6395903,"display_name":"Mohammad Jafari"},"score":1,"creation_date":1661347339,"post_id":73473767,"comment_id":129750452,"body_markdown":"Managed/Unmanaged objects are instances of realmDB objects. Unmanaged objects are just like ordinary Java objects, they are not persisted and they will not be updated automatically.","body":"Managed/Unmanaged objects are instances of realmDB objects. Unmanaged objects are just like ordinary Java objects, they are not persisted and they will not be updated automatically."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1661347488,"post_id":73473767,"comment_id":129750538,"body_markdown":"Can you show more of the code around it?","body":"Can you show more of the code around it?"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661347591,"post_id":73473767,"comment_id":129750592,"body_markdown":"Especially the definition of `displayableMessages` would be useful","body":"Especially the definition of <code>displayableMessages</code> would be useful"},{"owner":{"account_id":357086,"reputation":2586,"user_id":697031,"display_name":"Michael Krussel"},"score":0,"creation_date":1661376982,"post_id":73473767,"comment_id":129760900,"body_markdown":"Is RealmDB managing the list that `displayMessages` is referencing.  If so it might be changing it in another thread.","body":"Is RealmDB managing the list that <code>displayMessages</code> is referencing.  If so it might be changing it in another thread."},{"owner":{"account_id":8533024,"reputation":21,"user_id":6395903,"display_name":"Mohammad Jafari"},"score":0,"creation_date":1661403321,"post_id":73473767,"comment_id":129764882,"body_markdown":"I updated the question. As you can see displayableMessages is referencing a list that is created from detached realmResults.","body":"I updated the question. As you can see displayableMessages is referencing a list that is created from detached realmResults."}],"owner":{"account_id":8533024,"reputation":21,"user_id":6395903,"display_name":"Mohammad Jafari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661403691,"creation_date":1661346442,"question_id":73473767,"body_markdown":"I have a **MutableList** of &quot;DisplayableMessage&quot; unmanaged objects, and I want to **find** an object from this MutableList by property &quot;messageId&quot;.\r\n\r\nThe code is in onBindViewHolder of a RecyclerViewAdapter:\r\n\r\n    val displayableMessage = displayableMessages?.find { item -&gt; item?.messageId == message.id  }\r\n\r\nWhen the main thread is running this line of code, The exception &quot;java.util.ConcurrentModificationException&quot; is raised.\r\n\r\nThe last 5 line of stack:\r\n\r\n        at java.util.ArrayList$Itr.next(ArrayList.java:860)\r\n        at MessagesAdapter.onBindViewHolder(MessagesAdapter.kt:279)\r\n        at MessagesAdapter.onBindViewHolder(MessagesAdapter.kt:81)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7059)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7101)\r\n\r\nMessagesAdapter.kt:279 is the code that I mentioned above.\r\n\r\nAs you see I&#39;m not removing the list object nor touching the original list.\r\n\r\n**Edit v1:** \r\ndisplayableMessages is referencing a mutable list that is created from detached realm results (This creation happens in another thread).\r\n\r\nThe code for detaching realm results:\r\n\r\n    val copiedMessages = Realm.getDefaultInstance().copyFromRealm(realmResults)\r\n\r\nAfter this code, MutableList &quot;list&quot; is created from copiedMessages in another thread (because it includes reading from DB) and then displayableMessages is set to &quot;list&quot;.\r\n\r\nThen I use the main thread to notify that dataset was changed:\r\n\r\n    GlobalScope.launch(Dispatchers.Main) {\r\n            notifyDataSetChanged()\r\n        }\r\n\r\nAll these codes are run every time realmResults changes.","title":"Kotlin ConcurrentModificationException: when finding object from a list (Without removing any object or touching original list)","body":"<p>I have a <strong>MutableList</strong> of &quot;DisplayableMessage&quot; unmanaged objects, and I want to <strong>find</strong> an object from this MutableList by property &quot;messageId&quot;.</p>\n<p>The code is in onBindViewHolder of a RecyclerViewAdapter:</p>\n<pre><code>val displayableMessage = displayableMessages?.find { item -&gt; item?.messageId == message.id  }\n</code></pre>\n<p>When the main thread is running this line of code, The exception &quot;java.util.ConcurrentModificationException&quot; is raised.</p>\n<p>The last 5 line of stack:</p>\n<pre><code>    at java.util.ArrayList$Itr.next(ArrayList.java:860)\n    at MessagesAdapter.onBindViewHolder(MessagesAdapter.kt:279)\n    at MessagesAdapter.onBindViewHolder(MessagesAdapter.kt:81)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7059)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7101)\n</code></pre>\n<p>MessagesAdapter.kt:279 is the code that I mentioned above.</p>\n<p>As you see I'm not removing the list object nor touching the original list.</p>\n<p><strong>Edit v1:</strong>\ndisplayableMessages is referencing a mutable list that is created from detached realm results (This creation happens in another thread).</p>\n<p>The code for detaching realm results:</p>\n<pre><code>val copiedMessages = Realm.getDefaultInstance().copyFromRealm(realmResults)\n</code></pre>\n<p>After this code, MutableList &quot;list&quot; is created from copiedMessages in another thread (because it includes reading from DB) and then displayableMessages is set to &quot;list&quot;.</p>\n<p>Then I use the main thread to notify that dataset was changed:</p>\n<pre><code>GlobalScope.launch(Dispatchers.Main) {\n        notifyDataSetChanged()\n    }\n</code></pre>\n<p>All these codes are run every time realmResults changes.</p>\n"},{"tags":["java","android","class","android-intent","onactivityresult"],"comments":[{"owner":{"account_id":4212595,"reputation":60,"user_id":3449840,"display_name":"Sagar"},"score":0,"creation_date":1661395651,"post_id":73480930,"comment_id":129763908,"body_markdown":"check this out https://medium.com/droid-log/androidx-activity-result-apis-the-new-way-7cfc949a803c","body":"check this out <a href=\"https://medium.com/droid-log/androidx-activity-result-apis-the-new-way-7cfc949a803c\" rel=\"nofollow noreferrer\">medium.com/droid-log/&hellip;</a>"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1661401491,"post_id":73480930,"comment_id":129764626,"body_markdown":"The docs have a section specifically called [Receiving an activity result in a separate class](https://developer.android.com/training/basics/intents/result#separate). Did you read the documentation on Getting a result from an activity?","body":"The docs have a section specifically called <a href=\"https://developer.android.com/training/basics/intents/result#separate\" rel=\"nofollow noreferrer\">Receiving an activity result in a separate class</a>. Did you read the documentation on Getting a result from an activity?"}],"answers":[{"tags":[],"owner":{"account_id":26135494,"reputation":99,"user_id":19825554,"display_name":"SAVAN JADAV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661403416,"creation_date":1661403416,"answer_id":73482035,"question_id":73480930,"body_markdown":"**For example you send to intent from activity A to B then \r\nin Activity A create Activity Result like below** \r\n\r\n      ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            // callback called \r\n                        }\r\n                    }\r\n                });\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            //call B activity\r\n            someActivityResultLauncher.launch(intent);\r\n        }\r\n\r\n **in Activity B your task is successfully complete then set**\r\n\r\n     setResult(RESULT_OK);\r\n     finish();\r\n\r\n**or if task is not complete successfully then put**\r\n\r\n     setResult(RESULT_CANCELED);\r\n     finish();\r\n\r\n","title":"discussing getActivityResult in class","body":"<p><strong>For example you send to intent from activity A to B then\nin Activity A create Activity Result like below</strong></p>\n<pre><code>  ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // callback called \n                    }\n                }\n            });\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //call B activity\n        someActivityResultLauncher.launch(intent);\n    }\n</code></pre>\n<p><strong>in Activity B your task is successfully complete then set</strong></p>\n<pre><code> setResult(RESULT_OK);\n finish();\n</code></pre>\n<p><strong>or if task is not complete successfully then put</strong></p>\n<pre><code> setResult(RESULT_CANCELED);\n finish();\n</code></pre>\n"}],"owner":{"account_id":26062908,"reputation":21,"user_id":19763897,"display_name":"Clash 110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661403416,"creation_date":1661390401,"question_id":73480930,"body_markdown":"There must be a way to get intent result in a class without using `onActivityResult`. By using other methods...                        \r\nI dont know how, but Iam sure there is a way.\r\n\r\n**My class that should get the result of the intent filepicker from this class without using `onActivityResult` in the `MainActivity.java` that extents activity.** `FilePicker.java`\r\n```\r\npackage com.hadiawali.codeeditor;\r\n\r\nimport android.content.Intent;\r\nimport android.app.Activity;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\npublic class FilePicker {\r\n\r\n  Intent filePicker = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n\r\n  public static void startPicking(Activity activity) {\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n      Intent chooseFolder = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n      chooseFolder.addCategory(Intent.CATEGORY_DEFAULT);\r\n      activity.startActivityForResult(Intent.createChooser(chooseFolder, &quot;Choose directory&quot;), 9999);\r\n    }\r\n  }\r\n}\r\n```\r\n**My class that extents activity.** `MainActivity.java`\r\n```\r\npackage com.hadiawali.codeeditor;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n  Button btn;\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.main);\r\n    btn = findViewById(R.id.btn);\r\n\r\n    btn.setOnClickListener(\r\n        new View.OnClickListener() {\r\n          public void onClick(View v) {\r\n            FilePicker.startPicking(MainActivity.this);\r\n            //I need to get the intent reslut from the class without using onActivityResult\r\n          }\r\n        });\r\n  }\r\n}\r\n```\r\n","title":"discussing getActivityResult in class","body":"<p>There must be a way to get intent result in a class without using <code>onActivityResult</code>. By using other methods...<br />\nI dont know how, but Iam sure there is a way.</p>\n<p><strong>My class that should get the result of the intent filepicker from this class without using <code>onActivityResult</code> in the <code>MainActivity.java</code> that extents activity.</strong> <code>FilePicker.java</code></p>\n<pre><code>package com.hadiawali.codeeditor;\n\nimport android.content.Intent;\nimport android.app.Activity;\nimport android.net.Uri;\nimport android.os.Bundle;\n\npublic class FilePicker {\n\n  Intent filePicker = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n\n  public static void startPicking(Activity activity) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n      Intent chooseFolder = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n      chooseFolder.addCategory(Intent.CATEGORY_DEFAULT);\n      activity.startActivityForResult(Intent.createChooser(chooseFolder, &quot;Choose directory&quot;), 9999);\n    }\n  }\n}\n</code></pre>\n<p><strong>My class that extents activity.</strong> <code>MainActivity.java</code></p>\n<pre><code>package com.hadiawali.codeeditor;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n  Button btn;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    btn = findViewById(R.id.btn);\n\n    btn.setOnClickListener(\n        new View.OnClickListener() {\n          public void onClick(View v) {\n            FilePicker.startPicking(MainActivity.this);\n            //I need to get the intent reslut from the class without using onActivityResult\n          }\n        });\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-test","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":9847878,"reputation":171,"user_id":7294811,"display_name":"anantha ramu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661403130,"creation_date":1661403130,"answer_id":73482004,"question_id":73481658,"body_markdown":"\r\nIt looks like a business or functional test from the description.\r\nSo, the test case must not be specific to a controller class.\r\n\r\nIf you want to test both Login and Logout in a test case, then the test case should only deal with the URLs of login and Logout. Not controller classes themselves.\r\n\r\nAnother option is to auto-wire both login and logout controllers.\r\n\r\n\r\nCheck out the guide here. [Test Web MVC][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/testing-web/","title":"How to create a context in Spring Boot Test and MockMvc?","body":"<p>It looks like a business or functional test from the description.\nSo, the test case must not be specific to a controller class.</p>\n<p>If you want to test both Login and Logout in a test case, then the test case should only deal with the URLs of login and Logout. Not controller classes themselves.</p>\n<p>Another option is to auto-wire both login and logout controllers.</p>\n<p>Check out the guide here. <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">Test Web MVC</a></p>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73482004,"answer_count":1,"score":0,"last_activity_date":1661403130,"creation_date":1661399345,"question_id":73481658,"body_markdown":"By example, have a simple login and logout application in Java Spring Boot 3, and i need create the test class, in my project has tree `.java` files, `AuthLoginController.java`, `AuthLoginOAUTHController.java` and `AuthLogoutController.java`, in test package i create two files, the login controller and logout controller, the login controller return a JWT. The problem is when need test logout controller, need the JWT for call the logout but the login only can call from login controller, can not call login and logout in same class, the test unit 5 require use same class name and same function name, but need correlationate two functions in a unique flow (login and logout).\r\n\r\nThe problem is similar for others controllers. What is the best practice for create the test?, create java files without controller name and call individual request for each? or create a super global map as application context setting and set/get values for each function forcing the order in each test?","title":"How to create a context in Spring Boot Test and MockMvc?","body":"<p>By example, have a simple login and logout application in Java Spring Boot 3, and i need create the test class, in my project has tree <code>.java</code> files, <code>AuthLoginController.java</code>, <code>AuthLoginOAUTHController.java</code> and <code>AuthLogoutController.java</code>, in test package i create two files, the login controller and logout controller, the login controller return a JWT. The problem is when need test logout controller, need the JWT for call the logout but the login only can call from login controller, can not call login and logout in same class, the test unit 5 require use same class name and same function name, but need correlationate two functions in a unique flow (login and logout).</p>\n<p>The problem is similar for others controllers. What is the best practice for create the test?, create java files without controller name and call individual request for each? or create a super global map as application context setting and set/get values for each function forcing the order in each test?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1504010583,"post_id":45939433,"comment_id":78836793,"body_markdown":"Proxy/Firewall issue?","body":"Proxy/Firewall issue?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1504014536,"post_id":45939433,"comment_id":78839830,"body_markdown":"Has this ever worked?  The version number may be bad.","body":"Has this ever worked?  The version number may be bad."}],"answers":[{"tags":[],"owner":{"account_id":1947525,"reputation":159,"user_id":1752320,"accept_rate":50,"display_name":"sambatha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504010699,"creation_date":1504010699,"answer_id":45939530,"question_id":45939433,"body_markdown":"I have had this issue and I resolved it by following the next step:\r\n\r\n1- Close Eclipse.\r\n\r\n2- Go to the user directory and delete the .m2 directory.\r\n\r\n3- Open Eclipse.\r\n\r\n4 - Now got to the menu Project -&gt; Select Clean\r\n\r\n5- Once done, Select the project and click refresh and run the maven install.","title":"Maven 2.6 exception error in Eclipse","body":"<p>I have had this issue and I resolved it by following the next step:</p>\n\n<p>1- Close Eclipse.</p>\n\n<p>2- Go to the user directory and delete the .m2 directory.</p>\n\n<p>3- Open Eclipse.</p>\n\n<p>4 - Now got to the menu Project -> Select Clean</p>\n\n<p>5- Once done, Select the project and click refresh and run the maven install.</p>\n"},{"tags":[],"owner":{"account_id":8740451,"reputation":110,"user_id":6537689,"display_name":"GL Yusuf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504010871,"creation_date":1504010871,"answer_id":45939599,"question_id":45939433,"body_markdown":"Please try to download the jars properly by the command &quot;mvn -u clean install&quot; from your project directory using command line. Then try to rebuild the project. It will help you I think. ","title":"Maven 2.6 exception error in Eclipse","body":"<p>Please try to download the jars properly by the command \"mvn -u clean install\" from your project directory using command line. Then try to rebuild the project. It will help you I think. </p>\n"},{"tags":[],"owner":{"account_id":26155283,"reputation":1,"user_id":19842590,"display_name":"Vamshi Tirumalasetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661402510,"creation_date":1661402510,"answer_id":73481931,"question_id":45939433,"body_markdown":"Solution: Steps Followed Updated proper **Setting.XML**file in my Machine , \r\n                                          Restarted Eclipse \r\n                                                Issue Resolved\r\n","title":"Maven 2.6 exception error in Eclipse","body":"<p>Solution: Steps Followed Updated proper <strong>Setting.XML</strong>file in my Machine ,\n Restarted Eclipse\nIssue Resolved</p>\n"}],"owner":{"account_id":1947525,"reputation":159,"user_id":1752320,"accept_rate":50,"display_name":"sambatha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661402510,"creation_date":1504010409,"question_id":45939433,"body_markdown":"I got the following error in *Eclipse* when I try to run the *project--&gt; Clean*:\r\n\r\n&gt; Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n\r\n","title":"Maven 2.6 exception error in Eclipse","body":"<p>I got the following error in <em>Eclipse</em> when I try to run the <em>project--> Clean</em>:</p>\n\n<blockquote>\n  <p>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6</p>\n</blockquote>\n"},{"tags":["java","generics","raw-types"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":1,"creation_date":1517561219,"post_id":42748943,"comment_id":84153902,"body_markdown":"Notice that your library update only affect new compiles in the client libraries, existing .class files are unaffected","body":"Notice that your library update only affect new compiles in the client libraries, existing .class files are unaffected"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489333371,"creation_date":1489331189,"answer_id":42749001,"question_id":42748943,"body_markdown":"Workaround proposal: you could create a new class `CV2` (that could extend or not extent the existing class `C`) that provides the new interface.\r\n\r\nOld clients can keep using the old class, new ones use the new version version. And of course, you annotate `C` as deprecated. ","title":"Adding class type parameter without breaking client code","body":"<p>Workaround proposal: you could create a new class <code>CV2</code> (that could extend or not extent the existing class <code>C</code>) that provides the new interface.</p>\n\n<p>Old clients can keep using the old class, new ones use the new version version. And of course, you annotate <code>C</code> as deprecated. </p>\n"}],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661402314,"creation_date":1489330900,"question_id":42748943,"body_markdown":"I am trying to add a type parameter to a class of an old API. I am faced with a problem, due to a feature of Java generics, that seems like it will cause a lot of client code to stop compiling.\r\n\r\nI have a class like this, which I&#39;d like to add a type parameter to:\r\n\r\n    class C {\r\n        List&lt;String&gt; getStrings() {\r\n            return Arrays.asList(&quot;dummy&quot;); // Dummy implementation\r\n        }\r\n        \r\n        Object getContent() {\r\n            // Dummy implementation. In reality an object of \r\n            // some specific type is returned.\r\n            return null; \r\n        }\r\n    }\r\n\r\nNote that the return value of `getStrings` is a list on which a member type has been specified.\r\n\r\nAfter the addiction of a type parameter `C` would look like this:\r\n\r\n    class C&lt;T&gt; {\r\n        List&lt;String&gt; getStrings() {\r\n            return Arrays.asList(&quot;dummy&quot;);\r\n        }\r\n        \r\n        T getContent() {\r\n            return null; \r\n        }\r\n    }\r\n\r\n\r\nAnd **here comes the problem**. Clients use the class `C` like this:\r\n\r\n    class U {\r\n        static void m() {\r\n            // This compiles and works fine both before and after the \r\n            // type parameter is added.\r\n            C c = new C();\r\n            \r\n            // ...\r\n\r\n            // This also compiles and works fine both before and after the \r\n            // type parameter is added.\r\n            Object cont = c.getContent();\r\n            \r\n            // But this doesn&#39;t type check any more! Since c now has a raw type\r\n            // the return value of getStrings also has a raw type. So there\r\n            // will be a &#39;can&#39;t assign Object to String&#39; error.\r\n            String s = c.getStrings().get(0);\r\n            \r\n        }\r\n    }\r\n\r\nFor the clients the solution to the problem is easy: Just add an unbounded wildcard type to `C`:\r\n\r\n    C&lt;?&gt; c = new C&lt;&gt;();\r\n\r\nBut there are many external clients of this API. It would be a big inconvenience if *all* code that uses `C` would have to be updated, even in a trivial way, to make it compile.\r\n\r\n**Is there some way around this?** Is there some way for me to add a type parameter to the class `C` without breaking the build for all clients to the API?\r\n\r\nThe same mechanism of Java&#39;s generics has been discussed for example [here][q3], [here][q1] and [here][q2], but they don&#39;t discuss solutions and workarounds.\r\n\r\n\r\n[q1]: https://stackoverflow.com/questions/19248616/generic-type-lost-for-member-of-raw-type\r\n[q2]: https://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods\r\n[q3]: https://stackoverflow.com/questions/18001550/java-generic-methods-in-generics-classes\r\n\r\n","title":"Adding class type parameter without breaking client code","body":"<p>I am trying to add a type parameter to a class of an old API. I am faced with a problem, due to a feature of Java generics, that seems like it will cause a lot of client code to stop compiling.</p>\n\n<p>I have a class like this, which I'd like to add a type parameter to:</p>\n\n<pre><code>class C {\n    List&lt;String&gt; getStrings() {\n        return Arrays.asList(\"dummy\"); // Dummy implementation\n    }\n\n    Object getContent() {\n        // Dummy implementation. In reality an object of \n        // some specific type is returned.\n        return null; \n    }\n}\n</code></pre>\n\n<p>Note that the return value of <code>getStrings</code> is a list on which a member type has been specified.</p>\n\n<p>After the addiction of a type parameter <code>C</code> would look like this:</p>\n\n<pre><code>class C&lt;T&gt; {\n    List&lt;String&gt; getStrings() {\n        return Arrays.asList(\"dummy\");\n    }\n\n    T getContent() {\n        return null; \n    }\n}\n</code></pre>\n\n<p>And <strong>here comes the problem</strong>. Clients use the class <code>C</code> like this:</p>\n\n<pre><code>class U {\n    static void m() {\n        // This compiles and works fine both before and after the \n        // type parameter is added.\n        C c = new C();\n\n        // ...\n\n        // This also compiles and works fine both before and after the \n        // type parameter is added.\n        Object cont = c.getContent();\n\n        // But this doesn't type check any more! Since c now has a raw type\n        // the return value of getStrings also has a raw type. So there\n        // will be a 'can't assign Object to String' error.\n        String s = c.getStrings().get(0);\n\n    }\n}\n</code></pre>\n\n<p>For the clients the solution to the problem is easy: Just add an unbounded wildcard type to <code>C</code>:</p>\n\n<pre><code>C&lt;?&gt; c = new C&lt;&gt;();\n</code></pre>\n\n<p>But there are many external clients of this API. It would be a big inconvenience if <em>all</em> code that uses <code>C</code> would have to be updated, even in a trivial way, to make it compile.</p>\n\n<p><strong>Is there some way around this?</strong> Is there some way for me to add a type parameter to the class <code>C</code> without breaking the build for all clients to the API?</p>\n\n<p>The same mechanism of Java's generics has been discussed for example <a href=\"https://stackoverflow.com/questions/18001550/java-generic-methods-in-generics-classes\">here</a>, <a href=\"https://stackoverflow.com/questions/19248616/generic-type-lost-for-member-of-raw-type\">here</a> and <a href=\"https://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods\">here</a>, but they don't discuss solutions and workarounds.</p>\n"},{"tags":["java","database","eclipse","postgresql","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":5122153,"reputation":3109,"user_id":4105359,"display_name":"Sevle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460527808,"creation_date":1460526591,"answer_id":36589636,"question_id":36589443,"body_markdown":"When using `CallableStatement` you should `CALL` your procedure, rather than `SELECT`. Something like:\r\n\r\n    callableStatement=con.prepareCall(&quot;{CALL fn_UpdateCustomer(37, &#39;Test_Customer56&#39;,&#39;Test_Customer56&#39;,&#39;Requirement&#39;,&#39;Customer_Location&#39;,NULL,2,2,NULL,&#39;Customer_Contact_Info&#39;,&#39;Account_Contact_Info&#39;,&#39;01-02-2016&#39;,&#39;01-04-2016&#39;,5,&#39;Comments&#39;,1,2)}&quot;);\r\n\r\n   \r\n\r\nThe error that you get, `Malformed function or procedure escape syntax at offset 1` refers to the `SELECT` keyword.","title":"Malformed function or procedure escape syntax at offset 1","body":"<p>When using <code>CallableStatement</code> you should <code>CALL</code> your procedure, rather than <code>SELECT</code>. Something like:</p>\n\n<pre><code>callableStatement=con.prepareCall(\"{CALL fn_UpdateCustomer(37, 'Test_Customer56','Test_Customer56','Requirement','Customer_Location',NULL,2,2,NULL,'Customer_Contact_Info','Account_Contact_Info','01-02-2016','01-04-2016',5,'Comments',1,2)}\");\n</code></pre>\n\n<p>The error that you get, <code>Malformed function or procedure escape syntax at offset 1</code> refers to the <code>SELECT</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":7959177,"reputation":1,"user_id":15715737,"display_name":"kolyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661402228,"creation_date":1661397259,"answer_id":73481478,"question_id":36589443,"body_markdown":"I followed the instructions https://jdbc.postgresql.org/documentation/81/callproc.html\r\nand it works for me finely/\r\n\r\nGood luck!","title":"Malformed function or procedure escape syntax at offset 1","body":"<p>I followed the instructions <a href=\"https://jdbc.postgresql.org/documentation/81/callproc.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/81/callproc.html</a>\nand it works for me finely/</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":4171304,"reputation":821,"user_id":3419000,"accept_rate":53,"display_name":"aswathy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36589636,"answer_count":2,"score":1,"last_activity_date":1661402228,"creation_date":1460525744,"question_id":36589443,"body_markdown":"I executed a code in eclipse and my objective is to call a stored procedure in postgres database. I tried with values passed from servlet and got this error:\r\n&quot; Malformed function or procedure escape syntax at offset 1.&quot;\r\n\r\nso now I tried hardcoding the values . Still the same problem. What is offset? please help me to resolve the error. Iv already checked the order and datatype of fields.They are correct.\r\n\r\n    public int  dispCustomer3(Cust cc){\r\n    \tcon=dbCon.getConnection();\r\n    \t//PreparedStatement ps3=null;\r\n    \tSystem.out.println(&quot;inside update function &quot;);\r\n    \tCallableStatement callableStatement =null;\r\n    \ttry {\r\n    \t\tcallableStatement=con.prepareCall(&quot;{SELECT fn_UpdateCustomer(37, &#39;Test_Customer56&#39;,&#39;Test_Customer56&#39;,&#39;Requirement&#39;,&#39;Customer_Location&#39;,NULL,2,2,NULL,&#39;Customer_Contact_Info&#39;,&#39;Account_Contact_Info&#39;,&#39;01-02-2016&#39;,&#39;01-04-2016&#39;,5,&#39;Comments&#39;,1,2);}&quot;);\r\n    \t\t/*callableStatement.setInt(1,cc.getCustId());\r\n    \t    callableStatement.setString(2,cc.getShortName());\r\n    \t    callableStatement.setString(3,cc.getStatus_name() );\r\n    \t\tcallableStatement.setString(4,cc.getRequirement());\r\n    \t\tcallableStatement.setString(5,cc.getCustomer_location());\r\n    \t\tcallableStatement.setInt(6,cc.getDemo_location_type_id());\r\n    \t\tcallableStatement.setInt(7, cc.getDeployment_type_id());\r\n    \t\tcallableStatement.setInt(8, cc.getRequested_by_id());\r\n    \t\tcallableStatement.setInt(9,\tcc.getPilot_resource_id());\r\n    \t\tcallableStatement.setString(10, cc.getCustomer_contact_info());\r\n    \t\tcallableStatement.setString(11, cc.getAccount_contact_info());\r\n    \t\tcallableStatement.setDate(12, cc.getDemo_planned_on());\r\n    \t\tcallableStatement.setDate(13, cc.getDemo_actual_on());\r\n    \t\tcallableStatement.setInt(14, cc.getStatus_id());\r\n    \t\tcallableStatement.setString(15, cc.getComments());*/\r\n    \t    callableStatement.registerOutParameter(1, java.sql.Types.INTEGER);\r\n    \t    callableStatement.executeUpdate();\r\n    \t   \r\n    \t  \r\n          \r\n    \t} catch (SQLException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}finally{dbCon.closeConnection(con);}\r\n    \treturn 1;\r\n    \r\n    \t\r\n    \t\r\n    }\r\n    }\r\n\r\n","title":"Malformed function or procedure escape syntax at offset 1","body":"<p>I executed a code in eclipse and my objective is to call a stored procedure in postgres database. I tried with values passed from servlet and got this error:\n\" Malformed function or procedure escape syntax at offset 1.\"</p>\n\n<p>so now I tried hardcoding the values . Still the same problem. What is offset? please help me to resolve the error. Iv already checked the order and datatype of fields.They are correct.</p>\n\n<pre><code>public int  dispCustomer3(Cust cc){\n    con=dbCon.getConnection();\n    //PreparedStatement ps3=null;\n    System.out.println(\"inside update function \");\n    CallableStatement callableStatement =null;\n    try {\n        callableStatement=con.prepareCall(\"{SELECT fn_UpdateCustomer(37, 'Test_Customer56','Test_Customer56','Requirement','Customer_Location',NULL,2,2,NULL,'Customer_Contact_Info','Account_Contact_Info','01-02-2016','01-04-2016',5,'Comments',1,2);}\");\n        /*callableStatement.setInt(1,cc.getCustId());\n        callableStatement.setString(2,cc.getShortName());\n        callableStatement.setString(3,cc.getStatus_name() );\n        callableStatement.setString(4,cc.getRequirement());\n        callableStatement.setString(5,cc.getCustomer_location());\n        callableStatement.setInt(6,cc.getDemo_location_type_id());\n        callableStatement.setInt(7, cc.getDeployment_type_id());\n        callableStatement.setInt(8, cc.getRequested_by_id());\n        callableStatement.setInt(9, cc.getPilot_resource_id());\n        callableStatement.setString(10, cc.getCustomer_contact_info());\n        callableStatement.setString(11, cc.getAccount_contact_info());\n        callableStatement.setDate(12, cc.getDemo_planned_on());\n        callableStatement.setDate(13, cc.getDemo_actual_on());\n        callableStatement.setInt(14, cc.getStatus_id());\n        callableStatement.setString(15, cc.getComments());*/\n        callableStatement.registerOutParameter(1, java.sql.Types.INTEGER);\n        callableStatement.executeUpdate();\n\n\n\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }finally{dbCon.closeConnection(con);}\n    return 1;\n\n\n\n}\n}\n</code></pre>\n"},{"tags":["java","apache-poi","xssf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1661229652,"post_id":73452646,"comment_id":129715353,"body_markdown":"`XSSFPivotTable pivotTable = pivot_sheet.createPivotTable(a,b,sheet);` : Where is `sheet` coming tom here? It is not declared in the code. `AreaReference a=new AreaReference(&quot;A1:C51&quot;);`: What old Apache POI version are you using? An why not using the current version 5.2.2?","body":"<code>XSSFPivotTable pivotTable = pivot_sheet.createPivotTable(a,b,sheet);</code> : Where is <code>sheet</code> coming tom here? It is not declared in the code. <code>AreaReference a=new AreaReference(&quot;A1:C51&quot;);</code>: What old Apache POI version are you using? An why not using the current version 5.2.2?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1661231633,"post_id":73452646,"comment_id":129715697,"body_markdown":"Just tried. Using the current `apache poi 5.2.2` it is as simple as repeating the steps from `createPivotTable` to `addColumnLabel` having a different `CellReference b` which sets the start position of the pivot table&#39;s sheet representation.","body":"Just tried. Using the current <code>apache poi 5.2.2</code> it is as simple as repeating the steps from <code>createPivotTable</code> to <code>addColumnLabel</code> having a different <code>CellReference b</code> which sets the start position of the pivot table&#39;s sheet representation."},{"owner":{"account_id":11884292,"reputation":43,"user_id":8697117,"display_name":"user8697117"},"score":0,"creation_date":1661305855,"post_id":73452646,"comment_id":129738362,"body_markdown":"@AxelRichter Please see the edited code in the post above. I tired as you have suggested and it works placing the second pivot table under the first pivot table on same sheet. But how to dynamically know the CellReference to place second pivot table under the first pivot table? In the above case i used &quot;A35&quot; which should be dynamically done. Any inputs would be helpful..","body":"@AxelRichter Please see the edited code in the post above. I tired as you have suggested and it works placing the second pivot table under the first pivot table on same sheet. But how to dynamically know the CellReference to place second pivot table under the first pivot table? In the above case i used &quot;A35&quot; which should be dynamically done. Any inputs would be helpful.."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1661317624,"post_id":73452646,"comment_id":129739889,"body_markdown":"Counting how much space takes a pivot table representation in the sheet top down in rows is complicated. It mainly depends on how much different items are in data for row labels. And to get this one would need to do the pivoting using code additionally. Apache POI does not so. It only creates the pivot table description. Excel does the pivoting then. So Apache POI does not know how much space a pivot table representation takes in the sheet.","body":"Counting how much space takes a pivot table representation in the sheet top down in rows is complicated. It mainly depends on how much different items are in data for row labels. And to get this one would need to do the pivoting using code additionally. Apache POI does not so. It only creates the pivot table description. Excel does the pivoting then. So Apache POI does not know how much space a pivot table representation takes in the sheet."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661319719,"post_id":73452646,"comment_id":129740262,"body_markdown":"Overall, placing multiple pivot tables in one worksheet is not a good idea. The end user might want to change the pivot table settings in Excel&#39;s GUI. But this will fail very fast, because even the GUI does not shift rows or columns to take place for the changed pivot table. It only tells that pivot tables cannot overlap.","body":"Overall, placing multiple pivot tables in one worksheet is not a good idea. The end user might want to change the pivot table settings in Excel&#39;s GUI. But this will fail very fast, because even the GUI does not shift rows or columns to take place for the changed pivot table. It only tells that pivot tables cannot overlap."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661401718,"creation_date":1661364534,"answer_id":73477805,"question_id":73452646,"body_markdown":"Counting how much space takes a pivot table representation in the sheet top down in rows is complicated. It mainly depends on how much different items are in data for row labels. And to get this one would need to do the pivoting using code additionally. Apache POI does not so. It only creates the pivot table description. Excel does the pivoting then. So Apache POI does not know how much space a pivot table representation takes in the sheet.\r\n\r\nOne could calculate the rows per pivot table as follows:\r\n\r\n - 4 rows at top for possible report filters\r\n - 1 row per unique item per row label, multiple row labels multiply\r\n   unique items\r\n - 1 row for the heading of col labels\r\n - 1 row for the heading of column labels having data consolidate\r\n   functions\r\n - 1 row for the totals\r\n\r\nMain task for this is to get the unique items per row label. To be as independent as possible, we should get the unique items per data column in the data source.\r\n\r\nAdditional for independence reasons, we could get the used data range of the data source programmatically.\r\n\r\nComplete example: Needs a data source in first sheet of `ExcelSource.xlsx` which has one heading row, three columns of text data and two columns of numeric data. \r\n\r\nExample:\r\n\r\n    Company\t    Country\t    Product\t    Count\t  Amount\r\n    Company1\tCountry1\tProduct1\t1,083 \t  84,474.00 \r\n    Company1\tCountry1\tProduct2\t1,692 \t  11,844.00 \r\n    Company1\tCountry1\tProduct3\t1,431 \t  77,274.00 \r\n    Company1\tCountry1\tProduct4\t  296    -25,752.00 \r\n    Company1\tCountry2\tProduct1\t  996 \t -26,892.00 \r\n    Company1\tCountry2\tProduct2\t1,315 \t -69,695.00 \r\n    Company1\tCountry2\tProduct3\t  480 \t    -480.00 \r\n    Company1\tCountry2\tProduct4\t  390 \t -17,550.00 \r\n    Company1\tCountry3\tProduct1\t1,363 \t-118,581.00 \r\n    Company1\tCountry3\tProduct2\t  419 \t  40,224.00 \r\n    Company1\tCountry3\tProduct3\t1,990 \t-103,480.00 \r\n    Company1\tCountry3\tProduct4\t  307 \t -19,341.00 \r\n    Company2\tCountry1\tProduct1\t1,824 \t -80,256.00 \r\n    ...\r\n\r\nCode:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    import org.apache.poi.ss.util.AreaReference;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import java.util.Locale;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.TreeSet;\r\n    \r\n    class CreatePivotTableDefault {\r\n        \r\n     static int getLastFilledRow(Sheet sheet, int col) {\r\n      int lastStoredRowNum = sheet.getLastRowNum();\r\n      for (int r = lastStoredRowNum; r &gt;= 0; r--) {\r\n       Row row = sheet.getRow(r);\r\n       if (row != null) {\r\n        Cell cell = row.getCell(col);\r\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return row.getRowNum();  \r\n       }       \r\n      }\r\n      return -1; // the sheet is empty in that col \r\n     }\r\n     \r\n     static int getLastFilledColumn(Sheet sheet, int rowIdx) {\r\n      int lastStoredCellNum = sheet.getRow(rowIdx).getLastCellNum();\r\n      Row row = sheet.getRow(rowIdx);\r\n      if (row != null) {\r\n       for (int c = lastStoredCellNum; c &gt;= 0; c--) {\r\n        Cell cell = row.getCell(c);\r\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return cell.getColumnIndex();  \r\n       }       \r\n      }\r\n      return -1; // the sheet is empty in that row\r\n     }\r\n     \r\n     static Map&lt;Integer, String&gt; getHeadings(Sheet sheet) {\r\n      DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n      dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n      int lastCol = getLastFilledColumn(sheet, firstRow);   \r\n      Map&lt;Integer, String&gt; headings = new HashMap&lt;Integer, String&gt;();\r\n      Row row = sheet.getRow(firstRow);\r\n      if (row != null) {\r\n       for (int c = firstCol; c &lt;= lastCol; c++) {\r\n        Cell cell = row.getCell(c);\r\n        headings.put(c, dataFormatter.formatCellValue(cell));      \r\n       }\r\n      }\r\n      return headings;\r\n     }\r\n     \r\n     static Map&lt;Integer, String&gt; getDataFormats(Sheet sheet, int headerRows) {\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n      int lastCol = getLastFilledColumn(sheet, firstRow);  \r\n      Map&lt;Integer, String&gt; dataFormats = new HashMap&lt;Integer, String&gt;();\r\n      Row row = sheet.getRow(firstRow + headerRows);\r\n      if (row != null) {\r\n       for (int c = firstCol; c &lt;= lastCol; c++) {\r\n        Cell cell = row.getCell(c);\r\n        if (cell != null) {\r\n         dataFormats.put(c, cell.getCellStyle().getDataFormatString());\r\n        }     \r\n       }\r\n      }\r\n      return dataFormats;\r\n     }\r\n     \r\n     static Map&lt;Integer, TreeSet&lt;String&gt;&gt; getUniqueItems(Sheet sheet, int headerRows) {\r\n      DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n      dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n      int lastCol = getLastFilledColumn(sheet, firstRow);  \r\n      int lastRow = getLastFilledRow(sheet, firstCol);\r\n      Map&lt;Integer, TreeSet&lt;String&gt;&gt; uniqueItemsMap = new HashMap&lt;Integer, TreeSet&lt;String&gt;&gt;();\r\n      for (int c = firstCol; c &lt;= lastCol; c++) {\r\n       TreeSet&lt;String&gt; uniqueItems = new TreeSet&lt;String&gt;(String.CASE_INSENSITIVE_ORDER);    \r\n       for (int r = firstRow + headerRows; r &lt;= lastRow; r++) {\r\n        Row row = sheet.getRow(r);\r\n        if (row != null) {\r\n         Cell cell = row.getCell(c);\r\n         uniqueItems.add(dataFormatter.formatCellValue(cell));      \r\n        }\r\n        uniqueItemsMap.put(c, uniqueItems);\r\n       }  \r\n      }\r\n      return uniqueItemsMap;\r\n     }\r\n     \r\n     static AreaReference getUsedDataRange(Sheet sheet) {\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n      int lastCol = getLastFilledColumn(sheet, firstRow);  \r\n      int lastRow = getLastFilledRow(sheet, firstCol);\r\n      AreaReference usedDataRange = null;\r\n      try {\r\n       usedDataRange = new AreaReference( // this might fail if firstRow, firstCol, lastRow and/or lastCol are -1\r\n        new CellReference(firstRow, firstCol), \r\n        new CellReference(lastRow, lastCol), \r\n        SpreadsheetVersion.EXCEL2007\r\n       );\r\n      } catch (Exception ex) {\r\n       // do nothing simply return usedDataRange as null\r\n      }\r\n      return usedDataRange;     \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;./ExcelSource.xlsx&quot;)); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;./ExcelResult.xlsx&quot;) ) {\r\n    \r\n       XSSFSheet dataSheet = workbook.getSheetAt(0);\r\n          \r\n       Map&lt;Integer, String&gt; headings = getHeadings(dataSheet);\r\n       Map&lt;Integer, String&gt; dataFormats = getDataFormats(dataSheet, 1);\r\n       \r\n       Map&lt;Integer, TreeSet&lt;String&gt;&gt; uniqueItems = getUniqueItems(dataSheet, 1);\r\n         \r\n       AreaReference usedDataRange = getUsedDataRange(dataSheet);\r\n       int firstCol = usedDataRange.getFirstCell().getCol();\r\n    \r\n       XSSFSheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;); \r\n       \r\n       int startRow = 4; // row 0 to 3: 4 rows for report filters\r\n       int endRow = startRow;\r\n       CellReference pivotTableLocation = new CellReference(startRow, 0);\r\n       XSSFPivotTable pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\r\n       pivotTable.addReportFilter(0); // does not need a row additional\r\n       pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 1).size(); // needs one row per unique item per row label\r\n       pivotTable.addRowLabel(2); endRow += uniqueItems.get(firstCol + 1).size() * uniqueItems.get(firstCol + 2).size(); // needs one row per unique item per row label\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\r\n       endRow += 1; // one row for the totals\r\n       \r\n       startRow = endRow + 1 + 4; // one row distance + 4 rows for report filters\r\n       endRow = startRow;\r\n       pivotTableLocation = new CellReference(startRow, 0);\r\n       pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\r\n       pivotTable.addRowLabel(2); endRow += uniqueItems.get(firstCol + 2).size(); // needs one row per unique item per row label\r\n       pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 2).size() * uniqueItems.get(firstCol + 1).size(); // needs one row per unique item per row label\r\n       pivotTable.addColLabel(0); endRow += 1; // needs one row for the heading\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\r\n       endRow += 1; // one row for the totals\r\n       \r\n       startRow = endRow + 1 + 4; // one row distance + 4 rows for report filters\r\n       endRow = startRow;\r\n       pivotTableLocation = new CellReference(startRow, 0);\r\n       pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\r\n       pivotTable.addReportFilter(2); // does not need a row additional\r\n       pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 0).size(); // needs one row per unique item per row label\r\n       pivotTable.addColLabel(0); endRow += 1; // needs one row for the heading\r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \r\n       pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\r\n       endRow += 1; // one row for the totals\r\n       \r\n       System.out.println(endRow);\r\n          \r\n       workbook.write(fileout);\r\n    \r\n      }\r\n    \r\n     }\r\n    }\r\n\r\n\r\nOverall, placing multiple pivot tables in one worksheet is not a good idea. The end user might want to change the pivot table settings in Excel&#39;s GUI. But this will fail very fast, because even the GUI does not shift rows or columns to take place for the changed pivot table. If the changed pivot table needs morre rows , the GUI only tells that pivot tables cannot overlap and fails.\r\n\r\nSo better approach would be to take one worksheet per pivot table.","title":"multiple pivot tables in the same sheet using apache poi","body":"<p>Counting how much space takes a pivot table representation in the sheet top down in rows is complicated. It mainly depends on how much different items are in data for row labels. And to get this one would need to do the pivoting using code additionally. Apache POI does not so. It only creates the pivot table description. Excel does the pivoting then. So Apache POI does not know how much space a pivot table representation takes in the sheet.</p>\n<p>One could calculate the rows per pivot table as follows:</p>\n<ul>\n<li>4 rows at top for possible report filters</li>\n<li>1 row per unique item per row label, multiple row labels multiply\nunique items</li>\n<li>1 row for the heading of col labels</li>\n<li>1 row for the heading of column labels having data consolidate\nfunctions</li>\n<li>1 row for the totals</li>\n</ul>\n<p>Main task for this is to get the unique items per row label. To be as independent as possible, we should get the unique items per data column in the data source.</p>\n<p>Additional for independence reasons, we could get the used data range of the data source programmatically.</p>\n<p>Complete example: Needs a data source in first sheet of <code>ExcelSource.xlsx</code> which has one heading row, three columns of text data and two columns of numeric data.</p>\n<p>Example:</p>\n<pre><code>Company     Country     Product     Count     Amount\nCompany1    Country1    Product1    1,083     84,474.00 \nCompany1    Country1    Product2    1,692     11,844.00 \nCompany1    Country1    Product3    1,431     77,274.00 \nCompany1    Country1    Product4      296    -25,752.00 \nCompany1    Country2    Product1      996    -26,892.00 \nCompany1    Country2    Product2    1,315    -69,695.00 \nCompany1    Country2    Product3      480       -480.00 \nCompany1    Country2    Product4      390    -17,550.00 \nCompany1    Country3    Product1    1,363   -118,581.00 \nCompany1    Country3    Product2      419     40,224.00 \nCompany1    Country3    Product3    1,990   -103,480.00 \nCompany1    Country3    Product4      307    -19,341.00 \nCompany2    Country1    Product1    1,824    -80,256.00 \n...\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.ss.SpreadsheetVersion;\nimport org.apache.poi.ss.util.AreaReference;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport java.util.Locale;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.util.TreeSet;\n\nclass CreatePivotTableDefault {\n    \n static int getLastFilledRow(Sheet sheet, int col) {\n  int lastStoredRowNum = sheet.getLastRowNum();\n  for (int r = lastStoredRowNum; r &gt;= 0; r--) {\n   Row row = sheet.getRow(r);\n   if (row != null) {\n    Cell cell = row.getCell(col);\n    if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return row.getRowNum();  \n   }       \n  }\n  return -1; // the sheet is empty in that col \n }\n \n static int getLastFilledColumn(Sheet sheet, int rowIdx) {\n  int lastStoredCellNum = sheet.getRow(rowIdx).getLastCellNum();\n  Row row = sheet.getRow(rowIdx);\n  if (row != null) {\n   for (int c = lastStoredCellNum; c &gt;= 0; c--) {\n    Cell cell = row.getCell(c);\n    if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return cell.getColumnIndex();  \n   }       \n  }\n  return -1; // the sheet is empty in that row\n }\n \n static Map&lt;Integer, String&gt; getHeadings(Sheet sheet) {\n  DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\n  dataFormatter.setUseCachedValuesForFormulaCells(true);\n  int firstRow = sheet.getFirstRowNum();\n  int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n  int lastCol = getLastFilledColumn(sheet, firstRow);   \n  Map&lt;Integer, String&gt; headings = new HashMap&lt;Integer, String&gt;();\n  Row row = sheet.getRow(firstRow);\n  if (row != null) {\n   for (int c = firstCol; c &lt;= lastCol; c++) {\n    Cell cell = row.getCell(c);\n    headings.put(c, dataFormatter.formatCellValue(cell));      \n   }\n  }\n  return headings;\n }\n \n static Map&lt;Integer, String&gt; getDataFormats(Sheet sheet, int headerRows) {\n  int firstRow = sheet.getFirstRowNum();\n  int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n  int lastCol = getLastFilledColumn(sheet, firstRow);  \n  Map&lt;Integer, String&gt; dataFormats = new HashMap&lt;Integer, String&gt;();\n  Row row = sheet.getRow(firstRow + headerRows);\n  if (row != null) {\n   for (int c = firstCol; c &lt;= lastCol; c++) {\n    Cell cell = row.getCell(c);\n    if (cell != null) {\n     dataFormats.put(c, cell.getCellStyle().getDataFormatString());\n    }     \n   }\n  }\n  return dataFormats;\n }\n \n static Map&lt;Integer, TreeSet&lt;String&gt;&gt; getUniqueItems(Sheet sheet, int headerRows) {\n  DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\n  dataFormatter.setUseCachedValuesForFormulaCells(true);\n  int firstRow = sheet.getFirstRowNum();\n  int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n  int lastCol = getLastFilledColumn(sheet, firstRow);  \n  int lastRow = getLastFilledRow(sheet, firstCol);\n  Map&lt;Integer, TreeSet&lt;String&gt;&gt; uniqueItemsMap = new HashMap&lt;Integer, TreeSet&lt;String&gt;&gt;();\n  for (int c = firstCol; c &lt;= lastCol; c++) {\n   TreeSet&lt;String&gt; uniqueItems = new TreeSet&lt;String&gt;(String.CASE_INSENSITIVE_ORDER);    \n   for (int r = firstRow + headerRows; r &lt;= lastRow; r++) {\n    Row row = sheet.getRow(r);\n    if (row != null) {\n     Cell cell = row.getCell(c);\n     uniqueItems.add(dataFormatter.formatCellValue(cell));      \n    }\n    uniqueItemsMap.put(c, uniqueItems);\n   }  \n  }\n  return uniqueItemsMap;\n }\n \n static AreaReference getUsedDataRange(Sheet sheet) {\n  int firstRow = sheet.getFirstRowNum();\n  int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n  int lastCol = getLastFilledColumn(sheet, firstRow);  \n  int lastRow = getLastFilledRow(sheet, firstCol);\n  AreaReference usedDataRange = null;\n  try {\n   usedDataRange = new AreaReference( // this might fail if firstRow, firstCol, lastRow and/or lastCol are -1\n    new CellReference(firstRow, firstCol), \n    new CellReference(lastRow, lastCol), \n    SpreadsheetVersion.EXCEL2007\n   );\n  } catch (Exception ex) {\n   // do nothing simply return usedDataRange as null\n  }\n  return usedDataRange;     \n }\n\n public static void main(String[] args) throws Exception {\n\n  try (XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;./ExcelSource.xlsx&quot;)); \n       FileOutputStream fileout = new FileOutputStream(&quot;./ExcelResult.xlsx&quot;) ) {\n\n   XSSFSheet dataSheet = workbook.getSheetAt(0);\n      \n   Map&lt;Integer, String&gt; headings = getHeadings(dataSheet);\n   Map&lt;Integer, String&gt; dataFormats = getDataFormats(dataSheet, 1);\n   \n   Map&lt;Integer, TreeSet&lt;String&gt;&gt; uniqueItems = getUniqueItems(dataSheet, 1);\n     \n   AreaReference usedDataRange = getUsedDataRange(dataSheet);\n   int firstCol = usedDataRange.getFirstCell().getCol();\n\n   XSSFSheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;); \n   \n   int startRow = 4; // row 0 to 3: 4 rows for report filters\n   int endRow = startRow;\n   CellReference pivotTableLocation = new CellReference(startRow, 0);\n   XSSFPivotTable pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\n   pivotTable.addReportFilter(0); // does not need a row additional\n   pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 1).size(); // needs one row per unique item per row label\n   pivotTable.addRowLabel(2); endRow += uniqueItems.get(firstCol + 1).size() * uniqueItems.get(firstCol + 2).size(); // needs one row per unique item per row label\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\n   endRow += 1; // one row for the totals\n   \n   startRow = endRow + 1 + 4; // one row distance + 4 rows for report filters\n   endRow = startRow;\n   pivotTableLocation = new CellReference(startRow, 0);\n   pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\n   pivotTable.addRowLabel(2); endRow += uniqueItems.get(firstCol + 2).size(); // needs one row per unique item per row label\n   pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 2).size() * uniqueItems.get(firstCol + 1).size(); // needs one row per unique item per row label\n   pivotTable.addColLabel(0); endRow += 1; // needs one row for the heading\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\n   endRow += 1; // one row for the totals\n   \n   startRow = endRow + 1 + 4; // one row distance + 4 rows for report filters\n   endRow = startRow;\n   pivotTableLocation = new CellReference(startRow, 0);\n   pivotTable = pivotSheet.createPivotTable(usedDataRange, pivotTableLocation, dataSheet);\n   pivotTable.addReportFilter(2); // does not need a row additional\n   pivotTable.addRowLabel(1); endRow += uniqueItems.get(firstCol + 0).size(); // needs one row per unique item per row label\n   pivotTable.addColLabel(0); endRow += 1; // needs one row for the heading\n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 3, &quot;Sum &quot; + headings.get(firstCol + 3), dataFormats.get(firstCol + 3)); \n   pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 4, &quot;Sum &quot; + headings.get(firstCol + 4), dataFormats.get(firstCol + 4)); endRow += 1; // needs one row for the heading\n   endRow += 1; // one row for the totals\n   \n   System.out.println(endRow);\n      \n   workbook.write(fileout);\n\n  }\n\n }\n}\n</code></pre>\n<p>Overall, placing multiple pivot tables in one worksheet is not a good idea. The end user might want to change the pivot table settings in Excel's GUI. But this will fail very fast, because even the GUI does not shift rows or columns to take place for the changed pivot table. If the changed pivot table needs morre rows , the GUI only tells that pivot tables cannot overlap and fails.</p>\n<p>So better approach would be to take one worksheet per pivot table.</p>\n"}],"owner":{"account_id":11884292,"reputation":43,"user_id":8697117,"display_name":"user8697117"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661401718,"creation_date":1661223160,"question_id":73452646,"body_markdown":"How to create multiple(two) pivot table using apache POI in same sheet of excel.\r\nIn the below example, i can able to create single pivot table in the sheet. How to add other pivot table dynamically in the same sheet?\r\n\r\n\t\r\n\r\n\t\t/* Read the input file that contains the data to pivot */\r\n            FileInputStream input_document = new FileInputStream(new File(&quot;inputFile.xlsx&quot;));    \r\n            /* Create a POI XSSFWorkbook Object from the input file */\r\n            XSSFWorkbook my_xlsx_workbook = new XSSFWorkbook(input_document); \r\n            /* Read Data to be Pivoted - we have only one worksheet */\r\n            XSSFSheet pivot_sheet=my_xlsx_workbook.createSheet();\r\n            /* Get the reference for Pivot Data */\r\n            AreaReference a=new AreaReference(&quot;A1:C51&quot;);\r\n            /* Find out where the Pivot Table needs to be placed */\r\n            CellReference b=new CellReference(&quot;I5&quot;);\r\n            /* Create Pivot Table */\r\n            XSSFPivotTable pivotTable = pivot_sheet.createPivotTable(a,b,sheet);\r\n            /* Add filters */\r\n            pivotTable.addReportFilter(0);\r\n            pivotTable.addRowLabel(1);\r\n            pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2); \r\n            /* Write Pivot Table to File */\r\n            FileOutputStream output_file = new FileOutputStream(new File(&quot;POI_XLS_Pivot_Example.xlsx&quot;)); \r\n            my_xlsx_workbook.write(output_file);\r\n            input_document.close(); \r\n\r\n\r\n------EDIT---------\r\nIn the below code, first pivot table is generated and second pivot table also should be shown on the same sheet after the first pivot table. How to know the cellReference to place the second pivot table based on where the first pivot table ends. In the below code sample i gave &quot;A35&quot; to show the second pivot table,how to replace A35 with the dynamic generated last row value of the first pivot table in same sheet?\r\n\r\n       //dynamic cell\r\n           int firstRow = dataSheet.getFirstRowNum();\r\n           int lastRow = dataSheet.getLastRowNum();\r\n           int firstCol = dataSheet.getRow(0).getFirstCellNum();\r\n           int lastCol = dataSheet.getRow(0).getLastCellNum();\r\n    \r\n           CellReference topLeft = new CellReference(firstRow, firstCol);\r\n           CellReference botRight = new CellReference(lastRow, lastCol - 1);\r\n           AreaReference ar = new AreaReference(topLeft, botRight,SpreadsheetVersion.EXCEL2007);\r\n            /* Find out where the Pivot Table needs to be placed */\r\n            CellReference cr=new CellReference(&quot;A5&quot;);\r\n          // CellReference cr = new CellReference(firstRow + 4, lastCol + 1);\r\n            /* Create Pivot Table */\r\n            XSSFPivotTable pivotTable = sheet.createPivotTable(ar, cr, dataSheet);\r\n     /* Add filters - first pivot table */\r\n            pivotTable.addRowLabel(11);\r\n            pivotTable.addRowLabel(8);\r\n            pivotTable.addColLabel(15);\r\n            pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 77);\r\n    \r\n      /* Second Pivot table dynamic generation */\r\n     CellReference cr2=new CellReference(&quot;A35&quot;);//How to get dynamically this cellReference &quot;A35&quot; value based on the first pivot table generation\r\n           XSSFPivotTable pivotTable2 = sheet.createPivotTable(ar, cr2, dataSheet);\r\n           /* Add filters */\r\n           pivotTable2.addRowLabel(11);\r\n           pivotTable2.addColLabel(15);\r\n           pivotTable2.addColumnLabel(DataConsolidateFunction.SUM, 77);","title":"multiple pivot tables in the same sheet using apache poi","body":"<p>How to create multiple(two) pivot table using apache POI in same sheet of excel.\nIn the below example, i can able to create single pivot table in the sheet. How to add other pivot table dynamically in the same sheet?</p>\n<pre><code>    /* Read the input file that contains the data to pivot */\n        FileInputStream input_document = new FileInputStream(new File(&quot;inputFile.xlsx&quot;));    \n        /* Create a POI XSSFWorkbook Object from the input file */\n        XSSFWorkbook my_xlsx_workbook = new XSSFWorkbook(input_document); \n        /* Read Data to be Pivoted - we have only one worksheet */\n        XSSFSheet pivot_sheet=my_xlsx_workbook.createSheet();\n        /* Get the reference for Pivot Data */\n        AreaReference a=new AreaReference(&quot;A1:C51&quot;);\n        /* Find out where the Pivot Table needs to be placed */\n        CellReference b=new CellReference(&quot;I5&quot;);\n        /* Create Pivot Table */\n        XSSFPivotTable pivotTable = pivot_sheet.createPivotTable(a,b,sheet);\n        /* Add filters */\n        pivotTable.addReportFilter(0);\n        pivotTable.addRowLabel(1);\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 2); \n        /* Write Pivot Table to File */\n        FileOutputStream output_file = new FileOutputStream(new File(&quot;POI_XLS_Pivot_Example.xlsx&quot;)); \n        my_xlsx_workbook.write(output_file);\n        input_document.close(); \n</code></pre>\n<p>------EDIT---------\nIn the below code, first pivot table is generated and second pivot table also should be shown on the same sheet after the first pivot table. How to know the cellReference to place the second pivot table based on where the first pivot table ends. In the below code sample i gave &quot;A35&quot; to show the second pivot table,how to replace A35 with the dynamic generated last row value of the first pivot table in same sheet?</p>\n<pre><code>   //dynamic cell\n       int firstRow = dataSheet.getFirstRowNum();\n       int lastRow = dataSheet.getLastRowNum();\n       int firstCol = dataSheet.getRow(0).getFirstCellNum();\n       int lastCol = dataSheet.getRow(0).getLastCellNum();\n\n       CellReference topLeft = new CellReference(firstRow, firstCol);\n       CellReference botRight = new CellReference(lastRow, lastCol - 1);\n       AreaReference ar = new AreaReference(topLeft, botRight,SpreadsheetVersion.EXCEL2007);\n        /* Find out where the Pivot Table needs to be placed */\n        CellReference cr=new CellReference(&quot;A5&quot;);\n      // CellReference cr = new CellReference(firstRow + 4, lastCol + 1);\n        /* Create Pivot Table */\n        XSSFPivotTable pivotTable = sheet.createPivotTable(ar, cr, dataSheet);\n /* Add filters - first pivot table */\n        pivotTable.addRowLabel(11);\n        pivotTable.addRowLabel(8);\n        pivotTable.addColLabel(15);\n        pivotTable.addColumnLabel(DataConsolidateFunction.SUM, 77);\n\n  /* Second Pivot table dynamic generation */\n CellReference cr2=new CellReference(&quot;A35&quot;);//How to get dynamically this cellReference &quot;A35&quot; value based on the first pivot table generation\n       XSSFPivotTable pivotTable2 = sheet.createPivotTable(ar, cr2, dataSheet);\n       /* Add filters */\n       pivotTable2.addRowLabel(11);\n       pivotTable2.addColLabel(15);\n       pivotTable2.addColumnLabel(DataConsolidateFunction.SUM, 77);\n</code></pre>\n"},{"tags":["java","performance","asynchronous","concurrency","completable-future"],"answers":[{"tags":[],"owner":{"account_id":7866948,"reputation":995,"user_id":5945498,"display_name":"Ashutosh A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661401681,"creation_date":1661401681,"answer_id":73481833,"question_id":73459802,"body_markdown":"Short answer - firing all async HTTP requests first would be better\r\nWhy - HTTP calls get longer time to complete (so while you execute all the business-logic and db-updates, (all) the HTTP calls are on their way to completion)","title":"Is there performance advantage to aggregating async operations before proceeding to sync operations in Java?","body":"<p>Short answer - firing all async HTTP requests first would be better\nWhy - HTTP calls get longer time to complete (so while you execute all the business-logic and db-updates, (all) the HTTP calls are on their way to completion)</p>\n"}],"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661401681,"creation_date":1661261916,"question_id":73459802,"body_markdown":"I have a Spring Boot MVC app where I have a Java method which:\r\n1. makes HTTP requests to an API service for some information per each user (async)\r\n2. does some business logic with the results (sync)\r\n3. updates database with the results (sync - JDBC)\r\n\r\nFor HTTP requests I&#39;ll be using an async client like Apache HTTP async client. I&#39;m wondering if there&#39;s any performance benefit to first perform all the HTTP calls (async operations) in a loop and then have another loop which will do business logic along with updating the DB or it&#39;s ok to just have a single loop which combines sync/async operations on each iteration. All operations would use `Future`/`CompletableFuture`:\r\n\r\n**2 loops version:**\r\n\r\n```java\r\n public String testWithTwoLoops() throws Exception {\r\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom()\r\n        .setMaxConnPerRoute(1000)\r\n        .setMaxConnTotal(1000)\r\n        .build();\r\n    httpAsyncClient.start();\r\n\r\n    List&lt;Future&lt;HttpResponse&gt;&gt; futureList = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; 100; i++) {\r\n      HttpGet httpGet = new HttpGet(&quot;http://localhost:3001&quot;);\r\n      Future&lt;HttpResponse&gt; responseFuture = httpAsyncClient.execute(httpGet, null);\r\n      futureList.add(responseFuture);\r\n    }\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n      futureList.forEach(f -&gt; {\r\n        try {\r\n          HttpResponse httpResponse = f.get();\r\n          // perform business logic/update db\r\n        } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n          e.printStackTrace();\r\n        }\r\n      });\r\n    }\r\n\r\n    return &quot;result&quot;;\r\n  }\r\n```\r\n\r\n**1 loop version:**\r\n\r\n```java\r\n  public String testWithOneLoop() throws Exception {\r\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom()\r\n        .setMaxConnPerRoute(1000)\r\n        .setMaxConnTotal(1000)\r\n        .build();\r\n    httpAsyncClient.start();\r\n\r\n    List&lt;CompletableFuture&lt;HttpResponse&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      CompletableFuture&lt;HttpResponse&gt; httpResponseCompletableFuture = apiCallWithBusinessLogicAndDbUpdate(httpAsyncClient);\r\n      futures.add(httpResponseCompletableFuture);\r\n    }\r\n\r\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]))\r\n            .join();\r\n\r\n    return &quot;result&quot;;\r\n  }\r\n```\r\n","title":"Is there performance advantage to aggregating async operations before proceeding to sync operations in Java?","body":"<p>I have a Spring Boot MVC app where I have a Java method which:</p>\n<ol>\n<li>makes HTTP requests to an API service for some information per each user (async)</li>\n<li>does some business logic with the results (sync)</li>\n<li>updates database with the results (sync - JDBC)</li>\n</ol>\n<p>For HTTP requests I'll be using an async client like Apache HTTP async client. I'm wondering if there's any performance benefit to first perform all the HTTP calls (async operations) in a loop and then have another loop which will do business logic along with updating the DB or it's ok to just have a single loop which combines sync/async operations on each iteration. All operations would use <code>Future</code>/<code>CompletableFuture</code>:</p>\n<p><strong>2 loops version:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> public String testWithTwoLoops() throws Exception {\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom()\n        .setMaxConnPerRoute(1000)\n        .setMaxConnTotal(1000)\n        .build();\n    httpAsyncClient.start();\n\n    List&lt;Future&lt;HttpResponse&gt;&gt; futureList = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 100; i++) {\n      HttpGet httpGet = new HttpGet(&quot;http://localhost:3001&quot;);\n      Future&lt;HttpResponse&gt; responseFuture = httpAsyncClient.execute(httpGet, null);\n      futureList.add(responseFuture);\n    }\n\n    for (int i = 0; i &lt; 100; i++) {\n      futureList.forEach(f -&gt; {\n        try {\n          HttpResponse httpResponse = f.get();\n          // perform business logic/update db\n        } catch (InterruptedException e) {\n          e.printStackTrace();\n        } catch (ExecutionException e) {\n          e.printStackTrace();\n        }\n      });\n    }\n\n    return &quot;result&quot;;\n  }\n</code></pre>\n<p><strong>1 loop version:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>  public String testWithOneLoop() throws Exception {\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom()\n        .setMaxConnPerRoute(1000)\n        .setMaxConnTotal(1000)\n        .build();\n    httpAsyncClient.start();\n\n    List&lt;CompletableFuture&lt;HttpResponse&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; i++) {\n      CompletableFuture&lt;HttpResponse&gt; httpResponseCompletableFuture = apiCallWithBusinessLogicAndDbUpdate(httpAsyncClient);\n      futures.add(httpResponseCompletableFuture);\n    }\n\n    CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]))\n            .join();\n\n    return &quot;result&quot;;\n  }\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8907,"page":1085,"page_size":100}
