{"items":[{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1701753449,"post_id":77599439,"comment_id":136811685,"body_markdown":"The documentation for the Elasticsearch Java client is available at https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html","body":"The documentation for the Elasticsearch Java client is available at <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/client/java-api-client/&hellip;</a>"}],"owner":{"account_id":20216024,"reputation":1,"user_id":22126079,"display_name":"Andreas Pichler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701692879,"creation_date":1701692818,"question_id":77599439,"body_markdown":"Hello dear community, \r\n\r\nI am currently migrating some ES queries from spring-data-elasticsearch 4.x to 5.x and have therefore switched from rhlc to elc. Now I am faced with the problem that some queries have to be rebuilt, but I don&#39;t know exactly how to rewrite or cast them so that they are compatible with the new client. Perhaps there are people here who have more experience with ES and could help me here. Would be very happy about it. \r\n\r\n1) How can I extend NativeQuerys with BoolQueryBuilders or how could I rewrite such queries so that they are equivalent to the elc? \r\n\r\n2) How can I extend NativeQueryBuilders with matchQuerys?\r\n\r\n3) How do aggregate on the elc?\r\n\r\n\r\n```\r\nimport org.springframework.data.elasticsearch.client.elc.NativeQuery;\r\nimport org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\r\n\r\n\r\n//1.\r\nBoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n    boolQueryBuilder.must().addAll(Arrays.asList(\r\n      QueryBuilders.matchQuery(&quot;mappingId&quot;, mappingId),\r\n      QueryBuilders.matchQuery(&quot;artId&quot;, articleId)\r\n    ));\r\n    Query query = new NativeQueryBuilder().withQuery(**boolQueryBuilder**).withPageable(Pageable.unpaged()).build();\r\n\r\n//2.\r\nNativeQuery query = new NativeQueryBuilder()\r\n      .withQuery(**QueryBuilders.matchQuery(&quot;artId&quot;, articleId)**)\r\n      .build();\r\n\r\n//3.\r\nNativeQuery query = \r\nnew NativeQueryBuilder().withQuery(boolQueryBuilderForDealer).withPageable(Pageable.unpaged()).build();\r\n    query.addAggregation(**AggregationBuilders.terms(aggregation).field(aggregation).size(100)**);\r\n\r\n```\r\n\r\nCasting type, migrating from hlrc to elc ","title":"Migrating from spring-data-elasticsearch 4.x to 5.x","body":"<p>Hello dear community,</p>\n<p>I am currently migrating some ES queries from spring-data-elasticsearch 4.x to 5.x and have therefore switched from rhlc to elc. Now I am faced with the problem that some queries have to be rebuilt, but I don't know exactly how to rewrite or cast them so that they are compatible with the new client. Perhaps there are people here who have more experience with ES and could help me here. Would be very happy about it.</p>\n<ol>\n<li><p>How can I extend NativeQuerys with BoolQueryBuilders or how could I rewrite such queries so that they are equivalent to the elc?</p>\n</li>\n<li><p>How can I extend NativeQueryBuilders with matchQuerys?</p>\n</li>\n<li><p>How do aggregate on the elc?</p>\n</li>\n</ol>\n<pre><code>import org.springframework.data.elasticsearch.client.elc.NativeQuery;\nimport org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\n\n\n//1.\nBoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n    boolQueryBuilder.must().addAll(Arrays.asList(\n      QueryBuilders.matchQuery(&quot;mappingId&quot;, mappingId),\n      QueryBuilders.matchQuery(&quot;artId&quot;, articleId)\n    ));\n    Query query = new NativeQueryBuilder().withQuery(**boolQueryBuilder**).withPageable(Pageable.unpaged()).build();\n\n//2.\nNativeQuery query = new NativeQueryBuilder()\n      .withQuery(**QueryBuilders.matchQuery(&quot;artId&quot;, articleId)**)\n      .build();\n\n//3.\nNativeQuery query = \nnew NativeQueryBuilder().withQuery(boolQueryBuilderForDealer).withPageable(Pageable.unpaged()).build();\n    query.addAggregation(**AggregationBuilders.terms(aggregation).field(aggregation).size(100)**);\n\n</code></pre>\n<p>Casting type, migrating from hlrc to elc</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701692358,"creation_date":1701692265,"answer_id":77599384,"question_id":77596749,"body_markdown":"Optional Solution 1 : Use @Getter and @Setter instead of @Data in the Task class.\r\n\r\nOptional Solution 2 : `@ToString` and `@EqualsAndHashCode` annotations within `@Data` annotation may cause problems. If you want to use `@Data`, you should override the toString(), equals() and hashCode() methods.\r\n\r\n\r\n\r\nOptional solution 3 : Just add `@EqualsAndHashCode(of = &quot;id&quot;)` to Task class.","title":"How do I remove a tag from a task with a @ManyToMany relationship using Spring Boot JPA?","body":"<p>Optional Solution 1 : Use @Getter and @Setter instead of @Data in the Task class.</p>\n<p>Optional Solution 2 : <code>@ToString</code> and <code>@EqualsAndHashCode</code> annotations within <code>@Data</code> annotation may cause problems. If you want to use <code>@Data</code>, you should override the toString(), equals() and hashCode() methods.</p>\n<p>Optional solution 3 : Just add <code>@EqualsAndHashCode(of = &quot;id&quot;)</code> to Task class.</p>\n"}],"owner":{"account_id":14387521,"reputation":1,"user_id":10393080,"display_name":"Mario Barragan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701692358,"creation_date":1701652061,"question_id":77596749,"body_markdown":"I&#39;m currently working on a task/project/tags web application in Java with extensive use of Spring Boot JPA (I&#39;m relatively new to this framework so bear with me). I&#39;ve declared a @ManyToMany relationship between the Task and Tag entity (defined below).\r\n\r\nTask Entity:\r\n\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n@Entity()\r\n@Table(name = &quot;tasks_dim&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Task {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(updatable = false, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    private String status;\r\n\r\n    private String priority;\r\n\r\n    @Column(name = &quot;task_id_number&quot;, unique = true)\r\n    private String taskIdNumber;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\r\n    @JoinTable(name = &quot;task_tags_dim&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    private Set&lt;Tag&gt; tags = new LinkedHashSet&lt;&gt;();\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;due_date&quot;)\r\n    private Date dueDate;\r\n\r\n    public Task(String name, String status, String priority, User user) {\r\n        setName(name);\r\n        setDescription(description);\r\n        setStatus(status);\r\n        setPriority(priority);\r\n        setTaskIdNumber(new TaskIdNumberBuilder().buildTaskIdNumber());\r\n        setUser(user);\r\n        setDueDate(dueDate);\r\n        Timestamp currentTime = new Timestamp(new Date().getTime());\r\n        setCreatedOn(currentTime);\r\n        setLastUpdatedOn(currentTime);\r\n    }\r\n```\r\n\r\nTag Entity:\r\n\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n@Entity()\r\n@Table(name = &quot;tags_dim&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Tag {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(updatable = false, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n\r\n\r\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;Task&gt; tasks = new LinkedHashSet&lt;&gt;();\r\n\r\n    public Tag(String name) {\r\n        setName(name);\r\n    }\r\n```\r\n\r\nHowever, I&#39;m having issues with my TagService class as I&#39;m unable to use getTags() within in my removeTag method. It returns an empty set, so there is nothing to remove even though I am adding a tag within my create() and addTag() method. If I make use of setTags() in create(), I still wouldn&#39;t be able to get any data from getTags() in the other methods.\r\nNote: \r\n\r\n - create() creates a new Tag object, add a link between the\r\n   newly-created tag object and its respective task, and save it into\r\n   the database \r\n- addTag() adds a link between an existing tag and a given\r\n- task removeTag() remove the link between an exising tag and given\r\n- task delete() deletes the tag all together (all links between the tag\r\n   and any task should be deleted)\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class TagService {\r\n    @Autowired\r\n    private TagRepository tagRepository;\r\n    @Autowired\r\n    private TaskRepository taskRepository;\r\n\r\n    public Tag create(User user, Tag tag, Long task_id) {\r\n        try {\r\n            Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n            if (optionalTask.isPresent()) {\r\n                Tag tagDetails = new Tag(tag.getName());\r\n                Tag savedTag = tagRepository.save(tagDetails);\r\n                Task currentTask = optionalTask.get();\r\n\r\n                currentTask.getTags().add(savedTag);\r\n                taskRepository.save(currentTask);\r\n                return savedTag;\r\n            }\r\n        } catch(IllegalArgumentException e) {\r\n            throw new IllegalArgumentException(&quot;Tag &#39;&quot; + tag.getName() + &quot;&#39; already exists.&quot;);\r\n        }\r\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n    public Tag addTag(Tag tag, Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        if(optionalTask.isPresent()) {\r\n            Task task = optionalTask.get();\r\n            try {\r\n                task.getTags().add(tag);\r\n                taskRepository.save(task);\r\n                return tag;\r\n            } catch(Exception e) {\r\n                throw new IllegalArgumentException(&quot;Tag &#39;&quot; + tag.getName() + &quot;&#39; is a duplicate entry.&quot;);\r\n            }\r\n        }\r\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n\r\n    public Set&lt;Tag&gt; getByTask(Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        if(optionalTask.isPresent()) {\r\n            Set&lt;Tag&gt; myTags = optionalTask.get().getTags();\r\n            for(Tag tag: myTags) {\r\n                System.out.println(tag.getName());\r\n            }\r\n            return tagRepository.findByTasks(optionalTask.get());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n    public Set&lt;Tag&gt; removeTag(Tag tag, Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        try {\r\n            if(optionalTask.isPresent()) {\r\n\r\n                Task currentTask = optionalTask.get();\r\n                System.out.println(currentTask.getTags());\r\n                return currentTask.getTags();\r\n            }\r\n        } catch(IllegalArgumentException e) {\r\n            throw new IllegalArgumentException(&quot;Tag not found for the given task_id: &quot; + task_id);\r\n        }\r\n        throw new NoSuchElementException(&quot;Request to remove tag from given task id &#39;&quot; + task_id + &quot;&#39; could not be processed&quot;);\r\n    }\r\n\r\n    public void delete(Tag tag) {\r\n        tagRepository.deleteById(tag);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried to make use of [Hibernate.initialize](https://stackoverflow.com/questions/17318340/how-hibernate-initialize-works) but no luck. Is &#39;FetchType.LAZY&#39; the ideal type for this use-case?","title":"How do I remove a tag from a task with a @ManyToMany relationship using Spring Boot JPA?","body":"<p>I'm currently working on a task/project/tags web application in Java with extensive use of Spring Boot JPA (I'm relatively new to this framework so bear with me). I've declared a @ManyToMany relationship between the Task and Tag entity (defined below).</p>\n<p>Task Entity:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Entity()\n@Table(name = &quot;tasks_dim&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Task {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    private String status;\n\n    private String priority;\n\n    @Column(name = &quot;task_id_number&quot;, unique = true)\n    private String taskIdNumber;\n\n    @JsonIgnore\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\n    @JoinTable(name = &quot;task_tags_dim&quot;,\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\n    private Set&lt;Tag&gt; tags = new LinkedHashSet&lt;&gt;();\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;due_date&quot;)\n    private Date dueDate;\n\n    public Task(String name, String status, String priority, User user) {\n        setName(name);\n        setDescription(description);\n        setStatus(status);\n        setPriority(priority);\n        setTaskIdNumber(new TaskIdNumberBuilder().buildTaskIdNumber());\n        setUser(user);\n        setDueDate(dueDate);\n        Timestamp currentTime = new Timestamp(new Date().getTime());\n        setCreatedOn(currentTime);\n        setLastUpdatedOn(currentTime);\n    }\n</code></pre>\n<p>Tag Entity:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Entity()\n@Table(name = &quot;tags_dim&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Tag {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Task&gt; tasks = new LinkedHashSet&lt;&gt;();\n\n    public Tag(String name) {\n        setName(name);\n    }\n</code></pre>\n<p>However, I'm having issues with my TagService class as I'm unable to use getTags() within in my removeTag method. It returns an empty set, so there is nothing to remove even though I am adding a tag within my create() and addTag() method. If I make use of setTags() in create(), I still wouldn't be able to get any data from getTags() in the other methods.\nNote:</p>\n<ul>\n<li>create() creates a new Tag object, add a link between the\nnewly-created tag object and its respective task, and save it into\nthe database</li>\n<li>addTag() adds a link between an existing tag and a given</li>\n<li>task removeTag() remove the link between an exising tag and given</li>\n<li>task delete() deletes the tag all together (all links between the tag\nand any task should be deleted)</li>\n</ul>\n<pre><code>@Service\n@Transactional\npublic class TagService {\n    @Autowired\n    private TagRepository tagRepository;\n    @Autowired\n    private TaskRepository taskRepository;\n\n    public Tag create(User user, Tag tag, Long task_id) {\n        try {\n            Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n            if (optionalTask.isPresent()) {\n                Tag tagDetails = new Tag(tag.getName());\n                Tag savedTag = tagRepository.save(tagDetails);\n                Task currentTask = optionalTask.get();\n\n                currentTask.getTags().add(savedTag);\n                taskRepository.save(currentTask);\n                return savedTag;\n            }\n        } catch(IllegalArgumentException e) {\n            throw new IllegalArgumentException(&quot;Tag '&quot; + tag.getName() + &quot;' already exists.&quot;);\n        }\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n    public Tag addTag(Tag tag, Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        if(optionalTask.isPresent()) {\n            Task task = optionalTask.get();\n            try {\n                task.getTags().add(tag);\n                taskRepository.save(task);\n                return tag;\n            } catch(Exception e) {\n                throw new IllegalArgumentException(&quot;Tag '&quot; + tag.getName() + &quot;' is a duplicate entry.&quot;);\n            }\n        }\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n\n    public Set&lt;Tag&gt; getByTask(Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        if(optionalTask.isPresent()) {\n            Set&lt;Tag&gt; myTags = optionalTask.get().getTags();\n            for(Tag tag: myTags) {\n                System.out.println(tag.getName());\n            }\n            return tagRepository.findByTasks(optionalTask.get());\n        }\n        throw new IllegalArgumentException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n    public Set&lt;Tag&gt; removeTag(Tag tag, Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        try {\n            if(optionalTask.isPresent()) {\n\n                Task currentTask = optionalTask.get();\n                System.out.println(currentTask.getTags());\n                return currentTask.getTags();\n            }\n        } catch(IllegalArgumentException e) {\n            throw new IllegalArgumentException(&quot;Tag not found for the given task_id: &quot; + task_id);\n        }\n        throw new NoSuchElementException(&quot;Request to remove tag from given task id '&quot; + task_id + &quot;' could not be processed&quot;);\n    }\n\n    public void delete(Tag tag) {\n        tagRepository.deleteById(tag);\n    }\n}\n</code></pre>\n<p>I've tried to make use of <a href=\"https://stackoverflow.com/questions/17318340/how-hibernate-initialize-works\">Hibernate.initialize</a> but no luck. Is 'FetchType.LAZY' the ideal type for this use-case?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-data-jpa","spring-data"],"owner":{"account_id":29808352,"reputation":1,"user_id":22844375,"display_name":"Furqan Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701691731,"creation_date":1701691731,"question_id":77599325,"body_markdown":"I am using Spring Boot 3.0.1 with Kotlin 1.7.21 and Spring Boot Starter Data JPA, and upon deleting and entity, I am getting \r\n\r\n&gt; org.hibernate.StaleStateException: Batch update returned unexpected\r\n&gt; row count from update [0]; actual row count: 0; expected: 1; statement\r\n&gt; executed: delete from article_tag where article_id=? and tag_id=?\r\n\r\nFollowing is my Article Entity which have a Many To Many relationship with Tag Entity\r\n\r\nWikiArticleDb.kt\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade= [CascadeType.ALL])\r\n    @JoinTable(name = &quot;article_tag&quot;,\r\n               joinColumns = [JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)],\r\n               inverseJoinColumns = [JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;id&quot;)])\r\n    val tags: Set&lt;WikiTagDb&gt;? = null,\r\n\r\n\r\nWikiTagDb.kt\r\n\r\n    @Entity\r\n    @Table(name = &quot;wiki_tag&quot;)\r\n    @SequenceGenerator(name = &quot;WikiTagSequence&quot;, sequenceName = &quot;wiki_tag_id_seq&quot;, allocationSize = 1)\r\n    data class WikiTagDb(\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;WikiTagSequence&quot;)\r\n        override val id: Int = 0,\r\n    \r\n        val name: String,\r\n    \r\n        @Embedded\r\n        override val meta: WorkspaceEntityMetaImpl\r\n    ) : WorkspaceBasedEntity&lt;Int&gt;, WorkspaceEntityMeta by meta\r\n\r\nWikiArticleTagMappingDb.kt\r\n\r\n    @Entity\r\n    @Table(name = &quot;article_tag&quot;)\r\n    data class WikiArticleTagMappingDb (\r\n        @EmbeddedId\r\n        val key: ArticleTagKey\r\n    ) {\r\n        constructor(articleId: Int, tagId: Int): this(ArticleTagKey(articleId, tagId))\r\n        @Embeddable\r\n        data class ArticleTagKey (\r\n            @Column(name = &quot;article_id&quot;)\r\n            val articleId: Int,\r\n    \r\n            @Column(name = &quot;tag_id&quot;)\r\n            val tagId: Int\r\n        ): Serializable\r\n    }\r\n\r\nArticleTagMappingRepository.kt\r\n\r\n    @Repository\r\n    interface ArticleTagMappingRepository : JpaRepository&lt;WikiArticleTagMappingDb, WikiArticleTagMappingDb.ArticleTagKey&gt; {\r\n        fun findAllByKeyArticleId(articleId: Int): List&lt;WikiArticleTagMappingDb&gt;\r\n    \r\n        fun findAllByKeyArticleIdIn(articleIds: List&lt;Int&gt;): List&lt;WikiArticleTagMappingDb&gt;\r\n    \r\n        fun deleteAllByKeyArticleId(articleId: Int)\r\n    }\r\n\r\nSo when I am calling fun `deleteAllByKeyArticleId(articleId: Int)` then I am getting the above mentioned exception. Is it due to wrong entity mapping or wrong use of cascading?","title":"Why I am getting org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1;","body":"<p>I am using Spring Boot 3.0.1 with Kotlin 1.7.21 and Spring Boot Starter Data JPA, and upon deleting and entity, I am getting</p>\n<blockquote>\n<p>org.hibernate.StaleStateException: Batch update returned unexpected\nrow count from update [0]; actual row count: 0; expected: 1; statement\nexecuted: delete from article_tag where article_id=? and tag_id=?</p>\n</blockquote>\n<p>Following is my Article Entity which have a Many To Many relationship with Tag Entity</p>\n<p>WikiArticleDb.kt</p>\n<pre><code>@ManyToMany(fetch = FetchType.LAZY, cascade= [CascadeType.ALL])\n@JoinTable(name = &quot;article_tag&quot;,\n           joinColumns = [JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)],\n           inverseJoinColumns = [JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;id&quot;)])\nval tags: Set&lt;WikiTagDb&gt;? = null,\n</code></pre>\n<p>WikiTagDb.kt</p>\n<pre><code>@Entity\n@Table(name = &quot;wiki_tag&quot;)\n@SequenceGenerator(name = &quot;WikiTagSequence&quot;, sequenceName = &quot;wiki_tag_id_seq&quot;, allocationSize = 1)\ndata class WikiTagDb(\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;WikiTagSequence&quot;)\n    override val id: Int = 0,\n\n    val name: String,\n\n    @Embedded\n    override val meta: WorkspaceEntityMetaImpl\n) : WorkspaceBasedEntity&lt;Int&gt;, WorkspaceEntityMeta by meta\n</code></pre>\n<p>WikiArticleTagMappingDb.kt</p>\n<pre><code>@Entity\n@Table(name = &quot;article_tag&quot;)\ndata class WikiArticleTagMappingDb (\n    @EmbeddedId\n    val key: ArticleTagKey\n) {\n    constructor(articleId: Int, tagId: Int): this(ArticleTagKey(articleId, tagId))\n    @Embeddable\n    data class ArticleTagKey (\n        @Column(name = &quot;article_id&quot;)\n        val articleId: Int,\n\n        @Column(name = &quot;tag_id&quot;)\n        val tagId: Int\n    ): Serializable\n}\n</code></pre>\n<p>ArticleTagMappingRepository.kt</p>\n<pre><code>@Repository\ninterface ArticleTagMappingRepository : JpaRepository&lt;WikiArticleTagMappingDb, WikiArticleTagMappingDb.ArticleTagKey&gt; {\n    fun findAllByKeyArticleId(articleId: Int): List&lt;WikiArticleTagMappingDb&gt;\n\n    fun findAllByKeyArticleIdIn(articleIds: List&lt;Int&gt;): List&lt;WikiArticleTagMappingDb&gt;\n\n    fun deleteAllByKeyArticleId(articleId: Int)\n}\n</code></pre>\n<p>So when I am calling fun <code>deleteAllByKeyArticleId(articleId: Int)</code> then I am getting the above mentioned exception. Is it due to wrong entity mapping or wrong use of cascading?</p>\n"},{"tags":["java","windows","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701691569,"creation_date":1701691569,"answer_id":77599311,"question_id":77596640,"body_markdown":"1) Follow official documentation and uses latest, stable Hadoop (3.x)\r\n\r\n2) You need to fix your `hadoop.tmp.dir` config, at least, to be a Windows file path. Or you can run Hadoop in Linux VM or WSL2 or Docker, where you don&#39;t need to workaround (officially, undocumented) Windows modifications, as the Hadoop docs all assume you&#39;re using Linux only\r\n\r\n3) No one really writes much mapreduce code anymore when Spark, Flink, Beam, etc all exist. You don&#39;t need HDFS/YARN to run these (not that you need them for mapreduce either, but it&#39;s the default mode) ","title":"Hadoop Error: Exception message: &#39;/tmp/hadoop-user&#39; is not recognized as an internal or external command, operable program or batch file","body":"<ol>\n<li><p>Follow official documentation and uses latest, stable Hadoop (3.x)</p>\n</li>\n<li><p>You need to fix your <code>hadoop.tmp.dir</code> config, at least, to be a Windows file path. Or you can run Hadoop in Linux VM or WSL2 or Docker, where you don't need to workaround (officially, undocumented) Windows modifications, as the Hadoop docs all assume you're using Linux only</p>\n</li>\n<li><p>No one really writes much mapreduce code anymore when Spark, Flink, Beam, etc all exist. You don't need HDFS/YARN to run these (not that you need them for mapreduce either, but it's the default mode)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22215122,"reputation":37,"user_id":16453686,"display_name":"Umer Arif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701691569,"creation_date":1701648606,"question_id":77596640,"body_markdown":"I&#39;m new to Hadoop, and I&#39;ve been following a guide I found on LinkedIn titled &quot;[Installation of Hadoop single node cluster and run simple applications like word count in Windows OS.][1]&quot; Everything was working fine until the end. However, when I ran the mapreducer.jar program to count word occurrences, I encountered the following error:\r\n\r\n    Exception message: &#39;/tmp/hadoop-Arif&#39; is not recognized as an internal or external command, operable program, or batch file.\r\n\r\nI have also confirmed that I can see the content of the input file. \r\nThis is the command I am using:\r\n\r\n    hadoop jar &quot;C:\\hadoop-2.8.0\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-2.8.0.jar&quot; wordcount /inputdir/input_file.txt /temp/output\r\n\r\nI have also attached a screenshot of the command execution. I would really appreciate it if you could help me.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/installation-hadoop-single-node-cluster-run-simple-applications-k%3FtrackingId=ch0pwBKERUqzzOztP8EVIg%253D%253D/?trackingId=ch0pwBKERUqzzOztP8EVIg%3D%3D\r\n  [2]: https://i.stack.imgur.com/MlOXh.png","title":"Hadoop Error: Exception message: &#39;/tmp/hadoop-user&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>I'm new to Hadoop, and I've been following a guide I found on LinkedIn titled &quot;<a href=\"https://www.linkedin.com/pulse/installation-hadoop-single-node-cluster-run-simple-applications-k%3FtrackingId=ch0pwBKERUqzzOztP8EVIg%253D%253D/?trackingId=ch0pwBKERUqzzOztP8EVIg%3D%3D\" rel=\"nofollow noreferrer\">Installation of Hadoop single node cluster and run simple applications like word count in Windows OS.</a>&quot; Everything was working fine until the end. However, when I ran the mapreducer.jar program to count word occurrences, I encountered the following error:</p>\n<pre><code>Exception message: '/tmp/hadoop-Arif' is not recognized as an internal or external command, operable program, or batch file.\n</code></pre>\n<p>I have also confirmed that I can see the content of the input file.\nThis is the command I am using:</p>\n<pre><code>hadoop jar &quot;C:\\hadoop-2.8.0\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-2.8.0.jar&quot; wordcount /inputdir/input_file.txt /temp/output\n</code></pre>\n<p>I have also attached a screenshot of the command execution. I would really appreciate it if you could help me.\n<a href=\"https://i.stack.imgur.com/MlOXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlOXh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","httpclient"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689158947,"post_id":76660268,"comment_id":135172924,"body_markdown":"It seems to be part of the `PoolingHttpClientConnectionManagerBuilder`, in other words, you need to configure a different connection manager than the one you&#39;re using right now. To be clear: this is a quick guess based on looking at the Javadoc of HttpClient 5.2.","body":"It seems to be part of the <code>PoolingHttpClientConnectionManagerBuilder</code>, in other words, you need to configure a different connection manager than the one you&#39;re using right now. To be clear: this is a quick guess based on looking at the Javadoc of HttpClient 5.2."},{"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"score":0,"creation_date":1689228315,"post_id":76660268,"comment_id":135184098,"body_markdown":"Thanks @MarkRotteveel, yes it&#39;s part of PoolingHttpClientConnectionManagerBuilder","body":"Thanks @MarkRotteveel, yes it&#39;s part of PoolingHttpClientConnectionManagerBuilder"},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1693489587,"post_id":76660268,"comment_id":135770227,"body_markdown":"Did you change the implementation to fix this issue?  HttpClientBuilder to PoolingHttpClientConnectionManagerBuilder\ncannot find symbol symbol:   method setMaxConnTotal(int)\nError:   location: class org.apache.hc.client5.http.impl.classic.HttpClientBuilder","body":"Did you change the implementation to fix this issue?  HttpClientBuilder to PoolingHttpClientConnectionManagerBuilder cannot find symbol symbol:   method setMaxConnTotal(int) Error:   location: class org.apache.hc.client5.http.impl.classic.HttpClientBuilder"},{"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"score":0,"creation_date":1693577067,"post_id":76660268,"comment_id":135783518,"body_markdown":"Yes PoolingHttpClientConnectionManagerBuilder can be used","body":"Yes PoolingHttpClientConnectionManagerBuilder can be used"},{"owner":{"account_id":7494789,"reputation":698,"user_id":5695421,"accept_rate":25,"display_name":"dk7"},"score":1,"creation_date":1701096432,"post_id":76660268,"comment_id":136729195,"body_markdown":"@PankajNargesh do you think it would be more beneficial for others if you would provide the answer below and mark it as accepted?","body":"@PankajNargesh do you think it would be more beneficial for others if you would provide the answer below and mark it as accepted?"}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701691201,"creation_date":1701691201,"answer_id":77599269,"question_id":76660268,"body_markdown":"As said in the comments, use the PoolingHttpClientConnectionManagerBuilder:\r\n\r\n     var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n         .setMaxConnPerRoute(50)\r\n         .setMaxConnTotal(200)\r\n         .setConnectionConfig(/* add connectionConfig */)\r\n         .build();\r\n\r\n     var client = HttpClients.custom()\r\n         .disableAutomaticRetries()\r\n         .setDefaultRequestConfig(/* add requestConfig */)\r\n         .build();","title":"how to use setMaxConnPerRoute and setMaxConnTotal with httpclient5?","body":"<p>As said in the comments, use the PoolingHttpClientConnectionManagerBuilder:</p>\n<pre><code> var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n     .setMaxConnPerRoute(50)\n     .setMaxConnTotal(200)\n     .setConnectionConfig(/* add connectionConfig */)\n     .build();\n\n var client = HttpClients.custom()\n     .disableAutomaticRetries()\n     .setDefaultRequestConfig(/* add requestConfig */)\n     .build();\n</code></pre>\n"}],"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701691201,"creation_date":1689066102,"question_id":76660268,"body_markdown":"setMaxConnPerRoute() and setMaxConnTotal() are not available with HttpClientBuilder for httpclient5\r\nmigrating httpclient 4.5 to 5.2 for spring boot 3 compatibility.\r\nBelow is the reference code: \r\n\r\n    BasicHttpClientConnectionManager cm = new BasicHttpClientConnectionManager();\r\n        cm.setConnectionConfig(connConfig);\r\n    \r\n        final CloseableHttpClient client = HttpClientBuilder\r\n                .create().disableAutomaticRetries()\r\n                .setDefaultRequestConfig(RequestConfig.custom()\r\n                    .setConnectionRequestTimeout(Timeout.ofMilliseconds(30000))\r\n                    .build())\r\n                .setConnectionManager(cm)\r\n                .setMaxConnPerRoute(50)\r\n                .setMaxConnTotal(200)\r\n                .build();","title":"how to use setMaxConnPerRoute and setMaxConnTotal with httpclient5?","body":"<p>setMaxConnPerRoute() and setMaxConnTotal() are not available with HttpClientBuilder for httpclient5\nmigrating httpclient 4.5 to 5.2 for spring boot 3 compatibility.\nBelow is the reference code:</p>\n<pre><code>BasicHttpClientConnectionManager cm = new BasicHttpClientConnectionManager();\n    cm.setConnectionConfig(connConfig);\n\n    final CloseableHttpClient client = HttpClientBuilder\n            .create().disableAutomaticRetries()\n            .setDefaultRequestConfig(RequestConfig.custom()\n                .setConnectionRequestTimeout(Timeout.ofMilliseconds(30000))\n                .build())\n            .setConnectionManager(cm)\n            .setMaxConnPerRoute(50)\n            .setMaxConnTotal(200)\n            .build();\n</code></pre>\n"},{"tags":["java","spring","aop","spring-aop","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701682767,"post_id":77598291,"comment_id":136801585,"body_markdown":"I only see an `@Aspect` do you have `@Component` as well or added an `@Bean` method that creates this aspect?","body":"I only see an <code>@Aspect</code> do you have <code>@Component</code> as well or added an <code>@Bean</code> method that creates this aspect?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1701688069,"post_id":77598291,"comment_id":136802468,"body_markdown":"@M.Deinum you are right. For some reason I was sure that `@Aspect` is enough to have a bean. Adding `@Component` solves the problem. Please add this as the answer and I&#39;ll accept it.","body":"@M.Deinum you are right. For some reason I was sure that <code>@Aspect</code> is enough to have a bean. Adding <code>@Component</code> solves the problem. Please add this as the answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701690768,"creation_date":1701690768,"answer_id":77599217,"question_id":77598291,"body_markdown":"If there is only an `@Aspect` on your class it won&#39;t be detected and as such nothing will be applied as Spring AOP doesn&#39;t see it. \r\n\r\nYou can add `@Component` to your `@Aspect` annotated class which will make it available to Spring. \r\n\r\n```java\r\n@Component\r\n@Aspect\r\npublic class AfterReturningExample { ... }\r\n```\r\n\r\nAnother option is to write an `includeFilter` in an `@ComponentScan` to include all classes annotated with `@Aspect`. \r\n\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(includeFilter= { @Filter(type = FilterType.ANNOTATION, value=org.aspectj.lang.annotation.Aspect )}\r\n```\r\n\r\nWith this classes annotated with `@Aspect` (and not with `@Component`) will be included as well. \r\n\r\nEither way will work. ","title":"AOP pointcut is not working with Feign client","body":"<p>If there is only an <code>@Aspect</code> on your class it won't be detected and as such nothing will be applied as Spring AOP doesn't see it.</p>\n<p>You can add <code>@Component</code> to your <code>@Aspect</code> annotated class which will make it available to Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Aspect\npublic class AfterReturningExample { ... }\n</code></pre>\n<p>Another option is to write an <code>includeFilter</code> in an <code>@ComponentScan</code> to include all classes annotated with <code>@Aspect</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(includeFilter= { @Filter(type = FilterType.ANNOTATION, value=org.aspectj.lang.annotation.Aspect )}\n</code></pre>\n<p>With this classes annotated with <code>@Aspect</code> (and not with <code>@Component</code>) will be included as well.</p>\n<p>Either way will work.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599217,"answer_count":1,"score":0,"last_activity_date":1701690768,"creation_date":1701681257,"question_id":77598291,"body_markdown":"In my project I have a Feign client extending API interface generated from OpenAPI spec:\r\n```java\r\n@FeignClient(name = &quot;customerClient&quot;, url = &quot;${spring.microservice.tenant-service-gateway.host}&quot;, configuration = FeignConfiguration.class)\r\npublic interface CustomerClient extends CustomersApi {\r\n\r\n}\r\n```\r\n`FeignConfiguration` introduces retry config for `500` response code:\r\n```java\r\n@Configuration\r\n@EnableAspectJAutoProxy\r\npublic class FeignConfiguration {\r\n\r\n    @Bean\r\n    public Retryer httpResponseCodeRetryer(\r\n            @Value(&quot;${feign.max-attempt-count}&quot;) int retryCount,\r\n            @Value(&quot;${feign.retry-period-seconds}&quot;) int retryPeriod\r\n    ) {\r\n        return new Retryer.Default(TimeUnit.SECONDS.toMillis(retryPeriod), TimeUnit.SECONDS.toMillis(3L), retryCount);\r\n    }\r\n\r\n    @Bean\r\n    public ErrorDecoder httpCodeErrorDecoder() {\r\n        return new HttpCodeErrorDecoder();\r\n    }\r\n\r\n    static class HttpCodeErrorDecoder implements ErrorDecoder {\r\n\r\n        @Override\r\n        public Exception decode(String methodKey, Response response) {\r\n            var exception = feign.FeignException.errorStatus(methodKey, response);\r\n            int status = response.status();\r\n            if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                return new RetryableException(\r\n                        response.status(),\r\n                        exception.getMessage(),\r\n                        response.request().httpMethod(),\r\n                        exception,\r\n                        null,\r\n                        response.request());\r\n            }\r\n            return exception;\r\n        }\r\n    }\r\n}\r\n```\r\nWhat I want is to add retry functionality for `202` response code either. To achieve this I add this pointcut:\r\n```java\r\n@Aspect\r\npublic class AfterReturningExample {\r\n\r\n    @Around(&quot;execution(* com.project.client.CustomerClient.*(..))&quot;)\r\n    public Object customerClient(ProceedingJoinPoint pjp) throws Throwable {\r\n        var proceed = pjp.proceed();\r\n        //some logic here\r\n        return proceed;\r\n    }\r\n}\r\n```\r\nI&#39;ve tried to solve this by adding pointcut for the methods of `CustomersApi` like this:\r\n```java\r\n@Around(&quot;execution(* com.project.api.CustomersApi+.*(..))&quot;)\r\npublic Object customerApi(ProceedingJoinPoint pjp) throws Throwable {\r\n  var proceed = pjp.proceed();\r\n  //some logic here\r\n  return proceed;\r\n}\r\n```","title":"AOP pointcut is not working with Feign client","body":"<p>In my project I have a Feign client extending API interface generated from OpenAPI spec:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;customerClient&quot;, url = &quot;${spring.microservice.tenant-service-gateway.host}&quot;, configuration = FeignConfiguration.class)\npublic interface CustomerClient extends CustomersApi {\n\n}\n</code></pre>\n<p><code>FeignConfiguration</code> introduces retry config for <code>500</code> response code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAspectJAutoProxy\npublic class FeignConfiguration {\n\n    @Bean\n    public Retryer httpResponseCodeRetryer(\n            @Value(&quot;${feign.max-attempt-count}&quot;) int retryCount,\n            @Value(&quot;${feign.retry-period-seconds}&quot;) int retryPeriod\n    ) {\n        return new Retryer.Default(TimeUnit.SECONDS.toMillis(retryPeriod), TimeUnit.SECONDS.toMillis(3L), retryCount);\n    }\n\n    @Bean\n    public ErrorDecoder httpCodeErrorDecoder() {\n        return new HttpCodeErrorDecoder();\n    }\n\n    static class HttpCodeErrorDecoder implements ErrorDecoder {\n\n        @Override\n        public Exception decode(String methodKey, Response response) {\n            var exception = feign.FeignException.errorStatus(methodKey, response);\n            int status = response.status();\n            if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n                return new RetryableException(\n                        response.status(),\n                        exception.getMessage(),\n                        response.request().httpMethod(),\n                        exception,\n                        null,\n                        response.request());\n            }\n            return exception;\n        }\n    }\n}\n</code></pre>\n<p>What I want is to add retry functionality for <code>202</code> response code either. To achieve this I add this pointcut:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class AfterReturningExample {\n\n    @Around(&quot;execution(* com.project.client.CustomerClient.*(..))&quot;)\n    public Object customerClient(ProceedingJoinPoint pjp) throws Throwable {\n        var proceed = pjp.proceed();\n        //some logic here\n        return proceed;\n    }\n}\n</code></pre>\n<p>I've tried to solve this by adding pointcut for the methods of <code>CustomersApi</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;execution(* com.project.api.CustomersApi+.*(..))&quot;)\npublic Object customerApi(ProceedingJoinPoint pjp) throws Throwable {\n  var proceed = pjp.proceed();\n  //some logic here\n  return proceed;\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","exception","axios"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258061,"post_id":69424023,"comment_id":122706946,"body_markdown":"what have you tried in the frontend?","body":"what have you tried in the frontend?"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258115,"post_id":69424023,"comment_id":122706955,"body_markdown":"afai can tell from the pic, the information has gone inside the `data` object instead","body":"afai can tell from the pic, the information has gone inside the <code>data</code> object instead"},{"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"score":0,"creation_date":1633258503,"post_id":69424023,"comment_id":122707042,"body_markdown":"```\n    request.get(&#39;http://localhost:8080/throw&#39;)\n      .catch((error) =&gt; console.log(error.data));\n```\n this is literally the whole code on the frontend.\n`error.data` is undefined","body":"```     request.get(&#39;<a href=\"http://localhost:8080/throw&#39;\" rel=\"nofollow noreferrer\">localhost:8080/throw&#39;</a>)       .catch((error) =&gt; console.log(error.data)); ```  this is literally the whole code on the frontend. <code>error.data</code> is undefined"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258571,"post_id":69424023,"comment_id":122707061,"body_markdown":"can you check inside `error.response.data`?","body":"can you check inside <code>error.response.data</code>?"},{"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"score":0,"creation_date":1633258648,"post_id":69424023,"comment_id":122707075,"body_markdown":"in the `error.response.data` there&#39;s only `error`, `path`, `status`, and `timestamp`. Nothing about the message","body":"in the <code>error.response.data</code> there&#39;s only <code>error</code>, <code>path</code>, <code>status</code>, and <code>timestamp</code>. Nothing about the message"}],"answers":[{"tags":[],"owner":{"account_id":22634519,"reputation":1022,"user_id":16811479,"display_name":"Evan Summers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668757453,"creation_date":1668757453,"answer_id":74486379,"question_id":69424023,"body_markdown":"Note that HTTP/2 doesn&#39;t support status text messages, so you&#39;ll always get an empty one on a HTTP/2 connection (often this means you get them in development but they&#39;re empty in production). https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText","title":"Axios statusText is always empty","body":"<p>Note that HTTP/2 doesn't support status text messages, so you'll always get an empty one on a HTTP/2 connection (often this means you get them in development but they're empty in production). <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText</a></p>\n"},{"tags":[],"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701690757,"creation_date":1701690757,"answer_id":77599214,"question_id":69424023,"body_markdown":"The reason is Spring Boot set a `server.error.include-message` as `never` by default. Setting it to `always` returns the message in a response.","title":"Axios statusText is always empty","body":"<p>The reason is Spring Boot set a <code>server.error.include-message</code> as <code>never</code> by default. Setting it to <code>always</code> returns the message in a response.</p>\n"}],"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599214,"answer_count":2,"score":0,"last_activity_date":1701690757,"creation_date":1633257415,"question_id":69424023,"body_markdown":"I&#39;ve been using axios recently but I can&#39;t get the error message thrown by Spring Boot RuntimeException. \r\n\r\nI&#39;ve created a simple `RuntimeException` which throws 404 status:\r\n```java\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\npublic class BadRequestException extends RuntimeException {\r\n    public BadRequestException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nI make a GET request to one of my endpoint where all it does is throw the `BadRequestException` with some message:\r\n```java\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/throw&quot;)\r\n    public ResponseEntity&lt;?&gt; throwError() {\r\n        throw new BadRequestException(&quot;This text should be in statusText&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`console.log()` from the catch clause (`.catch((error) =&gt; console.log(error.response))`) is:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, the `statusText` is just an empty string, where `&quot;This text should be in statusText&quot;` should be expected.\r\n\r\nUsing `fetch()` works perfectly fine, but switching from `axios` to `fetch` in my situation will be time-wasting.\r\n\r\nAm I missing something? Do I even throw the exceptions with my messages correctly?\r\n\r\nThanks in advance for all answers! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jEDtN.png","title":"Axios statusText is always empty","body":"<p>I've been using axios recently but I can't get the error message thrown by Spring Boot RuntimeException.</p>\n<p>I've created a simple <code>RuntimeException</code> which throws 404 status:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic class BadRequestException extends RuntimeException {\n    public BadRequestException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>I make a GET request to one of my endpoint where all it does is throw the <code>BadRequestException</code> with some message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/throw&quot;)\n    public ResponseEntity&lt;?&gt; throwError() {\n        throw new BadRequestException(&quot;This text should be in statusText&quot;);\n    }\n}\n</code></pre>\n<p><code>console.log()</code> from the catch clause (<code>.catch((error) =&gt; console.log(error.response))</code>) is:\n<a href=\"https://i.stack.imgur.com/jEDtN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jEDtN.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the <code>statusText</code> is just an empty string, where <code>&quot;This text should be in statusText&quot;</code> should be expected.</p>\n<p>Using <code>fetch()</code> works perfectly fine, but switching from <code>axios</code> to <code>fetch</code> in my situation will be time-wasting.</p>\n<p>Am I missing something? Do I even throw the exceptions with my messages correctly?</p>\n<p>Thanks in advance for all answers!</p>\n"},{"tags":["java","spring","spring-boot","java-8"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701168710,"post_id":77563135,"comment_id":136739209,"body_markdown":"Don&#39;t call block in a reactive stack. You don&#39;t pass the pageable object you pass request parameters like page, size etc.","body":"Don&#39;t call block in a reactive stack. You don&#39;t pass the pageable object you pass request parameters like page, size etc."},{"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"score":0,"creation_date":1701186936,"post_id":77563135,"comment_id":136742724,"body_markdown":"Thanks Deinum for your reply.Can you give small example of what you said it would be really helpful for me to understand this","body":"Thanks Deinum for your reply.Can you give small example of what you said it would be really helpful for me to understand this"},{"owner":{"account_id":305152,"reputation":789,"user_id":615119,"display_name":"Farhan Nasim"},"score":0,"creation_date":1701352667,"post_id":77563135,"comment_id":136766876,"body_markdown":"For passing request parameters you may construct the URI string with request params (`/demo?start=0&amp;max=10`) or use a `UriBuilder` instead: `webClieng.get().uri(uriBuilder -&gt; uriBuilder.path(&quot;/demo&quot;).queryParam(&quot;start&quot;, 0).queryparam(&quot;max&quot;, 10).build())....`","body":"For passing request parameters you may construct the URI string with request params (<code>&#47;demo?start=0&amp;max=10</code>) or use a <code>UriBuilder</code> instead: <code>webClieng.get().uri(uriBuilder -&gt; uriBuilder.path(&quot;&#47;demo&quot;).queryParam(&quot;start&quot;, 0).queryparam(&quot;max&quot;, 10).build())....</code>"},{"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"score":0,"creation_date":1701760368,"post_id":77563135,"comment_id":136812358,"body_markdown":"Thanks  Farhan Nasim, it really solved my issue","body":"Thanks  Farhan Nasim, it really solved my issue"}],"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701690318,"creation_date":1701167582,"question_id":77563135,"body_markdown":"`I need to call an API through webclient.[Spring Boot]\r\n\r\nExample Rest controller API looks like ---\r\n\r\n\r\n\r\n\r\n`\r\n\r\n    @Getmapping(&quot;/demo&quot;)\r\n    \r\n    \r\n    public page&lt;Object&gt; find(Pageable pageable)\r\n    {\r\n         return repository.findall(pageable);\r\n    }\r\n\r\n\r\n\r\n\r\nWeb client call issues I&#39;m Facing. how to pass Pageable object argument in webclient and how to get the page return type object in webclient calling method.\r\n\r\nCode i tried :\r\n\r\n\r\n\r\n`webClient.get()\r\n         .uri(&quot;/demo&quot;)\r\n         .bodytomono(Page.class)\r\n         .block();`\r\n\r\n\r\n\r\nBut the above block throwing exception., My issue is like  how to pass pageable object argument through webclient and how to get the return type of page object in webclient.\r\n\r\nI&#39;m new to webclient can anyone please help on my issue.`","title":"Spring Boot WebClient- How to pass parameter in webclient Get call and how to get Page Object in return type","body":"<p>`I need to call an API through webclient.[Spring Boot]</p>\n<p>Example Rest controller API looks like ---</p>\n<p>`</p>\n<pre><code>@Getmapping(&quot;/demo&quot;)\n\n\npublic page&lt;Object&gt; find(Pageable pageable)\n{\n     return repository.findall(pageable);\n}\n</code></pre>\n<p>Web client call issues I'm Facing. how to pass Pageable object argument in webclient and how to get the page return type object in webclient calling method.</p>\n<p>Code i tried :</p>\n<p><code>webClient.get() .uri(&quot;/demo&quot;) .bodytomono(Page.class) .block();</code></p>\n<p>But the above block throwing exception., My issue is like  how to pass pageable object argument through webclient and how to get the return type of page object in webclient.</p>\n<p>I'm new to webclient can anyone please help on my issue.`</p>\n"},{"tags":["java","entity","implementation"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1417163858,"creation_date":1417163858,"answer_id":27184727,"question_id":27183825,"body_markdown":"This is very much opinion based (hence the close vote), but let&#39;s see if we can get some discussion going. Let&#39;s consider your proposition:\r\n \r\n**I want my entity classes to implement an interface that has nothing to do with persistence**\r\n\r\nPros:\r\n\r\n - Less duplication of class hierarchy. If something changes in the database, you might be able to have the program work as usual, or with only minor changes\r\n - Flatter class hierarchy. You&#39;ll be able to visualize your data without a layer translating it to your `Drawable` objects\r\n\r\nCons:\r\n\r\n - Entities are just data, and should not be responsible for drawing themselves. They should be transformed into domain objects first\r\n - Passing entities into other layers of the system can cause bugs, when they&#39;re treated by code as domain objects","title":"Should the Entity class implements interface?","body":"<p>This is very much opinion based (hence the close vote), but let's see if we can get some discussion going. Let's consider your proposition:</p>\n\n<p><strong>I want my entity classes to implement an interface that has nothing to do with persistence</strong></p>\n\n<p>Pros:</p>\n\n<ul>\n<li>Less duplication of class hierarchy. If something changes in the database, you might be able to have the program work as usual, or with only minor changes</li>\n<li>Flatter class hierarchy. You'll be able to visualize your data without a layer translating it to your <code>Drawable</code> objects</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>Entities are just data, and should not be responsible for drawing themselves. They should be transformed into domain objects first</li>\n<li>Passing entities into other layers of the system can cause bugs, when they're treated by code as domain objects</li>\n</ul>\n"}],"owner":{"account_id":4190509,"reputation":1334,"user_id":3433230,"accept_rate":100,"display_name":"Tkachuk_Evgen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1417172073,"accepted_answer_id":27184727,"answer_count":1,"score":3,"last_activity_date":1701690291,"creation_date":1417159604,"question_id":27183825,"body_markdown":"I have my Entity classes and I want to represent them with graphic. In my realisation, I have Drawable interface and classes which implement this interface for each Entity. As for me it is obviously that entities should implement Drawable interface, but I hear from experienced developers that this is a bad practice. I little bit confused because JavaDoc says:\r\n\r\n&gt; Entities may extend both entity and non-entity classes, and non-entity classes may extend entity classes.","title":"Should the Entity class implements interface?","body":"<p>I have my Entity classes and I want to represent them with graphic. In my realisation, I have Drawable interface and classes which implement this interface for each Entity. As for me it is obviously that entities should implement Drawable interface, but I hear from experienced developers that this is a bad practice. I little bit confused because JavaDoc says:</p>\n<blockquote>\n<p>Entities may extend both entity and non-entity classes, and non-entity classes may extend entity classes.</p>\n</blockquote>\n"},{"tags":["java","swing","background","awt","gif"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701693579,"post_id":77588842,"comment_id":136803417,"body_markdown":"You also need to translate the title, make sure the formatting is correct (i.e. your JSON also needs to be in a code block), and you need to explain what your program is supposed to do, and what it does instead (i.e. a [mre]).","body":"You also need to translate the title, make sure the formatting is correct (i.e. your JSON also needs to be in a code block), and you need to explain what your program is supposed to do, and what it does instead (i.e. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":145051,"reputation":130076,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1701885504,"post_id":77588842,"comment_id":136831331,"body_markdown":"FWIW, [this URL works for me](https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png)","body":"FWIW, <a href=\"https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png\" rel=\"nofollow noreferrer\">this URL works for me</a>"}],"owner":{"account_id":30044025,"reputation":1,"user_id":23024165,"display_name":"Lorenzo Graziano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701486088,"answer_count":0,"score":-1,"last_activity_date":1701689378,"creation_date":1701480876,"question_id":77588842,"body_markdown":"```\r\nprivate static final String API_KEY = &quot;df2eded0fb86f04538d49c28a73d1b00&quot;;\r\nprivate static final String CITY_NAME = &quot;Milan&quot;;\r\n\r\nprivate JPanel contentPane;\r\n\r\npublic WeatherBackgroundApp() throws InterruptedException {\r\n    Thread.sleep(5000);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setBounds(100, 100, 800, 600);\r\n    setLayout(null);\r\n    contentPane = new JPanel() {\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            System.out.println(&quot;Painting component...&quot;);\r\n\r\n            // Aggiungi questa riga per verificare se il metodo viene chiamato\r\n            g.setColor(Color.RED);\r\n            g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n        }\r\n    };\r\n    setContentPane(contentPane);\r\n\r\n    try {\r\n        JSONObject weatherData = getWeatherData();\r\n        updateBackground(weatherData);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\nprivate void updateBackground(JSONObject weatherData) {\r\n    String weatherCondition = getWeatherCondition(weatherData);\r\n    setContentPaneBackground(weatherCondition);\r\n    revalidate();\r\n    repaint();\r\n}\r\n\r\nprivate String getWeatherCondition(JSONObject weatherData) {\r\n    String weatherCondition = &quot;unknown&quot;;\r\n\r\n    try {\r\n        JSONArray weatherDescriptions= weatherData.getJSONObject(&quot;current&quot;).getJSONArray(&quot;weather_descriptions&quot;);\r\n        if (weatherDescriptions.length() &gt; 0) {\r\n            weatherCondition = weatherDescriptions.getString(0);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    System.out.println(&quot;Weather condition: &quot; + weatherCondition);\r\n    return weatherCondition;\r\n}\r\n\r\nprivate void setContentPaneBackground(String weatherCondition) {\r\n\r\n    String gifPath;\r\n\r\n    // Stampa la condizione meteo in ingresso per il debug\r\n    System.out.println(&quot;Weather condition (lowercase): &quot; + weatherCondition.toLowerCase());\r\n\r\n    if (weatherCondition.toLowerCase().contains(&quot;clear sky&quot;)) {\r\n        gifPath = &quot;sunny.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;overcast&quot;)) {\r\n        gifPath = &quot;overcast.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;fog&quot;)) {\r\n        System.out.println(&quot;ENTRATO&quot;);\r\n        gifPath = &quot;fog.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;rain&quot;) || weatherCondition.toLowerCase().contains(&quot;light rain&quot;) || weatherCondition.toLowerCase().contains(&quot;mist&quot;)) {\r\n        gifPath = &quot;rain.gif&quot;;\r\n        System.out.println(&quot;   ENTRATOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO&quot;);\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;snow&quot;)) {\r\n        gifPath = &quot;snow.gif&quot;;\r\n    } else {\r\n        gifPath = &quot;default.gif&quot;;\r\n    }\r\n\r\n    System.out.println(&quot;Percorso del file GIF: &quot; + gifPath);\r\n\r\n    // Carica l&#39;immagine solo se il percorso &#232; corretto\r\n    try {\r\n        InputStream gifStream = getClass().getResourceAsStream(gifPath);\r\n        if (gifStream != null) {\r\n            Image gifImage = ImageIO.read(gifStream);\r\n            ImageIcon gifIcon = new ImageIcon(gifImage);\r\n\r\n            contentPane = new JPanel() {\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    g.drawImage(gifIcon.getImage(), 0, 0, getWidth(), getHeight(), this);\r\n                }\r\n            };\r\n            setContentPane(contentPane);\r\n            contentPane.revalidate();\r\n            contentPane.repaint();\r\n        } else {\r\n            System.out.println(&quot;File GIF non trovato.&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        System.out.println(&quot;Errore durante la lettura del file GIF. Percorso: &quot; + gifPath);\r\n    }\r\n}\r\n\r\nprivate JSONObject getWeatherData() throws Exception {\r\n    String apiUrl = &quot;http://api.weatherstack.com/current?access_key=&quot; + API_KEY + &quot;&amp;query=&quot; + CITY_NAME;\r\n    URL url = new URL(apiUrl);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    StringBuilder response = new StringBuilder();\r\n    String line;\r\n\r\n    while ((line = reader.readLine()) != null) {\r\n        response.append(line);\r\n    }\r\n\r\n    reader.close();\r\n    connection.disconnect();\r\n\r\n    String jsonResponse = response.toString();\r\n    System.out.println(&quot;JSON Response: &quot; + jsonResponse);\r\n\r\n    return new JSONObject(jsonResponse);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n    EventQueue.invokeLater(() -&gt; {\r\n        try {\r\n            WeatherBackgroundApp frame = new WeatherBackgroundApp();\r\n            frame.setVisible(true);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe intent of the program was to take data from an API and use it to change the background of the frame based on the data obtained\r\n\r\nI can&#39;t get the resources to be used, I assume that the gifs are in the same directory as the java file, output:\r\n\r\nJSON Response: { &quot;request&quot;: { &quot;type&quot;: &quot;City&quot;, &quot;query&quot;: &quot;Milan, Italy&quot;, &quot;language&quot;: &quot;en&quot;, &quot;unit&quot;: &quot;m&quot; }, &quot;location&quot;: { &quot;name&quot;: &quot;Milan&quot;, &quot;country&quot;: &quot;Italy&quot;, &quot;region&quot;: &quot;Lombardia&quot;, &quot;lat&quot;: &quot;45.467&quot;, &quot;lon&quot;: &quot;9.200&quot;, &quot;timezone_id&quot;: &quot;Europe/Rome&quot;, &quot;localtime&quot;: &quot;2023-12-02 01:13&quot;, &quot;localtime_epoch&quot;: 1701479580, &quot;utc_offset&quot;: &quot;1.0&quot; }, &quot;current&quot;: { &quot;observation_time&quot;: &quot;12:13 AM&quot;, &quot;temperature&quot;: 6, &quot;weather_code&quot;: 248, &quot;weather_icons&quot;: \\[ &quot;https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png&quot; \\], &quot;weather_descriptions&quot;: \\[&quot;Fog&quot;\\], &quot;wind_speed&quot;: 6, &quot;wind_degree&quot;: 240, &quot;wind_dir&quot;: &quot;WSW&quot;, &quot;pressure&quot;: 993, &quot;precip&quot;: 0.1, &quot;humidity&quot;: 100, &quot;cloudcover&quot;: 100, &quot;feelslike&quot;: 6, &quot;uv_index&quot;: 1, &quot;visibility&quot;: 1, &quot;is_day&quot;: &quot;no&quot; } }\r\n\r\nI tried both the relative and the absolute path but it still doesn&#39;t work for me","title":"Problemi con java e gif come sfondo","body":"<pre><code>private static final String API_KEY = &quot;df2eded0fb86f04538d49c28a73d1b00&quot;;\nprivate static final String CITY_NAME = &quot;Milan&quot;;\n\nprivate JPanel contentPane;\n\npublic WeatherBackgroundApp() throws InterruptedException {\n    Thread.sleep(5000);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(100, 100, 800, 600);\n    setLayout(null);\n    contentPane = new JPanel() {\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            System.out.println(&quot;Painting component...&quot;);\n\n            // Aggiungi questa riga per verificare se il metodo viene chiamato\n            g.setColor(Color.RED);\n            g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n        }\n    };\n    setContentPane(contentPane);\n\n    try {\n        JSONObject weatherData = getWeatherData();\n        updateBackground(weatherData);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void updateBackground(JSONObject weatherData) {\n    String weatherCondition = getWeatherCondition(weatherData);\n    setContentPaneBackground(weatherCondition);\n    revalidate();\n    repaint();\n}\n\nprivate String getWeatherCondition(JSONObject weatherData) {\n    String weatherCondition = &quot;unknown&quot;;\n\n    try {\n        JSONArray weatherDescriptions= weatherData.getJSONObject(&quot;current&quot;).getJSONArray(&quot;weather_descriptions&quot;);\n        if (weatherDescriptions.length() &gt; 0) {\n            weatherCondition = weatherDescriptions.getString(0);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(&quot;Weather condition: &quot; + weatherCondition);\n    return weatherCondition;\n}\n\nprivate void setContentPaneBackground(String weatherCondition) {\n\n    String gifPath;\n\n    // Stampa la condizione meteo in ingresso per il debug\n    System.out.println(&quot;Weather condition (lowercase): &quot; + weatherCondition.toLowerCase());\n\n    if (weatherCondition.toLowerCase().contains(&quot;clear sky&quot;)) {\n        gifPath = &quot;sunny.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;overcast&quot;)) {\n        gifPath = &quot;overcast.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;fog&quot;)) {\n        System.out.println(&quot;ENTRATO&quot;);\n        gifPath = &quot;fog.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;rain&quot;) || weatherCondition.toLowerCase().contains(&quot;light rain&quot;) || weatherCondition.toLowerCase().contains(&quot;mist&quot;)) {\n        gifPath = &quot;rain.gif&quot;;\n        System.out.println(&quot;   ENTRATOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO&quot;);\n    } else if (weatherCondition.toLowerCase().contains(&quot;snow&quot;)) {\n        gifPath = &quot;snow.gif&quot;;\n    } else {\n        gifPath = &quot;default.gif&quot;;\n    }\n\n    System.out.println(&quot;Percorso del file GIF: &quot; + gifPath);\n\n    // Carica l'immagine solo se il percorso è corretto\n    try {\n        InputStream gifStream = getClass().getResourceAsStream(gifPath);\n        if (gifStream != null) {\n            Image gifImage = ImageIO.read(gifStream);\n            ImageIcon gifIcon = new ImageIcon(gifImage);\n\n            contentPane = new JPanel() {\n                @Override\n                protected void paintComponent(Graphics g) {\n                    super.paintComponent(g);\n                    g.drawImage(gifIcon.getImage(), 0, 0, getWidth(), getHeight(), this);\n                }\n            };\n            setContentPane(contentPane);\n            contentPane.revalidate();\n            contentPane.repaint();\n        } else {\n            System.out.println(&quot;File GIF non trovato.&quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Errore durante la lettura del file GIF. Percorso: &quot; + gifPath);\n    }\n}\n\nprivate JSONObject getWeatherData() throws Exception {\n    String apiUrl = &quot;http://api.weatherstack.com/current?access_key=&quot; + API_KEY + &quot;&amp;query=&quot; + CITY_NAME;\n    URL url = new URL(apiUrl);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    StringBuilder response = new StringBuilder();\n    String line;\n\n    while ((line = reader.readLine()) != null) {\n        response.append(line);\n    }\n\n    reader.close();\n    connection.disconnect();\n\n    String jsonResponse = response.toString();\n    System.out.println(&quot;JSON Response: &quot; + jsonResponse);\n\n    return new JSONObject(jsonResponse);\n}\n\npublic static void main(String[] args) {\n    System.out.println(System.getProperty(&quot;java.class.path&quot;));\n    EventQueue.invokeLater(() -&gt; {\n        try {\n            WeatherBackgroundApp frame = new WeatherBackgroundApp();\n            frame.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n<p>The intent of the program was to take data from an API and use it to change the background of the frame based on the data obtained</p>\n<p>I can't get the resources to be used, I assume that the gifs are in the same directory as the java file, output:</p>\n<p>JSON Response: { &quot;request&quot;: { &quot;type&quot;: &quot;City&quot;, &quot;query&quot;: &quot;Milan, Italy&quot;, &quot;language&quot;: &quot;en&quot;, &quot;unit&quot;: &quot;m&quot; }, &quot;location&quot;: { &quot;name&quot;: &quot;Milan&quot;, &quot;country&quot;: &quot;Italy&quot;, &quot;region&quot;: &quot;Lombardia&quot;, &quot;lat&quot;: &quot;45.467&quot;, &quot;lon&quot;: &quot;9.200&quot;, &quot;timezone_id&quot;: &quot;Europe/Rome&quot;, &quot;localtime&quot;: &quot;2023-12-02 01:13&quot;, &quot;localtime_epoch&quot;: 1701479580, &quot;utc_offset&quot;: &quot;1.0&quot; }, &quot;current&quot;: { &quot;observation_time&quot;: &quot;12:13 AM&quot;, &quot;temperature&quot;: 6, &quot;weather_code&quot;: 248, &quot;weather_icons&quot;: [ &quot;https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png&quot; ], &quot;weather_descriptions&quot;: [&quot;Fog&quot;], &quot;wind_speed&quot;: 6, &quot;wind_degree&quot;: 240, &quot;wind_dir&quot;: &quot;WSW&quot;, &quot;pressure&quot;: 993, &quot;precip&quot;: 0.1, &quot;humidity&quot;: 100, &quot;cloudcover&quot;: 100, &quot;feelslike&quot;: 6, &quot;uv_index&quot;: 1, &quot;visibility&quot;: 1, &quot;is_day&quot;: &quot;no&quot; } }</p>\n<p>I tried both the relative and the absolute path but it still doesn't work for me</p>\n"},{"tags":["java","android","admob","gdprconsentform"],"answers":[{"tags":[],"owner":{"account_id":29774244,"reputation":7,"user_id":22818685,"display_name":"Oleh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701689281,"creation_date":1701689281,"answer_id":77599057,"question_id":76401642,"body_markdown":"This answer may no longer be relevant to you, but it may be useful to someone else.\r\n\r\nGoogle has a repository on Github with examples of Mobile Ads SDK integration, and you can simply take the ready-made code from there and modify it to suit your needs.\r\n\r\nGoogle Mobile Ads SDK for Android: https://github.com/googleads/googleads-mobile-android-examples/tree/main","title":"Is this a good UMP implementation?","body":"<p>This answer may no longer be relevant to you, but it may be useful to someone else.</p>\n<p>Google has a repository on Github with examples of Mobile Ads SDK integration, and you can simply take the ready-made code from there and modify it to suit your needs.</p>\n<p>Google Mobile Ads SDK for Android: <a href=\"https://github.com/googleads/googleads-mobile-android-examples/tree/main\" rel=\"nofollow noreferrer\">https://github.com/googleads/googleads-mobile-android-examples/tree/main</a></p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701689281,"creation_date":1685899988,"question_id":76401642,"body_markdown":"I am implementing UMP sdk in my app and it is working apparently, but I want to ensure that this is the correct way of implementing it:\r\n\r\nHere is my code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n      private ConsentInformation consentInformation;\r\n      private ConsentForm consentForm;\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        consent();\r\n       }\r\n    \r\n        public void consent() {\r\n            ConsentRequestParameters params = new ConsentRequestParameters\r\n                    .Builder()\r\n                    .setTagForUnderAgeOfConsent(false)\r\n                    .build();\r\n    \r\n            consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n            consentInformation.requestConsentInfoUpdate(this,\r\n                    params,\r\n                    new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                        @Override\r\n                        public void onConsentInfoUpdateSuccess() {\r\n                            // The consent information state was updated.\r\n                            // You are now ready to check if a form is available.\r\n                            if (consentInformation.isConsentFormAvailable()) {\r\n                                loadForm();\r\n                            }\r\n                        }\r\n                    },\r\n                    new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                        @Override\r\n                        public void onConsentInfoUpdateFailure(FormError formError) {\r\n                            // Handle the error.\r\n                        }\r\n                    });\r\n    \r\n        }\r\n    \r\n        public void loadForm() {\r\n            // Loads a consent form. Must be called on the main thread.\r\n            UserMessagingPlatform.loadConsentForm(\r\n                    this,\r\n                    new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\r\n                        @Override\r\n                        public void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n                            MainActivity.this.consentForm = consentForm;\r\n                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n                                consentForm.show(\r\n                                        MainActivity.this,\r\n                                        new ConsentForm.OnConsentFormDismissedListener() {\r\n                                            @Override\r\n                                            public void onConsentFormDismissed(FormError formError) {\r\n                                                if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\r\n                                              MobileAds.initialize(this, initializationStatus -&gt; {\r\n            });\r\n                                                }\r\n    \r\n                                                // Handle dismissal by reloading form.\r\n                                                loadForm();\r\n                                            }\r\n                                        });\r\n                            }\r\n                        }\r\n                    },\r\n                    new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\r\n                        @Override\r\n                        public void onConsentFormLoadFailure(FormError formError) {\r\n                            loadForm();\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n\r\n\r\nI have three questions:\r\n\r\n1- Is my implementation looking good?\r\n\r\n2- Is it a good way to MobileAds.initialize() when ConsentStatus is ConsentStatus.OBTAINED as I have done?\r\n\r\n3- I don&#39;t have to do anything more, right? I mean when the user accepts or declines the Form, google will automatically personalize ads without my need of managing that, right? I mean, I don&#39;t have to code the personalization part, right?\r\n\r\n","title":"Is this a good UMP implementation?","body":"<p>I am implementing UMP sdk in my app and it is working apparently, but I want to ensure that this is the correct way of implementing it:</p>\n<p>Here is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n  private ConsentInformation consentInformation;\n  private ConsentForm consentForm;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    consent();\n   }\n\n    public void consent() {\n        ConsentRequestParameters params = new ConsentRequestParameters\n                .Builder()\n                .setTagForUnderAgeOfConsent(false)\n                .build();\n\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\n        consentInformation.requestConsentInfoUpdate(this,\n                params,\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                    @Override\n                    public void onConsentInfoUpdateSuccess() {\n                        // The consent information state was updated.\n                        // You are now ready to check if a form is available.\n                        if (consentInformation.isConsentFormAvailable()) {\n                            loadForm();\n                        }\n                    }\n                },\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                    @Override\n                    public void onConsentInfoUpdateFailure(FormError formError) {\n                        // Handle the error.\n                    }\n                });\n\n    }\n\n    public void loadForm() {\n        // Loads a consent form. Must be called on the main thread.\n        UserMessagingPlatform.loadConsentForm(\n                this,\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\n                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        MainActivity.this.consentForm = consentForm;\n                        if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                            consentForm.show(\n                                    MainActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(FormError formError) {\n                                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\n                                          MobileAds.initialize(this, initializationStatus -&gt; {\n        });\n                                            }\n\n                                            // Handle dismissal by reloading form.\n                                            loadForm();\n                                        }\n                                    });\n                        }\n                    }\n                },\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\n                    @Override\n                    public void onConsentFormLoadFailure(FormError formError) {\n                        loadForm();\n                    }\n                }\n        );\n    }\n</code></pre>\n<p>I have three questions:</p>\n<p>1- Is my implementation looking good?</p>\n<p>2- Is it a good way to MobileAds.initialize() when ConsentStatus is ConsentStatus.OBTAINED as I have done?</p>\n<p>3- I don't have to do anything more, right? I mean when the user accepts or declines the Form, google will automatically personalize ads without my need of managing that, right? I mean, I don't have to code the personalization part, right?</p>\n"},{"tags":["java","jar","java-11"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701501547,"post_id":77589175,"comment_id":136786003,"body_markdown":"Most, if not all, of the code in `tools.jar` was moved into various `jdk.*` modules with the release of Java 9. Those modules are part of the run-time image (or, at least, they are in OpenJDK-based distributions). For example, the [`jdk.compiler`](https://docs.oracle.com/en/java/javase/21/docs/api/jdk.compiler/module-summary.html) module contains the implementation of the `javac` compiler.","body":"Most, if not all, of the code in <code>tools.jar</code> was moved into various <code>jdk.*</code> modules with the release of Java 9. Those modules are part of the run-time image (or, at least, they are in OpenJDK-based distributions). For example, the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.compiler/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.compiler</code></a> module contains the implementation of the <code>javac</code> compiler."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1701503653,"post_id":77589175,"comment_id":136786144,"body_markdown":"For the same reason `rt.jar` and `jce.jar jsse.jar` and other crypto-provider jars and `charsets.jar localedata.jar cldrdata.jar` and nearly all other jars are removed in all Java 9 up.","body":"For the same reason <code>rt.jar</code> and <code>jce.jar jsse.jar</code> and other crypto-provider jars and <code>charsets.jar localedata.jar cldrdata.jar</code> and nearly all other jars are removed in all Java 9 up."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701688757,"creation_date":1701494388,"answer_id":77589237,"question_id":77589175,"body_markdown":"&gt; Why tools.jar file is removed in JDK 11 can anyone explain.\r\n\r\nIt was removed in Java 9 ... as part of the overhaul to implement Modules.  In fact, the entire Java SE Java codebase is now delivered (at runtime) via the [Java Platform Module System](https://en.wikipedia.org/wiki/Java_Platform_Module_System); see also https://stackoverflow.com/questions/63696357\r\n\r\n--------------------\r\n\r\n&gt; What are the causes for it. If anyone have any doc can you share of doc removal of &quot;tools.jar&quot; expected issues and resolution.\r\n\r\n1.  Documentation: see [JEP 220: Modular Run-Time Images](https://openjdk.java.net/jeps/220) is the proposal that gave rise to this change. It gives the full rationale ... among other things.\r\n\r\n2.  Issues: the primary issue is the obvious one: code that relies on the presence of &quot;tools.jar&quot; won&#39;t work anymore.  This is a breaking change&lt;sup&gt;†&lt;/sup&gt;.\r\n\r\n3.  Resolution: he way access Java Tools at runtime in Java 9+ is to use the `javax.tools.*`  APIs in the `java.compiler` module.  **This will entail some code rewriting.**  For examples; see\r\n\r\n    - https://stackoverflow.com/questions/60664816\r\n    - some of the answers to https://stackoverflow.com/questions/52638550.\r\n\r\n&lt;sup&gt;† - AFAIK, the &quot;tools.jar&quot; file is not *specified* as being part of the pre-Java 9 Java platform.  It is not mentioned in the JLS or JVM spec, or (AFAIK) in the pre-Java 9 javadocs.  It is &quot;just an implementation detail&quot;.  Depending on implementation details makes your code more susceptible to breakage when those details change.  The fact that there was no straight-forward alternative (then) doesn&#39;t change that.&lt;/sup&gt;\r\n\r\n--------------------\r\n\r\n&gt; Is tools.jar is added in higher versions and what are they.\r\n\r\nNo.  It isn&#39;t.","title":"Why tools.jar file is not present in JDK 11 folder","body":"<blockquote>\n<p>Why tools.jar file is removed in JDK 11 can anyone explain.</p>\n</blockquote>\n<p>It was removed in Java 9 ... as part of the overhaul to implement Modules.  In fact, the entire Java SE Java codebase is now delivered (at runtime) via the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System</a>; see also <a href=\"https://stackoverflow.com/questions/63696357\">Unable to locate tools.jar for Java SE 14</a></p>\n<hr />\n<blockquote>\n<p>What are the causes for it. If anyone have any doc can you share of doc removal of &quot;tools.jar&quot; expected issues and resolution.</p>\n</blockquote>\n<ol>\n<li><p>Documentation: see <a href=\"https://openjdk.java.net/jeps/220\" rel=\"nofollow noreferrer\">JEP 220: Modular Run-Time Images</a> is the proposal that gave rise to this change. It gives the full rationale ... among other things.</p>\n</li>\n<li><p>Issues: the primary issue is the obvious one: code that relies on the presence of &quot;tools.jar&quot; won't work anymore.  This is a breaking change<sup>†</sup>.</p>\n</li>\n<li><p>Resolution: he way access Java Tools at runtime in Java 9+ is to use the <code>javax.tools.*</code>  APIs in the <code>java.compiler</code> module.  <strong>This will entail some code rewriting.</strong>  For examples; see</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60664816\">Create a java class dynamically and compile and instantiate at run time</a></li>\n<li>some of the answers to <a href=\"https://stackoverflow.com/questions/52638550\">what is tools.jar replacement?</a>.</li>\n</ul>\n</li>\n</ol>\n<p><sup>† - AFAIK, the &quot;tools.jar&quot; file is not <em>specified</em> as being part of the pre-Java 9 Java platform.  It is not mentioned in the JLS or JVM spec, or (AFAIK) in the pre-Java 9 javadocs.  It is &quot;just an implementation detail&quot;.  Depending on implementation details makes your code more susceptible to breakage when those details change.  The fact that there was no straight-forward alternative (then) doesn't change that.</sup></p>\n<hr />\n<blockquote>\n<p>Is tools.jar is added in higher versions and what are they.</p>\n</blockquote>\n<p>No.  It isn't.</p>\n"}],"owner":{"account_id":30044830,"reputation":1,"user_id":23024737,"display_name":"Adrenaline360"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701518914,"answer_count":1,"score":-1,"last_activity_date":1701688757,"creation_date":1701492278,"question_id":77589175,"body_markdown":"Why tools.jar file is removed in JDK 11?\r\n\r\nWhat are the causes for it? If anyone have any doc can you share of doc removal of tools.jar expected issues and resolution.\r\n\r\nIs tools.jar is added in higher versions and what are they?\r\n","title":"Why tools.jar file is not present in JDK 11 folder","body":"<p>Why tools.jar file is removed in JDK 11?</p>\n<p>What are the causes for it? If anyone have any doc can you share of doc removal of tools.jar expected issues and resolution.</p>\n<p>Is tools.jar is added in higher versions and what are they?</p>\n"},{"tags":["java","spring","spring-boot","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701688459,"creation_date":1701688459,"answer_id":77598984,"question_id":77598906,"body_markdown":"In SpringWebflux you should just change the Locale.\r\n\r\n    public static void main(String[] args) {\r\n      Locale.setDefault(Locale.ENGLISH);\r\n      SpringApplication.run(YandexMarketAdapterApplication.class, args);\r\n}\r\n  ","title":"How to change validation message in openapi in java?","body":"<p>In SpringWebflux you should just change the Locale.</p>\n<pre><code>public static void main(String[] args) {\n  Locale.setDefault(Locale.ENGLISH);\n  SpringApplication.run(YandexMarketAdapterApplication.class, args);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701688459,"creation_date":1701687672,"question_id":77598906,"body_markdown":"I have spring boot application that constructs dtos based on openapi yaml configuration. I want to change default messages of validation errors. Now they are in russian but I want them to be in english. How can I do that? \r\nExample of message:\r\ncart.items[0].feedId не должно равняться null\r\nI need this to be:\r\ncart.items[0].feedId must not be null\r\nFor all validation errors","title":"How to change validation message in openapi in java?","body":"<p>I have spring boot application that constructs dtos based on openapi yaml configuration. I want to change default messages of validation errors. Now they are in russian but I want them to be in english. How can I do that?\nExample of message:\ncart.items[0].feedId не должно равняться null\nI need this to be:\ncart.items[0].feedId must not be null\nFor all validation errors</p>\n"},{"tags":["java","eclipse","javafx","fxml"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701664784,"post_id":77596919,"comment_id":136799655,"body_markdown":"What Eclipse version are you using?","body":"What Eclipse version are you using?"},{"owner":{"account_id":29933049,"reputation":1,"user_id":22939448,"display_name":"Madhu Sri"},"score":0,"creation_date":1701668484,"post_id":77596919,"comment_id":136799902,"body_markdown":"eclipseVersion: 2022-09 (4.25.0)","body":"eclipseVersion: 2022-09 (4.25.0)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1701675360,"post_id":77596919,"comment_id":136800502,"body_markdown":"The dialog tells you to _&quot;Select A Root Element&quot;_, but you have not done so. Your Eclipse is one year and four releases behind.","body":"The dialog tells you to <i>&quot;Select A Root Element&quot;</i>, but you have not done so. Your Eclipse is one year and four releases behind."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701687375,"post_id":77596919,"comment_id":136802370,"body_markdown":"A root element should only be required if using the [`fx:root` construct](https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#root_elements), which is not required and usually not used in an fxml document.","body":"A root element should only be required if using the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#root_elements\" rel=\"nofollow noreferrer\"><code>fx:root</code> construct</a>, which is not required and usually not used in an fxml document."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701688122,"post_id":77596919,"comment_id":136802476,"body_markdown":"@jewelsea Valid XML requires a root element which is unrelated to `fx:root`. The _Finish_ button is disabled because no root element has been chosen yet.","body":"@jewelsea Valid XML requires a root element which is unrelated to <code>fx:root</code>. The <i>Finish</i> button is disabled because no root element has been chosen yet."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701688288,"post_id":77596919,"comment_id":136802512,"body_markdown":"Well that&#39;s confusing :-)","body":"Well that&#39;s confusing :-)"}],"owner":{"account_id":29933049,"reputation":1,"user_id":22939448,"display_name":"Madhu Sri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701709564,"answer_count":0,"score":0,"last_activity_date":1701688278,"creation_date":1701656697,"question_id":77596919,"body_markdown":"Unable to set path in package root or choose package location when creating a new XML file. The dialog box for file creation lacks the option to browse and select the desired package, restricting customization of the file path within the project structure. Seeking a resolution to enable seamless XML file creation with the preferred package location.\r\n\r\n[![dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/noYRM.png","title":"Cant create new fxml file","body":"<p>Unable to set path in package root or choose package location when creating a new XML file. The dialog box for file creation lacks the option to browse and select the desired package, restricting customization of the file path within the project structure. Seeking a resolution to enable seamless XML file creation with the preferred package location.</p>\n<p><a href=\"https://i.stack.imgur.com/noYRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/noYRM.png\" alt=\"dialog\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701679427,"post_id":77598111,"comment_id":136801088,"body_markdown":"The interface requires that the method takes a generic parameter. What about making your interface parameterized instead of the method?","body":"The interface requires that the method takes a generic parameter. What about making your interface parameterized instead of the method?"},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701680307,"post_id":77598111,"comment_id":136801209,"body_markdown":"@matt My interface has other generic method,\n ``` &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode); \n&lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO); ``` \nI can&#39;t making a generic interface","body":"@matt My interface has other generic method,  ``` &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode);  &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO); ```  I can&#39;t making a generic interface"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701683392,"post_id":77598111,"comment_id":136801696,"body_markdown":"I don&#39;t understand why you need a generic parameter for your method. Why would you have an interface that uses a concrete &quot;getSchedule&quot; class, but a generic or different class for &quot;commit&quot;? If you want the methods to be concrete make the `T` at the class level.","body":"I don&#39;t understand why you need a generic parameter for your method. Why would you have an interface that uses a concrete &quot;getSchedule&quot; class, but a generic or different class for &quot;commit&quot;? If you want the methods to be concrete make the <code>T</code> at the class level."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701684193,"post_id":77598111,"comment_id":136801832,"body_markdown":"@matt hello,matt,schedule have 8 subclass,it has differents params and save these into different tables,and ScheduleControllerInterface  is all 8 class&#39;parent interface,i want to control all subclass allow the rule,and get different class that is Common params class &#39;s sub class into commit method,You can see this scene in my reply to matt&#39;s answer.","body":"@matt hello,matt,schedule have 8 subclass,it has differents params and save these into different tables,and ScheduleControllerInterface  is all 8 class&#39;parent interface,i want to control all subclass allow the rule,and get different class that is Common params class &#39;s sub class into commit method,You can see this scene in my reply to matt&#39;s answer."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701684320,"post_id":77598111,"comment_id":136801849,"body_markdown":"@matt the &quot;getSchedule&quot; method has a param is all subclass will generate in commit,but  it will return different class by call the method.","body":"@matt the &quot;getSchedule&quot; method has a param is all subclass will generate in commit,but  it will return different class by call the method."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701684631,"post_id":77598111,"comment_id":136801895,"body_markdown":"How about `ScheduleControlledInterface&lt;T, V&gt;` Then each method has it&#39;s own parameter that is set when you create the implementation. If the implementation only wokrs for one type of the generic, then you should say that at the interface definition.","body":"How about <code>ScheduleControlledInterface&lt;T, V&gt;</code> Then each method has it&#39;s own parameter that is set when you create the implementation. If the implementation only wokrs for one type of the generic, then you should say that at the interface definition."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701688183,"post_id":77598111,"comment_id":136802490,"body_markdown":"@matt I think you are right,I will try to extra some same type param.And i will found whether I can implement it that I don&#39;t need more Type params for interface","body":"@matt I think you are right,I will try to extra some same type param.And i will found whether I can implement it that I don&#39;t need more Type params for interface"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701679261,"creation_date":1701679261,"answer_id":77598152,"question_id":77598111,"body_markdown":"You cannot &quot;specialize&quot; a generic in Java (like you would in C++). A generic method has to remain generic and you cannot replace generic type parameters with concrete types.\r\n\r\nWhat you could do is not making your method generic, but your interface generic and then implement the interface while providing a concrete type argument to the generic type parameter:\r\n\r\n```\r\npublic interface ScheduleControllerInterface&lt;T extends ScheduleAddUpdateDTO&gt; {\r\n  CommonResult&lt;String&gt; commit(@Valid T commitDTO);\r\n}\r\n\r\npublic class CarScheduleController implements ScheduleControllerInterface&lt;CarScheduleDTO&gt; {\r\n    @Override\r\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\r\n        carSchedule.commitSchedule(commitDTO);\r\n        return CommonResult.success();\r\n    }\r\n}\r\n```\r\n","title":"How to implement a generic method given a type?","body":"<p>You cannot &quot;specialize&quot; a generic in Java (like you would in C++). A generic method has to remain generic and you cannot replace generic type parameters with concrete types.</p>\n<p>What you could do is not making your method generic, but your interface generic and then implement the interface while providing a concrete type argument to the generic type parameter:</p>\n<pre><code>public interface ScheduleControllerInterface&lt;T extends ScheduleAddUpdateDTO&gt; {\n  CommonResult&lt;String&gt; commit(@Valid T commitDTO);\n}\n\npublic class CarScheduleController implements ScheduleControllerInterface&lt;CarScheduleDTO&gt; {\n    @Override\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\n        carSchedule.commitSchedule(commitDTO);\n        return CommonResult.success();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28312532,"reputation":1,"user_id":21649585,"display_name":"Sagar Mondal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701679362,"creation_date":1701679362,"answer_id":77598163,"question_id":77598111,"body_markdown":"In various programming languages, the implementation of generic methods can differ. However, the concept generally remains the same - to create a method that can operate on different types of data without specifying the actual type until it&#39;s used.\r\n\r\nHere&#39;s a basic example in Java:\r\n\r\n    public class GenericMethodExample {\r\n\r\n    // This is a generic method that works with any type T\r\n    public &lt;T&gt; void printArray(T[] array) {\r\n        for (T element : array) {\r\n            System.out.print(element + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        GenericMethodExample example = new GenericMethodExample();\r\n\r\n        // Example with Integer array\r\n        Integer[] intArray = { 1, 2, 3, 4, 5 };\r\n        example.printArray(intArray);\r\n\r\n        // Example with String array\r\n        String[] stringArray = { &quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot; };\r\n        example.printArray(stringArray);\r\n    } }\r\n\r\nIn this example:\r\n\r\nThe printArray method is generic and uses the placeholder &lt;T&gt;.\r\nIt accepts an array of any type T and prints its elements.\r\nThe main method demonstrates how to use this generic method with both Integer and String arrays.\r\n\r\n    1 2 3 4 5 \r\napple orange banana\r\n","title":"How to implement a generic method given a type?","body":"<p>In various programming languages, the implementation of generic methods can differ. However, the concept generally remains the same - to create a method that can operate on different types of data without specifying the actual type until it's used.</p>\n<p>Here's a basic example in Java:</p>\n<pre><code>public class GenericMethodExample {\n\n// This is a generic method that works with any type T\npublic &lt;T&gt; void printArray(T[] array) {\n    for (T element : array) {\n        System.out.print(element + &quot; &quot;);\n    }\n    System.out.println();\n}\n\npublic static void main(String[] args) {\n    GenericMethodExample example = new GenericMethodExample();\n\n    // Example with Integer array\n    Integer[] intArray = { 1, 2, 3, 4, 5 };\n    example.printArray(intArray);\n\n    // Example with String array\n    String[] stringArray = { &quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot; };\n    example.printArray(stringArray);\n} }\n</code></pre>\n<p>In this example:</p>\n<p>The printArray method is generic and uses the placeholder .\nIt accepts an array of any type T and prints its elements.\nThe main method demonstrates how to use this generic method with both Integer and String arrays.</p>\n<pre><code>1 2 3 4 5 \n</code></pre>\n<p>apple orange banana</p>\n"}],"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701687966,"creation_date":1701678696,"question_id":77598111,"body_markdown":"I have a java interface,like this:\r\n```\r\npublic interface ScheduleControllerInterface {\r\n\r\n    &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; commit(@Valid T commitDTO);\r\n}  \r\n\r\n```\r\nnow,i want to implement this interface,and given a type to generic type,like this:\r\n```\r\npublic class CarScheduleController implements ScheduleControllerInterface {\r\n\r\n    @Override\r\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\r\n        carSchedule.commitSchedule(commitDTO);\r\n        return CommonResult.success();\r\n    }\r\n}\r\n```\r\nbut when i try it,it called i don&#39;t have override the method,My interface have a lot of generic method , i want to implements it,What can i do?\r\n\r\n[the table design][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ne3hv.jpg\r\n","title":"How to implement a generic method given a type?","body":"<p>I have a java interface,like this:</p>\n<pre><code>public interface ScheduleControllerInterface {\n\n    &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; commit(@Valid T commitDTO);\n}  \n\n</code></pre>\n<p>now,i want to implement this interface,and given a type to generic type,like this:</p>\n<pre><code>public class CarScheduleController implements ScheduleControllerInterface {\n\n    @Override\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\n        carSchedule.commitSchedule(commitDTO);\n        return CommonResult.success();\n    }\n}\n</code></pre>\n<p>but when i try it,it called i don't have override the method,My interface have a lot of generic method , i want to implements it,What can i do?</p>\n<p><a href=\"https://i.stack.imgur.com/Ne3hv.jpg\" rel=\"nofollow noreferrer\">the table design</a></p>\n"},{"tags":["java","cucumber","rest-assured","testrail"],"owner":{"account_id":15352892,"reputation":21,"user_id":11076058,"display_name":"rooddah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701687842,"creation_date":1701687276,"question_id":77598872,"body_markdown":"I&#39;m using BDD and my scenarios have certain tags including `TestRail(123456)`.\r\n\r\nI have code written that reads the results and given the plan or run id, it updates the results into TestRail run.\r\nBUT since there are many new BDD scenarios and features recently added, I want to avoid creating them in TestRail manually, so I want to import the feature file, as this new (?) functionality appeared recently in TestRail. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBy doing so, I am unable to find a way to map scenarios from my repo to TestRail. \r\nI was trying to get the id (`scenario.getId()`) but it&#39;s the run id, not the Scenario id so it won&#39;t work. Has anyone tried that? I&#39;m ran out of ideas\r\n\r\nMy current code:\r\n\r\n    Collection&lt;String&gt; tagNames = scenario.getSourceTagNames();\r\n            for (String s : tagNames) {\r\n                if (s.contains(&quot;TestRail&quot;)) {\r\n                    String[] res = s.split(&quot;(\\\\(.*?)&quot;);\r\n                    caseId = res[1].substring(0, res[1].length() - 1); \r\n                    break;\r\n                }\r\n            }\r\n    \r\n    if (!scenario.isFailed()) {\r\n                data.put(&quot;status_id&quot;, SUCCESS_STATE);\r\n                data.put(&quot;comment&quot;, SUCCESS_COMMENT);\r\n    \r\n            } else {\r\n                    data.put(&quot;status_id&quot;, FAIL_STATE);\r\n                    data.put(&quot;comment&quot;, logError(scenario));\r\n             }        \r\n    \r\n     client = testRailApiClient();\r\n                    client.sendPost(&quot;add_result_for_case/&quot; + runId + &quot;/&quot; + caseId, data);\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1TEjS.png","title":"How to get results updated in TestRail from imported features?","body":"<p>I'm using BDD and my scenarios have certain tags including <code>TestRail(123456)</code>.</p>\n<p>I have code written that reads the results and given the plan or run id, it updates the results into TestRail run.\nBUT since there are many new BDD scenarios and features recently added, I want to avoid creating them in TestRail manually, so I want to import the feature file, as this new (?) functionality appeared recently in TestRail.</p>\n<p><a href=\"https://i.stack.imgur.com/1TEjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TEjS.png\" alt=\"enter image description here\" /></a></p>\n<p>By doing so, I am unable to find a way to map scenarios from my repo to TestRail.\nI was trying to get the id (<code>scenario.getId()</code>) but it's the run id, not the Scenario id so it won't work. Has anyone tried that? I'm ran out of ideas</p>\n<p>My current code:</p>\n<pre><code>Collection&lt;String&gt; tagNames = scenario.getSourceTagNames();\n        for (String s : tagNames) {\n            if (s.contains(&quot;TestRail&quot;)) {\n                String[] res = s.split(&quot;(\\\\(.*?)&quot;);\n                caseId = res[1].substring(0, res[1].length() - 1); \n                break;\n            }\n        }\n\nif (!scenario.isFailed()) {\n            data.put(&quot;status_id&quot;, SUCCESS_STATE);\n            data.put(&quot;comment&quot;, SUCCESS_COMMENT);\n\n        } else {\n                data.put(&quot;status_id&quot;, FAIL_STATE);\n                data.put(&quot;comment&quot;, logError(scenario));\n         }        \n\n client = testRailApiClient();\n                client.sendPost(&quot;add_result_for_case/&quot; + runId + &quot;/&quot; + caseId, data);\n</code></pre>\n"},{"tags":["java","file","java-8"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1470658730,"creation_date":1470658730,"answer_id":38829054,"question_id":38828830,"body_markdown":"The method [`Files.readAllLines()`](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-) assumes that the file you are reading is encoded in UTF-8.\r\n\r\nIf you get this exception, then the file you are reading is most likely encoded using a different character encoding than UTF-8.\r\n\r\nFind out what character encoding is used, and use the other [`readAllLines`](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-java.nio.charset.Charset-) method, that allows you to specify the character encoding.\r\n\r\nFor example, if the files are encoded in ISO-8859-1:\r\n\r\n    return Files.readAllLines(path, StandardCharsets.ISO_8859_1).stream()... // etc.\r\n\r\nThe method `FileUtiles.readLines()` (where does that come from?) probably assumes something else (it probably assumes the files are in the default character encoding of your system, which is something else than UTF-8).","title":"MalformedInputException with Files.readAllLines()","body":"<p>The method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-\" rel=\"noreferrer\"><code>Files.readAllLines()</code></a> assumes that the file you are reading is encoded in UTF-8.</p>\n\n<p>If you get this exception, then the file you are reading is most likely encoded using a different character encoding than UTF-8.</p>\n\n<p>Find out what character encoding is used, and use the other <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-java.nio.charset.Charset-\" rel=\"noreferrer\"><code>readAllLines</code></a> method, that allows you to specify the character encoding.</p>\n\n<p>For example, if the files are encoded in ISO-8859-1:</p>\n\n<pre><code>return Files.readAllLines(path, StandardCharsets.ISO_8859_1).stream()... // etc.\n</code></pre>\n\n<p>The method <code>FileUtiles.readLines()</code> (where does that come from?) probably assumes something else (it probably assumes the files are in the default character encoding of your system, which is something else than UTF-8).</p>\n"},{"tags":[],"owner":{"account_id":2658346,"reputation":1306,"user_id":2298578,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701687465,"creation_date":1701687465,"answer_id":77598888,"question_id":38828830,"body_markdown":"FileUtils.readLines from Apache Commons IO uses java.io.InputStreamReader.\r\n\r\nInputStreamReader uses a CharsetDecoder to read bytes, but it changes\r\nonMalformedInput and onUnmappableCharacter from the default REPORT (meaning\r\nthrow an exception) to REPLACE (meaning insert some replacement character).\r\n\r\nFiles.readAllLines however leaves the default behavior of the CharsetDecoder and\r\ntherefore throws an exception if a malformed or unmappable byte sequence is\r\nread. There is a hint to this hidden in the documentation of readAllLines:\r\n\r\n     * @throws  IOException\r\n     *          if an I/O error occurs reading from the file or a malformed or\r\n     *          unmappable byte sequence is read\r\n\r\nFiles.readAllLines is part of &quot;NIO&quot;, Java&#39;s new approach at IO. NIO quite\r\nconsistently throws an exception on invalid input, while the &quot;old&quot; classes\r\nreplace invalid input. However you can change NIO&#39;s behavior by using the\r\nmethods that accept a CharsetDecoder and pass a CharsetDecoder that you have configured according to your needs.","title":"MalformedInputException with Files.readAllLines()","body":"<p>FileUtils.readLines from Apache Commons IO uses java.io.InputStreamReader.</p>\n<p>InputStreamReader uses a CharsetDecoder to read bytes, but it changes\nonMalformedInput and onUnmappableCharacter from the default REPORT (meaning\nthrow an exception) to REPLACE (meaning insert some replacement character).</p>\n<p>Files.readAllLines however leaves the default behavior of the CharsetDecoder and\ntherefore throws an exception if a malformed or unmappable byte sequence is\nread. There is a hint to this hidden in the documentation of readAllLines:</p>\n<pre><code> * @throws  IOException\n *          if an I/O error occurs reading from the file or a malformed or\n *          unmappable byte sequence is read\n</code></pre>\n<p>Files.readAllLines is part of &quot;NIO&quot;, Java's new approach at IO. NIO quite\nconsistently throws an exception on invalid input, while the &quot;old&quot; classes\nreplace invalid input. However you can change NIO's behavior by using the\nmethods that accept a CharsetDecoder and pass a CharsetDecoder that you have configured according to your needs.</p>\n"}],"owner":{"account_id":2433222,"reputation":101,"user_id":2123700,"display_name":"Cousnouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10339,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701687465,"creation_date":1470658113,"question_id":38828830,"body_markdown":"I was iterating over some files, 5328 to be precise. These files are average XML files with 60-200 lines max. They are first filtered through a simple method *isXmlSourceFile* that parse the path.\r\n\r\n    \r\n\t\tFiles.walk(Paths.get(&quot;/home/me/development/projects/myproject&quot;), FileVisitOption.FOLLOW_LINKS)\r\n\t\t\t\t.filter(V3TestsGenerator::isXmlTestSourceFile)\r\n\t\t\t\t.filter(V3TestsGenerator::fileContainsXmlTag)\r\n\r\nThe big question is for the second filter, especially the method fileContainsXmlTag. For each file I wanted to detect if a pattern was contained at least once among the lines of it:\r\n\r\n    \r\n\tprivate static boolean fileContainsXmlTag(Path path) {\r\n\t\ttry {\r\n\t\t\treturn Files.readAllLines(path).stream().anyMatch(line -&gt; PATTERN.matcher(line).find());\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nFor some files I get then this exception\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n\tat java.nio.file.Files.readAllLines(Files.java:3205)\r\n\tat java.nio.file.Files.readAllLines(Files.java:3242)\r\n\r\nBut when I use FileUtiles.readLines() instead of Files.readAllLines everything is getting well.\r\n\r\nIt&#39;s a curiosity question so if someone as a clue of what&#39;s going on, it&#39;s with pleasure.\r\n\r\nThanks","title":"MalformedInputException with Files.readAllLines()","body":"<p>I was iterating over some files, 5328 to be precise. These files are average XML files with 60-200 lines max. They are first filtered through a simple method <em>isXmlSourceFile</em> that parse the path.</p>\n\n<pre><code>    Files.walk(Paths.get(\"/home/me/development/projects/myproject\"), FileVisitOption.FOLLOW_LINKS)\n            .filter(V3TestsGenerator::isXmlTestSourceFile)\n            .filter(V3TestsGenerator::fileContainsXmlTag)\n</code></pre>\n\n<p>The big question is for the second filter, especially the method fileContainsXmlTag. For each file I wanted to detect if a pattern was contained at least once among the lines of it:</p>\n\n<pre><code>private static boolean fileContainsXmlTag(Path path) {\n    try {\n        return Files.readAllLines(path).stream().anyMatch(line -&gt; PATTERN.matcher(line).find());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n\n<p>For some files I get then this exception</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\nat java.nio.charset.CoderResult.throwException(CoderResult.java:281)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\nat java.io.InputStreamReader.read(InputStreamReader.java:184)\nat java.io.BufferedReader.fill(BufferedReader.java:161)\nat java.io.BufferedReader.readLine(BufferedReader.java:324)\nat java.io.BufferedReader.readLine(BufferedReader.java:389)\nat java.nio.file.Files.readAllLines(Files.java:3205)\nat java.nio.file.Files.readAllLines(Files.java:3242)\n</code></pre>\n\n<p>But when I use FileUtiles.readLines() instead of Files.readAllLines everything is getting well.</p>\n\n<p>It's a curiosity question so if someone as a clue of what's going on, it's with pleasure.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jackson","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701687447,"creation_date":1701687447,"answer_id":77598887,"question_id":77598719,"body_markdown":"Ok, I removed\r\n\r\n    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n\r\nand\r\n\r\n    mapper.setDateFormat(new SimpleDateFormat(pattern));\r\n\r\nand added\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\r\n\r\nto MyClass#now\r\n\r\nand it works.","title":"jackson csv export setDateFormat ignored?","body":"<p>Ok, I removed</p>\n<pre><code>.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n</code></pre>\n<p>and</p>\n<pre><code>mapper.setDateFormat(new SimpleDateFormat(pattern));\n</code></pre>\n<p>and added</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\n</code></pre>\n<p>to MyClass#now</p>\n<p>and it works.</p>\n"}],"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77598887,"answer_count":1,"score":1,"last_activity_date":1701687447,"creation_date":1701685786,"question_id":77598719,"body_markdown":"I&#39;m trying to export a custom date format with Jackson 2.15.2 CsvMapper.\r\nBut I get the LocalDate#toString, I assume my test code is complete, what am I missing?\r\n\r\nComplete test class, the log output is\r\n\r\norg.opentest4j.AssertionFailedError: 2023-12-04 does not contain 04.12.2023 ==&gt; Expected:true Actual:false\r\n\r\n    class CsvExportDateFormatTest\r\n    {\r\n        @Test\r\n        void csvExportDateFormatTest() throws IOException\r\n        {\r\n            LocalDate now = LocalDate.now();\r\n    \r\n            String pattern = &quot;dd.MM.yyyy&quot;;\r\n            String formatted = DateTimeFormatter.ofPattern(pattern)\r\n                    .format(now);\r\n    \r\n            CsvMapper mapper = CsvMapper.builder()\r\n                    .addModule(new JavaTimeModule())\r\n                    .configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, false)\r\n                    .configure(CsvGenerator.Feature.STRICT_CHECK_FOR_QUOTING, true)\r\n                    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                    .build();\r\n            mapper.setDateFormat(new SimpleDateFormat(pattern));\r\n    \r\n            List&lt;MyClass&gt; l = new ArrayList&lt;&gt;();\r\n            l.add(new MyClass(now));\r\n            CsvSchema schema = mapper.schemaFor(MyClass.class);\r\n            StringWriter sw = new StringWriter();\r\n            mapper.writer(schema)\r\n                    .writeValue(sw, l);\r\n    \r\n            Assertions.assertTrue(sw.toString()\r\n                    .contains(formatted), sw + &quot; does not contain &quot; + formatted);\r\n        }\r\n    \r\n        static class MyClass\r\n        {\r\n            private LocalDate now;\r\n    \r\n            public MyClass(LocalDate now)\r\n            {\r\n                this.now = now;\r\n            }\r\n    \r\n            public LocalDate getNow()\r\n            {\r\n                return now;\r\n            }\r\n    \r\n            public void setNow(LocalDate now)\r\n            {\r\n                this.now = now;\r\n            }\r\n        }\r\n    }\r\n","title":"jackson csv export setDateFormat ignored?","body":"<p>I'm trying to export a custom date format with Jackson 2.15.2 CsvMapper.\nBut I get the LocalDate#toString, I assume my test code is complete, what am I missing?</p>\n<p>Complete test class, the log output is</p>\n<p>org.opentest4j.AssertionFailedError: 2023-12-04 does not contain 04.12.2023 ==&gt; Expected:true Actual:false</p>\n<pre><code>class CsvExportDateFormatTest\n{\n    @Test\n    void csvExportDateFormatTest() throws IOException\n    {\n        LocalDate now = LocalDate.now();\n\n        String pattern = &quot;dd.MM.yyyy&quot;;\n        String formatted = DateTimeFormatter.ofPattern(pattern)\n                .format(now);\n\n        CsvMapper mapper = CsvMapper.builder()\n                .addModule(new JavaTimeModule())\n                .configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, false)\n                .configure(CsvGenerator.Feature.STRICT_CHECK_FOR_QUOTING, true)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .build();\n        mapper.setDateFormat(new SimpleDateFormat(pattern));\n\n        List&lt;MyClass&gt; l = new ArrayList&lt;&gt;();\n        l.add(new MyClass(now));\n        CsvSchema schema = mapper.schemaFor(MyClass.class);\n        StringWriter sw = new StringWriter();\n        mapper.writer(schema)\n                .writeValue(sw, l);\n\n        Assertions.assertTrue(sw.toString()\n                .contains(formatted), sw + &quot; does not contain &quot; + formatted);\n    }\n\n    static class MyClass\n    {\n        private LocalDate now;\n\n        public MyClass(LocalDate now)\n        {\n            this.now = now;\n        }\n\n        public LocalDate getNow()\n        {\n            return now;\n        }\n\n        public void setNow(LocalDate now)\n        {\n            this.now = now;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","search"],"comments":[{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":0,"creation_date":1701687313,"post_id":77598857,"comment_id":136802360,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6541623,"reputation":3,"user_id":5058961,"display_name":"ikninja1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701687104,"creation_date":1701687104,"question_id":77598857,"body_markdown":"I am trying to build a terms query to return documents with the matching terms.\r\n\r\nHowever, according to documentation it seems a field must be specified with the terms query.\r\n\r\nIs there any way to do a terms query on all fields without specifying any?\r\n\r\nI have tried building a multi match query, but that does not allow multiple terms.","title":"Is it possible to perform a Terms Query on multiple fields in ElasticSearch Java API Client 8.11?","body":"<p>I am trying to build a terms query to return documents with the matching terms.</p>\n<p>However, according to documentation it seems a field must be specified with the terms query.</p>\n<p>Is there any way to do a terms query on all fields without specifying any?</p>\n<p>I have tried building a multi match query, but that does not allow multiple terms.</p>\n"},{"tags":["java","command","interpreter"],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586043203,"creation_date":1586043203,"answer_id":61036154,"question_id":61036070,"body_markdown":"Your commands are all lower case, but you&#39;re transforming the user input into upper case. Transform into lower case instead.\r\n```\r\ninput = in.nextLine().toLowerCase();\r\n```\r\nYou may also want to add `break` to the HELP command:\r\n\r\n                 case HELP:\r\n                    System.out.println(HELP);\r\n                    break;","title":"Trouble with command intepreter","body":"<p>Your commands are all lower case, but you're transforming the user input into upper case. Transform into lower case instead.</p>\n\n<pre><code>input = in.nextLine().toLowerCase();\n</code></pre>\n\n<p>You may also want to add <code>break</code> to the HELP command:</p>\n\n<pre><code>             case HELP:\n                System.out.println(HELP);\n                break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701686961,"creation_date":1586043231,"answer_id":61036157,"question_id":61036070,"body_markdown":" 1. `break` is missing in `case` for `HELP`. Note that you do not need `break` in the last `case` which is `default`.\r\n 2. The value in case should match the value of string constants, therefore, remove `toUpperCase()` from returned string.\r\n 3. Also, use `do...while` to avoid using `comm = getCommand(in);` twice. \r\n\r\nGiven below is the corrected code:\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\t// Constantes que definem os comandos\r\n\tpublic static final String REGISTER = &quot;register&quot;;\r\n\tpublic static final String LISTUSERS = &quot;listusers&quot;;\r\n\tpublic static final String UPLOAD = &quot;upload&quot;;\r\n\tpublic static final String READ = &quot;read&quot;;\r\n\tpublic static final String WRITE = &quot;write&quot;;\r\n\tpublic static final String GRANT = &quot;grant&quot;;\r\n\tpublic static final String REVOKE = &quot;revoke&quot;;\r\n\tpublic static final String USERDOCS = &quot;userdocs&quot;;\r\n\tpublic static final String TOPLEAKED = &quot;topleaked&quot;;\r\n\tpublic static final String TOPGRANTERS = &quot;topgranters&quot;;\r\n\tpublic static final String HELP = &quot;help&quot;;\r\n\tpublic static final String EXIT = &quot;exit&quot;;\r\n\r\n\t// Constantes que definem as mensagens para o utilizador\r\n\tpublic static final String EXIT_COMM = &quot;Bye!&quot;;\r\n\tpublic static final String REGISTER_COMM = &quot; was registered.&quot;;\r\n\tpublic static final String ALREADY_REG_ERROR = &quot; is already assigned to another user.&quot;;\r\n\tpublic static final String NO_LIST_USERS = &quot;There are no registered users.&quot;;\r\n\tpublic static final String DOC_UPLOADED = &quot; was uploaded.&quot;;\r\n\tpublic static final String OFFICIAL_DOC = &quot;Contact upda1ted.&quot;;\r\n\tpublic static final String TOPSECRET_DOC = &quot;Contact book empty.&quot;;\r\n\tpublic static final String CONFIDENTIAL_DOC = &quot;Phone number does not exist.&quot;;\r\n\tpublic static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\r\n\tpublic static final String HELP_COMM = &quot;register - registers a new user /n&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Welcome!&quot;);\r\n\t\t// WeKeepSecrets app = new WeKeepSecretsClass();\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString comm;\r\n\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter command: &quot;);\r\n\t\t\tcomm = getCommand(in);\r\n\t\t\tswitch (comm) {\r\n\t\t\tcase HELP:\r\n\t\t\t\tSystem.out.println(HELP);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (!comm.equals(EXIT)) {\r\n\t\t\t\t\tSystem.out.println(&quot;ERRO&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (!comm.equals(EXIT));\r\n\t\tSystem.out.println(EXIT_COMM);\r\n\t}\r\n\r\n\tprivate static String getCommand(Scanner in) {\r\n\t\tString input;\r\n\t\tinput = in.nextLine();\r\n\t\treturn input;\r\n\t}\r\n}\r\n\r\n```\r\n**A sample run:**\r\n\r\n    Welcome!\r\n    Enter command: help\r\n    help\r\n    Enter command: abc\r\n    ERRO\r\n    Enter command: exit\r\n    Bye!\r\n","title":"Trouble with command intepreter","body":"<ol>\n<li><code>break</code> is missing in <code>case</code> for <code>HELP</code>. Note that you do not need <code>break</code> in the last <code>case</code> which is <code>default</code>.</li>\n<li>The value in case should match the value of string constants, therefore, remove <code>toUpperCase()</code> from returned string.</li>\n<li>Also, use <code>do...while</code> to avoid using <code>comm = getCommand(in);</code> twice.</li>\n</ol>\n<p>Given below is the corrected code:</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class Main {\n    // Constantes que definem os comandos\n    public static final String REGISTER = &quot;register&quot;;\n    public static final String LISTUSERS = &quot;listusers&quot;;\n    public static final String UPLOAD = &quot;upload&quot;;\n    public static final String READ = &quot;read&quot;;\n    public static final String WRITE = &quot;write&quot;;\n    public static final String GRANT = &quot;grant&quot;;\n    public static final String REVOKE = &quot;revoke&quot;;\n    public static final String USERDOCS = &quot;userdocs&quot;;\n    public static final String TOPLEAKED = &quot;topleaked&quot;;\n    public static final String TOPGRANTERS = &quot;topgranters&quot;;\n    public static final String HELP = &quot;help&quot;;\n    public static final String EXIT = &quot;exit&quot;;\n\n    // Constantes que definem as mensagens para o utilizador\n    public static final String EXIT_COMM = &quot;Bye!&quot;;\n    public static final String REGISTER_COMM = &quot; was registered.&quot;;\n    public static final String ALREADY_REG_ERROR = &quot; is already assigned to another user.&quot;;\n    public static final String NO_LIST_USERS = &quot;There are no registered users.&quot;;\n    public static final String DOC_UPLOADED = &quot; was uploaded.&quot;;\n    public static final String OFFICIAL_DOC = &quot;Contact upda1ted.&quot;;\n    public static final String TOPSECRET_DOC = &quot;Contact book empty.&quot;;\n    public static final String CONFIDENTIAL_DOC = &quot;Phone number does not exist.&quot;;\n    public static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\n    public static final String HELP_COMM = &quot;register - registers a new user /n&quot;;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Welcome!&quot;);\n        // WeKeepSecrets app = new WeKeepSecretsClass();\n        Scanner in = new Scanner(System.in);\n        String comm;\n\n        do {\n            System.out.print(&quot;Enter command: &quot;);\n            comm = getCommand(in);\n            switch (comm) {\n            case HELP:\n                System.out.println(HELP);\n                break;\n            default:\n                if (!comm.equals(EXIT)) {\n                    System.out.println(&quot;ERRO&quot;);\n                }\n            }\n        } while (!comm.equals(EXIT));\n        System.out.println(EXIT_COMM);\n    }\n\n    private static String getCommand(Scanner in) {\n        String input;\n        input = in.nextLine();\n        return input;\n    }\n}\n\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Welcome!\nEnter command: help\nhelp\nEnter command: abc\nERRO\nEnter command: exit\nBye!\n</code></pre>\n"}],"owner":{"account_id":10980064,"reputation":13,"user_id":8067472,"display_name":"F&#225;bio Sultan Carrilho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61036157,"answer_count":2,"score":1,"last_activity_date":1701686961,"creation_date":1586042531,"question_id":61036070,"body_markdown":"Evening guys, \r\nI&#39;m doing a project for uni and I find myself in kind of a fuss.\r\nI&#39;m having trouble with my command interpreter. \r\nI can get the code to run, but unfortunately it&#39;s not reading my input right.\r\nCould someone point me in the right direction towards approaching the error ?\r\nThe code follows below, ignore the comments and the instances of other supporting classes.\r\nAny help would be appreciated.\r\nThanks in advance !\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n\r\n\tpublic class Main {\r\n\t\t//Constantes que definem os comandos\r\n\t\t public static final String REGISTER     = &quot;register&quot;;\r\n\t\t public static final String LISTUSERS    = &quot;listusers&quot;;\r\n\t\t public static final String UPLOAD       = &quot;upload&quot;;\r\n\t\t public static final String READ         = &quot;read&quot;;\r\n\t\t public static final String WRITE        = &quot;write&quot;;\r\n\t\t public static final String GRANT        = &quot;grant&quot;;\r\n\t\t public static final String REVOKE       = &quot;revoke&quot;;\r\n\t\t public static final String USERDOCS     = &quot;userdocs&quot;;\r\n\t\t public static final String TOPLEAKED \t = &quot;topleaked&quot;;\r\n\t\t public static final String TOPGRANTERS\t = &quot;topgranters&quot;;\r\n\t\t public static final String HELP \t     = &quot;help&quot;;\r\n\t\t public static final String EXIT         = &quot;exit&quot;;\r\n\t\t \r\n\t\t //Constantes que definem as mensagens para o utilizador\r\n\t\t public static final String EXIT_COMM \t\t\t= &quot;Bye!&quot;;\r\n\t\t public static final String REGISTER_COMM\t\t= &quot; was registered.&quot;;\r\n\t\t public static final String ALREADY_REG_ERROR \t= &quot; is already assigned to another user.&quot;;\r\n\t\t public static final String NO_LIST_USERS\t\t= &quot;There are no registered users.&quot;;\r\n\t\t public static final String DOC_UPLOADED\t \t= &quot; was uploaded.&quot;;\r\n\t\t public static final String OFFICIAL_DOC \t\t= &quot;Contact upda1ted.&quot;;\r\n\t\t public static final String TOPSECRET_DOC \t\t= &quot;Contact book empty.&quot;;\r\n\t\t public static final String CONFIDENTIAL_DOC \t= &quot;Phone number does not exist.&quot;;\r\n\t\t public static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\r\n\t\t public static final String HELP_COMM \t\t\t= &quot;register - registers a new user /n&quot;;\r\n\t\t\r\n\t\t public static void main(String[] args) {   \r\n\t\t\t System.out.println(&quot;Welcome!&quot;);\r\n\t\t\t//WeKeepSecrets app = new WeKeepSecretsClass();\t\t\r\n\t\t\tScanner in \t= new Scanner(System.in);\r\n\t\t\tString comm = getCommand(in);\r\n\t\t\t\r\n\t\t\t\t  \r\n\t\t\t\t while (!comm.equals(EXIT)){\r\n\t\t\t\t\t switch (comm) {\r\n\t\t\t\t\t case HELP:\r\n\t\t\t\t\t \tSystem.out.println(HELP);\r\n\t\t\t\t\t default:\r\n\t\t\t\t\t\t System.out.println(&quot;ERRO&quot;);\r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t }\r\n\t\t\t\t\t comm = getCommand(in);\r\n\t\t\t\t }\r\n\t\t\t\t System.out.println(EXIT_COMM);\r\n\t\t\t\t in.close();\r\n\t\t }\r\n\t\t \r\n\t\t private static String getCommand(Scanner in) {\r\n\t\t\t\tString input;\r\n\t\t\t\t\r\n\t\t\t\tinput = in.nextLine().toUpperCase();\r\n\t\t\t\treturn input;\r\n\t\t\t}\r\n\t}","title":"Trouble with command intepreter","body":"<p>Evening guys, \nI'm doing a project for uni and I find myself in kind of a fuss.\nI'm having trouble with my command interpreter. \nI can get the code to run, but unfortunately it's not reading my input right.\nCould someone point me in the right direction towards approaching the error ?\nThe code follows below, ignore the comments and the instances of other supporting classes.\nAny help would be appreciated.\nThanks in advance !</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class Main {\n    //Constantes que definem os comandos\n     public static final String REGISTER     = \"register\";\n     public static final String LISTUSERS    = \"listusers\";\n     public static final String UPLOAD       = \"upload\";\n     public static final String READ         = \"read\";\n     public static final String WRITE        = \"write\";\n     public static final String GRANT        = \"grant\";\n     public static final String REVOKE       = \"revoke\";\n     public static final String USERDOCS     = \"userdocs\";\n     public static final String TOPLEAKED    = \"topleaked\";\n     public static final String TOPGRANTERS  = \"topgranters\";\n     public static final String HELP         = \"help\";\n     public static final String EXIT         = \"exit\";\n\n     //Constantes que definem as mensagens para o utilizador\n     public static final String EXIT_COMM           = \"Bye!\";\n     public static final String REGISTER_COMM       = \" was registered.\";\n     public static final String ALREADY_REG_ERROR   = \" is already assigned to another user.\";\n     public static final String NO_LIST_USERS       = \"There are no registered users.\";\n     public static final String DOC_UPLOADED        = \" was uploaded.\";\n     public static final String OFFICIAL_DOC        = \"Contact upda1ted.\";\n     public static final String TOPSECRET_DOC       = \"Contact book empty.\";\n     public static final String CONFIDENTIAL_DOC    = \"Phone number does not exist.\";\n     public static final String CONTACT_SHARE_PHONE = \"There are contacts that share phone numbers.\";\n     public static final String HELP_COMM           = \"register - registers a new user /n\";\n\n     public static void main(String[] args) {   \n         System.out.println(\"Welcome!\");\n        //WeKeepSecrets app = new WeKeepSecretsClass();     \n        Scanner in  = new Scanner(System.in);\n        String comm = getCommand(in);\n\n\n             while (!comm.equals(EXIT)){\n                 switch (comm) {\n                 case HELP:\n                    System.out.println(HELP);\n                 default:\n                     System.out.println(\"ERRO\");\n                     break;\n                 }\n                 comm = getCommand(in);\n             }\n             System.out.println(EXIT_COMM);\n             in.close();\n     }\n\n     private static String getCommand(Scanner in) {\n            String input;\n\n            input = in.nextLine().toUpperCase();\n            return input;\n        }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","xpath-2.0"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701685684,"post_id":77598690,"comment_id":136802079,"body_markdown":"a bigger HTML contex would help a lot solving your issue. Xpaths can be written according to element neighbours as well. My current guess would be that, every time the ui-id element changes.","body":"a bigger HTML contex would help a lot solving your issue. Xpaths can be written according to element neighbours as well. My current guess would be that, every time the ui-id element changes."},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1701686620,"post_id":77598690,"comment_id":136802241,"body_markdown":"The exception says: `&quot;method&quot;:&quot;css selector&quot;,` so not XPath?","body":"The exception says: <code>&quot;method&quot;:&quot;css selector&quot;,</code> so not XPath?"},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1701686998,"post_id":77598690,"comment_id":136802296,"body_markdown":"My mistake, Here I am not capturing the element via xpath, trying to capture the element based on the ID value directly. So I have updated the question accordingly now.","body":"My mistake, Here I am not capturing the element via xpath, trying to capture the element based on the ID value directly. So I have updated the question accordingly now."},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1701688026,"post_id":77598690,"comment_id":136802461,"body_markdown":"&#39;1701680404647&#39; this value in the `ID` attribute seems to be dynamic. Check ff the value changes each time you load the page?","body":"&#39;1701680404647&#39; this value in the <code>ID</code> attribute seems to be dynamic. Check ff the value changes each time you load the page?"},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1701694695,"post_id":77598690,"comment_id":136803618,"body_markdown":"You are correct Shawn, It is a dynamic attribute. So I have changed this element capture to a xpath selector without relying on dynamic path. After this change I can capture the element.","body":"You are correct Shawn, It is a dynamic attribute. So I have changed this element capture to a xpath selector without relying on dynamic path. After this change I can capture the element."}],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702149521,"answer_count":0,"score":0,"last_activity_date":1701686927,"creation_date":1701685528,"question_id":77598690,"body_markdown":"I am trying to capture a text field through ID.\r\n\r\nId value of the element in the DOM is &#39;tableau-ui-1701680404647&#39;.\r\n\r\nFor this I have written the code as below.\r\n\r\n    private static final String USER_NAME_TXT = &quot;tableau-ui-1701680404647&quot;;\r\n    \r\n    @FindBy(id = USER_NAME_TXT)\r\n    WebElement userNameTextTableau;\r\n\r\nHowever, when I execute this programme I am getting below exception message. How can I modify the above code to eliminate this exception message?\r\n\r\n&gt; org.openqa.selenium.NoSuchElementException: no such element: Unable to\r\n&gt; locate element: {&quot;method&quot;:&quot;css\r\n&gt; selector&quot;,&quot;selector&quot;:&quot;#tableau\\\\-ui\\\\-1701680404647&quot;}   (Session info:\r\n&gt; MicrosoftEdge=119.0.2151.97)","title":"How to properly write a DOM expression to capture by ID when ID value contains &#39;-&#39;","body":"<p>I am trying to capture a text field through ID.</p>\n<p>Id value of the element in the DOM is 'tableau-ui-1701680404647'.</p>\n<p>For this I have written the code as below.</p>\n<pre><code>private static final String USER_NAME_TXT = &quot;tableau-ui-1701680404647&quot;;\n\n@FindBy(id = USER_NAME_TXT)\nWebElement userNameTextTableau;\n</code></pre>\n<p>However, when I execute this programme I am getting below exception message. How can I modify the above code to eliminate this exception message?</p>\n<blockquote>\n<p>org.openqa.selenium.NoSuchElementException: no such element: Unable to\nlocate element: {&quot;method&quot;:&quot;css\nselector&quot;,&quot;selector&quot;:&quot;#tableau\\-ui\\-1701680404647&quot;}   (Session info:\nMicrosoftEdge=119.0.2151.97)</p>\n</blockquote>\n"},{"tags":["java","json","elasticsearch","kibana"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1553230046,"post_id":55292978,"comment_id":97314710,"body_markdown":"The message doesn&#39;t seem like valid JSON.","body":"The message doesn&#39;t seem like valid JSON."},{"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"score":0,"creation_date":1553230323,"post_id":55292978,"comment_id":97314774,"body_markdown":"It is not a valid JSON. The value of the message seems to be another JSON which is not properly escaped.","body":"It is not a valid JSON. The value of the message seems to be another JSON which is not properly escaped."},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":1,"creation_date":1553231097,"post_id":55292978,"comment_id":97314968,"body_markdown":"your JSON is invalid here https://codebeautify.org/jsonviewer you can validate","body":"your JSON is invalid here <a href=\"https://codebeautify.org/jsonviewer\" rel=\"nofollow noreferrer\">codebeautify.org/jsonviewer</a> you can validate"},{"owner":{"account_id":5242101,"reputation":874,"user_id":4188827,"display_name":"Santosh"},"score":0,"creation_date":1553231405,"post_id":55292978,"comment_id":97315062,"body_markdown":"Your JSON is not valid, validate it here https://jsonformatter.curiousconcept.com/","body":"Your JSON is not valid, validate it here <a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">jsonformatter.curiousconcept.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":15581404,"reputation":67,"user_id":11241057,"display_name":"PumpkinX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553232900,"creation_date":1553232900,"answer_id":55293459,"question_id":55292978,"body_markdown":"Just completely remove the double quotes occurring thrice for key: &quot;message&quot;:\r\n&lt;pre&gt;\r\n   &quot;level&quot;: &quot;info&quot;,\r\n   &quot;message&quot;: {&quot;logMessageId&quot;:&quot;&quot;,&quot;logTimestamp&quot;:&quot;2019-03-22T10:52:46.251+07:00&quot;,&quot;transactionID&quot;:&quot;H003190322105245739910520&quot;,&quot;serviceName&quot;:&quot;&quot;,&quot;applicationID&quot;:&quot;&quot;,&quot;logLevel&quot;:&quot;AUDIT&quot;,&quot;logPoint&quot;:&quot;Transaction-Audit&quot;,&quot;logMessage&quot;:&quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,&quot;requestPayload&quot;:&quot;&quot;,&quot;responsePayload&quot;:&quot;&quot;,&quot;processTime&quot;:&quot;492&quot;},\r\n   &quot;hostname&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;, \r\n&lt;/pre&gt;\r\nIt should work then, I am able to parse the file using below code snippet.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n\r\n    public class JSONParserTest {\r\n\r\n\tpublic static void main(String[] args) throws ParseException, IOException {\r\n\t\tString the_json=readFile(&quot;sample.out&quot;, StandardCharsets.UTF_8);\r\n        //System.out.println(the_json);\r\n\t\tJSONParser object = new JSONParser();\r\n\t\tObject obj = object.parse(the_json);\r\n        JSONObject myjson = (JSONObject)obj;\r\n        JSONArray the_json_array = (JSONArray)myjson.get(&quot;profiles&quot;);\r\n        System.out.println(the_json_array);\r\n\t}\r\n\r\n\tstatic String readFile(String path, Charset encoding) \r\n            throws IOException \r\n          {\r\n            byte[] encoded = Files.readAllBytes(Paths.get(path));\r\n            return new String(encoded, encoding);\r\n          }\r\n}\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>Just completely remove the double quotes occurring thrice for key: \"message\":</p>\n\n<pre>\n   \"level\": \"info\",\n   \"message\": {\"logMessageId\":\"\",\"logTimestamp\":\"2019-03-22T10:52:46.251+07:00\",\"transactionID\":\"H003190322105245739910520\",\"serviceName\":\"\",\"applicationID\":\"\",\"logLevel\":\"AUDIT\",\"logPoint\":\"Transaction-Audit\",\"logMessage\":\"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\"requestPayload\":\"\",\"responsePayload\":\"\",\"processTime\":\"492\"},\n   \"hostname\": \"esbwnpapp3.telkomsel.co.id\", \n</pre>\n\n<p>It should work then, I am able to parse the file using below code snippet.</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JSONParserTest {\n\npublic static void main(String[] args) throws ParseException, IOException {\n    String the_json=readFile(\"sample.out\", StandardCharsets.UTF_8);\n    //System.out.println(the_json);\n    JSONParser object = new JSONParser();\n    Object obj = object.parse(the_json);\n    JSONObject myjson = (JSONObject)obj;\n    JSONArray the_json_array = (JSONArray)myjson.get(\"profiles\");\n    System.out.println(the_json_array);\n}\n\nstatic String readFile(String path, Charset encoding) \n        throws IOException \n      {\n        byte[] encoded = Files.readAllBytes(Paths.get(path));\n        return new String(encoded, encoding);\n      }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686797,"creation_date":1701686797,"answer_id":77598813,"question_id":55292978,"body_markdown":"In my cases it was &quot; &quot;(double quotes) issue when I replaced it with &#39; &#39;(single quotes) it worked for me.\r\nPlease check sample after **data**.\r\n\r\nThis may work for you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9aS0h.png","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>In my cases it was &quot; &quot;(double quotes) issue when I replaced it with ' '(single quotes) it worked for me.\nPlease check sample after <strong>data</strong>.</p>\n<p>This may work for you.</p>\n<p><a href=\"https://i.stack.imgur.com/9aS0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9aS0h.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5399653,"reputation":77,"user_id":4299860,"accept_rate":0,"display_name":"Ahmad asy&#39;ary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701686797,"creation_date":1553229263,"question_id":55292978,"body_markdown":"i badly need help here, i try to parse a json from a file. I got this json content from kibana dev tools, i plan to hit the elastic api, get the json result and get several fields from the json. here&#39;s my code\r\n\r\n    public class JSONParserTest {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, JSONException {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tString the_json=readFile(&quot;/Users/ahmadasyary/Documents/sample.out&quot;, StandardCharsets.UTF_8);\r\n    \t\t//System.out.println(the_json);\r\n    \t\tJSONObject myjson = new JSONObject(the_json);\r\n    \t\tJSONArray the_json_array = myjson.getJSONArray(&quot;profiles&quot;);\r\n    \r\n    \t}\r\n    \t\r\n    \tstatic String readFile(String path, Charset encoding) \r\n    \t\t\t  throws IOException \r\n    \t\t\t{\r\n    \t\t\t  byte[] encoded = Files.readAllBytes(Paths.get(path));\r\n    \t\t\t  return new String(encoded, encoding);\r\n    \t\t\t}\r\n    \r\n    }\r\n\r\nWhen i try to run it, i got error like this\r\n\r\n    Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39; at 3264 [character 25 line 64]\r\n    \tat java.json/org.json.JSONTokener.syntaxError(JSONTokener.java:432)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:223)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONArray.&lt;init&gt;(JSONArray.java:117)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:365)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:310)\r\n    \tat TDRParser/ParserTest.JSONParserTest.main(JSONParserTest.java:21)\r\n\r\nHere&#39;s my json content from kibana devs tools\r\n\r\n    {\r\n      &quot;took&quot;: 89,\r\n      &quot;timed_out&quot;: false,\r\n      &quot;_shards&quot;: {\r\n        &quot;total&quot;: 1015,\r\n        &quot;successful&quot;: 1015,\r\n        &quot;skipped&quot;: 970,\r\n        &quot;failed&quot;: 0\r\n      },\r\n      &quot;hits&quot;: {\r\n        &quot;total&quot;: 1,\r\n        &quot;max_score&quot;: null,\r\n        &quot;hits&quot;: [\r\n          {\r\n            &quot;_index&quot;: &quot;project.prod-esb.cbd0dea7-4153-11e8-86d7-001a4a160175.2019.03.22&quot;,\r\n            &quot;_type&quot;: &quot;com.redhat.viaq.common&quot;,\r\n            &quot;_id&quot;: &quot;1KKHo2kB-rz4ABZ2mpyp&quot;,\r\n            &quot;_version&quot;: 1,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;logTimestamp&quot;: &quot;2019-03-22T10:52:46.251+07:00&quot;,\r\n              &quot;transactionID&quot;: &quot;H003190322105245739910520&quot;,\r\n              &quot;logLevel&quot;: &quot;AUDIT&quot;,\r\n              &quot;logPoint&quot;: &quot;Transaction-Audit&quot;,\r\n              &quot;logMessage&quot;: &quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,\r\n              &quot;processTime&quot;: &quot;492&quot;,\r\n              &quot;docker&quot;: {\r\n                &quot;container_id&quot;: &quot;2a8e197e4bc9d849291e5457fdc7a238d684f92ccc19cf5f51b88772169acf0d&quot;\r\n              },\r\n              &quot;kubernetes&quot;: {\r\n                &quot;container_name&quot;: &quot;ordersubmission-bs-v2&quot;,\r\n                &quot;namespace_name&quot;: &quot;prod-esb&quot;,\r\n                &quot;pod_name&quot;: &quot;ordersubmission-bs-v2-42-6n2rn&quot;,\r\n                &quot;pod_id&quot;: &quot;5f417ed0-4b0d-11e9-89a5-001a4a160178&quot;,\r\n                &quot;labels&quot;: {\r\n                  &quot;app&quot;: &quot;ordersubmission-bs-v2&quot;,\r\n                  &quot;deployment&quot;: &quot;ordersubmission-bs-v2-42&quot;,\r\n                  &quot;deploymentconfig&quot;: &quot;ordersubmission-bs-v2&quot;\r\n                },\r\n                &quot;host&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;,\r\n                &quot;master_url&quot;: &quot;https://kubernetes.default.svc.cluster.local&quot;,\r\n                &quot;namespace_id&quot;: &quot;cbd0dea7-4153-11e8-86d7-001a4a160175&quot;\r\n              },\r\n              &quot;systemd&quot;: {\r\n                &quot;t&quot;: {\r\n                  &quot;BOOT_ID&quot;: &quot;ea8d4663351b44f9888b93042f680fcd&quot;,\r\n                  &quot;CAP_EFFECTIVE&quot;: &quot;1fffffffff&quot;,\r\n                  &quot;CMDLINE&quot;: &quot;/usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --authorization-plugin=rhel-push-plugin --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --log-driver=journald --storage-driver devicemapper --storage-opt dm.fs=xfs --storage-opt dm.thinpooldev=/dev/mapper/rhel-docker--pool --storage-opt dm.use_deferred_removal=true --storage-opt dm.use_deferred_deletion=true --mtu=1450 --add-registry registry.access.redhat.com --add-registry registry.access.redhat.com&quot;,\r\n                  &quot;COMM&quot;: &quot;dockerd-current&quot;,\r\n                  &quot;EXE&quot;: &quot;/usr/bin/dockerd-current&quot;,\r\n                  &quot;GID&quot;: &quot;0&quot;,\r\n                  &quot;MACHINE_ID&quot;: &quot;35ae721c7f2f4d2e9a0676e0d9e17589&quot;,\r\n                  &quot;PID&quot;: &quot;2722&quot;,\r\n                  &quot;SELINUX_CONTEXT&quot;: &quot;system_u:system_r:container_runtime_t:s0&quot;,\r\n                  &quot;SYSTEMD_CGROUP&quot;: &quot;/system.slice/docker.service&quot;,\r\n                  &quot;SYSTEMD_SLICE&quot;: &quot;system.slice&quot;,\r\n                  &quot;SYSTEMD_UNIT&quot;: &quot;docker.service&quot;,\r\n                  &quot;TRANSPORT&quot;: &quot;journal&quot;,\r\n                  &quot;UID&quot;: &quot;0&quot;\r\n                }\r\n              },\r\n              &quot;level&quot;: &quot;info&quot;,\r\n              &quot;message&quot;: &quot;&quot;&quot;{&quot;logMessageId&quot;:&quot;&quot;,&quot;logTimestamp&quot;:&quot;2019-03-22T10:52:46.251+07:00&quot;,&quot;transactionID&quot;:&quot;H003190322105245739910520&quot;,&quot;serviceName&quot;:&quot;&quot;,&quot;applicationID&quot;:&quot;&quot;,&quot;logLevel&quot;:&quot;AUDIT&quot;,&quot;logPoint&quot;:&quot;Transaction-Audit&quot;,&quot;logMessage&quot;:&quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,&quot;requestPayload&quot;:&quot;&quot;,&quot;responsePayload&quot;:&quot;&quot;,&quot;processTime&quot;:&quot;492&quot;}&quot;&quot;&quot;,\r\n              &quot;hostname&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;,\r\n              &quot;pipeline_metadata&quot;: {\r\n                &quot;collector&quot;: {\r\n                  &quot;ipaddr4&quot;: &quot;10.130.14.2&quot;,\r\n                  &quot;ipaddr6&quot;: &quot;fe80::54d0:26ff:fe59:e4cd&quot;,\r\n                  &quot;inputname&quot;: &quot;fluent-plugin-systemd&quot;,\r\n                  &quot;name&quot;: &quot;fluentd&quot;,\r\n                  &quot;received_at&quot;: &quot;2019-03-22T03:52:46.883461+00:00&quot;,\r\n                  &quot;version&quot;: &quot;0.12.39 1.6.0&quot;\r\n                }\r\n              },\r\n              &quot;@timestamp&quot;: &quot;2019-03-22T03:52:46.252005+00:00&quot;\r\n            },\r\n            &quot;fields&quot;: {\r\n              &quot;logTimestamp&quot;: [\r\n                &quot;2019-03-22T03:52:46.251Z&quot;\r\n              ],\r\n              &quot;@timestamp&quot;: [\r\n                &quot;2019-03-22T03:52:46.252Z&quot;\r\n              ],\r\n              &quot;pipeline_metadata.collector.received_at&quot;: [\r\n                &quot;2019-03-22T03:52:46.883Z&quot;\r\n              ]\r\n            },\r\n            &quot;highlight&quot;: {\r\n              &quot;logLevel.keyword&quot;: [\r\n                &quot;@kibana-highlighted-field@AUDIT@/kibana-highlighted-field@&quot;\r\n              ],\r\n              &quot;transactionID&quot;: [\r\n                &quot;@kibana-highlighted-field@H003190322105245739910520@/kibana-highlighted-field@&quot;\r\n              ],\r\n              &quot;kubernetes.container_name.keyword&quot;: [\r\n                &quot;@kibana-highlighted-field@ordersubmission-bs-v2@/kibana-highlighted-field@&quot;\r\n              ]\r\n            },\r\n            &quot;sort&quot;: [\r\n              1553226766252\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      &quot;aggregations&quot;: {\r\n        &quot;2&quot;: {\r\n          &quot;buckets&quot;: [\r\n            {\r\n              &quot;key_as_string&quot;: &quot;2019-03-22T10:52:46.000+07:00&quot;,\r\n              &quot;key&quot;: 1553226766000,\r\n              &quot;doc_count&quot;: 1\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nI expect this issue can be solved without any manual changes on the json content, since it generated by kibana","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>i badly need help here, i try to parse a json from a file. I got this json content from kibana dev tools, i plan to hit the elastic api, get the json result and get several fields from the json. here's my code</p>\n\n<pre><code>public class JSONParserTest {\n\n    public static void main(String[] args) throws IOException, JSONException {\n\n\n\n        String the_json=readFile(\"/Users/ahmadasyary/Documents/sample.out\", StandardCharsets.UTF_8);\n        //System.out.println(the_json);\n        JSONObject myjson = new JSONObject(the_json);\n        JSONArray the_json_array = myjson.getJSONArray(\"profiles\");\n\n    }\n\n    static String readFile(String path, Charset encoding) \n              throws IOException \n            {\n              byte[] encoded = Files.readAllBytes(Paths.get(path));\n              return new String(encoded, encoding);\n            }\n\n}\n</code></pre>\n\n<p>When i try to run it, i got error like this</p>\n\n<pre><code>Exception in thread \"main\" org.json.JSONException: Expected a ',' or '}' at 3264 [character 25 line 64]\n    at java.json/org.json.JSONTokener.syntaxError(JSONTokener.java:432)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:223)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONArray.&lt;init&gt;(JSONArray.java:117)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:365)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:310)\n    at TDRParser/ParserTest.JSONParserTest.main(JSONParserTest.java:21)\n</code></pre>\n\n<p>Here's my json content from kibana devs tools</p>\n\n<pre><code>{\n  \"took\": 89,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 1015,\n    \"successful\": 1015,\n    \"skipped\": 970,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 1,\n    \"max_score\": null,\n    \"hits\": [\n      {\n        \"_index\": \"project.prod-esb.cbd0dea7-4153-11e8-86d7-001a4a160175.2019.03.22\",\n        \"_type\": \"com.redhat.viaq.common\",\n        \"_id\": \"1KKHo2kB-rz4ABZ2mpyp\",\n        \"_version\": 1,\n        \"_score\": null,\n        \"_source\": {\n          \"logTimestamp\": \"2019-03-22T10:52:46.251+07:00\",\n          \"transactionID\": \"H003190322105245739910520\",\n          \"logLevel\": \"AUDIT\",\n          \"logPoint\": \"Transaction-Audit\",\n          \"logMessage\": \"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\n          \"processTime\": \"492\",\n          \"docker\": {\n            \"container_id\": \"2a8e197e4bc9d849291e5457fdc7a238d684f92ccc19cf5f51b88772169acf0d\"\n          },\n          \"kubernetes\": {\n            \"container_name\": \"ordersubmission-bs-v2\",\n            \"namespace_name\": \"prod-esb\",\n            \"pod_name\": \"ordersubmission-bs-v2-42-6n2rn\",\n            \"pod_id\": \"5f417ed0-4b0d-11e9-89a5-001a4a160178\",\n            \"labels\": {\n              \"app\": \"ordersubmission-bs-v2\",\n              \"deployment\": \"ordersubmission-bs-v2-42\",\n              \"deploymentconfig\": \"ordersubmission-bs-v2\"\n            },\n            \"host\": \"esbwnpapp3.telkomsel.co.id\",\n            \"master_url\": \"https://kubernetes.default.svc.cluster.local\",\n            \"namespace_id\": \"cbd0dea7-4153-11e8-86d7-001a4a160175\"\n          },\n          \"systemd\": {\n            \"t\": {\n              \"BOOT_ID\": \"ea8d4663351b44f9888b93042f680fcd\",\n              \"CAP_EFFECTIVE\": \"1fffffffff\",\n              \"CMDLINE\": \"/usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --authorization-plugin=rhel-push-plugin --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --log-driver=journald --storage-driver devicemapper --storage-opt dm.fs=xfs --storage-opt dm.thinpooldev=/dev/mapper/rhel-docker--pool --storage-opt dm.use_deferred_removal=true --storage-opt dm.use_deferred_deletion=true --mtu=1450 --add-registry registry.access.redhat.com --add-registry registry.access.redhat.com\",\n              \"COMM\": \"dockerd-current\",\n              \"EXE\": \"/usr/bin/dockerd-current\",\n              \"GID\": \"0\",\n              \"MACHINE_ID\": \"35ae721c7f2f4d2e9a0676e0d9e17589\",\n              \"PID\": \"2722\",\n              \"SELINUX_CONTEXT\": \"system_u:system_r:container_runtime_t:s0\",\n              \"SYSTEMD_CGROUP\": \"/system.slice/docker.service\",\n              \"SYSTEMD_SLICE\": \"system.slice\",\n              \"SYSTEMD_UNIT\": \"docker.service\",\n              \"TRANSPORT\": \"journal\",\n              \"UID\": \"0\"\n            }\n          },\n          \"level\": \"info\",\n          \"message\": \"\"\"{\"logMessageId\":\"\",\"logTimestamp\":\"2019-03-22T10:52:46.251+07:00\",\"transactionID\":\"H003190322105245739910520\",\"serviceName\":\"\",\"applicationID\":\"\",\"logLevel\":\"AUDIT\",\"logPoint\":\"Transaction-Audit\",\"logMessage\":\"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\"requestPayload\":\"\",\"responsePayload\":\"\",\"processTime\":\"492\"}\"\"\",\n          \"hostname\": \"esbwnpapp3.telkomsel.co.id\",\n          \"pipeline_metadata\": {\n            \"collector\": {\n              \"ipaddr4\": \"10.130.14.2\",\n              \"ipaddr6\": \"fe80::54d0:26ff:fe59:e4cd\",\n              \"inputname\": \"fluent-plugin-systemd\",\n              \"name\": \"fluentd\",\n              \"received_at\": \"2019-03-22T03:52:46.883461+00:00\",\n              \"version\": \"0.12.39 1.6.0\"\n            }\n          },\n          \"@timestamp\": \"2019-03-22T03:52:46.252005+00:00\"\n        },\n        \"fields\": {\n          \"logTimestamp\": [\n            \"2019-03-22T03:52:46.251Z\"\n          ],\n          \"@timestamp\": [\n            \"2019-03-22T03:52:46.252Z\"\n          ],\n          \"pipeline_metadata.collector.received_at\": [\n            \"2019-03-22T03:52:46.883Z\"\n          ]\n        },\n        \"highlight\": {\n          \"logLevel.keyword\": [\n            \"@kibana-highlighted-field@AUDIT@/kibana-highlighted-field@\"\n          ],\n          \"transactionID\": [\n            \"@kibana-highlighted-field@H003190322105245739910520@/kibana-highlighted-field@\"\n          ],\n          \"kubernetes.container_name.keyword\": [\n            \"@kibana-highlighted-field@ordersubmission-bs-v2@/kibana-highlighted-field@\"\n          ]\n        },\n        \"sort\": [\n          1553226766252\n        ]\n      }\n    ]\n  },\n  \"aggregations\": {\n    \"2\": {\n      \"buckets\": [\n        {\n          \"key_as_string\": \"2019-03-22T10:52:46.000+07:00\",\n          \"key\": 1553226766000,\n          \"doc_count\": 1\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>I expect this issue can be solved without any manual changes on the json content, since it generated by kibana</p>\n"},{"tags":["java","android","json","parsing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1393486944,"post_id":22062056,"comment_id":33453513,"body_markdown":"this is valid json see jsonlint.com  maybe it is your code?","body":"this is valid json see jsonlint.com  maybe it is your code?"},{"owner":{"account_id":3422858,"reputation":5242,"user_id":2869772,"accept_rate":63,"display_name":"Jitesh Upadhyay"},"score":0,"creation_date":1393487549,"post_id":22062056,"comment_id":33453826,"body_markdown":"This given json lik is correct..your code which you tried and  also please log cat","body":"This given json lik is correct..your code which you tried and  also please log cat"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1393487620,"post_id":22062056,"comment_id":33453860,"body_markdown":"The bug is somewhere in your code; it looks like you are trying to parse a JSON value which is not an object using `JSONObject`. As an alternative, use a better JSON library, such as Jackson.","body":"The bug is somewhere in your code; it looks like you are trying to parse a JSON value which is not an object using <code>JSONObject</code>. As an alternative, use a better JSON library, such as Jackson."},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1393488039,"post_id":22062056,"comment_id":33454100,"body_markdown":"Try printing `str.charAt(0)` and see what the first char is. It could be a `[` in that case its a json array. Or you might have a hidden char of some sort.","body":"Try printing <code>str.charAt(0)</code> and see what the first char is. It could be a <code>[</code> in that case its a json array. Or you might have a hidden char of some sort."},{"owner":{"account_id":894800,"reputation":1400,"user_id":932324,"accept_rate":94,"display_name":"OrhanC1"},"score":0,"creation_date":1393492684,"post_id":22062056,"comment_id":33456864,"body_markdown":"@ns47731, he has posted a link to the JSON he&#39;s parsing and there is no [. str.charAt(0) is still a good debug step, though.","body":"@ns47731, he has posted a link to the JSON he&#39;s parsing and there is no [. str.charAt(0) is still a good debug step, though."}],"answers":[{"tags":[],"owner":{"account_id":1695780,"reputation":11955,"user_id":1557187,"display_name":"Assaf Gamliel"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1393493530,"creation_date":1393493530,"answer_id":22064321,"question_id":22062056,"body_markdown":"Your problem is that `String JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;` is not `JSON`.&lt;br&gt;\r\nWhat you want to do is open an `HTTP` connection to &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot; and parse the JSON *response*.\r\n\r\n    String JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;\r\n    JSONObject jsonObject = new JSONObject(JSON); // &lt;-- Problem here!\r\n\r\nWill not open a connection to the site and retrieve the content.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Your problem is that <code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";</code> is not <code>JSON</code>.<br>\nWhat you want to do is open an <code>HTTP</code> connection to \"<a href=\"http://www.json-generator.com/j/cglqaRcMSW?indent=4\" rel=\"noreferrer\">http://www.json-generator.com/j/cglqaRcMSW?indent=4</a>\" and parse the JSON <em>response</em>.</p>\n\n<pre><code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";\nJSONObject jsonObject = new JSONObject(JSON); // &lt;-- Problem here!\n</code></pre>\n\n<p>Will not open a connection to the site and retrieve the content.</p>\n"},{"tags":[],"owner":{"account_id":1588393,"reputation":843,"user_id":1472269,"accept_rate":60,"display_name":"Denny Mathew"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1514258014,"creation_date":1394023031,"answer_id":22198020,"question_id":22062056,"body_markdown":"Actually,,i found a simple answer,, Jst adding the object to String Builder instead of String worked ;)\r\n\r\n    StringBuilder jsonString= new StringBuilder.append(&quot;http://www.json-.com/j/cglqaRcMSW?=4&quot;);    \r\n    JSON json= new JSON(jsonString.toString);","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Actually,,i found a simple answer,, Jst adding the object to String Builder instead of String worked ;)</p>\n\n<pre><code>StringBuilder jsonString= new StringBuilder.append(\"http://www.json-.com/j/cglqaRcMSW?=4\");    \nJSON json= new JSON(jsonString.toString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362870,"reputation":5928,"user_id":706295,"accept_rate":66,"display_name":"AKB"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1516835229,"creation_date":1405036341,"answer_id":24688096,"question_id":22062056,"body_markdown":"I had same issue. My Json response from the server was having [, and, ]:\r\n\r\n    [{&quot;DATE_HIRED&quot;:852344800000,&quot;FRNG_SUB_ACCT&quot;:0,&quot;MOVING_EXP&quot;:0,&quot;CURRENCY_CODE&quot;:&quot;CAD  &quot;,&quot;PIN&quot;:&quot;          &quot;,&quot;EST_REMUN&quot;:0,&quot;HM_DIST_CO&quot;:1,&quot;SICK_PAY&quot;:0,&quot;STAND_AMT&quot;:0,&quot;BSI_GROUP&quot;:&quot;           &quot;,&quot;LAST_DED_SEQ&quot;:36}]\r\n\r\nhttp://jsonlint.com/ says valid json. you can copy and verify it.\r\n\r\nI have fixed with below code as temporary solution:\r\n\r\n\tBufferedReader br = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\r\n\tString result =&quot;&quot;;\r\n\tString output = null;\r\n\twhile ((result = br.readLine()) != null) {\r\n\t\toutput = result.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n\t\tJSONObject jsonObject = new JSONObject(output);\t\r\n        JSONArray jsonArray = new JSONArray(output); \r\n        .....\t\r\n\t}\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had same issue. My Json response from the server was having [, and, ]:</p>\n\n<pre><code>[{\"DATE_HIRED\":852344800000,\"FRNG_SUB_ACCT\":0,\"MOVING_EXP\":0,\"CURRENCY_CODE\":\"CAD  \",\"PIN\":\"          \",\"EST_REMUN\":0,\"HM_DIST_CO\":1,\"SICK_PAY\":0,\"STAND_AMT\":0,\"BSI_GROUP\":\"           \",\"LAST_DED_SEQ\":36}]\n</code></pre>\n\n<p><a href=\"http://jsonlint.com/\" rel=\"noreferrer\">http://jsonlint.com/</a> says valid json. you can copy and verify it.</p>\n\n<p>I have fixed with below code as temporary solution:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\nString result =\"\";\nString output = null;\nwhile ((result = br.readLine()) != null) {\n    output = result.replace(\"[\", \"\").replace(\"]\", \"\");\n    JSONObject jsonObject = new JSONObject(output); \n    JSONArray jsonArray = new JSONArray(output); \n    .....   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7628680,"reputation":41,"user_id":5784421,"display_name":"palossyl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452689833,"creation_date":1452689833,"answer_id":34767374,"question_id":22062056,"body_markdown":"I had the same, there was an empty new line character at the beginning.\r\nThat solved it:\r\n\r\n    int i = result.indexOf(&quot;{&quot;);\r\n    result = result.substring(i);\r\n    JSONObject json = new JSONObject(result.trim()); \r\n    System.out.println(json.toString(4));  ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same, there was an empty new line character at the beginning.\nThat solved it:</p>\n\n<pre><code>int i = result.indexOf(\"{\");\nresult = result.substring(i);\nJSONObject json = new JSONObject(result.trim()); \nSystem.out.println(json.toString(4));  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8145727,"reputation":21,"user_id":6134450,"display_name":"AGAPU SHIVA RAMA KRISHNA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459337781,"creation_date":1459337781,"answer_id":36307654,"question_id":22062056,"body_markdown":"  I had the same issue because of the wrong order of the code statements. Maintain the below order to resolve the issue. All get methods statements first and later httpClient methods.\r\n    \r\n\r\n    \r\n          HttpClient httpClient = new HttpClient();\r\n    get = new GetMethod(instanceUrl+usersEndPointUri);\r\n    get.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    get.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n    httpClient.getParams().setParameter(&quot;http.protocol.single-cookie-header&quot;, true);\r\n    httpClient.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);\r\n    httpClient.executeMethod(get);\r\n\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same issue because of the wrong order of the code statements. Maintain the below order to resolve the issue. All get methods statements first and later httpClient methods.</p>\n\n<pre><code>      HttpClient httpClient = new HttpClient();\nget = new GetMethod(instanceUrl+usersEndPointUri);\nget.setRequestHeader(\"Content-Type\", \"application/json\");\nget.setRequestHeader(\"Accept\", \"application/json\");\n\nhttpClient.getParams().setParameter(\"http.protocol.single-cookie-header\", true);\nhttpClient.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);\nhttpClient.executeMethod(get);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526579653,"creation_date":1526579653,"answer_id":50397732,"question_id":22062056,"body_markdown":"I had similar issue due to a small mistake, when i was trying to convert a List to json.\r\nIf a List is converted to json it will return JSONArray not JSONObject.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had similar issue due to a small mistake, when i was trying to convert a List to json.\nIf a List is converted to json it will return JSONArray not JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":13768268,"reputation":139,"user_id":9936382,"display_name":"Andres Navarro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528897589,"creation_date":1528897589,"answer_id":50838870,"question_id":22062056,"body_markdown":"in my case my arraylist trhows me that error with the JSONObject , but i fin this solution for my array of String objects\r\n\r\n    List&lt;String&gt; listStrings= new ArrayList&lt;String&gt;();\r\n    String json = new Gson().toJson(listStrings);\r\n    return json;\r\n\r\nWorks like charm with angular\r\nGson version 2.8.5","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>in my case my arraylist trhows me that error with the JSONObject , but i fin this solution for my array of String objects</p>\n\n<pre><code>List&lt;String&gt; listStrings= new ArrayList&lt;String&gt;();\nString json = new Gson().toJson(listStrings);\nreturn json;\n</code></pre>\n\n<p>Works like charm with angular\nGson version 2.8.5</p>\n"},{"tags":[],"owner":{"account_id":8379236,"reputation":41,"user_id":6291776,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548952113,"creation_date":1548952113,"answer_id":54465066,"question_id":22062056,"body_markdown":"In my case the json file encoding was a problem\r\n\r\nI was generating JSON file in vb .net with following:\r\nMy.Computer.FileSystem.WriteAllText(&quot;newComponent.json&quot;, json.Trim, False)\r\n\r\nAnd I tried all suggestions in this post but none helped.\r\n\r\nEventually in Notepad++ noticed that the file created was in UTF-8-BOM\r\n\r\nNot sure how it picked up that encoding but after I switched the encoding to UTF-8, it resolved with no other changes.\r\n\r\nHope this helps someone.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>In my case the json file encoding was a problem</p>\n\n<p>I was generating JSON file in vb .net with following:\nMy.Computer.FileSystem.WriteAllText(\"newComponent.json\", json.Trim, False)</p>\n\n<p>And I tried all suggestions in this post but none helped.</p>\n\n<p>Eventually in Notepad++ noticed that the file created was in UTF-8-BOM</p>\n\n<p>Not sure how it picked up that encoding but after I switched the encoding to UTF-8, it resolved with no other changes.</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":10706423,"reputation":211,"user_id":7880083,"display_name":"sonu1986"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561590474,"creation_date":1561590474,"answer_id":56781985,"question_id":22062056,"body_markdown":"I had the same error and struggled to fix it, then answer above by Nagaraja JB helped me to fix it. In my case:\r\n\r\nWas before:\r\nJSONObject response_json = new JSONObject(response_data);\r\n\r\nChanged it to:\r\nJSONArray response_json = new JSONArray(response_data);\r\n\r\nThis fixed it. ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same error and struggled to fix it, then answer above by Nagaraja JB helped me to fix it. In my case:</p>\n\n<p>Was before:\nJSONObject response_json = new JSONObject(response_data);</p>\n\n<p>Changed it to:\nJSONArray response_json = new JSONArray(response_data);</p>\n\n<p>This fixed it. </p>\n"},{"tags":[],"owner":{"account_id":9580362,"reputation":350,"user_id":7115085,"display_name":"Raymond"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1567587633,"creation_date":1567587633,"answer_id":57784975,"question_id":22062056,"body_markdown":"While the json begins with &quot;[&quot; and ends with &quot;]&quot; that means this is the Json Array, use JSONArray instead:\r\n\r\n    JSONArray jsonArray = new JSONArray(JSON);\r\n\r\nAnd then you can map it with the List Test Object if you need:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;TestExample&gt; listTest = mapper.readValue(String.valueOf(jsonArray), List.class);\r\n\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>While the json begins with \"[\" and ends with \"]\" that means this is the Json Array, use JSONArray instead:</p>\n\n<pre><code>JSONArray jsonArray = new JSONArray(JSON);\n</code></pre>\n\n<p>And then you can map it with the List Test Object if you need:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nList&lt;TestExample&gt; listTest = mapper.readValue(String.valueOf(jsonArray), List.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14516222,"reputation":11,"user_id":10496775,"display_name":"T J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578667835,"creation_date":1578667835,"answer_id":59684013,"question_id":22062056,"body_markdown":"The file that I was using was saved through Powershell in UTF-8 format. I changed it to ANSI and it fixed the problem. ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>The file that I was using was saved through Powershell in UTF-8 format. I changed it to ANSI and it fixed the problem. </p>\n"},{"tags":[],"owner":{"account_id":14312980,"reputation":394,"user_id":10338665,"display_name":"Damnik Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621508264,"creation_date":1621508264,"answer_id":67619031,"question_id":22062056,"body_markdown":"Response:\r\n   \r\n\r\n     [\r\n            {\r\n              &quot;idGear&quot;: &quot;1&quot;,\r\n              &quot;name&quot;: &quot;Nosilec za kolesa&quot;,\r\n              &quot;year&quot;: &quot;2005&quot;,\r\n              &quot;price&quot;: &quot;777.0&quot;\r\n            }, {\r\n              &quot;idGear&quot;: &quot;2&quot;,\r\n              &quot;name&quot;: &quot;Stresni nosilci&quot;,\r\n              &quot;year&quot;: &quot;1983&quot;,\r\n              &quot;price&quot;: &quot;40.0&quot;\r\n            }\r\n          ]\r\n\r\nAssuming your response is somewhat similar to this one. You can use JSONArray instead of JSONObject and then depending on your response either you can iterate it or get the element at 0th index.\r\n\r\n    JSONArray json_arr = new JSONArray(response_string);\r\n    JSONObject single_response = json_arr.get(0); //for single element\r\n    for(int i=0;i&lt;json_arr.length();i++){         // OR iterate\r\n        JSONObject tmp = json_arr.get(i);\r\n    } \r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Response:</p>\n<pre><code> [\n        {\n          &quot;idGear&quot;: &quot;1&quot;,\n          &quot;name&quot;: &quot;Nosilec za kolesa&quot;,\n          &quot;year&quot;: &quot;2005&quot;,\n          &quot;price&quot;: &quot;777.0&quot;\n        }, {\n          &quot;idGear&quot;: &quot;2&quot;,\n          &quot;name&quot;: &quot;Stresni nosilci&quot;,\n          &quot;year&quot;: &quot;1983&quot;,\n          &quot;price&quot;: &quot;40.0&quot;\n        }\n      ]\n</code></pre>\n<p>Assuming your response is somewhat similar to this one. You can use JSONArray instead of JSONObject and then depending on your response either you can iterate it or get the element at 0th index.</p>\n<pre><code>JSONArray json_arr = new JSONArray(response_string);\nJSONObject single_response = json_arr.get(0); //for single element\nfor(int i=0;i&lt;json_arr.length();i++){         // OR iterate\n    JSONObject tmp = json_arr.get(i);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13658586,"reputation":21,"user_id":9854367,"display_name":"Navin Christopher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622894206,"creation_date":1622894206,"answer_id":67849324,"question_id":22062056,"body_markdown":"This problem does not happen in JSON. You need to open the URL connection using HttpURLConnection.\r\n\r\n```\r\n    HttpURLConnection connection = null;\r\n\ttry{\t\t\t\r\n\t\tURL url = new URL(&quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;);\r\n\t\tconnection =  (HttpURLConnection) url.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\r\n\t\tconnection.setUseCaches(false);\r\n\t\tconnection.setAllowUserInteraction(false);\r\n\t\tconnection.connect();\r\n\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\t\tStringBuffer stringBuffer = new StringBuffer();\r\n\t\tString output;\r\n\t\twhile((output = bufferedReader.readLine()) != null ){\r\n\t\t\tstringBuffer.append(output);\r\n\t\t}\r\n\t\tbufferedReader.close();\r\n\t\tSystem.out.println(stringBuffer.toString());\r\n    }\r\n    catch(Exception e){\r\n        System.out.println(e);\r\n    }\r\n    finally{\r\n        if (connection != null) {\r\n        try {\r\n\t        connection.disconnect();\r\n\t    }catch (Exception ex) {\r\n\t        System.out.println(&quot;Error&quot;);\r\n\t    }\r\n     }\r\n```","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>This problem does not happen in JSON. You need to open the URL connection using HttpURLConnection.</p>\n<pre><code>    HttpURLConnection connection = null;\n    try{            \n        URL url = new URL(&quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;);\n        connection =  (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\n        connection.setUseCaches(false);\n        connection.setAllowUserInteraction(false);\n        connection.connect();\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        StringBuffer stringBuffer = new StringBuffer();\n        String output;\n        while((output = bufferedReader.readLine()) != null ){\n            stringBuffer.append(output);\n        }\n        bufferedReader.close();\n        System.out.println(stringBuffer.toString());\n    }\n    catch(Exception e){\n        System.out.println(e);\n    }\n    finally{\n        if (connection != null) {\n        try {\n            connection.disconnect();\n        }catch (Exception ex) {\n            System.out.println(&quot;Error&quot;);\n        }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686691,"creation_date":1701686378,"answer_id":77598763,"question_id":22062056,"body_markdown":"In my cases it was &quot; &quot;(double quotes) issue when I replaced it with &#39; &#39;(single quotes) it worked for me.\r\nPlease check sample after **data**.\r\n\r\nThis may work for you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9aS0h.png","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>In my cases it was &quot; &quot;(double quotes) issue when I replaced it with ' '(single quotes) it worked for me.\nPlease check sample after <strong>data</strong>.</p>\n<p>This may work for you.</p>\n<p><a href=\"https://i.stack.imgur.com/9aS0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9aS0h.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1588393,"reputation":843,"user_id":1472269,"accept_rate":60,"display_name":"Denny Mathew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225353,"favorite_count":0,"down_vote_count":2,"up_vote_count":27,"accepted_answer_id":22064321,"answer_count":14,"score":25,"last_activity_date":1701686691,"creation_date":1393486740,"question_id":22062056,"body_markdown":"\r\n\tString JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;\r\n\r\n\tJSONObject jsonObject = new JSONObject(JSON);\r\n\tJSONObject getSth = jsonObject.getJSONObject(&quot;get&quot;);\r\n\tObject level = getSth.get(&quot;2&quot;);\r\n\r\n\tSystem.out.println(level);\r\n\r\nI referred many solutions for parsing [this link][1], still getting the same error in question.\r\nCan any give me a simple solution for parsing it.\r\n\r\n\r\n  [1]: http://www.json-generator.com/j/cglqaRcMSW?indent=4\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<pre><code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";\n\nJSONObject jsonObject = new JSONObject(JSON);\nJSONObject getSth = jsonObject.getJSONObject(\"get\");\nObject level = getSth.get(\"2\");\n\nSystem.out.println(level);\n</code></pre>\n\n<p>I referred many solutions for parsing <a href=\"http://www.json-generator.com/j/cglqaRcMSW?indent=4\" rel=\"noreferrer\">this link</a>, still getting the same error in question.\nCan any give me a simple solution for parsing it.</p>\n"},{"tags":["java","spring-boot","azure-application-insights","javaagents","graalvm-native-image"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678715575,"post_id":75721649,"comment_id":133582171,"body_markdown":"Maybe https://github.com/oracle/graal/issues/5912 helps to shed a bit of light on the situation. _Disclaimer: I am not a GraalVM user and found this question due to the &#39;javaagents&#39; tag only._","body":"Maybe <a href=\"https://github.com/oracle/graal/issues/5912\" rel=\"nofollow noreferrer\">github.com/oracle/graal/issues/5912</a> helps to shed a bit of light on the situation. <i>Disclaimer: I am not a GraalVM user and found this question due to the &#39;javaagents&#39; tag only.</i>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686230601,"creation_date":1678711897,"answer_id":75722092,"question_id":75721649,"body_markdown":"I couldn&#39;t find anything in the GraalVM documentation for native images that talks about attaching runtime agents to native apps.  This suggests that it is not supported.  \r\n\r\nI then searched for &quot;application insights graalvm native image&quot; and found this on the Application Insights issue tracker:\r\n\r\nhttps://github.com/microsoft/ApplicationInsights-Java/issues/1266\r\n\r\n&gt; We are currently using a custom implementation of the OpenTracing SPI to send our tracing data to Application Insights (the implementation is based on the Application Insights SDK 2.6.1) from a Quarkus application. Our plan is to move to OpenTelemetry as soon as it is supported by Quarkus.\r\n\r\n&gt; Since Quarkus also supports native image generation (using GraalVM) **auto-instrumentation using a Java agent won&#39;t be possible** and a &quot;deep integration&quot; with Quarkus will be required. I would like to know if use cases like this one are on the radar and if builds (i.e. Maven artifacts) will be provided, which cater for this use case. I imagine there would be a build which provides an exporter only.\r\n\r\nThe highlighted phrase aligns with what I deduced from the (lack of) documentation.   And it is further confirmed by the response to this GraalVM issue: https://github.com/oracle/graal/issues/5912\r\n\r\nYou said:\r\n\r\n&gt; Use the OpenTelemetry library [...]. For me it still seems to use a kind of a javaagent jar to work properly.\r\n\r\nThe alternative would be to include the OpenTelemetry JAR in your SpringBoot application and [enable it programatically][1] rather than via a javaagent.  It would be converted to native code by the GraalVM native image builder.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically","title":"How to use Java agent with native compiled spring boot application","body":"<p>I couldn't find anything in the GraalVM documentation for native images that talks about attaching runtime agents to native apps.  This suggests that it is not supported.</p>\n<p>I then searched for &quot;application insights graalvm native image&quot; and found this on the Application Insights issue tracker:</p>\n<p><a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/1266\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/1266</a></p>\n<blockquote>\n<p>We are currently using a custom implementation of the OpenTracing SPI to send our tracing data to Application Insights (the implementation is based on the Application Insights SDK 2.6.1) from a Quarkus application. Our plan is to move to OpenTelemetry as soon as it is supported by Quarkus.</p>\n</blockquote>\n<blockquote>\n<p>Since Quarkus also supports native image generation (using GraalVM) <strong>auto-instrumentation using a Java agent won't be possible</strong> and a &quot;deep integration&quot; with Quarkus will be required. I would like to know if use cases like this one are on the radar and if builds (i.e. Maven artifacts) will be provided, which cater for this use case. I imagine there would be a build which provides an exporter only.</p>\n</blockquote>\n<p>The highlighted phrase aligns with what I deduced from the (lack of) documentation.   And it is further confirmed by the response to this GraalVM issue: <a href=\"https://github.com/oracle/graal/issues/5912\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/5912</a></p>\n<p>You said:</p>\n<blockquote>\n<p>Use the OpenTelemetry library [...]. For me it still seems to use a kind of a javaagent jar to work properly.</p>\n</blockquote>\n<p>The alternative would be to include the OpenTelemetry JAR in your SpringBoot application and <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"nofollow noreferrer\">enable it programatically</a> rather than via a javaagent.  It would be converted to native code by the GraalVM native image builder.</p>\n"},{"tags":[],"owner":{"account_id":27850139,"reputation":89,"user_id":21264803,"display_name":"jean_m"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701686604,"creation_date":1701386616,"answer_id":77582213,"question_id":75721649,"body_markdown":"As specified on [this Microsoft documentation page](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot), the alternative is to use [the Azure distribution of the OpenTelemetry Spring Boot starter](https://aka.ms/AzMonSpringNative) to monitor Spring Boot native image applications on Azure.","title":"How to use Java agent with native compiled spring boot application","body":"<p>As specified on <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot\" rel=\"nofollow noreferrer\">this Microsoft documentation page</a>, the alternative is to use <a href=\"https://aka.ms/AzMonSpringNative\" rel=\"nofollow noreferrer\">the Azure distribution of the OpenTelemetry Spring Boot starter</a> to monitor Spring Boot native image applications on Azure.</p>\n"}],"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701686604,"creation_date":1678709140,"question_id":75721649,"body_markdown":"Together with our SpringBoot (3.0.3) application we are using Application Insights (Azure) for monitoring. \r\n\r\nCurrently we are trying to compile the application natively with the GraalVM. That works quite well and gives us a lot of benefits (startup time and memory consumption). The only thing that does not yet work is Application Insights which is started as a Java agent. I found almost no useful information about the whole topic and asked myself if we are trying to do something that is currently not supported at all.\r\n\r\nHere&#39;s what we&#39;ve tried so far:\r\n\r\n- Use parameters of the `nativeCompile` Gradle task to specify an additional jvmArgs (as mentioned here: https://github.com/oracle/graal/issues/1065). Although the build works fine, it just don&#39;t includes (or starts?) the agent with application startup.\r\n[![gradle task configuration](https://i.stack.imgur.com/L04TU.png)](https://i.stack.imgur.com/L04TU.png)\r\n- Start the Application Insights agent from within the code as described here: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\r\nUnfortunately that did not work either, because it tries to load a JAR file during startup, which is (I think) not possible for a native compiled application (no JVM).\r\n- Use OpenTelemetry library as described here: https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java\r\nFor me it still seems to use a kind of a javaagent jar to work properly.\r\n\r\nIs there a solution to add javaagents also in native compiled builds, or are there any alternatives to send monitoring data from a SpringBoot application to ApplicationInsights?","title":"How to use Java agent with native compiled spring boot application","body":"<p>Together with our SpringBoot (3.0.3) application we are using Application Insights (Azure) for monitoring.</p>\n<p>Currently we are trying to compile the application natively with the GraalVM. That works quite well and gives us a lot of benefits (startup time and memory consumption). The only thing that does not yet work is Application Insights which is started as a Java agent. I found almost no useful information about the whole topic and asked myself if we are trying to do something that is currently not supported at all.</p>\n<p>Here's what we've tried so far:</p>\n<ul>\n<li>Use parameters of the <code>nativeCompile</code> Gradle task to specify an additional jvmArgs (as mentioned here: <a href=\"https://github.com/oracle/graal/issues/1065\" rel=\"noreferrer\">https://github.com/oracle/graal/issues/1065</a>). Although the build works fine, it just don't includes (or starts?) the agent with application startup.\n<a href=\"https://i.stack.imgur.com/L04TU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L04TU.png\" alt=\"gradle task configuration\" /></a></li>\n<li>Start the Application Insights agent from within the code as described here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically</a>\nUnfortunately that did not work either, because it tries to load a JAR file during startup, which is (I think) not possible for a native compiled application (no JVM).</li>\n<li>Use OpenTelemetry library as described here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java</a>\nFor me it still seems to use a kind of a javaagent jar to work properly.</li>\n</ul>\n<p>Is there a solution to add javaagents also in native compiled builds, or are there any alternatives to send monitoring data from a SpringBoot application to ApplicationInsights?</p>\n"},{"tags":["java","spring-boot","completable-future"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701687455,"post_id":77598791,"comment_id":136802385,"body_markdown":"Please add some code (like your interceptor) to the question.","body":"Please add some code (like your interceptor) to the question."}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701686596,"creation_date":1701686596,"question_id":77598791,"body_markdown":"I have an interceptor that does a token call before each api-call.\r\nThis way i either check in the cache if the token is still available and valid or need a new one.\r\n\r\nThis works fine in normal calls.\r\nBut i am now using completable futures.\r\nSo 2 calls are now send en therefore 2 token requests are done before these calls.\r\nIs there a nice way to prevent multiple calls from happening.\r\n\r\nCan i pause the interceptor call if another intercepter calls is already going?\r\nIf i can pause it then i can just let it continue after the first call and it will find a new token in the cache.\r\n","title":"Prevent multiple interceptor calls when using completable future","body":"<p>I have an interceptor that does a token call before each api-call.\nThis way i either check in the cache if the token is still available and valid or need a new one.</p>\n<p>This works fine in normal calls.\nBut i am now using completable futures.\nSo 2 calls are now send en therefore 2 token requests are done before these calls.\nIs there a nice way to prevent multiple calls from happening.</p>\n<p>Can i pause the interceptor call if another intercepter calls is already going?\nIf i can pause it then i can just let it continue after the first call and it will find a new token in the cache.</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"score":1,"creation_date":1701679899,"post_id":77598140,"comment_id":136801152,"body_markdown":"In my opinion, your current implementation is good and there is no easier way to achieve this.","body":"In my opinion, your current implementation is good and there is no easier way to achieve this."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701679971,"post_id":77598140,"comment_id":136801162,"body_markdown":"If you are already using Spring for GraphQL that also provides a client (see https://docs.spring.io/spring-graphql/reference/client.html).","body":"If you are already using Spring for GraphQL that also provides a client (see <a href=\"https://docs.spring.io/spring-graphql/reference/client.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-graphql/reference/client.html</a>)."}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686246,"creation_date":1701686246,"answer_id":77598753,"question_id":77598140,"body_markdown":"`graphql-java-kickstart`, this library provides a convenient way to work with GraphQL in Java. You can refer to the official documentation for more details: [graphql-java-kickstart][1].\r\n\r\n  [1]: https://www.graphql-java-kickstart.com/spring-boot/","title":"How can spring-boot application easily get data from external GraphQL service?","body":"<p><code>graphql-java-kickstart</code>, this library provides a convenient way to work with GraphQL in Java. You can refer to the official documentation for more details: <a href=\"https://www.graphql-java-kickstart.com/spring-boot/\" rel=\"nofollow noreferrer\">graphql-java-kickstart</a>.</p>\n"}],"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701686246,"creation_date":1701679180,"question_id":77598140,"body_markdown":"&lt;h3&gt;Background&lt;/h3&gt;\r\nMy spring-boot-3 application need to get data from external GraphQL API. There I can/need fetch data by 4 different queries. I want to find some generic GraphQL Client with default GraphQL exceptions handling and default response conversion to objects.  \r\n\r\n---  \r\n\r\n&lt;h3&gt;Question&lt;/h3&gt;\r\nIs there any simple way to call GraphQL API? Any dependency or client for that?\r\n\r\n---\r\n\r\n&lt;h3&gt;Implementation that I have now&lt;/h3&gt;\r\n\r\n**GraphQLQueryLoader.class** \r\n\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class GraphQLQueryLoader {\r\n\r\n  private final ResourceLoader resourceLoader;\r\n\r\n  /**\r\n   * Query file should be in\r\n   * &lt;code&gt;/resources/graphql/{fileName}.graphql&lt;/code&gt;\r\n   * */\r\n  public String loadQuery(final String queryName) {\r\n    try {\r\n      final var location = &quot;classpath:graphql/&quot; + queryName + &quot;.graphql&quot;;\r\n      final var path = resourceLoader.getResource(location).getFile().getPath();\r\n      return Files.readString(Paths.get(path));\r\n    } catch (final Exception e) {\r\n      log.error(String.format(&quot;Could not load GraphQL query (%s).&quot;, queryName), e);\r\n      throw new GraphQLQueryException();\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\n**GraphQLClient.class**\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class GraphQLClient {\r\n\r\n  private static final Duration TIMEOUT = Duration.ofSeconds(30);\r\n\r\n  private final WebClient webClient;\r\n  private final GraphQLQueryLoader graphQLQueryLoader;\r\n\r\n  public GraphQLResponse getByQueryName(final String query) {\r\n    final var query = graphQLQueryLoader.loadQuery(query);\r\n    return webClient.post()\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromValue(query))\r\n                    .retrieve()\r\n                    .onStatus(HttpStatusCode::is4xxClientError, handleClientError())\r\n                    .onStatus(HttpStatusCode::is5xxServerError, handleServerError())\r\n                    .bodyToMono(GraphQLResponse.class)\r\n                    .block(TIMEOUT);\r\n  }\r\n\r\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleClientError() {\r\n    return response -&gt; response.bodyToMono(String.class)\r\n                               .flatMap(body -&gt; {\r\n                                 log.warn(&quot;Client error with body: {}&quot;, body);\r\n                                 return Mono.error(new HttpClientErrorException(response.statusCode(), &quot;Client error&quot;));\r\n                               });\r\n  }\r\n\r\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleServerError() {\r\n    return response -&gt; response.bodyToMono(String.class)\r\n                               .flatMap(body -&gt; {\r\n                                 log.warn(&quot;Server error with body: {}&quot;, body);\r\n                                 return Mono.error(new HttpServerErrorException(response.statusCode(), &quot;Server error&quot;));\r\n                               });\r\n  }\r\n\r\n}\r\n```\r\n\r\n**GraphQLResponse.class**\r\n\r\n```java\r\npublic record GraphQLResponse(Object data) {}\r\n```\r\n\r\n**resources/graphql/my-query.graphql**\r\n\r\n```graphql\r\nquery myQuery() {\r\n    myQuery(id: &#39;123&#39;) {\r\n        myCollection {\r\n            items {\r\n                title\r\n                body\r\n                action\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Usage**\r\n```java\r\nfinal var response = client.getByQueryName(&quot;my-query&quot;);\r\n```\r\n\r\n---\r\n\r\n&lt;h4&gt;Is there any other easier way to get data from GraphQL API? Internet suggests only how to create GraphQL service, but nothing about any GraphQL client...&lt;/h4&gt;","title":"How can spring-boot application easily get data from external GraphQL service?","body":"<h3>Background</h3>\nMy spring-boot-3 application need to get data from external GraphQL API. There I can/need fetch data by 4 different queries. I want to find some generic GraphQL Client with default GraphQL exceptions handling and default response conversion to objects.  \n<hr />\n<h3>Question</h3>\nIs there any simple way to call GraphQL API? Any dependency or client for that?\n<hr />\n<h3>Implementation that I have now</h3>\n<p><strong>GraphQLQueryLoader.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class GraphQLQueryLoader {\n\n  private final ResourceLoader resourceLoader;\n\n  /**\n   * Query file should be in\n   * &lt;code&gt;/resources/graphql/{fileName}.graphql&lt;/code&gt;\n   * */\n  public String loadQuery(final String queryName) {\n    try {\n      final var location = &quot;classpath:graphql/&quot; + queryName + &quot;.graphql&quot;;\n      final var path = resourceLoader.getResource(location).getFile().getPath();\n      return Files.readString(Paths.get(path));\n    } catch (final Exception e) {\n      log.error(String.format(&quot;Could not load GraphQL query (%s).&quot;, queryName), e);\n      throw new GraphQLQueryException();\n    }\n  }\n\n}\n</code></pre>\n<p><strong>GraphQLClient.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic class GraphQLClient {\n\n  private static final Duration TIMEOUT = Duration.ofSeconds(30);\n\n  private final WebClient webClient;\n  private final GraphQLQueryLoader graphQLQueryLoader;\n\n  public GraphQLResponse getByQueryName(final String query) {\n    final var query = graphQLQueryLoader.loadQuery(query);\n    return webClient.post()\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromValue(query))\n                    .retrieve()\n                    .onStatus(HttpStatusCode::is4xxClientError, handleClientError())\n                    .onStatus(HttpStatusCode::is5xxServerError, handleServerError())\n                    .bodyToMono(GraphQLResponse.class)\n                    .block(TIMEOUT);\n  }\n\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleClientError() {\n    return response -&gt; response.bodyToMono(String.class)\n                               .flatMap(body -&gt; {\n                                 log.warn(&quot;Client error with body: {}&quot;, body);\n                                 return Mono.error(new HttpClientErrorException(response.statusCode(), &quot;Client error&quot;));\n                               });\n  }\n\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleServerError() {\n    return response -&gt; response.bodyToMono(String.class)\n                               .flatMap(body -&gt; {\n                                 log.warn(&quot;Server error with body: {}&quot;, body);\n                                 return Mono.error(new HttpServerErrorException(response.statusCode(), &quot;Server error&quot;));\n                               });\n  }\n\n}\n</code></pre>\n<p><strong>GraphQLResponse.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public record GraphQLResponse(Object data) {}\n</code></pre>\n<p><strong>resources/graphql/my-query.graphql</strong></p>\n<pre><code>query myQuery() {\n    myQuery(id: '123') {\n        myCollection {\n            items {\n                title\n                body\n                action\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>final var response = client.getByQueryName(&quot;my-query&quot;);\n</code></pre>\n<hr />\n<h4>Is there any other easier way to get data from GraphQL API? Internet suggests only how to create GraphQL service, but nothing about any GraphQL client...</h4>\n"},{"tags":["java","android","kotlin","memory-leaks"],"owner":{"account_id":15366220,"reputation":2061,"user_id":11085663,"display_name":"Saeid Lotfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701685576,"creation_date":1701685576,"question_id":77598695,"body_markdown":"    ├─ android.app.assist.AssistStructure$ViewNodeText instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 347.6 kB in 6681 objects\r\n    │ Library leak match: instance field android.app.assist.\r\n    │ AssistStructure$ViewNodeText#mText\r\n    │ ↓ AssistStructure$ViewNodeText.mText\r\n    │ ~~~~~\r\n    ├─ android.text.SpannableStringBuilder instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 347.5 kB in 6680 objects\r\n    │ ↓ SpannableStringBuilder.mSpans\r\n    │ ~~~~~~\r\n    ├─ java.lang.Object[] array\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 36 B in 1 objects\r\n    │ ↓ Object[1]\r\n    │ ~~~\r\n    ├─ cim.exapmle.\r\n    │ RegisterActivity$setClickableSpan$clickableSpan$1 instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 16 B in 1 objects\r\n    │ Anonymous subclass of android.text.style.ClickableSpan\r\n    │ this$0 instance of cim.exapmle.RegisterActivity\r\n    │ with mDestroyed = true\r\n    │ ↓ RegisterActivity$setClickableSpan$clickableSpan$1.this$0\r\n    │ ~~~~~~\r\n------------------------------------------------------------------\r\n\r\n    override fun onStart() {\r\n        super.onStart()\r\n        setAgreementStyle(binding.tvAgreements)\r\n    }\r\n    \r\n    private fun setAgreementStyle(textView: TextView) {\r\n        viewModel.agreements?.let { agreements -&gt;\r\n            textView.text = textView.context.getString(\r\n                R.string.login_and_registration_agreements,\r\n                agreements[0].text,\r\n                agreements[1].text,\r\n            )\r\n    \r\n            highlightText(\r\n                textView,\r\n                highlightBoldWord = agreements[0].text,\r\n                highlightBoldWord2 = agreements[1].text,\r\n                highlightColor = ContextCompat.getColor(textView.context, R.color.purple),\r\n                highlightColorWord = agreements[0].text,\r\n                highlightColorWord2 = agreements[1].text,\r\n                highlightSizeWord = null,\r\n                highlightSize = 12\r\n            )\r\n    \r\n            for (i in agreements.indices) {\r\n                val agreement = agreements[i]\r\n                val start = textView.text.indexOf(agreement.text)\r\n                val end = start + agreement.text.length\r\n                setClickableSpan(textView, start, end, agreement)\r\n            }\r\n    \r\n            textView.movementMethod = LinkMovementMethod.getInstance()\r\n        }\r\n    }\r\n    \r\n    private fun setClickableSpan(textView: TextView, start: Int, end: Int, agreement: Agreement) {\r\n        val spannableString = SpannableStringBuilder(textView.text)\r\n        val clickableSpan = object : ClickableSpan() {\r\n            override fun updateDrawState(textPaint: TextPaint) {\r\n                super.updateDrawState(textPaint)\r\n                textPaint.isUnderlineText = false\r\n            }\r\n    \r\n            override fun onClick(view: View) {\r\n                if ((lastBottomSheetClickedTime + 1500) &lt; System.currentTimeMillis()) {\r\n                    lastBottomSheetClickedTime = System.currentTimeMillis()\r\n                }\r\n            }\r\n        }\r\n    \r\n        spannableString.setSpan(clickableSpan, start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n        textView.setText(spannableString, TextView.BufferType.SPANNABLE)\r\n    }","title":"After writing any code in onClick, ClickableSpan, it&#39;s causing a memory leak","body":"<pre><code>├─ android.app.assist.AssistStructure$ViewNodeText instance\n│ Leaking: UNKNOWN\n│ Retaining 347.6 kB in 6681 objects\n│ Library leak match: instance field android.app.assist.\n│ AssistStructure$ViewNodeText#mText\n│ ↓ AssistStructure$ViewNodeText.mText\n│ ~~~~~\n├─ android.text.SpannableStringBuilder instance\n│ Leaking: UNKNOWN\n│ Retaining 347.5 kB in 6680 objects\n│ ↓ SpannableStringBuilder.mSpans\n│ ~~~~~~\n├─ java.lang.Object[] array\n│ Leaking: UNKNOWN\n│ Retaining 36 B in 1 objects\n│ ↓ Object[1]\n│ ~~~\n├─ cim.exapmle.\n│ RegisterActivity$setClickableSpan$clickableSpan$1 instance\n│ Leaking: UNKNOWN\n│ Retaining 16 B in 1 objects\n│ Anonymous subclass of android.text.style.ClickableSpan\n│ this$0 instance of cim.exapmle.RegisterActivity\n│ with mDestroyed = true\n│ ↓ RegisterActivity$setClickableSpan$clickableSpan$1.this$0\n│ ~~~~~~\n</code></pre>\n<hr />\n<pre><code>override fun onStart() {\n    super.onStart()\n    setAgreementStyle(binding.tvAgreements)\n}\n\nprivate fun setAgreementStyle(textView: TextView) {\n    viewModel.agreements?.let { agreements -&gt;\n        textView.text = textView.context.getString(\n            R.string.login_and_registration_agreements,\n            agreements[0].text,\n            agreements[1].text,\n        )\n\n        highlightText(\n            textView,\n            highlightBoldWord = agreements[0].text,\n            highlightBoldWord2 = agreements[1].text,\n            highlightColor = ContextCompat.getColor(textView.context, R.color.purple),\n            highlightColorWord = agreements[0].text,\n            highlightColorWord2 = agreements[1].text,\n            highlightSizeWord = null,\n            highlightSize = 12\n        )\n\n        for (i in agreements.indices) {\n            val agreement = agreements[i]\n            val start = textView.text.indexOf(agreement.text)\n            val end = start + agreement.text.length\n            setClickableSpan(textView, start, end, agreement)\n        }\n\n        textView.movementMethod = LinkMovementMethod.getInstance()\n    }\n}\n\nprivate fun setClickableSpan(textView: TextView, start: Int, end: Int, agreement: Agreement) {\n    val spannableString = SpannableStringBuilder(textView.text)\n    val clickableSpan = object : ClickableSpan() {\n        override fun updateDrawState(textPaint: TextPaint) {\n            super.updateDrawState(textPaint)\n            textPaint.isUnderlineText = false\n        }\n\n        override fun onClick(view: View) {\n            if ((lastBottomSheetClickedTime + 1500) &lt; System.currentTimeMillis()) {\n                lastBottomSheetClickedTime = System.currentTimeMillis()\n            }\n        }\n    }\n\n    spannableString.setSpan(clickableSpan, start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    textView.setText(spannableString, TextView.BufferType.SPANNABLE)\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701615405,"post_id":77594752,"comment_id":136795217,"body_markdown":"Try `messageTextLower.matches(&quot;(?ms).*\\\\b&quot; + Pattern.quote(k) + &quot;\\\\b.*&quot;);`","body":"Try <code>messageTextLower.matches(&quot;(?ms).*\\\\b&quot; + Pattern.quote(k) + &quot;\\\\b.*&quot;);</code>"},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1701619076,"post_id":77594752,"comment_id":136795633,"body_markdown":"It&#39;s not really clear if  `k` and `messageTextLower` are both user input","body":"It&#39;s not really clear if  <code>k</code> and <code>messageTextLower</code> are both user input"},{"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1701690984,"post_id":77594752,"comment_id":136802938,"body_markdown":"What is the question? You haven&#39;t specified what is happening and what deviates from your expectations. You should provide a few samples of `messageTextLower` and the expected output in each case.","body":"What is the question? You haven&#39;t specified what is happening and what deviates from your expectations. You should provide a few samples of <code>messageTextLower</code> and the expected output in each case."}],"answers":[{"tags":[],"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701685528,"creation_date":1701614973,"answer_id":77594792,"question_id":77594752,"body_markdown":"What about using both negative lookahead and lookbehind?\r\n\r\n    (?&lt;![a-z])new york(?![a-z])\r\n\r\nThe regex above will check that no letters actually sitting before and after the `new york`.\r\n\r\nSee Fiddle: https://regex101.com/r/zw6Q1L/3\r\n\r\n----\r\n\r\nIn a hindsight, constructing regex like this may cause serious issue if you have to [consider application security](https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#77557666). It would be much safer to work with the good old iteration manually.\r\n\r\n    public static List&lt;Integer&gt; findOccurences(String text, String word){\r\n        List&lt;Integer&gt; ls = new LinkedList&lt;Integer&gt;();\r\n        \r\n        if(text == null || word == null\r\n           || text.trim().length() == 0\r\n           || word.trim().length() == 0){\r\n            return ls;\r\n        }\r\n        \r\n        int idx = 0;\r\n        int wordLength = 0;\r\n        while(idx != -1){\r\n            idx = text.indexOf(word, idx + wordLength);\r\n            if(idx != -1){\r\n                wordLength = word.length();\r\n                \r\n                //skips if preceeded by [a-z]\r\n                if((idx - 1) &gt;= 0\r\n                    &amp;&amp; text.charAt(idx - 1) &gt;= &#39;a&#39;\r\n                    &amp;&amp; text.charAt(idx - 1) &lt;= &#39;z&#39;){\r\n                        continue;\r\n                }\r\n                \r\n                //skip if succeeded by [a-z]\r\n                if((idx + wordLength) &lt; text.length()\r\n                    &amp;&amp; text.charAt(idx + wordLength) &gt;= &#39;a&#39;\r\n                    &amp;&amp; text.charAt(idx + wordLength) &lt;= &#39;z&#39;){\r\n                        continue;\r\n                }\r\n                \r\n                ls.add(idx);\r\n            }\r\n        }\r\n        \r\n        return ls;\r\n    }\r\n\r\nSee Fiddle: https://onecompiler.com/java/3zvdxdt47\r\n\r\nThere might be more efficient ways to do this.","title":"Match city name","body":"<p>What about using both negative lookahead and lookbehind?</p>\n<pre><code>(?&lt;![a-z])new york(?![a-z])\n</code></pre>\n<p>The regex above will check that no letters actually sitting before and after the <code>new york</code>.</p>\n<p>See Fiddle: <a href=\"https://regex101.com/r/zw6Q1L/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/zw6Q1L/3</a></p>\n<hr />\n<p>In a hindsight, constructing regex like this may cause serious issue if you have to <a href=\"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#77557666\">consider application security</a>. It would be much safer to work with the good old iteration manually.</p>\n<pre><code>public static List&lt;Integer&gt; findOccurences(String text, String word){\n    List&lt;Integer&gt; ls = new LinkedList&lt;Integer&gt;();\n    \n    if(text == null || word == null\n       || text.trim().length() == 0\n       || word.trim().length() == 0){\n        return ls;\n    }\n    \n    int idx = 0;\n    int wordLength = 0;\n    while(idx != -1){\n        idx = text.indexOf(word, idx + wordLength);\n        if(idx != -1){\n            wordLength = word.length();\n            \n            //skips if preceeded by [a-z]\n            if((idx - 1) &gt;= 0\n                &amp;&amp; text.charAt(idx - 1) &gt;= 'a'\n                &amp;&amp; text.charAt(idx - 1) &lt;= 'z'){\n                    continue;\n            }\n            \n            //skip if succeeded by [a-z]\n            if((idx + wordLength) &lt; text.length()\n                &amp;&amp; text.charAt(idx + wordLength) &gt;= 'a'\n                &amp;&amp; text.charAt(idx + wordLength) &lt;= 'z'){\n                    continue;\n            }\n            \n            ls.add(idx);\n        }\n    }\n    \n    return ls;\n}\n</code></pre>\n<p>See Fiddle: <a href=\"https://onecompiler.com/java/3zvdxdt47\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3zvdxdt47</a></p>\n<p>There might be more efficient ways to do this.</p>\n"}],"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701685528,"creation_date":1701614363,"question_id":77594752,"body_markdown":"I&#39;d like to check if a string contains city names.\r\n\r\nThe city name must not be proceeded or succeeded by any letters.\r\n\r\nThis works if it&#39;s in the middle of the string but it doesn&#39;t if it&#39;s at the beginning or the end (and also not if it has multiple lines).\r\n\r\n```\r\nString k = &quot;new york&quot;;\r\nmessageTextLower.matches(&quot;.*[^a-z]&quot; + Pattern.quote(k) + &quot;[^a-z].*&quot;)\r\n```\r\n\r\n","title":"Match city name","body":"<p>I'd like to check if a string contains city names.</p>\n<p>The city name must not be proceeded or succeeded by any letters.</p>\n<p>This works if it's in the middle of the string but it doesn't if it's at the beginning or the end (and also not if it has multiple lines).</p>\n<pre><code>String k = &quot;new york&quot;;\nmessageTextLower.matches(&quot;.*[^a-z]&quot; + Pattern.quote(k) + &quot;[^a-z].*&quot;)\n</code></pre>\n"},{"tags":["java","networking","localhost","client-server","hostname"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1701683784,"post_id":77598493,"comment_id":136801769,"body_markdown":"Which os do you use? Any entries in the hosts file?","body":"Which os do you use? Any entries in the hosts file?"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1701683874,"post_id":77598493,"comment_id":136801786,"body_markdown":"Windows 11. Do not know about the hosts file. Any details?","body":"Windows 11. Do not know about the hosts file. Any details?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1701683954,"post_id":77598493,"comment_id":136801799,"body_markdown":"https://beebom.com/how-find-edit-hosts-file-windows-11/","body":"<a href=\"https://beebom.com/how-find-edit-hosts-file-windows-11/\" rel=\"nofollow noreferrer\">beebom.com/how-find-edit-hosts-file-windows-11</a>"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":1,"creation_date":1701684113,"post_id":77598493,"comment_id":136801817,"body_markdown":"Yes, I found lm.licenses.adobe.com there. I think it is related to a crack or something. I think I understood somehow. Thank you","body":"Yes, I found lm.licenses.adobe.com there. I think it is related to a crack or something. I think I understood somehow. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1701685445,"creation_date":1701685445,"answer_id":77598676,"question_id":77598493,"body_markdown":"Check your computer&#39;s hosts file to see if there is an entry associating the IP address **127.0.0.1** with the hostname **&quot;lm.licenses.adobe.com&quot;**. The hosts file is typically located at `C:\\Windows\\System32\\drivers\\etc\\hosts` on **Windows** or `/etc/hosts` on **Unix-based systems**.\r\n\r\nOpen the hosts file and ensure that there are no unexpected entries associating **127.0.0.1** with **&quot;lm.licenses.adobe.com&quot;**.","title":"What is the returned hostname when client is localhost?","body":"<p>Check your computer's hosts file to see if there is an entry associating the IP address <strong>127.0.0.1</strong> with the hostname <strong>&quot;lm.licenses.adobe.com&quot;</strong>. The hosts file is typically located at <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code> on <strong>Windows</strong> or <code>/etc/hosts</code> on <strong>Unix-based systems</strong>.</p>\n<p>Open the hosts file and ensure that there are no unexpected entries associating <strong>127.0.0.1</strong> with <strong>&quot;lm.licenses.adobe.com&quot;</strong>.</p>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77598676,"answer_count":1,"score":0,"last_activity_date":1701685445,"creation_date":1701683569,"question_id":77598493,"body_markdown":"I am applying a simple client server tutorial in Java as follows:\r\n\r\n    public class Client{\r\n        public static void main(String[] args) throws IOException{\r\n            Socket s = new Socket(&quot;localhost&quot;, 8080);\r\n            s.close();\r\n        }\r\n    }\r\n    public class Server{\r\n        public static void main(String[] args) throws IOException, ClassNotFoundException{\r\n            ServerSocket ss = new ServerSocket(8080);\r\n            Socket s = ss.accept();\r\n            InetAddress inetAddress = s.getInetAddress();\r\n            System.out.println(&quot;Client&#39;s host name is &quot; + inetAddress.getHostName());\r\n            System.out.println(&quot;Client&#39;s IP Address is &quot; + inetAddress.getHostAddress());\r\n            ss.close();     s.close();\r\n        }\r\n    }\r\n\r\nAs shown, there is a couple of lines to get the hostname and address of connected client in the server code.\r\nWhen running on my computer (localhost) the IP is correct as 127.0.0.1 but the hostname is confusing for me:\r\n\r\n    Client&#39;s host name is lm.licenses.adobe.com\r\n    Client&#39;s IP Address is 127.0.0.1\r\n\r\nWhy the hostname of my computer (localhost) is read as Adobe?\r\n","title":"What is the returned hostname when client is localhost?","body":"<p>I am applying a simple client server tutorial in Java as follows:</p>\n<pre><code>public class Client{\n    public static void main(String[] args) throws IOException{\n        Socket s = new Socket(&quot;localhost&quot;, 8080);\n        s.close();\n    }\n}\npublic class Server{\n    public static void main(String[] args) throws IOException, ClassNotFoundException{\n        ServerSocket ss = new ServerSocket(8080);\n        Socket s = ss.accept();\n        InetAddress inetAddress = s.getInetAddress();\n        System.out.println(&quot;Client's host name is &quot; + inetAddress.getHostName());\n        System.out.println(&quot;Client's IP Address is &quot; + inetAddress.getHostAddress());\n        ss.close();     s.close();\n    }\n}\n</code></pre>\n<p>As shown, there is a couple of lines to get the hostname and address of connected client in the server code.\nWhen running on my computer (localhost) the IP is correct as 127.0.0.1 but the hostname is confusing for me:</p>\n<pre><code>Client's host name is lm.licenses.adobe.com\nClient's IP Address is 127.0.0.1\n</code></pre>\n<p>Why the hostname of my computer (localhost) is read as Adobe?</p>\n"},{"tags":["java","arrays","unique"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":5,"creation_date":1359758155,"post_id":14656208,"comment_id":20481402,"body_markdown":"Is it always sorted?  Yes, there&#39;s an easy way, but what have you tried?","body":"Is it always sorted?  Yes, there&#39;s an easy way, but what have you tried?"},{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758191,"post_id":14656208,"comment_id":20481410,"body_markdown":"No it is not sorted in all cases.","body":"No it is not sorted in all cases."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1359758204,"post_id":14656208,"comment_id":20481416,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Set.html</a>"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1359758241,"post_id":14656208,"comment_id":20481432,"body_markdown":"@MHZ: Does the order of the resulting array matter?  E.g. should the ordering from the first array be preserved?","body":"@MHZ: Does the order of the resulting array matter?  E.g. should the ordering from the first array be preserved?"},{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758278,"post_id":14656208,"comment_id":20481443,"body_markdown":"No the order of the resulting array, does not matter, as long as all element are unique.","body":"No the order of the resulting array, does not matter, as long as all element are unique."}],"answers":[{"tags":[],"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1471551961,"creation_date":1359758175,"answer_id":14656222,"question_id":14656208,"body_markdown":"In Java 8, use ` IntStream` to get unique elements of an array\r\n\r\n    int[] noDuplicates = IntStream.of(array).distinct().toArray();\r\n\r\n------\r\n\r\nThe simplest way would be to create set from the array.\r\n\r\n    Integer[] array = ...\r\n    Set&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(Arrays.asList(array ));\r\nand then you can retrieve the array using:\r\n\r\n    set.toArray()\r\n\r\nuse **LinkedHashSet** if you want to maintain the order or **TreeSet** if you want to have it sorted.","title":"Array of unique elements?","body":"<p>In Java 8, use <code>IntStream</code> to get unique elements of an array</p>\n\n<pre><code>int[] noDuplicates = IntStream.of(array).distinct().toArray();\n</code></pre>\n\n<hr>\n\n<p>The simplest way would be to create set from the array.</p>\n\n<pre><code>Integer[] array = ...\nSet&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(Arrays.asList(array ));\n</code></pre>\n\n<p>and then you can retrieve the array using:</p>\n\n<pre><code>set.toArray()\n</code></pre>\n\n<p>use <strong>LinkedHashSet</strong> if you want to maintain the order or <strong>TreeSet</strong> if you want to have it sorted.</p>\n"},{"tags":[],"owner":{"account_id":281678,"reputation":5500,"user_id":578116,"accept_rate":68,"display_name":"smk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432178397,"creation_date":1359758277,"answer_id":14656245,"question_id":14656208,"body_markdown":"Two options\r\n\r\n\r\n 1. Keep a map of count and element and finally only use those elements with count 1. (Need extra storage but is faster)\r\n\r\n 2. Sort the array and as you move through the array only use non-repeated ones. \r\n\r\nDoesn&#39;t need extra space but will be O(n lg(n))","title":"Array of unique elements?","body":"<p>Two options</p>\n\n<ol>\n<li><p>Keep a map of count and element and finally only use those elements with count 1. (Need extra storage but is faster)</p></li>\n<li><p>Sort the array and as you move through the array only use non-repeated ones. </p></li>\n</ol>\n\n<p>Doesn't need extra space but will be O(n lg(n))</p>\n"},{"tags":[],"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359758876,"creation_date":1359758506,"answer_id":14656298,"question_id":14656208,"body_markdown":"Supposing an array of Objects:\r\n\r\n    Object[] arr;\r\n\r\n    {...omissis...}\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    for(Object val: arr) {\r\n      if(!list.contains(val)) {\r\n        list.add(val);\r\n      }\r\n    }\r\n    list.toArray(new Object[0]);\r\n\r\nReplace `Object` with your Array Class if needed.","title":"Array of unique elements?","body":"<p>Supposing an array of Objects:</p>\n\n<pre><code>Object[] arr;\n\n{...omissis...}\n\nList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nfor(Object val: arr) {\n  if(!list.contains(val)) {\n    list.add(val);\n  }\n}\nlist.toArray(new Object[0]);\n</code></pre>\n\n<p>Replace <code>Object</code> with your Array Class if needed.</p>\n"},{"tags":[],"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359758627,"creation_date":1359758627,"answer_id":14656322,"question_id":14656208,"body_markdown":"Here are 2 ideas:\r\n\r\n1. Add all items to a Set, or create one with the constructor that has an array as a parameter (`HashSet` or `TreeSet`, depending on what time complexity you want). Then, for each element in the set, remove it, adding it to the next open position of a new array that is the size of the set.\r\n\r\n2. Sort the array. Add the object at index 0 to an `ArrayList`. Start at index 1 and go to index `length - 1`. If the current element is *not* equal to the element at the previous index, add it to the `ArrayList`. Change the `ArrayList` into an array, if necessary.\r\n","title":"Array of unique elements?","body":"<p>Here are 2 ideas:</p>\n\n<ol>\n<li><p>Add all items to a Set, or create one with the constructor that has an array as a parameter (<code>HashSet</code> or <code>TreeSet</code>, depending on what time complexity you want). Then, for each element in the set, remove it, adding it to the next open position of a new array that is the size of the set.</p></li>\n<li><p>Sort the array. Add the object at index 0 to an <code>ArrayList</code>. Start at index 1 and go to index <code>length - 1</code>. If the current element is <em>not</em> equal to the element at the previous index, add it to the <code>ArrayList</code>. Change the <code>ArrayList</code> into an array, if necessary.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1649573,"reputation":1949,"user_id":1520422,"accept_rate":36,"display_name":"Frederic Leitenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474999932,"creation_date":1474999932,"answer_id":39731600,"question_id":14656208,"body_markdown":"(Repost of: https://stackoverflow.com/a/39731584/1520422)\r\n\r\nUsing the Stream API of Java 8 this is a solution with a generic Array type:\r\n\r\n\tpublic static &lt;T&gt; T[] makeUnique(T... values)\r\n\t{\r\n\t\treturn Arrays.stream(values).distinct().toArray(new IntFunction&lt;T[]&gt;()\r\n\t\t{\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic T[] apply(int length)\r\n\t\t\t{\r\n\t\t\t\treturn (T[]) Array.newInstance(values.getClass().getComponentType(), length);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\nIt works for any Object type array, but not for primitive arrays.\r\n\r\nFor primitive arrays it looks like this:\r\n\r\n\r\n\tpublic static int[] makeUnique(int... values)\r\n\t{\r\n\t\treturn Arrays.stream(values).distinct().toArray();\r\n\t}\r\n\r\nAnd finally here is a little unit test:\r\n\r\n\t@Test\r\n\tpublic void testMakeUnique()\r\n\t{\r\n\t\tassertArrayEquals(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, makeUnique(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;));\r\n\t\tassertArrayEquals(new Object[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, makeUnique(new Object[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot; }));\r\n\t\tassertArrayEquals(new Integer[] { 1, 2, 3, 4, 5 }, makeUnique(new Integer[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\r\n\t\tassertArrayEquals(new int[] { 1, 2, 3, 4, 5 }, makeUnique(new int[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\r\n\t}\r\n","title":"Array of unique elements?","body":"<p>(Repost of: <a href=\"https://stackoverflow.com/a/39731584/1520422\">https://stackoverflow.com/a/39731584/1520422</a>)</p>\n\n<p>Using the Stream API of Java 8 this is a solution with a generic Array type:</p>\n\n<pre><code>public static &lt;T&gt; T[] makeUnique(T... values)\n{\n    return Arrays.stream(values).distinct().toArray(new IntFunction&lt;T[]&gt;()\n    {\n\n        @Override\n        public T[] apply(int length)\n        {\n            return (T[]) Array.newInstance(values.getClass().getComponentType(), length);\n        }\n\n    });\n}\n</code></pre>\n\n<p>It works for any Object type array, but not for primitive arrays.</p>\n\n<p>For primitive arrays it looks like this:</p>\n\n<pre><code>public static int[] makeUnique(int... values)\n{\n    return Arrays.stream(values).distinct().toArray();\n}\n</code></pre>\n\n<p>And finally here is a little unit test:</p>\n\n<pre><code>@Test\npublic void testMakeUnique()\n{\n    assertArrayEquals(new String[] { \"a\", \"b\", \"c\" }, makeUnique(\"a\", \"b\", \"c\", \"b\", \"a\"));\n    assertArrayEquals(new Object[] { \"a\", \"b\", \"c\" }, makeUnique(new Object[] { \"a\", \"b\", \"c\", \"b\", \"a\" }));\n    assertArrayEquals(new Integer[] { 1, 2, 3, 4, 5 }, makeUnique(new Integer[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\n    assertArrayEquals(new int[] { 1, 2, 3, 4, 5 }, makeUnique(new int[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15990949,"reputation":51,"user_id":11540169,"display_name":"Itz Pkyadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617366822,"creation_date":1617366822,"answer_id":66919410,"question_id":14656208,"body_markdown":"&gt; If you want to merge two list without duplicates then try this one, it works for me.\r\n\r\n        List&lt;Name&gt; list1 = Arrays.asList(new Name(&quot;abc&quot;, 1), new Name(&quot;def&quot;, 2), new Name(&quot;ghi&quot;, 3));\r\n        List&lt;Name&gt; list2 = Arrays.asList(new Name(&quot;def&quot;, 4), new Name(&quot;jkl&quot;, 5), new Name(&quot;mno&quot;, 6));\r\n       \r\n        List&lt;Name&gt; newNameList= new ArrayList&lt;&gt;(Stream.of(list1, list2).flatMap(List::stream)\r\n                .collect(Collectors.toMap(Name::getName, d -&gt; d, (Name x, Name y) -&gt; x == null ? y : x)).values());\r\n        newNameList.forEach(System.out::println);\r\n\r\n\r\n    class Name {\r\n    String name;\r\n    int id;\r\n\r\n    public Name(String name, int id) {\r\n        this.name = name;\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Name{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, id=&quot; + id + &#39;}&#39;;\r\n    }\r\n    }","title":"Array of unique elements?","body":"<blockquote>\n<p>If you want to merge two list without duplicates then try this one, it works for me.</p>\n</blockquote>\n<pre><code>    List&lt;Name&gt; list1 = Arrays.asList(new Name(&quot;abc&quot;, 1), new Name(&quot;def&quot;, 2), new Name(&quot;ghi&quot;, 3));\n    List&lt;Name&gt; list2 = Arrays.asList(new Name(&quot;def&quot;, 4), new Name(&quot;jkl&quot;, 5), new Name(&quot;mno&quot;, 6));\n   \n    List&lt;Name&gt; newNameList= new ArrayList&lt;&gt;(Stream.of(list1, list2).flatMap(List::stream)\n            .collect(Collectors.toMap(Name::getName, d -&gt; d, (Name x, Name y) -&gt; x == null ? y : x)).values());\n    newNameList.forEach(System.out::println);\n\n\nclass Name {\nString name;\nint id;\n\npublic Name(String name, int id) {\n    this.name = name;\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\n@Override\npublic String toString() {\n    return &quot;Name{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, id=&quot; + id + '}';\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30061496,"reputation":1,"user_id":23037521,"display_name":"vishnu chowdary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701685177,"creation_date":1701685177,"answer_id":77598639,"question_id":14656208,"body_markdown":"\r\n        boolean isunique=false;\r\n           int i, j;\r\n           for(i=0;i&lt;n;i++)\r\n           {\r\n                for(j=0;j&lt;i;j++) \r\n                     if(a[i]==a[j]) \r\n                          break;\r\n                if(i==j) \r\n                  System.out.print(a[i]+&quot; &quot;);","title":"Array of unique elements?","body":"<pre><code>    boolean isunique=false;\n       int i, j;\n       for(i=0;i&lt;n;i++)\n       {\n            for(j=0;j&lt;i;j++) \n                 if(a[i]==a[j]) \n                      break;\n            if(i==j) \n              System.out.print(a[i]+&quot; &quot;);\n</code></pre>\n"}],"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60174,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":14656222,"answer_count":7,"score":17,"last_activity_date":1701685177,"creation_date":1359758099,"question_id":14656208,"body_markdown":"Given an array like the one below, I was wondering if there is an easy way to turn this array into an array with unique values only? \r\n\r\nThis is given:\r\n\r\n       numbers={5,5,4,3,1,4,5,4,5} \r\n\r\nTurn it into a result array like this, preserving the original order:\r\n\r\n       {5,1,2,3,4} \r\n","title":"Array of unique elements?","body":"<p>Given an array like the one below, I was wondering if there is an easy way to turn this array into an array with unique values only? </p>\n\n<p>This is given:</p>\n\n<pre><code>   numbers={5,5,4,3,1,4,5,4,5} \n</code></pre>\n\n<p>Turn it into a result array like this, preserving the original order:</p>\n\n<pre><code>   {5,1,2,3,4} \n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1701709571,"post_id":77598036,"comment_id":136806709,"body_markdown":"Would be great if you could share some simple project to reproduce on our side. Thanks","body":"Would be great if you could share some simple project to reproduce on our side. Thanks"}],"owner":{"account_id":21596115,"reputation":30,"user_id":15925058,"display_name":"coosta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701709547,"answer_count":0,"score":-3,"last_activity_date":1701685058,"creation_date":1701677813,"question_id":77598036,"body_markdown":"I&#39;m using spring-kafka to communicate with Kafka. Here&#39;s the version of the dependencies that I&#39;m using.[![enter image description here](https://i.stack.imgur.com/rxdYI.png)](https://i.stack.imgur.com/rxdYI.png)\r\n\r\nI&#39;m using the ReplyingKafkaTemplate.sendAndReceive() function to send a message to my topic. The problem is that I get a &quot;No assigned partitions&quot; error from the KafkaMessageListenerContainer object when calling getAssignedPartitions(). And I&#39;m positive the topic its listening for is active.\r\n\r\nI tried to recreate my Kafka topic and it didn&#39;t help. Curiously, I&#39;m also able to call a different topic from within the same service","title":"Error returning assigned partitions in Spring Kafka","body":"<p>I'm using spring-kafka to communicate with Kafka. Here's the version of the dependencies that I'm using.<a href=\"https://i.stack.imgur.com/rxdYI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxdYI.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using the ReplyingKafkaTemplate.sendAndReceive() function to send a message to my topic. The problem is that I get a &quot;No assigned partitions&quot; error from the KafkaMessageListenerContainer object when calling getAssignedPartitions(). And I'm positive the topic its listening for is active.</p>\n<p>I tried to recreate my Kafka topic and it didn't help. Curiously, I'm also able to call a different topic from within the same service</p>\n"},{"tags":["java","jpa","many-to-many","eclipselink","cascade"],"comments":[{"owner":{"account_id":212661,"reputation":3449,"user_id":465620,"accept_rate":50,"display_name":"Jerry Tian"},"score":0,"creation_date":1332389431,"post_id":9750795,"comment_id":12505011,"body_markdown":"I am assuming you are familiar with Hibernate at some point, and you can refer Hibernate and Hibernate annotation documents for your question. They have chapters very detailed on relationship definition and cascade operations.","body":"I am assuming you are familiar with Hibernate at some point, and you can refer Hibernate and Hibernate annotation documents for your question. They have chapters very detailed on relationship definition and cascade operations."}],"answers":[{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1701684792,"creation_date":1332421238,"answer_id":9822806,"question_id":9750795,"body_markdown":"The rows in the join table will be inserted/deleted as part of the owning Entity (if bi-directional the side without the mappedBy).  So if you persist or remove or update the `Prequalification` the join table rows will also be inserted or deleted.\r\n\r\nThe target `Company` objects will not be cascaded to.  So on remove() they will not be deleted, if the list is updated they will not be deleted unless orphanRemovla is set.  Persist should also not be cascaded, but what happens when you have references to &quot;detached&quot; objects is somewhat of a grey area.  Technically an error should be thrown, because the object is new and the relationship was not cascade persist.  It may also try to insert and get a constraint error.  It should not cascade the persist, although your object model is technically in an invalid state, so what occurs may depend on the provider.\r\n","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>The rows in the join table will be inserted/deleted as part of the owning Entity (if bi-directional the side without the mappedBy).  So if you persist or remove or update the <code>Prequalification</code> the join table rows will also be inserted or deleted.</p>\n<p>The target <code>Company</code> objects will not be cascaded to.  So on remove() they will not be deleted, if the list is updated they will not be deleted unless orphanRemovla is set.  Persist should also not be cascaded, but what happens when you have references to &quot;detached&quot; objects is somewhat of a grey area.  Technically an error should be thrown, because the object is new and the relationship was not cascade persist.  It may also try to insert and get a constraint error.  It should not cascade the persist, although your object model is technically in an invalid state, so what occurs may depend on the provider.</p>\n"},{"tags":[],"owner":{"account_id":21639506,"reputation":1,"user_id":15961966,"display_name":"Joao Monteiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676901962,"creation_date":1676901909,"answer_id":75510246,"question_id":9750795,"body_markdown":"Wanted to add a comment, but don&#39;t have enough rep for it.\r\n\r\nI had the same question as @D-Dᴙum: &quot;*Where in the docs can we find a reference to this behaviour?*&quot;\r\n\r\nI found it in the [Hibernate docs (many-to-many)][1].&lt;br/&gt;\r\nIf you scroll just a bit just below the code example there, you will find:\r\n\r\n&gt; When an entity is removed from the @ManyToMany collection, Hibernate simply deletes the joining record in the link table. Unfortunately, this operation requires removing all entries associated with a given parent and recreating the ones that are listed in the current running persistent context.\r\n\r\nWhere the &quot;link table&quot; refers to the &quot;join table&quot;.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-many","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>Wanted to add a comment, but don't have enough rep for it.</p>\n<p>I had the same question as @D-Dᴙum: &quot;<em>Where in the docs can we find a reference to this behaviour?</em>&quot;</p>\n<p>I found it in the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-many\" rel=\"nofollow noreferrer\">Hibernate docs (many-to-many)</a>.<br/>\nIf you scroll just a bit just below the code example there, you will find:</p>\n<blockquote>\n<p>When an entity is removed from the @ManyToMany collection, Hibernate simply deletes the joining record in the link table. Unfortunately, this operation requires removing all entries associated with a given parent and recreating the ones that are listed in the current running persistent context.</p>\n</blockquote>\n<p>Where the &quot;link table&quot; refers to the &quot;join table&quot;.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":170189,"reputation":13739,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7368,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9822806,"answer_count":2,"score":8,"last_activity_date":1701684792,"creation_date":1331994821,"question_id":9750795,"body_markdown":"I have the following mapping:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Prequalifications&quot;)\r\n    public class Prequalification implements Serializable\r\n    {\r\n        ...\r\n        \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;Partnerships&quot;, joinColumns = @JoinColumn(name = &quot;prequalification_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;company_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private Set&lt;Company&gt; companies;\r\n\r\n        ...\r\n    }\r\n\r\nIn a `@ManyToMany` + `@JoinTable` mapped relationship, isn&#39;t it kind of implicit that the association (link) entities (here `Partnerships`) are automatically persisted, removed, etc. even though \r\n\r\n&gt; by default, relationships have an empty cascade set\r\n\r\n? The above quote was taken from &quot;Pro JPA 2, by Mike Keith&quot;.\r\n\r\nExecuting\r\n\r\n    em.merge(prequalification);\r\n\r\non the above entity **does** persist the associated partnerships without any cascade types specified.\r\n\r\nAm I correct that this implicit cascade **has** to be performed? This isn&#39;t mentioned anywhere I looked...\r\n\r\n\r\n\r\n","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>I have the following mapping:</p>\n\n<pre><code>@Entity\n@Table(name = \"Prequalifications\")\npublic class Prequalification implements Serializable\n{\n    ...\n\n    @ManyToMany\n    @JoinTable(name = \"Partnerships\", joinColumns = @JoinColumn(name = \"prequalification_id\", referencedColumnName = \"id\"), inverseJoinColumns = @JoinColumn(name = \"company_id\", referencedColumnName = \"id\"))\n    private Set&lt;Company&gt; companies;\n\n    ...\n}\n</code></pre>\n\n<p>In a <code>@ManyToMany</code> + <code>@JoinTable</code> mapped relationship, isn't it kind of implicit that the association (link) entities (here <code>Partnerships</code>) are automatically persisted, removed, etc. even though </p>\n\n<blockquote>\n  <p>by default, relationships have an empty cascade set</p>\n</blockquote>\n\n<p>? The above quote was taken from \"Pro JPA 2, by Mike Keith\".</p>\n\n<p>Executing</p>\n\n<pre><code>em.merge(prequalification);\n</code></pre>\n\n<p>on the above entity <strong>does</strong> persist the associated partnerships without any cascade types specified.</p>\n\n<p>Am I correct that this implicit cascade <strong>has</strong> to be performed? This isn't mentioned anywhere I looked...</p>\n"},{"tags":["java","javabeans"],"comments":[{"owner":{"account_id":879397,"reputation":3649,"user_id":207647,"accept_rate":91,"display_name":"Sidharth"},"score":64,"creation_date":1258108640,"post_id":1727603,"comment_id":1607761,"body_markdown":"actually i dont know about bean itself then how can i confuse with EJB ..is there anything special with it ..","body":"actually i dont know about bean itself then how can i confuse with EJB ..is there anything special with it .."}],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1374572007,"creation_date":1258096477,"answer_id":1727650,"question_id":1727603,"body_markdown":"Beans themselves\r\n----------------\r\n\r\n[JavaBeans][1] are everywhere, they&#39;re a convention and just about every single slightly larger library out there uses those conventions to automate things. Just a few reasons why JavaBeans should be used:\r\n\r\n - They serialize nicely.\r\n - Can be instantiated using reflection.\r\n - Can otherwise be controlled using reflection very easily.\r\n - Good for encapsulating actual data from business code.\r\n - Common conventions mean anyone can use your beans AND YOU CAN USE EVERYONE ELSE&#39;S BEANS without any kind of documentation/manual easily and in consistent manner.\r\n - Very close to [POJO][2]s which actually means even more interoperability between distinct parts of the system.\r\n\r\nAlso there&#39;s of course [Enterprise JavaBeans][3] which are a whole another matter and shouldn&#39;t be mixed with plain JavaBeans. I just wanted to mention EJB:s because the names are similar and it&#39;s easy to get those two confused.\r\n\r\nBeans in web applications\r\n-------------------------\r\nIf you consider &quot;normal&quot; JavaBeans in web app context, they make more sense than wearing shoes in your legs. Since the Servlet specification requires for sessions to be serializable, it means you should store your data in session as something that&#39;s serializable - why not make it a bean then! Just throw your SomeBusinessDataBean into the session and you&#39;re good to go, laughably easy, specification-compliant and convenient.\r\n\r\nAlso transferring that data around the application is easy too since JavaBeans help you to decouple parts of your application completely. Think JavaBeans as a letter and various subsystems of the application as departments within a very large corporation: Dept.A mails a bunch of data to Dept.B, Dept.B doesn&#39;t know -*or even care*- where the data came from just as it should be and can just open the letter, read stuff from it and do its thing based on that data.\r\n\r\nBeans in standalone applications\r\n--------------------------------\r\n\r\nActually what&#39;s above applies to standalone apps too, the only difference is that you can mess up with the UI a bit more since standalone applications have stateful UI:s while web applications have statelss UI:s which in some cases only simulate stateful UI:s. Because of this difference, it&#39;s easier to make a mess with standalone application but that&#39;s worth a whole another topic and isn&#39;t directly related to JavaBeans at all.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaBean\r\n  [2]: http://en.wikipedia.org/wiki/Plain_Old_Java_Object\r\n  [3]: http://en.wikipedia.org/wiki/Enterprise_JavaBean","title":"Places where JavaBeans are used?","body":"<h2>Beans themselves</h2>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JavaBean\" rel=\"noreferrer\">JavaBeans</a> are everywhere, they're a convention and just about every single slightly larger library out there uses those conventions to automate things. Just a few reasons why JavaBeans should be used:</p>\n\n<ul>\n<li>They serialize nicely.</li>\n<li>Can be instantiated using reflection.</li>\n<li>Can otherwise be controlled using reflection very easily.</li>\n<li>Good for encapsulating actual data from business code.</li>\n<li>Common conventions mean anyone can use your beans AND YOU CAN USE EVERYONE ELSE'S BEANS without any kind of documentation/manual easily and in consistent manner.</li>\n<li>Very close to <a href=\"http://en.wikipedia.org/wiki/Plain_Old_Java_Object\" rel=\"noreferrer\">POJO</a>s which actually means even more interoperability between distinct parts of the system.</li>\n</ul>\n\n<p>Also there's of course <a href=\"http://en.wikipedia.org/wiki/Enterprise_JavaBean\" rel=\"noreferrer\">Enterprise JavaBeans</a> which are a whole another matter and shouldn't be mixed with plain JavaBeans. I just wanted to mention EJB:s because the names are similar and it's easy to get those two confused.</p>\n\n<h2>Beans in web applications</h2>\n\n<p>If you consider \"normal\" JavaBeans in web app context, they make more sense than wearing shoes in your legs. Since the Servlet specification requires for sessions to be serializable, it means you should store your data in session as something that's serializable - why not make it a bean then! Just throw your SomeBusinessDataBean into the session and you're good to go, laughably easy, specification-compliant and convenient.</p>\n\n<p>Also transferring that data around the application is easy too since JavaBeans help you to decouple parts of your application completely. Think JavaBeans as a letter and various subsystems of the application as departments within a very large corporation: Dept.A mails a bunch of data to Dept.B, Dept.B doesn't know -<em>or even care</em>- where the data came from just as it should be and can just open the letter, read stuff from it and do its thing based on that data.</p>\n\n<h2>Beans in standalone applications</h2>\n\n<p>Actually what's above applies to standalone apps too, the only difference is that you can mess up with the UI a bit more since standalone applications have stateful UI:s while web applications have statelss UI:s which in some cases only simulate stateful UI:s. Because of this difference, it's easier to make a mess with standalone application but that's worth a whole another topic and isn't directly related to JavaBeans at all.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1701684529,"creation_date":1258119369,"answer_id":1729230,"question_id":1727603,"body_markdown":"They often just represent real world data. Here&#39;s a simple example of a Javabean:\r\n\r\n    public class User implements java.io.Serializable {\r\n    \r\n        // Properties.\r\n        private Long id;\r\n        private String name;\r\n        private Date birthdate;\r\n    \r\n        // Getters.\r\n        public Long getId() { return id; }\r\n        public String getName() { return name; }\r\n        public Date getBirthdate() { return birthdate; }\r\n    \r\n        // Setters.\r\n        public void setId(Long id) { this.id = id; }\r\n        public void setName(String name) { this.name = name; }\r\n        public void setBirthdate(Date birthdate) { this.birthdate = birthdate; }\r\n    \r\n        // Important java.lang.Object overrides.\r\n        public boolean equals(Object other) {\r\n            return (other instanceof User user) &amp;&amp; (id != null) ? id.equals(user.id) : (other == this);\r\n        }\r\n        public int hashCode() {\r\n            return (id != null) ? (getClass().hashCode() + id.hashCode()) : super.hashCode();\r\n        }\r\n        public String toString() {\r\n            return String.format(&quot;User[id=%d,name=%s,birthdate=%d]&quot;, id, name, birthdate);\r\n        }\r\n    }\r\n\r\nImplementing `Serializable` is not per se mandatory, but very useful if you&#39;d like to be able to persist or transfer Javabeans outside Java&#39;s memory, e.g. in harddisk or over network. One well known example is shared HTTP session storage for a cluster of servers (&quot;cloud&quot;). Otherwise you&#39;ll face [`NotSerializableException`][1] on these cases.\r\n\r\nIn for example a DAO class you can use it to **store** the data retrieved from the `user` table of the database:\r\n\r\n    List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    while (resultSet.next()) {\r\n        User user = new User();\r\n        user.setId(resultSet.getLong(&quot;id&quot;));\r\n        user.setName(resultSet.getString(&quot;name&quot;));\r\n        user.setBirthdate(resultSet.getDate(&quot;birthdate&quot;));\r\n        users.add(user);\r\n    }\r\n    return users;\r\n\r\nIn for example a Servlet class you can use it to **transfer** data from the database to the UI:\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\r\n        List&lt;User&gt; users = userDAO.list();\r\n        request.setAttribute(&quot;users&quot;, users);\r\n        request.getRequestDispatcher(&quot;/WEB-INF/users.jsp&quot;).forward(request, response);\r\n    }\r\n\r\nIn for example a JSP page you can **access** it by [EL][2], which follows the Javabean conventions, to display the data:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;ID&lt;/th&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Birthdate&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${user.id}&lt;/td&gt;\r\n                &lt;td&gt;&lt;c:out value=&quot;${user.name}&quot; /&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;fmt:formatDate value=&quot;${user.birthdate}&quot; pattern=&quot;yyyy-MM-dd&quot; /&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/table&gt;\r\n\r\nDoes it make sense? You see, it&#39;s kind of a **convention** which you can use everywhere to *store*, *transfer* and *access* data.\r\n\r\n### See also:\r\n\r\n- [JavaBeans specification][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2294551/java-io-writeabortedexception-writing-aborted-java-io-notserializableexception\r\n  [2]: https://stackoverflow.com/tags/el/info\r\n  [3]: https://www.oracle.com/java/technologies/javase/javabeans-spec.html","title":"Places where JavaBeans are used?","body":"<p>They often just represent real world data. Here's a simple example of a Javabean:</p>\n<pre><code>public class User implements java.io.Serializable {\n\n    // Properties.\n    private Long id;\n    private String name;\n    private Date birthdate;\n\n    // Getters.\n    public Long getId() { return id; }\n    public String getName() { return name; }\n    public Date getBirthdate() { return birthdate; }\n\n    // Setters.\n    public void setId(Long id) { this.id = id; }\n    public void setName(String name) { this.name = name; }\n    public void setBirthdate(Date birthdate) { this.birthdate = birthdate; }\n\n    // Important java.lang.Object overrides.\n    public boolean equals(Object other) {\n        return (other instanceof User user) &amp;&amp; (id != null) ? id.equals(user.id) : (other == this);\n    }\n    public int hashCode() {\n        return (id != null) ? (getClass().hashCode() + id.hashCode()) : super.hashCode();\n    }\n    public String toString() {\n        return String.format(&quot;User[id=%d,name=%s,birthdate=%d]&quot;, id, name, birthdate);\n    }\n}\n</code></pre>\n<p>Implementing <code>Serializable</code> is not per se mandatory, but very useful if you'd like to be able to persist or transfer Javabeans outside Java's memory, e.g. in harddisk or over network. One well known example is shared HTTP session storage for a cluster of servers (&quot;cloud&quot;). Otherwise you'll face <a href=\"https://stackoverflow.com/questions/2294551/java-io-writeabortedexception-writing-aborted-java-io-notserializableexception\"><code>NotSerializableException</code></a> on these cases.</p>\n<p>In for example a DAO class you can use it to <strong>store</strong> the data retrieved from the <code>user</code> table of the database:</p>\n<pre><code>List&lt;User&gt; users = new ArrayList&lt;User&gt;();\nwhile (resultSet.next()) {\n    User user = new User();\n    user.setId(resultSet.getLong(&quot;id&quot;));\n    user.setName(resultSet.getString(&quot;name&quot;));\n    user.setBirthdate(resultSet.getDate(&quot;birthdate&quot;));\n    users.add(user);\n}\nreturn users;\n</code></pre>\n<p>In for example a Servlet class you can use it to <strong>transfer</strong> data from the database to the UI:</p>\n<pre><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) {\n    List&lt;User&gt; users = userDAO.list();\n    request.setAttribute(&quot;users&quot;, users);\n    request.getRequestDispatcher(&quot;/WEB-INF/users.jsp&quot;).forward(request, response);\n}\n</code></pre>\n<p>In for example a JSP page you can <strong>access</strong> it by <a href=\"https://stackoverflow.com/tags/el/info\">EL</a>, which follows the Javabean conventions, to display the data:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;ID&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Birthdate&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${user.id}&lt;/td&gt;\n            &lt;td&gt;&lt;c:out value=&quot;${user.name}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;fmt:formatDate value=&quot;${user.birthdate}&quot; pattern=&quot;yyyy-MM-dd&quot; /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Does it make sense? You see, it's kind of a <strong>convention</strong> which you can use everywhere to <em>store</em>, <em>transfer</em> and <em>access</em> data.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/javabeans-spec.html\" rel=\"nofollow noreferrer\">JavaBeans specification</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1258120258,"creation_date":1258120258,"answer_id":1729303,"question_id":1727603,"body_markdown":"A bean is nothing much, really. For a class to be a &quot;bean&quot;, all it requires is:\r\n\r\n- to have a public, no argument constructor\r\n- to be serializable (to implement the Serializable interface, either directly or through one of its super classes).\r\n\r\nTo that, you can add getters and setters for properties of the class that conform to a specific naming convention if you want the fields to be discoverable in certain circumstances (e.g. making that class some object you can drag and drop from a visual editor in your IDE, for example).\r\n\r\nYou can find more directly from Sun [here][1].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/javabeans/whatis/index.html","title":"Places where JavaBeans are used?","body":"<p>A bean is nothing much, really. For a class to be a \"bean\", all it requires is:</p>\n\n<ul>\n<li>to have a public, no argument constructor</li>\n<li>to be serializable (to implement the Serializable interface, either directly or through one of its super classes).</li>\n</ul>\n\n<p>To that, you can add getters and setters for properties of the class that conform to a specific naming convention if you want the fields to be discoverable in certain circumstances (e.g. making that class some object you can drag and drop from a visual editor in your IDE, for example).</p>\n\n<p>You can find more directly from Sun <a href=\"http://java.sun.com/docs/books/tutorial/javabeans/whatis/index.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2212813,"reputation":1915,"user_id":1954219,"display_name":"Vibha Sanskrityayan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1368604121,"creation_date":1359958889,"answer_id":14681389,"question_id":1727603,"body_markdown":"A Java Bean is a software component that has been designed to be reusable in a variety of different environments. There is no restriction on the capability of a Bean. It may perform a simple function, such as checking the spelling of a document, or a complex function, such as forecasting the performance of a stock portfolio. A Bean may be visible to an end user. One example of this is a button on a graphical user interface. A Bean may also be invisible to a user. Software to decode a stream of multimedia information in real time is an example of this type of building block. Finally, a Bean may be designed to work autonomously on a user&#39;s workstation or to work in cooperation with a set of other distributed components. Software to generate a pie chart from a set of data points is an example of a Bean that can execute locally. However, a Bean that provides real-time price information from a stock or commodities exchange would need to work in cooperation with other distributed software to obtain its data.\r\n\r\nWe will see shortly what specific changes a software developer must make to a class so that it is usable as a Java Bean. However, one of the goals of the Java designers was to make it easy to use this technology. Therefore, the code changes are minimal.\r\n\r\n**Advantages of Java Beans**\r\n\r\nA software component architecture provides standard mechanisms to deal with software building blocks. The following list enumerates some of the specific benefits that Java technology provides for a component developer:\r\n\r\n * A Bean obtains all the benefits of Java&#39;s &quot;write-once, run-anywhere&quot; paradigm. \r\n * The properties, events, and methods of a Bean that are exposed to an application\r\n   builder tool can be controlled.\r\n * A Bean may be designed to operate correctly in different locales, which makes it\r\n    useful in global markets.\r\n * Auxiliary software can be provided to help a person configure a Bean. This software is\r\n    only needed when the design-time parameters for that component are being set. It\r\n    does not need to be included in the run-time environment.\r\n * The configuration settings of a Bean can be saved in persistent storage and restored\r\n    at a later time.\r\n *  A Bean may register to receive events from other objects and can generate events that\r\n    are sent to other objects.\r\n\r\n**Here&#39;s a simple example of a Javabean:**\r\n\r\n    public class MyBean implements java.io.Serializable\r\n    {\r\n       \r\n           protected  int theValue;\r\n     \r\n           public MyBean()\r\n           {\r\n           }\r\n     \r\n           public void setMyValue(int newValue)\r\n           {\r\n               theValue = newValue;\r\n           }\r\n     \r\n          public int getMyValue()\r\n          {\r\n               return theValue;\r\n          }\r\n    \r\n    }\r\n\r\nThis is a real Bean named MyBean that has state (the variable theValue) that will automatically be saved and restored by the JavaBeans persistence mechanism, and it has a property named MyValue that is usable by a visual programming environment. This Bean doesn&#39;t have any visual representation, but that isn&#39;t a requirement for a JavaBean component. \r\n\r\n","title":"Places where JavaBeans are used?","body":"<p>A Java Bean is a software component that has been designed to be reusable in a variety of different environments. There is no restriction on the capability of a Bean. It may perform a simple function, such as checking the spelling of a document, or a complex function, such as forecasting the performance of a stock portfolio. A Bean may be visible to an end user. One example of this is a button on a graphical user interface. A Bean may also be invisible to a user. Software to decode a stream of multimedia information in real time is an example of this type of building block. Finally, a Bean may be designed to work autonomously on a user's workstation or to work in cooperation with a set of other distributed components. Software to generate a pie chart from a set of data points is an example of a Bean that can execute locally. However, a Bean that provides real-time price information from a stock or commodities exchange would need to work in cooperation with other distributed software to obtain its data.</p>\n\n<p>We will see shortly what specific changes a software developer must make to a class so that it is usable as a Java Bean. However, one of the goals of the Java designers was to make it easy to use this technology. Therefore, the code changes are minimal.</p>\n\n<p><strong>Advantages of Java Beans</strong></p>\n\n<p>A software component architecture provides standard mechanisms to deal with software building blocks. The following list enumerates some of the specific benefits that Java technology provides for a component developer:</p>\n\n<ul>\n<li>A Bean obtains all the benefits of Java's \"write-once, run-anywhere\" paradigm. </li>\n<li>The properties, events, and methods of a Bean that are exposed to an application\nbuilder tool can be controlled.</li>\n<li>A Bean may be designed to operate correctly in different locales, which makes it\nuseful in global markets.</li>\n<li>Auxiliary software can be provided to help a person configure a Bean. This software is\nonly needed when the design-time parameters for that component are being set. It\ndoes not need to be included in the run-time environment.</li>\n<li>The configuration settings of a Bean can be saved in persistent storage and restored\nat a later time.</li>\n<li>A Bean may register to receive events from other objects and can generate events that\nare sent to other objects.</li>\n</ul>\n\n<p><strong>Here's a simple example of a Javabean:</strong></p>\n\n<pre><code>public class MyBean implements java.io.Serializable\n{\n\n       protected  int theValue;\n\n       public MyBean()\n       {\n       }\n\n       public void setMyValue(int newValue)\n       {\n           theValue = newValue;\n       }\n\n      public int getMyValue()\n      {\n           return theValue;\n      }\n\n}\n</code></pre>\n\n<p>This is a real Bean named MyBean that has state (the variable theValue) that will automatically be saved and restored by the JavaBeans persistence mechanism, and it has a property named MyValue that is usable by a visual programming environment. This Bean doesn't have any visual representation, but that isn't a requirement for a JavaBean component. </p>\n"}],"owner":{"account_id":879397,"reputation":3649,"user_id":207647,"accept_rate":91,"display_name":"Sidharth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83627,"favorite_count":0,"down_vote_count":1,"up_vote_count":204,"accepted_answer_id":1729230,"answer_count":4,"score":203,"last_activity_date":1701684529,"creation_date":1258095613,"question_id":1727603,"body_markdown":"What is a JavaBean and why do I need it? Since I can create all apps with the class and interface structure? Why do I need beans? And can you give me some examples where beans are essential instead of classes and interfaces?\r\n\r\nPlease explain the essentiality of a bean in the below context:\r\n\r\n - Wep apps\r\n - Standalone apps","title":"Places where JavaBeans are used?","body":"<p>What is a JavaBean and why do I need it? Since I can create all apps with the class and interface structure? Why do I need beans? And can you give me some examples where beans are essential instead of classes and interfaces?</p>\n\n<p>Please explain the essentiality of a bean in the below context:</p>\n\n<ul>\n<li>Wep apps</li>\n<li>Standalone apps</li>\n</ul>\n"},{"tags":["java","android","flutter","kotlin","android-studio"],"answers":[{"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701684287,"creation_date":1701666818,"answer_id":77597327,"question_id":77597255,"body_markdown":"Provide app name in your *productFlavors or buildTypes* section of **build.gradle(app-level)** like below\r\n\r\n\r\n    // productFlavors or buildTypes section \r\n    {\r\n       ....\r\n       applicationIdSuffix &#39;.testapp&#39;\r\n       resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;\r\n       ....\r\n    }\r\n\r\nAlso make sure you reference the value **app_name** to **android:label** in   your **AndroidManifest.xml** file as below:\r\n\r\n     &lt;application\r\n        android:label=&quot;@string/app_name&quot;\r\n        ...\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n    ...\r\n    ...\r\n    &lt;/application&gt;\r\n\r\n**EDIT:**\r\n\r\nYou can also reference you app name like below if you have multiple flavor setup. \r\n\r\n        productFlavors {\r\n        appFree {\r\n            applicationId &quot;com.example.testapp.free&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Free\\&quot;&quot;\r\n\r\n            // app_name should reference to android:label property in AndroidManifest file\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_free&quot;\r\n            return true\r\n        }\r\n        appPremium {\r\n            applicationId &quot;com.example.testapp.premium&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Paid\\&quot;&quot;\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_premium&quot;\r\n            return true\r\n        }\r\n    }\r\n\r\nNote: you will need to setup separate string.xml file for each locale like below:\r\n\r\n**strings.xml**\r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;app_name_free&quot;&gt;TestApp free&lt;/string&gt;\r\n    &lt;string name=&quot;app_name_premium&quot;&gt;TestApp premium&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n    \r\n**vn\\strings.xml**\r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;app_name_free&quot;&gt;TestApp miễn ph&#237;&lt;/string&gt;\r\n    &lt;string name=&quot;app_name_premium&quot;&gt;TestApp trả ph&#237;&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"How to change the application launcher name with different build flavors and different locale of user in Android Studio?","body":"<p>Provide app name in your <em>productFlavors or buildTypes</em> section of <strong>build.gradle(app-level)</strong> like below</p>\n<pre><code>// productFlavors or buildTypes section \n{\n   ....\n   applicationIdSuffix '.testapp'\n   resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;\n   ....\n}\n</code></pre>\n<p>Also make sure you reference the value <strong>app_name</strong> to <strong>android:label</strong> in   your <strong>AndroidManifest.xml</strong> file as below:</p>\n<pre><code> &lt;application\n    android:label=&quot;@string/app_name&quot;\n    ...\n    android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n...\n...\n&lt;/application&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>You can also reference you app name like below if you have multiple flavor setup.</p>\n<pre><code>    productFlavors {\n    appFree {\n        applicationId &quot;com.example.testapp.free&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Free\\&quot;&quot;\n\n        // app_name should reference to android:label property in AndroidManifest file\n        resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_free&quot;\n        return true\n    }\n    appPremium {\n        applicationId &quot;com.example.testapp.premium&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Paid\\&quot;&quot;\n        resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_premium&quot;\n        return true\n    }\n}\n</code></pre>\n<p>Note: you will need to setup separate string.xml file for each locale like below:</p>\n<p><strong>strings.xml</strong></p>\n<pre><code>&lt;resources&gt;\n&lt;string name=&quot;app_name_free&quot;&gt;TestApp free&lt;/string&gt;\n&lt;string name=&quot;app_name_premium&quot;&gt;TestApp premium&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>vn\\strings.xml</strong></p>\n<pre><code>&lt;resources&gt;\n&lt;string name=&quot;app_name_free&quot;&gt;TestApp miễn phí&lt;/string&gt;\n&lt;string name=&quot;app_name_premium&quot;&gt;TestApp trả phí&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701684287,"creation_date":1701664793,"question_id":77597255,"body_markdown":"I want to change the application launcher name by build flavors and the locale of user.\r\nAssume, i build four application with different build flavors and locale and the match name :\r\n\r\n      + First : Build flavor is free and locale is en =&gt; App Free English\r\n      + Second: Build flavor is premium and locale is vn =&gt; App Premium Vietnam\r\n      + Third: Build flavor is beta and locale is ko =&gt; App Beta Korean\r\n      + Four: Build flavor is premium and locale is ko =&gt; App Premium Korean\r\nSo, how can i do like this ?\r\n\r\nI try resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;, but the name just change by build flavor.","title":"How to change the application launcher name with different build flavors and different locale of user in Android Studio?","body":"<p>I want to change the application launcher name by build flavors and the locale of user.\nAssume, i build four application with different build flavors and locale and the match name :</p>\n<pre><code>  + First : Build flavor is free and locale is en =&gt; App Free English\n  + Second: Build flavor is premium and locale is vn =&gt; App Premium Vietnam\n  + Third: Build flavor is beta and locale is ko =&gt; App Beta Korean\n  + Four: Build flavor is premium and locale is ko =&gt; App Premium Korean\n</code></pre>\n<p>So, how can i do like this ?</p>\n<p>I try resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;, but the name just change by build flavor.</p>\n"},{"tags":["java","intellij-idea","gwt","gwt-rpc","gwt-super-dev-mode"],"comments":[{"owner":{"account_id":102157,"reputation":1558,"user_id":1824841,"display_name":"Ignacio Baca"},"score":1,"creation_date":1701672284,"post_id":77593898,"comment_id":136800232,"body_markdown":"What GWT version are you using? and how are you managing the project (maven, gradle, etc)?","body":"What GWT version are you using? and how are you managing the project (maven, gradle, etc)?"},{"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"score":0,"creation_date":1701683786,"post_id":77593898,"comment_id":136801770,"body_markdown":"Hi @IgnacioBaca, I was using maven as my build management tool, Java JDK 1.8 and GWT version 2.9.0","body":"Hi @IgnacioBaca, I was using maven as my build management tool, Java JDK 1.8 and GWT version 2.9.0"},{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1701693717,"post_id":77593898,"comment_id":136803445,"body_markdown":"Is your code separated in client-, server- &amp; share with own maven modules or all in one? Which GWT-MAVEN-PLUGIN are you using?","body":"Is your code separated in client-, server- &amp; share with own maven modules or all in one? Which GWT-MAVEN-PLUGIN are you using?"},{"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"score":0,"creation_date":1701764481,"post_id":77593898,"comment_id":136812948,"body_markdown":"Yes, my codebae use client and server package structure and a common shared package used by both client and server side code. Also they both share the same maven modules.  I was using `org.codehaus.mojo: gwt-maven-plugin`","body":"Yes, my codebae use client and server package structure and a common shared package used by both client and server side code. Also they both share the same maven modules.  I was using <code>org.codehaus.mojo: gwt-maven-plugin</code>"}],"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701683710,"creation_date":1701599961,"question_id":77593898,"body_markdown":"I was using GWT enterprise application which we package it to war and deploy in Tomcat server in our production. I heard of GWT super dev mode, where we can actually run the application in our local IDE to improve the development activities. I have gone through numerous references but I cannot set it up. Seems there are not much articles to support for configuring super dev mode with recent versions of Intellij IDEA. \r\n\r\nFew references I have checked: \r\n\r\n- [How to get GWT Super Dev Mode to work with IntelliJ](https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij), \r\n\r\n- [GWT Super Dev Mode](https://stackoverflow.com/questions/21387335/gwt-super-dev-mode?rq=3)\r\n\r\n- [how to debug gwt with super dev](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360001803699-how-to-debug-gwt-with-super-dev)\r\n\r\nproject configuration details,\r\n\r\nBuild management - maven 3.8.4\r\njava JDK - 1.8\r\nGWT version - 2.9.0\r\n\r\nKindly let me know for any working references/leads.","title":"How to configure GWT super dev mode for Intellij Idea recent versions 2023","body":"<p>I was using GWT enterprise application which we package it to war and deploy in Tomcat server in our production. I heard of GWT super dev mode, where we can actually run the application in our local IDE to improve the development activities. I have gone through numerous references but I cannot set it up. Seems there are not much articles to support for configuring super dev mode with recent versions of Intellij IDEA.</p>\n<p>Few references I have checked:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij\">How to get GWT Super Dev Mode to work with IntelliJ</a>,</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/21387335/gwt-super-dev-mode?rq=3\">GWT Super Dev Mode</a></p>\n</li>\n<li><p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360001803699-how-to-debug-gwt-with-super-dev\" rel=\"nofollow noreferrer\">how to debug gwt with super dev</a></p>\n</li>\n</ul>\n<p>project configuration details,</p>\n<p>Build management - maven 3.8.4\njava JDK - 1.8\nGWT version - 2.9.0</p>\n<p>Kindly let me know for any working references/leads.</p>\n"},{"tags":["java","jboss","vaadin","wildfly"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1459019541,"post_id":36230099,"comment_id":60109471,"body_markdown":"When you deploy your application on WildFly, what&#39;s your JNDI tree like? Also, could you please provide the entire stack trace?","body":"When you deploy your application on WildFly, what&#39;s your JNDI tree like? Also, could you please provide the entire stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":5724862,"reputation":61,"user_id":4522150,"display_name":"Madhu Pisipati"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528422270,"creation_date":1466678000,"answer_id":37989128,"question_id":36230099,"body_markdown":"Since you are deploying this on wildfly you need to change the property in the &gt; persistence.xml \r\n\r\nprovider FROM\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nTO\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\r\nRemove both the hibernate.transaction.jta.platform properties\r\n\r\n    &lt;name=&quot;hibernate.transaction.jta.platform&quot; &gt;\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform&quot; /&gt;\r\n\r\nand add the below instead\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform&quot;/&gt; \r\n\r\nthat should resolve the transaction manager issue.\r\n","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>Since you are deploying this on wildfly you need to change the property in the > persistence.xml </p>\n\n<p>provider FROM</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n\n<p>Remove both the hibernate.transaction.jta.platform properties</p>\n\n<pre><code>&lt;name=\"hibernate.transaction.jta.platform\" &gt;\n\n&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.SunOneJtaPlatform\" /&gt;\n&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform\" /&gt;\n</code></pre>\n\n<p>and add the below instead</p>\n\n<pre><code>&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform\"/&gt; \n</code></pre>\n\n<p>that should resolve the transaction manager issue.</p>\n"},{"tags":[],"owner":{"account_id":30061281,"reputation":1,"user_id":23037347,"display_name":"user23037347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701683446,"creation_date":1701683446,"answer_id":77598484,"question_id":36230099,"body_markdown":"When I try to create a partner, set it as valid and complete the process, I get the following error. Is this a known issue?\r\n\r\nThanks in advance!\r\n\r\n        org.hibernate.engine.jndi.JndiException: unable to find transaction manager\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:45) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.retrieveTransactionManager(AbstractJtaPlatform.java:87) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.getTransactionManager(AbstractJtaPlatform.java:98) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.TransactionManagerBasedSynchronizationStrategy.canRegisterSynchronization(TransactionManagerBasedSynchronizationStrategy.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.canRegisterSynchronization(AbstractJtaPlatform.java:131) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.pulse(JtaTransactionCoordinatorImpl.java:157) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.&lt;init&gt;(JtaTransactionCoordinatorImpl.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorBuilderImpl.buildTransactionCoordinator(JtaTransactionCoordinatorBuilderImpl.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.&lt;init&gt;(AbstractSharedSessionContract.java:232) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:29) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:230) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.buildEntityManager(SessionFactoryImpl.java:651) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:637) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy92.createEntityManager(Unknown Source) ~[?:?]\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.doGetTransactionalEntityManager(EntityManagerFactoryUtils.java:267) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:270) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy542.createQuery(Unknown Source) ~[?:?]\r\n    \tat de.innovas.jbit.persistence.querybuilding.next.UniversalCriteriaHistQueryBuilder.makeUnmappedHistQuery(UniversalCriteriaHistQueryBuilder.java:2280) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.technical.LowLevelSimpleDAO.read(LowLevelSimpleDAO.java:59) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.readWithTickInfo(AbstractSimpleMediator.java:141) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.read(AbstractSimpleMediator.java:72) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.business.SimpleDAO.read(SimpleDAO.java:38) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.readLtxCommitablesFor(LtxCommittableHandlerImpl.java:244) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.commit(LtxCommittableHandlerImpl.java:43) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.iaf.jbit_persistence_adapter.ltx.JBIT7LtxListener.commit(JBIT7LtxListener.java:60) ~[jbit_persistence-adapter-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxListenerImpl.commit(LtxListenerImpl.java:113) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.ltx.LtxParticipantsServant.notifyCommit(LtxParticipantsServant.java:75) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.ltx.LtxKernel.completeCommit(LtxKernel.java:95) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.performRegularCommit(LtxManagerImpl.java:403) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.coordinateCommitProcessing(LtxManagerImpl.java:393) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.commit(LtxManagerImpl.java:341) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.gen.services.proxy.LtxManager_Proxy.commit(LtxManager_Proxy.java:250) ~[infra_server-public-23.6.14.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy99.commit(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_outbounds_to_infra.impl.PartnersInfraOutboundImpl.commit(PartnersInfraOutboundImpl.java:145) ~[partners_outbounds_to_infra-23.2-SNAPSHOT.jar:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.proxy.PartnersInfraOutbound_Proxy.commit(PartnersInfraOutbound_Proxy.java:228) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy204.commit(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_server.services.PartnersProcessServiceImpl.finishProcess(PartnersProcessServiceImpl.java:170) ~[partners_server-23.2-SNAPSHOT.jar:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.proxy.PartnersProcessService_Proxy.finishProcess(PartnersProcessService_Proxy.java:55) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy247.finishProcess(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.rmi.PartnersProcessService_RMI_Service$Adapter.finishProcess(PartnersProcessService_RMI_Service.java:90) ~[partners_server-rmi-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359) ~[?:?]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n    \tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n    Caused by: org.hibernate.engine.jndi.JndiException: Error parsing JNDI name [java:jboss/TransactionManager]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:136) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \t... 100 more\r\n    Caused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[?:?]\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[?:?]\r\n    \tat javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[?:?]\r\n    \tat javax.naming.InitialContext.getNameParser(InitialContext.java:497) ~[?:?]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:130) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \t... 100 more","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>When I try to create a partner, set it as valid and complete the process, I get the following error. Is this a known issue?</p>\n<p>Thanks in advance!</p>\n<pre><code>    org.hibernate.engine.jndi.JndiException: unable to find transaction manager\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:45) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.retrieveTransactionManager(AbstractJtaPlatform.java:87) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.getTransactionManager(AbstractJtaPlatform.java:98) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.TransactionManagerBasedSynchronizationStrategy.canRegisterSynchronization(TransactionManagerBasedSynchronizationStrategy.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.canRegisterSynchronization(AbstractJtaPlatform.java:131) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.pulse(JtaTransactionCoordinatorImpl.java:157) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.&lt;init&gt;(JtaTransactionCoordinatorImpl.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorBuilderImpl.buildTransactionCoordinator(JtaTransactionCoordinatorBuilderImpl.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.&lt;init&gt;(AbstractSharedSessionContract.java:232) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:29) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:230) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.buildEntityManager(SessionFactoryImpl.java:651) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:637) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519) ~[spring-orm-5.3.30.jar:5.3.30]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy92.createEntityManager(Unknown Source) ~[?:?]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.doGetTransactionalEntityManager(EntityManagerFactoryUtils.java:267) ~[spring-orm-5.3.30.jar:5.3.30]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:270) ~[spring-orm-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy542.createQuery(Unknown Source) ~[?:?]\n    at de.innovas.jbit.persistence.querybuilding.next.UniversalCriteriaHistQueryBuilder.makeUnmappedHistQuery(UniversalCriteriaHistQueryBuilder.java:2280) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.technical.LowLevelSimpleDAO.read(LowLevelSimpleDAO.java:59) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.readWithTickInfo(AbstractSimpleMediator.java:141) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.read(AbstractSimpleMediator.java:72) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.business.SimpleDAO.read(SimpleDAO.java:38) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.readLtxCommitablesFor(LtxCommittableHandlerImpl.java:244) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.commit(LtxCommittableHandlerImpl.java:43) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\n    at de.innovas.iaf.jbit_persistence_adapter.ltx.JBIT7LtxListener.commit(JBIT7LtxListener.java:60) ~[jbit_persistence-adapter-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxListenerImpl.commit(LtxListenerImpl.java:113) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.ltx.LtxParticipantsServant.notifyCommit(LtxParticipantsServant.java:75) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.ltx.LtxKernel.completeCommit(LtxKernel.java:95) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.performRegularCommit(LtxManagerImpl.java:403) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.coordinateCommitProcessing(LtxManagerImpl.java:393) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.commit(LtxManagerImpl.java:341) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.gen.services.proxy.LtxManager_Proxy.commit(LtxManager_Proxy.java:250) ~[infra_server-public-23.6.14.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy99.commit(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_outbounds_to_infra.impl.PartnersInfraOutboundImpl.commit(PartnersInfraOutboundImpl.java:145) ~[partners_outbounds_to_infra-23.2-SNAPSHOT.jar:?]\n    at de.innovas.iaf.partners_server.gen.services.proxy.PartnersInfraOutbound_Proxy.commit(PartnersInfraOutbound_Proxy.java:228) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy204.commit(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_server.services.PartnersProcessServiceImpl.finishProcess(PartnersProcessServiceImpl.java:170) ~[partners_server-23.2-SNAPSHOT.jar:?]\n    at de.innovas.iaf.partners_server.gen.services.proxy.PartnersProcessService_Proxy.finishProcess(PartnersProcessService_Proxy.java:55) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy247.finishProcess(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_server.gen.services.rmi.PartnersProcessService_RMI_Service$Adapter.finishProcess(PartnersProcessService_RMI_Service.java:90) ~[partners_server-rmi-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359) ~[?:?]\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n    at java.lang.Thread.run(Thread.java:829) ~[?:?]\nCaused by: org.hibernate.engine.jndi.JndiException: Error parsing JNDI name [java:jboss/TransactionManager]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:136) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    ... 100 more\nCaused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\n    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[?:?]\n    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[?:?]\n    at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[?:?]\n    at javax.naming.InitialContext.getNameParser(InitialContext.java:497) ~[?:?]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:130) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    ... 100 more\n</code></pre>\n"}],"owner":{"account_id":3106740,"reputation":73,"user_id":2629369,"display_name":"Radoslav.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8629,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701683446,"creation_date":1458951298,"question_id":36230099,"body_markdown":"In my JavaEE application I have got two JAR&#39;s (Entities, Interfaces), one EJB (Service) and one WAR (Vaadin) projects. The application server is WildFly (JBoss). After deploying project there is an following error. In GlassFish there is everything fine.\r\n\r\n&gt; javax.servlet.ServletException: com.vaadin.server.ServiceException: javax.ejb.EJBException: org.hibernate.engine.jndi.JndiException: Unable to lookup JNDI name [javax.transaction.TransactionManager]\r\n&gt;\r\n&gt; null: javax.naming.NameNotFoundException: project1-ear-1.0.0.0/project1-Services-ejb1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService -- service jboss.naming.context.java.&quot;project1-ear-1.0.0.0&quot;.&quot;project1-Services-ejb1.0.0.0&quot;.&quot;PersonServiceImpl!com.domain.project1.interfaces.PersonService\r\n\r\nMy lookup:\r\n\r\n&gt; java:global/project1-ear-1.0.0.0/project1-Services-ejb-1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService\r\n\r\nWhat&#39;s wrong? Thanks for help!","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>In my JavaEE application I have got two JAR's (Entities, Interfaces), one EJB (Service) and one WAR (Vaadin) projects. The application server is WildFly (JBoss). After deploying project there is an following error. In GlassFish there is everything fine.</p>\n\n<blockquote>\n  <p>javax.servlet.ServletException: com.vaadin.server.ServiceException: javax.ejb.EJBException: org.hibernate.engine.jndi.JndiException: Unable to lookup JNDI name [javax.transaction.TransactionManager]</p>\n  \n  <p>null: javax.naming.NameNotFoundException: project1-ear-1.0.0.0/project1-Services-ejb1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService -- service jboss.naming.context.java.\"project1-ear-1.0.0.0\".\"project1-Services-ejb1.0.0.0\".\"PersonServiceImpl!com.domain.project1.interfaces.PersonService</p>\n</blockquote>\n\n<p>My lookup:</p>\n\n<blockquote>\n  <p>java:global/project1-ear-1.0.0.0/project1-Services-ejb-1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService</p>\n</blockquote>\n\n<p>What's wrong? Thanks for help!</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617141773,"creation_date":1617141773,"answer_id":66879026,"question_id":66878485,"body_markdown":"There&#39;s a few ways you could do this. Since you&#39;re using `Mono&lt;Void&gt;` as the return type, you could do something like:\r\n\r\n    getMyThing()\r\n            .delayUntil(thing -&gt; doSomething())\r\n            .switchIfEmpty(doSomethingElse().cast(String.class))\r\n            .then()\r\n\r\n...but that&#39;s not the neatest or clearest IMHO. It&#39;s a bit more verbose, but I&#39;d be tempted to map to an optional as so:\r\n\r\n    getMyThing().map(Optional::of).defaultIfEmpty(Optional.empty())\r\n            .flatMap(thing -&gt; thing.isPresent() ? doSomething() : doSomethingElse())\r\n            .then()\r\n\r\nIf you need to do this often, you might consider a transformation utility method:\r\n\r\n    public static &lt;T&gt; Mono&lt;Optional&lt;T&gt;&gt; optional(Mono&lt;T&gt; mono) {\r\n        return mono.map(Optional::of).defaultIfEmpty(Optional.empty());\r\n    }\r\n\r\n...which would then enable you to just do `getMyThing().transform(Utils::optional)` rather than do the explicit mapping / default each time.\r\n","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>There's a few ways you could do this. Since you're using <code>Mono&lt;Void&gt;</code> as the return type, you could do something like:</p>\n<pre><code>getMyThing()\n        .delayUntil(thing -&gt; doSomething())\n        .switchIfEmpty(doSomethingElse().cast(String.class))\n        .then()\n</code></pre>\n<p>...but that's not the neatest or clearest IMHO. It's a bit more verbose, but I'd be tempted to map to an optional as so:</p>\n<pre><code>getMyThing().map(Optional::of).defaultIfEmpty(Optional.empty())\n        .flatMap(thing -&gt; thing.isPresent() ? doSomething() : doSomethingElse())\n        .then()\n</code></pre>\n<p>If you need to do this often, you might consider a transformation utility method:</p>\n<pre><code>public static &lt;T&gt; Mono&lt;Optional&lt;T&gt;&gt; optional(Mono&lt;T&gt; mono) {\n    return mono.map(Optional::of).defaultIfEmpty(Optional.empty());\n}\n</code></pre>\n<p>...which would then enable you to just do <code>getMyThing().transform(Utils::optional)</code> rather than do the explicit mapping / default each time.</p>\n"},{"tags":[],"owner":{"account_id":11725318,"reputation":131,"user_id":8582831,"display_name":"Kar Fung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701683346,"creation_date":1701683346,"answer_id":77598476,"question_id":66878485,"body_markdown":"Instead of calling `.flatMap()` first, you can try calling `.switchIfEmpty()` and make it always return `Mono.empty()`.\r\n\r\nWhen myThing is empty, it will trigger the `doSomethingElse()` which then return `Mono.empty()` and `doSomething()` will not be called.\r\n\r\nSample: \r\n\r\n      Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n          Mono&lt;MyThing&gt; myThing = getMyThing();\r\n          return myThing\r\n            .switchIfEmpty(Mono.defer(() -&gt; {\r\n              Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\r\n              return somethingElseMono.then(Mono.empty());\r\n            })\r\n            .flatMap(thing -&gt; {\r\n              Mono&lt;Void&gt; somethingMono = doSomething();\r\n              return somethingMono;\r\n            });\r\n        }","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>Instead of calling <code>.flatMap()</code> first, you can try calling <code>.switchIfEmpty()</code> and make it always return <code>Mono.empty()</code>.</p>\n<p>When myThing is empty, it will trigger the <code>doSomethingElse()</code> which then return <code>Mono.empty()</code> and <code>doSomething()</code> will not be called.</p>\n<p>Sample:</p>\n<pre><code>  Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n      Mono&lt;MyThing&gt; myThing = getMyThing();\n      return myThing\n        .switchIfEmpty(Mono.defer(() -&gt; {\n          Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\n          return somethingElseMono.then(Mono.empty());\n        })\n        .flatMap(thing -&gt; {\n          Mono&lt;Void&gt; somethingMono = doSomething();\n          return somethingMono;\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4944,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66879026,"answer_count":2,"score":2,"last_activity_date":1701683346,"creation_date":1617138342,"question_id":66878485,"body_markdown":"My title sounds confusing so let me explain with some imperative pseudo code for what I&#39;m trying to do \r\n\r\n    Mono&lt;Void&gt; func() {\r\n      Mono&lt;MyThing&gt; myThing = getMyThing();\r\n      if myThing is not empty:\r\n        return doSomething();\r\n      else:\r\n        return doSomethingElse();\r\n    }\r\n\r\nHere&#39;s where I&#39;m stuck when I try to do this reactively:\r\n\r\n    Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n      Mono&lt;MyThing&gt; myThing = getMyThing();\r\n      return myThing\r\n        .flatMap(thing -&gt; {\r\n          Mono&lt;Void&gt; somethingMono = doSomething();\r\n          return somethingMono;\r\n        })\r\n        .switchIfEmpty(Mono.defer(() -&gt; {\r\n          Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\r\n          return somethingElseMono;\r\n        });\r\n    }\r\n\r\nThis works fine when `myThing` is empty. It skips the `.flatMap()` and executes the `.switchIfEmpty()` statement.\r\n\r\nHowever, when `myThing` is not empty, it executes `.flatMap()` which is what I want. But the flatMap returns a `Mono&lt;Void&gt;` which triggers the subsequent `.switchIfEmpty()` method.\r\n\r\nI tried swapping the position of the `.flatMap()` and `.switchIfEmpty()` but that doesn&#39;t work either because the `.switchIfEmpty()` returns a `Mono&lt;Void&gt;` whereas the `.flatMap()` expects a `Mono&lt;MyThing&gt;`.\r\n\r\nThis seems like a common pattern so wondering what&#39;s the right way to do this.","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>My title sounds confusing so let me explain with some imperative pseudo code for what I'm trying to do</p>\n<pre><code>Mono&lt;Void&gt; func() {\n  Mono&lt;MyThing&gt; myThing = getMyThing();\n  if myThing is not empty:\n    return doSomething();\n  else:\n    return doSomethingElse();\n}\n</code></pre>\n<p>Here's where I'm stuck when I try to do this reactively:</p>\n<pre><code>Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n  Mono&lt;MyThing&gt; myThing = getMyThing();\n  return myThing\n    .flatMap(thing -&gt; {\n      Mono&lt;Void&gt; somethingMono = doSomething();\n      return somethingMono;\n    })\n    .switchIfEmpty(Mono.defer(() -&gt; {\n      Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\n      return somethingElseMono;\n    });\n}\n</code></pre>\n<p>This works fine when <code>myThing</code> is empty. It skips the <code>.flatMap()</code> and executes the <code>.switchIfEmpty()</code> statement.</p>\n<p>However, when <code>myThing</code> is not empty, it executes <code>.flatMap()</code> which is what I want. But the flatMap returns a <code>Mono&lt;Void&gt;</code> which triggers the subsequent <code>.switchIfEmpty()</code> method.</p>\n<p>I tried swapping the position of the <code>.flatMap()</code> and <code>.switchIfEmpty()</code> but that doesn't work either because the <code>.switchIfEmpty()</code> returns a <code>Mono&lt;Void&gt;</code> whereas the <code>.flatMap()</code> expects a <code>Mono&lt;MyThing&gt;</code>.</p>\n<p>This seems like a common pattern so wondering what's the right way to do this.</p>\n"},{"tags":["java","javafx","jpackage"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701569204,"post_id":77591164,"comment_id":136792006,"body_markdown":"`--rsource-dir` is not for the kind of resources you&#39;re talking about; ignore that option for now, as it&#39;s for more advanced use cases. Just package the compiled code and resources in a JAR file, then point `jpackage` at said JAR file via `--module-path` (also include the JavaFX on the path, either the JMOD files or the JAR files if you got them from Maven Central). You can use `--module` to tell `jpackage` the main module/main class name.","body":"<code>--rsource-dir</code> is not for the kind of resources you&#39;re talking about; ignore that option for now, as it&#39;s for more advanced use cases. Just package the compiled code and resources in a JAR file, then point <code>jpackage</code> at said JAR file via <code>--module-path</code> (also include the JavaFX on the path, either the JMOD files or the JAR files if you got them from Maven Central). You can use <code>--module</code> to tell <code>jpackage</code> the main module/main class name."},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":0,"creation_date":1701577496,"post_id":77591164,"comment_id":136792401,"body_markdown":"could it be related to [this bug](https://youtrack.jetbrains.com/issue/IDEA-197469) ?","body":"could it be related to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-197469\" rel=\"nofollow noreferrer\">this bug</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":24596695,"reputation":121,"user_id":18499990,"display_name":"SpaciousCoder78"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701536313,"creation_date":1701536313,"answer_id":77591323,"question_id":77591164,"body_markdown":"Look into [Launch4j][1].\r\n\r\nPackage your app as a `.jar` file and then use Launch4j to convert it into an `.exe` file.\r\n\r\n\r\n  [1]: http://launch4j.sourceforge.net/","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Look into <a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Launch4j</a>.</p>\n<p>Package your app as a <code>.jar</code> file and then use Launch4j to convert it into an <code>.exe</code> file.</p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701552427,"creation_date":1701552427,"answer_id":77592249,"question_id":77591164,"body_markdown":"Take a look at &quot;jpackage&quot;. It is the official tool for packaging Java applications.\r\n\r\nIt will fit all your needs, it is easy to use, it is complete documented and it comes preinstalled with the JDK.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\r\n\r\nhttps://www.baeldung.com/java14-jpackage","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Take a look at &quot;jpackage&quot;. It is the official tool for packaging Java applications.</p>\n<p>It will fit all your needs, it is easy to use, it is complete documented and it comes preinstalled with the JDK.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html</a></p>\n<p><a href=\"https://www.baeldung.com/java14-jpackage\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java14-jpackage</a></p>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701577029,"creation_date":1701577029,"answer_id":77593013,"question_id":77591164,"body_markdown":"If you want to do it manually you can make a folder that contains the following elements \r\n\r\n - bin : the compiled code of your app\r\n - lib : dependencies (preferably as jar files)\r\n - res : resources\r\n - rt : java runtime (the version must be compatible with your compiled code)\r\n\r\nThe structure of the files is up to you and it might look something like this\r\n\r\n````\r\n└───build_folder\r\n    ├───bin\r\n    ├───lib\r\n    ├───res\r\n    └───rt\r\n````\r\n\r\nAfter that you can check if the setup is working by launching the compiled code using the copied jre, you can open a cmd inside the build folder and type this command\r\n\r\n``` &quot;rt/bin/java&quot; -cp &quot;bin;res;lib/*&quot; MainClass ```\r\n\r\nIf it works you can make a simple bat file with only the command above in it, Running the bat file will launch the code in bin/ using the jre in rt/ while taking res and lib into the classpath\r\n\r\nYou can already zip the deploy folder and deploy it into another computer, and it should still work simply by extracting the folder and running the bat.\r\n\r\nIf you want a more native integration with Windows you can convert the bat into an Exe (there are tools for that online and I can&#39;t recommend any).\r\n\r\nYou can also package the deploy folder into a native installer, see [InnoSetup](https://jrsoftware.org/isinfo.php) or [NSIS](https://nsis.sourceforge.io/Main_Page), a native installer would offer options like shortcuts and file type associations.\r\n\r\nAlso starting from java 11 you can make use of [jlink](https://docs.oracle.com/en/java/javase/11/tools/jlink.html) and [jdeps](https://docs.oracle.com/en/java/javase/11/tools/jdeps.html), which are command line tools that allow you to analyse the dependencies of your project and generate a minimal java runtime getting rid of unneeded modules.\r\n\r\n## Note :\r\nevery step starting from the creation of the bat file is specific to windows, targeting other operating systems would require a little effort, while the [jpackage](https://docs.oracle.com/en/java/javase/15/docs/specs/man/jpackage.html) tool already does this \r\n\r\n&gt; The jpackage tool will take as input a Java application and a Java run-time image, and produce a Java application image that includes all the necessary dependencies. It will be able to produce a native package in a platform-specific format, such as an exe on Windows or a dmg on macOS.\r\n","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>If you want to do it manually you can make a folder that contains the following elements</p>\n<ul>\n<li>bin : the compiled code of your app</li>\n<li>lib : dependencies (preferably as jar files)</li>\n<li>res : resources</li>\n<li>rt : java runtime (the version must be compatible with your compiled code)</li>\n</ul>\n<p>The structure of the files is up to you and it might look something like this</p>\n<pre><code>└───build_folder\n    ├───bin\n    ├───lib\n    ├───res\n    └───rt\n</code></pre>\n<p>After that you can check if the setup is working by launching the compiled code using the copied jre, you can open a cmd inside the build folder and type this command</p>\n<p><code>&quot;rt/bin/java&quot; -cp &quot;bin;res;lib/*&quot; MainClass</code></p>\n<p>If it works you can make a simple bat file with only the command above in it, Running the bat file will launch the code in bin/ using the jre in rt/ while taking res and lib into the classpath</p>\n<p>You can already zip the deploy folder and deploy it into another computer, and it should still work simply by extracting the folder and running the bat.</p>\n<p>If you want a more native integration with Windows you can convert the bat into an Exe (there are tools for that online and I can't recommend any).</p>\n<p>You can also package the deploy folder into a native installer, see <a href=\"https://jrsoftware.org/isinfo.php\" rel=\"nofollow noreferrer\">InnoSetup</a> or <a href=\"https://nsis.sourceforge.io/Main_Page\" rel=\"nofollow noreferrer\">NSIS</a>, a native installer would offer options like shortcuts and file type associations.</p>\n<p>Also starting from java 11 you can make use of <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jlink.html\" rel=\"nofollow noreferrer\">jlink</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jdeps.html\" rel=\"nofollow noreferrer\">jdeps</a>, which are command line tools that allow you to analyse the dependencies of your project and generate a minimal java runtime getting rid of unneeded modules.</p>\n<h2>Note :</h2>\n<p>every step starting from the creation of the bat file is specific to windows, targeting other operating systems would require a little effort, while the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">jpackage</a> tool already does this</p>\n<blockquote>\n<p>The jpackage tool will take as input a Java application and a Java run-time image, and produce a Java application image that includes all the necessary dependencies. It will be able to produce a native package in a platform-specific format, such as an exe on Windows or a dmg on macOS.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701583197,"creation_date":1701582870,"answer_id":77593183,"question_id":77591164,"body_markdown":"The `--resource-dir` option is not for the kind of resources you&#39;re talking about. You can ignore this option for now; it&#39;s for more advanced use cases. The files under `src/main/resources` are meant to be embedded on the class-path/module-path. Typically, this means they should be packaged in a JAR file along with the class files of the project. This setup will continue to &quot;just work&quot; after adding your module to a custom run-time image.\r\n\r\nAssuming you want to use `jpackage` manually, then based on your directory structure, the following sequence of (minimal) commands should work for you on Windows using PowerShell (Core 7.4.0):\r\n\r\n```sh\r\n$sources = Get-ChildItem src/main/java -r -i *.java | Resolve-Path -Relative\r\njavac -sourcepath src/main/java -p &quot;$env:path_to_fx_jmods&quot; -d out/classes $sources\r\njar -cf out/app.jar -C out/classes .\r\njar -uf out/app.jar -C src/main/resources .\r\njpackage -t app-image -p &quot;$env:path_to_fx_jmods;out/app.jar&quot; -m &lt;module&gt; -d out/app-image\r\n```\r\n\r\n&lt;sup&gt;**Note:** All commands should be executed from the parent directory of `src`.&lt;/sup&gt;\r\n\r\nWhere `&lt;module&gt;` is replaced by the main module name and main class name. For example, if your main module&#39;s name is `app` and your main class&#39;s name is `helloworld.HelloWorldFX`, then you would replace `&lt;module&gt;` with `app/helloworld.HelloWorldFX`. If you set the main class attribute of the JAR file, then you can omit the class name (and the forward slash) and just specify the module name.\r\n\r\nThis also assumes you have an environment variable `PATH_TO_FX_JOMDS` and that it points to where the JavaFX JMOD files are located. I made this assumption because [one of your comments][1] suggests this environment variable exists. If this assumption is incorrect, then replace `$env:path_to_fx_jmods` with the correct value. Note it&#39;s paramount the appropriate native code of JavaFX is included in the application image. That means using the JAR files from Maven Central, as they embed the native code, or the JMOD files (the cleaner option when viable).\r\n\r\nAll that said, I recommend you use a build tool such as Maven or Gradle. It will make this all easier in the long run. See [Getting Started with JavaFX][2] for details on setting up a JavaFX project with Maven or Gradle. Note that build tools are something you use in addition to an IDE (and the IDE should delegate most, if not all, build tasks to the build tool).&#160;Both Maven and Gradle have plugins that can work with `jpackage`.\r\n\r\n\r\n\r\n   [1]: https://stackoverflow.com/questions/77591164/package-a-javafx-application-as-a-native-executable-with-resources#comment136791155_77592249\r\n  [2]: https://openjfx.io/openjfx-docs/\r\n","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>The <code>--resource-dir</code> option is not for the kind of resources you're talking about. You can ignore this option for now; it's for more advanced use cases. The files under <code>src/main/resources</code> are meant to be embedded on the class-path/module-path. Typically, this means they should be packaged in a JAR file along with the class files of the project. This setup will continue to &quot;just work&quot; after adding your module to a custom run-time image.</p>\n<p>Assuming you want to use <code>jpackage</code> manually, then based on your directory structure, the following sequence of (minimal) commands should work for you on Windows using PowerShell (Core 7.4.0):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$sources = Get-ChildItem src/main/java -r -i *.java | Resolve-Path -Relative\njavac -sourcepath src/main/java -p &quot;$env:path_to_fx_jmods&quot; -d out/classes $sources\njar -cf out/app.jar -C out/classes .\njar -uf out/app.jar -C src/main/resources .\njpackage -t app-image -p &quot;$env:path_to_fx_jmods;out/app.jar&quot; -m &lt;module&gt; -d out/app-image\n</code></pre>\n<p><sup><strong>Note:</strong> All commands should be executed from the parent directory of <code>src</code>.</sup></p>\n<p>Where <code>&lt;module&gt;</code> is replaced by the main module name and main class name. For example, if your main module's name is <code>app</code> and your main class's name is <code>helloworld.HelloWorldFX</code>, then you would replace <code>&lt;module&gt;</code> with <code>app/helloworld.HelloWorldFX</code>. If you set the main class attribute of the JAR file, then you can omit the class name (and the forward slash) and just specify the module name.</p>\n<p>This also assumes you have an environment variable <code>PATH_TO_FX_JOMDS</code> and that it points to where the JavaFX JMOD files are located. I made this assumption because <a href=\"https://stackoverflow.com/questions/77591164/package-a-javafx-application-as-a-native-executable-with-resources#comment136791155_77592249\">one of your comments</a> suggests this environment variable exists. If this assumption is incorrect, then replace <code>$env:path_to_fx_jmods</code> with the correct value. Note it's paramount the appropriate native code of JavaFX is included in the application image. That means using the JAR files from Maven Central, as they embed the native code, or the JMOD files (the cleaner option when viable).</p>\n<p>All that said, I recommend you use a build tool such as Maven or Gradle. It will make this all easier in the long run. See <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> for details on setting up a JavaFX project with Maven or Gradle. Note that build tools are something you use in addition to an IDE (and the IDE should delegate most, if not all, build tasks to the build tool). Both Maven and Gradle have plugins that can work with <code>jpackage</code>.</p>\n"},{"tags":[],"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701682686,"creation_date":1701638147,"answer_id":77596207,"question_id":77591164,"body_markdown":"Based on the article, @slaw&#39;s answer, respecting the tree structure chosen in my question, and for a Microsoft Installer (msi) file:\r\n\r\n1.Maven lifecycle &gt; package\r\n\r\n2.jpackage to msi :\r\n\r\n    jpackage \r\n     --dest output \r\n     --name ShiftingCircle \r\n     --type msi \r\n     --module-path &quot;%PATH_TO_FX_JMODS%;target/&lt;NAME&gt;.jar&quot; \r\n     --add-modules helloworldfx \r\n     --module helloworldfx/helloworld.HelloWorldFX \r\n     --win-shortcut --win-menu \r\n     --java-options -Xmx2048m","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Based on the article, @slaw's answer, respecting the tree structure chosen in my question, and for a Microsoft Installer (msi) file:</p>\n<p>1.Maven lifecycle &gt; package</p>\n<p>2.jpackage to msi :</p>\n<pre><code>jpackage \n --dest output \n --name ShiftingCircle \n --type msi \n --module-path &quot;%PATH_TO_FX_JMODS%;target/&lt;NAME&gt;.jar&quot; \n --add-modules helloworldfx \n --module helloworldfx/helloworld.HelloWorldFX \n --win-shortcut --win-menu \n --java-options -Xmx2048m\n</code></pre>\n"}],"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77593183,"answer_count":5,"score":0,"last_activity_date":1701682686,"creation_date":1701533931,"question_id":77591164,"body_markdown":"Based on [**this article**](https://inside.java/2023/11/14/package-javafx-native-exec/), and with a default JavaFX tree from IntelliJ Idea (see below), how do I add all resources to commands so that they can be used natively (with getClass().getResource(&quot;/style/style.css&quot;) or some other way)?\r\n\r\n&lt;pre&gt;\r\nsrc\r\n|_ main\r\n   |_ java\r\n      |_ helloworld\r\n         |_ HelloWordlFX\r\n      |_ module-info.java\r\n   &lt;b&gt;|_ resources\r\n      |_ fonts\r\n         |_ openssans\r\n            |_ opensansregular.ttf\r\n      |_ pictures\r\n         |_ icon.ico\r\n      |_ style\r\n         |_ styles.css\r\n      |_ fxml\r\n         |_ sample.fxml&lt;/b&gt;\r\n...\r\n&lt;/pre&gt;\r\nSincerely,\r\n\r\nI&#39;m wondering if I should transform the resource folder into a jar, and load it as a module, if there is a specific command to include it in my module, or if the solution lies in using JPackage.\r\nI tried `--resource-dir src/main/resources` with jpackage but to no avail.","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Based on <a href=\"https://inside.java/2023/11/14/package-javafx-native-exec/\" rel=\"nofollow noreferrer\"><strong>this article</strong></a>, and with a default JavaFX tree from IntelliJ Idea (see below), how do I add all resources to commands so that they can be used natively (with getClass().getResource(&quot;/style/style.css&quot;) or some other way)?</p>\n<pre>\nsrc\n|_ main\n   |_ java\n      |_ helloworld\n         |_ HelloWordlFX\n      |_ module-info.java\n   <b>|_ resources\n      |_ fonts\n         |_ openssans\n            |_ opensansregular.ttf\n      |_ pictures\n         |_ icon.ico\n      |_ style\n         |_ styles.css\n      |_ fxml\n         |_ sample.fxml</b>\n...\n</pre>\n<p>Sincerely,</p>\n<p>I'm wondering if I should transform the resource folder into a jar, and load it as a module, if there is a specific command to include it in my module, or if the solution lies in using JPackage.\nI tried <code>--resource-dir src/main/resources</code> with jpackage but to no avail.</p>\n"},{"tags":["java","micronaut","micronaut-client","micronaut-openapi"],"owner":{"account_id":2810815,"reputation":175,"user_id":2417100,"display_name":"wolle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701682391,"creation_date":1701682391,"question_id":77598397,"body_markdown":"hopefully somebody has some more clue than me.\r\nI have an application with multiple modules built like in this documentation https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html\r\n\r\nI can see the configuration of the base path of the generated declarative client `openapi-micronaut-client-base-path=https://api.open-meteo.com/` but my server being called needs some basic authentication to be able to work with. I have different clients and they all need some different configurations. \r\n\r\nI need a hint how to configure a specific client (in best case only by changing the configuration file)\r\n","title":"Configure authentications of multiple micronaut declarative clients generated by openapi generator","body":"<p>hopefully somebody has some more clue than me.\nI have an application with multiple modules built like in this documentation <a href=\"https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html</a></p>\n<p>I can see the configuration of the base path of the generated declarative client <code>openapi-micronaut-client-base-path=https://api.open-meteo.com/</code> but my server being called needs some basic authentication to be able to work with. I have different clients and they all need some different configurations.</p>\n<p>I need a hint how to configure a specific client (in best case only by changing the configuration file)</p>\n"},{"tags":["java","selenium-webdriver","firefox"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701682241,"creation_date":1701682241,"answer_id":77598376,"question_id":77593216,"body_markdown":"In Java, single backslashes (`\\`) are escape characters, so you need to use either double backslashes or a forward slash in the path.\r\n\r\nChange your code as below:\r\n````\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\\\geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\n````","title":"Selenium Firefox-Unable to locate an Web Element. Works on chrome and edge","body":"<p>In Java, single backslashes (<code>\\</code>) are escape characters, so you need to use either double backslashes or a forward slash in the path.</p>\n<p>Change your code as below:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\\\geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\n</code></pre>\n"}],"owner":{"account_id":30052522,"reputation":1,"user_id":23030627,"display_name":"Sujan Prathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701682241,"creation_date":1701583973,"question_id":77593216,"body_markdown":"I have a piece of code that works on Chrome and Edge but failing in Firefox browser. The page gets loaded but unable to identify a web element. Is there any step I should follow(like profile settings) while initializing the geckodriver? Need help in identifying the problem:\r\n\r\nCode-\r\n```\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\geckodriver.exe&quot;);\r\nprivate static WebDriver driver = new FirefoxDriver();\r\n```\r\n\r\nI tried locating the web element on firefox and its found on DOM. I have used `implicitwait()`. The page gets loaded and element visible. But somehow Firefox driver is not able to identify the element.","title":"Selenium Firefox-Unable to locate an Web Element. Works on chrome and edge","body":"<p>I have a piece of code that works on Chrome and Edge but failing in Firefox browser. The page gets loaded but unable to identify a web element. Is there any step I should follow(like profile settings) while initializing the geckodriver? Need help in identifying the problem:</p>\n<p>Code-</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\geckodriver.exe&quot;);\nprivate static WebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>I tried locating the web element on firefox and its found on DOM. I have used <code>implicitwait()</code>. The page gets loaded and element visible. But somehow Firefox driver is not able to identify the element.</p>\n"},{"tags":["javascript","java","http","cookies","cors"],"comments":[{"owner":{"account_id":1530592,"reputation":92705,"user_id":1427878,"display_name":"CBroe"},"score":2,"creation_date":1700485636,"post_id":77515837,"comment_id":136656634,"body_markdown":"Was that first request, the POST, also made with `withCredentials` set to true?","body":"Was that first request, the POST, also made with <code>withCredentials</code> set to true?"},{"owner":{"account_id":13020960,"reputation":5899,"user_id":9410412,"display_name":"ibrahim tanyalcin"},"score":1,"creation_date":1700486110,"post_id":77515837,"comment_id":136656722,"body_markdown":"if your server is sitting behind a reverse proxy like nginx, based on the inital server response (in your case 400), some headers might be stripped off. Nginx has some additinal config keyword &#39;always&#39; like in here: https://gist.github.com/Stanback/7145487","body":"if your server is sitting behind a reverse proxy like nginx, based on the inital server response (in your case 400), some headers might be stripped off. Nginx has some additinal config keyword &#39;always&#39; like in here: <a href=\"https://gist.github.com/Stanback/7145487\" rel=\"nofollow noreferrer\">gist.github.com/Stanback/7145487</a>"},{"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"score":0,"creation_date":1700489529,"post_id":77515837,"comment_id":136657353,"body_markdown":"@CBroe no, the first request is sent without &quot;withCredentials=true&quot;, is this required ?","body":"@CBroe no, the first request is sent without &quot;withCredentials=true&quot;, is this required ?"},{"owner":{"account_id":1530592,"reputation":92705,"user_id":1427878,"display_name":"CBroe"},"score":2,"creation_date":1700490774,"post_id":77515837,"comment_id":136657598,"body_markdown":"Yes. https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials: _&quot;In addition, this flag is also used to indicate when cookies are **to be ignored in the response**. The default is false. XMLHttpRequest responses from a different domain cannot set cookie values for their own domain unless withCredentials is set to true before making the request.&quot;_","body":"Yes. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/&hellip;</a>: <i>&quot;In addition, this flag is also used to indicate when cookies are <b>to be ignored in the response</b>. The default is false. XMLHttpRequest responses from a different domain cannot set cookie values for their own domain unless withCredentials is set to true before making the request.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701682196,"creation_date":1701682196,"answer_id":77598371,"question_id":77515837,"body_markdown":"Credits to @CBroe\r\n\r\nThe correct solution was, to use ```withCredentials=true``` with the initial request, that will lead to the response setting the Cookie!","title":"Browser doesn&#39;t send Cookie when set trough cors-request","body":"<p>Credits to @CBroe</p>\n<p>The correct solution was, to use <code>withCredentials=true</code> with the initial request, that will lead to the response setting the Cookie!</p>\n"}],"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77598371,"answer_count":1,"score":-1,"last_activity_date":1701682196,"creation_date":1700482451,"question_id":77515837,"body_markdown":"i struggle with a Cookie that is set trough a CORS request.\r\nSubsequentially the browser won&#39;t send the cookie.\r\n\r\nI tried:\r\n- adjusting cors-headers\r\n- sending allowCredentials client-side\r\n- SameSite=None flag\r\n\r\n\r\nThe Application (Browser) runs on the main domain (dev.mydomain.com/myApp)\r\n\r\nand sent&#39;s a request (via a integrated WebComponent) to another domain (second.mydomain.com), that set&#39;s the cookie.\r\n\r\n`POST https://second.mydomain.com/verifyToken =&gt; 200`\r\n\r\nIt responds:\r\n\r\n```\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: https://dev.mydomain.com\r\nAccess-Control-Expose-Headers: Authorization\r\nAccess-Control-Allow-Credentials: true\r\nAuthorization: Bearer eyJra...\r\nSet-Cookie: refreshToken=eyJra...; Path=/refresh; Secure; HttpOnly; SameSite=None\r\n```\r\n\r\nThe Request that should contain the cookie looks like this:\r\n\r\n```\r\nGET https://second.mydomain.com/refresh =&gt; 400\r\n\r\nGET /refresh HTTP/1.1\r\n\r\nAccept: application/json, text/plain, */*\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nDNT: 1\r\nHost: second.mydomain.com\r\nOrigin: https://dev.mydomain.com\r\nReferer: https://dev.mydomain.com/\r\n```\r\n\r\nThe Response-Headers:\r\n\r\n```\r\nHTTP/1.1 400\r\nDate: Mon, 20 Nov 2023 12:05:41 GMT\r\nContent-Length: 0\r\nConnection: keep-alive\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: https://dev.mydomain.com\r\nAccess-Control-Expose-Headers: Authorization\r\nAccess-Control-Allow-Credentials: true\r\nX-Content-Type-Options: nosniff\r\n```\r\n\r\n\r\nCan anyone give me a hint, why the cookie is not attached?\r\n\r\nI also tried setting the Domain= Attribute in the cookie. But the default behaviour should pick the request-url as domain (in this case: second.mydomain.com)\r\n\r\nThe request is sent via axios rest-client\r\n\r\n```\r\n axios.get(refreshPath, {withCredentials: true});\r\n\r\n``` \r\nI would really appreciate any hints.\r\n\r\n\r\nBest Regards\r\nAlex\r\n","title":"Browser doesn&#39;t send Cookie when set trough cors-request","body":"<p>i struggle with a Cookie that is set trough a CORS request.\nSubsequentially the browser won't send the cookie.</p>\n<p>I tried:</p>\n<ul>\n<li>adjusting cors-headers</li>\n<li>sending allowCredentials client-side</li>\n<li>SameSite=None flag</li>\n</ul>\n<p>The Application (Browser) runs on the main domain (dev.mydomain.com/myApp)</p>\n<p>and sent's a request (via a integrated WebComponent) to another domain (second.mydomain.com), that set's the cookie.</p>\n<p><code>POST https://second.mydomain.com/verifyToken =&gt; 200</code></p>\n<p>It responds:</p>\n<pre><code>Vary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: https://dev.mydomain.com\nAccess-Control-Expose-Headers: Authorization\nAccess-Control-Allow-Credentials: true\nAuthorization: Bearer eyJra...\nSet-Cookie: refreshToken=eyJra...; Path=/refresh; Secure; HttpOnly; SameSite=None\n</code></pre>\n<p>The Request that should contain the cookie looks like this:</p>\n<pre><code>GET https://second.mydomain.com/refresh =&gt; 400\n\nGET /refresh HTTP/1.1\n\nAccept: application/json, text/plain, */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nDNT: 1\nHost: second.mydomain.com\nOrigin: https://dev.mydomain.com\nReferer: https://dev.mydomain.com/\n</code></pre>\n<p>The Response-Headers:</p>\n<pre><code>HTTP/1.1 400\nDate: Mon, 20 Nov 2023 12:05:41 GMT\nContent-Length: 0\nConnection: keep-alive\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: https://dev.mydomain.com\nAccess-Control-Expose-Headers: Authorization\nAccess-Control-Allow-Credentials: true\nX-Content-Type-Options: nosniff\n</code></pre>\n<p>Can anyone give me a hint, why the cookie is not attached?</p>\n<p>I also tried setting the Domain= Attribute in the cookie. But the default behaviour should pick the request-url as domain (in this case: second.mydomain.com)</p>\n<p>The request is sent via axios rest-client</p>\n<pre><code> axios.get(refreshPath, {withCredentials: true});\n\n</code></pre>\n<p>I would really appreciate any hints.</p>\n<p>Best Regards\nAlex</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1669416496,"post_id":74578326,"comment_id":131643442,"body_markdown":"What request did you send?","body":"What request did you send?"},{"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"score":0,"creation_date":1669416648,"post_id":74578326,"comment_id":131643460,"body_markdown":"added the request above. `localhost 8080`","body":"added the request above. <code>localhost 8080</code>"}],"answers":[{"tags":[],"owner":{"account_id":3682586,"reputation":61,"user_id":3067189,"display_name":"Rusif Budagov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669416230,"creation_date":1669416230,"answer_id":74578406,"question_id":74578326,"body_markdown":"Please share your pom.xml and application.properties too. because this codes look correctly. Perhaps there can be problem in those files.\r\n","title":"Java SpringBoot Always Returning 404 Status","body":"<p>Please share your pom.xml and application.properties too. because this codes look correctly. Perhaps there can be problem in those files.</p>\n"},{"tags":[],"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669417202,"creation_date":1669417202,"answer_id":74578480,"question_id":74578326,"body_markdown":"Figured out the issue. I guess you have to map it.\r\n\r\n \r\n\r\n     @GetMapping(&quot;/&quot;)\r\n      public String hello() {\r\n        return &quot;Hello World&quot;;\r\n      }","title":"Java SpringBoot Always Returning 404 Status","body":"<p>Figured out the issue. I guess you have to map it.</p>\n<pre><code> @GetMapping(&quot;/&quot;)\n  public String hello() {\n    return &quot;Hello World&quot;;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270681,"reputation":539,"user_id":560773,"display_name":"KLMN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701682058,"creation_date":1701682058,"answer_id":77598358,"question_id":74578326,"body_markdown":"In my case, add ComponentScan in SpringBootApplication resolved 404 error:\r\n\r\n    @ComponentScan(value = {&quot;work.example.controller&quot;})","title":"Java SpringBoot Always Returning 404 Status","body":"<p>In my case, add ComponentScan in SpringBootApplication resolved 404 error:</p>\n<pre><code>@ComponentScan(value = {&quot;work.example.controller&quot;})\n</code></pre>\n"}],"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701682058,"creation_date":1669415414,"question_id":74578326,"body_markdown":"I am completely new to SpringBoot and i have following along with a Course on YT.\r\n\r\n**Request:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**DemoApplication.java**\r\n\r\n    package com.sbt.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n      }\r\n    \r\n      @GetMapping\r\n      public String hello() {\r\n        return &quot;Hello World&quot;;\r\n      }\r\n    }\r\n\r\n\r\nIn the course he is able to get a response of &quot;Hello World&quot; but i keep getting \r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Fri Nov 25 16:24:31 CST 2022\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\n\r\nI&#39;ve added the `@RestController` annotation like other similar questions with answers to recommend, but i keep getting the error.\r\n\r\nI also restarted the server and retried and keeping getting the error.\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;project\r\n      xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    &gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.sbt&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csgPS.png","title":"Java SpringBoot Always Returning 404 Status","body":"<p>I am completely new to SpringBoot and i have following along with a Course on YT.</p>\n<p><strong>Request:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/csgPS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csgPS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>DemoApplication.java</strong></p>\n<pre><code>package com.sbt.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @GetMapping\n  public String hello() {\n    return &quot;Hello World&quot;;\n  }\n}\n</code></pre>\n<p>In the course he is able to get a response of &quot;Hello World&quot; but i keep getting</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Nov 25 16:24:31 CST 2022\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>I've added the <code>@RestController</code> annotation like other similar questions with answers to recommend, but i keep getting the error.</p>\n<p>I also restarted the server and retried and keeping getting the error.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;project\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sbt&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety","mdc"],"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701681975,"creation_date":1701681127,"question_id":77598277,"body_markdown":"\r\ni want to know the behaviour of the MDC when a thread is paused for example when a lock is put on a code , and the thread us reused at that time , he modifies the MDC and then when the pause finished and the first thread continues his task , the value of the keys could be modified and we could have inconsistencies in data?\r\nhere is my code : \r\n\r\n    public class AppLogger {\r\n\r\n\r\n\tprivate final Logger delegate;\r\n\r\n\tprivate static final Object mdcLock = new Object();\r\n\r\n\tpublic AppLogger(Logger delegate) {\r\n\t\t//for testing purposes\r\n\t\tthis.delegate = delegate;\r\n\t}\r\n\r\n\tprivate AppLogger(Class&lt;?&gt; aClass) {\r\n\t\tdelegate = LoggerFactory.getLogger(aClass);\r\n\t}\r\n\r\n\tpublic static AppLogger getLogger(Class&lt;?&gt; aClass) {\r\n\t\treturn new AppLogger(aClass);\r\n\t}\r\n\r\n\t/**\r\n\t * Log la {@code trace} applicative donn&#233;e, sans lever d&#39;alerte de supervision.\r\n\t */\r\n\tpublic void log(Level level, String code, String type, String message, Object... params) {\r\n\r\n\t\tupdateMetricsFromMDC(code, type);\r\n\t\tLevel niveau = Level.valueOf(level.name());\r\n\r\n\t\tswitch (niveau) {\r\n\t\t\tcase DEBUG -&gt; this.delegate.debug(message, params);\r\n\t\t\tcase INFO -&gt; this.delegate.info(message, params);\r\n\t\t\tcase WARNING -&gt; this.delegate.warn(message, params);\r\n\t\t\tcase ERROR -&gt; this.delegate.error(message, params);\r\n\t\t\tdefault -&gt; this.delegate.error(message, params);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void addMetricsToMDC(UUID uuid, String version) {\r\n\t\tremoveMetricsFromMDC();\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.put(&quot;UUID&quot;, uuid.toString());\r\n\t\t\tMDC.put(&quot;Version&quot;, version);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void updateMetricsFromMDC(String code, String type) {\r\n\t\tremoveCommonMetricsFromMDC();\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.put(&quot;Code&quot;, code);\r\n\t\t\tMDC.put(&quot;Type&quot;, type);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void removeMetricsFromMDC() {\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.remove(&quot;UUID&quot;);\r\n\t\t\tMDC.remove(&quot;Code&quot;);\r\n\t\t\tMDC.remove(&quot;Type&quot;);\r\n\t\t\tMDC.remove(&quot;Version&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void removeCommonMetricsFromMDC() {\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.remove(&quot;Code&quot;);\r\n\t\t\tMDC.remove(&quot;Type&quot;);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n","title":"MDC management when thread is paused","body":"<p>i want to know the behaviour of the MDC when a thread is paused for example when a lock is put on a code , and the thread us reused at that time , he modifies the MDC and then when the pause finished and the first thread continues his task , the value of the keys could be modified and we could have inconsistencies in data?\nhere is my code :</p>\n<pre><code>public class AppLogger {\n\n\nprivate final Logger delegate;\n\nprivate static final Object mdcLock = new Object();\n\npublic AppLogger(Logger delegate) {\n    //for testing purposes\n    this.delegate = delegate;\n}\n\nprivate AppLogger(Class&lt;?&gt; aClass) {\n    delegate = LoggerFactory.getLogger(aClass);\n}\n\npublic static AppLogger getLogger(Class&lt;?&gt; aClass) {\n    return new AppLogger(aClass);\n}\n\n/**\n * Log la {@code trace} applicative donnée, sans lever d'alerte de supervision.\n */\npublic void log(Level level, String code, String type, String message, Object... params) {\n\n    updateMetricsFromMDC(code, type);\n    Level niveau = Level.valueOf(level.name());\n\n    switch (niveau) {\n        case DEBUG -&gt; this.delegate.debug(message, params);\n        case INFO -&gt; this.delegate.info(message, params);\n        case WARNING -&gt; this.delegate.warn(message, params);\n        case ERROR -&gt; this.delegate.error(message, params);\n        default -&gt; this.delegate.error(message, params);\n    }\n}\n\npublic void addMetricsToMDC(UUID uuid, String version) {\n    removeMetricsFromMDC();\n    synchronized(mdcLock) {\n        MDC.put(&quot;UUID&quot;, uuid.toString());\n        MDC.put(&quot;Version&quot;, version);\n    }\n}\n\npublic void updateMetricsFromMDC(String code, String type) {\n    removeCommonMetricsFromMDC();\n    synchronized(mdcLock) {\n        MDC.put(&quot;Code&quot;, code);\n        MDC.put(&quot;Type&quot;, type);\n    }\n}\n\nprivate static void removeMetricsFromMDC() {\n    synchronized(mdcLock) {\n        MDC.remove(&quot;UUID&quot;);\n        MDC.remove(&quot;Code&quot;);\n        MDC.remove(&quot;Type&quot;);\n        MDC.remove(&quot;Version&quot;);\n    }\n}\n\nprivate static void removeCommonMetricsFromMDC() {\n    synchronized(mdcLock) {\n        MDC.remove(&quot;Code&quot;);\n        MDC.remove(&quot;Type&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1973399,"reputation":4576,"user_id":1771766,"display_name":"G Quintana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649176444,"creation_date":1649176444,"answer_id":71755375,"question_id":71735077,"body_markdown":"Kafka documentation explains it:\r\n\r\n&gt; The DefaultPartitioner now uses a sticky partitioning strategy. This\r\n&gt; means that records for specific topic with null keys and no assigned\r\n&gt; partition will be sent to the same partition until the batch is ready\r\n&gt; to be sent. When a new batch is created, a new partition is chosen.\r\n&gt; This decreases latency to produce, but it may result in uneven\r\n&gt; distribution of records across partitions in edge cases. Generally\r\n&gt; users will not be impacted, but this difference may be noticeable in\r\n&gt; tests and other situations producing records for a very short amount\r\n&gt; of time.\r\n\r\nSwitching to the RoundRobinPartitionner (instead of DefaultPartitionner) is probably what you are looking for. See https://kafka.apache.org/documentation/#producerconfigs_partitioner.class I ignore how constant your message rate, but under normal circumstances (Production) the Default partitionner is pretty fair.\r\n\r\nAlso ensure that `linger.ms` is `0` and reduce `batch.size` as much as you can.\r\n\r\nImplementing a custom Partitionner is rather easy. But knowing which partition is the smaller is harder as it will change very often. You may end up spending more time refreshing partition sizes, and finding the smallest one that sending the message.\r\n\r\n","title":"Uneven partitioner in kafka / no key","body":"<p>Kafka documentation explains it:</p>\n<blockquote>\n<p>The DefaultPartitioner now uses a sticky partitioning strategy. This\nmeans that records for specific topic with null keys and no assigned\npartition will be sent to the same partition until the batch is ready\nto be sent. When a new batch is created, a new partition is chosen.\nThis decreases latency to produce, but it may result in uneven\ndistribution of records across partitions in edge cases. Generally\nusers will not be impacted, but this difference may be noticeable in\ntests and other situations producing records for a very short amount\nof time.</p>\n</blockquote>\n<p>Switching to the RoundRobinPartitionner (instead of DefaultPartitionner) is probably what you are looking for. See <a href=\"https://kafka.apache.org/documentation/#producerconfigs_partitioner.class\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#producerconfigs_partitioner.class</a> I ignore how constant your message rate, but under normal circumstances (Production) the Default partitionner is pretty fair.</p>\n<p>Also ensure that <code>linger.ms</code> is <code>0</code> and reduce <code>batch.size</code> as much as you can.</p>\n<p>Implementing a custom Partitionner is rather easy. But knowing which partition is the smaller is harder as it will change very often. You may end up spending more time refreshing partition sizes, and finding the smallest one that sending the message.</p>\n"}],"owner":{"account_id":20358395,"reputation":11,"user_id":14933383,"display_name":"user14933383"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701681897,"creation_date":1649065374,"question_id":71735077,"body_markdown":"I have a topic with 3 partitions with only 1 consumer, and I am using the default partitioner which in this case is &quot;Sticky&quot;. everything else by default.\r\n\r\nThe data sent from the producer does not have a key and I don&#39;t want it to have one, I simply want each data to go to a random partition and for these to be evenly distributed.\r\n\r\nHowever I have a result similar to this, where one partition is way above the others\r\n![Muestra](https://i.stack.imgur.com/E8pCK.png)\r\n\r\nAs a result of this I have 2 questions.\r\n\r\n- Why did this happen?\r\n- How can I make the partitions to be equal again?\r\n\r\nI have tried to create a custom partitioner that looks at the size of each partition and assigns the data where it has less data. is this possible?","title":"Uneven partitioner in kafka / no key","body":"<p>I have a topic with 3 partitions with only 1 consumer, and I am using the default partitioner which in this case is &quot;Sticky&quot;. everything else by default.</p>\n<p>The data sent from the producer does not have a key and I don't want it to have one, I simply want each data to go to a random partition and for these to be evenly distributed.</p>\n<p>However I have a result similar to this, where one partition is way above the others\n<img src=\"https://i.stack.imgur.com/E8pCK.png\" alt=\"Muestra\" /></p>\n<p>As a result of this I have 2 questions.</p>\n<ul>\n<li>Why did this happen?</li>\n<li>How can I make the partitions to be equal again?</li>\n</ul>\n<p>I have tried to create a custom partitioner that looks at the size of each partition and assigns the data where it has less data. is this possible?</p>\n"},{"tags":["java","schema","xsd","jaxb"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1260521170,"post_id":1881712,"comment_id":1787125,"body_markdown":"Your `.xjb` approach is the correct one, and should work. Does XJC just ignore it, or does it generate the wrong thing?","body":"Your <code>.xjb</code> approach is the correct one, and should work. Does XJC just ignore it, or does it generate the wrong thing?"},{"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"score":0,"creation_date":1260539098,"post_id":1881712,"comment_id":1788703,"body_markdown":"Using the above .xjb approach, I get the following error in my jaxb compile:\n\n    [jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.","body":"Using the above .xjb approach, I get the following error in my jaxb compile:      [jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings."}],"answers":[{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1260479062,"creation_date":1260479062,"answer_id":1884013,"question_id":1881712,"body_markdown":"Have you looked at example here (Customized mapping of HashMap):\r\nhttp://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html\r\n\r\nNeed to create custom XmlAdapter I&#39;m afraid.\r\n","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Have you looked at example here (Customized mapping of HashMap):\n<a href=\"http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html</a></p>\n\n<p>Need to create custom XmlAdapter I'm afraid.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1401824918,"creation_date":1260552414,"answer_id":1889584,"question_id":1881712,"body_markdown":"Your XJC file is using the &quot;standard&quot; `javaType` directive, which I believe is limited to converting String values to and from a representative java type. As such, it&#39;s only suitable for converting simple element and attribute content.\r\n\r\nThe XJC tool provides an enhanced version of `javaType`, which in theory should be able to handle more complex structures.  Unfortunately, this has yet to be implemented:\r\n\r\n[https://java.net/jira/browse/JAXB-209][1] (unresolved)\r\n\r\n&gt; For instance, being able to map a\r\n&gt; schema type to a HashMap might  be a\r\n&gt; likely requirement for those using\r\n&gt; model driven design/implementation. \r\n&gt; AFAICS, this is not possible today. \r\n&gt; Therefore, one must manually edit the \r\n&gt; generated code.\r\n\r\nLooks like you&#39;re out of luck.\r\n\r\n\r\n  [1]: https://java.net/jira/browse/JAXB-209","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Your XJC file is using the \"standard\" <code>javaType</code> directive, which I believe is limited to converting String values to and from a representative java type. As such, it's only suitable for converting simple element and attribute content.</p>\n\n<p>The XJC tool provides an enhanced version of <code>javaType</code>, which in theory should be able to handle more complex structures.  Unfortunately, this has yet to be implemented:</p>\n\n<p><a href=\"https://java.net/jira/browse/JAXB-209\" rel=\"nofollow noreferrer\">https://java.net/jira/browse/JAXB-209</a> (unresolved)</p>\n\n<blockquote>\n  <p>For instance, being able to map a\n  schema type to a HashMap might  be a\n  likely requirement for those using\n  model driven design/implementation. \n  AFAICS, this is not possible today. \n  Therefore, one must manually edit the \n  generated code.</p>\n</blockquote>\n\n<p>Looks like you're out of luck.</p>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701681631,"creation_date":1701681631,"answer_id":77598326,"question_id":1881712,"body_markdown":"Very old question but new answer possible when this [PR](https://github.com/eclipse-ee4j/jaxb-ri/pull/1781) will be merged.\r\n\r\nWith this new PR, `xjc:javaType` will now handle generic types.\r\n\r\nIt has been tested with jaxb-tools&#39; maven-plugin with the following example syntax :\r\n```xml\r\n&lt;jaxb:bindings node=&quot;.//xsd:attribute[@name=&#39;subRatings&#39;]&quot;&gt;\r\n  &lt;jaxb:property&gt;\r\n    &lt;jaxb:baseType&gt;\r\n      &lt;xjc:javaType name=&quot;java.util.List&amp;lt;java.lang.String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\r\n    &lt;/jaxb:baseType&gt;\r\n  &lt;/jaxb:property&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nThe generated java class property looks like below with no more `import java.util.List&lt;String&gt;;` erroneous import\r\n\r\n```java\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\n@XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\nprotected List&lt;String&gt; subRatings;\r\n```\r\n\r\nIt fixes the [#209](https://github.com/eclipse-ee4j/jaxb-ri/issues/209) and [#737](https://github.com/eclipse-ee4j/jaxb-ri/issues/737) issues in jaxb-ri repository","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Very old question but new answer possible when this <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">PR</a> will be merged.</p>\n<p>With this new PR, <code>xjc:javaType</code> will now handle generic types.</p>\n<p>It has been tested with jaxb-tools' maven-plugin with the following example syntax :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jaxb:bindings node=&quot;.//xsd:attribute[@name='subRatings']&quot;&gt;\n  &lt;jaxb:property&gt;\n    &lt;jaxb:baseType&gt;\n      &lt;xjc:javaType name=&quot;java.util.List&amp;lt;java.lang.String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\n    &lt;/jaxb:baseType&gt;\n  &lt;/jaxb:property&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>The generated java class property looks like below with no more <code>import java.util.List&lt;String&gt;;</code> erroneous import</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAttribute(name = &quot;subRatings&quot;)\n@XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\nprotected List&lt;String&gt; subRatings;\n</code></pre>\n<p>It fixes the <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/209\" rel=\"nofollow noreferrer\">#209</a> and <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/737\" rel=\"nofollow noreferrer\">#737</a> issues in jaxb-ri repository</p>\n"}],"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17207,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1889584,"answer_count":3,"score":17,"last_activity_date":1701681631,"creation_date":1260458626,"question_id":1881712,"body_markdown":"I have an existing XML schema that contains a type that I would like to map to a Java Map of some sort using JAXB. My build process takes the schema and creates the beans. I would like to customize this process by having one of the complexTypes in my schema map to a java.util.Map. I&#39;ve read somewhere that JAXB &quot;can&#39;t do interfaces.&quot; I&#39;m not sure if that applies in this case, but if so I&#39;d be fine with it mapping to a HashMap. Also, it doesn&#39;t necessarily have to be the complexType that maps to a Map, it could be an element if that&#39;s what&#39;s required.\r\n\r\nI control my JAXB generation using a .xjb file, so I&#39;m looking for some &lt;code&gt;&amp;lt;jaxb:bindings&amp;gt;&lt;/code&gt; to put in there. I&#39;ve tried the following, but it does not work:\r\n\r\n\t&lt;jaxb:bindings schemaLocation=&quot;myschema.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n\t\t&lt;jaxb:globalBindings&gt;\r\n\t\t\t&lt;jaxb:serializable uid=&quot;1&quot;/&gt;\r\n\t\t&lt;/jaxb:globalBindings&gt;\r\n\t\t&lt;jaxb:schemaBindings&gt;\r\n\t\t\t&lt;jaxb:package name=&quot;com.myschema.client.types&quot;/&gt;\r\n\t\t&lt;/jaxb:schemaBindings&gt;\r\n\t\t&lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;MapType&#39;]&quot;&gt;\r\n    \t\t\t&lt;jaxb:javaType name=&quot;java.util.HashMap&quot;\r\n\t\t\t\tparseMethod=&quot;com.myschema.common.MapConverter.parseObjectToMap&quot;\r\n\t\t\t\tprintMethod=&quot;com.myschema.common.MapConverter.printMapToObject&quot; /&gt;\r\n\t\t&lt;/jaxb:bindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\n**Edit:** I&#39;ve added more detail on the above binding that I&#39;ve already tried. It generates the following error during schema compile:\r\n\r\n\t[jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n\r\n---\r\n\r\n&lt;code&gt;&amp;lt;jaxb:javaType&amp;gt;&lt;/code&gt; will not work because it can only be used for [mapping between XML Schema primitives and Java types][1]. Since I want to map between a complex type and a Java type, I cannot use this.\r\n\r\n\r\n  [1]: http://fusesource.com/docs/framework/2.2/jaxws/JAXWSCustomTypeMappingJavaType.html","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>I have an existing XML schema that contains a type that I would like to map to a Java Map of some sort using JAXB. My build process takes the schema and creates the beans. I would like to customize this process by having one of the complexTypes in my schema map to a java.util.Map. I've read somewhere that JAXB \"can't do interfaces.\" I'm not sure if that applies in this case, but if so I'd be fine with it mapping to a HashMap. Also, it doesn't necessarily have to be the complexType that maps to a Map, it could be an element if that's what's required.</p>\n\n<p>I control my JAXB generation using a .xjb file, so I'm looking for some <code>&lt;jaxb:bindings&gt;</code> to put in there. I've tried the following, but it does not work:</p>\n\n<pre><code>&lt;jaxb:bindings schemaLocation=\"myschema.xsd\" node=\"/xs:schema\"&gt;\n    &lt;jaxb:globalBindings&gt;\n        &lt;jaxb:serializable uid=\"1\"/&gt;\n    &lt;/jaxb:globalBindings&gt;\n    &lt;jaxb:schemaBindings&gt;\n        &lt;jaxb:package name=\"com.myschema.client.types\"/&gt;\n    &lt;/jaxb:schemaBindings&gt;\n    &lt;jaxb:bindings node=\"//xs:complexType[@name='MapType']\"&gt;\n            &lt;jaxb:javaType name=\"java.util.HashMap\"\n            parseMethod=\"com.myschema.common.MapConverter.parseObjectToMap\"\n            printMethod=\"com.myschema.common.MapConverter.printMapToObject\" /&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> I've added more detail on the above binding that I've already tried. It generates the following error during schema compile:</p>\n\n<pre><code>[jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n\n<hr>\n\n<p><code>&lt;jaxb:javaType&gt;</code> will not work because it can only be used for <a href=\"http://fusesource.com/docs/framework/2.2/jaxws/JAXWSCustomTypeMappingJavaType.html\" rel=\"noreferrer\">mapping between XML Schema primitives and Java types</a>. Since I want to map between a complex type and a Java type, I cannot use this.</p>\n"},{"tags":["java","android","android-studio","command-line-interface","android-virtual-device"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701682094,"post_id":77598269,"comment_id":136801486,"body_markdown":"*Now its throwing this exception:* I only see a warning","body":"<i>Now its throwing this exception:</i> I only see a warning"},{"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"score":0,"creation_date":1701685494,"post_id":77598269,"comment_id":136802044,"body_markdown":"org.xml.sax.SAXParseException; lineNumber: 141; columnNumber: 253; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected","body":"org.xml.sax.SAXParseException; lineNumber: 141; columnNumber: 253; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected"}],"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701681243,"creation_date":1701680969,"question_id":77598269,"body_markdown":"I am trying to create avd with avdmanager commands. First it was throwing an xml exception because I had JAVA 17. I downgraded JAVA to JAVA 8. Then ran the command:\r\n\r\n    avdmanager create avd --force --name testAVD --abi google_apis/x86_64 --package &#39;system-images;android-23;google_apis;x86_64&#39;\r\n\r\nNow its throwing this exception:\r\n\r\n    Warning: cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected.\r\n\r\nContext: I am creating avd from command line as we have CLI setup on Github and I want to create AVD on github runner to run appium tests, i need emulators running\r\n\r\nDowngraded JAVA version to 8. Downgraded Gradle to 4.0.2. Unable to Downgrade Gradle Plugin Version","title":"Creating avd from command line","body":"<p>I am trying to create avd with avdmanager commands. First it was throwing an xml exception because I had JAVA 17. I downgraded JAVA to JAVA 8. Then ran the command:</p>\n<pre><code>avdmanager create avd --force --name testAVD --abi google_apis/x86_64 --package 'system-images;android-23;google_apis;x86_64'\n</code></pre>\n<p>Now its throwing this exception:</p>\n<pre><code>Warning: cvc-complex-type.2.4.a: Invalid content was found starting with element 'extension-level'. One of '{layoutlib}' is expected.\n</code></pre>\n<p>Context: I am creating avd from command line as we have CLI setup on Github and I want to create AVD on github runner to run appium tests, i need emulators running</p>\n<p>Downgraded JAVA version to 8. Downgraded Gradle to 4.0.2. Unable to Downgrade Gradle Plugin Version</p>\n"},{"tags":["java","xsd","xml-parsing","jaxb","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684542609,"post_id":76293003,"comment_id":134537269,"body_markdown":"_&quot;jaxb adds this import to the class: `import java.util.List&lt;String&gt;;`&quot;_ - Generating invalid Java code would indicate a bug, no?  You might want to check the bug database to see if this issue is listed?","body":"<i>&quot;jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code>&quot;</i> - Generating invalid Java code would indicate a bug, no?  You might want to check the bug database to see if this issue is listed?"},{"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"score":0,"creation_date":1684636309,"post_id":76293003,"comment_id":134545364,"body_markdown":"What is the delimiter of the list supposed to be?","body":"What is the delimiter of the list supposed to be?"},{"owner":{"account_id":3753577,"reputation":161,"user_id":3120518,"accept_rate":83,"display_name":"CjRobin"},"score":0,"creation_date":1684763909,"post_id":76293003,"comment_id":134560228,"body_markdown":"@FLUXparticle comma (&quot;,&quot;) delimited.","body":"@FLUXparticle comma (&quot;,&quot;) delimited."},{"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"score":0,"creation_date":1684774389,"post_id":76293003,"comment_id":134562688,"body_markdown":"Then I would say it is not possible to describe such a format in XML schema. At least not in a way that the list is handled automatically. In XML Schema a list is always divided by spaces.","body":"Then I would say it is not possible to describe such a format in XML schema. At least not in a way that the list is handled automatically. In XML Schema a list is always divided by spaces."},{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701644240,"post_id":76293003,"comment_id":136798258,"body_markdown":"Hello there : this is due to this issue in jaxb-ri : https://github.com/eclipse-ee4j/jaxb-ri/issues/737. Good news is I found a way to fix it. Will provide PR for this and update my below answer with this reference.","body":"Hello there : this is due to this issue in jaxb-ri : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/737\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/issues/737</a>. Good news is I found a way to fix it. Will provide PR for this and update my below answer with this reference."},{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701681254,"post_id":76293003,"comment_id":136801345,"body_markdown":"PR provided : https://github.com/eclipse-ee4j/jaxb-ri/pull/1781","body":"PR provided : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/pull/1781</a>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701681226,"creation_date":1699887195,"answer_id":77474776,"question_id":76293003,"body_markdown":"**New solution**\r\n\r\n*See initial answer first before new solution is released*\r\n\r\nNew solution waiting in PR provided in JAXB-RI : https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\r\n\r\nIt&#39;ll fix the generic not handled in parsing the expected `xjc:javaType name` tag : expecting `java.util.List&amp;lt;java.lang.String&amp;gt;` will now generate the good imports tags and good java type for the property.\r\n\r\n\r\n**Initial answer**\r\n\r\nDon&#39;t know if you found any solution to your problem but maybe this could work :\r\n\r\n* Create a new Java Class that extends the `LinkedList&lt;String&gt;` class to mask generics from\r\n\r\n```java\r\npublic class ListString extends LinkedList&lt;String&gt; {\r\n\r\n}\r\n```\r\n\r\n* Create the Adapter (inspired by the class you used)\r\n\r\n```java\r\npublic class CommaDelimitedStringAdapter extends\r\n    XmlAdapter&lt;String, ListString&gt; {\r\n\r\n\t@Override\r\n\tpublic String marshal(ListString value) throws Exception {\r\n\t\tif (value == null) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\treturn StringUtils.join(value.iterator(), &quot;, &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ListString unmarshal(String text) throws Exception {\r\n\r\n\t\tif (text == null) {\r\n\t\t\treturn null;\r\n\t\t} else\r\n\r\n\t\t{\r\n\t\t\tfinal ListString value = new ListString();\r\n\t\t\tfinal String[] items = StringUtils.split(text, &#39;,&#39;);\r\n\t\t\tfor (String item : items) {\r\n\t\t\t\tfinal String trimmedItem = item.trim();\r\n\t\t\t\tif (!StringUtils.isEmpty(trimmedItem)) {\r\n\t\t\t\t\tvalue.add(trimmedItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n* Adapt your binding file to use this `xjc:javaType name=&quot;fully.qualified.package.ListString&quot;` using your new adapter you created\r\n\r\nThis will generate the following attribute :\r\n\r\n```java\r\n    @XmlAttribute(name = &quot;subRatings&quot;)\r\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\n    protected ListString subRatings;\r\n```\r\n\r\nUnmarshalling is OK [see here][1], and you&#39;re still able to navigate through the List items without any cast.\r\n\r\nThe only cons I found is that you have to choose the implementation of `List` you&#39;re using (I choose `LinkedList` since this is the one used in `unmarshalling` method of the adapter but it will work with any other type).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PRY9d.png","title":"How to add custom String to List&lt;String&gt; jaxb xml adapter to an xsd generated class attribute","body":"<p><strong>New solution</strong></p>\n<p><em>See initial answer first before new solution is released</em></p>\n<p>New solution waiting in PR provided in JAXB-RI : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/pull/1781</a></p>\n<p>It'll fix the generic not handled in parsing the expected <code>xjc:javaType name</code> tag : expecting <code>java.util.List&amp;lt;java.lang.String&amp;gt;</code> will now generate the good imports tags and good java type for the property.</p>\n<p><strong>Initial answer</strong></p>\n<p>Don't know if you found any solution to your problem but maybe this could work :</p>\n<ul>\n<li>Create a new Java Class that extends the <code>LinkedList&lt;String&gt;</code> class to mask generics from</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListString extends LinkedList&lt;String&gt; {\n\n}\n</code></pre>\n<ul>\n<li>Create the Adapter (inspired by the class you used)</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommaDelimitedStringAdapter extends\n    XmlAdapter&lt;String, ListString&gt; {\n\n    @Override\n    public String marshal(ListString value) throws Exception {\n        if (value == null) {\n            return null;\n        } else {\n            return StringUtils.join(value.iterator(), &quot;, &quot;);\n        }\n    }\n\n    @Override\n    public ListString unmarshal(String text) throws Exception {\n\n        if (text == null) {\n            return null;\n        } else\n\n        {\n            final ListString value = new ListString();\n            final String[] items = StringUtils.split(text, ',');\n            for (String item : items) {\n                final String trimmedItem = item.trim();\n                if (!StringUtils.isEmpty(trimmedItem)) {\n                    value.add(trimmedItem);\n                }\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Adapt your binding file to use this <code>xjc:javaType name=&quot;fully.qualified.package.ListString&quot;</code> using your new adapter you created</li>\n</ul>\n<p>This will generate the following attribute :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @XmlAttribute(name = &quot;subRatings&quot;)\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\n    protected ListString subRatings;\n</code></pre>\n<p>Unmarshalling is OK <a href=\"https://i.stack.imgur.com/PRY9d.png\" rel=\"nofollow noreferrer\">see here</a>, and you're still able to navigate through the List items without any cast.</p>\n<p>The only cons I found is that you have to choose the implementation of <code>List</code> you're using (I choose <code>LinkedList</code> since this is the one used in <code>unmarshalling</code> method of the adapter but it will work with any other type).</p>\n"}],"owner":{"account_id":3753577,"reputation":161,"user_id":3120518,"accept_rate":83,"display_name":"CjRobin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701681226,"creation_date":1684539874,"question_id":76293003,"body_markdown":"We have been using jaxb for a long time to unmarshal XML into POJOs that we can use within our system. However, only recently I found an issue with how jaxb is parsing the xml provided data and I would like to override that behavior by implementing a custom XmlAdapter and forcing jaxb to use it.\r\n\r\n\r\nLet&#39;s say we have a complex field definition like the below in our xsd:\r\n```\r\n&lt;xs:complexType name=&quot;ratingType&quot;&gt;\r\n    &lt;xs:simpleContent&gt;\r\n      &lt;xs:extension base=&quot;xs:string&quot;&gt;\r\n        &lt;xs:attribute name=&quot;scheme&quot; use=&quot;required&quot; type=&quot;xs:NMTOKEN&quot;/&gt;\r\n        &lt;xs:attribute name=&quot;subRatings&quot; use=&quot;optional&quot;&gt;\r\n          &lt;xs:simpleType&gt;\r\n            &lt;xs:list itemType=&#39;xs:string&#39;/&gt;\r\n          &lt;/xs:simpleType&gt;\r\n        &lt;/xs:attribute&gt;\r\n      &lt;/xs:extension&gt;\r\n    &lt;/xs:simpleContent&gt;\r\n  &lt;/xs:complexType&gt;\r\n```\r\n\r\nWithout making any changes, jaxb creates the following java class attribute:\r\n```\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\nprotected List&lt;String&gt;subRatings;\r\n```\r\n\r\nThis has been generally ok, however, due to new client requirements the data we get on this field will change.\r\n\r\nCurrent use case:\r\n`&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Violence&quot;&gt;MA15+&lt;/rating&gt;`\r\nThis turns into subRatings=[&quot;Violence&quot;], which is great.\r\n\r\nNew use case:\r\n`&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Coarse Language&quot;&gt;MA15+&lt;/rating&gt;`\r\nThis, however, turns into subRatings=[&quot;Coarse&quot;, &quot;Language&quot;], which is not right and causes issues downstream as that is not a recognized subRating. I expect it to be subRatings=[&quot;Coarse Language&quot;] instead. \r\n\r\nI have tried a few things, but so far the one that gets me closest to what I want is using jaxb bindings like the below:\r\n```\r\n&lt;jxb:bindings schemaLocation=&quot;media.xsd&quot; node=&quot;//xs:complexType[@name=&#39;ratingType&#39;]&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;.//xs:attribute[@name=&#39;subRatings&#39;]&quot;&gt;\r\n            &lt;jxb:property&gt;\r\n                &lt;jxb:baseType&gt;\r\n                    &lt;xjc:javaType name=&quot;java.util.List&amp;lt;String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb2_commons.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\r\n                &lt;/jxb:baseType&gt;\r\n            &lt;/jxb:property&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n```\r\n\r\nThe generated class has the following attribute definition:\r\n```\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\n    protected List&lt;String&gt;subRatings;\r\n```\r\nAll good so far. However, for some reason, jaxb adds this import to the class: `import java.util.List&lt;String&gt;;` which causes it to not compile. \r\n\r\nOther thing that I tried was removing the specific type in the javaType name definition, like `java.util.List` but that causes jaxb to create the field with a raw type like `protected List subRatings;` and that&#39;s not only ugly but it causes issues downstream as now anyone using this class needs to cast the subrating object making the code smelly. Any ideas how to overcome this? Keep in mind that I cannot modify the generated classes as they are built at compile time.\r\n","title":"How to add custom String to List&lt;String&gt; jaxb xml adapter to an xsd generated class attribute","body":"<p>We have been using jaxb for a long time to unmarshal XML into POJOs that we can use within our system. However, only recently I found an issue with how jaxb is parsing the xml provided data and I would like to override that behavior by implementing a custom XmlAdapter and forcing jaxb to use it.</p>\n<p>Let's say we have a complex field definition like the below in our xsd:</p>\n<pre><code>&lt;xs:complexType name=&quot;ratingType&quot;&gt;\n    &lt;xs:simpleContent&gt;\n      &lt;xs:extension base=&quot;xs:string&quot;&gt;\n        &lt;xs:attribute name=&quot;scheme&quot; use=&quot;required&quot; type=&quot;xs:NMTOKEN&quot;/&gt;\n        &lt;xs:attribute name=&quot;subRatings&quot; use=&quot;optional&quot;&gt;\n          &lt;xs:simpleType&gt;\n            &lt;xs:list itemType='xs:string'/&gt;\n          &lt;/xs:simpleType&gt;\n        &lt;/xs:attribute&gt;\n      &lt;/xs:extension&gt;\n    &lt;/xs:simpleContent&gt;\n  &lt;/xs:complexType&gt;\n</code></pre>\n<p>Without making any changes, jaxb creates the following java class attribute:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\nprotected List&lt;String&gt;subRatings;\n</code></pre>\n<p>This has been generally ok, however, due to new client requirements the data we get on this field will change.</p>\n<p>Current use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Violence&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis turns into subRatings=[&quot;Violence&quot;], which is great.</p>\n<p>New use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Coarse Language&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis, however, turns into subRatings=[&quot;Coarse&quot;, &quot;Language&quot;], which is not right and causes issues downstream as that is not a recognized subRating. I expect it to be subRatings=[&quot;Coarse Language&quot;] instead.</p>\n<p>I have tried a few things, but so far the one that gets me closest to what I want is using jaxb bindings like the below:</p>\n<pre><code>&lt;jxb:bindings schemaLocation=&quot;media.xsd&quot; node=&quot;//xs:complexType[@name='ratingType']&quot;&gt;\n        &lt;jxb:bindings node=&quot;.//xs:attribute[@name='subRatings']&quot;&gt;\n            &lt;jxb:property&gt;\n                &lt;jxb:baseType&gt;\n                    &lt;xjc:javaType name=&quot;java.util.List&amp;lt;String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb2_commons.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\n                &lt;/jxb:baseType&gt;\n            &lt;/jxb:property&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>The generated class has the following attribute definition:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\n    protected List&lt;String&gt;subRatings;\n</code></pre>\n<p>All good so far. However, for some reason, jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code> which causes it to not compile.</p>\n<p>Other thing that I tried was removing the specific type in the javaType name definition, like <code>java.util.List</code> but that causes jaxb to create the field with a raw type like <code>protected List subRatings;</code> and that's not only ugly but it causes issues downstream as now anyone using this class needs to cast the subrating object making the code smelly. Any ideas how to overcome this? Keep in mind that I cannot modify the generated classes as they are built at compile time.</p>\n"},{"tags":["java","windows","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":7096020,"reputation":884,"user_id":5429584,"display_name":"Mike Petrichenko"},"score":0,"creation_date":1701682336,"post_id":77598257,"comment_id":136801525,"body_markdown":"I do not think so. Java is not very popular on Windows Desktop.","body":"I do not think so. Java is not very popular on Windows Desktop."},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1701692433,"post_id":77598257,"comment_id":136803185,"body_markdown":"Since BLE on Windows is only exposed through their system platform API, you will need to use some Java &lt;-&gt; Native code bridge. See https://stackoverflow.com/questions/606820/is-there-a-java-library-to-access-the-native-windows-api.","body":"Since BLE on Windows is only exposed through their system platform API, you will need to use some Java &lt;-&gt; Native code bridge. See <a href=\"https://stackoverflow.com/questions/606820/is-there-a-java-library-to-access-the-native-windows-api\" title=\"is there a java library to access the native windows api\">stackoverflow.com/questions/606820/&hellip;</a>."}],"owner":{"account_id":10283369,"reputation":1,"user_id":7587591,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701684227,"answer_count":0,"score":-1,"last_activity_date":1701680833,"creation_date":1701680833,"question_id":77598257,"body_markdown":"Normally Windows desktop applications (JavaSE based, not JavaScript) should be developed to be working with regular BLE v4-5 dongles, without other bridges.\r\nTried MCU boards with COM-port bridge, but it is custom BLE-receiver.\r\n\r\nIs any JavaSE library available now in 2023 for BLE under Windows ?\r\n","title":"Any Java SE BLE library for Windows 10+ available in 2023?","body":"<p>Normally Windows desktop applications (JavaSE based, not JavaScript) should be developed to be working with regular BLE v4-5 dongles, without other bridges.\nTried MCU boards with COM-port bridge, but it is custom BLE-receiver.</p>\n<p>Is any JavaSE library available now in 2023 for BLE under Windows ?</p>\n"},{"tags":["java","constructor","boolean"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1701676923,"post_id":77597911,"comment_id":136800742,"body_markdown":"Hello and welcome. Please explain what you expect to happen (and why) and what happens instead.","body":"Hello and welcome. Please explain what you expect to happen (and why) and what happens instead."},{"owner":{"account_id":30060360,"reputation":1,"user_id":23036601,"display_name":"Kucher Stanislav"},"score":0,"creation_date":1701678292,"post_id":77597911,"comment_id":136800925,"body_markdown":"I need my method destroyEngine() return false if distance &gt;= 200000. and boolean isReadyToDrive will false after =&gt; 200000 distance","body":"I need my method destroyEngine() return false if distance &gt;= 200000. and boolean isReadyToDrive will false after =&gt; 200000 distance"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701680764,"creation_date":1701680764,"answer_id":77598248,"question_id":77597911,"body_markdown":"In your second constructor (the one you&#39;re actually using in your `main` method)\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\r\n        // previous statements omitted\r\n        this.isReadyToDrive = destroyEngine();\r\n        this.distance = distance;\r\n    }\r\n\r\nThe `destroyEngine` methods uses the instance variable `distance` to decide whether to return `true` or `false`. But, as currently written, the `distance` instance variable still has its default value of 0.\r\n\r\nYou have to give it a value *before* calling `destroyEngine`.\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\r\n        // previous statements omitted\r\n        this.distance = distance;\r\n        this.isReadyToDrive = destroyEngine();\r\n    }","title":"My method in Java return always true or false without what inside my if else","body":"<p>In your second constructor (the one you're actually using in your <code>main</code> method)</p>\n<pre><code>public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\n    // previous statements omitted\n    this.isReadyToDrive = destroyEngine();\n    this.distance = distance;\n}\n</code></pre>\n<p>The <code>destroyEngine</code> methods uses the instance variable <code>distance</code> to decide whether to return <code>true</code> or <code>false</code>. But, as currently written, the <code>distance</code> instance variable still has its default value of 0.</p>\n<p>You have to give it a value <em>before</em> calling <code>destroyEngine</code>.</p>\n<pre><code>public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\n    // previous statements omitted\n    this.distance = distance;\n    this.isReadyToDrive = destroyEngine();\n}\n</code></pre>\n"}],"owner":{"account_id":30060360,"reputation":1,"user_id":23036601,"display_name":"Kucher Stanislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701693101,"answer_count":1,"score":0,"last_activity_date":1701680764,"creation_date":1701676508,"question_id":77597911,"body_markdown":"Im just start learning Java and I cant figure out what I do wrong in my method destroyEngine(). If you can help me I will very appreciate you. Thank you for your attention to my code. I tried replaced isReadyToDrive. Created new variable brokenEngine. But looks like I don&#39;t call my int distance correct.\r\nMy main.\r\n\r\n```java\r\npublic class CarManager {\r\n    public static void main(String[] args) {\r\n        Motorcycle suzuki = new Motorcycle(&quot;Suzuki GSX-R1000&quot;, 2021,16000, 600,\r\n                &quot; black&quot;, &quot;diesel&quot;, false, 0);\r\n        Motorcycle yamaha = new Motorcycle(&quot;Yamaha FZ1&quot;, 2007, 9000, 700, &quot;orangE &quot;,\r\n                &quot;gas&quot;, false, 301000);\r\n        System.out.println(suzuki);\r\n        System.out.println(yamaha);\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Motorcycle {\r\n    String name;\r\n    int yearOfProduction;\r\n    int price;\r\n    int weight;\r\n    Color color;\r\n    String engineType;\r\n    boolean isReadyToDrive;\r\n    int distance;\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, Color color, String engineType,\r\n            boolean isReadyToDrive) {\r\n        this.name = name;\r\n        this.yearOfProduction = yearOfProduction;\r\n        this.price = price;\r\n        this.weight = weight;\r\n        this.color = color;\r\n        this.engineType = engineType;\r\n        this.isReadyToDrive = isReadyToDrive;\r\n    }\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType,\r\n            boolean isReadyToDrive, int distance) {\r\n        this.name = name;\r\n        this.yearOfProduction = yearOfProduction;\r\n        this.price = price;\r\n        this.weight = weight;\r\n        String colorTemp = color.toUpperCase();\r\n        this.color = Color.valueOf(colorTemp.replace(&quot; &quot;, &quot;&quot;));\r\n        this.engineType = engineType;\r\n        this.isReadyToDrive = destroyEngine();\r\n        this.distance = distance;\r\n    }\r\n\r\n    public boolean repair() {\r\n        isReadyToDrive = true;\r\n        return isReadyToDrive;\r\n    }\r\n\r\n    public boolean brokenEngine;\r\n\r\n    public boolean destroyEngine() {\r\n        if (distance &gt;= 200000) {\r\n            brokenEngine = false;\r\n        } else {\r\n            brokenEngine = true;\r\n        }\r\n        return brokenEngine;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Motorcycle [name=&quot; + this.name + &quot;, &quot; + &quot;yearOfProduction=&quot; + yearOfProduction + &quot;, &quot; + &quot;price=&quot;\r\n                + this.price + &quot;, &quot; +\r\n                &quot; weight=&quot; + this.weight + &quot;, &quot; + &quot;color=&quot; + this.color + &quot;, &quot; + &quot; engineType=&quot; + this.engineType + &quot;, &quot;\r\n                + &quot;isReadyToDrive=&quot; + this.isReadyToDrive\r\n                + &quot;, &quot; + &quot;distance=&quot; + distance + &quot;]&quot;;\r\n    }\r\n}\r\n```","title":"My method in Java return always true or false without what inside my if else","body":"<p>Im just start learning Java and I cant figure out what I do wrong in my method destroyEngine(). If you can help me I will very appreciate you. Thank you for your attention to my code. I tried replaced isReadyToDrive. Created new variable brokenEngine. But looks like I don't call my int distance correct.\nMy main.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarManager {\n    public static void main(String[] args) {\n        Motorcycle suzuki = new Motorcycle(&quot;Suzuki GSX-R1000&quot;, 2021,16000, 600,\n                &quot; black&quot;, &quot;diesel&quot;, false, 0);\n        Motorcycle yamaha = new Motorcycle(&quot;Yamaha FZ1&quot;, 2007, 9000, 700, &quot;orangE &quot;,\n                &quot;gas&quot;, false, 301000);\n        System.out.println(suzuki);\n        System.out.println(yamaha);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Motorcycle {\n    String name;\n    int yearOfProduction;\n    int price;\n    int weight;\n    Color color;\n    String engineType;\n    boolean isReadyToDrive;\n    int distance;\n\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, Color color, String engineType,\n            boolean isReadyToDrive) {\n        this.name = name;\n        this.yearOfProduction = yearOfProduction;\n        this.price = price;\n        this.weight = weight;\n        this.color = color;\n        this.engineType = engineType;\n        this.isReadyToDrive = isReadyToDrive;\n    }\n\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType,\n            boolean isReadyToDrive, int distance) {\n        this.name = name;\n        this.yearOfProduction = yearOfProduction;\n        this.price = price;\n        this.weight = weight;\n        String colorTemp = color.toUpperCase();\n        this.color = Color.valueOf(colorTemp.replace(&quot; &quot;, &quot;&quot;));\n        this.engineType = engineType;\n        this.isReadyToDrive = destroyEngine();\n        this.distance = distance;\n    }\n\n    public boolean repair() {\n        isReadyToDrive = true;\n        return isReadyToDrive;\n    }\n\n    public boolean brokenEngine;\n\n    public boolean destroyEngine() {\n        if (distance &gt;= 200000) {\n            brokenEngine = false;\n        } else {\n            brokenEngine = true;\n        }\n        return brokenEngine;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Motorcycle [name=&quot; + this.name + &quot;, &quot; + &quot;yearOfProduction=&quot; + yearOfProduction + &quot;, &quot; + &quot;price=&quot;\n                + this.price + &quot;, &quot; +\n                &quot; weight=&quot; + this.weight + &quot;, &quot; + &quot;color=&quot; + this.color + &quot;, &quot; + &quot; engineType=&quot; + this.engineType + &quot;, &quot;\n                + &quot;isReadyToDrive=&quot; + this.isReadyToDrive\n                + &quot;, &quot; + &quot;distance=&quot; + distance + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","pom.xml","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":1,"creation_date":1701634393,"post_id":77595932,"comment_id":136797347,"body_markdown":"What version of Java are you using? OpenRewrite requires at least Java 8, and the message seems to indicate you&#39;re using a lower version, based on: https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html","body":"What version of Java are you using? OpenRewrite requires at least Java 8, and the message seems to indicate you&#39;re using a lower version, based on: <a href=\"https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html</a>"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1701641658,"post_id":77595932,"comment_id":136797990,"body_markdown":"I have tried compiling with java 8, same results","body":"I have tried compiling with java 8, same results"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1701673392,"post_id":77595932,"comment_id":136800323,"body_markdown":"The unsupported version is for JDK 8 which means you are not using JDK 8  try to do this: `mvn --version`...","body":"The unsupported version is for JDK 8 which means you are not using JDK 8  try to do this: <code>mvn --version</code>..."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1701677514,"post_id":77595932,"comment_id":136800820,"body_markdown":"Impossible, doesn&#39;t works from intellij too.","body":"Impossible, doesn&#39;t works from intellij too."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701688163,"post_id":77595932,"comment_id":136802484,"body_markdown":"You can execute the cli parts from Intellij as well. ..also you should be able to do that on plain command line...","body":"You can execute the cli parts from Intellij as well. ..also you should be able to do that on plain command line..."}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701679527,"creation_date":1701679208,"answer_id":77598142,"question_id":77595932,"body_markdown":"I have found it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nClicking with right and selecting &quot;Modify Run Configuration&quot;...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nChange the setting from here to Java 8 solves the problem.\r\n\r\n  [1]: https://i.stack.imgur.com/i7NXi.png\r\n  [2]: https://i.stack.imgur.com/gQjPG.png","title":"org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version 52.0","body":"<p>I have found it.</p>\n<p><a href=\"https://i.stack.imgur.com/i7NXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7NXi.png\" alt=\"enter image description here\" /></a></p>\n<p>Clicking with right and selecting &quot;Modify Run Configuration&quot;...</p>\n<p><a href=\"https://i.stack.imgur.com/gQjPG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQjPG.png\" alt=\"enter image description here\" /></a></p>\n<p>Change the setting from here to Java 8 solves the problem.</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77598142,"answer_count":1,"score":0,"last_activity_date":1701679527,"creation_date":1701632904,"question_id":77595932,"body_markdown":"I am using OpenRewrite on my project, in IntelliJ. \r\n\r\nThis is the maven configuration for the plugin\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.8.1&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;activeRecipes&gt;\r\n\t\t\t\t&lt;recipe&gt;org.openrewrite.java.migrate.UpgradeToJava11&lt;/recipe&gt;\r\n\t\t\t&lt;/activeRecipes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWhen I run the `rewrite:run` task, both by console and IntelliJ, it gives me this error\r\n\r\n&gt; Execution default-cli of goal\r\n&gt; org.openrewrite.maven:rewrite-maven-plugin:5.8.1:run failed: Unable to\r\n&gt; load  the mojo &#39;run&#39; in the plugin\r\n&gt; &#39;org.openrewrite.maven:rewrite-maven-plugin:5.8.1&#39; due to an API\r\n&gt; incompatibility:\r\n&gt; org.codehaus.plexus.component.repository.exception.ComponentLookupException:\r\n&gt; org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version\r\n&gt; 52.0\r\n\r\nI&#39;ve tried to change Java version, but with no results. I cannot find the problem.","title":"org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version 52.0","body":"<p>I am using OpenRewrite on my project, in IntelliJ.</p>\n<p>This is the maven configuration for the plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;activeRecipes&gt;\n            &lt;recipe&gt;org.openrewrite.java.migrate.UpgradeToJava11&lt;/recipe&gt;\n        &lt;/activeRecipes&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n            &lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I run the <code>rewrite:run</code> task, both by console and IntelliJ, it gives me this error</p>\n<blockquote>\n<p>Execution default-cli of goal\norg.openrewrite.maven:rewrite-maven-plugin:5.8.1:run failed: Unable to\nload  the mojo 'run' in the plugin\n'org.openrewrite.maven:rewrite-maven-plugin:5.8.1' due to an API\nincompatibility:\norg.codehaus.plexus.component.repository.exception.ComponentLookupException:\norg/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version\n52.0</p>\n</blockquote>\n<p>I've tried to change Java version, but with no results. I cannot find the problem.</p>\n"},{"tags":["java","android","bottomnavigationview","android-bottomsheetdialog"],"answers":[{"tags":[],"owner":{"account_id":26180226,"reputation":1,"user_id":19863732,"display_name":"Ramil Rahimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701679332,"creation_date":1701679332,"answer_id":77598158,"question_id":77591381,"body_markdown":"Adding a bottom margin to the main bottom sheet layout might help, try it","title":"How to display the BottomSheetDialogFragment above the BottomNavigationView","body":"<p>Adding a bottom margin to the main bottom sheet layout might help, try it</p>\n"}],"owner":{"account_id":25960690,"reputation":11,"user_id":19697969,"display_name":"JohnBeacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701679332,"creation_date":1701537067,"question_id":77591381,"body_markdown":"How to display the BottomSheetDialogFragment above the BottomNavigationView.\r\nTo be able to interact with the displayed BottomSheetDialogFragment as with a normal BottomSheetDialogFragment. Also, it should always be above the BottomNavigationView.\r\n\r\nI&#39;ve tried every way I can think of to realize this idea, but I can&#39;t(","title":"How to display the BottomSheetDialogFragment above the BottomNavigationView","body":"<p>How to display the BottomSheetDialogFragment above the BottomNavigationView.\nTo be able to interact with the displayed BottomSheetDialogFragment as with a normal BottomSheetDialogFragment. Also, it should always be above the BottomNavigationView.</p>\n<p>I've tried every way I can think of to realize this idea, but I can't(</p>\n"},{"tags":["java","haproxy","undertow"],"owner":{"account_id":1186947,"reputation":907,"user_id":1160721,"accept_rate":78,"display_name":"Jonhtra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701678731,"creation_date":1701678731,"question_id":77598114,"body_markdown":"I have undertow server (2.3.2) which runs on ubuntu server behind haproxy 2.6.15. This is reproducible with all default settings on haproxy so I didn&#39;t change any timeouts or settings. \r\n * When I call some endpoint on rest server, if I do it directly over rest server \r\n    http://localhost:12345/api/getSomeData, there is only debug message in log ~1 minute after request was made (Timing out idle connection) \r\n \r\n\r\n        2023-12-04 09:10:54,688 INFO  [XNIO-1 task-2] testutils.RestApi - com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user\r\n         2023-12-04 09:12:01,524 DEBUG [XNIO-1 I/O-3] protocol.ParseTimeoutUpdater - io.undertow.request\r\n       (ParseTimeoutUpdater.java:151) - Timing out idle connection from\r\n       /[0:0:0:0:0:0:0:1]:55438\r\n\r\n * When I call same endpoint over haproxy which is redirecting it to undertow http server (http://localhost/api/getSomeData) I get debug in log with exception stack trace. This is probably not concerning, but I can&#39;t find anywhere what is the cause (timeout setting on haproxy) causing it. This is printed in log exactly 15 seconds after http call\r\n\r\n&gt;      2023-12-04 09:01:45,046 INFO  [XNIO-1 task-2] testutils.RestApi -\r\n&gt;      com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user \r\n&gt;      2023-12-04 09:02:00,770 DEBUG [XNIO-1 I/O-6] http.HttpReadListener -\r\n&gt;      io.undertow.request.io (HttpReadListener.java:160) - Error reading\r\n&gt;      request  java.net.SocketException: Connection reset \tat\r\n&gt;      sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\r\n&gt;      ~[?:?] \tat\r\n&gt;      sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434) ~[?:?]\r\n&gt;      \tat org.xnio.nio.NioSocketConduit.read(NioSocketConduit.java:289)\r\n&gt;      ~[xnio-nio-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\r\n&gt;      ~[xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:158)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n&gt;      [xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n&gt;      [xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n&gt;      [xnio-nio-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n&gt;      [xnio-nio-3.8.8.Final.jar:3.8.8.Final]\r\n\r\n","title":"Connection reset in log when using undertow behind haproxy","body":"<p>I have undertow server (2.3.2) which runs on ubuntu server behind haproxy 2.6.15. This is reproducible with all default settings on haproxy so I didn't change any timeouts or settings.</p>\n<ul>\n<li><p>When I call some endpoint on rest server, if I do it directly over rest server\nhttp://localhost:12345/api/getSomeData, there is only debug message in log ~1 minute after request was made (Timing out idle connection)</p>\n<pre><code> 2023-12-04 09:10:54,688 INFO  [XNIO-1 task-2] testutils.RestApi - com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user\n  2023-12-04 09:12:01,524 DEBUG [XNIO-1 I/O-3] protocol.ParseTimeoutUpdater - io.undertow.request\n(ParseTimeoutUpdater.java:151) - Timing out idle connection from\n/[0:0:0:0:0:0:0:1]:55438\n</code></pre>\n</li>\n<li><p>When I call same endpoint over haproxy which is redirecting it to undertow http server (http://localhost/api/getSomeData) I get debug in log with exception stack trace. This is probably not concerning, but I can't find anywhere what is the cause (timeout setting on haproxy) causing it. This is printed in log exactly 15 seconds after http call</p>\n</li>\n</ul>\n<blockquote>\n<pre><code> 2023-12-04 09:01:45,046 INFO  [XNIO-1 task-2] testutils.RestApi -\n com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user \n 2023-12-04 09:02:00,770 DEBUG [XNIO-1 I/O-6] http.HttpReadListener -\n io.undertow.request.io (HttpReadListener.java:160) - Error reading\n request  java.net.SocketException: Connection reset  at\n sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\n ~[?:?]   at\n sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434) ~[?:?]\n  at org.xnio.nio.NioSocketConduit.read(NioSocketConduit.java:289)\n ~[xnio-nio-3.8.8.Final.jar:3.8.8.Final]  at\n org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\n ~[xnio-api-3.8.8.Final.jar:3.8.8.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:158)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n [xnio-api-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n [xnio-api-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n [xnio-nio-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n [xnio-nio-3.8.8.Final.jar:3.8.8.Final]\n</code></pre>\n</blockquote>\n"},{"tags":["java","oracle","utf-8","substring"],"comments":[{"owner":{"account_id":2080670,"reputation":3333,"user_id":1852723,"accept_rate":75,"display_name":"Drunix"},"score":0,"creation_date":1437060707,"post_id":31455706,"comment_id":50883891,"body_markdown":"Perhaps using character length semantics for defining column length could be an option.","body":"Perhaps using character length semantics for defining column length could be an option."}],"answers":[{"tags":[],"owner":{"account_id":130772,"reputation":71453,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437054629,"creation_date":1437053943,"answer_id":31455858,"question_id":31455706,"body_markdown":"I think that the best bet in this case would be substringing at the database level, with the Oracle SUBSTR function directly on the SQL QUERY .\r\n\r\nFor example :\r\n\r\n    INSERT INTO ttable (colname) VALUES (SUBSTR( ?, 1, 10 ))\r\n\r\n\r\nWhere the exclamation point stand for the SQL parameter sent through JDBC .","title":"How to do substring for UTF8 string in java?","body":"<p>I think that the best bet in this case would be substringing at the database level, with the Oracle SUBSTR function directly on the SQL QUERY .</p>\n\n<p>For example :</p>\n\n<pre><code>INSERT INTO ttable (colname) VALUES (SUBSTR( ?, 1, 10 ))\n</code></pre>\n\n<p>Where the exclamation point stand for the SQL parameter sent through JDBC .</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437055364,"creation_date":1437053950,"answer_id":31455860,"question_id":31455706,"body_markdown":"You can calculate the correct length of a `String` in java converting the string to a byte array.\r\n\r\nAs an example see the code below:\r\n\r\n    System.out.println(&quot;R&#252;ckruf i&quot;.length()); // prints 9 \r\n    System.out.println(&quot;R&#252;ckruf i&quot;.getBytes().length); // prints 10 \r\n\r\nIf the current charset is not UTF-8 replace the code with:\r\n\r\n    System.out.println(&quot;R&#252;ckruf i&quot;.length()); // prints 9 \r\n    System.out.println(&quot;R&#252;ckruf i&quot;.getBytes(&quot;UTF-8&quot;).length); // prints 10 \r\n\r\nIf needed you can replace the UTF-8 with the charset you like to test for the length of string in that charset.\r\n","title":"How to do substring for UTF8 string in java?","body":"<p>You can calculate the correct length of a <code>String</code> in java converting the string to a byte array.</p>\n\n<p>As an example see the code below:</p>\n\n<pre><code>System.out.println(\"Rückruf i\".length()); // prints 9 \nSystem.out.println(\"Rückruf i\".getBytes().length); // prints 10 \n</code></pre>\n\n<p>If the current charset is not UTF-8 replace the code with:</p>\n\n<pre><code>System.out.println(\"Rückruf i\".length()); // prints 9 \nSystem.out.println(\"Rückruf i\".getBytes(\"UTF-8\").length); // prints 10 \n</code></pre>\n\n<p>If needed you can replace the UTF-8 with the charset you like to test for the length of string in that charset.</p>\n"},{"tags":[],"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437055835,"creation_date":1437054133,"answer_id":31455939,"question_id":31455706,"body_markdown":"You need to have the encoding in the database match the encoding for java strings.  Alternatively, you can convert the string using something like [this][1] and get the length that matches the encoding in the database.  This will give you an accurate byte count.  Otherwise, you&#39;re still just hoping that the encodings match.\r\n\r\n        String string = &quot;R&#252;ckruf ins Ausland&quot;;\r\n        \r\n        int curByteCount = 0;\r\n        String nextChar;\r\n        for(int index = 0; curByteCount +  \r\n             (nextChar = string.substr(index,index + 1)).getBytes(&quot;UTF-8&quot;).length &lt; trimmedBytes.length;  index++){\r\n            curByteCount += nextChar.getBytes(&quot;UTF-8&quot;).length;\r\n\r\n        }\r\n        byte[] subStringBytes = new byte[10];\r\n        System.arraycopy(string.getBytes(&quot;UTF-8&quot;), 0, subStringBytes, 0, curByteCount);\r\n        String trimed = new String(subStringBytes, &quot;UTF-8&quot;);\r\n\r\nThis should do it.  It also, shoudln&#39;t truncate a multi-byte character in the process.  The assumption here is that the database is UTF-8 Encoding.  Another assumption is that the string actually needs to be trimmed.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/text/string.html","title":"How to do substring for UTF8 string in java?","body":"<p>You need to have the encoding in the database match the encoding for java strings.  Alternatively, you can convert the string using something like <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/string.html\" rel=\"nofollow\">this</a> and get the length that matches the encoding in the database.  This will give you an accurate byte count.  Otherwise, you're still just hoping that the encodings match.</p>\n\n<pre><code>    String string = \"Rückruf ins Ausland\";\n\n    int curByteCount = 0;\n    String nextChar;\n    for(int index = 0; curByteCount +  \n         (nextChar = string.substr(index,index + 1)).getBytes(\"UTF-8\").length &lt; trimmedBytes.length;  index++){\n        curByteCount += nextChar.getBytes(\"UTF-8\").length;\n\n    }\n    byte[] subStringBytes = new byte[10];\n    System.arraycopy(string.getBytes(\"UTF-8\"), 0, subStringBytes, 0, curByteCount);\n    String trimed = new String(subStringBytes, \"UTF-8\");\n</code></pre>\n\n<p>This should do it.  It also, shoudln't truncate a multi-byte character in the process.  The assumption here is that the database is UTF-8 Encoding.  Another assumption is that the string actually needs to be trimmed.</p>\n"},{"tags":[],"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1437054415,"creation_date":1437054415,"answer_id":31456079,"question_id":31455706,"body_markdown":"If you want to trim the data in Java you must write a function that trims the string using the db charset used, something like this test case:\r\n\r\n\tpackage test;\r\n\t\r\n\timport java.io.UnsupportedEncodingException;\r\n\t\r\n\tpublic class TrimField {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n            //UTF-8 is the db charset\r\n\t\t\tSystem.out.println(trim(&quot;R&#252;ckruf ins Ausland&quot;,10,&quot;UTF-8&quot;));\r\n\t\t\tSystem.out.println(trim(&quot;R&#252;&#252;ckruf ins Ausland&quot;,10,&quot;UTF-8&quot;));\r\n\t\t}\r\n\t\r\n\t\tpublic static String trim(String value, int numBytes, String charset) {\r\n\t\t\tdo {\r\n\t\t\t\tbyte[] valueInBytes = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalueInBytes = value.getBytes(charset);\r\n\t\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\t\tthrow new RuntimeException(e.getMessage(), e);\r\n\t\t\t\t}\r\n\t\t\t\tif (valueInBytes.length &gt; numBytes) {\r\n\t\t\t\t\tvalue = value.substring(0, value.length() - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t} while (value.length() &gt; 0);\r\n\t\t\treturn &quot;&quot;;\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"How to do substring for UTF8 string in java?","body":"<p>If you want to trim the data in Java you must write a function that trims the string using the db charset used, something like this test case:</p>\n\n<pre><code>package test;\n\nimport java.io.UnsupportedEncodingException;\n\npublic class TrimField {\n\n    public static void main(String[] args) {\n        //UTF-8 is the db charset\n        System.out.println(trim(\"Rückruf ins Ausland\",10,\"UTF-8\"));\n        System.out.println(trim(\"Rüückruf ins Ausland\",10,\"UTF-8\"));\n    }\n\n    public static String trim(String value, int numBytes, String charset) {\n        do {\n            byte[] valueInBytes = null;\n            try {\n                valueInBytes = value.getBytes(charset);\n            } catch (UnsupportedEncodingException e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n            if (valueInBytes.length &gt; numBytes) {\n                value = value.substring(0, value.length() - 1);\n            } else {\n                return value;\n            }\n        } while (value.length() &gt; 0);\n        return \"\";\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1437054766,"creation_date":1437054587,"answer_id":31456147,"question_id":31455706,"body_markdown":"Hey all the ASCII characters are less than 128. You can use the below code.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s= &quot;R&#252;ckruf ins Ausland&quot;;\r\n    \t\tint length =10;\r\n    \t\tfor(int i=0;i&lt;s.length();i++){\r\n    \t\t\tif(!(((int)s.charAt(i))&lt;128)){\r\n    \t\t\t\tlength--;    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(s.substring(0,length));\r\n    \t}\r\n    }\r\n\r\nYou can copy paste and check if it fulfills yuor need or it breaks anywhere.","title":"How to do substring for UTF8 string in java?","body":"<p>Hey all the ASCII characters are less than 128. You can use the below code.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String s= \"Rückruf ins Ausland\";\n        int length =10;\n        for(int i=0;i&lt;s.length();i++){\n            if(!(((int)s.charAt(i))&lt;128)){\n                length--;                   \n            }\n        }\n        System.out.println(s.substring(0,length));\n    }\n}\n</code></pre>\n\n<p>You can copy paste and check if it fulfills yuor need or it breaks anywhere.</p>\n"},{"tags":[],"owner":{"account_id":6466583,"reputation":37,"user_id":5008283,"display_name":"DomK"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1437055026,"creation_date":1437055026,"answer_id":31456334,"question_id":31455706,"body_markdown":"If it has to be Java you could parse the string to bytes and trim the length of the array.\r\n\r\n            String s = &quot;R&#252;ckruf ins Ausland&quot;;\r\n            byte[] bytes = s.getBytes(&quot;UTF-8&quot;);\r\n            byte[] bytes2 = new byte[10];\r\n            System.arraycopy(bytes, 0, bytes2, 0, 10);\r\n            String trim = new String(bytes2, &quot;UTF-8&quot;);","title":"How to do substring for UTF8 string in java?","body":"<p>If it has to be Java you could parse the string to bytes and trim the length of the array.</p>\n\n<pre><code>        String s = \"Rückruf ins Ausland\";\n        byte[] bytes = s.getBytes(\"UTF-8\");\n        byte[] bytes2 = new byte[10];\n        System.arraycopy(bytes, 0, bytes2, 0, 10);\n        String trim = new String(bytes2, \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437055743,"creation_date":1437055743,"answer_id":31456628,"question_id":31455706,"body_markdown":"The following horribly circumstantially walks through the entire string by full Unicode code point, so also char pairs (surrogate code points).\r\n\r\n    public String trim(String s, int length) {\r\n        byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\r\n        if (bytes.length &lt;= length) {\r\n            return s;\r\n        }\r\n        int totalByteCount = 0;\r\n        for (int i = 0; i &lt; s.length(); ) {\r\n            int cp = s.codePointAt(i);\r\n            int n = Character.charCount(cp);\r\n            int byteCount = s.substring(i, i + n)\r\n                    .getBytes(StandardCharsets.UTF_8).length;\r\n            if (totalByteCount + byteCount) &gt; length) {\r\n                break;\r\n            }\r\n            totalByteCount += byteCount;\r\n            i += n;\r\n        }\r\n        return new String(bytes, 0, totalByteCount);\r\n    }\r\n\r\nIt can still be optimized a bit.","title":"How to do substring for UTF8 string in java?","body":"<p>The following horribly circumstantially walks through the entire string by full Unicode code point, so also char pairs (surrogate code points).</p>\n\n<pre><code>public String trim(String s, int length) {\n    byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    if (bytes.length &lt;= length) {\n        return s;\n    }\n    int totalByteCount = 0;\n    for (int i = 0; i &lt; s.length(); ) {\n        int cp = s.codePointAt(i);\n        int n = Character.charCount(cp);\n        int byteCount = s.substring(i, i + n)\n                .getBytes(StandardCharsets.UTF_8).length;\n        if (totalByteCount + byteCount) &gt; length) {\n            break;\n        }\n        totalByteCount += byteCount;\n        i += n;\n    }\n    return new String(bytes, 0, totalByteCount);\n}\n</code></pre>\n\n<p>It can still be optimized a bit.</p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666527473,"creation_date":1666527473,"answer_id":74171076,"question_id":31455706,"body_markdown":"Here is the best solution, it takes only 1 milliseconds to execute because it doesn&#39;t have any loops.\r\n\r\n        /**\r\n         * This function trims the text by requested max byte size\r\n         *\r\n         * @param text   text string\r\n         * @param length maximum byte size\r\n         * @return trimmed text\r\n         */\r\n        public static String trim(String text, int length) {\r\n            byte[] inputBytes = text.getBytes(StandardCharsets.UTF_8);\r\n            byte[] outputBytes = new byte[length];\r\n    \r\n            System.arraycopy(inputBytes, 0, outputBytes, 0, length);\r\n            String result = new String(outputBytes, StandardCharsets.UTF_8);\r\n    \r\n            // check if last character is truncated\r\n            int lastIndex = result.length() - 1;\r\n    \r\n            if (lastIndex &gt; 0 &amp;&amp; result.charAt(lastIndex) != text.charAt(lastIndex)) {\r\n                // last character is truncated so remove the last character\r\n                return result.substring(0, lastIndex);\r\n            }\r\n    \r\n            return result;\r\n        }","title":"How to do substring for UTF8 string in java?","body":"<p>Here is the best solution, it takes only 1 milliseconds to execute because it doesn't have any loops.</p>\n<pre><code>    /**\n     * This function trims the text by requested max byte size\n     *\n     * @param text   text string\n     * @param length maximum byte size\n     * @return trimmed text\n     */\n    public static String trim(String text, int length) {\n        byte[] inputBytes = text.getBytes(StandardCharsets.UTF_8);\n        byte[] outputBytes = new byte[length];\n\n        System.arraycopy(inputBytes, 0, outputBytes, 0, length);\n        String result = new String(outputBytes, StandardCharsets.UTF_8);\n\n        // check if last character is truncated\n        int lastIndex = result.length() - 1;\n\n        if (lastIndex &gt; 0 &amp;&amp; result.charAt(lastIndex) != text.charAt(lastIndex)) {\n            // last character is truncated so remove the last character\n            return result.substring(0, lastIndex);\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701678618,"creation_date":1701604166,"answer_id":77594139,"question_id":31455706,"body_markdown":"# Easy and fast solution\r\n\r\nFor UTF-8, the length is determined by the first byte.\r\n[UTF-8 - Wikipedia](https://en.wikipedia.org/wiki/UTF-8#Encoding)\r\n\r\n```java\r\nprivate static String substring(String text, int bytes) {\r\n    byte[] utf8 = text.getBytes(StandardCharsets.UTF_8);\r\n\r\n    int length = 0;\r\n    for (int i = 0; i &lt; utf8.length; ) {\r\n        if ((utf8[i] &amp; 0b1111_1000) == 0b1111_0000) {\r\n            i += 4;\r\n        } else if ((utf8[i] &amp; 0b1111_0000) == 0b1110_0000) {\r\n            i += 3;\r\n        } else if ((utf8[i] &amp; 0b1110_0000) == 0b1100_0000) {\r\n            i += 2;\r\n        } else {\r\n            i += 1;\r\n        }\r\n\r\n        if (bytes &lt; i) {\r\n            break;\r\n        }\r\n        length = i;\r\n    }\r\n\r\n    return new String(Arrays.copyOfRange(utf8, 0, length), StandardCharsets.UTF_8);\r\n}\r\n```\r\n\r\n# For example\r\n\r\nExample of cutting within 10 bytes.\r\n\r\n```\r\nInput : &quot;R&#252;ckruf ins Ausland&quot;\r\nOutput: &quot;R&#252;ckruf i&quot;  (10 bytes)\r\n\r\nInput : &quot;R&#252;ckruf&quot;\r\nOutput: &quot;R&#252;ckruf&quot; (8 bytes)\r\n\r\nInput : &quot;123456789&#252;&quot;\r\nOutput: &quot;123456789&quot; (9 bytes)\r\n\r\nInput : &quot;R&#252;&#252;&#252;&#252;&#252;&#252;&quot;\r\nOutput: &quot;R&#252;&#252;&#252;&#252;&quot;  (9 bytes)\r\n\r\nInput : &quot;✅✅✅✅✅&quot;\r\nOutput: &quot;✅✅✅&quot;  (9 bytes)\r\n\r\nInput : &quot;&#127881;&#127881;&#127881;&#127881;&#127881;&quot;\r\nOutput: &quot;&#127881;&#127881;&quot;  (8 bytes)\r\n```\r\n\r\nNote: `&#252;` is 2 bytes, `✅` is 3 bytes, `&#127881;` is 4 bytes","title":"How to do substring for UTF8 string in java?","body":"<h1>Easy and fast solution</h1>\n<p>For UTF-8, the length is determined by the first byte.\n<a href=\"https://en.wikipedia.org/wiki/UTF-8#Encoding\" rel=\"nofollow noreferrer\">UTF-8 - Wikipedia</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String substring(String text, int bytes) {\n    byte[] utf8 = text.getBytes(StandardCharsets.UTF_8);\n\n    int length = 0;\n    for (int i = 0; i &lt; utf8.length; ) {\n        if ((utf8[i] &amp; 0b1111_1000) == 0b1111_0000) {\n            i += 4;\n        } else if ((utf8[i] &amp; 0b1111_0000) == 0b1110_0000) {\n            i += 3;\n        } else if ((utf8[i] &amp; 0b1110_0000) == 0b1100_0000) {\n            i += 2;\n        } else {\n            i += 1;\n        }\n\n        if (bytes &lt; i) {\n            break;\n        }\n        length = i;\n    }\n\n    return new String(Arrays.copyOfRange(utf8, 0, length), StandardCharsets.UTF_8);\n}\n</code></pre>\n<h1>For example</h1>\n<p>Example of cutting within 10 bytes.</p>\n<pre><code>Input : &quot;Rückruf ins Ausland&quot;\nOutput: &quot;Rückruf i&quot;  (10 bytes)\n\nInput : &quot;Rückruf&quot;\nOutput: &quot;Rückruf&quot; (8 bytes)\n\nInput : &quot;123456789ü&quot;\nOutput: &quot;123456789&quot; (9 bytes)\n\nInput : &quot;Rüüüüüü&quot;\nOutput: &quot;Rüüüü&quot;  (9 bytes)\n\nInput : &quot;✅✅✅✅✅&quot;\nOutput: &quot;✅✅✅&quot;  (9 bytes)\n\nInput : &quot;🎉🎉🎉🎉🎉&quot;\nOutput: &quot;🎉🎉&quot;  (8 bytes)\n</code></pre>\n<p>Note: <code>ü</code> is 2 bytes, <code>✅</code> is 3 bytes, <code>🎉</code> is 4 bytes</p>\n"}],"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9056,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31456079,"answer_count":9,"score":7,"last_activity_date":1701678665,"creation_date":1437053551,"question_id":31455706,"body_markdown":"Suppose I have the following string: **R&#252;ckruf ins Ausland** I need to insert it into the database which has a max size of 10. \r\nI did a normal substring in `java` and it extracted this string **R&#252;ckruf in** which is 10 characters. When it tries to insert this column I get the following oracle error: \r\n&gt; java.sql.SQLException: ORA-12899: value too large for column\r\n&gt; &quot;WAEL&quot;.&quot;TESTTBL&quot;.&quot;DESC&quot; (actual: 11, maximum: 10)\r\nThe reason for this is that the database has a AL32UTF8 character set thus the &#252; will take 2 chars. \r\n\r\nI need to write a function in java that does this substring but taking into consideration that the &#252; takes 2 bytes so the returned substring in this case should be **R&#252;ckruf i** (9 chars). Any suggestions?","title":"How to do substring for UTF8 string in java?","body":"<p>Suppose I have the following string: <strong>Rückruf ins Ausland</strong> I need to insert it into the database which has a max size of 10.\nI did a normal substring in <code>java</code> and it extracted this string <strong>Rückruf in</strong> which is 10 characters. When it tries to insert this column I get the following oracle error:</p>\n<blockquote>\n<p>java.sql.SQLException: ORA-12899: value too large for column\n&quot;WAEL&quot;.&quot;TESTTBL&quot;.&quot;DESC&quot; (actual: 11, maximum: 10)\nThe reason for this is that the database has a AL32UTF8 character set thus the ü will take 2 chars.</p>\n</blockquote>\n<p>I need to write a function in java that does this substring but taking into consideration that the ü takes 2 bytes so the returned substring in this case should be <strong>Rückruf i</strong> (9 chars). Any suggestions?</p>\n"},{"tags":["java","postgresql","oracle","eclipselink"],"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701678644,"creation_date":1701678644,"question_id":77598110,"body_markdown":"I am working on the cloud migration for my application. As part of this the on premise DB oracle has been migrated to postgresql in AWS. After migration my java code is breaking in the following CursoredStream which was working before. I am using eclipselink version 2.5.2 and the java version is 17.\r\n           \r\n ```\r\n            Query activity_query = em.createNativeQuery(query.toString(), ActivityLog.class);\r\n\t\t\tclaim_query.setHint(&quot;eclipselink.read-only&quot;, true);\t\t\t\r\n\t\t\tclaim_query.setHint(&quot;eclipselink.cursor&quot;, true);\r\n\t\t\tCursoredStream scrollableCursor = (CursoredStream) activity_query.getSingleResult();\r\n```\r\nThe query is executing fine in pgadmin and there are a total of 130 columns being returned. I have validated all the table column names with the column names declared in the ActivityLog entity class with @Column annotation and also verified the return datatype for all the columns. Everything is looking good. The ActivityLog entity class is declared in the persistence.xml file as well. Tried upgrading the eclipse link version in pom.xml. But nothing seems to be working. After printing the stacktrace I am getting the below exception in the logs\r\n ```\r\n            at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:547)\r\n        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:400)\r\n        at com.theapplication.detail.dao.AgedoutOfBalanceClaimsDAO.getReportOOBDataexcel(ActivityDAO.java:153)\r\n        at com.theapplication.detail.service.AgedoutOfBalanceClaimsReportService.buildFile(ActivityService.java:152)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: Exception [EclipseLink-6007] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.QueryException\r\nException Description: Missing descriptor for [class com.theapplication.detail.entity.ActivityLog].\r\n```\r\nI tried out different solution available online and its still showing as Missing descriptor for [class com.theapplication.detail.entity.ActivityLog]. I am not able to post all the entity class code due to my organization policy. Stuck with this issue for more than 3 days now. Any help will be greatly appreciated. Thanks in advance.","title":"How to resolve Missing descriptor for entity class in java","body":"<p>I am working on the cloud migration for my application. As part of this the on premise DB oracle has been migrated to postgresql in AWS. After migration my java code is breaking in the following CursoredStream which was working before. I am using eclipselink version 2.5.2 and the java version is 17.</p>\n<pre><code>           Query activity_query = em.createNativeQuery(query.toString(), ActivityLog.class);\n           claim_query.setHint(&quot;eclipselink.read-only&quot;, true);         \n           claim_query.setHint(&quot;eclipselink.cursor&quot;, true);\n           CursoredStream scrollableCursor = (CursoredStream) activity_query.getSingleResult();\n</code></pre>\n<p>The query is executing fine in pgadmin and there are a total of 130 columns being returned. I have validated all the table column names with the column names declared in the ActivityLog entity class with @Column annotation and also verified the return datatype for all the columns. Everything is looking good. The ActivityLog entity class is declared in the persistence.xml file as well. Tried upgrading the eclipse link version in pom.xml. But nothing seems to be working. After printing the stacktrace I am getting the below exception in the logs</p>\n<pre><code>           at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:547)\n       at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:400)\n       at com.theapplication.detail.dao.AgedoutOfBalanceClaimsDAO.getReportOOBDataexcel(ActivityDAO.java:153)\n       at com.theapplication.detail.service.AgedoutOfBalanceClaimsReportService.buildFile(ActivityService.java:152)\n       at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: Exception [EclipseLink-6007] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.QueryException\nException Description: Missing descriptor for [class com.theapplication.detail.entity.ActivityLog].\n</code></pre>\n<p>I tried out different solution available online and its still showing as Missing descriptor for [class com.theapplication.detail.entity.ActivityLog]. I am not able to post all the entity class code due to my organization policy. Stuck with this issue for more than 3 days now. Any help will be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":4735774,"reputation":994,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":1,"creation_date":1541421933,"post_id":53154645,"comment_id":93199628,"body_markdown":"What version&#39;s spring?","body":"What version&#39;s spring?"},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541428899,"post_id":53154645,"comment_id":93203494,"body_markdown":"Sorry, forgot to post it. it&#39;s 2.1.0 Release, and I&#39;m using Java 8. Thx!","body":"Sorry, forgot to post it. it&#39;s 2.1.0 Release, and I&#39;m using Java 8. Thx!"},{"owner":{"account_id":1754145,"reputation":43915,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":2,"creation_date":1541429363,"post_id":53154645,"comment_id":93203770,"body_markdown":"Are you setting `Accept: application/json` or any other `Accept:` header in your request?","body":"Are you setting <code>Accept: application&#47;json</code> or any other <code>Accept:</code> header in your request?"},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541429928,"post_id":53154645,"comment_id":93204139,"body_markdown":"Yes, e.x: curl -X GET --header &quot;Accept: application/json&quot; http://localhost:8080/fooPoint -v","body":"Yes, e.x: curl -X GET --header &quot;Accept: application/json&quot; <a href=\"http://localhost:8080/fooPoint\" rel=\"nofollow noreferrer\">localhost:8080/fooPoint</a> -v"},{"owner":{"account_id":4735774,"reputation":994,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":0,"creation_date":1541430277,"post_id":53154645,"comment_id":93204349,"body_markdown":"Can you share your project on GitHub or similar?","body":"Can you share your project on GitHub or similar?"},{"owner":{"account_id":4735774,"reputation":994,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":1,"creation_date":1541430854,"post_id":53154645,"comment_id":93204693,"body_markdown":"I&#39;ve created a project exactly the same as yours, and it worked. Must be something else...","body":"I&#39;ve created a project exactly the same as yours, and it worked. Must be something else..."},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541432562,"post_id":53154645,"comment_id":93205699,"body_markdown":"Hi, Cristiano, indeed, I&#39;ve just deleted fasterxml directory in my repository to force maven download again all libraries asociated. It worked instantly.... Must have been some corrupted jackson library... Thank you to all and sorry for the inconvenience...","body":"Hi, Cristiano, indeed, I&#39;ve just deleted fasterxml directory in my repository to force maven download again all libraries asociated. It worked instantly.... Must have been some corrupted jackson library... Thank you to all and sorry for the inconvenience..."}],"answers":[{"tags":[],"owner":{"account_id":416244,"reputation":183,"user_id":791519,"display_name":"jax502"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1552963577,"creation_date":1552963577,"answer_id":55232905,"question_id":53154645,"body_markdown":"I just encountered this issue today and spent several hours to figure out what the issue is. Almost all of the answers I&#39;ve seen are either because of missing getters and setters, adding the fasterxml dependency into the pom. I already have getters and setters and the tutorial I was following did not require those pom changes.\r\n\r\nmariotepro&#39;s solution is what got me past the issue. His solution is buried under the comments so I decided to put it here in the answer so people can easily see it in case they have the same scenario.\r\n\r\nSo yes, just to reiterate, going into my maven repo and deleting the fasterxml folder and re-running maven is what fixed the issue for me.","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I just encountered this issue today and spent several hours to figure out what the issue is. Almost all of the answers I've seen are either because of missing getters and setters, adding the fasterxml dependency into the pom. I already have getters and setters and the tutorial I was following did not require those pom changes.</p>\n\n<p>mariotepro's solution is what got me past the issue. His solution is buried under the comments so I decided to put it here in the answer so people can easily see it in case they have the same scenario.</p>\n\n<p>So yes, just to reiterate, going into my maven repo and deleting the fasterxml folder and re-running maven is what fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2455144,"reputation":7303,"user_id":6337545,"display_name":"Vincent Gerris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596282706,"creation_date":1596282355,"answer_id":63204837,"question_id":53154645,"body_markdown":"I think that besides getters and setters you need a default empty contructor, so adding just that should make it work.\r\nAn easy way to add that and the get and set methods to so called data classes is to use project Lombok.\r\n\r\nAn example can be found here:\r\n\r\n    https://github.com/mstine/todo-list/blob/master/src/main/java/io/pivotal/sporing/todos/todolist/TodoItem.java\r\n\r\nSo you basically add the dependency in Maven like:\r\n\r\n\t&lt;!-- For Lombok, data annotations --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen you can use the annotations in the class like (snippet):\r\n\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name=&quot;todo_item&quot;)\r\n    public class TodoItem {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\nThe annotations:\r\n@Data\r\nand\r\n@NoArgsConstructor\r\ncreate the getters, setters and the empty constuctor, which saves you the boiler plate code, which I think is quite neat :).\r\n\r\nHere is some more info if you&#39;re interested:\r\nhttps://projectlombok.org/\n","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I think that besides getters and setters you need a default empty contructor, so adding just that should make it work.\nAn easy way to add that and the get and set methods to so called data classes is to use project Lombok.</p>\n<p>An example can be found here:</p>\n<pre><code>https://github.com/mstine/todo-list/blob/master/src/main/java/io/pivotal/sporing/todos/todolist/TodoItem.java\n</code></pre>\n<p>So you basically add the dependency in Maven like:</p>\n<pre><code>&lt;!-- For Lombok, data annotations --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can use the annotations in the class like (snippet):</p>\n<pre><code>import lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@NoArgsConstructor\n@Table(name=&quot;todo_item&quot;)\npublic class TodoItem {\n    @Id\n    @GeneratedValue\n    private Long id;\n</code></pre>\n<p>The annotations:\n@Data\nand\n@NoArgsConstructor\ncreate the getters, setters and the empty constuctor, which saves you the boiler plate code, which I think is quite neat :).</p>\n<p>Here is some more info if you're interested:\n<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a></p>\n"},{"tags":[],"owner":{"account_id":7416540,"reputation":11,"user_id":5642140,"display_name":"Gaurav Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644433513,"creation_date":1644433513,"answer_id":71055292,"question_id":53154645,"body_markdown":"As of Spring Boot `2.5.7` getters or fasterxml don&#39;t solve this problem, but setting produces in @RequestMapping does\r\ntry setting `produces = { &quot;application/json&quot; }`\r\n\r\n    @RequestMapping(method = RequestMethod.GET, produces = { &quot;application/json&quot; })","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>As of Spring Boot <code>2.5.7</code> getters or fasterxml don't solve this problem, but setting produces in @RequestMapping does\ntry setting <code>produces = { &quot;application/json&quot; }</code></p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, produces = { &quot;application/json&quot; })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756113,"creation_date":1663756113,"answer_id":73799208,"question_id":53154645,"body_markdown":"People with similar errors, I was just missing below header while hitting the Request, try adding to check if it works! \r\n\r\n`Accept : application/json`\r\n","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>People with similar errors, I was just missing below header while hitting the Request, try adding to check if it works!</p>\n<p><code>Accept : application/json</code></p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667713398,"creation_date":1667713398,"answer_id":74333539,"question_id":53154645,"body_markdown":"For me this happend when i didnt specify headers with content-type\r\nfollowing is the code\r\n\r\nModel class - UserModel.java\r\n\r\n    @Data \r\n    public class UserModel {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate long userid;\r\n    \r\n    }\r\n\r\nset up lombok using this [link][1]\r\n\r\n\r\ncontroller class - BasicController.java\r\n\r\n\r\n    @RestController\r\n    public class BasicController {\r\n    \r\n    \tArrayList&lt;UserModel&gt; users = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@PostMapping(\r\n    \t\t\tpath=&quot;/push/user&quot;, \r\n    \t\t\tproduces = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}, \r\n    \t\t\tconsumes = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}\r\n    \t)\r\n    \tpublic ResponseEntity&lt;UserModel&gt; pushUser(@RequestBody UserModel user)\r\n    \t{\r\n    \t\tSystem.out.println(user.getUsername());\r\n    \t\tSystem.out.println(user.getUserid());\r\n    \t\t\r\n    \t\tusers.add(user);\r\n    \t\treturn new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nfollowing error when i sent data without headers\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n     {&quot;timestamp&quot;: &quot;2022-11-06T05:35:00.356+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type &#39;null&#39;\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:312)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:832)\\n&quot;,\r\n        &quot;message&quot;: &quot;No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type &#39;null&#39;&quot;,\r\n        &quot;path&quot;: &quot;/push/user&quot;\r\n    }\r\n\r\nsolution - adding headers as following\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54018276/how-to-access-getter-and-setter-methods-using-lombok\r\n  [2]: https://i.stack.imgur.com/llzXm.png\r\n  [3]: https://i.stack.imgur.com/DQmMn.png","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>For me this happend when i didnt specify headers with content-type\nfollowing is the code</p>\n<p>Model class - UserModel.java</p>\n<pre><code>@Data \npublic class UserModel {\n    \n    private String username;\n    private long userid;\n\n}\n</code></pre>\n<p>set up lombok using this <a href=\"https://stackoverflow.com/questions/54018276/how-to-access-getter-and-setter-methods-using-lombok\">link</a></p>\n<p>controller class - BasicController.java</p>\n<pre><code>@RestController\npublic class BasicController {\n\n    ArrayList&lt;UserModel&gt; users = new ArrayList&lt;&gt;();\n    \n    @PostMapping(\n            path=&quot;/push/user&quot;, \n            produces = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}, \n            consumes = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}\n    )\n    public ResponseEntity&lt;UserModel&gt; pushUser(@RequestBody UserModel user)\n    {\n        System.out.println(user.getUsername());\n        System.out.println(user.getUserid());\n        \n        users.add(user);\n        return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\n    }\n    \n}\n</code></pre>\n<p>following error when i sent data without headers</p>\n<p><a href=\"https://i.stack.imgur.com/llzXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llzXm.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> {&quot;timestamp&quot;: &quot;2022-11-06T05:35:00.356+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type 'null'\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:312)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:832)\\n&quot;,\n    &quot;message&quot;: &quot;No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type 'null'&quot;,\n    &quot;path&quot;: &quot;/push/user&quot;\n}\n</code></pre>\n<p>solution - adding headers as following</p>\n<p><a href=\"https://i.stack.imgur.com/DQmMn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQmMn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701678384,"creation_date":1701678384,"answer_id":77598094,"question_id":53154645,"body_markdown":"If using xml spring configuration add &quot;mcv:annotation-driven&quot;:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      \r\n      xsi:schemaLocation=&quot;\r\n      \thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n        \r\n        &lt;mvc:annotation-driven/&gt;\r\n    ...","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>If using xml spring configuration add &quot;mcv:annotation-driven&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n  \n  xsi:schemaLocation=&quot;\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n    \n    &lt;mvc:annotation-driven/&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55232905,"answer_count":6,"score":0,"last_activity_date":1701678384,"creation_date":1541421630,"question_id":53154645,"body_markdown":"I&#39;m doing exercises with Spring-Boot, I tried to search, but nothing I&#39;ve found worked for me. I&#39;m trying to return a JSON converting a POJO, which SB is supposed to do it automatically, but it returns:\r\n\r\n&gt; 2018-11-05 13:26:36.090  WARN 1584 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.example.demo.pelis.Foo]\r\n\r\nHere is my pom.xml:\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAnd my POJO:\r\n\r\n    public class Foo {\r\n    \r\n    \tprivate String bar;\r\n    \r\n    \t/**\r\n    \t * @return the bar\r\n    \t */\r\n    \tpublic String getBar() {\r\n    \t\treturn bar;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param bar\r\n    \t *            the bar to set\r\n    \t */\r\n    \tpublic void setBar(String bar) {\r\n    \t\tthis.bar = bar;\r\n    \t}\r\n    }\r\n\r\nThe controller:\r\n\r\n    @RestController\r\n    public class PelisController {\r\n    \t@GetMapping(value = &quot;/fooPoint&quot;)\r\n    \tpublic Foo fooPoint() {\r\n    \t\tFoo foo = new Foo();\r\n    \t\tfoo.setBar(&quot;smthng&quot;);\r\n    \t\treturn foo;\r\n    \t}\r\n    }\r\n\r\nI don&#39;t know what I&#39;m doing wrong, because I&#39;ve tried getters/setters method, I tried to replace my pom with the one in the official guide. Nothing helped.","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I'm doing exercises with Spring-Boot, I tried to search, but nothing I've found worked for me. I'm trying to return a JSON converting a POJO, which SB is supposed to do it automatically, but it returns:</p>\n\n<blockquote>\n  <p>2018-11-05 13:26:36.090  WARN 1584 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.example.demo.pelis.Foo]</p>\n</blockquote>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>And my POJO:</p>\n\n<pre><code>public class Foo {\n\n    private String bar;\n\n    /**\n     * @return the bar\n     */\n    public String getBar() {\n        return bar;\n    }\n\n    /**\n     * @param bar\n     *            the bar to set\n     */\n    public void setBar(String bar) {\n        this.bar = bar;\n    }\n}\n</code></pre>\n\n<p>The controller:</p>\n\n<pre><code>@RestController\npublic class PelisController {\n    @GetMapping(value = \"/fooPoint\")\n    public Foo fooPoint() {\n        Foo foo = new Foo();\n        foo.setBar(\"smthng\");\n        return foo;\n    }\n}\n</code></pre>\n\n<p>I don't know what I'm doing wrong, because I've tried getters/setters method, I tried to replace my pom with the one in the official guide. Nothing helped.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":1,"creation_date":1701668057,"post_id":77597378,"comment_id":136799867,"body_markdown":"Hi and welcome!\nTake a look this post https://stackoverflow.com/questions/25345748/how-does-the-for-loop-exactly-work-out \nMake sure you understand how for loop works!\nHave a good day!","body":"Hi and welcome! Take a look this post <a href=\"https://stackoverflow.com/questions/25345748/how-does-the-for-loop-exactly-work-out\" title=\"how does the for loop exactly work out\">stackoverflow.com/questions/25345748/&hellip;</a>  Make sure you understand how for loop works! Have a good day!"},{"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"score":0,"creation_date":1701668112,"post_id":77597378,"comment_id":136799873,"body_markdown":"Check the difference between &quot;continue&quot; and &quot;break&quot; and you will get the answer. Also read the JVM language specification for loop section.","body":"Check the difference between &quot;continue&quot; and &quot;break&quot; and you will get the answer. Also read the JVM language specification for loop section."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701668285,"post_id":77597378,"comment_id":136799884,"body_markdown":"Before posting here, always study [the tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html) provided free of cost by Oracle Corp.","body":"Before posting here, always study <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">the tutorial</a> provided free of cost by Oracle Corp."},{"owner":{"account_id":6618749,"reputation":347,"user_id":5111172,"display_name":"fhissen"},"score":0,"creation_date":1701669840,"post_id":77597378,"comment_id":136799994,"body_markdown":"i++ is executed before i&lt;3 is checked. So, when i == 2 and i+=4 happens, one additional i++ is executed which makes i==7.\nIf you would &#39;break&#39;, the loop would be left immediately.","body":"i++ is executed before i&lt;3 is checked. So, when i == 2 and i+=4 happens, one additional i++ is executed which makes i==7. If you would &#39;break&#39;, the loop would be left immediately."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1701682074,"post_id":77597378,"comment_id":136801481,"body_markdown":"[How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}],"answers":[{"tags":[],"owner":{"account_id":21495147,"reputation":36,"user_id":15840283,"display_name":"tat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701677935,"creation_date":1701677935,"answer_id":77598051,"question_id":77597378,"body_markdown":"your loop is equivalent to\r\n\r\n    int i = 0;  \r\n    while (i &lt; 3) {\r\n        if(i == 2) {\r\n            i += 4;\r\n        }\r\n        i++;  \r\n    }\r\n\r\n`i` is incremented after entering the loop","title":"for loop actual value is different from what I expect","body":"<p>your loop is equivalent to</p>\n<pre><code>int i = 0;  \nwhile (i &lt; 3) {\n    if(i == 2) {\n        i += 4;\n    }\n    i++;  \n}\n</code></pre>\n<p><code>i</code> is incremented after entering the loop</p>\n"}],"owner":{"account_id":30059600,"reputation":13,"user_id":23036017,"display_name":"이기주"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77598051,"answer_count":1,"score":-3,"last_activity_date":1701677935,"creation_date":1701667843,"question_id":77597378,"body_markdown":"```java\r\nint i = 0;\r\n\r\nfor(i = 0; i &lt; 3; i++) {\r\n\tSystem.out.println(i);\r\n\t\r\n\tif(i == 2) {\r\n\t\ti += 4;\r\n\t\t// continue;\r\n\t}\r\n\t\r\n}\r\n\r\nSystem.out.println(i);\r\n```\r\n\r\nIn the code above, I expected that int i = 6 would ultimately come out, but 7 came out.\r\nWhy is that so?","title":"for loop actual value is different from what I expect","body":"<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\n\nfor(i = 0; i &lt; 3; i++) {\n    System.out.println(i);\n    \n    if(i == 2) {\n        i += 4;\n        // continue;\n    }\n    \n}\n\nSystem.out.println(i);\n</code></pre>\n<p>In the code above, I expected that int i = 6 would ultimately come out, but 7 came out.\nWhy is that so?</p>\n"},{"tags":["java","spring","spring-boot","jasper-reports"],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":0,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701707043,"answer_count":0,"score":-3,"last_activity_date":1701677706,"creation_date":1701677140,"question_id":77597968,"body_markdown":"I am facing an issue while generating a report using Jasper Reports. I have reviewed my code and configuration, but I am unable to identify the root cause of this issue.\r\n\r\nError:\r\n\r\n```    \r\nnet.sf.jasperreports.engine.JRException: Error retrieving field value from bean: Descrizione.\r\n    \tat net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:205) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getFieldValue(JRAbstractBeanDataSource.java:170) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.data.JRBeanCollectionDataSource.getFieldValue(JRBeanCollectionDataSource.java:104) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:1507) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1408) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1384) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1201) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:117) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: java.lang.NoSuchMethodException: Unknown property &#39;Descrizione&#39; on class &#39;class com.reportserver.report.model.CapitoloReport&#39;\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getSimpleProperty(PropertyUtilsBean.java:1270) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:809) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:885) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:464) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n```","title":"Fill report on jasper report spirng boot","body":"<p>I am facing an issue while generating a report using Jasper Reports. I have reviewed my code and configuration, but I am unable to identify the root cause of this issue.</p>\n<p>Error:</p>\n<pre><code>net.sf.jasperreports.engine.JRException: Error retrieving field value from bean: Descrizione.\n        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:205) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getFieldValue(JRAbstractBeanDataSource.java:170) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.data.JRBeanCollectionDataSource.getFieldValue(JRBeanCollectionDataSource.java:104) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:1507) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1408) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1384) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1201) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:117) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    Caused by: java.lang.NoSuchMethodException: Unknown property 'Descrizione' on class 'class com.reportserver.report.model.CapitoloReport'\n        at org.apache.commons.beanutils.PropertyUtilsBean.getSimpleProperty(PropertyUtilsBean.java:1270) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:809) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:885) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:464) ~[commons-beanutils-1.9.4.jar:1.9.4]\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701677409,"creation_date":1701676800,"answer_id":77597947,"question_id":77597825,"body_markdown":"You have made a simple mistake in `DriverUtil`.\r\n\r\n    public class DriverUtils {\r\n        static WebDriver driver;\r\n        \r\n        public static void createDriver() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;...&quot;);\r\n            \r\n            WebDriver driver = new ChromeDriver();   // MISTAKE\r\n            ...\r\n        }\r\n        \r\n        public static WebDriver getDriver() {\r\n            if (driver == null) {\r\n                createDriver();\r\n            }\r\n            return driver;\r\n        }\r\n    }\r\n\r\nThe problem is that `createDriver` has declared a local `driver` variable, so it is not updating the `static WebDriver driver` field.\r\n\r\nThus ... the `getDriver()` method is ALWAYS going to return `null`.\r\n\r\n---------------\r\n\r\nThere are other flaws in your code:\r\n\r\n  - You have embedded the absolute path to a chromedriver within you home directory ... into your code.  That means that the tests will fail if anyone else tries to run them.\r\n\r\n  - This code is not thread-safe.  It probably doesn&#39;t matter in this context, but if you were ever to run the tests in parallel, some threads would share the `WebDriver` instance, and others wouldn&#39;t.  \r\n\r\n  - If tests share a `WebDriver`  instance, they could interfere with each other.  Indeed, if the tests are running simultaneously, it could be rather ... bad.","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null","body":"<p>You have made a simple mistake in <code>DriverUtil</code>.</p>\n<pre><code>public class DriverUtils {\n    static WebDriver driver;\n    \n    public static void createDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;...&quot;);\n        \n        WebDriver driver = new ChromeDriver();   // MISTAKE\n        ...\n    }\n    \n    public static WebDriver getDriver() {\n        if (driver == null) {\n            createDriver();\n        }\n        return driver;\n    }\n}\n</code></pre>\n<p>The problem is that <code>createDriver</code> has declared a local <code>driver</code> variable, so it is not updating the <code>static WebDriver driver</code> field.</p>\n<p>Thus ... the <code>getDriver()</code> method is ALWAYS going to return <code>null</code>.</p>\n<hr />\n<p>There are other flaws in your code:</p>\n<ul>\n<li><p>You have embedded the absolute path to a chromedriver within you home directory ... into your code.  That means that the tests will fail if anyone else tries to run them.</p>\n</li>\n<li><p>This code is not thread-safe.  It probably doesn't matter in this context, but if you were ever to run the tests in parallel, some threads would share the <code>WebDriver</code> instance, and others wouldn't.</p>\n</li>\n<li><p>If tests share a <code>WebDriver</code>  instance, they could interfere with each other.  Indeed, if the tests are running simultaneously, it could be rather ... bad.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701729872,"accepted_answer_id":77597947,"answer_count":1,"score":0,"last_activity_date":1701677409,"creation_date":1701675338,"question_id":77597825,"body_markdown":"I am getting some error in test ng but unable to understand why !\r\n\r\nThis is my file for driver utils : \r\n\r\n    package Utils;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class DriverUtils {\r\n    \tstatic WebDriver driver;\r\n    \t\r\n    \tpublic static void createDriver() {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Rohit Nagar\\\\eclipse-workspace\\\\Hexaware_OrangeHRM\\\\src\\\\test\\\\resources\\\\Driver\\\\chromedriver.exe&quot;);\r\n    \t\t\r\n    \t\tWebDriver driver=new ChromeDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;https://demowebshop.tricentis.com/login&quot;);\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static WebDriver getDriver() {\r\n    \t\tif(driver==null) {\r\n    \t\t\tcreateDriver();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn driver;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is code for BasePage: \r\n\r\n    package POM;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import Utils.DriverUtils;\r\n    \r\n    public class BasePage {\r\n    \tWebDriver driver;\r\n    \tBasePage(){\r\n    \t\tdriver = DriverUtils.getDriver();\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    }\r\n\r\nCode for Login Page: \r\n\r\n    package POM;\r\n    \r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    \r\n    public class LoginPages extends BasePage {\r\n    \t//Declaration\r\n    \t@FindBy(xpath = &quot;//input[@id = &#39;Email&#39;]&quot;)\r\n    \tprivate WebElement txtUser;\r\n    \t\r\n    \t@FindBy(xpath = &quot;//input[@id = &#39;Password&#39;]&quot;)\r\n    \tprivate WebElement txtPassword;\r\n    \t\r\n    \t@FindBy(xpath = &quot;//input[@class= &#39;button-1 login-button&#39;]&quot;)\r\n    \tprivate WebElement buttonLogin;\r\n    \t\r\n    \tpublic void enterUsername(String str) {\r\n    \t\ttxtUser.sendKeys(str);\r\n    \t}\r\n    \t\r\n    \tpublic void enterPassword(String str) {\r\n    \t\ttxtPassword.sendKeys(str);\r\n    \t}\r\n    \t\r\n    \tpublic void loginClick() {\r\n    \t\tbuttonLogin.click();\r\n    \t}\r\n    }\r\n\r\n\r\nAnd this is my testlogin PAge: \r\n\r\n    package Test;\r\n    \r\n    import org.testng.annotations.Test;\r\n    \r\n    import POM.LoginPages;\r\n    import Utils.DriverUtils;\r\n    \r\n    public class LoginTestOne {\r\n    \t@Test\r\n    \tpublic void verifyLogin() throws InterruptedException {\r\n    \t\tDriverUtils.getDriver().get(&quot;https://demowebshop.tricentis.com/login&quot;);\r\n    \t\t\r\n    \t\tThread.sleep(10000);\r\n    \t\tLoginPages lp = new LoginPages();\r\n    \t\t\r\n    \t\tThread.sleep(10000);\r\n    \t\t\r\n    \t\tlp.enterUsername(&quot;&quot;);\r\n    \t\t\r\n    \t\tlp.enterPassword(&quot;&quot;);\r\n    \t\tlp.loginClick();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**This is what error I am getting in eclipse :** \r\n\r\n    *FAILED: Test.LoginTestOne.verifyLogin\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null\r\n    \tat Test.LoginTestOne.verifyLogin(LoginTestOne.java:11)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:621)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n    \tat org.testng.TestNG.run(TestNG.java:1082)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)*\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null","body":"<p>I am getting some error in test ng but unable to understand why !</p>\n<p>This is my file for driver utils :</p>\n<pre><code>package Utils;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class DriverUtils {\n    static WebDriver driver;\n    \n    public static void createDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Rohit Nagar\\\\eclipse-workspace\\\\Hexaware_OrangeHRM\\\\src\\\\test\\\\resources\\\\Driver\\\\chromedriver.exe&quot;);\n        \n        WebDriver driver=new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://demowebshop.tricentis.com/login&quot;);\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        \n    }\n    \n    public static WebDriver getDriver() {\n        if(driver==null) {\n            createDriver();\n        }\n        \n        return driver;\n    }\n    \n}\n</code></pre>\n<p>This is code for BasePage:</p>\n<pre><code>package POM;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\n\nimport Utils.DriverUtils;\n\npublic class BasePage {\n    WebDriver driver;\n    BasePage(){\n        driver = DriverUtils.getDriver();\n        PageFactory.initElements(driver, this);\n    }\n}\n</code></pre>\n<p>Code for Login Page:</p>\n<pre><code>package POM;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class LoginPages extends BasePage {\n    //Declaration\n    @FindBy(xpath = &quot;//input[@id = 'Email']&quot;)\n    private WebElement txtUser;\n    \n    @FindBy(xpath = &quot;//input[@id = 'Password']&quot;)\n    private WebElement txtPassword;\n    \n    @FindBy(xpath = &quot;//input[@class= 'button-1 login-button']&quot;)\n    private WebElement buttonLogin;\n    \n    public void enterUsername(String str) {\n        txtUser.sendKeys(str);\n    }\n    \n    public void enterPassword(String str) {\n        txtPassword.sendKeys(str);\n    }\n    \n    public void loginClick() {\n        buttonLogin.click();\n    }\n}\n</code></pre>\n<p>And this is my testlogin PAge:</p>\n<pre><code>package Test;\n\nimport org.testng.annotations.Test;\n\nimport POM.LoginPages;\nimport Utils.DriverUtils;\n\npublic class LoginTestOne {\n    @Test\n    public void verifyLogin() throws InterruptedException {\n        DriverUtils.getDriver().get(&quot;https://demowebshop.tricentis.com/login&quot;);\n        \n        Thread.sleep(10000);\n        LoginPages lp = new LoginPages();\n        \n        Thread.sleep(10000);\n        \n        lp.enterUsername(&quot;&quot;);\n        \n        lp.enterPassword(&quot;&quot;);\n        lp.loginClick();\n        \n    }\n}\n</code></pre>\n<p><strong>This is what error I am getting in eclipse :</strong></p>\n<pre><code>*FAILED: Test.LoginTestOne.verifyLogin\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null\n    at Test.LoginTestOne.verifyLogin(LoginTestOne.java:11)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)*\n</code></pre>\n"},{"tags":["java","redis","jedis"],"owner":{"account_id":30037485,"reputation":1,"user_id":23019101,"display_name":"YAMAGON"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677382,"creation_date":1701411560,"question_id":77583329,"body_markdown":"We are in the process of upgrading the Jedis dependency for one of our services from version 3.7.0 to the latest version 5.0.0.\r\n\r\nIn the process, we encountered an event that prevents us from using the previous code.\r\n\r\n```  \r\n// watch for key in database 0\r\njedis.watch(key);\r\njedis.select(1);\r\n// watch for key2 in database 1\r\njedis.watch(key2);\r\njedis.select(0);\r\n \r\nTransaction transaction = jedis.multi();\r\n \r\ntransaction.hset(key, &quot;name&quot;, &quot;john Doe&quot;);\r\ntransaction.hset(key, &quot;class&quot;, &quot;Worker&quot;);\r\n\r\n// method cannot be used.\r\ntransaction.select(1);\r\n \r\ntransaction.hset(key2, &quot;name&quot;, &quot;jane Doe&quot;);\r\ntransaction.hset(key2, &quot;class&quot;, &quot;Worker&quot;);\r\ntransaction.exec();\r\n```\r\n\r\nAs you can see, we used method call, but since version 4 - it is removed. What would be the closest equivalent (or is it needed at all) of the call since Jedis version 4?`transaction.select(int index)`\r\n\r\nI consider the following method as an alternative.  \r\n`transaction.sendCommand(SELECT, toByteArray(9));`  \r\nHowever, I could not determine if using this method is the best answer.  \r\nI think there is some glitch or inconvenient reason why that method was removed.  \r\n \r\nI would like to minimize the impact of code changes in the recommended manner.  \r\nI would also like to know why it was removed.`transaction.select(int index)`","title":"Transaction#select() replacement since Jedis version 4","body":"<p>We are in the process of upgrading the Jedis dependency for one of our services from version 3.7.0 to the latest version 5.0.0.</p>\n<p>In the process, we encountered an event that prevents us from using the previous code.</p>\n<pre><code>// watch for key in database 0\njedis.watch(key);\njedis.select(1);\n// watch for key2 in database 1\njedis.watch(key2);\njedis.select(0);\n \nTransaction transaction = jedis.multi();\n \ntransaction.hset(key, &quot;name&quot;, &quot;john Doe&quot;);\ntransaction.hset(key, &quot;class&quot;, &quot;Worker&quot;);\n\n// method cannot be used.\ntransaction.select(1);\n \ntransaction.hset(key2, &quot;name&quot;, &quot;jane Doe&quot;);\ntransaction.hset(key2, &quot;class&quot;, &quot;Worker&quot;);\ntransaction.exec();\n</code></pre>\n<p>As you can see, we used method call, but since version 4 - it is removed. What would be the closest equivalent (or is it needed at all) of the call since Jedis version 4?<code>transaction.select(int index)</code></p>\n<p>I consider the following method as an alternative.<br />\n<code>transaction.sendCommand(SELECT, toByteArray(9));</code><br />\nHowever, I could not determine if using this method is the best answer.<br />\nI think there is some glitch or inconvenient reason why that method was removed.</p>\n<p>I would like to minimize the impact of code changes in the recommended manner.<br />\nI would also like to know why it was removed.<code>transaction.select(int index)</code></p>\n"},{"tags":["java","spring","escaping","yaml","spring-el"],"comments":[{"owner":{"account_id":290886,"reputation":2324,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513877908,"post_id":47929315,"comment_id":82828704,"body_markdown":"Could you please post the code where you use the `csv.file.pattern`? I know for sure that the 3rd escaping option works, because I&#39;ve used it (successfully) as well","body":"Could you please post the code where you use the <code>csv.file.pattern</code>? I know for sure that the 3rd escaping option works, because I&#39;ve used it (successfully) as well"},{"owner":{"account_id":290886,"reputation":2324,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513878665,"post_id":47929315,"comment_id":82829049,"body_markdown":"My test with a YAML file (application.yml) with Spring Boot has injected the value properly. I used `@Value(&quot;${csv.file.pattern}&quot;)` annotation to inject the pattern, and I&#39;ve got the `/some/path/${app-name}.csv` result, just as expected. Since this doesn&#39;t work for you for some reason, your setup might be different, and I&#39;m trying to determine what is the difference. Could be the difference in YAML library, Spring version, etc, for all I know.","body":"My test with a YAML file (application.yml) with Spring Boot has injected the value properly. I used <code>@Value(&quot;${csv.file.pattern}&quot;)</code> annotation to inject the pattern, and I&#39;ve got the <code>&#47;some&#47;path&#47;${app-name}.csv</code> result, just as expected. Since this doesn&#39;t work for you for some reason, your setup might be different, and I&#39;m trying to determine what is the difference. Could be the difference in YAML library, Spring version, etc, for all I know."},{"owner":{"account_id":290886,"reputation":2324,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513879222,"post_id":47929315,"comment_id":82829307,"body_markdown":"Just to clarify, while it might not be relevant how you **use** the variable after, it&#39;s definitely relevant how you **inject** it, and that&#39;s what I&#39;m trying to ask.","body":"Just to clarify, while it might not be relevant how you <b>use</b> the variable after, it&#39;s definitely relevant how you <b>inject</b> it, and that&#39;s what I&#39;m trying to ask."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1513940614,"post_id":47929315,"comment_id":82849965,"body_markdown":"@AlexSavitsky Aha, I am not using `@Value`, but `@ConfigurationProperties`.","body":"@AlexSavitsky Aha, I am not using <code>@Value</code>, but <code>@ConfigurationProperties</code>."},{"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"score":0,"creation_date":1534021334,"post_id":47929315,"comment_id":90563520,"body_markdown":"`pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;` works for me. And I used @Value annotation. Why not to use @Value?","body":"<code>pattern: &quot;&#47;some&#47;path&#47;#{&#39;$&#39;}{app-name}.csv&quot;</code> works for me. And I used @Value annotation. Why not to use @Value?"}],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1636463807,"creation_date":1513889033,"answer_id":47932477,"question_id":47929315,"body_markdown":"Spring currently does not offer an escaping mechanism for property placeholders, there is an [open issue][1] (opened on 25.06.2008). In the comments, this workaround is mentioned (I am not sure whether it works with YAML):\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n\r\nNote that when used after whitespace or at the beginning of a line, `#` in YAML starts a comment.\r\n\r\n [1]: https://jira.spring.io/browse/SPR-4953","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Spring currently does not offer an escaping mechanism for property placeholders, there is an <a href=\"https://jira.spring.io/browse/SPR-4953\" rel=\"nofollow noreferrer\">open issue</a> (opened on 25.06.2008). In the comments, this workaround is mentioned (I am not sure whether it works with YAML):</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{'$'}{app-name}.csv\n</code></pre>\n<p>Note that when used after whitespace or at the beginning of a line, <code>#</code> in YAML starts a comment.</p>\n"},{"tags":[],"owner":{"account_id":290886,"reputation":2324,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1513952313,"creation_date":1513952313,"answer_id":47942988,"question_id":47929315,"body_markdown":"The answer really depends on how exactly you inject values into your code. Since you haven&#39;t provided it yet, I&#39;ll just list the various **working** techniques.\r\n\r\n1. You can use `@Value` annotation to inject your property. Since, [unlike `@ConfigurationProperties`, `@Value` does SpEL evaluation][1], you have to escape your value.\r\n\r\napplication.yml:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n\r\nTestController.java:\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \t@Value(&quot;${csv.file.pattern}&quot;) private String pattern;\r\n    \t@GetMapping(&quot;pattern&quot;) public ResponseEntity&lt;String&gt; getPattern() {\r\n    \t\treturn ResponseEntity.ok(pattern);\r\n    \t}\r\n    }\r\n\r\nA GET to `/pattern` would result in an output `/some/path/#{app-name}.csv`, just as you needed\r\n\r\n2. You can use `@ConfigurationProperties`, and here it really depends on how you structure your configuration objects. Generally, though, `@ConfigurationProperties` should require no escaping, as they don&#39;t support SpEL by default. The following works, though, so if your setup is different, modify it:\r\n\r\napplication.yml:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{app-name}.csv\r\n\r\nConfig.java:\r\n\r\n    @ConfigurationProperties(prefix = &quot;csv.file&quot;)\r\n    public class Config {\r\n    \tprivate String pattern;\r\n    \tpublic String getPattern() { return pattern; }\r\n       \tpublic void setPattern(String pattern) { this.pattern = pattern; }\r\n    }\r\n\r\nTestController.java:\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \t@Autowired private Config config;\r\n    \t@GetMapping(&quot;pattern&quot;) public ResponseEntity&lt;String&gt; getPattern() {\r\n    \t\treturn ResponseEntity.ok(config.getPattern());\r\n    \t}\r\n    }\r\n\r\nAgain, a GET to `/pattern` would result in an output `/some/path/#{app-name}.csv`\r\n\r\nWhat you most likely have is some different structure in your Config.java (post the relevant code, maybe?), and this could cause the property to not be processed properly.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-vs-value\r\n\r\n\r\n\r\n\r\n","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>The answer really depends on how exactly you inject values into your code. Since you haven't provided it yet, I'll just list the various <strong>working</strong> techniques.</p>\n\n<ol>\n<li>You can use <code>@Value</code> annotation to inject your property. Since, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-vs-value\" rel=\"nofollow noreferrer\">unlike <code>@ConfigurationProperties</code>, <code>@Value</code> does SpEL evaluation</a>, you have to escape your value.</li>\n</ol>\n\n<p>application.yml:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{'$'}{app-name}.csv\n</code></pre>\n\n<p>TestController.java:</p>\n\n<pre><code>@RestController\npublic class TestController {\n    @Value(\"${csv.file.pattern}\") private String pattern;\n    @GetMapping(\"pattern\") public ResponseEntity&lt;String&gt; getPattern() {\n        return ResponseEntity.ok(pattern);\n    }\n}\n</code></pre>\n\n<p>A GET to <code>/pattern</code> would result in an output <code>/some/path/#{app-name}.csv</code>, just as you needed</p>\n\n<ol start=\"2\">\n<li>You can use <code>@ConfigurationProperties</code>, and here it really depends on how you structure your configuration objects. Generally, though, <code>@ConfigurationProperties</code> should require no escaping, as they don't support SpEL by default. The following works, though, so if your setup is different, modify it:</li>\n</ol>\n\n<p>application.yml:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{app-name}.csv\n</code></pre>\n\n<p>Config.java:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"csv.file\")\npublic class Config {\n    private String pattern;\n    public String getPattern() { return pattern; }\n    public void setPattern(String pattern) { this.pattern = pattern; }\n}\n</code></pre>\n\n<p>TestController.java:</p>\n\n<pre><code>@RestController\npublic class TestController {\n    @Autowired private Config config;\n    @GetMapping(\"pattern\") public ResponseEntity&lt;String&gt; getPattern() {\n        return ResponseEntity.ok(config.getPattern());\n    }\n}\n</code></pre>\n\n<p>Again, a GET to <code>/pattern</code> would result in an output <code>/some/path/#{app-name}.csv</code></p>\n\n<p>What you most likely have is some different structure in your Config.java (post the relevant code, maybe?), and this could cause the property to not be processed properly.</p>\n"},{"tags":[],"owner":{"account_id":9299922,"reputation":155,"user_id":8247385,"display_name":"IWonderHowLongANameICanTypeInH"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1568148887,"creation_date":1568148887,"answer_id":57878092,"question_id":47929315,"body_markdown":"I had the same problem, i just found &lt;strike&gt;dumb&lt;/strike&gt; clever solution\r\ndefine a property named dollarSign or ds for short.\r\n\r\n    ds: &quot;$&quot;\r\nthen use it like so, `${ds}` will be replace by `$` at runtime.\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${ds}{app-name}.csv\r\n\r\nit was kind of funny when it worked.","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>I had the same problem, i just found <strike>dumb</strike> clever solution\ndefine a property named dollarSign or ds for short.</p>\n\n<pre><code>ds: \"$\"\n</code></pre>\n\n<p>then use it like so, <code>${ds}</code> will be replace by <code>$</code> at runtime.</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/${ds}{app-name}.csv\n</code></pre>\n\n<p>it was kind of funny when it worked.</p>\n"},{"tags":[],"owner":{"account_id":16637283,"reputation":9,"user_id":12522484,"display_name":"Eric Lee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576127171,"creation_date":1576127171,"answer_id":59298031,"question_id":47929315,"body_markdown":"Why not try using `${sys:$}` which is ugly but effective. I think no one will use `$` as the key.","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Why not try using <code>${sys:$}</code> which is ugly but effective. I think no one will use <code>$</code> as the key.</p>\n"},{"tags":[],"owner":{"account_id":2349541,"reputation":353,"user_id":2058789,"display_name":"Andrej Burcev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580312111,"creation_date":1580312111,"answer_id":59970479,"question_id":47929315,"body_markdown":"Actually none of the answers worked for me. However, adding a double dollar sign worked for me fine:\r\n\r\n```\r\ncsv:\r\n  file:\r\n    pattern: /some/path/$${app-name}.csv\r\n```","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Actually none of the answers worked for me. However, adding a double dollar sign worked for me fine:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/$${app-name}.csv\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1469662,"reputation":1917,"user_id":1381532,"accept_rate":82,"display_name":"Aylwyn Lake"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584576615,"creation_date":1584576615,"answer_id":60749185,"question_id":47929315,"body_markdown":"I&#39;ve encountered a same problem. So you can resolve this by using yaml literal style symbol &quot;`|`&quot; , or by using literal_strip &quot;`|-`&quot; like following example.\r\n\r\n**application.yml**\r\n\r\n    csv:\r\n      file:\r\n        pattern: |-\r\n          /some/path/${app-name}.csv\r\n\r\n---\r\n\r\nActually My problem is config a formula in yml and then dynamic resolve the expression in java. Sharing the solution here. \r\n\r\nI choose spring el solution and use spring version `5.0.9.RELEASE`.\r\n\r\nI define a formular in yml,\r\n\r\n    score:\r\n      formula: |-\r\n        10 * #x + #y\r\n\r\nThen in a spring component bean,\r\n\r\n    @Value(&quot;${score.formula}&quot;)\r\n    String scoreFormula;\r\n\r\nAt last by using spring el,\r\n\r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    EvaluationContext context = SimpleEvaluationContext.forReadOnlyDataBinding().build();\r\n    \r\n    context.setVariable(&quot;x&quot;, 1);\r\n    context.setVariable(&quot;y&quot;, 1);\r\n    Integer score = parser.parseExpression(scoreFormula).getValue(context,Integer.class);\r\n\r\n---\r\n**reference**\r\n\r\n[yaml-multi-line][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/yaml-multi-line","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>I've encountered a same problem. So you can resolve this by using yaml literal style symbol \"<code>|</code>\" , or by using literal_strip \"<code>|-</code>\" like following example.</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>csv:\n  file:\n    pattern: |-\n      /some/path/${app-name}.csv\n</code></pre>\n\n<hr>\n\n<p>Actually My problem is config a formula in yml and then dynamic resolve the expression in java. Sharing the solution here. </p>\n\n<p>I choose spring el solution and use spring version <code>5.0.9.RELEASE</code>.</p>\n\n<p>I define a formular in yml,</p>\n\n<pre><code>score:\n  formula: |-\n    10 * #x + #y\n</code></pre>\n\n<p>Then in a spring component bean,</p>\n\n<pre><code>@Value(\"${score.formula}\")\nString scoreFormula;\n</code></pre>\n\n<p>At last by using spring el,</p>\n\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\nEvaluationContext context = SimpleEvaluationContext.forReadOnlyDataBinding().build();\n\ncontext.setVariable(\"x\", 1);\ncontext.setVariable(\"y\", 1);\nInteger score = parser.parseExpression(scoreFormula).getValue(context,Integer.class);\n</code></pre>\n\n<hr>\n\n<p><strong>reference</strong></p>\n\n<p><a href=\"https://www.baeldung.com/yaml-multi-line\" rel=\"nofollow noreferrer\">yaml-multi-line</a></p>\n"},{"tags":[],"owner":{"account_id":8704724,"reputation":9,"user_id":6513224,"display_name":"Alexandre Jacquot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588073268,"creation_date":1588071932,"answer_id":61478699,"question_id":47929315,"body_markdown":"You need to use `#{&#39;$&#39;}` and as you use yaml you need to surround the value with double quotes: \r\n \r\n\r\n```yaml\r\ncsv:\r\n  file:\r\n    pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;\r\n```\r\n \r\n","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>You need to use <code>#{'$'}</code> and as you use yaml you need to surround the value with double quotes: </p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>csv:\n  file:\n    pattern: \"/some/path/#{'$'}{app-name}.csv\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5072657,"reputation":3280,"user_id":4071001,"display_name":"lcnicolau"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1644094806,"creation_date":1644094806,"answer_id":71002105,"question_id":47929315,"body_markdown":"Use a combination of empty key and dollar sign `$` as default value:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${:$}{app-name}.csv","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Use a combination of empty key and dollar sign <code>$</code> as default value:</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/${:$}{app-name}.csv\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16831,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1701677257,"creation_date":1513874751,"question_id":47929315,"body_markdown":"In a Spring YAML configuration file, I need to have a parameter like\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${app-name}.csv\r\n\r\nwhere the `${app-name}` is dynamically replaced in run time by the Java code, and I do not want Spring to replace it at the startup.\r\n\r\nTo achieve this, I need to escape the `$` character so Spring does not interpret it as [SpEL][1].\r\n\r\nThe following answers **do not** work in YAML:\r\n\r\n- `\\$` https://stackoverflow.com/q/8271033/2886891\r\n\r\n- `#{&#39;$&#39;}` https://stackoverflow.com/q/13162346/2886891\r\n\r\n- https://stackoverflow.com/q/43493857/2886891\r\n\r\nI tried all the combinations, like\r\n\r\n    pattern: /some/path/\\${app-name}.csv\r\n    pattern: &quot;/some/path/\\${app-name}.csv&quot;\r\n    pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n    pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;\r\n\r\nand none of them produces the variable containing the requested string, **with** the dollar sign but **without** the escape characters.\r\n\r\nPlease notice that it is **YAML** configuration. In YAML files, `#` is the line comment character, everything from this character on is ignored. And if I use `\\#`, the `\\` is then passed to the string.\r\n\r\nADDED: There has been an [Spring project open issue 9628][2] open since 25.06.2008:\r\n\r\n&gt; There is presently no way to inject a ${...} expression that won&#39;t be picked up by PropertyPlaceholderConfigurer. Ideally we should be able to inject a string that contains ${...} for later use in its target bean without involvement from PropertyPlaceholderConfigurer.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/9628","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>In a Spring YAML configuration file, I need to have a parameter like</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/${app-name}.csv\n</code></pre>\n<p>where the <code>${app-name}</code> is dynamically replaced in run time by the Java code, and I do not want Spring to replace it at the startup.</p>\n<p>To achieve this, I need to escape the <code>$</code> character so Spring does not interpret it as <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\" rel=\"noreferrer\">SpEL</a>.</p>\n<p>The following answers <strong>do not</strong> work in YAML:</p>\n<ul>\n<li><p><code>\\$</code> <a href=\"https://stackoverflow.com/q/8271033/2886891\">How to escape EL dollar signs?</a></p>\n</li>\n<li><p><code>#{'$'}</code> <a href=\"https://stackoverflow.com/q/13162346/2886891\">Escape property reference in Spring property file</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/q/43493857/2886891\">Could not read properties if it contains dollar symbol (${var})</a></p>\n</li>\n</ul>\n<p>I tried all the combinations, like</p>\n<pre><code>pattern: /some/path/\\${app-name}.csv\npattern: &quot;/some/path/\\${app-name}.csv&quot;\npattern: /some/path/#{'$'}{app-name}.csv\npattern: &quot;/some/path/#{'$'}{app-name}.csv&quot;\n</code></pre>\n<p>and none of them produces the variable containing the requested string, <strong>with</strong> the dollar sign but <strong>without</strong> the escape characters.</p>\n<p>Please notice that it is <strong>YAML</strong> configuration. In YAML files, <code>#</code> is the line comment character, everything from this character on is ignored. And if I use <code>\\#</code>, the <code>\\</code> is then passed to the string.</p>\n<p>ADDED: There has been an <a href=\"https://github.com/spring-projects/spring-framework/issues/9628\" rel=\"noreferrer\">Spring project open issue 9628</a> open since 25.06.2008:</p>\n<blockquote>\n<p>There is presently no way to inject a ${...} expression that won't be picked up by PropertyPlaceholderConfigurer. Ideally we should be able to inject a string that contains ${...} for later use in its target bean without involvement from PropertyPlaceholderConfigurer.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677198,"creation_date":1701665115,"question_id":77597267,"body_markdown":"Look, this code doesn&#39;t work:\r\n```java\r\npackage com.example.gatewaydemo.routing;\r\n\r\nimport org.springframework.cloud.client.loadbalancer.LoadBalanced;\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Optional;\r\n\r\n@Configuration\r\npublic class MyRoutingConfig {\r\n    @Bean\r\n    @LoadBalanced\r\n    public WebClient.Builder webClientBuilder() {\r\n        return WebClient.builder();\r\n    }\r\n    @Bean\r\n    public RouteLocator routeLocator(WebClient.Builder webClientBuilder, RouteLocatorBuilder routeLocatorBuilder) {\r\n        Optional&lt;String&gt; string = webClientBuilder.build()\r\n                .get()\r\n                .uri(&quot;https://example.com&quot;)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .blockOptional(Duration.ofSeconds(5));\r\n        return routeLocatorBuilder.routes()\r\n                .route(predicateSpec -&gt; predicateSpec\r\n                        .path(&quot;/uuid&quot;)\r\n                        .uri(&quot;https://httpbin.org/uuid&quot;)\r\n                ).build();\r\n    }\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gatewaydemo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;gatewaydemo&lt;/name&gt;\r\n    &lt;description&gt;gatewaydemo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n```\r\n2023-12-04T07:18:40.404+03:00 ERROR 14220 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  routeLocator defined in class path resource [com/example/gatewaydemo/routing/MyRoutingConfig.class]\r\n↑     ↓\r\n|  corsGatewayFilterApplicationListener defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n↑     ↓\r\n|  routePredicateHandlerMapping defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n↑     ↓\r\n|  cachedCompositeRouteLocator defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n└─────┘\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n```\r\nTo get it to work, you need to do one of the two things (or both):\r\n\r\n1. Remove the `@LoadBalanced` annotation\r\n2. Remove the asynchronous request to `example.com` (it could be any domain)\r\n\r\nIt seems a `@LoadBalanced` `WebClient` for some reason wants a `RouteLocator` in a Gateway application\r\n\r\nIn the actual application, I use Eureka, and one [could suggest][1] the problem may have to do with that. However, as you see, I reproduced the issue even without Eureka\r\n\r\nIt has relevance since in my project, I [use][2] a `WebClient` to dynamically build routes in runtime. It has to be a `@LoadBalanced` `WebClient` since it should be able to resolve microservice names\r\n\r\nWhat is happening and what are the solutions/workarounds?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled\r\n  [2]: https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator","title":"LoadBalanced WebClient seems to want my RouteLocator. What for?","body":"<p>Look, this code doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gatewaydemo.routing;\n\nimport org.springframework.cloud.client.loadbalancer.LoadBalanced;\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport java.time.Duration;\nimport java.util.Optional;\n\n@Configuration\npublic class MyRoutingConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder() {\n        return WebClient.builder();\n    }\n    @Bean\n    public RouteLocator routeLocator(WebClient.Builder webClientBuilder, RouteLocatorBuilder routeLocatorBuilder) {\n        Optional&lt;String&gt; string = webClientBuilder.build()\n                .get()\n                .uri(&quot;https://example.com&quot;)\n                .retrieve()\n                .bodyToMono(String.class)\n                .blockOptional(Duration.ofSeconds(5));\n        return routeLocatorBuilder.routes()\n                .route(predicateSpec -&gt; predicateSpec\n                        .path(&quot;/uuid&quot;)\n                        .uri(&quot;https://httpbin.org/uuid&quot;)\n                ).build();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;gatewaydemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;gatewaydemo&lt;/name&gt;\n    &lt;description&gt;gatewaydemo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>2023-12-04T07:18:40.404+03:00 ERROR 14220 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  routeLocator defined in class path resource [com/example/gatewaydemo/routing/MyRoutingConfig.class]\n↑     ↓\n|  corsGatewayFilterApplicationListener defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n↑     ↓\n|  routePredicateHandlerMapping defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n↑     ↓\n|  cachedCompositeRouteLocator defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n</code></pre>\n<p>To get it to work, you need to do one of the two things (or both):</p>\n<ol>\n<li>Remove the <code>@LoadBalanced</code> annotation</li>\n<li>Remove the asynchronous request to <code>example.com</code> (it could be any domain)</li>\n</ol>\n<p>It seems a <code>@LoadBalanced</code> <code>WebClient</code> for some reason wants a <code>RouteLocator</code> in a Gateway application</p>\n<p>In the actual application, I use Eureka, and one <a href=\"https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled\">could suggest</a> the problem may have to do with that. However, as you see, I reproduced the issue even without Eureka</p>\n<p>It has relevance since in my project, I <a href=\"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator\">use</a> a <code>WebClient</code> to dynamically build routes in runtime. It has to be a <code>@LoadBalanced</code> <code>WebClient</code> since it should be able to resolve microservice names</p>\n<p>What is happening and what are the solutions/workarounds?</p>\n"},{"tags":["java","android","amazon-web-services","kotlin","amazon-textract"],"owner":{"account_id":24199583,"reputation":11,"user_id":18157608,"display_name":"JRockiller1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677130,"creation_date":1701665049,"question_id":77597265,"body_markdown":"Im trying to implement Amazon&#39;s TextRact into my android application. I already have the `.aws/credentials` and `.aws/config` files that have been filled in accordance to the format given in their documentation. However, upon running, i get this error:\r\n\r\n&gt; aws.smithy.kotlin.runtime.identity.IdentityProviderException: No\r\n&gt; identity could be resolved from the chain: CredentialsProviderChain -&gt;\r\n&gt; SystemPropertyCredentialsProvider -&gt; EnvironmentCredentialsProvider -&gt;\r\n&gt; ProfileCredentialsProvider -&gt; StsWebIdentityProvider -&gt;\r\n&gt; EcsCredentialsProvider -&gt; ImdsCredentialsProvider\r\n\r\nI am using kotlin and looking at the kotlin sdk documentation, im abit lost.","title":"Identity Provider error even though everything is setup","body":"<p>Im trying to implement Amazon's TextRact into my android application. I already have the <code>.aws/credentials</code> and <code>.aws/config</code> files that have been filled in accordance to the format given in their documentation. However, upon running, i get this error:</p>\n<blockquote>\n<p>aws.smithy.kotlin.runtime.identity.IdentityProviderException: No\nidentity could be resolved from the chain: CredentialsProviderChain -&gt;\nSystemPropertyCredentialsProvider -&gt; EnvironmentCredentialsProvider -&gt;\nProfileCredentialsProvider -&gt; StsWebIdentityProvider -&gt;\nEcsCredentialsProvider -&gt; ImdsCredentialsProvider</p>\n</blockquote>\n<p>I am using kotlin and looking at the kotlin sdk documentation, im abit lost.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":30041240,"reputation":11,"user_id":23022070,"display_name":"Rakesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676550,"creation_date":1701676550,"answer_id":77597918,"question_id":77586279,"body_markdown":"Looks like our version of Spring Cloud (2022.0.4) and Spring Cloud GCP (4.8.4) is not yet compatible with Spring Boot 3.2.0 so I think we should hold off with upgrading (and even consider reverting for Konsumera&#39;s). https://spring.io/projects/spring-cloud\r\n[8:32 PM] https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301\r\nspring.iospring.io\r\nSpring Cloud\r\nLevel up your Java code and explore what Spring can do for you. (9 kB)\r\nhttps://spring.io/projects/spring-cloud\r\n\r\n#2301 Compatibility with upcoming Spring Boot 3.2 / Spring Cloud 2023.0\r\nCompatibility with Spring Project Versions currently shows that Spring Cloud GCP 4.x is compatible with Spring Boot 3.x.\r\n","title":"BeanCreationException after upgrading to spring boot parent version 3.2.0 from 3.1.5","body":"<p>Looks like our version of Spring Cloud (2022.0.4) and Spring Cloud GCP (4.8.4) is not yet compatible with Spring Boot 3.2.0 so I think we should hold off with upgrading (and even consider reverting for Konsumera's). <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud</a>\n[8:32 PM] <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301</a>\nspring.iospring.io\nSpring Cloud\nLevel up your Java code and explore what Spring can do for you. (9 kB)\n<a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud</a></p>\n<p>#2301 Compatibility with upcoming Spring Boot 3.2 / Spring Cloud 2023.0\nCompatibility with Spring Project Versions currently shows that Spring Cloud GCP 4.x is compatible with Spring Boot 3.x.</p>\n"}],"owner":{"account_id":30041240,"reputation":11,"user_id":23022070,"display_name":"Rakesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701676550,"creation_date":1701443690,"question_id":77586279,"body_markdown":"my application was on `spring boot 3.1.5` and working perfetctly, After the release of `spring boot parent version 3.2.0`, it has beeen upgraded. the pom file is as below\r\n\r\n```xml  \r\n    org.springframework.boot\r\n    spring-boot-starter-parent\r\n    3.2.0\r\n     &lt;!-- lookup parent from repository  --&gt;\r\n```  \r\n\r\nBut then while starting the server, it started throwing error like as below:\r\n\r\n```log\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/ingka/rc/kommunicera/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Invalid authentication path\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1687)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1651)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1541)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1509)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:872)\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Invalid authentication path\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\r\n\t... 42 common frames omitted\r\n```\r\n\r\nTried with adding below in `pom.xml` as suggested on the migration guide:\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31\r\n\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository  --&gt;\r\n  &lt;/parent&gt;\r\n```","title":"BeanCreationException after upgrading to spring boot parent version 3.2.0 from 3.1.5","body":"<p>my application was on <code>spring boot 3.1.5</code> and working perfetctly, After the release of <code>spring boot parent version 3.2.0</code>, it has beeen upgraded. the pom file is as below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    org.springframework.boot\n    spring-boot-starter-parent\n    3.2.0\n     &lt;!-- lookup parent from repository  --&gt;\n</code></pre>\n<p>But then while starting the server, it started throwing error like as below:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/ingka/rc/kommunicera/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Invalid authentication path\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1651)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1541)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1509)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:872)\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Invalid authentication path\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\n    ... 42 common frames omitted\n</code></pre>\n<p>Tried with adding below in <code>pom.xml</code> as suggested on the migration guide:</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository  --&gt;\n  &lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","math","calculator"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701645780,"post_id":77596481,"comment_id":136798366,"body_markdown":"On most real calculators, entering `2*-2`, pressing `-` results in the cancellation of `*`, so the result is `2*2`. When the `=` is pressed, `4` is calculated. Does your calculator work like that?  Makers of calculators solved the problem by creating a `-/+` (or `+/-`) key -- That is, a key that changes the sign of the number in the display.","body":"On most real calculators, entering <code>2*-2</code>, pressing <code>-</code> results in the cancellation of <code>*</code>, so the result is <code>2*2</code>. When the <code>=</code> is pressed, <code>4</code> is calculated. Does your calculator work like that?  Makers of calculators solved the problem by creating a <code>-&#47;+</code> (or <code>+&#47;-</code>) key -- That is, a key that changes the sign of the number in the display."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646924,"post_id":77596481,"comment_id":136798435,"body_markdown":"One of my calculators had two `-` keys: The regular one was the subtraction operator. The other one, marked (-), was used to enter a negative sign when entering a negative number.","body":"One of my calculators had two <code>-</code> keys: The regular one was the subtraction operator. The other one, marked (-), was used to enter a negative sign when entering a negative number."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701649395,"post_id":77596481,"comment_id":136798588,"body_markdown":"You might find it easier to write a state table to process inputs.  In this situation, If in operator state, see if unary operator follows and process accordingly.  There are many articles regarding state tables on the web.","body":"You might find it easier to write a state table to process inputs.  In this situation, If in operator state, see if unary operator follows and process accordingly.  There are many articles regarding state tables on the web."}],"answers":[{"tags":[],"owner":{"account_id":30058001,"reputation":77,"user_id":23034833,"display_name":"Fuzz of the Interwebs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701676328,"creation_date":1701676015,"answer_id":77597872,"question_id":77596481,"body_markdown":"There is not much required to get this to work, just 7 lines of code.\r\n\r\nAll I did was add a check for `-` right after another operator was found. Since the `isNewNumber` boolean was cleared after performing a mathematical operation, there was a gap to check if `-` came up again when the program was expecting a number.\r\n\r\nThe complete code with changes to make the expression `2*-2` get result `-4.0`\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class StackCalc {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a math expression: &quot;);\r\n        String expression = scanner.nextLine();\r\n\r\n        double result = 0;\r\n        double currentNumber = 0;\r\n        double multiplier = 1;\r\n        boolean isNewNumber = true;\r\n        boolean hasDecimal = false;\r\n        double decimalMultiplier = 0.1;\r\n        boolean negNumber = false;\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            String currentSymbol = expression.substring(i, i + 1);\r\n\r\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\r\n                if (hasDecimal) {\r\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\r\n                    decimalMultiplier /= 10;\r\n                } else { // apply neg\r\n                    double doubleSymbol = Double.parseDouble(currentSymbol);\r\n                    if (negNumber) {\r\n                       doubleSymbol = doubleSymbol * -1;\r\n                    }\r\n                    currentNumber = currentNumber * 10 + doubleSymbol;\r\n                    isNewNumber = true;\r\n                }\r\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\r\n                hasDecimal = true;\r\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\r\n                if (isNewNumber) {\r\n                    if (currentSymbol.equals(&quot;+&quot;)) {\r\n                        result = result + currentNumber * multiplier;\r\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\r\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\r\n                            multiplier = -1;\r\n                        } else {\r\n                            result = result + currentNumber * multiplier;\r\n                            multiplier = -1;\r\n                        }\r\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\r\n                        multiplier = multiplier * currentNumber;\r\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\r\n                        multiplier = multiplier / currentNumber;\r\n                    }\r\n                    currentNumber = 0;\r\n                    isNewNumber = false;\r\n                    hasDecimal = false;\r\n                    decimalMultiplier = 0.1;\r\n                    negNumber = false;\r\n                } else {\r\n                    negNumber = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        result = result + currentNumber * multiplier;\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n}\r\n```\r\nAnnotation: Oddly enough, I have access to a library that does this type of operation: convert strings into expressions and run the calculation. It was hard not to post this here and explain how to use it.","title":"Modifying Calculator to accept negative numbers","body":"<p>There is not much required to get this to work, just 7 lines of code.</p>\n<p>All I did was add a check for <code>-</code> right after another operator was found. Since the <code>isNewNumber</code> boolean was cleared after performing a mathematical operation, there was a gap to check if <code>-</code> came up again when the program was expecting a number.</p>\n<p>The complete code with changes to make the expression <code>2*-2</code> get result <code>-4.0</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class StackCalc {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a math expression: &quot;);\n        String expression = scanner.nextLine();\n\n        double result = 0;\n        double currentNumber = 0;\n        double multiplier = 1;\n        boolean isNewNumber = true;\n        boolean hasDecimal = false;\n        double decimalMultiplier = 0.1;\n        boolean negNumber = false;\n\n        for (int i = 0; i &lt; expression.length(); i++) {\n            String currentSymbol = expression.substring(i, i + 1);\n\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\n                if (hasDecimal) {\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\n                    decimalMultiplier /= 10;\n                } else { // apply neg\n                    double doubleSymbol = Double.parseDouble(currentSymbol);\n                    if (negNumber) {\n                       doubleSymbol = doubleSymbol * -1;\n                    }\n                    currentNumber = currentNumber * 10 + doubleSymbol;\n                    isNewNumber = true;\n                }\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\n                hasDecimal = true;\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\n                if (isNewNumber) {\n                    if (currentSymbol.equals(&quot;+&quot;)) {\n                        result = result + currentNumber * multiplier;\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\n                            multiplier = -1;\n                        } else {\n                            result = result + currentNumber * multiplier;\n                            multiplier = -1;\n                        }\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\n                        multiplier = multiplier * currentNumber;\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\n                        multiplier = multiplier / currentNumber;\n                    }\n                    currentNumber = 0;\n                    isNewNumber = false;\n                    hasDecimal = false;\n                    decimalMultiplier = 0.1;\n                    negNumber = false;\n                } else {\n                    negNumber = true;\n                }\n            }\n        }\n\n        result = result + currentNumber * multiplier;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n<p>Annotation: Oddly enough, I have access to a library that does this type of operation: convert strings into expressions and run the calculation. It was hard not to post this here and explain how to use it.</p>\n"}],"owner":{"account_id":30034134,"reputation":13,"user_id":23016554,"display_name":"star.rei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77597872,"answer_count":1,"score":-1,"last_activity_date":1701676328,"creation_date":1701644424,"question_id":77596481,"body_markdown":"My current calculator can compute basic operators with respect to orders of operations (*, -, /, +) but doesn&#39;t accept negative numbers. However, it does work with (-2 * 2) and returns -4 as expected but doesn&#39;t work if the first number is not negative (2 * -2 returns 4). I have tried turning the &quot;-&quot; operator to make the 2nd operand negative (so it&#39;s just all addition and no subtraction if that makes sense) but I couldn&#39;t get it to work. Thank you for your time.\r\n\r\nHere&#39;s my current code:\r\n\r\n```\r\njava.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a math expression: &quot;);\r\n        String expression = scanner.nextLine();\r\n\r\n        double result = 0;\r\n        double currentNumber = 0;\r\n        double multiplier = 1;\r\n        boolean isNewNumber = true;\r\n        boolean hasDecimal = false;\r\n        double decimalMultiplier = 0.1;\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            String currentSymbol = expression.substring(i, i + 1);\r\n\r\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\r\n                if (hasDecimal) {\r\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\r\n                    decimalMultiplier /= 10;\r\n                } else {\r\n                    currentNumber = currentNumber * 10 + Double.parseDouble(currentSymbol);\r\n                    isNewNumber = true;\r\n                }\r\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\r\n                hasDecimal = true;\\\r\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\r\n                if (isNewNumber) {\r\n                    if (currentSymbol.equals(&quot;+&quot;)) {\r\n                        result = result + currentNumber * multiplier;\r\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\r\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\r\n                            multiplier = -1;\r\n                        } else {\r\n                            result = result + currentNumber * multiplier;\r\n                            multiplier = -1;\r\n                        }\r\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\r\n                        multiplier = multiplier * currentNumber;\r\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\r\n                            multiplier = multiplier / currentNumber;\r\n                    }\r\n                    currentNumber = 0;\r\n                    isNewNumber = false;\r\n                    hasDecimal = false;\r\n                    decimalMultiplier = 0.1;\r\n                }\r\n            }\r\n        }\r\n\r\n        result = result + currentNumber * multiplier;\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n}\r\n```\r\n","title":"Modifying Calculator to accept negative numbers","body":"<p>My current calculator can compute basic operators with respect to orders of operations (*, -, /, +) but doesn't accept negative numbers. However, it does work with (-2 * 2) and returns -4 as expected but doesn't work if the first number is not negative (2 * -2 returns 4). I have tried turning the &quot;-&quot; operator to make the 2nd operand negative (so it's just all addition and no subtraction if that makes sense) but I couldn't get it to work. Thank you for your time.</p>\n<p>Here's my current code:</p>\n<pre><code>java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a math expression: &quot;);\n        String expression = scanner.nextLine();\n\n        double result = 0;\n        double currentNumber = 0;\n        double multiplier = 1;\n        boolean isNewNumber = true;\n        boolean hasDecimal = false;\n        double decimalMultiplier = 0.1;\n\n        for (int i = 0; i &lt; expression.length(); i++) {\n            String currentSymbol = expression.substring(i, i + 1);\n\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\n                if (hasDecimal) {\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\n                    decimalMultiplier /= 10;\n                } else {\n                    currentNumber = currentNumber * 10 + Double.parseDouble(currentSymbol);\n                    isNewNumber = true;\n                }\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\n                hasDecimal = true;\\\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\n                if (isNewNumber) {\n                    if (currentSymbol.equals(&quot;+&quot;)) {\n                        result = result + currentNumber * multiplier;\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\n                            multiplier = -1;\n                        } else {\n                            result = result + currentNumber * multiplier;\n                            multiplier = -1;\n                        }\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\n                        multiplier = multiplier * currentNumber;\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\n                            multiplier = multiplier / currentNumber;\n                    }\n                    currentNumber = 0;\n                    isNewNumber = false;\n                    hasDecimal = false;\n                    decimalMultiplier = 0.1;\n                }\n            }\n        }\n\n        result = result + currentNumber * multiplier;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701632215,"creation_date":1701632215,"answer_id":77595895,"question_id":77593041,"body_markdown":"I have solved the problem.\r\n\r\nIt turns out that the log4j library versions were *not* the most recent. Afer checking the repositories, I upgraded log4j-api and log4j-core from V2.20.0 to V2.22.0. I do not understand why, but doing this has eliminated the getCallerClass warnings.","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>I have solved the problem.</p>\n<p>It turns out that the log4j library versions were <em>not</em> the most recent. Afer checking the repositories, I upgraded log4j-api and log4j-core from V2.20.0 to V2.22.0. I do not understand why, but doing this has eliminated the getCallerClass warnings.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676076,"creation_date":1701676076,"answer_id":77597880,"question_id":77593041,"body_markdown":"In order to support all LTS Java version, `log4j-api` is a multi-release JAR. If your runtime or build environment does not supports MRJs (e.g. you shade all JARs into one, cf. [this question](https://stackoverflow.com/q/75996306/11748454)) the warning:\r\n\r\n```\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n```\r\n\r\nwill appear.\r\n\r\nNewer versions of `log4j-api` didn&#39;t change that. Only the warning message was updated to reflect the most common cause for the problem (cf. [PR #1760](https://github.com/apache/logging-log4j2/pull/1760)):\r\n\r\n```\r\nWARNING: Runtime environment or build system does not support multi-release JARs. This will impact location-based features.\r\n```\r\n\r\nPreviously the most common cause was using JREs different from OpenJDK (e.g. Android).\r\n\r\n**Remark**: The other warning message:\r\n\r\n```\r\nWARN StatusConsoleListener No Log4j 2 configuration file found.\r\n  Using default configuration (logging only errors to the console), or user programmatically provided configurations.\r\n  Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging.\r\n  See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n```\r\n\r\nhas nothing to do with the first warning. You just need to name your configuration file properly (`log4j2.xml` instead of `log4j.xml`).","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>In order to support all LTS Java version, <code>log4j-api</code> is a multi-release JAR. If your runtime or build environment does not supports MRJs (e.g. you shade all JARs into one, cf. <a href=\"https://stackoverflow.com/q/75996306/11748454\">this question</a>) the warning:</p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n</code></pre>\n<p>will appear.</p>\n<p>Newer versions of <code>log4j-api</code> didn't change that. Only the warning message was updated to reflect the most common cause for the problem (cf. <a href=\"https://github.com/apache/logging-log4j2/pull/1760\" rel=\"nofollow noreferrer\">PR #1760</a>):</p>\n<pre><code>WARNING: Runtime environment or build system does not support multi-release JARs. This will impact location-based features.\n</code></pre>\n<p>Previously the most common cause was using JREs different from OpenJDK (e.g. Android).</p>\n<p><strong>Remark</strong>: The other warning message:</p>\n<pre><code>WARN StatusConsoleListener No Log4j 2 configuration file found.\n  Using default configuration (logging only errors to the console), or user programmatically provided configurations.\n  Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging.\n  See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\n</code></pre>\n<p>has nothing to do with the first warning. You just need to name your configuration file properly (<code>log4j2.xml</code> instead of <code>log4j.xml</code>).</p>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701676076,"creation_date":1701578087,"question_id":77593041,"body_markdown":"I am building a Java application using Maven. I recently added Log4j2 libraries (log4j-api and log4j-core) to the dependencies in my pom.xml file. This enables me to perform decent logging on my application.\r\n\r\nUnfortunately, since adding those libraries, my application doesn&#39;t run properly. I am seeing the following every time I start it:\r\n\r\n    WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n    WARN StatusConsoleListener No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n\r\nI do have a log4j.xml file available to the application, so I must conclude that the missing getCallerClass is causing the failure to find it. What bothers me, however, is the fact that when looking on the Internet to discover the reason for the failure, I discovered that the sun.reflect.Reflection.getCallerClass has been removed from the JDK since Java 8. Since I am using Java 17, and my dependencies are all compatible with Java 17 (including the log4j libraries that are V2.20.0), they shouldn&#39;t even be attempting to load sun.reflect.Reflection.getCallerClass at all!\r\n\r\nI have seen plenty of documentation explaining how the sun.reflect.Reflection.getCallerClass is not supported in Java 8+, but I have been unable to get any coherent information on why log4j2 keeps insisting on attempting to load this class or how to prevent it from doing so. Can someone give some idea how I might stop log4j2 from attempting to load this class???","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>I am building a Java application using Maven. I recently added Log4j2 libraries (log4j-api and log4j-core) to the dependencies in my pom.xml file. This enables me to perform decent logging on my application.</p>\n<p>Unfortunately, since adding those libraries, my application doesn't run properly. I am seeing the following every time I start it:</p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\nWARN StatusConsoleListener No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\n</code></pre>\n<p>I do have a log4j.xml file available to the application, so I must conclude that the missing getCallerClass is causing the failure to find it. What bothers me, however, is the fact that when looking on the Internet to discover the reason for the failure, I discovered that the sun.reflect.Reflection.getCallerClass has been removed from the JDK since Java 8. Since I am using Java 17, and my dependencies are all compatible with Java 17 (including the log4j libraries that are V2.20.0), they shouldn't even be attempting to load sun.reflect.Reflection.getCallerClass at all!</p>\n<p>I have seen plenty of documentation explaining how the sun.reflect.Reflection.getCallerClass is not supported in Java 8+, but I have been unable to get any coherent information on why log4j2 keeps insisting on attempting to load this class or how to prevent it from doing so. Can someone give some idea how I might stop log4j2 from attempting to load this class???</p>\n"},{"tags":["java","serialization","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701412879,"creation_date":1701412879,"answer_id":77583407,"question_id":77578522,"body_markdown":"Compact serializer can be used in two ways.\r\n\r\n1. [With an explicit CompactSerializer][1] \r\n2. [With Zero-Configuration][2] \r\n\r\n\r\n  [1]: https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization#implementing-compactserializer\r\n  [2]: https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization\r\n\r\nI am going to show you Zero Configuration, since your are using User Code Deployment (UCD).   \r\nAssume that you have class as below. This class does **not** implement a **serialization** mechanism.\r\n```java\r\npublic class MyWorker {\r\n  String name;\r\n  \r\n  public MyWorker(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;MyWorker{&quot; +\r\n      &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n      &#39;}&#39;;\r\n  }\r\n}\r\n```\r\nAlso we have a EntryProcessor as below. **EntryProcessor** implements **Serializable**. So **MyWorkerEntryProcessor** is also serializable. I am returning **null** because I don&#39;t need updated map result on the client side.\r\n```java\r\npublic class MyWorkerEntryProcessor implements EntryProcessor&lt;Integer, MyWorker, MyWorker&gt; {\r\n  @Override\r\n  public MyWorker process(Map.Entry&lt;Integer, MyWorker&gt; entry) {\r\n    MyWorker newWorker = new MyWorker(&quot;new-worker1&quot;);\r\n    entry.setValue(newWorker);\r\n    return null;\r\n  }\r\n}\r\n```\r\nStart the server as below. **UCD** must be **enabled** on server side\r\n```java\r\n public static void main(String[] args) {\r\n  Config config = new Config();\r\n  UserCodeDeploymentConfig ucdConfig = config.getUserCodeDeploymentConfig();\r\n  ucdConfig.setEnabled(true);\r\n\r\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\nLet&#39;s have these helper methods on the client side.\r\n```java\r\nprivate static HazelcastInstance getHazelcastClientInstance() {\r\n  ClientConfig clientConfig = new ClientConfig();\r\n\r\n  // UCD\r\n  ClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\r\n  ucdConfig.setEnabled(true);\r\n  ucdConfig.addClass(MyWorker.class);\r\n  ucdConfig.addClass(MyWorkerEntryProcessor.class);\r\n\r\n  return HazelcastClient.newHazelcastClient(clientConfig);\r\n}\r\n\r\nprivate static void populateMap(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n  myWorkerMap.put(KEY, new MyWorker(&quot;worker1&quot;));\r\n}\r\n\r\nprivate static void updateWorker(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n  MyWorkerEntryProcessor entryProcessor = new MyWorkerEntryProcessor();\r\n  myWorkerMap.executeOnEntries(entryProcessor);\r\n}\r\n\r\nprivate static void printWorker(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n\r\n  MyWorker worker = myWorkerMap.get(KEY);\r\n  LOGGER.info(&quot;New Worker : {}&quot;, worker);\r\n}\r\n```\r\nLet&#39;s call them from client main\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n  // Start client\r\n  HazelcastInstance hazelcastClientInstance = getHazelcastClientInstance();\r\n\r\n  // Do test\r\n  populateMap(hazelcastClientInstance);\r\n  updateWorker(hazelcastClientInstance);\r\n  printWorker(hazelcastClientInstance);\r\n\r\n  // Shut down HZ clien\r\n  hazelcastClientInstance.shutdown();\r\n}\r\n```\r\nSo with zero config compact serialization I don&#39;t need to do anything. From the documentation you can see this sentence\r\n\r\n&gt; Compact serialization can also be used without registering a serializer in the member or client configuration.\r\n\r\nHZ automatically creates a serializer for me. There are some constraints though. From the documentation again. So your class can have only certain member field types\r\n\r\n&gt; Currently, Hazelcast supports extracting schemas out of classes that have the field types shown above and some others, for user convenience.\r\n\r\nFor the explicit serialization case that I mentioned in the beginning, you need **register** a serializer to member, **not** deploy it. You can find examples in the documentation  \r\n\r\nI hope this helps\r\n","title":"Deploy compactSerializer to hazelcast member","body":"<p>Compact serializer can be used in two ways.</p>\n<ol>\n<li><a href=\"https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization#implementing-compactserializer\" rel=\"nofollow noreferrer\">With an explicit CompactSerializer</a></li>\n<li><a href=\"https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization\" rel=\"nofollow noreferrer\">With Zero-Configuration</a></li>\n</ol>\n<p>I am going to show you Zero Configuration, since your are using User Code Deployment (UCD).<br />\nAssume that you have class as below. This class does <strong>not</strong> implement a <strong>serialization</strong> mechanism.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorker {\n  String name;\n  \n  public MyWorker(String name) {\n    this.name = name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;MyWorker{&quot; +\n      &quot;name='&quot; + name + '\\'' +\n      '}';\n  }\n}\n</code></pre>\n<p>Also we have a EntryProcessor as below. <strong>EntryProcessor</strong> implements <strong>Serializable</strong>. So <strong>MyWorkerEntryProcessor</strong> is also serializable. I am returning <strong>null</strong> because I don't need updated map result on the client side.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorkerEntryProcessor implements EntryProcessor&lt;Integer, MyWorker, MyWorker&gt; {\n  @Override\n  public MyWorker process(Map.Entry&lt;Integer, MyWorker&gt; entry) {\n    MyWorker newWorker = new MyWorker(&quot;new-worker1&quot;);\n    entry.setValue(newWorker);\n    return null;\n  }\n}\n</code></pre>\n<p>Start the server as below. <strong>UCD</strong> must be <strong>enabled</strong> on server side</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void main(String[] args) {\n  Config config = new Config();\n  UserCodeDeploymentConfig ucdConfig = config.getUserCodeDeploymentConfig();\n  ucdConfig.setEnabled(true);\n\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>Let's have these helper methods on the client side.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static HazelcastInstance getHazelcastClientInstance() {\n  ClientConfig clientConfig = new ClientConfig();\n\n  // UCD\n  ClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\n  ucdConfig.setEnabled(true);\n  ucdConfig.addClass(MyWorker.class);\n  ucdConfig.addClass(MyWorkerEntryProcessor.class);\n\n  return HazelcastClient.newHazelcastClient(clientConfig);\n}\n\nprivate static void populateMap(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n  myWorkerMap.put(KEY, new MyWorker(&quot;worker1&quot;));\n}\n\nprivate static void updateWorker(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n  MyWorkerEntryProcessor entryProcessor = new MyWorkerEntryProcessor();\n  myWorkerMap.executeOnEntries(entryProcessor);\n}\n\nprivate static void printWorker(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n\n  MyWorker worker = myWorkerMap.get(KEY);\n  LOGGER.info(&quot;New Worker : {}&quot;, worker);\n}\n</code></pre>\n<p>Let's call them from client main</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n  // Start client\n  HazelcastInstance hazelcastClientInstance = getHazelcastClientInstance();\n\n  // Do test\n  populateMap(hazelcastClientInstance);\n  updateWorker(hazelcastClientInstance);\n  printWorker(hazelcastClientInstance);\n\n  // Shut down HZ clien\n  hazelcastClientInstance.shutdown();\n}\n</code></pre>\n<p>So with zero config compact serialization I don't need to do anything. From the documentation you can see this sentence</p>\n<blockquote>\n<p>Compact serialization can also be used without registering a serializer in the member or client configuration.</p>\n</blockquote>\n<p>HZ automatically creates a serializer for me. There are some constraints though. From the documentation again. So your class can have only certain member field types</p>\n<blockquote>\n<p>Currently, Hazelcast supports extracting schemas out of classes that have the field types shown above and some others, for user convenience.</p>\n</blockquote>\n<p>For the explicit serialization case that I mentioned in the beginning, you need <strong>register</strong> a serializer to member, <strong>not</strong> deploy it. You can find examples in the documentation</p>\n<p>I hope this helps</p>\n"},{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675912,"creation_date":1701675912,"answer_id":77597865,"question_id":77578522,"body_markdown":"This answer is for registering custom compact serializer from the client side.\r\nOn the client side have this class. This time I have used lombok to make to make the code shorter.\r\n\r\n```java\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@RequiredArgsConstructor\r\n@ToString\r\npublic class MyWorker {\r\n  private final String name;\r\n}\r\n```\r\nHave a serializer on the client side\r\n```java\r\npublic class MyWorkerSerializer implements CompactSerializer&lt;MyWorker&gt; {\r\n  @Override\r\n  public MyWorker read(CompactReader compactReader) {\r\n    String name = compactReader.readString(&quot;name&quot;);\r\n    return new MyWorker(name);\r\n  }\r\n\r\n  @Override\r\n  public void write(CompactWriter compactWriter, MyWorker myWorker) {\r\n    compactWriter.writeString(&quot;name&quot;, myWorker.getName());\r\n  }\r\n\r\n  @Override\r\n  public String getTypeName() {\r\n    return &quot;myworker&quot;;\r\n  }\r\n\r\n  @Override\r\n  public Class&lt;MyWorker&gt; getCompactClass() {\r\n    return MyWorker.class;\r\n  }\r\n}\r\n```\r\nThen start the client as below. The serializer is **added** to SerializationConfig\r\n```java\r\n ClientConfig clientConfig = new ClientConfig();\r\n\r\n// UCD\r\nClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\r\nucdConfig.setEnabled(true);\r\nucdConfig.addClass(MyWorker.class);\r\nucdConfig.addClass(MyWorkerEntryProcessor.class);\r\n\r\nclientConfig.getSerializationConfig()\r\n  .getCompactSerializationConfig()\r\n  .addSerializer(new MyWorkerSerializer());\r\n\r\nHazelcastInstance hazelcastClientInstance =  \r\n HazelcastClient.newHazelcastClient(clientConfig);\r\n```\r\nThen use populateMap(),updateWorker(),printWorker() on the first answer","title":"Deploy compactSerializer to hazelcast member","body":"<p>This answer is for registering custom compact serializer from the client side.\nOn the client side have this class. This time I have used lombok to make to make the code shorter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.ToString;\n\n@Getter\n@RequiredArgsConstructor\n@ToString\npublic class MyWorker {\n  private final String name;\n}\n</code></pre>\n<p>Have a serializer on the client side</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorkerSerializer implements CompactSerializer&lt;MyWorker&gt; {\n  @Override\n  public MyWorker read(CompactReader compactReader) {\n    String name = compactReader.readString(&quot;name&quot;);\n    return new MyWorker(name);\n  }\n\n  @Override\n  public void write(CompactWriter compactWriter, MyWorker myWorker) {\n    compactWriter.writeString(&quot;name&quot;, myWorker.getName());\n  }\n\n  @Override\n  public String getTypeName() {\n    return &quot;myworker&quot;;\n  }\n\n  @Override\n  public Class&lt;MyWorker&gt; getCompactClass() {\n    return MyWorker.class;\n  }\n}\n</code></pre>\n<p>Then start the client as below. The serializer is <strong>added</strong> to SerializationConfig</p>\n<pre class=\"lang-java prettyprint-override\"><code> ClientConfig clientConfig = new ClientConfig();\n\n// UCD\nClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\nucdConfig.setEnabled(true);\nucdConfig.addClass(MyWorker.class);\nucdConfig.addClass(MyWorkerEntryProcessor.class);\n\nclientConfig.getSerializationConfig()\n  .getCompactSerializationConfig()\n  .addSerializer(new MyWorkerSerializer());\n\nHazelcastInstance hazelcastClientInstance =  \n HazelcastClient.newHazelcastClient(clientConfig);\n</code></pre>\n<p>Then use populateMap(),updateWorker(),printWorker() on the first answer</p>\n"}],"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701675912,"creation_date":1701348114,"question_id":77578522,"body_markdown":"I enabled user code deployment in hazelcast to use entry processors.\r\nThe entry processor and my entity classes are deployed to hazelcast, but the compact serializer is not deployed, so in the member side I get exception on serialization of my entity. How to deploy my compactSerializer from client side to hazelcast member and register it?","title":"Deploy compactSerializer to hazelcast member","body":"<p>I enabled user code deployment in hazelcast to use entry processors.\nThe entry processor and my entity classes are deployed to hazelcast, but the compact serializer is not deployed, so in the member side I get exception on serialization of my entity. How to deploy my compactSerializer from client side to hazelcast member and register it?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-boot-3"],"comments":[{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1693308218,"post_id":76987080,"comment_id":135740559,"body_markdown":"please show us your error in the webbrowser console and a screenshot of your response with headers in the browser.","body":"please show us your error in the webbrowser console and a screenshot of your response with headers in the browser."},{"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"score":0,"creation_date":1694039781,"post_id":76987080,"comment_id":135840580,"body_markdown":"Have you resolved this yet. The 1 answer is not a good answer, especially when you have lots of Controllers &gt; 60.","body":"Have you resolved this yet. The 1 answer is not a good answer, especially when you have lots of Controllers &gt; 60."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1693190599,"creation_date":1693142717,"answer_id":76987324,"question_id":76987080,"body_markdown":"I had the same problem and was ultimately unable to solve it with httpSecurity.config\r\n\r\nI wound up taking `.cors()` out entirely, and put a `@CrossOrigin` annotation\r\non each controller class, e.g.\r\n\r\n    @CrossOrigin(origins = &quot;http://myurl&quot;, allowCredentials = &quot;true&quot;)\r\n\r\n\r\nNote that I&#39;m specifying an explicit URL here.\r\nI&#39;m not sure whether or not wildcards will work.","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>I had the same problem and was ultimately unable to solve it with httpSecurity.config</p>\n<p>I wound up taking <code>.cors()</code> out entirely, and put a <code>@CrossOrigin</code> annotation\non each controller class, e.g.</p>\n<pre><code>@CrossOrigin(origins = &quot;http://myurl&quot;, allowCredentials = &quot;true&quot;)\n</code></pre>\n<p>Note that I'm specifying an explicit URL here.\nI'm not sure whether or not wildcards will work.</p>\n"},{"tags":[],"owner":{"account_id":27289241,"reputation":11,"user_id":20807930,"display_name":"gdthegeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696843109,"creation_date":1696843109,"answer_id":77257605,"question_id":76987080,"body_markdown":"i tried configuring CORS the same way you did, using `http.cors(Customizer.withDefaults())` and `http.cors(c -&gt; c.configurationSource(corsConfigurationSource())` but both did not work. \r\n\r\nhowever, this works for me\r\n\r\n    http.cors(cors -&gt; cors.configurationSource(request -&gt; {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n            return configuration;\r\n        }));","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>i tried configuring CORS the same way you did, using <code>http.cors(Customizer.withDefaults())</code> and <code>http.cors(c -&gt; c.configurationSource(corsConfigurationSource())</code> but both did not work.</p>\n<p>however, this works for me</p>\n<pre><code>http.cors(cors -&gt; cors.configurationSource(request -&gt; {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        return configuration;\n    }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7880721,"reputation":124,"user_id":5954817,"display_name":"Denis Korolev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701675875,"creation_date":1701675875,"answer_id":77597862,"question_id":76987080,"body_markdown":"OPTIONS method should be allowed explicitly.\r\nTry adding in `.authorizeHttpRequests`:\r\n\r\n    .requestMatchers(\r\n            AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/comments/**&quot;),\r\n            AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/requests/admin/**&quot;)\r\n    ).permitAll()","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>OPTIONS method should be allowed explicitly.\nTry adding in <code>.authorizeHttpRequests</code>:</p>\n<pre><code>.requestMatchers(\n        AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/comments/**&quot;),\n        AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/requests/admin/**&quot;)\n).permitAll()\n</code></pre>\n"}],"owner":{"account_id":6593701,"reputation":856,"user_id":5094160,"accept_rate":100,"display_name":"Jurn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1701675875,"creation_date":1693138749,"question_id":76987080,"body_markdown":"I am currently struggling with Spring Security in my Spring Boot 3 applications. It was working in Spring Boot 2 but not since I tried to upgrade to version 3.\r\n\r\nMy authentication seems to work properly and the stuff that needs to be authenticated works. However when I do a preflight (OPTIONS) check it still returns me a 401 error.\r\n\r\n\r\nMy WebSecurityConfig:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n    @Bean\r\n        public SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .cors(Customizer.withDefaults())\r\n                    .csrf(c -&gt; c.disable())\r\n                    .authorizeHttpRequests(requests -&gt; requests\r\n                            .requestMatchers(\r\n                                AntPathRequestMatcher.antMatcher(&quot;/comments/**&quot;), \r\n                                AntPathRequestMatcher.antMatcher(&quot;/requests/admin/**&quot;)\r\n                            ).authenticated()\r\n                            .anyRequest().permitAll())\r\n                    .authenticationProvider(authenticationProvider())\r\n                    .exceptionHandling(r -&gt; r.authenticationEntryPoint(jwtAuthenticationEntryPoint))\r\n                    .sessionManagement(r -&gt; r.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    // Add a filter to validate the tokens with every request\r\n                    .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    ;\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n\r\n\r\nI tried using a CorsConfigurationSource bean, but with no luck \r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.applyPermitDefaultValues();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.addAllowedMethod(&quot;GET&quot;);\r\n        corsConfig.addAllowedMethod(&quot;PATCH&quot;);\r\n        corsConfig.addAllowedMethod(&quot;POST&quot;);\r\n        corsConfig.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        corsConfig.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        corsConfig.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n        return source;\r\n    }\r\nAnd changed the `.cors(Customizer.withDefaults())` to `.cors(c -&gt; c.configurationSource(corsConfigurationSource())))` in the SecutiryFilterChain.\r\n\r\n\r\nA lot of links on the internet provide help on the issue but for SB2 instead of 3. ","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>I am currently struggling with Spring Security in my Spring Boot 3 applications. It was working in Spring Boot 2 but not since I tried to upgrade to version 3.</p>\n<p>My authentication seems to work properly and the stuff that needs to be authenticated works. However when I do a preflight (OPTIONS) check it still returns me a 401 error.</p>\n<p>My WebSecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n@Bean\n    public SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors(Customizer.withDefaults())\n                .csrf(c -&gt; c.disable())\n                .authorizeHttpRequests(requests -&gt; requests\n                        .requestMatchers(\n                            AntPathRequestMatcher.antMatcher(&quot;/comments/**&quot;), \n                            AntPathRequestMatcher.antMatcher(&quot;/requests/admin/**&quot;)\n                        ).authenticated()\n                        .anyRequest().permitAll())\n                .authenticationProvider(authenticationProvider())\n                .exceptionHandling(r -&gt; r.authenticationEntryPoint(jwtAuthenticationEntryPoint))\n                .sessionManagement(r -&gt; r.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                // Add a filter to validate the tokens with every request\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\n                ;\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p>I tried using a CorsConfigurationSource bean, but with no luck</p>\n<pre><code>@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.applyPermitDefaultValues();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.addAllowedMethod(&quot;GET&quot;);\n    corsConfig.addAllowedMethod(&quot;PATCH&quot;);\n    corsConfig.addAllowedMethod(&quot;POST&quot;);\n    corsConfig.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfig.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    corsConfig.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n    return source;\n}\n</code></pre>\n<p>And changed the <code>.cors(Customizer.withDefaults())</code> to <code>.cors(c -&gt; c.configurationSource(corsConfigurationSource())))</code> in the SecutiryFilterChain.</p>\n<p>A lot of links on the internet provide help on the issue but for SB2 instead of 3.</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":15048193,"reputation":179,"user_id":10860636,"display_name":"Nidhi Savaliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581136479,"creation_date":1581136479,"answer_id":60123953,"question_id":60123571,"body_markdown":"You can use another way to find fragment like this..\r\n\r\n    Fragment fragment = getSupportFragmentManager().findFragmentByTag(DetailsFragment .getClass().getName());\r\n\r\n    if (fragment != null &amp;&amp; fragment instanceof DetailsFragment ) {\r\n        //fragment to call DetailsFragment&#39;s method\r\n    }","title":"cast FrameLayout to Fragment","body":"<p>You can use another way to find fragment like this..</p>\n\n<pre><code>Fragment fragment = getSupportFragmentManager().findFragmentByTag(DetailsFragment .getClass().getName());\n\nif (fragment != null &amp;&amp; fragment instanceof DetailsFragment ) {\n    //fragment to call DetailsFragment's method\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29459025,"reputation":1,"user_id":22574206,"display_name":"GAREGIN VARDANYAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675133,"creation_date":1701674997,"answer_id":77597792,"question_id":60123571,"body_markdown":"\r\n# Other way is to store Fragment classes casting like this #\r\n`    Class&lt;? extends Fragment&gt; fragmentClass = AboutFragment.class;    `","title":"cast FrameLayout to Fragment","body":"<h1>Other way is to store Fragment classes casting like this</h1>\n<p><code>   Class&lt;? extends Fragment&gt; fragmentClass = AboutFragment.class;   </code></p>\n"}],"owner":{"account_id":11042694,"reputation":805,"user_id":8110010,"accept_rate":89,"display_name":"Finley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701675133,"creation_date":1581131145,"question_id":60123571,"body_markdown":"I am recently trying to understand a [sample](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java) about fragment. For this [line](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java#L144-L145), concretely:\r\n```\r\nDetailsFragment details = (DetailsFragment)getFragmentManager().findFragmentById(R.id.details);\r\n```\r\nwhere\r\n```\r\npublic static class DetailsFragment extends Fragment{\r\n...\r\n}\r\n```\r\nand the [layout.xml](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/res/layout-land/fragment_layout.xml) is as follows:\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;fragment class=&quot;com.example.android.apis.app.FragmentLayout$TitlesFragment&quot;\r\n            android:id=&quot;@+id/titles&quot; android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;0px&quot; android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;FrameLayout android:id=&quot;@+id/details&quot; android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;0px&quot; android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;?android:attr/detailsElementBackground&quot; /&gt;\r\n    \r\n&lt;/LinearLayout&gt;\r\n```\r\nMy problem is why method `findFragmentById` that receives an argument of `FrameLayout` will return an object of `Fragment` in a way like type casting? However, `FrameLayout` extends `ViewGroup` and `Fragment` extends `java.lang.Object`, they do not share a common super class.","title":"cast FrameLayout to Fragment","body":"<p>I am recently trying to understand a <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java\" rel=\"nofollow noreferrer\">sample</a> about fragment. For this <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java#L144-L145\" rel=\"nofollow noreferrer\">line</a>, concretely:</p>\n\n<pre><code>DetailsFragment details = (DetailsFragment)getFragmentManager().findFragmentById(R.id.details);\n</code></pre>\n\n<p>where</p>\n\n<pre><code>public static class DetailsFragment extends Fragment{\n...\n}\n</code></pre>\n\n<p>and the <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/res/layout-land/fragment_layout.xml\" rel=\"nofollow noreferrer\">layout.xml</a> is as follows:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"horizontal\"\n    android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment class=\"com.example.android.apis.app.FragmentLayout$TitlesFragment\"\n            android:id=\"@+id/titles\" android:layout_weight=\"1\"\n            android:layout_width=\"0px\" android:layout_height=\"match_parent\" /&gt;\n\n    &lt;FrameLayout android:id=\"@+id/details\" android:layout_weight=\"1\"\n            android:layout_width=\"0px\" android:layout_height=\"match_parent\"\n            android:background=\"?android:attr/detailsElementBackground\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My problem is why method <code>findFragmentById</code> that receives an argument of <code>FrameLayout</code> will return an object of <code>Fragment</code> in a way like type casting? However, <code>FrameLayout</code> extends <code>ViewGroup</code> and <code>Fragment</code> extends <code>java.lang.Object</code>, they do not share a common super class.</p>\n"},{"tags":["java","hibernate","associations","criteria","alias"],"comments":[{"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"score":0,"creation_date":1325664440,"post_id":8719877,"comment_id":10861058,"body_markdown":"Why are you using **createCriteria(&quot;personAddress&quot;)** in the second query?","body":"Why are you using <b>createCriteria(&quot;personAddress&quot;)</b> in the second query?"},{"owner":{"account_id":985603,"reputation":87,"user_id":1004182,"accept_rate":50,"display_name":"catdog"},"score":0,"creation_date":1325664972,"post_id":8719877,"comment_id":10861176,"body_markdown":"I am using it because there is a property named **personAddress** in **Person** class and it is one end of the association to the **Address** class","body":"I am using it because there is a property named <b>personAddress</b> in <b>Person</b> class and it is one end of the association to the <b>Address</b> class"}],"answers":[{"tags":[],"owner":{"account_id":341169,"reputation":30706,"user_id":671619,"accept_rate":86,"display_name":"Firo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1701674255,"creation_date":1326388195,"answer_id":8839188,"question_id":8719877,"body_markdown":"`.setProjection(Projections.property(&quot;street&quot;))` always operates on the root criteria. To project joined items, you have to use the first version you posted.","title":"Hibernate association with createCriteria and createAlias","body":"<p><code>.setProjection(Projections.property(&quot;street&quot;))</code> always operates on the root criteria. To project joined items, you have to use the first version you posted.</p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1365088459,"creation_date":1364553269,"answer_id":15701562,"question_id":8719877,"body_markdown":"hibernate 3.3.2;\r\n\r\nlet us see code source :\r\n\r\n     public Criteria createAlias(String associationPath, String alias, int joinType) {\r\n\t\tnew Subcriteria( this, associationPath, alias, joinType );\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n\tpublic Criteria createCriteria(String associationPath, int joinType) {\r\n\t\treturn new Subcriteria( this, associationPath, joinType );\r\n\t}\r\n\r\n**createCriteria return sub Criteria ,so all the operation is on sub Criteria ;\r\nbut createAlias is return the criteria who create sub Criteria ;**\r\n\r\n\r\n\r\n**example 1.** \r\nAd manyToone adgroup ; all of them have &quot; name &quot;properties\r\n \r\n         Criteria criteria1    = s.createCriteria(Ad.class, &quot;ad&quot;).add(Restrictions.eq(&quot;ad.id&quot;, Long.valueOf(343909))) ;\r\n         Criteria criteria2    =  criteria1.createCriteria(&quot;adGroup&quot;)\r\n                        .setProjection(Projections.property(&quot;name&quot;))\r\n             List list  = criteria2.list();\r\n\r\n\r\n        List list = s.createCriteria(Ad.class, &quot;ad&quot;).add(Restrictions.eq(&quot;ad.id&quot;, Long.valueOf(343909)))\r\n                        .createAlias(&quot;adGroup&quot;, &quot;adGroup&quot;)\r\n                        .setProjection(Projections.property(&quot;name&quot;))\r\n                        .list();\r\nlet us say the name in adgroup is &quot; aaaa &quot;\r\nthe name in ad is &quot;bbbb&quot;\r\nin first statement  , &quot;name&quot; value of result is  from  adGroup entity = &quot; aaaa &quot;.\r\nin second statement , &quot;name&quot; value of result is  from   Ad entity &quot;bbbb&quot; .\r\n\r\nps1: if there is no &quot;name&quot; properties in adgroup entity ,but in ad entity, first statement will throw Exception: org.hibernate.QueryException: could not resolve property: name of: AdGroup ;\r\nbut if u change to &quot; .setProjection(Projections.property(&quot;ad.name&quot;)) &quot;,it will be fine returning the value of ad&#39;s name\r\n\r\n**ps2 :first statement call list() by criteria2 ,but hibernate will process from the root criteria = criteria1 ; so the final sql will contain &quot; where ad.id =343909 &quot; from criteria1 ;**\r\n\r\n\r\n\r\n**example  2.** \r\n\r\n\r\n![enter image description here][1]\r\n\r\nteacher oneToMany student \r\nstudent oneToMany student\r\n\r\n      List list1 = s.createCriteria(Teacher.class, &quot;teacher&quot;).add(Restrictions.eq(&quot;teacher.id&quot;, Long.valueOf(343909)))\r\n                        .createCriteria(&quot;students&quot;).createCriteria(&quot;books&quot;)\r\n                        .list();\r\n\r\n\r\n\r\n     List list2 = s.createCriteria(Teacher.class, &quot;teacher&quot;).add(Restrictions.eq(&quot;teacher.id&quot;, Long.valueOf(343909)))\r\n                        .createAlias(&quot;students&quot;).createCriteria(&quot;books&quot;).setProjection(Projections.property(&quot;name&quot;))\r\n                        .list();\r\n\r\n\r\nsecond statement will throw Exception: org.hibernate.QueryException: could not resolve property: books of: Teacher;\r\nbecause books is a property of student \r\n**that is difference between  createCriteria and createAlias ;** \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oUENr.jpg","title":"Hibernate association with createCriteria and createAlias","body":"<p>hibernate 3.3.2;</p>\n\n<p>let us see code source :</p>\n\n<pre><code> public Criteria createAlias(String associationPath, String alias, int joinType) {\n    new Subcriteria( this, associationPath, alias, joinType );\n    return this;\n}\n\n\npublic Criteria createCriteria(String associationPath, int joinType) {\n    return new Subcriteria( this, associationPath, joinType );\n}\n</code></pre>\n\n<p><strong>createCriteria return sub Criteria ,so all the operation is on sub Criteria ;\nbut createAlias is return the criteria who create sub Criteria ;</strong></p>\n\n<p><strong>example 1.</strong> \nAd manyToone adgroup ; all of them have \" name \"properties</p>\n\n<pre><code>     Criteria criteria1    = s.createCriteria(Ad.class, \"ad\").add(Restrictions.eq(\"ad.id\", Long.valueOf(343909))) ;\n     Criteria criteria2    =  criteria1.createCriteria(\"adGroup\")\n                    .setProjection(Projections.property(\"name\"))\n         List list  = criteria2.list();\n\n\n    List list = s.createCriteria(Ad.class, \"ad\").add(Restrictions.eq(\"ad.id\", Long.valueOf(343909)))\n                    .createAlias(\"adGroup\", \"adGroup\")\n                    .setProjection(Projections.property(\"name\"))\n                    .list();\n</code></pre>\n\n<p>let us say the name in adgroup is \" aaaa \"\nthe name in ad is \"bbbb\"\nin first statement  , \"name\" value of result is  from  adGroup entity = \" aaaa \".\nin second statement , \"name\" value of result is  from   Ad entity \"bbbb\" .</p>\n\n<p>ps1: if there is no \"name\" properties in adgroup entity ,but in ad entity, first statement will throw Exception: org.hibernate.QueryException: could not resolve property: name of: AdGroup ;\nbut if u change to \" .setProjection(Projections.property(\"ad.name\")) \",it will be fine returning the value of ad's name</p>\n\n<p><strong>ps2 :first statement call list() by criteria2 ,but hibernate will process from the root criteria = criteria1 ; so the final sql will contain \" where ad.id =343909 \" from criteria1 ;</strong></p>\n\n<p><strong>example  2.</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/oUENr.jpg\" alt=\"enter image description here\"></p>\n\n<p>teacher oneToMany student \nstudent oneToMany student</p>\n\n<pre><code>  List list1 = s.createCriteria(Teacher.class, \"teacher\").add(Restrictions.eq(\"teacher.id\", Long.valueOf(343909)))\n                    .createCriteria(\"students\").createCriteria(\"books\")\n                    .list();\n\n\n\n List list2 = s.createCriteria(Teacher.class, \"teacher\").add(Restrictions.eq(\"teacher.id\", Long.valueOf(343909)))\n                    .createAlias(\"students\").createCriteria(\"books\").setProjection(Projections.property(\"name\"))\n                    .list();\n</code></pre>\n\n<p>second statement will throw Exception: org.hibernate.QueryException: could not resolve property: books of: Teacher;\nbecause books is a property of student \n<strong>that is difference between  createCriteria and createAlias ;</strong> </p>\n"}],"owner":{"account_id":985603,"reputation":87,"user_id":1004182,"accept_rate":50,"display_name":"catdog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8839188,"answer_count":2,"score":1,"last_activity_date":1701674299,"creation_date":1325631733,"question_id":8719877,"body_markdown":"I have two simple mappings:\r\n\r\n    &lt;class name=&quot;org.testing.Person&quot; table=&quot;PERSON&quot;&gt;\r\n            &lt;id name=&quot;personId&quot; type=&quot;long&quot; column=&quot;PERSON_ID&quot;&gt;\r\n                &lt;generator class=&quot;native&quot;/&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;personName&quot; type=&quot;string&quot; not-null=&quot;true&quot; column=&quot;PERSON_NAME&quot;/&gt;\r\n            &lt;many-to-one name=&quot;personAddress&quot; class=&quot;org.testing.Address&quot; column=&quot;PERSON_ADDRESS&quot;    not-null=&quot;true&quot; cascade=&quot;all&quot; unique=&quot;true&quot;/&gt;\r\n    &lt;/class&gt;\r\n\r\nand\r\n\r\n    &lt;class name=&quot;org.testing.Address&quot; table=&quot;ADDRESS&quot;&gt;\r\n        &lt;id name=&quot;addressId&quot; type=&quot;long&quot; column=&quot;ADDRESS_ID&quot;&gt;\r\n            &lt;generator class=&quot;native&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;street&quot; column=&quot;ADDRESS_STREET&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;city&quot; column=&quot;ADDRESS_CITY&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;state&quot; column=&quot;ADDRESS_STATE&quot; type=&quot;string&quot; /&gt;\r\n    &lt;/class&gt;\r\nI try to get property of the person address like this:\r\n\r\n    session.createCriteria(Person.class)\r\n                        .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\r\n                        .createAlias(&quot;personAddress&quot;, &quot;pa&quot;)\r\n                        .setProjection(Projections.property(&quot;pa.street&quot;))\r\n                        .list();\r\nand it works.\r\nThen like this:\r\n\r\n    session.createCriteria(Person.class)\r\n                        .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\r\n                        .createCriteria(&quot;personAddress&quot;)\r\n                        .setProjection(Projections.property(&quot;street&quot;))\r\n                        .list();\r\nand it throws: `org.hibernate.QueryException: could not resolve property: street of: org.testing.Person`. I assume both should give the same result. Where I am wrong?\r\nThanks in advance!","title":"Hibernate association with createCriteria and createAlias","body":"<p>I have two simple mappings:</p>\n<pre><code>&lt;class name=&quot;org.testing.Person&quot; table=&quot;PERSON&quot;&gt;\n        &lt;id name=&quot;personId&quot; type=&quot;long&quot; column=&quot;PERSON_ID&quot;&gt;\n            &lt;generator class=&quot;native&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;personName&quot; type=&quot;string&quot; not-null=&quot;true&quot; column=&quot;PERSON_NAME&quot;/&gt;\n        &lt;many-to-one name=&quot;personAddress&quot; class=&quot;org.testing.Address&quot; column=&quot;PERSON_ADDRESS&quot;    not-null=&quot;true&quot; cascade=&quot;all&quot; unique=&quot;true&quot;/&gt;\n&lt;/class&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;class name=&quot;org.testing.Address&quot; table=&quot;ADDRESS&quot;&gt;\n    &lt;id name=&quot;addressId&quot; type=&quot;long&quot; column=&quot;ADDRESS_ID&quot;&gt;\n        &lt;generator class=&quot;native&quot; /&gt;\n    &lt;/id&gt;\n    &lt;property name=&quot;street&quot; column=&quot;ADDRESS_STREET&quot; type=&quot;string&quot; /&gt;\n    &lt;property name=&quot;city&quot; column=&quot;ADDRESS_CITY&quot; type=&quot;string&quot; /&gt;\n    &lt;property name=&quot;state&quot; column=&quot;ADDRESS_STATE&quot; type=&quot;string&quot; /&gt;\n&lt;/class&gt;\n</code></pre>\n<p>I try to get property of the person address like this:</p>\n<pre><code>session.createCriteria(Person.class)\n                    .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\n                    .createAlias(&quot;personAddress&quot;, &quot;pa&quot;)\n                    .setProjection(Projections.property(&quot;pa.street&quot;))\n                    .list();\n</code></pre>\n<p>and it works.\nThen like this:</p>\n<pre><code>session.createCriteria(Person.class)\n                    .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\n                    .createCriteria(&quot;personAddress&quot;)\n                    .setProjection(Projections.property(&quot;street&quot;))\n                    .list();\n</code></pre>\n<p>and it throws: <code>org.hibernate.QueryException: could not resolve property: street of: org.testing.Person</code>. I assume both should give the same result. Where I am wrong?\nThanks in advance!</p>\n"},{"tags":["java","project-reactor","spring-boot-actuator","spring-micrometer"],"owner":{"account_id":22314599,"reputation":1,"user_id":16538132,"display_name":"hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701674266,"creation_date":1701674266,"question_id":77597734,"body_markdown":"I set up context Propagation when http request come in filter like below.\r\n\r\n```\r\npublic static &lt;T&gt; Mono&lt;T&gt; wrapMDC(Mono&lt;T&gt; mono, Map&lt;String, Object&gt; mdcMap) {\r\n        mdcMap.forEach((key, value) -&gt; registerMDC(key));\r\n        Hooks.enableAutomaticContextPropagation();\r\n        return Mono.defer(() -&gt; mono.contextWrite(Context.of(mdcMap)));\r\n    }\r\n\r\npublic static void registerMDC(String mdcKey) {\r\n        Supplier&lt;String&gt; getMDC = () -&gt; MDC.get(mdcKey);\r\n        Consumer&lt;String&gt; putMDC = value -&gt; MDC.put(mdcKey, value);\r\n        Runnable removeMDC = () -&gt; MDC.remove(mdcKey);\r\n\r\n        ContextRegistry.getInstance().registerThreadLocalAccessor(mdcKey, getMDC, putMDC, removeMDC);\r\n}\r\n```\r\nIt work fine when thread change by Mono.delay(Duration), but this below code don&#39;t work, MDC lose any context that I put above.\r\n```\r\nprivate final KafkaSender&lt;String, String&gt; kafkaPublisher;\r\n\r\n    public Mono&lt;SenderResult&lt;String&gt;&gt; sendMessage(\r\n            String messageKey, CbsPaymentRequest message, String topic) {\r\n        ProducerRecord&lt;String, CbsPaymentRequest&gt; record = new ProducerRecord&lt;&gt;(topic, messageKey, message);\r\n        return Mono.defer(\r\n                () -&gt; {\r\n                    log.info(&quot;MDC context map still here&quot;);\r\n\r\n                    return kafkaPublisher\r\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\r\n                            .doOnNext(\r\n                                    r -&gt; {\r\n                                        \r\n                                        log.info(&quot;MDC context map EMPTY&quot;);\r\n                                    })\r\n                            .next();\r\n                });\r\n    }\r\n```\r\nIn doOnNext(), when I use MDC.getCopyOfContextMap(), it&#39;s empty.\r\n\r\nWhy it don&#39;t propagate context here, please help me, thank you !!\r\n\r\n\r\nI try this and it can to get the map of MDC, but I don&#39;t make sure MDC will don&#39;t polute.\r\n```\r\nreturn kafkaPublisher\r\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\r\n                          **.contextCapture()**\r\n                            .doOnNext(\r\n                                    r -&gt; {\r\n                                        \r\n                                        log.info(&quot;MDC is propagated&quot;);\r\n                                    })\r\n                            .next();\r\n```","title":"ContextProgation don&#39;t work with doOnNext() after KafkaSender.send()","body":"<p>I set up context Propagation when http request come in filter like below.</p>\n<pre><code>public static &lt;T&gt; Mono&lt;T&gt; wrapMDC(Mono&lt;T&gt; mono, Map&lt;String, Object&gt; mdcMap) {\n        mdcMap.forEach((key, value) -&gt; registerMDC(key));\n        Hooks.enableAutomaticContextPropagation();\n        return Mono.defer(() -&gt; mono.contextWrite(Context.of(mdcMap)));\n    }\n\npublic static void registerMDC(String mdcKey) {\n        Supplier&lt;String&gt; getMDC = () -&gt; MDC.get(mdcKey);\n        Consumer&lt;String&gt; putMDC = value -&gt; MDC.put(mdcKey, value);\n        Runnable removeMDC = () -&gt; MDC.remove(mdcKey);\n\n        ContextRegistry.getInstance().registerThreadLocalAccessor(mdcKey, getMDC, putMDC, removeMDC);\n}\n</code></pre>\n<p>It work fine when thread change by Mono.delay(Duration), but this below code don't work, MDC lose any context that I put above.</p>\n<pre><code>private final KafkaSender&lt;String, String&gt; kafkaPublisher;\n\n    public Mono&lt;SenderResult&lt;String&gt;&gt; sendMessage(\n            String messageKey, CbsPaymentRequest message, String topic) {\n        ProducerRecord&lt;String, CbsPaymentRequest&gt; record = new ProducerRecord&lt;&gt;(topic, messageKey, message);\n        return Mono.defer(\n                () -&gt; {\n                    log.info(&quot;MDC context map still here&quot;);\n\n                    return kafkaPublisher\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\n                            .doOnNext(\n                                    r -&gt; {\n                                        \n                                        log.info(&quot;MDC context map EMPTY&quot;);\n                                    })\n                            .next();\n                });\n    }\n</code></pre>\n<p>In doOnNext(), when I use MDC.getCopyOfContextMap(), it's empty.</p>\n<p>Why it don't propagate context here, please help me, thank you !!</p>\n<p>I try this and it can to get the map of MDC, but I don't make sure MDC will don't polute.</p>\n<pre><code>return kafkaPublisher\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\n                          **.contextCapture()**\n                            .doOnNext(\n                                    r -&gt; {\n                                        \n                                        log.info(&quot;MDC is propagated&quot;);\n                                    })\n                            .next();\n</code></pre>\n"},{"tags":["java","manifest.mf"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1701675145,"post_id":77597668,"comment_id":136800478,"body_markdown":"see the [JAR File Specification](https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html#class-path-attribute) || The class loader uses the CLASSPATH to find the classes/resources - the specification does NOT mention anything about `*`, which confirms your results (it does not work)","body":"see the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">JAR File Specification</a> || The class loader uses the CLASSPATH to find the classes/resources - the specification does NOT mention anything about <code>*</code>, which confirms your results (it does not work)"}],"owner":{"account_id":30060025,"reputation":1,"user_id":23036339,"display_name":"BLACK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701673332,"creation_date":1701673332,"question_id":77597668,"body_markdown":"I have a question,who can talk with me? In the Manifest.MF file. Which moudle execute the Class-path? Is it JVM? And can the Class-path support wildcards?\r\n\r\nsuch as the &quot;*&quot; symbol, i tried, but it didn&#39;t work! Thanks ,my English is not well.","title":"MANIFEST. Does the Class-path in the MF file support wildcards?","body":"<p>I have a question,who can talk with me? In the Manifest.MF file. Which moudle execute the Class-path? Is it JVM? And can the Class-path support wildcards?</p>\n<p>such as the &quot;*&quot; symbol, i tried, but it didn't work! Thanks ,my English is not well.</p>\n"},{"tags":["java","spring","exception","transactions","rollback"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1649225593,"post_id":5933947,"comment_id":126818628,"body_markdown":"could it be that as with time, there is more and more data that this transaction sifts through and the queries etc. are taking longer than earlier. Especially since there is no change in the code. This could be  plausible","body":"could it be that as with time, there is more and more data that this transaction sifts through and the queries etc. are taking longer than earlier. Especially since there is no change in the code. This could be  plausible"}],"answers":[{"tags":[],"owner":{"account_id":89589,"reputation":21149,"user_id":247090,"accept_rate":79,"display_name":"drekka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304927278,"creation_date":1304927278,"answer_id":5934011,"question_id":5933947,"body_markdown":"I&#39;m seeing a mention of a quartz job in the stacktrace. Looks like something has setup a periodic job and the AOP transaction management has picked up on it.","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>I'm seeing a mention of a quartz job in the stacktrace. Looks like something has setup a periodic job and the AOP transaction management has picked up on it.</p>\n"},{"tags":[],"owner":{"account_id":129943,"reputation":21020,"user_id":328862,"accept_rate":50,"display_name":"Gursel Koca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304927340,"creation_date":1304927340,"answer_id":5934022,"question_id":5933947,"body_markdown":"It looks like your transaction lasts than transaction timeout limit. You should increase transaction timeout limit.. \r\n\r\nBut I am not sure about that, you should post more stack trace to understand the reason of rollback.","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>It looks like your transaction lasts than transaction timeout limit. You should increase transaction timeout limit.. </p>\n\n<p>But I am not sure about that, you should post more stack trace to understand the reason of rollback.</p>\n"}],"owner":{"account_id":207189,"reputation":1597,"user_id":456917,"accept_rate":39,"display_name":"Ashish Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19592,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701673320,"creation_date":1304926760,"question_id":5933947,"body_markdown":"I am getting `UnexpectedRollbackException`. Here is the complete stack trace:\r\n\r\n    org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException\r\n        at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1031)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:732)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:701)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:321)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:635)\r\n        at com.cmates.userIcon.service.IconUpdaterServiceImpl$$EnhancerByCGLIB$$78838aa7.persist(&lt;generated&gt;)\r\n        at com.cmates.userIcon.service.ScheduledIconUpdaterServiceImpl.doScheduledTask(ScheduledIconUpdaterServiceImpl.java:125)\r\n        at com.cmates.profile.services.IconSyncSingletonImpl.process(IconSyncSingletonImpl.java:121)\r\n        at com.cmates.profile.services.IconSyncJob.executeInternal(IconSyncJob.java:25)\r\n        at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\r\n    Caused by: javax.transaction.RollbackException\r\n        at org.objectweb.jotm.TransactionImpl.commit(TransactionImpl.java:245)\r\n        at org.objectweb.jotm.Current.commit(Current.java:488)\r\n        at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1028)\r\n        ... 13 more\r\n    [18 Apr 2011 00:54:00,590] ERROR ErrorLogger - Job (DEFAULT.iconSyncJob threw an exception.\r\n                                                               \r\n\r\nThis Exception suddenly started showing in my logs. I didn&#39;t made any changes in my code.  \r\nI guess this might be due to a timeout?","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>I am getting <code>UnexpectedRollbackException</code>. Here is the complete stack trace:</p>\n\n<pre><code>org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException\n    at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1031)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:732)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:701)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:321)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:635)\n    at com.cmates.userIcon.service.IconUpdaterServiceImpl$$EnhancerByCGLIB$$78838aa7.persist(&lt;generated&gt;)\n    at com.cmates.userIcon.service.ScheduledIconUpdaterServiceImpl.doScheduledTask(ScheduledIconUpdaterServiceImpl.java:125)\n    at com.cmates.profile.services.IconSyncSingletonImpl.process(IconSyncSingletonImpl.java:121)\n    at com.cmates.profile.services.IconSyncJob.executeInternal(IconSyncJob.java:25)\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\nCaused by: javax.transaction.RollbackException\n    at org.objectweb.jotm.TransactionImpl.commit(TransactionImpl.java:245)\n    at org.objectweb.jotm.Current.commit(Current.java:488)\n    at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1028)\n    ... 13 more\n[18 Apr 2011 00:54:00,590] ERROR ErrorLogger - Job (DEFAULT.iconSyncJob threw an exception.\n</code></pre>\n\n<p>This Exception suddenly started showing in my logs. I didn't made any changes in my code.<br>\nI guess this might be due to a timeout?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1701612897,"post_id":77594476,"comment_id":136794953,"body_markdown":"What I think you&#39;re asking for is not simple.  Even creating one English alphabet letter, like J, in a multitude of sizes is not trivial.  One general approach would probably be to create a `BufferedImage` of the initials, then create a raster of the `BufferedImage` pixels and print the raster using the specified character.","body":"What I think you&#39;re asking for is not simple.  Even creating one English alphabet letter, like J, in a multitude of sizes is not trivial.  One general approach would probably be to create a <code>BufferedImage</code> of the initials, then create a raster of the <code>BufferedImage</code> pixels and print the raster using the specified character."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701613468,"post_id":77594476,"comment_id":136795020,"body_markdown":"*not simple*. Worse - it&#39;s not possible ;) What if the size were 1? See Unix &#39;banner&#39; and &#39;figlet&#39;","body":"<i>not simple</i>. Worse - it&#39;s not possible ;) What if the size were 1? See Unix &#39;banner&#39; and &#39;figlet&#39;"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701673191,"creation_date":1701673191,"answer_id":77597657,"question_id":77594476,"body_markdown":"Off hand, there are at least two ways you can possibly do this. Create your own alphabet within a 2D Array (or several 2D Arrays for different sizes of letters) or, as already mentioned in comments, create a **BufferedImage** of the initials, then create a raster of the **BufferedImage** pixels and print the raster using the specified character (in your case, the asterisk). Creating a **BufferedImage** allows you to actually set a Font and Font Size which can change the look of the characters printed to the Console Window.\r\n\r\n**Create your own Alphabet** (read comments in code):\r\n\r\n    /* Create the Alphabet (in upper case) within a 2D Array:\r\n       This alphabet is 5 characters wide by 5 characters deep \r\n       with the exception of the `W` which is 7 characters wide\r\n       by 5 characters deep. The `J` is also off a little as it\r\n       is 6 characters wide by 5 characters deep. Of course the \r\n       alphabet can be modified to whatever you like. \r\n    */\r\n    String[][] letters5x5 = {\r\n        // A\r\n        {&quot;  *  &quot;,\r\n         &quot; * * &quot;,\r\n         &quot;*****&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // B\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;\r\n        },\r\n        // C\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // D\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;   \r\n        },\r\n        // E\r\n        {&quot;*****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;***  &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*****&quot;   \r\n        },\r\n        // F\r\n        {&quot;*****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;***  &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;   \r\n        },\r\n        // G\r\n        {&quot; ****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;* ***&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // H\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*****&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;   \r\n        },\r\n        // I\r\n        {&quot;*****&quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;*****&quot;   \r\n        },\r\n        // J\r\n        {&quot; *****&quot;,\r\n         &quot;   *  &quot;,\r\n         &quot;   *  &quot;,\r\n         &quot;*  *  &quot;,\r\n         &quot;****  &quot;   \r\n        },\r\n        // K\r\n        {&quot;*   *&quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;**   &quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;*   *&quot;   \r\n        },\r\n        // L\r\n        {&quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*****&quot;   \r\n        },   \r\n        // M\r\n        {&quot;*   *&quot;,\r\n         &quot;** **&quot;,\r\n         &quot;* * *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;   \r\n        },   \r\n        // N\r\n        {&quot;*   *&quot;,\r\n         &quot;**  *&quot;,\r\n         &quot;* * *&quot;,\r\n         &quot;*  **&quot;,\r\n         &quot;*   *&quot;   \r\n        }, \r\n        // O\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // P\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;\r\n        },\r\n        // Q\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;,\r\n         &quot;    *&quot;\r\n        },\r\n        // R\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // S\r\n        {&quot; ****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot; *** &quot;,\r\n         &quot;    *&quot;,\r\n         &quot;**** &quot;\r\n        },\r\n        // T\r\n        {&quot;*****&quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // U\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*****&quot;\r\n        },\r\n        // V\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // W\r\n        {&quot;*     *&quot;,\r\n         &quot;*     *&quot;,\r\n         &quot;*  *  *&quot;,\r\n         &quot; * * * &quot;,\r\n         &quot;  * *  &quot;\r\n        },\r\n        // X\r\n        {&quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot; * * &quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // Y\r\n        {&quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // Z\r\n        {&quot;*****&quot;,\r\n         &quot;   * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot; *   &quot;,\r\n         &quot;*****&quot;\r\n        },\r\n    };\r\n        \r\n    // Open a keyboard input stream:\r\n    java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    String ls = System.lineSeparator();  // System&#39;s newline character sequence:\r\n        \r\n    // Get User&#39;s FULL Name (First (middle?) Last):\r\n    String name = &quot;&quot;;\r\n    while (name.isEmpty()) {\r\n        System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\r\n        name = userInput.nextLine().trim();\r\n        if (name.equalsIgnoreCase(&quot;q&quot;)) {\r\n            System.out.println(&quot;Quiting - Bye Bye!&quot;);\r\n            return;\r\n        }\r\n        else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\r\n            System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\r\n                    + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\r\n            name = &quot;&quot;;\r\n        }\r\n    }\r\n        \r\n    /* Abbreviate the supplied User Name to character \r\n       initials (in upper case):        */\r\n    name = abbreviateName(name);\r\n      \r\n    // Determine the letters required from `letters` array:\r\n    String[] abbrevParts = name.split(&quot;&quot;);\r\n    String[][] neededArtLetters = new String[abbrevParts.length][];\r\n    int lettersIndexValue;\r\n    for (int i = 0; i &lt; abbrevParts.length; i++) {\r\n        lettersIndexValue = abbrevParts[i].charAt(0) - 65;\r\n        neededArtLetters[i] = Arrays.copyOf(letters5x5[lettersIndexValue], \r\n                                    letters5x5[lettersIndexValue].length);\r\n    }\r\n        \r\n    /* Print the determined letters from the `letters` 2D\r\n       array (now contained within the `neededArtLetters`\r\n       2D Array) to the Console Window. A nested `for`\r\n       loop is required for this but first, we make sure\r\n       the `neededArtLetters` 2D array actually contains \r\n       something otherwise, nothing gets printed:      */\r\n    if(neededArtLetters.length &gt; 0){\r\n        for(int i = 0; i &lt; neededArtLetters[0].length; i++){\r\n            for(int j = 0;j &lt; neededArtLetters.length; j++){\r\n                System.out.print(neededArtLetters[j][i] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    // Done!\r\n\r\n**The `abbreviateName()` Method:**\r\n\r\n    /**\r\n     * Abbreviates a full name (or String) to upper case initials.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param nameString (String) The full name (or string) to abbreviate.&lt;br&gt;\r\n     * \r\n     * @param characterbetweenLetters (Optional - String varArg) The desired \r\n     * character to be added after each initial character. Usually this would \r\n     * be either a period or whitespace, but can be anything or nothing at all.&lt;br&gt;\r\n     * \r\n     * @return (String) An abbreviated version of the supplied `nameString` \r\n     * argument.\r\n     */\r\n    public static String abbreviateName(String nameString, String... characterbetweenLetters) {\r\n        if (nameString == null || nameString.isEmpty()) {\r\n            return nameString;\r\n        }\r\n        String characterString = &quot;&quot;;\r\n        if (characterbetweenLetters.length &gt; 0) {\r\n            characterString = characterbetweenLetters[0];\r\n        }\r\n        return java.util.Arrays.stream(nameString.split(&quot;\\\\s+&quot;))\r\n                .map(t -&gt; t.substring(0, 1).toUpperCase())\r\n                .collect(java.util.stream.Collectors.joining(characterString));\r\n    }\r\n\r\n**Console Output:**\r\n```\r\nPlease enter your name (q to quit): -&gt; Fred Flintstone\r\n***** ***** \r\n*     *     \r\n***   ***   \r\n*     *     \r\n*     *     \r\n```\r\n\r\n----------\r\n\r\n**Using BufferedImage:**\r\n\r\n    /**\r\n     * This method will take the supplied text and generate a ASCII Art banner\r\n     * of that text and place it into a String[] Array. Once the Array is\r\n     * returned you can iterate through it and save the contents to a text file\r\n     * or display it within a Console Window.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     *  {@code \r\n     *   Font font = new Font(&quot;Dialog&quot;, Font.PLAIN, 24);\r\n     *      String text = &quot;Hello World&quot;;\r\n     *      String[] s  = stringToConsoleBanner(text, font, &quot;*&quot;);\r\n     *      for (int i = 0; i &lt; s.length; i++) {\r\n     *          System.out.println(s[i]);\r\n     *      }\r\n     *  }&lt;/pre&gt;\r\n     *\r\n     * @param inputString (String) The string you want to convert to Banner text.&lt;br&gt;\r\n     *\r\n     * @param font (Font) The font you want your ASCII text to look like.&lt;br&gt;\r\n     *\r\n     * @param fromCharacter (String) The character you want to use for pixels.&lt;br&gt;\r\n     *\r\n     * @return (String[] Array)\r\n     */\r\n    public static String[] stringToConsoleBanner(String inputString, java.awt.Font font, String fromCharacter) {\r\n        java.awt.image.BufferedImage image = \r\n                new java.awt.image.BufferedImage(144, 32, java.awt.image.BufferedImage.TYPE_INT_RGB);\r\n        java.awt.Graphics g = image.getGraphics();\r\n        \r\n        /* If the supplied Font argument is null then the default font of \r\n           SansSerif will be used as Font.Plain and a size of 24!      */\r\n        g.setFont(font == null ? new java.awt.Font(&quot;SansSerif&quot;, java.awt.Font.PLAIN, 24) : font);\r\n        java.awt.Graphics2D graphics = (java.awt.Graphics2D) g;\r\n        graphics.setRenderingHint(java.awt.RenderingHints.KEY_TEXT_ANTIALIASING,\r\n                                    java.awt.RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n        graphics.drawString(inputString, 0, 24);\r\n\r\n        java.util.List&lt;String&gt; list = new java.util.ArrayList&lt;&gt;();\r\n        for (int y = 0; y &lt; 32; y++) {\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            for (int x = 0; x &lt; 144; x++) {\r\n                sb.append(image.getRGB(x, y) == -16777216 ? &quot; &quot; : \r\n                        image.getRGB(x, y) == -1 ? fromCharacter : fromCharacter);\r\n            }\r\n            if (sb.toString().trim().isEmpty()) {\r\n                continue;\r\n            }\r\n\r\n            list.add(sb.toString());\r\n        }\r\n        return list.toArray(new String[0]);\r\n    }\r\n\r\n**Method Use:**\r\n\r\n    // Open a keyboard input stream:\r\n    java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    String ls = System.lineSeparator();  // System&#39;s newline character sequence:\r\n        \r\n    // Get User&#39;s FULL Name (First (middle?) Last):\r\n    String name = &quot;&quot;;\r\n    while (name.isEmpty()) {\r\n        System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\r\n        name = userInput.nextLine().trim();\r\n        if (name.equalsIgnoreCase(&quot;q&quot;)) {\r\n            System.out.println(&quot;Quiting - Bye Bye!&quot;);\r\n            return;\r\n        }\r\n        else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\r\n            System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\r\n                    + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\r\n            name = &quot;&quot;;\r\n        }\r\n    }\r\n        \r\n    /* Abbreviate the supplied User Name to character \r\n       initials (in upper case):        */\r\n    name = abbreviateName(name);\r\n      \r\n    java.awt.Font font = new java.awt.Font(&quot;Courior New&quot;, java.awt.Font.PLAIN, 11);\r\n    String[] s = stringToConsoleBanner(name, font, &quot;*&quot;);\r\n    for (String str : s) {\r\n        System.out.println(str);\r\n    }\r\n    // Done!\r\n\r\nSee above for the `abbreviateName()` method.\r\n\r\n**Console Output:**\r\n```\r\nPlease enter your name (q to quit): -&gt; Fred Flintstone\r\n***** *****                                                                                                                                     \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n****  ****                                                                                                                                      \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n*     *    \r\n```","title":"I need to create a program that prints MY initials always no matter the size","body":"<p>Off hand, there are at least two ways you can possibly do this. Create your own alphabet within a 2D Array (or several 2D Arrays for different sizes of letters) or, as already mentioned in comments, create a <strong>BufferedImage</strong> of the initials, then create a raster of the <strong>BufferedImage</strong> pixels and print the raster using the specified character (in your case, the asterisk). Creating a <strong>BufferedImage</strong> allows you to actually set a Font and Font Size which can change the look of the characters printed to the Console Window.</p>\n<p><strong>Create your own Alphabet</strong> (read comments in code):</p>\n<pre><code>/* Create the Alphabet (in upper case) within a 2D Array:\n   This alphabet is 5 characters wide by 5 characters deep \n   with the exception of the `W` which is 7 characters wide\n   by 5 characters deep. The `J` is also off a little as it\n   is 6 characters wide by 5 characters deep. Of course the \n   alphabet can be modified to whatever you like. \n*/\nString[][] letters5x5 = {\n    // A\n    {&quot;  *  &quot;,\n     &quot; * * &quot;,\n     &quot;*****&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;\n    },\n    // B\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;\n    },\n    // C\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*    &quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // D\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;   \n    },\n    // E\n    {&quot;*****&quot;,\n     &quot;*    &quot;,\n     &quot;***  &quot;,\n     &quot;*    &quot;,\n     &quot;*****&quot;   \n    },\n    // F\n    {&quot;*****&quot;,\n     &quot;*    &quot;,\n     &quot;***  &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;   \n    },\n    // G\n    {&quot; ****&quot;,\n     &quot;*    &quot;,\n     &quot;* ***&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // H\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*****&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;   \n    },\n    // I\n    {&quot;*****&quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;*****&quot;   \n    },\n    // J\n    {&quot; *****&quot;,\n     &quot;   *  &quot;,\n     &quot;   *  &quot;,\n     &quot;*  *  &quot;,\n     &quot;****  &quot;   \n    },\n    // K\n    {&quot;*   *&quot;,\n     &quot;* *  &quot;,\n     &quot;**   &quot;,\n     &quot;* *  &quot;,\n     &quot;*   *&quot;   \n    },\n    // L\n    {&quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*****&quot;   \n    },   \n    // M\n    {&quot;*   *&quot;,\n     &quot;** **&quot;,\n     &quot;* * *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;   \n    },   \n    // N\n    {&quot;*   *&quot;,\n     &quot;**  *&quot;,\n     &quot;* * *&quot;,\n     &quot;*  **&quot;,\n     &quot;*   *&quot;   \n    }, \n    // O\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // P\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;\n    },\n    // Q\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;,\n     &quot;    *&quot;\n    },\n    // R\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;* *  &quot;,\n     &quot;*   *&quot;\n    },\n    // S\n    {&quot; ****&quot;,\n     &quot;*    &quot;,\n     &quot; *** &quot;,\n     &quot;    *&quot;,\n     &quot;**** &quot;\n    },\n    // T\n    {&quot;*****&quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;\n    },\n    // U\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*****&quot;\n    },\n    // V\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;\n    },\n    // W\n    {&quot;*     *&quot;,\n     &quot;*     *&quot;,\n     &quot;*  *  *&quot;,\n     &quot; * * * &quot;,\n     &quot;  * *  &quot;\n    },\n    // X\n    {&quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;,\n     &quot; * * &quot;,\n     &quot;*   *&quot;\n    },\n    // Y\n    {&quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;\n    },\n    // Z\n    {&quot;*****&quot;,\n     &quot;   * &quot;,\n     &quot;  *  &quot;,\n     &quot; *   &quot;,\n     &quot;*****&quot;\n    },\n};\n    \n// Open a keyboard input stream:\njava.util.Scanner userInput = new java.util.Scanner(System.in);\nString ls = System.lineSeparator();  // System's newline character sequence:\n    \n// Get User's FULL Name (First (middle?) Last):\nString name = &quot;&quot;;\nwhile (name.isEmpty()) {\n    System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\n    name = userInput.nextLine().trim();\n    if (name.equalsIgnoreCase(&quot;q&quot;)) {\n        System.out.println(&quot;Quiting - Bye Bye!&quot;);\n        return;\n    }\n    else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\n        System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\n                + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\n        name = &quot;&quot;;\n    }\n}\n    \n/* Abbreviate the supplied User Name to character \n   initials (in upper case):        */\nname = abbreviateName(name);\n  \n// Determine the letters required from `letters` array:\nString[] abbrevParts = name.split(&quot;&quot;);\nString[][] neededArtLetters = new String[abbrevParts.length][];\nint lettersIndexValue;\nfor (int i = 0; i &lt; abbrevParts.length; i++) {\n    lettersIndexValue = abbrevParts[i].charAt(0) - 65;\n    neededArtLetters[i] = Arrays.copyOf(letters5x5[lettersIndexValue], \n                                letters5x5[lettersIndexValue].length);\n}\n    \n/* Print the determined letters from the `letters` 2D\n   array (now contained within the `neededArtLetters`\n   2D Array) to the Console Window. A nested `for`\n   loop is required for this but first, we make sure\n   the `neededArtLetters` 2D array actually contains \n   something otherwise, nothing gets printed:      */\nif(neededArtLetters.length &gt; 0){\n    for(int i = 0; i &lt; neededArtLetters[0].length; i++){\n        for(int j = 0;j &lt; neededArtLetters.length; j++){\n            System.out.print(neededArtLetters[j][i] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n// Done!\n</code></pre>\n<p><strong>The <code>abbreviateName()</code> Method:</strong></p>\n<pre><code>/**\n * Abbreviates a full name (or String) to upper case initials.&lt;br&gt;&lt;br&gt;\n * \n * @param nameString (String) The full name (or string) to abbreviate.&lt;br&gt;\n * \n * @param characterbetweenLetters (Optional - String varArg) The desired \n * character to be added after each initial character. Usually this would \n * be either a period or whitespace, but can be anything or nothing at all.&lt;br&gt;\n * \n * @return (String) An abbreviated version of the supplied `nameString` \n * argument.\n */\npublic static String abbreviateName(String nameString, String... characterbetweenLetters) {\n    if (nameString == null || nameString.isEmpty()) {\n        return nameString;\n    }\n    String characterString = &quot;&quot;;\n    if (characterbetweenLetters.length &gt; 0) {\n        characterString = characterbetweenLetters[0];\n    }\n    return java.util.Arrays.stream(nameString.split(&quot;\\\\s+&quot;))\n            .map(t -&gt; t.substring(0, 1).toUpperCase())\n            .collect(java.util.stream.Collectors.joining(characterString));\n}\n</code></pre>\n<p><strong>Console Output:</strong></p>\n<pre><code>Please enter your name (q to quit): -&gt; Fred Flintstone\n***** ***** \n*     *     \n***   ***   \n*     *     \n*     *     \n</code></pre>\n<hr />\n<p><strong>Using BufferedImage:</strong></p>\n<pre><code>/**\n * This method will take the supplied text and generate a ASCII Art banner\n * of that text and place it into a String[] Array. Once the Array is\n * returned you can iterate through it and save the contents to a text file\n * or display it within a Console Window.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n *  {@code \n *   Font font = new Font(&quot;Dialog&quot;, Font.PLAIN, 24);\n *      String text = &quot;Hello World&quot;;\n *      String[] s  = stringToConsoleBanner(text, font, &quot;*&quot;);\n *      for (int i = 0; i &lt; s.length; i++) {\n *          System.out.println(s[i]);\n *      }\n *  }&lt;/pre&gt;\n *\n * @param inputString (String) The string you want to convert to Banner text.&lt;br&gt;\n *\n * @param font (Font) The font you want your ASCII text to look like.&lt;br&gt;\n *\n * @param fromCharacter (String) The character you want to use for pixels.&lt;br&gt;\n *\n * @return (String[] Array)\n */\npublic static String[] stringToConsoleBanner(String inputString, java.awt.Font font, String fromCharacter) {\n    java.awt.image.BufferedImage image = \n            new java.awt.image.BufferedImage(144, 32, java.awt.image.BufferedImage.TYPE_INT_RGB);\n    java.awt.Graphics g = image.getGraphics();\n    \n    /* If the supplied Font argument is null then the default font of \n       SansSerif will be used as Font.Plain and a size of 24!      */\n    g.setFont(font == null ? new java.awt.Font(&quot;SansSerif&quot;, java.awt.Font.PLAIN, 24) : font);\n    java.awt.Graphics2D graphics = (java.awt.Graphics2D) g;\n    graphics.setRenderingHint(java.awt.RenderingHints.KEY_TEXT_ANTIALIASING,\n                                java.awt.RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n    graphics.drawString(inputString, 0, 24);\n\n    java.util.List&lt;String&gt; list = new java.util.ArrayList&lt;&gt;();\n    for (int y = 0; y &lt; 32; y++) {\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        for (int x = 0; x &lt; 144; x++) {\n            sb.append(image.getRGB(x, y) == -16777216 ? &quot; &quot; : \n                    image.getRGB(x, y) == -1 ? fromCharacter : fromCharacter);\n        }\n        if (sb.toString().trim().isEmpty()) {\n            continue;\n        }\n\n        list.add(sb.toString());\n    }\n    return list.toArray(new String[0]);\n}\n</code></pre>\n<p><strong>Method Use:</strong></p>\n<pre><code>// Open a keyboard input stream:\njava.util.Scanner userInput = new java.util.Scanner(System.in);\nString ls = System.lineSeparator();  // System's newline character sequence:\n    \n// Get User's FULL Name (First (middle?) Last):\nString name = &quot;&quot;;\nwhile (name.isEmpty()) {\n    System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\n    name = userInput.nextLine().trim();\n    if (name.equalsIgnoreCase(&quot;q&quot;)) {\n        System.out.println(&quot;Quiting - Bye Bye!&quot;);\n        return;\n    }\n    else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\n        System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\n                + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\n        name = &quot;&quot;;\n    }\n}\n    \n/* Abbreviate the supplied User Name to character \n   initials (in upper case):        */\nname = abbreviateName(name);\n  \njava.awt.Font font = new java.awt.Font(&quot;Courior New&quot;, java.awt.Font.PLAIN, 11);\nString[] s = stringToConsoleBanner(name, font, &quot;*&quot;);\nfor (String str : s) {\n    System.out.println(str);\n}\n// Done!\n</code></pre>\n<p>See above for the <code>abbreviateName()</code> method.</p>\n<p><strong>Console Output:</strong></p>\n<pre><code>Please enter your name (q to quit): -&gt; Fred Flintstone\n***** *****                                                                                                                                     \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n****  ****                                                                                                                                      \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n*     *    \n</code></pre>\n"}],"owner":{"account_id":30054770,"reputation":1,"user_id":23032398,"display_name":"Johann Pasquel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701673191,"creation_date":1701609786,"question_id":77594476,"body_markdown":" Create an array and ask for the say of it and the character to be used to fill the array.\r\n So it always needs to somehow resemble the two initials of my name, no matter the size.\r\n\r\n            Example:    My name is Johann Pasquel =&gt; JP    \r\n            Size of array: 5\r\n            Character to be used : *\r\n\r\n            *****   *****      \r\n              *     *   *      \r\n              *     *****      \r\n              *     *                   \r\n            ***     *  \r\n\r\n\r\n/*So far that , I have tried to do it &quot;manually&quot;, just to say the first line of J should be always full.\r\nsorry for my english,english is not my mothertongue*/\r\n\r\n\r\n\r\n\r\n```\r\npublic class Array2Iniciales {\r\n    public void incialesletras(int tama&#241;o,char caracter){\r\n        char[][] letraJ = new char[tama&#241;o][tama&#241;o];\r\n        char[][] letraP = new char[tama&#241;o][tama&#241;o];\r\n\r\n        for (int i = 0; i &lt; tama&#241;o; i++) {\r\n            for (int j = 0; j &lt; 2 * tama&#241;o - 1; j++) {\r\n                System.out.print(letraJ[i][j]);\r\n            }\r\n            System.out.print(&quot;  &quot;);\r\n            for (int j = 0; j &lt; 2 * tama&#241;o - 1; j++) {\r\n                System.out.print(letraP[i][j]);\r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n","title":"I need to create a program that prints MY initials always no matter the size","body":"<p>Create an array and ask for the say of it and the character to be used to fill the array.\nSo it always needs to somehow resemble the two initials of my name, no matter the size.</p>\n<pre><code>        Example:    My name is Johann Pasquel =&gt; JP    \n        Size of array: 5\n        Character to be used : *\n\n        *****   *****      \n          *     *   *      \n          *     *****      \n          *     *                   \n        ***     *  \n</code></pre>\n<p>/<em>So far that , I have tried to do it &quot;manually&quot;, just to say the first line of J should be always full.\nsorry for my english,english is not my mothertongue</em>/</p>\n<pre><code>public class Array2Iniciales {\n    public void incialesletras(int tamaño,char caracter){\n        char[][] letraJ = new char[tamaño][tamaño];\n        char[][] letraP = new char[tamaño][tamaño];\n\n        for (int i = 0; i &lt; tamaño; i++) {\n            for (int j = 0; j &lt; 2 * tamaño - 1; j++) {\n                System.out.print(letraJ[i][j]);\n            }\n            System.out.print(&quot;  &quot;);\n            for (int j = 0; j &lt; 2 * tamaño - 1; j++) {\n                System.out.print(letraP[i][j]);\n            }\n            System.out.println();\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","module","java-9"],"owner":{"account_id":19185825,"reputation":611,"user_id":14016638,"display_name":"Kavindu Nilshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701673016,"creation_date":1701663988,"question_id":77597221,"body_markdown":"I am applying java 9 modules to my java application. In my java \r\napplication it contains `import` statement `import javax.ws.rs.core.MediaType`.\r\n\r\nWhen I add `module-info.java` file, that statement provides compilation error as expected. Because I need to add `requires &lt;module name&gt;` statement to `module-info.java` file.\r\n\r\nBut I am unable to find what is the related module for that import statement. Can anyone help to find the `requires` statement related to `javax.ws.rs.core.MediaType` this imported class.\r\n\r\nI explored furthermore and found the solution is to add automatic module name to the module-info.java file based on relevant jar file name. In this case my relevant jar file name is `jboss-jaxrs-api_2.0_spec-1.0.0.Final`. \r\n\r\nAccording to the conventions I tried to get automatic module name from jar file name. I tried following instances but not worked.\r\n\r\n`jboss.jaxrs.api_2.spec`\r\n`jboss.jaxrs.api`\r\n\r\nCan anyone help me to fine the correct automatic module name? Or is there any other way to solve this problem.\r\n\r\nAny help would be much appreciated.","title":"Unable to fine related module of `javax.ws.rs.core.MediaType` class","body":"<p>I am applying java 9 modules to my java application. In my java\napplication it contains <code>import</code> statement <code>import javax.ws.rs.core.MediaType</code>.</p>\n<p>When I add <code>module-info.java</code> file, that statement provides compilation error as expected. Because I need to add <code>requires &lt;module name&gt;</code> statement to <code>module-info.java</code> file.</p>\n<p>But I am unable to find what is the related module for that import statement. Can anyone help to find the <code>requires</code> statement related to <code>javax.ws.rs.core.MediaType</code> this imported class.</p>\n<p>I explored furthermore and found the solution is to add automatic module name to the module-info.java file based on relevant jar file name. In this case my relevant jar file name is <code>jboss-jaxrs-api_2.0_spec-1.0.0.Final</code>.</p>\n<p>According to the conventions I tried to get automatic module name from jar file name. I tried following instances but not worked.</p>\n<p><code>jboss.jaxrs.api_2.spec</code>\n<code>jboss.jaxrs.api</code></p>\n<p>Can anyone help me to fine the correct automatic module name? Or is there any other way to solve this problem.</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","python","hashmap"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1434916266,"creation_date":1259012715,"answer_id":1786228,"question_id":1786206,"body_markdown":"You can use [`MultiMap`][1] from [Apache Commons][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\r\n  [2]: https://commons.apache.org/","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow noreferrer\"><code>MultiMap</code></a> from <a href=\"https://commons.apache.org/\" rel=\"nofollow noreferrer\">Apache Commons</a>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1259013623,"creation_date":1259013623,"answer_id":1786345,"question_id":1786206,"body_markdown":"in addition to apache collections, check also [google collections][1]:\r\n\r\n&gt; A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>in addition to apache collections, check also <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\" rel=\"noreferrer\">google collections</a>:</p>\n\n<blockquote>\n  <p>A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259013786,"creation_date":1259013786,"answer_id":1786358,"question_id":1786206,"body_markdown":"Using just the Java runtime library you could use a `HashMap` and add an `ArrayList` to hold your values when the key does not exist yet or add the value to the list when the key does exist.","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>Using just the Java runtime library you could use a <code>HashMap</code> and add an <code>ArrayList</code> to hold your values when the key does not exist yet or add the value to the list when the key does exist.</p>\n"},{"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1263317677,"creation_date":1259406490,"answer_id":1812263,"question_id":1786206,"body_markdown":"There is nothing that gives the behaviour of default dict out of the box. However creating your own default dict in Java would not be that difficult.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class DefaultDict&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n    \r\n        Class&lt;V&gt; klass;\r\n        public DefaultDict(Class klass) {\r\n            this.klass = klass;    \r\n        }\r\n    \r\n        @Override\r\n        public V get(Object key) {\r\n            V returnValue = super.get(key);\r\n            if (returnValue == null) {\r\n                try {\r\n                    returnValue = klass.newInstance();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                this.put((K) key, returnValue);\r\n            }\r\n            return returnValue;\r\n        }    \r\n    }\r\n\r\nThis class could be used like below:\r\n\r\n    public static void main(String[] args) {\r\n        DefaultDict&lt;Integer, List&lt;Integer&gt;&gt; dict =\r\n            new DefaultDict&lt;Integer, List&lt;Integer&gt;&gt;(ArrayList.class);\r\n        dict.get(1).add(2);\r\n        dict.get(1).add(3);\r\n        System.out.println(dict);\r\n    }\r\n\r\nThis code would print: `{1=[2, 3]}`","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>There is nothing that gives the behaviour of default dict out of the box. However creating your own default dict in Java would not be that difficult.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class DefaultDict&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n\n    Class&lt;V&gt; klass;\n    public DefaultDict(Class klass) {\n        this.klass = klass;    \n    }\n\n    @Override\n    public V get(Object key) {\n        V returnValue = super.get(key);\n        if (returnValue == null) {\n            try {\n                returnValue = klass.newInstance();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n            this.put((K) key, returnValue);\n        }\n        return returnValue;\n    }    \n}\n</code></pre>\n\n<p>This class could be used like below:</p>\n\n<pre><code>public static void main(String[] args) {\n    DefaultDict&lt;Integer, List&lt;Integer&gt;&gt; dict =\n        new DefaultDict&lt;Integer, List&lt;Integer&gt;&gt;(ArrayList.class);\n    dict.get(1).add(2);\n    dict.get(1).add(3);\n    System.out.println(dict);\n}\n</code></pre>\n\n<p>This code would print: <code>{1=[2, 3]}</code></p>\n"},{"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387379859,"creation_date":1387379859,"answer_id":20661841,"question_id":1786206,"body_markdown":"The solution from @tendayi-mawushe did not work for me with Primitive types (e.g. `InstantiationException Integer`), here is one implementation that works with Integer, Double, Float. I often use Maps with these and added static constructors for conveninence \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    /** Simulate the behaviour of Python&#39;s defaultdict */\r\n    public class DefaultHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        private final Class&lt;V&gt; cls;\r\n        private final Number defaultValue;\r\n\r\n        @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n        public DefaultHashMap(Class factory) {\r\n            this.cls = factory;\r\n            this.defaultValue = null;\r\n        }\r\n\r\n        public DefaultHashMap(Number defaultValue) {\r\n            this.cls = null;\r\n            this.defaultValue = defaultValue;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public V get(Object key) {\r\n            V value = super.get(key);\r\n            if (value == null) {\r\n                if (defaultValue == null) {\r\n                    try {\r\n                        value = cls.newInstance();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    value = (V) defaultValue;\r\n                }\r\n                this.put((K) key, value);\r\n            }\r\n            return value;\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Integer&gt; intDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Integer&gt;(0);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Double&gt; doubleDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Double&gt;(0d);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Float&gt; floatDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Float&gt;(0f);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, String&gt; stringDefaultMap() {\r\n            return new DefaultHashMap&lt;T, String&gt;(String.class);\r\n        }\r\n    }\r\n\r\nAnd a test, for good manners:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class DefaultHashMapTest {\r\n\r\n        @Test\r\n        public void test() {\r\n            Map&lt;String, List&lt;String&gt;&gt; dm = new DefaultHashMap&lt;String, List&lt;String&gt;&gt;(\r\n                    ArrayList.class);\r\n            dm.get(&quot;nokey&quot;).add(&quot;one&quot;);\r\n            dm.get(&quot;nokey&quot;).add(&quot;two&quot;);\r\n            assertEquals(2, dm.get(&quot;nokey&quot;).size());\r\n            assertEquals(0, dm.get(&quot;nokey2&quot;).size());\r\n        }\r\n\r\n        @Test\r\n        public void testInt() {\r\n            Map&lt;String, Integer&gt; dm = DefaultHashMap.intDefaultMap();\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey&quot;));\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey2&quot;));\r\n            dm.put(&quot;nokey&quot;, 3);\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey2&quot;));\r\n            dm.put(&quot;nokey3&quot;, 3);\r\n            assertEquals(new Integer(3), dm.get(&quot;nokey3&quot;));\r\n        }\r\n\r\n        @Test\r\n        public void testString() {\r\n            Map&lt;String, String&gt; dm = DefaultHashMap.stringDefaultMap();\r\n            assertEquals(&quot;&quot;, dm.get(&quot;nokey&quot;));\r\n            dm.put(&quot;nokey1&quot;, &quot;mykey&quot;);\r\n            assertEquals(&quot;mykey&quot;, dm.get(&quot;nokey1&quot;));\r\n        }\r\n    }\r\n","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>The solution from @tendayi-mawushe did not work for me with Primitive types (e.g. <code>InstantiationException Integer</code>), here is one implementation that works with Integer, Double, Float. I often use Maps with these and added static constructors for conveninence </p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/** Simulate the behaviour of Python's defaultdict */\npublic class DefaultHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n    private static final long serialVersionUID = 1L;\n\n    private final Class&lt;V&gt; cls;\n    private final Number defaultValue;\n\n    @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n    public DefaultHashMap(Class factory) {\n        this.cls = factory;\n        this.defaultValue = null;\n    }\n\n    public DefaultHashMap(Number defaultValue) {\n        this.cls = null;\n        this.defaultValue = defaultValue;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public V get(Object key) {\n        V value = super.get(key);\n        if (value == null) {\n            if (defaultValue == null) {\n                try {\n                    value = cls.newInstance();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            } else {\n                value = (V) defaultValue;\n            }\n            this.put((K) key, value);\n        }\n        return value;\n    }\n\n    public static &lt;T&gt; Map&lt;T, Integer&gt; intDefaultMap() {\n        return new DefaultHashMap&lt;T, Integer&gt;(0);\n    }\n\n    public static &lt;T&gt; Map&lt;T, Double&gt; doubleDefaultMap() {\n        return new DefaultHashMap&lt;T, Double&gt;(0d);\n    }\n\n    public static &lt;T&gt; Map&lt;T, Float&gt; floatDefaultMap() {\n        return new DefaultHashMap&lt;T, Float&gt;(0f);\n    }\n\n    public static &lt;T&gt; Map&lt;T, String&gt; stringDefaultMap() {\n        return new DefaultHashMap&lt;T, String&gt;(String.class);\n    }\n}\n</code></pre>\n\n<p>And a test, for good manners:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.junit.Test;\n\npublic class DefaultHashMapTest {\n\n    @Test\n    public void test() {\n        Map&lt;String, List&lt;String&gt;&gt; dm = new DefaultHashMap&lt;String, List&lt;String&gt;&gt;(\n                ArrayList.class);\n        dm.get(\"nokey\").add(\"one\");\n        dm.get(\"nokey\").add(\"two\");\n        assertEquals(2, dm.get(\"nokey\").size());\n        assertEquals(0, dm.get(\"nokey2\").size());\n    }\n\n    @Test\n    public void testInt() {\n        Map&lt;String, Integer&gt; dm = DefaultHashMap.intDefaultMap();\n        assertEquals(new Integer(0), dm.get(\"nokey\"));\n        assertEquals(new Integer(0), dm.get(\"nokey2\"));\n        dm.put(\"nokey\", 3);\n        assertEquals(new Integer(0), dm.get(\"nokey2\"));\n        dm.put(\"nokey3\", 3);\n        assertEquals(new Integer(3), dm.get(\"nokey3\"));\n    }\n\n    @Test\n    public void testString() {\n        Map&lt;String, String&gt; dm = DefaultHashMap.stringDefaultMap();\n        assertEquals(\"\", dm.get(\"nokey\"));\n        dm.put(\"nokey1\", \"mykey\");\n        assertEquals(\"mykey\", dm.get(\"nokey1\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1593448189,"creation_date":1434917068,"answer_id":30968796,"question_id":1786206,"body_markdown":"In most common cases where you want a `defaultdict`, you&#39;ll be even happier with a properly designed Multimap or Multiset, which is what you&#39;re really looking for.  A Multimap is a key -&gt; collection mapping (default is an empty collection) and a Multiset is a key -&gt; int mapping (default is zero).\r\n\r\n[Guava][1] provides very nice implementations of both [Multimaps and Multisets][2] which will cover almost all use cases.\r\n\r\nBut (and this is why I posted a new answer) with Java 8 you can now replicate the remaining use cases of `defaultdict` with any existing `Map`.\r\n\r\n* [`getOrDefault()`][3], as the name suggests, returns the value if present, or returns a default value.  This *does not* store the default value in the map.\r\n* [`computeIfAbsent()`][4] computes a value from the provided function (which could always return the same default value) and *does* store the computed value in the map before returning.\r\n\r\nIf you want to encapsulate these calls you can use Guava&#39;s [`ForwardingMap`][5]:\r\n\r\n    public class DefaultMap&lt;K, V&gt; extends ForwardingMap&lt;K, V&gt; {\r\n      private final Map&lt;K, V&gt; delegate;\r\n      private final Supplier&lt;V&gt; defaultSupplier;\r\n    \r\n      /**\r\n       * Creates a map which uses the given value as the default for &lt;i&gt;all&lt;/i&gt;\r\n       * keys. You should only use immutable values as a shared default key.\r\n       * Prefer {@link #create(Supplier)} to construct a new instance for each key.\r\n       */\r\n      public static DefaultMap&lt;K, V&gt; create(V defaultValue) {\r\n        return create(() -&gt; defaultValue);\r\n      }\r\n    \r\n      public static DefaultMap&lt;K, V&gt; create(Supplier&lt;V&gt; defaultSupplier) {\r\n        return new DefaultMap&lt;&gt;(new HashMap&lt;&gt;(), defaultSupplier);\r\n      }\r\n    \r\n      public DefaultMap&lt;K, V&gt;(Map&lt;K, V&gt; delegate, Supplier&lt;V&gt; defaultSupplier) {\r\n        this.delegate = Objects.requireNonNull(delegate);\r\n        this.defaultSupplier = Objects.requireNonNull(defaultSupplier);\r\n      }\r\n    \r\n      @Override\r\n      public V get(K key) {\r\n        return delegate().computeIfAbsent(key, k -&gt; defaultSupplier.get());\r\n      }\r\n    }\r\n\r\nThen construct your default map like so:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; defaultMap = DefaultMap.create(ArrayList::new);\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/wiki/NewCollectionTypesExplained\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [5]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ForwardingMap.html","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In most common cases where you want a <code>defaultdict</code>, you'll be even happier with a properly designed Multimap or Multiset, which is what you're really looking for.  A Multimap is a key -&gt; collection mapping (default is an empty collection) and a Multiset is a key -&gt; int mapping (default is zero).</p>\n<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> provides very nice implementations of both <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained\" rel=\"nofollow noreferrer\">Multimaps and Multisets</a> which will cover almost all use cases.</p>\n<p>But (and this is why I posted a new answer) with Java 8 you can now replicate the remaining use cases of <code>defaultdict</code> with any existing <code>Map</code>.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>getOrDefault()</code></a>, as the name suggests, returns the value if present, or returns a default value.  This <em>does not</em> store the default value in the map.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a> computes a value from the provided function (which could always return the same default value) and <em>does</em> store the computed value in the map before returning.</li>\n</ul>\n<p>If you want to encapsulate these calls you can use Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ForwardingMap.html\" rel=\"nofollow noreferrer\"><code>ForwardingMap</code></a>:</p>\n<pre><code>public class DefaultMap&lt;K, V&gt; extends ForwardingMap&lt;K, V&gt; {\n  private final Map&lt;K, V&gt; delegate;\n  private final Supplier&lt;V&gt; defaultSupplier;\n\n  /**\n   * Creates a map which uses the given value as the default for &lt;i&gt;all&lt;/i&gt;\n   * keys. You should only use immutable values as a shared default key.\n   * Prefer {@link #create(Supplier)} to construct a new instance for each key.\n   */\n  public static DefaultMap&lt;K, V&gt; create(V defaultValue) {\n    return create(() -&gt; defaultValue);\n  }\n\n  public static DefaultMap&lt;K, V&gt; create(Supplier&lt;V&gt; defaultSupplier) {\n    return new DefaultMap&lt;&gt;(new HashMap&lt;&gt;(), defaultSupplier);\n  }\n\n  public DefaultMap&lt;K, V&gt;(Map&lt;K, V&gt; delegate, Supplier&lt;V&gt; defaultSupplier) {\n    this.delegate = Objects.requireNonNull(delegate);\n    this.defaultSupplier = Objects.requireNonNull(defaultSupplier);\n  }\n\n  @Override\n  public V get(K key) {\n    return delegate().computeIfAbsent(key, k -&gt; defaultSupplier.get());\n  }\n}\n</code></pre>\n<p>Then construct your default map like so:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; defaultMap = DefaultMap.create(ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939077,"reputation":39,"user_id":967489,"display_name":"user967489"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472384814,"creation_date":1472384814,"answer_id":39190927,"question_id":1786206,"body_markdown":"I wrote the library [Guavaberry][1] containing such data structure:  [DefaultHashMap][2].\r\n\r\nIt is highly tested and documented. You can find it and integrate it pretty easily via Maven Central.\r\n\r\nThe main advatage is that it uses lambda to define the factory method. So, you can add an arbitrarly defined instance of a class (instead of relying on the existence of the default constructor):\r\n\r\n\r\n    DefaultHashMap&lt;Integer, List&lt;String&gt;&gt; map = new DefaultHashMap(() -&gt; new ArrayList&lt;&gt;());\r\n    map.get(11).add(&quot;first&quot;);\r\n\r\n\r\nI hope that can be of help.\r\n\r\n  [1]: https://github.com/guavaberry/guavaberry\r\n  [2]: https://github.com/guavaberry/guavaberry/wiki/Collections","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>I wrote the library <a href=\"https://github.com/guavaberry/guavaberry\" rel=\"nofollow\">Guavaberry</a> containing such data structure:  <a href=\"https://github.com/guavaberry/guavaberry/wiki/Collections\" rel=\"nofollow\">DefaultHashMap</a>.</p>\n\n<p>It is highly tested and documented. You can find it and integrate it pretty easily via Maven Central.</p>\n\n<p>The main advatage is that it uses lambda to define the factory method. So, you can add an arbitrarly defined instance of a class (instead of relying on the existence of the default constructor):</p>\n\n<pre><code>DefaultHashMap&lt;Integer, List&lt;String&gt;&gt; map = new DefaultHashMap(() -&gt; new ArrayList&lt;&gt;());\nmap.get(11).add(\"first\");\n</code></pre>\n\n<p>I hope that can be of help.</p>\n"},{"tags":[],"owner":{"account_id":3796499,"reputation":5874,"user_id":3151415,"accept_rate":65,"display_name":"garg10may"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1571607618,"creation_date":1571607618,"answer_id":58477560,"question_id":1786206,"body_markdown":"In Java 8+ you can use:\r\n\r\n    map.computeIfAbsent(1, k -&gt; new ArrayList&lt;Integer&gt;()).add(2);","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In Java 8+ you can use:</p>\n\n<pre><code>map.computeIfAbsent(1, k -&gt; new ArrayList&lt;Integer&gt;()).add(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3536787,"reputation":1,"user_id":2954870,"display_name":"yimng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701672946,"creation_date":1701672891,"answer_id":77597634,"question_id":1786206,"body_markdown":"From java8+, you can use map.computeIfAbsent.\r\nFor example:\r\n\r\n        List food = new ArrayList&lt;String&gt;();\r\n        food.add(&quot;Pizza&quot;);\r\n        food.add(&quot;Chicken&quot;);\r\n        Map&lt;String, List&lt;String&gt;&gt; favouriteFood = new HashMap&lt;&gt;();\r\n        favouriteFood.put(&quot;Mike&quot;, food);\r\n        favouriteFood.computeIfAbsent(&quot;James&quot;, name -&gt; new ArrayList&lt;&gt;())\r\n                .add(&quot;Hamburger&quot;);\r\n    Mike -&gt; [Pizza, Chicken]\r\n    James -&gt; [Hamburger]","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>From java8+, you can use map.computeIfAbsent.\nFor example:</p>\n<pre><code>    List food = new ArrayList&lt;String&gt;();\n    food.add(&quot;Pizza&quot;);\n    food.add(&quot;Chicken&quot;);\n    Map&lt;String, List&lt;String&gt;&gt; favouriteFood = new HashMap&lt;&gt;();\n    favouriteFood.put(&quot;Mike&quot;, food);\n    favouriteFood.computeIfAbsent(&quot;James&quot;, name -&gt; new ArrayList&lt;&gt;())\n            .add(&quot;Hamburger&quot;);\nMike -&gt; [Pizza, Chicken]\nJames -&gt; [Hamburger]\n</code></pre>\n"}],"owner":{"account_id":30044,"reputation":16610,"user_id":81636,"accept_rate":72,"display_name":"gatoatigrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18285,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":1812263,"answer_count":9,"score":51,"last_activity_date":1701672946,"creation_date":1259012538,"question_id":1786206,"body_markdown":"In Python, the `defaultdict` class provides a convenient way to create a mapping from `key -&gt; [list of values]`, in the following example,\r\n```python\r\nfrom collections import defaultdict\r\nd = defaultdict(list)\r\nd[1].append(2)\r\nd[1].append(3)\r\n# d is now {1: [2, 3]}\r\n```\r\nIs there an equivalent to this in Java?","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In Python, the <code>defaultdict</code> class provides a convenient way to create a mapping from <code>key -&gt; [list of values]</code>, in the following example,</p>\n<pre class=\"lang-py prettyprint-override\"><code>from collections import defaultdict\nd = defaultdict(list)\nd[1].append(2)\nd[1].append(3)\n# d is now {1: [2, 3]}\n</code></pre>\n<p>Is there an equivalent to this in Java?</p>\n"},{"tags":["java","jar","manifest.mf","meta-inf"],"comments":[{"owner":{"account_id":1164039,"reputation":6835,"user_id":1143013,"accept_rate":77,"display_name":"raam86"},"score":6,"creation_date":1349605044,"post_id":12767886,"comment_id":17254457,"body_markdown":"http://en.wikipedia.org/wiki/Manifest_file","body":"<a href=\"http://en.wikipedia.org/wiki/Manifest_file\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Manifest_file</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1349605047,"post_id":12767886,"comment_id":17254458,"body_markdown":"See [Working with Manifest Files: The Basics](http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).","body":"See <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Working with Manifest Files: The Basics</a>."}],"answers":[{"tags":[],"owner":{"account_id":1816007,"reputation":16534,"user_id":1651073,"display_name":"Frank"},"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1649856570,"creation_date":1349605227,"answer_id":12767929,"question_id":12767886,"body_markdown":"The content of the Manifest file in a JAR file created with version 1.0 of the Java Development Kit is the following.\r\n\r\n    Manifest-Version: 1.0\r\n\r\nAll the entries are as name-value pairs. The name of a header is separated from its value by a colon. The default manifest shows that it conforms to version 1.0 of the manifest specification.\r\nThe manifest can also contain information about the other files that are packaged in the archive. Exactly what file information is recorded in the manifest will depend on the intended use for the JAR file. The default manifest file makes no assumptions about what information it should record about other files, so its single line contains data only about itself.\r\nSpecial-Purpose Manifest Headers\r\n\r\nDepending on the intended role of the JAR file, the default manifest may have to be modified. If the JAR file is created only for the purpose of archival, then the MANIFEST.MF file is of no purpose.\r\nMost uses of JAR files go beyond simple archiving and compression and require special information to be in the manifest file. Summarized below are brief descriptions of the headers that are required for some special-purpose JAR-file functions\r\n\r\n**Applications Bundled as JAR Files:** If an application is bundled in a JAR file, the Java Virtual Machine needs to be told what the entry point to the application is. An entry point is any class with a public static void main(String[] args) method. This information is provided in the Main-Class header, which has the general form:\r\n\r\n    Main-Class: classname\r\n\r\nThe value classname is to be replaced with the application&#39;s entry point.\r\n\r\n**Download Extensions:** Download extensions are JAR files that are referenced by the manifest files of other JAR files. In a typical situation, an applet will be bundled in a JAR file whose manifest references a JAR file (or several JAR files) that will serve as an extension for the purposes of that applet. Extensions may reference each other in the same way.\r\nDownload extensions are specified in the Class-Path header field in the manifest file of an applet, application, or another extension. A Class-Path header might look like this, for example:\r\n\r\n    Class-Path: servlet.jar infobus.jar acme/beans.jar\r\n\r\nWith this header, the classes in the files servlet.jar, infobus.jar, and acme/beans.jar will serve as extensions for purposes of the applet or application. The URLs in the Class-Path header are given relative to the URL of the JAR file of the applet or application.\r\n\r\n**Package Sealing:** A package within a JAR file can be optionally sealed, which means that all classes defined in that package must be archived in the same JAR file. A package might be sealed to ensure version consistency among the classes in your software or as a security measure.\r\nTo seal a package, a Name header needs to be added for the package, followed by a Sealed header, similar to this:\r\n\r\n    Name: myCompany/myPackage/\r\n    Sealed: true\r\n\r\nThe Name header&#39;s value is the package&#39;s relative pathname. Note that it ends with a &#39;/&#39; to distinguish it from a filename. Any headers following a Name header, without any intervening blank lines, apply to the file or package specified in the Name header. In the above example, because the Sealed header occurs after the Name: myCompany/myPackage header, with no blank lines between, the Sealed header will be interpreted as applying (only) to the package myCompany/myPackage.\r\n\r\n**Package Versioning:** The Package Versioning specification defines several manifest headers to hold versioning information. One set of such headers can be assigned to each package. The versioning headers should appear directly beneath the Name header for the package. This example shows all the versioning headers:\r\n\r\n    Name: java/util/\r\n    Specification-Title: &quot;Java Utility Classes&quot; \r\n    Specification-Version: &quot;1.2&quot;\r\n    Specification-Vendor: &quot;Sun Microsystems, Inc.&quot;.\r\n    Implementation-Title: &quot;java.util&quot; \r\n    Implementation-Version: &quot;build57&quot;\r\n    Implementation-Vendor: &quot;Sun Microsystems, Inc.&quot;\r\n\r\n\r\nAdditional information: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Use of the MANIFEST.MF file in Java","body":"<p>The content of the Manifest file in a JAR file created with version 1.0 of the Java Development Kit is the following.</p>\n<pre><code>Manifest-Version: 1.0\n</code></pre>\n<p>All the entries are as name-value pairs. The name of a header is separated from its value by a colon. The default manifest shows that it conforms to version 1.0 of the manifest specification.\nThe manifest can also contain information about the other files that are packaged in the archive. Exactly what file information is recorded in the manifest will depend on the intended use for the JAR file. The default manifest file makes no assumptions about what information it should record about other files, so its single line contains data only about itself.\nSpecial-Purpose Manifest Headers</p>\n<p>Depending on the intended role of the JAR file, the default manifest may have to be modified. If the JAR file is created only for the purpose of archival, then the MANIFEST.MF file is of no purpose.\nMost uses of JAR files go beyond simple archiving and compression and require special information to be in the manifest file. Summarized below are brief descriptions of the headers that are required for some special-purpose JAR-file functions</p>\n<p><strong>Applications Bundled as JAR Files:</strong> If an application is bundled in a JAR file, the Java Virtual Machine needs to be told what the entry point to the application is. An entry point is any class with a public static void main(String[] args) method. This information is provided in the Main-Class header, which has the general form:</p>\n<pre><code>Main-Class: classname\n</code></pre>\n<p>The value classname is to be replaced with the application's entry point.</p>\n<p><strong>Download Extensions:</strong> Download extensions are JAR files that are referenced by the manifest files of other JAR files. In a typical situation, an applet will be bundled in a JAR file whose manifest references a JAR file (or several JAR files) that will serve as an extension for the purposes of that applet. Extensions may reference each other in the same way.\nDownload extensions are specified in the Class-Path header field in the manifest file of an applet, application, or another extension. A Class-Path header might look like this, for example:</p>\n<pre><code>Class-Path: servlet.jar infobus.jar acme/beans.jar\n</code></pre>\n<p>With this header, the classes in the files servlet.jar, infobus.jar, and acme/beans.jar will serve as extensions for purposes of the applet or application. The URLs in the Class-Path header are given relative to the URL of the JAR file of the applet or application.</p>\n<p><strong>Package Sealing:</strong> A package within a JAR file can be optionally sealed, which means that all classes defined in that package must be archived in the same JAR file. A package might be sealed to ensure version consistency among the classes in your software or as a security measure.\nTo seal a package, a Name header needs to be added for the package, followed by a Sealed header, similar to this:</p>\n<pre><code>Name: myCompany/myPackage/\nSealed: true\n</code></pre>\n<p>The Name header's value is the package's relative pathname. Note that it ends with a '/' to distinguish it from a filename. Any headers following a Name header, without any intervening blank lines, apply to the file or package specified in the Name header. In the above example, because the Sealed header occurs after the Name: myCompany/myPackage header, with no blank lines between, the Sealed header will be interpreted as applying (only) to the package myCompany/myPackage.</p>\n<p><strong>Package Versioning:</strong> The Package Versioning specification defines several manifest headers to hold versioning information. One set of such headers can be assigned to each package. The versioning headers should appear directly beneath the Name header for the package. This example shows all the versioning headers:</p>\n<pre><code>Name: java/util/\nSpecification-Title: &quot;Java Utility Classes&quot; \nSpecification-Version: &quot;1.2&quot;\nSpecification-Vendor: &quot;Sun Microsystems, Inc.&quot;.\nImplementation-Title: &quot;java.util&quot; \nImplementation-Version: &quot;build57&quot;\nImplementation-Vendor: &quot;Sun Microsystems, Inc.&quot;\n</code></pre>\n<p>Additional information: <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n"},{"tags":[],"owner":{"account_id":4893649,"reputation":560,"user_id":3943968,"display_name":"jordom"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1481194015,"creation_date":1408091920,"answer_id":25323525,"question_id":12767886,"body_markdown":"Manifest.MF contains information about the files contained in the JAR file.\r\n\r\nWhenever a JAR file is created a default manifest.mf file is created inside META-INF folder and it contains the default entries like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0_06 (Oracle Corporation)\r\n\r\nThese are entries as “header:value” pairs. The first one specifies the manifest version and second one specifies the JDK version with which the JAR file is created.\r\n\r\n**Main-Class header:**\r\nWhen a JAR file is used to bundle an application in a package, we need to specify the class serving an entry point of the application. We provide this information using ‘Main-Class’ header of the manifest file,\r\n\r\nMain-Class: {fully qualified classname}\r\n\r\nThe ‘Main-Class’ value here is the class having main method. After specifying this entry we can execute the JAR file to run the application.\r\n\r\n**Class-Path header:**\r\nMost of the times we need to access the other JAR files from the classes packaged inside application’s JAR file. This can be done by providing their fully qualified paths in the manifest file using ‘Class-Path’ header,\r\n\r\nClass-Path: {jar1-name jar2-name directory-name/jar3-name}\r\n\r\nThis header can be used to specify the external JAR files on the same local network and not inside the current JAR.\r\n\r\n**Package version related headers:**\r\nWhen the JAR file is used for package versioning the following headers are used as specified by the Java language specification:\r\n\r\n\tHeaders in a manifest\r\n\tHeader\t\t\t\t\t| Definition\r\n\t-------------------------------------------------------------------\r\n\tName\t\t\t\t\t| The name of the specification.\r\n\tSpecification-Title\t\t| The title of the specification.\r\n\tSpecification-Version\t| The version of the specification.\r\n\tSpecification-Vendor\t| The vendor of the specification.\r\n\tImplementation-Title\t| The title of the implementation.\r\n\tImplementation-Version\t| The build number of the implementation.\r\n\tImplementation-Vendor\t| The vendor of the implementation.\r\n\r\n\r\n\r\n**Package sealing related headers:**\r\n\r\nWe can also specify if any particular packages inside a JAR file should be sealed meaning all the classes defined in that package must be archived in the same JAR file. This can be specified with the help of ‘Sealed’ header,\r\n\r\nName: {package/some-package/}\r\nSealed:true\r\n\r\nHere, the package name must end with ‘/’.\r\n\r\n**Enhancing security with manifest files:**\r\n\r\nWe can use manifest files entries to ensure the security of the web application or applet it packages with the different attributes as ‘Permissions’, ‘Codebae’, ‘Application-Name’, ‘Trusted-Only’ and many more.\r\n\r\n**META-INF folder:**\r\n\r\nThis folder is where the manifest file resides. Also, it can contain more files containing meta data about the application. For example, in an EJB module JAR file, this folder contains the EJB deployment descriptor for the EJB module along with the manifest file for the JAR. Also, it contains the xml file containing mapping of an abstract EJB references to concrete container resources of the application server on which it will be run.\r\n\r\nReference:&lt;br/&gt;\r\n[https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Use of the MANIFEST.MF file in Java","body":"<p>Manifest.MF contains information about the files contained in the JAR file.</p>\n\n<p>Whenever a JAR file is created a default manifest.mf file is created inside META-INF folder and it contains the default entries like this:</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: 1.7.0_06 (Oracle Corporation)\n</code></pre>\n\n<p>These are entries as “header:value” pairs. The first one specifies the manifest version and second one specifies the JDK version with which the JAR file is created.</p>\n\n<p><strong>Main-Class header:</strong>\nWhen a JAR file is used to bundle an application in a package, we need to specify the class serving an entry point of the application. We provide this information using ‘Main-Class’ header of the manifest file,</p>\n\n<p>Main-Class: {fully qualified classname}</p>\n\n<p>The ‘Main-Class’ value here is the class having main method. After specifying this entry we can execute the JAR file to run the application.</p>\n\n<p><strong>Class-Path header:</strong>\nMost of the times we need to access the other JAR files from the classes packaged inside application’s JAR file. This can be done by providing their fully qualified paths in the manifest file using ‘Class-Path’ header,</p>\n\n<p>Class-Path: {jar1-name jar2-name directory-name/jar3-name}</p>\n\n<p>This header can be used to specify the external JAR files on the same local network and not inside the current JAR.</p>\n\n<p><strong>Package version related headers:</strong>\nWhen the JAR file is used for package versioning the following headers are used as specified by the Java language specification:</p>\n\n<pre><code>Headers in a manifest\nHeader                  | Definition\n-------------------------------------------------------------------\nName                    | The name of the specification.\nSpecification-Title     | The title of the specification.\nSpecification-Version   | The version of the specification.\nSpecification-Vendor    | The vendor of the specification.\nImplementation-Title    | The title of the implementation.\nImplementation-Version  | The build number of the implementation.\nImplementation-Vendor   | The vendor of the implementation.\n</code></pre>\n\n<p><strong>Package sealing related headers:</strong></p>\n\n<p>We can also specify if any particular packages inside a JAR file should be sealed meaning all the classes defined in that package must be archived in the same JAR file. This can be specified with the help of ‘Sealed’ header,</p>\n\n<p>Name: {package/some-package/}\nSealed:true</p>\n\n<p>Here, the package name must end with ‘/’.</p>\n\n<p><strong>Enhancing security with manifest files:</strong></p>\n\n<p>We can use manifest files entries to ensure the security of the web application or applet it packages with the different attributes as ‘Permissions’, ‘Codebae’, ‘Application-Name’, ‘Trusted-Only’ and many more.</p>\n\n<p><strong>META-INF folder:</strong></p>\n\n<p>This folder is where the manifest file resides. Also, it can contain more files containing meta data about the application. For example, in an EJB module JAR file, this folder contains the EJB deployment descriptor for the EJB module along with the manifest file for the JAR. Also, it contains the xml file containing mapping of an abstract EJB references to concrete container resources of the application server on which it will be run.</p>\n\n<p>Reference:<br/>\n<a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194451,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":12767929,"answer_count":2,"score":117,"last_activity_date":1701672842,"creation_date":1349604790,"question_id":12767886,"body_markdown":"I noticed that JAR, WAR and EAR files have a `MANIFEST.MF` file under the `META-INF` folder.\r\n\r\nWhat is the use of the `MANIFEST.MF` file? What all things can be specified in this file?","title":"Use of the MANIFEST.MF file in Java","body":"<p>I noticed that JAR, WAR and EAR files have a <code>MANIFEST.MF</code> file under the <code>META-INF</code> folder.</p>\n\n<p>What is the use of the <code>MANIFEST.MF</code> file? What all things can be specified in this file?</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-data-r2dbc","reactive-kafka"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1701672930,"post_id":77597580,"comment_id":136800281,"body_markdown":"`parallel -&gt; runOn -&gt; sequential` is a no-op.it should be removed. Generally, when we want to improve database insertion performance, the first thing to try is to perform *batch inserts*. Also, if you want to do an upsert, or insert only if an id does not exist, you could try to perform a single db operation like a &quot;merge&quot; statement, or a &quot;insert... on conflict do ...&quot; to reduce IO cost with the database. Finally, you might want to look into Spring libraries specialized for integration (spring-cloud-stream, spring-integration, spring-batch)","body":"<code>parallel -&gt; runOn -&gt; sequential</code> is a no-op.it should be removed. Generally, when we want to improve database insertion performance, the first thing to try is to perform <i>batch inserts</i>. Also, if you want to do an upsert, or insert only if an id does not exist, you could try to perform a single db operation like a &quot;merge&quot; statement, or a &quot;insert... on conflict do ...&quot; to reduce IO cost with the database. Finally, you might want to look into Spring libraries specialized for integration (spring-cloud-stream, spring-integration, spring-batch)"}],"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701672108,"creation_date":1701672108,"question_id":77597580,"body_markdown":"I have a Spring WebFlux project which works with large amount of data.\r\n\r\nIn my case I receive requests about 20000 requests per second. I have to write data without losing and blocking API endpoint. I have to write data with the fastest ways into database.\r\n\r\nSo regarding to my code and architecture. I chose SpringWebFlux, Reactive Kafka library for Spring WebFlux and R2DBC Postgresql. So What I am doing, I created a REST API endpoint to handle requests. The endpoint forwards request to ReactiveKafka using ReactiveKafkaProducerTemplate. I listen it by @KafkaListener. Inserting data into db.\r\n\r\nSharing my cod:\r\n\r\nController:\r\n\r\n      @PostMapping(value = &quot;/soap&quot;, produces = MediaType.TEXT_XML_VALUE, consumes = MediaType.TEXT_XML_VALUE)\r\n      public Mono&lt;ResponseEntity&lt;CardSuccessResponse&gt;&gt; handleCardData(@RequestBody CardDataRequest request) {\r\n        return producer.produce(request)\r\n                .map(ResponseEntity::ok);\r\n      }\r\n\r\n\r\nService:\r\n\r\n       public Mono&lt;CardSuccessResponse&gt; produce(CardDataRequest request) {\r\n        return Mono.justOrEmpty(CardDataTransferObjectMapper.mapToCardDataTransferObject(request))\r\n                .flatMap(object -&gt; {\r\n                    var key = UUID.randomUUID().toString();\r\n                    return reactiveKafkaProducerTemplate.send(topic, key, object);\r\n                })\r\n                .&lt;SenderResult&lt;Void&gt;&gt;handle((result, sink) -&gt; {\r\n                    if (result.exception() != null) {\r\n                        log.error(&quot;Error while sending data={} to topic={}&quot;, result.recordMetadata(), topic);\r\n                        sink.error(new SoapReceiverException(result.exception()));\r\n                        return;\r\n                    } else {\r\n                        log.debug(&quot;Data={} is successfully sent to topic={}&quot;, result.recordMetadata(), topic);\r\n                    }\r\n                    sink.next(result);\r\n                })\r\n                .thenReturn(CardSuccessResponse.builder()\r\n                        .body(CardSuccessResponse.Body.builder()\r\n                                .notifyResponse(new CardSuccessResponse.NotifyResponse())\r\n                                .build())\r\n                        .build())\r\n                .onErrorResume(throwable -&gt; {\r\n                    log.error(&quot;Error occurred while publishing CardDataTransferObject to topic={}.&quot;, topic, throwable);\r\n                    return Mono.error(new SoapReceiverException(throwable));\r\n                })\r\n                .subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public ReactiveKafkaConsumerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaConsumerTemplate() {\r\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(kafkaProperties.buildConsumerProperties(null)));\r\n    }\r\n\r\n    @Bean\r\n    public ReactiveKafkaProducerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaProducerTemplate() {\r\n        return new ReactiveKafkaProducerTemplate&lt;&gt;(SenderOptions.create(kafkaProperties.buildProducerProperties(null)));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, CardDataTransferObject&gt; consumerFactory) {\r\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setConcurrency(concurrency); // Set the number of listener threads\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;?&gt; kafkaBatchListenerContainerFactory(ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory) {\r\n        kafkaListenerContainerFactory.setBatchListener(true);\r\n        kafkaListenerContainerFactory.setBatchMessageConverter(new BatchMessagingMessageConverter()); // Customize the message converter if needed\r\n        return kafkaListenerContainerFactory;\r\n    }\r\n\r\nListener:\r\n\r\n    @KafkaListener(topics = &quot;${application.kafka.internal.topic.card-data}&quot;, groupId = &quot;${application.kafka.internal.consumer.group-id}&quot;, containerFactory = &quot;kafkaBatchListenerContainerFactory&quot;)\r\n    public void consumeCardDataTransferObject(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; records) {\r\n        log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Handle Kafka messages. size={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;, records.size());\r\n        try {\r\n            service.saveOrUpdate(records).subscribe();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error while inserting data.&quot;, e);\r\n        }\r\n    }\r\n\r\nDatabase call:\r\n\r\n     public Mono&lt;Void&gt; saveOrUpdate(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; requests) {\r\n        return Flux.fromIterable(requests)\r\n                .parallel()\r\n                .runOn(Schedulers.parallel())\r\n                .sequential()\r\n                .flatMap(record -&gt; {\r\n                            log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Received key={}, value={} from topic={} with offset={}, headers={}, partition={}, timestamp={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,\r\n                                    record.key(),\r\n                                    record.value(),\r\n                                    record.topic(),\r\n                                    record.offset(),\r\n                                    record.headers(),\r\n                                    record.partition(),\r\n                                    record.timestamp());\r\n                            var object = record.value();\r\n                            var cardDataOperations = cardDataOperationsMapper.toEntity(object);\r\n                            return cardDataRepository.findByNumber(object.getPrimaryAccountNumber())\r\n                                    .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is found by given account={}&quot;, data, object.getPrimaryAccountNumber()))\r\n                                    .onErrorResume(throwable -&gt; {\r\n                                        log.error(&quot;Could not find CardData by account={}&quot;, object.getPrimaryAccountNumber(), throwable);\r\n                                        return Mono.error(new SoapReceiverException(throwable));\r\n                                    })\r\n                                    .switchIfEmpty(cardDataRepository.save(cardDataMapper.toEntity(object))\r\n                                            .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is saved.&quot;, data))\r\n                                            .onErrorResume(throwable -&gt; {\r\n                                                log.error(&quot;Could not insert CardData&quot;, throwable);\r\n                                                return Mono.error(new SoapReceiverException(throwable));\r\n                                            }))\r\n                                    .doOnNext(data -&gt; {\r\n                                        cardDataOperations.setCardDataId(data.getId());\r\n                                        log.debug(&quot;Record of CardData with id={} is set to CardDataOperations={}&quot;, data.getId(), cardDataOperations);\r\n                                    })\r\n                                    .thenReturn(cardDataOperations);\r\n                        }\r\n                )\r\n                .collectList()\r\n                .flatMap(cardDataOperations -&gt; {\r\n                    log.debug(&quot;Number of {} CardDataOperations is saving...................&quot;, cardDataOperations.size());\r\n                    return operationRepository.saveAll(cardDataOperations)\r\n                            .onErrorResume(throwable -&gt; {\r\n                                log.error(&quot;Could not save CardDataOperations.&quot;, throwable);\r\n                                return Mono.error(new SoapReceiverException(throwable));\r\n                            })\r\n                            .then();\r\n                }).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n\r\n\r\nSo here some problems\r\n\r\n 1. Race condition may occur, because parallel queries are executed\r\n \r\n 2. R2DBC connection exception, because multiple threads can open connection more that set.\r\n 3. ***DuplicateKeyException*** may occur because reason of race condition on card_data table.\r\n 4. Insertion of records very slow. There no problems with handling requests and publishing them into Kafka. I tested endpoint using [k6][1] tool\r\n\r\nQuestion is: My technologies and architecture are correct? How to implement Kafka Listeners and logic in database service part. \r\n\r\nInstead of   `service.saveOrUpdate(records).subscribe();` If I use `  service.saveOrUpdate(records).block();` it writes faster. \r\n\r\n\r\n  [1]: https://k6.io","title":"Write large amount of data in Java","body":"<p>I have a Spring WebFlux project which works with large amount of data.</p>\n<p>In my case I receive requests about 20000 requests per second. I have to write data without losing and blocking API endpoint. I have to write data with the fastest ways into database.</p>\n<p>So regarding to my code and architecture. I chose SpringWebFlux, Reactive Kafka library for Spring WebFlux and R2DBC Postgresql. So What I am doing, I created a REST API endpoint to handle requests. The endpoint forwards request to ReactiveKafka using ReactiveKafkaProducerTemplate. I listen it by @KafkaListener. Inserting data into db.</p>\n<p>Sharing my cod:</p>\n<p>Controller:</p>\n<pre><code>  @PostMapping(value = &quot;/soap&quot;, produces = MediaType.TEXT_XML_VALUE, consumes = MediaType.TEXT_XML_VALUE)\n  public Mono&lt;ResponseEntity&lt;CardSuccessResponse&gt;&gt; handleCardData(@RequestBody CardDataRequest request) {\n    return producer.produce(request)\n            .map(ResponseEntity::ok);\n  }\n</code></pre>\n<p>Service:</p>\n<pre><code>   public Mono&lt;CardSuccessResponse&gt; produce(CardDataRequest request) {\n    return Mono.justOrEmpty(CardDataTransferObjectMapper.mapToCardDataTransferObject(request))\n            .flatMap(object -&gt; {\n                var key = UUID.randomUUID().toString();\n                return reactiveKafkaProducerTemplate.send(topic, key, object);\n            })\n            .&lt;SenderResult&lt;Void&gt;&gt;handle((result, sink) -&gt; {\n                if (result.exception() != null) {\n                    log.error(&quot;Error while sending data={} to topic={}&quot;, result.recordMetadata(), topic);\n                    sink.error(new SoapReceiverException(result.exception()));\n                    return;\n                } else {\n                    log.debug(&quot;Data={} is successfully sent to topic={}&quot;, result.recordMetadata(), topic);\n                }\n                sink.next(result);\n            })\n            .thenReturn(CardSuccessResponse.builder()\n                    .body(CardSuccessResponse.Body.builder()\n                            .notifyResponse(new CardSuccessResponse.NotifyResponse())\n                            .build())\n                    .build())\n            .onErrorResume(throwable -&gt; {\n                log.error(&quot;Error occurred while publishing CardDataTransferObject to topic={}.&quot;, topic, throwable);\n                return Mono.error(new SoapReceiverException(throwable));\n            })\n            .subscribeOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Bean\npublic ReactiveKafkaConsumerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaConsumerTemplate() {\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(kafkaProperties.buildConsumerProperties(null)));\n}\n\n@Bean\npublic ReactiveKafkaProducerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaProducerTemplate() {\n    return new ReactiveKafkaProducerTemplate&lt;&gt;(SenderOptions.create(kafkaProperties.buildProducerProperties(null)));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, CardDataTransferObject&gt; consumerFactory) {\n    var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    factory.setConcurrency(concurrency); // Set the number of listener threads\n    return factory;\n}\n\n@Bean\npublic KafkaListenerContainerFactory&lt;?&gt; kafkaBatchListenerContainerFactory(ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory) {\n    kafkaListenerContainerFactory.setBatchListener(true);\n    kafkaListenerContainerFactory.setBatchMessageConverter(new BatchMessagingMessageConverter()); // Customize the message converter if needed\n    return kafkaListenerContainerFactory;\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@KafkaListener(topics = &quot;${application.kafka.internal.topic.card-data}&quot;, groupId = &quot;${application.kafka.internal.consumer.group-id}&quot;, containerFactory = &quot;kafkaBatchListenerContainerFactory&quot;)\npublic void consumeCardDataTransferObject(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; records) {\n    log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Handle Kafka messages. size={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;, records.size());\n    try {\n        service.saveOrUpdate(records).subscribe();\n    } catch (Exception e) {\n        log.error(&quot;Error while inserting data.&quot;, e);\n    }\n}\n</code></pre>\n<p>Database call:</p>\n<pre><code> public Mono&lt;Void&gt; saveOrUpdate(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; requests) {\n    return Flux.fromIterable(requests)\n            .parallel()\n            .runOn(Schedulers.parallel())\n            .sequential()\n            .flatMap(record -&gt; {\n                        log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Received key={}, value={} from topic={} with offset={}, headers={}, partition={}, timestamp={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,\n                                record.key(),\n                                record.value(),\n                                record.topic(),\n                                record.offset(),\n                                record.headers(),\n                                record.partition(),\n                                record.timestamp());\n                        var object = record.value();\n                        var cardDataOperations = cardDataOperationsMapper.toEntity(object);\n                        return cardDataRepository.findByNumber(object.getPrimaryAccountNumber())\n                                .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is found by given account={}&quot;, data, object.getPrimaryAccountNumber()))\n                                .onErrorResume(throwable -&gt; {\n                                    log.error(&quot;Could not find CardData by account={}&quot;, object.getPrimaryAccountNumber(), throwable);\n                                    return Mono.error(new SoapReceiverException(throwable));\n                                })\n                                .switchIfEmpty(cardDataRepository.save(cardDataMapper.toEntity(object))\n                                        .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is saved.&quot;, data))\n                                        .onErrorResume(throwable -&gt; {\n                                            log.error(&quot;Could not insert CardData&quot;, throwable);\n                                            return Mono.error(new SoapReceiverException(throwable));\n                                        }))\n                                .doOnNext(data -&gt; {\n                                    cardDataOperations.setCardDataId(data.getId());\n                                    log.debug(&quot;Record of CardData with id={} is set to CardDataOperations={}&quot;, data.getId(), cardDataOperations);\n                                })\n                                .thenReturn(cardDataOperations);\n                    }\n            )\n            .collectList()\n            .flatMap(cardDataOperations -&gt; {\n                log.debug(&quot;Number of {} CardDataOperations is saving...................&quot;, cardDataOperations.size());\n                return operationRepository.saveAll(cardDataOperations)\n                        .onErrorResume(throwable -&gt; {\n                            log.error(&quot;Could not save CardDataOperations.&quot;, throwable);\n                            return Mono.error(new SoapReceiverException(throwable));\n                        })\n                        .then();\n            }).subscribeOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>So here some problems</p>\n<ol>\n<li><p>Race condition may occur, because parallel queries are executed</p>\n</li>\n<li><p>R2DBC connection exception, because multiple threads can open connection more that set.</p>\n</li>\n<li><p><em><strong>DuplicateKeyException</strong></em> may occur because reason of race condition on card_data table.</p>\n</li>\n<li><p>Insertion of records very slow. There no problems with handling requests and publishing them into Kafka. I tested endpoint using <a href=\"https://k6.io\" rel=\"nofollow noreferrer\">k6</a> tool</p>\n</li>\n</ol>\n<p>Question is: My technologies and architecture are correct? How to implement Kafka Listeners and logic in database service part.</p>\n<p>Instead of   <code>service.saveOrUpdate(records).subscribe();</code> If I use <code>  service.saveOrUpdate(records).block();</code> it writes faster.</p>\n"},{"tags":["java","karate","gherkin"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1701671141,"post_id":77597526,"comment_id":136800114,"body_markdown":"as far as I know - a list of paths is supposed to work. this is not a high priority for the oss project, so I suggest you dive into the code (it is all open source) and contribute a PR. if you need enterprise support, use the contact form using your official email: https://www.karatelabs.io/support","body":"as far as I know - a list of paths is supposed to work. this is not a high priority for the oss project, so I suggest you dive into the code (it is all open source) and contribute a PR. if you need enterprise support, use the contact form using your official email: <a href=\"https://www.karatelabs.io/support\" rel=\"nofollow noreferrer\">karatelabs.io/support</a>"},{"owner":{"account_id":18887843,"reputation":73,"user_id":13778833,"display_name":"mukti wibowo"},"score":1,"creation_date":1701681759,"post_id":77597526,"comment_id":136801422,"body_markdown":"@PeterThomas thank you for your reply. Upon looking into the code, I found out that the method `findFeatureFiles` in `ResourceUtils` only handles 1 path and there&#39;s a TODO comment for handling multiple paths. I think that answers why 0 scenario run when I added multiple paths.","body":"@PeterThomas thank you for your reply. Upon looking into the code, I found out that the method <code>findFeatureFiles</code> in <code>ResourceUtils</code> only handles 1 path and there&#39;s a TODO comment for handling multiple paths. I think that answers why 0 scenario run when I added multiple paths."}],"owner":{"account_id":18887843,"reputation":73,"user_id":13778833,"display_name":"mukti wibowo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701670829,"creation_date":1701670829,"question_id":77597526,"body_markdown":"I am trying to add a functionality in my stack where I would only run specific scenarios which path and line are stored in my database. These scenarios would be injected to the `TestRunner` file.\r\n\r\n```\r\n  @Test\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public void testParallel() {\r\n    Assertions.assertThat(Runtime.version().feature())\r\n        .as(&quot;Java version should be 11&quot;).isEqualTo(11);\r\n\r\n    // Pretend this getting scenarios from DB\r\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n    paths.add(&quot;src/test/java/feature/test.feature:4&quot;);\r\n    paths.add(&quot;src/test/java/feature/test.feature:12&quot;);\r\n\r\n    Builder runnerBuilder = new Builder();\r\n    runnerBuilder.path(paths);\r\n    runnerBuilder.outputCucumberJson(true);\r\n    runnerBuilder.outputJunitXml(true);\r\n    runnerBuilder.hooks(getKarateHooks());\r\n    Results results = runnerBuilder.parallel(1);\r\n\r\n    ...\r\n  }\r\n```\r\n\r\n\r\nWhen I run this, there&#39;s no scenarios executed at all. But when I feed the list with just one scenario path it can run that one scenario. Not sure what&#39;s wrong with it. The `path` method can accept either a string or a list. So I would assume this is how you run multiple scenarios with path. But I got no luck.\r\n\r\nThese are the `path` methods in `Runner.class` in `karate-core`:\r\n```\r\n    public T path(String... value) {\r\n      this.path(Arrays.asList(value));\r\n      return this;\r\n    }\r\n\r\n    public T path(List&lt;String&gt; value) {\r\n      if (value != null) {\r\n        if (this.paths == null) {\r\n          this.paths = new ArrayList();\r\n        }\r\n\r\n        this.paths.addAll(value);\r\n      }\r\n\r\n      return this;\r\n    }\r\n```","title":"How to run multiple scenarios other than using tags in Karate?","body":"<p>I am trying to add a functionality in my stack where I would only run specific scenarios which path and line are stored in my database. These scenarios would be injected to the <code>TestRunner</code> file.</p>\n<pre><code>  @Test\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public void testParallel() {\n    Assertions.assertThat(Runtime.version().feature())\n        .as(&quot;Java version should be 11&quot;).isEqualTo(11);\n\n    // Pretend this getting scenarios from DB\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n    paths.add(&quot;src/test/java/feature/test.feature:4&quot;);\n    paths.add(&quot;src/test/java/feature/test.feature:12&quot;);\n\n    Builder runnerBuilder = new Builder();\n    runnerBuilder.path(paths);\n    runnerBuilder.outputCucumberJson(true);\n    runnerBuilder.outputJunitXml(true);\n    runnerBuilder.hooks(getKarateHooks());\n    Results results = runnerBuilder.parallel(1);\n\n    ...\n  }\n</code></pre>\n<p>When I run this, there's no scenarios executed at all. But when I feed the list with just one scenario path it can run that one scenario. Not sure what's wrong with it. The <code>path</code> method can accept either a string or a list. So I would assume this is how you run multiple scenarios with path. But I got no luck.</p>\n<p>These are the <code>path</code> methods in <code>Runner.class</code> in <code>karate-core</code>:</p>\n<pre><code>    public T path(String... value) {\n      this.path(Arrays.asList(value));\n      return this;\n    }\n\n    public T path(List&lt;String&gt; value) {\n      if (value != null) {\n        if (this.paths == null) {\n          this.paths = new ArrayList();\n        }\n\n        this.paths.addAll(value);\n      }\n\n      return this;\n    }\n</code></pre>\n"},{"tags":["javascript","java","c#","angularjs","validation"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1701674422,"post_id":77597517,"comment_id":136800411,"body_markdown":"If it is Javascript code, why you have tagged Java, C#?","body":"If it is Javascript code, why you have tagged Java, C#?"},{"owner":{"account_id":30059687,"reputation":1,"user_id":23036084,"display_name":"Sathiya Narayana"},"score":0,"creation_date":1701682095,"post_id":77597517,"comment_id":136801487,"body_markdown":"This Page name is View AssignedUsersController.js I&#39;m a intern so this is the page i need to do the task and changesin  my code that&#39;s it.","body":"This Page name is View AssignedUsersController.js I&#39;m a intern so this is the page i need to do the task and changesin  my code that&#39;s it."}],"owner":{"account_id":30059687,"reputation":1,"user_id":23036084,"display_name":"Sathiya Narayana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701670691,"creation_date":1701670691,"question_id":77597517,"body_markdown":"I&#39;m using Js/COntroller for Validation process.\r\nI want to Generate Same keys for group users.If the group having n number of users means every user should receive the same key.\r\n\r\n\r\n\r\n $scope.tableLoader = false;\r\n\r\n            // Assuming you have a variable or function to get the number of members\r\n            const numMembersInGroup = getNumberOfMembers(); // Replace this with your actual logic\r\n\r\n            // Generate a common 4-digit key for the entire group\r\n            const commonKey = generateCommonKey();\r\n\r\n            // Set up EnrolledGroupList\r\n            $scope.EnrolledGroupList = $sessionStorage.EnrolledUserListforQuiz.data;\r\n            scope.IndividualList = angular.copy($scope.EnrolledGroupList);\r\n\r\n            if ($scope.EnrolledGroupList.length === 0) {\r\n                $scope.NoRecordforGroup = true;\r\n                $scope.IsUserGrpSearch = false;\r\n            } else {\r\n                // Assign the common key to each user in the EnrolledGroupList\r\n                $scope.EnrolledGroupList.forEach(function (user) {\r\n                    user.QuizKey = commonKey;\r\n                });\r\n            }\r\n            scope.IndividualList = angular.copy($scope.EnrolledGroupList);\r\n\r\n            if ($scope.IndividualList.length === 0) {\r\n                $scope.NoRecordforIndividual = true;\r\n                $scope.IsIndUserSearch = false;\r\n                $scope.tab = 1;\r\n            } else {\r\n                // Assign the common key to each user in the IndividualList\r\n                $scope.IndividualList.forEach(function (user) {\r\n                    user.QuizKey = commonKey;\r\n                });\r\n            }\r\n            console.log(&#39;Common Key:&#39;, commonKey);\r\n            console.log(&#39;EnrolledGroupList:&#39;, $scope.EnrolledGroupList);\r\n            console.log(&#39;IndividualList:&#39;, $scope.IndividualList);\r\nI&#39;m expecting the exact code for same key will recieve to group users","title":"In Javascript/Controller page I want to Generate Same keys for group users","body":"<p>I'm using Js/COntroller for Validation process.\nI want to Generate Same keys for group users.If the group having n number of users means every user should receive the same key.</p>\n<p>$scope.tableLoader = false;</p>\n<pre><code>        // Assuming you have a variable or function to get the number of members\n        const numMembersInGroup = getNumberOfMembers(); // Replace this with your actual logic\n\n        // Generate a common 4-digit key for the entire group\n        const commonKey = generateCommonKey();\n\n        // Set up EnrolledGroupList\n        $scope.EnrolledGroupList = $sessionStorage.EnrolledUserListforQuiz.data;\n        scope.IndividualList = angular.copy($scope.EnrolledGroupList);\n\n        if ($scope.EnrolledGroupList.length === 0) {\n            $scope.NoRecordforGroup = true;\n            $scope.IsUserGrpSearch = false;\n        } else {\n            // Assign the common key to each user in the EnrolledGroupList\n            $scope.EnrolledGroupList.forEach(function (user) {\n                user.QuizKey = commonKey;\n            });\n        }\n        scope.IndividualList = angular.copy($scope.EnrolledGroupList);\n\n        if ($scope.IndividualList.length === 0) {\n            $scope.NoRecordforIndividual = true;\n            $scope.IsIndUserSearch = false;\n            $scope.tab = 1;\n        } else {\n            // Assign the common key to each user in the IndividualList\n            $scope.IndividualList.forEach(function (user) {\n                user.QuizKey = commonKey;\n            });\n        }\n        console.log('Common Key:', commonKey);\n        console.log('EnrolledGroupList:', $scope.EnrolledGroupList);\n        console.log('IndividualList:', $scope.IndividualList);\n</code></pre>\n<p>I'm expecting the exact code for same key will recieve to group users</p>\n"},{"tags":["java","mysql","spring-boot","stored-procedures","jparepository"],"owner":{"account_id":26055775,"reputation":1,"user_id":19758150,"display_name":"Ajay Krishnan A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701677076,"answer_count":0,"score":0,"last_activity_date":1701670563,"creation_date":1701670500,"question_id":77597506,"body_markdown":"When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;.\r\n\r\nWhen trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;. In springboot application I used @procedure annotation. But this can be executed\r\n@Procedure(procedureName = &quot;ctmis_egras.InsertPOSDataToMaster&quot;)\r\n\tvoid movePOSReceiptsToMasterTables();","title":"Index 8 out of bounds for length 7","body":"<p>When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;.</p>\n<p>When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;. In springboot application I used @procedure annotation. But this can be executed\n@Procedure(procedureName = &quot;ctmis_egras.InsertPOSDataToMaster&quot;)\nvoid movePOSReceiptsToMasterTables();</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":3037336,"reputation":51,"user_id":2575099,"display_name":"Tiep"},"score":1,"creation_date":1382316380,"post_id":7919173,"comment_id":28899082,"body_markdown":"you can reference below link, and lock top 1 answer\r\nhttp://stackoverflow.com/questions/6200533/set-textview-style-bold-or-italic","body":"you can reference below link, and lock top 1 answer  <a href=\"http://stackoverflow.com/questions/6200533/set-textview-style-bold-or-italic\" title=\"set textview style bold or italic\">stackoverflow.com/questions/6200533/&hellip;</a>"},{"owner":{"account_id":1302525,"reputation":870,"user_id":1252158,"display_name":"Summved Jain"},"score":0,"creation_date":1480070350,"post_id":7919173,"comment_id":68826837,"body_markdown":"Please check my [answer here](http://stackoverflow.com/a/40802895/1252158). Hope this will help you","body":"Please check my <a href=\"http://stackoverflow.com/a/40802895/1252158\">answer here</a>. Hope this will help you"}],"answers":[{"tags":[],"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"down_vote_count":1,"up_vote_count":521,"is_accepted":true,"score":520,"last_activity_date":1501100814,"creation_date":1319732967,"answer_id":7919203,"question_id":7919173,"body_markdown":"    textview.setTypeface(Typeface.DEFAULT_BOLD);\r\nsetTypeface is the Attribute textStyle.\r\n\r\nAs *Shankar V* added, to preserve the previously set typeface attributes you can use:\r\n\r\n    textview.setTypeface(textview.getTypeface(), Typeface.BOLD);","title":"Android - set TextView TextStyle programmatically?","body":"<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n\n<p>setTypeface is the Attribute textStyle.</p>\n\n<p>As <em>Shankar V</em> added, to preserve the previously set typeface attributes you can use:</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353203,"reputation":11925,"user_id":690777,"accept_rate":67,"display_name":"peter.bartos"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1319733054,"creation_date":1319733054,"answer_id":7919216,"question_id":7919173,"body_markdown":"Search for `setTextAppearance` or also `setTextTypeface`. There is similar question on stackoverflow: https://stackoverflow.com/questions/4630440/how-to-change-a-textviews-style-at-runtime","title":"Android - set TextView TextStyle programmatically?","body":"<p>Search for <code>setTextAppearance</code> or also <code>setTextTypeface</code>. There is similar question on stackoverflow: <a href=\"https://stackoverflow.com/questions/4630440/how-to-change-a-textviews-style-at-runtime\">How to change a TextView&#39;s style at runtime</a></p>\n"},{"tags":[],"owner":{"account_id":272300,"reputation":4685,"user_id":563306,"accept_rate":76,"display_name":"dcanh121"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556972735,"creation_date":1319740082,"answer_id":7920555,"question_id":7919173,"body_markdown":"As mentioned [here](https://stackoverflow.com/questions/3246447/how-to-set-the-style-attribute-programmatically-in-android/3246458#3246458), this feature is not currently supported.\r\n\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>As mentioned <a href=\"https://stackoverflow.com/questions/3246447/how-to-set-the-style-attribute-programmatically-in-android/3246458#3246458\">here</a>, this feature is not currently supported.</p>\n"},{"tags":[],"owner":{"account_id":359832,"reputation":10305,"user_id":701472,"accept_rate":75,"display_name":"Oscar Salguero"},"down_vote_count":0,"up_vote_count":176,"is_accepted":false,"score":176,"last_activity_date":1619191107,"creation_date":1345771932,"answer_id":12102178,"question_id":7919173,"body_markdown":"Let&#39;s say you have a style called RedHUGEText on your values/styles.xml:\r\n\r\n    &lt;style name=&quot;RedHUGEText&quot; parent=&quot;@android:style/Widget.TextView&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;@dimen/text_size_huge&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/red&lt;/item&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nJust create your TextView as usual in the XML layout/your_layout.xml file, let&#39;s say:\r\n\r\n    &lt;TextView android:id=&quot;@+id/text_view_title&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content \r\n        android:text=&quot;FOO&quot; /&gt;\r\n\r\nAnd in the java code of your Activity you do this:\r\n\r\n    TextView textViewTitle = (TextView) findViewById(R.id.text_view_title);\r\n    textViewTitle.setTextAppearance(this, R.style.RedHUGEText);\r\n\r\nIt worked for me! And it applied color, size, gravity, etc. I&#39;ve used it on handsets and tablets with Android API Levels from 8 to 17 with no problems. Note that as of Android 23, that method has been deprecated. The context argument has been dropped, so the last line would need to be:\r\n\r\n    textViewTitle.setTextAppearance(R.style.RedHUGEText);\r\n\r\n\r\n**To support all API levels use androidX `TextViewCompat`**\r\n\r\n    TextViewCompat.setTextAppearance(textViewTitle, R.style.RedHUGEText)\r\n\r\nRemember... this is useful only if the style of the text really depends on a condition on your Java logic or you are building the UI &quot;on the fly&quot; with code... if it doesn&#39;t, it is better to just do:\r\n\r\n    &lt;TextView android:id=&quot;@+id/text_view_title&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content \r\n        android:text=&quot;FOO&quot; \r\n        style=&quot;@style/RedHUGEText&quot; /&gt;\r\n\r\nYou can always have it your way!\r\n\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>Let's say you have a style called RedHUGEText on your values/styles.xml:</p>\n<pre><code>&lt;style name=&quot;RedHUGEText&quot; parent=&quot;@android:style/Widget.TextView&quot;&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;@dimen/text_size_huge&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/red&lt;/item&gt;\n    &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Just create your TextView as usual in the XML layout/your_layout.xml file, let's say:</p>\n<pre><code>&lt;TextView android:id=&quot;@+id/text_view_title&quot; \n    android:layout_width=&quot;fill_parent&quot; \n    android:layout_height=&quot;wrap_content \n    android:text=&quot;FOO&quot; /&gt;\n</code></pre>\n<p>And in the java code of your Activity you do this:</p>\n<pre><code>TextView textViewTitle = (TextView) findViewById(R.id.text_view_title);\ntextViewTitle.setTextAppearance(this, R.style.RedHUGEText);\n</code></pre>\n<p>It worked for me! And it applied color, size, gravity, etc. I've used it on handsets and tablets with Android API Levels from 8 to 17 with no problems. Note that as of Android 23, that method has been deprecated. The context argument has been dropped, so the last line would need to be:</p>\n<pre><code>textViewTitle.setTextAppearance(R.style.RedHUGEText);\n</code></pre>\n<p><strong>To support all API levels use androidX <code>TextViewCompat</code></strong></p>\n<pre><code>TextViewCompat.setTextAppearance(textViewTitle, R.style.RedHUGEText)\n</code></pre>\n<p>Remember... this is useful only if the style of the text really depends on a condition on your Java logic or you are building the UI &quot;on the fly&quot; with code... if it doesn't, it is better to just do:</p>\n<pre><code>&lt;TextView android:id=&quot;@+id/text_view_title&quot; \n    android:layout_width=&quot;fill_parent&quot; \n    android:layout_height=&quot;wrap_content \n    android:text=&quot;FOO&quot; \n    style=&quot;@style/RedHUGEText&quot; /&gt;\n</code></pre>\n<p>You can always have it your way!</p>\n"},{"tags":[],"owner":{"account_id":1550230,"reputation":491,"user_id":1442795,"accept_rate":70,"display_name":"andresmafra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372087782,"creation_date":1372087782,"answer_id":17279275,"question_id":7919173,"body_markdown":"I&#180;ve resolved it with two simple methods.\r\n\r\nFollow the explanation.\r\n\r\nMy existing style declaration:\r\n\r\n    &lt;style name=&quot;SearchInfoText&quot;&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;24sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/Church_Grey&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowColor&quot;&gt;@color/Shadow_Church&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowRadius&quot;&gt;3&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowDx&quot;&gt;1&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowDy&quot;&gt;1&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nMy Android Java code:\r\n\r\n\t\tTextView locationName = new TextView(getSupportActivity());\r\n\t\tlocationName.setId(IdGenerator.generateViewId());\r\n\t\tlocationName.setText(location.getName());\r\n\t\tlocationName.setLayoutParams(super.centerHorizontal());\r\n\t\tlocationName.setTextSize(24f);\r\n\t\tlocationName.setPadding(0, 0, 0, 15);\r\n\t\tlocationName.setTextColor(getResources().getColor(R.color.Church_Grey));\r\n\t\tlocationName.setShadowLayer(3, 1, 1,  getResources().getColor(R.color.Shadow_Church));\r\n\r\nRegards.","title":"Android - set TextView TextStyle programmatically?","body":"<p>I´ve resolved it with two simple methods.</p>\n\n<p>Follow the explanation.</p>\n\n<p>My existing style declaration:</p>\n\n<pre><code>&lt;style name=\"SearchInfoText\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;24sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/Church_Grey&lt;/item&gt;\n    &lt;item name=\"android:shadowColor\"&gt;@color/Shadow_Church&lt;/item&gt;\n    &lt;item name=\"android:shadowRadius\"&gt;3&lt;/item&gt;\n    &lt;item name=\"android:shadowDx\"&gt;1&lt;/item&gt;\n    &lt;item name=\"android:shadowDy\"&gt;1&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>My Android Java code:</p>\n\n<pre><code>    TextView locationName = new TextView(getSupportActivity());\n    locationName.setId(IdGenerator.generateViewId());\n    locationName.setText(location.getName());\n    locationName.setLayoutParams(super.centerHorizontal());\n    locationName.setTextSize(24f);\n    locationName.setPadding(0, 0, 0, 15);\n    locationName.setTextColor(getResources().getColor(R.color.Church_Grey));\n    locationName.setShadowLayer(3, 1, 1,  getResources().getColor(R.color.Shadow_Church));\n</code></pre>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1423070146,"creation_date":1373631772,"answer_id":17614835,"question_id":7919173,"body_markdown":"So many way to achieve this task some are below:-\r\n\r\n**1.**\r\n\r\n    String text_view_str = &quot;&lt;b&gt;Bolded text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, even &lt;u&gt;underlined&lt;/u&gt;!&quot;;\r\n    TextView tv = (TextView)findViewById(R.id.ur_text_view_id);\r\n    tv.setText(Html.fromHtml(text_view_str));\r\n\r\n**2.**\r\n\r\n    tv.setTypeface(null, Typeface.BOLD);\r\n    tv.setTypeface(null, Typeface.ITALIC);\r\n    tv.setTypeface(null, Typeface.BOLD_ITALIC);\r\n    tv.setTypeface(null, Typeface.NORMAL);\r\n\r\n\r\n**3.**\r\n\r\n    SpannableString spannablecontent=new SpannableString(o.content.toString());\r\n    spannablecontent.setSpan(new StyleSpan(android.graphics.Typeface.BOLD_ITALIC), \r\n                             0,spannablecontent.length(), 0);\r\n    // set Text here\r\n    tt.setText(spannablecontent);\r\n\r\n\r\n**4.**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    \r\n        &lt;style name=&quot;boldText&quot;&gt;\r\n            &lt;item name=&quot;android:textStyle&quot;&gt;bold|italic&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;#FFFFFF&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;normalText&quot;&gt;\r\n            &lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;#C0C0C0&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n     tv.setTextAppearance(getApplicationContext(), R.style.boldText);\r\n                    \r\n\r\n**or if u want through xml**\r\n\r\n    android:textStyle=&quot;normal&quot;\r\n    android:textStyle=&quot;normal|bold&quot;\r\n    android:textStyle=&quot;normal|italic&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    android:textStyle=&quot;bold|italic&quot;\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>So many way to achieve this task some are below:-</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>String text_view_str = \"&lt;b&gt;Bolded text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, even &lt;u&gt;underlined&lt;/u&gt;!\";\nTextView tv = (TextView)findViewById(R.id.ur_text_view_id);\ntv.setText(Html.fromHtml(text_view_str));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>tv.setTypeface(null, Typeface.BOLD);\ntv.setTypeface(null, Typeface.ITALIC);\ntv.setTypeface(null, Typeface.BOLD_ITALIC);\ntv.setTypeface(null, Typeface.NORMAL);\n</code></pre>\n\n<p><strong>3.</strong></p>\n\n<pre><code>SpannableString spannablecontent=new SpannableString(o.content.toString());\nspannablecontent.setSpan(new StyleSpan(android.graphics.Typeface.BOLD_ITALIC), \n                         0,spannablecontent.length(), 0);\n// set Text here\ntt.setText(spannablecontent);\n</code></pre>\n\n<p><strong>4.</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n\n    &lt;style name=\"boldText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;bold|italic&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"normalText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;normal&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#C0C0C0&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n\n tv.setTextAppearance(getApplicationContext(), R.style.boldText);\n</code></pre>\n\n<p><strong>or if u want through xml</strong></p>\n\n<pre><code>android:textStyle=\"normal\"\nandroid:textStyle=\"normal|bold\"\nandroid:textStyle=\"normal|italic\"\nandroid:textStyle=\"bold\"\nandroid:textStyle=\"bold|italic\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177993,"reputation":2321,"user_id":409695,"display_name":"Kevin Grant"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1383156728,"creation_date":1383156728,"answer_id":19690713,"question_id":7919173,"body_markdown":"This question is asked in a lot of places in a lot of different ways. I originally answered it here but I feel it&#39;s relevant in this thread as well (since i ended up [here][1] when I was searching for an answer).\r\n\r\nThere is no one line solution to this problem, but this worked for my use case. The problem is, the &#39;View(context, attrs, defStyle)&#39; constructor does not refer to an actual style, it wants an attribute. So, we will:\r\n\r\n1. Define an attribute \r\n2. Create a style that you want to use\r\n2. Apply a style for that attribute on our theme\r\n3. Create new instances of our view with that attribute\r\n\r\nIn &#39;res/values/attrs.xml&#39;, define a new attribute:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;attr name=&quot;customTextViewStyle&quot; format=&quot;reference&quot;/&gt;\r\n        ...\r\n    &lt;/resources&gt;    \r\n\r\nIn res/values/styles.xml&#39; I&#39;m going to create the style I want to use on my custom TextView\r\n\r\n    &lt;style name=&quot;CustomTextView&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:paddingLeft&quot;&gt;14dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIn &#39;res/values/themes.xml&#39; or &#39;res/values/styles.xml&#39;, modify the theme for your application / activity and add the following style:\r\n\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;AppBaseTheme&quot; parent=&quot;android:Theme.Light&quot;&gt;\r\n            &lt;item name=&quot;@attr/customTextViewStyle&quot;&gt;@style/CustomTextView&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        ... \r\n    &lt;/resources&gt;\r\n\r\nFinally, in your custom TextView, you can now use the constructor with the attribute and it will receive your style\r\n\r\n    public class CustomTextView extends TextView {\r\n\r\n        public CustomTextView(Context context) {\r\n           super(context, null, R.attr.customTextView);\r\n        }\r\n    }\r\n\r\nIt&#39;s worth noting that I repeatedly used customTextView in different variants and different places, but it is in no way required that the name of the view match the style or the attribute or anything. Also, this technique should work with any custom view, not just TextViews.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5051753/how-do-i-apply-a-style-programmatically/19690509#19690509","title":"Android - set TextView TextStyle programmatically?","body":"<p>This question is asked in a lot of places in a lot of different ways. I originally answered it here but I feel it's relevant in this thread as well (since i ended up <a href=\"https://stackoverflow.com/questions/5051753/how-do-i-apply-a-style-programmatically/19690509#19690509\">here</a> when I was searching for an answer).</p>\n\n<p>There is no one line solution to this problem, but this worked for my use case. The problem is, the 'View(context, attrs, defStyle)' constructor does not refer to an actual style, it wants an attribute. So, we will:</p>\n\n<ol>\n<li>Define an attribute </li>\n<li>Create a style that you want to use</li>\n<li>Apply a style for that attribute on our theme</li>\n<li>Create new instances of our view with that attribute</li>\n</ol>\n\n<p>In 'res/values/attrs.xml', define a new attribute:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;attr name=\"customTextViewStyle\" format=\"reference\"/&gt;\n    ...\n&lt;/resources&gt;    \n</code></pre>\n\n<p>In res/values/styles.xml' I'm going to create the style I want to use on my custom TextView</p>\n\n<pre><code>&lt;style name=\"CustomTextView\"&gt;\n    &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/white&lt;/item&gt;\n    &lt;item name=\"android:paddingLeft\"&gt;14dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>In 'res/values/themes.xml' or 'res/values/styles.xml', modify the theme for your application / activity and add the following style:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Light\"&gt;\n        &lt;item name=\"@attr/customTextViewStyle\"&gt;@style/CustomTextView&lt;/item&gt;\n    &lt;/style&gt;\n    ... \n&lt;/resources&gt;\n</code></pre>\n\n<p>Finally, in your custom TextView, you can now use the constructor with the attribute and it will receive your style</p>\n\n<pre><code>public class CustomTextView extends TextView {\n\n    public CustomTextView(Context context) {\n       super(context, null, R.attr.customTextView);\n    }\n}\n</code></pre>\n\n<p>It's worth noting that I repeatedly used customTextView in different variants and different places, but it is in no way required that the name of the view match the style or the attribute or anything. Also, this technique should work with any custom view, not just TextViews.</p>\n"},{"tags":[],"owner":{"account_id":318582,"reputation":15242,"user_id":635887,"display_name":"Ray Hunter"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468365128,"creation_date":1468365128,"answer_id":38340253,"question_id":7919173,"body_markdown":"This worked for me\r\n\r\n    textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\r\nor \r\n\r\n    textview.setTypeface(Typeface.DEFAULT_BOLD);\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>This worked for me</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22216,"user_id":1631967,"display_name":"aminography"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1546275937,"creation_date":1538228565,"answer_id":52568928,"question_id":7919173,"body_markdown":"• `Kotlin Version`\r\n---\r\n\r\nTo retain current font in addition to text style:\r\n\r\n    textView.apply {\r\n        setTypeface(typeface, Typeface.NORMAL)\r\n        // or\r\n        setTypeface(typeface, Typeface.BOLD)\r\n        // or\r\n        setTypeface(typeface, Typeface.ITALIC)\r\n        // or\r\n        setTypeface(typeface, Typeface.BOLD_ITALIC)\r\n    }","title":"Android - set TextView TextStyle programmatically?","body":"<h2>• <code>Kotlin Version</code></h2>\n\n<p>To retain current font in addition to text style:</p>\n\n<pre><code>textView.apply {\n    setTypeface(typeface, Typeface.NORMAL)\n    // or\n    setTypeface(typeface, Typeface.BOLD)\n    // or\n    setTypeface(typeface, Typeface.ITALIC)\n    // or\n    setTypeface(typeface, Typeface.BOLD_ITALIC)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8100439,"reputation":21,"user_id":6103618,"display_name":"insane_warewolf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580301049,"creation_date":1580301049,"answer_id":59967147,"question_id":7919173,"body_markdown":"You may try this one\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    textView.setTextAppearance(R.style.Lato_Bold);\r\n                } else {\r\n                    textView.setTextAppearance(getActivity(), R.style.Lato_Bold);\r\n                }","title":"Android - set TextView TextStyle programmatically?","body":"<p>You may try this one</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                textView.setTextAppearance(R.style.Lato_Bold);\n            } else {\n                textView.setTextAppearance(getActivity(), R.style.Lato_Bold);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6552812,"reputation":10027,"user_id":5066615,"display_name":"Rohan Taneja"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588162856,"creation_date":1588162856,"answer_id":61501702,"question_id":7919173,"body_markdown":"Since `setTextAppearance(resId)` is only available for API 23 and above, use:\r\n\r\n`TextViewCompat.setTextAppearance(textViewGoesHere, resId)`\r\n\r\nThis method is internally implemented as follows:\r\n\r\n```\r\npublic static void setTextAppearance(@NonNull TextView textView, @StyleRes int resId) {\r\n    if (Build.VERSION.SDK_INT &gt;= 23) {\r\n        textView.setTextAppearance(resId);\r\n    } else {\r\n        textView.setTextAppearance(textView.getContext(), resId);\r\n    }\r\n}\r\n```\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>Since <code>setTextAppearance(resId)</code> is only available for API 23 and above, use:</p>\n\n<p><code>TextViewCompat.setTextAppearance(textViewGoesHere, resId)</code></p>\n\n<p>This method is internally implemented as follows:</p>\n\n<pre><code>public static void setTextAppearance(@NonNull TextView textView, @StyleRes int resId) {\n    if (Build.VERSION.SDK_INT &gt;= 23) {\n        textView.setTextAppearance(resId);\n    } else {\n        textView.setTextAppearance(textView.getContext(), resId);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642414008,"creation_date":1642412652,"answer_id":70739303,"question_id":7919173,"body_markdown":"This Works For Me\r\n\r\n    msg.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\r\n    OR\r\n    TextView.setTypeface(msg.getTypeface(),Typeface.NORMAL);\r\n\r\nInstead Off\r\n\r\n    TextView.setTypeface(Typeface.DEFAULT_BOLD);","title":"Android - set TextView TextStyle programmatically?","body":"<p>This Works For Me</p>\n<pre><code>msg.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\nOR\nTextView.setTypeface(msg.getTypeface(),Typeface.NORMAL);\n</code></pre>\n<p>Instead Off</p>\n<pre><code>TextView.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671557624,"creation_date":1671557624,"answer_id":74866806,"question_id":7919173,"body_markdown":"Using data binding and Kotlin\r\n\r\n\r\n    @BindingAdapter(&quot;textViewStyle&quot;)\r\n    fun TextView.bindTextViewStyle(styleResourceId: Int) {\r\n        TextViewCompat.setTextAppearance(this, styleResourceId)\r\n    }\r\n\r\nXML\r\n\r\n     &lt;TextView\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:text=&quot;test text&quot;\r\n       bind:textViewStyle=&quot;@{styleResId}&quot; /&gt;","title":"Android - set TextView TextStyle programmatically?","body":"<p>Using data binding and Kotlin</p>\n<pre><code>@BindingAdapter(&quot;textViewStyle&quot;)\nfun TextView.bindTextViewStyle(styleResourceId: Int) {\n    TextViewCompat.setTextAppearance(this, styleResourceId)\n}\n</code></pre>\n<p>XML</p>\n<pre><code> &lt;TextView\n   android:layout_width=&quot;wrap_content&quot;\n   android:text=&quot;test text&quot;\n   bind:textViewStyle=&quot;@{styleResId}&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701669784,"creation_date":1701669784,"answer_id":77597469,"question_id":7919173,"body_markdown":"Kotlin extension function for `changing style without changing typeface`:\r\n\r\n    fun TextView.setTextStyle(style: Int) {\r\n        typeface = when (style) {\r\n            Typeface.NORMAL,\r\n            Typeface.BOLD,\r\n            Typeface.ITALIC,\r\n            Typeface.BOLD_ITALIC -&gt; Typeface.create(typeface, style)\r\n\r\n            else -&gt; throw IllegalArgumentException(&quot;Invalid text style. Use NORMAL, BOLD, ITALIC, or BOLD_ITALIC&quot;)\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    textView.setTextStyle(Typeface.BOLD_ITALIC)","title":"Android - set TextView TextStyle programmatically?","body":"<p>Kotlin extension function for <code>changing style without changing typeface</code>:</p>\n<pre><code>fun TextView.setTextStyle(style: Int) {\n    typeface = when (style) {\n        Typeface.NORMAL,\n        Typeface.BOLD,\n        Typeface.ITALIC,\n        Typeface.BOLD_ITALIC -&gt; Typeface.create(typeface, style)\n\n        else -&gt; throw IllegalArgumentException(&quot;Invalid text style. Use NORMAL, BOLD, ITALIC, or BOLD_ITALIC&quot;)\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>textView.setTextStyle(Typeface.BOLD_ITALIC)\n</code></pre>\n"}],"owner":{"account_id":57536,"reputation":89154,"user_id":172350,"accept_rate":69,"display_name":"Jake Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315790,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":7919203,"answer_count":14,"score":309,"last_activity_date":1701669784,"creation_date":1319732809,"question_id":7919173,"body_markdown":"Is there a way to set the `textStyle` attribute of a `TextView` programmatically? There doesn&#39;t appear to be a `setTextStyle()` method.\r\n\r\nTo be clear, I am not talking about View / Widget styles! I am talking about the following:\r\n\r\n    &lt;TextView\r\n      android:id=&quot;@+id/my_text&quot;\r\n      android:layout_width=&quot;fill_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:text=&quot;Hello World&quot;\r\n      android:textStyle=&quot;bold&quot; /&gt;","title":"Android - set TextView TextStyle programmatically?","body":"<p>Is there a way to set the <code>textStyle</code> attribute of a <code>TextView</code> programmatically? There doesn't appear to be a <code>setTextStyle()</code> method.</p>\n\n<p>To be clear, I am not talking about View / Widget styles! I am talking about the following:</p>\n\n<pre><code>&lt;TextView\n  android:id=\"@+id/my_text\"\n  android:layout_width=\"fill_parent\"\n  android:layout_height=\"wrap_content\"\n  android:text=\"Hello World\"\n  android:textStyle=\"bold\" /&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","eclipse","jdbc"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701398789,"post_id":77582719,"comment_id":136773723,"body_markdown":"You want a type 4 connection. Type 3 is a largely archaic model. It may be entirely archaic at this point. It involved a native driver bridge. Posting the actual settings you&#39;re trying (a URL) might help.","body":"You want a type 4 connection. Type 3 is a largely archaic model. It may be entirely archaic at this point. It involved a native driver bridge. Posting the actual settings you&#39;re trying (a URL) might help."}],"answers":[{"tags":[],"owner":{"account_id":30035845,"reputation":1,"user_id":23017835,"display_name":"gman1441"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399486,"creation_date":1701399486,"answer_id":77582772,"question_id":77582719,"body_markdown":"The error message indicates that the authentication type 10 is not supported. You need to check whether the authentication scheme used by the driver is supported by the PostgreSQL server. You also need to ensure that the pg_hba.conf file has been configured to include the client&#39;s IP address or subnet.   \r\n  \r\nYou can try changing the authentication method used by PostgreSQL by modifying the pg_hba.conf file. Here&#39;s a sample configuration that allows all clients from the local network to connect using password authentication:  \r\n   \r\n```  \r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD  \r\nhost    all             all             192.168.0.0/24          md5  \r\n```  \r\n   \r\nIn this example, clients in the 192.168.0.0/24 subnet are allowed to connect to any database as any user using the md5 authentication method.  \r\n   \r\nYou can find more information about configuring the pg_hba.conf file in the PostgreSQL documentation: https://www.postgresql.org/docs/current/auth-pg-hba-conf.html  \r\n   \r\nYou may also want to check that the JDBC driver you are using is compatible with your version of PostgreSQL. You can download the latest JDBC driver for PostgreSQL from the official website: https://jdbc.postgresql.org/download.html  \r\n   \r\nFinally, here is a sample code to connect to a PostgreSQL database using JDBC:  \r\n   \r\n```java  \r\nimport java.sql.Connection;  \r\nimport java.sql.DriverManager;  \r\nimport java.sql.SQLException;  \r\n   \r\npublic class PostgreSQLJDBC {  \r\n   public static void main(String[] args) {  \r\n      Connection connection = null;  \r\n      try {  \r\n         // Load the PostgreSQL JDBC driver  \r\n         Class.forName(&quot;org.postgresql.Driver&quot;);  \r\n  \r\n         // Create a connection to the database  \r\n         String url = &quot;jdbc:postgresql://localhost:5432/mydatabase&quot;;  \r\n         String user = &quot;myuser&quot;;  \r\n         String password = &quot;mypassword&quot;;  \r\n         connection = DriverManager.getConnection(url, user, password);  \r\n  \r\n         // Test the connection  \r\n         if (connection != null) {  \r\n            System.out.println(&quot;Connected to the database!&quot;);  \r\n         } else {  \r\n            System.out.println(&quot;Failed to make connection!&quot;);  \r\n         }  \r\n      } catch (SQLException e) {  \r\n         System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());  \r\n      } catch (Exception e) {  \r\n         e.printStackTrace();  \r\n      } finally {  \r\n         try {  \r\n            if (connection != null)  \r\n               connection.close();  \r\n         } catch (SQLException e) {  \r\n            e.printStackTrace();  \r\n         }  \r\n      }  \r\n   }  \r\n}  \r\n```  \r\n   \r\nReplace mydatabase, myuser, and mypassword with the appropriate values for your database.","title":"Eclipse PostgreSQL JDBC ping fails","body":"<p>The error message indicates that the authentication type 10 is not supported. You need to check whether the authentication scheme used by the driver is supported by the PostgreSQL server. You also need to ensure that the pg_hba.conf file has been configured to include the client's IP address or subnet.</p>\n<p>You can try changing the authentication method used by PostgreSQL by modifying the pg_hba.conf file. Here's a sample configuration that allows all clients from the local network to connect using password authentication:</p>\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD  \nhost    all             all             192.168.0.0/24          md5  \n</code></pre>\n<p>In this example, clients in the 192.168.0.0/24 subnet are allowed to connect to any database as any user using the md5 authentication method.</p>\n<p>You can find more information about configuring the pg_hba.conf file in the PostgreSQL documentation: <a href=\"https://www.postgresql.org/docs/current/auth-pg-hba-conf.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/auth-pg-hba-conf.html</a></p>\n<p>You may also want to check that the JDBC driver you are using is compatible with your version of PostgreSQL. You can download the latest JDBC driver for PostgreSQL from the official website: <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download.html</a></p>\n<p>Finally, here is a sample code to connect to a PostgreSQL database using JDBC:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;  \nimport java.sql.DriverManager;  \nimport java.sql.SQLException;  \n   \npublic class PostgreSQLJDBC {  \n   public static void main(String[] args) {  \n      Connection connection = null;  \n      try {  \n         // Load the PostgreSQL JDBC driver  \n         Class.forName(&quot;org.postgresql.Driver&quot;);  \n  \n         // Create a connection to the database  \n         String url = &quot;jdbc:postgresql://localhost:5432/mydatabase&quot;;  \n         String user = &quot;myuser&quot;;  \n         String password = &quot;mypassword&quot;;  \n         connection = DriverManager.getConnection(url, user, password);  \n  \n         // Test the connection  \n         if (connection != null) {  \n            System.out.println(&quot;Connected to the database!&quot;);  \n         } else {  \n            System.out.println(&quot;Failed to make connection!&quot;);  \n         }  \n      } catch (SQLException e) {  \n         System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());  \n      } catch (Exception e) {  \n         e.printStackTrace();  \n      } finally {  \n         try {  \n            if (connection != null)  \n               connection.close();  \n         } catch (SQLException e) {  \n            e.printStackTrace();  \n         }  \n      }  \n   }  \n}  \n</code></pre>\n<p>Replace mydatabase, myuser, and mypassword with the appropriate values for your database.</p>\n"}],"owner":{"account_id":14741361,"reputation":1,"user_id":10645964,"display_name":"FieldMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701669730,"creation_date":1701398390,"question_id":77582719,"body_markdown":"In Eclipse I am trying to set up a PostgreSQL JDBC connection and do a ping.  The ping fails with the error message shown below.  How can I fix it to make it work?\r\n\r\n```\r\norg.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client&#39;s IP address or subnet, and that it is using an authentication scheme supported by the driver.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:403)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:108)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n\tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n\tat org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n\tat org.postgresql.Driver.connect(Driver.java:267)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.createConnection(PostgreSQLJDBCConnection.java:87)\r\n\tat org.eclipse.datatools.connectivity.DriverConnectionBase.internalCreateConnection(DriverConnectionBase.java:105)\r\n\tat org.eclipse.datatools.connectivity.DriverConnectionBase.open(DriverConnectionBase.java:54)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.&lt;init&gt;(PostgreSQLJDBCConnection.java:47)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLConnectionFactory.createConnection(PostgreSQLConnectionFactory.java:51)\r\n\tat org.eclipse.datatools.connectivity.internal.ConnectionFactoryProvider.createConnection(ConnectionFactoryProvider.java:83)\r\n\tat org.eclipse.datatools.connectivity.internal.ConnectionProfile.createConnection(ConnectionProfile.java:359)\r\n\tat org.eclipse.datatools.connectivity.ui.PingJob.createTestConnection(PingJob.java:76)\r\n\tat org.eclipse.datatools.connectivity.ui.PingJob.run(PingJob.java:59)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n```\r\n\r\n\r\nI confiigured both JDBC 3 and 4 connections in Eclipse, but both fail.\r\n\r\nHowever, accessing the target PostgreSQL database using the psql from the command line works fine.\r\n\r\nFurthermore, accessing the target PostgreSQL database using JDBC through the Squirrel SQL Java-based SQL client also works.\r\n\r\n\r\n----------\r\n\r\n**UPDATE**\r\n\r\nAccessing the same PostgreSQL database via the [Data Source Explorer][1] produces the above error.  Note that if you code the JDBC access as in the answer below the program works, but this view does not.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T11Sh.png","title":"Eclipse PostgreSQL JDBC ping fails","body":"<p>In Eclipse I am trying to set up a PostgreSQL JDBC connection and do a ping.  The ping fails with the error message shown below.  How can I fix it to make it work?</p>\n<pre><code>org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client's IP address or subnet, and that it is using an authentication scheme supported by the driver.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:403)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:108)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n    at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n    at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n    at org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\n    at org.postgresql.Driver.makeConnection(Driver.java:393)\n    at org.postgresql.Driver.connect(Driver.java:267)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.createConnection(PostgreSQLJDBCConnection.java:87)\n    at org.eclipse.datatools.connectivity.DriverConnectionBase.internalCreateConnection(DriverConnectionBase.java:105)\n    at org.eclipse.datatools.connectivity.DriverConnectionBase.open(DriverConnectionBase.java:54)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.&lt;init&gt;(PostgreSQLJDBCConnection.java:47)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLConnectionFactory.createConnection(PostgreSQLConnectionFactory.java:51)\n    at org.eclipse.datatools.connectivity.internal.ConnectionFactoryProvider.createConnection(ConnectionFactoryProvider.java:83)\n    at org.eclipse.datatools.connectivity.internal.ConnectionProfile.createConnection(ConnectionProfile.java:359)\n    at org.eclipse.datatools.connectivity.ui.PingJob.createTestConnection(PingJob.java:76)\n    at org.eclipse.datatools.connectivity.ui.PingJob.run(PingJob.java:59)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>I confiigured both JDBC 3 and 4 connections in Eclipse, but both fail.</p>\n<p>However, accessing the target PostgreSQL database using the psql from the command line works fine.</p>\n<p>Furthermore, accessing the target PostgreSQL database using JDBC through the Squirrel SQL Java-based SQL client also works.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Accessing the same PostgreSQL database via the <a href=\"https://i.stack.imgur.com/T11Sh.png\" rel=\"nofollow noreferrer\">Data Source Explorer</a> produces the above error.  Note that if you code the JDBC access as in the answer below the program works, but this view does not.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1623393290,"post_id":67932249,"comment_id":120071048,"body_markdown":"while (!numberIsValid(number )) { enter number } -&gt; just a loop and a condition","body":"while (!numberIsValid(number )) { enter number } -&gt; just a loop and a condition"},{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1623393324,"post_id":67932249,"comment_id":120071059,"body_markdown":"Did you try anything before asking this?","body":"Did you try anything before asking this?"},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393461,"post_id":67932249,"comment_id":120071111,"body_markdown":"@deepakchethan, yes i did try &quot;do..while&quot; loop and it fail. i&#39;m not sure maybe i did not do it correctly.","body":"@deepakchethan, yes i did try &quot;do..while&quot; loop and it fail. i&#39;m not sure maybe i did not do it correctly."},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393482,"post_id":67932249,"comment_id":120071121,"body_markdown":"@Stultuske, ok thank you","body":"@Stultuske, ok thank you"},{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1623393555,"post_id":67932249,"comment_id":120071153,"body_markdown":"Can you share code you tried @OrochimaruKid? Maybe we can help you understand what the issue is with that is","body":"Can you share code you tried @OrochimaruKid? Maybe we can help you understand what the issue is with that is"},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393709,"post_id":67932249,"comment_id":120071226,"body_markdown":"@deepakchethan, i already re edit my code above.","body":"@deepakchethan, i already re edit my code above."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1623393894,"post_id":67932249,"comment_id":120071282,"body_markdown":"you are only checking one element of the array, the last one.","body":"you are only checking one element of the array, the last one."},{"owner":{"account_id":16848145,"reputation":227,"user_id":12181863,"display_name":"YHStan"},"score":0,"creation_date":1623393996,"post_id":67932249,"comment_id":120071319,"body_markdown":"I think you need a variable to keep track of which student you were at. for example int i = 0 outside the do while loop, and each time you successfully insert one you increment i, use int index = i inside the for loop so that it restarts where u left off","body":"I think you need a variable to keep track of which student you were at. for example int i = 0 outside the do while loop, and each time you successfully insert one you increment i, use int index = i inside the for loop so that it restarts where u left off"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1623394040,"post_id":67932249,"comment_id":120071335,"body_markdown":"@YHStan there&#39;s no need for that, the check has been added in the wrong place","body":"@YHStan there&#39;s no need for that, the check has been added in the wrong place"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623394283,"creation_date":1623394283,"answer_id":67932437,"question_id":67932249,"body_markdown":"    do\r\n            {\r\n                for(index = 0; index&lt;size; index++)\r\n                {\r\n                    System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                    marks[index] = kb.nextInt();\r\n    \r\n                    // chek if grade is smaller than 0 or larger than 100\r\n                    if(marks[index] &lt; 0 || marks[index] &gt; 100) \r\n                    {\r\n                        System.out.println(&quot;Invalid grade, try again...&quot;);\r\n                        break;\r\n                    }\r\n                    else\r\n                    {\r\n                        totalMarks = totalMarks + marks[index];\r\n                    }\r\n                }\r\n            }while(marks[index] &lt; 0 || marks[index] &gt; 100); // validation check\r\n\r\nYou have added the check at &#39;validation check&#39;, but at that point, you have already added a number, broken out of your loop because of invalid (or continued). You need to put that check at the place where you add the value:\r\n\r\n            for(index = 0; index&lt;size; index++)\r\n            {\r\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                marks[index] = kb.nextInt();\r\n\r\n                // chek if grade is smaller than 0 or larger than 100\r\n                while ( marks[index] &lt; 0 || marks[index] &gt; 100 ) {\r\n                   System.out.println(&quot;You&#39;ve added an invalid grade, try again.&quot;);\r\n                   marks[index] = kb.nextInt();\r\n                }\r\n                totalMarks = totalMarks + marks[index];\r\n           }\r\n\r\nThis way, you can only have a correct value, and there&#39;s no more need for an if-else structure.","title":"how to make the program to keep asking until the a valid number is entered?","body":"<pre><code>do\n        {\n            for(index = 0; index&lt;size; index++)\n            {\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n                marks[index] = kb.nextInt();\n\n                // chek if grade is smaller than 0 or larger than 100\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \n                {\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\n                    break;\n                }\n                else\n                {\n                    totalMarks = totalMarks + marks[index];\n                }\n            }\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100); // validation check\n</code></pre>\n<p>You have added the check at 'validation check', but at that point, you have already added a number, broken out of your loop because of invalid (or continued). You need to put that check at the place where you add the value:</p>\n<pre><code>        for(index = 0; index&lt;size; index++)\n        {\n            System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n            marks[index] = kb.nextInt();\n\n            // chek if grade is smaller than 0 or larger than 100\n            while ( marks[index] &lt; 0 || marks[index] &gt; 100 ) {\n               System.out.println(&quot;You've added an invalid grade, try again.&quot;);\n               marks[index] = kb.nextInt();\n            }\n            totalMarks = totalMarks + marks[index];\n       }\n</code></pre>\n<p>This way, you can only have a correct value, and there's no more need for an if-else structure.</p>\n"},{"tags":[],"owner":{"account_id":8485406,"reputation":958,"user_id":6363731,"display_name":"Pubudu Sitinamaluwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623394314,"creation_date":1623394314,"answer_id":67932441,"question_id":67932249,"body_markdown":"The issue is your for loop progresses forward no matter what you do and it increases the index. I think you just need a while loop that keeps running until the correct value is inserted.\r\n \r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n        int index, size;\r\n        double totalMarks = 0;\r\n\r\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\r\n        size = kb.nextInt();               // for determine array size\r\n\r\n        if (size &lt;= 0) {\r\n            System.out.println(&quot;Invalid number of students.&quot;);\r\n            return;\r\n        }\r\n\r\n        int[] marks = new int[size];   // declare array for marks\r\n\r\n        for (index = 0; index &lt; size; index++) {\r\n            System.out.print(&quot;Enter the grade of student &quot; + (index + 1) + &quot; : &quot;);\r\n            marks[index] = kb.nextInt();\r\n\r\n            while (true) {\r\n                if (marks[index] &lt; 0 || marks[index] &gt; 100) {\r\n                    System.out.println(&quot;Invalid grade, please enter again : &quot;);\r\n                    marks[index] = kb.nextInt();\r\n                } else {\r\n                    totalMarks = totalMarks + marks[index];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The average is &quot; + totalMarks);\r\n\r\n    }\r\n}\r\n```","title":"how to make the program to keep asking until the a valid number is entered?","body":"<p>The issue is your for loop progresses forward no matter what you do and it increases the index. I think you just need a while loop that keeps running until the correct value is inserted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        int index, size;\n        double totalMarks = 0;\n\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\n        size = kb.nextInt();               // for determine array size\n\n        if (size &lt;= 0) {\n            System.out.println(&quot;Invalid number of students.&quot;);\n            return;\n        }\n\n        int[] marks = new int[size];   // declare array for marks\n\n        for (index = 0; index &lt; size; index++) {\n            System.out.print(&quot;Enter the grade of student &quot; + (index + 1) + &quot; : &quot;);\n            marks[index] = kb.nextInt();\n\n            while (true) {\n                if (marks[index] &lt; 0 || marks[index] &gt; 100) {\n                    System.out.println(&quot;Invalid grade, please enter again : &quot;);\n                    marks[index] = kb.nextInt();\n                } else {\n                    totalMarks = totalMarks + marks[index];\n                    break;\n                }\n            }\n        }\n\n        System.out.println(&quot;The average is &quot; + totalMarks);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30044930,"reputation":1,"user_id":23024803,"display_name":"Aayush adhana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701669076,"creation_date":1701492591,"answer_id":77589187,"question_id":67932249,"body_markdown":"\r\n        System.out.println(&quot;Enter your marks by pressing 1 &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        int a = sc.nextInt();\r\n        switch (a) {\r\n          case 1:\r\n            System.out.println(&quot;Enter your marks&quot;);\r\n            break;\r\n          case 2: \r\n            System.out.println(&quot;Program done&quot;);\r\n            break;\r\n          default: System.out.println(&quot;Wrong button pressed&quot;);\r\n        }\r\n    \r\n        int marks = sc.nextInt();\r\n        if (marks &gt;= 90) {\r\n           System.out.println(&quot;These are good marks&quot;);\r\n        } else if (marks &gt;= 80) {\r\n          System.out.println(&quot;Very nice&quot;);\r\n        } else if(marks &gt;= 0 ) {\r\n          System.out.println(&quot;Better luck next time&quot;);\r\n        }","title":"how to make the program to keep asking until the a valid number is entered?","body":"<pre><code>    System.out.println(&quot;Enter your marks by pressing 1 &quot;);\n    Scanner sc = new Scanner(System.in);\n\n    int a = sc.nextInt();\n    switch (a) {\n      case 1:\n        System.out.println(&quot;Enter your marks&quot;);\n        break;\n      case 2: \n        System.out.println(&quot;Program done&quot;);\n        break;\n      default: System.out.println(&quot;Wrong button pressed&quot;);\n    }\n\n    int marks = sc.nextInt();\n    if (marks &gt;= 90) {\n       System.out.println(&quot;These are good marks&quot;);\n    } else if (marks &gt;= 80) {\n      System.out.println(&quot;Very nice&quot;);\n    } else if(marks &gt;= 0 ) {\n      System.out.println(&quot;Better luck next time&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67932441,"answer_count":3,"score":0,"last_activity_date":1701669076,"creation_date":1623393208,"question_id":67932249,"body_markdown":"i have made a code that can ask user to input the number of student and ask to input the grade of that student, but i can&#39;t make the program do just like the example. i tried using &quot;do...While&quot; and it did ask to enter the grade again for student 1 only, when i enter an invalid number for student 2, it reset back to sudent1. My question is how to make the program to keep asking until the a valid number is entered? Just like the sample below where the program ask the grade again for student2. \r\n\r\n \r\n * A sample session is as follow:\r\n * \r\n * Enter the number of students: 3\r\n * Enter the grade for student 1: 55\r\n * Enter the grade for student 2: 108\r\n * Invalid grade, try again...\r\n * Enter the grade for student 2: 56\r\n * Enter the grade for student 3: 57\r\n * \r\n * The average is 56.0\r\n */\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Assingment \r\n{\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner kb = new Scanner(System.in);\r\n        int index, size;\r\n        double totalMarks = 0;\r\n        \r\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\r\n        size = kb.nextInt();               // for determine array size\r\n        \r\n        if (size &lt;= 0) \r\n        {\r\n            System.out.println(&quot;Invalid number of students.&quot;);\r\n            return;\r\n        }\r\n        \r\n        int [] marks = new int[size];   // declare array for marks\r\n        \r\n        do\r\n        {\r\n            for(index = 0; index&lt;size; index++)\r\n            {\r\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                marks[index] = kb.nextInt();\r\n\r\n                // chek if grade is smaller than 0 or larger than 100\r\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \r\n                {\r\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    totalMarks = totalMarks + marks[index];\r\n                }\r\n            }\r\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100);\r\n        \r\n        System.out.println(&quot;The average is &quot; +totalMarks);\r\n                    \r\n    }\r\n}\r\n","title":"how to make the program to keep asking until the a valid number is entered?","body":"<p>i have made a code that can ask user to input the number of student and ask to input the grade of that student, but i can't make the program do just like the example. i tried using &quot;do...While&quot; and it did ask to enter the grade again for student 1 only, when i enter an invalid number for student 2, it reset back to sudent1. My question is how to make the program to keep asking until the a valid number is entered? Just like the sample below where the program ask the grade again for student2.</p>\n<ul>\n<li>A sample session is as follow:</li>\n<li></li>\n<li>Enter the number of students: 3</li>\n<li>Enter the grade for student 1: 55</li>\n<li>Enter the grade for student 2: 108</li>\n<li>Invalid grade, try again...</li>\n<li>Enter the grade for student 2: 56</li>\n<li>Enter the grade for student 3: 57</li>\n<li></li>\n<li>The average is 56.0\n*/</li>\n</ul>\n<pre><code>import java.util.Scanner;\npublic class Assingment \n{\n\n    public static void main(String[] args) \n    {\n        Scanner kb = new Scanner(System.in);\n        int index, size;\n        double totalMarks = 0;\n        \n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\n        size = kb.nextInt();               // for determine array size\n        \n        if (size &lt;= 0) \n        {\n            System.out.println(&quot;Invalid number of students.&quot;);\n            return;\n        }\n        \n        int [] marks = new int[size];   // declare array for marks\n        \n        do\n        {\n            for(index = 0; index&lt;size; index++)\n            {\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n                marks[index] = kb.nextInt();\n\n                // chek if grade is smaller than 0 or larger than 100\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \n                {\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\n                    break;\n                }\n                else\n                {\n                    totalMarks = totalMarks + marks[index];\n                }\n            }\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100);\n        \n        System.out.println(&quot;The average is &quot; +totalMarks);\n                    \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"score":0,"creation_date":1598773355,"post_id":48834927,"comment_id":112563078,"body_markdown":"You can find more details here https://reachmnadeem.wordpress.com/2020/08/30/kafka-2-6-up-and-running-in-windows-10/","body":"You can find more details here <a href=\"https://reachmnadeem.wordpress.com/2020/08/30/kafka-2-6-up-and-running-in-windows-10/\" rel=\"nofollow noreferrer\">reachmnadeem.wordpress.com/2020/08/30/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4735248,"reputation":2938,"user_id":3829818,"display_name":"Prashant_M"},"down_vote_count":3,"up_vote_count":122,"is_accepted":false,"score":119,"last_activity_date":1525415302,"creation_date":1525415302,"answer_id":50168530,"question_id":48834927,"body_markdown":"This is because of the long length of the path because of the folder name &#39;kafka_2.11-1.0.0&#39;. Just rename the folder to something small, like just &#39;kafka&#39;.","title":"The input line is too long when starting kafka","body":"<p>This is because of the long length of the path because of the folder name 'kafka_2.11-1.0.0'. Just rename the folder to something small, like just 'kafka'.</p>\n"},{"tags":[],"owner":{"account_id":1332573,"reputation":102,"user_id":1276123,"display_name":"Lukas Maruniak"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1548692875,"creation_date":1548692875,"answer_id":54406319,"question_id":48834927,"body_markdown":"Windows command-line has issues with long command execution. \r\nUse Powershell instead.","title":"The input line is too long when starting kafka","body":"<p>Windows command-line has issues with long command execution. \nUse Powershell instead.</p>\n"},{"tags":[],"owner":{"account_id":10451715,"reputation":745,"user_id":7705116,"display_name":"drt"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1566141253,"creation_date":1566141253,"answer_id":57545852,"question_id":48834927,"body_markdown":"**Above both options didn&#39;t work for me.**\r\n\r\nI have just moved an unzipped directory to C:/ drive and started power shell in **Administrator** mode and tried the desired commands, the zookeeper and broker started smoothly.","title":"The input line is too long when starting kafka","body":"<p><strong>Above both options didn't work for me.</strong></p>\n\n<p>I have just moved an unzipped directory to C:/ drive and started power shell in <strong>Administrator</strong> mode and tried the desired commands, the zookeeper and broker started smoothly.</p>\n"},{"tags":[],"owner":{"account_id":16622979,"reputation":39,"user_id":12012741,"display_name":"YESHWANTH LN"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1567490241,"creation_date":1567490241,"answer_id":57765772,"question_id":48834927,"body_markdown":"put all the files in other drive like D: or E: and run the command ","title":"The input line is too long when starting kafka","body":"<p>put all the files in other drive like D: or E: and run the command </p>\n"},{"tags":[],"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569013262,"creation_date":1569013262,"answer_id":58035136,"question_id":48834927,"body_markdown":"Rename the kafka folder to some shorter name like kafka2.\r\nOpen a new command prompt (DO not use existing/opened command prompt)","title":"The input line is too long when starting kafka","body":"<p>Rename the kafka folder to some shorter name like kafka2.\nOpen a new command prompt (DO not use existing/opened command prompt)</p>\n"},{"tags":[],"owner":{"account_id":7564214,"reputation":163,"user_id":5740493,"display_name":"Midiman"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1578556262,"creation_date":1569252367,"answer_id":58065653,"question_id":48834927,"body_markdown":"**The Problem**\r\n\r\nThe `kafka-run-class.bat` file performs a bunch of CLASSPATH :concat calls that make the CLASSPATH very long.\r\n\r\nDepending on your environment, too long: Windows cmd.exe environment has a limit of 8191 characters.\r\n\r\n**Solutions**\r\n\r\nEdit `kafka-run-class.bat` so that ...\r\n\r\n 1. make it so that CLASSPATH is not used or set elsewhere\r\n 2. make paths shorter so that concat produces a string smaller than than 8191 characters\r\n 2. make concat use the whole folder instead of every single jar (via `libs/*`)\r\n\r\n**Example**\r\n\r\nHere is an example of an edit to `kafka-run-class.bat` ([source](https://github.com/kafka-dev/kafka/issues/61)) that uses the 2nd approach:\r\n\r\nreplace ...\r\n\r\n```cmd\r\nrem Classpath addition for release\r\nfor %%i in (&quot;%BASE_DIR%\\libs\\*&quot;) do (\r\n\tcall :concat &quot;%%i&quot;\r\n)\r\n```\r\n\r\n... by this ...\r\n\r\n```cmd\r\nrem Classpath addition for release\r\ncall :concat &quot;%BASE_DIR%\\libs\\*;&quot;\r\n```\r\n","title":"The input line is too long when starting kafka","body":"<p><strong>The Problem</strong></p>\n\n<p>The <code>kafka-run-class.bat</code> file performs a bunch of CLASSPATH :concat calls that make the CLASSPATH very long.</p>\n\n<p>Depending on your environment, too long: Windows cmd.exe environment has a limit of 8191 characters.</p>\n\n<p><strong>Solutions</strong></p>\n\n<p>Edit <code>kafka-run-class.bat</code> so that ...</p>\n\n<ol>\n<li>make it so that CLASSPATH is not used or set elsewhere</li>\n<li>make paths shorter so that concat produces a string smaller than than 8191 characters</li>\n<li>make concat use the whole folder instead of every single jar (via <code>libs/*</code>)</li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<p>Here is an example of an edit to <code>kafka-run-class.bat</code> (<a href=\"https://github.com/kafka-dev/kafka/issues/61\" rel=\"noreferrer\">source</a>) that uses the 2nd approach:</p>\n\n<p>replace ...</p>\n\n<pre><code>rem Classpath addition for release\nfor %%i in (\"%BASE_DIR%\\libs\\*\") do (\n    call :concat \"%%i\"\n)\n</code></pre>\n\n<p>... by this ...</p>\n\n<pre><code>rem Classpath addition for release\ncall :concat \"%BASE_DIR%\\libs\\*;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15002305,"reputation":332,"user_id":10829570,"display_name":"John Fantastico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569942639,"creation_date":1569942639,"answer_id":58187779,"question_id":48834927,"body_markdown":"Place kafka close to the root of your drive so that the path to it is very short. \r\n\r\nWhen you run those Kafka batch files included in the windows directory, they muck with your environment variables (the classpath one) and can create a very long input line to actually run the command/jar. \r\n\r\nAlso as some others pointed out, ensure you downloaded the binary (yes even though on the Kafka site it is called the Scala binary and there&#39;s no mention of Windows anywhere, which can confuse people), not the source code. Also confusing to the lay-user, the source distribution looks similar to the binary distribution when uncompressed, it has all the batch files for example but they won&#39;t run.\r\n","title":"The input line is too long when starting kafka","body":"<p>Place kafka close to the root of your drive so that the path to it is very short. </p>\n\n<p>When you run those Kafka batch files included in the windows directory, they muck with your environment variables (the classpath one) and can create a very long input line to actually run the command/jar. </p>\n\n<p>Also as some others pointed out, ensure you downloaded the binary (yes even though on the Kafka site it is called the Scala binary and there's no mention of Windows anywhere, which can confuse people), not the source code. Also confusing to the lay-user, the source distribution looks similar to the binary distribution when uncompressed, it has all the batch files for example but they won't run.</p>\n"},{"tags":[],"owner":{"account_id":7839032,"reputation":91,"user_id":5925938,"display_name":"Adam Bodrogi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1580216100,"creation_date":1580216100,"answer_id":59949265,"question_id":48834927,"body_markdown":"I have copied everything to C:/tools/kafka and it works fine. The problem was indeed the too long path to kafka.","title":"The input line is too long when starting kafka","body":"<p>I have copied everything to C:/tools/kafka and it works fine. The problem was indeed the too long path to kafka.</p>\n"},{"tags":[],"owner":{"account_id":17039516,"reputation":1,"user_id":12327776,"display_name":"Kar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589750805,"creation_date":1589748983,"answer_id":61858683,"question_id":48834927,"body_markdown":"I tried extracting the downloaded Kafka zip file contacts\r\n\r\n```\r\nC:\\Kafka and ran the Kafka-server-start.bat\r\n```\r\nfrom the command prompt (don&#39;t run the command prompt as administrator) and that worked.\r\n\r\nRunning the command prompt as administrator was causing the problem for me.\r\n","title":"The input line is too long when starting kafka","body":"<p>I tried extracting the downloaded Kafka zip file contacts</p>\n\n<pre><code>C:\\Kafka and ran the Kafka-server-start.bat\n</code></pre>\n\n<p>from the command prompt (don't run the command prompt as administrator) and that worked.</p>\n\n<p>Running the command prompt as administrator was causing the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":19114144,"reputation":11,"user_id":13959538,"display_name":"Priyanka Bauskar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595183975,"creation_date":1595183975,"answer_id":62984266,"question_id":48834927,"body_markdown":"   ## The input line is too long when starting kafka ##\r\nI tried below command but gives me same error\r\n\r\n C:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties \r\n\r\nThis happens because path gets append in classpath when we are continuously executing same command on same cmd. \r\n\r\nClose your command prompt and open once again and then start zookeeper server.\r\n\r\n\r\n","title":"The input line is too long when starting kafka","body":"<h2>The input line is too long when starting kafka</h2>\n<p>I tried below command but gives me same error</p>\n<p>C:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties</p>\n<p>This happens because path gets append in classpath when we are continuously executing same command on same cmd.</p>\n<p>Close your command prompt and open once again and then start zookeeper server.</p>\n"},{"tags":[],"owner":{"account_id":19126470,"reputation":1,"user_id":13969346,"display_name":"Oshin Chandel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595342578,"creation_date":1595333241,"answer_id":63014206,"question_id":48834927,"body_markdown":"Remove `kafka_2.13-2.5.0` if there&#39;s any and keep the folder name as simple as possible like `Kafka`, also make sure there are no spaces in the path. \r\n\r\n**A working example**: Folder is located in `C:\\kafka`.&lt;br&gt;\r\n**A not working example**: Folder is located in `C:\\kafka 2\\`.","title":"The input line is too long when starting kafka","body":"<p>Remove <code>kafka_2.13-2.5.0</code> if there's any and keep the folder name as simple as possible like <code>Kafka</code>, also make sure there are no spaces in the path.</p>\n<p><strong>A working example</strong>: Folder is located in <code>C:\\kafka</code>.<br>\n<strong>A not working example</strong>: Folder is located in <code>C:\\kafka 2\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":10330654,"reputation":177,"user_id":7620583,"display_name":"Gautam Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597340976,"creation_date":1597340976,"answer_id":63400644,"question_id":48834927,"body_markdown":"For Windows just keep Kafka Folder path short\r\nFor eg - D/dev/kafka/bin/windows\r\n","title":"The input line is too long when starting kafka","body":"<p>For Windows just keep Kafka Folder path short\nFor eg - D/dev/kafka/bin/windows</p>\n"},{"tags":[],"owner":{"account_id":3106532,"reputation":51,"user_id":2629185,"display_name":"Shridhar Kulkarni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597343130,"creation_date":1597343130,"answer_id":63401143,"question_id":48834927,"body_markdown":"For me, it worked only after keeping the Kafka folder right under C directory, so the path looked like C:\\Kafka. I am sure this will work.","title":"The input line is too long when starting kafka","body":"<p>For me, it worked only after keeping the Kafka folder right under C directory, so the path looked like C:\\Kafka. I am sure this will work.</p>\n"},{"tags":[],"owner":{"account_id":19386769,"reputation":11,"user_id":14176331,"display_name":"Sonal Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603868525,"creation_date":1603868525,"answer_id":64567866,"question_id":48834927,"body_markdown":"Closing Zookeeper and Kafka cmd window and reopening it again worked for me. I tried all options above except powershell.","title":"The input line is too long when starting kafka","body":"<p>Closing Zookeeper and Kafka cmd window and reopening it again worked for me. I tried all options above except powershell.</p>\n"},{"tags":[],"owner":{"account_id":3159479,"reputation":570,"user_id":2671052,"display_name":"Mayra Delgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605099221,"creation_date":1605099221,"answer_id":64786832,"question_id":48834927,"body_markdown":"I had this problem too. Debugging the bat-files, you can see, that changing into the directory before calling the command that returns with this error and calling it with relative path does not afect the result!\r\nThe problem is the CLASSPATH variable. The easiest way to get this shorter for me was to use the command:\r\n\r\n```batch\r\nsubst K: &lt;absolute-long-path-to-kafka-dir-with-version&gt;\r\n```\r\n\r\nThis way I could change into this virtual drive `cd /d K:` and execute the scripts without problem:\r\n\r\n```batch\r\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\r\n```\r\n\r\nI wrote a wrapper-script that removes the CLASSPATH variable before executing again, because the values are appended every execution (same cmd.exe).\r\n\r\n```batch\r\nset CLASSPATH=\r\ncd /d K:\r\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\r\n```\r\n","title":"The input line is too long when starting kafka","body":"<p>I had this problem too. Debugging the bat-files, you can see, that changing into the directory before calling the command that returns with this error and calling it with relative path does not afect the result!\nThe problem is the CLASSPATH variable. The easiest way to get this shorter for me was to use the command:</p>\n<pre><code>subst K: &lt;absolute-long-path-to-kafka-dir-with-version&gt;\n</code></pre>\n<p>This way I could change into this virtual drive <code>cd /d K:</code> and execute the scripts without problem:</p>\n<pre><code>K:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\n</code></pre>\n<p>I wrote a wrapper-script that removes the CLASSPATH variable before executing again, because the values are appended every execution (same cmd.exe).</p>\n<pre><code>set CLASSPATH=\ncd /d K:\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13976701,"reputation":261,"user_id":10093938,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1606299952,"creation_date":1606299952,"answer_id":65002762,"question_id":48834927,"body_markdown":"Just moving the Kafka path to a much smaller root path solved the issue. For e.g. &quot;C:\\Kafka\\&quot;","title":"The input line is too long when starting kafka","body":"<p>Just moving the Kafka path to a much smaller root path solved the issue. For e.g. &quot;C:\\Kafka&quot;</p>\n"},{"tags":[],"owner":{"account_id":20388952,"reputation":1,"user_id":14957267,"display_name":"keeplearning"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610008412,"creation_date":1610008412,"answer_id":65609003,"question_id":48834927,"body_markdown":"Run common  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.propertie from Powershell window, it works without any issue on Window. \r\n\r\nFor a similar error, for zookeeper I run the zookeeper zkserver.cmd which i downloaded from https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html\r\n\r\n","title":"The input line is too long when starting kafka","body":"<p>Run common  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.propertie from Powershell window, it works without any issue on Window.</p>\n<p>For a similar error, for zookeeper I run the zookeeper zkserver.cmd which i downloaded from <a href=\"https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html\" rel=\"nofollow noreferrer\">https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html</a></p>\n"},{"tags":[],"owner":{"account_id":16659709,"reputation":77,"user_id":12039990,"display_name":"Prashant Kanak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629699473,"creation_date":1629699473,"answer_id":68888040,"question_id":48834927,"body_markdown":"Rename kafka_2.11-1.0.0 to kafka and keep it in C drive. This worked for me.","title":"The input line is too long when starting kafka","body":"<p>Rename kafka_2.11-1.0.0 to kafka and keep it in C drive. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11905428,"reputation":863,"user_id":8712118,"display_name":"Mayur Chavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631867585,"creation_date":1631858952,"answer_id":69218507,"question_id":48834927,"body_markdown":"Please check the directory path of your files, it should not contain any &quot;-&quot; in your directory structure where you have kept Kafka. ***Changing the name of the directory from kafka_2.13-2.7.0 --&gt; Kafka*** worked for me.","title":"The input line is too long when starting kafka","body":"<p>Please check the directory path of your files, it should not contain any &quot;-&quot; in your directory structure where you have kept Kafka. <em><strong>Changing the name of the directory from kafka_2.13-2.7.0 --&gt; Kafka</strong></em> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651735237,"creation_date":1651142078,"answer_id":72042168,"question_id":48834927,"body_markdown":"Another good way to solve this is to create a virtual drive from the kafka folder:\r\n\r\n    subst &lt;drive:&gt; path\\to\\folder\r\n\r\nexample:\r\n\r\n    subst K: C:\\Users\\me\\software\\kafkax.x-x.x\r\n\r\nYou can then go to the K: drive and run zookeeper and kafka without problem.\r\n\r\n    cd K:\r\n    .\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties\r\n    .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties","title":"The input line is too long when starting kafka","body":"<p>Another good way to solve this is to create a virtual drive from the kafka folder:</p>\n<pre><code>subst &lt;drive:&gt; path\\to\\folder\n</code></pre>\n<p>example:</p>\n<pre><code>subst K: C:\\Users\\me\\software\\kafkax.x-x.x\n</code></pre>\n<p>You can then go to the K: drive and run zookeeper and kafka without problem.</p>\n<pre><code>cd K:\n.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties\n.\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1493772,"reputation":61,"user_id":1400201,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659728911,"creation_date":1655743083,"answer_id":72690278,"question_id":48834927,"body_markdown":"Debugged and found the issue. Execute the command \r\n\r\n    echo %CLASSPATH%\r\n\r\nand you will find the culprit :)\r\n\r\nAll jar files in the `kafka\\lib` directory are set in `CLASSPATH` individually. So the error is thrown as \r\n\r\n&gt; Input Line too long\r\n\r\n**Fix**: add the `CLASSPATH` variable in the environment variable till the kafka base directory.","title":"The input line is too long when starting kafka","body":"<p>Debugged and found the issue. Execute the command</p>\n<pre><code>echo %CLASSPATH%\n</code></pre>\n<p>and you will find the culprit :)</p>\n<p>All jar files in the <code>kafka\\lib</code> directory are set in <code>CLASSPATH</code> individually. So the error is thrown as</p>\n<blockquote>\n<p>Input Line too long</p>\n</blockquote>\n<p><strong>Fix</strong>: add the <code>CLASSPATH</code> variable in the environment variable till the kafka base directory.</p>\n"},{"tags":[],"owner":{"account_id":15447340,"reputation":41,"user_id":11143897,"display_name":"Chetan Hegde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658400455,"creation_date":1658400455,"answer_id":73064815,"question_id":48834927,"body_markdown":"Kafka folder/directory path length needs to be decreased. \r\nUse short folder/directory path then it should start working.","title":"The input line is too long when starting kafka","body":"<p>Kafka folder/directory path length needs to be decreased.\nUse short folder/directory path then it should start working.</p>\n"},{"tags":[],"owner":{"account_id":7885936,"reputation":157,"user_id":5958006,"display_name":"Tharindu Krishan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659176621,"creation_date":1659176621,"answer_id":73174773,"question_id":48834927,"body_markdown":"The following steps worked for me.\r\n\r\n 1. Move the Kafka folder close to the root (like C:\\kafka). \r\n 2. Remove the unwanted path variables from environment variables.\r\n\r\n","title":"The input line is too long when starting kafka","body":"<p>The following steps worked for me.</p>\n<ol>\n<li>Move the Kafka folder close to the root (like C:\\kafka).</li>\n<li>Remove the unwanted path variables from environment variables.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6955208,"reputation":179,"user_id":5336431,"display_name":"Pravin P Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670509930,"creation_date":1670509930,"answer_id":74731863,"question_id":48834927,"body_markdown":"Just remove version(kafka_2.13-3.3.1) prior kafka in folder name(kafka) and it should work.","title":"The input line is too long when starting kafka","body":"<p>Just remove version(kafka_2.13-3.3.1) prior kafka in folder name(kafka) and it should work.</p>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678613364,"creation_date":1678613364,"answer_id":75712186,"question_id":48834927,"body_markdown":"1. download  kafka.apache.org site\r\n2. extract it \r\n3. rename extracted folder to kafka\r\n4. move renamed folder to C drive c:\\kafka (should be short)\r\n5. specify path in zookeeper.properties  &amp; server.properties (c:\\kafka) \r\n6. open cmd and execute below command \r\nC:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties*","title":"The input line is too long when starting kafka","body":"<ol>\n<li>download  kafka.apache.org site</li>\n<li>extract it</li>\n<li>rename extracted folder to kafka</li>\n<li>move renamed folder to C drive c:\\kafka (should be short)</li>\n<li>specify path in zookeeper.properties  &amp; server.properties (c:\\kafka)</li>\n<li>open cmd and execute below command\nC:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties*</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16046335,"reputation":1,"user_id":11581351,"display_name":"Shailendra Vishwakarma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701668906,"creation_date":1701412646,"answer_id":77583389,"question_id":48834927,"body_markdown":"****Simple Solution ****\r\nMove your kafka folder in c drive.\r\nexample c:\\kafka_2.13-3.6.0\\\r\nthen after execute bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties command it will work.\r\n","title":"The input line is too long when starting kafka","body":"<p>****Simple Solution ****\nMove your kafka folder in c drive.\nexample c:\\kafka_2.13-3.6.0<br />\nthen after execute bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties command it will work.</p>\n"}],"owner":{"account_id":8069490,"reputation":1385,"user_id":6082685,"accept_rate":73,"display_name":"Geha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56704,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"answer_count":26,"score":80,"last_activity_date":1701668906,"creation_date":1518815519,"question_id":48834927,"body_markdown":"I&#39;m trying to run Kafka message queue on Windows.\r\n\r\nI&#39;m usin this tutorial - [https://dzone.com/articles/running-apache-kafka-on-windows-os][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/running-apache-kafka-on-windows-os\r\n\r\n\r\nWhen i try to run it with comand - .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\r\n\r\nand i get an error:\r\n**The input line is too long.\r\nThe syntax of the command is incorrect.**\r\n\r\nkafka location - C:\\kafka_2.11-1.0.0","title":"The input line is too long when starting kafka","body":"<p>I'm trying to run Kafka message queue on Windows.</p>\n\n<p>I'm usin this tutorial - <a href=\"https://dzone.com/articles/running-apache-kafka-on-windows-os\" rel=\"noreferrer\">https://dzone.com/articles/running-apache-kafka-on-windows-os</a></p>\n\n<p>When i try to run it with comand - .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties</p>\n\n<p>and i get an error:\n<strong>The input line is too long.\nThe syntax of the command is incorrect.</strong></p>\n\n<p>kafka location - C:\\kafka_2.11-1.0.0</p>\n"},{"tags":["java","android","kotlin","crash","leakcanary"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701280060,"creation_date":1701280060,"answer_id":77573439,"question_id":77573384,"body_markdown":"&gt; com.myapp.chat.InboxActivity instance ​     Leaking: YES\r\n&gt; (ObjectWatcher was watching this because com.myapp.\r\n\r\nInboxActivity is leaking.  Insufficient data to tell why it&#39;s leaking from what you posted, I would look for what references to it are outstanding.","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<blockquote>\n<p>com.myapp.chat.InboxActivity instance ​     Leaking: YES\n(ObjectWatcher was watching this because com.myapp.</p>\n</blockquote>\n<p>InboxActivity is leaking.  Insufficient data to tell why it's leaking from what you posted, I would look for what references to it are outstanding.</p>\n"},{"tags":[],"owner":{"account_id":361203,"reputation":8239,"user_id":703646,"display_name":"Pierre-Yves Ricau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701313055,"creation_date":1701313055,"answer_id":77575617,"question_id":77573384,"body_markdown":"- `InboxActivity` received the `Activity.onDestroy()` callback, it should be garbage collected but cannot be because it is held in memory (&quot;leaking&quot;).\r\n- It is held in memory by `android.app.LoaderApk.mReceivers`. `LoaderApk` is an internal class of the Android framework. It keeps the list of broadcast receivers currently registered in an `ArrayMap` in `mReceivers`\r\n\r\nThis means `InboxActivity` implements `BroadcastReceiver`, and somewhere in the code you&#39;re doing `Context.registerReceiver(inboxActivity)` but forgetting to do `Context.unregisterReceiver(inboxActivity)` when the activity is destroyed. That&#39;s what you need to fix to make the leak go away.","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<ul>\n<li><code>InboxActivity</code> received the <code>Activity.onDestroy()</code> callback, it should be garbage collected but cannot be because it is held in memory (&quot;leaking&quot;).</li>\n<li>It is held in memory by <code>android.app.LoaderApk.mReceivers</code>. <code>LoaderApk</code> is an internal class of the Android framework. It keeps the list of broadcast receivers currently registered in an <code>ArrayMap</code> in <code>mReceivers</code></li>\n</ul>\n<p>This means <code>InboxActivity</code> implements <code>BroadcastReceiver</code>, and somewhere in the code you're doing <code>Context.registerReceiver(inboxActivity)</code> but forgetting to do <code>Context.unregisterReceiver(inboxActivity)</code> when the activity is destroyed. That's what you need to fix to make the leak go away.</p>\n"}],"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701667963,"creation_date":1701279401,"question_id":77573384,"body_markdown":"I tried looking into the systrace in Perfetto UI but just couldn&#39;t figure out the reason for crash. The logs for the crashes showed multiple calls related to the G.C so suspected it to be a memory leak and used LeakCanary to look for memory leaks. I&#39;m fixing the memory leaks one by one. Just wanted to know if I&#39;m heading in the right direction or not. \r\n\r\nThis is the crash that I&#39;m getting \r\n```\r\n755 31581 31581 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Build fingerprint: &#39;motorola/corfur_g/corfur:12/S2RUBS32.51-15-9-11/dd8d5-e81484:user/release-keys&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Revision: &#39;pvt&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : ABI: &#39;arm64&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Timestamp: 2023-12-01 12:25:33.994708494+0530\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Process uptime: 0s\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Cmdline: in.myapp.qa\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : pid: 28827, tid: 28836, name: HeapTaskDaemon  &gt;&gt;&gt; in.myapp.qa &lt;&lt;&lt;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : uid: 11318\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Abort message: &#39;klass pointer for ref: 0x13708ed0 found to be null.&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x0  0000000000000000  x1  00000000000070a4  x2  0000000000000006  x3  00000076aeb800b0\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x4  35312f6036772f1f  x5  35312f6036772f1f  x6  35312f6036772f1f  x7  7f7f7f7f7f7f7f7f\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x8  00000000000000f0  x9  a219e6e01d251e00  x10 0000000000000000  x11 ffffff80fffffbdf\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x12 0000000000000001  x13 000000000000074a  x14 00000076aeb7eeb0  x15 0000000034155555\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x16 00000079d1400060  x17 00000079d13dc4b0  x18 0000007654b9a000  x19 000000000000709b\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x20 00000000000070a4  x21 00000000ffffffff  x22 000000000000000b  x23 00000076be2a3fbe\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x24 000000000000000b  x25 0000000000000002  x26 0000000000000001  x27 00000076bee16000\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x28 b4000076e116c3e0  x29 00000076aeb80130\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     lr  00000079d138c8b0  sp  00000076aeb80090  pc  00000079d138c8dc  pst 0000000000001000\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : backtrace:\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #00 pc 00000000000518dc  /apex/com.android.runtime/lib64/bionic/libc.so (abort+168) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #01 pc 00000000007716f0  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+904) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #02 pc 00000000000357d0  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_0::__invoke(char const*)+80) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #03 pc 0000000000034d58  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::LogMessage::~LogMessage()+352) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #04 pc 0000000000207734  /apex/com.android.art/lib64/libart.so (art::gc::Verification::LogHeapCorruption(art::ObjPtr&lt;art::mirror::Object&gt;, art::MemberOffset, art::mirror::Object*, bool) const+2016) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #05 pc 00000000002aa950  /apex/com.android.art/lib64/libart.so (void art::mirror::Object::VisitReferences&lt;true, (art::VerifyObjectFlags)0, (art::ReadBarrierOption)1, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; &gt;(art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;)+2240) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #06 pc 00000000002a9f9c  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::ProcessMarkStackForMarkingAndComputeLiveBytes()+1820) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #07 pc 00000000002a67e0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::MarkingPhase()+1188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #08 pc 00000000002a13d0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::RunPhases()+184) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #09 pc 00000000003a6a10  /apex/com.android.art/lib64/libart.so (art::gc::collector::GarbageCollector::Run(art::gc::GcCause, bool)+312) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #10 pc 00000000003a2ea0  /apex/com.android.art/lib64/libart.so (art::gc::Heap::CollectGarbageInternal(art::gc::collector::GcType, art::gc::GcCause, bool, unsigned int)+548) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #11 pc 00000000003a2748  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGC(art::Thread*, art::gc::GcCause, bool, unsigned int)+188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #12 pc 00000000003a25cc  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGCTask::Run(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #13 pc 00000000003a06d0  /apex/com.android.art/lib64/libart.so (art::gc::TaskProcessor::RunAllTasks(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #14 pc 000000000034aa30  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #15 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #16 pc 0000000000511078  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+1976) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #17 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #18 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #19 pc 000000000002bad0  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$HeapTaskDaemon.runInternal+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #20 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #21 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #22 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #23 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #24 pc 000000000002adfc  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$Daemon.run+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #25 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #26 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #27 pc 000000000049efac  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+4716) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #28 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #29 pc 000000000010eaf0  /apex/com.android.art/javalib/core-oj.jar (java.lang.Thread.run+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #30 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #31 pc 00000000003784a8  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+964) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #32 pc 000000000034ab68  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #33 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #34 pc 000000000023e4d4  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #35 pc 0000000000539a3c  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallback(void*)+1600) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #36 pc 00000000000b6974  /apex/com.android.runtime/lib64/bionic/libc.so (__pthread_start(void*)+264) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #37 pc 0000000000053210  /apex/com.android.runtime/lib64/bionic/libc.so (__start_thread+68) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n```","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<p>I tried looking into the systrace in Perfetto UI but just couldn't figure out the reason for crash. The logs for the crashes showed multiple calls related to the G.C so suspected it to be a memory leak and used LeakCanary to look for memory leaks. I'm fixing the memory leaks one by one. Just wanted to know if I'm heading in the right direction or not.</p>\n<p>This is the crash that I'm getting</p>\n<pre><code>755 31581 31581 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n12-01 12:25:34.755 31581 31581 F DEBUG   : Build fingerprint: 'motorola/corfur_g/corfur:12/S2RUBS32.51-15-9-11/dd8d5-e81484:user/release-keys'\n12-01 12:25:34.755 31581 31581 F DEBUG   : Revision: 'pvt'\n12-01 12:25:34.755 31581 31581 F DEBUG   : ABI: 'arm64'\n12-01 12:25:34.755 31581 31581 F DEBUG   : Timestamp: 2023-12-01 12:25:33.994708494+0530\n12-01 12:25:34.755 31581 31581 F DEBUG   : Process uptime: 0s\n12-01 12:25:34.755 31581 31581 F DEBUG   : Cmdline: in.myapp.qa\n12-01 12:25:34.755 31581 31581 F DEBUG   : pid: 28827, tid: 28836, name: HeapTaskDaemon  &gt;&gt;&gt; in.myapp.qa &lt;&lt;&lt;\n12-01 12:25:34.755 31581 31581 F DEBUG   : uid: 11318\n12-01 12:25:34.755 31581 31581 F DEBUG   : signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\n12-01 12:25:34.755 31581 31581 F DEBUG   : Abort message: 'klass pointer for ref: 0x13708ed0 found to be null.'\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x0  0000000000000000  x1  00000000000070a4  x2  0000000000000006  x3  00000076aeb800b0\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x4  35312f6036772f1f  x5  35312f6036772f1f  x6  35312f6036772f1f  x7  7f7f7f7f7f7f7f7f\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x8  00000000000000f0  x9  a219e6e01d251e00  x10 0000000000000000  x11 ffffff80fffffbdf\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x12 0000000000000001  x13 000000000000074a  x14 00000076aeb7eeb0  x15 0000000034155555\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x16 00000079d1400060  x17 00000079d13dc4b0  x18 0000007654b9a000  x19 000000000000709b\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x20 00000000000070a4  x21 00000000ffffffff  x22 000000000000000b  x23 00000076be2a3fbe\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x24 000000000000000b  x25 0000000000000002  x26 0000000000000001  x27 00000076bee16000\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x28 b4000076e116c3e0  x29 00000076aeb80130\n12-01 12:25:34.755 31581 31581 F DEBUG   :     lr  00000079d138c8b0  sp  00000076aeb80090  pc  00000079d138c8dc  pst 0000000000001000\n12-01 12:25:34.755 31581 31581 F DEBUG   : backtrace:\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #00 pc 00000000000518dc  /apex/com.android.runtime/lib64/bionic/libc.so (abort+168) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #01 pc 00000000007716f0  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+904) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #02 pc 00000000000357d0  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_0::__invoke(char const*)+80) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #03 pc 0000000000034d58  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::LogMessage::~LogMessage()+352) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #04 pc 0000000000207734  /apex/com.android.art/lib64/libart.so (art::gc::Verification::LogHeapCorruption(art::ObjPtr&lt;art::mirror::Object&gt;, art::MemberOffset, art::mirror::Object*, bool) const+2016) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #05 pc 00000000002aa950  /apex/com.android.art/lib64/libart.so (void art::mirror::Object::VisitReferences&lt;true, (art::VerifyObjectFlags)0, (art::ReadBarrierOption)1, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; &gt;(art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;)+2240) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #06 pc 00000000002a9f9c  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::ProcessMarkStackForMarkingAndComputeLiveBytes()+1820) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #07 pc 00000000002a67e0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::MarkingPhase()+1188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #08 pc 00000000002a13d0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::RunPhases()+184) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #09 pc 00000000003a6a10  /apex/com.android.art/lib64/libart.so (art::gc::collector::GarbageCollector::Run(art::gc::GcCause, bool)+312) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #10 pc 00000000003a2ea0  /apex/com.android.art/lib64/libart.so (art::gc::Heap::CollectGarbageInternal(art::gc::collector::GcType, art::gc::GcCause, bool, unsigned int)+548) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #11 pc 00000000003a2748  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGC(art::Thread*, art::gc::GcCause, bool, unsigned int)+188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #12 pc 00000000003a25cc  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGCTask::Run(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #13 pc 00000000003a06d0  /apex/com.android.art/lib64/libart.so (art::gc::TaskProcessor::RunAllTasks(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #14 pc 000000000034aa30  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #15 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #16 pc 0000000000511078  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+1976) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #17 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #18 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #19 pc 000000000002bad0  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$HeapTaskDaemon.runInternal+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #20 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #21 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #22 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #23 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #24 pc 000000000002adfc  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$Daemon.run+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #25 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #26 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #27 pc 000000000049efac  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+4716) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #28 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #29 pc 000000000010eaf0  /apex/com.android.art/javalib/core-oj.jar (java.lang.Thread.run+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #30 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #31 pc 00000000003784a8  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+964) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #32 pc 000000000034ab68  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #33 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #34 pc 000000000023e4d4  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #35 pc 0000000000539a3c  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallback(void*)+1600) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #36 pc 00000000000b6974  /apex/com.android.runtime/lib64/bionic/libc.so (__pthread_start(void*)+264) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #37 pc 0000000000053210  /apex/com.android.runtime/lib64/bionic/libc.so (__start_thread+68) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n</code></pre>\n"},{"tags":["java","class","jdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700223063,"post_id":15039265,"comment_id":136630879,"body_markdown":"Note that the code in the question is flawed: people should not copy it.","body":"Note that the code in the question is flawed: people should not copy it."}],"answers":[{"tags":[],"owner":{"account_id":153796,"reputation":20684,"user_id":369310,"accept_rate":67,"display_name":"Janick Bernet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361614323,"creation_date":1361613993,"answer_id":15039301,"question_id":15039265,"body_markdown":"It will create a new instance of the `com.mysql.jdbc.Driver` class and hence call the static initialization which will register the driver with the `DriverManager` so you can create mysql connections based on the URL you use in the second line.\r\n\r\nThe class however should be in the `mysql.jar`.","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>It will create a new instance of the <code>com.mysql.jdbc.Driver</code> class and hence call the static initialization which will register the driver with the <code>DriverManager</code> so you can create mysql connections based on the URL you use in the second line.</p>\n\n<p>The class however should be in the <code>mysql.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71453,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1361613998,"creation_date":1361613998,"answer_id":15039303,"question_id":15039265,"body_markdown":"It initialize the class `&quot;com.mysql.jdbc.Driver&quot;` if found in the classpath, this imply that the driver is registered in the JDBC driver manager since the registration process is inside the static initializer of the driver class ...\r\n\r\nThere is another approach you can use to register a driver : is to use the static `DriverManager.registerDriver()` method.","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>It initialize the class <code>\"com.mysql.jdbc.Driver\"</code> if found in the classpath, this imply that the driver is registered in the JDBC driver manager since the registration process is inside the static initializer of the driver class ...</p>\n\n<p>There is another approach you can use to register a driver : is to use the static <code>DriverManager.registerDriver()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":1679182,"reputation":609,"user_id":1543908,"display_name":"chossenger"},"down_vote_count":3,"up_vote_count":27,"is_accepted":true,"score":24,"last_activity_date":1701667500,"creation_date":1361614245,"answer_id":15039333,"question_id":15039265,"body_markdown":"Note that this answer is addresses the syntactical nature of the question, not the logical aspect. If you want a better understanding of *why* you would do this, see [Koray Tugay&#39;s answer][1].\r\n\r\nAlso note that as of Java 6, **this is no longer required** to initialise JDBC 4.0 drivers - instead they are automatically loaded using the service provider pattern at JVM startup.\r\n\r\n___\r\n\r\nThe `Class` class is located in the java.lang package, so it is distributed with java, and imported automatically into every class.\r\n\r\nWhat the `forName()` method does, is just return the `Class` object for the parameter that was loaded by the class loader. The `newInstance()` method then returns a new instance of the class.\r\n\r\nSo then what happens is when you call\r\n`Class.forName(...)`\r\nit returns `com.mysql.jdbc.Driver.class`.\r\nYou then call `newInstance()` on that class which returns an instance of the class, with no parameters, so it&#39;s basically calling `new com.mysql.jdbc.Driver();`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44093721/1543908","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>Note that this answer is addresses the syntactical nature of the question, not the logical aspect. If you want a better understanding of <em>why</em> you would do this, see <a href=\"https://stackoverflow.com/a/44093721/1543908\">Koray Tugay's answer</a>.</p>\n<p>Also note that as of Java 6, <strong>this is no longer required</strong> to initialise JDBC 4.0 drivers - instead they are automatically loaded using the service provider pattern at JVM startup.</p>\n<hr />\n<p>The <code>Class</code> class is located in the java.lang package, so it is distributed with java, and imported automatically into every class.</p>\n<p>What the <code>forName()</code> method does, is just return the <code>Class</code> object for the parameter that was loaded by the class loader. The <code>newInstance()</code> method then returns a new instance of the class.</p>\n<p>So then what happens is when you call\n<code>Class.forName(...)</code>\nit returns <code>com.mysql.jdbc.Driver.class</code>.\nYou then call <code>newInstance()</code> on that class which returns an instance of the class, with no parameters, so it's basically calling <code>new com.mysql.jdbc.Driver();</code>.</p>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1555878105,"creation_date":1495346911,"answer_id":44093721,"question_id":15039265,"body_markdown":"Quoting from the [JDBC Specification][1], Chapter 9, Section 2:\r\n\r\n&gt; JDBC drivers must implement the Driver interface, and the\r\n&gt; implementation must contain a static initializer that will be called\r\n&gt; when the driver is loaded. This initializer registers a new instance\r\n&gt; of itself with the DriverManager.\r\n\r\nAnd an example code is provided for `AcmeJdbcDriver` as follows:\r\n\r\n    public class AcmeJdbcDriver implements java.sql.Driver {\r\n    \tstatic {\r\n    \t\tjava.sql.DriverManager.registerDriver(newAcmeJdbcDriver());\r\n    \t}\r\n    }\r\n\r\nAnd when you call [Class.forName(String className)][2], according to the API Documentation, the following happens:\r\n\r\n&gt; A call to forName(&quot;X&quot;) causes the class named X to be initialized.\r\n\r\nwhere initialization involves code in static block to be executed. \r\n\r\nSo basically, you initialize the Driver class, and in turn the class registers itself with the `java.sql.DriverManager` per the JDBC specification.\r\n\r\nPlease note, this is not needed anymore. Details can be found [here][3]. \r\n\r\n&gt; The DriverManager methods getConnection and getDrivers have been\r\n&gt; enhanced to support the Java Standard Edition Service Provider\r\n&gt; mechanism. JDBC 4.0 Drivers must include the file\r\n&gt; META-INF/services/java.sql.Driver. This file contains the name of the\r\n&gt; JDBC drivers implementation of java.sql.Driver. For example, to load\r\n&gt; the my.sql.Driver class, the META-INF/services/java.sql.Driver file\r\n&gt; would contain the entry:\r\n&gt; \r\n&gt;     my.sql.Driver\r\n&gt; \r\n&gt; Applications no longer need to explictly load JDBC drivers using\r\n&gt; Class.forName().\r\n\r\n  [1]: http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1495346465_4fc2c02537932b33d38b06a69cb8c3c3\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>Quoting from the <a href=\"http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1495346465_4fc2c02537932b33d38b06a69cb8c3c3\" rel=\"noreferrer\">JDBC Specification</a>, Chapter 9, Section 2:</p>\n\n<blockquote>\n  <p>JDBC drivers must implement the Driver interface, and the\n  implementation must contain a static initializer that will be called\n  when the driver is loaded. This initializer registers a new instance\n  of itself with the DriverManager.</p>\n</blockquote>\n\n<p>And an example code is provided for <code>AcmeJdbcDriver</code> as follows:</p>\n\n<pre><code>public class AcmeJdbcDriver implements java.sql.Driver {\n    static {\n        java.sql.DriverManager.registerDriver(newAcmeJdbcDriver());\n    }\n}\n</code></pre>\n\n<p>And when you call <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\" rel=\"noreferrer\">Class.forName(String className)</a>, according to the API Documentation, the following happens:</p>\n\n<blockquote>\n  <p>A call to forName(\"X\") causes the class named X to be initialized.</p>\n</blockquote>\n\n<p>where initialization involves code in static block to be executed. </p>\n\n<p>So basically, you initialize the Driver class, and in turn the class registers itself with the <code>java.sql.DriverManager</code> per the JDBC specification.</p>\n\n<p>Please note, this is not needed anymore. Details can be found <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html\" rel=\"noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>The DriverManager methods getConnection and getDrivers have been\n  enhanced to support the Java Standard Edition Service Provider\n  mechanism. JDBC 4.0 Drivers must include the file\n  META-INF/services/java.sql.Driver. This file contains the name of the\n  JDBC drivers implementation of java.sql.Driver. For example, to load\n  the my.sql.Driver class, the META-INF/services/java.sql.Driver file\n  would contain the entry:</p>\n\n<pre><code>my.sql.Driver\n</code></pre>\n  \n  <p>Applications no longer need to explictly load JDBC drivers using\n  Class.forName().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700202797,"creation_date":1700202061,"answer_id":77499684,"question_id":15039265,"body_markdown":"As noted, the code in the question is flawed.   These are the things that are wrong with it.\r\n\r\nMajor:\r\n\r\n  - You don&#39;t need to call `Class.forName` to load or initialize a JDBC driver.  The `DriverManager.getConnection(...)` call will do all of that automatically.  The `Class.forName` stuff has been redundant since JDBC 4.0 / Java 6.\r\n\r\n    `DriverManager.getConnection(...)` will select a JDBC driver based on the JDBC URL prefix.  It knows how to search the classpath for suitable drivers, load the driver class and trigger initialization to cause it to register.\r\n\r\n  - You don&#39;t need to call `newInstance()` to trigger class initialization.  In fact, all you are doing is creating an unnecessary instance of the `Driver` class.  And (I think) adding extra checked exceptions that need to be handled.\r\n\r\n  - That class name for the JDBC driver is deprecated.  As of MySQL Connector/J 8.0 and 8.1, the class name is `com.mysql.cj.jdbc.Driver`.  (The old `com.mysql.jdbc.Driver` class name still works, but it gives you a runtime warning.)\r\n\r\n    Once again `DriverManager` takes care of this.  You don&#39;t need to know the driver class name.\r\n\r\nMinor:\r\n\r\n  - There are some checked exceptions thrown by `forName` and `newInstance` that ought to be handled.\r\n  \r\n  - Wiring your account name and password into your code is a bad idea.  Even if you don&#39;t intend to publish your code.\r\n\r\nMost of these problems are best solved by deleting this line:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\r\ni.e. the very line that the OP is asking about!","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>As noted, the code in the question is flawed.   These are the things that are wrong with it.</p>\n<p>Major:</p>\n<ul>\n<li><p>You don't need to call <code>Class.forName</code> to load or initialize a JDBC driver.  The <code>DriverManager.getConnection(...)</code> call will do all of that automatically.  The <code>Class.forName</code> stuff has been redundant since JDBC 4.0 / Java 6.</p>\n<p><code>DriverManager.getConnection(...)</code> will select a JDBC driver based on the JDBC URL prefix.  It knows how to search the classpath for suitable drivers, load the driver class and trigger initialization to cause it to register.</p>\n</li>\n<li><p>You don't need to call <code>newInstance()</code> to trigger class initialization.  In fact, all you are doing is creating an unnecessary instance of the <code>Driver</code> class.  And (I think) adding extra checked exceptions that need to be handled.</p>\n</li>\n<li><p>That class name for the JDBC driver is deprecated.  As of MySQL Connector/J 8.0 and 8.1, the class name is <code>com.mysql.cj.jdbc.Driver</code>.  (The old <code>com.mysql.jdbc.Driver</code> class name still works, but it gives you a runtime warning.)</p>\n<p>Once again <code>DriverManager</code> takes care of this.  You don't need to know the driver class name.</p>\n</li>\n</ul>\n<p>Minor:</p>\n<ul>\n<li><p>There are some checked exceptions thrown by <code>forName</code> and <code>newInstance</code> that ought to be handled.</p>\n</li>\n<li><p>Wiring your account name and password into your code is a bad idea.  Even if you don't intend to publish your code.</p>\n</li>\n</ul>\n<p>Most of these problems are best solved by deleting this line:</p>\n<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n</code></pre>\n<p>i.e. the very line that the OP is asking about!</p>\n"}],"owner":{"display_name":"user2098012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71447,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":15039333,"answer_count":5,"score":22,"last_activity_date":1701667500,"creation_date":1361613703,"question_id":15039265,"body_markdown":"While connecting to MySQL database I do following steps\r\n\r\n    Connection con = null;\r\n    Resultset rs = null;\r\n    Statement st = null;\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n    con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/database&quot;,&quot;root&quot;,&quot;passwp&quot;);\r\n\r\nActually I wanted to know what does `Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();` statement do.\r\n\r\nAlthogh this class is not in mysql.jar. Where is it present?","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>While connecting to MySQL database I do following steps</p>\n\n<pre><code>Connection con = null;\nResultset rs = null;\nStatement st = null;\nClass.forName(\"com.mysql.jdbc.Driver\").newInstance();\ncon = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/database\",\"root\",\"passwp\");\n</code></pre>\n\n<p>Actually I wanted to know what does <code>Class.forName(\"com.mysql.jdbc.Driver\").newInstance();</code> statement do.</p>\n\n<p>Althogh this class is not in mysql.jar. Where is it present?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1701692977,"post_id":77597355,"comment_id":136803291,"body_markdown":"See if it helps to press Ctrl+Alt+Shift+L (Cmd+Alt+Shift+L on macOS) and uncheck &quot;Do not keep line breaks&quot; in the formatter settings.","body":"See if it helps to press Ctrl+Alt+Shift+L (Cmd+Alt+Shift+L on macOS) and uncheck &quot;Do not keep line breaks&quot; in the formatter settings."}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701667268,"creation_date":1701667268,"question_id":77597355,"body_markdown":"I&#39;m using Intellij IDEA `2021.3.3`.\r\n\r\nI want to set new line after each field annotations, but it doesn&#39;t work in some cases.\r\n\r\nMy `field annotations` settings are `wrap always` and unchecked `Do not wrap after single annotation`.\r\n\r\nWhen I set field `final` or add access modifier(like `private`), reformat works as I expected.\r\n\r\nHere&#39;s example.\r\n\r\n```\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class Foo {\r\n\r\n  // (1) Before reformat\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  String badField;\r\n\r\n  // (1) After reformat\r\n  @Size(max = 10, message = &quot;size message&quot;) @NotBlank(message = &quot;notBlank message&quot;) String badField;\r\n\r\n  // (2) Before reformat\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  final String goodField;\r\n\r\n  // (2) After reformat (Same as before)\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  final String goodField;\r\n}\r\n```\r\n\r\nAre there any way to fix it?","title":"Intellij doesn&#39;t wrapping field annotations","body":"<p>I'm using Intellij IDEA <code>2021.3.3</code>.</p>\n<p>I want to set new line after each field annotations, but it doesn't work in some cases.</p>\n<p>My <code>field annotations</code> settings are <code>wrap always</code> and unchecked <code>Do not wrap after single annotation</code>.</p>\n<p>When I set field <code>final</code> or add access modifier(like <code>private</code>), reformat works as I expected.</p>\n<p>Here's example.</p>\n<pre><code>@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Foo {\n\n  // (1) Before reformat\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  String badField;\n\n  // (1) After reformat\n  @Size(max = 10, message = &quot;size message&quot;) @NotBlank(message = &quot;notBlank message&quot;) String badField;\n\n  // (2) Before reformat\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  final String goodField;\n\n  // (2) After reformat (Same as before)\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  final String goodField;\n}\n</code></pre>\n<p>Are there any way to fix it?</p>\n"},{"tags":["java","spring","spring-boot","microservices","netflix-eureka"],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701665965,"creation_date":1701665965,"question_id":77597298,"body_markdown":"I am running a Spring Boot microservices app.  The order-service is supposed to query the inventory-service to see if the ordered item(s) are in stock.  But instead I am getting this exception. \r\n```\r\njava.net.BindException: Cannot assign requested address: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:586) ~[na:na]\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:853) ~[na:na]\r\n\tat io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\r\n\tat io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:653) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n...\r\n```\r\nHere is where order-service queries the inventory-service.\r\n```\r\nInventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()\r\n                .uri(&quot;http://inventory-service/api/inventory&quot;,\r\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n                .retrieve()\r\n                .bodyToMono(InventoryResponse[].class)\r\n                .block();\r\n```\r\nI do not know where to begin.  Is it a problem with Eureka?  This project is based on the programming techie tutorial:  \r\n\r\n - https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4 \r\n - https://github.com/SaiUpadhyayula/spring-boot-microservices","title":"Spring Boot Microservices Eureka java.net.BindException: Cannot Assign requested address: connect","body":"<p>I am running a Spring Boot microservices app.  The order-service is supposed to query the inventory-service to see if the ordered item(s) are in stock.  But instead I am getting this exception.</p>\n<pre><code>java.net.BindException: Cannot assign requested address: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:586) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:853) ~[na:na]\n    at io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\n    at io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:653) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n...\n</code></pre>\n<p>Here is where order-service queries the inventory-service.</p>\n<pre><code>InventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()\n                .uri(&quot;http://inventory-service/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n</code></pre>\n<p>I do not know where to begin.  Is it a problem with Eureka?  This project is based on the programming techie tutorial:</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4</a></li>\n<li><a href=\"https://github.com/SaiUpadhyayula/spring-boot-microservices\" rel=\"nofollow noreferrer\">https://github.com/SaiUpadhyayula/spring-boot-microservices</a></li>\n</ul>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":1,"creation_date":1701664406,"post_id":77597234,"comment_id":136799640,"body_markdown":"Does this answer your question? [Consume Post method Rest + SpringBoot](https://stackoverflow.com/questions/53692008/consume-post-method-rest-springboot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53692008/consume-post-method-rest-springboot\">Consume Post method Rest + SpringBoot</a>"}],"owner":{"account_id":26009586,"reputation":41,"user_id":19718873,"display_name":"poornima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1701664322,"creation_date":1701664322,"question_id":77597234,"body_markdown":"I&#39;m trying to validate a flag based on the response from 3rd party API and it is a POST API call.\r\nHow to write Java code for this scenario.\r\nPlease any code snippet as guidance.","title":"How to consume Post API in springboot","body":"<p>I'm trying to validate a flag based on the response from 3rd party API and it is a POST API call.\nHow to write Java code for this scenario.\nPlease any code snippet as guidance.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":27407440,"reputation":1,"user_id":20907867,"display_name":"Namratha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701664096,"creation_date":1701664078,"answer_id":77597224,"question_id":77596988,"body_markdown":"The BeanFactory is the core of SpringBoot. It manages all the beans and has the functionality to maintain the beans. It is used in inversion control.\r\n\r\nFactoryBean is more like a datatype where you can create and use a bean as an object. It is an interface. ","title":"What is the difference between BeanFactory and FactoryBean in Spring?","body":"<p>The BeanFactory is the core of SpringBoot. It manages all the beans and has the functionality to maintain the beans. It is used in inversion control.</p>\n<p>FactoryBean is more like a datatype where you can create and use a bean as an object. It is an interface.</p>\n"}],"owner":{"account_id":13803822,"reputation":1,"user_id":9963213,"display_name":"Jason_Gan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701664096,"creation_date":1701658249,"question_id":77596988,"body_markdown":"How to introduce the difference by clearly describe? i know beanfactory is used to generate bean \r\n,so the FactoryBean is used to generate fatory? which one is earlier to execute?\r\nI tried read the official introduce but cannot understand","title":"What is the difference between BeanFactory and FactoryBean in Spring?","body":"<p>How to introduce the difference by clearly describe? i know beanfactory is used to generate bean\n,so the FactoryBean is used to generate fatory? which one is earlier to execute?\nI tried read the official introduce but cannot understand</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":6328787,"reputation":406,"user_id":7665043,"display_name":"l3l_aze"},"score":5,"creation_date":1701657179,"post_id":77596915,"comment_id":136799147,"body_markdown":"Please edit your post to include the code and requirements. Screenshots suck for troubleshooting code.","body":"Please edit your post to include the code and requirements. Screenshots suck for troubleshooting code."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701658065,"post_id":77596915,"comment_id":136799213,"body_markdown":"You don&#39;t set `userNum` in the loop. `while ((userNum = scnr.nextInt()) &gt; -1)` Simple as that.","body":"You don&#39;t set <code>userNum</code> in the loop. <code>while ((userNum = scnr.nextInt()) &gt; -1)</code> Simple as that."}],"owner":{"account_id":30058670,"reputation":1,"user_id":23035318,"display_name":"Idonotknow29"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701662848,"answer_count":0,"score":-2,"last_activity_date":1701661598,"creation_date":1701656620,"question_id":77596915,"body_markdown":"Cant seem to get my loop working\r\n\r\nBeen going at it replacing the &gt; with &gt;= and its still not working with the first inputs giving a output of either 0 or nothing at all. if someone knows what im doing wrong would love the help as im still pretty new to java.[Java code](https://i.stack.imgur.com/y42QF.png)[Inputs with no output](https://i.stack.imgur.com/8E7pz.png)","title":"While loop not giving outputs","body":"<p>Cant seem to get my loop working</p>\n<p>Been going at it replacing the &gt; with &gt;= and its still not working with the first inputs giving a output of either 0 or nothing at all. if someone knows what im doing wrong would love the help as im still pretty new to java.<a href=\"https://i.stack.imgur.com/y42QF.png\" rel=\"nofollow noreferrer\">Java code</a><a href=\"https://i.stack.imgur.com/8E7pz.png\" rel=\"nofollow noreferrer\">Inputs with no output</a></p>\n"},{"tags":["java","spring","spring-boot","jvm","performance-testing"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701663590,"post_id":77597114,"comment_id":136799595,"body_markdown":"What is left to pinpoint? Upgrade `spring-boot-starter-parent` everywhere. I am ***assuming*** your assumptions are correct. Best of luck!","body":"What is left to pinpoint? Upgrade <code>spring-boot-starter-parent</code> everywhere. I am <b><i>assuming</i></b> your assumptions are correct. Best of luck!"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1701678556,"post_id":77597114,"comment_id":136800959,"body_markdown":"So basically we want to make sure, if this really was becoz of spring-boot upgrade, or some other dependency upgrade, or some other change. As we have not found any docs stating the CPU usage improvements after upgrading the spring-boot version to 2.7.10","body":"So basically we want to make sure, if this really was becoz of spring-boot upgrade, or some other dependency upgrade, or some other change. As we have not found any docs stating the CPU usage improvements after upgrading the spring-boot version to 2.7.10"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701661400,"creation_date":1701661400,"question_id":77597114,"body_markdown":"We have recently upgrade the `spring-boot-starter-parent` from `2.1.1.RELEASE` to `2.7.10` version and seeing 20% improvement in overall **CPU utilisation** by the service.\r\n\r\nEarlier at peak traffic **95** machines were running and now it has reduced to **75** machines at max. \r\n\r\nWith spring-boot-starter-parent upgrade, we had to upgrade other dependencies as well which were compatible with this version of spring-boot, like kafka, zookeeper, spring-cloud and couple of other dependencies as well.\r\n\r\nThe improvement in **CPU performance** was not expected, but it did happen. Is there a way/tool we could pin-point what exactly made this improvement, so we could take learnings from here and make same change in other services as well. ","title":"CPU performance improvement after upgrading to spring-boot-2.7.10","body":"<p>We have recently upgrade the <code>spring-boot-starter-parent</code> from <code>2.1.1.RELEASE</code> to <code>2.7.10</code> version and seeing 20% improvement in overall <strong>CPU utilisation</strong> by the service.</p>\n<p>Earlier at peak traffic <strong>95</strong> machines were running and now it has reduced to <strong>75</strong> machines at max.</p>\n<p>With spring-boot-starter-parent upgrade, we had to upgrade other dependencies as well which were compatible with this version of spring-boot, like kafka, zookeeper, spring-cloud and couple of other dependencies as well.</p>\n<p>The improvement in <strong>CPU performance</strong> was not expected, but it did happen. Is there a way/tool we could pin-point what exactly made this improvement, so we could take learnings from here and make same change in other services as well.</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701661374,"post_id":77597091,"comment_id":136799450,"body_markdown":"normally you&#39;d use a library, like the Jakarta email api: https://www.baeldung.com/java-email","body":"normally you&#39;d use a library, like the Jakarta email api: <a href=\"https://www.baeldung.com/java-email\" rel=\"nofollow noreferrer\">baeldung.com/java-email</a>"}],"owner":{"account_id":30058974,"reputation":1,"user_id":23035556,"display_name":"Chad Croc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701662510,"answer_count":0,"score":-1,"last_activity_date":1701660700,"creation_date":1701660700,"question_id":77597091,"body_markdown":"Recently, I made web application in Java netbeans and I made signup and login system, can you tell me please how to send an email using java, so when the user registers, it can send a verification code. I just want the code for sending an email, however because of a new update, all of the old methods do not work. \r\n\r\nI cant find anything that works anymore.","title":"How to send email using java netbeans using java with ant?","body":"<p>Recently, I made web application in Java netbeans and I made signup and login system, can you tell me please how to send an email using java, so when the user registers, it can send a verification code. I just want the code for sending an email, however because of a new update, all of the old methods do not work.</p>\n<p>I cant find anything that works anymore.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1114067,"reputation":196771,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1375611654,"post_id":18041770,"comment_id":26394318,"body_markdown":"`condition = true` is an assignment expression. Watch out for the distinction.","body":"<code>condition = true</code> is an assignment expression. Watch out for the distinction."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":3,"creation_date":1375611835,"post_id":18041770,"comment_id":26394354,"body_markdown":"`(condition = true)` is **always** `true`.","body":"<code>(condition = true)</code> is <b>always</b> <code>true</code>."},{"owner":{"account_id":3104935,"reputation":975,"user_id":2628030,"accept_rate":75,"display_name":"Matt Smith"},"score":0,"creation_date":1375612953,"post_id":18041770,"comment_id":26394567,"body_markdown":"that&#39;s just an example. sorry for the typo. fixed it.","body":"that&#39;s just an example. sorry for the typo. fixed it."},{"owner":{"account_id":7487560,"reputation":145,"user_id":5690287,"display_name":"Dhruv Singhal"},"score":4,"creation_date":1547619517,"post_id":18041770,"comment_id":95248684,"body_markdown":"Correct me if I am wrong... but the title of question appears to be misleading... it says &quot;Java&quot;, while description has Javascript problem to be precise. Also the tag is of Java, while it should have been of javascript","body":"Correct me if I am wrong... but the title of question appears to be misleading... it says &quot;Java&quot;, while description has Javascript problem to be precise. Also the tag is of Java, while it should have been of javascript"}],"answers":[{"tags":[],"owner":{"account_id":399647,"reputation":753,"user_id":765138,"accept_rate":45,"display_name":"axelcdv"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375610693,"creation_date":1375610693,"answer_id":18041783,"question_id":18041770,"body_markdown":"You can just use `return` to end the method&#39;s execution","title":"Stop executing further code in Java","body":"<p>You can just use <code>return</code> to end the method's execution</p>\n"},{"tags":[],"owner":{"account_id":2821295,"reputation":17480,"user_id":2424999,"accept_rate":85,"display_name":"T_V"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1375611893,"creation_date":1375610694,"answer_id":18041784,"question_id":18041770,"body_markdown":"Just do:\r\n\r\n    public void onClick() {\r\n        if(condition == true) {\r\n            return;\r\n        }\r\n        string.setText(&quot;This string should not change if condition = true&quot;);\r\n    }\r\n\r\nIt&#39;s redundant to write `if(condition == true)`, just write `if(condition)` (This way, for example, you&#39;ll not write `=` by mistake).","title":"Stop executing further code in Java","body":"<p>Just do:</p>\n\n<pre><code>public void onClick() {\n    if(condition == true) {\n        return;\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n\n<p>It's redundant to write <code>if(condition == true)</code>, just write <code>if(condition)</code> (This way, for example, you'll not write <code>=</code> by mistake).</p>\n"},{"tags":[],"owner":{"account_id":1769470,"reputation":2426,"user_id":1614599,"display_name":"Alex MDC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375610711,"creation_date":1375610711,"answer_id":18041785,"question_id":18041770,"body_markdown":"Either `return;` from the method early, or `throw` an exception.\r\n\r\nThere is no other way to prevent further code from being executed short of exiting the process completely.","title":"Stop executing further code in Java","body":"<p>Either <code>return;</code> from the method early, or <code>throw</code> an exception.</p>\n\n<p>There is no other way to prevent further code from being executed short of exiting the process completely.</p>\n"},{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375611679,"creation_date":1375610972,"answer_id":18041823,"question_id":18041770,"body_markdown":"There are two way to stop current method/process :\r\n\r\n  1. Throwing Exception.\r\n  2. returnning the value even if it is void method.\r\n\r\nOption : you can also kill the current thread to stop it.  \r\n  \r\nFor example : \r\n\r\n\tpublic void onClick(){\r\n\r\n\t\tif(condition == true){\r\n\t\t\treturn;\r\n\t\t\t&lt;or&gt;\r\n\t\t\tthrow new YourException();\r\n\t\t}\r\n\t\tstring.setText(&quot;This string should not change if condition = true&quot;);\r\n\t}","title":"Stop executing further code in Java","body":"<p>There are two way to stop current method/process :</p>\n\n<ol>\n<li>Throwing Exception.</li>\n<li>returnning the value even if it is void method.</li>\n</ol>\n\n<p>Option : you can also kill the current thread to stop it.  </p>\n\n<p>For example : </p>\n\n<pre><code>public void onClick(){\n\n    if(condition == true){\n        return;\n        &lt;or&gt;\n        throw new YourException();\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":700140,"reputation":908,"user_id":2640007,"display_name":"Jose Sutilo"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375611025,"creation_date":1375611025,"answer_id":18041826,"question_id":18041770,"body_markdown":"`return` to come out of the method execution, `break` to come out of a loop execution and `continue` to skip the rest of the current loop. In your case, just `return`, but if you are in a for loop, for example, do `break` to stop the loop or `continue` to skip to next step in the loop","title":"Stop executing further code in Java","body":"<p><code>return</code> to come out of the method execution, <code>break</code> to come out of a loop execution and <code>continue</code> to skip the rest of the current loop. In your case, just <code>return</code>, but if you are in a for loop, for example, do <code>break</code> to stop the loop or <code>continue</code> to skip to next step in the loop</p>\n"},{"tags":[],"owner":{"account_id":2920303,"reputation":14404,"user_id":2502731,"accept_rate":99,"display_name":"lewis4u"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1451766778,"creation_date":1451766778,"answer_id":34570446,"question_id":18041770,"body_markdown":"To stop executing java code just use this command:\r\n\r\n        System.exit(1);\r\n\r\nAfter this command java stops immediately!\r\n\r\nfor example:\r\n        \r\n    \r\n    \tint i = 5;\r\n        if (i == 5) {\r\n    \t   System.out.println(&quot;All is fine...java programm executes without problem&quot;);\r\n        } else {\r\n    \t   System.out.println(&quot;ERROR occured :::: java programm has stopped!!!&quot;);\r\n    \t   System.exit(1);\r\n        }","title":"Stop executing further code in Java","body":"<p>To stop executing java code just use this command:</p>\n\n<pre><code>    System.exit(1);\n</code></pre>\n\n<p>After this command java stops immediately!</p>\n\n<p>for example:</p>\n\n<pre><code>    int i = 5;\n    if (i == 5) {\n       System.out.println(\"All is fine...java programm executes without problem\");\n    } else {\n       System.out.println(\"ERROR occured :::: java programm has stopped!!!\");\n       System.exit(1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656240916,"creation_date":1656240916,"answer_id":72760949,"question_id":18041770,"body_markdown":"I think just using ```return;``` would do the job","title":"Stop executing further code in Java","body":"<p>I think just using <code>return;</code> would do the job</p>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701660662,"creation_date":1701660662,"answer_id":77597089,"question_id":18041770,"body_markdown":"In your thread, you need to check `Thread.interrupted()`, and if you have a flag too as some others mentioned, that&#39;d be handy too. All based on your specific use case.","title":"Stop executing further code in Java","body":"<p>In your thread, you need to check <code>Thread.interrupted()</code>, and if you have a flag too as some others mentioned, that'd be handy too. All based on your specific use case.</p>\n"}],"owner":{"account_id":3104935,"reputation":975,"user_id":2628030,"accept_rate":75,"display_name":"Matt Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188811,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":18041784,"answer_count":8,"score":23,"last_activity_date":1701660662,"creation_date":1375610575,"question_id":18041770,"body_markdown":"I have looked in the Javadoc but couldn&#39;t find information related to this.\r\n\r\nI want the application to stop executing a method if code in that method tells it to do so.\r\n\r\nIf that sentence was confusing, here&#39;s what I want to do in my code:\r\n\r\n    public void onClick(){\r\n    \r\n        if(condition == true){\r\n            stopMethod(); //madeup code\r\n        }\r\n        string.setText(&quot;This string should not change if condition = true&quot;);\r\n    }\r\n\r\nSo if the boolean `condition` is true, the method `onClick` has to stop executing further code.\r\n\r\nThis is just an example. There are other ways for me to do what I am trying to accomplish in my application, but if this is possible, it would definitely help.\r\n\r\n","title":"Stop executing further code in Java","body":"<p>I have looked in the Javadoc but couldn't find information related to this.</p>\n\n<p>I want the application to stop executing a method if code in that method tells it to do so.</p>\n\n<p>If that sentence was confusing, here's what I want to do in my code:</p>\n\n<pre><code>public void onClick(){\n\n    if(condition == true){\n        stopMethod(); //madeup code\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n\n<p>So if the boolean <code>condition</code> is true, the method <code>onClick</code> has to stop executing further code.</p>\n\n<p>This is just an example. There are other ways for me to do what I am trying to accomplish in my application, but if this is possible, it would definitely help.</p>\n"},{"tags":["java","mocking","java-21"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":7,"creation_date":1701658932,"post_id":77597005,"comment_id":136799269,"body_markdown":"If you can, redesign your code/tests so that you don&#39;t have to mock a private method. Private methods are part of the implementation of public methods. By testing the public API, you are implicitly testing the private method(s).","body":"If you can, redesign your code/tests so that you don&#39;t have to mock a private method. Private methods are part of the implementation of public methods. By testing the public API, you are implicitly testing the private method(s)."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701722399,"post_id":77597005,"comment_id":136808835,"body_markdown":"Does this answer your question? [How do I test a class that has private methods, fields or inner classes?](https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes\">How do I test a class that has private methods, fields or inner classes?</a>"}],"owner":{"account_id":30058801,"reputation":1,"user_id":23035414,"display_name":"qia nxiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701658728,"creation_date":1701658728,"question_id":77597005,"body_markdown":"I am trying to migrate my application from Java 8 to Java 21. I am facing significant obstacles in the UT part. I was using JMockit as my mock framework and was planning to upgrade to Mockito. However, Mockito does not support mocking private methods, which is making my UT upgrade very painful. \r\n\r\nIs there any way to mock private methods?","title":"How can I mock a private method in Java 21","body":"<p>I am trying to migrate my application from Java 8 to Java 21. I am facing significant obstacles in the UT part. I was using JMockit as my mock framework and was planning to upgrade to Mockito. However, Mockito does not support mocking private methods, which is making my UT upgrade very painful.</p>\n<p>Is there any way to mock private methods?</p>\n"},{"tags":["java","machine-learning","tic-tac-toe","minmax"],"comments":[{"owner":{"account_id":28465414,"reputation":9,"user_id":21781559,"display_name":"PyCoderyout"},"score":0,"creation_date":1701657898,"post_id":77596870,"comment_id":136799201,"body_markdown":"@OldDogProgrammer Thanks for the help I added the code","body":"@OldDogProgrammer Thanks for the help I added the code"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1701680554,"post_id":77596870,"comment_id":136801239,"body_markdown":"Sorry, but this code makes little sense. It doesn&#39;t implement minmax, but makes consecutive moves (X, O, X, O, X, O, X) in the first free cells (so A1, A2, A3, B1, ...), until there is a win (A3-B2-C1)., and then it considers the last move in the sequence the &quot;best&quot; move, in the sense that it should be played now (so without that sequence). Please read about the minimax algorithm. It is not this. And this really has nothing to do with `machine-learning`.","body":"Sorry, but this code makes little sense. It doesn&#39;t implement minmax, but makes consecutive moves (X, O, X, O, X, O, X) in the first free cells (so A1, A2, A3, B1, ...), until there is a win (A3-B2-C1)., and then it considers the last move in the sequence the &quot;best&quot; move, in the sense that it should be played now (so without that sequence). Please read about the minimax algorithm. It is not this. And this really has nothing to do with <code>machine-learning</code>."}],"owner":{"account_id":28465414,"reputation":9,"user_id":21781559,"display_name":"PyCoderyout"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701657877,"creation_date":1701655633,"question_id":77596870,"body_markdown":"Function &quot;test(char[][] theBoard,char personWhoseTurnItIs)&quot; is where the issue lies\r\n\r\nIn the output it says CPU won ignore that as the user actually won, don&#39;t even bother trying to fix that as once the test() minMax issue is fixed the CPU won will only get printed when the CPU wins as the user would never end up winning (tic-tac-toe is a solved game where its impossible for a player to win against a perfect player either the perfect player wins or its a tie)\r\n\r\nTried adding some print statements to see if there some issues with the variables reassigning the bestMove variable to the wrong move, but turned out the bestMove only gets assigned once in the code and because of that I have absolutely no idea on what the issue could be.\r\n\r\nFunction:\r\n```\r\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\r\n        for (int row=0;row&lt;boardSize;row++){\r\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\r\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\r\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\r\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\r\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\r\n                    }\r\n                }\r\n                \r\n                String spot = row+&quot; &quot;+secondRow;\r\n                \r\n                switch (spot) {\r\n                    case &quot;1 1&quot;:continue;\r\n                    case &quot;1 3&quot;:continue;\r\n                    case &quot;3 1&quot;:continue;\r\n                    case &quot;3 3&quot;:continue;\r\n                }\r\n                \r\n                if (   !   (copyTicTacToeBoard[row][secondRow] == &#39; &#39;)){\r\n                    continue;\r\n                }\r\n\r\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\r\n\r\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \r\n\r\n                if (bestMoveFlag == true){\r\n                    return;\r\n                }            \r\n                switch(gameResult){\r\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\r\n                    case &quot;Y&quot;:\r\n\r\n                    case &quot;noWin&quot;:\r\n                    case &quot;TIE&quot;:\r\n                }\r\n                \r\n                test(copyTicTacToeBoard,(personWhoseTurnItIs == &#39;X&#39; ? &#39;O&#39; :&#39;X&#39;));\r\n            }\r\n        }   \r\n```\r\nFull Code: \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class minMaxTicTacToe {\r\n    public static Scanner input = new Scanner(System.in);\r\n    public static final int boardSize = 5;\r\n    public static final int winningCondition = 3;\r\n    public static int userNum = 0;\r\n    public static char[][] ticTacToeBoard = {\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n        {&#39;-&#39;, &#39; &#39;, &#39;-&#39;, &#39; &#39;, &#39;-&#39;},\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n        {&#39;-&#39;, &#39; &#39;, &#39;-&#39;, &#39; &#39;, &#39;-&#39;},\r\n\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}\r\n    };\r\n    public static String bestMove= &quot;S&quot;;\r\n    public static boolean bestMoveFlag = false;\r\n    public static String winSymbol=&quot;S&quot;;\r\n\r\n    public static boolean checkIfWinByLeftToRightDiagniol(char[][]boardToUse){\r\n        ArrayList&lt;String&gt; checkList6List = new ArrayList&lt;&gt;();\r\n        \r\n        int firstRow = 5;\r\n        for (int counter = -1;counter&lt;4;counter++){\r\n            firstRow-=1;\r\n            if (Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;X&quot;) || Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;O&quot;)){\r\n                checkList6List.add(Character.toString(boardToUse[firstRow][counter+1]));\r\n            } \r\n        }\r\n\r\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;X&quot;;\r\n            return true;\r\n        }\r\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;O&quot;;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public static boolean checkIfWinByRightToLeftDiaginol(char[][]boardToUse){\r\n        ArrayList&lt;String&gt; checkList5List = new ArrayList&lt;&gt;();\r\n\r\n        for (int counter = 0;counter&lt;boardSize;counter++){\r\n            if (Character.toString(boardToUse[counter][counter]).equals(&quot;X&quot;) || Character.toString(boardToUse[counter][counter]).equals(&quot;O&quot;)){\r\n                checkList5List.add(Character.toString(boardToUse[counter][counter]));\r\n            } \r\n        }\r\n        \r\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;X&quot;;\r\n            return true;\r\n        }\r\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;O&quot;;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\r\n        for (int row=0;row&lt;boardSize;row++){\r\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\r\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\r\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\r\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\r\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\r\n                    }\r\n                }\r\n                \r\n                String spot = row+&quot; &quot;+secondRow;\r\n                \r\n                switch (spot) {\r\n                    case &quot;1 1&quot;:continue;\r\n                    case &quot;1 3&quot;:continue;\r\n                    case &quot;3 1&quot;:continue;\r\n                    case &quot;3 3&quot;:continue;\r\n                }\r\n                \r\n                if (   !   (copyTicTacToeBoard[row][secondRow] == &#39; &#39;)){\r\n                    continue;\r\n                }\r\n\r\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\r\n\r\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \r\n\r\n                if (bestMoveFlag == true){\r\n                    return;\r\n                }            \r\n                switch(gameResult){\r\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\r\n                    case &quot;Y&quot;:\r\n\r\n                    case &quot;noWin&quot;:\r\n                    case &quot;TIE&quot;:\r\n                }\r\n                \r\n                test(copyTicTacToeBoard,(personWhoseTurnItIs == &#39;X&#39; ? &#39;O&#39; :&#39;X&#39;));\r\n            }\r\n        }     \r\n    }\r\n\r\n    public static boolean checkIfWinByStraightDown(char[][]boardToUse){\r\n        for (int firstRow = 0;firstRow&lt;boardSize;firstRow++){\r\n            ArrayList&lt;String&gt; checkingList3Diaginol  = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; checkingList4Diaginol = new ArrayList&lt;&gt;();\r\n            for (int secondRow = 0;secondRow&lt;boardSize;secondRow++){\r\n                    String character = Character.toString(boardToUse[firstRow][secondRow]);\r\n                    if (character.equals(&quot;X&quot;)){\r\n                        checkingList3Diaginol.add(character);\r\n                    } \r\n                    if (character.equals(&quot;O&quot;)){\r\n                        checkingList4Diaginol.add(character);\r\n                    }          \r\n                    if (checkingList3Diaginol.size() == winningCondition){\r\n                        winSymbol = &quot;X&quot;;\r\n                        return true;\r\n                    }\r\n                    if (checkingList4Diaginol.size() == winningCondition){\r\n                        winSymbol = &quot;O&quot;;\r\n                        return true;\r\n                    }       \r\n\r\n                }\r\n            }\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n    public static boolean checkIfWinByStraightAcross(char[][]boardToUse){\r\n        for (int counter = 0;counter&lt;5;counter++){\r\n            ArrayList&lt;String&gt; checkingList1Straight = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; checkingList2Straight = new ArrayList&lt;&gt;();\r\n\r\n            for (char c:boardToUse[counter]){\r\n                if (Character.toString(c).equals(&quot;X&quot;)){\r\n                    checkingList1Straight.add(Character.toString(c));\r\n                } \r\n                if (Character.toString(c).equals(&quot;O&quot;)){\r\n                    checkingList2Straight.add(Character.toString(c));\r\n                } \r\n                if (checkingList1Straight.size() == winningCondition){\r\n                    winSymbol = &quot;X&quot;;\r\n                    return true;\r\n                }\r\n                if (checkingList2Straight.size() == winningCondition){\r\n                    winSymbol = &quot;O&quot;;\r\n                    return true;\r\n                }            \r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static void displayBoard(char[][]boardToUse){\r\n        for (char[] row : boardToUse){\r\n            System.out.println(row);     \r\n        }       \r\n        System.out.println(&quot;&quot;);\r\n        \r\n          \r\n        System.out.println(&quot;------------------&quot;);\r\n    }\r\n\r\n    public static void changeBoard(char X_O){\r\n        while (true){\r\n            String move = input.nextLine().toLowerCase();\r\n   \r\n            char firstLetter = (move.length() &gt;= 1 ? move.charAt(0) : 69);\r\n\r\n            int secondLetter = (move.length() &gt;= 2 ? Character.getNumericValue(move.charAt(1)) : 69);\r\n            System.out.println(firstLetter);\r\n            int firstRow = (firstLetter == &#39;a&#39; ? 0 : firstLetter == &#39;b&#39; ? 2 : firstLetter == &#39;c&#39; ? 4 : 69);\r\n            \r\n            int secondRow = (secondLetter == 1 ? 0 : secondLetter == 2 ? 2 : secondLetter == 3 ? 4 : 69);\r\n            System.out.println(secondRow);\r\n\r\n  \r\n            if (firstRow == 69 || secondRow == 69){\r\n                System.out.println(&quot;The value must look like: |Letter A-C Representing What Horizontial Row||1-3 Representing What Verticial Row|(A1)&quot;);\r\n                continue;\r\n            }\r\n        \r\n            if  (   !   (ticTacToeBoard[firstRow][secondRow]==&#39; &#39;)){\r\n                System.out.println(&quot;The value can not interfere with an in use spot&quot;);\r\n                continue;\r\n            }\r\n            ticTacToeBoard[firstRow][secondRow] = X_O;\r\n            break;\r\n        }\r\n    }\r\n    \r\n\r\n    public static boolean tieCheck(char[][]boardToUse){\r\n        int spaceCounter = 0;\r\n        for (int x=0;x&lt;boardSize;x++){\r\n            for (int i=0;i&lt;boardSize;i++){\r\n                if (boardToUse[x][i]==&#39; &#39;){\r\n                    spaceCounter+=1;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (   !   (spaceCounter==0)){\r\n            return false;\r\n        }\r\n\r\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\r\n            return true;\r\n        } \r\n\r\n        return false;\r\n\r\n\r\n    }\r\n    public static String checkForWin(String cpuOrNot,char[][]boardToUse){\r\n        if (tieCheck(boardToUse) == true){\r\n            return &quot;TIE&quot;;\r\n        }\r\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\r\n            return &quot;noWin&quot;;\r\n        }\r\n\r\n        if (cpuOrNot.equals(&quot;playerAgainstCPU&quot;)){\r\n            System.out.println(&quot;You beat the random CPU&quot;);\r\n        }\r\n        if (cpuOrNot.equals(&quot;CPU&quot;)){\r\n            System.out.println(&quot;The CPU won&quot;);\r\n        }\r\n        \r\n        if (cpuOrNot.equals(&quot;notCPU&quot;)){\r\n            System.out.println(&quot;Player &quot;+(userNum)+&quot; won the game&quot;);\r\n        }\r\n\r\n        return winSymbol;\r\n    \r\n\r\n    \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String godCPU = &quot;YES&quot;;\r\n        if (godCPU == &quot;YES&quot;){\r\n            while (true){\r\n                bestMoveFlag = false;\r\n\r\n                test(ticTacToeBoard,&#39;X&#39;);\r\n                System.out.println(bestMove);\r\n\r\n                int firstRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[0].toCharArray()[0]);\r\n                int secondRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[1].toCharArray()[0]);\r\n                ticTacToeBoard[firstRow][secondRow] = &#39;X&#39;;\r\n\r\n                displayBoard(ticTacToeBoard);\r\n                String gameResult = checkForWin(&quot;CPU&quot;, ticTacToeBoard);\r\n                switch(gameResult){\r\n                    case &quot;X&quot;:System.exit(0);\r\n                    case &quot;Y&quot;:System.exit(0);\r\n                }\r\n\r\n                \r\n\r\n                System.out.println(&quot;Make a move player&quot;);\r\n                changeBoard(&#39;O&#39;);\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput: \r\n```\r\nWIN\r\n4 0\r\n | | \r\n- - -\r\n | | \r\n- - -\r\nX| | \r\n\r\n------------------\r\nMake a move player\r\na1\r\na\r\n0\r\nWIN\r\n4 4\r\nO| |\r\n- - -\r\n | |\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nMake a move player\r\na2\r\na\r\n2\r\nWIN\r\n2 2\r\nO|O|\r\n- - -\r\n |X|\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nMake a move player\r\na3\r\na\r\n4\r\n2 2\r\nO|O|O\r\n- - -\r\n |X|\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nThe CPU won\r\nMake a move player\r\n```","title":"minMax TicTacToe code returning the wrong best possible move","body":"<p>Function &quot;test(char[][] theBoard,char personWhoseTurnItIs)&quot; is where the issue lies</p>\n<p>In the output it says CPU won ignore that as the user actually won, don't even bother trying to fix that as once the test() minMax issue is fixed the CPU won will only get printed when the CPU wins as the user would never end up winning (tic-tac-toe is a solved game where its impossible for a player to win against a perfect player either the perfect player wins or its a tie)</p>\n<p>Tried adding some print statements to see if there some issues with the variables reassigning the bestMove variable to the wrong move, but turned out the bestMove only gets assigned once in the code and because of that I have absolutely no idea on what the issue could be.</p>\n<p>Function:</p>\n<pre><code>    public static void test(char[][] theBoard,char personWhoseTurnItIs){\n        for (int row=0;row&lt;boardSize;row++){\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\n                    }\n                }\n                \n                String spot = row+&quot; &quot;+secondRow;\n                \n                switch (spot) {\n                    case &quot;1 1&quot;:continue;\n                    case &quot;1 3&quot;:continue;\n                    case &quot;3 1&quot;:continue;\n                    case &quot;3 3&quot;:continue;\n                }\n                \n                if (   !   (copyTicTacToeBoard[row][secondRow] == ' ')){\n                    continue;\n                }\n\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\n\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \n\n                if (bestMoveFlag == true){\n                    return;\n                }            \n                switch(gameResult){\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\n                    case &quot;Y&quot;:\n\n                    case &quot;noWin&quot;:\n                    case &quot;TIE&quot;:\n                }\n                \n                test(copyTicTacToeBoard,(personWhoseTurnItIs == 'X' ? 'O' :'X'));\n            }\n        }   \n</code></pre>\n<p>Full Code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class minMaxTicTacToe {\n    public static Scanner input = new Scanner(System.in);\n    public static final int boardSize = 5;\n    public static final int winningCondition = 3;\n    public static int userNum = 0;\n    public static char[][] ticTacToeBoard = {\n        {' ', '|', ' ', '|', ' '},\n        {'-', ' ', '-', ' ', '-'},\n        {' ', '|', ' ', '|', ' '},\n        {'-', ' ', '-', ' ', '-'},\n\n        {' ', '|', ' ', '|', ' '}\n    };\n    public static String bestMove= &quot;S&quot;;\n    public static boolean bestMoveFlag = false;\n    public static String winSymbol=&quot;S&quot;;\n\n    public static boolean checkIfWinByLeftToRightDiagniol(char[][]boardToUse){\n        ArrayList&lt;String&gt; checkList6List = new ArrayList&lt;&gt;();\n        \n        int firstRow = 5;\n        for (int counter = -1;counter&lt;4;counter++){\n            firstRow-=1;\n            if (Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;X&quot;) || Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;O&quot;)){\n                checkList6List.add(Character.toString(boardToUse[firstRow][counter+1]));\n            } \n        }\n\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\n            winSymbol = &quot;X&quot;;\n            return true;\n        }\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\n            winSymbol = &quot;O&quot;;\n            return true;\n        }\n\n        return false;\n    }\n\n    public static boolean checkIfWinByRightToLeftDiaginol(char[][]boardToUse){\n        ArrayList&lt;String&gt; checkList5List = new ArrayList&lt;&gt;();\n\n        for (int counter = 0;counter&lt;boardSize;counter++){\n            if (Character.toString(boardToUse[counter][counter]).equals(&quot;X&quot;) || Character.toString(boardToUse[counter][counter]).equals(&quot;O&quot;)){\n                checkList5List.add(Character.toString(boardToUse[counter][counter]));\n            } \n        }\n        \n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\n            winSymbol = &quot;X&quot;;\n            return true;\n        }\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\n            winSymbol = &quot;O&quot;;\n            return true;\n        }\n\n        return false;\n\n    }\n\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\n        for (int row=0;row&lt;boardSize;row++){\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\n                    }\n                }\n                \n                String spot = row+&quot; &quot;+secondRow;\n                \n                switch (spot) {\n                    case &quot;1 1&quot;:continue;\n                    case &quot;1 3&quot;:continue;\n                    case &quot;3 1&quot;:continue;\n                    case &quot;3 3&quot;:continue;\n                }\n                \n                if (   !   (copyTicTacToeBoard[row][secondRow] == ' ')){\n                    continue;\n                }\n\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\n\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \n\n                if (bestMoveFlag == true){\n                    return;\n                }            \n                switch(gameResult){\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\n                    case &quot;Y&quot;:\n\n                    case &quot;noWin&quot;:\n                    case &quot;TIE&quot;:\n                }\n                \n                test(copyTicTacToeBoard,(personWhoseTurnItIs == 'X' ? 'O' :'X'));\n            }\n        }     \n    }\n\n    public static boolean checkIfWinByStraightDown(char[][]boardToUse){\n        for (int firstRow = 0;firstRow&lt;boardSize;firstRow++){\n            ArrayList&lt;String&gt; checkingList3Diaginol  = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; checkingList4Diaginol = new ArrayList&lt;&gt;();\n            for (int secondRow = 0;secondRow&lt;boardSize;secondRow++){\n                    String character = Character.toString(boardToUse[firstRow][secondRow]);\n                    if (character.equals(&quot;X&quot;)){\n                        checkingList3Diaginol.add(character);\n                    } \n                    if (character.equals(&quot;O&quot;)){\n                        checkingList4Diaginol.add(character);\n                    }          \n                    if (checkingList3Diaginol.size() == winningCondition){\n                        winSymbol = &quot;X&quot;;\n                        return true;\n                    }\n                    if (checkingList4Diaginol.size() == winningCondition){\n                        winSymbol = &quot;O&quot;;\n                        return true;\n                    }       \n\n                }\n            }\n\n        return false;\n\n        }\n\n    public static boolean checkIfWinByStraightAcross(char[][]boardToUse){\n        for (int counter = 0;counter&lt;5;counter++){\n            ArrayList&lt;String&gt; checkingList1Straight = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; checkingList2Straight = new ArrayList&lt;&gt;();\n\n            for (char c:boardToUse[counter]){\n                if (Character.toString(c).equals(&quot;X&quot;)){\n                    checkingList1Straight.add(Character.toString(c));\n                } \n                if (Character.toString(c).equals(&quot;O&quot;)){\n                    checkingList2Straight.add(Character.toString(c));\n                } \n                if (checkingList1Straight.size() == winningCondition){\n                    winSymbol = &quot;X&quot;;\n                    return true;\n                }\n                if (checkingList2Straight.size() == winningCondition){\n                    winSymbol = &quot;O&quot;;\n                    return true;\n                }            \n            }\n        }\n        return false;\n    }\n\n    public static void displayBoard(char[][]boardToUse){\n        for (char[] row : boardToUse){\n            System.out.println(row);     \n        }       \n        System.out.println(&quot;&quot;);\n        \n          \n        System.out.println(&quot;------------------&quot;);\n    }\n\n    public static void changeBoard(char X_O){\n        while (true){\n            String move = input.nextLine().toLowerCase();\n   \n            char firstLetter = (move.length() &gt;= 1 ? move.charAt(0) : 69);\n\n            int secondLetter = (move.length() &gt;= 2 ? Character.getNumericValue(move.charAt(1)) : 69);\n            System.out.println(firstLetter);\n            int firstRow = (firstLetter == 'a' ? 0 : firstLetter == 'b' ? 2 : firstLetter == 'c' ? 4 : 69);\n            \n            int secondRow = (secondLetter == 1 ? 0 : secondLetter == 2 ? 2 : secondLetter == 3 ? 4 : 69);\n            System.out.println(secondRow);\n\n  \n            if (firstRow == 69 || secondRow == 69){\n                System.out.println(&quot;The value must look like: |Letter A-C Representing What Horizontial Row||1-3 Representing What Verticial Row|(A1)&quot;);\n                continue;\n            }\n        \n            if  (   !   (ticTacToeBoard[firstRow][secondRow]==' ')){\n                System.out.println(&quot;The value can not interfere with an in use spot&quot;);\n                continue;\n            }\n            ticTacToeBoard[firstRow][secondRow] = X_O;\n            break;\n        }\n    }\n    \n\n    public static boolean tieCheck(char[][]boardToUse){\n        int spaceCounter = 0;\n        for (int x=0;x&lt;boardSize;x++){\n            for (int i=0;i&lt;boardSize;i++){\n                if (boardToUse[x][i]==' '){\n                    spaceCounter+=1;\n                }\n            }\n        }\n\n        if (   !   (spaceCounter==0)){\n            return false;\n        }\n\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\n            return true;\n        } \n\n        return false;\n\n\n    }\n    public static String checkForWin(String cpuOrNot,char[][]boardToUse){\n        if (tieCheck(boardToUse) == true){\n            return &quot;TIE&quot;;\n        }\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\n            return &quot;noWin&quot;;\n        }\n\n        if (cpuOrNot.equals(&quot;playerAgainstCPU&quot;)){\n            System.out.println(&quot;You beat the random CPU&quot;);\n        }\n        if (cpuOrNot.equals(&quot;CPU&quot;)){\n            System.out.println(&quot;The CPU won&quot;);\n        }\n        \n        if (cpuOrNot.equals(&quot;notCPU&quot;)){\n            System.out.println(&quot;Player &quot;+(userNum)+&quot; won the game&quot;);\n        }\n\n        return winSymbol;\n    \n\n    \n    }\n\n    public static void main(String[] args) {\n\n        String godCPU = &quot;YES&quot;;\n        if (godCPU == &quot;YES&quot;){\n            while (true){\n                bestMoveFlag = false;\n\n                test(ticTacToeBoard,'X');\n                System.out.println(bestMove);\n\n                int firstRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[0].toCharArray()[0]);\n                int secondRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[1].toCharArray()[0]);\n                ticTacToeBoard[firstRow][secondRow] = 'X';\n\n                displayBoard(ticTacToeBoard);\n                String gameResult = checkForWin(&quot;CPU&quot;, ticTacToeBoard);\n                switch(gameResult){\n                    case &quot;X&quot;:System.exit(0);\n                    case &quot;Y&quot;:System.exit(0);\n                }\n\n                \n\n                System.out.println(&quot;Make a move player&quot;);\n                changeBoard('O');\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>WIN\n4 0\n | | \n- - -\n | | \n- - -\nX| | \n\n------------------\nMake a move player\na1\na\n0\nWIN\n4 4\nO| |\n- - -\n | |\n- - -\nX| |X\n\n------------------\nMake a move player\na2\na\n2\nWIN\n2 2\nO|O|\n- - -\n |X|\n- - -\nX| |X\n\n------------------\nMake a move player\na3\na\n4\n2 2\nO|O|O\n- - -\n |X|\n- - -\nX| |X\n\n------------------\nThe CPU won\nMake a move player\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-oidc"],"answers":[{"tags":[],"owner":{"account_id":11318744,"reputation":198,"user_id":8299670,"display_name":"Daichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701656859,"creation_date":1701656859,"answer_id":77596929,"question_id":77596812,"body_markdown":"As simple solution, can set sameSite after manually logout like below:\r\n```kotlin\r\n    @GET\r\n    @Path(&quot;/logout&quot;)\r\n    fun logout(): Response {\r\n        oidcSession?.logout()?.await()?.indefinitely()\r\n\r\n        val cookie = routingContext?.cookieMap()?.get(&quot;q_session&quot;) as? ServerCookie\r\n        if (cookie != null) {\r\n            cookie.sameSite = CookieSameSite.NONE\r\n            cookie.isSecure = true\r\n        }\r\n\r\n        return Response\r\n            .status(Response.Status.FOUND)\r\n            .location(URI(&quot;server-url/logout.html&quot;))\r\n            .build()\r\n    }\r\n```","title":"Is any way to set SameSiteCookie=None when remove q_session cookie on Quarkus?","body":"<p>As simple solution, can set sameSite after manually logout like below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @GET\n    @Path(&quot;/logout&quot;)\n    fun logout(): Response {\n        oidcSession?.logout()?.await()?.indefinitely()\n\n        val cookie = routingContext?.cookieMap()?.get(&quot;q_session&quot;) as? ServerCookie\n        if (cookie != null) {\n            cookie.sameSite = CookieSameSite.NONE\n            cookie.isSecure = true\n        }\n\n        return Response\n            .status(Response.Status.FOUND)\n            .location(URI(&quot;server-url/logout.html&quot;))\n            .build()\n    }\n</code></pre>\n"}],"owner":{"account_id":11318744,"reputation":198,"user_id":8299670,"display_name":"Daichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701656859,"creation_date":1701654077,"question_id":77596812,"body_markdown":"In Quarkus OIDC, seems `q_session` can set `SameSite=None` for authentication but seems it does not effect to remove cookie.\r\n\r\nQuarkus code:\r\nhttps://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29\r\n```java\r\nstatic void removeCookie(RoutingContext context, ServerCookie cookie, OidcTenantConfig oidcConfig) {\r\n        if (cookie != null) {\r\n            cookie.setValue(&quot;&quot;);\r\n            cookie.setMaxAge(0);\r\n            Authentication auth = oidcConfig.getAuthentication();\r\n            setCookiePath(context, auth, cookie);\r\n            if (auth.cookieDomain.isPresent()) {\r\n                cookie.setDomain(auth.cookieDomain.get());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nMy OIDC IDP supports SLO using iframe, but iframe does not set cookie if set cookie with other than `SameSite=None`, then session cookie will remain.\r\nIs any way to set `SameSite=None` when remove cookie in Quarkus OIDC?\r\n\r\nQuarkus version: 3.2.0.Final","title":"Is any way to set SameSiteCookie=None when remove q_session cookie on Quarkus?","body":"<p>In Quarkus OIDC, seems <code>q_session</code> can set <code>SameSite=None</code> for authentication but seems it does not effect to remove cookie.</p>\n<p>Quarkus code:\n<a href=\"https://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static void removeCookie(RoutingContext context, ServerCookie cookie, OidcTenantConfig oidcConfig) {\n        if (cookie != null) {\n            cookie.setValue(&quot;&quot;);\n            cookie.setMaxAge(0);\n            Authentication auth = oidcConfig.getAuthentication();\n            setCookiePath(context, auth, cookie);\n            if (auth.cookieDomain.isPresent()) {\n                cookie.setDomain(auth.cookieDomain.get());\n            }\n        }\n    }\n</code></pre>\n<p>My OIDC IDP supports SLO using iframe, but iframe does not set cookie if set cookie with other than <code>SameSite=None</code>, then session cookie will remain.\nIs any way to set <code>SameSite=None</code> when remove cookie in Quarkus OIDC?</p>\n<p>Quarkus version: 3.2.0.Final</p>\n"},{"tags":["java","generics","annotations"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701656587,"creation_date":1701656587,"answer_id":77596914,"question_id":77596452,"body_markdown":"None of what you want can be done without &#39;hackery&#39; (to be a bit more accurate: Without casts that produce warnings about unsafe casting which you can then suppress).\r\n\r\nIt&#39;s not your fault, and not even the fault of generics. It&#39;s the fault of the shoddy design of the `java.lang.Class` API, and partly the blame falls on the choice of having Class take generics in the first place.\r\n\r\n## Generics? Wrong!\r\n\r\n`Class` should not have them.\r\n\r\nClass can represent things generics cannot: `int.class` is representing, specifically, the `int` primitive type (it&#39;s _not_ the same as `Integer.class`!) - yet, `Class&lt;int&gt;` is invalid, so, it doesn&#39;t really make sense here.\r\n\r\nGenerics can represent a great many things that class objects cannot. For example, `List.class` returns `Class&lt;List&gt;` which is extremely annoying (having a raw type _inside_ generics is all sorts of bizarre and condemns you to those warnings, pretty much); however, it is not possible to get a `Class&lt;List&lt;String&gt;&gt;` without warning-casts, because that conceptually _does not exist_ - a `j.l.Class` instance is not capable of representing generics at all.\r\n\r\nHence, the overlap of &#39;what can class instances represent&#39; and &#39;what can generics represent&#39; is your standard venn diagram with all 4 sections:\r\n\r\n* Things neither can represent (I dunno; favourite music composer?)\r\n* Things only `Class` can represent (primitive types)\r\n* Things only generics can (types with generics)\r\n* Things both can (non-type-parameterized non-primitive types, such as String).\r\n\r\nHence, _as a general rule of thumb_, when you work with `Class`, you&#39;ll run into this, and because the generics are silly to have in the first place, just.. do what you always do when you meet shoddy API: Work around it by turning things into proper types ASAP and SuppressWarnings away the workarounds you have to do to get there.\r\n\r\n## Class? APIs broken due to array/generics incompatibility\r\n\r\nThe API of class is just broken. For example, `getInterfaces()` has the wrong return type; it is written as returning `Class&lt;?&gt;[]` which is just wrong; it should be defined as returning `Class&lt;? super T&gt;[]`. Having generics and arrays is its own problem, but something Class couldn&#39;t have helped - `getInterfaces()` predates generics and couldn&#39;t be updated in that fashion.\r\n\r\nSame applies to `getDeclaredConstructors`, which returns `Constructor&lt;?&gt;[]` instead of `Constructor&lt;T&gt;` - the reason is presumably to do with how generics and arrays don&#39;t mix all that well - highlighted particularly well by the fact that `.getSuperclass()` __does__ return `Class&lt;? super T&gt;`.\r\n\r\nNevertheless, in your game where the mission is to try to write this without `@SuppressWarnings`: __you just lost that game__ - generics are __entirely__ a figment of the compiler&#39;s imagination, and the API of `j.l.Class` fails to inform the compiler that it returns an array of classes that are guaranteed to be C or a supertype of C, therefore, what you want is now no longer possible.\r\n\r\nWe could have perhaps snatched victory from the jaws of defeat by using a method like `cast` which checks if some type X is a supertype of type Y, if we provide Y as a `Class&lt;C&gt;` we can then have that method return `Class&lt;? super C&gt;` if it is, and an exception if it isn&#39;t - but no such method exists. We can write it ourselves, but you&#39;ll find that method cannot be written without warnings / `@SuppressWarnings`.\r\n\r\n## Okay, Warnings it is\r\n\r\n```\r\nreturn (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\r\n```\r\n\r\nThis is as elegant as it gets. You had a `Map&lt;Class&lt;?&gt;, A&gt;`, you impose on it an unchecked assertion that all those classes in that map are in fact supertypes of C, and you document that this doesn&#39;t need to be checked because the code as written guarantees it. It&#39;s always nicer to rely on compiler guaranteed instead, but as explained above, that is simply not possible. You can try to shift things around to avoid that intermediate cast, but that&#39;s actually making things worse: This way, you isolate the one and only unchecked assertion you must inject into your code into a single, isolatable (as in, you can shove it in a private method and `@SuppressWarnings` only that), easily documentable one-liner helper method.\r\n\r\n## Is `Class` really broken?\r\n\r\nWell, the choice of the wonky array-returning methods is suspect, and it might have been better to add superfluous alternative methods that return a `List&lt;Class&lt;? super C&gt;&gt;` instead. However, it&#39;s a matter of tradeoffs. Whilst the API in general is a sordid, leaky mess as is, one advantage is that things like `someClass.getConstructor().newInstance()` are helpful in that they at least return the actual type if compiler-known, instead of `Object`.\r\n\r\n## Factories!\r\n\r\nNote that Class is rarely what you want. `Class` is a core library class you can&#39;t change, so, the menu of options it gives is [A] fixed and uneditable, and [B] has shoddy API. For this reason, it tends to be the better option to work with factories instead. Factories are just a &#39;meta&#39; class whose instance represents what `static` would otherwise represent - things you can do with that type that don&#39;t need an instance of it.\r\n\r\nA very obvious thing one wants to do, is invoke constructors (which are effectively static methods - they do not require a receiver just like static methods don&#39;t need one), but you can generalize that to everything class related: Any other method that feels like it should be static, as well as properties of the class itself, these can all be shoved into a separate implementation that implements an `XFactory` interface. And, crucially, that type hierarchy __can__ have sane generics on it.\r\n\r\nYou did not explain why you need this stuff, but disregard the clich&#233;s about how java overuses factories. Those are coming from people that do not understand the value of &#39;static&#39; but in type hierarchies: Note that just about every wannabe java killer language has them baked straight in (both scala and kotlin have them as core lang features, for example).","title":"gathering annotated classes returning generic super type of given class","body":"<p>None of what you want can be done without 'hackery' (to be a bit more accurate: Without casts that produce warnings about unsafe casting which you can then suppress).</p>\n<p>It's not your fault, and not even the fault of generics. It's the fault of the shoddy design of the <code>java.lang.Class</code> API, and partly the blame falls on the choice of having Class take generics in the first place.</p>\n<h2>Generics? Wrong!</h2>\n<p><code>Class</code> should not have them.</p>\n<p>Class can represent things generics cannot: <code>int.class</code> is representing, specifically, the <code>int</code> primitive type (it's <em>not</em> the same as <code>Integer.class</code>!) - yet, <code>Class&lt;int&gt;</code> is invalid, so, it doesn't really make sense here.</p>\n<p>Generics can represent a great many things that class objects cannot. For example, <code>List.class</code> returns <code>Class&lt;List&gt;</code> which is extremely annoying (having a raw type <em>inside</em> generics is all sorts of bizarre and condemns you to those warnings, pretty much); however, it is not possible to get a <code>Class&lt;List&lt;String&gt;&gt;</code> without warning-casts, because that conceptually <em>does not exist</em> - a <code>j.l.Class</code> instance is not capable of representing generics at all.</p>\n<p>Hence, the overlap of 'what can class instances represent' and 'what can generics represent' is your standard venn diagram with all 4 sections:</p>\n<ul>\n<li>Things neither can represent (I dunno; favourite music composer?)</li>\n<li>Things only <code>Class</code> can represent (primitive types)</li>\n<li>Things only generics can (types with generics)</li>\n<li>Things both can (non-type-parameterized non-primitive types, such as String).</li>\n</ul>\n<p>Hence, <em>as a general rule of thumb</em>, when you work with <code>Class</code>, you'll run into this, and because the generics are silly to have in the first place, just.. do what you always do when you meet shoddy API: Work around it by turning things into proper types ASAP and SuppressWarnings away the workarounds you have to do to get there.</p>\n<h2>Class? APIs broken due to array/generics incompatibility</h2>\n<p>The API of class is just broken. For example, <code>getInterfaces()</code> has the wrong return type; it is written as returning <code>Class&lt;?&gt;[]</code> which is just wrong; it should be defined as returning <code>Class&lt;? super T&gt;[]</code>. Having generics and arrays is its own problem, but something Class couldn't have helped - <code>getInterfaces()</code> predates generics and couldn't be updated in that fashion.</p>\n<p>Same applies to <code>getDeclaredConstructors</code>, which returns <code>Constructor&lt;?&gt;[]</code> instead of <code>Constructor&lt;T&gt;</code> - the reason is presumably to do with how generics and arrays don't mix all that well - highlighted particularly well by the fact that <code>.getSuperclass()</code> <strong>does</strong> return <code>Class&lt;? super T&gt;</code>.</p>\n<p>Nevertheless, in your game where the mission is to try to write this without <code>@SuppressWarnings</code>: <strong>you just lost that game</strong> - generics are <strong>entirely</strong> a figment of the compiler's imagination, and the API of <code>j.l.Class</code> fails to inform the compiler that it returns an array of classes that are guaranteed to be C or a supertype of C, therefore, what you want is now no longer possible.</p>\n<p>We could have perhaps snatched victory from the jaws of defeat by using a method like <code>cast</code> which checks if some type X is a supertype of type Y, if we provide Y as a <code>Class&lt;C&gt;</code> we can then have that method return <code>Class&lt;? super C&gt;</code> if it is, and an exception if it isn't - but no such method exists. We can write it ourselves, but you'll find that method cannot be written without warnings / <code>@SuppressWarnings</code>.</p>\n<h2>Okay, Warnings it is</h2>\n<pre><code>return (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\n</code></pre>\n<p>This is as elegant as it gets. You had a <code>Map&lt;Class&lt;?&gt;, A&gt;</code>, you impose on it an unchecked assertion that all those classes in that map are in fact supertypes of C, and you document that this doesn't need to be checked because the code as written guarantees it. It's always nicer to rely on compiler guaranteed instead, but as explained above, that is simply not possible. You can try to shift things around to avoid that intermediate cast, but that's actually making things worse: This way, you isolate the one and only unchecked assertion you must inject into your code into a single, isolatable (as in, you can shove it in a private method and <code>@SuppressWarnings</code> only that), easily documentable one-liner helper method.</p>\n<h2>Is <code>Class</code> really broken?</h2>\n<p>Well, the choice of the wonky array-returning methods is suspect, and it might have been better to add superfluous alternative methods that return a <code>List&lt;Class&lt;? super C&gt;&gt;</code> instead. However, it's a matter of tradeoffs. Whilst the API in general is a sordid, leaky mess as is, one advantage is that things like <code>someClass.getConstructor().newInstance()</code> are helpful in that they at least return the actual type if compiler-known, instead of <code>Object</code>.</p>\n<h2>Factories!</h2>\n<p>Note that Class is rarely what you want. <code>Class</code> is a core library class you can't change, so, the menu of options it gives is [A] fixed and uneditable, and [B] has shoddy API. For this reason, it tends to be the better option to work with factories instead. Factories are just a 'meta' class whose instance represents what <code>static</code> would otherwise represent - things you can do with that type that don't need an instance of it.</p>\n<p>A very obvious thing one wants to do, is invoke constructors (which are effectively static methods - they do not require a receiver just like static methods don't need one), but you can generalize that to everything class related: Any other method that feels like it should be static, as well as properties of the class itself, these can all be shoved into a separate implementation that implements an <code>XFactory</code> interface. And, crucially, that type hierarchy <strong>can</strong> have sane generics on it.</p>\n<p>You did not explain why you need this stuff, but disregard the clichés about how java overuses factories. Those are coming from people that do not understand the value of 'static' but in type hierarchies: Note that just about every wannabe java killer language has them baked straight in (both scala and kotlin have them as core lang features, for example).</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701656587,"creation_date":1701643668,"question_id":77596452,"body_markdown":"In Java 17 I have a method that collects all classes above some class in the inheritance/interface hierarchy that are annotated with a certain interface. For example if `MyClass` implements `Foo`, then if `MyClass` and/or `Foo` and/or `MyParentClass` (the parent of `MyClass`) are annotated with `@MyAnnotation`, all these classes will be returned in a map, the values of which are the instance of `MyAnnotation`:\r\n\r\n```java\r\nprivate static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass,\r\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses) {\r\n  if(!encounteredClasses.contains(requireNonNull(clazz))) {\r\n    encounteredClasses.add(clazz);\r\n    A classAnnotation = clazz.getAnnotation(annotationClass);\r\n    if(classAnnotation != null) {\r\n      annotationsByClass.put(clazz, classAnnotation);\r\n    }\r\n    for(Class&lt;?&gt; classInterface : clazz.getInterfaces()) {\r\n      getAnnotationsByClassAnnotatedWith(classInterface, annotationClass, annotationsByClass, encounteredClasses);\r\n    }\r\n    final Class&lt;?&gt; superClass = clazz.getSuperclass();\r\n    if(superClass != null) {\r\n      getAnnotationsByClassAnnotatedWith(superClass, annotationClass, annotationsByClass, encounteredClasses);\r\n    }\r\n  }\r\n  return annotationsByClass;\r\n}\r\n```\r\n\r\nThen I have a convenience &quot;driver&quot; method that kicks things off:\r\n\r\n```java\r\npublic static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass) {\r\n  return getAnnotationsByClassAnnotatedWith(clazz, annotationClass, new HashMap&lt;&gt;(), new HashSet&lt;&gt;());\r\n}\r\n```\r\n\r\nLogically the annotated classes must be either `MyClass`, an ancestor of `MyClass`, an interface `MyClass` implements, an interface of some ancestor of `MyClass`, or the ancestor of an interface of `MyClass` or one of its ancestors. (Whew!) In short, if I am not mistaken, this means that `MyClass` must be assignable to every returned class; that is, every returned class is a &quot;super&quot; of `MyClass` in generic terms.\r\n\r\nSo I want to improve the signature to use this:\r\n\r\n```java\r\nprivate static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass)\r\n```\r\n\r\n**What can I do to these methods to allow the convenience version to return `Map&lt;Class&lt;? super C&gt;, A&gt;`?**\r\n\r\nLet&#39;s say I change the signature of the larger method accordingly:\r\n\r\n```java\r\nprivate static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;? super C&gt;, A&gt; annotationsByClass,\r\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses)\r\n```\r\n\r\nI also change:\r\n\r\n```java\r\nfinal Class&lt;? super C&gt; superClass = clazz.getSuperclass();\r\n```\r\n\r\nThe problem now is that my recursive calls won&#39;t work. I didn&#39;t expect the recursive calls after `clazz.getInterfaces()` to work, but at least after the change above I would want the `clazz.getSuperclass()` recursive calls to work. I think I understand why they don&#39;t, but let&#39;s try another approach.\r\n\r\nI could change the accumulator map parameter back to what it was before:\r\n\r\n`Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass`\r\n\r\nBut now I have a problem trying to `return annotationsByClass`.\r\n\r\nYou might say that Java generics aren&#39;t quite that flexible, and that&#39;s probably true.\r\n\r\nBut since I know that all returned classes are of type `Class&lt;? super C&gt;`, how can I work around this? Is there at least a cast I can do that would produce a warning that I could suppress?\r\n\r\nThe only way I&#39;ve found so far is to use `Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass` as the accumulator, cast to `Object`, and then cast to `Map&lt;Class&lt;? super C&gt;, A&gt;`:\r\n\r\n```java\r\nreturn (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\r\n```\r\n\r\nBut I am loathe to include such a &quot;hard&quot; hack. At worse I&#39;d like a warning I can suppress.\r\n\r\nOr am I mistaken that this logic will only return `Class&lt;? super C&gt;` for the given class `Class&lt;C&gt;`?","title":"gathering annotated classes returning generic super type of given class","body":"<p>In Java 17 I have a method that collects all classes above some class in the inheritance/interface hierarchy that are annotated with a certain interface. For example if <code>MyClass</code> implements <code>Foo</code>, then if <code>MyClass</code> and/or <code>Foo</code> and/or <code>MyParentClass</code> (the parent of <code>MyClass</code>) are annotated with <code>@MyAnnotation</code>, all these classes will be returned in a map, the values of which are the instance of <code>MyAnnotation</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass,\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses) {\n  if(!encounteredClasses.contains(requireNonNull(clazz))) {\n    encounteredClasses.add(clazz);\n    A classAnnotation = clazz.getAnnotation(annotationClass);\n    if(classAnnotation != null) {\n      annotationsByClass.put(clazz, classAnnotation);\n    }\n    for(Class&lt;?&gt; classInterface : clazz.getInterfaces()) {\n      getAnnotationsByClassAnnotatedWith(classInterface, annotationClass, annotationsByClass, encounteredClasses);\n    }\n    final Class&lt;?&gt; superClass = clazz.getSuperclass();\n    if(superClass != null) {\n      getAnnotationsByClassAnnotatedWith(superClass, annotationClass, annotationsByClass, encounteredClasses);\n    }\n  }\n  return annotationsByClass;\n}\n</code></pre>\n<p>Then I have a convenience &quot;driver&quot; method that kicks things off:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass) {\n  return getAnnotationsByClassAnnotatedWith(clazz, annotationClass, new HashMap&lt;&gt;(), new HashSet&lt;&gt;());\n}\n</code></pre>\n<p>Logically the annotated classes must be either <code>MyClass</code>, an ancestor of <code>MyClass</code>, an interface <code>MyClass</code> implements, an interface of some ancestor of <code>MyClass</code>, or the ancestor of an interface of <code>MyClass</code> or one of its ancestors. (Whew!) In short, if I am not mistaken, this means that <code>MyClass</code> must be assignable to every returned class; that is, every returned class is a &quot;super&quot; of <code>MyClass</code> in generic terms.</p>\n<p>So I want to improve the signature to use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass)\n</code></pre>\n<p><strong>What can I do to these methods to allow the convenience version to return <code>Map&lt;Class&lt;? super C&gt;, A&gt;</code>?</strong></p>\n<p>Let's say I change the signature of the larger method accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;? super C&gt;, A&gt; annotationsByClass,\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses)\n</code></pre>\n<p>I also change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Class&lt;? super C&gt; superClass = clazz.getSuperclass();\n</code></pre>\n<p>The problem now is that my recursive calls won't work. I didn't expect the recursive calls after <code>clazz.getInterfaces()</code> to work, but at least after the change above I would want the <code>clazz.getSuperclass()</code> recursive calls to work. I think I understand why they don't, but let's try another approach.</p>\n<p>I could change the accumulator map parameter back to what it was before:</p>\n<p><code>Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass</code></p>\n<p>But now I have a problem trying to <code>return annotationsByClass</code>.</p>\n<p>You might say that Java generics aren't quite that flexible, and that's probably true.</p>\n<p>But since I know that all returned classes are of type <code>Class&lt;? super C&gt;</code>, how can I work around this? Is there at least a cast I can do that would produce a warning that I could suppress?</p>\n<p>The only way I've found so far is to use <code>Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass</code> as the accumulator, cast to <code>Object</code>, and then cast to <code>Map&lt;Class&lt;? super C&gt;, A&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\n</code></pre>\n<p>But I am loathe to include such a &quot;hard&quot; hack. At worse I'd like a warning I can suppress.</p>\n<p>Or am I mistaken that this logic will only return <code>Class&lt;? super C&gt;</code> for the given class <code>Class&lt;C&gt;</code>?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1588513708,"post_id":5168144,"comment_id":108920051,"body_markdown":"For those copying too literally: fields in Java really need to start with a lowercase character, so `firstName`, `lastName` and `birthYear` (or `yearOfBirth` of course).","body":"For those copying too literally: fields in Java really need to start with a lowercase character, so <code>firstName</code>, <code>lastName</code> and <code>birthYear</code> (or <code>yearOfBirth</code> of course)."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1645546539,"post_id":5168144,"comment_id":125897585,"body_markdown":"Please select [this answer](https://stackoverflow.com/a/57643471/9317690) regarding the upcoming &quot;inline classes&quot; as _the_ answer.  AFAICT, all the other answers are using variants on regular objects.","body":"Please select <a href=\"https://stackoverflow.com/a/57643471/9317690\">this answer</a> regarding the upcoming &quot;inline classes&quot; as <i>the</i> answer.  AFAICT, all the other answers are using variants on regular objects."}],"answers":[{"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"down_vote_count":8,"up_vote_count":79,"is_accepted":true,"score":71,"last_activity_date":1299072851,"creation_date":1299072851,"answer_id":5168165,"question_id":5168144,"body_markdown":"Java definitively has no structs :)\r\nBut what you describe here looks like a JavaBean kind of class.","title":"Does Java support structs?","body":"<p>Java definitively has no structs :)\nBut what you describe here looks like a JavaBean kind of class.</p>\n"},{"tags":[],"owner":{"account_id":295750,"reputation":1475,"user_id":600313,"accept_rate":85,"display_name":"Eugene Burtsev"},"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1406007158,"creation_date":1299072884,"answer_id":5168174,"question_id":5168144,"body_markdown":"Java doesn&#39;t have an analog to C++&#39;s structs, but you can use classes with all public members.","title":"Does Java support structs?","body":"<p>Java doesn't have an analog to C++'s structs, but you can use classes with all public members.</p>\n"},{"tags":[],"owner":{"account_id":300808,"reputation":610,"user_id":608174,"accept_rate":67,"display_name":"Markus"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1299072931,"creation_date":1299072931,"answer_id":5168188,"question_id":5168144,"body_markdown":"Yes, a class is what you need. An class defines an own type.","title":"Does Java support structs?","body":"<p>Yes, a class is what you need. An class defines an own type.</p>\n"},{"tags":[],"owner":{"account_id":245238,"reputation":5642,"user_id":518627,"accept_rate":50,"display_name":"Tom Quarendon"},"down_vote_count":9,"up_vote_count":121,"is_accepted":false,"score":112,"last_activity_date":1701655915,"creation_date":1299073053,"answer_id":5168216,"question_id":5168144,"body_markdown":"The equivalent in Java to a struct would be\r\n\r\n    class Member\r\n    {\r\n        public String firstName;\r\n        public String lastName;\r\n        public int    birthYear;\r\n     };\r\n\r\nand there&#39;s nothing wrong with that in the right circumstances. Much the same as in C++ really in terms of when do you use struct versus when do you use a class with encapsulated data.","title":"Does Java support structs?","body":"<p>The equivalent in Java to a struct would be</p>\n<pre><code>class Member\n{\n    public String firstName;\n    public String lastName;\n    public int    birthYear;\n };\n</code></pre>\n<p>and there's nothing wrong with that in the right circumstances. Much the same as in C++ really in terms of when do you use struct versus when do you use a class with encapsulated data.</p>\n"},{"tags":[],"owner":{"account_id":8084484,"reputation":837,"user_id":6092449,"display_name":"Damian Wojakowski"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1514076103,"creation_date":1513887694,"answer_id":47932217,"question_id":5168144,"body_markdown":"Actually a struct in C++ is a class (e.g. you can define methods there, it can be extended, it works exactly like a class), the only difference is that the default access modfiers are set to public (for classes they are set to private by default).\r\n\r\nThis is really the only difference in C++, many people don&#39;t know that. ; )\r\n\r\n","title":"Does Java support structs?","body":"<p>Actually a struct in C++ is a class (e.g. you can define methods there, it can be extended, it works exactly like a class), the only difference is that the default access modfiers are set to public (for classes they are set to private by default).</p>\n\n<p>This is really the only difference in C++, many people don't know that. ; )</p>\n"},{"tags":[],"owner":{"account_id":6894097,"reputation":1,"user_id":9245216,"display_name":"Klaider Animekist"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522973581,"creation_date":1522973581,"answer_id":49683386,"question_id":5168144,"body_markdown":"Structs &quot;really&quot; pure aren&#39;t supported in Java. E.g., C# supports `struct` definitions that represent values and can be allocated anytime.\r\n\r\nIn Java, the unique way to get an approximation of C++ structs\r\n\r\n    struct Token\r\n    {\r\n        TokenType type;\r\n        Stringp stringValue;\r\n        double mathValue;\r\n    }\r\n\r\n    // Instantiation\r\n\r\n    {\r\n        Token t = new Token;\r\n    }\r\n\r\nwithout using a (static buffer or list) is doing something like\r\n\r\n    var type = /* TokenType */ ;\r\n    var stringValue = /* String */ ;\r\n    var mathValue = /* double */ ;\r\n\r\nSo, simply allocate variables or statically define them into a class.","title":"Does Java support structs?","body":"<p>Structs \"really\" pure aren't supported in Java. E.g., C# supports <code>struct</code> definitions that represent values and can be allocated anytime.</p>\n\n<p>In Java, the unique way to get an approximation of C++ structs</p>\n\n<pre><code>struct Token\n{\n    TokenType type;\n    Stringp stringValue;\n    double mathValue;\n}\n\n// Instantiation\n\n{\n    Token t = new Token;\n}\n</code></pre>\n\n<p>without using a (static buffer or list) is doing something like</p>\n\n<pre><code>var type = /* TokenType */ ;\nvar stringValue = /* String */ ;\nvar mathValue = /* double */ ;\n</code></pre>\n\n<p>So, simply allocate variables or statically define them into a class.</p>\n"},{"tags":[],"owner":{"account_id":13439326,"reputation":109,"user_id":9696924,"display_name":"Leo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1524653791,"creation_date":1524653791,"answer_id":50020509,"question_id":5168144,"body_markdown":"With Project JUnion you can use structs in Java by annotating a class with @Struct annotation\r\n\r\n    @Struct\r\n    class Member {\r\n      string FirstName; \r\n      string LastName;  \r\n      int BirthYear; \r\n    }\r\nMore info at the project&#39;s website: https://tehleo.github.io/junion/","title":"Does Java support structs?","body":"<p>With Project JUnion you can use structs in Java by annotating a class with @Struct annotation</p>\n\n<pre><code>@Struct\nclass Member {\n  string FirstName; \n  string LastName;  \n  int BirthYear; \n}\n</code></pre>\n\n<p>More info at the project's website: <a href=\"https://tehleo.github.io/junion/\" rel=\"noreferrer\">https://tehleo.github.io/junion/</a></p>\n"},{"tags":[],"owner":{"account_id":4919525,"reputation":443,"user_id":3962470,"display_name":"ganesan arunachalam"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1701656101,"creation_date":1566710649,"answer_id":57643471,"question_id":5168144,"body_markdown":"No, Java doesn&#39;t have struct/value type yet. But, in the upcoming version of Java, we are going to get `inline class` which is similar to struct in C# and will help us write allocation free code.\r\n\r\n```\r\ninline class point { \r\n  int x;\r\n  int y;\r\n}\r\n```","title":"Does Java support structs?","body":"<p>No, Java doesn't have struct/value type yet. But, in the upcoming version of Java, we are going to get <code>inline class</code> which is similar to struct in C# and will help us write allocation free code.</p>\n<pre><code>inline class point { \n  int x;\n  int y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2800257,"reputation":1031,"user_id":2408622,"accept_rate":100,"display_name":"Orcun"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1609345868,"creation_date":1605186064,"answer_id":64804420,"question_id":5168144,"body_markdown":"Along with Java 14, it starts supporting Record. You may want to check that https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\r\n\r\n    public record Person (String name, String address) {}\r\n    \r\n    Person person = new Person(&quot;Esteban&quot;, &quot;Stormhaven, Tamriel&quot;);\r\n\r\n\r\nAnd there are Sealed Classes after Java 15. \r\nhttps://openjdk.java.net/jeps/360\r\n\r\n    sealed interface Shape permits Circle, Rectangle {\r\n\r\n      record Circle(Point center, int radius) implements Shape { }\r\n\r\n      record Rectangle(Point lowerLeft, Point upperRight) implements Shape { } \r\n    }\r\n\r\n","title":"Does Java support structs?","body":"<p>Along with Java 14, it starts supporting Record. You may want to check that <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html</a></p>\n<pre><code>public record Person (String name, String address) {}\n\nPerson person = new Person(&quot;Esteban&quot;, &quot;Stormhaven, Tamriel&quot;);\n</code></pre>\n<p>And there are Sealed Classes after Java 15.\n<a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/360</a></p>\n<pre><code>sealed interface Shape permits Circle, Rectangle {\n\n  record Circle(Point center, int radius) implements Shape { }\n\n  record Rectangle(Point lowerLeft, Point upperRight) implements Shape { } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1610206373,"creation_date":1605695007,"answer_id":64891172,"question_id":5168144,"body_markdown":"Java 14 has added support for Records, which are structured data types that are very easy to build.\r\n\r\nYou can declare a Java record like this:\r\n\r\n    public record AuditInfo(\r\n        LocalDateTime createdOn,\r\n        String createdBy,\r\n        LocalDateTime updatedOn,\r\n        String updatedBy\r\n    ) {}\r\n     \r\n    public record PostInfo(\r\n        Long id,\r\n        String title,\r\n        AuditInfo auditInfo\r\n    ) {}\r\n\r\nAnd, the Java compiler will generate the following Java class associated to the `AuditInfo` Record:\r\n\r\n    public final class PostInfo\r\n            extends java.lang.Record {\r\n        private final java.lang.Long id;\r\n        private final java.lang.String title;\r\n        private final AuditInfo auditInfo;\r\n     \r\n        public PostInfo(\r\n                java.lang.Long id,\r\n                java.lang.String title,\r\n                AuditInfo auditInfo) {\r\n            /* compiled code */\r\n        }\r\n     \r\n        public java.lang.String toString() { /* compiled code */ }\r\n     \r\n        public final int hashCode() { /* compiled code */ }\r\n     \r\n        public final boolean equals(java.lang.Object o) { /* compiled code */ }\r\n     \r\n        public java.lang.Long id() { /* compiled code */ }\r\n     \r\n        public java.lang.String title() { /* compiled code */ }\r\n     \r\n        public AuditInfo auditInfo() { /* compiled code */ }\r\n    }\r\n     \r\n    public final class AuditInfo\r\n            extends java.lang.Record {\r\n        private final java.time.LocalDateTime createdOn;\r\n        private final java.lang.String createdBy;\r\n        private final java.time.LocalDateTime updatedOn;\r\n        private final java.lang.String updatedBy;\r\n     \r\n        public AuditInfo(\r\n                java.time.LocalDateTime createdOn,\r\n                java.lang.String createdBy,\r\n                java.time.LocalDateTime updatedOn,\r\n                java.lang.String updatedBy) {\r\n            /* compiled code */\r\n        }\r\n     \r\n        public java.lang.String toString() { /* compiled code */ }\r\n     \r\n        public final int hashCode() { /* compiled code */ }\r\n     \r\n        public final boolean equals(java.lang.Object o) { /* compiled code */ }\r\n     \r\n        public java.time.LocalDateTime createdOn() { /* compiled code */ }\r\n     \r\n        public java.lang.String createdBy() { /* compiled code */ }\r\n     \r\n        public java.time.LocalDateTime updatedOn() { /* compiled code */ }\r\n     \r\n        public java.lang.String updatedBy() { /* compiled code */ }\r\n    }\r\n\r\nNotice that the constructor, accessor methods, as well as `equals`, `hashCode`, and `toString` are created for you, so it&#39;s very convenient to use Java Records.\r\n\r\nA Java Record can be created like any other Java object:\r\n\r\n    PostInfo postInfo = new PostInfo(\r\n        1L,\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        new AuditInfo(\r\n            LocalDateTime.of(2016, 11, 2, 12, 0, 0),\r\n            &quot;Vlad Mihalcea&quot;,\r\n            LocalDateTime.now(),\r\n            &quot;Vlad Mihalcea&quot;\r\n        )\r\n    );","title":"Does Java support structs?","body":"<p>Java 14 has added support for Records, which are structured data types that are very easy to build.</p>\n<p>You can declare a Java record like this:</p>\n<pre><code>public record AuditInfo(\n    LocalDateTime createdOn,\n    String createdBy,\n    LocalDateTime updatedOn,\n    String updatedBy\n) {}\n \npublic record PostInfo(\n    Long id,\n    String title,\n    AuditInfo auditInfo\n) {}\n</code></pre>\n<p>And, the Java compiler will generate the following Java class associated to the <code>AuditInfo</code> Record:</p>\n<pre><code>public final class PostInfo\n        extends java.lang.Record {\n    private final java.lang.Long id;\n    private final java.lang.String title;\n    private final AuditInfo auditInfo;\n \n    public PostInfo(\n            java.lang.Long id,\n            java.lang.String title,\n            AuditInfo auditInfo) {\n        /* compiled code */\n    }\n \n    public java.lang.String toString() { /* compiled code */ }\n \n    public final int hashCode() { /* compiled code */ }\n \n    public final boolean equals(java.lang.Object o) { /* compiled code */ }\n \n    public java.lang.Long id() { /* compiled code */ }\n \n    public java.lang.String title() { /* compiled code */ }\n \n    public AuditInfo auditInfo() { /* compiled code */ }\n}\n \npublic final class AuditInfo\n        extends java.lang.Record {\n    private final java.time.LocalDateTime createdOn;\n    private final java.lang.String createdBy;\n    private final java.time.LocalDateTime updatedOn;\n    private final java.lang.String updatedBy;\n \n    public AuditInfo(\n            java.time.LocalDateTime createdOn,\n            java.lang.String createdBy,\n            java.time.LocalDateTime updatedOn,\n            java.lang.String updatedBy) {\n        /* compiled code */\n    }\n \n    public java.lang.String toString() { /* compiled code */ }\n \n    public final int hashCode() { /* compiled code */ }\n \n    public final boolean equals(java.lang.Object o) { /* compiled code */ }\n \n    public java.time.LocalDateTime createdOn() { /* compiled code */ }\n \n    public java.lang.String createdBy() { /* compiled code */ }\n \n    public java.time.LocalDateTime updatedOn() { /* compiled code */ }\n \n    public java.lang.String updatedBy() { /* compiled code */ }\n}\n</code></pre>\n<p>Notice that the constructor, accessor methods, as well as <code>equals</code>, <code>hashCode</code>, and <code>toString</code> are created for you, so it's very convenient to use Java Records.</p>\n<p>A Java Record can be created like any other Java object:</p>\n<pre><code>PostInfo postInfo = new PostInfo(\n    1L,\n    &quot;High-Performance Java Persistence&quot;,\n    new AuditInfo(\n        LocalDateTime.of(2016, 11, 2, 12, 0, 0),\n        &quot;Vlad Mihalcea&quot;,\n        LocalDateTime.now(),\n        &quot;Vlad Mihalcea&quot;\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6001881,"reputation":98,"user_id":4714886,"display_name":"Phung Manh Cuong"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1616555036,"creation_date":1616555036,"answer_id":66774156,"question_id":5168144,"body_markdown":"The short answer: **NO**.\r\n\r\nThe long answer:\r\n1. The main different between *`class`* and *`struct`* (in C++) is all properties in struct is **`public`**, which can be accessed from **anywhere**. For the *`class`*, you can apply limit it with different **`level of privacy`**.\r\n2. If you wanna have a data structure same as *`struct`* in C++, just make all properties public.","title":"Does Java support structs?","body":"<p>The short answer: <strong>NO</strong>.</p>\n<p>The long answer:</p>\n<ol>\n<li>The main different between <em><code>class</code></em> and <em><code>struct</code></em> (in C++) is all properties in struct is <strong><code>public</code></strong>, which can be accessed from <strong>anywhere</strong>. For the <em><code>class</code></em>, you can apply limit it with different <strong><code>level of privacy</code></strong>.</li>\n<li>If you wanna have a data structure same as <em><code>struct</code></em> in C++, just make all properties public.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6257803,"reputation":925,"user_id":4865822,"accept_rate":75,"display_name":"Ryan Lue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671508739,"creation_date":1671508739,"answer_id":74858399,"question_id":5168144,"body_markdown":"The [Immutables](http://immutables.github.io/) library provides something similar to what you are describing.\r\n\r\nFrom their site:\r\n\r\n&gt; ```java\r\n&gt; import org.immutables.value.Value;\r\n&gt; // Define abstract value type\r\n&gt; @Value.Immutable\r\n&gt; public interface ValueObject {\r\n&gt;   String name();\r\n&gt;   List&lt;Integer&gt; counts();\r\n&gt;   Optional&lt;String&gt; description();\r\n&gt; }\r\n&gt;\r\n&gt; // Use generated immutable implementation\r\n&gt; ValueObject valueObject =\r\n&gt;     ImmutableValueObject.builder()\r\n&gt;         .name(&quot;My value&quot;)\r\n&gt;         .addCounts(1)\r\n&gt;         .addCounts(2)\r\n&gt;         .build();\r\n&gt; ```","title":"Does Java support structs?","body":"<p>The <a href=\"http://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a> library provides something similar to what you are describing.</p>\n<p>From their site:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import org.immutables.value.Value;\n// Define abstract value type\n@Value.Immutable\npublic interface ValueObject {\n  String name();\n  List&lt;Integer&gt; counts();\n  Optional&lt;String&gt; description();\n}\n\n// Use generated immutable implementation\nValueObject valueObject =\n    ImmutableValueObject.builder()\n        .name(&quot;My value&quot;)\n        .addCounts(1)\n        .addCounts(2)\n        .build();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21987292,"reputation":26,"user_id":16261329,"display_name":"Ivanuil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687274009,"creation_date":1687274009,"answer_id":76516158,"question_id":5168144,"body_markdown":"Since JAVA version 16 record was included. Record is practically the same as struct in C/C++.\r\nSyntax:\r\n```\r\nrecord name (field1, field2, ..., fieldN){\r\n    // record body\r\n}\r\n```","title":"Does Java support structs?","body":"<p>Since JAVA version 16 record was included. Record is practically the same as struct in C/C++.\nSyntax:</p>\n<pre><code>record name (field1, field2, ..., fieldN){\n    // record body\n}\n</code></pre>\n"}],"owner":{"account_id":212048,"reputation":1890,"user_id":464623,"accept_rate":81,"display_name":"Dmitro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361362,"favorite_count":0,"down_vote_count":0,"up_vote_count":134,"accepted_answer_id":5168165,"answer_count":13,"score":134,"last_activity_date":1701656101,"creation_date":1299072742,"question_id":5168144,"body_markdown":"Does Java have an analog of a C++ `struct`:\r\n\r\n    struct Member {\r\n      string FirstName; \r\n      string LastName;  \r\n      int BirthYear; \r\n    };\r\n\r\nI need to use my own data type.","title":"Does Java support structs?","body":"<p>Does Java have an analog of a C++ <code>struct</code>:</p>\n\n<pre><code>struct Member {\n  string FirstName; \n  string LastName;  \n  int BirthYear; \n};\n</code></pre>\n\n<p>I need to use my own data type.</p>\n"},{"tags":["java","postgresql","postgresql-9.3"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":1,"creation_date":1701604214,"post_id":77594099,"comment_id":136794142,"body_markdown":"First thing to do is to turn on statement logging in postgresql. That way you will know whether your rounding problem is on the java or postgresql side of things (it is almost certainly the java side though).","body":"First thing to do is to turn on statement logging in postgresql. That way you will know whether your rounding problem is on the java or postgresql side of things (it is almost certainly the java side though)."},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701604424,"post_id":77594099,"comment_id":136794149,"body_markdown":"Richard....It is happening randomly also we have instances where the sent  time is 11:02:00 and it got saved as 11:02:01.","body":"Richard....It is happening randomly also we have instances where the sent  time is 11:02:00 and it got saved as 11:02:01."},{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":3,"creation_date":1701604690,"post_id":77594099,"comment_id":136794170,"body_markdown":"It isn&#39;t going to be random. It probably is a rounding issue where the value displayed to you by Java isn&#39;t the value it is using internally. So it stores `11:03:19.500000001` internally and rounds down on display but when converting rounds up. First thing to do is to make sure you know where the boundary of the problem is.","body":"It isn&#39;t going to be random. It probably is a rounding issue where the value displayed to you by Java isn&#39;t the value it is using internally. So it stores <code>11:03:19.500000001</code> internally and rounds down on display but when converting rounds up. First thing to do is to make sure you know where the boundary of the problem is."},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701605114,"post_id":77594099,"comment_id":136794204,"body_markdown":"So can we round it manually before sending it to Postgresql?","body":"So can we round it manually before sending it to Postgresql?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701606252,"post_id":77594099,"comment_id":136794299,"body_markdown":"I suggest that you [edit] your question and post a [mcve] that calls the PostgreSQL procedure from Java. Also indicate which Java version you are using, which PostgreSQL version you are using and which JDBC driver you are using.","body":"I suggest that you <a href=\"https://stackoverflow.com/posts/77594099/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that calls the PostgreSQL procedure from Java. Also indicate which Java version you are using, which PostgreSQL version you are using and which JDBC driver you are using."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701606587,"post_id":77594099,"comment_id":136794335,"body_markdown":"Since the resolution of timestamp without timezone is generally microseconds, there should be no reason for &#39;rounding&#39; a `java.util.Date`, which is only capable of seconds resolution","body":"Since the resolution of timestamp without timezone is generally microseconds, there should be no reason for &#39;rounding&#39; a <code>java.util.Date</code>, which is only capable of seconds resolution"},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701613192,"post_id":77594099,"comment_id":136794976,"body_markdown":"I set the milliseconds to 0 manually on Java side and looks like it has fixed the issue.... Will try and do a regression test , just to be sure ... Thank you","body":"I set the milliseconds to 0 manually on Java side and looks like it has fixed the issue.... Will try and do a regression test , just to be sure ... Thank you"},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701613332,"post_id":77594099,"comment_id":136795002,"body_markdown":"But when are logging date on Java side .it does not log milliseconds Sun Dec 03 11:02:19 GMT 2023&#39;... Else the issue would have been clear","body":"But when are logging date on Java side .it does not log milliseconds Sun Dec 03 11:02:19 GMT 2023&#39;... Else the issue would have been clear"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701613556,"post_id":77594099,"comment_id":136795030,"body_markdown":"You should probably be using `java.time`","body":"You should probably be using <code>java.time</code>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701616777,"post_id":77594099,"comment_id":136795356,"body_markdown":"@goose must have meant to say “milliseconds” rather than “seconds” in “a java.util.Date, which is only capable of seconds resolution”. Resolution is **milliseconds** in the terribly flawed legacy class `java.util.date`, **microseconds** in Postgres, and **nanoseconds** in the *java.time* classes.","body":"@goose must have meant to say “milliseconds” rather than “seconds” in “a java.util.Date, which is only capable of seconds resolution”. Resolution is <b>milliseconds</b> in the terribly flawed legacy class <code>java.util.date</code>, <b>microseconds</b> in Postgres, and <b>nanoseconds</b> in the <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701617007,"post_id":77594099,"comment_id":136795380,"body_markdown":"I have never heard of any date-time rounding being done in any JDBC driver, nor in any database. Truncation in the common way to fit finer values.  I suspect any rounding that occurs must be in your own codebase.","body":"I have never heard of any date-time rounding being done in any JDBC driver, nor in any database. Truncation in the common way to fit finer values.  I suspect any rounding that occurs must be in your own codebase."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701617476,"post_id":77594099,"comment_id":136795437,"body_markdown":"*@goose must have meant to say* Yes and no Basil. There are actually no methods for milliseconds in `java.util.Date` - only for seconds. But I think this is academic really, since that class shouldn&#39;t be being used at all where possible. There&#39;s probably crucial missing info from the OP","body":"<i>@goose must have meant to say</i> Yes and no Basil. There are actually no methods for milliseconds in <code>java.util.Date</code> - only for seconds. But I think this is academic really, since that class shouldn&#39;t be being used at all where possible. There&#39;s probably crucial missing info from the OP"}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218333,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701655353,"creation_date":1701655353,"answer_id":77596859,"question_id":77594099,"body_markdown":"The Java timestamp you are storing probably has fractional seconds, like `2023-04-01 12:30:00.8888`. Then one of these things can happen:\r\n\r\n1. the database column is defined as data type `timestamp(0)`, so PostgreSQL rounds the value up\r\n\r\n2. the database column is a normal `timestamp(6)`, and the timestamp is stored as it is, but the program you use to visualize the database contents rounds to seconds\r\n\r\nUse a database client that does not lie, like `psql`, and examine the stored values and the table definition.","title":"Postgresql query cast timestamp without time zone adding a second to passed time","body":"<p>The Java timestamp you are storing probably has fractional seconds, like <code>2023-04-01 12:30:00.8888</code>. Then one of these things can happen:</p>\n<ol>\n<li><p>the database column is defined as data type <code>timestamp(0)</code>, so PostgreSQL rounds the value up</p>\n</li>\n<li><p>the database column is a normal <code>timestamp(6)</code>, and the timestamp is stored as it is, but the program you use to visualize the database contents rounds to seconds</p>\n</li>\n</ol>\n<p>Use a database client that does not lie, like <code>psql</code>, and examine the stored values and the table definition.</p>\n"}],"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701655353,"creation_date":1701603356,"question_id":77594099,"body_markdown":"We have a procedure which accepts a timestamp without time zone.\r\n\r\nWhen I pass say \r\n&#39;Sun Dec 03 11:02:19 GMT 2023&#39;\r\n\r\nTo Postgresql procedure from java by setting date which is java.util.date\r\n\r\nThe procedure has a cast timestamp with out timezone like\r\nIN run_date timestamp without time zone.\r\n\r\nThe expected date field value should be\r\n2023-12-03 11:03:19\r\nBut \r\n2023-12-03 11:03:20 \r\nis stored in db\r\n\r\nWhy is a second getting added?\r\n\r\nWe have a logic of fetching the row using the exact date time .so no row is returned because of the seconds mismatch","title":"Postgresql query cast timestamp without time zone adding a second to passed time","body":"<p>We have a procedure which accepts a timestamp without time zone.</p>\n<p>When I pass say\n'Sun Dec 03 11:02:19 GMT 2023'</p>\n<p>To Postgresql procedure from java by setting date which is java.util.date</p>\n<p>The procedure has a cast timestamp with out timezone like\nIN run_date timestamp without time zone.</p>\n<p>The expected date field value should be\n2023-12-03 11:03:19\nBut\n2023-12-03 11:03:20\nis stored in db</p>\n<p>Why is a second getting added?</p>\n<p>We have a logic of fetching the row using the exact date time .so no row is returned because of the seconds mismatch</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9842,"page":17,"page_size":100}
