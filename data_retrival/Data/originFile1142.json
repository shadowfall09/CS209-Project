{"items":[{"tags":["java","csv","jackson"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":4,"creation_date":1659384999,"post_id":73199095,"comment_id":129277761,"body_markdown":"In a CSV file, the separator is a comma. I suppose there&#39;s no hope of getting people to stop referring to all delimited files as Comma Separated Values files, though.","body":"In a CSV file, the separator is a comma. I suppose there&#39;s no hope of getting people to stop referring to all delimited files as Comma Separated Values files, though."},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":1,"creation_date":1659386155,"post_id":73199095,"comment_id":129278044,"body_markdown":"Not sure about the capabilities of the library, but if there is no support there, I think you will have to do some counting. For the first 100 lines, if there&#39;s a fixed number of any of your candidate separators per row, you have found it. Add some wiggle room if needed.","body":"Not sure about the capabilities of the library, but if there is no support there, I think you will have to do some counting. For the first 100 lines, if there&#39;s a fixed number of any of your candidate separators per row, you have found it. Add some wiggle room if needed."}],"owner":{"account_id":14061460,"reputation":11,"user_id":10157422,"display_name":"mf117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659384704,"creation_date":1659384704,"question_id":73199095,"body_markdown":"I want to know if there&#39;s a way to validate the column separator for a CSV file, I&#39;m using the `CsvMapper` library and I know that I can set the column separator using the `.withColumnSeparator()`. I have a CSV file and I want to validate that the file is using the right separator, I use as a separator the &#39;|&#39; character but sometimes the file can have a &#39;;&#39; separator or another one, but I want to validate that the separator is the &#39;|&#39; character.\r\n\r\nE.g I have this CSV file with these two lines:\r\n\r\n    A|B|3|e\r\n    w|ew|34|w\r\n\r\nThis is a valid file because has as a separator the &#39;|&#39; char.\r\n\r\nBut sometimes I can received a CSV file like this:\r\n\r\n    A;B;3;e\r\n    w;ew;34;w\r\n\r\nWhich is a file separated by &#39;;&#39; Char and does not a &#39;|&#39;, that&#39;s why I need to validate the column separator\r\n\r\nThanks a lot.","title":"Validate the column separator from a CSV file","body":"<p>I want to know if there's a way to validate the column separator for a CSV file, I'm using the <code>CsvMapper</code> library and I know that I can set the column separator using the <code>.withColumnSeparator()</code>. I have a CSV file and I want to validate that the file is using the right separator, I use as a separator the '|' character but sometimes the file can have a ';' separator or another one, but I want to validate that the separator is the '|' character.</p>\n<p>E.g I have this CSV file with these two lines:</p>\n<pre><code>A|B|3|e\nw|ew|34|w\n</code></pre>\n<p>This is a valid file because has as a separator the '|' char.</p>\n<p>But sometimes I can received a CSV file like this:</p>\n<pre><code>A;B;3;e\nw;ew;34;w\n</code></pre>\n<p>Which is a file separated by ';' Char and does not a '|', that's why I need to validate the column separator</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","maven","parallel-processing","cucumber","maven-surefire-plugin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1659365775,"post_id":73195393,"comment_id":129271567,"body_markdown":"`ScenarioScoped` means that the object is recreated for each scenario so no matter if they are running in parallel or not. Can you show some representative code so that we could reproduce it on our own.","body":"<code>ScenarioScoped</code> means that the object is recreated for each scenario so no matter if they are running in parallel or not. Can you show some representative code so that we could reproduce it on our own."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659383969,"post_id":73195393,"comment_id":129277445,"body_markdown":"@AlexeyR. I have updated my query as the comment section didnt allow for such long answer :)","body":"@AlexeyR. I have updated my query as the comment section didnt allow for such long answer :)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659427111,"post_id":73195393,"comment_id":129285946,"body_markdown":"What I can see straight away is that you are using injection wrong. You should either use inject annotation for field or use annotation for constructor. If you inject on a per-field level do not re-assign the same field with constructor. Second - do your tests use any other shared things except of that context? Or probably static references? What unit framework do you use? JUnit4/5? Or TestNg? All that is important because I just checked and it seems that `fork` mode does not work with cucumber-junit4","body":"What I can see straight away is that you are using injection wrong. You should either use inject annotation for field or use annotation for constructor. If you inject on a per-field level do not re-assign the same field with constructor. Second - do your tests use any other shared things except of that context? Or probably static references? What unit framework do you use? JUnit4/5? Or TestNg? All that is important because I just checked and it seems that <code>fork</code> mode does not work with cucumber-junit4"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659429417,"post_id":73195393,"comment_id":129286708,"body_markdown":"I am using junit 4.13.2\nIt doesnt? I have added the info to my error messages and it seems to work:\nStarted in thread: 1, in JVM: 30264@COMP\nStarted in thread: 1, in JVM: 2304@COMP\n\nI have tried to not add the variable in the constructor but there&#39;s compilation error &quot;Variable scenarioContext might not have been initialized&quot;\n\nI have also done it as solution 1 - so @Incject in front of constructor but it didnt do the trick :( I am not using any static references.\n\nprivate final Scenario Context scenarioContext;\n@ Inject\npublic myStepsClass(ScenarioContext[...])","body":"I am using junit 4.13.2 It doesnt? I have added the info to my error messages and it seems to work: Started in thread: 1, in JVM: 30264@COMP Started in thread: 1, in JVM: 2304@COMP  I have tried to not add the variable in the constructor but there&#39;s compilation error &quot;Variable scenarioContext might not have been initialized&quot;  I have also done it as solution 1 - so @Incject in front of constructor but it didnt do the trick :( I am not using any static references.  private final Scenario Context scenarioContext; @ Inject public myStepsClass(ScenarioContext[...])"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659429492,"post_id":73195393,"comment_id":129286751,"body_markdown":"The only shared context is this ScenarioContext, they use some common classes to just &quot;do the work&quot; behind the steps as per cucumber guidelines. However there are no more contexts","body":"The only shared context is this ScenarioContext, they use some common classes to just &quot;do the work&quot; behind the steps as per cucumber guidelines. However there are no more contexts"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659430210,"post_id":73195393,"comment_id":129287047,"body_markdown":"Do you have your code somewhere? I believe the issue is hidden somewhere out of the shown example.","body":"Do you have your code somewhere? I believe the issue is hidden somewhere out of the shown example."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659430504,"post_id":73195393,"comment_id":129287166,"body_markdown":"No, its not openly shared and I believe I cannot share the whole repo :(","body":"No, its not openly shared and I believe I cannot share the whole repo :("},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659431380,"post_id":73195393,"comment_id":129287479,"body_markdown":"alright. when you `still get different results` what it actually means? Did you try to debug? Why are results different? Why are you sure it is the issue of injection.","body":"alright. when you <code>still get different results</code> what it actually means? Did you try to debug? Why are results different? Why are you sure it is the issue of injection."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659440813,"post_id":73195393,"comment_id":129290742,"body_markdown":"It means when I run my tests in sequence I have exactly same amount of failed tests each time. However when running them in parallel I get different (higher) number of errors.\n\nI am not sure but it looks so in 90% - the error I get is 403 when I call endpoint getting my access token. I get the same error e.g. in Postman when I try to get my final access token for second time with previoysly obtained tokens from 2fa process. Hence my assumption is - something has used my combination of 2fa tokens and depending on &#39;whats first&#39; in parallel run I get random throw of 403 errors","body":"It means when I run my tests in sequence I have exactly same amount of failed tests each time. However when running them in parallel I get different (higher) number of errors.  I am not sure but it looks so in 90% - the error I get is 403 when I call endpoint getting my access token. I get the same error e.g. in Postman when I try to get my final access token for second time with previoysly obtained tokens from 2fa process. Hence my assumption is - something has used my combination of 2fa tokens and depending on &#39;whats first&#39; in parallel run I get random throw of 403 errors"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659441204,"post_id":73195393,"comment_id":129290879,"body_markdown":"I would start from logging tokens your threads are trying to use. This is how you will either confirm or deny your theory.","body":"I would start from logging tokens your threads are trying to use. This is how you will either confirm or deny your theory."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659471574,"post_id":73195393,"comment_id":129301879,"body_markdown":"It may also be possible that requesting a new token invalidates the old ones. I would start by simplifying the problem reproducer to one passing scenario copied a few times. Then add logging about the thread, token generated and token used.","body":"It may also be possible that requesting a new token invalidates the old ones. I would start by simplifying the problem reproducer to one passing scenario copied a few times. Then add logging about the thread, token generated and token used."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659522436,"post_id":73195393,"comment_id":129313301,"body_markdown":"Okay Ill try both solutuions then, thank you for the help outs :)","body":"Okay Ill try both solutuions then, thank you for the help outs :)"}],"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659383899,"creation_date":1659364719,"question_id":73195393,"body_markdown":"I&#39;m using Cucumber for my API tests and save the shared context in ScenarioContext class which is marked with @ScenarioScoped and @Injected per Steps class. Of course some features use steps from cross-classes as well (which causes the bug described below, but I dont want to change that due to DRY).\r\n\r\nTestS run fine when I do them sequentially however they mix up the token Im saving in scenarioContext when I run them parallelly.\r\n\r\nHas anyone faced this issue before? I tried with separate runners and 1 runner however the result was the same. Here&#39;s my pom.xml corresponding config:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Suite.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;forkCount&gt;8C&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAbove configuration should give the highest level of separation but my tests still fail at random (which does NOT happen with sequential run).\r\n\r\nI&#39;ve read following documentations and didnt find corresponding answers:\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\r\n_____________________________________________________\r\n\r\n@Alexey R. - Im adding additional code :)\r\n\r\nSo my ScenarioContext class looks as follows:\r\n\r\n    @ScenarioScoped\r\n    public class ScenarioContext extends Base {\r\n        Map&lt;String, Object&gt; scenarioContext;\r\n    \r\n        public ScenarioContext() throws Exception {\r\n            this.scenarioContext = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public void setContext(Context key, Object value) {\r\n            scenarioContext.put(key.toString(), value);\r\n        }\r\n\r\n        public Object getContext(Context key) {\r\n            return scenarioContext.get(key.toString());\r\n        }\r\n    -   some other general shortcut methods\r\n    }\r\n\r\nAnd in my Steps classes aforementioned scenarioContext is called as follows:\r\n\r\n    public class myStepsClass extends Base {\r\n        @Inject\r\n        private ScenarioContext scenarioContext;\r\n    \r\n        public myStepsClass(ScenarioContext scenarioContext) throws Exception {\r\n            this.scenarioContext = scenarioContext;\r\n        }\r\n   \r\n\r\n+[gherkin steps getting/setting values to scenarioContext]\r\n\r\nI have also added a System.out.println(&quot;New scenario Context&quot;) in Scenario Context constructor and it seems to be printed out once per thread however I still get different results when tests are run in parallel :(","title":"ScenarioScoped mixes up token with SureFire parallel execution (Java + Maven)","body":"<p>I'm using Cucumber for my API tests and save the shared context in ScenarioContext class which is marked with @ScenarioScoped and @Injected per Steps class. Of course some features use steps from cross-classes as well (which causes the bug described below, but I dont want to change that due to DRY).</p>\n<p>TestS run fine when I do them sequentially however they mix up the token Im saving in scenarioContext when I run them parallelly.</p>\n<p>Has anyone faced this issue before? I tried with separate runners and 1 runner however the result was the same. Here's my pom.xml corresponding config:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Suite.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;forkCount&gt;8C&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Above configuration should give the highest level of separation but my tests still fail at random (which does NOT happen with sequential run).</p>\n<p>I've read following documentations and didnt find corresponding answers:\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html</a>\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html</a>\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html</a></p>\n<hr />\n<p>@Alexey R. - Im adding additional code :)</p>\n<p>So my ScenarioContext class looks as follows:</p>\n<pre><code>@ScenarioScoped\npublic class ScenarioContext extends Base {\n    Map&lt;String, Object&gt; scenarioContext;\n\n    public ScenarioContext() throws Exception {\n        this.scenarioContext = new HashMap&lt;&gt;();\n    }\n\n    public void setContext(Context key, Object value) {\n        scenarioContext.put(key.toString(), value);\n    }\n\n    public Object getContext(Context key) {\n        return scenarioContext.get(key.toString());\n    }\n-   some other general shortcut methods\n}\n</code></pre>\n<p>And in my Steps classes aforementioned scenarioContext is called as follows:</p>\n<pre><code>public class myStepsClass extends Base {\n    @Inject\n    private ScenarioContext scenarioContext;\n\n    public myStepsClass(ScenarioContext scenarioContext) throws Exception {\n        this.scenarioContext = scenarioContext;\n    }\n</code></pre>\n<p>+[gherkin steps getting/setting values to scenarioContext]</p>\n<p>I have also added a System.out.println(&quot;New scenario Context&quot;) in Scenario Context constructor and it seems to be printed out once per thread however I still get different results when tests are run in parallel :(</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618782576,"creation_date":1618782576,"answer_id":67153706,"question_id":67153705,"body_markdown":"Adding `apply plugin: &#39;kotlin&#39;` to the `build.gradle` of `app` as suggested here https://stackoverflow.com/a/50262680 helped.","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>Adding <code>apply plugin: 'kotlin'</code> to the <code>build.gradle</code> of <code>app</code> as suggested here <a href=\"https://stackoverflow.com/a/50262680\">https://stackoverflow.com/a/50262680</a> helped.</p>\n"},{"tags":[],"owner":{"account_id":10353128,"reputation":21,"user_id":19669214,"display_name":"MartinsT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659383627,"creation_date":1659383627,"answer_id":73198907,"question_id":67153705,"body_markdown":"This is probably not the right thread for my answer, but I stumbled on this thread while debugging the same issue on my Java (Java 17 and Gradle 7.4) project with okHttpClient (written in Kotlin). Maybe this helps to some lost soul like me. \r\n\r\nSolution for me was to add `requires kotlin.stdlib;` in `module-info.java` file and `id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.0&#39;` in `build.gradle` file","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>This is probably not the right thread for my answer, but I stumbled on this thread while debugging the same issue on my Java (Java 17 and Gradle 7.4) project with okHttpClient (written in Kotlin). Maybe this helps to some lost soul like me.</p>\n<p>Solution for me was to add <code>requires kotlin.stdlib;</code> in <code>module-info.java</code> file and <code>id 'org.jetbrains.kotlin.jvm' version '1.7.0'</code> in <code>build.gradle</code> file</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659383627,"creation_date":1618782576,"question_id":67153705,"body_markdown":"I am migrating a Java android app to Kotlin class for class with Android Studio&#39;s `Convert Java file to Kotlin file`. \r\n\r\n\r\nMy android project consists of three modules/projects where the top project has no code of its own:\r\n\r\n```\r\noverall\r\n ├─ app\r\n └─ model\r\n```\r\n\r\n\r\nI&#39;ve converted a file in `model` to Kotlin and it is recognized by the Java classes in `model`.\r\nBut for classes in `app` there are problems. While the class itself is accepted as e.g. a  method parameter, method references are not possible. E.g. for `foo.ba()` android studio will show a box with the Javadoc but the term in the source file is red underlined and the error is `Cannot access kotlin.jvm.internal.markers.KMappedMarker`.\r\n\r\nTo see if the problem is due to Android Studio, I ran `gradle --warning-mode all sudoqapp:assembleRelease` in the terminal which fails with `error: cannot access KMappedMarker` and `class file for kotlin.jvm.internal.markers.KMappedMarker not found`. So I assume the error is in the build.gradle files which were automatically converted.\r\n\r\n`overall` has \r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.5.0-RC&#39;\r\n}\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n}\r\ncompileKotlin {\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n```\r\n\r\n`app` has no kotlin references at all and\r\n\r\n`model` has\r\n```\r\napply plugin: &#39;kotlin&#39;\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n}\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.5.0-RC&#39;\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\ncompileKotlin {\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n```\r\n\r\n","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>I am migrating a Java android app to Kotlin class for class with Android Studio's <code>Convert Java file to Kotlin file</code>.</p>\n<p>My android project consists of three modules/projects where the top project has no code of its own:</p>\n<pre><code>overall\n ├─ app\n └─ model\n</code></pre>\n<p>I've converted a file in <code>model</code> to Kotlin and it is recognized by the Java classes in <code>model</code>.\nBut for classes in <code>app</code> there are problems. While the class itself is accepted as e.g. a  method parameter, method references are not possible. E.g. for <code>foo.ba()</code> android studio will show a box with the Javadoc but the term in the source file is red underlined and the error is <code>Cannot access kotlin.jvm.internal.markers.KMappedMarker</code>.</p>\n<p>To see if the problem is due to Android Studio, I ran <code>gradle --warning-mode all sudoqapp:assembleRelease</code> in the terminal which fails with <code>error: cannot access KMappedMarker</code> and <code>class file for kotlin.jvm.internal.markers.KMappedMarker not found</code>. So I assume the error is in the build.gradle files which were automatically converted.</p>\n<p><code>overall</code> has</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.5.0-RC'\n}\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n<p><code>app</code> has no kotlin references at all and</p>\n<p><code>model</code> has</p>\n<pre><code>apply plugin: 'kotlin'\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n}\nbuildscript {\n    ext.kotlin_version = '1.5.0-RC'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","division","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1388692751,"post_id":20890768,"comment_id":31353175,"body_markdown":"Try casting peopleI to double when you calculate the pricePP","body":"Try casting peopleI to double when you calculate the pricePP"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388692894,"post_id":20890768,"comment_id":31353250,"body_markdown":"@MadProgrammer `total` is a `double`","body":"@MadProgrammer <code>total</code> is a <code>double</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1388693410,"post_id":20890768,"comment_id":31353529,"body_markdown":"@ZouZou I don&#39;t want to cast the result, just one side of the division...","body":"@ZouZou I don&#39;t want to cast the result, just one side of the division..."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388693606,"post_id":20890768,"comment_id":31353624,"body_markdown":"@MadProgrammer What&#39;s the point of casting `peopleI` in `pricePP = total / peopleI;` ? It&#39;s already `double/int`, so it won&#39;t perfom integer division. Or maybe I did&#39;nt get what you want to meant.","body":"@MadProgrammer What&#39;s the point of casting <code>peopleI</code> in <code>pricePP = total &#47; peopleI;</code> ? It&#39;s already <code>double&#47;int</code>, so it won&#39;t perfom integer division. Or maybe I did&#39;nt get what you want to meant."}],"answers":[{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388693074,"creation_date":1388693074,"answer_id":20890886,"question_id":20890768,"body_markdown":"Just use `pricePP` instead of `total` variable here :\r\n\r\n    JOptionPane.showMessageDialog(null, &quot;The total is $&quot; + total\r\n\t\t\t\t\t+ &quot; per person&quot;, &quot;Shopping Calculator&quot;,\r\n\t\t\t\t\tJOptionPane.PLAIN_MESSAGE);\r\n\r\nbecause you output another variable, which isn&#39;t devided.","title":"Simple Divison for Calculator not working","body":"<p>Just use <code>pricePP</code> instead of <code>total</code> variable here :</p>\n\n<pre><code>JOptionPane.showMessageDialog(null, \"The total is $\" + total\n                + \" per person\", \"Shopping Calculator\",\n                JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>because you output another variable, which isn't devided.</p>\n"}],"owner":{"account_id":3801317,"reputation":21,"user_id":3154897,"display_name":"Radnor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659383047,"creation_date":1388692609,"question_id":20890768,"body_markdown":"I&#39;m Trying to make a calculator that will figure in tax, tip, and splitting between multiple people, but the last feature isn&#39;t working and I can&#39;t figure out why. I know it will probably be a simple fix but I&#39;m new to Java so I just can&#39;t find it. Note: this is my first actual Java program so please be understanding with my probably obvious mistake.\r\n\r\n    import java.util.Scanner;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class TaxFinder { \r\n    \t\r\n    \t static Scanner scan = new Scanner(System.in);\r\n    \tpublic static double priceD, taxD, totalTax, total, priceTipped, pricePP;\r\n    \tpublic static int peopleI;\r\n    \tpublic static String price, tax, people, ifTip, tip, ifSplit;\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\t\t\t\r\n    \t\tifTip = JOptionPane.showInputDialog(&quot;Was your purchase in a restaurant?&quot;);\r\n    \t\t \r\n    \t\t if (ifTip.equalsIgnoreCase(&quot;yes&quot;)){ \r\n    \t\t\t price = JOptionPane.showInputDialog(&quot;What was the cost of your bill ($)?&quot;);\r\n    \t\t\t priceD = Double.parseDouble(price);\r\n    \t\t\t \r\n    \t\t\t tax = JOptionPane.showInputDialog(&quot;What is your tax rate (decimal)?&quot;); \r\n    \t\t\t taxD = Double.parseDouble(tax);\r\n    \t\t\t \r\n    \t\t\t tip = JOptionPane.showInputDialog(&quot;Do you want to tip 5, 10, 15, or 20% ?&quot;); \r\n    \t\t\t \r\n    \t\t\t if (tip.equals(&quot;5&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .05;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;10&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .1;\r\n    \t\t\t\t //System.out.println(&quot;Your price tipped is &quot; + priceTipped);\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;15&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .15;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;20&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .2;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t totalTax = priceD * taxD;\r\n    \t\t\t total = priceD + totalTax + priceTipped;\r\n    \t\t\t \r\n    \t\t } \r\n    \t\t \r\n    \t\t else if (ifTip.equalsIgnoreCase(&quot;no&quot;)){ \r\n    \t\t\t price = JOptionPane.showInputDialog(&quot;How much did your purchase cost ($)?&quot;);\r\n    \t\t\t priceD = Double.parseDouble(price);\r\n    \t\t\t tax = JOptionPane.showInputDialog(&quot;What is your tax rate (decimal)?&quot;);\r\n    \t\t\t taxD = Double.parseDouble(tax);\r\n    \t\t \r\n    \t\t totalTax = priceD * taxD;\r\n    \t\ttotal = priceD + totalTax;\r\n    \t\t }\r\n    \t\t \r\n    \t\tJOptionPane.showMessageDialog(null, &quot;Your total is: $&quot; + total, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t\r\n    \t\tifSplit = JOptionPane.showInputDialog(&quot;Are you splitting the cost with other people?&quot;);\r\n    \t\t\r\n    \t\tif (ifSplit.equalsIgnoreCase(&quot;yes&quot;)){ \r\n    \t\t\tpeople = JOptionPane.showInputDialog(&quot;How many people including you?&quot;);\r\n    \t\t\tpeopleI = Integer.parseInt(people);\r\n    \t\t\t\r\n    \t\t\tpricePP = total / peopleI; \r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;The total is $&quot; + total + &quot; per person&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t\t\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Have a nice day!&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t} \r\n    \t\t\r\n    \t\telse if (ifSplit.equalsIgnoreCase(&quot;no&quot;)){ \r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Have a nice day!&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n        ","title":"Simple Divison for Calculator not working","body":"<p>I'm Trying to make a calculator that will figure in tax, tip, and splitting between multiple people, but the last feature isn't working and I can't figure out why. I know it will probably be a simple fix but I'm new to Java so I just can't find it. Note: this is my first actual Java program so please be understanding with my probably obvious mistake.</p>\n\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class TaxFinder { \n\n     static Scanner scan = new Scanner(System.in);\n    public static double priceD, taxD, totalTax, total, priceTipped, pricePP;\n    public static int peopleI;\n    public static String price, tax, people, ifTip, tip, ifSplit;\n\n    public static void main(String args[]){\n\n        ifTip = JOptionPane.showInputDialog(\"Was your purchase in a restaurant?\");\n\n         if (ifTip.equalsIgnoreCase(\"yes\")){ \n             price = JOptionPane.showInputDialog(\"What was the cost of your bill ($)?\");\n             priceD = Double.parseDouble(price);\n\n             tax = JOptionPane.showInputDialog(\"What is your tax rate (decimal)?\"); \n             taxD = Double.parseDouble(tax);\n\n             tip = JOptionPane.showInputDialog(\"Do you want to tip 5, 10, 15, or 20% ?\"); \n\n             if (tip.equals(\"5\")){ \n                 priceTipped = priceD * .05;\n             }\n\n             else if (tip.equals(\"10\")){ \n                 priceTipped = priceD * .1;\n                 //System.out.println(\"Your price tipped is \" + priceTipped);\n             }\n\n             else if (tip.equals(\"15\")){ \n                 priceTipped = priceD * .15;\n             }\n\n             else if (tip.equals(\"20\")){ \n                 priceTipped = priceD * .2;\n             }\n\n             totalTax = priceD * taxD;\n             total = priceD + totalTax + priceTipped;\n\n         } \n\n         else if (ifTip.equalsIgnoreCase(\"no\")){ \n             price = JOptionPane.showInputDialog(\"How much did your purchase cost ($)?\");\n             priceD = Double.parseDouble(price);\n             tax = JOptionPane.showInputDialog(\"What is your tax rate (decimal)?\");\n             taxD = Double.parseDouble(tax);\n\n         totalTax = priceD * taxD;\n        total = priceD + totalTax;\n         }\n\n        JOptionPane.showMessageDialog(null, \"Your total is: $\" + total, \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n\n        ifSplit = JOptionPane.showInputDialog(\"Are you splitting the cost with other people?\");\n\n        if (ifSplit.equalsIgnoreCase(\"yes\")){ \n            people = JOptionPane.showInputDialog(\"How many people including you?\");\n            peopleI = Integer.parseInt(people);\n\n            pricePP = total / peopleI; \n            JOptionPane.showMessageDialog(null, \"The total is $\" + total + \" per person\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n\n            JOptionPane.showMessageDialog(null, \"Have a nice day!\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n        } \n\n        else if (ifSplit.equalsIgnoreCase(\"no\")){ \n            JOptionPane.showMessageDialog(null, \"Have a nice day!\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-config","asymmetric"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1659383719,"post_id":73198817,"comment_id":129277368,"body_markdown":"Any logs or stack traces on server with error?","body":"Any logs or stack traces on server with error?"},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659386914,"post_id":73198817,"comment_id":129278228,"body_markdown":"when sended request to localhost/encrpyt is typing o.s.c.c.s.e.EncryptionController: Encrypted data .         But send request to unix machine any log belongs to controller.","body":"when sended request to localhost/encrpyt is typing o.s.c.c.s.e.EncryptionController: Encrypted data .         But send request to unix machine any log belongs to controller."},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659400997,"post_id":73198817,"comment_id":129280913,"body_markdown":"&quot; If you get the error {&quot;description&quot;:&quot;The encryption algorithm is not strong enough&quot;,&quot;status&quot;:&quot;INVALID&quot;} when performing the POST /encrypt request, this is probably because your encrypt.key is in the wrong file. Make sure it is in the bootstrap.properties.&quot;","body":"&quot; If you get the error {&quot;description&quot;:&quot;The encryption algorithm is not strong enough&quot;,&quot;status&quot;:&quot;INVALID&quot;} when performing the POST /encrypt request, this is probably because your encrypt.key is in the wrong file. Make sure it is in the bootstrap.properties.&quot;"},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659401238,"post_id":73198817,"comment_id":129280941,"body_markdown":"But I am not using symmetric key. I am using asymmetric key and KeyStore, password, alias are located in bootsrap.yml file","body":"But I am not using symmetric key. I am using asymmetric key and KeyStore, password, alias are located in bootsrap.yml file"}],"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382969,"creation_date":1659382969,"question_id":73198817,"body_markdown":"I got the following response while trying to encrypt using Asymmetric encryption on unix machine\r\n\r\n    {\r\n        &quot;description&quot;: &quot;The encryption algorithm is not strong enough&quot;,\r\n        &quot;status&quot;: &quot;INVALID&quot;\r\n    }\r\n\r\n\r\n  \r\n\r\n**localhost:8012/encrypt**\r\n\r\n\r\n\r\nThis url response ok  but application work on windows operating system.\r\n\r\nresponse\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**10.301.332.31:8012/encrypt**\r\n\r\nThis unix machine and application response as algorithm is not strong enough\r\nreponse is correct\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AQOYV.png\r\n  [2]: https://i.stack.imgur.com/SXieK.png","title":"Spring Cloud Config Asymmetric encryption error on Unix Machine","body":"<p>I got the following response while trying to encrypt using Asymmetric encryption on unix machine</p>\n<pre><code>{\n    &quot;description&quot;: &quot;The encryption algorithm is not strong enough&quot;,\n    &quot;status&quot;: &quot;INVALID&quot;\n}\n</code></pre>\n<p><strong>localhost:8012/encrypt</strong></p>\n<p>This url response ok  but application work on windows operating system.</p>\n<p>response\n<a href=\"https://i.stack.imgur.com/AQOYV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQOYV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>10.301.332.31:8012/encrypt</strong></p>\n<p>This unix machine and application response as algorithm is not strong enough\nreponse is correct</p>\n<p><a href=\"https://i.stack.imgur.com/SXieK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SXieK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-launcher"],"comments":[{"owner":{"account_id":1536766,"reputation":1619,"user_id":1546986,"display_name":"Marcus"},"score":0,"creation_date":1385897046,"post_id":18522142,"comment_id":30309420,"body_markdown":"This can also be done on Sony&#39;s and Samsung&#39;s launchers, please see this post for how it&#39;s done: http://stackoverflow.com/questions/20216806/how-to-add-a-notification-badge-count-to-application-icon-on-sony-xperia-devices/","body":"This can also be done on Sony&#39;s and Samsung&#39;s launchers, please see this post for how it&#39;s done: <a href=\"http://stackoverflow.com/questions/20216806/how-to-add-a-notification-badge-count-to-application-icon-on-sony-xperia-devices/\" title=\"how to add a notification badge count to application icon on sony xperia devices\">stackoverflow.com/questions/20216806/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1377817004,"creation_date":1377817004,"answer_id":18522249,"question_id":18522142,"body_markdown":"As anyone who has installed those apps knows, those are replacement home screens. A home screen can do whatever the home screen wants:\r\n\r\n- If those home screens want to display badges over icons for well-known apps using their own code (e.g., Gmail), they can do so\r\n\r\n- If those home screens want to expose some API that app developers can use to enable badges for their apps, they can do so\r\n\r\nFor example, Nova Launcher does the former, as people who read [the Play Store listing][1] can tell:\r\n\r\n&gt; Unread count badges for SMS, Missed calls, Gmail, Email, Google Voice and more. Counts show in the dock, desktop, drawer and folders.\r\n\r\nBeyond that, the only way I know of for an app to try to affect its launcher icon is by changing the enabled `LAUNCHER` component, disabling the old one and enabling a different one with a different icon. This is going to be unreliable, though, as not all home screens will necessarily change the icon dynamically, perhaps not doing so until a device reboot.\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher","title":"How are notification badges implemented in Android launchers? Can I do this in my application?","body":"<p>As anyone who has installed those apps knows, those are replacement home screens. A home screen can do whatever the home screen wants:</p>\n\n<ul>\n<li><p>If those home screens want to display badges over icons for well-known apps using their own code (e.g., Gmail), they can do so</p></li>\n<li><p>If those home screens want to expose some API that app developers can use to enable badges for their apps, they can do so</p></li>\n</ul>\n\n<p>For example, Nova Launcher does the former, as people who read <a href=\"https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\" rel=\"nofollow\">the Play Store listing</a> can tell:</p>\n\n<blockquote>\n  <p>Unread count badges for SMS, Missed calls, Gmail, Email, Google Voice and more. Counts show in the dock, desktop, drawer and folders.</p>\n</blockquote>\n\n<p>Beyond that, the only way I know of for an app to try to affect its launcher icon is by changing the enabled <code>LAUNCHER</code> component, disabling the old one and enabling a different one with a different icon. This is going to be unreliable, though, as not all home screens will necessarily change the icon dynamically, perhaps not doing so until a device reboot.</p>\n"}],"owner":{"account_id":1976762,"reputation":8486,"user_id":1774391,"accept_rate":99,"display_name":"MainstreamDeveloper00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18522249,"answer_count":1,"score":0,"last_activity_date":1659382707,"creation_date":1377816276,"question_id":18522142,"body_markdown":"As far as I understand, there is no way to dynamically change application icon in Android. There are a lot of posts in SO about it. Nevertheless, on my stock Nexus 4 with vanilla Android, I have Go launcher installed and it can set badges above the app icon. So can Nova Launcher: https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\r\n&lt;p&gt;I&#39;m interested how can this be achieved in Android? Some hacks? Private Api?\r\n","title":"How are notification badges implemented in Android launchers? Can I do this in my application?","body":"<p>As far as I understand, there is no way to dynamically change application icon in Android. There are a lot of posts in SO about it. Nevertheless, on my stock Nexus 4 with vanilla Android, I have Go launcher installed and it can set badges above the app icon. So can Nova Launcher: <a href=\"https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher</a></p>\n<p>I'm interested how can this be achieved in Android? Some hacks? Private Api?\n"},{"tags":["java","ascii","println"],"comments":[{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":0,"creation_date":1659382667,"post_id":73194087,"comment_id":129277048,"body_markdown":"Are you supposed to print out whatever file path the user happens to enter, rather than always print the examples *C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt* and *This is not a file path. Moo :)*?","body":"Are you supposed to print out whatever file path the user happens to enter, rather than always print the examples <i>C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt</i> and <i>This is not a file path. Moo :)</i>?"},{"owner":{"account_id":25819323,"reputation":80,"user_id":19561083,"display_name":"worrum"},"score":0,"creation_date":1659385107,"post_id":73194087,"comment_id":129277797,"body_markdown":"I should always print a cow, just with different answers\nLike: This is not a file path. Moo :) if incorect or FilePath + cow if correct","body":"I should always print a cow, just with different answers Like: This is not a file path. Moo :) if incorect or FilePath + cow if correct"}],"owner":{"account_id":25819323,"reputation":80,"user_id":19561083,"display_name":"worrum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382494,"creation_date":1659358881,"question_id":73194087,"body_markdown":"\r\nI am beginner Java programmer, I&#39;m taking JetBrains Academy course and the task is to output a cow in ASCII:\r\n\r\n**The Goal:**\r\n\r\n1) Expand your program so that it requests the file path with the file path substring. In this stage, the cow must repeat everything after users, so when they input a string, your program should print out the same string as the first line;\r\n2) After the reply, print the cow picture as in the example section (16 characters wide). As you remember from the first stage, the lines on the picture should have the same length and are formatted with whitespaces.\r\n\r\n**Example 1:**\r\n```\r\nInput the file path:\r\n&gt; C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\r\nC:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||\r\n   ||     || \r\n```\r\n**Example 2:**\r\n```\r\nInput the file path:\r\n&gt; This is not a file path. Moo :)\r\nThis is not a file path. Moo :)\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||\r\n   ||     ||    \r\n```\r\nMy Code:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        String filepath = &quot;C:\\\\Users\\\\ASCII_Cow\\\\MooFolder\\\\MooFile.txt&quot;;\r\n        System.out.println(&quot;Input the file path: &quot;);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String fileInput = reader.readLine();\r\n        if (fileInput.equals(filepath)) {\r\n            System.out.println(filepath);\r\n            System.out.print(\r\n                    &quot;            ^__^\\n&quot; +\r\n                            &quot;    _______/(oo)\\n&quot; +\r\n                            &quot;/\\\\/(       /(__)\\n&quot; +\r\n                            &quot;   | w----||    \\n&quot; +\r\n                            &quot;   ||     ||    &quot;);\r\n        } else {\r\n            System.out.println(&quot;This is not a file path. Moo :)&quot;);\r\n            System.out.println(\r\n                    &quot;            ^__^\\n&quot; +\r\n                            &quot;    _______/(oo)\\n&quot; +\r\n                            &quot;/\\\\/(       /(__)\\n&quot; +\r\n                            &quot;   | w----||    \\n&quot; +\r\n                            &quot;   ||     ||    &quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nSecond test doesn&#39;t pass:\r\n*Wrong answer in test #2 When the user entered any string, program should output exactly 9 non-empty lines, first one should contain user&#39;s input, other 5 ones should contain ascii cow&#39;s picture...*\r\n\r\n**Test file source code:**\r\n```\r\npublic class MirrorTest extends StageTest {\r\n\r\n  String[] test_data = {\r\n          &quot; &quot;,&quot;test&quot;,&quot;C:\\\\Users\\\\Examples\\\\test.txt&quot;,&quot;/home/username/test.txt&quot;\r\n  };\r\n\r\n  @DynamicTest(data = &quot;test_data&quot;)\r\n  CheckResult testSolution(String input) {\r\n    TestedProgram pr = new TestedProgram();\r\n    String output = pr.start().strip().toLowerCase();\r\n    String[] strings = output.strip().split(&quot;\\n&quot;);\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(strings));\r\n    list.removeAll(Arrays.asList(&quot;&quot;));\r\n    if(list.size()!=1 || !list.get(0).contains(&quot;file path&quot;)){\r\n      throw new WrongAnswer(&quot;When the program just started, output should contain exactly 1 non-empty line &quot; +\r\n              &quot;with \\&quot;file path\\&quot; substring&quot;);\r\n    }\r\n    output = pr.execute(input);\r\n    strings = output.split(&quot;\\n&quot;);\r\n    list = new ArrayList&lt;&gt;(Arrays.asList(strings));\r\n    list.removeAll(Arrays.asList(&quot;&quot;));\r\n    if(list.size()!=6 || !list.get(0).contains(input)){\r\n      throw new WrongAnswer(&quot;When the user entered any string, program should output exactly 9 non-empty&quot; +\r\n              &quot; lines, first one should contain user&#39;s input, other 5 ones should contain ascii cow&#39;s picture&quot;);\r\n    }\r\n    List&lt;String&gt; correctList = new ArrayList&lt;&gt;(Arrays.asList(\r\n            &quot;            ^__^&quot;,\r\n            &quot;    _______/(oo)&quot;,\r\n            &quot;/\\\\/(       /(__)&quot;,\r\n            &quot;   | w----||    &quot;,\r\n            &quot;   ||     ||    &quot;));\r\n    for (int i=1;i&lt;list.size();i++){\r\n      if(!list.get(i).equals(correctList.get(i-1))){\r\n        throw new WrongAnswer(&quot;All the printed lines in ascii cow&#39;s picture should be equal to lines in the &quot; +\r\n                &quot; example. Make sure, that you&#39;ve not ignored whitespaces at the beginning and at the end of each line&quot;);\r\n      }\r\n    }\r\n    if(!pr.isFinished()){\r\n      throw new WrongAnswer(&quot;Program should finish after outputting the picture&quot;);\r\n    }\r\n    return CheckResult.correct();\r\n  }\r\n}\r\n```\r\n\r\n**The issue is I tried various options of printing 9th line - `&quot;\\n&quot;`, `println()`, `println(&quot;&quot;)` and so on.\r\nIf I run the program manually - I have 9 lines, if I check with tests 9th line doesn&#39;t appear, only 8 lines.** \r\n\r\n\r\nConsole output after test:\r\n```\r\nInput the file path: \r\n&gt; test\r\nThis is not a file path. Moo :)\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||    \r\n   ||     ||\r\n```","title":"JetBrains Academy ASCII cow draw issue","body":"<p>I am beginner Java programmer, I'm taking JetBrains Academy course and the task is to output a cow in ASCII:</p>\n<p><strong>The Goal:</strong></p>\n<ol>\n<li>Expand your program so that it requests the file path with the file path substring. In this stage, the cow must repeat everything after users, so when they input a string, your program should print out the same string as the first line;</li>\n<li>After the reply, print the cow picture as in the example section (16 characters wide). As you remember from the first stage, the lines on the picture should have the same length and are formatted with whitespaces.</li>\n</ol>\n<p><strong>Example 1:</strong></p>\n<pre><code>Input the file path:\n&gt; C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\nC:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||\n   ||     || \n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>Input the file path:\n&gt; This is not a file path. Moo :)\nThis is not a file path. Moo :)\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||\n   ||     ||    \n</code></pre>\n<p>My Code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        String filepath = &quot;C:\\\\Users\\\\ASCII_Cow\\\\MooFolder\\\\MooFile.txt&quot;;\n        System.out.println(&quot;Input the file path: &quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String fileInput = reader.readLine();\n        if (fileInput.equals(filepath)) {\n            System.out.println(filepath);\n            System.out.print(\n                    &quot;            ^__^\\n&quot; +\n                            &quot;    _______/(oo)\\n&quot; +\n                            &quot;/\\\\/(       /(__)\\n&quot; +\n                            &quot;   | w----||    \\n&quot; +\n                            &quot;   ||     ||    &quot;);\n        } else {\n            System.out.println(&quot;This is not a file path. Moo :)&quot;);\n            System.out.println(\n                    &quot;            ^__^\\n&quot; +\n                            &quot;    _______/(oo)\\n&quot; +\n                            &quot;/\\\\/(       /(__)\\n&quot; +\n                            &quot;   | w----||    \\n&quot; +\n                            &quot;   ||     ||    &quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Second test doesn't pass:\n<em>Wrong answer in test #2 When the user entered any string, program should output exactly 9 non-empty lines, first one should contain user's input, other 5 ones should contain ascii cow's picture...</em></p>\n<p><strong>Test file source code:</strong></p>\n<pre><code>public class MirrorTest extends StageTest {\n\n  String[] test_data = {\n          &quot; &quot;,&quot;test&quot;,&quot;C:\\\\Users\\\\Examples\\\\test.txt&quot;,&quot;/home/username/test.txt&quot;\n  };\n\n  @DynamicTest(data = &quot;test_data&quot;)\n  CheckResult testSolution(String input) {\n    TestedProgram pr = new TestedProgram();\n    String output = pr.start().strip().toLowerCase();\n    String[] strings = output.strip().split(&quot;\\n&quot;);\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(strings));\n    list.removeAll(Arrays.asList(&quot;&quot;));\n    if(list.size()!=1 || !list.get(0).contains(&quot;file path&quot;)){\n      throw new WrongAnswer(&quot;When the program just started, output should contain exactly 1 non-empty line &quot; +\n              &quot;with \\&quot;file path\\&quot; substring&quot;);\n    }\n    output = pr.execute(input);\n    strings = output.split(&quot;\\n&quot;);\n    list = new ArrayList&lt;&gt;(Arrays.asList(strings));\n    list.removeAll(Arrays.asList(&quot;&quot;));\n    if(list.size()!=6 || !list.get(0).contains(input)){\n      throw new WrongAnswer(&quot;When the user entered any string, program should output exactly 9 non-empty&quot; +\n              &quot; lines, first one should contain user's input, other 5 ones should contain ascii cow's picture&quot;);\n    }\n    List&lt;String&gt; correctList = new ArrayList&lt;&gt;(Arrays.asList(\n            &quot;            ^__^&quot;,\n            &quot;    _______/(oo)&quot;,\n            &quot;/\\\\/(       /(__)&quot;,\n            &quot;   | w----||    &quot;,\n            &quot;   ||     ||    &quot;));\n    for (int i=1;i&lt;list.size();i++){\n      if(!list.get(i).equals(correctList.get(i-1))){\n        throw new WrongAnswer(&quot;All the printed lines in ascii cow's picture should be equal to lines in the &quot; +\n                &quot; example. Make sure, that you've not ignored whitespaces at the beginning and at the end of each line&quot;);\n      }\n    }\n    if(!pr.isFinished()){\n      throw new WrongAnswer(&quot;Program should finish after outputting the picture&quot;);\n    }\n    return CheckResult.correct();\n  }\n}\n</code></pre>\n<p><strong>The issue is I tried various options of printing 9th line - <code>&quot;\\n&quot;</code>, <code>println()</code>, <code>println(&quot;&quot;)</code> and so on.\nIf I run the program manually - I have 9 lines, if I check with tests 9th line doesn't appear, only 8 lines.</strong></p>\n<p>Console output after test:</p>\n<pre><code>Input the file path: \n&gt; test\nThis is not a file path. Moo :)\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||    \n   ||     ||\n</code></pre>\n"},{"tags":["java","spring","spring-boot","serialization","hazelcast"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1659383865,"post_id":73198727,"comment_id":129277415,"body_markdown":"What&#39;s the  stacktrace ? What the output if you add `System.out.println(studentCache)` immediate prior to your `objectMappper.readValue(..` line. Is the `studentDetails` JSON ?","body":"What&#39;s the  stacktrace ? What the output if you add <code>System.out.println(studentCache)</code> immediate prior to your <code>objectMappper.readValue(..</code> line. Is the <code>studentDetails</code> JSON ?"},{"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"score":0,"creation_date":1659384895,"post_id":73198727,"comment_id":129277732,"body_markdown":"I am getting this error Cannot construct instance of `com.demo.StudentCache` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&#39;)","body":"I am getting this error Cannot construct instance of <code>com.demo.StudentCache</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&#39;)"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1659431251,"post_id":73198727,"comment_id":129287432,"body_markdown":"What does `System.out.println(studentCache)` show ? The full detail will confirm if the issue is with Hazelcast or the object mapper","body":"What does <code>System.out.println(studentCache)</code> show ? The full detail will confirm if the issue is with Hazelcast or the object mapper"}],"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382465,"creation_date":1659382465,"question_id":73198727,"body_markdown":"I am trying to store data in hazelcast the data get stored in hazelcast successfully the issue comes when I am trying to retrieve data from hazel cast it gives deserialize exception I debugged the program and saw there is a source paramter added to my hazel output\r\nI have mentioned the code below\r\n **Student.class** \r\n\r\n    @Data\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class Student {\r\n        String studentId;\r\n        String studentDetails;\r\n    }\r\n\r\nHazelCast class entity\r\nHazelCast.class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class StudentCache implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        String studentId;\r\n        String studentDetails;\r\n    }\r\n\r\n    public class StudentCacheServiceImpl implements StudentCacheService {\r\n    \r\n        @Autowired\r\n        HazelcastInstance instance;\r\n    \r\n        IMap&lt;String, StudentCache&gt; studentMap;\r\n    \r\n        String students = &quot;STUDENT_MAP&quot;;\r\n    \r\n    \r\n        @Override\r\n        public StudentCache findById(String studentId) {\r\n            StudentCache studentCache = studentMap.get(studentId);\r\n            return studentCache;\r\n        }\r\n    \r\n        @Override\r\n        public void add(StudentCache studenteCache) {\r\n                studentMap.put(studentCache.getStudentId, studentCache, 50, TIMEUNIT.MINUTES);\r\n             \r\n            } \r\n        }\r\n    }\r\n\r\nWhenever I am trying to use finder method I face the issue of deserialization I am able to successfully put data into hazelcast but I am not able to map data to a Dto when I use hazelcast finder method\r\n\r\nThe issue is with this part \r\n\r\n   \r\n\r\n     @Data\r\n            @FieldDefaults(level = AccessLevel.PRIVATE)\r\n            public class StudentHazel {\r\n                String studentId;\r\n                String studentDetails;\r\n            }\r\n    \r\n    StudentCache studentCache=StudentCacheServiceImpl.findById(studentId);\r\n                    StudentHazel studentHazel = objectMapper.readValue(studentCache.getStudentDetails(), StudentHazel.class);\r\n\r\nThe objectMapper part fails to map data to my StudentHazel dto how can I resolve this issue\r\n","title":"Retrieving data from hazelcast causes deserialize issue in springboot","body":"<p>I am trying to store data in hazelcast the data get stored in hazelcast successfully the issue comes when I am trying to retrieve data from hazel cast it gives deserialize exception I debugged the program and saw there is a source paramter added to my hazel output\nI have mentioned the code below\n<strong>Student.class</strong></p>\n<pre><code>@Data\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Student {\n    String studentId;\n    String studentDetails;\n}\n</code></pre>\n<p>HazelCast class entity\nHazelCast.class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StudentCache implements Serializable {\n    private static final long serialVersionUID = 1L;\n    String studentId;\n    String studentDetails;\n}\n\npublic class StudentCacheServiceImpl implements StudentCacheService {\n\n    @Autowired\n    HazelcastInstance instance;\n\n    IMap&lt;String, StudentCache&gt; studentMap;\n\n    String students = &quot;STUDENT_MAP&quot;;\n\n\n    @Override\n    public StudentCache findById(String studentId) {\n        StudentCache studentCache = studentMap.get(studentId);\n        return studentCache;\n    }\n\n    @Override\n    public void add(StudentCache studenteCache) {\n            studentMap.put(studentCache.getStudentId, studentCache, 50, TIMEUNIT.MINUTES);\n         \n        } \n    }\n}\n</code></pre>\n<p>Whenever I am trying to use finder method I face the issue of deserialization I am able to successfully put data into hazelcast but I am not able to map data to a Dto when I use hazelcast finder method</p>\n<p>The issue is with this part</p>\n<pre><code> @Data\n        @FieldDefaults(level = AccessLevel.PRIVATE)\n        public class StudentHazel {\n            String studentId;\n            String studentDetails;\n        }\n\nStudentCache studentCache=StudentCacheServiceImpl.findById(studentId);\n                StudentHazel studentHazel = objectMapper.readValue(studentCache.getStudentDetails(), StudentHazel.class);\n</code></pre>\n<p>The objectMapper part fails to map data to my StudentHazel dto how can I resolve this issue</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1659371791,"post_id":73196867,"comment_id":129273769,"body_markdown":"This looks like JSON data, why not use a JSON parser readily available in Java?","body":"This looks like JSON data, why not use a JSON parser readily available in Java?"},{"owner":{"account_id":19648297,"reputation":223,"user_id":14382768,"display_name":"xarc"},"score":0,"creation_date":1659372478,"post_id":73196867,"comment_id":129273982,"body_markdown":"Because that is a Dataflow java code and just need extract the number without double or single quotes","body":"Because that is a Dataflow java code and just need extract the number without double or single quotes"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659382127,"creation_date":1659374206,"answer_id":73197354,"question_id":73196867,"body_markdown":"If JSON parser is not available then here is a regex solution.\r\n\r\nJava allows limited dynamism in lookbehind. You may use this regex:\r\n\r\n```sh\r\n(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;&#39;]?)\\w+\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\nNote addition of an optional `&quot;` or `&#39;` inside the lookbehind condition.\r\n\r\n\r\n  [1]: https://regex101.com/r/fnN0dR/1\r\n\r\n**Code:**\r\n\r\n```Java\r\nPattern pattern = Pattern.compile(&quot;(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;&#39;]?)\\\\w+&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nwhile (matcher.find()) {\r\n   System.out.println(&quot;Match: &quot; + matcher.group(0));\r\n}\r\n```","title":"How extract only numbers between double quotes, simple quotes or without them using regex","body":"<p>If JSON parser is not available then here is a regex solution.</p>\n<p>Java allows limited dynamism in lookbehind. You may use this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;']?)\\w+\n</code></pre>\n<p><a href=\"https://regex101.com/r/fnN0dR/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p>Note addition of an optional <code>&quot;</code> or <code>'</code> inside the lookbehind condition.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;']?)\\\\w+&quot;);\nMatcher matcher = pattern.matcher(string);\nwhile (matcher.find()) {\n   System.out.println(&quot;Match: &quot; + matcher.group(0));\n}\n</code></pre>\n"}],"owner":{"account_id":19648297,"reputation":223,"user_id":14382768,"display_name":"xarc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73197354,"answer_count":1,"score":1,"last_activity_date":1659382156,"creation_date":1659371536,"question_id":73196867,"body_markdown":"I have a Java code that processes events in real time, from which it extracts information using regex, recently it fails, after hours of debugging, I find that this value can arrive in the 3 ways that I leave here:\r\n\r\n```\r\n{&quot;eventId&quot;:&quot;25&quot;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n{&quot;eventId&quot;:&#39;25&#39;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n{&quot;eventId&quot;:25,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n\r\n```\r\nI have tried without success to modify the current regex that extracts the information, to extracts the `eventId` number `25` in any of the three cases:\r\n\r\n``` \r\n(?&lt;=&quot;eventId&quot;:)&quot;(\\w+)&quot;(?=,)\r\n```\r\n\r\n\r\nIs there any way to achieve this? ... thanks in advance!\r\n\r\nPS: That is a Dataflow java code and just need extract the number without double or single quotes.","title":"How extract only numbers between double quotes, simple quotes or without them using regex","body":"<p>I have a Java code that processes events in real time, from which it extracts information using regex, recently it fails, after hours of debugging, I find that this value can arrive in the 3 ways that I leave here:</p>\n<pre><code>{&quot;eventId&quot;:&quot;25&quot;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n{&quot;eventId&quot;:'25',&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n{&quot;eventId&quot;:25,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n\n</code></pre>\n<p>I have tried without success to modify the current regex that extracts the information, to extracts the <code>eventId</code> number <code>25</code> in any of the three cases:</p>\n<pre><code>(?&lt;=&quot;eventId&quot;:)&quot;(\\w+)&quot;(?=,)\n</code></pre>\n<p>Is there any way to achieve this? ... thanks in advance!</p>\n<p>PS: That is a Dataflow java code and just need extract the number without double or single quotes.</p>\n"},{"tags":["java","multithreading","concurrency","interlocked"],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1248078595,"creation_date":1248078595,"answer_id":1152325,"question_id":1152298,"body_markdown":"Use [AtomicInteger][1].\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"noreferrer\">AtomicInteger</a>.</p>\n"},{"tags":[],"owner":{"account_id":47291,"reputation":4113,"user_id":140006,"accept_rate":86,"display_name":"CsTamas"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1659381313,"creation_date":1248078698,"answer_id":1152329,"question_id":1152298,"body_markdown":"Thread safety can be achieved via synchronized functions.\r\nWrap your int (or such data) in a class which provides the required functionalities via synchronized methods, e.g.\r\n\r\n    public class X\r\n    {\r\n      protected int x;\r\n      public synchronized void set( int value )\r\n      {\r\n        x = value;\r\n      }\r\n    }\r\n\r\nYou can also use classes from the [java.util.concurrent.atomic][1] package, e.g. AtomicInteger or AtomicIntegerArray\r\n\r\n\r\nWhy this answer won&#39;t work\r\n-----------------------\r\n\r\nI just wanted to be sure to point out exactly what is wrong with this answer, in case anyone thinks that `synchronized` can be used to solve thread race effects.\r\n\r\n\r\n    | Thread A      | Thread B         | \r\n    |---------------|------------------|\r\n    | read x (x=4)  |                  |\r\n    |               | read x (x=4)     |\r\n    | Calculate 4+1 |                  |\r\n    | EAX ← 5       |                  |\r\n    |               | Calculate 4+1    |\r\n    |               | EAX ← 5          |\r\n    | Start sync    |                  |\r\n    | {             | Start sync       |\r\n    | { x ← 5       |    wait          |\r\n    | {             |    wait          |\r\n    | End sync      |    wait          |\r\n    |               | {                | \r\n    |               | { x ← 5          |\r\n    |               | {                | \r\n    |               | End sync         |\r\n\r\nThe end result of the operations:\r\n\r\n    x = 4;\r\n    x += 1;\r\n    x += 1;\r\n\r\nis that **x = 5** rather than 6.\r\n\r\nThe same issue exists with the `volatile` keyword. The `volatile` keyword doesn&#39;t save you from thread effects. The volatile keyword only ensures that \r\n\r\n- caches are flushed before a variable is read\r\n- caches are flushed after a value is written\r\n\r\nStrictly speaking, `volatile` ensures that memory operations are not reordered around a volatile variable. Which means you still suffer from the:\r\n\r\n- read from x\r\n- write to x\r\n\r\nproblem.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>Thread safety can be achieved via synchronized functions.\nWrap your int (or such data) in a class which provides the required functionalities via synchronized methods, e.g.</p>\n<pre><code>public class X\n{\n  protected int x;\n  public synchronized void set( int value )\n  {\n    x = value;\n  }\n}\n</code></pre>\n<p>You can also use classes from the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">java.util.concurrent.atomic</a> package, e.g. AtomicInteger or AtomicIntegerArray</p>\n<h2>Why this answer won't work</h2>\n<p>I just wanted to be sure to point out exactly what is wrong with this answer, in case anyone thinks that <code>synchronized</code> can be used to solve thread race effects.</p>\n<pre><code>| Thread A      | Thread B         | \n|---------------|------------------|\n| read x (x=4)  |                  |\n|               | read x (x=4)     |\n| Calculate 4+1 |                  |\n| EAX ← 5       |                  |\n|               | Calculate 4+1    |\n|               | EAX ← 5          |\n| Start sync    |                  |\n| {             | Start sync       |\n| { x ← 5       |    wait          |\n| {             |    wait          |\n| End sync      |    wait          |\n|               | {                | \n|               | { x ← 5          |\n|               | {                | \n|               | End sync         |\n</code></pre>\n<p>The end result of the operations:</p>\n<pre><code>x = 4;\nx += 1;\nx += 1;\n</code></pre>\n<p>is that <strong>x = 5</strong> rather than 6.</p>\n<p>The same issue exists with the <code>volatile</code> keyword. The <code>volatile</code> keyword doesn't save you from thread effects. The volatile keyword only ensures that</p>\n<ul>\n<li>caches are flushed before a variable is read</li>\n<li>caches are flushed after a value is written</li>\n</ul>\n<p>Strictly speaking, <code>volatile</code> ensures that memory operations are not reordered around a volatile variable. Which means you still suffer from the:</p>\n<ul>\n<li>read from x</li>\n<li>write to x</li>\n</ul>\n<p>problem.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557453686,"creation_date":1557453686,"answer_id":56069754,"question_id":1152298,"body_markdown":"    private final static AtomicInteger at = new AtomicInteger();\r\n \r\n    public void run() {\r\n        at.set(7);\r\n        int i = at.incrementAndGet();\r\n","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<pre><code>private final static AtomicInteger at = new AtomicInteger();\n\npublic void run() {\n    at.set(7);\n    int i = at.incrementAndGet();\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9231,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":1152325,"answer_count":3,"score":16,"last_activity_date":1659381313,"creation_date":1248078305,"question_id":1152298,"body_markdown":"How do I modify an int atomically and thread-safely in Java?\r\n\r\nAtomically increment, test &amp; set, etc...?","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>How do I modify an int atomically and thread-safely in Java?</p>\n\n<p>Atomically increment, test &amp; set, etc...?</p>\n"},{"tags":["java","algorithm","collections","treeset"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1659379423,"post_id":73198184,"comment_id":129276105,"body_markdown":"Who said `next()` was constant time?","body":"Who said <code>next()</code> was constant time?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1659379549,"post_id":73198184,"comment_id":129276142,"body_markdown":"And who says that `iterator()` needs to be `O(1)`? https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations tells you that `next()` is `O(n)` btw.","body":"And who says that <code>iterator()</code> needs to be <code>O(1)</code>? <a href=\"https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\" title=\"big o summary for java collections framework implementations\">stackoverflow.com/questions/559839/&hellip;</a> tells you that <code>next()</code> is <code>O(n)</code> btw."},{"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"score":0,"creation_date":1659380424,"post_id":73198184,"comment_id":129276411,"body_markdown":"@GhostCat [This answer](https://stackoverflow.com/questions/40371854/the-time-complexity-of-iterator-in-java) led me to believe that iterator() should be O(1).","body":"@GhostCat <a href=\"https://stackoverflow.com/questions/40371854/the-time-complexity-of-iterator-in-java\">This answer</a> led me to believe that iterator() should be O(1)."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659381169,"creation_date":1659381169,"answer_id":73198510,"question_id":73198184,"body_markdown":"`iterator()` returns an object that implements the Iterator interface. This _can_ be accomplished in constant time, of course. \r\n\r\nE. g. the iterator might manage a pointer to the current element. At the beginning this pointer might be `null`, so that the first call of `hasNext()` would have to walk down the tree to the first element, which should have a complexity of O(log n).","title":"Why isn&#39;t TreeSet&#39;s first method implemented in O(1) time?","body":"<p><code>iterator()</code> returns an object that implements the Iterator interface. This <em>can</em> be accomplished in constant time, of course.</p>\n<p>E. g. the iterator might manage a pointer to the current element. At the beginning this pointer might be <code>null</code>, so that the first call of <code>hasNext()</code> would have to walk down the tree to the first element, which should have a complexity of O(log n).</p>\n"}],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73198510,"answer_count":1,"score":1,"last_activity_date":1659381169,"creation_date":1659379089,"question_id":73198184,"body_markdown":"My understanding of`TreeSet`&#39;s `first()` method is that it will take `O(log n)` based of the explanation in [this](https://stackoverflow.com/questions/5214670/what-is-the-time-complexity-of-ordered-operations-in-treeset) answer. \r\n\r\nThe explanation in that answer says that for it to be `o(1)` we would need to maintain a pointer to the first element in the `TreeSet` which would add a constant time to every operation. However, doesn&#39;t Java already maintain such a pointer since the `iterator()` method of a collection must be `O(1)`? i.e couldn&#39;t we just instantiate the iterator in `O(1)` and get the first element using `next()` in constant time?  ","title":"Why isn&#39;t TreeSet&#39;s first method implemented in O(1) time?","body":"<p>My understanding of<code>TreeSet</code>'s <code>first()</code> method is that it will take <code>O(log n)</code> based of the explanation in <a href=\"https://stackoverflow.com/questions/5214670/what-is-the-time-complexity-of-ordered-operations-in-treeset\">this</a> answer.</p>\n<p>The explanation in that answer says that for it to be <code>o(1)</code> we would need to maintain a pointer to the first element in the <code>TreeSet</code> which would add a constant time to every operation. However, doesn't Java already maintain such a pointer since the <code>iterator()</code> method of a collection must be <code>O(1)</code>? i.e couldn't we just instantiate the iterator in <code>O(1)</code> and get the first element using <code>next()</code> in constant time?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":2,"creation_date":1659381038,"post_id":73198473,"comment_id":129276623,"body_markdown":"Do you actually need to check that the pages resolve, or just that the links are in a valid format? Could just use a regex to check the URL format if that&#39;s all you need, which would be a lot faster. If you really need the status code, you could look into the [threads API](https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html) to run more requests at the same time","body":"Do you actually need to check that the pages resolve, or just that the links are in a valid format? Could just use a regex to check the URL format if that&#39;s all you need, which would be a lot faster. If you really need the status code, you could look into the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">threads API</a> to run more requests at the same time"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1659381180,"post_id":73198473,"comment_id":129276657,"body_markdown":"Use more than one thread?","body":"Use more than one thread?"},{"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"score":0,"creation_date":1659383200,"post_id":73198473,"comment_id":129277216,"body_markdown":"@Toastrackenigma Yeah i need the status code. Im new to this, is it normal for that to take a long time?","body":"@Toastrackenigma Yeah i need the status code. Im new to this, is it normal for that to take a long time?"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1659384730,"post_id":73198473,"comment_id":129277683,"body_markdown":"Yes, it is normal for that to take a while @ChrisLalu, because essentially it has actually go to the webpage and wait for the server to send back a response -- in much the same way that if you go to a website in your web browser you have to wait for it to load. Additionally, because you&#39;re doing just inline, you have to wait for it to finish before it can move on to the next one. If you used threads, you could start the requests for all your urls at once, and load them all at the same time, which would be significantly faster","body":"Yes, it is normal for that to take a while @ChrisLalu, because essentially it has actually go to the webpage and wait for the server to send back a response -- in much the same way that if you go to a website in your web browser you have to wait for it to load. Additionally, because you&#39;re doing just inline, you have to wait for it to finish before it can move on to the next one. If you used threads, you could start the requests for all your urls at once, and load them all at the same time, which would be significantly faster"},{"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"score":0,"creation_date":1659387123,"post_id":73198473,"comment_id":129278278,"body_markdown":"@Toastrackenigma okay I appreciate you help!","body":"@Toastrackenigma okay I appreciate you help!"}],"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659381080,"creation_date":1659380896,"question_id":73198473,"body_markdown":"I&#39;m writing a Java program that queries a database, then takes all the URLs from the table and checks if the links work. I&#39;m using the code below for validation.\r\n\r\n```java\r\nstatic boolean urlvalid(String theurl) throws IOException {\r\n    URL url = new URL(theurl);\r\n    HttpURLConnection http = (HttpURLConnection) url.openConnection()\r\n    Int statusCode = http.getResponseCode();\r\n}\r\n```\r\n\r\nThe issue is that this takes very long to run. It can check about 70 links per minute. How can I do this faster?","title":"URL validation takes too long","body":"<p>I'm writing a Java program that queries a database, then takes all the URLs from the table and checks if the links work. I'm using the code below for validation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean urlvalid(String theurl) throws IOException {\n    URL url = new URL(theurl);\n    HttpURLConnection http = (HttpURLConnection) url.openConnection()\n    Int statusCode = http.getResponseCode();\n}\n</code></pre>\n<p>The issue is that this takes very long to run. It can check about 70 links per minute. How can I do this faster?</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1453106804,"post_id":34849164,"comment_id":57440743,"body_markdown":"Why don&#39;t you use a real `boolean` in the database?","body":"Why don&#39;t you use a real <code>boolean</code> in the database?"},{"owner":{"account_id":4969536,"reputation":39,"user_id":3997813,"display_name":"Sairam Saladi"},"score":0,"creation_date":1453107448,"post_id":34849164,"comment_id":57441133,"body_markdown":"Actually we used char(1) for old database which is in mysql. We recreated all the tables in postgresql. Now changing the type would consume a lot of time in checking and debugging the code. The databases are huge.","body":"Actually we used char(1) for old database which is in mysql. We recreated all the tables in postgresql. Now changing the type would consume a lot of time in checking and debugging the code. The databases are huge."}],"answers":[{"tags":[],"owner":{"account_id":5740316,"reputation":43,"user_id":4533223,"display_name":"pabloso18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380866,"creation_date":1659380866,"answer_id":73198468,"question_id":34849164,"body_markdown":"I think you can map the column like this\r\n\r\n```\r\n@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\r\nprivate Boolean valid;\r\n```","title":"how to map java boolean type to postgresql Char(1) in hibernate?","body":"<p>I think you can map the column like this</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\nprivate Boolean valid;\n</code></pre>\n"}],"owner":{"account_id":4969536,"reputation":39,"user_id":3997813,"display_name":"Sairam Saladi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659380866,"creation_date":1453101621,"question_id":34849164,"body_markdown":"I cannot use yes_no type in hbm file . Is there a way in which i can create a custom dialect such that it maps boolean to char(1) ?","title":"how to map java boolean type to postgresql Char(1) in hibernate?","body":"<p>I cannot use yes_no type in hbm file . Is there a way in which i can create a custom dialect such that it maps boolean to char(1) ?</p>\n"},{"tags":["java","maven","build","azure-devops","azure-artifacts"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1614427193,"post_id":66395415,"comment_id":117385381,"body_markdown":"You are not allowed (`m 401 Unauthorized -` to access the given repository)... https://myworld.pkgs.visualstudio.com ???","body":"You are not allowed (<code>m 401 Unauthorized -</code> to access the given repository)... <a href=\"https://myworld.pkgs.visualstudio.com\" rel=\"nofollow noreferrer\">myworld.pkgs.visualstudio.com</a> ???"},{"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"score":0,"creation_date":1614481129,"post_id":66395415,"comment_id":117397672,"body_markdown":"ohk what can be done to resolve this","body":"ohk what can be done to resolve this"}],"answers":[{"tags":[],"owner":{"account_id":18482692,"reputation":23461,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614650060,"creation_date":1614569065,"answer_id":66416227,"question_id":66395415,"body_markdown":"&gt;....401 Unauthorized\r\n\r\nThe 401 error is an authentication error. \r\n\r\nAdd the [Maven Authenticate task][1] before calling Maven task. The Maven Authenticate task can provide credentials for Azure Artifacts feeds and external Maven repositories in the current user&#39;s settings.xml file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf your azure artifacts are in the same Collection, you can directly select the corresponding feed in drop down list. \r\n\r\nIf yours is external azure artifacts(e.g. Azure Devops Service), you need to create a service connection(maven) in **Porject Settings -&gt; Service Connections**.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Update:**\r\n\r\nIf you couldn&#39;t use Maven Authenticate task, you could try the following steps to use the Settings.xml file.\r\n\r\nStep1: Create a Setting.xml file. \r\n\r\nYou could navigate to **Azure Devops Service -&gt; Artifacts -&gt; Connect to feed -&gt; Maven**.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nStep2: In you Azure Devops Server, you could save your settings.xml to the path \r\n\r\n    %USERPROFILE%\\.m2\\settings.xml\r\n\r\nYou could refer to [this doc][5].\r\n\r\nOn the other hand, when you add option to the Maven task.\r\n\r\nFor example:\r\n\r\n    - task: Maven@3\r\n      displayName: &#39;Maven pom.xml&#39;\r\n      inputs:\r\n       ...\r\n        options: &#39;-s filepath/settings.xml&#39;\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops\r\n  [2]: https://i.stack.imgur.com/0qWvd.png\r\n  [3]: https://i.stack.imgur.com/g4gEa.png\r\n  [4]: https://i.stack.imgur.com/FkLE0.png\r\n  [5]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops#where-is-the-settingsxml-file-which-contains-the-authenticated-repositories-located","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<blockquote>\n<p>....401 Unauthorized</p>\n</blockquote>\n<p>The 401 error is an authentication error.</p>\n<p>Add the <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops\" rel=\"nofollow noreferrer\">Maven Authenticate task</a> before calling Maven task. The Maven Authenticate task can provide credentials for Azure Artifacts feeds and external Maven repositories in the current user's settings.xml file.</p>\n<p><a href=\"https://i.stack.imgur.com/0qWvd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0qWvd.png\" alt=\"enter image description here\" /></a></p>\n<p>If your azure artifacts are in the same Collection, you can directly select the corresponding feed in drop down list.</p>\n<p>If yours is external azure artifacts(e.g. Azure Devops Service), you need to create a service connection(maven) in <strong>Porject Settings -&gt; Service Connections</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/g4gEa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g4gEa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update:</strong></p>\n<p>If you couldn't use Maven Authenticate task, you could try the following steps to use the Settings.xml file.</p>\n<p>Step1: Create a Setting.xml file.</p>\n<p>You could navigate to <strong>Azure Devops Service -&gt; Artifacts -&gt; Connect to feed -&gt; Maven</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/FkLE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FkLE0.png\" alt=\"enter image description here\" /></a></p>\n<p>Step2: In you Azure Devops Server, you could save your settings.xml to the path</p>\n<pre><code>%USERPROFILE%\\.m2\\settings.xml\n</code></pre>\n<p>You could refer to <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops#where-is-the-settingsxml-file-which-contains-the-authenticated-repositories-located\" rel=\"nofollow noreferrer\">this doc</a>.</p>\n<p>On the other hand, when you add option to the Maven task.</p>\n<p>For example:</p>\n<pre><code>- task: Maven@3\n  displayName: 'Maven pom.xml'\n  inputs:\n   ...\n    options: '-s filepath/settings.xml'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648057,"reputation":9884,"user_id":1519199,"accept_rate":68,"display_name":"Jthorpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380270,"creation_date":1659380270,"answer_id":73198366,"question_id":66395415,"body_markdown":"I came across this problem recently in a Pipeline that has been working for quite a while.  In my case adding a NPM Authentication step in my pipeline did the trick: \r\n\r\n```yaml\r\n- task: npmAuthenticate@0\r\n  inputs:\r\n    workingFile: &quot;$(Build.SourcesDirectory)/path/to/my/.npmrc&quot;\r\n```","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<p>I came across this problem recently in a Pipeline that has been working for quite a while.  In my case adding a NPM Authentication step in my pipeline did the trick:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- task: npmAuthenticate@0\n  inputs:\n    workingFile: &quot;$(Build.SourcesDirectory)/path/to/my/.npmrc&quot;\n</code></pre>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659380270,"creation_date":1614397735,"question_id":66395415,"body_markdown":"I m trying to create build pipeline on azure devops server, my build pipeline is able to download dependences from Azure Artifact\r\n\r\n\r\n```2021-03-02T05:45:24.8329106Z [INFO] BUILD FAILURE\r\n2021-03-02T05:45:24.8329366Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T05:45:24.8329608Z [INFO] Total time:  02:31 min\r\n2021-03-02T05:45:24.8330187Z [INFO] Finished at: 2021-03-02T05:45:24Z\r\n2021-03-02T05:45:24.8330469Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T05:45:24.8330824Z [ERROR] Failed to execute goal on project myapplication-commons-lib: Could not resolve dependencies for project com.myapplication.mdm.commons:myapplication-commons-lib:jar:1.0.0-SNAPSHOT: Failed to collect dependencies at com.tibco.ebx.core:ebx-lib:jar:5.9.10: Failed to read artifact descriptor for com.tibco.ebx.core:ebx-lib:jar:5.9.10: Could not transfer artifact com.tibco.ebx.core:ebx-lib:pom:5.9.10 from/to myapp-snapshots (https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1): Authentication failed for https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1/com/tibco/ebx/core/ebx-lib/5.9.10/ebx-lib-5.9.10.pom 401 Unauthorized -&gt; [Help 1]\r\n2021-03-02T05:45:24.8331113Z [ERROR] ```\r\n\r\n\r\nYAML Pipeline\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L34oP.png\r\n\r\nYAML from pipeline \r\n\r\n- task: Maven@3\r\n  displayName: &#39;Code Compilation&#39;\r\n  inputs:\r\n    mavenPomFile: &#39;$(System.DefaultWorkingDirectory)/solution/core/build/maven/pom.xml&#39;\r\n    options: &#39;-s $(System.DefaultWorkingDirectory)/solution/core/build/maven/settings.xml&#39;\r\n    goals: package\r\n    mavenAuthenticateFeed: true    \r\n","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<p>I m trying to create build pipeline on azure devops server, my build pipeline is able to download dependences from Azure Artifact</p>\n<pre><code>2021-03-02T05:45:24.8329366Z [INFO] ------------------------------------------------------------------------\n2021-03-02T05:45:24.8329608Z [INFO] Total time:  02:31 min\n2021-03-02T05:45:24.8330187Z [INFO] Finished at: 2021-03-02T05:45:24Z\n2021-03-02T05:45:24.8330469Z [INFO] ------------------------------------------------------------------------\n2021-03-02T05:45:24.8330824Z [ERROR] Failed to execute goal on project myapplication-commons-lib: Could not resolve dependencies for project com.myapplication.mdm.commons:myapplication-commons-lib:jar:1.0.0-SNAPSHOT: Failed to collect dependencies at com.tibco.ebx.core:ebx-lib:jar:5.9.10: Failed to read artifact descriptor for com.tibco.ebx.core:ebx-lib:jar:5.9.10: Could not transfer artifact com.tibco.ebx.core:ebx-lib:pom:5.9.10 from/to myapp-snapshots (https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1): Authentication failed for https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1/com/tibco/ebx/core/ebx-lib/5.9.10/ebx-lib-5.9.10.pom 401 Unauthorized -&gt; [Help 1]\n2021-03-02T05:45:24.8331113Z [ERROR] ```\n\n\nYAML Pipeline\n[![enter image description here][1]][1]\n\n\n[![enter image description here][2]][2]\n\n\n  [1]: https://i.stack.imgur.com/L34oP.png\n\nYAML from pipeline \n\n- task: Maven@3\n  displayName: 'Code Compilation'\n  inputs:\n    mavenPomFile: '$(System.DefaultWorkingDirectory)/solution/core/build/maven/pom.xml'\n    options: '-s $(System.DefaultWorkingDirectory)/solution/core/build/maven/settings.xml'\n    goals: package\n    mavenAuthenticateFeed: true    \n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1232037513,"creation_date":1232037513,"answer_id":447507,"question_id":447478,"body_markdown":"The &lt;code&gt;true&amp;#95;false&lt;/code&gt; or &lt;code&gt;yes_no&lt;/code&gt; types will do this for you.","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>The <code>true&#95;false</code> or <code>yes_no</code> types will do this for you.</p>\n"},{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232037889,"creation_date":1232037532,"answer_id":447510,"question_id":447478,"body_markdown":"CharBooleanType is probably what you are looking for http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html\r\n\r\nedit: dtsazza&#39;s answer is probably more useful if you just want to get going and use characters y/n or t/f. If those don&#39;t match your usage you can implement your own type using CharBooleanType.","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>CharBooleanType is probably what you are looking for <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html\" rel=\"nofollow noreferrer\">http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html</a></p>\n\n<p>edit: dtsazza's answer is probably more useful if you just want to get going and use characters y/n or t/f. If those don't match your usage you can implement your own type using CharBooleanType.</p>\n"},{"tags":[],"owner":{"account_id":5740316,"reputation":43,"user_id":4533223,"display_name":"pabloso18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380181,"creation_date":1659380181,"answer_id":73198349,"question_id":447478,"body_markdown":"You can map like this:\r\n\r\n```\r\n@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\r\nprivate Boolean valid;\r\n```\r\n","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>You can map like this:</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\nprivate Boolean valid;\n</code></pre>\n"}],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10000,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":447507,"answer_count":3,"score":8,"last_activity_date":1659380181,"creation_date":1232037163,"question_id":447478,"body_markdown":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>How do I map a CHAR(1) to a boolean using Hibernate for Java?</p>\n"},{"tags":["java","rest","jersey","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418821799,"creation_date":1384675048,"answer_id":20028529,"question_id":20028451,"body_markdown":"I never work with dropwizard before, only creating simple services using jersey. I decided to see the user&#39;s manual, and immediately found a description of the settings.\r\n\r\n[Dropwizard configuration manual][1]\r\n\r\n  [1]: http://dropwizard.codahale.com/manual/core/#configuration\r\n\r\n&gt; You can override configuration settings by passing special Java system properties when starting your service. Overrides must start with prefix dw., followed by the path to the configuration value being overridden.\r\nFor example, to override the HTTP port to use, you could start your service like this:\r\n\r\n    java -Ddw.http.port=9090 server my-config.json\r\n\r\nIs it suitable for you?","title":"Change Dropwizard default ports","body":"<p>I never work with dropwizard before, only creating simple services using jersey. I decided to see the user's manual, and immediately found a description of the settings.</p>\n\n<p><a href=\"http://dropwizard.codahale.com/manual/core/#configuration\" rel=\"nofollow\">Dropwizard configuration manual</a></p>\n\n<blockquote>\n  <p>You can override configuration settings by passing special Java system properties when starting your service. Overrides must start with prefix dw., followed by the path to the configuration value being overridden.\n  For example, to override the HTTP port to use, you could start your service like this:</p>\n</blockquote>\n\n<pre><code>java -Ddw.http.port=9090 server my-config.json\n</code></pre>\n\n<p>Is it suitable for you?</p>\n"},{"tags":[],"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1462220880,"creation_date":1384692737,"answer_id":20030874,"question_id":20028451,"body_markdown":"You can update the ports in your yaml configuration file:\r\n\r\n    http:\r\n      port: 9000\r\n      adminPort: 9001\r\n\r\nSee http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http for more information.\r\n\r\n**EDIT**\r\n\r\nIf you&#39;ve migrated to Dropwizard 0.7.x, 0.8.x, 0.9.x you can use the following:\r\n\r\n    server:\r\n      applicationConnectors:\r\n      - type: http \r\n        port: 9000\r\n      adminConnectors:\r\n      - type: http\r\n        port: 9001\r\n\r\n","title":"Change Dropwizard default ports","body":"<p>You can update the ports in your yaml configuration file:</p>\n\n<pre><code>http:\n  port: 9000\n  adminPort: 9001\n</code></pre>\n\n<p>See <a href=\"http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http\">http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http</a> for more information.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you've migrated to Dropwizard 0.7.x, 0.8.x, 0.9.x you can use the following:</p>\n\n<pre><code>server:\n  applicationConnectors:\n  - type: http \n    port: 9000\n  adminConnectors:\n  - type: http\n    port: 9001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1408200741,"creation_date":1408197604,"answer_id":25340864,"question_id":20028451,"body_markdown":"From the command line, you can set them this way, in Dropwizard 0.6:\r\n\r\n    java -Ddw.http.port=9090 -Ddw.http.adminPort=9091 -jar yourapp.jar server yourconfig.yml\r\n\r\nIf you use Dropwizard 0.7, the system properties are set this way:\r\n\r\n    java -Ddw.server.applicationConnectors[0].port=9090 -Ddw.server.adminConnectors[0].port=9091 -jar yourapp.jar server yourconfig.yml\r\n\r\nI seems that, if you configure ports through system properties, you also need to set them in the yml (the system property takes precedence, anyway). At least that&#39;s happening to me in Dropwizard 0.7. Example of the YAML port configuration:\r\n\r\n    server:\r\n      applicationConnectors:\r\n      - type: http\r\n        port: 8090\r\n      adminConnectors:\r\n      - type: http\r\n        port: 8091\r\n\r\nIf you don&#39;t put those ports in the YAML, Dropwizard complains:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Unable to override server.applicationConnectors[0].port; node with index not found.\r\n","title":"Change Dropwizard default ports","body":"<p>From the command line, you can set them this way, in Dropwizard 0.6:</p>\n\n<pre><code>java -Ddw.http.port=9090 -Ddw.http.adminPort=9091 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>If you use Dropwizard 0.7, the system properties are set this way:</p>\n\n<pre><code>java -Ddw.server.applicationConnectors[0].port=9090 -Ddw.server.adminConnectors[0].port=9091 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>I seems that, if you configure ports through system properties, you also need to set them in the yml (the system property takes precedence, anyway). At least that's happening to me in Dropwizard 0.7. Example of the YAML port configuration:</p>\n\n<pre><code>server:\n  applicationConnectors:\n  - type: http\n    port: 8090\n  adminConnectors:\n  - type: http\n    port: 8091\n</code></pre>\n\n<p>If you don't put those ports in the YAML, Dropwizard complains:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Unable to override server.applicationConnectors[0].port; node with index not found.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451007,"reputation":2846,"user_id":846644,"accept_rate":69,"display_name":"Natan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450187350,"creation_date":1411139908,"answer_id":25937231,"question_id":20028451,"body_markdown":"This is what I&#39;ve done for my test applications (0.7.x, 0.8.x, 0.9.x):\r\n\r\n    public class TestConfiguration extends Configuration {\r\n    \r\n      public TestConfiguration() {\r\n        super();\r\n        // The following is to make sure it runs with a random port. parallel tests clash otherwise\r\n        ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getApplicationConnectors().get(0)).setPort(0);\r\n        // this is for admin port\r\n        ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getAdminConnectors().get(0)).setPort(0);   } }\r\n\r\n\r\n0 gives a random port that is available.\r\n\r\nI know it&#39;s not pretty but couldn&#39;t find a better way to do it programmatically. I needed to make sure ports don&#39;t clash between different integration tests, because they run in parallel. Creating a yml file randomly for each test would have been uglier I believe.\r\n\r\nOh and this is how you get the running port later on:\r\n\r\n    @Override\r\n      public void run(TestConfiguration configuration, Environment environment) throws Exception {\r\n        this.environment = environment;\r\n        // do other stuff if you need to\r\n      }\r\n    \r\n      public int getPort() {\r\n        return ((AbstractNetworkConnector) environment.getApplicationContext().getServer().getConnectors()[0]).getLocalPort();\r\n      }","title":"Change Dropwizard default ports","body":"<p>This is what I've done for my test applications (0.7.x, 0.8.x, 0.9.x):</p>\n\n<pre><code>public class TestConfiguration extends Configuration {\n\n  public TestConfiguration() {\n    super();\n    // The following is to make sure it runs with a random port. parallel tests clash otherwise\n    ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getApplicationConnectors().get(0)).setPort(0);\n    // this is for admin port\n    ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getAdminConnectors().get(0)).setPort(0);   } }\n</code></pre>\n\n<p>0 gives a random port that is available.</p>\n\n<p>I know it's not pretty but couldn't find a better way to do it programmatically. I needed to make sure ports don't clash between different integration tests, because they run in parallel. Creating a yml file randomly for each test would have been uglier I believe.</p>\n\n<p>Oh and this is how you get the running port later on:</p>\n\n<pre><code>@Override\n  public void run(TestConfiguration configuration, Environment environment) throws Exception {\n    this.environment = environment;\n    // do other stuff if you need to\n  }\n\n  public int getPort() {\n    return ((AbstractNetworkConnector) environment.getApplicationContext().getServer().getConnectors()[0]).getLocalPort();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456827,"reputation":389,"user_id":5001931,"display_name":"Jay Khatwani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440563257,"creation_date":1440563257,"answer_id":32218017,"question_id":20028451,"body_markdown":"For Dropwizard 0.8.0 --\r\n\r\nYour YAML file can be - \r\n\r\n&gt;     server:\r\n&gt;         type: simple\r\n&gt;         connector:\r\n&gt;           type: http\r\n&gt;           port: 80\r\n\r\nIf you want to change the ports from command-line, \r\n\r\n    java -Ddw.server.connector.port=9090 -jar yourapp.jar server yourconfig.yml\r\n\r\nThe command will work only if you have the entry in the YAML file. DW needs a default value which it can override .\r\n\r\n \r\n","title":"Change Dropwizard default ports","body":"<p>For Dropwizard 0.8.0 --</p>\n\n<p>Your YAML file can be - </p>\n\n<blockquote>\n<pre><code>server:\n    type: simple\n    connector:\n      type: http\n      port: 80\n</code></pre>\n</blockquote>\n\n<p>If you want to change the ports from command-line, </p>\n\n<pre><code>java -Ddw.server.connector.port=9090 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>The command will work only if you have the entry in the YAML file. DW needs a default value which it can override .</p>\n"},{"tags":[],"owner":{"account_id":2487502,"reputation":783,"user_id":2165675,"accept_rate":7,"display_name":"Prasad Revanaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476457811,"creation_date":1476457811,"answer_id":40046490,"question_id":20028451,"body_markdown":"For Dropwizard 0.6.2 you can change the port programmatically as below in your service class.\r\n\r\n    import com.yammer.dropwizard.config.Configuration;\r\n    import com.yammer.dropwizard.config.Bootstrap;\r\n    import com.yammer.dropwizard.config.Environment;\r\n    import com.yammer.dropwizard.config.HttpConfiguration;\r\n    import com.yammer.dropwizard.Service;\r\n\r\n    public class BlogService extends Service&lt;Configuration&gt; {\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew BlogService().run(new String[] {&quot;server&quot;});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(Bootstrap&lt;Configuration&gt; bootsrap) {\r\n\t\tbootsrap.setName(&quot;blog&quot;);\r\n\t}    \r\n\r\n\r\n    public void run(Configuration configuration, Environment environment) throws Exception {\r\n\t\t\t\t\t\t\r\n\t\tHttpConfiguration config = new HttpConfiguration();\r\n\t\tconfig.setPort(8085);\r\n\t\tconfig.setAdminPort(8086);\r\n\t\tconfiguration.setHttpConfiguration(config);\r\n\t}\r\n\r\n    }","title":"Change Dropwizard default ports","body":"<p>For Dropwizard 0.6.2 you can change the port programmatically as below in your service class.</p>\n\n<pre><code>import com.yammer.dropwizard.config.Configuration;\nimport com.yammer.dropwizard.config.Bootstrap;\nimport com.yammer.dropwizard.config.Environment;\nimport com.yammer.dropwizard.config.HttpConfiguration;\nimport com.yammer.dropwizard.Service;\n\npublic class BlogService extends Service&lt;Configuration&gt; {\n\npublic static void main(String[] args) throws Exception {\n    new BlogService().run(new String[] {\"server\"});\n}\n\n@Override\npublic void initialize(Bootstrap&lt;Configuration&gt; bootsrap) {\n    bootsrap.setName(\"blog\");\n}    \n\n\npublic void run(Configuration configuration, Environment environment) throws Exception {\n\n    HttpConfiguration config = new HttpConfiguration();\n    config.setPort(8085);\n    config.setAdminPort(8086);\n    configuration.setHttpConfiguration(config);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3387874,"reputation":113,"user_id":2843460,"display_name":"Vikash Tiwari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487338628,"creation_date":1487328641,"answer_id":42296010,"question_id":20028451,"body_markdown":"If you want it to be changed at run-time use\r\n\r\n    -Ddw.server.applicationConnectors[0].port=9090  -Ddw.server.adminConnectors[0].port=9091\r\n\r\nI have used it with version 1.0.5","title":"Change Dropwizard default ports","body":"<p>If you want it to be changed at run-time use</p>\n\n<pre><code>-Ddw.server.applicationConnectors[0].port=9090  -Ddw.server.adminConnectors[0].port=9091\n</code></pre>\n\n<p>I have used it with version 1.0.5</p>\n"},{"tags":[],"owner":{"account_id":3237842,"reputation":4118,"user_id":2731545,"display_name":"Thomas Sundberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520419340,"creation_date":1520419340,"answer_id":49149910,"question_id":20028451,"body_markdown":"I needed to set the ports but I couldn&#39;t set them from the command line. I ended up with this solution:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String applicationPort = &quot;9090&quot;;\r\n        String adminPort = &quot;9091&quot;;\r\n\r\n        System.setProperty(&quot;dw.server.applicationConnectors[0].port&quot;, applicationPort);\r\n        System.setProperty(&quot;dw.server.adminConnectors[0].port&quot;, adminPort);\r\n\r\n        new Main().run(args);\r\n    }\r\n\r\n\r\nThis is done using Dropwizard `1.3.0-rc7`","title":"Change Dropwizard default ports","body":"<p>I needed to set the ports but I couldn't set them from the command line. I ended up with this solution:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String applicationPort = \"9090\";\n    String adminPort = \"9091\";\n\n    System.setProperty(\"dw.server.applicationConnectors[0].port\", applicationPort);\n    System.setProperty(\"dw.server.adminConnectors[0].port\", adminPort);\n\n    new Main().run(args);\n}\n</code></pre>\n\n<p>This is done using Dropwizard <code>1.3.0-rc7</code></p>\n"},{"tags":[],"owner":{"account_id":14102414,"reputation":5,"user_id":10187457,"display_name":"Mehul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589141345,"creation_date":1589141345,"answer_id":61718085,"question_id":20028451,"body_markdown":"In your .yml file make these changes\r\n\r\n```\r\nserver:\r\n  registerDefaultExceptionMappers: false\r\n  applicationConnectors:\r\n    - type: http\r\n      port: 5020\r\n  adminConnectors:\r\n    - type: http\r\n      port: 5022","title":"Change Dropwizard default ports","body":"<p>In your .yml file make these changes</p>\n\n<pre><code>server:\n  registerDefaultExceptionMappers: false\n  applicationConnectors:\n    - type: http\n      port: 5020\n  adminConnectors:\n    - type: http\n      port: 5022\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346347,"reputation":950,"user_id":679821,"accept_rate":18,"display_name":"Morteza Naeimabadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636923952,"creation_date":1636923952,"answer_id":69967183,"question_id":20028451,"body_markdown":"In the newer version of dropwizard (e.g. 2.0.25):\r\ncreate a property file config.yml with the following content into your resources directory:\r\n\r\n    server:\r\n       applicationConnectors:\r\n        - type: http\r\n          port: 5020\r\n       adminConnectors:\r\n        - type: http\r\n          port: 5022\r\n\r\nIf using Intellij IDE (ver 2021), remember to add the following to Run Configuration Program argument:\r\n\r\n    server src/main/resources/config.yml\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNPWN.png","title":"Change Dropwizard default ports","body":"<p>In the newer version of dropwizard (e.g. 2.0.25):\ncreate a property file config.yml with the following content into your resources directory:</p>\n<pre><code>server:\n   applicationConnectors:\n    - type: http\n      port: 5020\n   adminConnectors:\n    - type: http\n      port: 5022\n</code></pre>\n<p>If using Intellij IDE (ver 2021), remember to add the following to Run Configuration Program argument:</p>\n<pre><code>server src/main/resources/config.yml\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WNPWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNPWN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19070401,"reputation":11,"user_id":13924703,"display_name":"lkp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659379817,"creation_date":1659379817,"answer_id":73198277,"question_id":20028451,"body_markdown":"this is where you can all configuration require to solve your problem\r\nhttps://www.dropwizard.io/en/latest/manual/configuration.html \r\n","title":"Change Dropwizard default ports","body":"<p>this is where you can all configuration require to solve your problem\n<a href=\"https://www.dropwizard.io/en/latest/manual/configuration.html\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/en/latest/manual/configuration.html</a></p>\n"}],"owner":{"account_id":2226934,"reputation":2849,"user_id":1965449,"accept_rate":57,"display_name":"user1965449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39618,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":20030874,"answer_count":11,"score":49,"last_activity_date":1659379817,"creation_date":1384674235,"question_id":20028451,"body_markdown":"I have a Dropwizard based Jersey REST service running on the default ports 8080(service) and 8081(admin), I need to change the default ports to something that is less commonly used, I am not able to find any information to do so , can someone please point me to do so  ?\r\n","title":"Change Dropwizard default ports","body":"<p>I have a Dropwizard based Jersey REST service running on the default ports 8080(service) and 8081(admin), I need to change the default ports to something that is less commonly used, I am not able to find any information to do so , can someone please point me to do so  ?</p>\n"},{"tags":["java","algorithm","multiplication","karatsuba"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656889921,"post_id":72850472,"comment_id":128674926,"body_markdown":"If you need to represent integers bigger than a `long`, use `BigInteger`.","body":"If you need to represent integers bigger than a <code>long</code>, use <code>BigInteger</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1656890049,"post_id":72850472,"comment_id":128674945,"body_markdown":"But if you are doing this for practical reasons ... be aware that `BigInteger` already uses karabatsu, etcetera under the hood.","body":"But if you are doing this for practical reasons ... be aware that <code>BigInteger</code> already uses karabatsu, etcetera under the hood."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657087864,"post_id":72850472,"comment_id":128722893,"body_markdown":"Have a look at the lengths of &quot;1000&quot;, &quot;10&quot;, &quot;00&quot;, and `Long.toString(Long.parseLong(&quot;00&quot;)`. Check the logic of first checking `n &gt; 1` (instead of `0 &lt; half`?!) and only then looking at `m`.","body":"Have a look at the lengths of &quot;1000&quot;, &quot;10&quot;, &quot;00&quot;, and <code>Long.toString(Long.parseLong(&quot;00&quot;)</code>. Check the logic of first checking <code>n &gt; 1</code> (instead of <code>0 &lt; half</code>?!) and only then looking at <code>m</code>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657087883,"post_id":72850472,"comment_id":128722899,"body_markdown":"(While your use of `long` arithmetic is doomed for a product of `two 64 digit [numbers]`, you can implement addition&amp;subtraction for `String`s.)","body":"(While your use of <code>long</code> arithmetic is doomed for a product of <code>two 64 digit [numbers]</code>, you can implement addition&amp;subtraction for <code>String</code>s.)"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659379364,"creation_date":1656892431,"answer_id":72850650,"question_id":72850472,"body_markdown":"Use [`java.math.BigInteger`](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html). Here&#39;s an example multiplying `Long.MAX_VALUE` with `Long.MAX_VALUE`, also showing the output:\r\n\r\n```\r\nBigInteger maxLong = BigInteger.valueOf(Long.MAX_VALUE);\r\nBigInteger result = maxLong.multiply(maxLong);\r\nSystem.out.println(result);\r\n\r\n85070591730234615847396907784232501249\r\n```","title":"How to deal with an 64 digit input for a Karatsuba algorithm implementation in java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>java.math.BigInteger</code></a>. Here's an example multiplying <code>Long.MAX_VALUE</code> with <code>Long.MAX_VALUE</code>, also showing the output:</p>\n<pre><code>BigInteger maxLong = BigInteger.valueOf(Long.MAX_VALUE);\nBigInteger result = maxLong.multiply(maxLong);\nSystem.out.println(result);\n\n85070591730234615847396907784232501249\n</code></pre>\n"}],"owner":{"account_id":24243233,"reputation":1,"user_id":18411878,"display_name":"Beatrice z.jiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72850650,"answer_count":1,"score":0,"last_activity_date":1659379364,"creation_date":1656889570,"question_id":72850472,"body_markdown":"This is my implementation and what i need for it is to calculate the multiplication of two 64 digit number.  So type Long is not enough (even tho the one with parameter type of long worked just fine). \r\nHowever when running with String, this popped up \r\n\r\n        Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Long.parseLong(Long.java:721)\r\n\tat java.base/java.lang.Long.parseLong(Long.java:836)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:60)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:51)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:54)\r\n\tat IntegerMultipl.main(IntegerMultipl.java:17) \r\n\r\n\r\n\r\n Any help would be appreciated. This is my implementation of it.\r\n``` java\r\n\r\npublic class IntegerMultipl {\r\n    \r\n    // 24 * 19 = 456\r\n    /**\r\n     *  a = 2 b = 4 \r\n     *  c = 1 d = 9 \r\n     * ac = 2 bd = 36\r\n     * (a+b)(c+d) -ac -bd = 6 * 9 - 2 - 36 = 22\r\n     * ac * (10 ^2 ) + bd + (22)* 10 \r\n     * = 200 + 36 +220 \r\n     */\r\n\r\n    public static void main(String[] args) {\r\n        long res = karatsuba(19,22);\r\n        System.out.println(res);\r\n        String result = karatsuba(&quot;19&quot;, &quot;22&quot;);\r\n        System.out.println(result);\r\n        \r\n        \r\n    }\r\n    /** only works when the in put is incide the range of long */\r\n    public static long karatsuba(long x, long y){\r\n        long n = Long.toString(x).length();\r\n        long half = n / 2 ;\r\n        if( x / 10 &gt;= 1 ){\r\n            long a = x / (long)Math.pow(10, half);\r\n            long b = x % (long)Math.pow(10, half);\r\n            long c = y / (long)Math.pow(10, half);\r\n            long d =  y % (long)Math.pow(10, half);\r\n            long fst = karatsuba(a, c);\r\n            long lst = karatsuba(b, d);\r\n            long trick = karatsuba(a+b, c+d) - fst - lst;\r\n            return (long)Math.pow(10, n)* fst + lst + (long)Math.pow(10, half) * trick;\r\n        }\r\n        else{\r\n                return x*y;\r\n        }\r\n\r\n    }\r\n    public static String karatsuba(String x, String y){\r\n        int n = x.length();\r\n        int m = y.length();\r\n        int half = n / 2 ;\r\n        if( n &gt; 1 ){\r\n            String a = x.substring(0, half);\r\n            String b = x.substring(half);\r\n            String c = y.substring(0,half);\r\n            String d =  y.substring(half);\r\n            String fst = karatsuba(a, c);\r\n            String lst = karatsuba(b, d);\r\n            Long firstarg = Long.parseLong(a)+ Long.parseLong(b);\r\n            Long secondarg = Long.parseLong(c)+ Long.parseLong(d);\r\n            String mdl = karatsuba(Long.toString(firstarg), Long.toString(secondarg));\r\n            Long gauss = Long.parseLong(mdl) - Long.parseLong(fst) - Long.parseLong(lst);\r\n            Long res = ((long)Math.pow(10, n)* Long.parseLong(fst) + Long.parseLong(lst) + (long)Math.pow(10, half) * gauss);\r\n            return Long.toString(res);\r\n        }\r\n        if(n ==1 || m ==1){\r\n            long res = Long.parseLong(x) * Long.parseLong(y);\r\n            return Long.toString(res);\r\n        }\r\n        return &quot;Error !&quot;;\r\n\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\n\r\n","title":"How to deal with an 64 digit input for a Karatsuba algorithm implementation in java","body":"<p>This is my implementation and what i need for it is to calculate the multiplication of two 64 digit number.  So type Long is not enough (even tho the one with parameter type of long worked just fine).\nHowever when running with String, this popped up</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Long.parseLong(Long.java:721)\nat java.base/java.lang.Long.parseLong(Long.java:836)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:60)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:51)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:54)\nat IntegerMultipl.main(IntegerMultipl.java:17) \n</code></pre>\n<p>Any help would be appreciated. This is my implementation of it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class IntegerMultipl {\n    \n    // 24 * 19 = 456\n    /**\n     *  a = 2 b = 4 \n     *  c = 1 d = 9 \n     * ac = 2 bd = 36\n     * (a+b)(c+d) -ac -bd = 6 * 9 - 2 - 36 = 22\n     * ac * (10 ^2 ) + bd + (22)* 10 \n     * = 200 + 36 +220 \n     */\n\n    public static void main(String[] args) {\n        long res = karatsuba(19,22);\n        System.out.println(res);\n        String result = karatsuba(&quot;19&quot;, &quot;22&quot;);\n        System.out.println(result);\n        \n        \n    }\n    /** only works when the in put is incide the range of long */\n    public static long karatsuba(long x, long y){\n        long n = Long.toString(x).length();\n        long half = n / 2 ;\n        if( x / 10 &gt;= 1 ){\n            long a = x / (long)Math.pow(10, half);\n            long b = x % (long)Math.pow(10, half);\n            long c = y / (long)Math.pow(10, half);\n            long d =  y % (long)Math.pow(10, half);\n            long fst = karatsuba(a, c);\n            long lst = karatsuba(b, d);\n            long trick = karatsuba(a+b, c+d) - fst - lst;\n            return (long)Math.pow(10, n)* fst + lst + (long)Math.pow(10, half) * trick;\n        }\n        else{\n                return x*y;\n        }\n\n    }\n    public static String karatsuba(String x, String y){\n        int n = x.length();\n        int m = y.length();\n        int half = n / 2 ;\n        if( n &gt; 1 ){\n            String a = x.substring(0, half);\n            String b = x.substring(half);\n            String c = y.substring(0,half);\n            String d =  y.substring(half);\n            String fst = karatsuba(a, c);\n            String lst = karatsuba(b, d);\n            Long firstarg = Long.parseLong(a)+ Long.parseLong(b);\n            Long secondarg = Long.parseLong(c)+ Long.parseLong(d);\n            String mdl = karatsuba(Long.toString(firstarg), Long.toString(secondarg));\n            Long gauss = Long.parseLong(mdl) - Long.parseLong(fst) - Long.parseLong(lst);\n            Long res = ((long)Math.pow(10, n)* Long.parseLong(fst) + Long.parseLong(lst) + (long)Math.pow(10, half) * gauss);\n            return Long.toString(res);\n        }\n        if(n ==1 || m ==1){\n            long res = Long.parseLong(x) * Long.parseLong(y);\n            return Long.toString(res);\n        }\n        return &quot;Error !&quot;;\n\n    }\n   \n}\n\n</code></pre>\n"},{"tags":["java","list","dictionary","cart"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1441359064,"post_id":32394592,"comment_id":52657812,"body_markdown":"You can always map the User with onetomany for CartItems. And the CartItems mapped to manyToOne with Inventory. I would recommend to save the User&#39;s cartItems in database, so that if there is power loss or user logs out, the cart still remains.","body":"You can always map the User with onetomany for CartItems. And the CartItems mapped to manyToOne with Inventory. I would recommend to save the User&#39;s cartItems in database, so that if there is power loss or user logs out, the cart still remains."},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":1,"creation_date":1441359081,"post_id":32394592,"comment_id":52657826,"body_markdown":"Apart from your question, try to divide your methods into more smaller methods to add readability","body":"Apart from your question, try to divide your methods into more smaller methods to add readability"}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441359294,"creation_date":1441359294,"answer_id":32394698,"question_id":32394592,"body_markdown":"Some pointers:\r\n\r\n - You should use [proper naming conventions][1] (i.e. variables and methods name starts with a lower case letter)\r\n - `ItemCart` is redundant, you can remove it and use the *keys* of `Quantity`\r\n - a [`Map`][2] provides an [`entrySet`][3] method, using that on `Quantity` will help you list the items in the cart (*keys*) and compute the total price using the item (*key*) price and quantity (*value*)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--","title":"Calculate the number of items within the a Shopping Cart","body":"<p>Some pointers:</p>\n\n<ul>\n<li>You should use <a href=\"https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow\">proper naming conventions</a> (i.e. variables and methods name starts with a lower case letter)</li>\n<li><code>ItemCart</code> is redundant, you can remove it and use the <em>keys</em> of <code>Quantity</code></li>\n<li>a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow\"><code>Map</code></a> provides an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow\"><code>entrySet</code></a> method, using that on <code>Quantity</code> will help you list the items in the cart (<em>keys</em>) and compute the total price using the item (<em>key</em>) price and quantity (<em>value</em>)</li>\n</ul>\n"}],"owner":{"account_id":5914031,"reputation":325,"user_id":4653364,"accept_rate":48,"display_name":"Shruthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659379199,"creation_date":1441358920,"question_id":32394592,"body_markdown":"I am quite new to the concepts of Java. I have designed a shopping cart application using core java. But i am not able to get the desired output.\r\nHere is my pojo class item.java \r\n\r\n    package com.shop.data.*;\r\n    public class Item\r\n    {\r\n    \tprivate int Itemid;\r\n    \tprivate String category;\r\n    \tprivate String name;\r\n        private double price;\r\n          private String size;\r\n    \t\r\n    \t/**\r\n    \t * @return the category\r\n    \t */\r\n    \tpublic String getCategory() {\r\n    \t\treturn category;\r\n    \t}\r\n    \tpublic Item(int itemid) {\r\n    \t\tsuper();\r\n    \t\tItemid = itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param category the category to set\r\n    \t */\r\n    \tpublic void setCategory(String category) {\r\n    \t\tthis.category = category;\r\n    \t}\r\n    \r\n        // -------------------------------------------------------\r\n        //  Create a new item with the given attributes.\r\n        // -------------------------------------------------------\r\n        public Item (String itemcategory ,String itemName, double itemPrice,String itemSize)\r\n        {\r\n            name = itemName;\r\n            price = itemPrice;\r\n          \r\n            size = itemSize;\r\n            category = itemcategory;\r\n        }\r\n        public Item(String itemName, int itemPrice, String size) {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t/**\r\n    \t * @return the size\r\n    \t */\r\n    \tpublic String getSize() {\r\n    \t\treturn size;\r\n    \t}\r\n    \t/**\r\n    \t * @param size the size to set\r\n    \t */\r\n    \tpublic void setSize(String size) {\r\n    \t\tthis.size = size;\r\n    \t}\r\n    \t\r\n        // -------------------------------------------------\r\n        //   Returns the unit price of the item\r\n        // -------------------------------------------------\r\n        public double getPrice()\r\n        {\r\n            return price;\r\n        }\r\n        // -------------------------------------------------\r\n        //   Returns the name of the item\r\n        // -------------------------------------------------\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n    \t/**\r\n    \t * @return the itemid\r\n    \t */\r\n    \tpublic int getItemid() {\r\n    \t\treturn Itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param itemid the itemid to set\r\n    \t */\r\n    \tpublic void setItemid(int itemid) {\r\n    \t\tItemid = itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param name the name to set\r\n    \t */\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t/**\r\n    \t * @param price the price to set\r\n    \t */\r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic String toString ()\r\n        {\r\n           \r\n            return (name + &quot;\\t&quot; + price +  &quot;\\t&quot;+ size +  &quot;\\t&quot;);\r\n        }\r\n    \r\n    \t\r\n    }\r\n  The main class is ShopCartTest.java\r\n\r\n    package com.shop.test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    import com.shop.data.*;\r\n    \r\n    public class ShoppingCartTest {\r\n    \tprivate static Scanner scan;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// *** declare and instantiate a variable cart to be an empty ArrayList\r\n    \t\tshopping();\r\n    \t}\r\n    \r\n    \tpublic static void shopping() {\r\n    \t\tArrayList&lt;Item&gt; ItemCart = new ArrayList&lt;Item&gt;();\r\n    \t\tMap&lt;Item, Integer&gt; Quantity = new HashMap&lt;Item, Integer&gt;();\r\n    \t\tItem item = null;\r\n    \t\tInventory inventory = null;\r\n    \t\tString category = null;\r\n    \t\tString itemName;\r\n    \t\tString itemSize;\r\n    \t\tdouble itemPrice = 0;\r\n    \t\tdouble totalPrice = 0.0;\r\n    \t\tdouble sum = 0.0;\r\n    \t\tint itemquantity;\r\n    \t\tscan = new Scanner(System.in);\r\n    \t\tString keepShopping = &quot;y&quot;;\r\n    \t\tSystem.out.println(&quot;****Shopping Cart****&quot;);\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;Select Category: &quot;);\r\n    \t\t\tcategory = scan.nextLine();\r\n    \t\t\tif (category.equals(&quot;men&quot;) || category.equals(&quot;Men&quot;)) {\r\n    \r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t\t\t.println(&quot;Available Items: \\n1Shirt : 900 \\n2.T-Shirt : 700 \\n3.Jean: 1500.\\n&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Select Item to Add to your Bag: &quot;);\r\n    \t\t\t\titemName = scan.nextLine();\r\n    \t\t\t\tif (itemName.equals(&quot;Shirt&quot;) || (itemName.equals(&quot;shirt&quot;))) {\r\n    \t\t\t\t\titemPrice = 900;\r\n    \t\t\t\t} else if (itemName.equals(&quot;T-Shirt&quot;)\r\n    \t\t\t\t\t\t|| (itemName.equals(&quot;t-shirt&quot;))) {\r\n    \t\t\t\t\titemPrice = 700;\r\n    \t\t\t\t} else\r\n    \t\t\t\t\titemPrice = 1500;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t\t\t.println(&quot;Available Items: \\n1.Dress : 250 \\n2.Top : 350 \\n3.Jean: 1500.\\n&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Select Item to Add to your Bag: &quot;);\r\n    \t\t\t\titemName = scan.nextLine();\r\n    \t\t\t\t// *** create a new item and add it to the cart\r\n    \t\t\t\tif (itemName.equals(&quot;Dress&quot;) || (itemName.equals(&quot;dress&quot;))) {\r\n    \t\t\t\t\titemPrice = 250;\r\n    \t\t\t\t} else if (itemName.equals(&quot;Top&quot;) || (itemName.equals(&quot;top&quot;))) {\r\n    \t\t\t\t\titemPrice = 350;\r\n    \t\t\t\t} else\r\n    \t\t\t\t\titemPrice = 1500;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.print(&quot;Available Sizes \\nS \\tM \\tL: &quot;);\r\n    \t\t\titemSize = scan.nextLine();\r\n    \t\t\tSystem.out.print(&quot;Enter the quantity: &quot;);\r\n    \t\t\titemquantity = scan.nextInt();\r\n    \t\t\titem = new Item(category, itemName, itemPrice, itemSize);\r\n    \t\t\tItemCart.add(item);\r\n    \t\t\tQuantity.put(item, itemquantity); \r\n    \r\n    \t\t\t// *** print the contents of the cart object using println\r\n    \t\t\tfor (int i = 0; i &lt; ItemCart.size(); i++) {\r\n    \t\t\t\tItem itm = ItemCart.get(i);\r\n    \t\t\t\tSystem.out.println(itm);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Print out the results\r\n    \t\t\tSystem.out.print(&quot;Continue shopping (y/n)? &quot;);\r\n    \t\t\tscan.nextLine();\r\n    \t\t\tkeepShopping = scan.nextLine();\r\n    \t\t} while (keepShopping.equals(&quot;y&quot;));\r\n    \r\n    \t\tfor (int i = 0; i &lt; ItemCart.size(); i++) {\r\n    \t\t\tQuantity.put(item, itemquantity);\r\n    \t\t\tItem itm = ItemCart.get(i);\r\n    \t\t\tSystem.out.println(itm);\r\n    \t\t\ttotalPrice = itemquantity * itm.getPrice();\r\n    \t\t\tfor (int j = 0; i &lt; ItemCart.size(); i++)\r\n    \t\t\t\tsum += totalPrice;\r\n    \r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;The total price is: &quot; + sum);\r\n    \t\tSystem.out.println(&quot;Do you wan to proceed to checkout (y/n): &quot;);\r\n    \t\tif (scan.nextLine().equals(&quot;y&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Thank you for shopping with us!&quot;);\r\n    \r\n    \t\t} else {\r\n    \t\t\tshopping();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\nThere are 4 pojo&#39;s Cart, inventory,Item, User. The user must be able to select multiple items of multiple quanties. (*For items a list is been created and for the quantity: map. where item object is the key and quantity is the value*). The user slects category, item, then quatity. Then he can proceed to checkout. So when he decides to checkout. He must be able to see the various items purchased ie (itemName, SIxe ,UnitPrice, unitprice*quantity) and finally the Total Price. \r\nHow do i achieve this? I am kinda lost! \r\n \r\n    \r\n\r\n","title":"Calculate the number of items within the a Shopping Cart","body":"<p>I am quite new to the concepts of Java. I have designed a shopping cart application using core java. But i am not able to get the desired output.\nHere is my pojo class item.java </p>\n\n<pre><code>package com.shop.data.*;\npublic class Item\n{\n    private int Itemid;\n    private String category;\n    private String name;\n    private double price;\n      private String size;\n\n    /**\n     * @return the category\n     */\n    public String getCategory() {\n        return category;\n    }\n    public Item(int itemid) {\n        super();\n        Itemid = itemid;\n    }\n    /**\n     * @param category the category to set\n     */\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    // -------------------------------------------------------\n    //  Create a new item with the given attributes.\n    // -------------------------------------------------------\n    public Item (String itemcategory ,String itemName, double itemPrice,String itemSize)\n    {\n        name = itemName;\n        price = itemPrice;\n\n        size = itemSize;\n        category = itemcategory;\n    }\n    public Item(String itemName, int itemPrice, String size) {\n        // TODO Auto-generated constructor stub\n    }\n    /**\n     * @return the size\n     */\n    public String getSize() {\n        return size;\n    }\n    /**\n     * @param size the size to set\n     */\n    public void setSize(String size) {\n        this.size = size;\n    }\n\n    // -------------------------------------------------\n    //   Returns the unit price of the item\n    // -------------------------------------------------\n    public double getPrice()\n    {\n        return price;\n    }\n    // -------------------------------------------------\n    //   Returns the name of the item\n    // -------------------------------------------------\n    public String getName()\n    {\n        return name;\n    }\n    /**\n     * @return the itemid\n     */\n    public int getItemid() {\n        return Itemid;\n    }\n    /**\n     * @param itemid the itemid to set\n     */\n    public void setItemid(int itemid) {\n        Itemid = itemid;\n    }\n    /**\n     * @param name the name to set\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n    /**\n     * @param price the price to set\n     */\n    public void setPrice(double price) {\n        this.price = price;\n    }\n    public String toString ()\n    {\n\n        return (name + \"\\t\" + price +  \"\\t\"+ size +  \"\\t\");\n    }\n\n\n}\n</code></pre>\n\n<p>The main class is ShopCartTest.java</p>\n\n<pre><code>package com.shop.test;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport com.shop.data.*;\n\npublic class ShoppingCartTest {\n    private static Scanner scan;\n\n    public static void main(String[] args) {\n        // *** declare and instantiate a variable cart to be an empty ArrayList\n        shopping();\n    }\n\n    public static void shopping() {\n        ArrayList&lt;Item&gt; ItemCart = new ArrayList&lt;Item&gt;();\n        Map&lt;Item, Integer&gt; Quantity = new HashMap&lt;Item, Integer&gt;();\n        Item item = null;\n        Inventory inventory = null;\n        String category = null;\n        String itemName;\n        String itemSize;\n        double itemPrice = 0;\n        double totalPrice = 0.0;\n        double sum = 0.0;\n        int itemquantity;\n        scan = new Scanner(System.in);\n        String keepShopping = \"y\";\n        System.out.println(\"****Shopping Cart****\");\n        do {\n            System.out.println(\"Select Category: \");\n            category = scan.nextLine();\n            if (category.equals(\"men\") || category.equals(\"Men\")) {\n\n                System.out\n                        .println(\"Available Items: \\n1Shirt : 900 \\n2.T-Shirt : 700 \\n3.Jean: 1500.\\n\");\n                System.out.println(\"Select Item to Add to your Bag: \");\n                itemName = scan.nextLine();\n                if (itemName.equals(\"Shirt\") || (itemName.equals(\"shirt\"))) {\n                    itemPrice = 900;\n                } else if (itemName.equals(\"T-Shirt\")\n                        || (itemName.equals(\"t-shirt\"))) {\n                    itemPrice = 700;\n                } else\n                    itemPrice = 1500;\n            } else {\n                System.out\n                        .println(\"Available Items: \\n1.Dress : 250 \\n2.Top : 350 \\n3.Jean: 1500.\\n\");\n                System.out.println(\"Select Item to Add to your Bag: \");\n                itemName = scan.nextLine();\n                // *** create a new item and add it to the cart\n                if (itemName.equals(\"Dress\") || (itemName.equals(\"dress\"))) {\n                    itemPrice = 250;\n                } else if (itemName.equals(\"Top\") || (itemName.equals(\"top\"))) {\n                    itemPrice = 350;\n                } else\n                    itemPrice = 1500;\n            }\n            System.out.print(\"Available Sizes \\nS \\tM \\tL: \");\n            itemSize = scan.nextLine();\n            System.out.print(\"Enter the quantity: \");\n            itemquantity = scan.nextInt();\n            item = new Item(category, itemName, itemPrice, itemSize);\n            ItemCart.add(item);\n            Quantity.put(item, itemquantity); \n\n            // *** print the contents of the cart object using println\n            for (int i = 0; i &lt; ItemCart.size(); i++) {\n                Item itm = ItemCart.get(i);\n                System.out.println(itm);\n            }\n\n            // Print out the results\n            System.out.print(\"Continue shopping (y/n)? \");\n            scan.nextLine();\n            keepShopping = scan.nextLine();\n        } while (keepShopping.equals(\"y\"));\n\n        for (int i = 0; i &lt; ItemCart.size(); i++) {\n            Quantity.put(item, itemquantity);\n            Item itm = ItemCart.get(i);\n            System.out.println(itm);\n            totalPrice = itemquantity * itm.getPrice();\n            for (int j = 0; i &lt; ItemCart.size(); i++)\n                sum += totalPrice;\n\n        }\n\n        System.out.println(\"The total price is: \" + sum);\n        System.out.println(\"Do you wan to proceed to checkout (y/n): \");\n        if (scan.nextLine().equals(\"y\")) {\n            System.out.println(\"Thank you for shopping with us!\");\n\n        } else {\n            shopping();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>There are 4 pojo's Cart, inventory,Item, User. The user must be able to select multiple items of multiple quanties. (<em>For items a list is been created and for the quantity: map. where item object is the key and quantity is the value</em>). The user slects category, item, then quatity. Then he can proceed to checkout. So when he decides to checkout. He must be able to see the various items purchased ie (itemName, SIxe ,UnitPrice, unitprice*quantity) and finally the Total Price. \nHow do i achieve this? I am kinda lost! </p>\n"},{"tags":["java","maven","junit","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659380161,"post_id":73198088,"comment_id":129276335,"body_markdown":"Have a look at https://github.com/cucumber/cucumber-java-skeleton. Put features in the resources folder. Otherwise they&#39;re not put on the classpath.","body":"Have a look at <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>. Put features in the resources folder. Otherwise they&#39;re not put on the classpath."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659380233,"post_id":73198088,"comment_id":129276352,"body_markdown":"Ah. Sorry, no maven at all. That&#39;s going to be a bit trickier.","body":"Ah. Sorry, no maven at all. That&#39;s going to be a bit trickier."}],"owner":{"account_id":25950621,"reputation":13,"user_id":19668716,"display_name":"Killua11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659378558,"creation_date":1659378558,"question_id":73198088,"body_markdown":"I am performing automation setup using java, cucumber and junit. However, due to restrictions of firewall and proxy in company, not able to create maven project with archtype templates. Hence initially created java project with source folder as src/test/java, placed feature file, stepdefinition and test runner class within this source folder, however, while running test runner class, I am facing &quot;test class not found error for selected project&quot;. \r\nI tried all sort of solutions such as ordering JRE file to bottom, giving entire path of feature file,adding output folder in using run configuration etc however it seems not working.\r\n\r\nHence finally would like to know whether can we run cucumber with only java and junit in the absence of maven.\r\n\r\nKindly help me in resolving this issue.\r\n\r\n","title":"To run cucumber java project without maven","body":"<p>I am performing automation setup using java, cucumber and junit. However, due to restrictions of firewall and proxy in company, not able to create maven project with archtype templates. Hence initially created java project with source folder as src/test/java, placed feature file, stepdefinition and test runner class within this source folder, however, while running test runner class, I am facing &quot;test class not found error for selected project&quot;.\nI tried all sort of solutions such as ordering JRE file to bottom, giving entire path of feature file,adding output folder in using run configuration etc however it seems not working.</p>\n<p>Hence finally would like to know whether can we run cucumber with only java and junit in the absence of maven.</p>\n<p>Kindly help me in resolving this issue.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":6611981,"reputation":598,"user_id":5108100,"accept_rate":100,"display_name":"NoRelect"},"score":2,"creation_date":1471365277,"post_id":38980041,"comment_id":65312879,"body_markdown":"If you are really learning for the OCPJP, you should know this! If not, please complete the OCAJP first!","body":"If you are really learning for the OCPJP, you should know this! If not, please complete the OCAJP first!"},{"owner":{"account_id":4824596,"reputation":10769,"user_id":3894351,"accept_rate":75,"display_name":"Elltz"},"score":0,"creation_date":1471365388,"post_id":38980041,"comment_id":65312951,"body_markdown":"how come this question is being answered by 10k+ users ??? for reall??, i thought it was only low-rep whores like me, that chase these.. hmmm","body":"how come this question is being answered by 10k+ users ??? for reall??, i thought it was only low-rep whores like me, that chase these.. hmmm"},{"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"score":0,"creation_date":1471375194,"post_id":38980041,"comment_id":65318524,"body_markdown":"@NoRelect Sorry i meant oca and ocp both.","body":"@NoRelect Sorry i meant oca and ocp both."},{"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"score":1,"creation_date":1503204900,"post_id":38980041,"comment_id":78514760,"body_markdown":"@GhostCat sorry I was busy. Thanks for the reminder.","body":"@GhostCat sorry I was busy. Thanks for the reminder."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471365697,"creation_date":1471365114,"answer_id":38980074,"question_id":38980041,"body_markdown":"this is not a very good practice\r\n\r\n`Boolean.valueOf(b = true),` and you should avoid doing such, now regarding the question&gt;\r\n\r\n\r\n`if (b = true)` is the same as\r\n\r\n    b = true;\r\n    if (b)\r\n\r\n\r\n\r\ntherefore the condition is always met\r\n\r\nanalog to this.\r\n\r\n    if (b = false)\r\n\r\nwill be never ever executed...\r\n\r\nADditional information:\r\n\r\nthat kind of typos/mistakes are made by normally junior developers...\r\n\r\nsome when in the history of the development, it came a solution for that...\r\n\r\nthe so called JODA-Conditions(called like that as the Master JODA from stars-wars...)\r\n\r\nso, the JODA-Conditions will be safe in this case since you can try to do:\r\n\r\n    if (true = b) {\r\n    \t    // code here\r\n    \t}\r\n\r\nbut this will no compile since the complain:\r\n\r\n&gt; The left-hand side of an assignment must be a variable, \r\n\r\nthe controversy is still open about how good idea is that, is the code more readable like that etc etc..., ","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>this is not a very good practice</p>\n\n<p><code>Boolean.valueOf(b = true),</code> and you should avoid doing such, now regarding the question></p>\n\n<p><code>if (b = true)</code> is the same as</p>\n\n<pre><code>b = true;\nif (b)\n</code></pre>\n\n<p>therefore the condition is always met</p>\n\n<p>analog to this.</p>\n\n<pre><code>if (b = false)\n</code></pre>\n\n<p>will be never ever executed...</p>\n\n<p>ADditional information:</p>\n\n<p>that kind of typos/mistakes are made by normally junior developers...</p>\n\n<p>some when in the history of the development, it came a solution for that...</p>\n\n<p>the so called JODA-Conditions(called like that as the Master JODA from stars-wars...)</p>\n\n<p>so, the JODA-Conditions will be safe in this case since you can try to do:</p>\n\n<pre><code>if (true = b) {\n        // code here\n    }\n</code></pre>\n\n<p>but this will no compile since the complain:</p>\n\n<blockquote>\n  <p>The left-hand side of an assignment must be a variable, </p>\n</blockquote>\n\n<p>the controversy is still open about how good idea is that, is the code more readable like that etc etc..., </p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659378384,"creation_date":1471365195,"answer_id":38980101,"question_id":38980041,"body_markdown":"- `=` is assignment operator,  \r\n- `==` is comparison operator. \r\n\r\nBut assignment operator\r\n\r\n    x = y\r\n\r\nnot only *assigns* value from `y` to variable `x`, but it also ***returns*** that value. \r\n\r\nThanks to that we can write code like \r\n\r\n    x = y = z = 1;\r\n    //equivalent of:\r\n    x = (y = (z = 1));\r\n\r\n(although it is not recommended as it can be confusing, especially for new Java programmers)\r\n\r\nAs you see `1` is first assigned to variable `z`, *then* expression `z = 1` *returns* 1 which can be assigned to variable `y`. Then again assigning 1 to `y` returns 1 which can be assigned to variable `x`.\r\n\r\nBecause of that *returning* mechanism it is possible to write code like `if (b = true)` since `true` will be assigned to `b` and then returned. Since `if(..)` expected boolean for its condition, and found one code compiled fine.\r\n\r\nIn other words `if(b=true){...}` is very similar to `if(true){b=true; ...}`. This means that such `if` will always execute code from `true` branch (since that is what we ware assigning to `b`).\r\n\r\n---\r\n\r\n### BONUS: How to prevent this typo?\r\n\r\n \r\n- omit `==true` and `==false` parts. \r\n   - In case of `if(b==true)` we can write `if(b)` since `(b == true)` will always give same result as already stored in `b`.  \r\n   - In case of `if(b==false)` we can write `if(!b)`. \r\n\r\n- use [Yoda conditions][1] `if(true == b){..}` where value is used before/on left side and variable on right side of `==`.  \r\nEven if by mistake we will write `=` instead of `==` we will end up with `true = b` which will end up as compilation error since we can&#39;t *assign* anything to *value* like `true` (just like we can&#39;t compile `2=3;` which would attempt to assign 3 to 2 which makes no sense). We can only assign values to *variables*.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Yoda_conditions\r\n","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<ul>\n<li><code>=</code> is assignment operator,</li>\n<li><code>==</code> is comparison operator.</li>\n</ul>\n<p>But assignment operator</p>\n<pre><code>x = y\n</code></pre>\n<p>not only <em>assigns</em> value from <code>y</code> to variable <code>x</code>, but it also <em><strong>returns</strong></em> that value.</p>\n<p>Thanks to that we can write code like</p>\n<pre><code>x = y = z = 1;\n//equivalent of:\nx = (y = (z = 1));\n</code></pre>\n<p>(although it is not recommended as it can be confusing, especially for new Java programmers)</p>\n<p>As you see <code>1</code> is first assigned to variable <code>z</code>, <em>then</em> expression <code>z = 1</code> <em>returns</em> 1 which can be assigned to variable <code>y</code>. Then again assigning 1 to <code>y</code> returns 1 which can be assigned to variable <code>x</code>.</p>\n<p>Because of that <em>returning</em> mechanism it is possible to write code like <code>if (b = true)</code> since <code>true</code> will be assigned to <code>b</code> and then returned. Since <code>if(..)</code> expected boolean for its condition, and found one code compiled fine.</p>\n<p>In other words <code>if(b=true){...}</code> is very similar to <code>if(true){b=true; ...}</code>. This means that such <code>if</code> will always execute code from <code>true</code> branch (since that is what we ware assigning to <code>b</code>).</p>\n<hr />\n<h3>BONUS: How to prevent this typo?</h3>\n<ul>\n<li><p>omit <code>==true</code> and <code>==false</code> parts.</p>\n<ul>\n<li>In case of <code>if(b==true)</code> we can write <code>if(b)</code> since <code>(b == true)</code> will always give same result as already stored in <code>b</code>.</li>\n<li>In case of <code>if(b==false)</code> we can write <code>if(!b)</code>.</li>\n</ul>\n</li>\n<li><p>use <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\">Yoda conditions</a> <code>if(true == b){..}</code> where value is used before/on left side and variable on right side of <code>==</code>.<br />\nEven if by mistake we will write <code>=</code> instead of <code>==</code> we will end up with <code>true = b</code> which will end up as compilation error since we can't <em>assign</em> anything to <em>value</em> like <code>true</code> (just like we can't compile <code>2=3;</code> which would attempt to assign 3 to 2 which makes no sense). We can only assign values to <em>variables</em>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471365214,"creation_date":1471365214,"answer_id":38980109,"question_id":38980041,"body_markdown":"`if` expects an expression of type boolean.\r\n\r\nA boolean variable has type ... boolean.\r\n\r\nSo, what might probably happen when you put a boolean variable behind an if?","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p><code>if</code> expects an expression of type boolean.</p>\n\n<p>A boolean variable has type ... boolean.</p>\n\n<p>So, what might probably happen when you put a boolean variable behind an if?</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471365832,"creation_date":1471365520,"answer_id":38980201,"question_id":38980041,"body_markdown":"Let&#39;s start by looking at the structure of an `if` statement:\r\n\r\n    if ( &lt;boolean-expression&gt; ) {\r\n        ...\r\n    }\r\n\r\nThe `&lt;boolean-expression&gt;` can be any expression that evaluates to `boolean`. Most commonly, this is a logical expression, i.e. an expression with comparison operators and/or some logical operators, such as `&amp;&amp;`, `||`, and `!`.\r\n\r\nHowever, the expression could be a call to a method returning a `boolean`, for example:\r\n\r\n    if (list.isEmpty()) {\r\n        ...\r\n    }\r\n\r\nNext, let&#39;s look at an assignment expression. It is an expression with a side effect. The right side gets evaluated and assigned to the left side. The value of the assignment expression is the value of the variable after the assignment.\r\n\r\nIn your case, the assignment is `b = true`, so the value of the expression is `true`. Plugging it into the first part explains why you get the result that you see - `b = true` in\r\n\r\n    if (b = true) {\r\n        ...\r\n    }\r\n\r\nis a valid boolean expression returning `true`, so the code complies and runs correctly. A more common scenario uses an assignment to store the result for future reference, like this:\r\n\r\n    if (b = list.isEmpty()) {\r\n        ...\r\n    }\r\n\r\nThis lets you refer to the result of `list.isEmpty()` outside of the conditional, without invoking the method again.\r\n\r\n**Note:** Although situations exist when an assignment inside a conditional is a valid practice, it is not common, so one should heavily comment its use.","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>Let's start by looking at the structure of an <code>if</code> statement:</p>\n\n<pre><code>if ( &lt;boolean-expression&gt; ) {\n    ...\n}\n</code></pre>\n\n<p>The <code>&lt;boolean-expression&gt;</code> can be any expression that evaluates to <code>boolean</code>. Most commonly, this is a logical expression, i.e. an expression with comparison operators and/or some logical operators, such as <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code>.</p>\n\n<p>However, the expression could be a call to a method returning a <code>boolean</code>, for example:</p>\n\n<pre><code>if (list.isEmpty()) {\n    ...\n}\n</code></pre>\n\n<p>Next, let's look at an assignment expression. It is an expression with a side effect. The right side gets evaluated and assigned to the left side. The value of the assignment expression is the value of the variable after the assignment.</p>\n\n<p>In your case, the assignment is <code>b = true</code>, so the value of the expression is <code>true</code>. Plugging it into the first part explains why you get the result that you see - <code>b = true</code> in</p>\n\n<pre><code>if (b = true) {\n    ...\n}\n</code></pre>\n\n<p>is a valid boolean expression returning <code>true</code>, so the code complies and runs correctly. A more common scenario uses an assignment to store the result for future reference, like this:</p>\n\n<pre><code>if (b = list.isEmpty()) {\n    ...\n}\n</code></pre>\n\n<p>This lets you refer to the result of <code>list.isEmpty()</code> outside of the conditional, without invoking the method again.</p>\n\n<p><strong>Note:</strong> Although situations exist when an assignment inside a conditional is a valid practice, it is not common, so one should heavily comment its use.</p>\n"}],"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38980101,"answer_count":4,"score":1,"last_activity_date":1659378384,"creation_date":1471364989,"question_id":38980041,"body_markdown":"I discovered this surprising thing while learning OCA/OCP for Java.\r\n\r\nBelow is the first piece of code of which the if(test condition) part\r\nsurprises me.\r\n\r\n    public class BooleanIf {\r\n    public static void main(String[] args) {\r\n        boolean b = false;\r\n        System.out.println(Boolean.valueOf(b = true));\r\n        if (b = true)\r\n            System.out.println(&quot;true&quot;);\r\n        else\r\n            System.out.println(&quot;false&quot;);\r\n    }\r\n\r\nNow the output of this surprisingly is &quot;true&quot;.\r\n\r\nI learnt that there has to be a relational condition that returns true or false like `if (a &gt; b)` or `if (a != b)` likewise. \r\n\r\nI want to know how it is returning true for this case. Does it call Boolean.valueOf()?\r\n\r\n","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>I discovered this surprising thing while learning OCA/OCP for Java.</p>\n\n<p>Below is the first piece of code of which the if(test condition) part\nsurprises me.</p>\n\n<pre><code>public class BooleanIf {\npublic static void main(String[] args) {\n    boolean b = false;\n    System.out.println(Boolean.valueOf(b = true));\n    if (b = true)\n        System.out.println(\"true\");\n    else\n        System.out.println(\"false\");\n}\n</code></pre>\n\n<p>Now the output of this surprisingly is \"true\".</p>\n\n<p>I learnt that there has to be a relational condition that returns true or false like <code>if (a &gt; b)</code> or <code>if (a != b)</code> likewise. </p>\n\n<p>I want to know how it is returning true for this case. Does it call Boolean.valueOf()?</p>\n"},{"tags":["java","spring-boot","algorithm","maven","struts"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1659451907,"post_id":73196997,"comment_id":129295323,"body_markdown":"Extract the utility.","body":"Extract the utility."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659378305,"creation_date":1659378305,"answer_id":73198039,"question_id":73196997,"body_markdown":"In order to use utility / commons classes in many project you should create separate project for utility. \r\n\r\nUtility project should  not use any dependency or very little in other case you should redesign it.\r\n","title":"How to include a jar without its subjar","body":"<p>In order to use utility / commons classes in many project you should create separate project for utility.</p>\n<p>Utility project should  not use any dependency or very little in other case you should redesign it.</p>\n"}],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659378305,"creation_date":1659372302,"question_id":73196997,"body_markdown":"I have a struts project. It has many jars in its `APP-INF/lib` directory and the packaged ear size is huge. I also have another spring boot project and it has one utility class.\r\n\r\nMy target is to use that utility from the struts project.\r\n\r\nThe problem here is, if I include this spring-boot jar in the `pom.xml`, it includes the spring boot jar with all its dependency which are already present in the struts project. This makes the ear more huge. The jars are copied twice in a way. Basically the project becomes like this:\r\n\r\n```\r\nstruts-project\r\n--APP-INF/libs/\r\n----**.jar (many jars)\r\n----spring-boot-project.jar\r\n--------BOOT-CONF/libs/\r\n-------------**.jar (again many jars, most of them already in one level above directory)\r\n\r\n```\r\n\r\nMy end goal is to use the utility, for which I have 2 ways (what I have in mind, more ways possible)\r\n\r\n1. Include the spring boot jar, but find a way to reduce packaged ear size.\r\n\r\n2. Create a rest api in the spirng boot project just to use the jar. But if the service is down anyhow, it will have huge impact on main application - so don&#39;t want to use this way also.\r\n\r\nPlease suggest more ways to achieve my end goal. Or any improvement/suggestion in the above approaches.","title":"How to include a jar without its subjar","body":"<p>I have a struts project. It has many jars in its <code>APP-INF/lib</code> directory and the packaged ear size is huge. I also have another spring boot project and it has one utility class.</p>\n<p>My target is to use that utility from the struts project.</p>\n<p>The problem here is, if I include this spring-boot jar in the <code>pom.xml</code>, it includes the spring boot jar with all its dependency which are already present in the struts project. This makes the ear more huge. The jars are copied twice in a way. Basically the project becomes like this:</p>\n<pre><code>struts-project\n--APP-INF/libs/\n----**.jar (many jars)\n----spring-boot-project.jar\n--------BOOT-CONF/libs/\n-------------**.jar (again many jars, most of them already in one level above directory)\n\n</code></pre>\n<p>My end goal is to use the utility, for which I have 2 ways (what I have in mind, more ways possible)</p>\n<ol>\n<li><p>Include the spring boot jar, but find a way to reduce packaged ear size.</p>\n</li>\n<li><p>Create a rest api in the spirng boot project just to use the jar. But if the service is down anyhow, it will have huge impact on main application - so don't want to use this way also.</p>\n</li>\n</ol>\n<p>Please suggest more ways to achieve my end goal. Or any improvement/suggestion in the above approaches.</p>\n"},{"tags":["java","spring","maven","antivirus","mcafee"],"comments":[{"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"score":0,"creation_date":1659377227,"post_id":73197847,"comment_id":129275469,"body_markdown":"Have a look at this: https://stackoverflow.com/questions/3363767/how-do-you-virus-scan-a-file-being-uploaded-to-your-java-webapp-as-it-streams","body":"Have a look at this: <a href=\"https://stackoverflow.com/questions/3363767/how-do-you-virus-scan-a-file-being-uploaded-to-your-java-webapp-as-it-streams\" title=\"how do you virus scan a file being uploaded to your java webapp as it streams\">stackoverflow.com/questions/3363767/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659378050,"creation_date":1659378050,"answer_id":73198000,"question_id":73197847,"body_markdown":"Mature A/V software supports [ICAP protocol](https://en.wikipedia.org/wiki/Internet_Content_Adaptation_Protocol), some examples:\r\n- [Configuring McAfee Web Gateway for ICAP Server](https://docs.tibco.com/pub/api-exchange-gateway/2.2.0/doc/html/GUID-AC8BD890-E522-4BA7-BDA3-2CC455F41C3B.html)\r\n- [KAV ICAP mode](https://support.kaspersky.com/ScanEngine/1.0/en-US/179823.htm)\r\n\r\nQuick google search reveals a plenty of ICAP implementations for java (protocol is actually simple), some of them are interesting, for example: [ICAP-avscan](https://github.com/Baekalfen/ICAP-avscan)","title":"How to implement file content virus scanner in a JAVA spring core/struts2 based web application?","body":"<p>Mature A/V software supports <a href=\"https://en.wikipedia.org/wiki/Internet_Content_Adaptation_Protocol\" rel=\"nofollow noreferrer\">ICAP protocol</a>, some examples:</p>\n<ul>\n<li><a href=\"https://docs.tibco.com/pub/api-exchange-gateway/2.2.0/doc/html/GUID-AC8BD890-E522-4BA7-BDA3-2CC455F41C3B.html\" rel=\"nofollow noreferrer\">Configuring McAfee Web Gateway for ICAP Server</a></li>\n<li><a href=\"https://support.kaspersky.com/ScanEngine/1.0/en-US/179823.htm\" rel=\"nofollow noreferrer\">KAV ICAP mode</a></li>\n</ul>\n<p>Quick google search reveals a plenty of ICAP implementations for java (protocol is actually simple), some of them are interesting, for example: <a href=\"https://github.com/Baekalfen/ICAP-avscan\" rel=\"nofollow noreferrer\">ICAP-avscan</a></p>\n"}],"owner":{"account_id":18230420,"reputation":13,"user_id":13269465,"display_name":"Ritesh_RM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659378050,"creation_date":1659377119,"question_id":73197847,"body_markdown":"I am working on a web application which is accepting some files from external users. Thus, I wish to incorporate one JAVA compatible antivirus in my application which will scan the file content and will generate the outcome whether there is any virus present or not.\r\n\r\nI want to manage this feature from my codebase perspective without installing the antivirus on the server itself. My target is to manage some maven dependencies and use some JAVA API for the virus scan which will keep my application server(JBOSS EAP 7.4.3) lightweight.\r\n\r\nI have already done some research on this and got few information from some blogs over the internet. But I have not found any dependency related to antivirus API in the maven repository.\r\n\r\nCould you please provide some ideas or solutions to solve this problem. Thanks in advance!\r\n\r\nRegards,\r\nRitesh","title":"How to implement file content virus scanner in a JAVA spring core/struts2 based web application?","body":"<p>I am working on a web application which is accepting some files from external users. Thus, I wish to incorporate one JAVA compatible antivirus in my application which will scan the file content and will generate the outcome whether there is any virus present or not.</p>\n<p>I want to manage this feature from my codebase perspective without installing the antivirus on the server itself. My target is to manage some maven dependencies and use some JAVA API for the virus scan which will keep my application server(JBOSS EAP 7.4.3) lightweight.</p>\n<p>I have already done some research on this and got few information from some blogs over the internet. But I have not found any dependency related to antivirus API in the maven repository.</p>\n<p>Could you please provide some ideas or solutions to solve this problem. Thanks in advance!</p>\n<p>Regards,\nRitesh</p>\n"},{"tags":["java","mysql","uniqueidentifier"],"comments":[{"owner":{"account_id":19281,"reputation":30569,"user_id":45066,"accept_rate":76,"display_name":"Yada"},"score":2,"creation_date":1265220670,"post_id":2194206,"comment_id":2143239,"body_markdown":"The easiest unique ID for database is incrementing a number.","body":"The easiest unique ID for database is incrementing a number."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1500539513,"post_id":2194206,"comment_id":77384797,"body_markdown":"Why not use a UUID instead? https://stackoverflow.com/questions/192920/generating-a-globally-unique-identifier-in-java","body":"Why not use a UUID instead? <a href=\"https://stackoverflow.com/questions/192920/generating-a-globally-unique-identifier-in-java\" title=\"generating a globally unique identifier in java\">stackoverflow.com/questions/192920/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39106,"reputation":4440,"user_id":112713,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265220567,"creation_date":1265220567,"answer_id":2194239,"question_id":2194206,"body_markdown":"    public String getUniqueId(String uniqueString) {\r\n        return uniqueString;\r\n    }\r\n\r\nUnless the ID has any other constraints on it than &quot;be unique&quot;.","title":"Generate unique id from unique string input","body":"<pre><code>public String getUniqueId(String uniqueString) {\n    return uniqueString;\n}\n</code></pre>\n\n<p>Unless the ID has any other constraints on it than \"be unique\".</p>\n"},{"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265220842,"creation_date":1265220842,"answer_id":2194267,"question_id":2194206,"body_markdown":"If your database requires that the column contain unique values, then why not use the string itself? Anything else is just another step to encode/decode it.","title":"Generate unique id from unique string input","body":"<p>If your database requires that the column contain unique values, then why not use the string itself? Anything else is just another step to encode/decode it.</p>\n"},{"tags":[],"owner":{"account_id":54615,"reputation":16252,"user_id":163454,"accept_rate":94,"display_name":"Notinlist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265222174,"creation_date":1265222174,"answer_id":2194453,"question_id":2194206,"body_markdown":"You have much much more possibilities for a 255 long string than a 64 (or whatever) bit long number. It is impossible. Add an auto_increment field.","title":"Generate unique id from unique string input","body":"<p>You have much much more possibilities for a 255 long string than a 64 (or whatever) bit long number. It is impossible. Add an auto_increment field.</p>\n"},{"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265222557,"creation_date":1265222557,"answer_id":2194484,"question_id":2194206,"body_markdown":"If you have a limited number of strings that occur frequently, creating a reference table with a numeric (auto-increment) ID, and a FK to that reference table in your main table could be an option.\r\n\r\nIf not, you could run your strings through GZIP or any other compression algorithm if you need to retrieve the original. \r\n\r\nIf you don&#39;t need to retrieve the original, a hash function such as MD5 is what you&#39;re looking for.","title":"Generate unique id from unique string input","body":"<p>If you have a limited number of strings that occur frequently, creating a reference table with a numeric (auto-increment) ID, and a FK to that reference table in your main table could be an option.</p>\n\n<p>If not, you could run your strings through GZIP or any other compression algorithm if you need to retrieve the original. </p>\n\n<p>If you don't need to retrieve the original, a hash function such as MD5 is what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":70253,"reputation":56,"user_id":203897,"display_name":"Dagon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1265223007,"creation_date":1265223007,"answer_id":2194535,"question_id":2194206,"body_markdown":"How unique is &quot;unique&quot;?  Using any good hashing function (MD5 is decent for most uses, and easily implemented via java.security.MessageDigest.getInstance(&quot;MD5&quot;) can get you to a 128-bit number that&#39;s very very likely to be unique.  Using a subset of the hash gets you a smaller ID, with a higher chance of collision.  \r\n\r\nUsing an auto_increment field in the DB, if it fits your design, might be easier to implement, will truly guarantee uniqueness, and will use smaller IDs than the 16 bytes of MD5.  You can also then meet your requirement of finding the string by the key, which you can&#39;t do for a hash.\r\n\r\n","title":"Generate unique id from unique string input","body":"<p>How unique is \"unique\"?  Using any good hashing function (MD5 is decent for most uses, and easily implemented via java.security.MessageDigest.getInstance(\"MD5\") can get you to a 128-bit number that's very very likely to be unique.  Using a subset of the hash gets you a smaller ID, with a higher chance of collision.  </p>\n\n<p>Using an auto_increment field in the DB, if it fits your design, might be easier to implement, will truly guarantee uniqueness, and will use smaller IDs than the 16 bytes of MD5.  You can also then meet your requirement of finding the string by the key, which you can't do for a hash.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659378048,"creation_date":1265223220,"answer_id":2194564,"question_id":2194206,"body_markdown":"If you want to be able to go &quot;Backwards&quot; (The indexes are guaranteed unique and can be reversed to the original strings) what you are doing is compression, anything that isn&#39;t compression (checksum) is not reversable.  \r\n\r\nTo do the compression, the simplest way would be to bit-pack and get each character down to the bare minimum number of bits.\r\n\r\nA-Z is 26 chars which is less than 32 (5 bits)\r\n\r\nadd a-z and it&#39;s 6 bits (with somewhere around 12 bit-patterns left over to represent other characters).\r\n\r\nLet&#39;s say that is enough for you.  So you have 6x255 bits which is 1530 bits to store your string. (191 bytes)\r\n\r\nGoing with only caps would reduce that a little (to 159 bytes)\r\n\r\nYou can optimize it more, but then you have to go into a compression algorithm that expects a specific language or patterns in the Strings and optimizes those patterns.\r\n\r\nUnless you can further specify the contents of the strings, you&#39;re just not going to get what you want.  Sorry.  (If you can tell more about the contents of the strings, do so.  One of us may see patterns that will allow much better &quot;Compression&quot;)\r\n\r\nThis lack of ability to do what you want is why hashtables are so cool.  They get a &quot;Mostly Unique&quot; number and then have a second level of resolution to test cases where two strings hashed to the same number. ","title":"Generate unique id from unique string input","body":"<p>If you want to be able to go &quot;Backwards&quot; (The indexes are guaranteed unique and can be reversed to the original strings) what you are doing is compression, anything that isn't compression (checksum) is not reversable.</p>\n<p>To do the compression, the simplest way would be to bit-pack and get each character down to the bare minimum number of bits.</p>\n<p>A-Z is 26 chars which is less than 32 (5 bits)</p>\n<p>add a-z and it's 6 bits (with somewhere around 12 bit-patterns left over to represent other characters).</p>\n<p>Let's say that is enough for you.  So you have 6x255 bits which is 1530 bits to store your string. (191 bytes)</p>\n<p>Going with only caps would reduce that a little (to 159 bytes)</p>\n<p>You can optimize it more, but then you have to go into a compression algorithm that expects a specific language or patterns in the Strings and optimizes those patterns.</p>\n<p>Unless you can further specify the contents of the strings, you're just not going to get what you want.  Sorry.  (If you can tell more about the contents of the strings, do so.  One of us may see patterns that will allow much better &quot;Compression&quot;)</p>\n<p>This lack of ability to do what you want is why hashtables are so cool.  They get a &quot;Mostly Unique&quot; number and then have a second level of resolution to test cases where two strings hashed to the same number.</p>\n"},{"tags":[],"owner":{"account_id":46401,"reputation":42331,"user_id":137067,"accept_rate":81,"display_name":"philfreo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265224165,"creation_date":1265224165,"answer_id":2194682,"question_id":2194206,"body_markdown":"Since you&#39;re using MySQL, take a look at CRC32\r\n\r\nhttp://www.bitbybit.dk/carsten/blog/?p=191","title":"Generate unique id from unique string input","body":"<p>Since you're using MySQL, take a look at CRC32</p>\n\n<p><a href=\"http://www.bitbybit.dk/carsten/blog/?p=191\" rel=\"nofollow noreferrer\">http://www.bitbybit.dk/carsten/blog/?p=191</a></p>\n"},{"tags":[],"owner":{"account_id":273107,"reputation":2687,"user_id":564508,"display_name":"Michael Sander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346342189,"creation_date":1346342189,"answer_id":12200900,"question_id":2194206,"body_markdown":"Choosing the proper key shouldnt be taken easy.\r\n\r\nYou need to consider:\r\n\r\n- Replication:\r\nIs sharing of keys between different servers needed? If so, you most probably need some sort of unique hash or guid.\r\n\r\n- Size of the table/number of inserts:\r\nYou should consider that most rdbms store the data physically on the hard drive by the order of their (clustered) primary key. Now imagine what happens, if you insert a hash value starting with &#39;a&#39; on a table with a reasonable size. Yes, theres index padding, but eventually its full and the single line insert can cause the move of a couple of GB on the harddrive.\r\n\r\n- Need replication AND have big tables?\r\nUse both. Use a primary clustered auto increment (long)integer key and define a unique index on your hash column.\r\n","title":"Generate unique id from unique string input","body":"<p>Choosing the proper key shouldnt be taken easy.</p>\n\n<p>You need to consider:</p>\n\n<ul>\n<li><p>Replication:\nIs sharing of keys between different servers needed? If so, you most probably need some sort of unique hash or guid.</p></li>\n<li><p>Size of the table/number of inserts:\nYou should consider that most rdbms store the data physically on the hard drive by the order of their (clustered) primary key. Now imagine what happens, if you insert a hash value starting with 'a' on a table with a reasonable size. Yes, theres index padding, but eventually its full and the single line insert can cause the move of a couple of GB on the harddrive.</p></li>\n<li><p>Need replication AND have big tables?\nUse both. Use a primary clustered auto increment (long)integer key and define a unique index on your hash column.</p></li>\n</ul>\n"}],"owner":{"account_id":91142,"reputation":2229,"user_id":250444,"accept_rate":57,"display_name":"pkrish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2194535,"answer_count":8,"score":2,"last_activity_date":1659378048,"creation_date":1265220281,"question_id":2194206,"body_markdown":"I have a table with a column of unique string values. The max length of the string value is 255 char. I want to generate a unique id with the string value as input. In other words I am looking for a compact representation for a string. The unique id generated can be alpha-numeric. A useful feature to have would be to be able to regenerate the string value from the unique id. \r\n\r\nIs there an efficient function to generate such an unique id. Some ways could be using checksum or hash functions. I want to know if there is a standard way to do this. \r\n\r\nI am using MySql database and java. \r\n\r\nThanks!\r\n\r\n--edit: I am looking for a more compact representation rather than just using the string itself. ","title":"Generate unique id from unique string input","body":"<p>I have a table with a column of unique string values. The max length of the string value is 255 char. I want to generate a unique id with the string value as input. In other words I am looking for a compact representation for a string. The unique id generated can be alpha-numeric. A useful feature to have would be to be able to regenerate the string value from the unique id. </p>\n\n<p>Is there an efficient function to generate such an unique id. Some ways could be using checksum or hash functions. I want to know if there is a standard way to do this. </p>\n\n<p>I am using MySql database and java. </p>\n\n<p>Thanks!</p>\n\n<p>--edit: I am looking for a more compact representation rather than just using the string itself. </p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1659290291,"post_id":73185316,"comment_id":129254463,"body_markdown":"Could you show us what is at DataSourceProperties.java:182?","body":"Could you show us what is at DataSourceProperties.java:182?"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1659301364,"post_id":73185316,"comment_id":129256619,"body_markdown":"assuming you used https://start.spring.io, what version of spring-boot was chosen ? share your build.gradle","body":"assuming you used <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>, what version of spring-boot was chosen ? share your build.gradle"},{"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"score":0,"creation_date":1659377490,"post_id":73185316,"comment_id":129275540,"body_markdown":"@ShaharTI I have attached the build.gradle file in the post","body":"@ShaharTI I have attached the build.gradle file in the post"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659377647,"post_id":73185316,"comment_id":129275591,"body_markdown":"Seems like DB is not configured on your TEST-profile or tests.\nMake sure you&#39;re using a real one (real/testcontainer/inmemopry) and correct properties.","body":"Seems like DB is not configured on your TEST-profile or tests. Make sure you&#39;re using a real one (real/testcontainer/inmemopry) and correct properties."},{"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"score":0,"creation_date":1659377997,"post_id":73185316,"comment_id":129275679,"body_markdown":"@LenglBoy If I run with the -x test parameter, the build goes through, just wondering why I can&#39;t run the project I just created, the test class is empty","body":"@LenglBoy If I run with the -x test parameter, the build goes through, just wondering why I can&#39;t run the project I just created, the test class is empty"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659378447,"post_id":73185316,"comment_id":129275816,"body_markdown":"@VichynewSTB the gradle param `-x test` is excluding the test. So since you have configured a datasource your app will need a DB. Maybe your Test-Scope does not contain a DB connection to the DB can not be found which is required.\nAdd a application.properties file to test/resources and configure a DB or make spring skip the DB connection to see if that works","body":"@VichynewSTB the gradle param <code>-x test</code> is excluding the test. So since you have configured a datasource your app will need a DB. Maybe your Test-Scope does not contain a DB connection to the DB can not be found which is required. Add a application.properties file to test/resources and configure a DB or make spring skip the DB connection to see if that works"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377665,"creation_date":1659377665,"answer_id":73197928,"question_id":73185316,"body_markdown":"I think you have default test and you dont have  main method that starts application. Maybe you can write some code to provide spring application to boot. Main method is enough for you. contextLoads() method test the application context be up or not. You need configure datasource as well. In your stacktrace I can see that driver is missing.","title":"Gradle build failed for empty project","body":"<p>I think you have default test and you dont have  main method that starts application. Maybe you can write some code to provide spring application to boot. Main method is enough for you. contextLoads() method test the application context be up or not. You need configure datasource as well. In your stacktrace I can see that driver is missing.</p>\n"}],"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377798,"creation_date":1659287016,"question_id":73185316,"body_markdown":"I just created a project in spring boot, the project is clean (zero changes) just created and at first I wanted to build it with the command: `./gradlew clean build` , but the build does not go through I get: `BUILD FAILED` (**Task :test FAILED**)  `What went wrong: Execution failed for task &#39;:test&#39;. java.lang.IllegalStateException: Failed to load ApplicationContext` I have no idea why I&#39;m getting an error in an application where I haven&#39;t modified anything yet. What could be the cause of this? How can I build this application?\r\n\r\n    SpringbootServerApplicationTests &gt; contextLoads() FAILED\r\n        java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n            Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n                Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\r\n                    Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\r\n                        Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException at DataSourceProperties.java:182\r\n\r\n**gradle.build**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nERROR:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)","title":"Gradle build failed for empty project","body":"<p>I just created a project in spring boot, the project is clean (zero changes) just created and at first I wanted to build it with the command: <code>./gradlew clean build</code> , but the build does not go through I get: <code>BUILD FAILED</code> (<strong>Task :test FAILED</strong>)  <code>What went wrong: Execution failed for task ':test'. java.lang.IllegalStateException: Failed to load ApplicationContext</code> I have no idea why I'm getting an error in an application where I haven't modified anything yet. What could be the cause of this? How can I build this application?</p>\n<pre><code>SpringbootServerApplicationTests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\n                    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException at DataSourceProperties.java:182\n</code></pre>\n<p><strong>gradle.build</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.2'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>ERROR:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n</code></pre>\n"},{"tags":["java","scala","awt"],"answers":[{"tags":[],"owner":{"account_id":7773711,"reputation":107,"user_id":5882463,"accept_rate":50,"display_name":"J Hubbard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377706,"creation_date":1659377706,"answer_id":73197938,"question_id":73197598,"body_markdown":"I managed to figure this out. The trick was in the for loop.\r\n\r\nIt needed to be more like this:\r\n\r\n    for (i &lt;- 0 to heroPixels.length - 1)\r\n      {\r\n        val color = heroPixels(i)\r\n        val mask = maskPixels(i)\r\n\r\n        if (mask == whiteInt) {\r\n          heroPixels(i) = color\r\n        } else\r\n          heroPixels(i) = new Color(0,0,0, 1).getRGB\r\n      }\r\n\r\nAnd then using `BufferedImage.TYPE_INT_ARGB` rather than `BufferedImage.TYPE_INT_RGB`","title":"How can I crop an image to the shape of a svg/png mask in scala/java","body":"<p>I managed to figure this out. The trick was in the for loop.</p>\n<p>It needed to be more like this:</p>\n<pre><code>for (i &lt;- 0 to heroPixels.length - 1)\n  {\n    val color = heroPixels(i)\n    val mask = maskPixels(i)\n\n    if (mask == whiteInt) {\n      heroPixels(i) = color\n    } else\n      heroPixels(i) = new Color(0,0,0, 1).getRGB\n  }\n</code></pre>\n<p>And then using <code>BufferedImage.TYPE_INT_ARGB</code> rather than <code>BufferedImage.TYPE_INT_RGB</code></p>\n"}],"owner":{"account_id":7773711,"reputation":107,"user_id":5882463,"accept_rate":50,"display_name":"J Hubbard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377706,"creation_date":1659375752,"question_id":73197598,"body_markdown":"Say I have a Z shaped white mask and I want to crop an image to this shape. How can I do this in java?\r\n\r\nBoth images are 2560x1440, but the Z shaped mask has transparent bits.\r\n\r\nMy attempt in scala but using Java&#39;s awt library:\r\n\r\n    val imageBuff = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val imageB = imageBuff.createGraphics()\r\n    imageB.drawImage(image, 0, 0, null)\r\n    \r\n    val maskBuffered = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val maskB = mask01Buffered.createGraphics()\r\n    maskB.drawImage(scaledmask, 0, 0, null)\r\n    \r\n    \r\n    def applyMask(imageBuffered: BufferedImage, maskBuffered: BufferedImage): BufferedImage = {\r\n      val imagePixels = heroBuffered.getRGB(0, 0, width, height, null, 0, width)\r\n      val maskPixels = maskBuffered.getRGB(0, 0, width, height, null, 0, width)\r\n    \r\n     for (i &lt;- 0 to maskPixels.length - 1)\r\n      {\r\n        val color = imagePixels(i)\r\n        val mask = maskPixels(i) \r\n        imagePixels(i) = mask | color\r\n      }\r\n    \r\n      imageBuffered.setRGB(0, 0, width, height, imagePixels, 0, width)\r\n      imageBuffered\r\n    }\r\n    \r\n    val maskApplied = applyMask(imageBuff, maskBuffered)\r\n    \r\n    val scaledForeground: Image = maskApplied.getScaledInstance((width * 1.08).toInt, (height * 1.08).toInt, Image.SCALE_DEFAULT)\r\n    \r\n    val finalImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val f = finalImage.createGraphics\r\n    val newX: Int = (0 - width * 0.08).toInt\r\n    val newY: Int = (0 - height * 0.08).toInt\r\n    f.drawImage(scaledForeground, newX, newY, null)\r\n\r\n    ImageIO.write(finalImage, &quot;jpeg&quot;, new FileOutputStream(imagePath.takeWhile(_.toString != &quot;.&quot;) + &quot;-&quot; + keyline.name + &quot;-final-image.jpeg&quot;))\r\n    f.dispose()\r\n\r\nThis creates an image where I get the original image showing through a very small part of the z shape, but I want to strip away anything where the mask is transparent.\r\n\r\nDoes anyone have any other ideas?\r\n\r\nMany thanks, J\r\n","title":"How can I crop an image to the shape of a svg/png mask in scala/java","body":"<p>Say I have a Z shaped white mask and I want to crop an image to this shape. How can I do this in java?</p>\n<p>Both images are 2560x1440, but the Z shaped mask has transparent bits.</p>\n<p>My attempt in scala but using Java's awt library:</p>\n<pre><code>val imageBuff = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval imageB = imageBuff.createGraphics()\nimageB.drawImage(image, 0, 0, null)\n\nval maskBuffered = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval maskB = mask01Buffered.createGraphics()\nmaskB.drawImage(scaledmask, 0, 0, null)\n\n\ndef applyMask(imageBuffered: BufferedImage, maskBuffered: BufferedImage): BufferedImage = {\n  val imagePixels = heroBuffered.getRGB(0, 0, width, height, null, 0, width)\n  val maskPixels = maskBuffered.getRGB(0, 0, width, height, null, 0, width)\n\n for (i &lt;- 0 to maskPixels.length - 1)\n  {\n    val color = imagePixels(i)\n    val mask = maskPixels(i) \n    imagePixels(i) = mask | color\n  }\n\n  imageBuffered.setRGB(0, 0, width, height, imagePixels, 0, width)\n  imageBuffered\n}\n\nval maskApplied = applyMask(imageBuff, maskBuffered)\n\nval scaledForeground: Image = maskApplied.getScaledInstance((width * 1.08).toInt, (height * 1.08).toInt, Image.SCALE_DEFAULT)\n\nval finalImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval f = finalImage.createGraphics\nval newX: Int = (0 - width * 0.08).toInt\nval newY: Int = (0 - height * 0.08).toInt\nf.drawImage(scaledForeground, newX, newY, null)\n\nImageIO.write(finalImage, &quot;jpeg&quot;, new FileOutputStream(imagePath.takeWhile(_.toString != &quot;.&quot;) + &quot;-&quot; + keyline.name + &quot;-final-image.jpeg&quot;))\nf.dispose()\n</code></pre>\n<p>This creates an image where I get the original image showing through a very small part of the z shape, but I want to strip away anything where the mask is transparent.</p>\n<p>Does anyone have any other ideas?</p>\n<p>Many thanks, J</p>\n"},{"tags":["java","android","opengl-es","screenshot"],"comments":[{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1658353766,"post_id":73058265,"comment_id":129033962,"body_markdown":"Check it&#39;s not just transparent.","body":"Check it&#39;s not just transparent."},{"owner":{"account_id":14469644,"reputation":970,"user_id":10452046,"display_name":"Hihikomori"},"score":0,"creation_date":1658408985,"post_id":73058265,"comment_id":129048014,"body_markdown":"ByteOrder.nativeOrder() - Retrieves the native byte order of the underlying platform. Could it be the case that for some devices native order is not LITTLE_ENDIAN?","body":"ByteOrder.nativeOrder() - Retrieves the native byte order of the underlying platform. Could it be the case that for some devices native order is not LITTLE_ENDIAN?"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658419530,"post_id":73058265,"comment_id":129052451,"body_markdown":"@solidpixel I tried setting the alpha byte for every pixel in the buffer to 255, confirmed it worked normally in the simulator but still got a black screen in the Motorola G20","body":"@solidpixel I tried setting the alpha byte for every pixel in the buffer to 255, confirmed it worked normally in the simulator but still got a black screen in the Motorola G20"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658419592,"post_id":73058265,"comment_id":129052469,"body_markdown":"@Hihikomori if that&#39;s the case I would expect the colors to be all mixed up but still something other than just black pixels, no?","body":"@Hihikomori if that&#39;s the case I would expect the colors to be all mixed up but still something other than just black pixels, no?"},{"owner":{"account_id":14469644,"reputation":970,"user_id":10452046,"display_name":"Hihikomori"},"score":0,"creation_date":1658421292,"post_id":73058265,"comment_id":129053079,"body_markdown":"Let say the pixel format is not GLES20.GL_RGBA_8888 by default for Motorola G20.","body":"Let say the pixel format is not GLES20.GL_RGBA_8888 by default for Motorola G20."},{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1658435022,"post_id":73058265,"comment_id":129057379,"body_markdown":"Is it definitely being called from a thread with an eglContext bound? any error from glGetError?","body":"Is it definitely being called from a thread with an eglContext bound? any error from glGetError?"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658495024,"post_id":73058265,"comment_id":129071897,"body_markdown":"@solidpixel I should have mentioned that, no, there&#39;s no error code; running glGetError after the whole process just gets me a result of 0","body":"@solidpixel I should have mentioned that, no, there&#39;s no error code; running glGetError after the whole process just gets me a result of 0"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1659022837,"post_id":73058265,"comment_id":129201901,"body_markdown":"@Hihikomori not sure if I understand, I tried querying the GLES library for the values of read format and read type and they are coming up  as GL_RGBA and GL_UNSIGNED_BYTE even in the device where the screenshot is coming up black","body":"@Hihikomori not sure if I understand, I tried querying the GLES library for the values of read format and read type and they are coming up  as GL_RGBA and GL_UNSIGNED_BYTE even in the device where the screenshot is coming up black"}],"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659377696,"creation_date":1658352079,"question_id":73058265,"body_markdown":"I&#39;m working on a Haxe game that builds to both Android and iOS, and just recently it&#39;s been noticed that a routine that was used to take screenshots of the game and use it to share to social networks has a very weird behavior. In some devices it works perfectly (especially in AVDs) but in some devices the code results in a solid black rectangle.\r\n\r\nIn summary, the code that reads the pixels from the frame buffer and saves them to a buffer that will be written to the new image, which I believe is some really standard fare:\r\n\r\n```\r\n                View rootView = Extension.mainView.getRootView();\r\n\r\n                final int screenshotWidth = (int) (rootView.getWidth() * width);\r\n                final int screenshotHeight = (int) (rootView.getHeight() * height);\r\n                final int screenshotX = (int) (originX * rootView.getWidth());\r\n                final int screenshotY = (int) ((1.0 - originY - height) * rootView.getHeight());\r\n\r\n                // Create a buffer of pixels to have a copy of the screen\r\n                ByteBuffer pixelsBuf = ByteBuffer.allocateDirect(screenshotWidth * screenshotHeight * 4);\r\n                pixelsBuf.order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n                // Access OpenGL context to copy pixels into a buffer\r\n                GLES20.glReadPixels(\r\n                    screenshotX,\r\n                    screenshotY,\r\n                    screenshotWidth,\r\n                    screenshotHeight,\r\n                    GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelsBuf);\r\n\r\n                // The pixels in the buffer are upside down, inverting only the columns of the image to gain performance\r\n                int i = 0;\r\n                byte[] tmp = new byte[screenshotWidth * 4];\r\n                while (i++ &lt; screenshotHeight / 2) {\r\n                    pixelsBuf.get(tmp);\r\n                    System.arraycopy(pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), pixelsBuf.array(), pixelsBuf.position() - screenshotWidth * 4, screenshotWidth * 4);\r\n                    System.arraycopy(tmp, 0, pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), screenshotWidth * 4);\r\n                }\r\n                pixelsBuf.rewind();\r\n```\r\n\r\nI can confirm `pixelsBuf` is being correctly generating the image afterwards because I can insert pixels in it and they show up (over the black square) and is also already all black before going through the hassle of flipping it. What&#39;s really puzzling me is why the buffer is apparently empty in some devices and others not, and in what way we could guarantee that the buffer has the contents of the screen in any device (which I suppose is something that&#39;s implicit that we can make explicit, but I&#39;m out of clues at the moment)\r\n\r\nUPDATES: not sure if this will bump the question somehow, but more investigation was conducted and it&#39;s not very promising.\r\n\r\nUsing glGetIntegerv to query OpenGL properties in the system tells me that, at least in theory, the value for COLOR_READ_FORMAT and COLOR_READ_TYPE are correct. Using the same values that GLES20 return into glReadPixels works in the same devices and gives a black screen in the same devices; so it seems not to be a configuration problem.\r\n\r\nDoing a random sample of the pixel buffer after flipping the pixels also shows that any random pixel in the black image is actually [0,0,0,255]; it is not transparent, it&#39;s actually just reading black.\r\n\r\nInvestigation is proceeding in the direction of finding perhaps another buffer where the screen pixels might be instead of the default glReadPixels is reading from. Otherwise... I&#39;m completely lost.","title":"glReadPixels fills the buffer with black pixels in some Android devices","body":"<p>I'm working on a Haxe game that builds to both Android and iOS, and just recently it's been noticed that a routine that was used to take screenshots of the game and use it to share to social networks has a very weird behavior. In some devices it works perfectly (especially in AVDs) but in some devices the code results in a solid black rectangle.</p>\n<p>In summary, the code that reads the pixels from the frame buffer and saves them to a buffer that will be written to the new image, which I believe is some really standard fare:</p>\n<pre><code>                View rootView = Extension.mainView.getRootView();\n\n                final int screenshotWidth = (int) (rootView.getWidth() * width);\n                final int screenshotHeight = (int) (rootView.getHeight() * height);\n                final int screenshotX = (int) (originX * rootView.getWidth());\n                final int screenshotY = (int) ((1.0 - originY - height) * rootView.getHeight());\n\n                // Create a buffer of pixels to have a copy of the screen\n                ByteBuffer pixelsBuf = ByteBuffer.allocateDirect(screenshotWidth * screenshotHeight * 4);\n                pixelsBuf.order(ByteOrder.LITTLE_ENDIAN);\n\n                // Access OpenGL context to copy pixels into a buffer\n                GLES20.glReadPixels(\n                    screenshotX,\n                    screenshotY,\n                    screenshotWidth,\n                    screenshotHeight,\n                    GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelsBuf);\n\n                // The pixels in the buffer are upside down, inverting only the columns of the image to gain performance\n                int i = 0;\n                byte[] tmp = new byte[screenshotWidth * 4];\n                while (i++ &lt; screenshotHeight / 2) {\n                    pixelsBuf.get(tmp);\n                    System.arraycopy(pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), pixelsBuf.array(), pixelsBuf.position() - screenshotWidth * 4, screenshotWidth * 4);\n                    System.arraycopy(tmp, 0, pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), screenshotWidth * 4);\n                }\n                pixelsBuf.rewind();\n</code></pre>\n<p>I can confirm <code>pixelsBuf</code> is being correctly generating the image afterwards because I can insert pixels in it and they show up (over the black square) and is also already all black before going through the hassle of flipping it. What's really puzzling me is why the buffer is apparently empty in some devices and others not, and in what way we could guarantee that the buffer has the contents of the screen in any device (which I suppose is something that's implicit that we can make explicit, but I'm out of clues at the moment)</p>\n<p>UPDATES: not sure if this will bump the question somehow, but more investigation was conducted and it's not very promising.</p>\n<p>Using glGetIntegerv to query OpenGL properties in the system tells me that, at least in theory, the value for COLOR_READ_FORMAT and COLOR_READ_TYPE are correct. Using the same values that GLES20 return into glReadPixels works in the same devices and gives a black screen in the same devices; so it seems not to be a configuration problem.</p>\n<p>Doing a random sample of the pixel buffer after flipping the pixels also shows that any random pixel in the black image is actually [0,0,0,255]; it is not transparent, it's actually just reading black.</p>\n<p>Investigation is proceeding in the direction of finding perhaps another buffer where the screen pixels might be instead of the default glReadPixels is reading from. Otherwise... I'm completely lost.</p>\n"},{"tags":["java","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":5137145,"reputation":1518,"user_id":4115522,"accept_rate":33,"display_name":"Reenactor Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422463182,"creation_date":1422463182,"answer_id":28197611,"question_id":28197335,"body_markdown":"When a NoClassDefFoundError occurs during runtime, it means that you didn&#39;t supply a reference to the dependency either when building the final .war/.ear, or in the environment classpath.\r\n\r\nUse winzip or the jar command to look at the files in your archive and see if the needed .jar file is present.\r\n\r\nIf not, put the JAR-file on the classpath or in the export library list of the project in Eclipse. Project-&gt;Properties-&gt;Java Build Path. Do this and the problem will go away.\r\n\r\nYou should find a ton of google links to help you with this.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>When a NoClassDefFoundError occurs during runtime, it means that you didn't supply a reference to the dependency either when building the final .war/.ear, or in the environment classpath.</p>\n\n<p>Use winzip or the jar command to look at the files in your archive and see if the needed .jar file is present.</p>\n\n<p>If not, put the JAR-file on the classpath or in the export library list of the project in Eclipse. Project->Properties->Java Build Path. Do this and the problem will go away.</p>\n\n<p>You should find a ton of google links to help you with this.</p>\n"},{"tags":[],"owner":{"account_id":3985229,"reputation":141,"user_id":3286012,"accept_rate":33,"display_name":"user3286012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422563916,"creation_date":1422563916,"answer_id":28224148,"question_id":28197335,"body_markdown":"I&#39;ve resolved thing by adding the latest jar of each of the previous jars I&#39;m referencing.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>I've resolved thing by adding the latest jar of each of the previous jars I'm referencing.</p>\n"},{"tags":[],"owner":{"account_id":5916580,"reputation":21,"user_id":4655203,"display_name":"Danillo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426009491,"creation_date":1426009491,"answer_id":28970558,"question_id":28197335,"body_markdown":"I managed to solve this problem in my project adding the Apache HttpCore class &quot;4.3-alpha1.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt; org.apache.httpcomponents &lt;/ groupId&gt;\r\n    &lt;artifactId&gt; httpcore &lt;/ artifactId&gt;\r\n    &lt;version&gt; 4.3-alpha1 &lt;/ version&gt;\r\n    &lt;/ dependency&gt;\r\n\r\nGood luck.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>I managed to solve this problem in my project adding the Apache HttpCore class \"4.3-alpha1.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt; org.apache.httpcomponents &lt;/ groupId&gt;\n&lt;artifactId&gt; httpcore &lt;/ artifactId&gt;\n&lt;version&gt; 4.3-alpha1 &lt;/ version&gt;\n&lt;/ dependency&gt;\n</code></pre>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":3623434,"reputation":26,"user_id":6910975,"display_name":"Moin Abbas Qureshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377374,"creation_date":1659088607,"answer_id":73164854,"question_id":28197335,"body_markdown":"    java.lang.NoClassDefFoundError on HttpAsyncClients.custom\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/http/HttpHost \r\n\r\nYou have to import the *http-nio* *core* library.\r\n\r\nGo to the maven website and download **httpcore-nio** jar file.   (https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio) \r\n\r\nNow you have to copy this jar file in \\lib folder. In case of Jira or confluence location is this one (https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio )\r\n\r\nAfter that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of &lt;/dependencies&gt; line of code, add following dependencies.\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore-nio&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\n\r\n\r\nIn case of Jira/Confluence, POM file location are that.\r\n(C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira)\r\n\r\nThere is two folder at this location :  atlassian-jira-webapp and jira-webapp-dist . Both folder contains POM files.\r\n\r\nJust open one POM file in notepad++ and search for end of &lt;/dependencies&gt;.\r\n[![enter image description here][1]][1]\r\n\r\nNow go to second folder POM file and add same dependencies too. \r\nJust look into error and add dependencies.\r\n\r\nRestart service after that.\r\n\r\n  [1]: https://i.stack.imgur.com/35S1l.png\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<pre><code>java.lang.NoClassDefFoundError on HttpAsyncClients.custom\n\njava.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\n\njava.lang.NoClassDefFoundError: org/apache/http/HttpHost \n</code></pre>\n<p>You have to import the <em>http-nio</em> <em>core</em> library.</p>\n<p>Go to the maven website and download <strong>httpcore-nio</strong> jar file.   (<a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio</a>)</p>\n<p>Now you have to copy this jar file in \\lib folder. In case of Jira or confluence location is this one (<a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio</a> )</p>\n<p>After that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of  line of code, add following dependencies.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore-nio&lt;/artifactId&gt;\n    &lt;version&gt;4.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In case of Jira/Confluence, POM file location are that.\n(C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira)</p>\n<p>There is two folder at this location :  atlassian-jira-webapp and jira-webapp-dist . Both folder contains POM files.</p>\n<p>Just open one POM file in notepad++ and search for end of .\n<a href=\"https://i.stack.imgur.com/35S1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35S1l.png\" alt=\"enter image description here\" /></a></p>\n<p>Now go to second folder POM file and add same dependencies too.\nJust look into error and add dependencies.</p>\n<p>Restart service after that.</p>\n"}],"owner":{"account_id":3985229,"reputation":141,"user_id":3286012,"accept_rate":33,"display_name":"user3286012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1659377374,"creation_date":1422462343,"question_id":28197335,"body_markdown":"Hey Guys Please help me out and I&#39;m new to java.\r\n\r\nI&#39;m trying to run an async HTTP request code that I&#39;ve copied in the net to try. It appears I have all the necessary jar files below and compiled using Eclipse.\r\n\r\nhttpcore-4.2.3\r\nhttpasyncclient-4.1-beta1\r\nhttpclient-4.3-beta1\r\nhttpcore-nio-4.4\r\n\r\nHowever, at run time, I&#39;m getting the following error. The error is pointing to the use of HttpAsyncClients.custom which appears to be in order. I&#39;ve tried even using HttpAsyncClients.createdefault but the same issue persist. Kindly help please. Thanks.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\r\n    \tat org.apache.http.impl.nio.client.HttpAsyncClients.custom(HttpAsyncClients.java:54)\r\n    \tat AsyncHTTP.main(AsyncHTTP.java:23)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:372)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:360)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 2 more\r\n\r\nHere is the code I&#39;m trying to run \r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.concurrent.FutureCallback;\r\n    import org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClients;\r\n    \r\n    /**\r\n     * This example demonstrates a fully asynchronous execution of multiple HTTP exchanges\r\n     * where the result of an individual operation is reported using a callback interface.\r\n     */\r\n    public class AsyncHTTP {\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            //RequestConfig requestConfig = RequestConfig.custom()\r\n            //    .setSocketTimeout(3000)\r\n            //    .setConnectTimeout(3000).build();\r\n            CloseableHttpAsyncClient httpclient = HttpAsyncClients.custom()\r\n            \t    .setMaxConnTotal(100)\r\n            \t    .setMaxConnPerRoute(100)\r\n            \t    .build();\r\n            try {\r\n                httpclient.start();\r\n                final HttpGet[] requests = new HttpGet[] {\r\n                        new HttpGet(&quot;http://www.apache.org/&quot;),\r\n                        new HttpGet(&quot;https://www.verisign.com/&quot;),\r\n                        new HttpGet(&quot;http://www.google.com/&quot;)\r\n                };\r\n                final CountDownLatch latch = new CountDownLatch(requests.length);\r\n                for (final HttpGet request: requests) {\r\n                    httpclient.execute(request, new FutureCallback&lt;HttpResponse&gt;() {\r\n    \r\n                        public void completed(final HttpResponse response) {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + response.getStatusLine());\r\n                        }\r\n    \r\n                        public void failed(final Exception ex) {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + ex);\r\n                        }\r\n    \r\n                        public void cancelled() {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot; cancelled&quot;);\r\n                        }\r\n    \r\n                    });\r\n                }\r\n                latch.await();\r\n                System.out.println(&quot;Shutting down&quot;);\r\n            } finally {\r\n                httpclient.close();\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    \r\n    }","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>Hey Guys Please help me out and I'm new to java.</p>\n\n<p>I'm trying to run an async HTTP request code that I've copied in the net to try. It appears I have all the necessary jar files below and compiled using Eclipse.</p>\n\n<p>httpcore-4.2.3\nhttpasyncclient-4.1-beta1\nhttpclient-4.3-beta1\nhttpcore-nio-4.4</p>\n\n<p>However, at run time, I'm getting the following error. The error is pointing to the use of HttpAsyncClients.custom which appears to be in order. I've tried even using HttpAsyncClients.createdefault but the same issue persist. Kindly help please. Thanks.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\n    at org.apache.http.impl.nio.client.HttpAsyncClients.custom(HttpAsyncClients.java:54)\n    at AsyncHTTP.main(AsyncHTTP.java:23)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:372)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:360)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 2 more\n</code></pre>\n\n<p>Here is the code I'm trying to run </p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.concurrent.FutureCallback;\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.apache.http.impl.nio.client.HttpAsyncClients;\n\n/**\n * This example demonstrates a fully asynchronous execution of multiple HTTP exchanges\n * where the result of an individual operation is reported using a callback interface.\n */\npublic class AsyncHTTP {\n\n    public static void main(final String[] args) throws Exception {\n        //RequestConfig requestConfig = RequestConfig.custom()\n        //    .setSocketTimeout(3000)\n        //    .setConnectTimeout(3000).build();\n        CloseableHttpAsyncClient httpclient = HttpAsyncClients.custom()\n                .setMaxConnTotal(100)\n                .setMaxConnPerRoute(100)\n                .build();\n        try {\n            httpclient.start();\n            final HttpGet[] requests = new HttpGet[] {\n                    new HttpGet(\"http://www.apache.org/\"),\n                    new HttpGet(\"https://www.verisign.com/\"),\n                    new HttpGet(\"http://www.google.com/\")\n            };\n            final CountDownLatch latch = new CountDownLatch(requests.length);\n            for (final HttpGet request: requests) {\n                httpclient.execute(request, new FutureCallback&lt;HttpResponse&gt;() {\n\n                    public void completed(final HttpResponse response) {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \"-&gt;\" + response.getStatusLine());\n                    }\n\n                    public void failed(final Exception ex) {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \"-&gt;\" + ex);\n                    }\n\n                    public void cancelled() {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \" cancelled\");\n                    }\n\n                });\n            }\n            latch.await();\n            System.out.println(\"Shutting down\");\n        } finally {\n            httpclient.close();\n        }\n        System.out.println(\"Done\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1659344171,"post_id":73190983,"comment_id":129263962,"body_markdown":"Did you read this? https://stackoverflow.com/questions/59746441/alternate-of-package-org-springframework-web-util-log4jwebconfigurer-in-spring-5","body":"Did you read this? <a href=\"https://stackoverflow.com/questions/59746441/alternate-of-package-org-springframework-web-util-log4jwebconfigurer-in-spring-5\" title=\"alternate of package org springframework web util log4jwebconfigurer in spring 5\">stackoverflow.com/questions/59746441/&hellip;</a>"}],"owner":{"account_id":25945787,"reputation":11,"user_id":19664520,"display_name":"Kusuma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659377209,"creation_date":1659343134,"question_id":73190983,"body_markdown":"I saw some the stackoverflow as log4jconfigurer are deprecated from spring 5 and not able to use more.\r\n\r\nHow to declare my custom class which is extended with `log4jwebconfigurer` having `log4jconfigurer.initloggging()`\r\nAnd `REFRESH_INTERVAL_PARAM`?\r\n\r\n    Log4jConfigurer.initLogging(location);\r\n    String intervalString = servletContext.getInitParameter(REFRESH_INTERVAL_PARAM);","title":"Any alternative package for org.springframework.util.log4jconfigurer in spring 5","body":"<p>I saw some the stackoverflow as log4jconfigurer are deprecated from spring 5 and not able to use more.</p>\n<p>How to declare my custom class which is extended with <code>log4jwebconfigurer</code> having <code>log4jconfigurer.initloggging()</code>\nAnd <code>REFRESH_INTERVAL_PARAM</code>?</p>\n<pre><code>Log4jConfigurer.initLogging(location);\nString intervalString = servletContext.getInitParameter(REFRESH_INTERVAL_PARAM);\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","junit","mockito"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1659368915,"post_id":73196314,"comment_id":129272858,"body_markdown":"`a` needs to be an actual mock. You are creating the object yourself in your code.","body":"<code>a</code> needs to be an actual mock. You are creating the object yourself in your code."},{"owner":{"account_id":13835953,"reputation":154,"user_id":9987468,"display_name":"Faraz Javed"},"score":0,"creation_date":1659369643,"post_id":73196314,"comment_id":129273139,"body_markdown":"Same behavior with mock, question updated.","body":"Same behavior with mock, question updated."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1659370103,"post_id":73196314,"comment_id":129273301,"body_markdown":"Sorry I didn&#39;t understand your question. I think this https://stackoverflow.com/q/14970516/2587435 might be what you&#39;re looking for.","body":"Sorry I didn&#39;t understand your question. I think this <a href=\"https://stackoverflow.com/q/14970516/2587435\">stackoverflow.com/q/14970516/2587435</a> might be what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377099,"creation_date":1659377099,"answer_id":73197842,"question_id":73196314,"body_markdown":"    val a = A()\r\n    val aSpy = Mockito.spy(a)\r\n    Mockito.when(aSpy.methodA(ArgumentMatchers.any())).thenThrow(UserException.INVALID_REQUEST())\r\n\r\n\r\nyou need to get a real instance of class A and then wrap it inside a programmable wrapper which is a spy.\r\nThe param matcher of the `when` statement is the 2nd point of failure since &quot;Test&quot; is not the same instance then the &quot;test b&quot; string. So you dont need to verify some parameter so skip it.\r\n\r\nIf you want to verify the used parameter you can use a captor instead of ANY().","title":"how to mock a method call inside another method in same class","body":"<pre><code>val a = A()\nval aSpy = Mockito.spy(a)\nMockito.when(aSpy.methodA(ArgumentMatchers.any())).thenThrow(UserException.INVALID_REQUEST())\n</code></pre>\n<p>you need to get a real instance of class A and then wrap it inside a programmable wrapper which is a spy.\nThe param matcher of the <code>when</code> statement is the 2nd point of failure since &quot;Test&quot; is not the same instance then the &quot;test b&quot; string. So you dont need to verify some parameter so skip it.</p>\n<p>If you want to verify the used parameter you can use a captor instead of ANY().</p>\n"}],"owner":{"account_id":13835953,"reputation":154,"user_id":9987468,"display_name":"Faraz Javed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377099,"creation_date":1659368629,"question_id":73196314,"body_markdown":"I am trying to test a method `methodB` (as shown in the code below). I want to return directly from `methodA` without going into the actual code of `methodA`.\r\nI have used `when/thenReturn` and `doReturn/when` but didn&#39;t get any success. The test case goes into the real code of `methodA`. Also tried using `spy` with Class `A` instance but didn&#39;t get any success.\r\n\r\nActual Class\r\n```\r\nclass A{\r\n  \r\n  fun methodA(String a): String{\r\n\r\n    // do something\r\n    throw new Exception(&quot;An error occured&quot;);\r\n  }\r\n\r\n  fun methodB(String b): String{\r\n\r\n    try{\r\n      methodA(&quot;test&quot;)\r\n    } catch (e: Exception){\r\n      println(e.message());\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nTest Class\r\n```\r\nclass ATest{\r\n\r\n    private lateinit var a: A\r\n\r\n    @Before\r\n    fun setUp() {\r\n        a= A() // I am initializing services in real scenario\r\n    }\r\n\r\n    @Test\r\n    fun `when methodB is not valid then throw Exception`(){\r\n\r\n        val aMock = mock(A)\r\n        Mockito.when(aMock.methodA(&quot;test&quot;) )\r\n            .thenThrow(UserException.INVALID_REQUEST())\r\n\r\n\r\n        // When\r\n        val exception: Exception = Assert.assertThrows(\r\n            UserException::class.java\r\n        ) {\r\n            a.methodB(&quot;test b&quot;)\r\n        }\r\n\r\n        val expectedMessage = &quot;INVALID&quot;\r\n        val actualMessage = exception.message\r\n\r\n        // Then\r\n        Assert.assertTrue(actualMessage!!.contains(expectedMessage))\r\n    }\r\n\r\n   \r\n}\r\n```\r\n\r\nCan anyone please help?","title":"how to mock a method call inside another method in same class","body":"<p>I am trying to test a method <code>methodB</code> (as shown in the code below). I want to return directly from <code>methodA</code> without going into the actual code of <code>methodA</code>.\nI have used <code>when/thenReturn</code> and <code>doReturn/when</code> but didn't get any success. The test case goes into the real code of <code>methodA</code>. Also tried using <code>spy</code> with Class <code>A</code> instance but didn't get any success.</p>\n<p>Actual Class</p>\n<pre><code>class A{\n  \n  fun methodA(String a): String{\n\n    // do something\n    throw new Exception(&quot;An error occured&quot;);\n  }\n\n  fun methodB(String b): String{\n\n    try{\n      methodA(&quot;test&quot;)\n    } catch (e: Exception){\n      println(e.message());\n    }\n  }\n\n}\n</code></pre>\n<p>Test Class</p>\n<pre><code>class ATest{\n\n    private lateinit var a: A\n\n    @Before\n    fun setUp() {\n        a= A() // I am initializing services in real scenario\n    }\n\n    @Test\n    fun `when methodB is not valid then throw Exception`(){\n\n        val aMock = mock(A)\n        Mockito.when(aMock.methodA(&quot;test&quot;) )\n            .thenThrow(UserException.INVALID_REQUEST())\n\n\n        // When\n        val exception: Exception = Assert.assertThrows(\n            UserException::class.java\n        ) {\n            a.methodB(&quot;test b&quot;)\n        }\n\n        val expectedMessage = &quot;INVALID&quot;\n        val actualMessage = exception.message\n\n        // Then\n        Assert.assertTrue(actualMessage!!.contains(expectedMessage))\n    }\n\n   \n}\n</code></pre>\n<p>Can anyone please help?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659376773,"creation_date":1659376773,"answer_id":73197785,"question_id":73191597,"body_markdown":"Look at creating an EnvironmentPostProcessor to provide for loading multiple files.\r\nYou&#39;ll have control of the order and decide which properties will take precedence.","title":"Spring boot load all properties files in directory","body":"<p>Look at creating an EnvironmentPostProcessor to provide for loading multiple files.\nYou'll have control of the order and decide which properties will take precedence.</p>\n"}],"owner":{"account_id":25552567,"reputation":5,"user_id":19336715,"display_name":"Yassir K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73197785,"answer_count":1,"score":0,"last_activity_date":1659376773,"creation_date":1659345956,"question_id":73191597,"body_markdown":"Before:\r\n\r\nI had a big properties file in which I had all my properties, which I used to load like this:\r\n\r\n    @PropertySource(value = &quot;file:C:\\\\Users\\\\xxx\\\\yyy\\\\conf\\\\context.properties&quot;, name = &quot;cntx.props&quot;)\r\n\r\nand then get my properties like this:\r\n\r\n    AbstractEnvironment ae = (AbstractEnvironment)env;\r\n    PropertySource source = ae.getPropertySources().get(&quot;cntx.props&quot;);\r\n    Properties properties = (Properties)source.getSource();\r\n    \r\n    for(Object key : properties.keySet()) {\r\n    \t...\r\n    }\r\n\r\nand i would call `env.getProperty(&quot;someKey&quot;)` whenever I need to access a value.\r\n\r\n\r\nAfter:\r\n\r\nI had to make it as such instead of loading one big properties files, I would need to make multiple smaller properties files and load them from the same folder.\r\n\r\nFor that I configured a property configuration bean manually in my Config class:\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() throws NamingException {\r\n        PropertySourcesPlaceholderConfigurer properties = new PropertySourcesPlaceholderConfigurer();\r\n    \r\n        File dir = new File(&quot;C:\\\\Users\\\\xxx\\\\yyy\\\\conf&quot;);\r\n        File[] files = dir.listFiles(new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                return name.toLowerCase().endsWith(&quot;.properties&quot;);\r\n            }\r\n        });\r\n    \r\n        FileSystemResource[] resources = new FileSystemResource[files.length];\r\n        for (int i = 0; i &lt; resources.length; i++) {\r\n            resources[i] = new FileSystemResource(files[i].getAbsolutePath());\r\n        }\r\n    \r\n        properties.setLocations(resources);\r\n        properties.setIgnoreUnresolvablePlaceholders(true);\r\n        return properties;\r\n    }\r\n\r\nSo far so good. I then defined a global map variable to fill it with my key value pairs.\r\n\r\n    @Bean\r\n    public void getPropsFromFile() {\r\n        propertiesMap = new HashMap();\r\n        for(Iterator it = ((AbstractEnvironment) env).getPropertySources().iterator(); it.hasNext(); ) {\r\n            org.springframework.core.env.PropertySource propertySource = (org.springframework.core.env.PropertySource) it.next();\r\n            if (propertySource instanceof MapPropertySource) {\r\n                propertiesMap.putAll(((MapPropertySource) propertySource).getSource());\r\n            }\r\n        }\r\n    \r\n        // check what&#39;s in the map\r\n        for (String key : propertiesMap.keySet()) {\r\n            System.out.println(key + &quot; : &quot; + propertiesMap.get(key).toString());\r\n        }\r\n    }\r\n\r\nBut when I check what&#39;s in the map, it&#39;s a bunch of values like this:\r\n\r\n&gt; java.vm.vendor : Oracle Corporation PROCESSOR_ARCHITECTURE : AMD64\r\n&gt; PSModulePath : C:\\Program\r\n&gt; Files\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\r\n&gt; user.variant :  MAVEN_HOME : C:\\Program Files\\apache-maven-3.8.5\r\n&gt; user.timezone : Europe/Paris\r\n\r\nI was expecting it too be filled with the properties I defined in my files.\r\n\r\nWhat am I missing? How should I go about this?","title":"Spring boot load all properties files in directory","body":"<p>Before:</p>\n<p>I had a big properties file in which I had all my properties, which I used to load like this:</p>\n<pre><code>@PropertySource(value = &quot;file:C:\\\\Users\\\\xxx\\\\yyy\\\\conf\\\\context.properties&quot;, name = &quot;cntx.props&quot;)\n</code></pre>\n<p>and then get my properties like this:</p>\n<pre><code>AbstractEnvironment ae = (AbstractEnvironment)env;\nPropertySource source = ae.getPropertySources().get(&quot;cntx.props&quot;);\nProperties properties = (Properties)source.getSource();\n\nfor(Object key : properties.keySet()) {\n    ...\n}\n</code></pre>\n<p>and i would call <code>env.getProperty(&quot;someKey&quot;)</code> whenever I need to access a value.</p>\n<p>After:</p>\n<p>I had to make it as such instead of loading one big properties files, I would need to make multiple smaller properties files and load them from the same folder.</p>\n<p>For that I configured a property configuration bean manually in my Config class:</p>\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() throws NamingException {\n    PropertySourcesPlaceholderConfigurer properties = new PropertySourcesPlaceholderConfigurer();\n\n    File dir = new File(&quot;C:\\\\Users\\\\xxx\\\\yyy\\\\conf&quot;);\n    File[] files = dir.listFiles(new FilenameFilter() {\n        public boolean accept(File dir, String name) {\n            return name.toLowerCase().endsWith(&quot;.properties&quot;);\n        }\n    });\n\n    FileSystemResource[] resources = new FileSystemResource[files.length];\n    for (int i = 0; i &lt; resources.length; i++) {\n        resources[i] = new FileSystemResource(files[i].getAbsolutePath());\n    }\n\n    properties.setLocations(resources);\n    properties.setIgnoreUnresolvablePlaceholders(true);\n    return properties;\n}\n</code></pre>\n<p>So far so good. I then defined a global map variable to fill it with my key value pairs.</p>\n<pre><code>@Bean\npublic void getPropsFromFile() {\n    propertiesMap = new HashMap();\n    for(Iterator it = ((AbstractEnvironment) env).getPropertySources().iterator(); it.hasNext(); ) {\n        org.springframework.core.env.PropertySource propertySource = (org.springframework.core.env.PropertySource) it.next();\n        if (propertySource instanceof MapPropertySource) {\n            propertiesMap.putAll(((MapPropertySource) propertySource).getSource());\n        }\n    }\n\n    // check what's in the map\n    for (String key : propertiesMap.keySet()) {\n        System.out.println(key + &quot; : &quot; + propertiesMap.get(key).toString());\n    }\n}\n</code></pre>\n<p>But when I check what's in the map, it's a bunch of values like this:</p>\n<blockquote>\n<p>java.vm.vendor : Oracle Corporation PROCESSOR_ARCHITECTURE : AMD64\nPSModulePath : C:\\Program\nFiles\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\nuser.variant :  MAVEN_HOME : C:\\Program Files\\apache-maven-3.8.5\nuser.timezone : Europe/Paris</p>\n</blockquote>\n<p>I was expecting it too be filled with the properties I defined in my files.</p>\n<p>What am I missing? How should I go about this?</p>\n"},{"tags":["java","algorithm","rotation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659377564,"post_id":73197784,"comment_id":129275570,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5026356,"reputation":7226,"user_id":4038191,"display_name":"EvilTak"},"score":3,"creation_date":1659378448,"post_id":73197784,"comment_id":129275817,"body_markdown":"If the absolute delta is more than 180 degrees, you can add/subtract (depending on the sign of the delta) 360 degrees to the delta to reduce the absolute delta value and &quot;go the short way&quot;.","body":"If the absolute delta is more than 180 degrees, you can add/subtract (depending on the sign of the delta) 360 degrees to the delta to reduce the absolute delta value and &quot;go the short way&quot;."}],"owner":{"account_id":12254054,"reputation":1,"user_id":13393743,"display_name":"WhoKnows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659376761,"creation_date":1659376761,"question_id":73197784,"body_markdown":"My program reads in a pitch and yaw, and then attempts to smoothly interpolate to that pitch and yaw from the current rotation.\r\n\r\nHowever, I&#39;m encountering an issue due to how the interpolation works.\r\n\r\nAssume a simple move-towards interpolation that moves from the current value to the new one by 1 every tick.\r\n\r\nIf given a current pitch of 20, and a new pitch of 330, it will rotate in the positive direction 310 degrees. However, it would be faster to rotate in the negative direction 50 degrees (since 0 = 360)\r\n\r\nWhat&#39;s the best way to make this work with an interpolation algorithm (preferably without rewriting the interpolation)?","title":"How to ensure a simple interpolation algorithm doesn&#39;t go the long way when used with degrees?","body":"<p>My program reads in a pitch and yaw, and then attempts to smoothly interpolate to that pitch and yaw from the current rotation.</p>\n<p>However, I'm encountering an issue due to how the interpolation works.</p>\n<p>Assume a simple move-towards interpolation that moves from the current value to the new one by 1 every tick.</p>\n<p>If given a current pitch of 20, and a new pitch of 330, it will rotate in the positive direction 310 degrees. However, it would be faster to rotate in the negative direction 50 degrees (since 0 = 360)</p>\n<p>What's the best way to make this work with an interpolation algorithm (preferably without rewriting the interpolation)?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659376748,"creation_date":1659328279,"answer_id":73188860,"question_id":73187695,"body_markdown":"In OAuth2 world, a REST API is a **resource-server** by definition.\r\n\r\nIn your scenario, Google currently is an **authorization-server**. You could hide it behind a Keycloak instance or something else capable of user identity federation if you need to extend to other identity providers (Github, Facebook, etc.) or want some roles definition, but as Google serve JWT access-tokens, you can use it for you resource-server security (if google IDs are enough for your security rules).\r\n\r\nIn both cases (Google directly or with an OIDC authorization-server in the middle), you can find sample configuration [here][1] (or [there][2] if you prefer to stick to `spring-boot-starter-oauth2-resource-server` but it requires more Java conf as you can see in tutorials).\r\n\r\nI personnaly don&#39;t like to merge client(s), resource-server(s) and authorization-server(s). My clients are generally mobile and web with client-side rendering (Angular), but even for spring clients I&#39;d keep it separate.\r\n\r\nThere is a special case, thought: when a **resource-server** delegates some of its processing to another, then, by definition, it is a **client too**. In that case, it is possible that security requirements and mechanisms are pretty different:\r\n- is your API authenticating in its own name (using client credentials flow)? In that case, you might use `spring-boot-starter-oauth2-client` to negotiate access-token to be used when issuing requests to other service.\r\n- is your API issuing requests in the name of authenticated user and does the other service know about the authorization-server which issued user authentication? In that case, you can forward the token you received\r\n- is the service you are consuming not OAuth2 at all? (just requires basic auth header for instance)\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken","title":"Should we expose REST API as an OAuth 2 resource server?","body":"<p>In OAuth2 world, a REST API is a <strong>resource-server</strong> by definition.</p>\n<p>In your scenario, Google currently is an <strong>authorization-server</strong>. You could hide it behind a Keycloak instance or something else capable of user identity federation if you need to extend to other identity providers (Github, Facebook, etc.) or want some roles definition, but as Google serve JWT access-tokens, you can use it for you resource-server security (if google IDs are enough for your security rules).</p>\n<p>In both cases (Google directly or with an OIDC authorization-server in the middle), you can find sample configuration <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">here</a> (or <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">there</a> if you prefer to stick to <code>spring-boot-starter-oauth2-resource-server</code> but it requires more Java conf as you can see in tutorials).</p>\n<p>I personnaly don't like to merge client(s), resource-server(s) and authorization-server(s). My clients are generally mobile and web with client-side rendering (Angular), but even for spring clients I'd keep it separate.</p>\n<p>There is a special case, thought: when a <strong>resource-server</strong> delegates some of its processing to another, then, by definition, it is a <strong>client too</strong>. In that case, it is possible that security requirements and mechanisms are pretty different:</p>\n<ul>\n<li>is your API authenticating in its own name (using client credentials flow)? In that case, you might use <code>spring-boot-starter-oauth2-client</code> to negotiate access-token to be used when issuing requests to other service.</li>\n<li>is your API issuing requests in the name of authenticated user and does the other service know about the authorization-server which issued user authentication? In that case, you can forward the token you received</li>\n<li>is the service you are consuming not OAuth2 at all? (just requires basic auth header for instance)</li>\n</ul>\n"}],"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659376748,"creation_date":1659310882,"question_id":73187695,"body_markdown":"I have a spring boot application exposing several REST API endpoints. I want to enable google oauth authentication (authorization code grant) on it. I am guessing what is correct way to do this out of following  options:\r\n\r\n1. Have separate application as OAuth 2 client (i.e. with `spring-boot-starter-oauth2-client` dependency and make the existing app a resource server (i.e. with `spring-boot-starter-oauth2-resource-server` dependency)\r\n\r\n   a. [This Udemy&#39;s course](https://www.udemy.com/course/oauth2-in-spring-boot-applications/) keeps two application separate: [resource server](https://github.com/simplyi/ResourceServer), [OAuth 2 client](https://github.com/simplyi/SocialLoginWebClient). Then it seem to need a [proxy REST endpoint](https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/controllers/AlbumsController.java#L42) in oauth \r\n 2 client project corresponding to every REST endpoint in resource server. REST end point in OAuth 2 client [retrieves access token](https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/PhotoAppWebClientApplication.java#L25) and adds it to every request to corresponding REST endpoint in resource server.\r\n\r\n   b. [This stackoverflow threads](https://stackoverflow.com/questions/58805033/using-spring-boot-2-oauth-client-and-resourceserver-in-the-same-context) talks about making same application both OAuth2 client as well as resource server\r\n\r\n2. Make the existing app OAuth 2 client. (that is include `spring-boot-starter-oauth2-client` dependency) and simply require user to be authenticated to access REST endpoint URLs.\r\n\r\nI have following doubts:\r\n\r\n**Q1.** Should REST API always be exposed as resource server? And if yes, then is approach 2 not-so-recommended way? (as it does not expose existing REST API as resource server but as a part of OAuth client with restricted access to those APIs)?\r\n\r\n**Q2.** If approach 2 is not fine, then which of approaches (1.a) and (1.b) are preferred or when to prefer one above other? (I believe (1.a) is more suitable when we want single OAuth client as a point of access for several different resource servers.) ","title":"Should we expose REST API as an OAuth 2 resource server?","body":"<p>I have a spring boot application exposing several REST API endpoints. I want to enable google oauth authentication (authorization code grant) on it. I am guessing what is correct way to do this out of following  options:</p>\n<ol>\n<li><p>Have separate application as OAuth 2 client (i.e. with <code>spring-boot-starter-oauth2-client</code> dependency and make the existing app a resource server (i.e. with <code>spring-boot-starter-oauth2-resource-server</code> dependency)</p>\n<p>a. <a href=\"https://www.udemy.com/course/oauth2-in-spring-boot-applications/\" rel=\"nofollow noreferrer\">This Udemy's course</a> keeps two application separate: <a href=\"https://github.com/simplyi/ResourceServer\" rel=\"nofollow noreferrer\">resource server</a>, <a href=\"https://github.com/simplyi/SocialLoginWebClient\" rel=\"nofollow noreferrer\">OAuth 2 client</a>. Then it seem to need a <a href=\"https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/controllers/AlbumsController.java#L42\" rel=\"nofollow noreferrer\">proxy REST endpoint</a> in oauth\n2 client project corresponding to every REST endpoint in resource server. REST end point in OAuth 2 client <a href=\"https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/PhotoAppWebClientApplication.java#L25\" rel=\"nofollow noreferrer\">retrieves access token</a> and adds it to every request to corresponding REST endpoint in resource server.</p>\n<p>b. <a href=\"https://stackoverflow.com/questions/58805033/using-spring-boot-2-oauth-client-and-resourceserver-in-the-same-context\">This stackoverflow threads</a> talks about making same application both OAuth2 client as well as resource server</p>\n</li>\n<li><p>Make the existing app OAuth 2 client. (that is include <code>spring-boot-starter-oauth2-client</code> dependency) and simply require user to be authenticated to access REST endpoint URLs.</p>\n</li>\n</ol>\n<p>I have following doubts:</p>\n<p><strong>Q1.</strong> Should REST API always be exposed as resource server? And if yes, then is approach 2 not-so-recommended way? (as it does not expose existing REST API as resource server but as a part of OAuth client with restricted access to those APIs)?</p>\n<p><strong>Q2.</strong> If approach 2 is not fine, then which of approaches (1.a) and (1.b) are preferred or when to prefer one above other? (I believe (1.a) is more suitable when we want single OAuth client as a point of access for several different resource servers.)</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659002150,"post_id":73150682,"comment_id":129194028,"body_markdown":"The error message means that you are passing the string `S,M,L,XL,XXL` to `Size.valueOf()`. That doesn&#39;t work because `S,M,L,XL,XXL` is not one of the enum constants. Debug your application to find out why it&#39;s passing the wrong thing to `Size.valueOf()`.","body":"The error message means that you are passing the string <code>S,M,L,XL,XXL</code> to <code>Size.valueOf()</code>. That doesn&#39;t work because <code>S,M,L,XL,XXL</code> is not one of the enum constants. Debug your application to find out why it&#39;s passing the wrong thing to <code>Size.valueOf()</code>."}],"answers":[{"tags":[],"owner":{"account_id":14390824,"reputation":270,"user_id":10395452,"display_name":"Davide Boldrin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659002463,"creation_date":1659002463,"answer_id":73150896,"question_id":73150682,"body_markdown":"On this record\r\n\r\n    hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\r\n\r\nyou have a record S,M,L,XL,XXL but on your enum you haven&#39;t declered the value.\r\n\r\nMaybe there are a error on desing.\r\n\r\nplease try to change in:\r\n\r\n    hello world,852760540,34.96,Tommy Bugfinder,[S],[Graphic text: &quot;Hello world&quot;]\r\n\r\nand try a debug test.\r\n\r\n","title":"IllegalArgumentException: No enum constant Java","body":"<p>On this record</p>\n<pre><code>hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\n</code></pre>\n<p>you have a record S,M,L,XL,XXL but on your enum you haven't declered the value.</p>\n<p>Maybe there are a error on desing.</p>\n<p>please try to change in:</p>\n<pre><code>hello world,852760540,34.96,Tommy Bugfinder,[S],[Graphic text: &quot;Hello world&quot;]\n</code></pre>\n<p>and try a debug test.</p>\n"},{"tags":[],"owner":{"account_id":22351859,"reputation":1,"user_id":16569803,"display_name":"Milodoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659376511,"creation_date":1659064780,"answer_id":73161268,"question_id":73150682,"body_markdown":"Thanks @Jesper and @Davide :-)\r\nI&#39;ve solved it by creating a list of split elements:\r\n\r\n```java\r\nString[] sizeSplit = elements[1].split(&quot;,&quot;);\r\nSize size = Size.valueOf(sizeSplit[1]);\r\n```\r\n","title":"IllegalArgumentException: No enum constant Java","body":"<p>Thanks @Jesper and @Davide :-)\nI've solved it by creating a list of split elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] sizeSplit = elements[1].split(&quot;,&quot;);\nSize size = Size.valueOf(sizeSplit[1]);\n</code></pre>\n"}],"owner":{"account_id":22351859,"reputation":1,"user_id":16569803,"display_name":"Milodoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659376511,"creation_date":1659001709,"question_id":73150682,"body_markdown":"I have this code (it&#39;s a java class called TshirtSearcher) that is trying to grab the t-shirt size info from a text file and put it in a enum called Size:\r\n\r\n    for (int i = 1; i &lt; TShirtData.size(); i++) {\r\n            //split each String in the list by [ and , to separate the t-shirt name,product code,price,brand, from sizes,description\r\n            String[] elements = TShirtData.get(i).split(&quot;\\\\[&quot;);\r\n            //separate the t-shirt info by splitting by comma. This will separate the following; name,product code,price,brand into individual items\r\n            String[] tshirtInfo = elements[0].split(&quot;,&quot;);\r\n            String name = tshirtInfo[0];\r\n            long productCode = 0;\r\n            try {\r\n                productCode = Long.parseLong(tshirtInfo[1]);\r\n            } catch (NumberFormatException n) {\r\n                System.out.println(&quot;Error in file. Product code could not be parsed for t-shirt on line &quot; + (i + 1) + &quot;. Terminating. \\nError message: &quot; + n.getMessage());\r\n                System.exit(0);\r\n            }\r\n\r\n            //Read the data from the file as enum\r\n            Size size = Size.valueOf(elements[1].replace(&quot;],&quot;, &quot;&quot;));\r\n\r\nThis is the enum:\r\n\r\n    public enum Size {\r\n\r\n    XS, S, M, L, XL, XXL, XXXL, XXXXL;\r\n\r\n    /**\r\n     * @return a prettified version of the relevant enum constant\r\n     */\r\n    public String toString() {\r\n        return switch (this) {\r\n            case XS -&gt; &quot;Extra Small&quot;;\r\n            case S -&gt; &quot;Small&quot;;\r\n            case M -&gt; &quot;Medium&quot;;\r\n            case L -&gt; &quot;Large&quot;;\r\n            case XL -&gt; &quot;Extra Large&quot;;\r\n            case XXL -&gt; &quot;2x Extra Large&quot;;\r\n            case XXXL -&gt; &quot;3x Extra Large&quot;;\r\n            case XXXXL -&gt; &quot;4x Extra Large&quot;;\r\n        };\r\n    }\r\n\r\nHowever, when I run the code it gives this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant Size.S,M,L,XL,XXL\r\n    \tat java.base/java.lang.Enum.valueOf(Enum.java:273)\r\n    \tat Size.valueOf(Size.java:6)\r\n    \tat TShirtSearcher.loadTShirts(TShirtSearcher.java:45)\r\n    \tat TShirtSearcher.main(TShirtSearcher.java:121)\r\n\r\nProcess finished with exit code 1\r\n\r\nThe file content is like this (just show the first 3 rows):\r\n\r\nname,product code,price,brand,sizes,description\r\n\r\nhello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\r\n\r\nThe Simpsons,576857394,22.99,Lacoder,[S,M,L],[Graphic text: &quot;Worst. Episode. Ever.&quot;]\r\n________________________________________________________________________________________\r\n\r\nI would like the user to be able to select the size from the dropdown menu.\r\n\r\nThanks!","title":"IllegalArgumentException: No enum constant Java","body":"<p>I have this code (it's a java class called TshirtSearcher) that is trying to grab the t-shirt size info from a text file and put it in a enum called Size:</p>\n<pre><code>for (int i = 1; i &lt; TShirtData.size(); i++) {\n        //split each String in the list by [ and , to separate the t-shirt name,product code,price,brand, from sizes,description\n        String[] elements = TShirtData.get(i).split(&quot;\\\\[&quot;);\n        //separate the t-shirt info by splitting by comma. This will separate the following; name,product code,price,brand into individual items\n        String[] tshirtInfo = elements[0].split(&quot;,&quot;);\n        String name = tshirtInfo[0];\n        long productCode = 0;\n        try {\n            productCode = Long.parseLong(tshirtInfo[1]);\n        } catch (NumberFormatException n) {\n            System.out.println(&quot;Error in file. Product code could not be parsed for t-shirt on line &quot; + (i + 1) + &quot;. Terminating. \\nError message: &quot; + n.getMessage());\n            System.exit(0);\n        }\n\n        //Read the data from the file as enum\n        Size size = Size.valueOf(elements[1].replace(&quot;],&quot;, &quot;&quot;));\n</code></pre>\n<p>This is the enum:</p>\n<pre><code>public enum Size {\n\nXS, S, M, L, XL, XXL, XXXL, XXXXL;\n\n/**\n * @return a prettified version of the relevant enum constant\n */\npublic String toString() {\n    return switch (this) {\n        case XS -&gt; &quot;Extra Small&quot;;\n        case S -&gt; &quot;Small&quot;;\n        case M -&gt; &quot;Medium&quot;;\n        case L -&gt; &quot;Large&quot;;\n        case XL -&gt; &quot;Extra Large&quot;;\n        case XXL -&gt; &quot;2x Extra Large&quot;;\n        case XXXL -&gt; &quot;3x Extra Large&quot;;\n        case XXXXL -&gt; &quot;4x Extra Large&quot;;\n    };\n}\n</code></pre>\n<p>However, when I run the code it gives this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant Size.S,M,L,XL,XXL\n    at java.base/java.lang.Enum.valueOf(Enum.java:273)\n    at Size.valueOf(Size.java:6)\n    at TShirtSearcher.loadTShirts(TShirtSearcher.java:45)\n    at TShirtSearcher.main(TShirtSearcher.java:121)\n</code></pre>\n<p>Process finished with exit code 1</p>\n<p>The file content is like this (just show the first 3 rows):</p>\n<p>name,product code,price,brand,sizes,description</p>\n<p>hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]</p>\n<p>The Simpsons,576857394,22.99,Lacoder,[S,M,L],[Graphic text: &quot;Worst. Episode. Ever.&quot;]</p>\n<hr />\n<p>I would like the user to be able to select the size from the dropdown menu.</p>\n<p>Thanks!</p>\n"},{"tags":["java","slider","processing"],"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":1,"creation_date":1653824953,"post_id":72313759,"comment_id":127941080,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19329624,"reputation":374,"user_id":14131521,"display_name":"xImperiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659376500,"creation_date":1653034988,"answer_id":72315734,"question_id":72313759,"body_markdown":"There are different approaches to your problem:\r\n\r\nThe easiest implementation would be drawing the rectangle to the correct position but storing the x value as you already do.\r\n\r\nThe position of your label in the slider is:\r\n```\r\nint length = 400; //length of the slider\r\nint steps = 10; //steps for the slider\r\nint start = 75; //start of the slider\r\n\r\nint currentStep = round(((float)steps)*(x - start)/length);\r\n//The float parse is important\r\n//round(), ceil() or floor() will work \r\n\r\nint correctedPos = round(((float)length)/steps*currentStep) + start;\r\n\r\n```\r\nThen just draw the rect at the correct position;\r\n```\r\nrect(correctedPos, 20, 9, 60);\r\n```\r\nThe second option would be storing the ```currentStep``` and not the ```x``` that you already store. Your buttons will have to increment or decrease ```currentStep``` instead of ```x```. Then you will also have to calculate the ```correctedPos``` as I have already shown.","title":"Making a discrete slider using Processing","body":"<p>There are different approaches to your problem:</p>\n<p>The easiest implementation would be drawing the rectangle to the correct position but storing the x value as you already do.</p>\n<p>The position of your label in the slider is:</p>\n<pre><code>int length = 400; //length of the slider\nint steps = 10; //steps for the slider\nint start = 75; //start of the slider\n\nint currentStep = round(((float)steps)*(x - start)/length);\n//The float parse is important\n//round(), ceil() or floor() will work \n\nint correctedPos = round(((float)length)/steps*currentStep) + start;\n\n</code></pre>\n<p>Then just draw the rect at the correct position;</p>\n<pre><code>rect(correctedPos, 20, 9, 60);\n</code></pre>\n<p>The second option would be storing the <code>currentStep</code> and not the <code>x</code> that you already store. Your buttons will have to increment or decrease <code>currentStep</code> instead of <code>x</code>. Then you will also have to calculate the <code>correctedPos</code> as I have already shown.</p>\n"}],"owner":{"display_name":"user16899383"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659376500,"creation_date":1653022689,"question_id":72313759,"body_markdown":"How can I make my slider discrete using Processing? Here is my code. I need to make it discrete with values from 0-10. I already put some line indicators, what I only need is to make it discrete. Can you give me an idea of how to do it?\r\n\r\nSo far, all we have made right now are continuous sliders, and the thumb travels very smoothly. How can we add steps to the same slider to make a discrete slider? Here is an example of the same slider but with 10 steps instead of returning every value in between.\r\n\r\n        int x=75;\r\n        \r\n        void setup() {\r\n          size(600,400);\r\n        }\r\n        \r\n        void draw() {\r\n          background(100);\r\n          fill (200);\r\n          rect (75, 25, 400, 50);\r\n          stroke(0);\r\n          \r\n          if(mousePressed) {\r\n          if (mouseX &gt;75 &amp;&amp; mouseX &lt;= 475)\r\n            {x=mouseX;}\r\n            }\r\n          fill(127,0,0);\r\n          rect (x, 20, 9, 60); \r\n          fill (255);\r\n     \r\n          // Left Button\r\n          fill (200);\r\n          rect (10, 25, 50, 50);\r\n        {\r\n          if (mousePressed == true) {\r\n            if (mouseX &lt;= 50 &amp;&amp; (mouseY &gt;= 40 &amp;&amp; mouseY &lt;= 60)) {\r\n            fill(255);\r\n            if (x&gt;100){\r\n            x-=20;\r\n          } else {\r\n            x=75;\r\n          }\r\n          } else {\r\n            fill(0);\r\n          }\r\n          }\r\n          if (mousePressed == false) {\r\n          fill (0);\r\n          }\r\n          triangle (50, 60, 50, 40, 15, 50);\r\n        }\r\n          \r\n          // Right button\r\n          fill (200);\r\n          rect (490, 25, 50, 50);\r\n          {\r\n          if (mousePressed == true) {\r\n            if (mouseX &gt;= 500 &amp;&amp; (mouseY &gt;= 40 &amp;&amp; mouseY &lt;= 60)) {\r\n            fill(255);\r\n            if (x&lt;470){\r\n              x+=20;\r\n          } \r\n          else {\r\n            x=470;\r\n          }\r\n            } else {\r\n            fill(0);\r\n          }\r\n     }\r\n          if (mousePressed == false) {\r\n          fill (0);\r\n          }\r\n          triangle (500, 60, 500, 40, 535, 50);\r\n        }\r\n          println(x);\r\n          \r\n          line (115, 60, 115, 90);\r\n          line (155, 60, 155, 90);\r\n          line (195, 60, 195, 90);\r\n          line (235, 60, 235, 90);\r\n          line (275, 60, 275, 90);\r\n          line (315, 60, 315, 90);\r\n          line (355, 60, 355, 90);\r\n          line (395, 60, 395, 90);\r\n          line (435, 60, 435, 90);\r\n        }","title":"Making a discrete slider using Processing","body":"<p>How can I make my slider discrete using Processing? Here is my code. I need to make it discrete with values from 0-10. I already put some line indicators, what I only need is to make it discrete. Can you give me an idea of how to do it?</p>\n<p>So far, all we have made right now are continuous sliders, and the thumb travels very smoothly. How can we add steps to the same slider to make a discrete slider? Here is an example of the same slider but with 10 steps instead of returning every value in between.</p>\n<pre><code>    int x=75;\n    \n    void setup() {\n      size(600,400);\n    }\n    \n    void draw() {\n      background(100);\n      fill (200);\n      rect (75, 25, 400, 50);\n      stroke(0);\n      \n      if(mousePressed) {\n      if (mouseX &gt;75 &amp;&amp; mouseX &lt;= 475)\n        {x=mouseX;}\n        }\n      fill(127,0,0);\n      rect (x, 20, 9, 60); \n      fill (255);\n \n      // Left Button\n      fill (200);\n      rect (10, 25, 50, 50);\n    {\n      if (mousePressed == true) {\n        if (mouseX &lt;= 50 &amp;&amp; (mouseY &gt;= 40 &amp;&amp; mouseY &lt;= 60)) {\n        fill(255);\n        if (x&gt;100){\n        x-=20;\n      } else {\n        x=75;\n      }\n      } else {\n        fill(0);\n      }\n      }\n      if (mousePressed == false) {\n      fill (0);\n      }\n      triangle (50, 60, 50, 40, 15, 50);\n    }\n      \n      // Right button\n      fill (200);\n      rect (490, 25, 50, 50);\n      {\n      if (mousePressed == true) {\n        if (mouseX &gt;= 500 &amp;&amp; (mouseY &gt;= 40 &amp;&amp; mouseY &lt;= 60)) {\n        fill(255);\n        if (x&lt;470){\n          x+=20;\n      } \n      else {\n        x=470;\n      }\n        } else {\n        fill(0);\n      }\n }\n      if (mousePressed == false) {\n      fill (0);\n      }\n      triangle (500, 60, 500, 40, 535, 50);\n    }\n      println(x);\n      \n      line (115, 60, 115, 90);\n      line (155, 60, 155, 90);\n      line (195, 60, 195, 90);\n      line (235, 60, 235, 90);\n      line (275, 60, 275, 90);\n      line (315, 60, 315, 90);\n      line (355, 60, 355, 90);\n      line (395, 60, 395, 90);\n      line (435, 60, 435, 90);\n    }\n</code></pre>\n"},{"tags":["java","redirect","routes"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659424668,"post_id":73197746,"comment_id":129285150,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25950415,"reputation":11,"user_id":19668540,"display_name":"Krutika Poshe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659376499,"creation_date":1659376499,"question_id":73197746,"body_markdown":"Suppose I have a url in config file like\r\n\r\nGET     /project/index         app.controller.showIndex()\r\n\r\nIs there a way to redirect to this route if the user enters an incorrect URL in the browser, like /project or /project/ind, It should not show a 404 error message but redirect the user to the correct page i.e. /project/index.\r\nI know that I can use redirect method, but is there any other way as redirect is used to redirect to an external page.","title":"Is there a way to autocorrect the URL entered by client in play framework?","body":"<p>Suppose I have a url in config file like</p>\n<p>GET     /project/index         app.controller.showIndex()</p>\n<p>Is there a way to redirect to this route if the user enters an incorrect URL in the browser, like /project or /project/ind, It should not show a 404 error message but redirect the user to the correct page i.e. /project/index.\nI know that I can use redirect method, but is there any other way as redirect is used to redirect to an external page.</p>\n"},{"tags":["java","oop","immutability"],"comments":[{"owner":{"display_name":"user166390"},"score":1,"creation_date":1344099744,"post_id":11810359,"comment_id":15695965,"body_markdown":"Or use *interfaces* (e.g. `ITeam`, `ITeamColor`) .. the constructors can&#39;t be unified anyway.","body":"Or use <i>interfaces</i> (e.g. <code>ITeam</code>, <code>ITeamColor</code>) .. the constructors can&#39;t be unified anyway."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":2,"creation_date":1344100519,"post_id":11810359,"comment_id":15696128,"body_markdown":"If all your teams have a color, then it should all be in one class.","body":"If all your teams have a color, then it should all be in one class."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1344105106,"post_id":11810359,"comment_id":15697143,"body_markdown":"It&#39;s not really an answer, but I would say that you should let the client (the code that&#39;s using `Team` objects and colors) drive the interface design. That is, write the client first, just stubbing out the model. Then use what you learned to refine the model and finish its implementation.","body":"It&#39;s not really an answer, but I would say that you should let the client (the code that&#39;s using <code>Team</code> objects and colors) drive the interface design. That is, write the client first, just stubbing out the model. Then use what you learned to refine the model and finish its implementation."},{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":0,"creation_date":1475829825,"post_id":11810359,"comment_id":67110372,"body_markdown":"*Not* Pair. This approach would be not so much different from Composition, but far less readable and flexible.","body":"<i>Not</i> Pair. This approach would be not so much different from Composition, but far less readable and flexible."}],"answers":[{"tags":[],"owner":{"account_id":401873,"reputation":3569,"user_id":768690,"display_name":"Frohnzie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344104688,"creation_date":1344101031,"answer_id":11810555,"question_id":11810359,"body_markdown":"Composition sounds like a good option for adding contextual data that is required to be mutable.\r\n\r\nIn Java immutable classes are usually marked `final` and cannot be extended.  See [String][1] as an example.  That rules out option number 2.  \r\n\r\nBe weary of using Pairs. There are many good reasons the Pair type has not been added to Java. In this case your data is better modeled by creating a new data type (i.e. thru composition).\r\n\r\nRecommended best practices for creating immutable classes: http://www.javapractices.com/topic/TopicAction.do?Id=29\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html","title":"How to extend immutable types in Java","body":"<p>Composition sounds like a good option for adding contextual data that is required to be mutable.</p>\n\n<p>In Java immutable classes are usually marked <code>final</code> and cannot be extended.  See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow\">String</a> as an example.  That rules out option number 2.  </p>\n\n<p>Be weary of using Pairs. There are many good reasons the Pair type has not been added to Java. In this case your data is better modeled by creating a new data type (i.e. thru composition).</p>\n\n<p>Recommended best practices for creating immutable classes: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=29\" rel=\"nofollow\">http://www.javapractices.com/topic/TopicAction.do?Id=29</a></p>\n"},{"tags":[],"owner":{"account_id":1674288,"reputation":137,"user_id":1540144,"display_name":"R-E-L"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659375998,"creation_date":1344101085,"answer_id":11810563,"question_id":11810359,"body_markdown":"As you said. The team can appear in different circumstances.\r\nThese circumstances are the context giving the team the additional attributes.\r\n\r\nTherefore I suggest using composition for each different context that add&#39;s data.\r\n\r\n    public class TeamWithColor {\r\n        public final Team team;\r\n        public final TeamColor teamColor;\r\n    \r\n        public TeamWithColor(Team team, TeamColor teamColor) {\r\n            this.team = team;\r\n            this.teamColor = teamColor;\r\n        }\r\n    }\r\n\r\nMaybe you&#39;ll have :\r\n\r\n    public class TeamDuringOlimpics{\r\n        public final Team team;\r\n        public final TeamColor teamColor;\r\n        public final TeamFlag teamFlag;\r\n    \r\n        public TeamDuringOlimpics(Team team, TeamColor teamColor, TeamFlag teamFlagTeamFlag teamFlag) {\r\n            this.team = team;\r\n            this.teamColor = teamColor;\r\n            this.teamFlag = teamFlag;\r\n        }    \r\n    }","title":"How to extend immutable types in Java","body":"<p>As you said. The team can appear in different circumstances.\nThese circumstances are the context giving the team the additional attributes.</p>\n<p>Therefore I suggest using composition for each different context that add's data.</p>\n<pre><code>public class TeamWithColor {\n    public final Team team;\n    public final TeamColor teamColor;\n\n    public TeamWithColor(Team team, TeamColor teamColor) {\n        this.team = team;\n        this.teamColor = teamColor;\n    }\n}\n</code></pre>\n<p>Maybe you'll have :</p>\n<pre><code>public class TeamDuringOlimpics{\n    public final Team team;\n    public final TeamColor teamColor;\n    public final TeamFlag teamFlag;\n\n    public TeamDuringOlimpics(Team team, TeamColor teamColor, TeamFlag teamFlagTeamFlag teamFlag) {\n        this.team = team;\n        this.teamColor = teamColor;\n        this.teamFlag = teamFlag;\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344153844,"creation_date":1344153844,"answer_id":11814863,"question_id":11810359,"body_markdown":"You could consider keeping this piece of information outside the Team object. For instance, you could have a Map&lt;Team,Integer&gt; or Map&lt;TeamId,Integer&gt;\r\n\r\nThis way, you could enrich your objects with many additional values without introducing new classes or modifying existing classes. Moreover, it would keep the immutable property of the other objects.","title":"How to extend immutable types in Java","body":"<p>You could consider keeping this piece of information outside the Team object. For instance, you could have a Map or Map</p>\n\n<p>This way, you could enrich your objects with many additional values without introducing new classes or modifying existing classes. Moreover, it would keep the immutable property of the other objects.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344273428,"creation_date":1344273428,"answer_id":11832901,"question_id":11810359,"body_markdown":"If an immutable class is inheritable, or if contains aspects whose types could be mutable, then it will have no security against mischief.  A &quot;immutable&quot; interface will likewise have no security.  Likewise also if an object has any members of extensible types, and object is regarded as containing any of the information in the objects referred to by those members.  It is up to you to decide whether or not that is a problem.  Immutable interfaces and extensible mutable classes may be much more versatile than deeply-sealed ones; if a class isn&#39;t going to be deeply sealed, there&#39;s little security advantage to making it partially so.\r\n\r\nNote that it is possible for a deeply-immutable object to have a field which is of a mutable type, if the semantics of the field specify that it &lt;i&gt;identifies&lt;/i&gt;, rather than &lt;i&gt;contains&lt;/i&gt;, the object in question.  For example, it may be useful to have have a &quot;snapshot&quot; object which contains references to some mutable objects and, for each object, an immutable copy of its current state; the &quot;snapshot&quot; object would then expose a method of restoring each object to the state it had when the snapshot was generated.  The snapshot object would be &quot;deeply immutable&quot; despite its reference to a mutable object, since the snapshot&#39;s references to the mutable objects exist purely to identify them, and the &lt;i&gt;identities&lt;/i&gt; of those objects wouldn&#39;t change even if their state does.\r\n\r\nOne pattern that I like in .net, which should also work in Java, is to have interfaces like `IReadableFoo` and `IImmutableFoo`; the latter would inherit the former but not add any new members.  The interface `IReadableFoo` should contain, in addition to members to read its properties, a member `AsImmutable()` which would return an `IImmutableFoo`.  This approach allows code to use mutable types when convenient, while minimizing redundant defensive copying (code which wants to persist something must call `AsImmutable()` on it; if the object in question is mutable, that action will create an immutable copy, but if the object is already immutable, no new copy will be required).","title":"How to extend immutable types in Java","body":"<p>If an immutable class is inheritable, or if contains aspects whose types could be mutable, then it will have no security against mischief.  A \"immutable\" interface will likewise have no security.  Likewise also if an object has any members of extensible types, and object is regarded as containing any of the information in the objects referred to by those members.  It is up to you to decide whether or not that is a problem.  Immutable interfaces and extensible mutable classes may be much more versatile than deeply-sealed ones; if a class isn't going to be deeply sealed, there's little security advantage to making it partially so.</p>\n\n<p>Note that it is possible for a deeply-immutable object to have a field which is of a mutable type, if the semantics of the field specify that it <i>identifies</i>, rather than <i>contains</i>, the object in question.  For example, it may be useful to have have a \"snapshot\" object which contains references to some mutable objects and, for each object, an immutable copy of its current state; the \"snapshot\" object would then expose a method of restoring each object to the state it had when the snapshot was generated.  The snapshot object would be \"deeply immutable\" despite its reference to a mutable object, since the snapshot's references to the mutable objects exist purely to identify them, and the <i>identities</i> of those objects wouldn't change even if their state does.</p>\n\n<p>One pattern that I like in .net, which should also work in Java, is to have interfaces like <code>IReadableFoo</code> and <code>IImmutableFoo</code>; the latter would inherit the former but not add any new members.  The interface <code>IReadableFoo</code> should contain, in addition to members to read its properties, a member <code>AsImmutable()</code> which would return an <code>IImmutableFoo</code>.  This approach allows code to use mutable types when convenient, while minimizing redundant defensive copying (code which wants to persist something must call <code>AsImmutable()</code> on it; if the object in question is mutable, that action will create an immutable copy, but if the object is already immutable, no new copy will be required).</p>\n"},{"tags":[],"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344275211,"creation_date":1344275211,"answer_id":11833284,"question_id":11810359,"body_markdown":"I recommend the Decorator pattern.\r\n\r\n    public class TeamWithColor extends Team {\r\n        public final Team team;\r\n        public final String colorName;\r\n        public final int colorRgb;\r\n    \r\n        public Team(Team team, String colorName, int colorRgb) {\r\n            this.team = team;\r\n            this.colorName = colorName;\r\n            this.colorRgb = colorRgb;\r\n        }\r\n    }\r\n\r\n\r\nhttp://en.wikipedia.org/wiki/Decorator_pattern","title":"How to extend immutable types in Java","body":"<p>I recommend the Decorator pattern.</p>\n\n<pre><code>public class TeamWithColor extends Team {\n    public final Team team;\n    public final String colorName;\n    public final int colorRgb;\n\n    public Team(Team team, String colorName, int colorRgb) {\n        this.team = team;\n        this.colorName = colorName;\n        this.colorRgb = colorRgb;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Decorator_pattern</a></p>\n"},{"tags":[],"owner":{"account_id":9710000,"reputation":11,"user_id":7772232,"display_name":"Youcef Debbah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548440937,"creation_date":1548440621,"answer_id":54370899,"question_id":11810359,"body_markdown":"I usually try to avoid putting everything in one class (option 1) this leaves us 4 options\r\n\r\n - in case I needed the class to be thread-safe I favor using a volatile/AtomicReference of an Immutable tuple (option 4) instead of using locks and other blocking syncs (let&#39;s call it: option 5)\r\n - if thread-safety isn&#39;t a concern then I would pick Composition (option 3) over In inheritance (option 2) unless an IS-A relation naturally exist\r\n\r\na Colored Team IS a Team after all, so I would be nice to exploit this relation. if I were you I would code it like this:\r\n\r\n    public final class ColoredTeam extends AbstractTeam implements Team {\r\n        // the rest comes along intuitively\r\n    }\r\nsince &quot;AbstractTeam&quot; is abstract, content-based equals() implementation is perfectly fine as long &quot;ColoredTeam&quot; itself has no subclasses, I made ColoredTeam final to achieve this but I could have made the contractor private, throws an exception, etc.","title":"How to extend immutable types in Java","body":"<p>I usually try to avoid putting everything in one class (option 1) this leaves us 4 options</p>\n\n<ul>\n<li>in case I needed the class to be thread-safe I favor using a volatile/AtomicReference of an Immutable tuple (option 4) instead of using locks and other blocking syncs (let's call it: option 5)</li>\n<li>if thread-safety isn't a concern then I would pick Composition (option 3) over In inheritance (option 2) unless an IS-A relation naturally exist</li>\n</ul>\n\n<p>a Colored Team IS a Team after all, so I would be nice to exploit this relation. if I were you I would code it like this:</p>\n\n<pre><code>public final class ColoredTeam extends AbstractTeam implements Team {\n    // the rest comes along intuitively\n}\n</code></pre>\n\n<p>since \"AbstractTeam\" is abstract, content-based equals() implementation is perfectly fine as long \"ColoredTeam\" itself has no subclasses, I made ColoredTeam final to achieve this but I could have made the contractor private, throws an exception, etc.</p>\n"}],"owner":{"account_id":280103,"reputation":3821,"user_id":575615,"accept_rate":59,"display_name":"Medo42"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5100,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11810563,"answer_count":6,"score":9,"last_activity_date":1659375998,"creation_date":1344099435,"question_id":11810359,"body_markdown":"I have started playing around with immutable value objects in Java while working on a game project, following the &quot;public final fields&quot; approach:\r\n\r\n    public class Team {\r\n        public final String name, flag;\r\n\r\n        public Team(String name, String flag) {\r\n            this.name = name;\r\n            this.flag = flag;\r\n        }\r\n    }\r\n\r\nThis works pretty well for me so far, but I need different sets of extra information about the team in different circumstances. For example, a team has a set color during a match. The question is, what is the best way to deal with these sets of extended information? I know this is a fairly general question, but I want to keep using immutable objects and that might influence the solution.\r\n\r\nHere are the options I have come up with. Most of them are probably &quot;good enough&quot;, but I&#39;d like to learn some arguments for and against them for future reference.\r\n\r\n**Option 1: Everything in one class**\r\n\r\n    public class Team {\r\n        public final String name, flag, colorName;\r\n        public final int colorRgb;\r\n\r\n        public Team(String name, String flag, String colorName, int colorRgb) {\r\n            this.name = name;\r\n            this.flag = flag;\r\n            this.colorName = colorName;\r\n            this.colorRgb = colorRgb;\r\n        }\r\n    }\r\n\r\nThis takes only one class for all uses, but there is no type-based indication of what extra data is expected/provided.\r\n\r\n**Option 2: Subclassing**\r\n\r\n    public class TeamWithColor extends Team {\r\n        public final String colorName;\r\n        public final int colorRgb;\r\n\r\n        public Team(String name, String flag, String colorName, int colorRgb) {\r\n            super(name, flag);\r\n            this.colorName = colorName;\r\n            this.colorRgb = colorRgb;\r\n        }\r\n    }\r\n\r\nThis might make a content-based equals() implementation impossible.\r\n\r\n**Option 3: Composition**\r\n\r\n    public class TeamWithColor {\r\n        public final Team team;\r\n        public final String colorName;\r\n        public final int colorRgb;\r\n\r\n        public Team(Team team, String colorName, int colorRgb) {\r\n            this.team = team;\r\n            this.colorName = colorName;\r\n            this.colorRgb = colorRgb;\r\n        }\r\n    }\r\n\r\nLess copying / boilerplate code if the team data and extra data often change independently.\r\n\r\n**Option 4: Pair/Tuple (using an immutable Pair class)**\r\n\r\n    public class TeamColor {\r\n        public final String colorName;\r\n        public final int colorRgb;\r\n\r\n        public Team(String colorName, int colorRgb) {\r\n            this.colorName = colorName;\r\n            this.colorRgb = colorRgb;\r\n        }\r\n    }\r\n\r\n    Pair&lt;Team, TeamColor&gt; teamWithColor = Pair.create(team, teamColor);\r\n\r\n... or with a custom class that ties Team and TeamColor together.\r\n\r\nI tend toward option 3 or 4, but I&#39;m interested in your opinions, arguments and gut feelings :)","title":"How to extend immutable types in Java","body":"<p>I have started playing around with immutable value objects in Java while working on a game project, following the \"public final fields\" approach:</p>\n\n<pre><code>public class Team {\n    public final String name, flag;\n\n    public Team(String name, String flag) {\n        this.name = name;\n        this.flag = flag;\n    }\n}\n</code></pre>\n\n<p>This works pretty well for me so far, but I need different sets of extra information about the team in different circumstances. For example, a team has a set color during a match. The question is, what is the best way to deal with these sets of extended information? I know this is a fairly general question, but I want to keep using immutable objects and that might influence the solution.</p>\n\n<p>Here are the options I have come up with. Most of them are probably \"good enough\", but I'd like to learn some arguments for and against them for future reference.</p>\n\n<p><strong>Option 1: Everything in one class</strong></p>\n\n<pre><code>public class Team {\n    public final String name, flag, colorName;\n    public final int colorRgb;\n\n    public Team(String name, String flag, String colorName, int colorRgb) {\n        this.name = name;\n        this.flag = flag;\n        this.colorName = colorName;\n        this.colorRgb = colorRgb;\n    }\n}\n</code></pre>\n\n<p>This takes only one class for all uses, but there is no type-based indication of what extra data is expected/provided.</p>\n\n<p><strong>Option 2: Subclassing</strong></p>\n\n<pre><code>public class TeamWithColor extends Team {\n    public final String colorName;\n    public final int colorRgb;\n\n    public Team(String name, String flag, String colorName, int colorRgb) {\n        super(name, flag);\n        this.colorName = colorName;\n        this.colorRgb = colorRgb;\n    }\n}\n</code></pre>\n\n<p>This might make a content-based equals() implementation impossible.</p>\n\n<p><strong>Option 3: Composition</strong></p>\n\n<pre><code>public class TeamWithColor {\n    public final Team team;\n    public final String colorName;\n    public final int colorRgb;\n\n    public Team(Team team, String colorName, int colorRgb) {\n        this.team = team;\n        this.colorName = colorName;\n        this.colorRgb = colorRgb;\n    }\n}\n</code></pre>\n\n<p>Less copying / boilerplate code if the team data and extra data often change independently.</p>\n\n<p><strong>Option 4: Pair/Tuple (using an immutable Pair class)</strong></p>\n\n<pre><code>public class TeamColor {\n    public final String colorName;\n    public final int colorRgb;\n\n    public Team(String colorName, int colorRgb) {\n        this.colorName = colorName;\n        this.colorRgb = colorRgb;\n    }\n}\n\nPair&lt;Team, TeamColor&gt; teamWithColor = Pair.create(team, teamColor);\n</code></pre>\n\n<p>... or with a custom class that ties Team and TeamColor together.</p>\n\n<p>I tend toward option 3 or 4, but I'm interested in your opinions, arguments and gut feelings :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1659365611,"post_id":73195483,"comment_id":129271502,"body_markdown":"Simply put, can you set a flag once you encounter a `true`? keep checking until that next boolean comes , delete those elements , make sure boolean check if before the delete operation so you can unset the flag (once next boolean) and continue iterating the list ! set again and likewise","body":"Simply put, can you set a flag once you encounter a <code>true</code>? keep checking until that next boolean comes , delete those elements , make sure boolean check if before the delete operation so you can unset the flag (once next boolean) and continue iterating the list ! set again and likewise"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659368429,"post_id":73195483,"comment_id":129272667,"body_markdown":"related: why do you have such a mixed list? If you any control about the data, consider structuring it in a different way","body":"related: why do you have such a mixed list? If you any control about the data, consider structuring it in a different way"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659367117,"creation_date":1659367117,"answer_id":73195964,"question_id":73195483,"body_markdown":"You may traverse list from the end to avoid mutation of the &quot;tail&quot;, something like:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    ArrayList fruits = new ArrayList();\r\n    fruits.add(false);\r\n    fruits.add(&quot;Strawberry&quot;);\r\n    fruits.add(&quot;Pineapple&quot;);\r\n    fruits.add(true);\r\n    fruits.add(&quot;Watermelon&quot;);\r\n    fruits.add(&quot;Lemon&quot;);\r\n    fruits.add(true);\r\n    fruits.add(false);\r\n    fruits.add(&quot;Cantaloupe&quot;);\r\n    fruits.add(&quot;Grapes&quot;);\r\n    fruits.add(true);\r\n    fruits.add(&quot;Coconut&quot;);\r\n\r\n    int end = fruits.size();\r\n    for (int i = end - 1; i &gt;= 0; i--) {\r\n        if (Boolean.TRUE.equals(fruits.get(i))) {\r\n            fruits.subList(i + 1, end).clear();\r\n            end = i;\r\n        } else if (Boolean.FALSE.equals(fruits.get(i))) {\r\n            end = i;\r\n        }\r\n    }\r\n    System.out.println(fruits);\r\n}\r\n```","title":"How do I delete elements from a list based on the boolean values in my list instead of deleting them by index?","body":"<p>You may traverse list from the end to avoid mutation of the &quot;tail&quot;, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    ArrayList fruits = new ArrayList();\n    fruits.add(false);\n    fruits.add(&quot;Strawberry&quot;);\n    fruits.add(&quot;Pineapple&quot;);\n    fruits.add(true);\n    fruits.add(&quot;Watermelon&quot;);\n    fruits.add(&quot;Lemon&quot;);\n    fruits.add(true);\n    fruits.add(false);\n    fruits.add(&quot;Cantaloupe&quot;);\n    fruits.add(&quot;Grapes&quot;);\n    fruits.add(true);\n    fruits.add(&quot;Coconut&quot;);\n\n    int end = fruits.size();\n    for (int i = end - 1; i &gt;= 0; i--) {\n        if (Boolean.TRUE.equals(fruits.get(i))) {\n            fruits.subList(i + 1, end).clear();\n            end = i;\n        } else if (Boolean.FALSE.equals(fruits.get(i))) {\n            end = i;\n        }\n    }\n    System.out.println(fruits);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2745346,"reputation":13,"user_id":2365888,"display_name":"Guido Wolff"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659375760,"creation_date":1659368067,"answer_id":73196193,"question_id":73195483,"body_markdown":"Here&#39;s a possible implementation:\r\n\r\n    ArrayList fruits = new ArrayList();\r\n    fruits.add(false);\r\n    fruits.add(&quot;Strawberry&quot;);\r\n    fruits.add(&quot;Pineapple&quot;);\r\n    fruits.add(true);\r\n    fruits.add(&quot;Watermelon&quot;);\r\n    fruits.add(&quot;Lemon&quot;);\r\n    fruits.add(false);\r\n    fruits.add(&quot;Cantaloupe&quot;);\r\n    fruits.add(&quot;Grapes&quot;);\r\n    fruits.add(&quot;Coconut&quot;);\r\n    fruits.add(&quot;Lemon&quot;);\r\n    \r\n    System.out.println(fruits); //before\r\n    \r\n    ArrayList toRemove = new ArrayList();\r\n    boolean deletionFlag = false;\r\n    \r\n    for(int i = 0; i &lt; fruits.size(); i++){\r\n        Object obj = fruits.get(i);\r\n        if (obj instanceof Boolean){\r\n            deletionFlag = (boolean)obj;\r\n        }else{\r\n            if(deletionFlag) toRemove.add(obj);\r\n        }\r\n    }\r\n    \r\n    fruits.removeAll(toRemove);\r\n    System.out.println(fruits); //after","title":"How do I delete elements from a list based on the boolean values in my list instead of deleting them by index?","body":"<p>Here's a possible implementation:</p>\n<pre><code>ArrayList fruits = new ArrayList();\nfruits.add(false);\nfruits.add(&quot;Strawberry&quot;);\nfruits.add(&quot;Pineapple&quot;);\nfruits.add(true);\nfruits.add(&quot;Watermelon&quot;);\nfruits.add(&quot;Lemon&quot;);\nfruits.add(false);\nfruits.add(&quot;Cantaloupe&quot;);\nfruits.add(&quot;Grapes&quot;);\nfruits.add(&quot;Coconut&quot;);\nfruits.add(&quot;Lemon&quot;);\n\nSystem.out.println(fruits); //before\n\nArrayList toRemove = new ArrayList();\nboolean deletionFlag = false;\n\nfor(int i = 0; i &lt; fruits.size(); i++){\n    Object obj = fruits.get(i);\n    if (obj instanceof Boolean){\n        deletionFlag = (boolean)obj;\n    }else{\n        if(deletionFlag) toRemove.add(obj);\n    }\n}\n\nfruits.removeAll(toRemove);\nSystem.out.println(fruits); //after\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659370241,"creation_date":1659370241,"answer_id":73196636,"question_id":73195483,"body_markdown":"This looks like a job for an [Iterator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#iterator()):\r\n\r\n    boolean delete = false;\r\n\r\n    Iterator&lt;?&gt; iterator = (Iterator&lt;?&gt;) fruits.iterator();\r\n    while (iterator.hasNext()) {\r\n        Object element = iterator.next();\r\n        if (element instanceof Boolean b) {\r\n            delete = b;\r\n        } else if (delete) {\r\n            iterator.remove();\r\n        }\r\n    }\r\n","title":"How do I delete elements from a list based on the boolean values in my list instead of deleting them by index?","body":"<p>This looks like a job for an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#iterator()\" rel=\"nofollow noreferrer\">Iterator</a>:</p>\n<pre><code>boolean delete = false;\n\nIterator&lt;?&gt; iterator = (Iterator&lt;?&gt;) fruits.iterator();\nwhile (iterator.hasNext()) {\n    Object element = iterator.next();\n    if (element instanceof Boolean b) {\n        delete = b;\n    } else if (delete) {\n        iterator.remove();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19699629,"reputation":61,"user_id":14422722,"display_name":"corteg2501"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73196636,"answer_count":3,"score":-1,"last_activity_date":1659375760,"creation_date":1659365116,"question_id":73195483,"body_markdown":"I have a list of elements that contains booleans and strings. I have the list output matching what I want, however I need to make it able to delete based on the leading boolean value instead of index. This is the code I have now \r\n```\r\npublic class collectionsPractice {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList fruits = new ArrayList();\r\n\t\tfruits.add(false);\r\n\t\tfruits.add(&quot;Strawberry&quot;);\r\n\t\tfruits.add(&quot;Pineapple&quot;);\r\n\t\tfruits.add(true);\r\n\t\tfruits.add(&quot;Watermelon&quot;);\r\n\t\tfruits.add(&quot;Lemon&quot;);\r\n\t\tfruits.add(false);\r\n\t\tfruits.add(&quot;Cantaloupe&quot;);\r\n\t\tfruits.add(&quot;Grapes&quot;);\r\n\t\tfruits.add(&quot;Coconut&quot;);\r\n\t\t\r\n\t\tfruits.remove(4);\r\n\t\tfruits.remove(4);\r\n\t\t\r\n\t\tSystem.out.println(fruits);\r\n\t}\r\n\r\n}\r\n```\r\nThe list before the removal looks like this:\r\n```\r\n[false, Strawberry, Pineapple, true, Watermelon, Lemon, false, Cantaloupe, Grapes, Coconut]\r\n``` \r\nAfter the remove calls it looks like this:\r\n```\r\n[false, Strawberry, Pineapple, true, false, Cantaloupe, Grapes, Coconut]\r\n```\r\nI want the strings after every **true** boolean to be deleted. (I know the remove statements look weird, but I have to call them twice because after the first call the index of &quot;Lemon&quot; shifts down by one). \r\n\r\nSo instead of having the remove at some index, I want to loop through the list and see if the boolean value in the list is true or false. Then if false I want to keep going through the list. However, if it is true, I want to delete the strings in between that boolean and the next boolean. The output should look the same as the output I have with the two remove statements, I just want to be able to do that without having to know how many objects or items are in the list. Is there a way to do this? If any clarification is needed, please let me know in the comments.","title":"How do I delete elements from a list based on the boolean values in my list instead of deleting them by index?","body":"<p>I have a list of elements that contains booleans and strings. I have the list output matching what I want, however I need to make it able to delete based on the leading boolean value instead of index. This is the code I have now</p>\n<pre><code>public class collectionsPractice {\n\n    public static void main(String[] args) {\n        ArrayList fruits = new ArrayList();\n        fruits.add(false);\n        fruits.add(&quot;Strawberry&quot;);\n        fruits.add(&quot;Pineapple&quot;);\n        fruits.add(true);\n        fruits.add(&quot;Watermelon&quot;);\n        fruits.add(&quot;Lemon&quot;);\n        fruits.add(false);\n        fruits.add(&quot;Cantaloupe&quot;);\n        fruits.add(&quot;Grapes&quot;);\n        fruits.add(&quot;Coconut&quot;);\n        \n        fruits.remove(4);\n        fruits.remove(4);\n        \n        System.out.println(fruits);\n    }\n\n}\n</code></pre>\n<p>The list before the removal looks like this:</p>\n<pre><code>[false, Strawberry, Pineapple, true, Watermelon, Lemon, false, Cantaloupe, Grapes, Coconut]\n</code></pre>\n<p>After the remove calls it looks like this:</p>\n<pre><code>[false, Strawberry, Pineapple, true, false, Cantaloupe, Grapes, Coconut]\n</code></pre>\n<p>I want the strings after every <strong>true</strong> boolean to be deleted. (I know the remove statements look weird, but I have to call them twice because after the first call the index of &quot;Lemon&quot; shifts down by one).</p>\n<p>So instead of having the remove at some index, I want to loop through the list and see if the boolean value in the list is true or false. Then if false I want to keep going through the list. However, if it is true, I want to delete the strings in between that boolean and the next boolean. The output should look the same as the output I have with the two remove statements, I just want to be able to do that without having to know how many objects or items are in the list. Is there a way to do this? If any clarification is needed, please let me know in the comments.</p>\n"},{"tags":["java","hibernate","annotations","aes"],"answers":[{"tags":[],"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476382251,"creation_date":1476382251,"answer_id":40028090,"question_id":40027474,"body_markdown":"You have an exception related to **Incorrect parameter count** in the call to native function `encrypt`.  \r\n\r\nCheck the number of parameters for `decrypt` and `encrypt` functions, I guess it should be **two** and not three as you used for password column.","title":"Hibernate @ColumnTransformer( read = &quot;...&quot;, write=&quot;...&quot;) gives some errors, how can I solve it?","body":"<p>You have an exception related to <strong>Incorrect parameter count</strong> in the call to native function <code>encrypt</code>.  </p>\n\n<p>Check the number of parameters for <code>decrypt</code> and <code>encrypt</code> functions, I guess it should be <strong>two</strong> and not three as you used for password column.</p>\n"},{"tags":[],"owner":{"account_id":5971839,"reputation":59,"user_id":6330443,"display_name":"Swapnil Hadge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659374717,"creation_date":1659374717,"answer_id":73197438,"question_id":40027474,"body_markdown":"you have used :\r\n```\r\n@org.hibernate.annotations.ColumnTransformer(\r\n        read = &quot;decrypt( &#39;AES&#39;, &#39;00&#39;, password)&quot;,\r\n        write = &quot;encrypt(&#39;AES&#39;, &#39;00&#39;, ?)&quot;\r\n    )\r\n```\r\n\r\nwhere decrypt and encrypt are the db functions. Please check if these functions exist and have the same method signature as you used in the entity class.","title":"Hibernate @ColumnTransformer( read = &quot;...&quot;, write=&quot;...&quot;) gives some errors, how can I solve it?","body":"<p>you have used :</p>\n<pre><code>@org.hibernate.annotations.ColumnTransformer(\n        read = &quot;decrypt( 'AES', '00', password)&quot;,\n        write = &quot;encrypt('AES', '00', ?)&quot;\n    )\n</code></pre>\n<p>where decrypt and encrypt are the db functions. Please check if these functions exist and have the same method signature as you used in the entity class.</p>\n"}],"owner":{"account_id":9327675,"reputation":257,"user_id":6924354,"accept_rate":29,"display_name":"Luis Veliz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659374717,"creation_date":1476380016,"question_id":40027474,"body_markdown":"I was trying to use AES with hibernate columnTransformer annotation but gives me some errors.\r\n\r\n\r\n----------\r\n\r\n\r\n - The database was generated with Hibernate.\r\n - Only appears when I try to use AES on read and write parameters on @org.hibernate.annotations.ColumnTransformer.\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; My Employeeclass \r\n\r\n    import java.io.Serializable;\r\n\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n\r\n    @Entity()\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    public class Employee implements Serializable {\r\n    \r\n        private static final long serialVesionUID = 1L;\r\n\r\n        @Id\r\n        private Integer employeeId;\r\n\r\n        @org.hibernate.annotations.NaturalId\r\n        private String userName;\r\n\r\n        @Column(name = &quot;password&quot;)\r\n        @org.hibernate.annotations.ColumnTransformer(\r\n            read = &quot;decrypt( &#39;AES&#39;, &#39;00&#39;, password)&quot;,\r\n            write = &quot;encrypt(&#39;AES&#39;, &#39;00&#39;, ?)&quot;\r\n        )\r\n        private String password;\r\n\r\n        private int accessLevel;\r\n\r\n        public Employee(Integer employeeId, String userName, String password, int accessLevel) {\r\n            this.employeeId = employeeId;\r\n            this.userName = userName;\r\n            this.password = password;\r\n            this.accessLevel = accessLevel;\r\n        }\r\n\r\n        //Getters and Setters\r\n\r\n    }\r\n\r\n&gt; My Main class\r\n\r\n    \r\n    import javax.persistence.Persistence;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import hibernate.examples.columntransformers.readandwriteexpressions.Employee;\r\n\r\n    public class App {\r\n\r\n        private static EntityManagerFactory emf;\r\n        private static EntityManager em;\r\n\r\n        public static void main(String[] args) {\r\n\r\n            emf = Persistence.createEntityManagerFactory(&quot;LAVM&quot;);\r\n            em = emf.createEntityManager();\r\n\r\n            try {\r\n\r\n                em.getTransaction().begin();            \r\n\r\n                Employee emp = new Employee(123, &quot;someUserName&quot;, &quot;somePassword&quot;, 1);\r\n           \r\n                em.persist(emp);\r\n                em.getTransaction().commit();\r\n\r\n            } catch (Exception e) {                \r\n                e.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n                emf.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&gt; Gives me these errors\r\n\r\n\r\n    javax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:94)\r\n\tat hibernate.examples.main.App.main(App.java:38)\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)\r\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)\r\n\tat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:82)\r\n\t... 1 more\r\n\r\n\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3587)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:453)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:345)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1218)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:421)\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\r\n\tat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:77)\r\n\t... 1 more\r\n\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Incorrect parameter count in the call to native function &#39;encrypt&#39;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375)\r\n\tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:187)\r\n\t... 14 more\r\n\r\n\r\n    oct 13, 2016 11:08:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\n    INFO: HHH000030: Cleaning up connection pool [jdbc:mysql://localhost:3306/hibernate]\r\n","title":"Hibernate @ColumnTransformer( read = &quot;...&quot;, write=&quot;...&quot;) gives some errors, how can I solve it?","body":"<p>I was trying to use AES with hibernate columnTransformer annotation but gives me some errors.</p>\n\n<hr>\n\n<ul>\n<li>The database was generated with Hibernate.</li>\n<li>Only appears when I try to use AES on read and write parameters on @org.hibernate.annotations.ColumnTransformer.</li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p>My Employeeclass </p>\n</blockquote>\n\n<pre><code>import java.io.Serializable;\n\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\n\n@Entity()\n@Table(name = \"EMPLOYEE\")\npublic class Employee implements Serializable {\n\n    private static final long serialVesionUID = 1L;\n\n    @Id\n    private Integer employeeId;\n\n    @org.hibernate.annotations.NaturalId\n    private String userName;\n\n    @Column(name = \"password\")\n    @org.hibernate.annotations.ColumnTransformer(\n        read = \"decrypt( 'AES', '00', password)\",\n        write = \"encrypt('AES', '00', ?)\"\n    )\n    private String password;\n\n    private int accessLevel;\n\n    public Employee(Integer employeeId, String userName, String password, int accessLevel) {\n        this.employeeId = employeeId;\n        this.userName = userName;\n        this.password = password;\n        this.accessLevel = accessLevel;\n    }\n\n    //Getters and Setters\n\n}\n</code></pre>\n\n<blockquote>\n  <p>My Main class</p>\n</blockquote>\n\n<pre><code>import javax.persistence.Persistence;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport hibernate.examples.columntransformers.readandwriteexpressions.Employee;\n\npublic class App {\n\n    private static EntityManagerFactory emf;\n    private static EntityManager em;\n\n    public static void main(String[] args) {\n\n        emf = Persistence.createEntityManagerFactory(\"LAVM\");\n        em = emf.createEntityManager();\n\n        try {\n\n            em.getTransaction().begin();            \n\n            Employee emp = new Employee(123, \"someUserName\", \"somePassword\", 1);\n\n            em.persist(emp);\n            em.getTransaction().commit();\n\n        } catch (Exception e) {                \n            e.printStackTrace();\n        } finally {\n            em.close();\n            emf.close();\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Gives me these errors</p>\n</blockquote>\n\n<pre><code>javax.persistence.RollbackException: Error while committing the transaction\nat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:94)\nat hibernate.examples.main.App.main(App.java:38)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)\nat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:82)\n... 1 more\n\n\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\nat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:190)\nat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3587)\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:453)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:345)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)\nat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1218)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:421)\nat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\nat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)\nat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:77)\n... 1 more\n\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Incorrect parameter count in the call to native function 'encrypt'\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\nat com.mysql.jdbc.Util.getInstance(Util.java:386)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\nat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\nat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\nat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458)\nat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375)\nat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:187)\n... 14 more\n\n\noct 13, 2016 11:08:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH000030: Cleaning up connection pool [jdbc:mysql://localhost:3306/hibernate]\n</code></pre>\n"},{"tags":["java","eclipse","class"],"comments":[{"owner":{"account_id":1004298,"reputation":648,"user_id":1018443,"accept_rate":40,"display_name":"nharrer"},"score":1,"creation_date":1517439053,"post_id":48552659,"comment_id":84101915,"body_markdown":"Since you don&#39;t show us what shop.next() does, we can&#39;t know what happens. Do a debug output or set a breakpoint after shopChoice2 = shop.next() to see what it contains. Also you should at least mention what language you are using (looks like java).","body":"Since you don&#39;t show us what shop.next() does, we can&#39;t know what happens. Do a debug output or set a breakpoint after shopChoice2 = shop.next() to see what it contains. Also you should at least mention what language you are using (looks like java)."},{"owner":{"account_id":12845977,"reputation":5,"user_id":9292355,"accept_rate":50,"display_name":"Alan Mc Gillivray"},"score":1,"creation_date":1517440538,"post_id":48552659,"comment_id":84102470,"body_markdown":"Thanks for commenting, I do appreciate the time. I&#39;m very new to this (obviously).\nI tried to put in as little code as possible before so there was less for people to have to ready. I edited more back in, but I am only allowed to put in so much code without more text.","body":"Thanks for commenting, I do appreciate the time. I&#39;m very new to this (obviously). I tried to put in as little code as possible before so there was less for people to have to ready. I edited more back in, but I am only allowed to put in so much code without more text."},{"owner":{"account_id":1004298,"reputation":648,"user_id":1018443,"accept_rate":40,"display_name":"nharrer"},"score":0,"creation_date":1517441929,"post_id":48552659,"comment_id":84102892,"body_markdown":"That&#39;s ok. Now we can see the class of the variable shop. I added an answer below.","body":"That&#39;s ok. Now we can see the class of the variable shop. I added an answer below."}],"answers":[{"tags":[],"owner":{"account_id":1004298,"reputation":648,"user_id":1018443,"accept_rate":40,"display_name":"nharrer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517445158,"creation_date":1517441576,"answer_id":48553171,"question_id":48552659,"body_markdown":"The default delimiter for the Scanner is whitespace. Which means it will break up the string on every whitespace (space, tabs, newlines). So if you enter &quot;iron sword&quot; you will only get &quot;iron&quot; on shop.next() and &quot;sword&quot; on the call after.\r\n\r\nSince you want to read in whole lines, you can set the Delimiter to a newline. Like this: \r\n\r\n    public static Scanner shop = new Scanner(System.in).useDelimiter(&quot;\\\\n&quot;);\r\n\r\nThe Javadoc for the Scanner class mentions this: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\nBTW: Which IDE do you use? If you are new to programming make yourself familiar with it&#39;s debugging features. You can set a breakpoint right after the shop.next() call and then inspect the content of shopChoice2. This would have shown you that shop.next() does not do what you expect it to do.\r\n\r\n**EDIT:** \r\n\r\nThere is a mistake after you edited your code:\r\n\r\n    if (shopChoice2.equals(&quot;iron sword&quot;))\r\n        System.out.println(&quot;ok&quot;);\r\n        IronSword();}\r\n    if (shopChoice2.equals(&quot;rusty sword&quot;))\r\n\r\nThis should be:\r\n\r\n    if (shopChoice2.equals(&quot;iron sword&quot;)) {\r\n        System.out.println(&quot;ok&quot;);\r\n        IronSword();}\r\n    } else if (shopChoice2.equals(&quot;rusty sword&quot;))\r\n\r\nOnly &quot;System.out.println(&quot;ok&quot;);&quot; is being called if the if statement is true. Note that only the next statement is called if an &quot;if&quot; statement is true. If you need more that one statement to be executed you need to enclose those in curly brackets. As a general rule one should **ALWAYS** use curly brackets with if statements. Even if there is only one statement. This helps avoiding making mistakes like that.\r\n\r\n**EDIT 2:** \r\n\r\nThis should work. Find the differences to your code:\r\n\r\n    String shopChoice2 = shop.next();\r\n    System.out.println(shopChoice2);\r\n    if (shopChoice2.equals(&quot;iron sword&quot;)) {\r\n        IronSword();&quot;\r\n    } else if (shopChoice2.equals(&quot;rusty sword&quot;)) {\r\n        RustySword();\r\n    } else if (shopChoice2.equals(&quot;light leather armor&quot;)) {\r\n        LightleatherArmor();\r\n    } else if (shopChoice2.equals(&quot;minor health potion&quot;)) {\r\n        MinorhealthPotion();\r\n    } else if (shopChoice2.isEmpty()) {\r\n        Shop();\r\n    }\r\n","title":"string choice condition is met, class is not called","body":"<p>The default delimiter for the Scanner is whitespace. Which means it will break up the string on every whitespace (space, tabs, newlines). So if you enter \"iron sword\" you will only get \"iron\" on shop.next() and \"sword\" on the call after.</p>\n\n<p>Since you want to read in whole lines, you can set the Delimiter to a newline. Like this: </p>\n\n<pre><code>public static Scanner shop = new Scanner(System.in).useDelimiter(\"\\\\n\");\n</code></pre>\n\n<p>The Javadoc for the Scanner class mentions this: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n\n<p>BTW: Which IDE do you use? If you are new to programming make yourself familiar with it's debugging features. You can set a breakpoint right after the shop.next() call and then inspect the content of shopChoice2. This would have shown you that shop.next() does not do what you expect it to do.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>There is a mistake after you edited your code:</p>\n\n<pre><code>if (shopChoice2.equals(\"iron sword\"))\n    System.out.println(\"ok\");\n    IronSword();}\nif (shopChoice2.equals(\"rusty sword\"))\n</code></pre>\n\n<p>This should be:</p>\n\n<pre><code>if (shopChoice2.equals(\"iron sword\")) {\n    System.out.println(\"ok\");\n    IronSword();}\n} else if (shopChoice2.equals(\"rusty sword\"))\n</code></pre>\n\n<p>Only \"System.out.println(\"ok\");\" is being called if the if statement is true. Note that only the next statement is called if an \"if\" statement is true. If you need more that one statement to be executed you need to enclose those in curly brackets. As a general rule one should <strong>ALWAYS</strong> use curly brackets with if statements. Even if there is only one statement. This helps avoiding making mistakes like that.</p>\n\n<p><strong>EDIT 2:</strong> </p>\n\n<p>This should work. Find the differences to your code:</p>\n\n<pre><code>String shopChoice2 = shop.next();\nSystem.out.println(shopChoice2);\nif (shopChoice2.equals(\"iron sword\")) {\n    IronSword();\"\n} else if (shopChoice2.equals(\"rusty sword\")) {\n    RustySword();\n} else if (shopChoice2.equals(\"light leather armor\")) {\n    LightleatherArmor();\n} else if (shopChoice2.equals(\"minor health potion\")) {\n    MinorhealthPotion();\n} else if (shopChoice2.isEmpty()) {\n    Shop();\n}\n</code></pre>\n"}],"owner":{"account_id":12845977,"reputation":5,"user_id":9292355,"accept_rate":50,"display_name":"Alan Mc Gillivray"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48553171,"answer_count":1,"score":0,"last_activity_date":1659374442,"creation_date":1517438556,"question_id":48552659,"body_markdown":"   EDIT again:\r\n\r\neach time I run this and input the &quot;String a&quot;, all methods get called and I don&#39;t know why.\r\n\r\nI know its all newbie stuff but counter intuitively, there are too many tutorials and threads on java to properly troubleshoot basic issues like this.\r\n\r\n   import java.util.*;\r\n   public class ShopTest {\r\n\r\n\t\r\n\tpublic static Scanner navigate = new Scanner(System.in);\r\n\tpublic static Scanner playerStats = new Scanner(System.in);\r\n\tpublic static Scanner shop = new Scanner(System.in);\r\n\t\r\n\tstatic int playerGold = 0;\r\n\tstatic String items;\r\n\tstatic int ironSword = 200;\r\n\tstatic int rustySword = 75;\r\n\tstatic int lightLeatherArmor = 50;\r\n\tstatic int minorHealthpotion = 25;\r\n\tstatic String bought = &quot;item added to inventory&quot;;\r\n\tstatic String notBought = &quot;Sorry, you don&#39;t have enough for that!&quot;;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Welcome player.\\nWhat is your name?&quot;);\r\n\t\tString playerName = playerStats.next();\r\n\t\tSystem.out.println(&quot;\\nAh!&quot; + playerName + &quot;\\n\\nWe&#39;ve been expecting you.\\nAs we agreed, you get half the gold now and half after you kill that goblin!\\nYou recieved 150 gold.&quot;);\r\n\t\tplayerGold = playerGold +150;\r\n\t\tNavigate();\r\n\t\t}\r\n\t\r\n\tpublic static void Shop() {\r\n\t\tSystem.out.println(&quot;\\nWelcome to my shop\\nWould you like to see my wares?&quot;);\r\n\t\tString shopChoice1 = shop.next();\r\n\t\t\r\n\t\tif (shopChoice1.equals(&quot;yes&quot;)) {\r\n\t\t\tSystem.out.println(&quot;\\nSee anything you need?\\nIron sword: &quot; + ironSword + &quot;\\nRusty sword: &quot; + rustySword + &quot;\\nLight leather armor: &quot; + lightLeatherArmor + &quot;\\nMinor health potion: &quot; + minorHealthpotion);\r\n\t\t\t}\r\n\t\tString shopChoice2 = shop.next();{\r\n\t\t\tSystem.out.println(&quot;ok&quot;);\r\n\t\tif (shopChoice2.equals(&quot;iron sword&quot;)) {\r\n\t\t\tIronSword();}\r\n\t\telse if (shopChoice2.equals(&quot;rusty sword&quot;)) {\r\n\t\t\tRustySword();}\r\n\t\telse if (shopChoice2.equals(&quot;light leather armor&quot;)) {\r\n\t\t\tLightleatherArmor();}\r\n\t\telse if (shopChoice2.equals(&quot;minor health potion&quot;)) {\r\n\t\t\tMinorhealthPotion();}\r\n\t\telse if (shopChoice2.isEmpty()) {\r\n\t\t\tShop();}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void IronSword() {\r\n\t\tif (playerGold &gt;= ironSword) \r\n\t\t\tSystem.out.println(bought);\r\n\t\t\titems = items + &quot;Iron sword,\\n&quot;;\r\n\t\tif (playerGold &lt; ironSword) \r\n\t\t\tSystem.out.println(notBought);\r\n\t\t\tShop();\r\n\t}\r\n\t\r\n\tpublic static void LightleatherArmor() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\tpublic static void RustySword() {\r\n\t\tif (playerGold &gt;= rustySword)\r\n\t\t\tSystem.out.println(bought);\r\n\t\t\titems = items + &quot;Rusty Sword,\\n&quot;;\r\n\t\tif (playerGold &lt; rustySword) \r\n\t\t\tSystem.out.println(notBought);\r\n\t\t\tShop();\r\n\t\t}\r\n\t\t\r\n\tpublic static void MinorhealthPotion() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\tpublic static void Inn() {\r\n\t\tSystem.out.println(&quot;**You enter the inn and approach the barkeep**\\nHow can I help you?&quot;);\r\n\t\t\r\n\t}\r\n\tpublic static void Inventory() {\r\n\t\tSystem.out.println(&quot;Gold: &quot; + playerGold + &quot;\\nItems: \\n&quot; + items + &quot;\\n\\n&quot;);\r\n\t\tNavigate();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void Navigate() {\r\n\t\tSystem.out.println(&quot;\\nWhat next?\\n\tShop\\n\tInn\\n\tInv&quot;);\r\n\t\tString a = navigate.nextLine();\r\n\t\t\r\n\t\t\tif (a.equals(&quot;shop&quot;)) \r\n\t\t\t\tShop();\r\n\t\t\telse if (a.equals(&quot;inn&quot;)) \r\n\t\t\t\tInn();\r\n\t\t\telse if (a.equals(&quot;inv&quot;)) \r\n\t\t\t\tInventory();\r\n\t}\r\n}\r\n\r\n*need add more text for some reason!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*need add more text for some reason!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*need add more text for some   ","title":"string choice condition is met, class is not called","body":"<p>EDIT again:</p>\n\n<p>each time I run this and input the \"String a\", all methods get called and I don't know why.</p>\n\n<p>I know its all newbie stuff but counter intuitively, there are too many tutorials and threads on java to properly troubleshoot basic issues like this.</p>\n\n<p>import java.util.*;\n   public class ShopTest {</p>\n\n<pre><code>public static Scanner navigate = new Scanner(System.in);\npublic static Scanner playerStats = new Scanner(System.in);\npublic static Scanner shop = new Scanner(System.in);\n\nstatic int playerGold = 0;\nstatic String items;\nstatic int ironSword = 200;\nstatic int rustySword = 75;\nstatic int lightLeatherArmor = 50;\nstatic int minorHealthpotion = 25;\nstatic String bought = \"item added to inventory\";\nstatic String notBought = \"Sorry, you don't have enough for that!\";\n\npublic static void main(String[] args) {\n    System.out.println(\"Welcome player.\\nWhat is your name?\");\n    String playerName = playerStats.next();\n    System.out.println(\"\\nAh!\" + playerName + \"\\n\\nWe've been expecting you.\\nAs we agreed, you get half the gold now and half after you kill that goblin!\\nYou recieved 150 gold.\");\n    playerGold = playerGold +150;\n    Navigate();\n    }\n\npublic static void Shop() {\n    System.out.println(\"\\nWelcome to my shop\\nWould you like to see my wares?\");\n    String shopChoice1 = shop.next();\n\n    if (shopChoice1.equals(\"yes\")) {\n        System.out.println(\"\\nSee anything you need?\\nIron sword: \" + ironSword + \"\\nRusty sword: \" + rustySword + \"\\nLight leather armor: \" + lightLeatherArmor + \"\\nMinor health potion: \" + minorHealthpotion);\n        }\n    String shopChoice2 = shop.next();{\n        System.out.println(\"ok\");\n    if (shopChoice2.equals(\"iron sword\")) {\n        IronSword();}\n    else if (shopChoice2.equals(\"rusty sword\")) {\n        RustySword();}\n    else if (shopChoice2.equals(\"light leather armor\")) {\n        LightleatherArmor();}\n    else if (shopChoice2.equals(\"minor health potion\")) {\n        MinorhealthPotion();}\n    else if (shopChoice2.isEmpty()) {\n        Shop();}\n    }\n}\n\npublic static void IronSword() {\n    if (playerGold &gt;= ironSword) \n        System.out.println(bought);\n        items = items + \"Iron sword,\\n\";\n    if (playerGold &lt; ironSword) \n        System.out.println(notBought);\n        Shop();\n}\n\npublic static void LightleatherArmor() {\n\n    }\n\npublic static void RustySword() {\n    if (playerGold &gt;= rustySword)\n        System.out.println(bought);\n        items = items + \"Rusty Sword,\\n\";\n    if (playerGold &lt; rustySword) \n        System.out.println(notBought);\n        Shop();\n    }\n\npublic static void MinorhealthPotion() {\n\n    }\n\npublic static void Inn() {\n    System.out.println(\"**You enter the inn and approach the barkeep**\\nHow can I help you?\");\n\n}\npublic static void Inventory() {\n    System.out.println(\"Gold: \" + playerGold + \"\\nItems: \\n\" + items + \"\\n\\n\");\n    Navigate();\n\n}\n\npublic static void Navigate() {\n    System.out.println(\"\\nWhat next?\\n  Shop\\n  Inn\\n   Inv\");\n    String a = navigate.nextLine();\n\n        if (a.equals(\"shop\")) \n            Shop();\n        else if (a.equals(\"inn\")) \n            Inn();\n        else if (a.equals(\"inv\")) \n            Inventory();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>*need add more text for some reason!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*need add more text for some reason!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*need add more text for some   </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16005621,"reputation":374,"user_id":11551187,"display_name":"Bryan J. Diaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566570045,"creation_date":1566570045,"answer_id":57628173,"question_id":57627902,"body_markdown":"did you notice that the `gnt_medium_template_view.xml` does not hava a layout?\r\n\r\nAll the code has to be inside of a `Layout` **like this**:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;ConstraintLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n  &lt;com.google.android.gms.ads.formats.UnifiedNativeAdView\r\n      android:layout_height=&quot;350dp&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:id=&quot;@+id/native_ad_view&quot;\r\n      android:background=&quot;@drawable/gnt_outline_shape&quot;\r\n      &gt;\r\n      &lt;android.support.constraint.ConstraintLayout\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;match_parent&quot;\r\n          app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n          app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n          app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n          app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n          android:layout_centerInParent=&quot;true&quot;\r\n          android:padding=&quot;5dp&quot;\r\n          android:id=&quot;@+id/background&quot;\r\n          &gt;\r\n\r\n        &lt;com.google.android.gms.ads.formats.MediaView\r\n            android:id=&quot;@+id/media_view&quot;\r\n            android:layout_margin=&quot;@dimen/gnt_no_size&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:layout_marginTop=&quot;@dimen/gnt_no_margin&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/middle&quot;\r\n            /&gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_marginTop=&quot;@dimen/gnt_default_margin&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/media_view&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/body&quot;\r\n        android:id=&quot;@+id/middle&quot;\r\n        &gt;\r\n      &lt;android.support.constraint.ConstraintLayout\r\n\r\n          android:layout_width=&quot;@dimen/gnt_no_size&quot;\r\n          android:layout_height=&quot;@dimen/gnt_no_size&quot;\r\n          app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n          app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n          app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n          app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n          android:orientation=&quot;horizontal&quot;\r\n          &gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_weight=&quot;0&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;@dimen/gnt_no_margin&quot;\r\n            android:layout_marginStart=&quot;@dimen/gnt_default_margin&quot;\r\n            android:layout_marginBottom=&quot;@dimen/gnt_no_margin&quot;\r\n            android:layout_marginEnd=&quot;@dimen/gnt_no_margin&quot;\r\n            app:layout_constraintDimensionRatio=&quot;H,1:1&quot;\r\n            android:scaleType=&quot;fitCenter&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/content&quot;\r\n            /&gt;\r\n        &lt;android.support.constraint.ConstraintLayout\r\n            android:layout_width=&quot;@dimen/gnt_no_size&quot;\r\n            android:layout_height=&quot;@dimen/gnt_no_size&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:id=&quot;@+id/content&quot;\r\n            android:layout_marginLeft=&quot;@dimen/gnt_default_margin&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@id/icon&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            &gt;\r\n          &lt;LinearLayout\r\n              android:id=&quot;@+id/headline&quot;\r\n              android:orientation=&quot;horizontal&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;@dimen/gnt_no_size&quot;\r\n              android:layout_weight=&quot;0.5&quot;\r\n              app:layout_constraintBottom_toTopOf=&quot;@+id/row_two&quot;\r\n              app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n              app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n              app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n              &gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/primary&quot;\r\n                android:background=&quot;@color/gnt_white&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;@dimen/gnt_text_size_large&quot;\r\n                android:textColor=&quot;@color/gnt_gray&quot;\r\n                android:lines=&quot;1&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginBottom=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginStart=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginEnd=&quot;@dimen/gnt_no_margin&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                &gt;&lt;/TextView&gt;\r\n          &lt;/LinearLayout&gt;\r\n          &lt;LinearLayout\r\n              android:id=&quot;@+id/row_two&quot;\r\n              android:orientation=&quot;horizontal&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;@dimen/gnt_no_size&quot;\r\n              android:layout_weight=&quot;0.5&quot;\r\n              app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n              app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n              app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n              app:layout_constraintTop_toBottomOf=&quot;@id/headline&quot;\r\n              &gt;\r\n            &lt;TextView\r\n                android:background=&quot;@drawable/gnt_rounded_corners_shape&quot;\r\n                android:layout_width=&quot;@dimen/gnt_ad_indicator_width&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:id=&quot;@+id/ad_notification_view&quot;\r\n                android:layout_height=&quot;@dimen/gnt_ad_indicator_height&quot;\r\n                android:layout_marginTop=&quot;@dimen/gnt_ad_indicator_top_margin&quot;\r\n                android:layout_marginStart=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginEnd=&quot;@dimen/gnt_default_margin&quot;\r\n                android:text=&quot;Ad&quot;\r\n                android:textColor=&quot;@color/gnt_ad_green&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;@dimen/gnt_ad_indicator_text_size&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                &gt;\r\n            &lt;/TextView&gt;\r\n            &lt;RatingBar\r\n                android:id=&quot;@+id/rating_bar&quot;\r\n                android:background=&quot;@color/gnt_white&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:textSize=&quot;@dimen/gnt_text_size_small&quot;\r\n                android:textColor=&quot;@color/gnt_gray&quot;\r\n                android:numStars=&quot;0&quot;\r\n                android:lines=&quot;1&quot;\r\n                android:layout_marginTop=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginBottom=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginStart=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginEnd=&quot;@dimen/gnt_no_margin&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/ad_notification_view&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;/RatingBar&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/secondary&quot;\r\n                android:background=&quot;@color/gnt_white&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:gravity=&quot;top&quot;\r\n                android:textSize=&quot;@dimen/gnt_text_size_small&quot;\r\n                android:textColor=&quot;@color/gnt_gray&quot;\r\n                android:lines=&quot;1&quot;\r\n                android:layout_marginTop=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginBottom=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginStart=&quot;@dimen/gnt_no_margin&quot;\r\n                android:layout_marginEnd=&quot;@dimen/gnt_no_margin&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/ad_notification_view&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                &gt;&lt;/TextView&gt;\r\n\r\n          &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n      &lt;/android.support.constraint.ConstraintLayout&gt;\r\n      &lt;/android.support.constraint.ConstraintLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_margin=&quot;@dimen/gnt_no_size&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;@dimen/gnt_default_margin&quot;\r\n            android:paddingLeft=&quot;@dimen/gnt_default_margin&quot;\r\n            android:id=&quot;@+id/body&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/cta&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/middle&quot;\r\n            android:layout_marginBottom=&quot;@dimen/gnt_default_margin&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/cta&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@color/gnt_blue&quot;\r\n            android:textColor=&quot;@color/gnt_white&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:lines=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/body&quot;\r\n            /&gt;\r\n\r\n      &lt;/android.support.constraint.ConstraintLayout&gt;\r\n  &lt;/com.google.android.gms.ads.formats.UnifiedNativeAdView&gt;\r\n&lt;/ConstraintLayout&gt;\r\n```\r\n\r\nif you can notice i change `merge` to `ConstraintLayout`, you can use others too as: `RelativeLayout`, `LinearLayout`, `CoordinatorLayout`. **Of course** each one has a different **purpose**.\r\n\r\nI guess it might be the problem, if it is... you need to fix the `gnt_small_template_view.xml` too. **Hope it helps**.","title":"android.support.constraint.ConstraintLayout class not found","body":"<p>did you notice that the <code>gnt_medium_template_view.xml</code> does not hava a layout?</p>\n\n<p>All the code has to be inside of a <code>Layout</code> <strong>like this</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;ConstraintLayout xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n  &lt;com.google.android.gms.ads.formats.UnifiedNativeAdView\n      android:layout_height=\"350dp\"\n      android:layout_width=\"match_parent\"\n      android:id=\"@+id/native_ad_view\"\n      android:background=\"@drawable/gnt_outline_shape\"\n      &gt;\n      &lt;android.support.constraint.ConstraintLayout\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"\n          app:layout_constraintEnd_toEndOf=\"parent\"\n          app:layout_constraintStart_toStartOf=\"parent\"\n          app:layout_constraintTop_toTopOf=\"parent\"\n          app:layout_constraintBottom_toBottomOf=\"parent\"\n          android:layout_centerInParent=\"true\"\n          android:padding=\"5dp\"\n          android:id=\"@+id/background\"\n          &gt;\n\n        &lt;com.google.android.gms.ads.formats.MediaView\n            android:id=\"@+id/media_view\"\n            android:layout_margin=\"@dimen/gnt_no_size\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\"\n            android:layout_marginTop=\"@dimen/gnt_no_margin\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toTopOf=\"@id/middle\"\n            /&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_height=\"60dp\"\n        android:layout_marginTop=\"@dimen/gnt_default_margin\"\n        android:layout_width=\"match_parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/media_view\"\n        app:layout_constraintBottom_toTopOf=\"@+id/body\"\n        android:id=\"@+id/middle\"\n        &gt;\n      &lt;android.support.constraint.ConstraintLayout\n\n          android:layout_width=\"@dimen/gnt_no_size\"\n          android:layout_height=\"@dimen/gnt_no_size\"\n          app:layout_constraintEnd_toEndOf=\"parent\"\n          app:layout_constraintStart_toStartOf=\"parent\"\n          app:layout_constraintTop_toTopOf=\"parent\"\n          app:layout_constraintBottom_toBottomOf=\"parent\"\n          android:orientation=\"horizontal\"\n          &gt;\n        &lt;ImageView\n            android:id=\"@+id/icon\"\n            android:layout_width=\"0dp\"\n            android:layout_weight=\"0\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginTop=\"@dimen/gnt_no_margin\"\n            android:layout_marginStart=\"@dimen/gnt_default_margin\"\n            android:layout_marginBottom=\"@dimen/gnt_no_margin\"\n            android:layout_marginEnd=\"@dimen/gnt_no_margin\"\n            app:layout_constraintDimensionRatio=\"H,1:1\"\n            android:scaleType=\"fitCenter\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/content\"\n            /&gt;\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"@dimen/gnt_no_size\"\n            android:layout_height=\"@dimen/gnt_no_size\"\n            android:orientation=\"vertical\"\n            android:id=\"@+id/content\"\n            android:layout_marginLeft=\"@dimen/gnt_default_margin\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/icon\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            &gt;\n          &lt;LinearLayout\n              android:id=\"@+id/headline\"\n              android:orientation=\"horizontal\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"@dimen/gnt_no_size\"\n              android:layout_weight=\"0.5\"\n              app:layout_constraintBottom_toTopOf=\"@+id/row_two\"\n              app:layout_constraintEnd_toEndOf=\"parent\"\n              app:layout_constraintStart_toStartOf=\"parent\"\n              app:layout_constraintTop_toTopOf=\"parent\"\n              &gt;\n\n            &lt;TextView\n                android:id=\"@+id/primary\"\n                android:background=\"@color/gnt_white\"\n                android:textStyle=\"bold\"\n                android:textSize=\"@dimen/gnt_text_size_large\"\n                android:textColor=\"@color/gnt_gray\"\n                android:lines=\"1\"\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"match_parent\"\n                android:layout_marginTop=\"@dimen/gnt_no_margin\"\n                android:layout_marginBottom=\"@dimen/gnt_no_margin\"\n                android:layout_marginStart=\"@dimen/gnt_no_margin\"\n                android:layout_marginEnd=\"@dimen/gnt_no_margin\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                &gt;&lt;/TextView&gt;\n          &lt;/LinearLayout&gt;\n          &lt;LinearLayout\n              android:id=\"@+id/row_two\"\n              android:orientation=\"horizontal\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"@dimen/gnt_no_size\"\n              android:layout_weight=\"0.5\"\n              app:layout_constraintBottom_toBottomOf=\"parent\"\n              app:layout_constraintEnd_toEndOf=\"parent\"\n              app:layout_constraintStart_toStartOf=\"parent\"\n              app:layout_constraintTop_toBottomOf=\"@id/headline\"\n              &gt;\n            &lt;TextView\n                android:background=\"@drawable/gnt_rounded_corners_shape\"\n                android:layout_width=\"@dimen/gnt_ad_indicator_width\"\n                android:gravity=\"center\"\n                android:id=\"@+id/ad_notification_view\"\n                android:layout_height=\"@dimen/gnt_ad_indicator_height\"\n                android:layout_marginTop=\"@dimen/gnt_ad_indicator_top_margin\"\n                android:layout_marginStart=\"@dimen/gnt_no_margin\"\n                android:layout_marginEnd=\"@dimen/gnt_default_margin\"\n                android:text=\"Ad\"\n                android:textColor=\"@color/gnt_ad_green\"\n                android:textStyle=\"bold\"\n                android:textSize=\"@dimen/gnt_ad_indicator_text_size\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                &gt;\n            &lt;/TextView&gt;\n            &lt;RatingBar\n                android:id=\"@+id/rating_bar\"\n                android:background=\"@color/gnt_white\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:textSize=\"@dimen/gnt_text_size_small\"\n                android:textColor=\"@color/gnt_gray\"\n                android:numStars=\"0\"\n                android:lines=\"1\"\n                android:layout_marginTop=\"@dimen/gnt_no_margin\"\n                android:layout_marginBottom=\"@dimen/gnt_no_margin\"\n                android:layout_marginStart=\"@dimen/gnt_no_margin\"\n                android:layout_marginEnd=\"@dimen/gnt_no_margin\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@id/ad_notification_view\"\n                app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;/RatingBar&gt;\n            &lt;TextView\n                android:id=\"@+id/secondary\"\n                android:background=\"@color/gnt_white\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:gravity=\"top\"\n                android:textSize=\"@dimen/gnt_text_size_small\"\n                android:textColor=\"@color/gnt_gray\"\n                android:lines=\"1\"\n                android:layout_marginTop=\"@dimen/gnt_no_margin\"\n                android:layout_marginBottom=\"@dimen/gnt_no_margin\"\n                android:layout_marginStart=\"@dimen/gnt_no_margin\"\n                android:layout_marginEnd=\"@dimen/gnt_no_margin\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@id/ad_notification_view\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                &gt;&lt;/TextView&gt;\n\n          &lt;/LinearLayout&gt;\n\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n\n      &lt;/android.support.constraint.ConstraintLayout&gt;\n      &lt;/android.support.constraint.ConstraintLayout&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_margin=\"@dimen/gnt_no_size\"\n            android:layout_height=\"wrap_content\"\n            android:paddingBottom=\"@dimen/gnt_default_margin\"\n            android:paddingLeft=\"@dimen/gnt_default_margin\"\n            android:id=\"@+id/body\"\n            app:layout_constraintBottom_toTopOf=\"@+id/cta\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/middle\"\n            android:layout_marginBottom=\"@dimen/gnt_default_margin\"\n            /&gt;\n        &lt;Button\n            android:id=\"@+id/cta\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:background=\"@color/gnt_blue\"\n            android:textColor=\"@color/gnt_white\"\n            android:layout_marginLeft=\"5dp\"\n            android:layout_marginRight=\"5dp\"\n            android:lines=\"1\"\n            android:gravity=\"center\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/body\"\n            /&gt;\n\n      &lt;/android.support.constraint.ConstraintLayout&gt;\n  &lt;/com.google.android.gms.ads.formats.UnifiedNativeAdView&gt;\n&lt;/ConstraintLayout&gt;\n</code></pre>\n\n<p>if you can notice i change <code>merge</code> to <code>ConstraintLayout</code>, you can use others too as: <code>RelativeLayout</code>, <code>LinearLayout</code>, <code>CoordinatorLayout</code>. <strong>Of course</strong> each one has a different <strong>purpose</strong>.</p>\n\n<p>I guess it might be the problem, if it is... you need to fix the <code>gnt_small_template_view.xml</code> too. <strong>Hope it helps</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11032991,"reputation":2385,"user_id":8103819,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1566570877,"creation_date":1566570877,"answer_id":57628369,"question_id":57627902,"body_markdown":"The library you mentioned uses support libraries. Lately all of support packages have been moved to androidx, you can check if your project uses androidx artifacts by checking your build.gradle, there the dependencies should be something like:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n\r\nAndroidx and support libraries are not compatible, so if you want to use the library you have 3 choices:\r\n\r\n 1. Downgrade you application to use support libraries (**not recommended**)\r\n 2. Fork the repository and change imports. This is an easy job, you just need to replace all packages from support to androidx.\r\n 3. Import the source code to the android studio and use the option: Refactor |&gt; Migrate to AndroidX (Not sure if it works with modules)","title":"android.support.constraint.ConstraintLayout class not found","body":"<p>The library you mentioned uses support libraries. Lately all of support packages have been moved to androidx, you can check if your project uses androidx artifacts by checking your build.gradle, there the dependencies should be something like:</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.2'\n</code></pre>\n\n<p>Androidx and support libraries are not compatible, so if you want to use the library you have 3 choices:</p>\n\n<ol>\n<li>Downgrade you application to use support libraries (<strong>not recommended</strong>)</li>\n<li>Fork the repository and change imports. This is an easy job, you just need to replace all packages from support to androidx.</li>\n<li>Import the source code to the android studio and use the option: Refactor |> Migrate to AndroidX (Not sure if it works with modules)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9573471,"reputation":1102,"user_id":7110428,"display_name":"Nidheesh MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566571260,"creation_date":1566571260,"answer_id":57628467,"question_id":57627902,"body_markdown":"\r\nAdd dependency for constraint-layout in `gradile`. See Code\r\n\r\n `dependencies {\r\n//Don&#39;t forget to add dependency of constraint-layout\r\nimplementation &#39;com.android.support.constraint:constraint-layout:1.1.0&#39;\r\n   }`","title":"android.support.constraint.ConstraintLayout class not found","body":"<p>Add dependency for constraint-layout in <code>gradile</code>. See Code</p>\n\n<p><code>dependencies {\n//Don't forget to add dependency of constraint-layout\nimplementation 'com.android.support.constraint:constraint-layout:1.1.0'\n   }</code></p>\n"},{"tags":[],"owner":{"account_id":10305428,"reputation":902,"user_id":7602809,"display_name":"priti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657607602,"creation_date":1657181076,"answer_id":72894295,"question_id":57627902,"body_markdown":"Comment these lines if you are getting error in ContentBinding File \r\n\r\n```\r\n        buildFeatures {\r\n           dataBinding true\r\n           viewBinding true\r\n       }\r\n```","title":"android.support.constraint.ConstraintLayout class not found","body":"<p>Comment these lines if you are getting error in ContentBinding File</p>\n<pre><code>        buildFeatures {\n           dataBinding true\n           viewBinding true\n       }\n</code></pre>\n"}],"owner":{"account_id":15230115,"reputation":13,"user_id":10989489,"display_name":"bammywells"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57628369,"answer_count":4,"score":1,"last_activity_date":1659374108,"creation_date":1566568883,"question_id":57627902,"body_markdown":"After importing android native ads templates module from https://github.com/googleads/googleads-mobile-android-native-templates\r\n\r\nI cannot run the app because of the following error\r\n\r\n`     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.support.constraint.ConstraintLayout&quot; on path: DexPathList[[zip file &quot;/data/app/com.test.app-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\r\n`","title":"android.support.constraint.ConstraintLayout class not found","body":"<p>After importing android native ads templates module from <a href=\"https://github.com/googleads/googleads-mobile-android-native-templates\" rel=\"nofollow noreferrer\">https://github.com/googleads/googleads-mobile-android-native-templates</a></p>\n\n<p>I cannot run the app because of the following error</p>\n\n<p><code>Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.constraint.ConstraintLayout\" on path: DexPathList[[zip file \"/data/app/com.test.app-2/base.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n</code></p>\n"},{"tags":["java","spring","javabeans"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659373745,"post_id":73196785,"comment_id":129318552,"body_markdown":"Uncapitalizing a word is pretty trivial in Java, but deriving the plural form is pretty tricky stuff. [Evo Inflector](https://github.com/atteo/evo-inflector) looks very promising, and even claims that it&#39;s used by Spring.","body":"Uncapitalizing a word is pretty trivial in Java, but deriving the plural form is pretty tricky stuff. <a href=\"https://github.com/atteo/evo-inflector\" rel=\"nofollow noreferrer\">Evo Inflector</a> looks very promising, and even claims that it&#39;s used by Spring."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659385086,"post_id":73196785,"comment_id":129277789,"body_markdown":"The best way to do this is not to do it at all.  Even the library suggested by E-Riz has limited accuracy.  To be truly accurate would require linguistic context.  I would consider a static Map of class names to plural names.","body":"The best way to do this is not to do it at all.  Even the library suggested by E-Riz has limited accuracy.  To be truly accurate would require linguistic context.  I would consider a static Map of class names to plural names."},{"owner":{"account_id":1995212,"reputation":801,"user_id":1788318,"accept_rate":86,"display_name":"Federico Bonelli"},"score":0,"creation_date":1659511816,"post_id":73196785,"comment_id":129309427,"body_markdown":"Thank you for the comment, but I do not need linguistic accuracy, I just need to be able to reproduce what Spring Data already does automatically, and I don&#39;t know beforehand the names I&#39;m going to convert","body":"Thank you for the comment, but I do not need linguistic accuracy, I just need to be able to reproduce what Spring Data already does automatically, and I don&#39;t know beforehand the names I&#39;m going to convert"},{"owner":{"account_id":1995212,"reputation":801,"user_id":1788318,"accept_rate":86,"display_name":"Federico Bonelli"},"score":0,"creation_date":1659995120,"post_id":73196785,"comment_id":129423926,"body_markdown":"What happened to the accepted answer? Evo Inflector was exactly what I was looking for","body":"What happened to the accepted answer? Evo Inflector was exactly what I was looking for"}],"owner":{"account_id":1995212,"reputation":801,"user_id":1788318,"accept_rate":86,"display_name":"Federico Bonelli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659373745,"creation_date":1659371039,"question_id":73196785,"body_markdown":"I have a fairly simple issue, but I couldn&#39;t find a solution googling it.\r\nI&#39;m writing a library with Java/Spring and I need to be able to convert the names of types in the usual Java Bean ways: uncapitalized and (sometimes) plural.\r\n\r\n*Example*: for a class called **NorseDeity** I must be able to get the String &quot;**norseDeity**&quot; and &quot;**norseDeities**&quot;.\r\n\r\n*Is there any Spring or Apache Commons method to perform such a conversion?*\r\n\r\nI know Spring itself does it (because it automagically names different properties correctly), but I can&#39;t find how to reproduce it.","title":"Programmatically pluralize type name in Java/Spring","body":"<p>I have a fairly simple issue, but I couldn't find a solution googling it.\nI'm writing a library with Java/Spring and I need to be able to convert the names of types in the usual Java Bean ways: uncapitalized and (sometimes) plural.</p>\n<p><em>Example</em>: for a class called <strong>NorseDeity</strong> I must be able to get the String &quot;<strong>norseDeity</strong>&quot; and &quot;<strong>norseDeities</strong>&quot;.</p>\n<p><em>Is there any Spring or Apache Commons method to perform such a conversion?</em></p>\n<p>I know Spring itself does it (because it automagically names different properties correctly), but I can't find how to reproduce it.</p>\n"},{"tags":["java","reactjs","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659373358,"creation_date":1659373358,"answer_id":73197193,"question_id":73191079,"body_markdown":"The above error occurred because the JavaScript object was sent to the controller.\r\nBecause the controller was ready to import json files, it had to send javascript objects in json format.\r\nSo I stringigy the javascript object.\r\n```\r\nconst json = JSON.stringify(props.sendData.formValue);\r\n```\r\nAnd I sent the application/json type through blob because I have to send it by application/json type.\r\n```\r\n        const blob = new Blob([json],{\r\n            type : &#39;application/json&#39;\r\n        })\r\n```\r\n\r\nAt last I append blob to Formdata and send it by axios\r\n```\r\nfmd.append(&#39;formValue&#39;,blob);\r\n\r\naxios.post(&#39;/mg/kpi&#39;,fmd,{\r\n                headers:{\r\n                    &#39;Content-Type&#39; : &#39;multipart/form-data&#39;\r\n                }\r\n            })\r\n            .then(function(res){\r\n                console.log(res);\r\n                alert(&quot;서버 저장 완료!&quot;);\r\n                window.location.reload();\r\n            })\r\n            .catch(function(error){\r\n                console.log(error);\r\n            })\r\n```\r\n","title":"Unsupported error while transfering multipart/form-data to spring boot","body":"<p>The above error occurred because the JavaScript object was sent to the controller.\nBecause the controller was ready to import json files, it had to send javascript objects in json format.\nSo I stringigy the javascript object.</p>\n<pre><code>const json = JSON.stringify(props.sendData.formValue);\n</code></pre>\n<p>And I sent the application/json type through blob because I have to send it by application/json type.</p>\n<pre><code>        const blob = new Blob([json],{\n            type : 'application/json'\n        })\n</code></pre>\n<p>At last I append blob to Formdata and send it by axios</p>\n<pre><code>fmd.append('formValue',blob);\n\naxios.post('/mg/kpi',fmd,{\n                headers:{\n                    'Content-Type' : 'multipart/form-data'\n                }\n            })\n            .then(function(res){\n                console.log(res);\n                alert(&quot;서버 저장 완료!&quot;);\n                window.location.reload();\n            })\n            .catch(function(error){\n                console.log(error);\n            })\n</code></pre>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659373358,"creation_date":1659343570,"question_id":73191079,"body_markdown":"I wanted to send file data and form data to spring boot, so I sent it by using mutipart/form-data.\r\nStoreData.js\r\n```\r\nimport React from &#39;react&#39;;\r\nimport Button from &#39;react-bootstrap/Button&#39;;\r\nimport axios from &#39;axios&#39;;\r\n\r\nfunction StoreData(props){\r\n\r\n    const check = (event) =&gt; {\r\n        event.preventDefault();\r\n\r\n        const url = window.location.href;\r\n        console.log(url);\r\n\r\n        const fmd = new FormData();\r\n        fmd.append(&#39;formValue&#39;,props.sendData.formValue);\r\n        fmd.append(&#39;file&#39;,props.sendData.file)\r\n\r\n        if(url.includes(&#39;kpop&#39;)){\r\n            console.log(&#39;kpop 저장할거얌&#39;);\r\n            axios.post(&#39;/manager/kpopinfo&#39;,fmd,{\r\n                headers:{\r\n                    &#39;Content-Type&#39; : &#39;multipart/form-data&#39;\r\n                }\r\n            })\r\n            .then(function(res){\r\n                console.log(res);\r\n                alert(&quot;서버 저장 완료!&quot;);\r\n                window.location.reload();\r\n            })\r\n            .catch(function(error){\r\n                console.log(error);\r\n            })\r\n        }else if(url.includes(&#39;culture&#39;)){\r\n            console.log(&#39;culture 저장할거얌&#39;);\r\n            axios.post(&#39;/manager/cultureinfo&#39;,fmd,{\r\n                headers:{\r\n                    &#39;Content-Type&#39; : &#39;multipart/form-data&#39;\r\n                }\r\n            })\r\n            .then(function(res){\r\n                console.log(res);\r\n                alert(&quot;서버 저장 완료!&quot;);\r\n                window.location.reload();\r\n            })\r\n            .catch(function(error){\r\n                console.log(error);\r\n            })\r\n        }\r\n        console.log(props.sendData);\r\n    }\r\n    return(\r\n        &lt;Button variant=&quot;primary&quot; type=&quot;submit&quot; onClick={check}&gt;제출&lt;/Button&gt;\r\n    );\r\n}\r\nexport default StoreData;\r\n```\r\nAnd I wanted to get file data and form data at spring boot controller.\r\n\r\nController.java\r\n```\r\npackage com.prac.react.controller;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.prac.react.model.dto.Celebrity;\r\nimport com.prac.react.model.dto.Culture;\r\n\r\n@RestController\r\n@RequestMapping(&quot;manager&quot;)\r\npublic class ManagerController{\r\n\r\n    Logger logger = LoggerFactory.getLogger(ManagerController.class);\r\n    Date date = new Date();\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);-\r\n\r\n    @PostMapping(&quot;/cultureinfo&quot;)\r\n    public int insertCultureInfo(@RequestPart(&quot;formValue&quot;) Culture culture,@RequestPart(&quot;file&quot;) MultipartFile mpf){\r\n        logger.info(&quot;문화 저장 들어옴&quot;);\r\n        logger.info(&quot;culture : &quot;+ culture.toString());\r\n        logger.info(&quot;culture : &quot;+ mpf.toString()); \r\n        int extension = culture.getFileUrl().lastIndexOf(&quot;.&quot;); \r\n        String newFileName = sdf.format(date) + culture.getFileUrl().substring(extension);\r\n        logger.info(&quot;changed file name : &quot;+newFileName);\r\n\r\n        return 200;\r\n    }\r\n\r\n    @PostMapping(&quot;/kpopinfo&quot;)\r\n    public int insertKpopInfo(@RequestBody Celebrity celeb){\r\n        logger.info(&quot;kpop 저장 들어옴&quot;);\r\n        logger.info(&quot;celeb : &quot;+ celeb.toString());\r\n\r\n        int extension = celeb.getFileUrl().lastIndexOf(&quot;.&quot;);\r\n        String newFileName = sdf.format(date) + celeb.getFileUrl().substring(extension);\r\n        logger.info(&quot;changed file name : &quot;+newFileName);\r\n\r\n\r\n\r\n        return 200;\r\n    }\r\n}\r\n```\r\nBut I&#39;m getting 415 error in front-end and getting error below in controller.\r\n\r\n&gt; 2022-08-01 17:21:45.068  WARN 16644 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported]\r\n\r\nHow can I get form data and file data in controller??\r\n","title":"Unsupported error while transfering multipart/form-data to spring boot","body":"<p>I wanted to send file data and form data to spring boot, so I sent it by using mutipart/form-data.\nStoreData.js</p>\n<pre><code>import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\n\nfunction StoreData(props){\n\n    const check = (event) =&gt; {\n        event.preventDefault();\n\n        const url = window.location.href;\n        console.log(url);\n\n        const fmd = new FormData();\n        fmd.append('formValue',props.sendData.formValue);\n        fmd.append('file',props.sendData.file)\n\n        if(url.includes('kpop')){\n            console.log('kpop 저장할거얌');\n            axios.post('/manager/kpopinfo',fmd,{\n                headers:{\n                    'Content-Type' : 'multipart/form-data'\n                }\n            })\n            .then(function(res){\n                console.log(res);\n                alert(&quot;서버 저장 완료!&quot;);\n                window.location.reload();\n            })\n            .catch(function(error){\n                console.log(error);\n            })\n        }else if(url.includes('culture')){\n            console.log('culture 저장할거얌');\n            axios.post('/manager/cultureinfo',fmd,{\n                headers:{\n                    'Content-Type' : 'multipart/form-data'\n                }\n            })\n            .then(function(res){\n                console.log(res);\n                alert(&quot;서버 저장 완료!&quot;);\n                window.location.reload();\n            })\n            .catch(function(error){\n                console.log(error);\n            })\n        }\n        console.log(props.sendData);\n    }\n    return(\n        &lt;Button variant=&quot;primary&quot; type=&quot;submit&quot; onClick={check}&gt;제출&lt;/Button&gt;\n    );\n}\nexport default StoreData;\n</code></pre>\n<p>And I wanted to get file data and form data at spring boot controller.</p>\n<p>Controller.java</p>\n<pre><code>package com.prac.react.controller;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.prac.react.model.dto.Celebrity;\nimport com.prac.react.model.dto.Culture;\n\n@RestController\n@RequestMapping(&quot;manager&quot;)\npublic class ManagerController{\n\n    Logger logger = LoggerFactory.getLogger(ManagerController.class);\n    Date date = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);-\n\n    @PostMapping(&quot;/cultureinfo&quot;)\n    public int insertCultureInfo(@RequestPart(&quot;formValue&quot;) Culture culture,@RequestPart(&quot;file&quot;) MultipartFile mpf){\n        logger.info(&quot;문화 저장 들어옴&quot;);\n        logger.info(&quot;culture : &quot;+ culture.toString());\n        logger.info(&quot;culture : &quot;+ mpf.toString()); \n        int extension = culture.getFileUrl().lastIndexOf(&quot;.&quot;); \n        String newFileName = sdf.format(date) + culture.getFileUrl().substring(extension);\n        logger.info(&quot;changed file name : &quot;+newFileName);\n\n        return 200;\n    }\n\n    @PostMapping(&quot;/kpopinfo&quot;)\n    public int insertKpopInfo(@RequestBody Celebrity celeb){\n        logger.info(&quot;kpop 저장 들어옴&quot;);\n        logger.info(&quot;celeb : &quot;+ celeb.toString());\n\n        int extension = celeb.getFileUrl().lastIndexOf(&quot;.&quot;);\n        String newFileName = sdf.format(date) + celeb.getFileUrl().substring(extension);\n        logger.info(&quot;changed file name : &quot;+newFileName);\n\n\n\n        return 200;\n    }\n}\n</code></pre>\n<p>But I'm getting 415 error in front-end and getting error below in controller.</p>\n<blockquote>\n<p>2022-08-01 17:21:45.068  WARN 16644 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/octet-stream' not supported]</p>\n</blockquote>\n<p>How can I get form data and file data in controller??</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659371554,"post_id":73196829,"comment_id":129273702,"body_markdown":"Show your pom and the command you&#39;re using to try to run the application.","body":"Show your pom and the command you&#39;re using to try to run the application."},{"owner":{"account_id":21090346,"reputation":13,"user_id":15502398,"display_name":"MathP4nk"},"score":0,"creation_date":1659372648,"post_id":73196829,"comment_id":129274048,"body_markdown":"Hi @E-Riz i just updated the question with the pom and the main.","body":"Hi @E-Riz i just updated the question with the pom and the main."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659373001,"post_id":73196829,"comment_id":129274167,"body_markdown":"It seems like you&#39;re trying to use the Maven &quot;exec&quot; plugin to execute a Java &quot;main&quot; class/method, but that&#39;s not how you start a REST controller. Maybe start with https://spring.io/guides/gs/spring-boot/","body":"It seems like you&#39;re trying to use the Maven &quot;exec&quot; plugin to execute a Java &quot;main&quot; class/method, but that&#39;s not how you start a REST controller. Maybe start with <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659373075,"creation_date":1659373075,"answer_id":73197136,"question_id":73196829,"body_markdown":"If I understand properly,  you are missing *main* class in spring boot:-\r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n      public static void main(String[] args) {\r\n        \t\tSpringApplication.run(App.class);\r\n        \t}\r\n     }\r\n\r\n\r\nYou have just implemented `@RestController`, but to start spring boot application, you need to have main method which will kick start spring boot.\r\n\r\nOnce you have it, you can then run maven command as below: \r\n\r\n\r\n    mvn clean spring-boot:run","title":"Spring boot - Maven - BUILD FAILURE","body":"<p>If I understand properly,  you are missing <em>main</em> class in spring boot:-</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class App {\n  public static void main(String[] args) {\n            SpringApplication.run(App.class);\n        }\n }\n</code></pre>\n<p>You have just implemented <code>@RestController</code>, but to start spring boot application, you need to have main method which will kick start spring boot.</p>\n<p>Once you have it, you can then run maven command as below:</p>\n<pre><code>mvn clean spring-boot:run\n</code></pre>\n"}],"owner":{"account_id":21090346,"reputation":13,"user_id":15502398,"display_name":"MathP4nk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73197136,"answer_count":1,"score":1,"last_activity_date":1659373075,"creation_date":1659371298,"question_id":73196829,"body_markdown":"Hello I&#39;m having trouble starting spring boot and I really don&#39;t know whats going on. I have tried with the POM and the Aplication.properties but I just can&#39;t find whats wrong. \r\nHere is the log:\r\n\r\n\r\n    ---------------------------&lt; com.matt:main &gt;----------------------------\r\n    Building main 0.0.1-SNAPSHOT\r\n    --------------------------------[ jar ]---------------------------------\r\n    \r\n    --- maven-resources-plugin:3.2.0:resources (default-resources) @ main ---\r\n    Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    Copying 1 resource\r\n    Copying 0 resource\r\n    \r\n    --- maven-compiler-plugin:3.10.1:compile (default-compile) @ main ---\r\n    Changes detected - recompiling the module!\r\n    Compiling 1 source file to C:\\Users\\big_i\\OneDrive\\Escritorio\\Matt\\Desarrollo\\HTML\\Porfolio Final\\Spring boot\\main\\target\\classes\r\n    \r\n    --- exec-maven-plugin:3.0.0:exec (default-cli) @ main ---\r\n    Error: Could not find or load main class ${exec.mainClass}\r\n    Caused by: java.lang.ClassNotFoundException: ${exec.mainClass}\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:577)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:577)\r\n        at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\r\n        at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\r\n        at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time:  1.861 s\r\n    Finished at: 2022-08-01T13:22:03-03:00\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project main: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n---------------------------------------------------------------------- Adding the POM.xml\r\n----------------------------------------------------------------------\r\n\r\n&#39;&#39;&#39;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.matt&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;main&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;main&lt;/name&gt;\r\n\t&lt;description&gt;Main handler app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n&#39;&#39;&#39;\r\nRight now I&#39;m trying to build with a main.java that just shows something.\r\n\r\n\r\n    package com.matt.handler.Main;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class Main {\r\n      @GetMapping(&quot;/hola&quot;)\r\n        public String test(){\r\n          return(&quot;hola Mundo&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Spring boot - Maven - BUILD FAILURE","body":"<p>Hello I'm having trouble starting spring boot and I really don't know whats going on. I have tried with the POM and the Aplication.properties but I just can't find whats wrong.\nHere is the log:</p>\n<pre><code>---------------------------&lt; com.matt:main &gt;----------------------------\nBuilding main 0.0.1-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\n\n--- maven-resources-plugin:3.2.0:resources (default-resources) @ main ---\nUsing 'UTF-8' encoding to copy filtered resources.\nUsing 'UTF-8' encoding to copy filtered properties files.\nCopying 1 resource\nCopying 0 resource\n\n--- maven-compiler-plugin:3.10.1:compile (default-compile) @ main ---\nChanges detected - recompiling the module!\nCompiling 1 source file to C:\\Users\\big_i\\OneDrive\\Escritorio\\Matt\\Desarrollo\\HTML\\Porfolio Final\\Spring boot\\main\\target\\classes\n\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ main ---\nError: Could not find or load main class ${exec.mainClass}\nCaused by: java.lang.ClassNotFoundException: ${exec.mainClass}\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:577)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:577)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  1.861 s\nFinished at: 2022-08-01T13:22:03-03:00\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project main: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<h2>---------------------------------------------------------------------- Adding the POM.xml</h2>\n<p>'''</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.matt&lt;/groupId&gt;\n&lt;artifactId&gt;main&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;main&lt;/name&gt;\n&lt;description&gt;Main handler app&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>'''\nRight now I'm trying to build with a main.java that just shows something.</p>\n<pre><code>package com.matt.handler.Main;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Main {\n  @GetMapping(&quot;/hola&quot;)\n    public String test(){\n      return(&quot;hola Mundo&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1384979685,"post_id":20105723,"comment_id":29959554,"body_markdown":"Please fully address your question. Where is the problem. One can&#39;t see what you&#39;re trying to do.","body":"Please fully address your question. Where is the problem. One can&#39;t see what you&#39;re trying to do."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1384995220,"post_id":20105723,"comment_id":29966507,"body_markdown":"Basically, you want to convert a property list/XML arrangement of data into simpler form where the &quot;key&quot; and &quot;value&quot; terms are removed, such that you&#39;d get `{&quot;foo1&quot; : &quot;bar1&quot;, &quot;foo2&quot; : &quot;bar2&quot;, ...}`.  This can be done with a simple loop through the outer array, but I have (in Objective-C) seen other &quot;clever&quot; (though not necessarily cleaner or more efficient) ways to do it.  Unless you&#39;re in it for the mental stimulation, I&#39;d suggest the simple loop.  (In case it&#39;s not obvious, use Jackson or whatever to convert into a List of Maps, then iterate through the List to build a new Map.)","body":"Basically, you want to convert a property list/XML arrangement of data into simpler form where the &quot;key&quot; and &quot;value&quot; terms are removed, such that you&#39;d get <code>{&quot;foo1&quot; : &quot;bar1&quot;, &quot;foo2&quot; : &quot;bar2&quot;, ...}</code>.  This can be done with a simple loop through the outer array, but I have (in Objective-C) seen other &quot;clever&quot; (though not necessarily cleaner or more efficient) ways to do it.  Unless you&#39;re in it for the mental stimulation, I&#39;d suggest the simple loop.  (In case it&#39;s not obvious, use Jackson or whatever to convert into a List of Maps, then iterate through the List to build a new Map.)"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1384991745,"creation_date":1384991745,"answer_id":20109694,"question_id":20105723,"body_markdown":"You can easily convert above JSON to `List&lt;Map&lt;String, String&gt;&gt;`:\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.type.CollectionType;\r\n    \r\n    public class JacksonProgram {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tCollectionType mapCollectionType = mapper.getTypeFactory().constructCollectionType(List.class, Map.class);\r\n    \t\tList&lt;Map&lt;String, String&gt;&gt; result = mapper.readValue(json, mapCollectionType);\r\n    \t\tSystem.out.println(result);\r\n    \t}\r\n    }\r\n\r\nAbove program prints:\r\n\r\n    [{key=foo1, value=bar1}, {key=foo2, value=bar2}]","title":"Using Jackson to deserialize into a Map","body":"<p>You can easily convert above JSON to <code>List&lt;Map&lt;String, String&gt;&gt;</code>:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Map;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.type.CollectionType;\n\npublic class JacksonProgram {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        CollectionType mapCollectionType = mapper.getTypeFactory().constructCollectionType(List.class, Map.class);\n        List&lt;Map&lt;String, String&gt;&gt; result = mapper.readValue(json, mapCollectionType);\n        System.out.println(result);\n    }\n}\n</code></pre>\n\n<p>Above program prints:</p>\n\n<pre><code>[{key=foo1, value=bar1}, {key=foo2, value=bar2}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385502099,"creation_date":1385502099,"answer_id":20228558,"question_id":20105723,"body_markdown":"Since your structure does not match, you have two basic options:\r\n\r\n1. Use two-phase handling: use Jackson to bind into intermediate representation that does match (which could be `JsonNode` or `List&lt;Map&lt;String,Object&gt;&gt;`), and then do conversion to desired type with simple code\r\n2. Write custom serializer and/or deserializer\r\n\r\nJackson does not support extensive structural transformations (there are some simple ones, like `@JsonUnwrapped`), so this kind of functionality is unlikely to be added to databind module. Although it could be added as an extension module, if these &quot;smart Map&quot; types of structures are commonly used (they seem to be, unfortunately).","title":"Using Jackson to deserialize into a Map","body":"<p>Since your structure does not match, you have two basic options:</p>\n\n<ol>\n<li>Use two-phase handling: use Jackson to bind into intermediate representation that does match (which could be <code>JsonNode</code> or <code>List&lt;Map&lt;String,Object&gt;&gt;</code>), and then do conversion to desired type with simple code</li>\n<li>Write custom serializer and/or deserializer</li>\n</ol>\n\n<p>Jackson does not support extensive structural transformations (there are some simple ones, like <code>@JsonUnwrapped</code>), so this kind of functionality is unlikely to be added to databind module. Although it could be added as an extension module, if these \"smart Map\" types of structures are commonly used (they seem to be, unfortunately).</p>\n"},{"tags":[],"owner":{"account_id":25949945,"reputation":1,"user_id":19668153,"display_name":"marshalThis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659373065,"creation_date":1659372343,"answer_id":73197002,"question_id":20105723,"body_markdown":"Had the same problem and was surprised Jackson wasn&#39;t able to natively handle it.  Solution I went with was to create a custom setter on the object I was trying to marshal into :\r\n\r\n    public class somePojo {\r\n      private Map&lt;String, String&gt; mapStuff;\r\n    \r\n      ...\r\n    \r\n      public void SetMapStuff(List&lt;Map&lt;String, String&gt; fromJackson){\r\n        mapStuff= new HashMap&lt;&gt;();\r\n        for (Map&lt;String, String&gt; pair : fromJackson) {\r\n          put(pair.get(&quot;key&quot;), pair.get(&quot;value&quot;));\r\n        }\r\n      }\r\n    }\r\n\r\nJackson is smart enough to find that setter to and can happily pass it the List. ","title":"Using Jackson to deserialize into a Map","body":"<p>Had the same problem and was surprised Jackson wasn't able to natively handle it.  Solution I went with was to create a custom setter on the object I was trying to marshal into :</p>\n<pre><code>public class somePojo {\n  private Map&lt;String, String&gt; mapStuff;\n\n  ...\n\n  public void SetMapStuff(List&lt;Map&lt;String, String&gt; fromJackson){\n    mapStuff= new HashMap&lt;&gt;();\n    for (Map&lt;String, String&gt; pair : fromJackson) {\n      put(pair.get(&quot;key&quot;), pair.get(&quot;value&quot;));\n    }\n  }\n}\n</code></pre>\n<p>Jackson is smart enough to find that setter to and can happily pass it the List.</p>\n"}],"owner":{"account_id":1190203,"reputation":1337,"user_id":1163186,"accept_rate":34,"display_name":"Kelvin Chung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10554,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1659373065,"creation_date":1384977532,"question_id":20105723,"body_markdown":"I have a JSON object with two attributes: &quot;key&quot; which is a string, and &quot;value&quot; which can be deserialized into a Java bean.\r\n\r\n    { &quot;key&quot;: &quot;foo&quot;, &quot;value&quot;: &quot;bar&quot; }\r\n\r\nThe question is, given a list of such objects, can I deserialize it into a Map?\r\n\r\n    [{&quot;key&quot;: &quot;foo1&quot;, &quot;value&quot;: &quot;bar1&quot;}, {&quot;key&quot;: &quot;foo2&quot;, &quot;value&quot;: &quot;bar2&quot;}] -&gt; Map&lt;String, String&gt;\r\n\r\nCurrently using Jackson-databind 2.1","title":"Using Jackson to deserialize into a Map","body":"<p>I have a JSON object with two attributes: \"key\" which is a string, and \"value\" which can be deserialized into a Java bean.</p>\n\n<pre><code>{ \"key\": \"foo\", \"value\": \"bar\" }\n</code></pre>\n\n<p>The question is, given a list of such objects, can I deserialize it into a Map?</p>\n\n<pre><code>[{\"key\": \"foo1\", \"value\": \"bar1\"}, {\"key\": \"foo2\", \"value\": \"bar2\"}] -&gt; Map&lt;String, String&gt;\n</code></pre>\n\n<p>Currently using Jackson-databind 2.1</p>\n"},{"tags":["java","tomcat","server"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658521862,"post_id":73085405,"comment_id":129080935,"body_markdown":"Is it always in the 03:00 minute? And, 3 AM in what time zone? (Tip: Log in UTC, with an indicator of offset)","body":"Is it always in the 03:00 minute? And, 3 AM in what time zone? (Tip: Log in UTC, with an indicator of offset)"},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1658524496,"post_id":73085405,"comment_id":129081636,"body_markdown":"Seems that the `com.ocpsoft.pretty.PrettyFilter` class is triggering some process which eventually causes that the server gets incompletely shut down (surely because some daemon threads could not be stopped), so that the ports are not properly released and the server cannot be restarted because the ports are still used. Have you seeked the webapp which contains the PrettyFilter class?","body":"Seems that the <code>com.ocpsoft.pretty.PrettyFilter</code> class is triggering some process which eventually causes that the server gets incompletely shut down (surely because some daemon threads could not be stopped), so that the ports are not properly released and the server cannot be restarted because the ports are still used. Have you seeked the webapp which contains the PrettyFilter class?"}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659372658,"creation_date":1659372658,"answer_id":73197055,"question_id":73085405,"body_markdown":"It looks like you have a process that is trying to bounce Tomcat in the middle of the night. Evidence:\r\n\r\n1. You have a message in the log saying `The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5a346e8f]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.` This message is shown during application shut-down, and application shut-downs are typically performed when the server is being shut-down.\r\n2. You have a message in the log saying `java.net.BindException: Address already in use`. This message is shown during container startup.\r\n\r\nIf your Tomcat restart process does not wait for Tomcat to completely shut-down before trying to start another instance, you may end up in a state where the new process fails to bind to the port (and therefore will not be listening for requests) and then the old process shuts-down, freeing-up the port. You now have a service that isn&#39;t reachable.\r\n\r\nI would recommend a few things:\r\n\r\n1. Reconsider nightly restarts. Why are you doing them? If you have bugs, fix them instead of restarting the service all the time to mitigate those bugs.\r\n2. Check your restart process to ensure that the old process stops completely before starting the new process.","title":"Tomcat 7 shows almost every day service temporalily unavailable at the same time","body":"<p>It looks like you have a process that is trying to bounce Tomcat in the middle of the night. Evidence:</p>\n<ol>\n<li>You have a message in the log saying <code>The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5a346e8f]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.</code> This message is shown during application shut-down, and application shut-downs are typically performed when the server is being shut-down.</li>\n<li>You have a message in the log saying <code>java.net.BindException: Address already in use</code>. This message is shown during container startup.</li>\n</ol>\n<p>If your Tomcat restart process does not wait for Tomcat to completely shut-down before trying to start another instance, you may end up in a state where the new process fails to bind to the port (and therefore will not be listening for requests) and then the old process shuts-down, freeing-up the port. You now have a service that isn't reachable.</p>\n<p>I would recommend a few things:</p>\n<ol>\n<li>Reconsider nightly restarts. Why are you doing them? If you have bugs, fix them instead of restarting the service all the time to mitigate those bugs.</li>\n<li>Check your restart process to ensure that the old process stops completely before starting the new process.</li>\n</ol>\n"}],"owner":{"account_id":20619747,"reputation":1,"user_id":15137046,"display_name":"Hermano Barradas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659372658,"creation_date":1658519164,"question_id":73085405,"body_markdown":"Good morning friends. In recent times, almost every day the server is showing the error service temporarily unavailable message and I just restart tomcat and the applications normalize. Apparently, this problem always presents itself at the same time, three o&#39;clock in the morning. Early in the morning I looked at the tomcat log on the server and these errors appeared in the log. I would be very grateful if anyone knows what it could be. Because it wasn&#39;t me who set up this server and I&#39;m a little lost.\r\n\r\n\r\n    GRAVE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5a346e8f]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    22/07/2022 03:00:07 org.apache.catalina.loader.WebappClassLoaderBase checkThreadLocalMapForLeaks\r\n    GRAVE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28469c8d]) and a value of type [java.lang.Class] (value [class oracle.sql.TypeDescriptorFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    22/07/2022 03:00:07 com.ocpsoft.pretty.PrettyFilter destroy\r\n    INFO: PrettyFilter shutting down...\r\n    22/07/2022 03:00:08 com.sun.faces.config.ConfigureListener contextDestroyed\r\n    GRAVE: Unexpected exception when attempting to tear down the Mojarra runtime\r\n    java.lang.NullPointerException\r\n    \tat org.primefaces.context.ApplicationContext.getCurrentInstance(ApplicationContext.java:43)\r\n    \tat org.primefaces.webapp.PreDestroyApplicationEventListener.processEvent(PreDestroyApplicationEventListener.java:30)\r\n    \tat javax.faces.event.SystemEvent.processListener(SystemEvent.java:106)\r\n    \tat com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2168)\r\n    \tat com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2144)\r\n    \tat com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:295)\r\n    \tat org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\r\n    \tat com.sun.faces.config.ConfigureListener.contextDestroyed(ConfigureListener.java:335)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:5163)\r\n    \tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5829)\r\n    \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\r\n    \tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1587)\r\n    \tat org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1576)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    GRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    java.net.BindException: Address already in use &lt;null&gt;:8080\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:328)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 17 more\r\n    22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\r\n    GRAVE: Failed to initialize connector [Connector[HTTP/1.1-8080]]\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use &lt;null&gt;:8080\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \t... 13 more\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:328)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 17 more\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8443&quot;]\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    GRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;http-nio-8443&quot;]\r\n    java.net.BindException: Address already in use\r\n    \tat sun.nio.ch.Net.bind(Native Method)\r\n    \tat sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:126)\r\n    \tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:475)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\r\n    GRAVE: Failed to initialize connector [Connector[org.apache.coyote.http11.Http11NioProtocol-8443]]\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Connector[org.apache.coyote.http11.Http11NioProtocol-8443]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat sun.nio.ch.Net.bind(Native Method)\r\n    \tat sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:126)\r\n    \tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:475)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \t... 13 more\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\r\n    GRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    java.net.BindException: Address already in use &lt;null&gt;:8009\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:328)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 16 more\r\n    22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\r\n    GRAVE: Failed to initialize connector [Connector[AJP/1.3-8009]]\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:643)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:668)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use &lt;null&gt;:8009\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \t... 13 more\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:328)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 16 more","title":"Tomcat 7 shows almost every day service temporalily unavailable at the same time","body":"<p>Good morning friends. In recent times, almost every day the server is showing the error service temporarily unavailable message and I just restart tomcat and the applications normalize. Apparently, this problem always presents itself at the same time, three o'clock in the morning. Early in the morning I looked at the tomcat log on the server and these errors appeared in the log. I would be very grateful if anyone knows what it could be. Because it wasn't me who set up this server and I'm a little lost.</p>\n<pre><code>GRAVE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5a346e8f]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n22/07/2022 03:00:07 org.apache.catalina.loader.WebappClassLoaderBase checkThreadLocalMapForLeaks\nGRAVE: The web application [] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28469c8d]) and a value of type [java.lang.Class] (value [class oracle.sql.TypeDescriptorFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n22/07/2022 03:00:07 com.ocpsoft.pretty.PrettyFilter destroy\nINFO: PrettyFilter shutting down...\n22/07/2022 03:00:08 com.sun.faces.config.ConfigureListener contextDestroyed\nGRAVE: Unexpected exception when attempting to tear down the Mojarra runtime\njava.lang.NullPointerException\n    at org.primefaces.context.ApplicationContext.getCurrentInstance(ApplicationContext.java:43)\n    at org.primefaces.webapp.PreDestroyApplicationEventListener.processEvent(PreDestroyApplicationEventListener.java:30)\n    at javax.faces.event.SystemEvent.processListener(SystemEvent.java:106)\n    at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2168)\n    at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2144)\n    at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:295)\n    at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\n    at com.sun.faces.config.ConfigureListener.contextDestroyed(ConfigureListener.java:335)\n    at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:5163)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5829)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:221)\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1587)\n    at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1576)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nGRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;http-bio-8080&quot;]\njava.net.BindException: Address already in use &lt;null&gt;:8080\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\n    at java.net.ServerSocket.bind(ServerSocket.java:328)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 17 more\n22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\nGRAVE: Failed to initialize connector [Connector[HTTP/1.1-8080]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use &lt;null&gt;:8080\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    ... 13 more\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\n    at java.net.ServerSocket.bind(ServerSocket.java:328)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 17 more\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8443&quot;]\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nGRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;http-nio-8443&quot;]\njava.net.BindException: Address already in use\n    at sun.nio.ch.Net.bind(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:126)\n    at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:475)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\n22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\nGRAVE: Failed to initialize connector [Connector[org.apache.coyote.http11.Http11NioProtocol-8443]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[org.apache.coyote.http11.Http11NioProtocol-8443]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use\n    at sun.nio.ch.Net.bind(Native Method)\n    at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:126)\n    at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:475)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    ... 13 more\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\n22/07/2022 03:00:09 org.apache.coyote.AbstractProtocol init\nGRAVE: Failed to initialize end point associated with ProtocolHandler [&quot;ajp-bio-8009&quot;]\njava.net.BindException: Address already in use &lt;null&gt;:8009\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\n    at java.net.ServerSocket.bind(ServerSocket.java:328)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 16 more\n22/07/2022 03:00:09 org.apache.catalina.core.StandardService initInternal\nGRAVE: Failed to initialize connector [Connector[AJP/1.3-8009]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:560)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:840)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:643)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:668)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:253)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:427)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use &lt;null&gt;:8009\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:715)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:452)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    ... 13 more\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\n    at java.net.ServerSocket.bind(ServerSocket.java:328)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:194)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:150)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 16 more\n</code></pre>\n"},{"tags":["java","apache-poi-4"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1614969016,"post_id":66488190,"comment_id":117556834,"body_markdown":"What about reading the `API` documentation? Or the [Busy Developers&#39; Guide to HSSF and XSSF Features](http://poi.apache.org/components/spreadsheet/quick-guide.html)? To the issue in your heading: Formerly `XSSFCellStyle.BORDER_THIN` is now [BorderStyle.THIN](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/BorderStyle.html#THIN). See also [DrawingBorders](http://poi.apache.org/components/spreadsheet/quick-guide.html#DrawingBorders).","body":"What about reading the <code>API</code> documentation? Or the <a href=\"http://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">Busy Developers&#39; Guide to HSSF and XSSF Features</a>? To the issue in your heading: Formerly <code>XSSFCellStyle.BORDER_THIN</code> is now <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/BorderStyle.html#THIN\" rel=\"nofollow noreferrer\">BorderStyle.THIN</a>. See also <a href=\"http://poi.apache.org/components/spreadsheet/quick-guide.html#DrawingBorders\" rel=\"nofollow noreferrer\">DrawingBorders</a>."}],"owner":{"account_id":4988115,"reputation":1,"user_id":4011129,"display_name":"ARUN KUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659372262,"creation_date":1614928079,"question_id":66488190,"body_markdown":"I have upgraded apache POI from 3.9 to 4.1.2 version. Getting error for XSSF font, styles, hyperlink, cell range address etc., Help me what are the changes required to do for upgrading to this version.\r\n\r\nMaven dependency added,\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"XSSFCellStyle.BORDER_THIN - (BORDER_THIN cannot be resolved or is not a field) in poi 4.1.2","body":"<p>I have upgraded apache POI from 3.9 to 4.1.2 version. Getting error for XSSF font, styles, hyperlink, cell range address etc., Help me what are the changes required to do for upgrading to this version.</p>\n<p>Maven dependency added,</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","tomcat","jdbc","timeout"],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659372242,"creation_date":1659372242,"answer_id":73196986,"question_id":73113823,"body_markdown":"I think you are looking for [`Statement.setQueryTimeout`](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#setQueryTimeout-int-) which is a feature of JDBC, not of any specific application server, etc. You will want to call that method and set an appropriate timeout. Your queries will throw `SQLTimeoutException` if the timeout elapses and your application will have to decide what to do next.","title":"Timeout a long running SQL Server query in a java application running inside tomcat server","body":"<p>I think you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#setQueryTimeout-int-\" rel=\"nofollow noreferrer\"><code>Statement.setQueryTimeout</code></a> which is a feature of JDBC, not of any specific application server, etc. You will want to call that method and set an appropriate timeout. Your queries will throw <code>SQLTimeoutException</code> if the timeout elapses and your application will have to decide what to do next.</p>\n"}],"owner":{"account_id":5119808,"reputation":21,"user_id":4103778,"display_name":"Gourav "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659372242,"creation_date":1658773846,"question_id":73113823,"body_markdown":"I have a java web app that is running inside tomcat and the application has a page (JSP) where users clicks (some buttons on that web page) which results in hitting a query behind the page and reloads it with new information and sometimes that query takes longer than expected and I want to kill the query automatically if it runs longer than x minutes. How can I achieve that at tomcat side, is that even possible with any tomcat server configurations like timeout or anything, if so could someone please guide me or show an example configuration or setting change I can try? Thanks","title":"Timeout a long running SQL Server query in a java application running inside tomcat server","body":"<p>I have a java web app that is running inside tomcat and the application has a page (JSP) where users clicks (some buttons on that web page) which results in hitting a query behind the page and reloads it with new information and sometimes that query takes longer than expected and I want to kill the query automatically if it runs longer than x minutes. How can I achieve that at tomcat side, is that even possible with any tomcat server configurations like timeout or anything, if so could someone please guide me or show an example configuration or setting change I can try? Thanks</p>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"tags":[],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659372139,"creation_date":1659372139,"answer_id":73196967,"question_id":73196539,"body_markdown":"Ok so the actual issue ended up being a typo in the hibernate model... regardless this is how you&#39;d get flyway to run explicitly first:\r\n\r\n\r\n```\r\n@Configuration\r\npublic class EmptyMigrationStrategyConfig {\r\n\r\n    @Autowired\r\n    private ShutdownManager shutdownManager;\r\n\r\n    @Value(&quot;#{new Boolean(&#39;${app.migrations-only}&#39;)}&quot;)\r\n    boolean migrationsOnly;\r\n\r\n    @Bean\r\n    public FlywayMigrationStrategy flywayMigrationStrategy() {\r\n        return flyway -&gt; {\r\n            flyway.migrate();\r\n            if (migrationsOnly) {\r\n                shutdownManager.initiateShutdown(0);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class})\r\n@Configuration\r\n@EnableRetry\r\npublic class MainApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n    }\r\n}\r\n```","title":"Spring Boot - manually run flyway before anything else (failure to initialize entityManagerFactory)","body":"<p>Ok so the actual issue ended up being a typo in the hibernate model... regardless this is how you'd get flyway to run explicitly first:</p>\n<pre><code>@Configuration\npublic class EmptyMigrationStrategyConfig {\n\n    @Autowired\n    private ShutdownManager shutdownManager;\n\n    @Value(&quot;#{new Boolean('${app.migrations-only}')}&quot;)\n    boolean migrationsOnly;\n\n    @Bean\n    public FlywayMigrationStrategy flywayMigrationStrategy() {\n        return flyway -&gt; {\n            flyway.migrate();\n            if (migrationsOnly) {\n                shutdownManager.initiateShutdown(0);\n            }\n        };\n    }\n}\n\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class})\n@Configuration\n@EnableRetry\npublic class MainApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659372139,"creation_date":1659369780,"question_id":73196539,"body_markdown":"I&#39;m having issues with getting flyway to play well with hibernate. I used to have the standard flyway settings, and it would run first on app startup. Great, exactly what I wanted. \r\n\r\nHibernate settings has `spring.jpa.hibernate.ddl-auto=none`\r\n\r\nI then changed my main application to run flyway explicitly (because I want to conditionally run flyway in certain scenarios):\r\n\r\n```\r\n@Configuration\r\npublic class EmptyMigrationStrategyConfig {\r\n\r\n    @Bean\r\n    public FlywayMigrationStrategy flywayMigrationStrategy() {\r\n        return flyway -&gt; {\r\n            // do nothing\r\n        };\r\n    }\r\n}\r\n\r\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class})\r\n@Configuration\r\n@EnableRetry\r\npublic class MainApplication implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private Flyway flyway;\r\n    @Autowired\r\n    private ShutdownManager shutdownManager;\r\n\r\n    @Value(&quot;#{new Boolean(&#39;${app.migrations-only}&#39;)}&quot;)\r\n    boolean migrationsOnly;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        flyway.migrate();\r\n        if (migrationsOnly) {\r\n            shutdownManager.initiateShutdown(0);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut now if I create a new migration script and add a POJO for an entity, the app fails to boot because hibernate is failing since flyway is no longer running first.\r\n\r\n```\r\nError creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: &lt;entity&gt; at &lt;table&gt;\r\n```\r\n\r\nWhat do I need to define so things run in the proper order? ","title":"Spring Boot - manually run flyway before anything else (failure to initialize entityManagerFactory)","body":"<p>I'm having issues with getting flyway to play well with hibernate. I used to have the standard flyway settings, and it would run first on app startup. Great, exactly what I wanted.</p>\n<p>Hibernate settings has <code>spring.jpa.hibernate.ddl-auto=none</code></p>\n<p>I then changed my main application to run flyway explicitly (because I want to conditionally run flyway in certain scenarios):</p>\n<pre><code>@Configuration\npublic class EmptyMigrationStrategyConfig {\n\n    @Bean\n    public FlywayMigrationStrategy flywayMigrationStrategy() {\n        return flyway -&gt; {\n            // do nothing\n        };\n    }\n}\n\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class})\n@Configuration\n@EnableRetry\npublic class MainApplication implements CommandLineRunner {\n\n    @Autowired\n    private Flyway flyway;\n    @Autowired\n    private ShutdownManager shutdownManager;\n\n    @Value(&quot;#{new Boolean('${app.migrations-only}')}&quot;)\n    boolean migrationsOnly;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        flyway.migrate();\n        if (migrationsOnly) {\n            shutdownManager.initiateShutdown(0);\n        }\n    }\n}\n</code></pre>\n<p>But now if I create a new migration script and add a POJO for an entity, the app fails to boot because hibernate is failing since flyway is no longer running first.</p>\n<pre><code>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: &lt;entity&gt; at &lt;table&gt;\n</code></pre>\n<p>What do I need to define so things run in the proper order?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659370543,"post_id":73194891,"comment_id":129273423,"body_markdown":"`return identifier.replaceAll(&quot;\\\\p{Cc}&quot;, &quot;&quot;);` is all you need.  `Cc` is a [Unicode general category](http://unicode.org/reports/tr44/#General_Category_Values) and `\\\\p` is [how regular expressions refer to Unicode categories](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#ucc).","body":"<code>return identifier.replaceAll(&quot;\\\\p{Cc}&quot;, &quot;&quot;);</code> is all you need.  <code>Cc</code> is a <a href=\"http://unicode.org/reports/tr44/#General_Category_Values\" rel=\"nofollow noreferrer\">Unicode general category</a> and <code>\\\\p</code> is <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/regex/Pattern.html#ucc\" rel=\"nofollow noreferrer\">how regular expressions refer to Unicode categories</a>."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659363801,"creation_date":1659362610,"answer_id":73194927,"question_id":73194891,"body_markdown":"[String#replaceAll](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)) expects a String as parameter, _but_ it has to be a regular expression. Use [String#replace](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(char,char)) instead. \r\n\r\nEDIT: I haven&#39;t seen that you want to replace a character by some string. In that case, you can use this version of [String#replace](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)) but you need to convert the character to a String, e. g. by using [Character.toString](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(char)).\r\n\r\n**Update**\r\n\r\nExample:\r\n```\r\nString text = &quot;AB\\003DE&quot;;\r\ntext = text.replace(Character.toString(&#39;\\003&#39;), &quot;CTRL&quot;);\r\nSystem.out.println(text);\r\n// gives: ABCTRLDE\r\n```","title":"replacing all cases of ISO Control characters in a string with &quot;CTRL&quot;","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a> expects a String as parameter, <em>but</em> it has to be a regular expression. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(char,char)\" rel=\"nofollow noreferrer\">String#replace</a> instead.</p>\n<p>EDIT: I haven't seen that you want to replace a character by some string. In that case, you can use this version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a> but you need to convert the character to a String, e. g. by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(char)\" rel=\"nofollow noreferrer\">Character.toString</a>.</p>\n<p><strong>Update</strong></p>\n<p>Example:</p>\n<pre><code>String text = &quot;AB\\003DE&quot;;\ntext = text.replace(Character.toString('\\003'), &quot;CTRL&quot;);\nSystem.out.println(text);\n// gives: ABCTRLDE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659372118,"creation_date":1659370679,"answer_id":73196713,"question_id":73194891,"body_markdown":"# Code points, and *Control Picture* characters\r\n\r\nI can add two points:\r\n\r\n - The `char` type is essentially broken since Java 2, and legacy since Java 5. Best to use [code point][1] integers when working with individual characters.\r\n - Unicode defines characters for display as placeholders for control characters. See [*Control Pictures*][2] section of one Wikipedia page, and see another page, [*Control Pictures*][3].\r\n\r\nFor example, the NULL character at code point 0 decimal has a matching [SYMBOL FOR NULL][4] character at 9,216 decimal: `␀`. To see all the Control Picture characters, use [this PDF](https://www.unicode.org/charts/PDF/U2400.pdf) section of the Unicode standard specification. \r\n\r\nGet an array of the code point integers representing each of the characters in your string.\r\n\r\n    int[] codePoints = myString.codePoints().toArray() ; \r\n\r\nLoop those code points. Replace those of interest.\r\n\r\nHere is some untested code.\r\n\r\n```java\r\nint[] replacedCodePoints = new int[ codePoints.length ] ;\r\nint index = 0 ;\r\nfor ( int codePoint : codePoints )\r\n{\r\n    if( codePoint &gt;= 0 &amp;&amp; codePoint &lt;= 32 ) // 32 is SPACE, so you may want to use 31 depending on your context.\r\n    {\r\n        replacedCodePoints[ index ] = codePoint + 9_216 ;  // 9,216 is the offset to the beginning of the Control Picture character range defined in Unicode.\r\n    } else if ( codePoint == 127 )  // DEL character.\r\n    {\r\n        replacedCodePoints[ index ] = 9_249 ;\r\n    } else  // Any other character, we keep as-is, no replacement.\r\n    {\r\n        replacedCodePoints[ index ] = codePoint ;\r\n    }\r\n    i ++ ;  // Set up the next loop.\r\n}\r\n```\r\n\r\nConvert code points back into text. Use `StringBuilder#appendCodePoint` to build up the characters of text. You can use the following stream-based code as boilerplate. For explanation, see [this Question](https://stackoverflow.com/q/40962922/642706).\r\n\r\n````java\r\nString result = \r\n    Arrays\r\n        .stream( replacedCodePoints )\r\n        .collect( StringBuilder::new , StringBuilder::appendCodePoint , StringBuilder::append )\r\n        .toString();\r\n````\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://en.wikipedia.org/wiki/Unicode_control_characters#Control_pictures\r\n  [3]: https://en.wikipedia.org/wiki/Control_Pictures\r\n  [4]: https://unicodeplus.com/U+2400","title":"replacing all cases of ISO Control characters in a string with &quot;CTRL&quot;","body":"<h1>Code points, and <em>Control Picture</em> characters</h1>\n<p>I can add two points:</p>\n<ul>\n<li>The <code>char</code> type is essentially broken since Java 2, and legacy since Java 5. Best to use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integers when working with individual characters.</li>\n<li>Unicode defines characters for display as placeholders for control characters. See <a href=\"https://en.wikipedia.org/wiki/Unicode_control_characters#Control_pictures\" rel=\"nofollow noreferrer\"><em>Control Pictures</em></a> section of one Wikipedia page, and see another page, <a href=\"https://en.wikipedia.org/wiki/Control_Pictures\" rel=\"nofollow noreferrer\"><em>Control Pictures</em></a>.</li>\n</ul>\n<p>For example, the NULL character at code point 0 decimal has a matching <a href=\"https://unicodeplus.com/U+2400\" rel=\"nofollow noreferrer\">SYMBOL FOR NULL</a> character at 9,216 decimal: <code>␀</code>. To see all the Control Picture characters, use <a href=\"https://www.unicode.org/charts/PDF/U2400.pdf\" rel=\"nofollow noreferrer\">this PDF</a> section of the Unicode standard specification.</p>\n<p>Get an array of the code point integers representing each of the characters in your string.</p>\n<pre><code>int[] codePoints = myString.codePoints().toArray() ; \n</code></pre>\n<p>Loop those code points. Replace those of interest.</p>\n<p>Here is some untested code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] replacedCodePoints = new int[ codePoints.length ] ;\nint index = 0 ;\nfor ( int codePoint : codePoints )\n{\n    if( codePoint &gt;= 0 &amp;&amp; codePoint &lt;= 32 ) // 32 is SPACE, so you may want to use 31 depending on your context.\n    {\n        replacedCodePoints[ index ] = codePoint + 9_216 ;  // 9,216 is the offset to the beginning of the Control Picture character range defined in Unicode.\n    } else if ( codePoint == 127 )  // DEL character.\n    {\n        replacedCodePoints[ index ] = 9_249 ;\n    } else  // Any other character, we keep as-is, no replacement.\n    {\n        replacedCodePoints[ index ] = codePoint ;\n    }\n    i ++ ;  // Set up the next loop.\n}\n</code></pre>\n<p>Convert code points back into text. Use <code>StringBuilder#appendCodePoint</code> to build up the characters of text. You can use the following stream-based code as boilerplate. For explanation, see <a href=\"https://stackoverflow.com/q/40962922/642706\">this Question</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = \n    Arrays\n        .stream( replacedCodePoints )\n        .collect( StringBuilder::new , StringBuilder::appendCodePoint , StringBuilder::append )\n        .toString();\n</code></pre>\n"}],"owner":{"account_id":22610163,"reputation":23,"user_id":16790478,"display_name":"user16790478"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1659372118,"creation_date":1659362427,"question_id":73194891,"body_markdown":"     static String clean(String identifier) {\r\n        String firstString = &quot;&quot;;\r\n        for (int i = 0; i &lt; identifier.length(); i++)\r\n            if (Character.isISOControl(identifier.charAt(i))){\r\n                firstString = identifier.replaceAll(identifier.charAt(i), \r\n                              &quot;CTRL&quot;);\r\n             }\r\n                \r\n            return firstString;\r\n    }\r\n\r\nThe logic behind the code above is to replace all instances of ISO Control characters in the string &#39;identifier&#39; with &quot;CTRL&quot;. I&#39;m however faced with this error: &quot;char cannot be converted to java.lang.String&quot;\r\n\r\nCan someone help me to solve and improve my code to produce the right output?","title":"replacing all cases of ISO Control characters in a string with &quot;CTRL&quot;","body":"<pre><code> static String clean(String identifier) {\n    String firstString = &quot;&quot;;\n    for (int i = 0; i &lt; identifier.length(); i++)\n        if (Character.isISOControl(identifier.charAt(i))){\n            firstString = identifier.replaceAll(identifier.charAt(i), \n                          &quot;CTRL&quot;);\n         }\n            \n        return firstString;\n}\n</code></pre>\n<p>The logic behind the code above is to replace all instances of ISO Control characters in the string 'identifier' with &quot;CTRL&quot;. I'm however faced with this error: &quot;char cannot be converted to java.lang.String&quot;</p>\n<p>Can someone help me to solve and improve my code to produce the right output?</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659361509,"creation_date":1659361509,"answer_id":73194691,"question_id":73185395,"body_markdown":"You could add a `.filter()` at the beginning of each flow.\r\n\r\nOr, instead of `.recipientFlow`, use this\r\n\r\n```java\r\n/**\r\n * Adds a recipient channel that will be selected if the the expression evaluates to &#39;true&#39;.\r\n * @param channelName the channel name.\r\n * @param expression the expression.\r\n * @return the router spec.\r\n */\r\npublic RecipientListRouterSpec recipient(String channelName, Expression expression) {\r\n\tExpressionEvaluatingSelector selector = new ExpressionEvaluatingSelector(expression);\r\n\tthis.handler.addRecipient(channelName, selector);\r\n\tthis.componentsToRegister.put(selector, null);\r\n\treturn _this();\r\n}\r\n```\r\n\r\nWith the expression being a selector to determine whether or not that recipient will receive the message.\r\n\r\nYou would then start each sub flow with a named channel.\r\n","title":"How do I apply conditional routing in spring integration?","body":"<p>You could add a <code>.filter()</code> at the beginning of each flow.</p>\n<p>Or, instead of <code>.recipientFlow</code>, use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Adds a recipient channel that will be selected if the the expression evaluates to 'true'.\n * @param channelName the channel name.\n * @param expression the expression.\n * @return the router spec.\n */\npublic RecipientListRouterSpec recipient(String channelName, Expression expression) {\n    ExpressionEvaluatingSelector selector = new ExpressionEvaluatingSelector(expression);\n    this.handler.addRecipient(channelName, selector);\n    this.componentsToRegister.put(selector, null);\n    return _this();\n}\n</code></pre>\n<p>With the expression being a selector to determine whether or not that recipient will receive the message.</p>\n<p>You would then start each sub flow with a named channel.</p>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659371752,"creation_date":1659371752,"answer_id":73196901,"question_id":73185395,"body_markdown":"There is this recipient variant for the scatterrer:\r\n\r\n\t/**\r\n\t * Adds a subflow that will be invoked if the expression evaluates to &#39;true&#39;.\r\n\t * @param expression the expression.\r\n\t * @param subFlow the subflow.\r\n\t * @return the router spec.\r\n\t */\r\n\tpublic RecipientListRouterSpec recipientFlow(String expression, IntegrationFlow subFlow) {\r\n\r\nSuch a SpEL expression must return `boolean` and it is performed against the whole message. For your convenience the framework provides a `#jsonPath()` SpEL-function to evaluate your `someRequestBlock` attribute against the `payload`:\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/spel.html#built-in-spel-functions\r\n\r\n    .recipientFlow(&quot;#jsonPath(payload, &#39;$..someRequestBlock.length()&#39;) &gt; 1&quot;, flow2())\r\n\r\nCan you explain us how do you miss that option, so we may improve something in the code or docs?","title":"How do I apply conditional routing in spring integration?","body":"<p>There is this recipient variant for the scatterrer:</p>\n<pre><code>/**\n * Adds a subflow that will be invoked if the expression evaluates to 'true'.\n * @param expression the expression.\n * @param subFlow the subflow.\n * @return the router spec.\n */\npublic RecipientListRouterSpec recipientFlow(String expression, IntegrationFlow subFlow) {\n</code></pre>\n<p>Such a SpEL expression must return <code>boolean</code> and it is performed against the whole message. For your convenience the framework provides a <code>#jsonPath()</code> SpEL-function to evaluate your <code>someRequestBlock</code> attribute against the <code>payload</code>:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/spel.html#built-in-spel-functions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/spel.html#built-in-spel-functions</a></p>\n<pre><code>.recipientFlow(&quot;#jsonPath(payload, '$..someRequestBlock.length()') &gt; 1&quot;, flow2())\n</code></pre>\n<p>Can you explain us how do you miss that option, so we may improve something in the code or docs?</p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659371752,"creation_date":1659287625,"question_id":73185395,"body_markdown":"Here in my project I&#39;m using scatter gather pattern where 3 parallel calls are happening. I want to achieve conditional routing i.e., from my gateway the request will come and I need to see that request and by determining the request I need to make sure the flow doesn&#39;t go to a particular recipient flow. Actually I&#39;ve configured my flow to be generic so that gateway accepts a request and trigger the same flow for different requests because for all the requests flow is similar. Now for a request if a particular information is not present inside that request json then I don&#39;t want to call a particular recipient flow. Below is the code - \r\n\r\n//SpringIntegrationConfiguration\r\n\r\n     @Bean\r\n      public IntegrationFlow flow() {\r\n        return flow -&gt;\r\n            flow.handle(validatorService, &quot;validateRequest&quot;)\r\n                .split()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2())\r\n                            .recipientFlow(flow3()),\r\n                    gatherer -&gt;\r\n                        gatherer\r\n                            .releaseLockBeforeSend(true)\r\n                            .releaseStrategy(group -&gt; group.size() == 2))\r\n                .aggregate(lionService.someMethod())\r\n                .to(someMethod2());\r\n      }\r\n    \r\n      //   flow1\r\n      @Bean\r\n      public IntegrationFlow flow1() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    (payload, header) -&gt; {\r\n                      try {\r\n                        return lionService.saveRequest(\r\n                            payload,\r\n                            (String) header.get(&quot;dbID&quot;),\r\n                            ((SourceSystem) Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))\r\n                                .getSourceSystemCode());\r\n                      } catch (JsonProcessingException e) {\r\n                        throw new RuntimeException(e);\r\n                      }\r\n                    })\r\n                .nullChannel();\r\n      }\r\n    \r\n      //  flow2\r\n      @Bean\r\n      public IntegrationFlow flow2() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(cdService, &quot;callToaNativeMethod&quot;);\r\n      }\r\n    \r\n      // flow3\r\n      @Bean\r\n      public IntegrationFlow flow3() {\r\n        return integrationFlowDefinition -&gt;\r\n            integrationFlowDefinition\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(lionService, &quot;prepareRequest&quot;)\r\n                .handle(\r\n                    Http.outboundGateway(ServiceURL, restTemplateConfig.restTemplate())\r\n                        .mappedRequestHeaders(&quot;Content-Type&quot;)\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class),\r\n                    c -&gt; c.advice(expressionAdvice()));\r\n      }\r\n    \r\n      @Bean\r\n      public Advice expressionAdvice() {\r\n        ExpressionEvaluatingRequestHandlerAdvice advice =\r\n            new ExpressionEvaluatingRequestHandlerAdvice();\r\n        advice.setSuccessChannelName(&quot;success.input&quot;);\r\n        advice.setOnSuccessExpressionString(&quot;payload + &#39; was successful&#39;&quot;);\r\n        advice.setFailureChannelName(&quot;failure.input&quot;);\r\n        advice.setOnFailureExpressionString(&quot;&#39;Failed&#39;&quot;);\r\n        advice.setReturnFailureExpressionResult(true);\r\n        advice.setTrapException(true);\r\n        return advice;\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow success() {\r\n        return f -&gt; f.handle(System.out::println);\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow failure() {\r\n        return f -&gt; f.handle(System.out::println);\r\n      }\r\n      // flow for someMethod2\r\n      @Bean\r\n      public IntegrationFlow someMethod2() {\r\n        return flow -&gt;\r\n            flow.handle(\r\n                Http.outboundGateway(someServiceUrl)\r\n                    .httpMethod(HttpMethod.POST)\r\n                    .expectedResponseType(CrResponse.class));\r\n      }\r\n    }\r\n\r\n//Gateway\r\n\r\n    @MessagingGateway\r\n    public interface GenericGateway {\r\n    \r\n      @Gateway(requestChannel = &quot;flow.input&quot;)\r\n      void processRequest(\r\n          @Payload Message lionRequest,\r\n          @Header(&quot;dbID&quot;) String dbID,\r\n          @Header(&quot;sourceSystem&quot;) SourceSystem sourceSystem);\r\n    }\r\n\r\nThe Payload Message lionRequest is going through gateway and invoking the main flow. \r\n\r\nLet&#39;s imagine LionRequest looks like - \r\n\r\n    {\r\n         &quot;SCode&quot; : &quot;039&quot;,\r\n         &quot;CId&quot;:&quot;123456&quot;,\r\n         &quot;RequestNumber&quot;: &quot;56543457&quot;,\r\n         &quot;dbID&quot;:&quot;987654345678&quot;,\r\n         &quot;someRequestBlock&quot;:{\r\n             &quot;message&quot;:&quot;Dummy input for dummy service&quot;\r\n         }\r\n    \r\n    }\r\nNow \r\n1. if `&quot;someRequestBlock&quot;` is not present inside request body then I want `flow2()` to be skipped and `flow1()` and `flow3()` to be run parallelly. \r\n\r\n2. Same for the CatRequest, the request body will be different and I need to make sure that for CatRequest `flow1()` to be skipped and `flow2()` and `flow3()` to be ran parallelly.\r\n\r\nKindly suggest how do I achieve that?\r\n","title":"How do I apply conditional routing in spring integration?","body":"<p>Here in my project I'm using scatter gather pattern where 3 parallel calls are happening. I want to achieve conditional routing i.e., from my gateway the request will come and I need to see that request and by determining the request I need to make sure the flow doesn't go to a particular recipient flow. Actually I've configured my flow to be generic so that gateway accepts a request and trigger the same flow for different requests because for all the requests flow is similar. Now for a request if a particular information is not present inside that request json then I don't want to call a particular recipient flow. Below is the code -</p>\n<p>//SpringIntegrationConfiguration</p>\n<pre><code> @Bean\n  public IntegrationFlow flow() {\n    return flow -&gt;\n        flow.handle(validatorService, &quot;validateRequest&quot;)\n            .split()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2())\n                        .recipientFlow(flow3()),\n                gatherer -&gt;\n                    gatherer\n                        .releaseLockBeforeSend(true)\n                        .releaseStrategy(group -&gt; group.size() == 2))\n            .aggregate(lionService.someMethod())\n            .to(someMethod2());\n  }\n\n  //   flow1\n  @Bean\n  public IntegrationFlow flow1() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                (payload, header) -&gt; {\n                  try {\n                    return lionService.saveRequest(\n                        payload,\n                        (String) header.get(&quot;dbID&quot;),\n                        ((SourceSystem) Objects.requireNonNull(header.get(&quot;sourceSystem&quot;)))\n                            .getSourceSystemCode());\n                  } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                  }\n                })\n            .nullChannel();\n  }\n\n  //  flow2\n  @Bean\n  public IntegrationFlow flow2() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(cdService, &quot;callToaNativeMethod&quot;);\n  }\n\n  // flow3\n  @Bean\n  public IntegrationFlow flow3() {\n    return integrationFlowDefinition -&gt;\n        integrationFlowDefinition\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(lionService, &quot;prepareRequest&quot;)\n            .handle(\n                Http.outboundGateway(ServiceURL, restTemplateConfig.restTemplate())\n                    .mappedRequestHeaders(&quot;Content-Type&quot;)\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class),\n                c -&gt; c.advice(expressionAdvice()));\n  }\n\n  @Bean\n  public Advice expressionAdvice() {\n    ExpressionEvaluatingRequestHandlerAdvice advice =\n        new ExpressionEvaluatingRequestHandlerAdvice();\n    advice.setSuccessChannelName(&quot;success.input&quot;);\n    advice.setOnSuccessExpressionString(&quot;payload + ' was successful'&quot;);\n    advice.setFailureChannelName(&quot;failure.input&quot;);\n    advice.setOnFailureExpressionString(&quot;'Failed'&quot;);\n    advice.setReturnFailureExpressionResult(true);\n    advice.setTrapException(true);\n    return advice;\n  }\n\n  @Bean\n  public IntegrationFlow success() {\n    return f -&gt; f.handle(System.out::println);\n  }\n\n  @Bean\n  public IntegrationFlow failure() {\n    return f -&gt; f.handle(System.out::println);\n  }\n  // flow for someMethod2\n  @Bean\n  public IntegrationFlow someMethod2() {\n    return flow -&gt;\n        flow.handle(\n            Http.outboundGateway(someServiceUrl)\n                .httpMethod(HttpMethod.POST)\n                .expectedResponseType(CrResponse.class));\n  }\n}\n</code></pre>\n<p>//Gateway</p>\n<pre><code>@MessagingGateway\npublic interface GenericGateway {\n\n  @Gateway(requestChannel = &quot;flow.input&quot;)\n  void processRequest(\n      @Payload Message lionRequest,\n      @Header(&quot;dbID&quot;) String dbID,\n      @Header(&quot;sourceSystem&quot;) SourceSystem sourceSystem);\n}\n</code></pre>\n<p>The Payload Message lionRequest is going through gateway and invoking the main flow.</p>\n<p>Let's imagine LionRequest looks like -</p>\n<pre><code>{\n     &quot;SCode&quot; : &quot;039&quot;,\n     &quot;CId&quot;:&quot;123456&quot;,\n     &quot;RequestNumber&quot;: &quot;56543457&quot;,\n     &quot;dbID&quot;:&quot;987654345678&quot;,\n     &quot;someRequestBlock&quot;:{\n         &quot;message&quot;:&quot;Dummy input for dummy service&quot;\n     }\n\n}\n</code></pre>\n<p>Now</p>\n<ol>\n<li><p>if <code>&quot;someRequestBlock&quot;</code> is not present inside request body then I want <code>flow2()</code> to be skipped and <code>flow1()</code> and <code>flow3()</code> to be run parallelly.</p>\n</li>\n<li><p>Same for the CatRequest, the request body will be different and I need to make sure that for CatRequest <code>flow1()</code> to be skipped and <code>flow2()</code> and <code>flow3()</code> to be ran parallelly.</p>\n</li>\n</ol>\n<p>Kindly suggest how do I achieve that?</p>\n"},{"tags":["java","graph","label","jgrapht","jgraphx"],"answers":[{"tags":[],"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659371571,"creation_date":1659266298,"answer_id":73182845,"question_id":71984834,"body_markdown":"`graphAdapter.getEdgeToCellMap().forEach((edge, cell) -&gt; cell.setValue(null));`\r\n\r\nEdit: there is not much to comment there... &quot;cells&quot; in JGraphX terminology are objects representing visuals of both edges and vertices. So, if you want to change how one specific element is drawn, you should first find its cell through edge-&gt;cell or vertex-&gt;cell map.\r\n\r\nCell&#39;s &quot;value&quot; is its reference to a represented object. Strings that you see on vertices and edges after JGraphX renders everything are basically `cell.value == null ? &quot;&quot; : cell.value.toString()` (might look a bit different in the source code).","title":"How to turn off the edge labels in JGraphX?","body":"<p><code>graphAdapter.getEdgeToCellMap().forEach((edge, cell) -&gt; cell.setValue(null));</code></p>\n<p>Edit: there is not much to comment there... &quot;cells&quot; in JGraphX terminology are objects representing visuals of both edges and vertices. So, if you want to change how one specific element is drawn, you should first find its cell through edge-&gt;cell or vertex-&gt;cell map.</p>\n<p>Cell's &quot;value&quot; is its reference to a represented object. Strings that you see on vertices and edges after JGraphX renders everything are basically <code>cell.value == null ? &quot;&quot; : cell.value.toString()</code> (might look a bit different in the source code).</p>\n"}],"owner":{"account_id":24914554,"reputation":11,"user_id":18783669,"display_name":"Hafthor94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659371571,"creation_date":1650763816,"question_id":71984834,"body_markdown":"I am trying to create a JGraphXAdapter which receives a directed graph as a constructor argument and applied a mxHierarchicalLayout to it. Then, I use mxCellRenderer to create a BufferedImage and write the visualization to a png file.\r\n\r\nThe problem is that I do not want the edge labels to be visible. I tried (incorrectly) using this command, but it turns off all the labels. \r\n\r\n```\r\nJGraphXAdapter&lt;String, DefaultEdge&gt; graphAdapter = new JGraphXAdapter&lt;&gt;(directedGraph);\r\ngraphAdapter.setLabelsVisible(false);\r\n```\r\n\r\nIs there any way to just turn off the edge labels, but not the vertex labels? Thanks","title":"How to turn off the edge labels in JGraphX?","body":"<p>I am trying to create a JGraphXAdapter which receives a directed graph as a constructor argument and applied a mxHierarchicalLayout to it. Then, I use mxCellRenderer to create a BufferedImage and write the visualization to a png file.</p>\n<p>The problem is that I do not want the edge labels to be visible. I tried (incorrectly) using this command, but it turns off all the labels.</p>\n<pre><code>JGraphXAdapter&lt;String, DefaultEdge&gt; graphAdapter = new JGraphXAdapter&lt;&gt;(directedGraph);\ngraphAdapter.setLabelsVisible(false);\n</code></pre>\n<p>Is there any way to just turn off the edge labels, but not the vertex labels? Thanks</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1659366098,"post_id":73195595,"comment_id":129271719,"body_markdown":"if you change the localhost","body":"if you change the localhost"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1659366519,"post_id":73195595,"comment_id":129271898,"body_markdown":"Have you published `5672` from your container?","body":"Have you published <code>5672</code> from your container?"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1659366622,"post_id":73195595,"comment_id":129271927,"body_markdown":"@MichałKrzywański How I do that? First time using docker","body":"@MichałKrzywański How I do that? First time using docker"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1659366692,"post_id":73195595,"comment_id":129271946,"body_markdown":"@AlejandroGonzalez what do you mean?","body":"@AlejandroGonzalez what do you mean?"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1659367706,"post_id":73195595,"comment_id":129272362,"body_markdown":"I mean that you should change the localhost by the machine address","body":"I mean that you should change the localhost by the machine address"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1659367990,"post_id":73195595,"comment_id":129272480,"body_markdown":"@AlejandroGonzalez you mean the MAC address&#191;?","body":"@AlejandroGonzalez you mean the MAC address&#191;?"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1659369132,"post_id":73195595,"comment_id":129272958,"body_markdown":"the ip address in the machine","body":"the ip address in the machine"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1659370091,"post_id":73195595,"comment_id":129273291,"body_markdown":"@AlejandroGonzalez no, it still doesn&#39;t connect","body":"@AlejandroGonzalez no, it still doesn&#39;t connect"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1659370788,"post_id":73195595,"comment_id":129273486,"body_markdown":"You need to show your docker config.","body":"You need to show your docker config."}],"answers":[{"tags":[],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659371543,"creation_date":1659371543,"answer_id":73196868,"question_id":73195595,"body_markdown":"It connected. All I have to do was to configure both ports before running the image in docker. It seems that running it by default never started the default ports, so once I set them manually it run.\r\n\r\n","title":"RabbitMq connection refused: connect","body":"<p>It connected. All I have to do was to configure both ports before running the image in docker. It seems that running it by default never started the default ports, so once I set them manually it run.</p>\n"}],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659371543,"creation_date":1659365535,"question_id":73195595,"body_markdown":"I&#39;m dealing with a connection issue in rabbitmq. I&#39;ve load an image of it in docker who&#39;s running as you can see here:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KusSb.png\r\n\r\nThen in Spring I&#39;ve create this config class to create a binding and register a queue:\r\n\r\n    @Configuration\r\n    public class MQConfig {\r\n    \r\n        @Value(&quot;${people.queue}&quot;)\r\n        public String queue;\r\n    \r\n        @Value(&quot;${people.exchange}&quot;)\r\n        public String exchange;\r\n    \r\n        @Value(&quot;${people.routingkey}&quot;)\r\n        public List&lt;String&gt; routingKeys;\r\n    \r\n        @Bean\r\n        public Queue queue() {\r\n            return new Queue(queue, true, false, false);\r\n        }\r\n    \r\n        @Bean\r\n        Exchange myExchange() {\r\n            return ExchangeBuilder.topicExchange(exchange).durable(true).build();\r\n        }\r\n    \r\n        @Bean\r\n        Declarables bindings(TopicExchange exchange, Queue queue) {\r\n            return new Declarables(routingKeys.stream()\r\n                    .map(key -&gt; BindingBuilder\r\n                            .bind(queue)\r\n                            .to(exchange)\r\n                            .with(key))\r\n                    .collect(Collectors.toList()));\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter jsonMessageConverter() {\r\n            return new Jackson2JsonMessageConverter();\r\n        }\r\n        @Bean\r\n        public ConnectionFactory connectionFactory() throws IOException {\r\n            CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n            connectionFactory.setPort(5672);\r\n            connectionFactory.setHost(&quot;localhost&quot;);\r\n            connectionFactory.setUsername(&quot;guest&quot;);\r\n            connectionFactory.setPassword(&quot;guest&quot;);\r\n            connectionFactory.setVirtualHost(&quot;/&quot;);\r\n            //connectionFactory.setPublisherReturns(true);\r\n    \r\n            return connectionFactory;\r\n        }\r\n    }\r\n\r\nAfter running the app I get the following message in the terminal:\r\n\r\n    2022-08-01 16:35:27.083  INFO 27852 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    2022-08-01 16:35:31.172  INFO 27852 --- [  restartedMain] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect\r\n\r\nI don&#39;t know where I am failing to connect, please some help?\r\n\r\nThanks!\r\n","title":"RabbitMq connection refused: connect","body":"<p>I'm dealing with a connection issue in rabbitmq. I've load an image of it in docker who's running as you can see here:\n<a href=\"https://i.stack.imgur.com/KusSb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KusSb.png\" alt=\"enter image description here\" /></a></p>\n<p>Then in Spring I've create this config class to create a binding and register a queue:</p>\n<pre><code>@Configuration\npublic class MQConfig {\n\n    @Value(&quot;${people.queue}&quot;)\n    public String queue;\n\n    @Value(&quot;${people.exchange}&quot;)\n    public String exchange;\n\n    @Value(&quot;${people.routingkey}&quot;)\n    public List&lt;String&gt; routingKeys;\n\n    @Bean\n    public Queue queue() {\n        return new Queue(queue, true, false, false);\n    }\n\n    @Bean\n    Exchange myExchange() {\n        return ExchangeBuilder.topicExchange(exchange).durable(true).build();\n    }\n\n    @Bean\n    Declarables bindings(TopicExchange exchange, Queue queue) {\n        return new Declarables(routingKeys.stream()\n                .map(key -&gt; BindingBuilder\n                        .bind(queue)\n                        .to(exchange)\n                        .with(key))\n                .collect(Collectors.toList()));\n    }\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n    @Bean\n    public ConnectionFactory connectionFactory() throws IOException {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n        connectionFactory.setPort(5672);\n        connectionFactory.setHost(&quot;localhost&quot;);\n        connectionFactory.setUsername(&quot;guest&quot;);\n        connectionFactory.setPassword(&quot;guest&quot;);\n        connectionFactory.setVirtualHost(&quot;/&quot;);\n        //connectionFactory.setPublisherReturns(true);\n\n        return connectionFactory;\n    }\n}\n</code></pre>\n<p>After running the app I get the following message in the terminal:</p>\n<pre><code>2022-08-01 16:35:27.083  INFO 27852 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2022-08-01 16:35:31.172  INFO 27852 --- [  restartedMain] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect\n</code></pre>\n<p>I don't know where I am failing to connect, please some help?</p>\n<p>Thanks!</p>\n"},{"tags":["java","java-stream","groupingby"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659371385,"creation_date":1659370099,"answer_id":73196608,"question_id":73195931,"body_markdown":"\r\n\r\n&gt; Is there any better way with `Collectors.groupingBy()`?\r\n\r\nYou need the flavor of [`groupingBy(classifier,mapFactory,downstream)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)) which allows to specify a `mapFactory`.\r\n\r\nAs a *downstream collector*, we need to apply combination of `collectingAndThen()` and `counting()` because the resulting type produced by `counting()` is `Long` and we need to turn it into `Integer`.\r\n```\r\nMap&lt;String, Integer&gt; fooNameByCount = fooList.stream()\r\n    .sorted(Comparator.comparing(Foo::getNumber))\r\n    .collect(Collectors.groupingBy(\r\n        Foo::getName,\r\n        LinkedHashMap::new,\r\n        Collectors.collectingAndThen(Collectors.counting(),\r\n            Long::intValue)\r\n    ));\r\n```\r\n\r\nWe can achieve the same result by using a single collector with the following version of [`toMap(keyMapper,valueMapper,mergeFunction,mapFactory)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)):\r\n\r\n```\r\nMap&lt;String, Integer&gt; fooNameByCount = fooList.stream()\r\n    .sorted(Comparator.comparing(Foo::getNumber))\r\n    .collect(Collectors.toMap(\r\n        Foo::getName,\r\n        foo -&gt; 1,\r\n        Integer::sum,\r\n        LinkedHashMap::new\r\n    ));\r\n```\r\n\r\n**Also note** that using *collector* is always a preferred way to accumulate the result.\r\n\r\nUsage of `forEach()` such cases when you generate the result by the means of `collect()`, `reduce()`, etc. is [*discouraged by the API documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects)","title":"Java Streams API - Impose Ordering while collecting with groupingBy()","body":"<blockquote>\n<p>Is there any better way with <code>Collectors.groupingBy()</code>?</p>\n</blockquote>\n<p>You need the flavor of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.function.Supplier,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy(classifier,mapFactory,downstream)</code></a> which allows to specify a <code>mapFactory</code>.</p>\n<p>As a <em>downstream collector</em>, we need to apply combination of <code>collectingAndThen()</code> and <code>counting()</code> because the resulting type produced by <code>counting()</code> is <code>Long</code> and we need to turn it into <code>Integer</code>.</p>\n<pre><code>Map&lt;String, Integer&gt; fooNameByCount = fooList.stream()\n    .sorted(Comparator.comparing(Foo::getNumber))\n    .collect(Collectors.groupingBy(\n        Foo::getName,\n        LinkedHashMap::new,\n        Collectors.collectingAndThen(Collectors.counting(),\n            Long::intValue)\n    ));\n</code></pre>\n<p>We can achieve the same result by using a single collector with the following version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>toMap(keyMapper,valueMapper,mergeFunction,mapFactory)</code></a>:</p>\n<pre><code>Map&lt;String, Integer&gt; fooNameByCount = fooList.stream()\n    .sorted(Comparator.comparing(Foo::getNumber))\n    .collect(Collectors.toMap(\n        Foo::getName,\n        foo -&gt; 1,\n        Integer::sum,\n        LinkedHashMap::new\n    ));\n</code></pre>\n<p><strong>Also note</strong> that using <em>collector</em> is always a preferred way to accumulate the result.</p>\n<p>Usage of <code>forEach()</code> such cases when you generate the result by the means of <code>collect()</code>, <code>reduce()</code>, etc. is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>discouraged by the API documentation</em></a></p>\n"}],"owner":{"account_id":20559259,"reputation":89,"user_id":15090115,"display_name":"A_X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73196608,"answer_count":1,"score":1,"last_activity_date":1659371538,"creation_date":1659366959,"question_id":73195931,"body_markdown":"I am trying to group the following list of `Foo` objects by `getName()` and count occurrences while ordering by `getNumber()` in ascending order.\r\n\r\n*Input:*\r\n\r\n```\r\nList&lt;Foo&gt; fooList = List.of(\r\n    new Foo(&quot;Alpha&quot;, 1.1f),\r\n    new Foo(&quot;Delta&quot;, 1.2f),\r\n    new Foo(&quot;Charlie&quot;, 3.1f),\r\n    new Foo(&quot;Alpha&quot;, 2.1f),\r\n    new Foo(&quot;Charlie&quot;, 4.1f),\r\n    new Foo(&quot;Delta&quot;, 2.2f)\r\n);\r\n```\r\n\r\nMap Output:\r\n```\r\n{Alpha=2, Delta=2, Charlie=2}\r\n```\r\n\r\nMy current solution is as follows:\r\n```\r\nMap&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\nfooList\r\n    .stream()\r\n    .sorted(Comparator.comparingDouble(Foo::getNumber))\r\n    .forEach(foo -&gt; {\r\n        int val = map.getOrDefault(foo.getName(), 0);\r\n        map.put(foo.getName(), val + 1); \r\n    });\r\n```\r\n\r\nIs there any better way with `Collectors.groupingBy()`?\r\n","title":"Java Streams API - Impose Ordering while collecting with groupingBy()","body":"<p>I am trying to group the following list of <code>Foo</code> objects by <code>getName()</code> and count occurrences while ordering by <code>getNumber()</code> in ascending order.</p>\n<p><em>Input:</em></p>\n<pre><code>List&lt;Foo&gt; fooList = List.of(\n    new Foo(&quot;Alpha&quot;, 1.1f),\n    new Foo(&quot;Delta&quot;, 1.2f),\n    new Foo(&quot;Charlie&quot;, 3.1f),\n    new Foo(&quot;Alpha&quot;, 2.1f),\n    new Foo(&quot;Charlie&quot;, 4.1f),\n    new Foo(&quot;Delta&quot;, 2.2f)\n);\n</code></pre>\n<p>Map Output:</p>\n<pre><code>{Alpha=2, Delta=2, Charlie=2}\n</code></pre>\n<p>My current solution is as follows:</p>\n<pre><code>Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\nfooList\n    .stream()\n    .sorted(Comparator.comparingDouble(Foo::getNumber))\n    .forEach(foo -&gt; {\n        int val = map.getOrDefault(foo.getName(), 0);\n        map.put(foo.getName(), val + 1); \n    });\n</code></pre>\n<p>Is there any better way with <code>Collectors.groupingBy()</code>?</p>\n"},{"tags":["java","android","android-studio","readfile"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659372226,"post_id":73196771,"comment_id":129273912,"body_markdown":"You put files in assets and use them at run time. Ok. Normal. But what does that have to do with the user placing files on storage and your app reading them?","body":"You put files in assets and use them at run time. Ok. Normal. But what does that have to do with the user placing files on storage and your app reading them?"},{"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"score":0,"creation_date":1659372831,"post_id":73196771,"comment_id":129274106,"body_markdown":"I dont want to have the files in the assets, because i want the user to have access to those files (write, edit, delete etc.), which is not possible if they are in assets (correct?).","body":"I dont want to have the files in the assets, because i want the user to have access to those files (write, edit, delete etc.), which is not possible if they are in assets (correct?)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659376619,"post_id":73196771,"comment_id":129275286,"body_markdown":"Indeed. But normally you would copy those files from assets to storage if the user had to edit them. And i wonder where the user would get those files from if your app did not bring them in assets. I&#39;m puzzled what you want.","body":"Indeed. But normally you would copy those files from assets to storage if the user had to edit them. And i wonder where the user would get those files from if your app did not bring them in assets. I&#39;m puzzled what you want."},{"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"score":0,"creation_date":1659376845,"post_id":73196771,"comment_id":129275352,"body_markdown":"I dont want to give the user any files, he needs to put some files somewhere, which are then interpreted by the app. So for example, he can put a background.jpg in the specified folder, which is then used by the app as a background picture in a specific activity. Also he can put .txt-files, which are used to fill certain Textviews.","body":"I dont want to give the user any files, he needs to put some files somewhere, which are then interpreted by the app. So for example, he can put a background.jpg in the specified folder, which is then used by the app as a background picture in a specific activity. Also he can put .txt-files, which are used to fill certain Textviews."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659377078,"post_id":73196771,"comment_id":129275419,"body_markdown":"How does a user put a file in a folder? This is already a user action! Why dont you just let the user select a file with ACTION_OPEN_DOCUMENT?","body":"How does a user put a file in a folder? This is already a user action! Why dont you just let the user select a file with ACTION_OPEN_DOCUMENT?"},{"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"score":0,"creation_date":1659377135,"post_id":73196771,"comment_id":129275439,"body_markdown":"Please see my edit, in the above statement. I misclicked.\n\nAlso thanks for trying to help me.","body":"Please see my edit, in the above statement. I misclicked.  Also thanks for trying to help me."},{"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"score":0,"creation_date":1659377215,"post_id":73196771,"comment_id":129275467,"body_markdown":"Not via the app, just regular filesystemstuff.","body":"Not via the app, just regular filesystemstuff."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1659377342,"post_id":73196771,"comment_id":129275498,"body_markdown":"Could you be more specific? And if a user can place a file in a folder you still need further user inter action as with ACTION_OPEN_DOCUMENT.","body":"Could you be more specific? And if a user can place a file in a folder you still need further user inter action as with ACTION_OPEN_DOCUMENT."},{"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"score":0,"creation_date":1659377543,"post_id":73196771,"comment_id":129275562,"body_markdown":"Ok maybe i have to explain a little more to make it clear.\n\nThere will actually be two users. One user (lets call him admin) can edit the contents that the app is showing via certain files. This is done before the app is started or anything. Then he starts the app (which is kind of a game) an then gives it to the second user (lets call him player). So the player should not be able to interact with the stuff thats going on behind the scenes, he just sees what the admin put in the files.\n\nI hope that makes sense.","body":"Ok maybe i have to explain a little more to make it clear.  There will actually be two users. One user (lets call him admin) can edit the contents that the app is showing via certain files. This is done before the app is started or anything. Then he starts the app (which is kind of a game) an then gives it to the second user (lets call him player). So the player should not be able to interact with the stuff thats going on behind the scenes, he just sees what the admin put in the files.  I hope that makes sense."}],"owner":{"account_id":25949674,"reputation":1,"user_id":19667915,"display_name":"Michael P&#246;schick"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659371330,"creation_date":1659370984,"question_id":73196771,"body_markdown":"I want the user to be able to put certain files (for example config.txt and background.jpg) into a specific folder on his tablet, which are then read and used by the app (without any direct user input in the app itself). \r\n\r\nFor now i have some testfiles in the assets-folder, but i have a hard time converting this to what i actually need.\r\n\r\nSo where do i put the files and how can i read them?\r\n\r\nI may not need the exact code, a hint into the right direction could be enough.\r\n\r\nThank you.","title":"Reading public files from internal storage into the app","body":"<p>I want the user to be able to put certain files (for example config.txt and background.jpg) into a specific folder on his tablet, which are then read and used by the app (without any direct user input in the app itself).</p>\n<p>For now i have some testfiles in the assets-folder, but i have a hard time converting this to what i actually need.</p>\n<p>So where do i put the files and how can i read them?</p>\n<p>I may not need the exact code, a hint into the right direction could be enough.</p>\n<p>Thank you.</p>\n"},{"tags":["java","algorithm","loops","for-loop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659371310,"creation_date":1659371310,"answer_id":73196832,"question_id":73194181,"body_markdown":"If you&#39;re able to use either [Apache Commons Collections][1] or [Google Guava][2], they each have a method to partition Lists into fixed-sized sub-lists.\r\n\r\nFor example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.apache.commons.collections4.ListUtils;\r\nimport com.google.common.collect.Lists;\r\n\r\npublic class SO_73194181 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; row = Arrays.asList(&quot;one&quot;, &quot;1&quot;, &quot;two&quot;, &quot;2&quot;, &quot;three&quot;, &quot;3&quot;);\r\n\t\tList&lt;List&lt;String&gt;&gt; rowsOfCells;\r\n\t\t\r\n\t\t// Using Google Guava Lists class\r\n\t\trowsOfCells = Lists.partition(row, 2);\r\n\t\tSystem.out.println(rowsOfCells);\r\n\r\n\t\t// Alternatively, using Apache Commons Collections ListUtils\r\n\t\trowsOfCells = ListUtils.partition(row, 2);\r\n\t\tSystem.out.println(rowsOfCells);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n  [1]: https://github.com/apache/commons-collections\r\n  [2]: https://github.com/google/guava","title":"Retrieving data from a list in fixed chunks","body":"<p>If you're able to use either <a href=\"https://github.com/apache/commons-collections\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> or <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a>, they each have a method to partition Lists into fixed-sized sub-lists.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\n\nimport org.apache.commons.collections4.ListUtils;\nimport com.google.common.collect.Lists;\n\npublic class SO_73194181 {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; row = Arrays.asList(&quot;one&quot;, &quot;1&quot;, &quot;two&quot;, &quot;2&quot;, &quot;three&quot;, &quot;3&quot;);\n        List&lt;List&lt;String&gt;&gt; rowsOfCells;\n        \n        // Using Google Guava Lists class\n        rowsOfCells = Lists.partition(row, 2);\n        System.out.println(rowsOfCells);\n\n        // Alternatively, using Apache Commons Collections ListUtils\n        rowsOfCells = ListUtils.partition(row, 2);\n        System.out.println(rowsOfCells);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23119852,"reputation":23,"user_id":17226538,"display_name":"altz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659371310,"creation_date":1659359405,"question_id":73194181,"body_markdown":"I want to retrive data from a list in fixed sizes. Each chunk will form a table row and the elements in the chunk will form the table cells. The extracted chunks will be added to a list of lists that will form the whole table.\r\nThe list identified by variable row is :\r\n\r\n    [http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers]\r\n\r\nThe code am using is to retrieve the chunks and adding them to a list of lists is\r\n\r\n      \r\n\r\n          List&lt;List&lt;Object&gt;&gt; rowsOfCells = new ArrayList&lt;List&lt;Object&gt;&gt;(batchSize);\r\n          List&lt;Object&gt; rowOfCells = new ArrayList&lt;Object&gt;(row.size());\r\n          int start = 0;\r\n    \r\n                while (start &lt;= row.size() / columns.size()) {\r\n                    int end = start + columns.size() - 1;\r\n                    for (int i = start; i &lt;= end; i++) {\r\n    \r\n                        rowOfCells.add(row.get(i));\r\n                    }\r\n                    rowsOfCells.add(rowOfCells);\r\n                   start = end + 1;\r\n                }\r\n\r\n**The output is:**  rowsOfCells:\r\n\r\n    [[http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers], [http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers], [http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers]]\r\n\r\n**Expected output is:** rowsOfCells:\r\n\r\n    [[http://www.wikidata.org/entity/Q151345, Billygoat Hennes], [http://www.wikidata.org/entity/Q3569037, William Windsor], [http://www.wikidata.org/entity/Q23003932, His Whiskers]]\r\n\r\n","title":"Retrieving data from a list in fixed chunks","body":"<p>I want to retrive data from a list in fixed sizes. Each chunk will form a table row and the elements in the chunk will form the table cells. The extracted chunks will be added to a list of lists that will form the whole table.\nThe list identified by variable row is :</p>\n<pre><code>[http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers]\n</code></pre>\n<p>The code am using is to retrieve the chunks and adding them to a list of lists is</p>\n<pre><code>      List&lt;List&lt;Object&gt;&gt; rowsOfCells = new ArrayList&lt;List&lt;Object&gt;&gt;(batchSize);\n      List&lt;Object&gt; rowOfCells = new ArrayList&lt;Object&gt;(row.size());\n      int start = 0;\n\n            while (start &lt;= row.size() / columns.size()) {\n                int end = start + columns.size() - 1;\n                for (int i = start; i &lt;= end; i++) {\n\n                    rowOfCells.add(row.get(i));\n                }\n                rowsOfCells.add(rowOfCells);\n               start = end + 1;\n            }\n</code></pre>\n<p><strong>The output is:</strong>  rowsOfCells:</p>\n<pre><code>[[http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers], [http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers], [http://www.wikidata.org/entity/Q151345, Billygoat Hennes, http://www.wikidata.org/entity/Q3569037, William Windsor, http://www.wikidata.org/entity/Q23003932, His Whiskers]]\n</code></pre>\n<p><strong>Expected output is:</strong> rowsOfCells:</p>\n<pre><code>[[http://www.wikidata.org/entity/Q151345, Billygoat Hennes], [http://www.wikidata.org/entity/Q3569037, William Windsor], [http://www.wikidata.org/entity/Q23003932, His Whiskers]]\n</code></pre>\n"},{"tags":["java","code-coverage","inner-classes","jacoco"],"answers":[{"tags":[],"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1503407056,"creation_date":1503407056,"answer_id":45818489,"question_id":45814477,"body_markdown":"After some searching, I found the answer myself. As it wasn&#39;t easily googleable, I&#39;m putting it here for posterity&#39;s sake:\r\n\r\nThe syntax mirrors that of the *compiled* Java naming convention:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/*DB.*&lt;/exclude&gt;\r\n            &lt;exclude&gt;**/*DB$*.*&lt;/exclude&gt;\r\n            &lt;exclude&gt;**/*DTO.*&lt;/exclude&gt;\r\n            &lt;exclude&gt;**/*DTO$*.*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;","title":"How to ignore inner/nested classes with JaCoCo?","body":"<p>After some searching, I found the answer myself. As it wasn't easily googleable, I'm putting it here for posterity's sake:</p>\n\n<p>The syntax mirrors that of the <em>compiled</em> Java naming convention:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/*DB.*&lt;/exclude&gt;\n        &lt;exclude&gt;**/*DB$*.*&lt;/exclude&gt;\n        &lt;exclude&gt;**/*DTO.*&lt;/exclude&gt;\n        &lt;exclude&gt;**/*DTO$*.*&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1318265,"reputation":406,"user_id":1264663,"display_name":"Pedro Garc&#237;a Medina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659371305,"creation_date":1659371305,"answer_id":73196831,"question_id":45814477,"body_markdown":"For a single class, something like this works\r\n\r\n    &lt;exclude&gt;.../[class name]*&lt;/exclude&gt;","title":"How to ignore inner/nested classes with JaCoCo?","body":"<p>For a single class, something like this works</p>\n<pre><code>&lt;exclude&gt;.../[class name]*&lt;/exclude&gt;\n</code></pre>\n"}],"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6861,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":45818489,"answer_count":2,"score":19,"last_activity_date":1659371305,"creation_date":1503395777,"question_id":45814477,"body_markdown":"I&#39;m trying to ignore some generated classes, and the classes get ignored fine. But if those classes have inner classes, those classes still get included, despite the parent class being excluded. This is my configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.7.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*DB.*&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/*DTO.*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAttempting to use the standard Java name convention of ParentClass.NestedClass by excluding `**/*DB.*.*` did not help.","title":"How to ignore inner/nested classes with JaCoCo?","body":"<p>I'm trying to ignore some generated classes, and the classes get ignored fine. But if those classes have inner classes, those classes still get included, despite the parent class being excluded. This is my configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.7.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*DB.*&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*DTO.*&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Attempting to use the standard Java name convention of ParentClass.NestedClass by excluding <code>**/*DB.*.*</code> did not help.</p>\n"},{"tags":["java","caching","finalize"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1659372488,"post_id":73196731,"comment_id":129273989,"body_markdown":"I would look at using `java.lang.ref.SoftReference`s to implement the cache.","body":"I would look at using <code>java.lang.ref.SoftReference</code>s to implement the cache."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1659413836,"post_id":73196731,"comment_id":129282809,"body_markdown":"You want to use weak references (soft references are if you want to cache after zero references, but imposes higher GC overhead). Caffeine&#39;s weak key/value cache would fit your requirements.","body":"You want to use weak references (soft references are if you want to cache after zero references, but imposes higher GC overhead). Caffeine&#39;s weak key/value cache would fit your requirements."}],"owner":{"account_id":9005824,"reputation":336,"user_id":6738160,"accept_rate":100,"display_name":"Zyx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659370784,"creation_date":1659370784,"question_id":73196731,"body_markdown":"I have memory-expensive objects, that sometimes come with identical content. I would like to cache them as long as they&#39;re referenced at least once, and evict from the cache if all referenced are destroyed. Is there a standard solution for that in Java?\r\n\r\nConcretely, I would like to achieve something like the following: &lt;br&gt;\r\n`ExpObject` can be referenced by multiple instances of `Entry`, and each `Entry` can be contained in multiple collections. (any other references to `ExpObject`&#39;s don&#39;t need to be tracked). &lt;br&gt;\r\nWhen an `Entry` is created, we check whether there is already an equal `ExpObject` and if so, return the cached copy. Otherwise we cache and return the new object. The corresponding reference counter is incremented. &lt;br&gt;\r\nFinally, when all referenced to `Entry` are gone and it gets collected, the reference counter in `ExpObject` is decremented, and if it happened to be the last `Entry` that pointed to this `ExpObject`, then the `ExpObject` is evicted from the cache. &lt;br&gt;\r\nHowever, this solution relies on the `finalize()` method, that I&#39;ve been told I shouldn&#39;t rely on.\r\n\r\n    class ExpObject {\r\n        private final static Map&lt;ExpObject, ExpObject&gt; cache = new HashMap&lt;&gt;();\r\n        private String longString; //stand-in for large content \r\n        private int referenced = 0;\r\n        \r\n        public static getExpObject(String content) {\r\n            ExpObject newObject = new ExpObject(content);\r\n            if (cache.containsKey(newObject)){\r\n                ExpObject cachedCopy = cache.get(newObject);\r\n                cachedCopy.referenced++;\r\n                return cachedCopy;\r\n            } else {\r\n                newObject.referenced++;\r\n                cache.put(newObject, newObject);\r\n                return newObject;\r\n            }\r\n        }\r\n        \r\n        private ExpObject(String content){\r\n            this.content = content;\r\n        }\r\n        \r\n        public void decrementReference(){\r\n            this.referenced--;\r\n            if (this.referenced &lt;= 0){\r\n                cache.remove(this);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Entry {\r\n        private ExpObject expObject;\r\n        \r\n        public Entry(String content){\r\n            expObject = ExpObject.getExpObject(content);\r\n        }\r\n        \r\n        @Override\r\n        protected void finalize(){\r\n            expObject.decrementReference();\r\n        }\r\n    }","title":"Java reference-aware cache","body":"<p>I have memory-expensive objects, that sometimes come with identical content. I would like to cache them as long as they're referenced at least once, and evict from the cache if all referenced are destroyed. Is there a standard solution for that in Java?</p>\n<p>Concretely, I would like to achieve something like the following: <br>\n<code>ExpObject</code> can be referenced by multiple instances of <code>Entry</code>, and each <code>Entry</code> can be contained in multiple collections. (any other references to <code>ExpObject</code>'s don't need to be tracked). <br>\nWhen an <code>Entry</code> is created, we check whether there is already an equal <code>ExpObject</code> and if so, return the cached copy. Otherwise we cache and return the new object. The corresponding reference counter is incremented. <br>\nFinally, when all referenced to <code>Entry</code> are gone and it gets collected, the reference counter in <code>ExpObject</code> is decremented, and if it happened to be the last <code>Entry</code> that pointed to this <code>ExpObject</code>, then the <code>ExpObject</code> is evicted from the cache. <br>\nHowever, this solution relies on the <code>finalize()</code> method, that I've been told I shouldn't rely on.</p>\n<pre><code>class ExpObject {\n    private final static Map&lt;ExpObject, ExpObject&gt; cache = new HashMap&lt;&gt;();\n    private String longString; //stand-in for large content \n    private int referenced = 0;\n    \n    public static getExpObject(String content) {\n        ExpObject newObject = new ExpObject(content);\n        if (cache.containsKey(newObject)){\n            ExpObject cachedCopy = cache.get(newObject);\n            cachedCopy.referenced++;\n            return cachedCopy;\n        } else {\n            newObject.referenced++;\n            cache.put(newObject, newObject);\n            return newObject;\n        }\n    }\n    \n    private ExpObject(String content){\n        this.content = content;\n    }\n    \n    public void decrementReference(){\n        this.referenced--;\n        if (this.referenced &lt;= 0){\n            cache.remove(this);\n        }\n    }\n}\n\nclass Entry {\n    private ExpObject expObject;\n    \n    public Entry(String content){\n        expObject = ExpObject.getExpObject(content);\n    }\n    \n    @Override\n    protected void finalize(){\n        expObject.decrementReference();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","background","drawable"],"comments":[{"owner":{"account_id":3389722,"reputation":406,"user_id":2844833,"accept_rate":91,"display_name":"Sam"},"score":3,"creation_date":1534529848,"post_id":12523005,"comment_id":90752996,"body_markdown":"Thank you! your question and all helpful answers helped me set the background resource of an image button inside a **widget**. here&#39;s a sample code in case someone is interested: `remoteViews.setInt(R.id.btn_start,&quot;setBackgroundResource&quot;,  R.drawable.ic_button_start);`","body":"Thank you! your question and all helpful answers helped me set the background resource of an image button inside a <b>widget</b>. here&#39;s a sample code in case someone is interested: <code>remoteViews.setInt(R.id.btn_start,&quot;setBackgroundResource&quot;,  R.drawable.ic_button_start);</code>"},{"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"score":1,"creation_date":1549131378,"post_id":12523005,"comment_id":95797367,"body_markdown":"Kotlin Solution for whom may need : https://stackoverflow.com/a/54495750/6247186","body":"Kotlin Solution for whom may need : <a href=\"https://stackoverflow.com/a/54495750/6247186\">stackoverflow.com/a/54495750/6247186</a>"}],"answers":[{"tags":[],"owner":{"account_id":1304278,"reputation":70351,"user_id":1333975,"accept_rate":100,"display_name":"Ahmad"},"down_vote_count":4,"up_vote_count":123,"is_accepted":false,"score":119,"last_activity_date":1496172740,"creation_date":1348189740,"answer_id":12523020,"question_id":12523005,"body_markdown":"Try this:\r\n\r\n    layout.setBackground(ContextCompat.getDrawable(context, R.drawable.ready));\r\n\r\nand for API 16&lt;:\r\n\r\n    layout.setBackgroundDrawable(ContextCompat.getDrawable(context, R.drawable.ready));\r\n\r\n\r\n","title":"How set background drawable programmatically in Android","body":"<p>Try this:</p>\n\n<pre><code>layout.setBackground(ContextCompat.getDrawable(context, R.drawable.ready));\n</code></pre>\n\n<p>and for API 16&lt;:</p>\n\n<pre><code>layout.setBackgroundDrawable(ContextCompat.getDrawable(context, R.drawable.ready));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628094,"reputation":22417,"user_id":1503155,"accept_rate":80,"display_name":"Lazy Ninja"},"down_vote_count":4,"up_vote_count":600,"is_accepted":true,"score":596,"last_activity_date":1519889634,"creation_date":1348190636,"answer_id":12523109,"question_id":12523005,"body_markdown":"`layout.setBackgroundResource(R.drawable.ready);` is correct.&lt;br&gt;\r\nAnother way to achieve it is to use the following:\r\n\r\n    final int sdk = android.os.Build.VERSION.SDK_INT;\r\n    if(sdk &lt; android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n        layout.setBackgroundDrawable(ContextCompat.getDrawable(context, R.drawable.ready) );\r\n    } else {\r\n        layout.setBackground(ContextCompat.getDrawable(context, R.drawable.ready));\r\n    }\r\n\r\nBut I think the problem occur because you are trying to load big images.&lt;br&gt; [Here][1] is a good tutorial how to load large bitmaps.&lt;br&gt;&lt;br&gt;\r\n\r\n**UPDATE:&lt;br&gt; getDrawable(int ) deprecated in API level 22** &lt;br&gt;&lt;br&gt;\r\n`getDrawable(int )` is now deprecated in API level 22.\r\nYou should use the following code from the support library instead:\r\n\r\n    ContextCompat.getDrawable(context, R.drawable.ready)\r\n\r\n\r\nIf you refer to the source code of [ContextCompat.getDrawable][3], it gives you something like this:\r\n\r\n    /**\r\n     * Return a drawable object associated with a particular resource ID.\r\n     * &lt;p&gt;\r\n     * Starting in {@link android.os.Build.VERSION_CODES#LOLLIPOP}, the returned\r\n     * drawable will be styled for the specified Context&#39;s theme.\r\n     *\r\n     * @param id The desired resource identifier, as generated by the aapt tool.\r\n     *            This integer encodes the package, type, and resource entry.\r\n     *            The value 0 is an invalid identifier.\r\n     * @return Drawable An object that can be used to draw this resource.\r\n     */\r\n    public static final Drawable getDrawable(Context context, int id) {\r\n        final int version = Build.VERSION.SDK_INT;\r\n        if (version &gt;= 21) {\r\n            return ContextCompatApi21.getDrawable(context, id);\r\n        } else {\r\n            return context.getResources().getDrawable(id);\r\n        }\r\n    }\r\n\r\nMore details on [ContextCompat][2] &lt;br&gt;\r\n\r\nAs of API 22, you should use the `getDrawable(int, Theme)` method instead of getDrawable(int).\r\n\r\n**UPDATE:**&lt;br&gt;\r\nIf you are using the support v4 library, the following will be enough for all versions.\r\n\r\n    ContextCompat.getDrawable(context, R.drawable.ready)\r\n\r\nYou will need to add the following in your app build.gradle\r\n\r\n    compile &#39;com.android.support:support-v4:23.0.0&#39; # or any version above\r\n \r\nOr using ResourceCompat, in any API like below:  \r\n\r\n    import android.support.v4.content.res.ResourcesCompat;\r\n    ResourcesCompat.getDrawable(getResources(), R.drawable.name_of_drawable, null);\r\n\r\n  [1]: http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\r\n  [2]: http://developer.android.com/reference/android/support/v4/content/ContextCompat.html\r\n  [3]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.0.1_r1/android/support/v4/content/ContextCompat.java#ContextCompat.getDrawable%28android.content.Context%2Cint%29","title":"How set background drawable programmatically in Android","body":"<p><code>layout.setBackgroundResource(R.drawable.ready);</code> is correct.<br>\nAnother way to achieve it is to use the following:</p>\n\n<pre><code>final int sdk = android.os.Build.VERSION.SDK_INT;\nif(sdk &lt; android.os.Build.VERSION_CODES.JELLY_BEAN) {\n    layout.setBackgroundDrawable(ContextCompat.getDrawable(context, R.drawable.ready) );\n} else {\n    layout.setBackground(ContextCompat.getDrawable(context, R.drawable.ready));\n}\n</code></pre>\n\n<p>But I think the problem occur because you are trying to load big images.<br> <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\" rel=\"noreferrer\">Here</a> is a good tutorial how to load large bitmaps.<br><br></p>\n\n<p><strong>UPDATE:<br> getDrawable(int ) deprecated in API level 22</strong> <br><br>\n<code>getDrawable(int )</code> is now deprecated in API level 22.\nYou should use the following code from the support library instead:</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.ready)\n</code></pre>\n\n<p>If you refer to the source code of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.0.1_r1/android/support/v4/content/ContextCompat.java#ContextCompat.getDrawable%28android.content.Context%2Cint%29\" rel=\"noreferrer\">ContextCompat.getDrawable</a>, it gives you something like this:</p>\n\n<pre><code>/**\n * Return a drawable object associated with a particular resource ID.\n * &lt;p&gt;\n * Starting in {@link android.os.Build.VERSION_CODES#LOLLIPOP}, the returned\n * drawable will be styled for the specified Context's theme.\n *\n * @param id The desired resource identifier, as generated by the aapt tool.\n *            This integer encodes the package, type, and resource entry.\n *            The value 0 is an invalid identifier.\n * @return Drawable An object that can be used to draw this resource.\n */\npublic static final Drawable getDrawable(Context context, int id) {\n    final int version = Build.VERSION.SDK_INT;\n    if (version &gt;= 21) {\n        return ContextCompatApi21.getDrawable(context, id);\n    } else {\n        return context.getResources().getDrawable(id);\n    }\n}\n</code></pre>\n\n<p>More details on <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html\" rel=\"noreferrer\">ContextCompat</a> <br></p>\n\n<p>As of API 22, you should use the <code>getDrawable(int, Theme)</code> method instead of getDrawable(int).</p>\n\n<p><strong>UPDATE:</strong><br>\nIf you are using the support v4 library, the following will be enough for all versions.</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.ready)\n</code></pre>\n\n<p>You will need to add the following in your app build.gradle</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.0.0' # or any version above\n</code></pre>\n\n<p>Or using ResourceCompat, in any API like below:  </p>\n\n<pre><code>import android.support.v4.content.res.ResourcesCompat;\nResourcesCompat.getDrawable(getResources(), R.drawable.name_of_drawable, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3457891,"reputation":520,"user_id":2895956,"accept_rate":86,"display_name":"Sujay Kumar"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1386495371,"creation_date":1386495371,"answer_id":20451890,"question_id":12523005,"body_markdown":"    RelativeLayout relativeLayout;  //declare this globally\r\nnow, inside any function like onCreate, onResume\r\n\r\n    relativeLayout = new RelativeLayout(this);\t\r\n    relativeLayout.setBackgroundResource(R.drawable.view); //or whatever your image is\r\n    setContentView(relativeLayout); //you might be forgetting this","title":"How set background drawable programmatically in Android","body":"<pre><code>RelativeLayout relativeLayout;  //declare this globally\n</code></pre>\n\n<p>now, inside any function like onCreate, onResume</p>\n\n<pre><code>relativeLayout = new RelativeLayout(this);  \nrelativeLayout.setBackgroundResource(R.drawable.view); //or whatever your image is\nsetContentView(relativeLayout); //you might be forgetting this\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2740257,"reputation":1764,"user_id":2361947,"accept_rate":50,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397738669,"creation_date":1397738669,"answer_id":23133481,"question_id":12523005,"body_markdown":"If your backgrounds are in the drawable folder right now try moving the images from drawable to drawable-nodpi folder in your project. This worked for me, seems that else the images are rescaled by them self..","title":"How set background drawable programmatically in Android","body":"<p>If your backgrounds are in the drawable folder right now try moving the images from drawable to drawable-nodpi folder in your project. This worked for me, seems that else the images are rescaled by them self..</p>\n"},{"tags":[],"owner":{"account_id":3451318,"reputation":407,"user_id":2890943,"display_name":"Bhaskar Kumar Singh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438089093,"creation_date":1438089093,"answer_id":31677359,"question_id":12523005,"body_markdown":"You can also set the background of any Image:\r\n\r\n  \r\n    View v;\r\n    Drawable image=(Drawable)getResources().getDrawable(R.drawable.img);\r\n    (ImageView)v.setBackground(image);","title":"How set background drawable programmatically in Android","body":"<p>You can also set the background of any Image:</p>\n\n<pre><code>View v;\nDrawable image=(Drawable)getResources().getDrawable(R.drawable.img);\n(ImageView)v.setBackground(image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7939935,"reputation":197,"user_id":5994384,"display_name":"Vostro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1549614743,"creation_date":1459334200,"answer_id":36306332,"question_id":12523005,"body_markdown":"I&#39;m using a minSdkVersion 16 and targetSdkVersion 23.  \r\nThe following is working for me, it uses   \r\n\r\n    ContextCompat.getDrawable(context, R.drawable.drawable);\r\n\r\nInstead of using:    \r\n\r\n    layout.setBackgroundResource(R.drawable.ready);\r\n\r\nRather use:\r\n\r\n    layout.setBackground(ContextCompat.getDrawable(this, R.drawable.ready));\r\n\r\n`getActivity()` is used in a fragment, if calling from a activity use `this`.","title":"How set background drawable programmatically in Android","body":"<p>I'm using a minSdkVersion 16 and targetSdkVersion 23.<br>\nThe following is working for me, it uses   </p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.drawable);\n</code></pre>\n\n<p>Instead of using:    </p>\n\n<pre><code>layout.setBackgroundResource(R.drawable.ready);\n</code></pre>\n\n<p>Rather use:</p>\n\n<pre><code>layout.setBackground(ContextCompat.getDrawable(this, R.drawable.ready));\n</code></pre>\n\n<p><code>getActivity()</code> is used in a fragment, if calling from a activity use <code>this</code>.</p>\n"},{"tags":[],"owner":{"account_id":269401,"reputation":8062,"user_id":558721,"accept_rate":100,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474552493,"creation_date":1474552493,"answer_id":39641066,"question_id":12523005,"body_markdown":"Use [butterknife][1] to bind the drawable resource to a variable by adding this to the top of your class (before any methods).\r\n\r\n    @Bind(R.id.some_layout)\r\n    RelativeLayout layout;\r\n    @BindDrawable(R.drawable.some_drawable)\r\n    Drawable background;\r\n\r\nthen inside one of your methods add\r\n\r\n    layout.setBackground(background);\r\n\r\n  [1]: http://jakewharton.github.io/butterknife/\r\n\r\nThat&#39;s all you need","title":"How set background drawable programmatically in Android","body":"<p>Use <a href=\"http://jakewharton.github.io/butterknife/\" rel=\"nofollow\">butterknife</a> to bind the drawable resource to a variable by adding this to the top of your class (before any methods).</p>\n\n<pre><code>@Bind(R.id.some_layout)\nRelativeLayout layout;\n@BindDrawable(R.drawable.some_drawable)\nDrawable background;\n</code></pre>\n\n<p>then inside one of your methods add</p>\n\n<pre><code>layout.setBackground(background);\n</code></pre>\n\n<p>That's all you need</p>\n"},{"tags":[],"owner":{"account_id":4065390,"reputation":705,"user_id":3340529,"display_name":"Ashwin H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482911813,"creation_date":1482907465,"answer_id":41356715,"question_id":12523005,"body_markdown":"Try this code:\r\n\r\n    Drawable thumb = ContextCompat.getDrawable(getActivity(), R.mipmap.cir_32);\r\n    mSeekBar.setThumb(thumb);","title":"How set background drawable programmatically in Android","body":"<p>Try this code:</p>\n\n<pre><code>Drawable thumb = ContextCompat.getDrawable(getActivity(), R.mipmap.cir_32);\nmSeekBar.setThumb(thumb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843299,"reputation":67,"user_id":4604149,"display_name":"Sameer Chamankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488068967,"creation_date":1488067442,"answer_id":42463152,"question_id":12523005,"body_markdown":"    if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN)\r\n         layout.setBackgroundDrawable(getResources().getDrawable(R.drawable.ready));\r\n    else if(android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP_MR1)\r\n         layout.setBackground(getResources().getDrawable(R.drawable.ready));\r\n    else\r\n         layout.setBackground(ContextCompat.getDrawable(this, R.drawable.ready));","title":"How set background drawable programmatically in Android","body":"<pre><code>if (android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN)\n     layout.setBackgroundDrawable(getResources().getDrawable(R.drawable.ready));\nelse if(android.os.Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP_MR1)\n     layout.setBackground(getResources().getDrawable(R.drawable.ready));\nelse\n     layout.setBackground(ContextCompat.getDrawable(this, R.drawable.ready));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6061274,"reputation":2289,"user_id":4732930,"accept_rate":86,"display_name":"Umair Khalid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566485438,"creation_date":1495189938,"answer_id":44067756,"question_id":12523005,"body_markdown":"Give a try to `ViewCompat.setBackground(yourView, drawableBackground)`","title":"How set background drawable programmatically in Android","body":"<p>Give a try to <code>ViewCompat.setBackground(yourView, drawableBackground)</code></p>\n"},{"tags":[],"owner":{"account_id":10802935,"reputation":55,"user_id":7946182,"display_name":"Vaggos Phl"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1512744548,"creation_date":1512744548,"answer_id":47716694,"question_id":12523005,"body_markdown":"Inside the app/res/**your_xml_layout_file**.xml\r\n\r\n 1.  Assign a name to your parent layout.\r\n 2. Go to your MainActivity and find your RelativeLayout by calling the findViewById(R.id.&quot;given_name&quot;).\r\n 3. Use the layout as a classic Object, by calling the method setBackgroundColor().","title":"How set background drawable programmatically in Android","body":"<p>Inside the app/res/<strong>your_xml_layout_file</strong>.xml</p>\n\n<ol>\n<li>Assign a name to your parent layout.</li>\n<li>Go to your MainActivity and find your RelativeLayout by calling the findViewById(R.id.\"given_name\").</li>\n<li>Use the layout as a classic Object, by calling the method setBackgroundColor().</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7454277,"reputation":161,"user_id":5667985,"display_name":"Franklin CI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564009663,"creation_date":1564009663,"answer_id":57192332,"question_id":12523005,"body_markdown":" \r\ntry this.\r\n \r\n\r\n     int res = getResources().getIdentifier(&quot;you_image&quot;, &quot;drawable&quot;, &quot;com.my.package&quot;);\r\n     preview = (ImageView) findViewById(R.id.preview);\r\n     preview.setBackgroundResource(res);","title":"How set background drawable programmatically in Android","body":"<p>try this.</p>\n\n<pre><code> int res = getResources().getIdentifier(\"you_image\", \"drawable\", \"com.my.package\");\n preview = (ImageView) findViewById(R.id.preview);\n preview.setBackgroundResource(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061212,"reputation":2593,"user_id":6076692,"accept_rate":100,"display_name":"Mohamed AbdelraZek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582447526,"creation_date":1582447526,"answer_id":60360525,"question_id":12523005,"body_markdown":"   \r\n\r\n    setBackground(getContext().getResources().getDrawable(R.drawable.green_rounded_frame));","title":"How set background drawable programmatically in Android","body":"<pre><code>setBackground(getContext().getResources().getDrawable(R.drawable.green_rounded_frame));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924907,"reputation":1979,"user_id":1735603,"accept_rate":67,"display_name":"Firzen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1629625930,"creation_date":1629625930,"answer_id":68880194,"question_id":12523005,"body_markdown":"If you use AndroidX, you should use:\r\n\r\n    AppCompatResources.getDrawable(context, R.drawable.your_drawable)\r\n\r\nPrevious methods listed are deprecated.","title":"How set background drawable programmatically in Android","body":"<p>If you use AndroidX, you should use:</p>\n<pre><code>AppCompatResources.getDrawable(context, R.drawable.your_drawable)\n</code></pre>\n<p>Previous methods listed are deprecated.</p>\n"}],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688439,"favorite_count":0,"down_vote_count":1,"up_vote_count":354,"accepted_answer_id":12523109,"answer_count":14,"score":353,"last_activity_date":1659370424,"creation_date":1348189516,"question_id":12523005,"body_markdown":"To set Background:\r\n-------------\r\n    RelativeLayout layout = (RelativeLayout) findViewById(R.id.background);\r\n    layout.setBackgroundResource(R.drawable.ready);\r\n\r\n\r\nIs the best way to do it?","title":"How set background drawable programmatically in Android","body":"<h2>To set Background:</h2>\n<pre><code>RelativeLayout layout = (RelativeLayout) findViewById(R.id.background);\nlayout.setBackgroundResource(R.drawable.ready);\n</code></pre>\n<p>Is the best way to do it?</p>\n"},{"tags":["java","haversine"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659368527,"post_id":73196020,"comment_id":129272705,"body_markdown":"Math.sin and Math.cos expect values in radians.  Are your inputs in radians?","body":"Math.sin and Math.cos expect values in radians.  Are your inputs in radians?"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659367655,"creation_date":1659367655,"answer_id":73196099,"question_id":73196020,"body_markdown":"`ASin` is valid on the range `[1; 1]`. Function spec is saying:\r\n\r\n&gt;    **If the argument is NaN or its absolute value is greater than 1, then the result is NaN.**\r\n    If the argument is zero, then the result is a zero with the same sign as the argument.\r\n\r\n\r\nHowever this `Math.sqrt(Math.pow(Math.sin((x2 - x1) / 2),2 + \r\n    Math.cos(x2) * Math.pow(Math.sin((y2 - y1) / 2),2)))` seems returning value out of the range.\r\n\r\nHence you get `NaN`.","title":"&#39;NaN&#39; output when computing the distance in kilometers of the Great Circle using Haversine formula in Java","body":"<p><code>ASin</code> is valid on the range <code>[1; 1]</code>. Function spec is saying:</p>\n<blockquote>\n<p><strong>If the argument is NaN or its absolute value is greater than 1, then the result is NaN.</strong>\nIf the argument is zero, then the result is a zero with the same sign as the argument.</p>\n</blockquote>\n<p>However this <code>Math.sqrt(Math.pow(Math.sin((x2 - x1) / 2),2 +  Math.cos(x2) * Math.pow(Math.sin((y2 - y1) / 2),2)))</code> seems returning value out of the range.</p>\n<p>Hence you get <code>NaN</code>.</p>\n"}],"owner":{"account_id":25616884,"reputation":1,"user_id":19389355,"display_name":"Lilang Ulap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659370397,"creation_date":1659367311,"question_id":73196020,"body_markdown":"*I tried using the top formula of distance from the other [question][1] but it display &#39;NaN&#39;; can someone tell me where I got it wrong. Also, sometimes it doesn&#39;t go &#39;NaN&#39; but the answer is still inaccurate. I&#39;m a beginner.*\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Great_Circle{\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            double r = 6371.0;\r\n            double x1 = scanner.nextDouble();\r\n            double y1 = scanner.nextDouble();\r\n            double x2 = scanner.nextDouble();\r\n            double y2 = scanner.nextDouble();\r\n    \r\n            double distance = 2 * r * Math.asin(Math.sqrt(Math.pow(Math.sin((x2 - x1) / 2),2 + \r\n            Math.cos(x2) * Math.pow(Math.sin((y2 - y1) / 2),2))));\r\n    \r\n            System.out.println(distance + &quot; kilometers &quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/70447203/incorrect-output-when-computing-the-distance-in-kilometres-of-the-great-circle-u?answertab=trending#tab-top\r\n","title":"&#39;NaN&#39; output when computing the distance in kilometers of the Great Circle using Haversine formula in Java","body":"<p><em>I tried using the top formula of distance from the other <a href=\"https://stackoverflow.com/questions/70447203/incorrect-output-when-computing-the-distance-in-kilometres-of-the-great-circle-u?answertab=trending#tab-top\">question</a> but it display 'NaN'; can someone tell me where I got it wrong. Also, sometimes it doesn't go 'NaN' but the answer is still inaccurate. I'm a beginner.</em></p>\n<pre><code>import java.util.Scanner;\n\npublic class Great_Circle{\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        double r = 6371.0;\n        double x1 = scanner.nextDouble();\n        double y1 = scanner.nextDouble();\n        double x2 = scanner.nextDouble();\n        double y2 = scanner.nextDouble();\n\n        double distance = 2 * r * Math.asin(Math.sqrt(Math.pow(Math.sin((x2 - x1) / 2),2 + \n        Math.cos(x2) * Math.pow(Math.sin((y2 - y1) / 2),2))));\n\n        System.out.println(distance + &quot; kilometers &quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8","abstract","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1359757194,"creation_date":1359757194,"answer_id":14656004,"question_id":14655913,"body_markdown":"The Java docs say:\r\n\r\n&gt; Note that it is always safe not to override Object.equals(Object).\r\n&gt; However, overriding this method may, in some cases, improve\r\n&gt; performance by allowing programs to determine that two distinct\r\n&gt; comparators impose the same order.\r\n\r\nMaybe Comparator is special? Maybe, even though it&#39;s an interface, there is somehow a default implementation of `equals()` that calls `compare()`? Algorithmically, it&#39;s trivial.\r\n\r\nI thought all methods that were declared in interfaces were abstract (i. e. no default implementation). But maybe I&#39;m missing something.","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>The Java docs say:</p>\n\n<blockquote>\n  <p>Note that it is always safe not to override Object.equals(Object).\n  However, overriding this method may, in some cases, improve\n  performance by allowing programs to determine that two distinct\n  comparators impose the same order.</p>\n</blockquote>\n\n<p>Maybe Comparator is special? Maybe, even though it's an interface, there is somehow a default implementation of <code>equals()</code> that calls <code>compare()</code>? Algorithmically, it's trivial.</p>\n\n<p>I thought all methods that were declared in interfaces were abstract (i. e. no default implementation). But maybe I'm missing something.</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1598447338,"creation_date":1359757514,"answer_id":14656085,"question_id":14655913,"body_markdown":"From the [same page you linked to][1]: \r\n\r\n&gt; The interface Comparator is functional because although it declares two abstract methods, one of these—equals— has a signature corresponding to a public method in Object. Interfaces always declare abstract methods corresponding to the public methods of Object, but they usually do so implicitly. Whether implicitly or explicitly declared, such methods are excluded from the count.\r\n\r\nI can&#39;t really say it better.\r\n\r\n\r\n  [1]: http://www.lambdafaq.org/what-is-a-functional-interface/","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>From the <a href=\"http://www.lambdafaq.org/what-is-a-functional-interface/\" rel=\"noreferrer\">same page you linked to</a>:</p>\n<blockquote>\n<p>The interface Comparator is functional because although it declares two abstract methods, one of these—equals— has a signature corresponding to a public method in Object. Interfaces always declare abstract methods corresponding to the public methods of Object, but they usually do so implicitly. Whether implicitly or explicitly declared, such methods are excluded from the count.</p>\n</blockquote>\n<p>I can't really say it better.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455966635,"creation_date":1455966635,"answer_id":35522381,"question_id":14655913,"body_markdown":"Q. But in the Comparator interface both compare() and equals() methods are abstract, which means it has two abstract methods. So how can this be working, if the definition requires an interface to have exactly one abstract method? What am I missing here?\r\n\r\nA.\r\n&gt;A functional interface may specify any public method defined by Object, such as equals( ),\r\nwithout affecting its “functional interface” status. The public Object methods are considered implicit\r\nmembers of a functional interface because they are automatically implemented by an instance of a\r\nfunctional interface.\r\n\r\n","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>Q. But in the Comparator interface both compare() and equals() methods are abstract, which means it has two abstract methods. So how can this be working, if the definition requires an interface to have exactly one abstract method? What am I missing here?</p>\n\n<p>A.</p>\n\n<blockquote>\n  <p>A functional interface may specify any public method defined by Object, such as equals( ),\n  without affecting its “functional interface” status. The public Object methods are considered implicit\n  members of a functional interface because they are automatically implemented by an instance of a\n  functional interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1456221289,"creation_date":1456221289,"answer_id":35574178,"question_id":14655913,"body_markdown":"Another explanation is given in the [@FunctionalInterface page][1]:\r\n\r\n&gt; Conceptually, a functional interface has exactly one abstract method. Since default methods have an implementation, they are not abstract. **If an interface declares an abstract method overriding one of the public methods of `java.lang.Object`, that also does not count toward the interface&#39;s abstract method count since any implementation of the interface will have an implementation from `java.lang.Object` or elsewhere.**\r\n\r\nYou can test which interface is a correct **functional interface** using  **`@FunctionalInterface`**.\r\n\r\nE.g.:\r\n\r\n* this works\r\n\r\n        @FunctionalInterface\r\n        public interface FunctionalInterf {\r\n    \r\n            void m();\r\n    \r\n            boolean equals(Object o);\r\n    \r\n        }\r\n\r\n* this generates an error:\r\n\r\n        @FunctionalInterface\r\n        public interface FunctionalInterf {\r\n        \r\n            void m();\r\n        \r\n            boolean equals();\r\n        \r\n        }\r\n\r\n &gt; Multiple non-overriding abstract methods found in interface FunctionalInterf\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>Another explanation is given in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"noreferrer\">@FunctionalInterface page</a>:</p>\n\n<blockquote>\n  <p>Conceptually, a functional interface has exactly one abstract method. Since default methods have an implementation, they are not abstract. <strong>If an interface declares an abstract method overriding one of the public methods of <code>java.lang.Object</code>, that also does not count toward the interface's abstract method count since any implementation of the interface will have an implementation from <code>java.lang.Object</code> or elsewhere.</strong></p>\n</blockquote>\n\n<p>You can test which interface is a correct <strong>functional interface</strong> using  <strong><code>@FunctionalInterface</code></strong>.</p>\n\n<p>E.g.:</p>\n\n<ul>\n<li><p>this works</p>\n\n<pre><code>@FunctionalInterface\npublic interface FunctionalInterf {\n\n    void m();\n\n    boolean equals(Object o);\n\n}\n</code></pre></li>\n<li><p>this generates an error:</p>\n\n<pre><code>@FunctionalInterface\npublic interface FunctionalInterf {\n\n    void m();\n\n    boolean equals();\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Multiple non-overriding abstract methods found in interface FunctionalInterf</p>\n</blockquote></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12178797,"reputation":163,"user_id":8891016,"display_name":"Eswaran Venkatesan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512566695,"creation_date":1512566695,"answer_id":47675442,"question_id":14655913,"body_markdown":"**Definition:**\r\n\r\nIf an interface contains only one abstract method, then such type of interface is called functional interface.\r\n\r\n**Usage:**\r\n\r\n 1. Once we write Lambda expression &quot;-&gt;&quot; to invoke its functionality ,\r\n    then in this context we require Functional Interface.\r\n 2. We can use the Functional Interface reference to refer Lambda\r\n    expression.\r\n 3. Inside functional interface we can have one abstract method and n\r\n    number of default/static methods.\r\n\r\n**Functional interface with respect to inheritance:**\r\n\r\nIf an interface extends Functional interface and the child interface does not contain any abstract method , then the child interface is also considered to be Functional Interface.\r\n\r\n**Functional interface is not new to java, its already used in following interface API&#39;s:**\r\n\r\n 1. Runnable : contains run() method only.\r\n 2. Callable : contains call() method only.\r\n 3. Comparable : contains compareTo() method only.","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p><strong>Definition:</strong></p>\n\n<p>If an interface contains only one abstract method, then such type of interface is called functional interface.</p>\n\n<p><strong>Usage:</strong></p>\n\n<ol>\n<li>Once we write Lambda expression \"->\" to invoke its functionality ,\nthen in this context we require Functional Interface.</li>\n<li>We can use the Functional Interface reference to refer Lambda\nexpression.</li>\n<li>Inside functional interface we can have one abstract method and n\nnumber of default/static methods.</li>\n</ol>\n\n<p><strong>Functional interface with respect to inheritance:</strong></p>\n\n<p>If an interface extends Functional interface and the child interface does not contain any abstract method , then the child interface is also considered to be Functional Interface.</p>\n\n<p><strong>Functional interface is not new to java, its already used in following interface API's:</strong></p>\n\n<ol>\n<li>Runnable : contains run() method only.</li>\n<li>Callable : contains call() method only.</li>\n<li>Comparable : contains compareTo() method only.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2736292,"reputation":1088,"user_id":2358905,"display_name":"Rakesh Prajapati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589247354,"creation_date":1534007806,"answer_id":51802012,"question_id":14655913,"body_markdown":"Before Java 8, an interface could only declare one or more methods also known as Abstract Method (method with no implementation, just the signature). Starting with Java 8 an interface can also have implementation of one or more methods (knows as Interface Default Method) and static methods along with abstract methods. Interface Default Methods are marked default keyword.\r\n\r\nSo the question is, what is Functional Interface?\r\nAn interface with Single Abstract Method (SAM) is called Functional Interface.\r\n\r\nWhich means - \r\n\r\n 1. An interface with Single Abstract Method is a Functional Interface\r\n 2. An interface with Single Abstract Method and zero or more default\r\n    methods and zero or more static method is also a valid Functional\r\n    Interface.\r\n\r\nMore detail with example code [https://readtorakesh.com/functional-interface-java8/][1]\r\n\r\n\r\n  [1]: https://readtorakesh.com/functional-interface-java8/","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>Before Java 8, an interface could only declare one or more methods also known as Abstract Method (method with no implementation, just the signature). Starting with Java 8 an interface can also have implementation of one or more methods (knows as Interface Default Method) and static methods along with abstract methods. Interface Default Methods are marked default keyword.</p>\n\n<p>So the question is, what is Functional Interface?\nAn interface with Single Abstract Method (SAM) is called Functional Interface.</p>\n\n<p>Which means - </p>\n\n<ol>\n<li>An interface with Single Abstract Method is a Functional Interface</li>\n<li>An interface with Single Abstract Method and zero or more default\nmethods and zero or more static method is also a valid Functional\nInterface.</li>\n</ol>\n\n<p>More detail with example code <a href=\"https://readtorakesh.com/functional-interface-java8/\" rel=\"nofollow noreferrer\">https://readtorakesh.com/functional-interface-java8/</a></p>\n"},{"tags":[],"owner":{"account_id":3534322,"reputation":5202,"user_id":2953017,"accept_rate":56,"display_name":"Zohra Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595381299,"creation_date":1593778588,"answer_id":62715255,"question_id":14655913,"body_markdown":"**A functional interface has only one abstract method but it can have multiple default and static methods.**\r\n\r\nSince default methods are not abstract you’re free to add default methods to your functional interface as many as you like.\r\n\r\n    @FunctionalInterface\r\n    public interface MyFuctionalInterface \r\n    {\r\n    public void perform();\r\n \r\n    default void perform1(){\r\n    //Method body\r\n    }\r\n \r\n    default void perform2(){\r\n    //Method body\r\n    }\r\n    }\r\nIf an interface declares an abstract method overriding one of the public methods of `java.lang.Object`, that also does not count toward the interface’s abstract method count since any implementation of the interface will have an implementation from `java.lang.Object` or elsewhere. \r\n\r\n**Comparator** is a functional interface even though it declared two abstract methods. Because one of these abstract methods “`equals()`” which has signature equal to public method in Object class.\r\ne.g. Below interface is a valid functional interface.\r\n\r\n    @FunctionalInterface\r\n        public interface MyFuctionalInterface \r\n        {\r\n        public void perform();\r\n     \r\n        @Override\r\n        public String toString();                //Overridden from Object class\r\n     \r\n        @Override\r\n        public boolean equals(Object obj);        //Overridden from Object class\r\n        }\r\n\r\n","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p><strong>A functional interface has only one abstract method but it can have multiple default and static methods.</strong></p>\n<p>Since default methods are not abstract you’re free to add default methods to your functional interface as many as you like.</p>\n<pre><code>@FunctionalInterface\npublic interface MyFuctionalInterface \n{\npublic void perform();\n\ndefault void perform1(){\n//Method body\n}\n\ndefault void perform2(){\n//Method body\n}\n}\n</code></pre>\n<p>If an interface declares an abstract method overriding one of the public methods of <code>java.lang.Object</code>, that also does not count toward the interface’s abstract method count since any implementation of the interface will have an implementation from <code>java.lang.Object</code> or elsewhere.</p>\n<p><strong>Comparator</strong> is a functional interface even though it declared two abstract methods. Because one of these abstract methods “<code>equals()</code>” which has signature equal to public method in Object class.\ne.g. Below interface is a valid functional interface.</p>\n<pre><code>@FunctionalInterface\n    public interface MyFuctionalInterface \n    {\n    public void perform();\n \n    @Override\n    public String toString();                //Overridden from Object class\n \n    @Override\n    public boolean equals(Object obj);        //Overridden from Object class\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21495780,"reputation":55,"user_id":15840831,"display_name":"hamal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622300932,"creation_date":1622300932,"answer_id":67752896,"question_id":14655913,"body_markdown":"An interface cannot extend Object class, because Interface has to have public and abstract methods. \r\n\r\nFor every public method in the Object class, there is an implicit public and abstract method in an interface.\r\n\r\nThis is the standard Java Language Specification which states like this,\r\n&gt;“If an interface has no direct super interfaces, then the interface implicitly declares a public abstract member method m with signature s, return type r, and throws clause t corresponding to each public instance method m with signature s, return type r, and throws clause t declared in Object, unless a method with the same signature, same return type, and a compatible throws clause is explicitly declared by the interface.”\r\n\r\nThat&#39;s how Object class&#39; methods are declared in an interface. And according to JLS, this does not count as interface&#39; abstract method. Hence, Comparator interface is a functional interface.\r\n\r\n","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>An interface cannot extend Object class, because Interface has to have public and abstract methods.</p>\n<p>For every public method in the Object class, there is an implicit public and abstract method in an interface.</p>\n<p>This is the standard Java Language Specification which states like this,</p>\n<blockquote>\n<p>“If an interface has no direct super interfaces, then the interface implicitly declares a public abstract member method m with signature s, return type r, and throws clause t corresponding to each public instance method m with signature s, return type r, and throws clause t declared in Object, unless a method with the same signature, same return type, and a compatible throws clause is explicitly declared by the interface.”</p>\n</blockquote>\n<p>That's how Object class' methods are declared in an interface. And according to JLS, this does not count as interface' abstract method. Hence, Comparator interface is a functional interface.</p>\n"},{"tags":[],"owner":{"account_id":17410896,"reputation":316,"user_id":17780636,"display_name":"Kana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659370393,"creation_date":1659370393,"answer_id":73196665,"question_id":14655913,"body_markdown":"Here is a &quot;show me the code&quot; approach to understanding the definition:\r\nwe shall look into OpenJDK `javac` for how it checks validity of classes annotated with `@FunctionalInterface`.\r\n\r\nThe most recent (as of July, 2022) implementation lies here:\r\n[com/sun/tools/javac/code/Types.java#L735-L791](https://github.com/openjdk/jdk/blob/226b8e680a82096b3d268703872d30182c10e326/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L735-L791):\r\n\r\n```java\r\n/**\r\n * Compute the function descriptor associated with a given functional interface\r\n */\r\npublic FunctionDescriptor findDescriptorInternal(TypeSymbol origin,\r\n        CompoundScope membersCache) throws FunctionDescriptorLookupError {\r\n    // ...\r\n}\r\n```\r\n\r\n## Class Restriction\r\n\r\n```java\r\nif (!origin.isInterface() || (origin.flags() &amp; ANNOTATION) != 0 || origin.isSealed()) {\r\n    //t must be an interface\r\n    throw failure(&quot;not.a.functional.intf&quot;, origin);\r\n}\r\n```\r\n\r\nPretty simple: the class must be an interface and must not be a sealed one.\r\n\r\n## Member Restriction\r\n\r\n```java\r\nfor (Symbol sym : membersCache.getSymbols(new DescriptorFilter(origin))) { /* ... */ }\r\n```\r\n\r\nIn this loop, `javac` goes through the members of the `origin` class, using a `DescriptorFilter` to retrieve:\r\n- Method members (of course)\r\n- `&amp;&amp;` that are `abstract` but not `default`,\r\n- `&amp;&amp;` and do not overwrite methods from `Object`,\r\n- `&amp;&amp;` with their top level declaration not a `default` one.\r\n\r\nIf there is only one method matching all the above conditions, then surely it is a valid functional interface, and any lambda will overwrite that very method.\r\n\r\nHowever, if there are multiple, `javac` tries to merge them:\r\n\r\n- If those methods all share the same name, related by [*override equivalence*]:\r\n  * then we filter them into a `abstracts` collection:\r\n    ```\r\n    if (!abstracts.stream().filter(msym -&gt; msym.owner.isSubClass(sym.enclClass(), Types.this))\r\n            .map(msym -&gt; memberType(origin.type, msym))\r\n            .anyMatch(abstractMType -&gt; isSubSignature(abstractMType, mtype))) {\r\n        abstracts.append(sym);\r\n    }\r\n    ```\r\n    Methods are filtered out if:\r\n    - their enclosing class is super class of that of another previously matched method,\r\n    - and the signature of that previously matched method is [*subsignature*] of that of this method.\r\n- Otherwise, the functional interface is not valid.\r\n\r\n[*override equivalence*]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\r\n[*subsignature*]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\r\n\r\nHaving collected `abstracts`, `javac` then goes to `mergeDescriptors`, which uses `mergeAbstracts`, which I will just quote from its comments:\r\n```java\r\n/**\r\n * Merge multiple abstract methods. The preferred method is a method that is a subsignature\r\n * of all the other signatures and whose return type is more specific {@see MostSpecificReturnCheck}.\r\n * The resulting preferred method has a thrown clause that is the intersection of the merged\r\n * methods&#39; clauses.\r\n */\r\npublic Optional&lt;Symbol&gt; mergeAbstracts(List&lt;Symbol&gt; ambiguousInOrder, Type site, boolean sigCheck) {\r\n    // ...\r\n}\r\n```\r\n\r\n## Conclusion\r\n\r\n1. Functional interfaces must be interfaces :P , and must not be `sealed` or annotations.\r\n2. Methods are searched in the whole inheritance tree.\r\n3. Methods overlapping with those from `Object` are ignored.\r\n4. `default` methods are ignored, unless they are later overridden by sub-interfaces as non-default.\r\n5. Matching methods must all share the same name, related by override equivalence.\r\n6. Either there is only one method matching the above conditions, or matching methods can get &quot;merged&quot; by their class hierarchy, subsignature relations, return types and thrown clauses.","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>Here is a &quot;show me the code&quot; approach to understanding the definition:\nwe shall look into OpenJDK <code>javac</code> for how it checks validity of classes annotated with <code>@FunctionalInterface</code>.</p>\n<p>The most recent (as of July, 2022) implementation lies here:\n<a href=\"https://github.com/openjdk/jdk/blob/226b8e680a82096b3d268703872d30182c10e326/src/jdk.compiler/share/classes/com/sun/tools/javac/code/Types.java#L735-L791\" rel=\"nofollow noreferrer\">com/sun/tools/javac/code/Types.java#L735-L791</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Compute the function descriptor associated with a given functional interface\n */\npublic FunctionDescriptor findDescriptorInternal(TypeSymbol origin,\n        CompoundScope membersCache) throws FunctionDescriptorLookupError {\n    // ...\n}\n</code></pre>\n<h2>Class Restriction</h2>\n<pre class=\"lang-java prettyprint-override\"><code>if (!origin.isInterface() || (origin.flags() &amp; ANNOTATION) != 0 || origin.isSealed()) {\n    //t must be an interface\n    throw failure(&quot;not.a.functional.intf&quot;, origin);\n}\n</code></pre>\n<p>Pretty simple: the class must be an interface and must not be a sealed one.</p>\n<h2>Member Restriction</h2>\n<pre class=\"lang-java prettyprint-override\"><code>for (Symbol sym : membersCache.getSymbols(new DescriptorFilter(origin))) { /* ... */ }\n</code></pre>\n<p>In this loop, <code>javac</code> goes through the members of the <code>origin</code> class, using a <code>DescriptorFilter</code> to retrieve:</p>\n<ul>\n<li>Method members (of course)</li>\n<li><code>&amp;&amp;</code> that are <code>abstract</code> but not <code>default</code>,</li>\n<li><code>&amp;&amp;</code> and do not overwrite methods from <code>Object</code>,</li>\n<li><code>&amp;&amp;</code> with their top level declaration not a <code>default</code> one.</li>\n</ul>\n<p>If there is only one method matching all the above conditions, then surely it is a valid functional interface, and any lambda will overwrite that very method.</p>\n<p>However, if there are multiple, <code>javac</code> tries to merge them:</p>\n<ul>\n<li>If those methods all share the same name, related by <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\"><em>override equivalence</em></a>:\n<ul>\n<li>then we filter them into a <code>abstracts</code> collection:\n<pre><code>if (!abstracts.stream().filter(msym -&gt; msym.owner.isSubClass(sym.enclClass(), Types.this))\n        .map(msym -&gt; memberType(origin.type, msym))\n        .anyMatch(abstractMType -&gt; isSubSignature(abstractMType, mtype))) {\n    abstracts.append(sym);\n}\n</code></pre>\nMethods are filtered out if:\n<ul>\n<li>their enclosing class is super class of that of another previously matched method,</li>\n<li>and the signature of that previously matched method is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\"><em>subsignature</em></a> of that of this method.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Otherwise, the functional interface is not valid.</li>\n</ul>\n<p>Having collected <code>abstracts</code>, <code>javac</code> then goes to <code>mergeDescriptors</code>, which uses <code>mergeAbstracts</code>, which I will just quote from its comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Merge multiple abstract methods. The preferred method is a method that is a subsignature\n * of all the other signatures and whose return type is more specific {@see MostSpecificReturnCheck}.\n * The resulting preferred method has a thrown clause that is the intersection of the merged\n * methods' clauses.\n */\npublic Optional&lt;Symbol&gt; mergeAbstracts(List&lt;Symbol&gt; ambiguousInOrder, Type site, boolean sigCheck) {\n    // ...\n}\n</code></pre>\n<h2>Conclusion</h2>\n<ol>\n<li>Functional interfaces must be interfaces :P , and must not be <code>sealed</code> or annotations.</li>\n<li>Methods are searched in the whole inheritance tree.</li>\n<li>Methods overlapping with those from <code>Object</code> are ignored.</li>\n<li><code>default</code> methods are ignored, unless they are later overridden by sub-interfaces as non-default.</li>\n<li>Matching methods must all share the same name, related by override equivalence.</li>\n<li>Either there is only one method matching the above conditions, or matching methods can get &quot;merged&quot; by their class hierarchy, subsignature relations, return types and thrown clauses.</li>\n</ol>\n"}],"owner":{"account_id":1241991,"reputation":5769,"user_id":1204377,"accept_rate":96,"display_name":"Anton Cherkashyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9749,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":14656085,"answer_count":9,"score":78,"last_activity_date":1659370393,"creation_date":1359756768,"question_id":14655913,"body_markdown":"Recently I started exploring Java 8 and I can&#39;t quite understand the concept of &quot;functional interface&quot; that is essential to Java&#39;s implementation of lambda expressions. There is a [pretty comprehensive guide][1] to lambda functions in Java, but I got stuck on [the chapter that gives definition to the concept of functional interfaces][2]. The definition reads:\r\n\r\n&gt; More precisely, a functional interface is defined as any interface that has exactly one abstract method.\r\n\r\nAn then he proceeds to examples, one of which is `Comparator` interface:\r\n\r\n&gt;     public interface Comparator&lt;T&gt; {\r\n&gt;         int compare(T o1, T o2);\r\n&gt;         boolean equals(Object obj);\r\n&gt;     } \r\n\r\nI was able to test that I can use a lambda function in place of Comparator argument and it works(i.e. `Collections.sort(list, (a, b) -&gt; a-b)`). \r\n\r\nBut in the Comparator interface both `compare` and `equals` methods are abstract, which means it has **two abstract methods**. So how can this be working, if the definition requires an interface to have **exactly one abstract method**? What am I missing here?\r\n\r\n\r\n  [1]: http://www.lambdafaq.org/\r\n  [2]: http://www.lambdafaq.org/what-is-a-functional-interface/","title":"Precise definition of &quot;functional interface&quot; in Java 8","body":"<p>Recently I started exploring Java 8 and I can't quite understand the concept of \"functional interface\" that is essential to Java's implementation of lambda expressions. There is a <a href=\"http://www.lambdafaq.org/\" rel=\"noreferrer\">pretty comprehensive guide</a> to lambda functions in Java, but I got stuck on <a href=\"http://www.lambdafaq.org/what-is-a-functional-interface/\" rel=\"noreferrer\">the chapter that gives definition to the concept of functional interfaces</a>. The definition reads:</p>\n\n<blockquote>\n  <p>More precisely, a functional interface is defined as any interface that has exactly one abstract method.</p>\n</blockquote>\n\n<p>An then he proceeds to examples, one of which is <code>Comparator</code> interface:</p>\n\n<blockquote>\n<pre><code>public interface Comparator&lt;T&gt; {\n    int compare(T o1, T o2);\n    boolean equals(Object obj);\n} \n</code></pre>\n</blockquote>\n\n<p>I was able to test that I can use a lambda function in place of Comparator argument and it works(i.e. <code>Collections.sort(list, (a, b) -&gt; a-b)</code>). </p>\n\n<p>But in the Comparator interface both <code>compare</code> and <code>equals</code> methods are abstract, which means it has <strong>two abstract methods</strong>. So how can this be working, if the definition requires an interface to have <strong>exactly one abstract method</strong>? What am I missing here?</p>\n"},{"tags":["java","do-while","factorial"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1659206847,"post_id":73178241,"comment_id":129240992,"body_markdown":"You are talking about &quot;smallest&quot; and &quot;closest&quot;. Which one is it? Can you provide more examples so we can see what you are talking about?","body":"You are talking about &quot;smallest&quot; and &quot;closest&quot;. Which one is it? Can you provide more examples so we can see what you are talking about?"},{"owner":{"account_id":6692290,"reputation":1789,"user_id":5436259,"accept_rate":50,"display_name":"infinitezero"},"score":1,"creation_date":1659206893,"post_id":73178241,"comment_id":129241008,"body_markdown":"Why is `sum` called sum? You do not sum anything. You should add a print statement to print intermediate results. That will put you into the right direction. Not the cause but helpful to Google: integer division.","body":"Why is <code>sum</code> called sum? You do not sum anything. You should add a print statement to print intermediate results. That will put you into the right direction. Not the cause but helpful to Google: integer division."},{"owner":{"account_id":23839012,"reputation":1,"user_id":17844357,"display_name":"Ricardo Ferreira"},"score":0,"creation_date":1659254704,"post_id":73178241,"comment_id":129247138,"body_markdown":"@Progman yes in my task the &quot;smallest&quot; and &quot;closest&quot; means pratically the same. Here I have an excerpt of my task: \n\n&quot;A user inputs a long positive number m. You need to find out what is the smallest int number n such that n! &gt; m.\n\nn!, or factorial n, is a product of all natural numbers from 1 to n inclusive: for example, 5! = 1 * 2 * 3 * 4 * 5.\n\nFor example, the user enters 100. This means m = 100 and n = 5 because 5! = 120 (see the factorial formula) and this is the smallest number that satisfies the condition n! &gt; m.&quot;","body":"@Progman yes in my task the &quot;smallest&quot; and &quot;closest&quot; means pratically the same. Here I have an excerpt of my task:   &quot;A user inputs a long positive number m. You need to find out what is the smallest int number n such that n! &gt; m.  n!, or factorial n, is a product of all natural numbers from 1 to n inclusive: for example, 5! = 1 * 2 * 3 * 4 * 5.  For example, the user enters 100. This means m = 100 and n = 5 because 5! = 120 (see the factorial formula) and this is the smallest number that satisfies the condition n! &gt; m.&quot;"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1659255381,"post_id":73178241,"comment_id":129247235,"body_markdown":"@RicardoFerreira Then &quot;closest&quot; is the wrong word here, because it has a different meaning than &quot;smallest&quot;. For the input number `130` the &quot;closest&quot; factorial value would be `5! = 120` (difference is `10`), even though the correct answer would be `!6 = 720` (difference is `590`), which is &quot;further&quot; away, but still meets the condition `n! &gt; m`. Please [edit] your question to rephrase your question without using the word &quot;closest&quot;. Also add the original assignment text to avoid any confusions.","body":"@RicardoFerreira Then &quot;closest&quot; is the wrong word here, because it has a different meaning than &quot;smallest&quot;. For the input number <code>130</code> the &quot;closest&quot; factorial value would be <code>5! = 120</code> (difference is <code>10</code>), even though the correct answer would be <code>!6 = 720</code> (difference is <code>590</code>), which is &quot;further&quot; away, but still meets the condition <code>n! &gt; m</code>. Please <a href=\"https://stackoverflow.com/posts/73178241/edit\">edit</a> your question to rephrase your question without using the word &quot;closest&quot;. Also add the original assignment text to avoid any confusions."}],"answers":[{"tags":[],"owner":{"account_id":21257274,"reputation":11,"user_id":15638573,"display_name":"Houria Marref"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659209064,"creation_date":1659209044,"answer_id":73178489,"question_id":73178241,"body_markdown":"you should calculate the factorial of numbers, untill you find an equal or smaller number than the number you entered, as shown in the following code : \r\n    \r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n        public Long factorial (int n){\r\n          long p = 1L;\r\n          for(int i = 1; i&lt;= n ; i++){\r\n            p=p*i;\r\n          }\r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            long number = scanner.nextLong();\r\n            long i = 1;\r\n           while (factorial(i) &lt; number) {\r\n               i++;\r\n            }\r\n            System.out.println(i);\r\n        }","title":"factorial of given number","body":"<p>you should calculate the factorial of numbers, untill you find an equal or smaller number than the number you entered, as shown in the following code :</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n    public Long factorial (int n){\n      long p = 1L;\n      for(int i = 1; i&lt;= n ; i++){\n        p=p*i;\n      }\n    }\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        long number = scanner.nextLong();\n        long i = 1;\n       while (factorial(i) &lt; number) {\n           i++;\n        }\n        System.out.println(i);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659279194,"creation_date":1659215025,"answer_id":73179043,"question_id":73178241,"body_markdown":"Here is one way.  This will return the smallest factorial greater than the number.  A record is used to return the information.\r\n```\r\nrecord Factorial(long n, long nFact) {}\r\nInteger[] data = {1,2,5,10,200,500,2520,1000, 5040, 720, 2000, 3000, 10_000};\r\nfor (long i  : data) {\r\n\t Factorial result = smallestFactorial(i);\r\n\t System.out.printf(&quot;For %-8d the smallest &gt;= %8d is (%d! = %d)%n&quot;,\r\n\t\t\t i, i, result.n, result.nFact);\r\n}\r\n\r\n```\r\nprints\r\n```\r\nFor 1        the smallest &gt;=        1 is (2! = 2)\r\nFor 2        the smallest &gt;=        2 is (2! = 2)\r\nFor 5        the smallest &gt;=        5 is (3! = 6)\r\nFor 10       the smallest &gt;=       10 is (4! = 24)\r\nFor 200      the smallest &gt;=      200 is (6! = 720)\r\nFor 500      the smallest &gt;=      500 is (6! = 720)\r\nFor 2520     the smallest &gt;=     2520 is (7! = 5040)\r\nFor 1000     the smallest &gt;=     1000 is (7! = 5040)\r\nFor 5040     the smallest &gt;=     5040 is (7! = 5040)\r\nFor 720      the smallest &gt;=      720 is (6! = 720)\r\nFor 2000     the smallest &gt;=     2000 is (7! = 5040)\r\nFor 3000     the smallest &gt;=     3000 is (7! = 5040)\r\nFor 10000    the smallest &gt;=    10000 is (8! = 40320)\r\n\r\n```\r\nThis method calculates the factorial while comparing to the passed argument.\r\n- to save time it memoizes the factorials computed\r\n- continue calculating factorials until the factorial exceeds the argument.\r\n- Then return the information in a record.\r\n``` \t\r\npublic static Factorial smallestFactorial(long n) {\r\n   if (n &lt;= 1) {\r\n\t   return new Factorial(2,2);\r\n   }\r\n   long fact = factorials.floorKey(n);\r\n   int k = factorials.get(fact);\r\n   while (n &gt; fact) {\r\n\t   fact*=++k;\r\n\t   factorials.putIfAbsent(fact, k);\r\n   }\r\n   return new Factorial(k, fact);  \r\n}\r\n```\r\nThe output formatting is incidental and can of course be changed to suit your requirements. ","title":"factorial of given number","body":"<p>Here is one way.  This will return the smallest factorial greater than the number.  A record is used to return the information.</p>\n<pre><code>record Factorial(long n, long nFact) {}\nInteger[] data = {1,2,5,10,200,500,2520,1000, 5040, 720, 2000, 3000, 10_000};\nfor (long i  : data) {\n     Factorial result = smallestFactorial(i);\n     System.out.printf(&quot;For %-8d the smallest &gt;= %8d is (%d! = %d)%n&quot;,\n             i, i, result.n, result.nFact);\n}\n\n</code></pre>\n<p>prints</p>\n<pre><code>For 1        the smallest &gt;=        1 is (2! = 2)\nFor 2        the smallest &gt;=        2 is (2! = 2)\nFor 5        the smallest &gt;=        5 is (3! = 6)\nFor 10       the smallest &gt;=       10 is (4! = 24)\nFor 200      the smallest &gt;=      200 is (6! = 720)\nFor 500      the smallest &gt;=      500 is (6! = 720)\nFor 2520     the smallest &gt;=     2520 is (7! = 5040)\nFor 1000     the smallest &gt;=     1000 is (7! = 5040)\nFor 5040     the smallest &gt;=     5040 is (7! = 5040)\nFor 720      the smallest &gt;=      720 is (6! = 720)\nFor 2000     the smallest &gt;=     2000 is (7! = 5040)\nFor 3000     the smallest &gt;=     3000 is (7! = 5040)\nFor 10000    the smallest &gt;=    10000 is (8! = 40320)\n\n</code></pre>\n<p>This method calculates the factorial while comparing to the passed argument.</p>\n<ul>\n<li>to save time it memoizes the factorials computed</li>\n<li>continue calculating factorials until the factorial exceeds the argument.</li>\n<li>Then return the information in a record.</li>\n</ul>\n<pre><code>public static Factorial smallestFactorial(long n) {\n   if (n &lt;= 1) {\n       return new Factorial(2,2);\n   }\n   long fact = factorials.floorKey(n);\n   int k = factorials.get(fact);\n   while (n &gt; fact) {\n       fact*=++k;\n       factorials.putIfAbsent(fact, k);\n   }\n   return new Factorial(k, fact);  \n}\n</code></pre>\n<p>The output formatting is incidental and can of course be changed to suit your requirements.</p>\n"}],"owner":{"account_id":23839012,"reputation":1,"user_id":17844357,"display_name":"Ricardo Ferreira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659370274,"creation_date":1659206624,"question_id":73178241,"body_markdown":"I would like to find the smallest factorial of a given long number. For example, if you enter the number 100, the code should give the factorial 5, since 5! = 1 * 2 * 3 * 4 * 5 = 120 is closer than the factorial 4! = 1 * 2 * 3 * 4 = 24. I have written the code below, but when I enter 100, I only get the factorial 3.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            long number = scanner.nextLong();\r\n            long factorial = 1;\r\n            long sum;\r\n            do {\r\n                sum = number / factorial;\r\n                factorial++;\r\n            } while (number &lt;= sum);\r\n            System.out.println(factorial);\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong here?","title":"factorial of given number","body":"<p>I would like to find the smallest factorial of a given long number. For example, if you enter the number 100, the code should give the factorial 5, since 5! = 1 * 2 * 3 * 4 * 5 = 120 is closer than the factorial 4! = 1 * 2 * 3 * 4 = 24. I have written the code below, but when I enter 100, I only get the factorial 3.</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        long number = scanner.nextLong();\n        long factorial = 1;\n        long sum;\n        do {\n            sum = number / factorial;\n            factorial++;\n        } while (number &lt;= sum);\n        System.out.println(factorial);\n    }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1659369857,"post_id":73196531,"comment_id":129273213,"body_markdown":"`(ICustomerSvc)` is a cast, look it up. `(ICustomerSvc.NAME)` is a method argument.","body":"<code>(ICustomerSvc)</code> is a cast, look it up. <code>(ICustomerSvc.NAME)</code> is a method argument."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659370594,"post_id":73196531,"comment_id":129273440,"body_markdown":"Does this answer your question? [What does a type name in brackets mean?](https://stackoverflow.com/questions/23237706/what-does-a-type-name-in-brackets-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23237706/what-does-a-type-name-in-brackets-mean\">What does a type name in brackets mean?</a>"},{"owner":{"display_name":"user17518971"},"score":0,"creation_date":1659371053,"post_id":73196531,"comment_id":129273552,"body_markdown":"I think the link you provided is a little high-level for me to understand right away, but with some more looking into it, I&#39;m sure it&#39;ll eventually make sense. Looks like I need to do more researching on casting. Thank you for this link!","body":"I think the link you provided is a little high-level for me to understand right away, but with some more looking into it, I&#39;m sure it&#39;ll eventually make sense. Looks like I need to do more researching on casting. Thank you for this link!"},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1659550093,"post_id":73196531,"comment_id":129323185,"body_markdown":"Does this answer your question? [What does a type name in brackets mean?](https://stackoverflow.com/questions/23237706/what-does-a-type-name-in-brackets-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23237706/what-does-a-type-name-in-brackets-mean\">What does a type name in brackets mean?</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659369956,"creation_date":1659369956,"answer_id":73196585,"question_id":73196531,"body_markdown":"```\r\nICustomerSvc custSvc = (ICustomerSvc)factory.getService(ICustomerSvc.NAME);\r\n```\r\n\r\n`(ICustomerSvc)` is casting the return value of `factory.getService(ICustomerSvc.NAME)` so that it can be assigned to a variable of type `ICustomerSvc`.\r\n\r\nThis is presumably necessary because `factory.getService` returns some other type, e.g. `CustomerSvc` or `Service`. I can&#39;t say exactly because you haven&#39;t shown the definition.\r\n\r\nIf that return value isn&#39;t an instance of `ICustomerSvc` (or null), that will fail with a `ClassCastException`.","title":"Where to put parentheses in Java in methods?","body":"<pre><code>ICustomerSvc custSvc = (ICustomerSvc)factory.getService(ICustomerSvc.NAME);\n</code></pre>\n<p><code>(ICustomerSvc)</code> is casting the return value of <code>factory.getService(ICustomerSvc.NAME)</code> so that it can be assigned to a variable of type <code>ICustomerSvc</code>.</p>\n<p>This is presumably necessary because <code>factory.getService</code> returns some other type, e.g. <code>CustomerSvc</code> or <code>Service</code>. I can't say exactly because you haven't shown the definition.</p>\n<p>If that return value isn't an instance of <code>ICustomerSvc</code> (or null), that will fail with a <code>ClassCastException</code>.</p>\n"}],"owner":{"display_name":"user17518971"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659604417,"answer_count":1,"score":0,"last_activity_date":1659370101,"creation_date":1659369762,"question_id":73196531,"body_markdown":"I&#39;m confused by the following code that I&#39;m learning for my class. I&#39;m wondering if someone could break down the following part for me, in an Explain Like I&#39;m Five fashion: \r\n\r\n`(ICustomerSvc) factory.getService(ICustomerSvc.NAME);`\r\n\r\nEssentially, I&#39;m confused as to why the `ICustomerSvc` and `ICustomerSvc.NAME` are in parentheses. \r\n\r\n```java\r\npublic void create (Customer cust) throws ServiceLoadException, CustomerSvcException {\r\n    Factory factory = Factory.getInstance();\r\n    ICustomerSvc custSvc = (ICustomerSvc) factory.getService(ICustomerSvc.NAME);\r\n    custSvc.store(cust);\r\n}\r\n```","title":"Where to put parentheses in Java in methods?","body":"<p>I'm confused by the following code that I'm learning for my class. I'm wondering if someone could break down the following part for me, in an Explain Like I'm Five fashion:</p>\n<p><code>(ICustomerSvc) factory.getService(ICustomerSvc.NAME);</code></p>\n<p>Essentially, I'm confused as to why the <code>ICustomerSvc</code> and <code>ICustomerSvc.NAME</code> are in parentheses.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void create (Customer cust) throws ServiceLoadException, CustomerSvcException {\n    Factory factory = Factory.getInstance();\n    ICustomerSvc custSvc = (ICustomerSvc) factory.getService(ICustomerSvc.NAME);\n    custSvc.store(cust);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","many-to-one"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1659288042,"post_id":73182734,"comment_id":129253962,"body_markdown":"Try using saveAndFlush instead of just save, this will force the entities to resync, see https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa","body":"Try using saveAndFlush instead of just save, this will force the entities to resync, see <a href=\"https://stackoverflow.com/questions/21203875/difference-between-save-and-saveandflush-in-spring-data-jpa\" title=\"difference between save and saveandflush in spring data jpa\">stackoverflow.com/questions/21203875/&hellip;</a>"},{"owner":{"account_id":25938932,"reputation":11,"user_id":19658736,"display_name":"Dawid Łuczak"},"score":0,"creation_date":1659300519,"post_id":73182734,"comment_id":129256489,"body_markdown":"I&#39;ve used saveAndFlush before, but it doesn&#39;t solve my case","body":"I&#39;ve used saveAndFlush before, but it doesn&#39;t solve my case"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659370067,"creation_date":1659370067,"answer_id":73196598,"question_id":73182734,"body_markdown":"&gt;This only happens when the database is restarted.\r\n\r\nAre you sure that the `Employee` in the collection of the one `Community` is the same (i.e. has the same id) as the one in the other `Community`? My guess is that you might have duplicate `Employee` objects.\r\n\r\nYour code looks fine to me, so AFAICT this should work just like you intended it to work.\r\n\r\nIf you don&#39;t have duplicate `Employee` rows, another possible explanation is that your previous update simply didn&#39;t commit properly to the database (your database lost data). The membership of a `Employee` to the collection of a `Community` is defined through the FK `community_id` in the table `employee`, so if you find a `Employee` in a collection of a `Community` where it doesn&#39;t belong, this means the FK value was not correctly updated, or the transaction that updated this wasn&#39;t properly committed.\r\n\r\nSo, now you have to figure out what is happening there exactly. My guess is, the FK is not updated correctly for some reason.","title":"Bidirectional @OneToMany/@ManyToOne relation cascade","body":"<blockquote>\n<p>This only happens when the database is restarted.</p>\n</blockquote>\n<p>Are you sure that the <code>Employee</code> in the collection of the one <code>Community</code> is the same (i.e. has the same id) as the one in the other <code>Community</code>? My guess is that you might have duplicate <code>Employee</code> objects.</p>\n<p>Your code looks fine to me, so AFAICT this should work just like you intended it to work.</p>\n<p>If you don't have duplicate <code>Employee</code> rows, another possible explanation is that your previous update simply didn't commit properly to the database (your database lost data). The membership of a <code>Employee</code> to the collection of a <code>Community</code> is defined through the FK <code>community_id</code> in the table <code>employee</code>, so if you find a <code>Employee</code> in a collection of a <code>Community</code> where it doesn't belong, this means the FK value was not correctly updated, or the transaction that updated this wasn't properly committed.</p>\n<p>So, now you have to figure out what is happening there exactly. My guess is, the FK is not updated correctly for some reason.</p>\n"}],"owner":{"account_id":25938932,"reputation":11,"user_id":19658736,"display_name":"Dawid Łuczak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659370067,"creation_date":1659265487,"question_id":73182734,"body_markdown":"I have a problem with mapping an entity (Employee) with @ManyToOne relation to the entity (Community) with @OneToMany relation. \r\n\r\nWhen I assign an entity (Community) to an entity (Employee) where the value of Community is null, it works fine. \r\n\r\nThe problem arises, if the Employee already has an assigned value to the Community. \r\nWhen I change this value and save the changes, the Employee has got new value for the Community and this new Community has got this Employee in the collection. \r\nThe only thing is that the old Community still has this Employee in the collection to, but it should be removed. This only happens when the database is restarted.\r\n\r\nI tried to solve this problem using both @JoinColumn and @JoinTable, but the problem is the same. I would like to avoid removing an Entity from the old relation by calling JPA in update/create service method.\r\n\r\nAre there any solutions to this problem?\r\n\r\nHere is the code:\r\n\r\n\r\n\r\n * A Community\r\n\r\n\r\n        @Entity\r\n        @Table(name = &quot;community&quot;)\r\n        public class Community implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;community&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n        private Set&lt;Employee&gt; employees = new java.util.LinkedHashSet&lt;&gt;();\r\n    \r\n        public Long getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public Community id(Long id) {\r\n            this.setId(id);\r\n            return this;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Set&lt;Employee&gt; getEmployees() {\r\n            return this.employees;\r\n        }\r\n    \r\n        public void setEmployees(Set&lt;Employee&gt; employees) {\r\n            if (this.employees != null) {\r\n                this.employees.forEach(i -&gt; i.setCommunity(null));\r\n            }\r\n            if (employees != null) {\r\n                employees.forEach(i -&gt; i.setCommunity(this));\r\n            }\r\n            this.employees = employees;\r\n        }\r\n    \r\n        public Community employees(Set&lt;Employee&gt; employees) {\r\n            this.setEmployees(employees);\r\n            return this;\r\n        }\r\n    \r\n        public Community addEmployees(Employee employee) {\r\n            this.employees.add(employee);\r\n            employee.setCommunity(this);\r\n            return this;\r\n        }\r\n    \r\n        public Community removeEmployees(Employee employee) {\r\n            this.employees.remove(employee);\r\n            employee.setCommunity(null);\r\n            return this;\r\n        }\r\n\r\n\r\n* A Employee.\r\n\r\n        @Entity\r\n        @Table(name = &quot;employee&quot;)\r\n        public class Employee implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n\r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(name = &quot;community_id&quot;)\r\n        //    @JoinTable(name = &quot;rel_community__employees&quot;,\r\n        //        joinColumns = {@JoinColumn(name = &quot;community_id&quot;, referencedColumnName = \r\n                  &quot;id&quot;, nullable = false)},\r\n        //        inverseJoinColumns = {@JoinColumn(name = &quot;employee_id&quot;, \r\n                  referencedColumnName = &quot;id&quot;, nullable = false)})\r\n        @Cascade({CascadeType.PERSIST, CascadeType.REFRESH)\r\n        private Community community;\r\n\r\n        public Long getId() {\r\n            return this.id;\r\n        }\r\n\r\n        public Employee id(Long id) {\r\n            this.setId(id);\r\n            return this;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public Community getCommunity() {\r\n            return this.community;\r\n        }\r\n    \r\n        public void setCommunity(Community community) {\r\n            this.community = community;\r\n        }\r\n    \r\n        public Employee community(Community community) {\r\n            this.setCommunity(community);\r\n            return this;\r\n        }\r\n\r\n    \r\n* Service Implementation for managing {@link Employee}.\r\n    \r\n    \r\n\r\n        @Service\r\n        @Transactional\r\n        public class EmployeeServiceImpl implements EmployeeService {\r\n    \r\n        @Override\r\n        public EmployeeDTO save(EmployeeDTO employeeDTO) {\r\n            Employee employee = employeeMapper.toEntity(employeeDTO);\r\n            employee = employeeRepository.save(employee);\r\n            return employeeMapper.toDto(employee);\r\n        }\r\n    \r\n        @Override\r\n        public EmployeeDTO update(EmployeeDTO employeeDTO) {\r\n            Employee employee = employeeMapper.toEntity(employeeDTO);\r\n            employee = employeeRepository.save(employee);\r\n            return employeeMapper.toDto(employee);\r\n        }\r\n    }","title":"Bidirectional @OneToMany/@ManyToOne relation cascade","body":"<p>I have a problem with mapping an entity (Employee) with @ManyToOne relation to the entity (Community) with @OneToMany relation.</p>\n<p>When I assign an entity (Community) to an entity (Employee) where the value of Community is null, it works fine.</p>\n<p>The problem arises, if the Employee already has an assigned value to the Community.\nWhen I change this value and save the changes, the Employee has got new value for the Community and this new Community has got this Employee in the collection.\nThe only thing is that the old Community still has this Employee in the collection to, but it should be removed. This only happens when the database is restarted.</p>\n<p>I tried to solve this problem using both @JoinColumn and @JoinTable, but the problem is the same. I would like to avoid removing an Entity from the old relation by calling JPA in update/create service method.</p>\n<p>Are there any solutions to this problem?</p>\n<p>Here is the code:</p>\n<ul>\n<li><p>A Community</p>\n<pre><code> @Entity\n @Table(name = &quot;community&quot;)\n public class Community implements Serializable {\n\n private static final long serialVersionUID = 1L;\n\n @Id\n @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n @Column(name = &quot;id&quot;)\n private Long id;\n\n @OneToMany(mappedBy = &quot;community&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n private Set&lt;Employee&gt; employees = new java.util.LinkedHashSet&lt;&gt;();\n\n public Long getId() {\n     return this.id;\n }\n\n public Community id(Long id) {\n     this.setId(id);\n     return this;\n }\n\n public void setId(Long id) {\n     this.id = id;\n }\n\n public Set&lt;Employee&gt; getEmployees() {\n     return this.employees;\n }\n\n public void setEmployees(Set&lt;Employee&gt; employees) {\n     if (this.employees != null) {\n         this.employees.forEach(i -&gt; i.setCommunity(null));\n     }\n     if (employees != null) {\n         employees.forEach(i -&gt; i.setCommunity(this));\n     }\n     this.employees = employees;\n }\n\n public Community employees(Set&lt;Employee&gt; employees) {\n     this.setEmployees(employees);\n     return this;\n }\n\n public Community addEmployees(Employee employee) {\n     this.employees.add(employee);\n     employee.setCommunity(this);\n     return this;\n }\n\n public Community removeEmployees(Employee employee) {\n     this.employees.remove(employee);\n     employee.setCommunity(null);\n     return this;\n }\n</code></pre>\n</li>\n<li><p>A Employee.</p>\n<pre><code>  @Entity\n  @Table(name = &quot;employee&quot;)\n  public class Employee implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @ManyToOne(optional = false)\n  @JoinColumn(name = &quot;community_id&quot;)\n  //    @JoinTable(name = &quot;rel_community__employees&quot;,\n  //        joinColumns = {@JoinColumn(name = &quot;community_id&quot;, referencedColumnName = \n            &quot;id&quot;, nullable = false)},\n  //        inverseJoinColumns = {@JoinColumn(name = &quot;employee_id&quot;, \n            referencedColumnName = &quot;id&quot;, nullable = false)})\n  @Cascade({CascadeType.PERSIST, CascadeType.REFRESH)\n  private Community community;\n\n  public Long getId() {\n      return this.id;\n  }\n\n  public Employee id(Long id) {\n      this.setId(id);\n      return this;\n  }\n\n  public void setId(Long id) {\n      this.id = id;\n  }\n\n  public Community getCommunity() {\n      return this.community;\n  }\n\n  public void setCommunity(Community community) {\n      this.community = community;\n  }\n\n  public Employee community(Community community) {\n      this.setCommunity(community);\n      return this;\n  }\n</code></pre>\n</li>\n<li><p>Service Implementation for managing {@link Employee}.</p>\n<pre><code>  @Service\n  @Transactional\n  public class EmployeeServiceImpl implements EmployeeService {\n\n  @Override\n  public EmployeeDTO save(EmployeeDTO employeeDTO) {\n      Employee employee = employeeMapper.toEntity(employeeDTO);\n      employee = employeeRepository.save(employee);\n      return employeeMapper.toDto(employee);\n  }\n\n  @Override\n  public EmployeeDTO update(EmployeeDTO employeeDTO) {\n      Employee employee = employeeMapper.toEntity(employeeDTO);\n      employee = employeeRepository.save(employee);\n      return employeeMapper.toDto(employee);\n  }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1659370083,"post_id":73196463,"comment_id":129273287,"body_markdown":"PanelProperties are properties for user with role panel, simply panel password for now, Added how does it looks like in post update","body":"PanelProperties are properties for user with role panel, simply panel password for now, Added how does it looks like in post update"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1659370162,"post_id":73196463,"comment_id":129273318,"body_markdown":"userDetailsService is a bean, so spring boot app if Im thinking good should use it in autoconfiguration","body":"userDetailsService is a bean, so spring boot app if Im thinking good should use it in autoconfiguration"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1659370487,"post_id":73196463,"comment_id":129273403,"body_markdown":"I think you must first override WebSecurityConfigurerAdapter&#39;s userDetailsService method.","body":"I think you must first override WebSecurityConfigurerAdapter&#39;s userDetailsService method."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1659370523,"post_id":73196463,"comment_id":129273414,"body_markdown":"Ye I was doing it before in my apps but for now WebSecurityConfigurerAdapter is deprecated. https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"Ye I was doing it before in my apps but for now WebSecurityConfigurerAdapter is deprecated. <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1659370576,"post_id":73196463,"comment_id":129273430,"body_markdown":"Ok, you&#39;re using spring security 5.x","body":"Ok, you&#39;re using spring security 5.x"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1659371595,"post_id":73196463,"comment_id":129273715,"body_markdown":"Problem solved, all of that was my mistake cuz I forgot to enable http basic authentication and I couldnt log in, but I still dont know why it was 403 status.","body":"Problem solved, all of that was my mistake cuz I forgot to enable http basic authentication and I couldnt log in, but I still dont know why it was 403 status."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659375460,"post_id":73196463,"comment_id":129274918,"body_markdown":"Because as you can see, spring tries to redirect you to `/error` which is the default error page but you have not declared it to be permitted. Thats my guess but you have not posted your full logs so its impossible to know what happens up to the errors","body":"Because as you can see, spring tries to redirect you to <code>&#47;error</code> which is the default error page but you have not declared it to be permitted. Thats my guess but you have not posted your full logs so its impossible to know what happens up to the errors"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1659421431,"post_id":73196463,"comment_id":129284179,"body_markdown":"It was actually all, I did not see anything more with, even with debug enabled","body":"It was actually all, I did not see anything more with, even with debug enabled"}],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659370044,"creation_date":1659369405,"question_id":73196463,"body_markdown":"Hi I have created security config like in snippet below:\r\n```java\r\n@Slf4j\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                   .csrf()\r\n                   .disable()\r\n                   .authorizeRequests()\r\n                   .antMatchers(&quot;/panel/**&quot;)\r\n                   .hasRole(&quot;PANEL&quot;)\r\n                   .and()\r\n                   .build();}\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService( PanelProperties panelProperties) {\r\n\r\n        UserDetails panelUser = prepareUserDetails(panelProperties.getUser(), panelProperties.getPassword(), &quot;PANEL&quot;);\r\n\r\n        return new InMemoryUserDetailsManager(panelUser);\r\n    }\r\n\r\n    private UserDetails prepareUserDetails(String username, String password, String... roles) {\r\n        return User.withUsername(username)\r\n                   .password(password)\r\n                   .roles(roles)\r\n                   .build();\r\n    }\r\n}\r\n```\r\n\r\nfor every request im getting 403 FORBIDDEN http response with debug logs:\r\n\r\n```\r\n2022-08-01 17:51:24.914 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.DispatcherServlet:119 : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\r\n2022-08-01 17:51:24.914 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:522 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2022-08-01 17:51:24.915 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor:268 : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n2022-08-01 17:51:24.915 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] \r\n```\r\nWhen I replaced lines antMatchers and hasRole with anyRequests().permitAll() it started worked but without security\r\n\r\nIt seems like userDetailsService not works correctly. Do you have any ideas why it may not work?\r\n\r\nupdate:\r\nI have also bean:\r\n```java\r\n@Configuration\r\npublic class PasswordEncoderConfiguration {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nAnd password are hashed with bCrypt correctly\r\n\r\nupdate2:\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;security&quot;)\r\n@Data\r\n@ToString(exclude = {&quot;panelUserPassword&quot;})\r\nclass SecurityUsersProperties {\r\n\r\n    @NotNull\r\n    private String panelUser; //panel\r\n\r\n    @NotNull\r\n    private String panelUserPassword; //password encoded brypt\r\n}\r\n```","title":"Spring Boot application return 403 status for all requests","body":"<p>Hi I have created security config like in snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                   .csrf()\n                   .disable()\n                   .authorizeRequests()\n                   .antMatchers(&quot;/panel/**&quot;)\n                   .hasRole(&quot;PANEL&quot;)\n                   .and()\n                   .build();}\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService( PanelProperties panelProperties) {\n\n        UserDetails panelUser = prepareUserDetails(panelProperties.getUser(), panelProperties.getPassword(), &quot;PANEL&quot;);\n\n        return new InMemoryUserDetailsManager(panelUser);\n    }\n\n    private UserDetails prepareUserDetails(String username, String password, String... roles) {\n        return User.withUsername(username)\n                   .password(password)\n                   .roles(roles)\n                   .build();\n    }\n}\n</code></pre>\n<p>for every request im getting 403 FORBIDDEN http response with debug logs:</p>\n<pre><code>2022-08-01 17:51:24.914 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.DispatcherServlet:119 : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\n2022-08-01 17:51:24.914 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:522 : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2022-08-01 17:51:24.915 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor:268 : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n2022-08-01 17:51:24.915 DEBUG [app,add8f5df2fde13bb,add8f5df2fde13bb] 90089 --- [http-nio-7777-exec-9] \n</code></pre>\n<p>When I replaced lines antMatchers and hasRole with anyRequests().permitAll() it started worked but without security</p>\n<p>It seems like userDetailsService not works correctly. Do you have any ideas why it may not work?</p>\n<p>update:\nI have also bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class PasswordEncoderConfiguration {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>And password are hashed with bCrypt correctly</p>\n<p>update2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;security&quot;)\n@Data\n@ToString(exclude = {&quot;panelUserPassword&quot;})\nclass SecurityUsersProperties {\n\n    @NotNull\n    private String panelUser; //panel\n\n    @NotNull\n    private String panelUserPassword; //password encoded brypt\n}\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":2,"creation_date":1501708170,"post_id":4905416,"comment_id":77903110,"body_markdown":"related [How can I increment a date by one day in Java?](https://stackoverflow.com/questions/428918/how-can-i-increment-a-date-by-one-day-in-java)","body":"related <a href=\"https://stackoverflow.com/questions/428918/how-can-i-increment-a-date-by-one-day-in-java\">How can I increment a date by one day in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":2,"up_vote_count":138,"is_accepted":false,"score":136,"last_activity_date":1296886130,"creation_date":1296886130,"answer_id":4905433,"question_id":4905416,"body_markdown":"    Calendar cal = Calendar.getInstance(); \r\n    cal.add(Calendar.MONTH, 1);","title":"How do I add one month to current date in Java?","body":"<pre><code>Calendar cal = Calendar.getInstance(); \ncal.add(Calendar.MONTH, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":342964,"reputation":798,"user_id":674396,"accept_rate":25,"display_name":"mnm"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1394024270,"creation_date":1394024270,"answer_id":22198463,"question_id":4905416,"body_markdown":"You can make use of apache&#39;s commons lang DateUtils helper utility class.\r\n \r\n\r\n    Date newDate = DateUtils.addMonths(new Date(), 1);\r\n\r\n\r\nYou can download commons lang jar at http://commons.apache.org/proper/commons-lang/","title":"How do I add one month to current date in Java?","body":"<p>You can make use of apache's commons lang DateUtils helper utility class.</p>\n\n<pre><code>Date newDate = DateUtils.addMonths(new Date(), 1);\n</code></pre>\n\n<p>You can download commons lang jar at <a href=\"http://commons.apache.org/proper/commons-lang/\">http://commons.apache.org/proper/commons-lang/</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1622073522,"creation_date":1406874333,"answer_id":25074110,"question_id":4905416,"body_markdown":"# tl;dr\r\n\r\n    LocalDate::plusMonths\r\n\r\nExample:\r\n\r\n    LocalDate.now( )\r\n             .plusMonths( 1 );\r\n\r\nBetter to specify time zone.\r\n\r\n    LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; )\r\n             .plusMonths( 1 );\r\n\r\n# java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. The [Joda-Time](http://www.joda.org/joda-time/) team also advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to Android in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\n## Date-only\r\n\r\nIf you want the date-only, use the `LocalDate` class.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n     LocalDate today = LocalDate.now( z );\r\n\r\n&gt;today.toString(): 2017-01-23\r\n\r\nAdd a month. \r\n\r\n    LocalDate oneMonthLater = today.plusMonths( 1 );\r\n\r\n&gt;oneMonthLater.toString(): 2017-02-23\r\n\r\n## Date-time\r\n\r\nPerhaps you want a time-of-day along with the date. \r\n\r\nFirst get the current moment in [UTC][1] with a resolution of [nanoseconds][2].\r\n\r\n    Instant instant = Instant.now();\r\n\r\nAdding a month means determining dates. And determining dates means applying a time zone. For any given moment, the date varies around the world with a new day dawning earlier to the east. So adjust that `Instant` into a time zone. \r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\nNow add your month. Let java.time handle Leap month, and the fact that months vary in length.\r\n\r\n    ZonedDateTime zdtMonthLater = zdt.plusMonths( 1 );\r\n\r\nYou might want to adjust the time-of-day to the first moment of the day when making this kind of calculation. That first moment is not always `00:00:00.0` so let java.time determine the time-of-day.\r\n\r\n    ZonedDateTime zdtMonthLaterStartOfDay = zdtMonthLater.toLocalDate().atStartOfDay( zoneId );\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\nUpdate: The Joda-Time project is now in maintenance mode. Its team advises migration to the java.time classes. I am leaving this section intact for posterity.\r\n\r\nThe [Joda-Time][3] library offers a method to add months in a smart way.\r\n\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Europe/Paris&quot; );\r\n    DateTime now = DateTime.now( timeZone );\r\n    DateTime nextMonth = now.plusMonths( 1 );\r\n\r\nYou might want to focus on the day by adjust the time-of-day to the first moment of the day.\r\n\r\n    DateTime nextMonth = now.plusMonths( 1 ).withTimeAtStartOfDay();\r\n\r\n\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.m.wikipedia.org/wiki/Nanosecond\r\n  [3]: http://www.joda.org/joda-time/","title":"How do I add one month to current date in Java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate::plusMonths\n</code></pre>\n<p>Example:</p>\n<pre><code>LocalDate.now( )\n         .plusMonths( 1 );\n</code></pre>\n<p>Better to specify time zone.</p>\n<pre><code>LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; )\n         .plusMonths( 1 );\n</code></pre>\n<h1>java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> team also advises migration to java.time.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to Android in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<h2>Date-only</h2>\n<p>If you want the date-only, use the <code>LocalDate</code> class.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\n LocalDate today = LocalDate.now( z );\n</code></pre>\n<blockquote>\n<p>today.toString(): 2017-01-23</p>\n</blockquote>\n<p>Add a month.</p>\n<pre><code>LocalDate oneMonthLater = today.plusMonths( 1 );\n</code></pre>\n<blockquote>\n<p>oneMonthLater.toString(): 2017-02-23</p>\n</blockquote>\n<h2>Date-time</h2>\n<p>Perhaps you want a time-of-day along with the date.</p>\n<p>First get the current moment in <a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> with a resolution of <a href=\"https://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>.</p>\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n<p>Adding a month means determining dates. And determining dates means applying a time zone. For any given moment, the date varies around the world with a new day dawning earlier to the east. So adjust that <code>Instant</code> into a time zone.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p>Now add your month. Let java.time handle Leap month, and the fact that months vary in length.</p>\n<pre><code>ZonedDateTime zdtMonthLater = zdt.plusMonths( 1 );\n</code></pre>\n<p>You might want to adjust the time-of-day to the first moment of the day when making this kind of calculation. That first moment is not always <code>00:00:00.0</code> so let java.time determine the time-of-day.</p>\n<pre><code>ZonedDateTime zdtMonthLaterStartOfDay = zdtMonthLater.toLocalDate().atStartOfDay( zoneId );\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<h1>Joda-Time</h1>\n<p>Update: The Joda-Time project is now in maintenance mode. Its team advises migration to the java.time classes. I am leaving this section intact for posterity.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> library offers a method to add months in a smart way.</p>\n<pre><code>DateTimeZone timeZone = DateTimeZone.forID( &quot;Europe/Paris&quot; );\nDateTime now = DateTime.now( timeZone );\nDateTime nextMonth = now.plusMonths( 1 );\n</code></pre>\n<p>You might want to focus on the day by adjust the time-of-day to the first moment of the day.</p>\n<pre><code>DateTime nextMonth = now.plusMonths( 1 ).withTimeAtStartOfDay();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1412234432,"creation_date":1412234432,"answer_id":26156033,"question_id":4905416,"body_markdown":"(adapted from Duggu)\r\n\r\n    public static Date addOneMonth(Date date)\r\n    {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        cal.add(Calendar.MONTH, 1);\r\n        return cal.getTime();\r\n    }\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>(adapted from Duggu)</p>\n\n<pre><code>public static Date addOneMonth(Date date)\n{\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n    cal.add(Calendar.MONTH, 1);\n    return cal.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519561,"reputation":1542,"user_id":2190181,"accept_rate":82,"display_name":"kelevra88"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1414577680,"creation_date":1414577680,"answer_id":26627658,"question_id":4905416,"body_markdown":"    Calendar cal = Calendar.getInstance(); \r\n    cal.add(Calendar.MONTH, 1);\r\n    java.util.Date dt = cal.getTime();\r\n            ","title":"How do I add one month to current date in Java?","body":"<pre><code>Calendar cal = Calendar.getInstance(); \ncal.add(Calendar.MONTH, 1);\njava.util.Date dt = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141717,"reputation":5347,"user_id":348956,"accept_rate":82,"display_name":"softarn"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1427272467,"creation_date":1427270348,"answer_id":29250229,"question_id":4905416,"body_markdown":"**Java 8**\r\n\r\n    LocalDate futureDate = LocalDate.now().plusMonths(1);","title":"How do I add one month to current date in Java?","body":"<p><strong>Java 8</strong></p>\n\n<pre><code>LocalDate futureDate = LocalDate.now().plusMonths(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257756,"reputation":194,"user_id":1216857,"display_name":"theMind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534490246,"creation_date":1444301522,"answer_id":33013716,"question_id":4905416,"body_markdown":"In order to find the day after one month, it is necessary to look at what day of the month it is today.\r\n\r\n\r\nSo if the day is first day of month run following code\r\n    \r\n    Calendar calendar = Calendar.getInstance();\r\n\r\n\t    Calendar calFebruary = Calendar.getInstance();\r\n\t    calFebruary.set(Calendar.MONTH, Calendar.FEBRUARY);\r\n\r\n\t    if (calendar.get(Calendar.DAY_OF_MONTH) == 1) {// if first day of month\r\n\t\tcalendar.add(Calendar.MONTH, 1);\r\n\t\tcalendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n\t\tDate nextMonthFirstDay = calendar.getTime();\r\n\t\tSystem.out.println(nextMonthFirstDay);\r\n\r\n\t    }\r\n\r\nif the day is last day of month, run following codes.\r\n\r\n\r\n\t    else if ((calendar.getActualMaximum(Calendar.DAY_OF_MONTH) == calendar.get(Calendar.DAY_OF_MONTH))) {// if last day of month\r\n\t\tcalendar.add(Calendar.MONTH, 1);\r\n\t\tcalendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\tDate nextMonthLastDay = calendar.getTime();\r\n\t\tSystem.out.println(nextMonthLastDay);\r\n\t    }\r\n\r\nif the day is in february run following code\r\n\r\n\t    else if (calendar.get(Calendar.MONTH) == Calendar.JANUARY\r\n\t\t        &amp;&amp; calendar.get(Calendar.DAY_OF_MONTH) &gt; calFebruary.getActualMaximum(Calendar.DAY_OF_MONTH)) {// control of february\r\n\r\n\t\tcalendar.add(Calendar.MONTH, 1);\r\n\t\tcalendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\tDate nextMonthLastDay = calendar.getTime();\r\n\t\tSystem.out.println(nextMonthLastDay);\r\n\r\n\t    }\r\n\r\nthe following codes are used for other cases.\r\n\r\n\t    else { // any day\r\n\t\tcalendar.add(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\tDate theNextDate = calendar.getTime();\r\n\t\tSystem.out.println(theNextDate);\r\n\t    }","title":"How do I add one month to current date in Java?","body":"<p>In order to find the day after one month, it is necessary to look at what day of the month it is today.</p>\n\n<p>So if the day is first day of month run following code</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\n\n    Calendar calFebruary = Calendar.getInstance();\n    calFebruary.set(Calendar.MONTH, Calendar.FEBRUARY);\n\n    if (calendar.get(Calendar.DAY_OF_MONTH) == 1) {// if first day of month\n    calendar.add(Calendar.MONTH, 1);\n    calendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\n    Date nextMonthFirstDay = calendar.getTime();\n    System.out.println(nextMonthFirstDay);\n\n    }\n</code></pre>\n\n<p>if the day is last day of month, run following codes.</p>\n\n<pre><code>    else if ((calendar.getActualMaximum(Calendar.DAY_OF_MONTH) == calendar.get(Calendar.DAY_OF_MONTH))) {// if last day of month\n    calendar.add(Calendar.MONTH, 1);\n    calendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\n    Date nextMonthLastDay = calendar.getTime();\n    System.out.println(nextMonthLastDay);\n    }\n</code></pre>\n\n<p>if the day is in february run following code</p>\n\n<pre><code>    else if (calendar.get(Calendar.MONTH) == Calendar.JANUARY\n            &amp;&amp; calendar.get(Calendar.DAY_OF_MONTH) &gt; calFebruary.getActualMaximum(Calendar.DAY_OF_MONTH)) {// control of february\n\n    calendar.add(Calendar.MONTH, 1);\n    calendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\n    Date nextMonthLastDay = calendar.getTime();\n    System.out.println(nextMonthLastDay);\n\n    }\n</code></pre>\n\n<p>the following codes are used for other cases.</p>\n\n<pre><code>    else { // any day\n    calendar.add(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\n    Date theNextDate = calendar.getTime();\n    System.out.println(theNextDate);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27996,"reputation":3020,"user_id":74343,"accept_rate":62,"display_name":"Brimstedt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501832720,"creation_date":1461324456,"answer_id":36792636,"question_id":4905416,"body_markdown":"If you need a one-liner (i.e. for Jasper Reports formula) and don&#39;t mind if the adjustment is not exactly one month (i.e &quot;30 days&quot; is enough):  \r\n\r\n`new Date($F{invoicedate}.getTime() + 30L * 24L * 60L * 60L * 1000L)`\r\n\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>If you need a one-liner (i.e. for Jasper Reports formula) and don't mind if the adjustment is not exactly one month (i.e \"30 days\" is enough):  </p>\n\n<p><code>new Date($F{invoicedate}.getTime() + 30L * 24L * 60L * 60L * 1000L)</code></p>\n"},{"tags":[],"owner":{"account_id":5343930,"reputation":1398,"user_id":4260007,"accept_rate":100,"display_name":"Madhuka Dilhan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1464678624,"creation_date":1464671656,"answer_id":37537294,"question_id":4905416,"body_markdown":"Use calander and try this code.\r\n\r\n    Calendar calendar = Calendar.getInstance();         \r\n    calendar.add(Calendar.MONTH, 1);\r\n    calendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\r\n    Date nextMonthFirstDay = calendar.getTime();\r\n    calendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n    Date nextMonthLastDay = calendar.getTime();","title":"How do I add one month to current date in Java?","body":"<p>Use calander and try this code.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();         \ncalendar.add(Calendar.MONTH, 1);\ncalendar.set(Calendar.DATE, calendar.getActualMinimum(Calendar.DAY_OF_MONTH));\nDate nextMonthFirstDay = calendar.getTime();\ncalendar.set(Calendar.DATE, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));\nDate nextMonthLastDay = calendar.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7750964,"reputation":293,"user_id":5866907,"display_name":"DJAM Silv&#232;re Gatien"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491428351,"creation_date":1491428351,"answer_id":43242092,"question_id":4905416,"body_markdown":"    public Date  addMonths(String dateAsString, int nbMonths) throws ParseException {\r\n    \t\tString format = &quot;MM/dd/yyyy&quot; ;\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(format) ;\r\n    \t\tDate dateAsObj = sdf.parse(dateAsString) ;\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(dateAsObj);\r\n    \t\tcal.add(Calendar.MONTH, nbMonths);\r\n    \t\tDate dateAsObjAfterAMonth = cal.getTime() ;\r\n\t\tSystem.out.println(sdf.format(dateAsObjAfterAMonth));\r\n\t\treturn dateAsObjAfterAMonth ;\r\n\t}`","title":"How do I add one month to current date in Java?","body":"<pre><code>public Date  addMonths(String dateAsString, int nbMonths) throws ParseException {\n        String format = \"MM/dd/yyyy\" ;\n        SimpleDateFormat sdf = new SimpleDateFormat(format) ;\n        Date dateAsObj = sdf.parse(dateAsString) ;\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(dateAsObj);\n        cal.add(Calendar.MONTH, nbMonths);\n        Date dateAsObjAfterAMonth = cal.getTime() ;\n    System.out.println(sdf.format(dateAsObjAfterAMonth));\n    return dateAsObjAfterAMonth ;\n}`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7750964,"reputation":293,"user_id":5866907,"display_name":"DJAM Silv&#232;re Gatien"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1491430699,"creation_date":1491430699,"answer_id":43242567,"question_id":4905416,"body_markdown":"This method returns the current date plus 1 month.\r\n\r\n    public Date  addOneMonth()  {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.add(Calendar.MONTH, 1);\r\n            return cal.getTime();\r\n    }`\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>This method returns the current date plus 1 month.</p>\n\n<pre><code>public Date  addOneMonth()  {\n        Calendar cal = Calendar.getInstance();\n        cal.add(Calendar.MONTH, 1);\n        return cal.getTime();\n}`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501757686,"creation_date":1500979198,"answer_id":45300893,"question_id":4905416,"body_markdown":"You can use like this;\r\n\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    String d = &quot;2000-01-30&quot;;\r\n    Date date= new Date(sdf.parse(d).getTime());\r\n    date.setMonth(date.getMonth() + 1);\r\n\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>You can use like this;</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nString d = \"2000-01-30\";\nDate date= new Date(sdf.parse(d).getTime());\ndate.setMonth(date.getMonth() + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7366752,"reputation":47,"user_id":5608279,"display_name":"Pradeep nain"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1542799593,"creation_date":1542799593,"answer_id":53411090,"question_id":4905416,"body_markdown":"        Date dateAfterOneMonth = new DateTime(System.currentTimeMillis()).plusMonths(1).toDate();\r\n","title":"How do I add one month to current date in Java?","body":"<pre><code>    Date dateAfterOneMonth = new DateTime(System.currentTimeMillis()).plusMonths(1).toDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941402,"reputation":2504,"user_id":3977996,"accept_rate":96,"display_name":"Alireza Alallah"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1567855411,"creation_date":1567855411,"answer_id":57833215,"question_id":4905416,"body_markdown":"you can use DateUtils class in org.apache.commons.lang3.time package\r\n\r\n    DateUtils.addMonths(new Date(),1);","title":"How do I add one month to current date in Java?","body":"<p>you can use DateUtils class in org.apache.commons.lang3.time package</p>\n\n<pre><code>DateUtils.addMonths(new Date(),1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16718255,"reputation":1,"user_id":12083785,"display_name":"vipanshu walia"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568795960,"creation_date":1568794304,"answer_id":57988018,"question_id":4905416,"body_markdown":"```\r\npublic class StringSplit {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tdate(5, 3);\r\n\t\tdate(5, 4);\r\n\t}\r\n\r\n\tpublic static String date(int month, int week) {\r\n\t\tLocalDate futureDate = LocalDate.now().plusMonths(month).plusWeeks(week);\r\n\t\tString Fudate = futureDate.toString();\r\n\t\tString[] arr = Fudate.split(&quot;-&quot;, 3);\r\n\t\tString a1 = arr[0];\r\n\t\tString a2 = arr[1];\r\n\t\tString a3 = arr[2];\r\n\t\tString date = a3 + &quot;/&quot; + a2 + &quot;/&quot; + a1;\r\n\t\tSystem.out.println(date);\r\n\t\treturn date;\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\n10/03/2020\r\n17/03/2020\r\n```","title":"How do I add one month to current date in Java?","body":"<pre><code>public class StringSplit {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        date(5, 3);\n        date(5, 4);\n    }\n\n    public static String date(int month, int week) {\n        LocalDate futureDate = LocalDate.now().plusMonths(month).plusWeeks(week);\n        String Fudate = futureDate.toString();\n        String[] arr = Fudate.split(\"-\", 3);\n        String a1 = arr[0];\n        String a2 = arr[1];\n        String a3 = arr[2];\n        String date = a3 + \"/\" + a2 + \"/\" + a1;\n        System.out.println(date);\n        return date;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10/03/2020\n17/03/2020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19940465,"reputation":1,"user_id":14612305,"display_name":"G. Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630670824,"creation_date":1630670824,"answer_id":69044690,"question_id":4905416,"body_markdown":"Constants are in Portuguese because *yes*, but javadoc is understandable enough.\r\n\r\nJust call \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(yourDate);\r\n    DateSumUtil.sumOneMonth(cal);\r\n\r\nand that&#39;s that. Related code:\r\n\r\n    package you.project.your_package_utils;\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Arrays;\r\n    import java.util.Calendar;\r\n    import java.util.List;\r\n\r\n    public class DateSumUtil {\r\n    \r\n    \tprivate static Integer[] meses31 = { 2, 4, 7, 9 };\r\n\t    private static List&lt;Integer&gt; meses31List = Arrays.asList(meses31);\r\n    \tprivate static SimpleDateFormat s = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    \tprivate static final int MES = Calendar.MONTH;\r\n    \tprivate static final int ANO = Calendar.YEAR;\r\n    \tprivate static final int DIA = Calendar.DAY_OF_MONTH;\r\n    \r\n    \t/**\r\n    \t * Receives a date and adds one month. &lt;br /&gt;\r\n    \t * \r\n    \t * @param c date to receive an added month, as {@code java.util.Calendar}\r\n         * @param dia day of month of the original month\r\n    \t */\r\n    \tpublic static void addOneMonth(Calendar c, int dia) throws ParseException {\r\n\t\tif (cal.get(MES) == 0) {\t\t\tif (dia &lt; 29)\t\t\tcal.add(MES, 1);\r\n\t\t\telse {\tif (cal.get(ANO) % 4 == 0) {\tif (dia &lt; 30)\tcal.add(MES, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telse\t\t\tcal.setTime(s.parse(&quot;29/02/&quot; + cal.get(ANO)));\r\n\t\t\t\t\t} else {\t\t\t\t\t\tif (dia &lt; 29)\tcal.add(MES, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telse\t\t\tcal.setTime(s.parse(&quot;28/02/&quot; + cal.get(ANO)));\r\n\t\t}\t}\t} else if (meses31List.contains(cal.get(MES))) {\r\n\t\t\tif (dia &lt; 31) {\t\t\t\t\t\t\t\t\t\t\tcal.add(Calendar.MONTH, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcal.set(DIA, dia);\r\n\t\t\t} else\tcal.setTime(s.parse(&quot;30/&quot; + (cal.get(MES) + 2) + &quot;/&quot; + cal.get(ANO)));\r\n\t\t} else {\t\t\t\t\t\t\t\t\t\t\t\t\tcal.add(MES, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcal.set(DIA, dia);\t}\t\r\n    }\r\n\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>Constants are in Portuguese because <em>yes</em>, but javadoc is understandable enough.</p>\n<p>Just call</p>\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setTime(yourDate);\nDateSumUtil.sumOneMonth(cal);\n</code></pre>\n<p>and that's that. Related code:</p>\n<pre><code>package you.project.your_package_utils;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Arrays;\nimport java.util.Calendar;\nimport java.util.List;\n\npublic class DateSumUtil {\n\n    private static Integer[] meses31 = { 2, 4, 7, 9 };\n    private static List&lt;Integer&gt; meses31List = Arrays.asList(meses31);\n    private static SimpleDateFormat s = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n    private static final int MES = Calendar.MONTH;\n    private static final int ANO = Calendar.YEAR;\n    private static final int DIA = Calendar.DAY_OF_MONTH;\n\n    /**\n     * Receives a date and adds one month. &lt;br /&gt;\n     * \n     * @param c date to receive an added month, as {@code java.util.Calendar}\n     * @param dia day of month of the original month\n     */\n    public static void addOneMonth(Calendar c, int dia) throws ParseException {\n    if (cal.get(MES) == 0) {            if (dia &lt; 29)           cal.add(MES, 1);\n        else {  if (cal.get(ANO) % 4 == 0) {    if (dia &lt; 30)   cal.add(MES, 1);\n                                                else            cal.setTime(s.parse(&quot;29/02/&quot; + cal.get(ANO)));\n                } else {                        if (dia &lt; 29)   cal.add(MES, 1);\n                                                else            cal.setTime(s.parse(&quot;28/02/&quot; + cal.get(ANO)));\n    }   }   } else if (meses31List.contains(cal.get(MES))) {\n        if (dia &lt; 31) {                                         cal.add(Calendar.MONTH, 1);\n                                                                cal.set(DIA, dia);\n        } else  cal.setTime(s.parse(&quot;30/&quot; + (cal.get(MES) + 2) + &quot;/&quot; + cal.get(ANO)));\n    } else {                                                    cal.add(MES, 1);\n                                                                cal.set(DIA, dia);  }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656402402,"creation_date":1656402079,"answer_id":72782490,"question_id":4905416,"body_markdown":"   \r\n\r\n   \r\n\r\n     public Date addMonth(Date inputDate, int monthToAddNumber){\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTime(inputDate);\r\n            // Add &#39;monthToAddNumber&#39; months to inputDate\r\n            calendar.add(Calendar.MONTH, monthToAddNumber);\r\n            return calendar.getTime();\r\n        }\r\n\t  \r\nthen call method:\r\n\r\n    addMonth(new Date(), 1)\r\n\r\n\r\n\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<pre><code> public Date addMonth(Date inputDate, int monthToAddNumber){\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(inputDate);\n        // Add 'monthToAddNumber' months to inputDate\n        calendar.add(Calendar.MONTH, monthToAddNumber);\n        return calendar.getTime();\n    }\n  \n</code></pre>\n<p>then call method:</p>\n<pre><code>addMonth(new Date(), 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9798503,"reputation":45,"user_id":7260583,"display_name":"irfan khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659369378,"creation_date":1659369378,"answer_id":73196456,"question_id":4905416,"body_markdown":"Use the plusMonths() method of the LocalDate class for Java 8 and Higher Versions.\r\n\r\n// Add one month to the current local date\r\n\r\n    LocalDate localDate = LocalDate.now().plusMonths(1);\r\n\r\n// Add one month to any local date object\r\n\r\n    LocalDate localDate = LocalDate.parse(&quot;2022-02-14&quot;).plusMonths(1); // 2022-03-14\r\n\r\nReference: https://www.javaexercise.com/java/java-add-months-to-date\r\n","title":"How do I add one month to current date in Java?","body":"<p>Use the plusMonths() method of the LocalDate class for Java 8 and Higher Versions.</p>\n<p>// Add one month to the current local date</p>\n<pre><code>LocalDate localDate = LocalDate.now().plusMonths(1);\n</code></pre>\n<p>// Add one month to any local date object</p>\n<pre><code>LocalDate localDate = LocalDate.parse(&quot;2022-02-14&quot;).plusMonths(1); // 2022-03-14\n</code></pre>\n<p>Reference: <a href=\"https://www.javaexercise.com/java/java-add-months-to-date\" rel=\"nofollow noreferrer\">https://www.javaexercise.com/java/java-add-months-to-date</a></p>\n"}],"owner":{"account_id":706721,"reputation":1077,"user_id":602821,"display_name":"kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299717,"favorite_count":0,"down_vote_count":2,"up_vote_count":107,"answer_count":18,"score":105,"last_activity_date":1659369378,"creation_date":1296885863,"question_id":4905416,"body_markdown":"In Java how can I add one month to the current date?\r\n\r\n","title":"How do I add one month to current date in Java?","body":"<p>In Java how can I add one month to the current date?</p>\n"},{"tags":["java","string","performance"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":6,"creation_date":1447231052,"post_id":33646781,"comment_id":55067040,"body_markdown":"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"<a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":1629327,"reputation":2020,"user_id":1504208,"accept_rate":62,"display_name":"Emerson Cod"},"score":0,"creation_date":1447231764,"post_id":33646781,"comment_id":55067373,"body_markdown":"such benchmarks are always doubtful - but the two methods have actually different implementations, so it might be that one is slightly better than the other (I dont know though)","body":"such benchmarks are always doubtful - but the two methods have actually different implementations, so it might be that one is slightly better than the other (I dont know though)"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1447232477,"post_id":33646781,"comment_id":55067755,"body_markdown":"First steps: use System.nanotime() instead of currentMillis and use the results (for example by adding them into an `int sum` or something of the like). Better: use jmh.","body":"First steps: use System.nanotime() instead of currentMillis and use the results (for example by adding them into an <code>int sum</code> or something of the like). Better: use jmh."}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1448417377,"creation_date":1448417069,"answer_id":33907329,"question_id":33646781,"body_markdown":"Your JMH test is incorrect as you don&#39;t consume the result, so the `indexOf` call can be (or can be not) removed at all by JIT compiler. In your case it seems that JIT-compiler determined that `indexOf(String)` has no side-effect and removed this call at all, but did not do the same for `indexOf(char)`. Always consume the result (the simplest way is to return it from the benchmark). Here&#39;s my version:\r\n\r\n    import java.util.*;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openjdk.jmh.annotations.*;\r\n    \r\n    @State(Scope.Benchmark)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n    @Warmup(iterations = 5, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\n    @Measurement(iterations = 10, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\n    @Fork(3)\r\n    public class IndexOfTest { \r\n        private String str;\r\n        private char c;\r\n        private String s;\r\n    \r\n        @Setup\r\n        public void setup() {\r\n            str = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\n            c = &#39;z&#39;;\r\n            s = &quot;z&quot;;\r\n        }\r\n    \r\n        @Benchmark\r\n        public int indexOfChar() {\r\n            return str.indexOf(&#39;z&#39;);\r\n        }\r\n    \r\n        @Benchmark\r\n        public int indexOfString() {\r\n            return str.indexOf(&quot;z&quot;);\r\n        }\r\n    \r\n        @Benchmark\r\n        public int indexOfCharIndirect() {\r\n            return str.indexOf(c);\r\n        }\r\n    \r\n        @Benchmark\r\n        public int indexOfStringIndirect() {\r\n            return str.indexOf(s);\r\n        }\r\n    }\r\n\r\nI test the same thing, but added two indirect tests: when searched char or String is loaded from the field, thus its exact value is unknown during the JIT-compilation. The results are the following (Intel x64):\r\n\r\n    # JMH 1.11.2 (released 27 days ago)\r\n    # VM version: JDK 1.8.0_45, VM 25.45-b02\r\n    Benchmark                          Mode  Cnt   Score   Error  Units\r\n    IndexOfTest.indexOfChar            avgt   30  25,364 &#177; 0,424  ns/op\r\n    IndexOfTest.indexOfCharIndirect    avgt   30  25,287 &#177; 0,210  ns/op\r\n    IndexOfTest.indexOfString          avgt   30  24,370 &#177; 0,100  ns/op\r\n    IndexOfTest.indexOfStringIndirect  avgt   30  27,198 &#177; 0,048  ns/op\r\n\r\nAs you can see, `indexOfChar` performs in the same way regardless of direct or indirect access. The `indexOfString` is slightly faster for direct access, but somewhat slower for indirect. That&#39;s because `indexOf(String)` is a JVM intrinsic: its Java code is actually replaced by JIT compiler with efficient inline implementation. For constant string known at JIT compilation time it&#39;s possible to generate more efficient code.\r\n\r\nIn general there&#39;s no big difference at least for such short strings. Thus you may use either of these methods for single symbol match.","title":"Java performance String.indexOf(char) vs String.indexOf(single String)","body":"<p>Your JMH test is incorrect as you don't consume the result, so the <code>indexOf</code> call can be (or can be not) removed at all by JIT compiler. In your case it seems that JIT-compiler determined that <code>indexOf(String)</code> has no side-effect and removed this call at all, but did not do the same for <code>indexOf(char)</code>. Always consume the result (the simplest way is to return it from the benchmark). Here's my version:</p>\n\n<pre><code>import java.util.*;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openjdk.jmh.annotations.*;\n\n@State(Scope.Benchmark)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 500, timeUnit = TimeUnit.MILLISECONDS)\n@Measurement(iterations = 10, time = 500, timeUnit = TimeUnit.MILLISECONDS)\n@Fork(3)\npublic class IndexOfTest { \n    private String str;\n    private char c;\n    private String s;\n\n    @Setup\n    public void setup() {\n        str = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n        c = 'z';\n        s = \"z\";\n    }\n\n    @Benchmark\n    public int indexOfChar() {\n        return str.indexOf('z');\n    }\n\n    @Benchmark\n    public int indexOfString() {\n        return str.indexOf(\"z\");\n    }\n\n    @Benchmark\n    public int indexOfCharIndirect() {\n        return str.indexOf(c);\n    }\n\n    @Benchmark\n    public int indexOfStringIndirect() {\n        return str.indexOf(s);\n    }\n}\n</code></pre>\n\n<p>I test the same thing, but added two indirect tests: when searched char or String is loaded from the field, thus its exact value is unknown during the JIT-compilation. The results are the following (Intel x64):</p>\n\n<pre><code># JMH 1.11.2 (released 27 days ago)\n# VM version: JDK 1.8.0_45, VM 25.45-b02\nBenchmark                          Mode  Cnt   Score   Error  Units\nIndexOfTest.indexOfChar            avgt   30  25,364 ± 0,424  ns/op\nIndexOfTest.indexOfCharIndirect    avgt   30  25,287 ± 0,210  ns/op\nIndexOfTest.indexOfString          avgt   30  24,370 ± 0,100  ns/op\nIndexOfTest.indexOfStringIndirect  avgt   30  27,198 ± 0,048  ns/op\n</code></pre>\n\n<p>As you can see, <code>indexOfChar</code> performs in the same way regardless of direct or indirect access. The <code>indexOfString</code> is slightly faster for direct access, but somewhat slower for indirect. That's because <code>indexOf(String)</code> is a JVM intrinsic: its Java code is actually replaced by JIT compiler with efficient inline implementation. For constant string known at JIT compilation time it's possible to generate more efficient code.</p>\n\n<p>In general there's no big difference at least for such short strings. Thus you may use either of these methods for single symbol match.</p>\n"}],"owner":{"account_id":5300518,"reputation":299,"user_id":4230315,"accept_rate":100,"display_name":"parivana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9634,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":33907329,"answer_count":1,"score":11,"last_activity_date":1659369211,"creation_date":1447230883,"question_id":33646781,"body_markdown":"I think `String.indexOf(char)` is a little faster than\r\n`String.indexOf(String)` when using single character &amp; single String(ex, &#39;x&#39; &amp; &quot;x&quot;)\r\n\r\nTo make sure my guessing, I wrote easy test code like below.\r\n\r\n    public static void main(String[] args) {\r\n        IndexOfTest test = new IndexOfTest(Integer.parseInt(args[0]));\r\n\r\n        test.run();\r\n    }\r\n\r\n    public IndexOfTest(int loop) {\r\n        this.loop = loop;\r\n    }\r\n\r\n    public void run() {\r\n        long start, end;\r\n        start = System.currentTimeMillis();\r\n        for(int i = 0 ; i &lt; loop ; i++) {\r\n            alphabet.indexOf(&quot;x&quot;);\r\n        }\r\n        end = System.currentTimeMillis();\r\n        System.out.println(&quot;indexOf(String) : &quot; + (end - start) + &quot;ms&quot;);\r\n\r\n        start = System.currentTimeMillis();\r\n        for(int i = 0 ; i &lt; loop ; i++) {\r\n            alphabet.indexOf(&#39;x&#39;);\r\n        }\r\n        end = System.currentTimeMillis();\r\n        System.out.println(&quot;indexOf(char) : &quot; + (end - start) + &quot;ms&quot;);\r\n\r\n    }\r\n\r\n`alphabet` is String variable that has &quot;abcd...xyzABCD...XYZ&quot;.\r\n\r\nfrom this code, I got result table like this...\r\n\r\n    loop     10^3  10^4  10^5  10^6  10^7\r\n\r\n    String      1     7     8     9     9\r\n\r\n    char        1     2     5    10    64\r\n\r\n`String.indexOf(String)` looks like converge to 9ms, however `String.indexOf(char)` increases exponentially.\r\n\r\nI&#39;m very confused. Is there any optimization for using `String` in this case?\r\nOr how I figure out this result?\r\n\r\n-------------------\r\n### Update\r\n\r\nI ran jmh with below two benchmark method. Each method calls a indexOf method.\r\n\r\n    @State(Scope.Thread)\r\n    public class MyBenchmark {\r\n        private String alphabet = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\n        @Benchmark\r\n        public void indexOfString() {\r\n            alphabet.indexOf(&quot;x&quot;);\r\n        }\r\n\r\n        @Benchmark\r\n        public void indexOfChar() {\r\n        alphabet.indexOf(&#39;x&#39;);\r\n        }\r\n    }\r\n\r\nresult:\r\n\r\n    Benchmark                   Mode  Cnt           Score        Error  Units\r\n    MyBenchmark.indexOfChar    thrpt   30   142106399.525 &#177;  51360.808  ops/s\r\n    MyBenchmark.indexOfString  thrpt   30  2178872840.575 &#177; 864573.421  ops/s\r\n\r\nThis result also show `indexOf(String)` is faster..\r\n\r\nI think that it is time to think about hidden optimization\r\n\r\nAny idea?","title":"Java performance String.indexOf(char) vs String.indexOf(single String)","body":"<p>I think <code>String.indexOf(char)</code> is a little faster than\n<code>String.indexOf(String)</code> when using single character &amp; single String(ex, 'x' &amp; &quot;x&quot;)</p>\n<p>To make sure my guessing, I wrote easy test code like below.</p>\n<pre><code>public static void main(String[] args) {\n    IndexOfTest test = new IndexOfTest(Integer.parseInt(args[0]));\n\n    test.run();\n}\n\npublic IndexOfTest(int loop) {\n    this.loop = loop;\n}\n\npublic void run() {\n    long start, end;\n    start = System.currentTimeMillis();\n    for(int i = 0 ; i &lt; loop ; i++) {\n        alphabet.indexOf(&quot;x&quot;);\n    }\n    end = System.currentTimeMillis();\n    System.out.println(&quot;indexOf(String) : &quot; + (end - start) + &quot;ms&quot;);\n\n    start = System.currentTimeMillis();\n    for(int i = 0 ; i &lt; loop ; i++) {\n        alphabet.indexOf('x');\n    }\n    end = System.currentTimeMillis();\n    System.out.println(&quot;indexOf(char) : &quot; + (end - start) + &quot;ms&quot;);\n\n}\n</code></pre>\n<p><code>alphabet</code> is String variable that has &quot;abcd...xyzABCD...XYZ&quot;.</p>\n<p>from this code, I got result table like this...</p>\n<pre><code>loop     10^3  10^4  10^5  10^6  10^7\n\nString      1     7     8     9     9\n\nchar        1     2     5    10    64\n</code></pre>\n<p><code>String.indexOf(String)</code> looks like converge to 9ms, however <code>String.indexOf(char)</code> increases exponentially.</p>\n<p>I'm very confused. Is there any optimization for using <code>String</code> in this case?\nOr how I figure out this result?</p>\n<hr />\n<h3>Update</h3>\n<p>I ran jmh with below two benchmark method. Each method calls a indexOf method.</p>\n<pre><code>@State(Scope.Thread)\npublic class MyBenchmark {\n    private String alphabet = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\n    @Benchmark\n    public void indexOfString() {\n        alphabet.indexOf(&quot;x&quot;);\n    }\n\n    @Benchmark\n    public void indexOfChar() {\n    alphabet.indexOf('x');\n    }\n}\n</code></pre>\n<p>result:</p>\n<pre><code>Benchmark                   Mode  Cnt           Score        Error  Units\nMyBenchmark.indexOfChar    thrpt   30   142106399.525 ±  51360.808  ops/s\nMyBenchmark.indexOfString  thrpt   30  2178872840.575 ± 864573.421  ops/s\n</code></pre>\n<p>This result also show <code>indexOf(String)</code> is faster..</p>\n<p>I think that it is time to think about hidden optimization</p>\n<p>Any idea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1659369120,"post_id":73196391,"comment_id":129272950,"body_markdown":"`=` is assignment operator which *also returns assigned value*, here `isJavaFun` which holds `true`. `==` is comparison operator.","body":"<code>=</code> is assignment operator which <i>also returns assigned value</i>, here <code>isJavaFun</code> which holds <code>true</code>. <code>==</code> is comparison operator."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1659369125,"post_id":73196391,"comment_id":129272953,"body_markdown":"Because `=` is  assignment, not comparison.","body":"Because <code>=</code> is  assignment, not comparison."}],"owner":{"account_id":25949469,"reputation":1,"user_id":19667734,"display_name":"Shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659369191,"answer_count":0,"score":0,"last_activity_date":1659369035,"creation_date":1659369035,"question_id":73196391,"body_markdown":"    public class Main {\r\n         public static void main(String[] args) {\r\n              boolean isJavaFun = true;\r\n              boolean isFishTasty = false;    \r\n              System.out.println(isFishTasty = isJavaFun);\r\n              System.out.println(isFishTasty);\r\n         }\r\n    }\r\n\r\nSystem.out.println(isFishTasty = isJavaFun); is givinh true, not sure why?","title":"Why false = true is giving true as a result","body":"<pre><code>public class Main {\n     public static void main(String[] args) {\n          boolean isJavaFun = true;\n          boolean isFishTasty = false;    \n          System.out.println(isFishTasty = isJavaFun);\n          System.out.println(isFishTasty);\n     }\n}\n</code></pre>\n<p>System.out.println(isFishTasty = isJavaFun); is givinh true, not sure why?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","cascade"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659368996,"creation_date":1659368996,"answer_id":73196384,"question_id":73188598,"body_markdown":"`CascadeType.PERSIST` is what you are looking for. The various `CascadeType` enums essentially say, which persistence operation of EntityManager `persist`/`merge`/`remove` etc. should cascade to the objects of an association.","title":"Springboot JPA Hibernate CascadeType confusion","body":"<p><code>CascadeType.PERSIST</code> is what you are looking for. The various <code>CascadeType</code> enums essentially say, which persistence operation of EntityManager <code>persist</code>/<code>merge</code>/<code>remove</code> etc. should cascade to the objects of an association.</p>\n"}],"owner":{"account_id":18765303,"reputation":1,"user_id":13683330,"display_name":"Md-Mehedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659368996,"creation_date":1659324802,"question_id":73188598,"body_markdown":"How to make a column cascade enable only for insertion not update and delete.\r\n\r\nHere are two class. There are @ManyToOne relationship between **Qualification** and **Department**. At the time of insertion I want to insert new department with qualification. But at the time of update of qualification I don&#39;t want to update department. How can I configure that??\r\n\r\n    @Table(name = &quot;department&quot;)\r\n    public class Department {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Integer id;\r\n      private String name;\r\n    }\r\n\r\n\r\n    @Table(name = &quot;qualification&quot;)\r\n    public class Qualification implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Integer id;\r\n    \r\n        private Integer passingYear;\r\n        private String result;\r\n    \r\n        @ManyToOne(optional = true, cascade = { CascadeType. ? }, fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;department_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Department department;\r\n    \r\n    }\r\n\r\n","title":"Springboot JPA Hibernate CascadeType confusion","body":"<p>How to make a column cascade enable only for insertion not update and delete.</p>\n<p>Here are two class. There are @ManyToOne relationship between <strong>Qualification</strong> and <strong>Department</strong>. At the time of insertion I want to insert new department with qualification. But at the time of update of qualification I don't want to update department. How can I configure that??</p>\n<pre><code>@Table(name = &quot;department&quot;)\npublic class Department {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n  private String name;\n}\n\n\n@Table(name = &quot;qualification&quot;)\npublic class Qualification implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Integer id;\n\n    private Integer passingYear;\n    private String result;\n\n    @ManyToOne(optional = true, cascade = { CascadeType. ? }, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;department_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Department department;\n\n}\n</code></pre>\n"},{"tags":["java","date","date-formatting","date-parsing"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1659352225,"post_id":73192648,"comment_id":129266671,"body_markdown":"You should be getting the error [java.text.ParseException: Unparseable date: &quot;31 Jan 2022&quot;](https://ideone.com/dAGTnJ). `&quot;31 Jan 2022&quot;` is not in the format `&quot;dd/MM/yyyy&quot;`. Are you sure that your input is what you say it is?","body":"You should be getting the error <a href=\"https://ideone.com/dAGTnJ\" rel=\"nofollow noreferrer\">java.text.ParseException: Unparseable date: &quot;31 Jan 2022&quot;</a>. <code>&quot;31 Jan 2022&quot;</code> is not in the format <code>&quot;dd&#47;MM&#47;yyyy&quot;</code>. Are you sure that your input is what you say it is?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1659352858,"post_id":73192648,"comment_id":129266873,"body_markdown":"Please **do not** use `Date` and `SimpleDateFormat`, as they are obsolete classes. They&#39;re also troublesome. You are better off using classes from the `java.time` package. In your case, where you only seem to need a date without time and timezone, you may want to use `LocalDate`.","body":"Please <b>do not</b> use <code>Date</code> and <code>SimpleDateFormat</code>, as they are obsolete classes. They&#39;re also troublesome. You are better off using classes from the <code>java.time</code> package. In your case, where you only seem to need a date without time and timezone, you may want to use <code>LocalDate</code>."},{"owner":{"account_id":18630552,"reputation":1,"user_id":13578559,"display_name":"Felix "},"score":0,"creation_date":1659367034,"post_id":73192648,"comment_id":129272091,"body_markdown":"@OHGODSPIDERS please review the code again, I just made an edit.","body":"@OHGODSPIDERS please review the code again, I just made an edit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659367115,"post_id":73192648,"comment_id":129272125,"body_markdown":"A `Date` never could have a format. So if I understand your question as intended, you are asking the impossible. Also as @MCEmperor already said, you should not use that class at all.","body":"A <code>Date</code> never could have a format. So if I understand your question as intended, you are asking the impossible. Also as @MCEmperor already said, you should not use that class at all."},{"owner":{"account_id":18630552,"reputation":1,"user_id":13578559,"display_name":"Felix "},"score":0,"creation_date":1659367121,"post_id":73192648,"comment_id":129272128,"body_markdown":"@MCEmperor so in my case how do i implement it with LocalDate. Note that i&#39;m parsing in a string as date","body":"@MCEmperor so in my case how do i implement it with LocalDate. Note that i&#39;m parsing in a string as date"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659367322,"post_id":73192648,"comment_id":129272203,"body_markdown":"Doesn’t this answer your question? [Calendar date to yyyy-MM-dd format in java](https://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java)? [This](https://stackoverflow.com/questions/62871262/convert-java-util-date-to-java-util-date-with-different-formating-in-java)? [This](https://stackoverflow.com/questions/72236026/how-to-format-string-to-date-with-format-dd-mm-yyyy-in-java)?","body":"Doesn’t this answer your question? <a href=\"https://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java\">Calendar date to yyyy-MM-dd format in java</a>? <a href=\"https://stackoverflow.com/questions/62871262/convert-java-util-date-to-java-util-date-with-different-formating-in-java\">This</a>? <a href=\"https://stackoverflow.com/questions/72236026/how-to-format-string-to-date-with-format-dd-mm-yyyy-in-java\">This</a>?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1659367354,"post_id":73192648,"comment_id":129272217,"body_markdown":"❶ Define your format as a `String` ❷ Pass this string as an argument to `DateTimeFormatter::ofPattern` ❸ Use your string and the `DateTimeFormatter` instance as arguments to `LocalDate::parse`.","body":"❶ Define your format as a <code>String</code> ❷ Pass this string as an argument to <code>DateTimeFormatter::ofPattern</code> ❸ Use your string and the <code>DateTimeFormatter</code> instance as arguments to <code>LocalDate::parse</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1659367361,"post_id":73192648,"comment_id":129272219,"body_markdown":"@Felix before we are telling you how to do it with a LocalDate maybe you can specify what exactly your problem is? Because with your new changes in the edit [I am getting an output &#39;Fri Dec 20 00:00:00 GMT 2002&#39; that shows it parsed the date correctly](https://ideone.com/8Z88F8). If your problem however is that you want to output your date Object in a specific format, then LocalDate won&#39;t help you with that either. As Ole V.V. said date objects themself do not have a format.","body":"@Felix before we are telling you how to do it with a LocalDate maybe you can specify what exactly your problem is? Because with your new changes in the edit <a href=\"https://ideone.com/8Z88F8\" rel=\"nofollow noreferrer\">I am getting an output &#39;Fri Dec 20 00:00:00 GMT 2002&#39; that shows it parsed the date correctly</a>. If your problem however is that you want to output your date Object in a specific format, then LocalDate won&#39;t help you with that either. As Ole V.V. said date objects themself do not have a format."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1659367472,"post_id":73192648,"comment_id":129272266,"body_markdown":"If you want to output a Date, or LocalDate in a specific format, you will always have to create a String representation yourself and output that String. There simply is no way to &quot;save&quot; a format in a Date object and have it use that in its default toString() method that is used when you print it. See: [display Java.util.Date in a specific format](https://stackoverflow.com/questions/6262310/display-java-util-date-in-a-specific-format) on how to format your Date object into a String.","body":"If you want to output a Date, or LocalDate in a specific format, you will always have to create a String representation yourself and output that String. There simply is no way to &quot;save&quot; a format in a Date object and have it use that in its default toString() method that is used when you print it. See: <a href=\"https://stackoverflow.com/questions/6262310/display-java-util-date-in-a-specific-format\">display Java.util.Date in a specific format</a> on how to format your Date object into a String."}],"owner":{"account_id":18630552,"reputation":1,"user_id":13578559,"display_name":"Felix "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659353052,"answer_count":0,"score":0,"last_activity_date":1659368928,"creation_date":1659351211,"question_id":73192648,"body_markdown":"How can I convert a Java string to a date in this format - &quot;31 Jan 2022&quot;. I&#39;ve tried the code below. \r\n\r\n    Date sDate;\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    sDate = format.parse(&quot;20/12/2002&quot;);\r\n    return sDate.toString();  \r\n\r\nIt&#39;s giving an output in this format\r\n&quot;Fri Jan 30 00:00:00&quot; which is not what I want \r\n","title":"Convert Java String to Date in a Format","body":"<p>How can I convert a Java string to a date in this format - &quot;31 Jan 2022&quot;. I've tried the code below.</p>\n<pre><code>Date sDate;\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nsDate = format.parse(&quot;20/12/2002&quot;);\nreturn sDate.toString();  \n</code></pre>\n<p>It's giving an output in this format\n&quot;Fri Jan 30 00:00:00&quot; which is not what I want</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","multi-tenant"],"comments":[{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1659243435,"post_id":73177664,"comment_id":129245788,"body_markdown":"Looks like you imported a wrong `User` from another package, can you add the imports of these classes?","body":"Looks like you imported a wrong <code>User</code> from another package, can you add the imports of these classes?"},{"owner":{"account_id":18157142,"reputation":46,"user_id":13209014,"display_name":"gokdeemir"},"score":0,"creation_date":1659264893,"post_id":73177664,"comment_id":129249089,"body_markdown":"No, I am not. No debt because I can go to my User class by clicking over User.","body":"No, I am not. No debt because I can go to my User class by clicking over User."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659368763,"creation_date":1659368763,"answer_id":73196338,"question_id":73177664,"body_markdown":"My guess is, your `@EntityScan` configuration wrong and the `User` entity is not picked up by Spring and hence not visible as entity to Hibernate. Put a break point to the line where the exception is thrown and try to figure out why Hibernate thinks `User` is unknown.","title":"Spring Boot - Hibernate - Multitenancy @ManyToOne (mapping) issue for different schema entities","body":"<p>My guess is, your <code>@EntityScan</code> configuration wrong and the <code>User</code> entity is not picked up by Spring and hence not visible as entity to Hibernate. Put a break point to the line where the exception is thrown and try to figure out why Hibernate thinks <code>User</code> is unknown.</p>\n"}],"owner":{"account_id":18157142,"reputation":46,"user_id":13209014,"display_name":"gokdeemir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659368763,"creation_date":1659201263,"question_id":73177664,"body_markdown":"I am developing a schema-based multitenant Spring Boot application. I have a public schema for common tables such as &quot;User&quot; and many schemas for each tenant. I can handle many things such as request routing to different schemas. \r\n\r\nHowever, I have want to map two fields, one of them is a field of public schema object, another is a field of a schema-based object&#39;s field. I could not find a solution for that. I can give two classes:\r\n\r\nPublic schema object is that:\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;users&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;email&quot;})})\r\npublic class User extends AbstractEntity&lt;UUID&gt; {\r\n\r\n    @NotNull\r\n    @Email(message = &quot;Please provide acceptable mail address&quot;)\r\n    private String email;\r\n\r\n    @Column(length = 60)\r\n    @Getter(onMethod = @__(@JsonIgnore))\r\n    private String password;\r\n\r\n    @NotNull\r\n    private String name;\r\n\r\n    @NotNull\r\n    private String surname;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role = Role.BASIC_USER;\r\n\r\n    private boolean confirmed = false;\r\n}\r\n```\r\n\r\nTenant based schema object is that:\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;company_user&quot;)\r\npublic class CompanyUser extends AbstractEntity&lt;UUID&gt; {\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name= &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role = Role.BASIC_USER;\r\n}\r\n```\r\n\r\nWhen I run it I get this error:\r\n`@OneToOne or @ManyToOne on x.CompanyUser.user references an unknown entity: y.User`\r\n\r\nHow can I configure them to run properly?","title":"Spring Boot - Hibernate - Multitenancy @ManyToOne (mapping) issue for different schema entities","body":"<p>I am developing a schema-based multitenant Spring Boot application. I have a public schema for common tables such as &quot;User&quot; and many schemas for each tenant. I can handle many things such as request routing to different schemas.</p>\n<p>However, I have want to map two fields, one of them is a field of public schema object, another is a field of a schema-based object's field. I could not find a solution for that. I can give two classes:</p>\n<p>Public schema object is that:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;users&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;email&quot;})})\npublic class User extends AbstractEntity&lt;UUID&gt; {\n\n    @NotNull\n    @Email(message = &quot;Please provide acceptable mail address&quot;)\n    private String email;\n\n    @Column(length = 60)\n    @Getter(onMethod = @__(@JsonIgnore))\n    private String password;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    private String surname;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private Role role = Role.BASIC_USER;\n\n    private boolean confirmed = false;\n}\n</code></pre>\n<p>Tenant based schema object is that:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;company_user&quot;)\npublic class CompanyUser extends AbstractEntity&lt;UUID&gt; {\n\n    @ManyToOne\n    @JoinColumn(name= &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private Role role = Role.BASIC_USER;\n}\n</code></pre>\n<p>When I run it I get this error:\n<code>@OneToOne or @ManyToOne on x.CompanyUser.user references an unknown entity: y.User</code></p>\n<p>How can I configure them to run properly?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659338674,"post_id":73190005,"comment_id":129262273,"body_markdown":"The difference is semantic.  You can&#39;t have 2 (or more) persons for 1 department if the person&lt;-&gt;department relationship is one-to-one.","body":"The difference is semantic.  You can&#39;t have 2 (or more) persons for 1 department if the person&lt;-&gt;department relationship is one-to-one."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659338756,"post_id":73190005,"comment_id":129262292,"body_markdown":"&quot;JPA allows two Person objects to share the same department nonetheless.&quot;.  If you try to commit those objects to the database you *should* get a JPA error and/or a database constraint error.","body":"&quot;JPA allows two Person objects to share the same department nonetheless.&quot;.  If you try to commit those objects to the database you <i>should</i> get a JPA error and/or a database constraint error."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1659340110,"post_id":73190005,"comment_id":129262674,"body_markdown":"What bigger difference could there be than a semantic difference, which is a difference in meaning?","body":"What bigger difference could there be than a semantic difference, which is a difference in meaning?"},{"owner":{"account_id":21985573,"reputation":117,"user_id":16259898,"display_name":"Zulfiqar Chaudhry"},"score":0,"creation_date":1659340183,"post_id":73190005,"comment_id":129262690,"body_markdown":"@StephenC The code ran successfully and I had 2 persons in my h2 database with the same department.","body":"@StephenC The code ran successfully and I had 2 persons in my h2 database with the same department."},{"owner":{"account_id":21985573,"reputation":117,"user_id":16259898,"display_name":"Zulfiqar Chaudhry"},"score":0,"creation_date":1659340351,"post_id":73190005,"comment_id":129262751,"body_markdown":"@JensSchauder By semantic difference I mean that is the difference just for easy readability or are there supposed to be implemented checks to ensure a OneToOne relationship.","body":"@JensSchauder By semantic difference I mean that is the difference just for easy readability or are there supposed to be implemented checks to ensure a OneToOne relationship."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659340740,"creation_date":1659340740,"answer_id":73190532,"question_id":73190005,"body_markdown":"JPA itself does not control if your one-to-one relationship is indeed one-to-one. But your database schema can. Just add a unique constraint to the foreign key column.\r\n\r\nThe reason JPA does not check this is, because it would be really expensive to do so on the application side.\r\nJPA would need to obtain a lock on the foreign key column for the whole table and then check that the value about to be inserted isn&#39;t there.\r\n\r\nDatabase constraints on the other hand are mode for this. And while they still require locking, they only lock the index and they do it automatically.\r\n\r\nI&#39;m not sure if the popular JPA implementations generate the unique constraint when they generate the schema. If they don&#39;t, this might be because it would collide with certain scenarios where there exists two identical values for a short time. If you encounter such problems after creating a unique constraint you might want to check if [your database supports deferred constraints][1].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-set-constraints.html#:~:text=DEFERRED%20constraints%20are%20not%20checked,INITIALLY%20IMMEDIATE%20%2C%20or%20NOT%20DEFERRABLE%20.","title":"Is there an implementation difference between the One-To-One and Many-To-One Entity Relationship?","body":"<p>JPA itself does not control if your one-to-one relationship is indeed one-to-one. But your database schema can. Just add a unique constraint to the foreign key column.</p>\n<p>The reason JPA does not check this is, because it would be really expensive to do so on the application side.\nJPA would need to obtain a lock on the foreign key column for the whole table and then check that the value about to be inserted isn't there.</p>\n<p>Database constraints on the other hand are mode for this. And while they still require locking, they only lock the index and they do it automatically.</p>\n<p>I'm not sure if the popular JPA implementations generate the unique constraint when they generate the schema. If they don't, this might be because it would collide with certain scenarios where there exists two identical values for a short time. If you encounter such problems after creating a unique constraint you might want to check if <a href=\"https://www.postgresql.org/docs/current/sql-set-constraints.html#:%7E:text=DEFERRED%20constraints%20are%20not%20checked,INITIALLY%20IMMEDIATE%20%2C%20or%20NOT%20DEFERRABLE%20.\" rel=\"nofollow noreferrer\">your database supports deferred constraints</a>.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659368232,"creation_date":1659366953,"answer_id":73195928,"question_id":73190005,"body_markdown":"The above answer is the correct.\r\n\r\nYou should always protect yourself by declaring the foreign key column to be unique on database level. This way the error would occur on database layer and then bubble up to you in your JPA layer. To do this you have to annotate the side that is the owner of the relationship which has the `@OneToOne` also with `@JoinColumn(unique=true)`\r\n\r\n**However** as Hibernate mentions also to the [documentation][1]\r\n\r\n&gt; When using a bidirectional @OneToOne association, **Hibernate enforces\r\n&gt; the unique constraint upon fetching the child-side. If there are more\r\n&gt; than one children associated with the same parent, Hibernate will\r\n&gt; throw a org.hibernate.exception.ConstraintViolationException**.\r\n&gt; Continuing the previous example, when adding another PhoneDetails,\r\n&gt; Hibernate validates the uniqueness constraint when reloading the Phone\r\n&gt; object.\r\n\r\nSo even if there is no `unique` column on database level, Hibernate will still validate this, when you load entities in peristence context as it will enforce the meaning of `@OneToOne` at this point.\r\n\r\n\r\nSo in case you did \r\n\r\n        Department dep = depdb.findById(1L); //load what was previously stored\r\n\r\nIt would have crushed with `ConstraintViolationException` as it would have identified 2 `Person` with this single department which is wrong according to meaning of `OneToOne`.\r\n\r\nBut in case of entity `persist`, hibernate makes no check of this type of violation so it proceeds with duplicate references for the same entity from different parents although this should not be allowed.\r\n\r\n*Although it is mentioned in Hibernate doc if you inspect closely, that the create tables queries executed for bidirectional relationship for `@OneToOne` contain no unique constraint, in my opinion the hibernate **documentation should be updated to explicitly state this** so that developers would be clearly aware and apply the `@JoinColumn(unique=true)` or some other configuration when needed in order to be protected from this type of issue.* \r\n\r\n \r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional","title":"Is there an implementation difference between the One-To-One and Many-To-One Entity Relationship?","body":"<p>The above answer is the correct.</p>\n<p>You should always protect yourself by declaring the foreign key column to be unique on database level. This way the error would occur on database layer and then bubble up to you in your JPA layer. To do this you have to annotate the side that is the owner of the relationship which has the <code>@OneToOne</code> also with <code>@JoinColumn(unique=true)</code></p>\n<p><strong>However</strong> as Hibernate mentions also to the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>When using a bidirectional @OneToOne association, <strong>Hibernate enforces\nthe unique constraint upon fetching the child-side. If there are more\nthan one children associated with the same parent, Hibernate will\nthrow a org.hibernate.exception.ConstraintViolationException</strong>.\nContinuing the previous example, when adding another PhoneDetails,\nHibernate validates the uniqueness constraint when reloading the Phone\nobject.</p>\n</blockquote>\n<p>So even if there is no <code>unique</code> column on database level, Hibernate will still validate this, when you load entities in peristence context as it will enforce the meaning of <code>@OneToOne</code> at this point.</p>\n<p>So in case you did</p>\n<pre><code>    Department dep = depdb.findById(1L); //load what was previously stored\n</code></pre>\n<p>It would have crushed with <code>ConstraintViolationException</code> as it would have identified 2 <code>Person</code> with this single department which is wrong according to meaning of <code>OneToOne</code>.</p>\n<p>But in case of entity <code>persist</code>, hibernate makes no check of this type of violation so it proceeds with duplicate references for the same entity from different parents although this should not be allowed.</p>\n<p><em>Although it is mentioned in Hibernate doc if you inspect closely, that the create tables queries executed for bidirectional relationship for <code>@OneToOne</code> contain no unique constraint, in my opinion the hibernate <strong>documentation should be updated to explicitly state this</strong> so that developers would be clearly aware and apply the <code>@JoinColumn(unique=true)</code> or some other configuration when needed in order to be protected from this type of issue.</em></p>\n"}],"owner":{"account_id":21985573,"reputation":117,"user_id":16259898,"display_name":"Zulfiqar Chaudhry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73190532,"answer_count":2,"score":3,"last_activity_date":1659368232,"creation_date":1659338017,"question_id":73190005,"body_markdown":"I am confused regarding the difference of OneToOne vs ManyToOne (not OneToMany).\r\n\r\nLets assume we have a Person class and a Department Class. When we say Many Persons can belong to one Department, we assume a ManyToOne relation and add a DeptID column in the Person class. This is what makes sense to me and works as said.\r\n\r\nHowever, if we say that Person and Department has a OneToOne relation, this means one person has only one department and one department as only one person. However, this is where the problem comes. JPA allows two Person objects to share the same department nonetheless. \r\n\r\n**Person Class:**\r\n\r\n    @Entity\r\n    @Table\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        int id;\r\n        @Column\r\n        int age;\r\n        @Column(length = 20)\r\n        String name;\r\n    \r\n        @Column(length = 20, nullable = true)\r\n        String cnic;\r\n    \r\n        @Column(nullable = true)\r\n        boolean married;\r\n    \r\n        @OneToOne\r\n        Department dep;\r\n    }\r\n\r\n**Department Class:**\r\n\r\n    @Entity\r\n    public class Department {\r\n        @Id\r\n        int Id;\r\n        @Column\r\n        String name;\r\n    }\r\n\r\n**Making two Persons with same Department:**\r\n\r\n    public void testOTO() {\r\n            System.out.println(&quot;Testing OTO&quot;);\r\n            Department dep = new Department(202, &quot;CS&quot;);\r\n            depdb.saveAndFlush(dep);\r\n    \r\n            Person p1 = new Person();\r\n            Person p2 = new Person();\r\n            p1.setDep(dep);\r\n            p2.setDep(dep);\r\n    \r\n            db.saveAndFlush(p1);\r\n            db.saveAndFlush(p2);\r\n    }\r\n\r\nI wanted to ask, is the difference between OneToOne and ManyToOne just semantic or am I missing something?","title":"Is there an implementation difference between the One-To-One and Many-To-One Entity Relationship?","body":"<p>I am confused regarding the difference of OneToOne vs ManyToOne (not OneToMany).</p>\n<p>Lets assume we have a Person class and a Department Class. When we say Many Persons can belong to one Department, we assume a ManyToOne relation and add a DeptID column in the Person class. This is what makes sense to me and works as said.</p>\n<p>However, if we say that Person and Department has a OneToOne relation, this means one person has only one department and one department as only one person. However, this is where the problem comes. JPA allows two Person objects to share the same department nonetheless.</p>\n<p><strong>Person Class:</strong></p>\n<pre><code>@Entity\n@Table\npublic class Person {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    int id;\n    @Column\n    int age;\n    @Column(length = 20)\n    String name;\n\n    @Column(length = 20, nullable = true)\n    String cnic;\n\n    @Column(nullable = true)\n    boolean married;\n\n    @OneToOne\n    Department dep;\n}\n</code></pre>\n<p><strong>Department Class:</strong></p>\n<pre><code>@Entity\npublic class Department {\n    @Id\n    int Id;\n    @Column\n    String name;\n}\n</code></pre>\n<p><strong>Making two Persons with same Department:</strong></p>\n<pre><code>public void testOTO() {\n        System.out.println(&quot;Testing OTO&quot;);\n        Department dep = new Department(202, &quot;CS&quot;);\n        depdb.saveAndFlush(dep);\n\n        Person p1 = new Person();\n        Person p2 = new Person();\n        p1.setDep(dep);\n        p2.setDep(dep);\n\n        db.saveAndFlush(p1);\n        db.saveAndFlush(p2);\n}\n</code></pre>\n<p>I wanted to ask, is the difference between OneToOne and ManyToOne just semantic or am I missing something?</p>\n"},{"tags":["java","spring","jpa","lombok","builder"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1659367985,"post_id":73196081,"comment_id":129272479,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/2808747/why-does-jpa-require-a-no-arg-constructor-for-domain-objects","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/2808747/why-does-jpa-require-a-no-arg-constructor-for-domain-objects\" title=\"why does jpa require a no arg constructor for domain objects\">stackoverflow.com/questions/2808747/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659367966,"creation_date":1659367966,"answer_id":73196178,"question_id":73196081,"body_markdown":"A JPA Entity requires a no-arg constructor by [specification](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a18).","title":"Why we are breaking JPA specification here?","body":"<p>A JPA Entity requires a no-arg constructor by <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a18\" rel=\"nofollow noreferrer\">specification</a>.</p>\n"}],"owner":{"account_id":25854896,"reputation":51,"user_id":19588345,"display_name":"fast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73196178,"answer_count":1,"score":1,"last_activity_date":1659367966,"creation_date":1659367541,"question_id":73196081,"body_markdown":"I use Lombok and JPA in my program and I intend to create an Owner object with builder annotation, but in the BaseEntity file when I put @AllArgsConstructor on the class, IntelliJ gives me this warning and when I add @NoArgsConstructor The warning goes away:\r\n\r\n&gt; Using @Builder/@AllArgsConstructor for JPA entities without defined\r\n&gt; no-argument constructor breaks JPA specification.\r\n\r\n\r\nBaseEntity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @MappedSuperclass\r\n    @NoArgsConstructor\r\n    public class BaseEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n\r\n\r\nPerson:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @MappedSuperclass\r\n    public class Person extends BaseEntity {\r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n        public Person(Long id,String firstName, String lastName) {\r\n            super(id);\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n\r\nOwner:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;owner_id&quot;))\r\n    public class Owner extends Person {\r\n    \r\n        @Builder\r\n        public Owner(Long id,String firstName, String lastName, Set&lt;Pet&gt; pets, String address, String city, String telephone) {\r\n            super(firstName, lastName);\r\n            this.pets = pets;\r\n            this.address = address;\r\n            this.city = city;\r\n            this.telephone = telephone;\r\n        }\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;owner&quot;)\r\n        @ToString.Exclude\r\n        private Set&lt;Pet&gt; pets = new HashSet&lt;&gt;();\r\n        private String address, city, telephone;\r\n    \r\n    }\r\n\r\n\r\n\r\nMy question is why does the jpa specification break?","title":"Why we are breaking JPA specification here?","body":"<p>I use Lombok and JPA in my program and I intend to create an Owner object with builder annotation, but in the BaseEntity file when I put @AllArgsConstructor on the class, IntelliJ gives me this warning and when I add @NoArgsConstructor The warning goes away:</p>\n<blockquote>\n<p>Using @Builder/@AllArgsConstructor for JPA entities without defined\nno-argument constructor breaks JPA specification.</p>\n</blockquote>\n<p>BaseEntity:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@MappedSuperclass\n@NoArgsConstructor\npublic class BaseEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n<p>Person:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@MappedSuperclass\npublic class Person extends BaseEntity {\n    private String firstName;\n    private String lastName;\n\n    public Person(Long id,String firstName, String lastName) {\n        super(id);\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>Owner:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@Entity\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;owner_id&quot;))\npublic class Owner extends Person {\n\n    @Builder\n    public Owner(Long id,String firstName, String lastName, Set&lt;Pet&gt; pets, String address, String city, String telephone) {\n        super(firstName, lastName);\n        this.pets = pets;\n        this.address = address;\n        this.city = city;\n        this.telephone = telephone;\n    }\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;owner&quot;)\n    @ToString.Exclude\n    private Set&lt;Pet&gt; pets = new HashSet&lt;&gt;();\n    private String address, city, telephone;\n\n}\n</code></pre>\n<p>My question is why does the jpa specification break?</p>\n"},{"tags":["java","eclipse","java-native-interface","javac"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1659306266,"post_id":73186433,"comment_id":129257417,"body_markdown":"[**You must specify a directory after `-h`** like `-h ../jni` or `-h .`](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html#option-h) also you need to provide the _source_ not the _classfile_ and thus should use that for the dependency. The page you link told you this.","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html#option-h\" rel=\"nofollow noreferrer\"><b>You must specify a directory after <code>-h</code></b> like <code>-h ..&#47;jni</code> or <code>-h .</code></a> also you need to provide the <i>source</i> not the <i>classfile</i> and thus should use that for the dependency. The page you link told you this."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659367910,"creation_date":1659366513,"answer_id":73195830,"question_id":73186433,"body_markdown":"### Starting point\r\n\r\nLooking at [the tutorial](https://www3.ntu.edu.sg/home/ehchua/programming/java/javanativeinterface.html) you&#39;re following,\r\nyour question lines up with &quot;2. Getting Started&quot;, specifically &quot;Step 2&quot; – compiling Java and generating a C/C++ header file.\r\n\r\nTo revisit, here&#39;s what you tried:\r\n```\r\njavac -h -classpath ../bin HelloJNI\r\n```\r\nA few points..\r\n* The `-h` option to `javac` specifies a directory. This directory is where the generated header file should go. It requires a directory name immediately after, like this: `-h directory`. In the attempt above, it&#39;s using the `-h` option, but doesn&#39;t specify a directory. That&#39;s an issue.\r\n* This includes `-classpath ../bin` which isn&#39;t necessary for this example. It&#39;s not a problem, but it isn&#39;t necessary to include and can be removed.\r\n* &quot;HelloJNI&quot; is not an appropriate input for the compiler - you need to specify a &quot;.java&quot; filename\r\n\r\n### The fix\r\n\r\nIn the tutorial, they show this example:\r\n```\r\njavac -h . HelloJNI.java\r\n```\r\n\r\nThis works because:\r\n* They&#39;re using `-h` with &quot;.&quot; as the directory (where &quot;.&quot; means &quot;current directory&quot;).\r\n* They&#39;re compiling the .java file – &quot;HelloJNI.java&quot;\r\n\r\n* Also, they&#39;re not using `-classpath`.\r\nThat option is used to designate where to find class files for compilation (as _input_ to compilation itself), but that isn&#39;t relevant for this tutorial example\r\n– there aren&#39;t any necessary input classes for `javac` to work.\r\nSo, just remove `-classpath ../bin` altogether.\r\n\r\nIn the end, things should work for you if you run the command as they posted in the tutorial:\r\n```\r\njavac -h . HelloJNI.java\r\n```\r\n\r\n### Also: JDK version differences\r\n\r\nYou didn&#39;t specify which JDK version you&#39;re using, but if you&#39;re using an older (pre-8) version of the JDK, there are\r\ndifferent steps to follow (namely, using `javah` in addition to `javac`).\r\n","title":"Eclipse JNI fails with &#39;javac: invalid flag: ../bin&#39;","body":"<h3>Starting point</h3>\n<p>Looking at <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/javanativeinterface.html\" rel=\"nofollow noreferrer\">the tutorial</a> you're following,\nyour question lines up with &quot;2. Getting Started&quot;, specifically &quot;Step 2&quot; – compiling Java and generating a C/C++ header file.</p>\n<p>To revisit, here's what you tried:</p>\n<pre><code>javac -h -classpath ../bin HelloJNI\n</code></pre>\n<p>A few points..</p>\n<ul>\n<li>The <code>-h</code> option to <code>javac</code> specifies a directory. This directory is where the generated header file should go. It requires a directory name immediately after, like this: <code>-h directory</code>. In the attempt above, it's using the <code>-h</code> option, but doesn't specify a directory. That's an issue.</li>\n<li>This includes <code>-classpath ../bin</code> which isn't necessary for this example. It's not a problem, but it isn't necessary to include and can be removed.</li>\n<li>&quot;HelloJNI&quot; is not an appropriate input for the compiler - you need to specify a &quot;.java&quot; filename</li>\n</ul>\n<h3>The fix</h3>\n<p>In the tutorial, they show this example:</p>\n<pre><code>javac -h . HelloJNI.java\n</code></pre>\n<p>This works because:</p>\n<ul>\n<li><p>They're using <code>-h</code> with &quot;.&quot; as the directory (where &quot;.&quot; means &quot;current directory&quot;).</p>\n</li>\n<li><p>They're compiling the .java file – &quot;HelloJNI.java&quot;</p>\n</li>\n<li><p>Also, they're not using <code>-classpath</code>.\nThat option is used to designate where to find class files for compilation (as <em>input</em> to compilation itself), but that isn't relevant for this tutorial example\n– there aren't any necessary input classes for <code>javac</code> to work.\nSo, just remove <code>-classpath ../bin</code> altogether.</p>\n</li>\n</ul>\n<p>In the end, things should work for you if you run the command as they posted in the tutorial:</p>\n<pre><code>javac -h . HelloJNI.java\n</code></pre>\n<h3>Also: JDK version differences</h3>\n<p>You didn't specify which JDK version you're using, but if you're using an older (pre-8) version of the JDK, there are\ndifferent steps to follow (namely, using <code>javah</code> in addition to <code>javac</code>).</p>\n"}],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659422355,"accepted_answer_id":73195830,"answer_count":1,"score":0,"last_activity_date":1659367910,"creation_date":1659296874,"question_id":73186433,"body_markdown":"I&#39;m trying to create a JNI project in Eclipse using CDT. I&#39;m following [this tutorial](https://www3.ntu.edu.sg/home/ehchua/programming/java/javanativeinterface.html). \r\n\r\nSo first I created my project as a Java project and created a ``HelloJNI`` class in the default package, which contains some really basic code.\r\n\r\nI then added a C nature to my project, selecting &#39;Makefile Project&#39; in &#39;Project type&#39; and &#39;Linux GCC&#39; in &#39;Toolchains&#39;.\r\n\r\nThen I created a new directory called &#39;jni&#39; to store all the C code. I then created a new file in eclipse called &#39;makefile&#39; (note the lowercase name) and added this to it.\r\n\r\n````\r\n# Define a variable for classpath\r\nCLASS_PATH = ../bin\r\n\r\n# Define a virtual path for .class in the bin directory\r\nvpath %.class $(CLASS_PATH)\r\n\r\n# $* matches the target filename without the extension\r\nHelloJNI.h : HelloJNI.class\r\n\tjavac -h -classpath $(CLASS_PATH) $*\r\n````\r\n\r\nI then created a build target called &#39;HelloJNI.h&#39; in the jni folder, which automatically used the makefile. I then attempted to build the target, but I got this error:\r\n\r\n````\r\njavac -h -classpath ../bin HelloJNI\r\njavac: invalid flag: ../bin\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse -help for a list of possible options\r\nmake: *** [makefile:9: HelloJNI.h] Error 2\r\n````\r\n\r\nI am puzzled by the error message. Does javac recognize ``../bin`` as a flag? Is there some weird bug happening in Eclipse? If I try to do this in the terminal, I get the same error. I tried searching for answers, but found none.\r\n\r\nThis is my directory strcture:\r\n````\r\n-bin\r\n    HelloJNI.class\r\n-jni\r\n    makefile\r\n-src\r\n    HelloJNI.java\r\n````\r\n\r\n---\r\n**Edit**: Changing the javac call to \r\n````\r\njavac -h -classpath $CLASS_PATH $*\r\n````\r\ngave me the following error:\r\n````\r\nerror: Class names, &#39;LASS_PATH,HelloJNI&#39;, are only accepted if annotation processing is explicitly requested\r\n```` ","title":"Eclipse JNI fails with &#39;javac: invalid flag: ../bin&#39;","body":"<p>I'm trying to create a JNI project in Eclipse using CDT. I'm following <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/javanativeinterface.html\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>So first I created my project as a Java project and created a <code>HelloJNI</code> class in the default package, which contains some really basic code.</p>\n<p>I then added a C nature to my project, selecting 'Makefile Project' in 'Project type' and 'Linux GCC' in 'Toolchains'.</p>\n<p>Then I created a new directory called 'jni' to store all the C code. I then created a new file in eclipse called 'makefile' (note the lowercase name) and added this to it.</p>\n<pre><code># Define a variable for classpath\nCLASS_PATH = ../bin\n\n# Define a virtual path for .class in the bin directory\nvpath %.class $(CLASS_PATH)\n\n# $* matches the target filename without the extension\nHelloJNI.h : HelloJNI.class\n    javac -h -classpath $(CLASS_PATH) $*\n</code></pre>\n<p>I then created a build target called 'HelloJNI.h' in the jni folder, which automatically used the makefile. I then attempted to build the target, but I got this error:</p>\n<pre><code>javac -h -classpath ../bin HelloJNI\njavac: invalid flag: ../bin\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\nmake: *** [makefile:9: HelloJNI.h] Error 2\n</code></pre>\n<p>I am puzzled by the error message. Does javac recognize <code>../bin</code> as a flag? Is there some weird bug happening in Eclipse? If I try to do this in the terminal, I get the same error. I tried searching for answers, but found none.</p>\n<p>This is my directory strcture:</p>\n<pre><code>-bin\n    HelloJNI.class\n-jni\n    makefile\n-src\n    HelloJNI.java\n</code></pre>\n<hr />\n<p><strong>Edit</strong>: Changing the javac call to</p>\n<pre><code>javac -h -classpath $CLASS_PATH $*\n</code></pre>\n<p>gave me the following error:</p>\n<pre><code>error: Class names, 'LASS_PATH,HelloJNI', are only accepted if annotation processing is explicitly requested\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659367690,"creation_date":1659367690,"answer_id":73196110,"question_id":73196032,"body_markdown":"You maybe looking for `Custom Tabs by Chrome`\r\n\r\nhttps://developer.chrome.com/docs/android/custom-tabs/\r\n\r\nhttps://developer.chrome.com/docs/android/custom-tabs/integration-guide/","title":"How do I open links in a window?","body":"<p>You maybe looking for <code>Custom Tabs by Chrome</code></p>\n<p><a href=\"https://developer.chrome.com/docs/android/custom-tabs/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/android/custom-tabs/</a></p>\n<p><a href=\"https://developer.chrome.com/docs/android/custom-tabs/integration-guide/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/android/custom-tabs/integration-guide/</a></p>\n"}],"owner":{"account_id":22071645,"reputation":73,"user_id":16332555,"display_name":"MASAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73196110,"answer_count":1,"score":3,"last_activity_date":1659367690,"creation_date":1659367355,"question_id":73196032,"body_markdown":"I recently implemented a button in an Android application to open links externally, but I realized I can&#39;t find a way to open the link in a window.\r\n\r\nI need it to open [like this][1], not [like this][2] (look at the url bar).\r\n\r\nHere&#39;s the piece of code I currently use:\r\n\r\n```\r\nIntent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://www.example.com&quot;));\r\nstartActivity(intent);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9EEaZ.jpg\r\n  [2]: https://i.stack.imgur.com/Plhrb.jpg\r\n\r\nIs there any simple way to do this?","title":"How do I open links in a window?","body":"<p>I recently implemented a button in an Android application to open links externally, but I realized I can't find a way to open the link in a window.</p>\n<p>I need it to open <a href=\"https://i.stack.imgur.com/9EEaZ.jpg\" rel=\"nofollow noreferrer\">like this</a>, not <a href=\"https://i.stack.imgur.com/Plhrb.jpg\" rel=\"nofollow noreferrer\">like this</a> (look at the url bar).</p>\n<p>Here's the piece of code I currently use:</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://www.example.com&quot;));\nstartActivity(intent);\n</code></pre>\n<p>Is there any simple way to do this?</p>\n"},{"tags":["java","debugging","methods","inventory-management"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597262989,"creation_date":1597261540,"answer_id":63383725,"question_id":63383618,"body_markdown":"The line\r\n \r\n    Item item = store[i];\r\n\r\ndoes not create a copy, but references the same object as is stored in the array `store`. The following \r\n\r\n    item.setQuantity(buyQuantity); \r\n\r\nsets the quantity of the item in the `store` to `buyQuantity` and the following\r\n\r\n    store[i].setQuantity(store[i].getQuantity() - buyQuantity);\r\n\r\neffectively reduces the count of the item to `0` (both in the store and in the player inventory).\r\n\r\nAs for the fix, one could use `clone()` but [this is regarded as broken][CloneIsBroken]. \r\n\r\nI would suggest a semantically different approach. Each item does not represent a single item, but a bundle of items. Thus, a specific amount can be added or removed to/from the bundle. For this to be feasible, I would make the common superclass `Item` (which I assume exists) generic in `T extends Item&lt;T&gt;`, `abstract` and give it a `public abstract T take(int amount);` method:\r\n\r\n    public abstract class Item&lt;T extends Item&lt;T&gt;&gt; {\r\n        ...\r\n        public abstract T take(int amount);\r\n        ...\r\n    }\r\n\r\nThen, I would change all subclasses to extend this superclass, e.g.\r\n\r\n    public class Arrow extends Item&lt;Arrow&gt; {\r\n        public Arrow take(int amount) {\r\n            ...\r\n        }\r\n    }\r\n\r\nFinally, I would rename the classes to reflect clearly that each `Item` is a bundle of items. E.g., `Item` can be renamed to `ItemBundle` and `Arrow` can be renamed to `ArrowBundle` or `Arrows`.\r\n\r\n[CloneIsBroken]: https://www.artima.com/intv/bloch.html","title":"Java - Bug in Shop System","body":"<p>The line</p>\n<pre><code>Item item = store[i];\n</code></pre>\n<p>does not create a copy, but references the same object as is stored in the array <code>store</code>. The following</p>\n<pre><code>item.setQuantity(buyQuantity); \n</code></pre>\n<p>sets the quantity of the item in the <code>store</code> to <code>buyQuantity</code> and the following</p>\n<pre><code>store[i].setQuantity(store[i].getQuantity() - buyQuantity);\n</code></pre>\n<p>effectively reduces the count of the item to <code>0</code> (both in the store and in the player inventory).</p>\n<p>As for the fix, one could use <code>clone()</code> but <a href=\"https://www.artima.com/intv/bloch.html\" rel=\"nofollow noreferrer\">this is regarded as broken</a>.</p>\n<p>I would suggest a semantically different approach. Each item does not represent a single item, but a bundle of items. Thus, a specific amount can be added or removed to/from the bundle. For this to be feasible, I would make the common superclass <code>Item</code> (which I assume exists) generic in <code>T extends Item&lt;T&gt;</code>, <code>abstract</code> and give it a <code>public abstract T take(int amount);</code> method:</p>\n<pre><code>public abstract class Item&lt;T extends Item&lt;T&gt;&gt; {\n    ...\n    public abstract T take(int amount);\n    ...\n}\n</code></pre>\n<p>Then, I would change all subclasses to extend this superclass, e.g.</p>\n<pre><code>public class Arrow extends Item&lt;Arrow&gt; {\n    public Arrow take(int amount) {\n        ...\n    }\n}\n</code></pre>\n<p>Finally, I would rename the classes to reflect clearly that each <code>Item</code> is a bundle of items. E.g., <code>Item</code> can be renamed to <code>ItemBundle</code> and <code>Arrow</code> can be renamed to <code>ArrowBundle</code> or <code>Arrows</code>.</p>\n"},{"tags":[],"owner":{"account_id":2283896,"reputation":1509,"user_id":2008394,"accept_rate":57,"display_name":"Erik Karlstrand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597261549,"creation_date":1597261549,"answer_id":63383728,"question_id":63383618,"body_markdown":"You are explicitly changing the quantity of the purchased item to the amount requested by the player here: \r\n\r\n    Item item = store[i];\r\n    item.setQuantity(buyQuantity);\r\n\r\nIf you want to add x amount of `Item` the the player&#39;s inventory you need to create a new instance of that `Item` on which you set the `buyQuantity` to whatever amount was purchased. That way you keep the integrity of the store&#39;s stock.","title":"Java - Bug in Shop System","body":"<p>You are explicitly changing the quantity of the purchased item to the amount requested by the player here:</p>\n<pre><code>Item item = store[i];\nitem.setQuantity(buyQuantity);\n</code></pre>\n<p>If you want to add x amount of <code>Item</code> the the player's inventory you need to create a new instance of that <code>Item</code> on which you set the <code>buyQuantity</code> to whatever amount was purchased. That way you keep the integrity of the store's stock.</p>\n"}],"owner":{"account_id":17873604,"reputation":21,"user_id":12984245,"display_name":"Notorious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1659367654,"creation_date":1597261025,"question_id":63383618,"body_markdown":"so I have a little inventory/shop interaction which is I can&#39;t find a solution for.\r\n\r\nThe player is supposed to be able to buy and sell items with a predefined buy/sell value in my Item class constructor. With the help of a scanner I&#39;m able to sell without any bugs. However if I buy any quantity, the entire quantity is bought somehow. The item quantity is set to 0 after I buy any quantity once.\r\n\r\n\r\n\t\tprivate void buyItem() {\r\n\t\tSystem.out.println(&quot;Which item would you like to buy?&quot;);\r\n\t\tshowStock();\r\n\r\n\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString itemName = &quot;&quot; + sc.next();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; store.length; i++) {\r\n\t\t\tif (store[i] != null &amp;&amp; store[i].getName().equals(itemName)) {\r\n\t\t\t\t// Checks if the given item name is available in the store\r\n\t\t\t\tSystem.out.println(&quot;We have &quot; + store[i].getQuantity() + &quot; &quot; + store[i].getName() + &quot;s in our stock. &quot; + store[i].getBuyPrice() + &quot; each&quot;);\r\n\t\t\t\tSystem.out.println(&quot;How many would you like to buy?&quot;);\r\n\t\t\t\tint buyQuantity = sc.nextInt();\r\n\t\t\t\t// Checks if there is enough in the stock\r\n\t\t\t\tif (buyQuantity &gt; store[i].getQuantity()) {\r\n\t\t\t\t\tSystem.out.println(&quot;Not enough &quot; + store[i].getName() + &quot; available in the stock.&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Checks if Player can afford it\r\n\t\t\t\t\tif (Player.getInstance().getCoins() &gt;= store[i].getBuyPrice()) {\r\n\t\t\t\t\t\t// Update player inventory\r\n\t\t\t\t\t\tPlayer.getInstance().removeCoins(buyQuantity * store[i].getBuyPrice());\r\n\t\t\t\t\t\tItem item = store[i];\r\n\t\t\t\t\t\titem.setQuantity(buyQuantity);\r\n\t\t\t\t\t\tPlayer.getInstance().getInv().addItem(item);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Buy transaction\r\n\t\t\t\t\t\tstore[i].setQuantity(store[i].getQuantity() - buyQuantity);\r\n\t\t\t\t\t\tSystem.out.println(&quot;You have purchased &quot; + buyQuantity + &quot;x &quot; + itemName);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Coins: &quot; + Player.getInstance().getCoins());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Checks if the entire amount has been bought\r\n\t\t\t\t\t\tif (buyQuantity == store[i].getQuantity()) {\r\n\t\t\t\t\t\t\tstore[i] = null;\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;That&#39;s all &quot; + itemName + &quot; the store had&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;You don&#39;t have enough coins to buy &quot; + buyQuantity + &quot; &quot; + itemName + &quot;s&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAnd this is my console output from an example: \r\n\r\n    Which item would you like to buy?\r\n    Slot 0: Weapon\r\n    Slot 1: Cake\r\n    Slot 2: Arrow\r\n    Arrow\r\n    We have 100 Arrows in our stock. 2 each\r\n    How many would you like to buy?\r\n    10\r\n    You have purchased 10x Arrow\r\n    Coins: 980\r\n    That&#39;s all Arrow the store had\r\n\r\nI&#39;ve been trying and thinking for quite some time, but I can&#39;t figure out my bug. Do you have any suggestions? I tried debugging and everything was &quot;working&quot; the values were correct. But when I entered the quantity I would like to buy, my int output didn&#39;t affect anything. Would highly appreciate any tip!","title":"Java - Bug in Shop System","body":"<p>so I have a little inventory/shop interaction which is I can't find a solution for.</p>\n<p>The player is supposed to be able to buy and sell items with a predefined buy/sell value in my Item class constructor. With the help of a scanner I'm able to sell without any bugs. However if I buy any quantity, the entire quantity is bought somehow. The item quantity is set to 0 after I buy any quantity once.</p>\n<pre><code>    private void buyItem() {\n    System.out.println(&quot;Which item would you like to buy?&quot;);\n    showStock();\n\n    @SuppressWarnings(&quot;resource&quot;)\n    Scanner sc = new Scanner(System.in);\n    String itemName = &quot;&quot; + sc.next();\n    \n    for (int i = 0; i &lt; store.length; i++) {\n        if (store[i] != null &amp;&amp; store[i].getName().equals(itemName)) {\n            // Checks if the given item name is available in the store\n            System.out.println(&quot;We have &quot; + store[i].getQuantity() + &quot; &quot; + store[i].getName() + &quot;s in our stock. &quot; + store[i].getBuyPrice() + &quot; each&quot;);\n            System.out.println(&quot;How many would you like to buy?&quot;);\n            int buyQuantity = sc.nextInt();\n            // Checks if there is enough in the stock\n            if (buyQuantity &gt; store[i].getQuantity()) {\n                System.out.println(&quot;Not enough &quot; + store[i].getName() + &quot; available in the stock.&quot;);\n                break;\n            } else {\n                // Checks if Player can afford it\n                if (Player.getInstance().getCoins() &gt;= store[i].getBuyPrice()) {\n                    // Update player inventory\n                    Player.getInstance().removeCoins(buyQuantity * store[i].getBuyPrice());\n                    Item item = store[i];\n                    item.setQuantity(buyQuantity);\n                    Player.getInstance().getInv().addItem(item);\n                    \n                    // Buy transaction\n                    store[i].setQuantity(store[i].getQuantity() - buyQuantity);\n                    System.out.println(&quot;You have purchased &quot; + buyQuantity + &quot;x &quot; + itemName);\n                    System.out.println(&quot;Coins: &quot; + Player.getInstance().getCoins());\n                    \n                    // Checks if the entire amount has been bought\n                    if (buyQuantity == store[i].getQuantity()) {\n                        store[i] = null;\n                        System.out.println(&quot;That's all &quot; + itemName + &quot; the store had&quot;);\n                    }\n                    break;\n                } else {\n                    System.out.println(&quot;You don't have enough coins to buy &quot; + buyQuantity + &quot; &quot; + itemName + &quot;s&quot;);\n                    break;\n                }\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>And this is my console output from an example:</p>\n<pre><code>Which item would you like to buy?\nSlot 0: Weapon\nSlot 1: Cake\nSlot 2: Arrow\nArrow\nWe have 100 Arrows in our stock. 2 each\nHow many would you like to buy?\n10\nYou have purchased 10x Arrow\nCoins: 980\nThat's all Arrow the store had\n</code></pre>\n<p>I've been trying and thinking for quite some time, but I can't figure out my bug. Do you have any suggestions? I tried debugging and everything was &quot;working&quot; the values were correct. But when I entered the quantity I would like to buy, my int output didn't affect anything. Would highly appreciate any tip!</p>\n"},{"tags":["java","spring-boot","apache-camel","minio"],"answers":[{"tags":[],"owner":{"account_id":15230487,"reputation":71,"user_id":10989775,"display_name":"Mauro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659367268,"creation_date":1659367268,"answer_id":73196007,"question_id":73076960,"body_markdown":"I&#39;m working with Stefano, the issue is related to camel implementation with minio component. The solution is the following.\r\nThe recevivedBody is an interface with overloaded methods if the timeout is required set the minimum timeout to 1100 millis or the result will be null, if is not required just use the method without timeout.\r\n\r\nWith Timeout\r\n\r\n    ConsumerTemplate template = context.createConsumerTemplate();\r\n    byte[] content = template.receiveBody(uri, 1100, byte[].class);\r\n\r\nWithout timeOut\r\n\r\n    ConsumerTemplate template = context.createConsumerTemplate();\r\n    byte[] content = template.receiveBody(uri, byte[].class);","title":"Unable to retrieve MinIO Object through Apache camel","body":"<p>I'm working with Stefano, the issue is related to camel implementation with minio component. The solution is the following.\nThe recevivedBody is an interface with overloaded methods if the timeout is required set the minimum timeout to 1100 millis or the result will be null, if is not required just use the method without timeout.</p>\n<p>With Timeout</p>\n<pre><code>ConsumerTemplate template = context.createConsumerTemplate();\nbyte[] content = template.receiveBody(uri, 1100, byte[].class);\n</code></pre>\n<p>Without timeOut</p>\n<pre><code>ConsumerTemplate template = context.createConsumerTemplate();\nbyte[] content = template.receiveBody(uri, byte[].class);\n</code></pre>\n"}],"owner":{"account_id":5851820,"reputation":139,"user_id":4610299,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73196007,"answer_count":1,"score":1,"last_activity_date":1659367268,"creation_date":1658476599,"question_id":73076960,"body_markdown":"I&#39;m facing a problem retrieving an Object from MinIO Server through Apache Camel . \r\n\r\nI&#39;m using a &quot;third party&quot; library (that I cannot change directly) which use the following approach to connect to camel and download objects:\r\n\r\n    ConsumerTemplate template = context.createConsumerTemplate();\r\n    byte[] content = template.receiveBody(uri, timeout, byte[].class);\r\n\r\n\r\nTo this code i pass my &quot;camel flavored&quot; uri for MinIO with the following format: \r\n\r\n       String camelUri = &quot;minio://myBucketName?prefix=hello.txt&quot;);\r\n\t \r\nI&#39;m configuring the Apache Camel component like this for MinIO:\r\n    \r\n\t\r\n\r\n    @Bean\r\n        public MinioClient minioClient() {\r\n            return new MinioClient.Builder()\r\n                    .credentials(accessKey, secretKey)\r\n                    .endpoint(url)\r\n                    .build();\r\n        }\r\n    \t\r\n    \r\n    @Bean\r\n\tpublic CamelContext camelContext(MinioClient client) {\r\n\t\tCamelContext context = new DefaultCamelContext();\r\n\t\tcontext.setTracing(true);\r\n\t\tcontext.start();\r\n\t\t\r\n\t\tMinioComponentBuilder minioCompBuilder = \r\n\t\tComponentsBuilderFactory.minio().minioClient(client).secure(true);\r\n\t\tminioCompBuilder.register(context, &quot;minio&quot;);\r\n\t\treturn context;\r\n\t}\r\n\r\nEnabling the TRACE level I can see that camel is able to establish a connection, by first  verifing that the bucket already exists,but nothing is returned. \r\n\r\nFollowing the configuration options to be passed as query string I did try as well the option :\r\n\r\n    String camelUri = &quot;minio://myBucketName?objectName=hello.txt;\r\n\t\r\nStill nothing is returned.\r\n\t\r\n\r\nIn the log :\r\n\r\n    &quot;message&quot;:&quot;Starting service: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot; \t&quot;message&quot;:&quot;Querying whether bucket myBucketName already exists...&quot; \t&quot;message&quot;:&quot;Bucket myBucketName already exists&quot; \t&quot;message&quot;:&quot;Started service: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot; \t&quot;message&quot;:&quot;&lt;&lt;&lt;&lt; minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot; \t&quot;message&quot;:&quot;Creating service from endpoint: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot; \t&quot;message&quot;:&quot;Creating EventDrivenPollingConsumer with queueSize: 1000 blockWhenFull: true blockTimeout: 0 copy: false&quot; \t&quot;message&quot;:&quot;Building service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Built service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Initializing service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Building service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Build consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Building service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Warming up PrototypeExchangeFactory loaded class: org.apache.camel.support.DefaultExchange&quot;\r\n    &quot;message&quot;:&quot;Built service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Warming up DefaultConsumer loaded class: org.apache.camel.support.DefaultConsumer$DefaultConsumerCallback&quot;\r\n    &quot;message&quot;:&quot;Built service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Initializing service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Init consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Initializing service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Initialized service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Initialized service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Initialized service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Starting service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Started service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Acquired service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Before poll minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Starting service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Starting consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Starting service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Started service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\r\n    &quot;message&quot;:&quot;Service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false already started&quot;\r\n    &quot;message&quot;:&quot;Building service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Built service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Initializing service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Initialized service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Starting service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Created new ScheduledThreadPool for source: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false] with name: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false -&gt; org.apache.camel.util.concurrent.SizedScheduledExecutorService@1eef6e57[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Started service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\r\n    &quot;message&quot;:&quot;Scheduling 1 consumers poll (fixed delay) with initialDelay: 1000, delay: 500 (milliseconds) for: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;canScheduleOrExecute 0 &lt; 1000 -&gt; true&quot;\r\n    &quot;message&quot;:&quot;Created thread[Camel (camel-1) thread #1 - minio://myBucketName] -&gt; Thread[Camel (camel-1) thread #1 - minio://myBucketName,5,main]&quot;\r\n    &quot;message&quot;:&quot;Started service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;After poll minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    &quot;message&quot;:&quot;Suspending service MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Suspending service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Suspended service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\r\n    &quot;message&quot;:&quot;Released service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\r\n    ,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\r\n    ,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\r\n    ..... and goes on with this util i stop the application. \r\n\r\n\t\r\n\t\r\n I&#39;m new to camel and I don&#39;t understand why it creates as well a PollingConsumer and the scheduler (which I did try to stop passing *startScheduler=false*) by default, and the polling after is continuously trying to start but fails. Probably this should ends in another question, I don&#39;t think is related to my problem.\r\n \r\nMy dependencies : \r\n      \r\n\r\n    &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;camel-minio&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.14.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.14.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.minio&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;minio&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.4.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\r\n In the MinIo Server the file is right under the Bucket: ***myBucketName/hello.txt*** \r\n \r\n Moreover I tested with direct calls using MinioClient (the same injected into MinioComponentBuilder):\r\n \r\n       \r\n\r\n     GetObjectResponse getObj =  minioClient.getObject(GetObjectArgs.builder()\r\n                        .bucket(&quot;myBucketName&quot;)\r\n                        .object(&quot;hello.txt&quot;).build());\r\n\t String input = new String(getObj.readAllBytes());\r\n     log.info(&quot;TXT CONTENT: {}&quot;,input);\r\n\r\n\t\t\t\r\nAnd it works just fine, printing the content of the txt. \r\n\r\nI&#39;m probably doing something wrong with the uri syntax and how I compose it but cannot figure it out.\r\n\r\n\r\n\r\n","title":"Unable to retrieve MinIO Object through Apache camel","body":"<p>I'm facing a problem retrieving an Object from MinIO Server through Apache Camel .</p>\n<p>I'm using a &quot;third party&quot; library (that I cannot change directly) which use the following approach to connect to camel and download objects:</p>\n<pre><code>ConsumerTemplate template = context.createConsumerTemplate();\nbyte[] content = template.receiveBody(uri, timeout, byte[].class);\n</code></pre>\n<p>To this code i pass my &quot;camel flavored&quot; uri for MinIO with the following format:</p>\n<pre><code>   String camelUri = &quot;minio://myBucketName?prefix=hello.txt&quot;);\n \n</code></pre>\n<p>I'm configuring the Apache Camel component like this for MinIO:</p>\n<pre><code>@Bean\n    public MinioClient minioClient() {\n        return new MinioClient.Builder()\n                .credentials(accessKey, secretKey)\n                .endpoint(url)\n                .build();\n    }\n    \n\n@Bean\npublic CamelContext camelContext(MinioClient client) {\n    CamelContext context = new DefaultCamelContext();\n    context.setTracing(true);\n    context.start();\n    \n    MinioComponentBuilder minioCompBuilder = \n    ComponentsBuilderFactory.minio().minioClient(client).secure(true);\n    minioCompBuilder.register(context, &quot;minio&quot;);\n    return context;\n}\n</code></pre>\n<p>Enabling the TRACE level I can see that camel is able to establish a connection, by first  verifing that the bucket already exists,but nothing is returned.</p>\n<p>Following the configuration options to be passed as query string I did try as well the option :</p>\n<pre><code>String camelUri = &quot;minio://myBucketName?objectName=hello.txt;\n</code></pre>\n<p>Still nothing is returned.</p>\n<p>In the log :</p>\n<pre><code>&quot;message&quot;:&quot;Starting service: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;    &quot;message&quot;:&quot;Querying whether bucket myBucketName already exists...&quot;  &quot;message&quot;:&quot;Bucket myBucketName already exists&quot;  &quot;message&quot;:&quot;Started service: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;     &quot;message&quot;:&quot;&lt;&lt;&lt;&lt; minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;     &quot;message&quot;:&quot;Creating service from endpoint: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;  &quot;message&quot;:&quot;Creating EventDrivenPollingConsumer with queueSize: 1000 blockWhenFull: true blockTimeout: 0 copy: false&quot;    &quot;message&quot;:&quot;Building service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Built service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Initializing service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Building service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Build consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Building service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Warming up PrototypeExchangeFactory loaded class: org.apache.camel.support.DefaultExchange&quot;\n&quot;message&quot;:&quot;Built service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Warming up DefaultConsumer loaded class: org.apache.camel.support.DefaultConsumer$DefaultConsumerCallback&quot;\n&quot;message&quot;:&quot;Built service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Initializing service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Init consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Initializing service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Initialized service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Initialized service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Initialized service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Starting service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Started service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Acquired service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Before poll minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Starting service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Starting consumer: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Starting service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Started service: org.apache.camel.impl.engine.PrototypeExchangeFactory@427e563c&quot;\n&quot;message&quot;:&quot;Service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false already started&quot;\n&quot;message&quot;:&quot;Building service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Built service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Initializing service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Initialized service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Starting service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Created new ScheduledThreadPool for source: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false] with name: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false -&gt; org.apache.camel.util.concurrent.SizedScheduledExecutorService@1eef6e57[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Started service: org.apache.camel.support.DefaultScheduledPollConsumerScheduler@1c0e57e4&quot;\n&quot;message&quot;:&quot;Scheduling 1 consumers poll (fixed delay) with initialDelay: 1000, delay: 500 (milliseconds) for: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;canScheduleOrExecute 0 &lt; 1000 -&gt; true&quot;\n&quot;message&quot;:&quot;Created thread[Camel (camel-1) thread #1 - minio://myBucketName] -&gt; Thread[Camel (camel-1) thread #1 - minio://myBucketName,5,main]&quot;\n&quot;message&quot;:&quot;Started service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;After poll minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n&quot;message&quot;:&quot;Suspending service MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Suspending service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Suspended service: MinioConsumer[minio://myBucketName?prefix=hello.txt&amp;startScheduler=false]&quot;\n&quot;message&quot;:&quot;Released service: PollingConsumer on minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;\n,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\n,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\n,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\n,&quot;message&quot;:&quot;Scheduled task completed on: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Scheduled task started on:   minio://myBucketName?prefix=hello.txt&amp;startScheduler=false&quot;}\n,&quot;message&quot;:&quot;Cannot start to poll: minio://myBucketName?prefix=hello.txt&amp;startScheduler=false as its suspended&quot;}\n..... and goes on with this util i stop the application. \n</code></pre>\n<p>I'm new to camel and I don't understand why it creates as well a PollingConsumer and the scheduler (which I did try to stop passing <em>startScheduler=false</em>) by default, and the polling after is continuously trying to start but fails. Probably this should ends in another question, I don't think is related to my problem.</p>\n<p>My dependencies :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-minio&lt;/artifactId&gt;\n        &lt;version&gt;3.14.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\n        &lt;version&gt;3.14.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.minio&lt;/groupId&gt;\n        &lt;artifactId&gt;minio&lt;/artifactId&gt;\n        &lt;version&gt;8.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In the MinIo Server the file is right under the Bucket: <em><strong>myBucketName/hello.txt</strong></em></p>\n<p>Moreover I tested with direct calls using MinioClient (the same injected into MinioComponentBuilder):</p>\n<pre><code> GetObjectResponse getObj =  minioClient.getObject(GetObjectArgs.builder()\n                    .bucket(&quot;myBucketName&quot;)\n                    .object(&quot;hello.txt&quot;).build());\n String input = new String(getObj.readAllBytes());\n log.info(&quot;TXT CONTENT: {}&quot;,input);\n\n        \n</code></pre>\n<p>And it works just fine, printing the content of the txt.</p>\n<p>I'm probably doing something wrong with the uri syntax and how I compose it but cannot figure it out.</p>\n"},{"tags":["java","maven","maven-plugin","maven-dependency-plugin","maven-dependency"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653472765,"creation_date":1653472765,"answer_id":72375538,"question_id":72373753,"body_markdown":"`failOnWarning` makes the maven build fail if a warning was generated, it doesn&#39;t remove or prevent the warnings. See https://maven.apache.org/plugins/maven-dependency-plugin/examples/failing-the-build-on-dependency-analysis-warnings.html\r\n\r\nRegarding the configuration of exlusions, see https://maven.apache.org/plugins/maven-dependency-plugin/examples/exclude-dependencies-from-dependency-analysis.html\r\n\r\nThat gives an example like so;\r\n```\r\n&lt;configuration&gt;\r\n  &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n\r\n  &lt;!-- ignore jsr305 for &quot;used but undeclared&quot;, &quot;declared but unused&quot;, and &quot;non-test scoped&quot; --&gt;\r\n  &lt;ignoredDependencies&gt;\r\n\t&lt;ignoredDependency&gt;com.google.code.findbugs:jsr305&lt;/ignoredDependency&gt;\r\n  &lt;/ignoredDependencies&gt;\r\n\r\n  &lt;!-- ignore annotations for &quot;used but undeclared&quot; warnings --&gt;\r\n  &lt;ignoredUsedUndeclaredDependencies&gt;\r\n\t&lt;ignoredUsedUndeclaredDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredUsedUndeclaredDependency&gt;\r\n  &lt;/ignoredUsedUndeclaredDependencies&gt;\r\n\r\n  &lt;!-- ignore annotations for &quot;unused but declared&quot; warnings --&gt;\r\n  &lt;ignoredUnusedDeclaredDependencies&gt;\r\n\t&lt;ignoredUnusedDeclaredDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredUnusedDeclaredDependency&gt;\r\n  &lt;/ignoredUnusedDeclaredDependencies&gt;\r\n\r\n  &lt;!-- ignore annotations for &quot;non-test scoped&quot; warnings --&gt;\r\n  &lt;ignoredNonTestScopedDependencies&gt;\r\n\t&lt;ignoredNonTestScopedDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredNonTestScopedDependency&gt;\r\n  &lt;/ignoredNonTestScopedDependencies&gt;\r\n&lt;/configuration&gt;\r\n```\r\nSo your syntax should be correct.\r\nDo you depend on the latest version of the plugin? If not, try to update the version number to the most recent one you have access to: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin\r\n`ignoredUnusedDeclaredDependencies` was added in the plugin version `2.10` and `ignoredNonTestScopedDependencies` since `3.3.0`.\r\n\r\nAlso check if your wildcard filter syntax is correct according to https://maven.apache.org/plugins/maven-dependency-plugin/examples/filtering-the-dependency-tree.html","title":"maven dependency plugin throwing error even if I add flag ignoreunuseddeclareddependecy","body":"<p><code>failOnWarning</code> makes the maven build fail if a warning was generated, it doesn't remove or prevent the warnings. See <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/failing-the-build-on-dependency-analysis-warnings.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/failing-the-build-on-dependency-analysis-warnings.html</a></p>\n<p>Regarding the configuration of exlusions, see <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/exclude-dependencies-from-dependency-analysis.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/exclude-dependencies-from-dependency-analysis.html</a></p>\n<p>That gives an example like so;</p>\n<pre><code>&lt;configuration&gt;\n  &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n\n  &lt;!-- ignore jsr305 for &quot;used but undeclared&quot;, &quot;declared but unused&quot;, and &quot;non-test scoped&quot; --&gt;\n  &lt;ignoredDependencies&gt;\n    &lt;ignoredDependency&gt;com.google.code.findbugs:jsr305&lt;/ignoredDependency&gt;\n  &lt;/ignoredDependencies&gt;\n\n  &lt;!-- ignore annotations for &quot;used but undeclared&quot; warnings --&gt;\n  &lt;ignoredUsedUndeclaredDependencies&gt;\n    &lt;ignoredUsedUndeclaredDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredUsedUndeclaredDependency&gt;\n  &lt;/ignoredUsedUndeclaredDependencies&gt;\n\n  &lt;!-- ignore annotations for &quot;unused but declared&quot; warnings --&gt;\n  &lt;ignoredUnusedDeclaredDependencies&gt;\n    &lt;ignoredUnusedDeclaredDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredUnusedDeclaredDependency&gt;\n  &lt;/ignoredUnusedDeclaredDependencies&gt;\n\n  &lt;!-- ignore annotations for &quot;non-test scoped&quot; warnings --&gt;\n  &lt;ignoredNonTestScopedDependencies&gt;\n    &lt;ignoredNonTestScopedDependency&gt;com.google.code.findbugs:annotations&lt;/ignoredNonTestScopedDependency&gt;\n  &lt;/ignoredNonTestScopedDependencies&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>So your syntax should be correct.\nDo you depend on the latest version of the plugin? If not, try to update the version number to the most recent one you have access to: <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin</a>\n<code>ignoredUnusedDeclaredDependencies</code> was added in the plugin version <code>2.10</code> and <code>ignoredNonTestScopedDependencies</code> since <code>3.3.0</code>.</p>\n<p>Also check if your wildcard filter syntax is correct according to <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/filtering-the-dependency-tree.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/filtering-the-dependency-tree.html</a></p>\n"},{"tags":[],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659367127,"creation_date":1659367127,"answer_id":73195966,"question_id":72373753,"body_markdown":"I figured out what was the issue! my settings were override by the parent pom, why so? because in the parent pom the configuration is written under execution, however in my pom the configuration is outside execution (directly under plugin) when I moved the configuration in my plugin under the execution, my settings were taken into consideration","title":"maven dependency plugin throwing error even if I add flag ignoreunuseddeclareddependecy","body":"<p>I figured out what was the issue! my settings were override by the parent pom, why so? because in the parent pom the configuration is written under execution, however in my pom the configuration is outside execution (directly under plugin) when I moved the configuration in my plugin under the execution, my settings were taken into consideration</p>\n"}],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73195966,"answer_count":2,"score":1,"last_activity_date":1659367127,"creation_date":1653464814,"question_id":72373753,"body_markdown":"I am trying to build my code and I am getting this error:\r\n```[INFO] --- maven-dependency-plugin:2.10:analyze-only (analyze) @ XmlsAuthorization ---\r\n[WARNING] Unused declared dependencies found:\r\n[WARNING]    com:test-client:jar:v1.0-SNAPSHOT:compile\r\n```\r\n\r\nThis is the configuration of the dependency plugin in my pom:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;analyze&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n&lt;!--                    &lt;usedDependencies&gt;--&gt;\r\n&lt;!--                        &lt;usedDependency&gt;com:test-client&lt;/usedDependency&gt;--&gt;\r\n&lt;!--                    &lt;/usedDependencies&gt;--&gt;\r\n                    &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n                    &lt;ignoreNonCompile&gt;true&lt;/ignoreNonCompile&gt;\r\n                    &lt;ignoredUnusedDeclaredDependencies&gt;\r\n&lt;!--                        &lt;ignoredUnusedDeclaredDependency&gt;*:test-client:*&lt;/ignoredUnusedDeclaredDependency&gt;--&gt;\r\n                    &lt;/ignoredUnusedDeclaredDependencies&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nI tried to add the test-client to the flag ignoredUnsedDeclaredDependecy (see the commented part) but still getting error.\r\n\r\nI tried to set the failOnWarning flag to false but also I get same warning.\r\n\r\nWhen I added this section it works.\r\n```                     \r\n&lt;usedDependencies&gt;\r\n                        &lt;usedDependency&gt;com:test-client&lt;/usedDependency&gt;\r\n                    &lt;/usedDependencies&gt; \r\n```\r\n\r\nBut why the 2 other flags are not being taken?\r\n\r\nNote that I am working in a multi module project and this is a child pom of a parent pom.\r\n\r\n","title":"maven dependency plugin throwing error even if I add flag ignoreunuseddeclareddependecy","body":"<p>I am trying to build my code and I am getting this error:</p>\n<pre><code>[WARNING] Unused declared dependencies found:\n[WARNING]    com:test-client:jar:v1.0-SNAPSHOT:compile\n</code></pre>\n<p>This is the configuration of the dependency plugin in my pom:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;analyze&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n&lt;!--                    &lt;usedDependencies&gt;--&gt;\n&lt;!--                        &lt;usedDependency&gt;com:test-client&lt;/usedDependency&gt;--&gt;\n&lt;!--                    &lt;/usedDependencies&gt;--&gt;\n                    &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n                    &lt;ignoreNonCompile&gt;true&lt;/ignoreNonCompile&gt;\n                    &lt;ignoredUnusedDeclaredDependencies&gt;\n&lt;!--                        &lt;ignoredUnusedDeclaredDependency&gt;*:test-client:*&lt;/ignoredUnusedDeclaredDependency&gt;--&gt;\n                    &lt;/ignoredUnusedDeclaredDependencies&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>I tried to add the test-client to the flag ignoredUnsedDeclaredDependecy (see the commented part) but still getting error.</p>\n<p>I tried to set the failOnWarning flag to false but also I get same warning.</p>\n<p>When I added this section it works.</p>\n<pre><code>&lt;usedDependencies&gt;\n                        &lt;usedDependency&gt;com:test-client&lt;/usedDependency&gt;\n                    &lt;/usedDependencies&gt; \n</code></pre>\n<p>But why the 2 other flags are not being taken?</p>\n<p>Note that I am working in a multi module project and this is a child pom of a parent pom.</p>\n"},{"tags":["java","intellij-idea","grails","groovy"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1658989360,"post_id":73145552,"comment_id":129189695,"body_markdown":"Please see if https://stackoverflow.com/a/57118379/12844632 helps","body":"Please see if <a href=\"https://stackoverflow.com/a/57118379/12844632\">stackoverflow.com/a/57118379/12844632</a> helps"},{"owner":{"account_id":23686228,"reputation":1,"user_id":17711120,"display_name":"Ricardo Nunez Cuesta"},"score":0,"creation_date":1659017459,"post_id":73145552,"comment_id":129199716,"body_markdown":"I am using groovy, not Maven. I do not have the pom.xml file","body":"I am using groovy, not Maven. I do not have the pom.xml file"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659366964,"post_id":73145552,"comment_id":129272060,"body_markdown":"Then you need to use whatever build tool you&#39;re using (I guess Gradle) to add a suitable dependency.","body":"Then you need to use whatever build tool you&#39;re using (I guess Gradle) to add a suitable dependency."}],"answers":[{"tags":[],"owner":{"account_id":23686228,"reputation":1,"user_id":17711120,"display_name":"Ricardo Nunez Cuesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659022175,"creation_date":1659022175,"answer_id":73155393,"question_id":73145552,"body_markdown":"I got rid of the error just by changing the grails version, now I am using \r\nhttps://grails.org/download.html version 4.1.1\r\n","title":"IntelliJ, Grails user interface error message SLF4J: Failed to load","body":"<p>I got rid of the error just by changing the grails version, now I am using\n<a href=\"https://grails.org/download.html\" rel=\"nofollow noreferrer\">https://grails.org/download.html</a> version 4.1.1</p>\n"}],"owner":{"account_id":23686228,"reputation":1,"user_id":17711120,"display_name":"Ricardo Nunez Cuesta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659366923,"answer_count":1,"score":-1,"last_activity_date":1659367066,"creation_date":1658963750,"question_id":73145552,"body_markdown":"I am using IntelliJ Ultimate, grails 222.3345.118 and jdk1.8.0_202. I am trying to build a simple user interface but I keep getting this error message. \r\n\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\npls help ","title":"IntelliJ, Grails user interface error message SLF4J: Failed to load","body":"<p>I am using IntelliJ Ultimate, grails 222.3345.118 and jdk1.8.0_202. I am trying to build a simple user interface but I keep getting this error message.</p>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.</p>\n<p>pls help</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659366979,"creation_date":1659366979,"answer_id":73195933,"question_id":73165245,"body_markdown":"It looks like the `UrlResource.getInputStream()` is missing to call `customizeConnection(con);` in its logic:\r\n\r\n\tpublic InputStream getInputStream() throws IOException {\r\n\t\tURLConnection con = this.url.openConnection();\r\n\t\tResourceUtils.useCachesIfNecessary(con);\r\n\t\ttry {\r\n\t\t\treturn con.getInputStream();\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\t// Close the HTTP connection (if applicable).\r\n\t\t\tif (con instanceof HttpURLConnection httpConn) {\r\n\t\t\t\thttpConn.disconnect();\r\n\t\t\t}\r\n\t\t\tthrow ex;\r\n\t\t}\r\n\t}\r\n\r\n\r\nPlease, raise a GH issue for [Spring Framework][1] to address this problem.\r\n\r\nAs a workaround I see this:\r\n\r\n\t\t\tUrlResource urlResource = new UrlResource(url) {\r\n\r\n\t\t\t\t@Override \r\n\t\t\t\tpublic InputStream getInputStream() throws IOException {\r\n\t\t\t\t\tURLConnection con = getURL().openConnection();\r\n\t\t\t\t\tcustomizeConnection(con);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\treturn con.getInputStream();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (IOException ex) {\r\n\t\t\t\t\t\t// Close the HTTP connection (if applicable).\r\n\t\t\t\t\t\tif (con instanceof HttpURLConnection httpConn) {\r\n\t\t\t\t\t\t\thttpConn.disconnect();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthrow ex;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected void customizeConnection(HttpURLConnection connection) throws IOException {\r\n\t\t\t\t\tsuper.customizeConnection(connection);\r\n\t\t\t\t\tconnection.setReadTimeout(2000);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\nSo, I override that `getInputStream()` with the same logic, but also apply our `customizeConnection()` on it. With that fix your test fails like this:\r\n\r\n    java.net.SocketTimeoutException: Read timed out\r\n    \r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n    \tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n    \tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\r\n    \tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n    \tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:791)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues","title":"setting connectionTimeOut and readTimeout not working on UrlResource","body":"<p>It looks like the <code>UrlResource.getInputStream()</code> is missing to call <code>customizeConnection(con);</code> in its logic:</p>\n<pre><code>public InputStream getInputStream() throws IOException {\n    URLConnection con = this.url.openConnection();\n    ResourceUtils.useCachesIfNecessary(con);\n    try {\n        return con.getInputStream();\n    }\n    catch (IOException ex) {\n        // Close the HTTP connection (if applicable).\n        if (con instanceof HttpURLConnection httpConn) {\n            httpConn.disconnect();\n        }\n        throw ex;\n    }\n}\n</code></pre>\n<p>Please, raise a GH issue for <a href=\"https://github.com/spring-projects/spring-framework/issues\" rel=\"nofollow noreferrer\">Spring Framework</a> to address this problem.</p>\n<p>As a workaround I see this:</p>\n<pre><code>        UrlResource urlResource = new UrlResource(url) {\n\n            @Override \n            public InputStream getInputStream() throws IOException {\n                URLConnection con = getURL().openConnection();\n                customizeConnection(con);\n                try {\n                    return con.getInputStream();\n                }\n                catch (IOException ex) {\n                    // Close the HTTP connection (if applicable).\n                    if (con instanceof HttpURLConnection httpConn) {\n                        httpConn.disconnect();\n                    }\n                    throw ex;\n                }\n\n            }\n\n            @Override\n            protected void customizeConnection(HttpURLConnection connection) throws IOException {\n                super.customizeConnection(connection);\n                connection.setReadTimeout(2000);\n            }\n        };\n</code></pre>\n<p>So, I override that <code>getInputStream()</code> with the same logic, but also apply our <code>customizeConnection()</code> on it. With that fix your test fails like this:</p>\n<pre><code>java.net.SocketTimeoutException: Read timed out\n\n    at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:791)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n</code></pre>\n"}],"owner":{"account_id":14230288,"reputation":241,"user_id":10279724,"display_name":"pjsagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195933,"answer_count":1,"score":0,"last_activity_date":1659366979,"creation_date":1659090400,"question_id":73165245,"body_markdown":"I am trying to terminate a connection if no data is being received or server is just keeping the connection open for a url by setting connectionTimeout and readTimeout.\r\n\r\nI have create anonymous class of URLResource and fetch the data from url. code block below is of spring project. spring boot version is 2.7.1\r\n\r\n    try {\r\n      URL url = new URL(&quot;http://httpstat.us/200?sleep=20000&quot;);\r\n      UrlResource urlResource = new UrlResource(url) {\r\n    \r\n    @Override\r\n        protected void customizeConnection(HttpURLConnection connection) throws IOException {\r\n          super.customizeConnection(connection);\r\n          connection.setConnectTimeout(4000);\r\n          connection.setReadTimeout(2000);\r\n        }\r\n      };\r\n    \r\n      InputStream inputStream = urlResource.getInputStream();\r\n      InputStreamReader isr = new InputStreamReader(inputStream,\r\n          StandardCharsets.UTF_8);\r\n      BufferedReader br = new BufferedReader(isr);\r\n      br.lines().forEach(line -&gt; System.out.println(line));\r\n    } catch (MalformedURLException e) {\r\n      e.printStackTrace();\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;IO exception&quot;);\r\n      e.printStackTrace();\r\n    }\r\n\r\nI am using a service (http://httpstat.us/200?sleep=20000) that allows to hold connection for specified amount of time to check out the connection termination but the connection is not getting terminate after specified amount of time\r\n\r\nIs there any other way to customize urlResource so that timeout can be set\r\n","title":"setting connectionTimeOut and readTimeout not working on UrlResource","body":"<p>I am trying to terminate a connection if no data is being received or server is just keeping the connection open for a url by setting connectionTimeout and readTimeout.</p>\n<p>I have create anonymous class of URLResource and fetch the data from url. code block below is of spring project. spring boot version is 2.7.1</p>\n<pre><code>try {\n  URL url = new URL(&quot;http://httpstat.us/200?sleep=20000&quot;);\n  UrlResource urlResource = new UrlResource(url) {\n\n@Override\n    protected void customizeConnection(HttpURLConnection connection) throws IOException {\n      super.customizeConnection(connection);\n      connection.setConnectTimeout(4000);\n      connection.setReadTimeout(2000);\n    }\n  };\n\n  InputStream inputStream = urlResource.getInputStream();\n  InputStreamReader isr = new InputStreamReader(inputStream,\n      StandardCharsets.UTF_8);\n  BufferedReader br = new BufferedReader(isr);\n  br.lines().forEach(line -&gt; System.out.println(line));\n} catch (MalformedURLException e) {\n  e.printStackTrace();\n} catch (IOException e) {\n  System.out.println(&quot;IO exception&quot;);\n  e.printStackTrace();\n}\n</code></pre>\n<p>I am using a service (<a href=\"http://httpstat.us/200?sleep=20000\" rel=\"nofollow noreferrer\">http://httpstat.us/200?sleep=20000</a>) that allows to hold connection for specified amount of time to check out the connection termination but the connection is not getting terminate after specified amount of time</p>\n<p>Is there any other way to customize urlResource so that timeout can be set</p>\n"},{"tags":["java","arrays","object","casting","set"],"comments":[{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":0,"creation_date":1338543510,"post_id":10847757,"comment_id":14127440,"body_markdown":"Your code has absolutely nothing to do with casting. You should probably read something like this article to understand what object casting really means and how it works: http://www.volantec.biz/castingObjects.htm","body":"Your code has absolutely nothing to do with casting. You should probably read something like this article to understand what object casting really means and how it works: <a href=\"http://www.volantec.biz/castingObjects.htm\" rel=\"nofollow noreferrer\">volantec.biz/castingObjects.htm</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1338544906,"post_id":10847757,"comment_id":14127917,"body_markdown":"@Natix I think the question is: I have an `Object[]`, which I know only contains `SomeObject` items. How can I fill a `Set&lt;SomeObject&gt;` without having to loop over each item and cast it from `Object` to `SomeObject`.","body":"@Natix I think the question is: I have an <code>Object[]</code>, which I know only contains <code>SomeObject</code> items. How can I fill a <code>Set&lt;SomeObject&gt;</code> without having to loop over each item and cast it from <code>Object</code> to <code>SomeObject</code>."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":2,"creation_date":1338546921,"post_id":10847757,"comment_id":14128578,"body_markdown":"What&#39;s with the defacing of your own question? Pretty disrespectful towards those who have put the effort into answering it.","body":"What&#39;s with the defacing of your own question? Pretty disrespectful towards those who have put the effort into answering it."}],"answers":[{"tags":[],"owner":{"account_id":406618,"reputation":40008,"user_id":776244,"accept_rate":89,"display_name":"Samir Mangroliya"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1338544440,"creation_date":1338543354,"answer_id":10847839,"question_id":10847757,"body_markdown":"    Object[] a = new Object[3];\r\n    a[0] = new String(&quot;SAMIR1&quot;);\r\n    a[1] = new String(&quot;SAMIR2&quot;);\r\n    a[2] = new String(&quot;SAMIR3&quot;);\r\n    Set&lt;Object&gt; aSet = new HashSet&lt;Object&gt;(Arrays.&lt;Object&gt; asList(a));\r\n    System.out.println(aSet);","title":"How do I fill a Set with array of different object that extends the object in the Set","body":"<pre><code>Object[] a = new Object[3];\na[0] = new String(\"SAMIR1\");\na[1] = new String(\"SAMIR2\");\na[2] = new String(\"SAMIR3\");\nSet&lt;Object&gt; aSet = new HashSet&lt;Object&gt;(Arrays.&lt;Object&gt; asList(a));\nSystem.out.println(aSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316381,"reputation":2931,"user_id":632533,"accept_rate":78,"display_name":"BOSS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338544883,"creation_date":1338543397,"answer_id":10847853,"question_id":10847757,"body_markdown":"You decide first what you want to do with your UserObject.\r\n  Wheather you to keep all your `UserObject` inside a array or you keep them under any collection.\r\n\r\n  Storing it twice is just meaning less to me,your just consuming more memory.\r\n\r\nEDIT:\r\n\r\n  In this case use the below thing.\r\n\r\n\r\n     \r\n    \r\n    Set&lt;T&gt; mySet = new HashSet&lt;T&gt;(Arrays.asList(someArray)); \r\n\r\n","title":"How do I fill a Set with array of different object that extends the object in the Set","body":"<p>You decide first what you want to do with your UserObject.\n  Wheather you to keep all your <code>UserObject</code> inside a array or you keep them under any collection.</p>\n\n<p>Storing it twice is just meaning less to me,your just consuming more memory.</p>\n\n<p>EDIT:</p>\n\n<p>In this case use the below thing.</p>\n\n<pre><code>Set&lt;T&gt; mySet = new HashSet&lt;T&gt;(Arrays.asList(someArray)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":396855,"reputation":15238,"user_id":760656,"display_name":"Ramesh PVK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338543401,"creation_date":1338543401,"answer_id":10847854,"question_id":10847757,"body_markdown":"Declare ` Object[] a = new Object[1];`  as ` SomeObject[] a = new SomeObject[1];`\r\n\r\nUse the below code:\r\n\r\n    SomeObject[] a = new SomeObject[1]\r\n    a[0] = new SomeObject();\r\n    Set&lt;UserObject&gt; aSet = new HashSet&lt;UserObject&gt;(Arrays.&lt;UserObject&gt; asList(a));\r\n","title":"How do I fill a Set with array of different object that extends the object in the Set","body":"<p>Declare <code>Object[] a = new Object[1];</code>  as <code>SomeObject[] a = new SomeObject[1];</code></p>\n\n<p>Use the below code:</p>\n\n<pre><code>SomeObject[] a = new SomeObject[1]\na[0] = new SomeObject();\nSet&lt;UserObject&gt; aSet = new HashSet&lt;UserObject&gt;(Arrays.&lt;UserObject&gt; asList(a));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1338544293,"creation_date":1338544293,"answer_id":10848082,"question_id":10847757,"body_markdown":"In response to OP&#39;s recent comment:\r\n\r\n&gt;  Somehow I can&#39;t cast this List to a Set so I let the method cast the List to a Array and return that Array\r\n\r\nIn that case you can simply do this:\r\n\r\n    List&lt;SomeObject&gt; list = ...\r\n    Set&lt;SomeObject&gt; set = new HashSet&lt;SomeObject&gt;(list);\r\n\r\nWhat is important: This code has absolutely **nothing to do with casting**! What actually happens is that you have a `List` of objects and you create a new `Set` and copy all the elements from the list into it. The original list **isn&#39;t** modified by this operation.\r\n\r\nTo repeat my comment, you obviously have misunderstood what casting in Java means. Casting of object works in a very different way that casting of primitive values. Please read some article on this subject, such as this one:\r\nhttp://www.volantec.biz/castingObjects.htm","title":"How do I fill a Set with array of different object that extends the object in the Set","body":"<p>In response to OP's recent comment:</p>\n\n<blockquote>\n  <p>Somehow I can't cast this List to a Set so I let the method cast the List to a Array and return that Array</p>\n</blockquote>\n\n<p>In that case you can simply do this:</p>\n\n<pre><code>List&lt;SomeObject&gt; list = ...\nSet&lt;SomeObject&gt; set = new HashSet&lt;SomeObject&gt;(list);\n</code></pre>\n\n<p>What is important: This code has absolutely <strong>nothing to do with casting</strong>! What actually happens is that you have a <code>List</code> of objects and you create a new <code>Set</code> and copy all the elements from the list into it. The original list <strong>isn't</strong> modified by this operation.</p>\n\n<p>To repeat my comment, you obviously have misunderstood what casting in Java means. Casting of object works in a very different way that casting of primitive values. Please read some article on this subject, such as this one:\n<a href=\"http://www.volantec.biz/castingObjects.htm\" rel=\"nofollow\">http://www.volantec.biz/castingObjects.htm</a></p>\n"}],"owner":{"account_id":1268863,"reputation":6147,"user_id":1225583,"accept_rate":55,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":10848082,"answer_count":4,"score":0,"last_activity_date":1659366227,"creation_date":1338543009,"question_id":10847757,"body_markdown":"How can I fill a `Set&lt;SomeObject&gt;`with array (`Object[]`) of different object that extends the object in the Set.\r\n\r\nI got this array of objects which I want to cast into a Set of objects that extends the objects in the array Like this:\r\n\r\n    Object[] a = new Object[1];\r\n    a[0] = new SomeObject();\r\n    Set&lt;SomeObject&gt; aSet = new HashSet&lt;SomeObject&gt;(a);\r\n\r\nIf it is impossible to cast an array to a Set like that, is it then possible to cast an array to a List?\r\n\r\nNOTE: If you want to achieve this the loop way like this:\r\n\r\n    Object[] a = new Object[1];\r\n    a[0] = new SomeObject(&quot;Something&quot;);\r\n    Set&lt;SomeObject&gt; aSet = new HashSet&lt;SomeObject&gt;();\r\n\r\n    for(int i = 0; i &lt; a.length; i++){\r\n        aSet.add((SomeObject)a[i])  \r\n    }\r\n\r\nBut I don&#39;t want to do it the loop way, and, yes, I know all objects extends the java.lang.Object class.","title":"How do I fill a Set with array of different object that extends the object in the Set","body":"<p>How can I fill a <code>Set&lt;SomeObject&gt;</code>with array (<code>Object[]</code>) of different object that extends the object in the Set.</p>\n<p>I got this array of objects which I want to cast into a Set of objects that extends the objects in the array Like this:</p>\n<pre><code>Object[] a = new Object[1];\na[0] = new SomeObject();\nSet&lt;SomeObject&gt; aSet = new HashSet&lt;SomeObject&gt;(a);\n</code></pre>\n<p>If it is impossible to cast an array to a Set like that, is it then possible to cast an array to a List?</p>\n<p>NOTE: If you want to achieve this the loop way like this:</p>\n<pre><code>Object[] a = new Object[1];\na[0] = new SomeObject(&quot;Something&quot;);\nSet&lt;SomeObject&gt; aSet = new HashSet&lt;SomeObject&gt;();\n\nfor(int i = 0; i &lt; a.length; i++){\n    aSet.add((SomeObject)a[i])  \n}\n</code></pre>\n<p>But I don't want to do it the loop way, and, yes, I know all objects extends the java.lang.Object class.</p>\n"},{"tags":["java","selenium","cucumber","bdd","serenity-bdd"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659360672,"post_id":73194138,"comment_id":129269557,"body_markdown":"Can you fix your example? It won&#39;t compile. What you have in annotation parameters actually  has to be method parameter. Make sure your example is representative.","body":"Can you fix your example? It won&#39;t compile. What you have in annotation parameters actually  has to be method parameter. Make sure your example is representative."},{"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"score":0,"creation_date":1659363328,"post_id":73194138,"comment_id":129270582,"body_markdown":"Apologies!! its edited now","body":"Apologies!! its edited now"},{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":1,"creation_date":1659366198,"post_id":73194138,"comment_id":129271767,"body_markdown":"`DataTable` is the last argument of a step. Cucumber would also provide an empty implementation of missing step.","body":"<code>DataTable</code> is the last argument of a step. Cucumber would also provide an empty implementation of missing step."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659365537,"creation_date":1659365537,"answer_id":73195596,"question_id":73194138,"body_markdown":"You should change the order how you define your method parameters. So the below would work:\r\n\r\n```java\r\n@Given(&quot;{string} post request sent with following data and count is {int}&quot;)\r\npublic void myTestStep(String URL, int countValue, DataTable dataTable)\r\n{\r\n   for(int i=0;i&lt;=countValue;i++)\r\n        {\r\n            List&lt;Map&lt;String, String&gt;&gt; competionData = dataTable.asMaps(String.class, String.class);\r\n            //Here my logic to execute this step 2 times as count == 2\r\n\r\n        }\r\n}\r\n```\r\n","title":"Caused by: io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to int","body":"<p>You should change the order how you define your method parameters. So the below would work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Given(&quot;{string} post request sent with following data and count is {int}&quot;)\npublic void myTestStep(String URL, int countValue, DataTable dataTable)\n{\n   for(int i=0;i&lt;=countValue;i++)\n        {\n            List&lt;Map&lt;String, String&gt;&gt; competionData = dataTable.asMaps(String.class, String.class);\n            //Here my logic to execute this step 2 times as count == 2\n\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":23120436,"reputation":53,"user_id":17227042,"display_name":"AutoMationKing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195596,"answer_count":1,"score":0,"last_activity_date":1659365537,"creation_date":1659359157,"question_id":73194138,"body_markdown":"I have am keep getting this error when i use integer, string, and cucumber data table in my step\r\n\r\nHere is the code example:\r\n\r\n    feaureFileExample.feature\r\n\r\n    Scenario: my scenario\r\n          Given &quot;url&quot; post request sent with following data and count is 2\r\n            | name| lastname| setIconURL       |\r\n            | firstname | lastname| www.iconURL1.com |\r\n\r\n    StepDefnition.java\r\n\r\n    @Given({string} post request sent with following data and count is {int})\r\n    public voide myTestStep(String URL, DataTable dataTable,int countValue)\r\n    {\r\n       int(int i=0;i&lt;=countValue;i++)\r\n       {\r\n       List&lt;Map&lt;String, String&gt;&gt; competionData = dataTable.asMaps(String.class, String.class);\r\n       //Here my logic to execute this step 2 times as count == 2\r\n    \r\n       }\r\n    }\r\n\r\n`Error`:\r\ni\r\n\r\n    io.cucumber.core.exception.CucumberException: Could not convert arguments for step [{string} post request sent with following data and count is {int}] defined at &#39;StepDefinitions.somelocation.myTestStep(java.lang.String,io.cucumber.datatable.DataTable,int)&#39;.\r\n        It appears you did not register a data table type\r\n    \r\n  \r\n\r\nPlease let me know what is causing the issue FYI if I remove int value from step it&#39;s working fine. i don&#39;t want to hard code count value.\r\n\r\n\r\n","title":"Caused by: io.cucumber.datatable.UndefinedDataTableTypeException: Can&#39;t convert DataTable to int","body":"<p>I have am keep getting this error when i use integer, string, and cucumber data table in my step</p>\n<p>Here is the code example:</p>\n<pre><code>feaureFileExample.feature\n\nScenario: my scenario\n      Given &quot;url&quot; post request sent with following data and count is 2\n        | name| lastname| setIconURL       |\n        | firstname | lastname| www.iconURL1.com |\n\nStepDefnition.java\n\n@Given({string} post request sent with following data and count is {int})\npublic voide myTestStep(String URL, DataTable dataTable,int countValue)\n{\n   int(int i=0;i&lt;=countValue;i++)\n   {\n   List&lt;Map&lt;String, String&gt;&gt; competionData = dataTable.asMaps(String.class, String.class);\n   //Here my logic to execute this step 2 times as count == 2\n\n   }\n}\n</code></pre>\n<p><code>Error</code>:\ni</p>\n<pre><code>io.cucumber.core.exception.CucumberException: Could not convert arguments for step [{string} post request sent with following data and count is {int}] defined at 'StepDefinitions.somelocation.myTestStep(java.lang.String,io.cucumber.datatable.DataTable,int)'.\n    It appears you did not register a data table type\n</code></pre>\n<p>Please let me know what is causing the issue FYI if I remove int value from step it's working fine. i don't want to hard code count value.</p>\n"},{"tags":["java","arrays","loops","foreach"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1659359343,"post_id":73194124,"comment_id":129269050,"body_markdown":"instead of an enhanced for loop, use a for loop with a counter variable in your inner loop. Then simply check if that counter variable is 1 and add &quot;*&quot; to your output in that case.","body":"instead of an enhanced for loop, use a for loop with a counter variable in your inner loop. Then simply check if that counter variable is 1 and add &quot;*&quot; to your output in that case."}],"answers":[{"tags":[],"owner":{"account_id":19385659,"reputation":186,"user_id":14175406,"display_name":"bjalexmdd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659365187,"creation_date":1659365187,"answer_id":73195509,"question_id":73194124,"body_markdown":"One way to do this is to keep track of the position where you want to add the z character!\r\nIn your example, you&#39;re always adding it to the second column so y=1.\r\n\r\nAn Example would be something like this :\r\n\r\n         char z = &#39;*&#39;;\r\n\t\t char[][] marks = { { &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;c&#39; }, { &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;f&#39; }, { &#39;G&#39;, &#39;H&#39;, &#39;I&#39; },\r\n\t\t\t\t{ &#39;J&#39;, &#39;K&#39;, &#39;L&#39; }, };\r\n\t\t for ( char[] x : marks) {\r\n\t\t\tint y = 0;\r\n\t\t\twhile (y &lt; x.length) {\r\n\t\t\t\tif (y == 1) {\r\n\t\t\t\t\tSystem.out.print(String.format(&quot;%c %c &quot;, x[y], z));\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(String.format(&quot;%c &quot;, x[y]));\r\n\r\n\t\t\t\t}\r\n\t\t\t\ty++;\r\n\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\r\n\t}","title":"I would like to add char Z when looping through, to one of column in the array","body":"<p>One way to do this is to keep track of the position where you want to add the z character!\nIn your example, you're always adding it to the second column so y=1.</p>\n<p>An Example would be something like this :</p>\n<pre><code>     char z = '*';\n     char[][] marks = { { 'A', 'B', 'C', 'c' }, { 'D', 'E', 'F', 'f' }, { 'G', 'H', 'I' },\n            { 'J', 'K', 'L' }, };\n     for ( char[] x : marks) {\n        int y = 0;\n        while (y &lt; x.length) {\n            if (y == 1) {\n                System.out.print(String.format(&quot;%c %c &quot;, x[y], z));\n\n            } else {\n                System.out.print(String.format(&quot;%c &quot;, x[y]));\n\n            }\n            y++;\n\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25945891,"reputation":13,"user_id":19664620,"display_name":"Radeks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195509,"answer_count":1,"score":0,"last_activity_date":1659365187,"creation_date":1659359107,"question_id":73194124,"body_markdown":"I would like to add char Z when looping through, to one of column in the array.\r\n\r\n**My result is:**\r\n\r\n    A B C c\r\n    D E F f \r\n    G H I \r\n    J K L \r\n\r\n**but I want to:**\r\n\r\n    A B* C c \r\n    D E* F f \r\n    G H* I \r\n    J K* L \r\n\r\n**Here is my code:**\r\n \r\n```\r\n       char z = &#39;*&#39;;\r\n\r\n        char[][] marks = {\r\n                {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;c&#39;},\r\n                {&#39;D&#39;, &#39;E&#39;, &#39;F&#39;,&#39;f&#39;},\r\n                {&#39;G&#39;, &#39;H&#39;, &#39;I&#39;},\r\n                {&#39;J&#39;, &#39;K&#39;, &#39;L&#39;},\r\n        };\r\n        for (char[] x : marks) {\r\n            for (char y : x) {\r\n                System.out.print(y + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n          }\r\n```","title":"I would like to add char Z when looping through, to one of column in the array","body":"<p>I would like to add char Z when looping through, to one of column in the array.</p>\n<p><strong>My result is:</strong></p>\n<pre><code>A B C c\nD E F f \nG H I \nJ K L \n</code></pre>\n<p><strong>but I want to:</strong></p>\n<pre><code>A B* C c \nD E* F f \nG H* I \nJ K* L \n</code></pre>\n<p><strong>Here is my code:</strong></p>\n<pre><code>       char z = '*';\n\n        char[][] marks = {\n                {'A', 'B', 'C', 'c'},\n                {'D', 'E', 'F','f'},\n                {'G', 'H', 'I'},\n                {'J', 'K', 'L'},\n        };\n        for (char[] x : marks) {\n            for (char y : x) {\n                System.out.print(y + &quot; &quot;);\n            }\n            System.out.println();\n          }\n</code></pre>\n"},{"tags":["java","spring","interface"],"answers":[{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659365016,"creation_date":1659307617,"answer_id":73187430,"question_id":73186553,"body_markdown":"\r\nSpring will provide the primary bean for the interface implementation unless you use the `@Qualifer` annotation with the desired instance. The injected bean can not mutate to another instance.\r\n\r\nIf you don&#39;t want to use multiple injections in the controller, you can create a `ServiceProvider` and ask for a specific implementation each time. \r\n\r\nHere is an example: \r\n\r\n    public class ApiClass{\r\n    \r\n        private final ServiceProvider provider;\r\n    \r\n        public ApiClass(ServiceProvider provider) {\r\n            this.provider = provider;\r\n        }\r\n    \r\n    \r\n        public ResponseEntity&lt;Response&gt; apiFirst (Object1 object1) {\r\n            return ResponseEntity.ok(provider.getService(&quot;Implementation1&quot;).process(object1));\r\n        }\r\n    \r\n        public ResponseEntity&lt;Response&gt; apiTwo (Object2 object2) {\r\n            return ResponseEntity.ok(provider.getService(&quot;Implementation2&quot;).process(object1));\r\n        }\r\n    }\r\n    \r\n    @org.springframework.stereotype.Service\r\n    public class ServiceProvider {\r\n    \r\n        private Map&lt;String, Service&gt; services;\r\n    \r\n        public ServiceProvider(List&lt;Service&gt; services) {\r\n            this.services = services.stream()\r\n                .collect(java.util.stream.Collectors.toMap(\r\n                        Service::type,\r\n                        service -&gt; service\r\n                    )\r\n                );\r\n        }\r\n    \r\n        public Service getService(String type) {\r\n            return services.get(type);\r\n        }\r\n    }\r\n    \r\n    \r\n    interface Service&lt;T extends OwnObjectClass&gt; {\r\n    \r\n        String type();\r\n    \r\n        void process(T object);\r\n    }\r\n    \r\n    @org.springframework.stereotype.Service(&quot;Implementation1&quot;)\r\n    class Implementation1 implements Service {\r\n    \r\n        @Override\r\n        public String type() {\r\n            return &quot;Implementation1&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void process(OwnObjectClass object) {\r\n    \r\n        }\r\n    }\r\n    \r\n    @org.springframework.stereotype.Service(&quot;Implementation2&quot;)\r\n    class Implementation2 implements Service {\r\n    \r\n        @Override\r\n        public String type() {\r\n            return &quot;Implementation2&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void process(OwnObjectClass object) {\r\n    \r\n        }\r\n    }\r\n\r\nYou can change the string in the type for an Enum.","title":"Injection interface with multiple implementation","body":"<p>Spring will provide the primary bean for the interface implementation unless you use the <code>@Qualifer</code> annotation with the desired instance. The injected bean can not mutate to another instance.</p>\n<p>If you don't want to use multiple injections in the controller, you can create a <code>ServiceProvider</code> and ask for a specific implementation each time.</p>\n<p>Here is an example:</p>\n<pre><code>public class ApiClass{\n\n    private final ServiceProvider provider;\n\n    public ApiClass(ServiceProvider provider) {\n        this.provider = provider;\n    }\n\n\n    public ResponseEntity&lt;Response&gt; apiFirst (Object1 object1) {\n        return ResponseEntity.ok(provider.getService(&quot;Implementation1&quot;).process(object1));\n    }\n\n    public ResponseEntity&lt;Response&gt; apiTwo (Object2 object2) {\n        return ResponseEntity.ok(provider.getService(&quot;Implementation2&quot;).process(object1));\n    }\n}\n\n@org.springframework.stereotype.Service\npublic class ServiceProvider {\n\n    private Map&lt;String, Service&gt; services;\n\n    public ServiceProvider(List&lt;Service&gt; services) {\n        this.services = services.stream()\n            .collect(java.util.stream.Collectors.toMap(\n                    Service::type,\n                    service -&gt; service\n                )\n            );\n    }\n\n    public Service getService(String type) {\n        return services.get(type);\n    }\n}\n\n\ninterface Service&lt;T extends OwnObjectClass&gt; {\n\n    String type();\n\n    void process(T object);\n}\n\n@org.springframework.stereotype.Service(&quot;Implementation1&quot;)\nclass Implementation1 implements Service {\n\n    @Override\n    public String type() {\n        return &quot;Implementation1&quot;;\n    }\n\n    @Override\n    public void process(OwnObjectClass object) {\n\n    }\n}\n\n@org.springframework.stereotype.Service(&quot;Implementation2&quot;)\nclass Implementation2 implements Service {\n\n    @Override\n    public String type() {\n        return &quot;Implementation2&quot;;\n    }\n\n    @Override\n    public void process(OwnObjectClass object) {\n\n    }\n}\n</code></pre>\n<p>You can change the string in the type for an Enum.</p>\n"},{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659308033,"creation_date":1659308033,"answer_id":73187468,"question_id":73186553,"body_markdown":"There is another way using `HandlerMethodArgumentResolver` where you can inject your dependency directly into the method definition. \r\n\r\nHere is a nice article explaining it: https://reflectoring.io/spring-boot-argumentresolver/\r\n ","title":"Injection interface with multiple implementation","body":"<p>There is another way using <code>HandlerMethodArgumentResolver</code> where you can inject your dependency directly into the method definition.</p>\n<p>Here is a nice article explaining it: <a href=\"https://reflectoring.io/spring-boot-argumentresolver/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-boot-argumentresolver/</a></p>\n"}],"owner":{"account_id":14770080,"reputation":31,"user_id":10666933,"display_name":"mysqllearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73187430,"answer_count":2,"score":0,"last_activity_date":1659365016,"creation_date":1659297967,"question_id":73186553,"body_markdown":"My service has a `@Controller` with multiple APIs.\r\n\r\nEach API accepts a specific kind of object.\r\n\r\nI would like to inject a single interface into a controller class, but have different implementations of the interface depending on the type of the input argument - is that possible?\r\n\r\n    @Controller\r\n    public class ApiClass{\r\n    \r\n    \tprivate final Service service;\r\n    \t\r\n    \tpublic ApiClass(Service service) {\r\n    \t\tthis.service = service;\r\n    \t}\r\n    \r\n    \tpublic ResponseEntity&lt;Response&gt; apiFirst (Object1 object1) {\r\n    \t\treturn ResponseEntity.ok(service.process(object1));\r\n    \t}\r\n    \t\r\n    \tpublic ResponseEntity&lt;Response&gt; apiTwo (Object2 object2) {\r\n    \t\treturn ResponseEntity.ok(service.process(object2));\r\n    \t}\r\n    }\r\n    \r\n    public interface Service &lt;T extends OwnObjectClass&gt;{\r\n    \tvoid process (T object);\r\n    }\r\n    \r\n    public class Implementation1 implements Service {\r\n    \t@Override\r\n    \tvoid process (Object1 object) {\r\n    \t\t--some code;\r\n    \t}\r\n    }\r\n    \r\n    public class Implementation2 implements Service {\r\n    \t@Override\r\n    \tvoid process (Object2 object) {\r\n    \t\t--some code;\r\n    \t}\r\n    }\r\n\r\nHow to do it correctly so that for each implementation not to add a new injection to the `ApiClass`?","title":"Injection interface with multiple implementation","body":"<p>My service has a <code>@Controller</code> with multiple APIs.</p>\n<p>Each API accepts a specific kind of object.</p>\n<p>I would like to inject a single interface into a controller class, but have different implementations of the interface depending on the type of the input argument - is that possible?</p>\n<pre><code>@Controller\npublic class ApiClass{\n\n    private final Service service;\n    \n    public ApiClass(Service service) {\n        this.service = service;\n    }\n\n    public ResponseEntity&lt;Response&gt; apiFirst (Object1 object1) {\n        return ResponseEntity.ok(service.process(object1));\n    }\n    \n    public ResponseEntity&lt;Response&gt; apiTwo (Object2 object2) {\n        return ResponseEntity.ok(service.process(object2));\n    }\n}\n\npublic interface Service &lt;T extends OwnObjectClass&gt;{\n    void process (T object);\n}\n\npublic class Implementation1 implements Service {\n    @Override\n    void process (Object1 object) {\n        --some code;\n    }\n}\n\npublic class Implementation2 implements Service {\n    @Override\n    void process (Object2 object) {\n        --some code;\n    }\n}\n</code></pre>\n<p>How to do it correctly so that for each implementation not to add a new injection to the <code>ApiClass</code>?</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1659077244,"post_id":73160920,"comment_id":129213687,"body_markdown":"Try `flatMapCompletable` for both `flatMap` uses and remove `ignoreElement`.","body":"Try <code>flatMapCompletable</code> for both <code>flatMap</code> uses and remove <code>ignoreElement</code>."}],"answers":[{"tags":[],"owner":{"account_id":25948897,"reputation":16,"user_id":19667246,"display_name":"Mike Burns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659365000,"creation_date":1659365000,"answer_id":73195462,"question_id":73160920,"body_markdown":"As @akarnokd suggests in his comment, you should use `flatMapCompletable()` instead of `flatMap()`.\r\n\r\n    return routerFactory()\r\n        .flatMapCompletable(routerFactory -&gt; testMessagingService().flatMapCompletable(routerFactory::register));\r\n\r\n`flatMapCompletable()` returns a Completable, so you no longer need to use `ignoreElement()` to explicitly do the conversion.","title":"return type compatible issue","body":"<p>As @akarnokd suggests in his comment, you should use <code>flatMapCompletable()</code> instead of <code>flatMap()</code>.</p>\n<pre><code>return routerFactory()\n    .flatMapCompletable(routerFactory -&gt; testMessagingService().flatMapCompletable(routerFactory::register));\n</code></pre>\n<p><code>flatMapCompletable()</code> returns a Completable, so you no longer need to use <code>ignoreElement()</code> to explicitly do the conversion.</p>\n"}],"owner":{"account_id":12460397,"reputation":15,"user_id":9072225,"display_name":"abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195462,"answer_count":1,"score":0,"last_activity_date":1659365000,"creation_date":1659060211,"question_id":73160920,"body_markdown":"am using `register()` in `setupRouter()` it is everything is working fine, but after version upgrade `Single&lt;Source&gt;` method got deprecated so am using `Completable register()`.\r\n\r\nbut in `SetupRoute()` lambda Expression `routerFactory::register` is giving error\r\n\r\n    Bad return type in method reference: cannot convert io.reactivex.Completable to io.reactivex.SingleSource&lt;?&gt;)\r\n\r\nCode:\r\n\r\n    private Completable setupRouter() {\r\n            return routerFactory()\r\n                    .flatMap(routerFactory -&gt; textMessagingService().flatMap(routerFactory::register))\r\n                    .ignoreElement();\r\n        }\r\n       \r\n     @Deprecated\r\n        &lt;C&gt; Single&lt;ContractDrivenRouter&lt;C&gt;&gt; router(Class&lt;C&gt; contractClass);\r\n    \r\n     Completable register(ContractDrivenWebInterface contractDrivenWebInterface);\r\n\r\n","title":"return type compatible issue","body":"<p>am using <code>register()</code> in <code>setupRouter()</code> it is everything is working fine, but after version upgrade <code>Single&lt;Source&gt;</code> method got deprecated so am using <code>Completable register()</code>.</p>\n<p>but in <code>SetupRoute()</code> lambda Expression <code>routerFactory::register</code> is giving error</p>\n<pre><code>Bad return type in method reference: cannot convert io.reactivex.Completable to io.reactivex.SingleSource&lt;?&gt;)\n</code></pre>\n<p>Code:</p>\n<pre><code>private Completable setupRouter() {\n        return routerFactory()\n                .flatMap(routerFactory -&gt; textMessagingService().flatMap(routerFactory::register))\n                .ignoreElement();\n    }\n   \n @Deprecated\n    &lt;C&gt; Single&lt;ContractDrivenRouter&lt;C&gt;&gt; router(Class&lt;C&gt; contractClass);\n\n Completable register(ContractDrivenWebInterface contractDrivenWebInterface);\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1659361488,"post_id":73194508,"comment_id":129269879,"body_markdown":"Can  you try ` interval :seconds &#39;second&#39; )`","body":"Can  you try ` interval :seconds &#39;second&#39; )`"},{"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"score":0,"creation_date":1659363267,"post_id":73194508,"comment_id":129270564,"body_markdown":"@jian just tried it, the same error popped up","body":"@jian just tried it, the same error popped up"}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659364804,"creation_date":1659364804,"answer_id":73195421,"question_id":73194508,"body_markdown":"The `interval` keyword requires a constant, you can&#39;t pass the string after that dynamically.\r\n\r\nThere are two ways to build an `interval` dynamically:\r\n\r\n    make_interval(secs =&gt; :seconds)\r\n\r\nor multiple a fixed interval with the number of seconds:\r\n\r\n    interval &#39;1 second&#39; * :seconds\r\n\r\nBoth assumes that the parameter `:seconds` is an integer\r\n","title":"PSQLException: ERROR: syntax error at or near &quot;$1&quot;","body":"<p>The <code>interval</code> keyword requires a constant, you can't pass the string after that dynamically.</p>\n<p>There are two ways to build an <code>interval</code> dynamically:</p>\n<pre><code>make_interval(secs =&gt; :seconds)\n</code></pre>\n<p>or multiple a fixed interval with the number of seconds:</p>\n<pre><code>interval '1 second' * :seconds\n</code></pre>\n<p>Both assumes that the parameter <code>:seconds</code> is an integer</p>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195421,"answer_count":1,"score":0,"last_activity_date":1659364804,"creation_date":1659360739,"question_id":73194508,"body_markdown":"I have started to get the exception since I configured timestamp comparing. I can&#39;t see where the problem can be. The query runs completely fine in a separate query console:\r\n```java\r\n@Query(value = &quot;select * from notifications n &quot; +\r\n       &quot;where n.time_stamp &lt; (now() at time zone &#39;Europe/Moscow&#39; - interval :seconds second) order by n.time_stamp desc limit :limit&quot;,\r\n       nativeQuery = true)\r\nList&lt;Notification&gt; getNotificationList(@Param(&quot;seconds&quot;) Integer seconds,\r\n                                       @Param(&quot;limit&quot;) Integer limit);\r\n```\r\n\r\nAlso have tried doing the same thing like this:\r\n\r\n    @Query(value = &quot;select * from moneta_notification_resend_info n &quot; +\r\n            &quot;where n.time_stamp &lt; (now() at time zone &#39;Europe/Moscow&#39; - interval ?1 second) order by n.time_stamp desc limit ?2&quot;,\r\n            nativeQuery = true)\r\n    List&lt;MonetaNotificationResendInfo&gt; getResendInfoList(Integer seconds,\r\n                                                         Integer limit);\r\n\r\nthe same error popped up","title":"PSQLException: ERROR: syntax error at or near &quot;$1&quot;","body":"<p>I have started to get the exception since I configured timestamp comparing. I can't see where the problem can be. The query runs completely fine in a separate query console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;select * from notifications n &quot; +\n       &quot;where n.time_stamp &lt; (now() at time zone 'Europe/Moscow' - interval :seconds second) order by n.time_stamp desc limit :limit&quot;,\n       nativeQuery = true)\nList&lt;Notification&gt; getNotificationList(@Param(&quot;seconds&quot;) Integer seconds,\n                                       @Param(&quot;limit&quot;) Integer limit);\n</code></pre>\n<p>Also have tried doing the same thing like this:</p>\n<pre><code>@Query(value = &quot;select * from moneta_notification_resend_info n &quot; +\n        &quot;where n.time_stamp &lt; (now() at time zone 'Europe/Moscow' - interval ?1 second) order by n.time_stamp desc limit ?2&quot;,\n        nativeQuery = true)\nList&lt;MonetaNotificationResendInfo&gt; getResendInfoList(Integer seconds,\n                                                     Integer limit);\n</code></pre>\n<p>the same error popped up</p>\n"},{"tags":["java","spring-boot","github","github-actions"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1642575488,"post_id":70765632,"comment_id":125103871,"body_markdown":"why not put the file into git repo(besides .git) instead?","body":"why not put the file into git repo(besides .git) instead?"},{"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"score":0,"creation_date":1642578064,"post_id":70765632,"comment_id":125104590,"body_markdown":"@LeiYang tried putting in repo but still the same error","body":"@LeiYang tried putting in repo but still the same error"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1642578403,"post_id":70765632,"comment_id":125104679,"body_markdown":"please paste your github action yaml here(don&#39;t put as image)","body":"please paste your github action yaml here(don&#39;t put as image)"},{"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"score":0,"creation_date":1642578600,"post_id":70765632,"comment_id":125104730,"body_markdown":"@LeiYang added above","body":"@LeiYang added above"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1642578694,"post_id":70765632,"comment_id":125104757,"body_markdown":"i don&#39;t see any git glone action. please search and add it.","body":"i don&#39;t see any git glone action. please search and add it."},{"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"score":0,"creation_date":1642578780,"post_id":70765632,"comment_id":125104788,"body_markdown":"this is private repo.. publicly we can&#39;t access","body":"this is private repo.. publicly we can&#39;t access"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":2,"creation_date":1642578892,"post_id":70765632,"comment_id":125104823,"body_markdown":"i mean in the yaml file there should be a git clone job. then you&#39;ll find that file.","body":"i mean in the yaml file there should be a git clone job. then you&#39;ll find that file."},{"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"score":0,"creation_date":1642579403,"post_id":70765632,"comment_id":125104997,"body_markdown":"perfect it works now!! BTW when i tried to print the content is is throwing syntax error near unexpected token `(&#39;","body":"perfect it works now!! BTW when i tried to print the content is is throwing syntax error near unexpected token `(&#39;"},{"owner":{"account_id":3128733,"reputation":2388,"user_id":2657549,"accept_rate":0,"display_name":"Cl&#233;ment"},"score":0,"creation_date":1667616640,"post_id":70765632,"comment_id":131215211,"body_markdown":"Check out https://github.com/actions/upload-artifact","body":"Check out <a href=\"https://github.com/actions/upload-artifact\" rel=\"nofollow noreferrer\">github.com/actions/upload-artifact</a>"}],"answers":[{"tags":[],"owner":{"account_id":25890494,"reputation":31,"user_id":19617974,"display_name":"Holger Veltrup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659364692,"creation_date":1659364692,"answer_id":73195387,"question_id":70765632,"body_markdown":"Checkout your code as a first step before running any script or action against your code.\r\n\r\n\r\n```yaml\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n```\r\n\r\nSee also [here](https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions#understanding-the-workflow-file)\r\n\r\n","title":"reading a file from the github action","body":"<p>Checkout your code as a first step before running any script or action against your code.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    steps:\n      - uses: actions/checkout@v3\n</code></pre>\n<p>See also <a href=\"https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions#understanding-the-workflow-file\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22879899,"reputation":93,"user_id":17021647,"display_name":"Tim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659364692,"creation_date":1642569517,"question_id":70765632,"body_markdown":"I&#39;m trying to read a file which is located under github/workflow folder using the github action which is attached below but getting error ENOENT: no such file or directory, open &#39;po_NODE_START_PROCEDURE_V2.json&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y1czn.jpg\r\n  [2]: https://i.stack.imgur.com/Sfekw.png\r\n\r\n    name: Deploy Logic Apps\r\n    \r\n    on:\r\n      pull_request:\r\n        types: [review_requested, labeled]\r\n    \r\n    jobs:\r\n      build:\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - name: Read StartNode json\r\n            id: package\r\n            uses: juliangruber/read-file-action@v1\r\n            with:\r\n              path: ./po_NODE_START_PROCEDURE_V2.json\r\n    \r\n          - name: Echo po_NODE_START_PROCEDURE_V2.json\r\n            run: echo &quot;${{ steps.package.outputs.content }}&quot;","title":"reading a file from the github action","body":"<p>I'm trying to read a file which is located under github/workflow folder using the github action which is attached below but getting error ENOENT: no such file or directory, open 'po_NODE_START_PROCEDURE_V2.json'</p>\n<p><a href=\"https://i.stack.imgur.com/y1czn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y1czn.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Sfekw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sfekw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>name: Deploy Logic Apps\n\non:\n  pull_request:\n    types: [review_requested, labeled]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Read StartNode json\n        id: package\n        uses: juliangruber/read-file-action@v1\n        with:\n          path: ./po_NODE_START_PROCEDURE_V2.json\n\n      - name: Echo po_NODE_START_PROCEDURE_V2.json\n        run: echo &quot;${{ steps.package.outputs.content }}&quot;\n</code></pre>\n"},{"tags":["java","json","gwt","servlets"],"answers":[{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1550212795,"creation_date":1331541861,"answer_id":9663942,"question_id":9663927,"body_markdown":"&gt;What could be the possible cause of this exception?\r\n\r\nYou may not have appropriate Jar in your class path.\r\n\r\n&gt;How it could be removed?\r\n\r\nBy putting HTTPClient jar in your class path. If it&#39;s a webapp, copy Jar into `WEB-INF/lib` if it&#39;s standalone, make sure you have this jar in class path or explicitly set using `-cp` option\r\n\r\nas the [doc](https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html) says,\r\n\r\n&gt;Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.\r\n&gt;\r\n_The searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found._\r\n\r\nEdit:  \r\nIf you are using a dependency management like Maven/Gradle (see the answer below) or SBT please use it to bring the httpclient jar for you.","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<blockquote>\n  <p>What could be the possible cause of this exception?</p>\n</blockquote>\n\n<p>You may not have appropriate Jar in your class path.</p>\n\n<blockquote>\n  <p>How it could be removed?</p>\n</blockquote>\n\n<p>By putting HTTPClient jar in your class path. If it's a webapp, copy Jar into <code>WEB-INF/lib</code> if it's standalone, make sure you have this jar in class path or explicitly set using <code>-cp</code> option</p>\n\n<p>as the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"noreferrer\">doc</a> says,</p>\n\n<blockquote>\n  <p>Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.</p>\n  \n  <p><em>The searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found.</em></p>\n</blockquote>\n\n<p>Edit:<br>\nIf you are using a dependency management like Maven/Gradle (see the answer below) or SBT please use it to bring the httpclient jar for you.</p>\n"},{"tags":[],"owner":{"account_id":956368,"reputation":2885,"user_id":981588,"display_name":"Balaji Katika"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1404391127,"creation_date":1404391127,"answer_id":24553929,"question_id":9663927,"body_markdown":"If its a maven project, add the below dependency in your pom file\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>If its a maven project, add the below dependency in your pom file</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4825208,"reputation":1874,"user_id":3894826,"display_name":"A.Aleem11"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1452710907,"creation_date":1452710907,"answer_id":34774711,"question_id":9663927,"body_markdown":"I solved this issue for myself, I found there&#39;s was two files of http-client with different version of other dependent jar files. So there may version were collapsing between libraries files so remove all old/previous libraries files and re-add are jar files from lib folder of this zip file:\r\n\r\n[Donwload Zip file from here][1]\r\n\r\n\r\n  [1]: http://liquidtelecom.dl.sourceforge.net/project/htmlunit/htmlunit/2.19/htmlunit-2.19-bin.zip","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>I solved this issue for myself, I found there's was two files of http-client with different version of other dependent jar files. So there may version were collapsing between libraries files so remove all old/previous libraries files and re-add are jar files from lib folder of this zip file:</p>\n\n<p><a href=\"http://liquidtelecom.dl.sourceforge.net/project/htmlunit/htmlunit/2.19/htmlunit-2.19-bin.zip\" rel=\"nofollow\">Donwload Zip file from here</a></p>\n"},{"tags":[],"owner":{"account_id":3265952,"reputation":96,"user_id":2750442,"display_name":"sahil mohindroo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474024712,"creation_date":1461924358,"answer_id":36935456,"question_id":9663927,"body_markdown":"I was facing the same issue. In my case, I had a dependency of httpclient with an older version while sendgrid required a newer version of httpclient. Just make sure that the version of httpclient is correct in your dependencies and it would work fine.","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>I was facing the same issue. In my case, I had a dependency of httpclient with an older version while sendgrid required a newer version of httpclient. Just make sure that the version of httpclient is correct in your dependencies and it would work fine.</p>\n"},{"tags":[],"owner":{"account_id":4130990,"reputation":21,"user_id":3388932,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505828269,"creation_date":1505828269,"answer_id":46302001,"question_id":9663927,"body_markdown":"This problem occurs if there are different jar versions. Especially versions of httpcore and httpclient. Use same versions of httpcore and httpclient. ","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>This problem occurs if there are different jar versions. Especially versions of httpcore and httpclient. Use same versions of httpcore and httpclient. </p>\n"},{"tags":[],"owner":{"account_id":5686053,"reputation":41,"user_id":4495592,"display_name":"Arturo Bernal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598435430,"creation_date":1598435430,"answer_id":63595001,"question_id":9663927,"body_markdown":"\r\n\r\nI have solved this problem by importing the following dependency. you must manually import httpclient\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>I have solved this problem by importing the following dependency. you must manually import httpclient</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;*&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633528876,"creation_date":1633528876,"answer_id":69467216,"question_id":9663927,"body_markdown":"After Creating Artifact Jar I was facing this Problem. What I do that, I create a new `Artifact &gt; With Module Dependency &gt;` And then Leave Blank the Main Class. In that way, after creating the artifact jar, the jar was running  Ok. I, think the problem was, http-client from org.apache and from network - this two types of class used for different libraries at the same Time in my first Artifact and the problem arises.  So, When I created new Artifact, and leaving unnecessary libraries and duplicate libraries, the problem gone. ","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>After Creating Artifact Jar I was facing this Problem. What I do that, I create a new <code>Artifact &gt; With Module Dependency &gt;</code> And then Leave Blank the Main Class. In that way, after creating the artifact jar, the jar was running  Ok. I, think the problem was, http-client from org.apache and from network - this two types of class used for different libraries at the same Time in my first Artifact and the problem arises.  So, When I created new Artifact, and leaving unnecessary libraries and duplicate libraries, the problem gone.</p>\n"},{"tags":[],"owner":{"account_id":13691822,"reputation":541,"user_id":9879420,"display_name":"Jeberdson Abraham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649348361,"creation_date":1649348361,"answer_id":71785684,"question_id":9663927,"body_markdown":"I faced the same issue, later I found I was using wrong gradle dependency.,\r\n\r\n**Wrong:**\r\n```\r\ncompileOnly &#39;org.apache.httpcomponents:httpclient:4.5.3&#39;\r\n```\r\n\r\n**Correct:**\r\n\r\n```\r\nimplementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.3&#39;\r\n```\r\n\r\nOnce I changed it, it was working fine.\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>I faced the same issue, later I found I was using wrong gradle dependency.,</p>\n<p><strong>Wrong:</strong></p>\n<pre><code>compileOnly 'org.apache.httpcomponents:httpclient:4.5.3'\n</code></pre>\n<p><strong>Correct:</strong></p>\n<pre><code>implementation group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.3'\n</code></pre>\n<p>Once I changed it, it was working fine.</p>\n"},{"tags":[],"owner":{"account_id":3623434,"reputation":26,"user_id":6910975,"display_name":"Moin Abbas Qureshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659364518,"creation_date":1659088827,"answer_id":73164903,"question_id":9663927,"body_markdown":"    java.lang.NoClassDefFoundError on HttpAsyncClients.custom\r\n    java.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\r\n    java.lang.NoClassDefFoundError: org/apache/http/HttpHost \r\n\r\nYou have to import `httpclient` library.\r\n\r\nGo to maven website and download **httpclient** jar file.   https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient\r\n\r\nNow you have to copy this jar file into the \\lib folder.\r\n\r\nAfter that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of **&lt;/dependencies&gt;** line of code, add the following dependencies.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn case of Jira/Confluence, POM file location are that.\r\n(`C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira`)\r\n\r\nThere is two folder at this location: atlassian-jira-webapp and jira-webapp-dist. Both folders contain POM files.\r\n\r\nJust open one POM file in notepad++ and search for end of &lt;/dependencies&gt;.\r\n[![enter image description here][1]][1]\r\n\r\nNow go to second folder POM file and add same dependencies too. \r\nJust look into error and add dependencies.\r\n\r\nRestart your service after that.\r\n\r\n  [1]: https://i.stack.imgur.com/35S1l.png\r\n","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<pre><code>java.lang.NoClassDefFoundError on HttpAsyncClients.custom\njava.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\njava.lang.NoClassDefFoundError: org/apache/http/HttpHost \n</code></pre>\n<p>You have to import <code>httpclient</code> library.</p>\n<p>Go to maven website and download <strong>httpclient</strong> jar file.   <a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient</a></p>\n<p>Now you have to copy this jar file into the \\lib folder.</p>\n<p>After that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of <strong></strong> line of code, add the following dependencies.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In case of Jira/Confluence, POM file location are that.\n(<code>C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira</code>)</p>\n<p>There is two folder at this location: atlassian-jira-webapp and jira-webapp-dist. Both folders contain POM files.</p>\n<p>Just open one POM file in notepad++ and search for end of .\n<a href=\"https://i.stack.imgur.com/35S1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35S1l.png\" alt=\"enter image description here\" /></a></p>\n<p>Now go to second folder POM file and add same dependencies too.\nJust look into error and add dependencies.</p>\n<p>Restart your service after that.</p>\n"}],"owner":{"account_id":937658,"reputation":3015,"user_id":966285,"accept_rate":90,"display_name":"Saurabh Saxena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301476,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":9663942,"answer_count":9,"score":71,"last_activity_date":1659364518,"creation_date":1331541782,"question_id":9663927,"body_markdown":"I am trying to make a get request from the GWT servlet to get JSON response from a web service.\r\nFollowing is the code in my servlet :\r\n\r\n    public String getQueData() throws IllegalArgumentException {\r\n        String message = null;\r\n        try {\t\t    \r\n            HttpClient httpclient = new DefaultHttpClient(); \r\n            JSONParser parser = new JSONParser();\r\n    \r\n            String url = &quot;working - url&quot;;\r\n            HttpResponse response = null;\r\n            response = httpclient.execute(new HttpGet(url));\r\n    \r\n            JSONObject json_data = null;\r\n            json_data = (JSONObject)parser.parse(EntityUtils.toString(response.getEntity()));\r\n            JSONArray results = (JSONArray)json_data.get(&quot;result&quot;);\r\n            for (Object queid : results) {\r\n                message = message.concat((String) ((JSONObject)queid).get(&quot;id&quot;));\r\n                message = message.concat(&quot;\\t&quot;);\r\n                message = message.concat((String) ((JSONObject)queid).get(&quot;owner&quot;));\r\n                message = message.concat(&quot;\\n&quot;);\r\n            }\r\n          } catch (Exception e) {\r\n        message = e.toString();\r\n        }\r\n        return message;\r\n    }\r\n\r\nGetting the following exception on trying to make get request from a GWT servlet.\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient\r\n    \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\r\n    \tat java.lang.Class.getConstructor0(Class.java:2699)\r\n    \tat java.lang.Class.newInstance0(Class.java:326)\r\n    \tat java.lang.Class.newInstance(Class.java:308)\r\n    \tat org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)\r\n    \tat org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)\r\n    \tat org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\r\n    \tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n    \tat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n    \tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n    \tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n    \tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n    \tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n    \tat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:78)\r\n    \tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n    \tat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:362)\r\n    \tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n    \tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n    \tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n    \tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\r\n    \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\r\n    \tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\r\n    \tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n    \tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n    \tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.client.HttpClient\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n\r\n\r\nWhat could be the possible cause of this exception?\r\nHow it could be removed?\r\n\r\nI am using jdk1.6.0_30 on ubuntu 10.04.","title":"java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient","body":"<p>I am trying to make a get request from the GWT servlet to get JSON response from a web service.\nFollowing is the code in my servlet :</p>\n\n<pre><code>public String getQueData() throws IllegalArgumentException {\n    String message = null;\n    try {           \n        HttpClient httpclient = new DefaultHttpClient(); \n        JSONParser parser = new JSONParser();\n\n        String url = \"working - url\";\n        HttpResponse response = null;\n        response = httpclient.execute(new HttpGet(url));\n\n        JSONObject json_data = null;\n        json_data = (JSONObject)parser.parse(EntityUtils.toString(response.getEntity()));\n        JSONArray results = (JSONArray)json_data.get(\"result\");\n        for (Object queid : results) {\n            message = message.concat((String) ((JSONObject)queid).get(\"id\"));\n            message = message.concat(\"\\t\");\n            message = message.concat((String) ((JSONObject)queid).get(\"owner\"));\n            message = message.concat(\"\\n\");\n        }\n      } catch (Exception e) {\n    message = e.toString();\n    }\n    return message;\n}\n</code></pre>\n\n<p>Getting the following exception on trying to make get request from a GWT servlet.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\n    at java.lang.Class.getConstructor0(Class.java:2699)\n    at java.lang.Class.newInstance0(Class.java:326)\n    at java.lang.Class.newInstance(Class.java:308)\n    at org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)\n    at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)\n    at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:78)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:362)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.client.HttpClient\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n</code></pre>\n\n<p>What could be the possible cause of this exception?\nHow it could be removed?</p>\n\n<p>I am using jdk1.6.0_30 on ubuntu 10.04.</p>\n"},{"tags":["java","spring-mvc","tomcat","controller","exceptionhandler"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1659288642,"post_id":73177839,"comment_id":129254100,"body_markdown":"Can you share snippets of how you&#39;ve set up the character encoding for your project? (your pom.xml, build.gradle etc. )","body":"Can you share snippets of how you&#39;ve set up the character encoding for your project? (your pom.xml, build.gradle etc. )"},{"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"score":0,"creation_date":1659363945,"post_id":73177839,"comment_id":129270812,"body_markdown":"@IgorFlakiewicz has provided","body":"@IgorFlakiewicz has provided"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1659364610,"post_id":73177839,"comment_id":129271064,"body_markdown":"I think it&#39;s because you add `new HttpHeaders()` in your exception handler, add a `&quot;content-type&quot;` header to it with the value `&quot;application/json; charset=UTF-8&quot;`.","body":"I think it&#39;s because you add <code>new HttpHeaders()</code> in your exception handler, add a <code>&quot;content-type&quot;</code> header to it with the value <code>&quot;application&#47;json; charset=UTF-8&quot;</code>."}],"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659363864,"creation_date":1659203026,"question_id":73177839,"body_markdown":"I use `Spring MVC`, `Tomcat 8.5.81` and `java-configured context`. Here is the controller class. If I send **ResponseEntity&lt;?&gt; with Cyrillic from here**, everything is represented on the client correctly.\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/rooms&quot;, produces = {&quot;application/json; charset=UTF-8&quot;})\r\n    @RequiredArgsConstructor\r\n    public class RoomController {\r\n\r\nHowever, if I use my `@ControllerAdvice` to send custom exception with **Cyrillic description** on the client I got `??????` symbols.\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @ExceptionHandler(value = {\r\n            NoSuchElementException.class,\r\n            IllegalArgumentException.class,\r\n            ServiceUnavailableException.class})\r\n        protected ResponseEntity&lt;Object&gt; handleConflict(RuntimeException ex, WebRequest req) {\r\n        String responseBody = ex.getMessage();\r\n        return handleExceptionInternal(ex, responseBody, new HttpHeaders(), HttpStatus.BAD_REQUEST, req);\r\n        }\r\n    }\r\n\r\nThis is a part of my pom.xml:\r\n   \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;hibernate.version&gt;5.6.8.Final&lt;/hibernate.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nHow to set encoding UTF-8 to @ControllerAdvice/@ExceptionHandler?","title":"how to set @ControllerAdvice or @ExceptionHandler encoding to UTF-8?","body":"<p>I use <code>Spring MVC</code>, <code>Tomcat 8.5.81</code> and <code>java-configured context</code>. Here is the controller class. If I send <strong>ResponseEntity&lt;?&gt; with Cyrillic from here</strong>, everything is represented on the client correctly.</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/rooms&quot;, produces = {&quot;application/json; charset=UTF-8&quot;})\n@RequiredArgsConstructor\npublic class RoomController {\n</code></pre>\n<p>However, if I use my <code>@ControllerAdvice</code> to send custom exception with <strong>Cyrillic description</strong> on the client I got <code>??????</code> symbols.</p>\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(value = {\n        NoSuchElementException.class,\n        IllegalArgumentException.class,\n        ServiceUnavailableException.class})\n    protected ResponseEntity&lt;Object&gt; handleConflict(RuntimeException ex, WebRequest req) {\n    String responseBody = ex.getMessage();\n    return handleExceptionInternal(ex, responseBody, new HttpHeaders(), HttpStatus.BAD_REQUEST, req);\n    }\n}\n</code></pre>\n<p>This is a part of my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;hibernate.version&gt;5.6.8.Final&lt;/hibernate.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>How to set encoding UTF-8 to @ControllerAdvice/@ExceptionHandler?</p>\n"},{"tags":["java","spring","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659363794,"creation_date":1659363794,"answer_id":73195187,"question_id":73194882,"body_markdown":"The problem is here:\r\n\r\n    ResponseEntity&lt;PostgreCity&gt; responseEntity = this.get(PostgreCity.class);\r\n\r\nYou are expecting a single entity but in the RestController you have a List:\r\n\r\n    @GetMapping(value = &quot;/get&quot;)\r\n    public List&lt;PostgreCity&gt; get(){\r\n        List&lt;PostgreCity&gt; list = this.cityRepository.findAll();\r\n        return list;\r\n    }\r\n\r\nFor getting the list you can use the ParameterizedTypeReference, like so:\r\n\r\n    ResponseEntity&lt;List&lt;PostgreCity&gt;&gt; responseEntity = \r\n      restTemplate.exchange(\r\n        &quot;/get&quot;,\r\n        HttpMethod.GET,\r\n        null,\r\n        new ParameterizedTypeReference&lt;List&lt;PostgreCity&gt;&gt;() {}\r\n      );\r\n    List&lt;PostgreCity&gt; postgreCities = responseEntity.getBody();\r\n\r\nFor more details and reference can have a look at this tutorial: \r\n\r\nhttps://www.baeldung.com/spring-resttemplate-json-list\r\n\r\n","title":"org.springframework.web.client.RestClientException: Error while extracting response for type and content type [application/json;charset=utf-8]","body":"<p>The problem is here:</p>\n<pre><code>ResponseEntity&lt;PostgreCity&gt; responseEntity = this.get(PostgreCity.class);\n</code></pre>\n<p>You are expecting a single entity but in the RestController you have a List:</p>\n<pre><code>@GetMapping(value = &quot;/get&quot;)\npublic List&lt;PostgreCity&gt; get(){\n    List&lt;PostgreCity&gt; list = this.cityRepository.findAll();\n    return list;\n}\n</code></pre>\n<p>For getting the list you can use the ParameterizedTypeReference, like so:</p>\n<pre><code>ResponseEntity&lt;List&lt;PostgreCity&gt;&gt; responseEntity = \n  restTemplate.exchange(\n    &quot;/get&quot;,\n    HttpMethod.GET,\n    null,\n    new ParameterizedTypeReference&lt;List&lt;PostgreCity&gt;&gt;() {}\n  );\nList&lt;PostgreCity&gt; postgreCities = responseEntity.getBody();\n</code></pre>\n<p>For more details and reference can have a look at this tutorial:</p>\n<p><a href=\"https://www.baeldung.com/spring-resttemplate-json-list\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-resttemplate-json-list</a></p>\n"}],"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73195187,"answer_count":1,"score":0,"last_activity_date":1659363794,"creation_date":1659362394,"question_id":73194882,"body_markdown":"I can&#39;t figure out what the problem is. I am using postgre DB. When I run a test for the GET method, an error occurs, for the second day I can not solve it.\r\n\r\nHere is my Entity class\r\n\r\n    import lombok.*;\r\n    import lombok.experimental.FieldDefaults;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;cities_catalog&quot;)\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class PostgreCity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Integer id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        String name;\r\n    \r\n        public PostgreCity(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nhere is my Repository class\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n        \r\n        @Repository\r\n        public interface CityRepository extends JpaRepository&lt;PostgreCity, Integer&gt; {\r\n        }\r\n\r\nhere is my Controller class\r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.experimental.FieldDefaults;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @AllArgsConstructor\r\n    @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\r\n    public class CityPostController {\r\n    \r\n        @Autowired\r\n        CityRepository cityRepository;\r\n    \r\n        @GetMapping(value = &quot;/get&quot;)\r\n        public List&lt;PostgreCity&gt; get(){\r\n            List&lt;PostgreCity&gt; list = this.cityRepository.findAll();\r\n            return list;\r\n        }\r\n    }\r\n\r\nhere is my Junit test class\r\n\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    class CityPostControllerTest extends RequestService {\r\n    \r\n        @Autowired\r\n        CityRepository cityRepositoryp;\r\n        Integer id;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n        }\r\n    \r\n        @AfterEach\r\n        void tearDown() {\r\n        }\r\n    \r\n        @Test\r\n        void get() {\r\n            ResponseEntity&lt;PostgreCity&gt; responseEntity = this.get(PostgreCity.class);\r\n            assertNotNull(responseEntity);\r\n            assertEquals(HttpStatus.OK.value(), responseEntity.getStatusCodeValue());\r\n        }\r\n    \r\n        @Override\r\n        public String getPath() {\r\n            return &quot;/get&quot;;\r\n        }\r\n    }\r\n\r\nhere is my RequestService class\r\n\r\n    import io.egrow.eugene.insurance.InsuranceApplicationTests;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.web.client.TestRestTemplate;\r\n    import org.springframework.http.*;\r\n    \r\n    \r\n    public abstract class RequestService extends InsuranceApplicationTests {\r\n    \r\n        @Autowired\r\n        TestRestTemplate testRestTemplate;\r\n    \r\n    \r\n        public &lt;T&gt; ResponseEntity&lt;T&gt; patchNoAuth(String payload, Class&lt;T&gt; tClass) {\r\n    \r\n            HttpHeaders headers = getHeaderWithoutAuthentication();\r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(payload, headers);\r\n    \r\n            return testRestTemplate.exchange(this.getPath(), HttpMethod.PATCH, entity, tClass);\r\n        }\r\n    \r\n        public &lt;T&gt; ResponseEntity&lt;T&gt; get(Class&lt;T&gt; tClass) {\r\n    \r\n            return testRestTemplate.getForEntity(this.getPath(), tClass);\r\n        }\r\n    \r\n        private HttpHeaders getHeaderWithoutAuthentication() {\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n            return headers;\r\n        }\r\n    \r\n        public abstract String getPath();\r\n    }\r\n\r\n\r\nhere is error message when I run test.\r\n\r\n    org.springframework.web.client.RestClientException: Error while extracting response for type [class io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity` from Array value (token `JsonToken.START_ARRAY`)\r\n     at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\r\n","title":"org.springframework.web.client.RestClientException: Error while extracting response for type and content type [application/json;charset=utf-8]","body":"<p>I can't figure out what the problem is. I am using postgre DB. When I run a test for the GET method, an error occurs, for the second day I can not solve it.</p>\n<p>Here is my Entity class</p>\n<pre><code>import lombok.*;\nimport lombok.experimental.FieldDefaults;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;cities_catalog&quot;)\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Data\n@NoArgsConstructor\npublic class PostgreCity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Integer id;\n\n    @Column(name = &quot;name&quot;)\n    String name;\n\n    public PostgreCity(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>here is my Repository class</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n    \n    @Repository\n    public interface CityRepository extends JpaRepository&lt;PostgreCity, Integer&gt; {\n    }\n</code></pre>\n<p>here is my Controller class</p>\n<pre><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.experimental.FieldDefaults;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@AllArgsConstructor\n@FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\npublic class CityPostController {\n\n    @Autowired\n    CityRepository cityRepository;\n\n    @GetMapping(value = &quot;/get&quot;)\n    public List&lt;PostgreCity&gt; get(){\n        List&lt;PostgreCity&gt; list = this.cityRepository.findAll();\n        return list;\n    }\n}\n</code></pre>\n<p>here is my Junit test class</p>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\n\nimport java.util.HashMap;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass CityPostControllerTest extends RequestService {\n\n    @Autowired\n    CityRepository cityRepositoryp;\n    Integer id;\n\n    @BeforeEach\n    void setUp() {\n    }\n\n    @AfterEach\n    void tearDown() {\n    }\n\n    @Test\n    void get() {\n        ResponseEntity&lt;PostgreCity&gt; responseEntity = this.get(PostgreCity.class);\n        assertNotNull(responseEntity);\n        assertEquals(HttpStatus.OK.value(), responseEntity.getStatusCodeValue());\n    }\n\n    @Override\n    public String getPath() {\n        return &quot;/get&quot;;\n    }\n}\n</code></pre>\n<p>here is my RequestService class</p>\n<pre><code>import io.egrow.eugene.insurance.InsuranceApplicationTests;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.web.client.TestRestTemplate;\nimport org.springframework.http.*;\n\n\npublic abstract class RequestService extends InsuranceApplicationTests {\n\n    @Autowired\n    TestRestTemplate testRestTemplate;\n\n\n    public &lt;T&gt; ResponseEntity&lt;T&gt; patchNoAuth(String payload, Class&lt;T&gt; tClass) {\n\n        HttpHeaders headers = getHeaderWithoutAuthentication();\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(payload, headers);\n\n        return testRestTemplate.exchange(this.getPath(), HttpMethod.PATCH, entity, tClass);\n    }\n\n    public &lt;T&gt; ResponseEntity&lt;T&gt; get(Class&lt;T&gt; tClass) {\n\n        return testRestTemplate.getForEntity(this.getPath(), tClass);\n    }\n\n    private HttpHeaders getHeaderWithoutAuthentication() {\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        return headers;\n    }\n\n    public abstract String getPath();\n}\n</code></pre>\n<p>here is error message when I run test.</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `io.egrow.eugene.insurance.boundary.databases.postgre.models.cities.PostgreCity` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (PushbackInputStream); line: 1, column: 1]\n</code></pre>\n"},{"tags":["java","testing","cucumber"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659077486,"post_id":73158549,"comment_id":129213755,"body_markdown":"Does that external process have any footprint letting one know it has finished?","body":"Does that external process have any footprint letting one know it has finished?"},{"owner":{"account_id":25920489,"reputation":1,"user_id":19643216,"display_name":"iamian99"},"score":0,"creation_date":1659100197,"post_id":73158549,"comment_id":129221646,"body_markdown":"I can freely poll the status to see if it&#39;s running or not.","body":"I can freely poll the status to see if it&#39;s running or not."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659111030,"post_id":73158549,"comment_id":129223062,"body_markdown":"So why wouldn&#39;t your scenario just poll that and if it is not it would be started and if it is it would wait for the end?","body":"So why wouldn&#39;t your scenario just poll that and if it is not it would be started and if it is it would wait for the end?"}],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659363719,"creation_date":1659363719,"answer_id":73195165,"question_id":73158549,"body_markdown":"You can&#39;t communicate data between scenarios, nor should you try to. Each scenario (by design) is its own separate thing, which sets and resets everything.\r\n\r\nInstead what you can do is improve the way you execute your external process so instead of doing it each time, you use the results of it being done once, and then re-use that result in future executions of the scenario.\r\n\r\nYou could change your scenarios to reflect this e.g.\r\n\r\n```\r\nGiven I have done x\r\nAnd the external process has been run for x\r\nThen y should have happened\r\n```\r\n\r\nYou should also consider the user experience of waiting for the external process. For new behaviours you could do something like\r\n\r\n```\r\nWhen I do x\r\nThen I should see I am waiting for the external process\r\n```\r\n\r\nand then later do another scenario\r\n\r\n```\r\nGiven I have done x\r\nAnd the external process has completed\r\nThen I should see y\r\n```\r\n\r\nYou can use something like VCR to record the results of executing your external process. (https://rubygems.org/gems/vcr/versions/6.0.0)\r\n\r\nNote: VCR is ruby specific, but I am sure you can find a java equivalent.\r\n\r\nNow that your external process executes pretty much instantly (a few milliseconds) your no longer have any need to share things between scenarios.\r\n\r\n\r\n","title":"Working around a long running process in Cucumber","body":"<p>You can't communicate data between scenarios, nor should you try to. Each scenario (by design) is its own separate thing, which sets and resets everything.</p>\n<p>Instead what you can do is improve the way you execute your external process so instead of doing it each time, you use the results of it being done once, and then re-use that result in future executions of the scenario.</p>\n<p>You could change your scenarios to reflect this e.g.</p>\n<pre><code>Given I have done x\nAnd the external process has been run for x\nThen y should have happened\n</code></pre>\n<p>You should also consider the user experience of waiting for the external process. For new behaviours you could do something like</p>\n<pre><code>When I do x\nThen I should see I am waiting for the external process\n</code></pre>\n<p>and then later do another scenario</p>\n<pre><code>Given I have done x\nAnd the external process has completed\nThen I should see y\n</code></pre>\n<p>You can use something like VCR to record the results of executing your external process. (<a href=\"https://rubygems.org/gems/vcr/versions/6.0.0\" rel=\"nofollow noreferrer\">https://rubygems.org/gems/vcr/versions/6.0.0</a>)</p>\n<p>Note: VCR is ruby specific, but I am sure you can find a java equivalent.</p>\n<p>Now that your external process executes pretty much instantly (a few milliseconds) your no longer have any need to share things between scenarios.</p>\n"}],"owner":{"account_id":25920489,"reputation":1,"user_id":19643216,"display_name":"iamian99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659363719,"creation_date":1659038279,"question_id":73158549,"body_markdown":"I have a general design problem regarding Cucumber-\r\nI&#39;m trying to build some cucumber scenarios around a specific external process that takes some time. Currently, the tests look like this:\r\n\r\n    Given some setup\r\n    When I perform X action\r\n    And do the external process\r\n    Then validate some stuff\r\nI have a number of these tests, and it would be massively more performant if I could do the external process just once for all these scenarios.\r\nThe problem I&#39;m running into is that it doesn&#39;t seem like theres any way to communicate between scenarios in cucumber.\r\n\r\nMy first idea was to have each test running concurrently and have them hit a wait and poll the external process to see if it&#39;s running before proceeding, but I have no way of triggering the process once all the tests are waiting since they can&#39;t communicate.\r\n\r\nMy second idea was to persist data between tests. So, each test would just stop at the point the process needs to be run, then somehow gets their CucumberContext to a follow up scenario that validates things after the process. However, I&#39;d have to save this data to the file system and pick it up again, which is a very ugly way to handle it.\r\n\r\nDoes anyone have advice on either synchronizing steps in cucumber, or creating &quot;continuation&quot; scenarios? Or is there another approach I can take?","title":"Working around a long running process in Cucumber","body":"<p>I have a general design problem regarding Cucumber-\nI'm trying to build some cucumber scenarios around a specific external process that takes some time. Currently, the tests look like this:</p>\n<pre><code>Given some setup\nWhen I perform X action\nAnd do the external process\nThen validate some stuff\n</code></pre>\n<p>I have a number of these tests, and it would be massively more performant if I could do the external process just once for all these scenarios.\nThe problem I'm running into is that it doesn't seem like theres any way to communicate between scenarios in cucumber.</p>\n<p>My first idea was to have each test running concurrently and have them hit a wait and poll the external process to see if it's running before proceeding, but I have no way of triggering the process once all the tests are waiting since they can't communicate.</p>\n<p>My second idea was to persist data between tests. So, each test would just stop at the point the process needs to be run, then somehow gets their CucumberContext to a follow up scenario that validates things after the process. However, I'd have to save this data to the file system and pick it up again, which is a very ugly way to handle it.</p>\n<p>Does anyone have advice on either synchronizing steps in cucumber, or creating &quot;continuation&quot; scenarios? Or is there another approach I can take?</p>\n"},{"tags":["java","git","amazon-s3","amazon-ec2","git-bash"],"comments":[{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1659364003,"post_id":73195153,"comment_id":129270837,"body_markdown":"The error means what it says: you put too much stuff in. There&#39;s a limit, you&#39;ve exceeded it.","body":"The error means what it says: you put too much stuff in. There&#39;s a limit, you&#39;ve exceeded it."},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1659364073,"post_id":73195153,"comment_id":129270869,"body_markdown":"@torek  How can i fix it ?","body":"@torek  How can i fix it ?"},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1659364573,"post_id":73195153,"comment_id":129271051,"body_markdown":"Don&#39;t put so much stuff in your repository. (Make a fresh clone, don&#39;t put gigabytes of stuff in it.) Your other main option is to find a service that *does* allow multiple gigabytes of stuff - this probably costs more though.","body":"Don&#39;t put so much stuff in your repository. (Make a fresh clone, don&#39;t put gigabytes of stuff in it.) Your other main option is to find a service that <i>does</i> allow multiple gigabytes of stuff - this probably costs more though."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1659366299,"post_id":73195153,"comment_id":129271813,"body_markdown":"Are you committing dependencies? How is the repo that big?","body":"Are you committing dependencies? How is the repo that big?"},{"owner":{"account_id":188561,"reputation":100136,"user_id":427332,"display_name":"Tommy"},"score":0,"creation_date":1659661979,"post_id":73195153,"comment_id":129353276,"body_markdown":"This error usually means that the one specific commit is too large, not the repository as a whole. Try committing in smaller chunks.","body":"This error usually means that the one specific commit is too large, not the repository as a whole. Try committing in smaller chunks."}],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659363676,"creation_date":1659363676,"question_id":73195153,"body_markdown":"i am trying to push the code in the repository, but i am getting the next error \r\n\r\n&gt; Test@Prueba Ejemplo % git push Enumerating objects: 4, done. Counting\r\n&gt; objects: 100% (4/4), done. remote: fatal: pack exceeds maximum allowed\r\n&gt; size error: RPC failed; curl 55 LibreSSL SSL_write:\r\n&gt; error:02FFF020:system library:func(4095):Broken pipe, errno 32 Writing\r\n&gt; objects: 100% (3/3), 1.28 GiB | 4.57 MiB/s, done. Total 3 (delta 0),\r\n&gt; reused 1 (delta 0), pack-reused 0 error: remote unpack failed:\r\n&gt; unpack-objects abnormal exit Everything up-to-date\r\n\r\nThe repository is in AWS.\r\n\r\nThe folder size is  1.8 GB\r\n\r\n\r\n\r\n","title":"pack exceeds maximum allowed size -- aws","body":"<p>i am trying to push the code in the repository, but i am getting the next error</p>\n<blockquote>\n<p>Test@Prueba Ejemplo % git push Enumerating objects: 4, done. Counting\nobjects: 100% (4/4), done. remote: fatal: pack exceeds maximum allowed\nsize error: RPC failed; curl 55 LibreSSL SSL_write:\nerror:02FFF020:system library:func(4095):Broken pipe, errno 32 Writing\nobjects: 100% (3/3), 1.28 GiB | 4.57 MiB/s, done. Total 3 (delta 0),\nreused 1 (delta 0), pack-reused 0 error: remote unpack failed:\nunpack-objects abnormal exit Everything up-to-date</p>\n</blockquote>\n<p>The repository is in AWS.</p>\n<p>The folder size is  1.8 GB</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1659345457,"post_id":73191438,"comment_id":129264453,"body_markdown":"The Employee object in Company class should be a List right?","body":"The Employee object in Company class should be a List right?"},{"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"score":0,"creation_date":1659345817,"post_id":73191438,"comment_id":129264590,"body_markdown":"@SivaRahul Nope, I wanted to kind of flatten the `Company` object so the only one `Employee` will be in the `Company` thus I will create `List&lt;Company&gt;` to accommodate all of the `Employee` objects","body":"@SivaRahul Nope, I wanted to kind of flatten the <code>Company</code> object so the only one <code>Employee</code> will be in the <code>Company</code> thus I will create <code>List&lt;Company&gt;</code> to accommodate all of the <code>Employee</code> objects"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1659345939,"post_id":73191438,"comment_id":129264642,"body_markdown":"Where is or How is the data saved?","body":"Where is or How is the data saved?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659350233,"post_id":73191438,"comment_id":129266170,"body_markdown":"Please share your **code attempt** and explain the specific problem you&#39;ve encountered (for now, it&#39;s unclear).","body":"Please share your <b>code attempt</b> and explain the specific problem you&#39;ve encountered (for now, it&#39;s unclear)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659350466,"post_id":73191438,"comment_id":129266251,"body_markdown":"How does your related to the Spring framework?","body":"How does your related to the Spring framework?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659363551,"creation_date":1659362757,"answer_id":73194948,"question_id":73191438,"body_markdown":"Assuming constructors and getters.\r\n- creat a list of Company\r\n- iterate over employee list adding employee to companyList.\r\n```\r\nList&lt;Company&gt; companyList = new ArrayList&lt;&gt;();\r\nfor (Employee e : employeeList) {\r\n    companyList.add(new Company(e.getId(), e));\r\n}\r\n```\r\nOr if you prefer a stream solution.\r\n```\r\nList&lt;Company&gt; companyList = employeeList.stream()\r\n       .map(e-&gt; new Company(e.getId(), e))\r\n       .toList():\r\n```\r\nDepending on your use case it may be wise to create a new employee object from your original. If the employee class is immutable this will not be necessary. This is only shown for the stream solution.\r\n```\r\nList&lt;Company&gt; companyList = employeeList.stream()\r\n       .map(e-&gt; new Company(e.getId(), new Employee(e.getId(), e.getName())))\r\n       .toList():\r\n","title":"I have an object Company and List of Employee objects, I want to create a List of Company objects which will contain the single Employee Object","body":"<p>Assuming constructors and getters.</p>\n<ul>\n<li>creat a list of Company</li>\n<li>iterate over employee list adding employee to companyList.</li>\n</ul>\n<pre><code>List&lt;Company&gt; companyList = new ArrayList&lt;&gt;();\nfor (Employee e : employeeList) {\n    companyList.add(new Company(e.getId(), e));\n}\n</code></pre>\n<p>Or if you prefer a stream solution.</p>\n<pre><code>List&lt;Company&gt; companyList = employeeList.stream()\n       .map(e-&gt; new Company(e.getId(), e))\n       .toList():\n</code></pre>\n<p>Depending on your use case it may be wise to create a new employee object from your original. If the employee class is immutable this will not be necessary. This is only shown for the stream solution.</p>\n<pre><code>List&lt;Company&gt; companyList = employeeList.stream()\n       .map(e-&gt; new Company(e.getId(), new Employee(e.getId(), e.getName())))\n       .toList():\n</code></pre>\n"}],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":73194948,"answer_count":1,"score":1,"last_activity_date":1659363551,"creation_date":1659345162,"question_id":73191438,"body_markdown":"I have a `Company` class having following structure\r\n\r\n    public class Company{\r\n        private Long id;    \r\n        private Employee employee;\r\n    }\r\n\r\nAnd I have a list of Employee objects `List&lt;Employee&gt;`and the `Employee` class is as below\r\n\r\n    public class Employee{\r\n        private Long id;    \r\n        private String name;\r\n    }\r\n\r\nThe requirement is, I want to create the List of Company which will contain all single - single employee according to the above structure. \r\n\r\nas `List&lt;Company&gt; company`.\r\n\r\nWhat is the best practice to achieve this ?\r\n\r\n \r\n\r\n ","title":"I have an object Company and List of Employee objects, I want to create a List of Company objects which will contain the single Employee Object","body":"<p>I have a <code>Company</code> class having following structure</p>\n<pre><code>public class Company{\n    private Long id;    \n    private Employee employee;\n}\n</code></pre>\n<p>And I have a list of Employee objects <code>List&lt;Employee&gt;</code>and the <code>Employee</code> class is as below</p>\n<pre><code>public class Employee{\n    private Long id;    \n    private String name;\n}\n</code></pre>\n<p>The requirement is, I want to create the List of Company which will contain all single - single employee according to the above structure.</p>\n<p>as <code>List&lt;Company&gt; company</code>.</p>\n<p>What is the best practice to achieve this ?</p>\n"},{"tags":["java","exception","illegalstateexception","runtimeexception"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1640609981,"post_id":70495777,"comment_id":124615050,"body_markdown":"There is no immovable rule about the kind of exception to throw in java. It depends totaly on the way you would handle it. You could also create a custom exception inherited from `java.lang.Exception` or its subclasses","body":"There is no immovable rule about the kind of exception to throw in java. It depends totaly on the way you would handle it. You could also create a custom exception inherited from <code>java.lang.Exception</code> or its subclasses"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1640610159,"post_id":70495777,"comment_id":124615098,"body_markdown":"I would say `IllegalArgumentException` - as in the argument `20` is illegal. But `IllegalStateException` makes sense too. Personally though I would write a custom exception that’s descriptive - there is very little cost to adding classes.","body":"I would say <code>IllegalArgumentException</code> - as in the argument <code>20</code> is illegal. But <code>IllegalStateException</code> makes sense too. Personally though I would write a custom exception that’s descriptive - there is very little cost to adding classes."},{"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"score":0,"creation_date":1640611027,"post_id":70495777,"comment_id":124615331,"body_markdown":"@BoristheSpider Honestly, I discarded `IllegalArgumentException` because i think it would be ok if the argument were illegal regardless of the state. For example, if the given amount is negative I throw an `IllegalArgumentException` because a negative amount will never be right. On the other hand, the parameter `20` is not always illegal, it is illegal just in the current situation. I would need a mixture of IllegalStateException and IllegalArgumentException. I&#39;ll look for IAE usage similar to my example and update you. I may have discarded it too early, you may be right.","body":"@BoristheSpider Honestly, I discarded <code>IllegalArgumentException</code> because i think it would be ok if the argument were illegal regardless of the state. For example, if the given amount is negative I throw an <code>IllegalArgumentException</code> because a negative amount will never be right. On the other hand, the parameter <code>20</code> is not always illegal, it is illegal just in the current situation. I would need a mixture of IllegalStateException and IllegalArgumentException. I&#39;ll look for IAE usage similar to my example and update you. I may have discarded it too early, you may be right."},{"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"score":0,"creation_date":1640612994,"post_id":70495777,"comment_id":124615984,"body_markdown":"@BoristheSpider I found an example in effective java that seems equivalent to the one in my question. Following what the book says, the correct answer is IllegalArgumentException.","body":"@BoristheSpider I found an example in effective java that seems equivalent to the one in my question. Following what the book says, the correct answer is IllegalArgumentException."}],"answers":[{"tags":[],"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640612900,"creation_date":1640612900,"answer_id":70496318,"question_id":70495777,"body_markdown":"`java.lang.IllegalArgumentException` is the right answer in this case.\r\n\r\nThis example is equivalent to the following one from *Effective Java - Third Edition* (page 301):\r\n\r\n&gt; Consider the case of\r\nan object representing a deck of cards, and suppose there were a method to deal a\r\nhand from the deck that took as an argument the size of the hand. If the caller\r\npassed a value larger than the number of cards remaining in the deck, it could be\r\nconstrued as an IllegalArgumentException (the handSize parameter value is too\r\nhigh) or an IllegalStateException (the deck contains too few cards). **Under\r\nthese circumstances, the rule is to throw IllegalStateException if no argument\r\nvalues would have worked, otherwise throw IllegalArgumentException.**\r\n\r\n \r\nThe`IllegalStateException` is not correct because the state of the object does not prevent to invoke `decreaseQuantity`: you can invoke it, **just use an appropriate input value**. \r\n\r\n\r\n\r\n","title":"What exception to throw if an operation would bring the object into an illegal state?","body":"<p><code>java.lang.IllegalArgumentException</code> is the right answer in this case.</p>\n<p>This example is equivalent to the following one from <em>Effective Java - Third Edition</em> (page 301):</p>\n<blockquote>\n<p>Consider the case of\nan object representing a deck of cards, and suppose there were a method to deal a\nhand from the deck that took as an argument the size of the hand. If the caller\npassed a value larger than the number of cards remaining in the deck, it could be\nconstrued as an IllegalArgumentException (the handSize parameter value is too\nhigh) or an IllegalStateException (the deck contains too few cards). <strong>Under\nthese circumstances, the rule is to throw IllegalStateException if no argument\nvalues would have worked, otherwise throw IllegalArgumentException.</strong></p>\n</blockquote>\n<p>The<code>IllegalStateException</code> is not correct because the state of the object does not prevent to invoke <code>decreaseQuantity</code>: you can invoke it, <strong>just use an appropriate input value</strong>.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640613359,"creation_date":1640613359,"answer_id":70496412,"question_id":70495777,"body_markdown":"There is nothing in the core java libraries that is a slam dunk. However, make your own exception is probably your best bet, it&#39;s a close race between that and using `IllegalArgumentException`.\r\n\r\n## `RuntimeException`\r\n\r\nIll advised for nebulous reasons. The primary reason not to use it, is because linter tools will yell at you. The reason they yell at you is twofold, and to determine whether the right move is to tell the linters to shut up, or to head their advice, is to focus on these 2 reasons:\r\n\r\n1. The type name of the exception is itself information. For example, `throw new NullPointerException(&quot;x is null&quot;)` is dumb code to write (even though its common). It&#39;s superfluous - just `new NullPointerException(&quot;x&quot;)` is appropriate. `RuntimeException` conveys almost no information at all. You are mostly avoiding this trap: Whilst RuntimeException indeed conveys nearly nothing, the message of the exception says it all, therefore, the thing the linter is trying to stop from happening (throwing an exception that doesn&#39;t properly convey the nature of the problem) isn&#39;t happening, and thus you should consider just telling the linter to stop whining... except for:\r\n\r\n2. The second reason you want a proper exception type is that you really, really don&#39;t want code that intends to catch this to have to do string analysis on an exception message. Thus, if there&#39;s any world in which you can foresee that some code wants to invoke your method and then react to the condition (of trying to subtract more than available) in any way other than blowing up all context, then you should be throwing an exception that means this specific condition and nothing else. `RuntimeException` is __never__ appropriate to catch if your intent is to catch a specific condition (it&#39;s pretty much never appropriate, period - sometimes you want to run code and react to any problem regardless of its nature, but then `catch (Exception e)` is the appropriate catch block, or even `Throwable`. e.g. appservers and the like should be doing this.\r\n\r\n## `IllegalArgumentException`\r\n\r\nThe linters won&#39;t be yelling, but you&#39;re still not really getting the secondary benefit (that is, allow callers to catch this specific problem and not some other problem with the arguments). It&#39;s also &#39;mentally&#39; slightly dubious: Your reasons for initially disregarding it are not wrong. Generally IAEs are understood to imply that the illegal argument is illegal regardless of the state of this object. But this isn&#39;t written in IAE&#39;s javadoc and isn&#39;t universally applied.\r\n\r\nSo, downsides are:\r\n\r\n* It&#39;s a bit of a push to force callers to `catch (IllegalArgumentException e)` to deal with wanting to react to subtracting more than is there. IAE is still too &#39;general&#39;.\r\n* It could be lightly confusing.\r\n\r\nUpside is simply:\r\n\r\n* It&#39;s already there.\r\n\r\n## `IllegalStateException`\r\n\r\nI think this is strictly worse than IAE. It&#39;s mostly the same story, except here the confusion is that ISE is usually used to flag that the current state of the object is such that the operation you are trying to call is simply not available. In a tweaked way that&#39;s actually true (the object&#39;s state is that there are 3 items; therefore it is not in a state that `decreaseQuantity(5)` is an available operation right now), but it feels more confusing than IAE: ISE feels like the Product object itself is in an invalid state. I&#39;d be assuming that the product is a legacy product that is not now or will ever be in stock again, or is some dummy product type (a Product object representing &#39;unknown product&#39; or something similarly exotic).\r\n\r\nBut, same deal with IAE: The javadoc of ISE doesn&#39;t specifically spell out that you couldn&#39;t do it. Hence, if you would prefer to throw this, you could, it&#39;s not provably incorrect, at worst it&#39;s simply bad code style. A linter tool is never going to fault you for it, or if it does, the linter tool is wrong.\r\n\r\n## write your own\r\n\r\nAdvantages:\r\n* There&#39;s no chance that users of your library bring faulty assumptions (that IAE means: Argument is illegal regardless of state); that makes it less confusing.\r\n* If code intends to call your method and write a catch clause specifically for the condition of removing more than is there, then this is definitely the nicest answer. This:\r\n\r\n```java\r\ntry {\r\n  product.decreaseQuantity(5);\r\n} catch (QuantityInsufficientException e) {\r\n  ui.showOrderingError(&quot;Regretfully we don&#39;t have this item in stock at the quantity you want&quot;);\r\n}\r\n```\r\n\r\nIs slightly more readable than `catch (IllegalArgumentException)`, and more importantly, is more reliable: IAE is such an oft-used exception that you&#39;re going to one day edit the `decreaseQuantity` method and introduce a code path that throws IAE for some other reason and now you have a very hard to find bug.\r\n\r\n## Conclusion\r\n\r\nI&#39;d be writing your own. Yes, it&#39;s a bit of a drag to have to write the source file, but you can let your IDE (or [Project Lombok](https://projectlombok.org/features/experimental/StandardException) for maximum boilerplate busting) generate the entire file and you probably never have to look at `InsufficientQuantityException.java` ever again.\r\n","title":"What exception to throw if an operation would bring the object into an illegal state?","body":"<p>There is nothing in the core java libraries that is a slam dunk. However, make your own exception is probably your best bet, it's a close race between that and using <code>IllegalArgumentException</code>.</p>\n<h2><code>RuntimeException</code></h2>\n<p>Ill advised for nebulous reasons. The primary reason not to use it, is because linter tools will yell at you. The reason they yell at you is twofold, and to determine whether the right move is to tell the linters to shut up, or to head their advice, is to focus on these 2 reasons:</p>\n<ol>\n<li><p>The type name of the exception is itself information. For example, <code>throw new NullPointerException(&quot;x is null&quot;)</code> is dumb code to write (even though its common). It's superfluous - just <code>new NullPointerException(&quot;x&quot;)</code> is appropriate. <code>RuntimeException</code> conveys almost no information at all. You are mostly avoiding this trap: Whilst RuntimeException indeed conveys nearly nothing, the message of the exception says it all, therefore, the thing the linter is trying to stop from happening (throwing an exception that doesn't properly convey the nature of the problem) isn't happening, and thus you should consider just telling the linter to stop whining... except for:</p>\n</li>\n<li><p>The second reason you want a proper exception type is that you really, really don't want code that intends to catch this to have to do string analysis on an exception message. Thus, if there's any world in which you can foresee that some code wants to invoke your method and then react to the condition (of trying to subtract more than available) in any way other than blowing up all context, then you should be throwing an exception that means this specific condition and nothing else. <code>RuntimeException</code> is <strong>never</strong> appropriate to catch if your intent is to catch a specific condition (it's pretty much never appropriate, period - sometimes you want to run code and react to any problem regardless of its nature, but then <code>catch (Exception e)</code> is the appropriate catch block, or even <code>Throwable</code>. e.g. appservers and the like should be doing this.</p>\n</li>\n</ol>\n<h2><code>IllegalArgumentException</code></h2>\n<p>The linters won't be yelling, but you're still not really getting the secondary benefit (that is, allow callers to catch this specific problem and not some other problem with the arguments). It's also 'mentally' slightly dubious: Your reasons for initially disregarding it are not wrong. Generally IAEs are understood to imply that the illegal argument is illegal regardless of the state of this object. But this isn't written in IAE's javadoc and isn't universally applied.</p>\n<p>So, downsides are:</p>\n<ul>\n<li>It's a bit of a push to force callers to <code>catch (IllegalArgumentException e)</code> to deal with wanting to react to subtracting more than is there. IAE is still too 'general'.</li>\n<li>It could be lightly confusing.</li>\n</ul>\n<p>Upside is simply:</p>\n<ul>\n<li>It's already there.</li>\n</ul>\n<h2><code>IllegalStateException</code></h2>\n<p>I think this is strictly worse than IAE. It's mostly the same story, except here the confusion is that ISE is usually used to flag that the current state of the object is such that the operation you are trying to call is simply not available. In a tweaked way that's actually true (the object's state is that there are 3 items; therefore it is not in a state that <code>decreaseQuantity(5)</code> is an available operation right now), but it feels more confusing than IAE: ISE feels like the Product object itself is in an invalid state. I'd be assuming that the product is a legacy product that is not now or will ever be in stock again, or is some dummy product type (a Product object representing 'unknown product' or something similarly exotic).</p>\n<p>But, same deal with IAE: The javadoc of ISE doesn't specifically spell out that you couldn't do it. Hence, if you would prefer to throw this, you could, it's not provably incorrect, at worst it's simply bad code style. A linter tool is never going to fault you for it, or if it does, the linter tool is wrong.</p>\n<h2>write your own</h2>\n<p>Advantages:</p>\n<ul>\n<li>There's no chance that users of your library bring faulty assumptions (that IAE means: Argument is illegal regardless of state); that makes it less confusing.</li>\n<li>If code intends to call your method and write a catch clause specifically for the condition of removing more than is there, then this is definitely the nicest answer. This:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  product.decreaseQuantity(5);\n} catch (QuantityInsufficientException e) {\n  ui.showOrderingError(&quot;Regretfully we don't have this item in stock at the quantity you want&quot;);\n}\n</code></pre>\n<p>Is slightly more readable than <code>catch (IllegalArgumentException)</code>, and more importantly, is more reliable: IAE is such an oft-used exception that you're going to one day edit the <code>decreaseQuantity</code> method and introduce a code path that throws IAE for some other reason and now you have a very hard to find bug.</p>\n<h2>Conclusion</h2>\n<p>I'd be writing your own. Yes, it's a bit of a drag to have to write the source file, but you can let your IDE (or <a href=\"https://projectlombok.org/features/experimental/StandardException\" rel=\"noreferrer\">Project Lombok</a> for maximum boilerplate busting) generate the entire file and you probably never have to look at <code>InsufficientQuantityException.java</code> ever again.</p>\n"}],"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70496412,"answer_count":2,"score":1,"last_activity_date":1659363547,"creation_date":1640609696,"question_id":70495777,"body_markdown":"Consider a `Product` with a `quantity` which can be increased and decreased by a given `amount`. The quantity should never become negative and if it is going to happen, the operation must be prohibited and the user warned.\r\n\r\n    public class Product{\r\n    \t\r\n    \tprivate int quantity;\r\n    \t\r\n    \tpublic Product() {\r\n    \t\tquantity = 10;\r\n    \t}\r\n    \t\r\n    \tpublic void decreaseQuantity(int amount) {\r\n    \t\tint decreasedQuantity = quantity - amount;\r\n    \t\tif(decreasedQuantity &lt; 0 )\r\n    \t\t\tthrow new RuntimeException(String.format(&quot;Decrease quantity (%s) exceeds avaiable quantity (%s)&quot;,\r\n    \t\t\t\t\tamount, quantity));\r\n    \t\t\r\n    \t\tquantity = decreasedQuantity;\r\n    \t}\r\n    }\r\n\r\nFor example if a product has quantity 10 and I try to remove 20, I throw a RuntimeException. SonarCloud suggests to replace the RuntimeException with a Custom exception, but I was wondering if there is a standard exception suitable for this case (*Effective Java: Favor The Use of Standard Exceptions*).\r\n\r\nThe most suitable exception seems to be `IllegalStateException`. From the javadoc\r\n&gt; Signals that a method has been invoked at an illegal or inappropriate time. In other words, the Java environment or Java application is not in an appropriate state for the requested operation.\r\n\r\nand from Effective Java\r\n\r\n&gt; IllegalStateException: This exception is used if, when a method is called, the state of the object is not valid for that operation. Potentially you have a filehandle and you call read before it has been opened.\r\n\r\nHowever, it seems to me that there is a subtle difference between my example and what is assumed in the docs: it is not the state of the object **itself** that makes the operation illegal, it&#39;s the state of the object **and** the value of the input parameter. Reading usage examples (like https://stackoverflow.com/questions/12698275/whats-the-intended-use-of-illegalstateexception) the object is always in a state where the operation is rejected regardless of the input parameter.\r\n","title":"What exception to throw if an operation would bring the object into an illegal state?","body":"<p>Consider a <code>Product</code> with a <code>quantity</code> which can be increased and decreased by a given <code>amount</code>. The quantity should never become negative and if it is going to happen, the operation must be prohibited and the user warned.</p>\n<pre><code>public class Product{\n    \n    private int quantity;\n    \n    public Product() {\n        quantity = 10;\n    }\n    \n    public void decreaseQuantity(int amount) {\n        int decreasedQuantity = quantity - amount;\n        if(decreasedQuantity &lt; 0 )\n            throw new RuntimeException(String.format(&quot;Decrease quantity (%s) exceeds avaiable quantity (%s)&quot;,\n                    amount, quantity));\n        \n        quantity = decreasedQuantity;\n    }\n}\n</code></pre>\n<p>For example if a product has quantity 10 and I try to remove 20, I throw a RuntimeException. SonarCloud suggests to replace the RuntimeException with a Custom exception, but I was wondering if there is a standard exception suitable for this case (<em>Effective Java: Favor The Use of Standard Exceptions</em>).</p>\n<p>The most suitable exception seems to be <code>IllegalStateException</code>. From the javadoc</p>\n<blockquote>\n<p>Signals that a method has been invoked at an illegal or inappropriate time. In other words, the Java environment or Java application is not in an appropriate state for the requested operation.</p>\n</blockquote>\n<p>and from Effective Java</p>\n<blockquote>\n<p>IllegalStateException: This exception is used if, when a method is called, the state of the object is not valid for that operation. Potentially you have a filehandle and you call read before it has been opened.</p>\n</blockquote>\n<p>However, it seems to me that there is a subtle difference between my example and what is assumed in the docs: it is not the state of the object <strong>itself</strong> that makes the operation illegal, it's the state of the object <strong>and</strong> the value of the input parameter. Reading usage examples (like <a href=\"https://stackoverflow.com/questions/12698275/whats-the-intended-use-of-illegalstateexception\">What&#39;s the intended use of IllegalStateException?</a>) the object is always in a state where the operation is rejected regardless of the input parameter.</p>\n"},{"tags":["java","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659363510,"creation_date":1659363510,"answer_id":73195119,"question_id":73159193,"body_markdown":"You can simply create a new object and make that the key. For example, \r\n\r\n    public class MyKey implements Serializable {\r\n        private String measurementType;\r\n        private String device;\r\n    }\r\n\r\nAnd then generate and output `KV`s of type `MyKey` from your `KvByMeasurementType`.\r\n\r\nAlso, define a Beam [CombineFn][1] that performs the combining based on this key. See [here][2] for more information on the Beam&#39;s `Combine` transform.\r\n\r\n \r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/transforms/Combine.CombineFn.html\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#combine","title":"Apache Beam Combine.perKey using a compound key","body":"<p>You can simply create a new object and make that the key. For example,</p>\n<pre><code>public class MyKey implements Serializable {\n    private String measurementType;\n    private String device;\n}\n</code></pre>\n<p>And then generate and output <code>KV</code>s of type <code>MyKey</code> from your <code>KvByMeasurementType</code>.</p>\n<p>Also, define a Beam <a href=\"https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/transforms/Combine.CombineFn.html\" rel=\"nofollow noreferrer\">CombineFn</a> that performs the combining based on this key. See <a href=\"https://beam.apache.org/documentation/programming-guide/#combine\" rel=\"nofollow noreferrer\">here</a> for more information on the Beam's <code>Combine</code> transform.</p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73195119,"answer_count":1,"score":2,"last_activity_date":1659363510,"creation_date":1659042554,"question_id":73159193,"body_markdown":"I want to combine Measurements by type and device name. \r\n\r\n    public class Measurement implements Serializable {\r\n        private String measurementType;\r\n        private String device;\r\n        private Long ts;\r\n        private Double reading;\r\n    }\r\n\r\nI am doing an average with `Combine.perKey(...)` successfully by the type. But I want to have basically a compound key of device and measurementType.\r\n\r\nRight now my KvDoFn looks like this:\r\n\r\n    public class KvByMeasurementType extends DoFn&lt;Measurement, KV&lt;String, Measurement&gt;&gt; implements Serializable {\r\n    @DoFn.ProcessElement\r\n        public void processElement(DoFn&lt;Measurement, KV&lt;String, Measurement&gt;&gt;.ProcessContext context) {\r\n            Measurement measurement = context.element();\r\n            context.output(KV.of(measurement.getMeasurementType(), measurement));\r\n        }\r\n    }\r\n\r\nHow to extend it to create a compound key of two values?","title":"Apache Beam Combine.perKey using a compound key","body":"<p>I want to combine Measurements by type and device name.</p>\n<pre><code>public class Measurement implements Serializable {\n    private String measurementType;\n    private String device;\n    private Long ts;\n    private Double reading;\n}\n</code></pre>\n<p>I am doing an average with <code>Combine.perKey(...)</code> successfully by the type. But I want to have basically a compound key of device and measurementType.</p>\n<p>Right now my KvDoFn looks like this:</p>\n<pre><code>public class KvByMeasurementType extends DoFn&lt;Measurement, KV&lt;String, Measurement&gt;&gt; implements Serializable {\n@DoFn.ProcessElement\n    public void processElement(DoFn&lt;Measurement, KV&lt;String, Measurement&gt;&gt;.ProcessContext context) {\n        Measurement measurement = context.element();\n        context.output(KV.of(measurement.getMeasurementType(), measurement));\n    }\n}\n</code></pre>\n<p>How to extend it to create a compound key of two values?</p>\n"},{"tags":["java","android-studio","bluetooth","android-bluetooth","android-hardware"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658336815,"post_id":73054745,"comment_id":129028903,"body_markdown":"Try looking at [Find Bluetooth devices](https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices).","body":"Try looking at <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices\" rel=\"nofollow noreferrer\">Find Bluetooth devices</a>."},{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1659097540,"post_id":73054745,"comment_id":129220644,"body_markdown":"Please post samples of your code to get some help. Can you also provide stacktrace and details about the error you get ?","body":"Please post samples of your code to get some help. Can you also provide stacktrace and details about the error you get ?"},{"owner":{"account_id":25855140,"reputation":11,"user_id":19588541,"display_name":"JustAnAmateurCoder"},"score":0,"creation_date":1659363465,"post_id":73054745,"comment_id":129270637,"body_markdown":"@matdev i have updated my codes. Please take a look and advise accordingly it would mean alot to me thank you","body":"@matdev i have updated my codes. Please take a look and advise accordingly it would mean alot to me thank you"},{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1659431562,"post_id":73054745,"comment_id":129287531,"body_markdown":"Does your app enter your onReceive() method ? Any error log ?","body":"Does your app enter your onReceive() method ? Any error log ?"},{"owner":{"account_id":25855140,"reputation":11,"user_id":19588541,"display_name":"JustAnAmateurCoder"},"score":0,"creation_date":1659532452,"post_id":73054745,"comment_id":129317106,"body_markdown":"@matdev yes i did. I happened to remove that string of code because its not working","body":"@matdev yes i did. I happened to remove that string of code because its not working"}],"owner":{"account_id":25855140,"reputation":11,"user_id":19588541,"display_name":"JustAnAmateurCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659363424,"creation_date":1658332627,"question_id":73054745,"body_markdown":"I have an assignment where I&#39;m required to create a Mobile Application via Android Studios and one part of the aspect is to allow the phone to scan for nearby Bluetooth-enabled devices and retrieve the hardware of the device after the scan was performed. So far I have come across some sources in StackOverflow and tried to implement it myself but it couldn&#39;t work. Could you guys please advise accordingly on what should i do? I am using Java and not Kotlin.\r\n\r\nI want to make a bluetooth scanner with scanning function and listing down devices scanned with their hardware names, model number and manufacturer name displayed. Please advise accordingly thank you so much.\r\n\r\nThis is my code snippet for Java Class (I am referencing from Programming Experts in Youtube) \r\n\r\n    package com.example.bluetoothvulnerabilityscanner;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.Manifest;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.IntentFilter;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n                                                                                                                \r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n\r\n    import android.view.View;\r\n\r\n\r\n    public class ScanAroundDevices extends AppCompatActivity {\r\n\r\n    BluetoothAdapter bluetoothAdapter;\r\n    ArrayAdapter&lt;String&gt; arrayAdapter;\r\n    ArrayList arrayList;\r\n    ListView 11;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan_around_devices);\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        11 = (ListView) findViewById(R.id.listView);\r\n        arrayList = new ArrayList();\r\n\r\n        arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, arrayList);\r\n        11. setAdapter(arrayAdapter);\r\n\r\n        findPairedDevices();\r\n    }\r\n\r\n    private void findPairedDevices() {\r\n        int index = 0;\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        Set&lt;BluetoothDevice&gt; bluetoothSet = bluetoothAdapter.getBondedDevices();\r\n        String[] str = new String[bluetoothSet.size()];\r\n\r\n        if (bluetoothSet.size() &gt; 0) {\r\n            for (BluetoothDevice device : bluetoothSet) {\r\n                str[index] = device.getName();\r\n                index++;\r\n            }\r\n\r\n            arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, str);\r\n            11. setAdapter(arrayAdapter);\r\n        }\r\n\r\n    }\r\n\r\n    private void setAdapter(ArrayAdapter&lt;String&gt; arrayAdapter) {\r\n    }\r\n\r\n    public void discoverDevices(View v) {\r\n        bluetoothAdapter.startDiscovery();\r\n    }\r\n\r\n    BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                arrayList.add(device.getName());\r\n                arrayAdapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        IntentFilter intentFilter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n        registerReceiver(broadcastReceiver.intentFilter);\r\n\r\n    }\r\n\r\n    public void on(View v) {\r\n        if (bluetoothAdapter == null) {\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled currently.&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            if (bluetoothAdapter.isEnabled()) {\r\n                Intent i = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                startActivityForResult(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, Intent data) {\r\n        if (requestCode == 1) {\r\n            if (resultCode == RESULT_OK) {\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth Enabled&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Error. Please Check Your Bluetooth.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    public void off(View v) {\r\n        if (bluetoothAdapter.isEnabled()) {\r\n            Intent i = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            startActivities(i,1);\r\n        }\r\n    }\r\n\r\n    private void startActivities(Intent i, int i1) {\r\n    }\r\n\r\n\r\n\r\nand this is for my XML file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ScanAroundDevices&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:text=&quot;ON&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignTop=&quot;@+id/btn1&quot;\r\n        android:text=&quot;OFF&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n","title":"How to create a Bluetooth scanner in Android Studios and retrieving the scanned devices&#39; hardware information","body":"<p>I have an assignment where I'm required to create a Mobile Application via Android Studios and one part of the aspect is to allow the phone to scan for nearby Bluetooth-enabled devices and retrieve the hardware of the device after the scan was performed. So far I have come across some sources in StackOverflow and tried to implement it myself but it couldn't work. Could you guys please advise accordingly on what should i do? I am using Java and not Kotlin.</p>\n<p>I want to make a bluetooth scanner with scanning function and listing down devices scanned with their hardware names, model number and manufacturer name displayed. Please advise accordingly thank you so much.</p>\n<p>This is my code snippet for Java Class (I am referencing from Programming Experts in Youtube)</p>\n<pre><code>package com.example.bluetoothvulnerabilityscanner;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\n                                                                                                            \nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\n\nimport android.view.View;\n\n\npublic class ScanAroundDevices extends AppCompatActivity {\n\nBluetoothAdapter bluetoothAdapter;\nArrayAdapter&lt;String&gt; arrayAdapter;\nArrayList arrayList;\nListView 11;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_scan_around_devices);\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    11 = (ListView) findViewById(R.id.listView);\n    arrayList = new ArrayList();\n\n    arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, arrayList);\n    11. setAdapter(arrayAdapter);\n\n    findPairedDevices();\n}\n\nprivate void findPairedDevices() {\n    int index = 0;\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n    Set&lt;BluetoothDevice&gt; bluetoothSet = bluetoothAdapter.getBondedDevices();\n    String[] str = new String[bluetoothSet.size()];\n\n    if (bluetoothSet.size() &gt; 0) {\n        for (BluetoothDevice device : bluetoothSet) {\n            str[index] = device.getName();\n            index++;\n        }\n\n        arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1, str);\n        11. setAdapter(arrayAdapter);\n    }\n\n}\n\nprivate void setAdapter(ArrayAdapter&lt;String&gt; arrayAdapter) {\n}\n\npublic void discoverDevices(View v) {\n    bluetoothAdapter.startDiscovery();\n}\n\nBroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            arrayList.add(device.getName());\n            arrayAdapter.notifyDataSetChanged();\n        }\n    }\n};\n\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    IntentFilter intentFilter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n    registerReceiver(broadcastReceiver.intentFilter);\n\n}\n\npublic void on(View v) {\n    if (bluetoothAdapter == null) {\n        Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled currently.&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        if (bluetoothAdapter.isEnabled()) {\n            Intent i = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            startActivityForResult(i, 1);\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, Intent data) {\n    if (requestCode == 1) {\n        if (resultCode == RESULT_OK) {\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth Enabled&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;Error. Please Check Your Bluetooth.&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\npublic void off(View v) {\n    if (bluetoothAdapter.isEnabled()) {\n        Intent i = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        startActivities(i,1);\n    }\n}\n\nprivate void startActivities(Intent i, int i1) {\n}\n</code></pre>\n<p>and this is for my XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.ScanAroundDevices&quot;&gt;\n\n&lt;Button\n    android:id=&quot;@+id/btn1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:text=&quot;ON&quot;/&gt;\n\n&lt;Button\n    android:id=&quot;@+id/btn2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_alignTop=&quot;@+id/btn1&quot;\n    android:text=&quot;OFF&quot;/&gt;\n</code></pre>\n\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1527008988,"post_id":50472957,"comment_id":87959834,"body_markdown":"Without knowing the stack, it&#39;s hard to tell. What is the Java-side server (Netty ? Tomcat ? a fully fledged Weblogic ?), what is the typical unit of work (file parsing ? DB requests ?), how do the layers connect (DB connection pool ?)... What are the sizes of each pools ?  Is there any locking taking place ? Is there I/O bound activity (file system or /dev/random and the like ?) ? &quot;Blackbox&quot; performance monitoring is near impossible. Although it seems reasonnable, given your figures, to rule out a pure garbage collection related issue.","body":"Without knowing the stack, it&#39;s hard to tell. What is the Java-side server (Netty ? Tomcat ? a fully fledged Weblogic ?), what is the typical unit of work (file parsing ? DB requests ?), how do the layers connect (DB connection pool ?)... What are the sizes of each pools ?  Is there any locking taking place ? Is there I/O bound activity (file system or /dev/random and the like ?) ? &quot;Blackbox&quot; performance monitoring is near impossible. Although it seems reasonnable, given your figures, to rule out a pure garbage collection related issue."},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":0,"creation_date":1527010380,"post_id":50472957,"comment_id":87960480,"body_markdown":"Java app is written in Vert.x (based on Netty). Everything is written in non-blocking fashion. Server does a very simple Redis query, writes a single line to a text file and returns an HTTP response.","body":"Java app is written in Vert.x (based on Netty). Everything is written in non-blocking fashion. Server does a very simple Redis query, writes a single line to a text file and returns an HTTP response."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1527060755,"post_id":50472957,"comment_id":87977679,"body_markdown":"Thanks... What is the redis&#39;s connection library ? Blocking ? Non blocking ? How is file I/O handled (all write to the same file with a lock ?). In a word, is it all REALLY non-blocking or is it &quot;written in a non blocking fashion&quot;. E.g. non blocking file IO is rare, non blocking redis driver connection is not the default. There is &quot;nothing worse&quot; than taking a non-blocking server such as Vert.x and pass control to blocking code. You often end up blocking the server. You have to &quot;open the box&quot; to tell.","body":"Thanks... What is the redis&#39;s connection library ? Blocking ? Non blocking ? How is file I/O handled (all write to the same file with a lock ?). In a word, is it all REALLY non-blocking or is it &quot;written in a non blocking fashion&quot;. E.g. non blocking file IO is rare, non blocking redis driver connection is not the default. There is &quot;nothing worse&quot; than taking a non-blocking server such as Vert.x and pass control to blocking code. You often end up blocking the server. You have to &quot;open the box&quot; to tell."},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":0,"creation_date":1527107325,"post_id":50472957,"comment_id":88006707,"body_markdown":"I&#39;m using vertx-redis-client to access Redis. The app is really simple... I agree that it&#39;s easy to blocking operations that are hidden inside some library or API. I wouldn&#39;t have thought my app would scale as much as it has without non-blocking. I&#39;m trying to rewrite in raw Netty and writing my own simple non-blocking Redis client.","body":"I&#39;m using vertx-redis-client to access Redis. The app is really simple... I agree that it&#39;s easy to blocking operations that are hidden inside some library or API. I wouldn&#39;t have thought my app would scale as much as it has without non-blocking. I&#39;m trying to rewrite in raw Netty and writing my own simple non-blocking Redis client."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527009009,"creation_date":1527009009,"answer_id":50473125,"question_id":50472957,"body_markdown":"Your webapp will use a thread (borrowed from thread pool) to server one request.\r\n\r\nUnder stress load, many threads are created, if the number of requests exceed the capacity of the pool, they have to queue, waiting till a thread is available again from pool.\r\n\r\nIf your service is not run fast enough, (especially you&#39;re doing IO - open file), the wait time is increase, lead to slow response.\r\n\r\nCPU has to switch between many threads hence the CPU will spike under load.\r\n\r\nThat&#39;s why they need a load balancing and many webapp to server as a service. The stress load is distributed to many subwebapp which improve the end user experience","title":"Java Service: What Causes Latency Response Time Spike?","body":"<p>Your webapp will use a thread (borrowed from thread pool) to server one request.</p>\n\n<p>Under stress load, many threads are created, if the number of requests exceed the capacity of the pool, they have to queue, waiting till a thread is available again from pool.</p>\n\n<p>If your service is not run fast enough, (especially you're doing IO - open file), the wait time is increase, lead to slow response.</p>\n\n<p>CPU has to switch between many threads hence the CPU will spike under load.</p>\n\n<p>That's why they need a load balancing and many webapp to server as a service. The stress load is distributed to many subwebapp which improve the end user experience</p>\n"},{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527009098,"creation_date":1527009098,"answer_id":50473166,"question_id":50472957,"body_markdown":"The usual approach to diagnostic is to create load with JMeter and investigate results with Java VisualVM, Eclipse memory analyzer and so on. I don&#39;t know whether you have tried it.","title":"Java Service: What Causes Latency Response Time Spike?","body":"<p>The usual approach to diagnostic is to create load with JMeter and investigate results with Java VisualVM, Eclipse memory analyzer and so on. I don't know whether you have tried it.</p>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659363371,"creation_date":1527008326,"question_id":50472957,"body_markdown":"I have a very simple Java REST service. At lower traffic volumes, the service runs perfectly with response times of ~1ms and zero server backlog.\r\n\r\nWhen traffic rises past a certain threshold the response times skyrocket from 1ms to 2.0 seconds, the http active session queue and open file counts spike, and the server is performing unacceptably. I posted a metrics graph of a typical six hour window where traffic starts low and goes above the problem threshold.\r\n\r\nAny ideas on what could be causing this or how to diagnose further?\r\n\r\n[![cpu usage][1]][1]\r\n[![jvm memory usage][2]][2]\r\n[![open files][3]][3]\r\n[![jvm memory use by pool][4]][4]\r\n[![http response time][5]][5]\r\n[![http traffic level][6]][6]\r\n[![http sessions][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6R6j.png\r\n  [2]: https://i.stack.imgur.com/J27c8.png\r\n  [3]: https://i.stack.imgur.com/KjjJH.png\r\n  [4]: https://i.stack.imgur.com/kHEU0.png\r\n  [5]: https://i.stack.imgur.com/cdjN9.png\r\n  [6]: https://i.stack.imgur.com/4uDEg.png\r\n  [7]: https://i.stack.imgur.com/1w829.png","title":"Java Service: What Causes Latency Response Time Spike?","body":"<p>I have a very simple Java REST service. At lower traffic volumes, the service runs perfectly with response times of ~1ms and zero server backlog.</p>\n\n<p>When traffic rises past a certain threshold the response times skyrocket from 1ms to 2.0 seconds, the http active session queue and open file counts spike, and the server is performing unacceptably. I posted a metrics graph of a typical six hour window where traffic starts low and goes above the problem threshold.</p>\n\n<p>Any ideas on what could be causing this or how to diagnose further?</p>\n\n<p><a href=\"https://i.stack.imgur.com/k6R6j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6R6j.png\" alt=\"cpu usage\"></a>\n<a href=\"https://i.stack.imgur.com/J27c8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J27c8.png\" alt=\"jvm memory usage\"></a>\n<a href=\"https://i.stack.imgur.com/KjjJH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KjjJH.png\" alt=\"open files\"></a>\n<a href=\"https://i.stack.imgur.com/kHEU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHEU0.png\" alt=\"jvm memory use by pool\"></a>\n<a href=\"https://i.stack.imgur.com/cdjN9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdjN9.png\" alt=\"http response time\"></a>\n<a href=\"https://i.stack.imgur.com/4uDEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4uDEg.png\" alt=\"http traffic level\"></a>\n<a href=\"https://i.stack.imgur.com/1w829.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1w829.png\" alt=\"http sessions\"></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659363242,"creation_date":1659362353,"answer_id":73194872,"question_id":73194550,"body_markdown":"Basically, none of your approaches is not correct. But your requirement that the timer (the clock) should be secured from external manipulation means that only the version based on `System::nanoTime` is valid.\r\n\r\nAlso your statement that the version based on `Instant` is easiest to understand is true. So combine the two: \r\n\r\nCreate your own implementation of `java.time.Clock` that uses `System::nanoTime` to return an instance of `Instant` through `Clock::instant`.\r\n\r\nThen you use your third option:\r\n\r\n```java\r\npublic class YourClass\r\n{\r\n  static Clock m_TheClock = new YourClock();\r\n  /*\r\n   * For test purposes: YourClass.m_TheClock = Clock.fixed( … );\r\n   */\r\n  public static final Duration TIMEOUT_VALUE = Duration.ofSeconds( 1 );\r\n  \r\n  …\r\n  var limit = Instant.now( m_TheClock ).plus( TIMEOUT_VALUE );\r\n  ForeverLoop: while( true )\r\n  {\r\n    // do some actions …\r\n    if( Instant.now( m_TheClock ).isAfter( limit ) ) break ForeverLoop;\r\n  }  //  ForeverLoop:\r\n}\r\n```\r\n\r\nAs you implemented the clock yourself, it is safe from manipulation from the outside (clock adjustments, daylight savings time switching …), and for testing purposes, you can provide a clock that responds according to you testing needs (seconds that take ages, or will lapse in no time …)\r\n\r\nAn implementation of `Clock::instant` could look like this:\r\n```java\r\n@Override\r\npublic final Instant instant()\r\n{\r\n  var nanoTime = System.nanoTime();\r\n  var epochSecond = nanoTime / 1_000_000_000;\r\n  var nanoAdjustment = nanoTime % 1_000_000_000;\r\n  var retValue = Instant.ofEpochSecond( epochSecond, nanoAdjustment );\r\n  \r\n  return retValue;\r\n} \r\n```\r\n\r\nOf course, the `Instant` returned by this method does not have much in common with the current time, but for the calculation of the timeout expiration it is more than sufficient.","title":"Correct way to measure a timeout in Java 8 time API","body":"<p>Basically, none of your approaches is not correct. But your requirement that the timer (the clock) should be secured from external manipulation means that only the version based on <code>System::nanoTime</code> is valid.</p>\n<p>Also your statement that the version based on <code>Instant</code> is easiest to understand is true. So combine the two:</p>\n<p>Create your own implementation of <code>java.time.Clock</code> that uses <code>System::nanoTime</code> to return an instance of <code>Instant</code> through <code>Clock::instant</code>.</p>\n<p>Then you use your third option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClass\n{\n  static Clock m_TheClock = new YourClock();\n  /*\n   * For test purposes: YourClass.m_TheClock = Clock.fixed( … );\n   */\n  public static final Duration TIMEOUT_VALUE = Duration.ofSeconds( 1 );\n  \n  …\n  var limit = Instant.now( m_TheClock ).plus( TIMEOUT_VALUE );\n  ForeverLoop: while( true )\n  {\n    // do some actions …\n    if( Instant.now( m_TheClock ).isAfter( limit ) ) break ForeverLoop;\n  }  //  ForeverLoop:\n}\n</code></pre>\n<p>As you implemented the clock yourself, it is safe from manipulation from the outside (clock adjustments, daylight savings time switching …), and for testing purposes, you can provide a clock that responds according to you testing needs (seconds that take ages, or will lapse in no time …)</p>\n<p>An implementation of <code>Clock::instant</code> could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic final Instant instant()\n{\n  var nanoTime = System.nanoTime();\n  var epochSecond = nanoTime / 1_000_000_000;\n  var nanoAdjustment = nanoTime % 1_000_000_000;\n  var retValue = Instant.ofEpochSecond( epochSecond, nanoAdjustment );\n  \n  return retValue;\n} \n</code></pre>\n<p>Of course, the <code>Instant</code> returned by this method does not have much in common with the current time, but for the calculation of the timeout expiration it is more than sufficient.</p>\n"}],"owner":{"account_id":2835372,"reputation":3240,"user_id":2436083,"accept_rate":45,"display_name":"fbenoit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659363242,"creation_date":1659360942,"question_id":73194550,"body_markdown":"In Java....\r\nWhat is an easy, understandable and correct way to measure a timeout in the presence of time corrections (e.g. the system clock is adjusted to a central clock).\r\n\r\n````\r\nlong limit = System.currentMillis() + Duration.ofSeconds(1).toMillis();\r\nwhile( true ){\r\n    // do some actions\r\n    if( limit &lt;= System.currentMillis())\r\n        break; // timeout\r\n}\r\n````\r\nThis code is *not* robust, because if the system&#39;s clock is adjusted in parallel, the timeout might be shorter/longer.\r\n\r\nBetter to use `System.nanoTime()`\r\n````\r\nlong limit = System.nanoTime() + Duration.ofSeconds(1).toNanos();\r\nwhile( true ){\r\n    // do some actions\r\n    if(( limit - System.nanoTime()) &gt; 0 )\r\n        break; // timeout\r\n}\r\n````\r\n\r\nNow it is agnostic to system clock adjustments.\r\n\r\nNow with `java.time` API\r\n\r\n````\r\nvar limit = Instant.now().plusSeconds(1);\r\nwhile( true ){\r\n    // do some actions\r\n    if( Instant.now().isAfter(limit) )\r\n        break; // timeout\r\n}\r\n````\r\n\r\nBetter readable as the `nanoTime()`, but again not stable for system clock adjustments.\r\nIs there a way to write it with `java.time` API, readable, easy, but be agnostic to system clock adjustment at the same time?\r\n\r\n\r\n","title":"Correct way to measure a timeout in Java 8 time API","body":"<p>In Java....\nWhat is an easy, understandable and correct way to measure a timeout in the presence of time corrections (e.g. the system clock is adjusted to a central clock).</p>\n<pre><code>long limit = System.currentMillis() + Duration.ofSeconds(1).toMillis();\nwhile( true ){\n    // do some actions\n    if( limit &lt;= System.currentMillis())\n        break; // timeout\n}\n</code></pre>\n<p>This code is <em>not</em> robust, because if the system's clock is adjusted in parallel, the timeout might be shorter/longer.</p>\n<p>Better to use <code>System.nanoTime()</code></p>\n<pre><code>long limit = System.nanoTime() + Duration.ofSeconds(1).toNanos();\nwhile( true ){\n    // do some actions\n    if(( limit - System.nanoTime()) &gt; 0 )\n        break; // timeout\n}\n</code></pre>\n<p>Now it is agnostic to system clock adjustments.</p>\n<p>Now with <code>java.time</code> API</p>\n<pre><code>var limit = Instant.now().plusSeconds(1);\nwhile( true ){\n    // do some actions\n    if( Instant.now().isAfter(limit) )\n        break; // timeout\n}\n</code></pre>\n<p>Better readable as the <code>nanoTime()</code>, but again not stable for system clock adjustments.\nIs there a way to write it with <code>java.time</code> API, readable, easy, but be agnostic to system clock adjustment at the same time?</p>\n"},{"tags":["java","mysql","vert.x"],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659363137,"creation_date":1659363137,"answer_id":73195044,"question_id":73190413,"body_markdown":"These two queries are different:\r\n\r\n    select * from myTable where someId in (&#39;123&#39;,&#39;456&#39;,&#39;789&#39;)\r\n    \r\n    select * from myTable where someId in (&#39;123,456,789&#39;)\r\n\r\nThe first query has a list of three discrete values. The second query has one value, a string that happens to contain commas.\r\n\r\nA parameter can only be used to substitute for a scalar value. So when you pass a string with commas as the value, it is as if you executed the second query I showed.\r\n\r\nTo get the result you want, you need multiple parameter placeholders:\r\n\r\n    select * from myTable where someId in (?, ?, ?)\r\n\r\nUse as many placeholders as the number of elements in the tuple.","title":"Vertx Mysql Client prepareQuery with in statement","body":"<p>These two queries are different:</p>\n<pre><code>select * from myTable where someId in ('123','456','789')\n\nselect * from myTable where someId in ('123,456,789')\n</code></pre>\n<p>The first query has a list of three discrete values. The second query has one value, a string that happens to contain commas.</p>\n<p>A parameter can only be used to substitute for a scalar value. So when you pass a string with commas as the value, it is as if you executed the second query I showed.</p>\n<p>To get the result you want, you need multiple parameter placeholders:</p>\n<pre><code>select * from myTable where someId in (?, ?, ?)\n</code></pre>\n<p>Use as many placeholders as the number of elements in the tuple.</p>\n"}],"owner":{"account_id":2890991,"reputation":2561,"user_id":2479786,"accept_rate":64,"display_name":"Ehud Lev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659363137,"creation_date":1659340090,"question_id":73190413,"body_markdown":"I am trying to execute query with vertx with in sql statement and I am failing to make it work. I don&#39;t understand how should I pass a collection of values\r\n\r\nhere is what I am trying to do:\r\n\r\n    MySQLConnectOptions connectOptions = new MySQLConnectOptions()\r\n                    .setPort(3306)\r\n                    .setHost(&quot;localhost&quot;)\r\n                    .setDatabase(&quot;innodb&quot;)\r\n                    .setUser(&quot;root&quot;)\r\n                    .setPassword(&quot;local1234&quot;);\r\n    \r\n    \r\n    \r\n            MySQLPool sqlPool = MySQLPool.pool(connectOptions, new PoolOptions());\r\n            PreparedQuery&lt;RowSet&lt;Row&gt;&gt; prepare = sqlPool.preparedQuery(\r\n                    &quot;select * from myTable where someId in (?)&quot;);\r\n            List&lt;String&gt; ids = List.of(&quot;someUniqueId&quot;, &quot;other&quot;);\r\n            Future&lt;RowSet&lt;Row&gt;&gt; execute = prepare.execute(Tuple.of(ids));\r\n            execute.onComplete(\r\n                    rows -&gt; System.out.println(rows.result().size())\r\n            );\r\n\r\nWhen running with one value without the in (?) it is working fine\r\nany ideas?","title":"Vertx Mysql Client prepareQuery with in statement","body":"<p>I am trying to execute query with vertx with in sql statement and I am failing to make it work. I don't understand how should I pass a collection of values</p>\n<p>here is what I am trying to do:</p>\n<pre><code>MySQLConnectOptions connectOptions = new MySQLConnectOptions()\n                .setPort(3306)\n                .setHost(&quot;localhost&quot;)\n                .setDatabase(&quot;innodb&quot;)\n                .setUser(&quot;root&quot;)\n                .setPassword(&quot;local1234&quot;);\n\n\n\n        MySQLPool sqlPool = MySQLPool.pool(connectOptions, new PoolOptions());\n        PreparedQuery&lt;RowSet&lt;Row&gt;&gt; prepare = sqlPool.preparedQuery(\n                &quot;select * from myTable where someId in (?)&quot;);\n        List&lt;String&gt; ids = List.of(&quot;someUniqueId&quot;, &quot;other&quot;);\n        Future&lt;RowSet&lt;Row&gt;&gt; execute = prepare.execute(Tuple.of(ids));\n        execute.onComplete(\n                rows -&gt; System.out.println(rows.result().size())\n        );\n</code></pre>\n<p>When running with one value without the in (?) it is working fine\nany ideas?</p>\n"},{"tags":["java","cart"],"comments":[{"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"score":2,"creation_date":1512452018,"post_id":47646681,"comment_id":82251902,"body_markdown":"please post your whole code with the printMenu()","body":"please post your whole code with the printMenu()"},{"owner":{"account_id":5242101,"reputation":874,"user_id":4188827,"display_name":"Santosh"},"score":0,"creation_date":1512452229,"post_id":47646681,"comment_id":82251962,"body_markdown":"Thats because your printMenu(ShoppingCart cart) is expecting an arugment of type ShoppingCart  but you are not sending it in your main. Change the printMenu in ShoppingCart as public static void printMenu().","body":"Thats because your printMenu(ShoppingCart cart) is expecting an arugment of type ShoppingCart  but you are not sending it in your main. Change the printMenu in ShoppingCart as public static void printMenu()."}],"answers":[{"tags":[],"owner":{"account_id":5892312,"reputation":963,"user_id":4638529,"display_name":"Wrokar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512452247,"creation_date":1512452247,"answer_id":47646744,"question_id":47646681,"body_markdown":"Your `printMenu` function is `static`, meaning you call it at the class level, and pass a `ShoppingCart` as an argument.\r\n\r\n    ShoppingCart.printMenu(cart);","title":"JAVA Shopping Cart Exercise Not Compiling When printMenu() Is Called","body":"<p>Your <code>printMenu</code> function is <code>static</code>, meaning you call it at the class level, and pass a <code>ShoppingCart</code> as an argument.</p>\n\n<pre><code>ShoppingCart.printMenu(cart);\n</code></pre>\n"}],"owner":{"account_id":12432679,"reputation":1,"user_id":9054341,"display_name":"Matthew Kenneth Williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659362695,"creation_date":1512451884,"question_id":47646681,"body_markdown":"I am working on an assignment in which I have to create a simple shopping cart with a menu. However, I am very stuck as I can&#39;t figure out why my printMenu() method will not compile. Aside from that, I feel pretty good about the rest of the code.  \r\n\r\nTo understand what exactly I&#39;m required to have/use for this assignment, I will have the instructions posted here: https://i.stack.imgur.com/1u3be.jpg\r\n\r\nThe actual code files can be found [here](https://pastebin.com/EJCwWeeV)\r\n\r\n    import java.util.Scanner;\r\n     \r\n    public class ShoppingCartManager\r\n    {\r\n     \r\n        public static void main(String[] args)\r\n        {\r\n            ShoppingCart cart = new ShoppingCart();\r\n            Scanner scnr = new Scanner(System.in);\r\n            \r\n            String customerName = &quot;none&quot;;\r\n            String currentDate = &quot;January 1, 2017&quot;;\r\n     \r\n            System.out.println(&quot;Enter Customer&#39;s Name:&quot;);\r\n            cart.setCustomerName(scnr.nextLine());\r\n            System.out.println(&quot;Enter Today&#39;s Date:&quot;);\r\n            cart.setDate(scnr.nextLine());\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Customer Name: &quot; + cart.getCustomerName());\r\n            System.out.println(&quot;Today&#39;s Date: &quot; + cart.getDate());\r\n        \r\n         cart.printMenu();\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"JAVA Shopping Cart Exercise Not Compiling When printMenu() Is Called","body":"<p>I am working on an assignment in which I have to create a simple shopping cart with a menu. However, I am very stuck as I can't figure out why my printMenu() method will not compile. Aside from that, I feel pretty good about the rest of the code.  </p>\n\n<p>To understand what exactly I'm required to have/use for this assignment, I will have the instructions posted here: <a href=\"https://i.stack.imgur.com/1u3be.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/1u3be.jpg</a></p>\n\n<p>The actual code files can be found <a href=\"https://pastebin.com/EJCwWeeV\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ShoppingCartManager\n{\n\n    public static void main(String[] args)\n    {\n        ShoppingCart cart = new ShoppingCart();\n        Scanner scnr = new Scanner(System.in);\n\n        String customerName = \"none\";\n        String currentDate = \"January 1, 2017\";\n\n        System.out.println(\"Enter Customer's Name:\");\n        cart.setCustomerName(scnr.nextLine());\n        System.out.println(\"Enter Today's Date:\");\n        cart.setDate(scnr.nextLine());\n        System.out.println(\"\");\n        System.out.println(\"Customer Name: \" + cart.getCustomerName());\n        System.out.println(\"Today's Date: \" + cart.getDate());\n\n     cart.printMenu();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","text-to-speech","jsapi"],"comments":[{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1269174154,"post_id":2486985,"comment_id":2479706,"body_markdown":"I have not used this in a long time.  But, did you put everything you need in your classpath?  Also from what I remember there was something you had to put in your home directory (this was an older version), that could be another reason for a problem (if you still need to do this).  Also, there may be other environment variables that you need to set, like did you have to set an MBROLA_HOME variable. Also Have you been able to run any of the sample programs that came with it?  \n\nIm sorry to keep asking questions, but they help narrow down the problem.","body":"I have not used this in a long time.  But, did you put everything you need in your classpath?  Also from what I remember there was something you had to put in your home directory (this was an older version), that could be another reason for a problem (if you still need to do this).  Also, there may be other environment variables that you need to set, like did you have to set an MBROLA_HOME variable. Also Have you been able to run any of the sample programs that came with it?    Im sorry to keep asking questions, but they help narrow down the problem."},{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":0,"creation_date":1269174299,"post_id":2486985,"comment_id":2479723,"body_markdown":"sorry a couple more, the line unavailable exception can be thrown when you are trying to play sounds at the same time, depending on what you did to play the files.  Can you show some of the code you are using to play the voice.","body":"sorry a couple more, the line unavailable exception can be thrown when you are trying to play sounds at the same time, depending on what you did to play the files.  Can you show some of the code you are using to play the voice."},{"owner":{"account_id":65097,"reputation":2357,"user_id":191799,"accept_rate":58,"display_name":"manugupt1"},"score":0,"creation_date":1269174643,"post_id":2486985,"comment_id":2479744,"body_markdown":"We need to copy speech.properties I already did that. However I am not able to bind the mbrola voice interfaces withmy program nor the default kevin speaker however I have included the kevin user in my program &#39;s classpath","body":"We need to copy speech.properties I already did that. However I am not able to bind the mbrola voice interfaces withmy program nor the default kevin speaker however I have included the kevin user in my program &#39;s classpath"}],"answers":[{"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1269202262,"creation_date":1269202262,"answer_id":2488530,"question_id":2486985,"body_markdown":"It seems that &quot;To enable FreeTTS support for MBROLA, merely copy mbrola/mbrola.jar to lib/mbrola.jar. Then, whenever you run any FreeTTS application, specify the &quot;mbrola.base&quot; directory as a system property:\r\n\r\n      java -Dmbrola.base=/home/jim/mbrola -jar bin/FreeTTSHelloWorld.jar mbrola_us1&quot;\r\n\r\nI found this at:\r\n\r\nhttp://freetts.sourceforge.net/mbrola/README.html\r\n","title":"Exception with Freetts when using kevin or mbrola","body":"<p>It seems that \"To enable FreeTTS support for MBROLA, merely copy mbrola/mbrola.jar to lib/mbrola.jar. Then, whenever you run any FreeTTS application, specify the \"mbrola.base\" directory as a system property:</p>\n\n<pre><code>  java -Dmbrola.base=/home/jim/mbrola -jar bin/FreeTTSHelloWorld.jar mbrola_us1\"\n</code></pre>\n\n<p>I found this at:</p>\n\n<p><a href=\"http://freetts.sourceforge.net/mbrola/README.html\" rel=\"nofollow noreferrer\">http://freetts.sourceforge.net/mbrola/README.html</a></p>\n"},{"tags":[],"owner":{"account_id":74597,"reputation":1368,"user_id":214260,"accept_rate":59,"display_name":"i30817"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319580882,"creation_date":1269409949,"answer_id":2505627,"question_id":2486985,"body_markdown":"The second phrase has nothing to do with mbrola, but with a horrendous java linux sound bug that is still not fixed. \r\nCheck the third post here:\r\nhttps://forums.oracle.com/forums/thread.jspa?threadID=2206163\r\n\r\nThat is happening because freetts &quot;trusts&quot; the sourcedataline, instead of doing the workaround on that post. The bug is in the jdk, but can be worked around by finding where in freetts that is happening and inserting the workaround &amp; recompiling.\r\n\r\nHere is a testcase\r\n\r\n    package util.speech;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.Locale;\r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.Mixer;\r\n    import javax.sound.sampled.SourceDataLine;\r\n    import org.junit.After;\r\n    import org.junit.AfterClass;\r\n    import org.junit.Assume;\r\n    import org.junit.Before;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.*;\r\n    \r\n    public class VoiceTest {\r\n    \r\n        \r\n    \r\n        public VoiceTest() {\r\n        }\r\n    \r\n        @BeforeClass\r\n        public static void setUpClass() throws Exception {\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void tearDownClass() throws Exception {\r\n        }\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            \r\n        }\r\n    \r\n        @After\r\n        public void tearDown() {\r\n        }\r\n    \r\n        @Test\r\n        public void testDataLineAvailableAndBuggyInJDK() throws LineUnavailableException {\r\n            boolean failedSimpleGetLine = false;\r\n            AudioFormat format = new AudioFormat(44100, 16, 2, true, false);\r\n            SourceDataLine line = null;\r\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n            try {\r\n                line = (SourceDataLine) AudioSystem.getLine(info);\r\n            } catch (LineUnavailableException e) {\r\n                //ok, at least it says so\r\n                throw e;\r\n            }\r\n            try {\r\n                //if this fails the jdk is very buggy, since it just told us\r\n                //the line was available\r\n                line.open(format);\r\n            } catch (LineUnavailableException e) {\r\n                failedSimpleGetLine = true;\r\n            } finally {\r\n                if (line.isOpen()) {\r\n                    line.close();\r\n                }\r\n            }\r\n    \r\n    \r\n    \r\n            //now if this is true, test if it&#39;s possible to get a valid sourcedataline\r\n            //or the only bug is adquiring a sourcedataline doesn&#39;t throw a lineunavailable\r\n            //exception before open\r\n            Assume.assumeTrue(failedSimpleGetLine);\r\n            line = getSourceDataLine(format);\r\n            if (line == null) {\r\n                return;\r\n            }\r\n    \r\n            try {\r\n                line.open(format);\r\n            } catch (LineUnavailableException e) {\r\n                //ok then it is consistent, and there is only one bug\r\n                fail(&quot;Line Unavailable after being adquired&quot;);\r\n            } finally {\r\n                if (line.isOpen()) {\r\n                    line.close();\r\n                }\r\n            }\r\n            fail(&quot;line available after first test not managing to adquire it&quot;);\r\n        }\r\n    \r\n    \r\n        private SourceDataLine getSourceDataLine(AudioFormat format) {\r\n            try {\r\n                DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n                for (Mixer.Info mi : AudioSystem.getMixerInfo()) {\r\n                    SourceDataLine dataline = null;\r\n                    try {\r\n                        Mixer mixer = AudioSystem.getMixer(mi);\r\n                        dataline = (SourceDataLine) mixer.getLine(info);\r\n                        dataline.open(format);\r\n                        dataline.start();\r\n                        return dataline;\r\n                    } catch (Exception e) {\r\n                    }\r\n                    if (dataline != null) {\r\n                        try {\r\n                            dataline.close();\r\n                        } catch (Exception e) {\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Exception with Freetts when using kevin or mbrola","body":"<p>The second phrase has nothing to do with mbrola, but with a horrendous java linux sound bug that is still not fixed. \nCheck the third post here:\n<a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2206163\" rel=\"nofollow noreferrer\">https://forums.oracle.com/forums/thread.jspa?threadID=2206163</a></p>\n\n<p>That is happening because freetts \"trusts\" the sourcedataline, instead of doing the workaround on that post. The bug is in the jdk, but can be worked around by finding where in freetts that is happening and inserting the workaround &amp; recompiling.</p>\n\n<p>Here is a testcase</p>\n\n<pre><code>package util.speech;\n\nimport java.util.Iterator;\nimport java.util.Locale;\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.Mixer;\nimport javax.sound.sampled.SourceDataLine;\nimport org.junit.After;\nimport org.junit.AfterClass;\nimport org.junit.Assume;\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport static org.junit.Assert.*;\n\npublic class VoiceTest {\n\n\n\n    public VoiceTest() {\n    }\n\n    @BeforeClass\n    public static void setUpClass() throws Exception {\n    }\n\n    @AfterClass\n    public static void tearDownClass() throws Exception {\n    }\n\n    @Before\n    public void setUp() {\n\n    }\n\n    @After\n    public void tearDown() {\n    }\n\n    @Test\n    public void testDataLineAvailableAndBuggyInJDK() throws LineUnavailableException {\n        boolean failedSimpleGetLine = false;\n        AudioFormat format = new AudioFormat(44100, 16, 2, true, false);\n        SourceDataLine line = null;\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n        try {\n            line = (SourceDataLine) AudioSystem.getLine(info);\n        } catch (LineUnavailableException e) {\n            //ok, at least it says so\n            throw e;\n        }\n        try {\n            //if this fails the jdk is very buggy, since it just told us\n            //the line was available\n            line.open(format);\n        } catch (LineUnavailableException e) {\n            failedSimpleGetLine = true;\n        } finally {\n            if (line.isOpen()) {\n                line.close();\n            }\n        }\n\n\n\n        //now if this is true, test if it's possible to get a valid sourcedataline\n        //or the only bug is adquiring a sourcedataline doesn't throw a lineunavailable\n        //exception before open\n        Assume.assumeTrue(failedSimpleGetLine);\n        line = getSourceDataLine(format);\n        if (line == null) {\n            return;\n        }\n\n        try {\n            line.open(format);\n        } catch (LineUnavailableException e) {\n            //ok then it is consistent, and there is only one bug\n            fail(\"Line Unavailable after being adquired\");\n        } finally {\n            if (line.isOpen()) {\n                line.close();\n            }\n        }\n        fail(\"line available after first test not managing to adquire it\");\n    }\n\n\n    private SourceDataLine getSourceDataLine(AudioFormat format) {\n        try {\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n            for (Mixer.Info mi : AudioSystem.getMixerInfo()) {\n                SourceDataLine dataline = null;\n                try {\n                    Mixer mixer = AudioSystem.getMixer(mi);\n                    dataline = (SourceDataLine) mixer.getLine(info);\n                    dataline.open(format);\n                    dataline.start();\n                    return dataline;\n                } catch (Exception e) {\n                }\n                if (dataline != null) {\n                    try {\n                        dataline.close();\n                    } catch (Exception e) {\n                    }\n                }\n            }\n        } catch (Exception e) {\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297984337,"creation_date":1297984337,"answer_id":5035887,"question_id":2486985,"body_markdown":"http://workorhobby.blogspot.com/2011/02/java-audio-freetts-line-unavailable.html\r\n\r\nA big thanks to the author.\r\n\r\n--------------\r\n\r\n\r\nA program based on FreeTTS, the free text-to-speech engine for Java, was getting occasional errors\r\n\r\n    &quot;LINE UNAVAILABLE: Format is ...&quot;\r\n\r\nTurns out there is no Java Exception or other mechanism to detect this error that occurs inside the FreeTTS library. All you get is the message on System.out, so there is no good way to react programatically.\r\n\r\nWorkaround: Configure the FreeTTS audio player to attempt accessing the audio device more than once until it succeeds. In this example, a short delay of 0.1 seconds is used to not miss an opportunity to grab the audio device; we keep trying for 30 seconds:\r\n\r\n    System.setProperty(&quot;com.sun.speech.freetts.audio.AudioPlayer.openFailDelayMs&quot;, &quot;100&quot;);\r\n    System.setProperty(&quot;com.sun.speech.freetts.audio.AudioPlayer.totalOpenFailDelayMs&quot;, &quot;30000&quot;);\r\n\r\nIf the audio device is permanently used by another program, there is of course no way to get access. Under Linux, this command will display the ID of the process that is currently holding the audio device, so you can then try to get rid of the offending program:\r\n\r\n    /sbin/fuser /dev/dsp","title":"Exception with Freetts when using kevin or mbrola","body":"<p><a href=\"http://workorhobby.blogspot.com/2011/02/java-audio-freetts-line-unavailable.html\" rel=\"nofollow\">http://workorhobby.blogspot.com/2011/02/java-audio-freetts-line-unavailable.html</a></p>\n\n<p>A big thanks to the author.</p>\n\n<hr>\n\n<p>A program based on FreeTTS, the free text-to-speech engine for Java, was getting occasional errors</p>\n\n<pre><code>\"LINE UNAVAILABLE: Format is ...\"\n</code></pre>\n\n<p>Turns out there is no Java Exception or other mechanism to detect this error that occurs inside the FreeTTS library. All you get is the message on System.out, so there is no good way to react programatically.</p>\n\n<p>Workaround: Configure the FreeTTS audio player to attempt accessing the audio device more than once until it succeeds. In this example, a short delay of 0.1 seconds is used to not miss an opportunity to grab the audio device; we keep trying for 30 seconds:</p>\n\n<pre><code>System.setProperty(\"com.sun.speech.freetts.audio.AudioPlayer.openFailDelayMs\", \"100\");\nSystem.setProperty(\"com.sun.speech.freetts.audio.AudioPlayer.totalOpenFailDelayMs\", \"30000\");\n</code></pre>\n\n<p>If the audio device is permanently used by another program, there is of course no way to get access. Under Linux, this command will display the ID of the process that is currently holding the audio device, so you can then try to get rid of the offending program:</p>\n\n<pre><code>/sbin/fuser /dev/dsp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499231370,"creation_date":1499231370,"answer_id":44917423,"question_id":2486985,"body_markdown":"I know i am posting it little late, but this may help someone. I tried with both  kevin and mbrola, and it worked for me. Please find the code below.\r\n\r\n        package com.mani.texttospeech;\r\n    \r\n    import java.beans.PropertyVetoException;\r\n    import java.util.Locale;\r\n    \r\n    import javax.speech.AudioException;\r\n    import javax.speech.Central;\r\n    import javax.speech.EngineException;\r\n    import javax.speech.EngineStateError;\r\n    import javax.speech.synthesis.Synthesizer;\r\n    import javax.speech.synthesis.SynthesizerModeDesc;\r\n    import javax.speech.synthesis.Voice;\r\n    \r\n    /**\r\n     *\r\n     * @author Manindar\r\n     */\r\n    public class SpeechUtils {\r\n    \r\n        SynthesizerModeDesc desc;\r\n        Synthesizer synthesizer;\r\n        Voice voice;\r\n    \r\n        public void init(String voiceName) throws EngineException, AudioException, EngineStateError, PropertyVetoException {\r\n            if (desc == null) {\r\n                System.setProperty(&quot;freetts.voices&quot;, &quot;com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory&quot;);\r\n                desc = new SynthesizerModeDesc(Locale.US);\r\n                Central.registerEngineCentral(&quot;com.sun.speech.freetts.jsapi.FreeTTSEngineCentral&quot;);\r\n                synthesizer = Central.createSynthesizer(desc);\r\n                synthesizer.allocate();\r\n                synthesizer.resume();\r\n                SynthesizerModeDesc smd = (SynthesizerModeDesc) synthesizer.getEngineModeDesc();\r\n                Voice[] voices = smd.getVoices();\r\n                for (Voice voice1 : voices) {\r\n                    if (voice1.getName().equals(voiceName)) {\r\n                        voice = voice1;\r\n                        break;\r\n                    }\r\n                }\r\n                synthesizer.getSynthesizerProperties().setVoice(voice);\r\n            }\r\n        }\r\n    \r\n        public void terminate() throws EngineException, EngineStateError {\r\n            synthesizer.deallocate();\r\n        }\r\n    \r\n        public void doSpeak(String speakText) throws EngineException, AudioException, IllegalArgumentException, InterruptedException {\r\n            synthesizer.speakPlainText(speakText, null);\r\n            synthesizer.waitEngineState(Synthesizer.QUEUE_EMPTY);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpeechUtils su = new SpeechUtils();\r\n            su.init(&quot;kevin16&quot;);\r\n    //        su.init(&quot;kevin&quot;);\r\n    //        su.init(&quot;mbrola_us1&quot;);\r\n    //        su.init(&quot;mbrola_us2&quot;);\r\n    //        su.init(&quot;mbrola_us3&quot;);\r\n            // high quality\r\n            su.doSpeak(&quot;Hi this is Manindar. Welcome to audio world.&quot;);\r\n            su.terminate();\r\n        }\r\n    }\r\n\r\nAnd add the below dependencies to your **pom.xml** file.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.sociaal&lt;/groupId&gt;\r\n                &lt;artifactId&gt;freetts&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nHope this will be helpful.","title":"Exception with Freetts when using kevin or mbrola","body":"<p>I know i am posting it little late, but this may help someone. I tried with both  kevin and mbrola, and it worked for me. Please find the code below.</p>\n\n<pre><code>    package com.mani.texttospeech;\n\nimport java.beans.PropertyVetoException;\nimport java.util.Locale;\n\nimport javax.speech.AudioException;\nimport javax.speech.Central;\nimport javax.speech.EngineException;\nimport javax.speech.EngineStateError;\nimport javax.speech.synthesis.Synthesizer;\nimport javax.speech.synthesis.SynthesizerModeDesc;\nimport javax.speech.synthesis.Voice;\n\n/**\n *\n * @author Manindar\n */\npublic class SpeechUtils {\n\n    SynthesizerModeDesc desc;\n    Synthesizer synthesizer;\n    Voice voice;\n\n    public void init(String voiceName) throws EngineException, AudioException, EngineStateError, PropertyVetoException {\n        if (desc == null) {\n            System.setProperty(\"freetts.voices\", \"com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory\");\n            desc = new SynthesizerModeDesc(Locale.US);\n            Central.registerEngineCentral(\"com.sun.speech.freetts.jsapi.FreeTTSEngineCentral\");\n            synthesizer = Central.createSynthesizer(desc);\n            synthesizer.allocate();\n            synthesizer.resume();\n            SynthesizerModeDesc smd = (SynthesizerModeDesc) synthesizer.getEngineModeDesc();\n            Voice[] voices = smd.getVoices();\n            for (Voice voice1 : voices) {\n                if (voice1.getName().equals(voiceName)) {\n                    voice = voice1;\n                    break;\n                }\n            }\n            synthesizer.getSynthesizerProperties().setVoice(voice);\n        }\n    }\n\n    public void terminate() throws EngineException, EngineStateError {\n        synthesizer.deallocate();\n    }\n\n    public void doSpeak(String speakText) throws EngineException, AudioException, IllegalArgumentException, InterruptedException {\n        synthesizer.speakPlainText(speakText, null);\n        synthesizer.waitEngineState(Synthesizer.QUEUE_EMPTY);\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpeechUtils su = new SpeechUtils();\n        su.init(\"kevin16\");\n//        su.init(\"kevin\");\n//        su.init(\"mbrola_us1\");\n//        su.init(\"mbrola_us2\");\n//        su.init(\"mbrola_us3\");\n        // high quality\n        su.doSpeak(\"Hi this is Manindar. Welcome to audio world.\");\n        su.terminate();\n    }\n}\n</code></pre>\n\n<p>And add the below dependencies to your <strong>pom.xml</strong> file.</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.sociaal&lt;/groupId&gt;\n            &lt;artifactId&gt;freetts&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>Hope this will be helpful.</p>\n"}],"owner":{"account_id":65097,"reputation":2357,"user_id":191799,"accept_rate":58,"display_name":"manugupt1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11272,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1659362619,"creation_date":1269173158,"question_id":2486985,"body_markdown":"I am trying to run a program using freetts. I am able to compile the program however I am not able to use **kevin** or **mbrola** voices I get the follwing output message at the end\r\n\r\n&gt; System property &quot;mbrola.base&quot; is undefined.  Will not use MBROLA voices.  \r\n&gt; LINE UNAVAILABLE: Format is pcm_signed 16000.0 Hz 16 bits 1 channel big endian\r\n\r\n\r\n    import javax.speech.*;\r\n    import javax.speech.synthesis.*;\r\n    import java.util.*;\r\n    \r\n    class freetts {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry{ \r\n    \t\t\tCalendar calendar = new GregorianCalendar();\r\n    \t\t\tString sayTime = &quot;It is &quot; + calendar.get(Calendar.HOUR) + &quot; &quot; + calendar.get(Calendar.MINUTE) + &quot; &quot; + (calendar.get(Calendar.AM_PM)==0 ? &quot;AM&quot;:&quot;PM&quot;);\r\n    \t\t\tSynthesizer synth = Central.createSynthesizer(null);\r\n    \t\t\tsynth.allocate();\r\n    \t\t\tsynth.resume();\r\n    \t\t\tsynth.speakPlainText(sayTime, null);\r\n    \t\t\tsynth.waitEngineState(Synthesizer.QUEUE_EMPTY);\r\n    \t\t\tsynth.deallocate();\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Exception with Freetts when using kevin or mbrola","body":"<p>I am trying to run a program using freetts. I am able to compile the program however I am not able to use <strong>kevin</strong> or <strong>mbrola</strong> voices I get the follwing output message at the end</p>\n\n<blockquote>\n  <p>System property \"mbrola.base\" is undefined.  Will not use MBROLA voices.<br>\n  LINE UNAVAILABLE: Format is pcm_signed 16000.0 Hz 16 bits 1 channel big endian</p>\n</blockquote>\n\n<pre><code>import javax.speech.*;\nimport javax.speech.synthesis.*;\nimport java.util.*;\n\nclass freetts {\n\n    public static void main(String[] args) {\n        try{ \n            Calendar calendar = new GregorianCalendar();\n            String sayTime = \"It is \" + calendar.get(Calendar.HOUR) + \" \" + calendar.get(Calendar.MINUTE) + \" \" + (calendar.get(Calendar.AM_PM)==0 ? \"AM\":\"PM\");\n            Synthesizer synth = Central.createSynthesizer(null);\n            synth.allocate();\n            synth.resume();\n            synth.speakPlainText(sayTime, null);\n            synth.waitEngineState(Synthesizer.QUEUE_EMPTY);\n            synth.deallocate();\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8850,"page":1142,"page_size":100}
